<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.models.fasttext Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models.html">models</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models_1_1fasttext.html">fasttext</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">gensim.models.fasttext Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1fasttext_1_1_fast_text.html">FastText</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1fasttext_1_1_fast_text_trainables.html">FastTextTrainables</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1fasttext_1_1_fast_text_vocab.html">FastTextVocab</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a09716bb284ef832300895fca46380b3a" id="r_a09716bb284ef832300895fca46380b3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1fasttext.html#a09716bb284ef832300895fca46380b3a">_pad_ones</a> (m, new_shape)</td></tr>
<tr class="separator:a09716bb284ef832300895fca46380b3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9662f3a6120dfa412d142fe87a49561a" id="r_a9662f3a6120dfa412d142fe87a49561a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1fasttext.html#a9662f3a6120dfa412d142fe87a49561a">load_facebook_model</a> (path, encoding='utf-8')</td></tr>
<tr class="separator:a9662f3a6120dfa412d142fe87a49561a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f60968669b7c2beecb96155e7b849e" id="r_a37f60968669b7c2beecb96155e7b849e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1fasttext.html#a37f60968669b7c2beecb96155e7b849e">load_facebook_vectors</a> (path, encoding='utf-8')</td></tr>
<tr class="separator:a37f60968669b7c2beecb96155e7b849e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc1d6b7c7365c26ca1eab49fbc093082" id="r_afc1d6b7c7365c26ca1eab49fbc093082"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1fasttext.html#afc1d6b7c7365c26ca1eab49fbc093082">_load_fasttext_format</a> (model_file, encoding='utf-8', full_model=True)</td></tr>
<tr class="separator:afc1d6b7c7365c26ca1eab49fbc093082"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d80ea129ffea7118e9198e5ffd263ca" id="r_a4d80ea129ffea7118e9198e5ffd263ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1fasttext.html#a4d80ea129ffea7118e9198e5ffd263ca">_check_model</a> (m)</td></tr>
<tr class="separator:a4d80ea129ffea7118e9198e5ffd263ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5037a62d98bb911c3657b49aec144a1c" id="r_a5037a62d98bb911c3657b49aec144a1c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1fasttext.html#a5037a62d98bb911c3657b49aec144a1c">save_facebook_model</a> (model, path, encoding=&quot;utf-8&quot;, lr_update_rate=100, word_ngrams=1)</td></tr>
<tr class="separator:a5037a62d98bb911c3657b49aec144a1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9ceaa41b3be0e429bbb66ca925cffc6a" id="r_a9ceaa41b3be0e429bbb66ca925cffc6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1fasttext.html#a9ceaa41b3be0e429bbb66ca925cffc6a">logger</a> = logging.getLogger(__name__)</td></tr>
<tr class="separator:a9ceaa41b3be0e429bbb66ca925cffc6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Learn word representations via Fasttext: `Enriching Word Vectors with Subword Information
&lt;https://arxiv.org/abs/1607.04606&gt;`_.

This module allows training word embeddings from a training corpus with the additional ability to obtain word vectors
for out-of-vocabulary words.

This module contains a fast native C implementation of Fasttext with Python interfaces. It is **not** only a wrapper
around Facebook's implementation.

This module supports loading models trained with Facebook's fastText implementation.
It also supports continuing training from such models.

For a tutorial see `this notebook
&lt;https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/FastText_Tutorial.ipynb&gt;`_.

**Make sure you have a C compiler before installing Gensim, to use the optimized (compiled) Fasttext
training routines.**

Usage examples
--------------

Initialize and train a model:

.. sourcecode:: pycon

    &gt;&gt;&gt; # from gensim.models import FastText  # FIXME: why does Sphinx dislike this import?
    &gt;&gt;&gt; from gensim.test.utils import common_texts  # some example sentences
    &gt;&gt;&gt;
    &gt;&gt;&gt; print(common_texts[0])
    ['human', 'interface', 'computer']
    &gt;&gt;&gt; print(len(common_texts))
    9
    &gt;&gt;&gt; model = FastText(size=4, window=3, min_count=1)  # instantiate
    &gt;&gt;&gt; model.build_vocab(sentences=common_texts)
    &gt;&gt;&gt; model.train(sentences=common_texts, total_examples=len(common_texts), epochs=10)  # train

Once you have a model, you can access its keyed vectors via the `model.wv` attributes.
The keyed vectors instance is quite powerful: it can perform a wide range of NLP tasks.
For a full list of examples, see :class:`~gensim.models.keyedvectors.FastTextKeyedVectors`.

You can also pass all the above parameters to the constructor to do everything
in a single line:

.. sourcecode:: pycon

    &gt;&gt;&gt; model2 = FastText(size=4, window=3, min_count=1, sentences=common_texts, iter=10)

.. Important::
    This style of initialize-and-train in a single line is **deprecated**. We include it here
    for backward compatibility only.

    Please use the initialize-`build_vocab`-`train` pattern above instead, including using `epochs`
    instead of `iter`.
    The motivation is to simplify the API and resolve naming inconsistencies,
    e.g. the iter parameter to the constructor is called epochs in the train function.

The two models above are instantiated differently, but behave identically.
For example, we can compare the embeddings they've calculated for the word "computer":

.. sourcecode:: pycon

    &gt;&gt;&gt; import numpy as np
    &gt;&gt;&gt;
    &gt;&gt;&gt; np.allclose(model.wv['computer'], model2.wv['computer'])
    True


In the above examples, we trained the model from sentences (lists of words) loaded into memory.
This is OK for smaller datasets, but for larger datasets, we recommend streaming the file,
for example from disk or the network.
In Gensim, we refer to such datasets as "corpora" (singular "corpus"), and keep them
in the format described in :class:`~gensim.models.word2vec.LineSentence`.
Passing a corpus is simple:

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.test.utils import datapath
    &gt;&gt;&gt;
    &gt;&gt;&gt; corpus_file = datapath('lee_background.cor')  # absolute path to corpus
    &gt;&gt;&gt; model3 = FastText(size=4, window=3, min_count=1)
    &gt;&gt;&gt; model3.build_vocab(corpus_file=corpus_file)  # scan over corpus to build the vocabulary
    &gt;&gt;&gt;
    &gt;&gt;&gt; total_words = model3.corpus_total_words  # number of words in the corpus
    &gt;&gt;&gt; model3.train(corpus_file=corpus_file, total_words=total_words, epochs=5)

The model needs the `total_words` parameter in order to
manage the training rate (alpha) correctly, and to give accurate progress estimates.
The above example relies on an implementation detail: the
:meth:`~gensim.models.fasttext.FastText.build_vocab` method
sets the `corpus_total_words` (and also `corpus_count`) model attributes.
You may calculate them by scanning over the corpus yourself, too.

If you have a corpus in a different format, then you can use it by wrapping it
in an `iterator &lt;https://wiki.python.org/moin/Iterator&gt;`_.
Your iterator should yield a list of strings each time, where each string should be a separate word.
Gensim will take care of the rest:

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.utils import tokenize
    &gt;&gt;&gt; from gensim import utils
    &gt;&gt;&gt;
    &gt;&gt;&gt;
    &gt;&gt;&gt; class MyIter(object):
    ...     def __iter__(self):
    ...         path = datapath('crime-and-punishment.txt')
    ...         with utils.open(path, 'r', encoding='utf-8') as fin:
    ...             for line in fin:
    ...                 yield list(tokenize(line))
    &gt;&gt;&gt;
    &gt;&gt;&gt;
    &gt;&gt;&gt; model4 = FastText(size=4, window=3, min_count=1)
    &gt;&gt;&gt; model4.build_vocab(sentences=MyIter())
    &gt;&gt;&gt; total_examples = model4.corpus_count
    &gt;&gt;&gt; model4.train(sentences=MyIter(), total_examples=total_examples, epochs=5)

Persist a model to disk with:

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.test.utils import get_tmpfile
    &gt;&gt;&gt;
    &gt;&gt;&gt; fname = get_tmpfile("fasttext.model")
    &gt;&gt;&gt;
    &gt;&gt;&gt; model.save(fname)
    &gt;&gt;&gt; model = FastText.load(fname)

Once loaded, such models behave identically to those created from scratch.
For example, you can continue training the loaded model:

.. sourcecode:: pycon

    &gt;&gt;&gt; import numpy as np
    &gt;&gt;&gt;
    &gt;&gt;&gt; 'computation' in model.wv.vocab  # New word, currently out of vocab
    False
    &gt;&gt;&gt; old_vector = np.copy(model.wv['computation'])  # Grab the existing vector
    &gt;&gt;&gt; new_sentences = [
    ...     ['computer', 'aided', 'design'],
    ...     ['computer', 'science'],
    ...     ['computational', 'complexity'],
    ...     ['military', 'supercomputer'],
    ...     ['central', 'processing', 'unit'],
    ...     ['onboard', 'car', 'computer'],
    ... ]
    &gt;&gt;&gt;
    &gt;&gt;&gt; model.build_vocab(new_sentences, update=True)  # Update the vocabulary
    &gt;&gt;&gt; model.train(new_sentences, total_examples=len(new_sentences), epochs=model.epochs)
    &gt;&gt;&gt;
    &gt;&gt;&gt; new_vector = model.wv['computation']
    &gt;&gt;&gt; np.allclose(old_vector, new_vector, atol=1e-4)  # Vector has changed, model has learnt something
    False
    &gt;&gt;&gt; 'computation' in model.wv.vocab  # Word is still out of vocab
    False

.. Important::
    Be sure to call the :meth:`~gensim.models.fasttext.FastText.build_vocab`
    method with `update=True` before the :meth:`~gensim.models.fasttext.FastText.train` method
    when continuing training.  Without this call, previously unseen terms
    will not be added to the vocabulary.

You can also load models trained with Facebook's fastText implementation:

.. sourcecode:: pycon

    &gt;&gt;&gt; cap_path = datapath("crime-and-punishment.bin")
    &gt;&gt;&gt; fb_model = load_facebook_model(cap_path)

Once loaded, such models behave identically to those trained from scratch.
You may continue training them on new data:

.. sourcecode:: pycon

    &gt;&gt;&gt; 'computer' in fb_model.wv.vocab  # New word, currently out of vocab
    False
    &gt;&gt;&gt; old_computer = np.copy(fb_model.wv['computer'])  # Calculate current vectors
    &gt;&gt;&gt; fb_model.build_vocab(new_sentences, update=True)
    &gt;&gt;&gt; fb_model.train(new_sentences, total_examples=len(new_sentences), epochs=model.epochs)
    &gt;&gt;&gt; new_computer = fb_model.wv['computer']
    &gt;&gt;&gt; np.allclose(old_computer, new_computer, atol=1e-4)  # Vector has changed, model has learnt something
    False
    &gt;&gt;&gt; 'computer' in fb_model.wv.vocab  # New word is now in the vocabulary
    True

If you do not intend to continue training the model, consider using the
:func:`gensim.models.fasttext.load_facebook_vectors` function instead.
That function only loads the word embeddings (keyed vectors), consuming much less CPU and RAM:

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.test.utils import datapath
    &gt;&gt;&gt;
    &gt;&gt;&gt; cap_path = datapath("crime-and-punishment.bin")
    &gt;&gt;&gt; wv = load_facebook_vectors(cap_path)
    &gt;&gt;&gt;
    &gt;&gt;&gt; 'landlord' in wv.vocab  # Word is out of vocabulary
    False
    &gt;&gt;&gt; oov_vector = wv['landlord']
    &gt;&gt;&gt;
    &gt;&gt;&gt; 'landlady' in wv.vocab  # Word is in the vocabulary
    True
    &gt;&gt;&gt; iv_vector = wv['landlady']

Retrieve word-vector for vocab and out-of-vocab word:

.. sourcecode:: pycon

    &gt;&gt;&gt; existent_word = "computer"
    &gt;&gt;&gt; existent_word in model.wv.vocab
    True
    &gt;&gt;&gt; computer_vec = model.wv[existent_word]  # numpy vector of a word
    &gt;&gt;&gt;
    &gt;&gt;&gt; oov_word = "graph-out-of-vocab"
    &gt;&gt;&gt; oov_word in model.wv.vocab
    False
    &gt;&gt;&gt; oov_vec = model.wv[oov_word]  # numpy vector for OOV word

You can perform various NLP word tasks with the model, some of them are already built-in:

.. sourcecode:: pycon

    &gt;&gt;&gt; similarities = model.wv.most_similar(positive=['computer', 'human'], negative=['interface'])
    &gt;&gt;&gt; most_similar = similarities[0]
    &gt;&gt;&gt;
    &gt;&gt;&gt; similarities = model.wv.most_similar_cosmul(positive=['computer', 'human'], negative=['interface'])
    &gt;&gt;&gt; most_similar = similarities[0]
    &gt;&gt;&gt;
    &gt;&gt;&gt; not_matching = model.wv.doesnt_match("human computer interface tree".split())
    &gt;&gt;&gt;
    &gt;&gt;&gt; sim_score = model.wv.similarity('computer', 'human')

Correlation with human opinion on word similarity:

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.test.utils import datapath
    &gt;&gt;&gt;
    &gt;&gt;&gt; similarities = model.wv.evaluate_word_pairs(datapath('wordsim353.tsv'))

And on word analogies:

.. sourcecode:: pycon

    &gt;&gt;&gt; analogies_result = model.wv.evaluate_word_analogies(datapath('questions-words.txt'))

Implementation Notes
--------------------

These notes may help developers navigate our fastText implementation.
The implementation is split across several submodules:

- :mod:`gensim.models.fasttext`: This module. Contains FastText-specific functionality only.
- :mod:`gensim.models.keyedvectors`: Implements both generic and FastText-specific functionality.
- :mod:`gensim.models.word2vec`: Contains implementations for the vocabulary
  and the trainables for FastText.
- :mod:`gensim.models.base_any2vec`: Contains implementations for the base.
  classes, including functionality such as callbacks, logging.
- :mod:`gensim.models.utils_any2vec`: Wrapper over Cython extensions.
- :mod:`gensim.utils`: Implements model I/O (loading and saving).

Our implementation relies heavily on inheritance.
It consists of several important classes:

- :class:`~gensim.models.word2vec.Word2VecVocab`: the vocabulary.
  Keeps track of all the unique words, sometimes discarding the extremely rare ones.
  This is sometimes called the Dictionary within Gensim.
- :class:`~gensim.models.keyedvectors.FastTextKeyedVectors`: the vectors.
  Once training is complete, this class is sufficient for calculating embeddings.
- :class:`~gensim.models.fasttext.FastTextTrainables`: the underlying neural network.
  The implementation uses this class to *learn* the word embeddings.
- :class:`~gensim.models.fasttext.FastText`: ties everything together.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a4d80ea129ffea7118e9198e5ffd263ca" name="a4d80ea129ffea7118e9198e5ffd263ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d80ea129ffea7118e9198e5ffd263ca">&#9670;&#160;</a></span>_check_model()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.fasttext._check_model </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1269</span><span class="keyword">def </span>_check_model(m):</div>
<div class="line"><span class="lineno"> 1270</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1271</span>    <span class="comment"># These checks only make sense after everything has been completely initialized.</span></div>
<div class="line"><span class="lineno"> 1272</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1273</span>    <span class="keyword">assert</span> m.wv.vector_size == m.wv.vectors_ngrams.shape[1], (</div>
<div class="line"><span class="lineno"> 1274</span>        <span class="stringliteral">&#39;mismatch between vector size in model params ({}) and model vectors ({})&#39;</span></div>
<div class="line"><span class="lineno"> 1275</span>        .format(m.wv.vector_size, m.wv.vectors_ngrams)</div>
<div class="line"><span class="lineno"> 1276</span>    )</div>
<div class="line"><span class="lineno"> 1277</span> </div>
<div class="line"><span class="lineno"> 1278</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1279</span>        syn1neg = m.trainables.syn1neg</div>
<div class="line"><span class="lineno"> 1280</span>    <span class="keywordflow">except</span> AttributeError:</div>
<div class="line"><span class="lineno"> 1281</span>        syn1neg = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1282</span> </div>
<div class="line"><span class="lineno"> 1283</span>    <span class="keywordflow">if</span> syn1neg <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1284</span>        <span class="keyword">assert</span> m.wv.vector_size == m.trainables.syn1neg.shape[1], (</div>
<div class="line"><span class="lineno"> 1285</span>            <span class="stringliteral">&#39;mismatch between vector size in model params ({}) and trainables ({})&#39;</span></div>
<div class="line"><span class="lineno"> 1286</span>            .format(m.wv.vector_size, m.wv.vectors_ngrams)</div>
<div class="line"><span class="lineno"> 1287</span>        )</div>
<div class="line"><span class="lineno"> 1288</span> </div>
<div class="line"><span class="lineno"> 1289</span>    <span class="keyword">assert</span> len(m.wv.vocab) == m.vocabulary.nwords, (</div>
<div class="line"><span class="lineno"> 1290</span>        <span class="stringliteral">&#39;mismatch between final vocab size ({} words), &#39;</span></div>
<div class="line"><span class="lineno"> 1291</span>        <span class="stringliteral">&#39;and expected number of words ({} words)&#39;</span>.format(len(m.wv.vocab), m.vocabulary.nwords)</div>
<div class="line"><span class="lineno"> 1292</span>    )</div>
<div class="line"><span class="lineno"> 1293</span> </div>
<div class="line"><span class="lineno"> 1294</span>    <span class="keywordflow">if</span> len(m.wv.vocab) != m.vocabulary.vocab_size:</div>
<div class="line"><span class="lineno"> 1295</span>        <span class="comment"># expecting to log this warning only for pretrained french vector, wiki.fr</span></div>
<div class="line"><span class="lineno"> 1296</span>        logger.warning(</div>
<div class="line"><span class="lineno"> 1297</span>            <span class="stringliteral">&quot;mismatch between final vocab size (%s words), and expected vocab size (%s words)&quot;</span>,</div>
<div class="line"><span class="lineno"> 1298</span>            len(m.wv.vocab), m.vocabulary.vocab_size</div>
<div class="line"><span class="lineno"> 1299</span>        )</div>
<div class="line"><span class="lineno"> 1300</span> </div>
<div class="line"><span class="lineno"> 1301</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afc1d6b7c7365c26ca1eab49fbc093082" name="afc1d6b7c7365c26ca1eab49fbc093082"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc1d6b7c7365c26ca1eab49fbc093082">&#9670;&#160;</a></span>_load_fasttext_format()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.fasttext._load_fasttext_format </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encoding</em> = <code>'utf-8'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>full_model</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Load the input-hidden weight matrix from Facebook's native fasttext `.bin` output files.

Parameters
----------
model_file : str
    Full path to the FastText model file.
encoding : str, optional
    Specifies the file encoding.
full_model : boolean, optional
    If False, skips loading the hidden output matrix. This saves a fair bit
    of CPU time and RAM, but prevents training continuation.

Returns
-------
:class: `~gensim.models.fasttext.FastText`
    The loaded model.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1202</span><span class="keyword">def </span>_load_fasttext_format(model_file, encoding=&#39;utf-8&#39;, full_model=True):</div>
<div class="line"><span class="lineno"> 1203</span>    <span class="stringliteral">&quot;&quot;&quot;Load the input-hidden weight matrix from Facebook&#39;s native fasttext `.bin` output files.</span></div>
<div class="line"><span class="lineno"> 1204</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1205</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1206</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1207</span><span class="stringliteral">    model_file : str</span></div>
<div class="line"><span class="lineno"> 1208</span><span class="stringliteral">        Full path to the FastText model file.</span></div>
<div class="line"><span class="lineno"> 1209</span><span class="stringliteral">    encoding : str, optional</span></div>
<div class="line"><span class="lineno"> 1210</span><span class="stringliteral">        Specifies the file encoding.</span></div>
<div class="line"><span class="lineno"> 1211</span><span class="stringliteral">    full_model : boolean, optional</span></div>
<div class="line"><span class="lineno"> 1212</span><span class="stringliteral">        If False, skips loading the hidden output matrix. This saves a fair bit</span></div>
<div class="line"><span class="lineno"> 1213</span><span class="stringliteral">        of CPU time and RAM, but prevents training continuation.</span></div>
<div class="line"><span class="lineno"> 1214</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1215</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1216</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1217</span><span class="stringliteral">    :class: `~gensim.models.fasttext.FastText`</span></div>
<div class="line"><span class="lineno"> 1218</span><span class="stringliteral">        The loaded model.</span></div>
<div class="line"><span class="lineno"> 1219</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1220</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1221</span>    <span class="keyword">with</span> gensim.utils.open(model_file, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> fin:</div>
<div class="line"><span class="lineno"> 1222</span>        m = <a class="code hl_function" href="namespacegensim_1_1models_1_1__fasttext__bin.html#a109f9891682ea57e01702a4db738574e">gensim.models._fasttext_bin.load</a>(fin, encoding=encoding, full_model=full_model)</div>
<div class="line"><span class="lineno"> 1223</span> </div>
<div class="line"><span class="lineno"> 1224</span>    model = FastText(</div>
<div class="line"><span class="lineno"> 1225</span>        size=m.dim,</div>
<div class="line"><span class="lineno"> 1226</span>        window=m.ws,</div>
<div class="line"><span class="lineno"> 1227</span>        iter=m.epoch,</div>
<div class="line"><span class="lineno"> 1228</span>        negative=m.neg,</div>
<div class="line"><span class="lineno"> 1229</span>        hs=int(m.loss == 1),</div>
<div class="line"><span class="lineno"> 1230</span>        sg=int(m.model == 2),</div>
<div class="line"><span class="lineno"> 1231</span>        bucket=m.bucket,</div>
<div class="line"><span class="lineno"> 1232</span>        min_count=m.min_count,</div>
<div class="line"><span class="lineno"> 1233</span>        sample=m.t,</div>
<div class="line"><span class="lineno"> 1234</span>        min_n=m.minn,</div>
<div class="line"><span class="lineno"> 1235</span>        max_n=m.maxn,</div>
<div class="line"><span class="lineno"> 1236</span>    )</div>
<div class="line"><span class="lineno"> 1237</span>    model.corpus_total_words = m.ntokens</div>
<div class="line"><span class="lineno"> 1238</span>    model.vocabulary.raw_vocab = m.raw_vocab</div>
<div class="line"><span class="lineno"> 1239</span>    model.vocabulary.nwords = m.nwords</div>
<div class="line"><span class="lineno"> 1240</span>    model.vocabulary.vocab_size = m.vocab_size</div>
<div class="line"><span class="lineno"> 1241</span> </div>
<div class="line"><span class="lineno"> 1242</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1243</span>    <span class="comment"># This is here to fix https://github.com/RaRe-Technologies/gensim/pull/2373.</span></div>
<div class="line"><span class="lineno"> 1244</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1245</span>    <span class="comment"># We explicitly set min_count=1 regardless of the model&#39;s parameters to</span></div>
<div class="line"><span class="lineno"> 1246</span>    <span class="comment"># ignore the trim rule when building the vocabulary.  We do this in order</span></div>
<div class="line"><span class="lineno"> 1247</span>    <span class="comment"># to support loading native models that were trained with pretrained vectors.</span></div>
<div class="line"><span class="lineno"> 1248</span>    <span class="comment"># Such models will contain vectors for _all_ encountered words, not only</span></div>
<div class="line"><span class="lineno"> 1249</span>    <span class="comment"># those occurring more frequently than min_count.</span></div>
<div class="line"><span class="lineno"> 1250</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1251</span>    <span class="comment"># Native models trained _without_ pretrained vectors already contain the</span></div>
<div class="line"><span class="lineno"> 1252</span>    <span class="comment"># trimmed raw_vocab, so this change does not affect them.</span></div>
<div class="line"><span class="lineno"> 1253</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1254</span>    model.vocabulary.prepare_vocab(</div>
<div class="line"><span class="lineno"> 1255</span>        model.hs, model.negative, model.wv,</div>
<div class="line"><span class="lineno"> 1256</span>        update=<span class="keyword">True</span>, min_count=1,</div>
<div class="line"><span class="lineno"> 1257</span>    )</div>
<div class="line"><span class="lineno"> 1258</span> </div>
<div class="line"><span class="lineno"> 1259</span>    model.num_original_vectors = m.vectors_ngrams.shape[0]</div>
<div class="line"><span class="lineno"> 1260</span> </div>
<div class="line"><span class="lineno"> 1261</span>    model.wv.init_post_load(m.vectors_ngrams)</div>
<div class="line"><span class="lineno"> 1262</span>    model.trainables.init_post_load(model, m.hidden_output)</div>
<div class="line"><span class="lineno"> 1263</span>    _check_model(model)</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>    logger.info(<span class="stringliteral">&quot;loaded %s weight matrix for fastText model from %s&quot;</span>, m.vectors_ngrams.shape, fin.name)</div>
<div class="line"><span class="lineno"> 1266</span>    <span class="keywordflow">return</span> model</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span> </div>
<div class="ttc" id="anamespacegensim_1_1models_1_1__fasttext__bin_html_a109f9891682ea57e01702a4db738574e"><div class="ttname"><a href="namespacegensim_1_1models_1_1__fasttext__bin.html#a109f9891682ea57e01702a4db738574e">gensim.models._fasttext_bin.load</a></div><div class="ttdeci">load(fin, encoding='utf-8', full_model=True)</div><div class="ttdef"><b>Definition</b> _fasttext_bin.py:310</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a09716bb284ef832300895fca46380b3a" name="a09716bb284ef832300895fca46380b3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09716bb284ef832300895fca46380b3a">&#9670;&#160;</a></span>_pad_ones()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.fasttext._pad_ones </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new_shape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Pad a matrix with additional rows filled with ones.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1069</span><span class="keyword">def </span>_pad_ones(m, new_shape):</div>
<div class="line"><span class="lineno"> 1070</span>    <span class="stringliteral">&quot;&quot;&quot;Pad a matrix with additional rows filled with ones.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1071</span>    <span class="keyword">assert</span> m.shape[0] &lt;= new_shape[0], <span class="stringliteral">&#39;the new number of rows must be greater&#39;</span></div>
<div class="line"><span class="lineno"> 1072</span>    <span class="keyword">assert</span> m.shape[1] == new_shape[1], <span class="stringliteral">&#39;the number of columns must match&#39;</span></div>
<div class="line"><span class="lineno"> 1073</span>    new_rows = new_shape[0] - m.shape[0]</div>
<div class="line"><span class="lineno"> 1074</span>    <span class="keywordflow">if</span> new_rows == 0:</div>
<div class="line"><span class="lineno"> 1075</span>        <span class="keywordflow">return</span> m</div>
<div class="line"><span class="lineno"> 1076</span>    suffix = ones((new_rows, m.shape[1]), dtype=REAL)</div>
<div class="line"><span class="lineno"> 1077</span>    <span class="keywordflow">return</span> vstack([m, suffix])</div>
<div class="line"><span class="lineno"> 1078</span> </div>
<div class="line"><span class="lineno"> 1079</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9662f3a6120dfa412d142fe87a49561a" name="a9662f3a6120dfa412d142fe87a49561a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9662f3a6120dfa412d142fe87a49561a">&#9670;&#160;</a></span>load_facebook_model()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.fasttext.load_facebook_model </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encoding</em> = <code>'utf-8'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load the input-hidden weight matrix from Facebook's native fasttext `.bin` output file.

Notes
------
Facebook provides both `.vec` and `.bin` files with their modules.
The former contains human-readable vectors.
The latter contains machine-readable vectors along with other model parameters.
This function requires you to **provide the full path to the .bin file**.
It effectively ignores the `.vec` output file, since it is redundant.

This function uses the smart_open library to open the path.
The path may be on a remote host (e.g. HTTP, S3, etc).
It may also be gzip or bz2 compressed (i.e. end in `.bin.gz` or `.bin.bz2`).
For details, see `&lt;https://github.com/RaRe-Technologies/smart_open&gt;`__.

Parameters
----------
model_file : str
    Path to the FastText output files.
    FastText outputs two model files - `/path/to/model.vec` and `/path/to/model.bin`
    Expected value for this example: `/path/to/model` or `/path/to/model.bin`,
    as Gensim requires only `.bin` file to the load entire fastText model.
encoding : str, optional
    Specifies the file encoding.

Examples
--------

Load, infer, continue training:

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.test.utils import datapath
    &gt;&gt;&gt;
    &gt;&gt;&gt; cap_path = datapath("crime-and-punishment.bin")
    &gt;&gt;&gt; fb_model = load_facebook_model(cap_path)
    &gt;&gt;&gt;
    &gt;&gt;&gt; 'landlord' in fb_model.wv.vocab  # Word is out of vocabulary
    False
    &gt;&gt;&gt; oov_term = fb_model.wv['landlord']
    &gt;&gt;&gt;
    &gt;&gt;&gt; 'landlady' in fb_model.wv.vocab  # Word is in the vocabulary
    True
    &gt;&gt;&gt; iv_term = fb_model.wv['landlady']
    &gt;&gt;&gt;
    &gt;&gt;&gt; new_sent = [['lord', 'of', 'the', 'rings'], ['lord', 'of', 'the', 'flies']]
    &gt;&gt;&gt; fb_model.build_vocab(new_sent, update=True)
    &gt;&gt;&gt; fb_model.train(sentences=new_sent, total_examples=len(new_sent), epochs=5)

Returns
-------
gensim.models.fasttext.FastText
    The loaded model.

See Also
--------
:func:`~gensim.models.fasttext.load_facebook_vectors` loads
the word embeddings only.  Its faster, but does not enable you to continue
training.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1080</span><span class="keyword">def </span>load_facebook_model(path, encoding=&#39;utf-8&#39;):</div>
<div class="line"><span class="lineno"> 1081</span>    <span class="stringliteral">&quot;&quot;&quot;Load the input-hidden weight matrix from Facebook&#39;s native fasttext `.bin` output file.</span></div>
<div class="line"><span class="lineno"> 1082</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1083</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 1084</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1085</span><span class="stringliteral">    Facebook provides both `.vec` and `.bin` files with their modules.</span></div>
<div class="line"><span class="lineno"> 1086</span><span class="stringliteral">    The former contains human-readable vectors.</span></div>
<div class="line"><span class="lineno"> 1087</span><span class="stringliteral">    The latter contains machine-readable vectors along with other model parameters.</span></div>
<div class="line"><span class="lineno"> 1088</span><span class="stringliteral">    This function requires you to **provide the full path to the .bin file**.</span></div>
<div class="line"><span class="lineno"> 1089</span><span class="stringliteral">    It effectively ignores the `.vec` output file, since it is redundant.</span></div>
<div class="line"><span class="lineno"> 1090</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1091</span><span class="stringliteral">    This function uses the smart_open library to open the path.</span></div>
<div class="line"><span class="lineno"> 1092</span><span class="stringliteral">    The path may be on a remote host (e.g. HTTP, S3, etc).</span></div>
<div class="line"><span class="lineno"> 1093</span><span class="stringliteral">    It may also be gzip or bz2 compressed (i.e. end in `.bin.gz` or `.bin.bz2`).</span></div>
<div class="line"><span class="lineno"> 1094</span><span class="stringliteral">    For details, see `&lt;https://github.com/RaRe-Technologies/smart_open&gt;`__.</span></div>
<div class="line"><span class="lineno"> 1095</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1096</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1097</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1098</span><span class="stringliteral">    model_file : str</span></div>
<div class="line"><span class="lineno"> 1099</span><span class="stringliteral">        Path to the FastText output files.</span></div>
<div class="line"><span class="lineno"> 1100</span><span class="stringliteral">        FastText outputs two model files - `/path/to/model.vec` and `/path/to/model.bin`</span></div>
<div class="line"><span class="lineno"> 1101</span><span class="stringliteral">        Expected value for this example: `/path/to/model` or `/path/to/model.bin`,</span></div>
<div class="line"><span class="lineno"> 1102</span><span class="stringliteral">        as Gensim requires only `.bin` file to the load entire fastText model.</span></div>
<div class="line"><span class="lineno"> 1103</span><span class="stringliteral">    encoding : str, optional</span></div>
<div class="line"><span class="lineno"> 1104</span><span class="stringliteral">        Specifies the file encoding.</span></div>
<div class="line"><span class="lineno"> 1105</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1106</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1107</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1108</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1109</span><span class="stringliteral">    Load, infer, continue training:</span></div>
<div class="line"><span class="lineno"> 1110</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1111</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno"> 1112</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1113</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.test.utils import datapath</span></div>
<div class="line"><span class="lineno"> 1114</span><span class="stringliteral">        &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno"> 1115</span><span class="stringliteral">        &gt;&gt;&gt; cap_path = datapath(&quot;crime-and-punishment.bin&quot;)</span></div>
<div class="line"><span class="lineno"> 1116</span><span class="stringliteral">        &gt;&gt;&gt; fb_model = load_facebook_model(cap_path)</span></div>
<div class="line"><span class="lineno"> 1117</span><span class="stringliteral">        &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno"> 1118</span><span class="stringliteral">        &gt;&gt;&gt; &#39;landlord&#39; in fb_model.wv.vocab  # Word is out of vocabulary</span></div>
<div class="line"><span class="lineno"> 1119</span><span class="stringliteral">        False</span></div>
<div class="line"><span class="lineno"> 1120</span><span class="stringliteral">        &gt;&gt;&gt; oov_term = fb_model.wv[&#39;landlord&#39;]</span></div>
<div class="line"><span class="lineno"> 1121</span><span class="stringliteral">        &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno"> 1122</span><span class="stringliteral">        &gt;&gt;&gt; &#39;landlady&#39; in fb_model.wv.vocab  # Word is in the vocabulary</span></div>
<div class="line"><span class="lineno"> 1123</span><span class="stringliteral">        True</span></div>
<div class="line"><span class="lineno"> 1124</span><span class="stringliteral">        &gt;&gt;&gt; iv_term = fb_model.wv[&#39;landlady&#39;]</span></div>
<div class="line"><span class="lineno"> 1125</span><span class="stringliteral">        &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno"> 1126</span><span class="stringliteral">        &gt;&gt;&gt; new_sent = [[&#39;lord&#39;, &#39;of&#39;, &#39;the&#39;, &#39;rings&#39;], [&#39;lord&#39;, &#39;of&#39;, &#39;the&#39;, &#39;flies&#39;]]</span></div>
<div class="line"><span class="lineno"> 1127</span><span class="stringliteral">        &gt;&gt;&gt; fb_model.build_vocab(new_sent, update=True)</span></div>
<div class="line"><span class="lineno"> 1128</span><span class="stringliteral">        &gt;&gt;&gt; fb_model.train(sentences=new_sent, total_examples=len(new_sent), epochs=5)</span></div>
<div class="line"><span class="lineno"> 1129</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1130</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1131</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1132</span><span class="stringliteral">    gensim.models.fasttext.FastText</span></div>
<div class="line"><span class="lineno"> 1133</span><span class="stringliteral">        The loaded model.</span></div>
<div class="line"><span class="lineno"> 1134</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1135</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno"> 1136</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1137</span><span class="stringliteral">    :func:`~gensim.models.fasttext.load_facebook_vectors` loads</span></div>
<div class="line"><span class="lineno"> 1138</span><span class="stringliteral">    the word embeddings only.  Its faster, but does not enable you to continue</span></div>
<div class="line"><span class="lineno"> 1139</span><span class="stringliteral">    training.</span></div>
<div class="line"><span class="lineno"> 1140</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1141</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1142</span>    <span class="keywordflow">return</span> _load_fasttext_format(path, encoding=encoding, full_model=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a37f60968669b7c2beecb96155e7b849e" name="a37f60968669b7c2beecb96155e7b849e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f60968669b7c2beecb96155e7b849e">&#9670;&#160;</a></span>load_facebook_vectors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.fasttext.load_facebook_vectors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encoding</em> = <code>'utf-8'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load word embeddings from a model saved in Facebook's native fasttext `.bin` format.

Notes
------
Facebook provides both `.vec` and `.bin` files with their modules.
The former contains human-readable vectors.
The latter contains machine-readable vectors along with other model parameters.
This function requires you to **provide the full path to the .bin file**.
It effectively ignores the `.vec` output file, since it is redundant.

This function uses the smart_open library to open the path.
The path may be on a remote host (e.g. HTTP, S3, etc).
It may also be gzip or bz2 compressed.
For details, see `&lt;https://github.com/RaRe-Technologies/smart_open&gt;`__.

Parameters
----------
path : str
    The location of the model file.
encoding : str, optional
    Specifies the file encoding.

Returns
-------
gensim.models.keyedvectors.FastTextKeyedVectors
    The word embeddings.

Examples
--------

Load and infer:

    &gt;&gt;&gt; from gensim.test.utils import datapath
    &gt;&gt;&gt;
    &gt;&gt;&gt; cap_path = datapath("crime-and-punishment.bin")
    &gt;&gt;&gt; fbkv = load_facebook_vectors(cap_path)
    &gt;&gt;&gt;
    &gt;&gt;&gt; 'landlord' in fbkv.vocab  # Word is out of vocabulary
    False
    &gt;&gt;&gt; oov_vector = fbkv['landlord']
    &gt;&gt;&gt;
    &gt;&gt;&gt; 'landlady' in fbkv.vocab  # Word is in the vocabulary
    True
    &gt;&gt;&gt; iv_vector = fbkv['landlady']

See Also
--------
:func:`~gensim.models.fasttext.load_facebook_model` loads
the full model, not just word embeddings, and enables you to continue
model training.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1145</span><span class="keyword">def </span>load_facebook_vectors(path, encoding=&#39;utf-8&#39;):</div>
<div class="line"><span class="lineno"> 1146</span>    <span class="stringliteral">&quot;&quot;&quot;Load word embeddings from a model saved in Facebook&#39;s native fasttext `.bin` format.</span></div>
<div class="line"><span class="lineno"> 1147</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1148</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 1149</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1150</span><span class="stringliteral">    Facebook provides both `.vec` and `.bin` files with their modules.</span></div>
<div class="line"><span class="lineno"> 1151</span><span class="stringliteral">    The former contains human-readable vectors.</span></div>
<div class="line"><span class="lineno"> 1152</span><span class="stringliteral">    The latter contains machine-readable vectors along with other model parameters.</span></div>
<div class="line"><span class="lineno"> 1153</span><span class="stringliteral">    This function requires you to **provide the full path to the .bin file**.</span></div>
<div class="line"><span class="lineno"> 1154</span><span class="stringliteral">    It effectively ignores the `.vec` output file, since it is redundant.</span></div>
<div class="line"><span class="lineno"> 1155</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1156</span><span class="stringliteral">    This function uses the smart_open library to open the path.</span></div>
<div class="line"><span class="lineno"> 1157</span><span class="stringliteral">    The path may be on a remote host (e.g. HTTP, S3, etc).</span></div>
<div class="line"><span class="lineno"> 1158</span><span class="stringliteral">    It may also be gzip or bz2 compressed.</span></div>
<div class="line"><span class="lineno"> 1159</span><span class="stringliteral">    For details, see `&lt;https://github.com/RaRe-Technologies/smart_open&gt;`__.</span></div>
<div class="line"><span class="lineno"> 1160</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1161</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1162</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1163</span><span class="stringliteral">    path : str</span></div>
<div class="line"><span class="lineno"> 1164</span><span class="stringliteral">        The location of the model file.</span></div>
<div class="line"><span class="lineno"> 1165</span><span class="stringliteral">    encoding : str, optional</span></div>
<div class="line"><span class="lineno"> 1166</span><span class="stringliteral">        Specifies the file encoding.</span></div>
<div class="line"><span class="lineno"> 1167</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1168</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1169</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1170</span><span class="stringliteral">    gensim.models.keyedvectors.FastTextKeyedVectors</span></div>
<div class="line"><span class="lineno"> 1171</span><span class="stringliteral">        The word embeddings.</span></div>
<div class="line"><span class="lineno"> 1172</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1173</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1174</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1175</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1176</span><span class="stringliteral">    Load and infer:</span></div>
<div class="line"><span class="lineno"> 1177</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1178</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.test.utils import datapath</span></div>
<div class="line"><span class="lineno"> 1179</span><span class="stringliteral">        &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno"> 1180</span><span class="stringliteral">        &gt;&gt;&gt; cap_path = datapath(&quot;crime-and-punishment.bin&quot;)</span></div>
<div class="line"><span class="lineno"> 1181</span><span class="stringliteral">        &gt;&gt;&gt; fbkv = load_facebook_vectors(cap_path)</span></div>
<div class="line"><span class="lineno"> 1182</span><span class="stringliteral">        &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno"> 1183</span><span class="stringliteral">        &gt;&gt;&gt; &#39;landlord&#39; in fbkv.vocab  # Word is out of vocabulary</span></div>
<div class="line"><span class="lineno"> 1184</span><span class="stringliteral">        False</span></div>
<div class="line"><span class="lineno"> 1185</span><span class="stringliteral">        &gt;&gt;&gt; oov_vector = fbkv[&#39;landlord&#39;]</span></div>
<div class="line"><span class="lineno"> 1186</span><span class="stringliteral">        &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno"> 1187</span><span class="stringliteral">        &gt;&gt;&gt; &#39;landlady&#39; in fbkv.vocab  # Word is in the vocabulary</span></div>
<div class="line"><span class="lineno"> 1188</span><span class="stringliteral">        True</span></div>
<div class="line"><span class="lineno"> 1189</span><span class="stringliteral">        &gt;&gt;&gt; iv_vector = fbkv[&#39;landlady&#39;]</span></div>
<div class="line"><span class="lineno"> 1190</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1191</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno"> 1192</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1193</span><span class="stringliteral">    :func:`~gensim.models.fasttext.load_facebook_model` loads</span></div>
<div class="line"><span class="lineno"> 1194</span><span class="stringliteral">    the full model, not just word embeddings, and enables you to continue</span></div>
<div class="line"><span class="lineno"> 1195</span><span class="stringliteral">    model training.</span></div>
<div class="line"><span class="lineno"> 1196</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1197</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1198</span>    model_wrapper = _load_fasttext_format(path, encoding=encoding, full_model=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1199</span>    <span class="keywordflow">return</span> model_wrapper.wv</div>
<div class="line"><span class="lineno"> 1200</span> </div>
<div class="line"><span class="lineno"> 1201</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5037a62d98bb911c3657b49aec144a1c" name="a5037a62d98bb911c3657b49aec144a1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5037a62d98bb911c3657b49aec144a1c">&#9670;&#160;</a></span>save_facebook_model()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.fasttext.save_facebook_model </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encoding</em> = <code>&quot;utf-8&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lr_update_rate</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>word_ngrams</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Saves word embeddings to the Facebook's native fasttext `.bin` format.

Notes
------
Facebook provides both `.vec` and `.bin` files with their modules.
The former contains human-readable vectors.
The latter contains machine-readable vectors along with other model parameters.
**This function saves only the .bin file**.

Parameters
----------
model : gensim.models.fasttext.FastText
    FastText model to be saved.
path : str
    Output path and filename (including `.bin` extension)
encoding : str, optional
    Specifies the file encoding. Defaults to utf-8.

lr_update_rate : int
    This parameter is used by Facebook fasttext tool, unused by Gensim.
    It defaults to Facebook fasttext default value `100`.
    In very rare circumstances you might wish to fiddle with it.

word_ngrams : int
    This parameter is used by Facebook fasttext tool, unused by Gensim.
    It defaults to Facebook fasttext default value `1`.
    In very rare circumstances you might wish to fiddle with it.

Returns
-------
None
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1302</span><span class="keyword">def </span>save_facebook_model(model, path, encoding=&quot;utf-8&quot;, lr_update_rate=100, word_ngrams=1):</div>
<div class="line"><span class="lineno"> 1303</span>    <span class="stringliteral">&quot;&quot;&quot;Saves word embeddings to the Facebook&#39;s native fasttext `.bin` format.</span></div>
<div class="line"><span class="lineno"> 1304</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1305</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 1306</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1307</span><span class="stringliteral">    Facebook provides both `.vec` and `.bin` files with their modules.</span></div>
<div class="line"><span class="lineno"> 1308</span><span class="stringliteral">    The former contains human-readable vectors.</span></div>
<div class="line"><span class="lineno"> 1309</span><span class="stringliteral">    The latter contains machine-readable vectors along with other model parameters.</span></div>
<div class="line"><span class="lineno"> 1310</span><span class="stringliteral">    **This function saves only the .bin file**.</span></div>
<div class="line"><span class="lineno"> 1311</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1312</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1313</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1314</span><span class="stringliteral">    model : gensim.models.fasttext.FastText</span></div>
<div class="line"><span class="lineno"> 1315</span><span class="stringliteral">        FastText model to be saved.</span></div>
<div class="line"><span class="lineno"> 1316</span><span class="stringliteral">    path : str</span></div>
<div class="line"><span class="lineno"> 1317</span><span class="stringliteral">        Output path and filename (including `.bin` extension)</span></div>
<div class="line"><span class="lineno"> 1318</span><span class="stringliteral">    encoding : str, optional</span></div>
<div class="line"><span class="lineno"> 1319</span><span class="stringliteral">        Specifies the file encoding. Defaults to utf-8.</span></div>
<div class="line"><span class="lineno"> 1320</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1321</span><span class="stringliteral">    lr_update_rate : int</span></div>
<div class="line"><span class="lineno"> 1322</span><span class="stringliteral">        This parameter is used by Facebook fasttext tool, unused by Gensim.</span></div>
<div class="line"><span class="lineno"> 1323</span><span class="stringliteral">        It defaults to Facebook fasttext default value `100`.</span></div>
<div class="line"><span class="lineno"> 1324</span><span class="stringliteral">        In very rare circumstances you might wish to fiddle with it.</span></div>
<div class="line"><span class="lineno"> 1325</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1326</span><span class="stringliteral">    word_ngrams : int</span></div>
<div class="line"><span class="lineno"> 1327</span><span class="stringliteral">        This parameter is used by Facebook fasttext tool, unused by Gensim.</span></div>
<div class="line"><span class="lineno"> 1328</span><span class="stringliteral">        It defaults to Facebook fasttext default value `1`.</span></div>
<div class="line"><span class="lineno"> 1329</span><span class="stringliteral">        In very rare circumstances you might wish to fiddle with it.</span></div>
<div class="line"><span class="lineno"> 1330</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1331</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1332</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1333</span><span class="stringliteral">    None</span></div>
<div class="line"><span class="lineno"> 1334</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1335</span>    fb_fasttext_parameters = {<span class="stringliteral">&quot;lr_update_rate&quot;</span>: lr_update_rate, <span class="stringliteral">&quot;word_ngrams&quot;</span>: word_ngrams}</div>
<div class="line"><span class="lineno"> 1336</span>    <a class="code hl_function" href="namespacegensim_1_1models_1_1__fasttext__bin.html#a18f64b25aa9ee94fa9537c5b3623182b">gensim.models._fasttext_bin.save</a>(model, path, fb_fasttext_parameters, encoding)</div>
<div class="ttc" id="anamespacegensim_1_1models_1_1__fasttext__bin_html_a18f64b25aa9ee94fa9537c5b3623182b"><div class="ttname"><a href="namespacegensim_1_1models_1_1__fasttext__bin.html#a18f64b25aa9ee94fa9537c5b3623182b">gensim.models._fasttext_bin.save</a></div><div class="ttdeci">save(model, fout, fb_fasttext_parameters, encoding)</div><div class="ttdef"><b>Definition</b> _fasttext_bin.py:638</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a9ceaa41b3be0e429bbb66ca925cffc6a" name="a9ceaa41b3be0e429bbb66ca925cffc6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ceaa41b3be0e429bbb66ca925cffc6a">&#9670;&#160;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.fasttext.logger = logging.getLogger(__name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
