<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas._testing._warnings Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1__testing.html">_testing</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1__testing_1_1__warnings.html">_warnings</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pandas._testing._warnings Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a94a0b9d88a12ff54b1e37d1259a0b38b" id="r_a94a0b9d88a12ff54b1e37d1259a0b38b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1__testing_1_1__warnings.html#a94a0b9d88a12ff54b1e37d1259a0b38b">assert_produces_warning</a> (type[Warning]|bool|tuple[type[Warning],...]|None expected_warning=Warning, Literal[&quot;error&quot;, &quot;ignore&quot;, &quot;always&quot;, &quot;default&quot;, &quot;module&quot;, &quot;once&quot;] filter_level=&quot;always&quot;, bool check_stacklevel=True, bool raise_on_extra_warnings=True, str|None match=None)</td></tr>
<tr class="separator:a94a0b9d88a12ff54b1e37d1259a0b38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba1b284c4590206381651cccc9b09e89" id="r_aba1b284c4590206381651cccc9b09e89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1__testing_1_1__warnings.html#aba1b284c4590206381651cccc9b09e89">maybe_produces_warning</a> (type[Warning] warning, bool condition, **kwargs)</td></tr>
<tr class="separator:aba1b284c4590206381651cccc9b09e89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a08d369e0ca67db70bc599584fa851b" id="r_a8a08d369e0ca67db70bc599584fa851b"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1__testing_1_1__warnings.html#a8a08d369e0ca67db70bc599584fa851b">_assert_caught_expected_warning</a> (*Sequence[warnings.WarningMessage] caught_warnings, type[Warning] expected_warning, str|None match, bool check_stacklevel)</td></tr>
<tr class="separator:a8a08d369e0ca67db70bc599584fa851b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b50e7760ea9a444944a7ed6841c398d" id="r_a9b50e7760ea9a444944a7ed6841c398d"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1__testing_1_1__warnings.html#a9b50e7760ea9a444944a7ed6841c398d">_assert_caught_no_extra_warnings</a> (*Sequence[warnings.WarningMessage] caught_warnings, type[Warning]|bool|tuple[type[Warning],...]|None expected_warning)</td></tr>
<tr class="separator:a9b50e7760ea9a444944a7ed6841c398d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc416c77de4af98aaf7850b410b9700e" id="r_abc416c77de4af98aaf7850b410b9700e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1__testing_1_1__warnings.html#abc416c77de4af98aaf7850b410b9700e">_is_unexpected_warning</a> (warnings.WarningMessage actual_warning, type[Warning]|bool|tuple[type[Warning],...]|None expected_warning)</td></tr>
<tr class="separator:abc416c77de4af98aaf7850b410b9700e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95fb7acd99c9cdc43dd592278c7eb869" id="r_a95fb7acd99c9cdc43dd592278c7eb869"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1__testing_1_1__warnings.html#a95fb7acd99c9cdc43dd592278c7eb869">_assert_raised_with_correct_stacklevel</a> (warnings.WarningMessage actual_warning)</td></tr>
<tr class="separator:a95fb7acd99c9cdc43dd592278c7eb869"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8a08d369e0ca67db70bc599584fa851b" name="a8a08d369e0ca67db70bc599584fa851b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a08d369e0ca67db70bc599584fa851b">&#9670;&#160;</a></span>_assert_caught_expected_warning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None pandas._testing._warnings._assert_caught_expected_warning </td>
          <td>(</td>
          <td class="paramtype">*Sequence[warnings.WarningMessage]&#160;</td>
          <td class="paramname"><em>caught_warnings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type[Warning]&#160;</td>
          <td class="paramname"><em>expected_warning</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str | None&#160;</td>
          <td class="paramname"><em>match</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>check_stacklevel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Assert that there was the expected warning among the caught warnings.</pre> <div class="fragment"><div class="line"><span class="lineno">  123</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  124</span>    <span class="stringliteral">&quot;&quot;&quot;Assert that there was the expected warning among the caught warnings.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  125</span>    saw_warning = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  126</span>    matched_message = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  127</span>    unmatched_messages = []</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>    <span class="keywordflow">for</span> actual_warning <span class="keywordflow">in</span> caught_warnings:</div>
<div class="line"><span class="lineno">  130</span>        <span class="keywordflow">if</span> issubclass(actual_warning.category, expected_warning):</div>
<div class="line"><span class="lineno">  131</span>            saw_warning = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>            <span class="keywordflow">if</span> check_stacklevel:</div>
<div class="line"><span class="lineno">  134</span>                _assert_raised_with_correct_stacklevel(actual_warning)</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>            <span class="keywordflow">if</span> match <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  137</span>                <span class="keywordflow">if</span> re.search(match, str(actual_warning.message)):</div>
<div class="line"><span class="lineno">  138</span>                    matched_message = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  139</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  140</span>                    unmatched_messages.append(actual_warning.message)</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> saw_warning:</div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">raise</span> AssertionError(</div>
<div class="line"><span class="lineno">  144</span>            f<span class="stringliteral">&quot;Did not see expected warning of class &quot;</span></div>
<div class="line"><span class="lineno">  145</span>            f<span class="stringliteral">&quot;{repr(expected_warning.__name__)}&quot;</span></div>
<div class="line"><span class="lineno">  146</span>        )</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">if</span> match <span class="keywordflow">and</span> <span class="keywordflow">not</span> matched_message:</div>
<div class="line"><span class="lineno">  149</span>        <span class="keywordflow">raise</span> AssertionError(</div>
<div class="line"><span class="lineno">  150</span>            f<span class="stringliteral">&quot;Did not see warning {repr(expected_warning.__name__)} &quot;</span></div>
<div class="line"><span class="lineno">  151</span>            f<span class="stringliteral">&quot;matching &#39;{match}&#39;. The emitted warning messages are &quot;</span></div>
<div class="line"><span class="lineno">  152</span>            f<span class="stringliteral">&quot;{unmatched_messages}&quot;</span></div>
<div class="line"><span class="lineno">  153</span>        )</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b50e7760ea9a444944a7ed6841c398d" name="a9b50e7760ea9a444944a7ed6841c398d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b50e7760ea9a444944a7ed6841c398d">&#9670;&#160;</a></span>_assert_caught_no_extra_warnings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None pandas._testing._warnings._assert_caught_no_extra_warnings </td>
          <td>(</td>
          <td class="paramtype">*Sequence[warnings.WarningMessage]&#160;</td>
          <td class="paramname"><em>caught_warnings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type[Warning] | bool | tuple[type[Warning], ...] | None&#160;</td>
          <td class="paramname"><em>expected_warning</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Assert that no extra warnings apart from the expected ones are caught.</pre> <div class="fragment"><div class="line"><span class="lineno">  160</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  161</span>    <span class="stringliteral">&quot;&quot;&quot;Assert that no extra warnings apart from the expected ones are caught.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  162</span>    extra_warnings = []</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">for</span> actual_warning <span class="keywordflow">in</span> caught_warnings:</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">if</span> _is_unexpected_warning(actual_warning, expected_warning):</div>
<div class="line"><span class="lineno">  166</span>            <span class="comment"># GH#38630 pytest.filterwarnings does not suppress these.</span></div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordflow">if</span> actual_warning.category == ResourceWarning:</div>
<div class="line"><span class="lineno">  168</span>                <span class="comment"># GH 44732: Don&#39;t make the CI flaky by filtering SSL-related</span></div>
<div class="line"><span class="lineno">  169</span>                <span class="comment"># ResourceWarning from dependencies</span></div>
<div class="line"><span class="lineno">  170</span>                unclosed_ssl = (</div>
<div class="line"><span class="lineno">  171</span>                    <span class="stringliteral">&quot;unclosed transport &lt;asyncio.sslproto._SSLProtocolTransport&quot;</span>,</div>
<div class="line"><span class="lineno">  172</span>                    <span class="stringliteral">&quot;unclosed &lt;ssl.SSLSocket&quot;</span>,</div>
<div class="line"><span class="lineno">  173</span>                )</div>
<div class="line"><span class="lineno">  174</span>                <span class="keywordflow">if</span> any(msg <span class="keywordflow">in</span> str(actual_warning.message) <span class="keywordflow">for</span> msg <span class="keywordflow">in</span> unclosed_ssl):</div>
<div class="line"><span class="lineno">  175</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  176</span>                <span class="comment"># GH 44844: Matplotlib leaves font files open during the entire process</span></div>
<div class="line"><span class="lineno">  177</span>                <span class="comment"># upon import. Don&#39;t make CI flaky if ResourceWarning raised</span></div>
<div class="line"><span class="lineno">  178</span>                <span class="comment"># due to these open files.</span></div>
<div class="line"><span class="lineno">  179</span>                <span class="keywordflow">if</span> any(<span class="stringliteral">&quot;matplotlib&quot;</span> <span class="keywordflow">in</span> mod <span class="keywordflow">for</span> mod <span class="keywordflow">in</span> sys.modules):</div>
<div class="line"><span class="lineno">  180</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>            extra_warnings.append(</div>
<div class="line"><span class="lineno">  183</span>                (</div>
<div class="line"><span class="lineno">  184</span>                    actual_warning.category.__name__,</div>
<div class="line"><span class="lineno">  185</span>                    actual_warning.message,</div>
<div class="line"><span class="lineno">  186</span>                    actual_warning.filename,</div>
<div class="line"><span class="lineno">  187</span>                    actual_warning.lineno,</div>
<div class="line"><span class="lineno">  188</span>                )</div>
<div class="line"><span class="lineno">  189</span>            )</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <span class="keywordflow">if</span> extra_warnings:</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">raise</span> AssertionError(f<span class="stringliteral">&quot;Caused unexpected warning(s): {repr(extra_warnings)}&quot;</span>)</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a95fb7acd99c9cdc43dd592278c7eb869" name="a95fb7acd99c9cdc43dd592278c7eb869"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95fb7acd99c9cdc43dd592278c7eb869">&#9670;&#160;</a></span>_assert_raised_with_correct_stacklevel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None pandas._testing._warnings._assert_raised_with_correct_stacklevel </td>
          <td>(</td>
          <td class="paramtype">warnings.WarningMessage&#160;</td>
          <td class="paramname"><em>actual_warning</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  208</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  209</span>    <span class="keyword">from</span> inspect <span class="keyword">import</span> (</div>
<div class="line"><span class="lineno">  210</span>        getframeinfo,</div>
<div class="line"><span class="lineno">  211</span>        stack,</div>
<div class="line"><span class="lineno">  212</span>    )</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    caller = getframeinfo(stack()[4][0])</div>
<div class="line"><span class="lineno">  215</span>    msg = (</div>
<div class="line"><span class="lineno">  216</span>        <span class="stringliteral">&quot;Warning not set with correct stacklevel. &quot;</span></div>
<div class="line"><span class="lineno">  217</span>        f<span class="stringliteral">&quot;File where warning is raised: {actual_warning.filename} != &quot;</span></div>
<div class="line"><span class="lineno">  218</span>        f<span class="stringliteral">&quot;{caller.filename}. Warning message: {actual_warning.message}&quot;</span></div>
<div class="line"><span class="lineno">  219</span>    )</div>
<div class="line"><span class="lineno">  220</span>    <span class="keyword">assert</span> actual_warning.filename == caller.filename, msg</div>
</div><!-- fragment -->
</div>
</div>
<a id="abc416c77de4af98aaf7850b410b9700e" name="abc416c77de4af98aaf7850b410b9700e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc416c77de4af98aaf7850b410b9700e">&#9670;&#160;</a></span>_is_unexpected_warning()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> bool pandas._testing._warnings._is_unexpected_warning </td>
          <td>(</td>
          <td class="paramtype">warnings.WarningMessage&#160;</td>
          <td class="paramname"><em>actual_warning</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">type[Warning] | bool | tuple[type[Warning], ...] | None&#160;</td>
          <td class="paramname"><em>expected_warning</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Check if the actual warning issued is unexpected.</pre> <div class="fragment"><div class="line"><span class="lineno">  198</span>) -&gt; bool:</div>
<div class="line"><span class="lineno">  199</span>    <span class="stringliteral">&quot;&quot;&quot;Check if the actual warning issued is unexpected.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">if</span> actual_warning <span class="keywordflow">and</span> <span class="keywordflow">not</span> expected_warning:</div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  202</span>    expected_warning = cast(Type[Warning], expected_warning)</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">return</span> bool(<span class="keywordflow">not</span> issubclass(actual_warning.category, expected_warning))</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a94a0b9d88a12ff54b1e37d1259a0b38b" name="a94a0b9d88a12ff54b1e37d1259a0b38b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94a0b9d88a12ff54b1e37d1259a0b38b">&#9670;&#160;</a></span>assert_produces_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas._testing._warnings.assert_produces_warning </td>
          <td>(</td>
          <td class="paramtype">type[Warning] | bool | tuple[type[Warning], ...] | None &#160;</td>
          <td class="paramname"><em>expected_warning</em> = <code>Warning</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Literal[
        &quot;error&quot;, &quot;ignore&quot;, &quot;always&quot;, &quot;default&quot;, &quot;module&quot;, &quot;once&quot;
    ] &#160;</td>
          <td class="paramname"><em>filter_level</em> = <code>&quot;always&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>check_stacklevel</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>raise_on_extra_warnings</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str | None &#160;</td>
          <td class="paramname"><em>match</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Context manager for running code expected to either raise a specific warning,
multiple specific warnings, or not raise any warnings. Verifies that the code
raises the expected warning(s), and that it does not raise any other unexpected
warnings. It is basically a wrapper around ``warnings.catch_warnings``.

Parameters
----------
expected_warning : {Warning, False, tuple[Warning, ...], None}, default Warning
    The type of Exception raised. ``exception.Warning`` is the base
    class for all warnings. To raise multiple types of exceptions,
    pass them as a tuple. To check that no warning is returned,
    specify ``False`` or ``None``.
filter_level : str or None, default "always"
    Specifies whether warnings are ignored, displayed, or turned
    into errors.
    Valid values are:

    * "error" - turns matching warnings into exceptions
    * "ignore" - discard the warning
    * "always" - always emit a warning
    * "default" - print the warning the first time it is generated
      from each location
    * "module" - print the warning the first time it is generated
      from each module
    * "once" - print the warning the first time it is generated

check_stacklevel : bool, default True
    If True, displays the line that called the function containing
    the warning to show were the function is called. Otherwise, the
    line that implements the function is displayed.
raise_on_extra_warnings : bool, default True
    Whether extra warnings not of the type `expected_warning` should
    cause the test to fail.
match : str, optional
    Match warning message.

Examples
--------
&gt;&gt;&gt; import warnings
&gt;&gt;&gt; with assert_produces_warning():
...     warnings.warn(UserWarning())
...
&gt;&gt;&gt; with assert_produces_warning(False):
...     warnings.warn(RuntimeWarning())
...
Traceback (most recent call last):
    ...
AssertionError: Caused unexpected warning(s): ['RuntimeWarning'].
&gt;&gt;&gt; with assert_produces_warning(UserWarning):
...     warnings.warn(RuntimeWarning())
Traceback (most recent call last):
    ...
AssertionError: Did not see expected warning of class 'UserWarning'.

..warn:: This is *not* thread-safe.
</pre> <div class="fragment"><div class="line"><span class="lineno">   27</span>):</div>
<div class="line"><span class="lineno">   28</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   29</span><span class="stringliteral">    Context manager for running code expected to either raise a specific warning,</span></div>
<div class="line"><span class="lineno">   30</span><span class="stringliteral">    multiple specific warnings, or not raise any warnings. Verifies that the code</span></div>
<div class="line"><span class="lineno">   31</span><span class="stringliteral">    raises the expected warning(s), and that it does not raise any other unexpected</span></div>
<div class="line"><span class="lineno">   32</span><span class="stringliteral">    warnings. It is basically a wrapper around ``warnings.catch_warnings``.</span></div>
<div class="line"><span class="lineno">   33</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   34</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   35</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   36</span><span class="stringliteral">    expected_warning : {Warning, False, tuple[Warning, ...], None}, default Warning</span></div>
<div class="line"><span class="lineno">   37</span><span class="stringliteral">        The type of Exception raised. ``exception.Warning`` is the base</span></div>
<div class="line"><span class="lineno">   38</span><span class="stringliteral">        class for all warnings. To raise multiple types of exceptions,</span></div>
<div class="line"><span class="lineno">   39</span><span class="stringliteral">        pass them as a tuple. To check that no warning is returned,</span></div>
<div class="line"><span class="lineno">   40</span><span class="stringliteral">        specify ``False`` or ``None``.</span></div>
<div class="line"><span class="lineno">   41</span><span class="stringliteral">    filter_level : str or None, default &quot;always&quot;</span></div>
<div class="line"><span class="lineno">   42</span><span class="stringliteral">        Specifies whether warnings are ignored, displayed, or turned</span></div>
<div class="line"><span class="lineno">   43</span><span class="stringliteral">        into errors.</span></div>
<div class="line"><span class="lineno">   44</span><span class="stringliteral">        Valid values are:</span></div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">        * &quot;error&quot; - turns matching warnings into exceptions</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral">        * &quot;ignore&quot; - discard the warning</span></div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral">        * &quot;always&quot; - always emit a warning</span></div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral">        * &quot;default&quot; - print the warning the first time it is generated</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">          from each location</span></div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">        * &quot;module&quot; - print the warning the first time it is generated</span></div>
<div class="line"><span class="lineno">   52</span><span class="stringliteral">          from each module</span></div>
<div class="line"><span class="lineno">   53</span><span class="stringliteral">        * &quot;once&quot; - print the warning the first time it is generated</span></div>
<div class="line"><span class="lineno">   54</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   55</span><span class="stringliteral">    check_stacklevel : bool, default True</span></div>
<div class="line"><span class="lineno">   56</span><span class="stringliteral">        If True, displays the line that called the function containing</span></div>
<div class="line"><span class="lineno">   57</span><span class="stringliteral">        the warning to show were the function is called. Otherwise, the</span></div>
<div class="line"><span class="lineno">   58</span><span class="stringliteral">        line that implements the function is displayed.</span></div>
<div class="line"><span class="lineno">   59</span><span class="stringliteral">    raise_on_extra_warnings : bool, default True</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral">        Whether extra warnings not of the type `expected_warning` should</span></div>
<div class="line"><span class="lineno">   61</span><span class="stringliteral">        cause the test to fail.</span></div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral">    match : str, optional</span></div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">        Match warning message.</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral">    &gt;&gt;&gt; import warnings</span></div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">    &gt;&gt;&gt; with assert_produces_warning():</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral">    ...     warnings.warn(UserWarning())</span></div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral">    ...</span></div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">    &gt;&gt;&gt; with assert_produces_warning(False):</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">    ...     warnings.warn(RuntimeWarning())</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">    ...</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">    AssertionError: Caused unexpected warning(s): [&#39;RuntimeWarning&#39;].</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">    &gt;&gt;&gt; with assert_produces_warning(UserWarning):</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral">    ...     warnings.warn(RuntimeWarning())</span></div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">   80</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">   81</span><span class="stringliteral">    AssertionError: Did not see expected warning of class &#39;UserWarning&#39;.</span></div>
<div class="line"><span class="lineno">   82</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   83</span><span class="stringliteral">    ..warn:: This is *not* thread-safe.</span></div>
<div class="line"><span class="lineno">   84</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   85</span>    __tracebackhide__ = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>    <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> w:</div>
<div class="line"><span class="lineno">   88</span>        warnings.simplefilter(filter_level)</div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">yield</span> w</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>        <span class="keywordflow">if</span> expected_warning:</div>
<div class="line"><span class="lineno">   92</span>            expected_warning = cast(Type[Warning], expected_warning)</div>
<div class="line"><span class="lineno">   93</span>            _assert_caught_expected_warning(</div>
<div class="line"><span class="lineno">   94</span>                caught_warnings=w,</div>
<div class="line"><span class="lineno">   95</span>                expected_warning=expected_warning,</div>
<div class="line"><span class="lineno">   96</span>                match=match,</div>
<div class="line"><span class="lineno">   97</span>                check_stacklevel=check_stacklevel,</div>
<div class="line"><span class="lineno">   98</span>            )</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordflow">if</span> raise_on_extra_warnings:</div>
<div class="line"><span class="lineno">  101</span>            _assert_caught_no_extra_warnings(</div>
<div class="line"><span class="lineno">  102</span>                caught_warnings=w,</div>
<div class="line"><span class="lineno">  103</span>                expected_warning=expected_warning,</div>
<div class="line"><span class="lineno">  104</span>            )</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aba1b284c4590206381651cccc9b09e89" name="aba1b284c4590206381651cccc9b09e89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba1b284c4590206381651cccc9b09e89">&#9670;&#160;</a></span>maybe_produces_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas._testing._warnings.maybe_produces_warning </td>
          <td>(</td>
          <td class="paramtype">type[Warning]&#160;</td>
          <td class="paramname"><em>warning</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>condition</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a context manager that possibly checks a warning based on the condition
</pre> <div class="fragment"><div class="line"><span class="lineno">  107</span><span class="keyword">def </span>maybe_produces_warning(warning: type[Warning], condition: bool, **kwargs):</div>
<div class="line"><span class="lineno">  108</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    Return a context manager that possibly checks a warning based on the condition</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">if</span> condition:</div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordflow">return</span> assert_produces_warning(warning, **kwargs)</div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordflow">return</span> nullcontext()</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span> </div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
