<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.utils Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1utils.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">gensim.utils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_clipped_corpus.html">ClippedCorpus</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_fake_dict.html">FakeDict</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_input_queue.html">InputQueue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_repeat_corpus.html">RepeatCorpus</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_repeat_corpus_n_times.html">RepeatCorpusNTimes</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html">SaveLoad</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_sliced_corpus.html">SlicedCorpus</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa8c2faf233bcd1a8558ab810128dae3c" id="r_aa8c2faf233bcd1a8558ab810128dae3c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#aa8c2faf233bcd1a8558ab810128dae3c">get_random_state</a> (seed)</td></tr>
<tr class="separator:aa8c2faf233bcd1a8558ab810128dae3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a451e673e9358dfe95c84a68e2f5f02ee" id="r_a451e673e9358dfe95c84a68e2f5f02ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a451e673e9358dfe95c84a68e2f5f02ee">synchronous</a> (tlockname)</td></tr>
<tr class="separator:a451e673e9358dfe95c84a68e2f5f02ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9510e1f0a8b02b386b3c4f5907164ac" id="r_ad9510e1f0a8b02b386b3c4f5907164ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#ad9510e1f0a8b02b386b3c4f5907164ac">file_or_filename</a> (input)</td></tr>
<tr class="separator:ad9510e1f0a8b02b386b3c4f5907164ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabbdbc09652c6b02fc92a1716e8e4fc1" id="r_aabbdbc09652c6b02fc92a1716e8e4fc1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#aabbdbc09652c6b02fc92a1716e8e4fc1">open_file</a> (input)</td></tr>
<tr class="separator:aabbdbc09652c6b02fc92a1716e8e4fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52d4ed015119f09a97fc2f62e30578d5" id="r_a52d4ed015119f09a97fc2f62e30578d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a52d4ed015119f09a97fc2f62e30578d5">deaccent</a> (text)</td></tr>
<tr class="separator:a52d4ed015119f09a97fc2f62e30578d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b820218d7c18d79ec91c9418356d12a" id="r_a4b820218d7c18d79ec91c9418356d12a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a4b820218d7c18d79ec91c9418356d12a">copytree_hardlink</a> (source, dest)</td></tr>
<tr class="separator:a4b820218d7c18d79ec91c9418356d12a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfcd1e57db36ead758c9c3f200da0271" id="r_abfcd1e57db36ead758c9c3f200da0271"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#abfcd1e57db36ead758c9c3f200da0271">tokenize</a> (text, lowercase=False, deacc=False, encoding='utf8', errors=&quot;strict&quot;, to_lower=False, lower=False)</td></tr>
<tr class="separator:abfcd1e57db36ead758c9c3f200da0271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad78381bc880647f13574ccb52c9db4f2" id="r_ad78381bc880647f13574ccb52c9db4f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#ad78381bc880647f13574ccb52c9db4f2">simple_tokenize</a> (text)</td></tr>
<tr class="separator:ad78381bc880647f13574ccb52c9db4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b37aaafb4adc3355ba1c5325f21f26a" id="r_a5b37aaafb4adc3355ba1c5325f21f26a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a5b37aaafb4adc3355ba1c5325f21f26a">simple_preprocess</a> (doc, deacc=False, min_len=2, max_len=15)</td></tr>
<tr class="separator:a5b37aaafb4adc3355ba1c5325f21f26a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7b8caedd149b81d82d1b650d9698a5" id="r_a4c7b8caedd149b81d82d1b650d9698a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a4c7b8caedd149b81d82d1b650d9698a5">any2utf8</a> (text, errors='strict', encoding='utf8')</td></tr>
<tr class="separator:a4c7b8caedd149b81d82d1b650d9698a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a692f47df65bb4eb4160a98c9b223c29c" id="r_a692f47df65bb4eb4160a98c9b223c29c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a692f47df65bb4eb4160a98c9b223c29c">any2unicode</a> (text, encoding='utf8', errors='strict')</td></tr>
<tr class="separator:a692f47df65bb4eb4160a98c9b223c29c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4dee7d0bb87b787d6c358464fd57fbe" id="r_ab4dee7d0bb87b787d6c358464fd57fbe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#ab4dee7d0bb87b787d6c358464fd57fbe">call_on_class_only</a> (*args, **kwargs)</td></tr>
<tr class="separator:ab4dee7d0bb87b787d6c358464fd57fbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f591a7dc7ed71171d59263d00f1066b" id="r_a1f591a7dc7ed71171d59263d00f1066b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a1f591a7dc7ed71171d59263d00f1066b">identity</a> (p)</td></tr>
<tr class="separator:a1f591a7dc7ed71171d59263d00f1066b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e782a1a8d30eceb32a8efa203abde35" id="r_a6e782a1a8d30eceb32a8efa203abde35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a6e782a1a8d30eceb32a8efa203abde35">get_max_id</a> (corpus)</td></tr>
<tr class="separator:a6e782a1a8d30eceb32a8efa203abde35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4bb05ff94cd93e22da37f512919e035" id="r_ac4bb05ff94cd93e22da37f512919e035"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#ac4bb05ff94cd93e22da37f512919e035">dict_from_corpus</a> (corpus)</td></tr>
<tr class="separator:ac4bb05ff94cd93e22da37f512919e035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8815bd28fa8011c6f712ab341cbcb89" id="r_ac8815bd28fa8011c6f712ab341cbcb89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#ac8815bd28fa8011c6f712ab341cbcb89">is_corpus</a> (obj)</td></tr>
<tr class="separator:ac8815bd28fa8011c6f712ab341cbcb89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a32c4a54573b94230d1e01afcedaf9d" id="r_a4a32c4a54573b94230d1e01afcedaf9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a4a32c4a54573b94230d1e01afcedaf9d">get_my_ip</a> ()</td></tr>
<tr class="separator:a4a32c4a54573b94230d1e01afcedaf9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af59efcdebf28dd81da5360cbe6d88bd7" id="r_af59efcdebf28dd81da5360cbe6d88bd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#af59efcdebf28dd81da5360cbe6d88bd7">safe_unichr</a> (intval)</td></tr>
<tr class="separator:af59efcdebf28dd81da5360cbe6d88bd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d964313bb3fa2620424a186df9c2c2" id="r_ac3d964313bb3fa2620424a186df9c2c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#ac3d964313bb3fa2620424a186df9c2c2">decode_htmlentities</a> (text)</td></tr>
<tr class="separator:ac3d964313bb3fa2620424a186df9c2c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a864637d13ae09178074e561030afff20" id="r_a864637d13ae09178074e561030afff20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a864637d13ae09178074e561030afff20">chunkize_serial</a> (iterable, chunksize, as_numpy=False, dtype=np.float32)</td></tr>
<tr class="separator:a864637d13ae09178074e561030afff20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af05c1551a5f857e9c00e668bc836b8c3" id="r_af05c1551a5f857e9c00e668bc836b8c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#af05c1551a5f857e9c00e668bc836b8c3">chunkize</a> (corpus, chunksize, maxsize=0, as_numpy=False)</td></tr>
<tr class="separator:af05c1551a5f857e9c00e668bc836b8c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9746aa9f14ec582f00c89e647521276" id="r_af9746aa9f14ec582f00c89e647521276"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#af9746aa9f14ec582f00c89e647521276">smart_extension</a> (fname, ext)</td></tr>
<tr class="separator:af9746aa9f14ec582f00c89e647521276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf830b64b172ff4f3da823f7e2b308e" id="r_acbf830b64b172ff4f3da823f7e2b308e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#acbf830b64b172ff4f3da823f7e2b308e">pickle</a> (obj, fname, protocol=2)</td></tr>
<tr class="separator:acbf830b64b172ff4f3da823f7e2b308e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad558496f36666822c8f15ea95f9515c" id="r_aad558496f36666822c8f15ea95f9515c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#aad558496f36666822c8f15ea95f9515c">unpickle</a> (fname)</td></tr>
<tr class="separator:aad558496f36666822c8f15ea95f9515c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7625346a645823d317bac34d5393cb8d" id="r_a7625346a645823d317bac34d5393cb8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a7625346a645823d317bac34d5393cb8d">revdict</a> (<a class="el" href="__lapack__subroutines_8h.html#a4c293bae27b15a76659be28378992185">d</a>)</td></tr>
<tr class="separator:a7625346a645823d317bac34d5393cb8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a9874918f2c6e334352af82a05a418a" id="r_a5a9874918f2c6e334352af82a05a418a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a5a9874918f2c6e334352af82a05a418a">deprecated</a> (reason)</td></tr>
<tr class="separator:a5a9874918f2c6e334352af82a05a418a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a516d75515b29f0f62c7e9f9e2629137d" id="r_a516d75515b29f0f62c7e9f9e2629137d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a516d75515b29f0f62c7e9f9e2629137d">ignore_deprecation_warning</a> ()</td></tr>
<tr class="separator:a516d75515b29f0f62c7e9f9e2629137d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3a4aeb0675b6e66e0f331ae020e0cb" id="r_a9c3a4aeb0675b6e66e0f331ae020e0cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a9c3a4aeb0675b6e66e0f331ae020e0cb">toptexts</a> (query, texts, index, <a class="el" href="__blas__subroutines_8h.html#a25eafceb38c8e75bc60701fea6623f71">n</a>=10)</td></tr>
<tr class="separator:a9c3a4aeb0675b6e66e0f331ae020e0cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0842f1049e267661457d2248f6dac16b" id="r_a0842f1049e267661457d2248f6dac16b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a0842f1049e267661457d2248f6dac16b">randfname</a> (prefix='gensim')</td></tr>
<tr class="separator:a0842f1049e267661457d2248f6dac16b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cb717fbd8e2784174eb683e7ba3332d" id="r_a5cb717fbd8e2784174eb683e7ba3332d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a5cb717fbd8e2784174eb683e7ba3332d">upload_chunked</a> (server, docs, chunksize=1000, preprocess=None)</td></tr>
<tr class="separator:a5cb717fbd8e2784174eb683e7ba3332d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e5d88115928c01c8ee6cc1564311e76" id="r_a7e5d88115928c01c8ee6cc1564311e76"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a7e5d88115928c01c8ee6cc1564311e76">getNS</a> (host=None, port=None, broadcast=True, hmac_key=None)</td></tr>
<tr class="separator:a7e5d88115928c01c8ee6cc1564311e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2020b87ec94fa4810e3e7838174dc2db" id="r_a2020b87ec94fa4810e3e7838174dc2db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a2020b87ec94fa4810e3e7838174dc2db">pyro_daemon</a> (name, obj, random_suffix=False, ip=None, port=None, ns_conf=None)</td></tr>
<tr class="separator:a2020b87ec94fa4810e3e7838174dc2db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7696935137afba0f8e5267d308dddf6" id="r_aa7696935137afba0f8e5267d308dddf6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#aa7696935137afba0f8e5267d308dddf6">has_pattern</a> ()</td></tr>
<tr class="separator:aa7696935137afba0f8e5267d308dddf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d2a31cb58cb0ee7827462417771b985" id="r_a0d2a31cb58cb0ee7827462417771b985"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a0d2a31cb58cb0ee7827462417771b985">lemmatize</a> (content, allowed_tags=re.compile(<a class="el" href="__lapack__subroutines_8h.html#a952912404e837594f7cbfb183beeacd4">r</a>'(NN|VB|JJ|RB)'), light=False, stopwords=frozenset(), min_length=2, max_length=15)</td></tr>
<tr class="separator:a0d2a31cb58cb0ee7827462417771b985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c41830d0c57293bba856ea47dad9028" id="r_a7c41830d0c57293bba856ea47dad9028"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a7c41830d0c57293bba856ea47dad9028">mock_data_row</a> (dim=1000, prob_nnz=0.5, lam=1.0)</td></tr>
<tr class="separator:a7c41830d0c57293bba856ea47dad9028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc1707af1adc119f6d9e7961e468e8f0" id="r_acc1707af1adc119f6d9e7961e468e8f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#acc1707af1adc119f6d9e7961e468e8f0">mock_data</a> (n_items=1000, dim=1000, prob_nnz=0.5, lam=1.0)</td></tr>
<tr class="separator:acc1707af1adc119f6d9e7961e468e8f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca45c142f3d50fd3af7e40101b65e6d1" id="r_aca45c142f3d50fd3af7e40101b65e6d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#aca45c142f3d50fd3af7e40101b65e6d1">prune_vocab</a> (vocab, min_reduce, trim_rule=None)</td></tr>
<tr class="separator:aca45c142f3d50fd3af7e40101b65e6d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab310cec70a2f486f1c240f86a287056e" id="r_ab310cec70a2f486f1c240f86a287056e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#ab310cec70a2f486f1c240f86a287056e">trim_vocab_by_freq</a> (vocab, topk, trim_rule=None)</td></tr>
<tr class="separator:ab310cec70a2f486f1c240f86a287056e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7286d0926315edfed1f5e71ece131d4" id="r_ae7286d0926315edfed1f5e71ece131d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#ae7286d0926315edfed1f5e71ece131d4">merge_counts</a> (dict1, dict2)</td></tr>
<tr class="separator:ae7286d0926315edfed1f5e71ece131d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a410c1bb1f8aa6dc421aaf25b665c1d6d" id="r_a410c1bb1f8aa6dc421aaf25b665c1d6d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a410c1bb1f8aa6dc421aaf25b665c1d6d">qsize</a> (queue)</td></tr>
<tr class="separator:a410c1bb1f8aa6dc421aaf25b665c1d6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3f2d8083ccaedec44f456cb2156957" id="r_a6d3f2d8083ccaedec44f456cb2156957"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a6d3f2d8083ccaedec44f456cb2156957">keep_vocab_item</a> (word, count, min_count, trim_rule=None)</td></tr>
<tr class="separator:a6d3f2d8083ccaedec44f456cb2156957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3cacc66429031dee0733a37ddb9a30a" id="r_ad3cacc66429031dee0733a37ddb9a30a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#ad3cacc66429031dee0733a37ddb9a30a">check_output</a> (stdout=subprocess.PIPE, *popenargs, **kwargs)</td></tr>
<tr class="separator:ad3cacc66429031dee0733a37ddb9a30a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aeeb070bdbb392a02d07a39c0cb4ba9" id="r_a2aeeb070bdbb392a02d07a39c0cb4ba9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a2aeeb070bdbb392a02d07a39c0cb4ba9">sample_dict</a> (<a class="el" href="__lapack__subroutines_8h.html#a4c293bae27b15a76659be28378992185">d</a>, <a class="el" href="__blas__subroutines_8h.html#a25eafceb38c8e75bc60701fea6623f71">n</a>=10, use_random=True)</td></tr>
<tr class="separator:a2aeeb070bdbb392a02d07a39c0cb4ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2765572d57d3da47f6c9f409b93ed870" id="r_a2765572d57d3da47f6c9f409b93ed870"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a2765572d57d3da47f6c9f409b93ed870">strided_windows</a> (ndarray, window_size)</td></tr>
<tr class="separator:a2765572d57d3da47f6c9f409b93ed870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03686b57b69777ad9dca3dc571a244d3" id="r_a03686b57b69777ad9dca3dc571a244d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a03686b57b69777ad9dca3dc571a244d3">iter_windows</a> (texts, window_size, copy=False, ignore_below_size=True, include_doc_num=False)</td></tr>
<tr class="separator:a03686b57b69777ad9dca3dc571a244d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dfefa68d2fee585186361b05aa0cc7d" id="r_a2dfefa68d2fee585186361b05aa0cc7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a2dfefa68d2fee585186361b05aa0cc7d">_iter_windows</a> (document, window_size, copy=False, ignore_below_size=True)</td></tr>
<tr class="separator:a2dfefa68d2fee585186361b05aa0cc7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdda58391f5662e31bc3ef187cae3f55" id="r_afdda58391f5662e31bc3ef187cae3f55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#afdda58391f5662e31bc3ef187cae3f55">flatten</a> (nested_list)</td></tr>
<tr class="separator:afdda58391f5662e31bc3ef187cae3f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da7b519286560588517d6aee7b4743d" id="r_a9da7b519286560588517d6aee7b4743d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a9da7b519286560588517d6aee7b4743d">lazy_flatten</a> (nested_list)</td></tr>
<tr class="separator:a9da7b519286560588517d6aee7b4743d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75fe4588d773cfb394205c82542e2b4c" id="r_a75fe4588d773cfb394205c82542e2b4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a75fe4588d773cfb394205c82542e2b4c">save_as_line_sentence</a> (corpus, filename)</td></tr>
<tr class="separator:a75fe4588d773cfb394205c82542e2b4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a31ef3fa81a456c4d1b20ea701639d" id="r_ab8a31ef3fa81a456c4d1b20ea701639d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#ab8a31ef3fa81a456c4d1b20ea701639d">effective_n_jobs</a> (n_jobs)</td></tr>
<tr class="separator:ab8a31ef3fa81a456c4d1b20ea701639d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a12cbe4c93a2a9622620ea28c36d03d75" id="r_a12cbe4c93a2a9622620ea28c36d03d75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a12cbe4c93a2a9622620ea28c36d03d75">unicode</a> = str</td></tr>
<tr class="separator:a12cbe4c93a2a9622620ea28c36d03d75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdffd659c5cf76c63e6a7f3b3d9cafb6" id="r_acdffd659c5cf76c63e6a7f3b3d9cafb6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#acdffd659c5cf76c63e6a7f3b3d9cafb6">logger</a> = logging.getLogger(__name__)</td></tr>
<tr class="separator:acdffd659c5cf76c63e6a7f3b3d9cafb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ca435db595eadf3c1a50cd1a1b6a35" id="r_a59ca435db595eadf3c1a50cd1a1b6a35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a59ca435db595eadf3c1a50cd1a1b6a35">PAT_ALPHABETIC</a> = re.compile(<a class="el" href="__lapack__subroutines_8h.html#a952912404e837594f7cbfb183beeacd4">r</a>'(((?![\<a class="el" href="__lapack__subroutines_8h.html#a4c293bae27b15a76659be28378992185">d</a>])\<a class="el" href="__lapack__subroutines_8h.html#a817b85d82af73ef273fafbec623bb90b">w</a>)+)', re.UNICODE)</td></tr>
<tr class="separator:a59ca435db595eadf3c1a50cd1a1b6a35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affc20ca0ede44ed6eebb2622f226140a" id="r_affc20ca0ede44ed6eebb2622f226140a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#affc20ca0ede44ed6eebb2622f226140a">RE_HTML_ENTITY</a> = re.compile(<a class="el" href="__lapack__subroutines_8h.html#a952912404e837594f7cbfb183beeacd4">r</a>'&amp;(#?)([xX]?)(\<a class="el" href="__lapack__subroutines_8h.html#a817b85d82af73ef273fafbec623bb90b">w</a>{1,8});', re.UNICODE)</td></tr>
<tr class="separator:affc20ca0ede44ed6eebb2622f226140a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c615d063d1066d9c83b006fa50084f" id="r_a59c615d063d1066d9c83b006fa50084f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a59c615d063d1066d9c83b006fa50084f">NO_CYTHON</a></td></tr>
<tr class="separator:a59c615d063d1066d9c83b006fa50084f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bd5bdee5ee6e4c2bfe4cbc5867638cc" id="r_a6bd5bdee5ee6e4c2bfe4cbc5867638cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a6bd5bdee5ee6e4c2bfe4cbc5867638cc">to_utf8</a> = <a class="el" href="namespacegensim_1_1utils.html#a4c7b8caedd149b81d82d1b650d9698a5">any2utf8</a></td></tr>
<tr class="separator:a6bd5bdee5ee6e4c2bfe4cbc5867638cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f47269f9df162f4e12af05cf02cae84" id="r_a9f47269f9df162f4e12af05cf02cae84"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a9f47269f9df162f4e12af05cf02cae84">to_unicode</a> = <a class="el" href="namespacegensim_1_1utils.html#a692f47df65bb4eb4160a98c9b223c29c">any2unicode</a></td></tr>
<tr class="separator:a9f47269f9df162f4e12af05cf02cae84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72003b38870fd1b2af9a54765535f899" id="r_a72003b38870fd1b2af9a54765535f899"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a72003b38870fd1b2af9a54765535f899">grouper</a> = <a class="el" href="namespacegensim_1_1utils.html#a864637d13ae09178074e561030afff20">chunkize_serial</a></td></tr>
<tr class="separator:a72003b38870fd1b2af9a54765535f899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a601caef0ef235da19aafb22d18627b" id="r_a1a601caef0ef235da19aafb22d18627b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a1a601caef0ef235da19aafb22d18627b">RULE_DEFAULT</a> = 0</td></tr>
<tr class="separator:a1a601caef0ef235da19aafb22d18627b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6789b975a554f68888676dcaa613e2be" id="r_a6789b975a554f68888676dcaa613e2be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#a6789b975a554f68888676dcaa613e2be">RULE_DISCARD</a> = 1</td></tr>
<tr class="separator:a6789b975a554f68888676dcaa613e2be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa851d186e8764c66b0fbcea7f1ec74" id="r_adfa851d186e8764c66b0fbcea7f1ec74"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1utils.html#adfa851d186e8764c66b0fbcea7f1ec74">RULE_KEEP</a> = 2</td></tr>
<tr class="separator:adfa851d186e8764c66b0fbcea7f1ec74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Various general utility functions.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a2dfefa68d2fee585186361b05aa0cc7d" name="a2dfefa68d2fee585186361b05aa0cc7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2dfefa68d2fee585186361b05aa0cc7d">&#9670;&#160;</a></span>_iter_windows()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils._iter_windows </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>document</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>window_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>copy</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ignore_below_size</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2037</span><span class="keyword">def </span>_iter_windows(document, window_size, copy=False, ignore_below_size=True):</div>
<div class="line"><span class="lineno"> 2038</span>    doc_windows = strided_windows(document, window_size)</div>
<div class="line"><span class="lineno"> 2039</span>    <span class="keywordflow">if</span> doc_windows.shape[0] == 0:</div>
<div class="line"><span class="lineno"> 2040</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> ignore_below_size:</div>
<div class="line"><span class="lineno"> 2041</span>            <span class="keywordflow">yield</span> document.copy() <span class="keywordflow">if</span> copy <span class="keywordflow">else</span> document</div>
<div class="line"><span class="lineno"> 2042</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2043</span>        <span class="keywordflow">for</span> doc_window <span class="keywordflow">in</span> doc_windows:</div>
<div class="line"><span class="lineno"> 2044</span>            <span class="keywordflow">yield</span> doc_window.copy() <span class="keywordflow">if</span> copy <span class="keywordflow">else</span> doc_window</div>
<div class="line"><span class="lineno"> 2045</span> </div>
<div class="line"><span class="lineno"> 2046</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a692f47df65bb4eb4160a98c9b223c29c" name="a692f47df65bb4eb4160a98c9b223c29c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a692f47df65bb4eb4160a98c9b223c29c">&#9670;&#160;</a></span>any2unicode()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.any2unicode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encoding</em> = <code>'utf8'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>errors</em> = <code>'strict'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert `text` (bytestring in given encoding or unicode) to unicode.

Parameters
----------
text : str
    Input text.
errors : str, optional
    Error handling behaviour if `text` is a bytestring.
encoding : str, optional
    Encoding of `text` if it is a bytestring.

Returns
-------
str
    Unicode version of `text`.</pre> <div class="fragment"><div class="line"><span class="lineno">  348</span><span class="keyword">def </span>any2unicode(text, encoding=&#39;utf8&#39;, errors=&#39;strict&#39;):</div>
<div class="line"><span class="lineno">  349</span>    <span class="stringliteral">&quot;&quot;&quot;Convert `text` (bytestring in given encoding or unicode) to unicode.</span></div>
<div class="line"><span class="lineno">  350</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  351</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  352</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  353</span><span class="stringliteral">    text : str</span></div>
<div class="line"><span class="lineno">  354</span><span class="stringliteral">        Input text.</span></div>
<div class="line"><span class="lineno">  355</span><span class="stringliteral">    errors : str, optional</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral">        Error handling behaviour if `text` is a bytestring.</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">    encoding : str, optional</span></div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral">        Encoding of `text` if it is a bytestring.</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">    str</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">        Unicode version of `text`.</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  366</span>    <span class="keywordflow">if</span> isinstance(text, unicode):</div>
<div class="line"><span class="lineno">  367</span>        <span class="keywordflow">return</span> text</div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordflow">return</span> unicode(text, encoding, errors=errors)</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c7b8caedd149b81d82d1b650d9698a5" name="a4c7b8caedd149b81d82d1b650d9698a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c7b8caedd149b81d82d1b650d9698a5">&#9670;&#160;</a></span>any2utf8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.any2utf8 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>errors</em> = <code>'strict'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encoding</em> = <code>'utf8'</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert a unicode or bytes string in the given encoding into a utf8 bytestring.

Parameters
----------
text : str
    Input text.
errors : str, optional
    Error handling behaviour if `text` is a bytestring.
encoding : str, optional
    Encoding of `text` if it is a bytestring.

Returns
-------
str
    Bytestring in utf8.</pre> <div class="fragment"><div class="line"><span class="lineno">  320</span><span class="keyword">def </span>any2utf8(text, errors=&#39;strict&#39;, encoding=&#39;utf8&#39;):</div>
<div class="line"><span class="lineno">  321</span>    <span class="stringliteral">&quot;&quot;&quot;Convert a unicode or bytes string in the given encoding into a utf8 bytestring.</span></div>
<div class="line"><span class="lineno">  322</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  323</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  324</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  325</span><span class="stringliteral">    text : str</span></div>
<div class="line"><span class="lineno">  326</span><span class="stringliteral">        Input text.</span></div>
<div class="line"><span class="lineno">  327</span><span class="stringliteral">    errors : str, optional</span></div>
<div class="line"><span class="lineno">  328</span><span class="stringliteral">        Error handling behaviour if `text` is a bytestring.</span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral">    encoding : str, optional</span></div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">        Encoding of `text` if it is a bytestring.</span></div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">    str</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral">        Bytestring in utf8.</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>    <span class="keywordflow">if</span> isinstance(text, unicode):</div>
<div class="line"><span class="lineno">  340</span>        <span class="keywordflow">return</span> text.encode(<span class="stringliteral">&#39;utf8&#39;</span>)</div>
<div class="line"><span class="lineno">  341</span>    <span class="comment"># do bytestring -&gt; unicode -&gt; utf8 full circle, to ensure valid utf8</span></div>
<div class="line"><span class="lineno">  342</span>    <span class="keywordflow">return</span> unicode(text, encoding, errors=errors).encode(<span class="stringliteral">&#39;utf8&#39;</span>)</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4dee7d0bb87b787d6c358464fd57fbe" name="ab4dee7d0bb87b787d6c358464fd57fbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4dee7d0bb87b787d6c358464fd57fbe">&#9670;&#160;</a></span>call_on_class_only()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.call_on_class_only </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper to raise `AttributeError` if a class method is called on an instance. Used internally.

Parameters
----------
*args
    Variable length argument list.
**kwargs
    Arbitrary keyword arguments.

Raises
------
AttributeError
    If a class method is called on an instance.</pre> <div class="fragment"><div class="line"><span class="lineno">  374</span><span class="keyword">def </span>call_on_class_only(*args, **kwargs):</div>
<div class="line"><span class="lineno">  375</span>    <span class="stringliteral">&quot;&quot;&quot;Helper to raise `AttributeError` if a class method is called on an instance. Used internally.</span></div>
<div class="line"><span class="lineno">  376</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  377</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  378</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  379</span><span class="stringliteral">    *args</span></div>
<div class="line"><span class="lineno">  380</span><span class="stringliteral">        Variable length argument list.</span></div>
<div class="line"><span class="lineno">  381</span><span class="stringliteral">    **kwargs</span></div>
<div class="line"><span class="lineno">  382</span><span class="stringliteral">        Arbitrary keyword arguments.</span></div>
<div class="line"><span class="lineno">  383</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  384</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  385</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  386</span><span class="stringliteral">    AttributeError</span></div>
<div class="line"><span class="lineno">  387</span><span class="stringliteral">        If a class method is called on an instance.</span></div>
<div class="line"><span class="lineno">  388</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  389</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">raise</span> AttributeError(<span class="stringliteral">&#39;This method should be called on a class object.&#39;</span>)</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3cacc66429031dee0733a37ddb9a30a" name="ad3cacc66429031dee0733a37ddb9a30a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3cacc66429031dee0733a37ddb9a30a">&#9670;&#160;</a></span>check_output()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.check_output </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stdout</em> = <code>subprocess.PIPE</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>popenargs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Run OS command with the given arguments and return its output as a byte string.

Backported from Python 2.7 with a few minor modifications. Widely used for :mod:`gensim.models.wrappers`.
Behaves very similar to https://docs.python.org/2/library/subprocess.html#subprocess.check_output.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.utils import check_output
    &gt;&gt;&gt; check_output(args=['echo', '1'])
    '1\n'

Raises
------
KeyboardInterrupt
    If Ctrl+C pressed.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1901</span><span class="keyword">def </span>check_output(stdout=subprocess.PIPE, *popenargs, **kwargs):</div>
<div class="line"><span class="lineno"> 1902</span>    <span class="stringliteral">r&quot;&quot;&quot;Run OS command with the given arguments and return its output as a byte string.</span></div>
<div class="line"><span class="lineno"> 1903</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1904</span><span class="stringliteral">    Backported from Python 2.7 with a few minor modifications. Widely used for :mod:`gensim.models.wrappers`.</span></div>
<div class="line"><span class="lineno"> 1905</span><span class="stringliteral">    Behaves very similar to https://docs.python.org/2/library/subprocess.html#subprocess.check_output.</span></div>
<div class="line"><span class="lineno"> 1906</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1907</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1908</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1909</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno"> 1910</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1911</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.utils import check_output</span></div>
<div class="line"><span class="lineno"> 1912</span><span class="stringliteral">        &gt;&gt;&gt; check_output(args=[&#39;echo&#39;, &#39;1&#39;])</span></div>
<div class="line"><span class="lineno"> 1913</span><span class="stringliteral">        &#39;1\n&#39;</span></div>
<div class="line"><span class="lineno"> 1914</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1915</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 1916</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1917</span><span class="stringliteral">    KeyboardInterrupt</span></div>
<div class="line"><span class="lineno"> 1918</span><span class="stringliteral">        If Ctrl+C pressed.</span></div>
<div class="line"><span class="lineno"> 1919</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1920</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1921</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1922</span>        logger.debug(<span class="stringliteral">&quot;COMMAND: %s %s&quot;</span>, popenargs, kwargs)</div>
<div class="line"><span class="lineno"> 1923</span>        process = subprocess.Popen(stdout=stdout, *popenargs, **kwargs)</div>
<div class="line"><span class="lineno"> 1924</span>        output, unused_err = process.communicate()</div>
<div class="line"><span class="lineno"> 1925</span>        retcode = process.poll()</div>
<div class="line"><span class="lineno"> 1926</span>        <span class="keywordflow">if</span> retcode:</div>
<div class="line"><span class="lineno"> 1927</span>            cmd = kwargs.get(<span class="stringliteral">&quot;args&quot;</span>)</div>
<div class="line"><span class="lineno"> 1928</span>            <span class="keywordflow">if</span> cmd <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1929</span>                cmd = popenargs[0]</div>
<div class="line"><span class="lineno"> 1930</span>            error = subprocess.CalledProcessError(retcode, cmd)</div>
<div class="line"><span class="lineno"> 1931</span>            error.output = output</div>
<div class="line"><span class="lineno"> 1932</span>            <span class="keywordflow">raise</span> error</div>
<div class="line"><span class="lineno"> 1933</span>        <span class="keywordflow">return</span> output</div>
<div class="line"><span class="lineno"> 1934</span>    <span class="keywordflow">except</span> KeyboardInterrupt:</div>
<div class="line"><span class="lineno"> 1935</span>        process.terminate()</div>
<div class="line"><span class="lineno"> 1936</span>        <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno"> 1937</span> </div>
<div class="line"><span class="lineno"> 1938</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af05c1551a5f857e9c00e668bc836b8c3" name="af05c1551a5f857e9c00e668bc836b8c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af05c1551a5f857e9c00e668bc836b8c3">&#9670;&#160;</a></span>chunkize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.chunkize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxsize</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>as_numpy</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Split `corpus` into fixed-sized chunks, using :func:`~gensim.utils.chunkize_serial`.

Parameters
----------
corpus : iterable of object
    An iterable.
chunksize : int
    Split `corpus` into chunks of this size.
maxsize : int, optional
    Ignored. For interface compatibility only.
as_numpy : bool, optional
    Yield chunks as `np.ndarray`s instead of lists?

Yields
------
list OR np.ndarray
    "chunksize"-ed chunks of elements from `corpus`.</pre><pre class="fragment">Split `corpus` into fixed-sized chunks, using :func:`~gensim.utils.chunkize_serial`.

Parameters
----------
corpus : iterable of object
    An iterable.
chunksize : int
    Split `corpus` into chunks of this size.
maxsize : int, optional
    If &gt; 0, prepare chunks in a background process, filling a chunk queue of size at most `maxsize`.
as_numpy : bool, optional
    Yield chunks as `np.ndarray` instead of lists?

Yields
------
list OR np.ndarray
    "chunksize"-ed chunks of elements from `corpus`.

Notes
-----
Each chunk is of length `chunksize`, except the last one which may be smaller.
A once-only input stream (`corpus` from a generator) is ok, chunking is done efficiently via itertools.

If `maxsize &gt; 0`, don't wait idly in between successive chunk `yields`, but rather keep filling a short queue
(of size at most `maxsize`) with forthcoming chunks in advance. This is realized by starting a separate process,
and is meant to reduce I/O delays, which can be significant when `corpus` comes from a slow medium
like HDD, database or network.

If `maxsize == 0`, don't fool around with parallelism and simply yield the chunksize
via :func:`~gensim.utils.chunkize_serial` (no I/O optimizations).

Yields
------
list of object OR np.ndarray
    Groups based on `iterable`</pre> <div class="fragment"><div class="line"><span class="lineno"> 1246</span>    <span class="keyword">def </span>chunkize(corpus, chunksize, maxsize=0, as_numpy=False):</div>
<div class="line"><span class="lineno"> 1247</span>        <span class="stringliteral">&quot;&quot;&quot;Split `corpus` into fixed-sized chunks, using :func:`~gensim.utils.chunkize_serial`.</span></div>
<div class="line"><span class="lineno"> 1248</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1249</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1250</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1251</span><span class="stringliteral">        corpus : iterable of object</span></div>
<div class="line"><span class="lineno"> 1252</span><span class="stringliteral">            An iterable.</span></div>
<div class="line"><span class="lineno"> 1253</span><span class="stringliteral">        chunksize : int</span></div>
<div class="line"><span class="lineno"> 1254</span><span class="stringliteral">            Split `corpus` into chunks of this size.</span></div>
<div class="line"><span class="lineno"> 1255</span><span class="stringliteral">        maxsize : int, optional</span></div>
<div class="line"><span class="lineno"> 1256</span><span class="stringliteral">            Ignored. For interface compatibility only.</span></div>
<div class="line"><span class="lineno"> 1257</span><span class="stringliteral">        as_numpy : bool, optional</span></div>
<div class="line"><span class="lineno"> 1258</span><span class="stringliteral">            Yield chunks as `np.ndarray`s instead of lists?</span></div>
<div class="line"><span class="lineno"> 1259</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1260</span><span class="stringliteral">        Yields</span></div>
<div class="line"><span class="lineno"> 1261</span><span class="stringliteral">        ------</span></div>
<div class="line"><span class="lineno"> 1262</span><span class="stringliteral">        list OR np.ndarray</span></div>
<div class="line"><span class="lineno"> 1263</span><span class="stringliteral">            &quot;chunksize&quot;-ed chunks of elements from `corpus`.</span></div>
<div class="line"><span class="lineno"> 1264</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1265</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1266</span>        <span class="keywordflow">if</span> maxsize &gt; 0:</div>
<div class="line"><span class="lineno"> 1267</span>            entity = <span class="stringliteral">&quot;Windows&quot;</span> <span class="keywordflow">if</span> os.name == <span class="stringliteral">&#39;nt&#39;</span> <span class="keywordflow">else</span> <span class="stringliteral">&quot;OSX with python3.8+&quot;</span></div>
<div class="line"><span class="lineno"> 1268</span>            warnings.warn(<span class="stringliteral">&quot;detected %s; aliasing chunkize to chunkize_serial&quot;</span> % entity)</div>
<div class="line"><span class="lineno"> 1269</span>        <span class="keywordflow">for</span> chunk <span class="keywordflow">in</span> chunkize_serial(corpus, chunksize, as_numpy=as_numpy):</div>
<div class="line"><span class="lineno"> 1270</span>            <span class="keywordflow">yield</span> chunk</div>
</div><!-- fragment -->
</div>
</div>
<a id="a864637d13ae09178074e561030afff20" name="a864637d13ae09178074e561030afff20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a864637d13ae09178074e561030afff20">&#9670;&#160;</a></span>chunkize_serial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.chunkize_serial </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iterable</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>as_numpy</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>np.float32</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Yield elements from `iterable` in "chunksize"-ed groups.

The last returned element may be smaller if the length of collection is not divisible by `chunksize`.

Parameters
----------
iterable : iterable of object
    An iterable.
chunksize : int
    Split iterable into chunks of this size.
as_numpy : bool, optional
    Yield chunks as `np.ndarray` instead of lists.

Yields
------
list OR np.ndarray
    "chunksize"-ed chunks of elements from `iterable`.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; print(list(grouper(range(10), 3)))
    [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9]]</pre> <div class="fragment"><div class="line"><span class="lineno"> 1145</span><span class="keyword">def </span>chunkize_serial(iterable, chunksize, as_numpy=False, dtype=np.float32):</div>
<div class="line"><span class="lineno"> 1146</span>    <span class="stringliteral">&quot;&quot;&quot;Yield elements from `iterable` in &quot;chunksize&quot;-ed groups.</span></div>
<div class="line"><span class="lineno"> 1147</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1148</span><span class="stringliteral">    The last returned element may be smaller if the length of collection is not divisible by `chunksize`.</span></div>
<div class="line"><span class="lineno"> 1149</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1150</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1151</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1152</span><span class="stringliteral">    iterable : iterable of object</span></div>
<div class="line"><span class="lineno"> 1153</span><span class="stringliteral">        An iterable.</span></div>
<div class="line"><span class="lineno"> 1154</span><span class="stringliteral">    chunksize : int</span></div>
<div class="line"><span class="lineno"> 1155</span><span class="stringliteral">        Split iterable into chunks of this size.</span></div>
<div class="line"><span class="lineno"> 1156</span><span class="stringliteral">    as_numpy : bool, optional</span></div>
<div class="line"><span class="lineno"> 1157</span><span class="stringliteral">        Yield chunks as `np.ndarray` instead of lists.</span></div>
<div class="line"><span class="lineno"> 1158</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1159</span><span class="stringliteral">    Yields</span></div>
<div class="line"><span class="lineno"> 1160</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1161</span><span class="stringliteral">    list OR np.ndarray</span></div>
<div class="line"><span class="lineno"> 1162</span><span class="stringliteral">        &quot;chunksize&quot;-ed chunks of elements from `iterable`.</span></div>
<div class="line"><span class="lineno"> 1163</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1164</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1165</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1166</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno"> 1167</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1168</span><span class="stringliteral">        &gt;&gt;&gt; print(list(grouper(range(10), 3)))</span></div>
<div class="line"><span class="lineno"> 1169</span><span class="stringliteral">        [[0, 1, 2], [3, 4, 5], [6, 7, 8], [9]]</span></div>
<div class="line"><span class="lineno"> 1170</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1171</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1172</span>    it = <a class="code hl_variable" href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a>(iterable)</div>
<div class="line"><span class="lineno"> 1173</span>    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno"> 1174</span>        <span class="keywordflow">if</span> as_numpy:</div>
<div class="line"><span class="lineno"> 1175</span>            <span class="comment"># convert each document to a 2d numpy array (~6x faster when transmitting</span></div>
<div class="line"><span class="lineno"> 1176</span>            <span class="comment"># chunk data over the wire, in Pyro)</span></div>
<div class="line"><span class="lineno"> 1177</span>            wrapped_chunk = [[np.array(doc, dtype=dtype) <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> itertools.islice(it, int(chunksize))]]</div>
<div class="line"><span class="lineno"> 1178</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1179</span>            wrapped_chunk = [list(itertools.islice(it, int(chunksize)))]</div>
<div class="line"><span class="lineno"> 1180</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> wrapped_chunk[0]:</div>
<div class="line"><span class="lineno"> 1181</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1182</span>        <span class="comment"># memory opt: wrap the chunk and then pop(), to avoid leaving behind a dangling reference</span></div>
<div class="line"><span class="lineno"> 1183</span>        <span class="keywordflow">yield</span> wrapped_chunk.pop()</div>
<div class="line"><span class="lineno"> 1184</span> </div>
<div class="line"><span class="lineno"> 1185</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_a60590d91febfcb54d88443940cd5f23e"><div class="ttname"><a href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a></div><div class="ttdeci">void int double int double double double double int int * iter</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:623</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b820218d7c18d79ec91c9418356d12a" name="a4b820218d7c18d79ec91c9418356d12a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b820218d7c18d79ec91c9418356d12a">&#9670;&#160;</a></span>copytree_hardlink()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.copytree_hardlink </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dest</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Recursively copy a directory ala shutils.copytree, but hardlink files instead of copying.

Parameters
----------
source : str
    Path to source directory
dest : str
    Path to destination directory

Warnings
--------
Available on UNIX systems only.</pre> <div class="fragment"><div class="line"><span class="lineno">  207</span><span class="keyword">def </span>copytree_hardlink(source, dest):</div>
<div class="line"><span class="lineno">  208</span>    <span class="stringliteral">&quot;&quot;&quot;Recursively copy a directory ala shutils.copytree, but hardlink files instead of copying.</span></div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  212</span><span class="stringliteral">    source : str</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral">        Path to source directory</span></div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">    dest : str</span></div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral">        Path to destination directory</span></div>
<div class="line"><span class="lineno">  216</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral">    Warnings</span></div>
<div class="line"><span class="lineno">  218</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  219</span><span class="stringliteral">    Available on UNIX systems only.</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  222</span>    copy2 = shutil.copy2</div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  224</span>        shutil.copy2 = os.link</div>
<div class="line"><span class="lineno">  225</span>        shutil.copytree(source, dest)</div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  227</span>        shutil.copy2 = copy2</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a52d4ed015119f09a97fc2f62e30578d5" name="a52d4ed015119f09a97fc2f62e30578d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52d4ed015119f09a97fc2f62e30578d5">&#9670;&#160;</a></span>deaccent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.deaccent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Remove letter accents from the given string.

Parameters
----------
text : str
    Input string.

Returns
-------
str
    Unicode string without accents.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.utils import deaccent
    &gt;&gt;&gt; deaccent("Šéf chomutovských komunistů dostal poštou bílý prášek")
    u'Sef chomutovskych komunistu dostal postou bily prasek'</pre> <div class="fragment"><div class="line"><span class="lineno">  177</span><span class="keyword">def </span>deaccent(text):</div>
<div class="line"><span class="lineno">  178</span>    <span class="stringliteral">&quot;&quot;&quot;Remove letter accents from the given string.</span></div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  182</span><span class="stringliteral">    text : str</span></div>
<div class="line"><span class="lineno">  183</span><span class="stringliteral">        Input string.</span></div>
<div class="line"><span class="lineno">  184</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  185</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral">    str</span></div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral">        Unicode string without accents.</span></div>
<div class="line"><span class="lineno">  189</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  190</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  191</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  192</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.utils import deaccent</span></div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral">        &gt;&gt;&gt; deaccent(&quot;Šéf chomutovských komunistů dostal poštou bílý prášek&quot;)</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">        u&#39;Sef chomutovskych komunistu dostal postou bily prasek&#39;</span></div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  198</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(text, unicode):</div>
<div class="line"><span class="lineno">  200</span>        <span class="comment"># assume utf8 for byte strings, use default (strict) error handling</span></div>
<div class="line"><span class="lineno">  201</span>        text = text.decode(<span class="stringliteral">&#39;utf8&#39;</span>)</div>
<div class="line"><span class="lineno">  202</span>    norm = unicodedata.normalize(<span class="stringliteral">&quot;NFD&quot;</span>, text)</div>
<div class="line"><span class="lineno">  203</span>    result = u(<span class="stringliteral">&#39;&#39;</span>).join(ch <span class="keywordflow">for</span> ch <span class="keywordflow">in</span> norm <span class="keywordflow">if</span> unicodedata.category(ch) != <span class="stringliteral">&#39;Mn&#39;</span>)</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">return</span> unicodedata.normalize(<span class="stringliteral">&quot;NFC&quot;</span>, result)</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3d964313bb3fa2620424a186df9c2c2" name="ac3d964313bb3fa2620424a186df9c2c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3d964313bb3fa2620424a186df9c2c2">&#9670;&#160;</a></span>decode_htmlentities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.decode_htmlentities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Decode all HTML entities in text that are encoded as hex, decimal or named entities.
Adapted from `python-twitter-ircbot/html_decode.py
&lt;http://github.com/sku/python-twitter-ircbot/blob/321d94e0e40d0acc92f5bf57d126b57369da70de/html_decode.py&gt;`_.

Parameters
----------
text : str
    Input HTML.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.utils import decode_htmlentities
    &gt;&gt;&gt;
    &gt;&gt;&gt; u = u'E tu vivrai nel terrore - L&amp;#x27;aldil&amp;#xE0; (1981)'
    &gt;&gt;&gt; print(decode_htmlentities(u).encode('UTF-8'))
    E tu vivrai nel terrore - L'aldilà (1981)
    &gt;&gt;&gt; print(decode_htmlentities("l&amp;#39;eau"))
    l'eau
    &gt;&gt;&gt; print(decode_htmlentities("foo &amp;lt; bar"))
    foo &lt; bar</pre> <div class="fragment"><div class="line"><span class="lineno"> 1095</span><span class="keyword">def </span>decode_htmlentities(text):</div>
<div class="line"><span class="lineno"> 1096</span>    <span class="stringliteral">&quot;&quot;&quot;Decode all HTML entities in text that are encoded as hex, decimal or named entities.</span></div>
<div class="line"><span class="lineno"> 1097</span><span class="stringliteral">    Adapted from `python-twitter-ircbot/html_decode.py</span></div>
<div class="line"><span class="lineno"> 1098</span><span class="stringliteral">    &lt;http://github.com/sku/python-twitter-ircbot/blob/321d94e0e40d0acc92f5bf57d126b57369da70de/html_decode.py&gt;`_.</span></div>
<div class="line"><span class="lineno"> 1099</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1100</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1101</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1102</span><span class="stringliteral">    text : str</span></div>
<div class="line"><span class="lineno"> 1103</span><span class="stringliteral">        Input HTML.</span></div>
<div class="line"><span class="lineno"> 1104</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1105</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1106</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1107</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno"> 1108</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1109</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.utils import decode_htmlentities</span></div>
<div class="line"><span class="lineno"> 1110</span><span class="stringliteral">        &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno"> 1111</span><span class="stringliteral">        &gt;&gt;&gt; u = u&#39;E tu vivrai nel terrore - L&amp;#x27;aldil&amp;#xE0; (1981)&#39;</span></div>
<div class="line"><span class="lineno"> 1112</span><span class="stringliteral">        &gt;&gt;&gt; print(decode_htmlentities(u).encode(&#39;UTF-8&#39;))</span></div>
<div class="line"><span class="lineno"> 1113</span><span class="stringliteral">        E tu vivrai nel terrore - L&#39;aldilà (1981)</span></div>
<div class="line"><span class="lineno"> 1114</span><span class="stringliteral">        &gt;&gt;&gt; print(decode_htmlentities(&quot;l&amp;#39;eau&quot;))</span></div>
<div class="line"><span class="lineno"> 1115</span><span class="stringliteral">        l&#39;eau</span></div>
<div class="line"><span class="lineno"> 1116</span><span class="stringliteral">        &gt;&gt;&gt; print(decode_htmlentities(&quot;foo &amp;lt; bar&quot;))</span></div>
<div class="line"><span class="lineno"> 1117</span><span class="stringliteral">        foo &lt; bar</span></div>
<div class="line"><span class="lineno"> 1118</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1119</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1120</span>    <span class="keyword">def </span>substitute_entity(match):</div>
<div class="line"><span class="lineno"> 1121</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1122</span>            ent = match.group(3)</div>
<div class="line"><span class="lineno"> 1123</span>            <span class="keywordflow">if</span> match.group(1) == <span class="stringliteral">&quot;#&quot;</span>:</div>
<div class="line"><span class="lineno"> 1124</span>                <span class="comment"># decoding by number</span></div>
<div class="line"><span class="lineno"> 1125</span>                <span class="keywordflow">if</span> match.group(2) == <span class="stringliteral">&#39;&#39;</span>:</div>
<div class="line"><span class="lineno"> 1126</span>                    <span class="comment"># number is in decimal</span></div>
<div class="line"><span class="lineno"> 1127</span>                    <span class="keywordflow">return</span> safe_unichr(int(ent))</div>
<div class="line"><span class="lineno"> 1128</span>                <span class="keywordflow">elif</span> match.group(2) <span class="keywordflow">in</span> [<span class="stringliteral">&#39;x&#39;</span>, <span class="stringliteral">&#39;X&#39;</span>]:</div>
<div class="line"><span class="lineno"> 1129</span>                    <span class="comment"># number is in hex</span></div>
<div class="line"><span class="lineno"> 1130</span>                    <span class="keywordflow">return</span> safe_unichr(int(ent, 16))</div>
<div class="line"><span class="lineno"> 1131</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1132</span>                <span class="comment"># they were using a name</span></div>
<div class="line"><span class="lineno"> 1133</span>                cp = n2cp.get(ent)</div>
<div class="line"><span class="lineno"> 1134</span>                <span class="keywordflow">if</span> cp:</div>
<div class="line"><span class="lineno"> 1135</span>                    <span class="keywordflow">return</span> safe_unichr(cp)</div>
<div class="line"><span class="lineno"> 1136</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1137</span>                    <span class="keywordflow">return</span> match.group()</div>
<div class="line"><span class="lineno"> 1138</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno"> 1139</span>            <span class="comment"># in case of errors, return original input</span></div>
<div class="line"><span class="lineno"> 1140</span>            <span class="keywordflow">return</span> match.group()</div>
<div class="line"><span class="lineno"> 1141</span> </div>
<div class="line"><span class="lineno"> 1142</span>    <span class="keywordflow">return</span> RE_HTML_ENTITY.sub(substitute_entity, text)</div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a9874918f2c6e334352af82a05a418a" name="a5a9874918f2c6e334352af82a05a418a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a9874918f2c6e334352af82a05a418a">&#9670;&#160;</a></span>deprecated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.deprecated </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Decorator to mark functions as deprecated.

Calling a decorated function will result in a warning being emitted, using warnings.warn.
Adapted from https://stackoverflow.com/a/40301488/8001386.

Parameters
----------
reason : str
    Reason of deprecation.

Returns
-------
function
    Decorated function</pre> <div class="fragment"><div class="line"><span class="lineno"> 1433</span><span class="keyword">def </span>deprecated(reason):</div>
<div class="line"><span class="lineno"> 1434</span>    <span class="stringliteral">&quot;&quot;&quot;Decorator to mark functions as deprecated.</span></div>
<div class="line"><span class="lineno"> 1435</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1436</span><span class="stringliteral">    Calling a decorated function will result in a warning being emitted, using warnings.warn.</span></div>
<div class="line"><span class="lineno"> 1437</span><span class="stringliteral">    Adapted from https://stackoverflow.com/a/40301488/8001386.</span></div>
<div class="line"><span class="lineno"> 1438</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1439</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1440</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1441</span><span class="stringliteral">    reason : str</span></div>
<div class="line"><span class="lineno"> 1442</span><span class="stringliteral">        Reason of deprecation.</span></div>
<div class="line"><span class="lineno"> 1443</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1444</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1445</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1446</span><span class="stringliteral">    function</span></div>
<div class="line"><span class="lineno"> 1447</span><span class="stringliteral">        Decorated function</span></div>
<div class="line"><span class="lineno"> 1448</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1449</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1450</span>    <span class="keywordflow">if</span> isinstance(reason, string_types):</div>
<div class="line"><span class="lineno"> 1451</span>        <span class="keyword">def </span>decorator(func):</div>
<div class="line"><span class="lineno"> 1452</span>            fmt = <span class="stringliteral">&quot;Call to deprecated `{name}` ({reason}).&quot;</span></div>
<div class="line"><span class="lineno"> 1453</span> </div>
<div class="line"><span class="lineno"> 1454</span>            <span class="preprocessor">@wraps(func)</span></div>
<div class="line"><span class="lineno"> 1455</span>            <span class="keyword">def </span>new_func1(*args, **kwargs):</div>
<div class="line"><span class="lineno"> 1456</span>                warnings.warn(</div>
<div class="line"><span class="lineno"> 1457</span>                    fmt.format(name=func.__name__, reason=reason),</div>
<div class="line"><span class="lineno"> 1458</span>                    category=DeprecationWarning,</div>
<div class="line"><span class="lineno"> 1459</span>                    stacklevel=2</div>
<div class="line"><span class="lineno"> 1460</span>                )</div>
<div class="line"><span class="lineno"> 1461</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(*args, **kwargs)</div>
<div class="line"><span class="lineno"> 1462</span> </div>
<div class="line"><span class="lineno"> 1463</span>            <span class="keywordflow">return</span> new_func1</div>
<div class="line"><span class="lineno"> 1464</span>        <span class="keywordflow">return</span> decorator</div>
<div class="line"><span class="lineno"> 1465</span> </div>
<div class="line"><span class="lineno"> 1466</span>    <span class="keywordflow">elif</span> inspect.isclass(reason) <span class="keywordflow">or</span> inspect.isfunction(reason):</div>
<div class="line"><span class="lineno"> 1467</span>        func = reason</div>
<div class="line"><span class="lineno"> 1468</span>        fmt = <span class="stringliteral">&quot;Call to deprecated `{name}`.&quot;</span></div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>        <span class="preprocessor">@wraps(func)</span></div>
<div class="line"><span class="lineno"> 1471</span>        <span class="keyword">def </span>new_func2(*args, **kwargs):</div>
<div class="line"><span class="lineno"> 1472</span>            warnings.warn(</div>
<div class="line"><span class="lineno"> 1473</span>                fmt.format(name=func.__name__),</div>
<div class="line"><span class="lineno"> 1474</span>                category=DeprecationWarning,</div>
<div class="line"><span class="lineno"> 1475</span>                stacklevel=2</div>
<div class="line"><span class="lineno"> 1476</span>            )</div>
<div class="line"><span class="lineno"> 1477</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(*args, **kwargs)</div>
<div class="line"><span class="lineno"> 1478</span>        <span class="keywordflow">return</span> new_func2</div>
<div class="line"><span class="lineno"> 1479</span> </div>
<div class="line"><span class="lineno"> 1480</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1481</span>        <span class="keywordflow">raise</span> TypeError(repr(type(reason)))</div>
<div class="line"><span class="lineno"> 1482</span> </div>
<div class="line"><span class="lineno"> 1483</span> </div>
<div class="line"><span class="lineno"> 1484</span><span class="preprocessor">@contextmanager</span></div>
<div class="ttc" id="acallback_2foo_8f_html_a565fe2cc583df102f120752b0011c330"><div class="ttname"><a href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a></div><div class="ttdeci">subroutine func(a)</div><div class="ttdef"><b>Definition</b> foo.f:9</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4bb05ff94cd93e22da37f512919e035" name="ac4bb05ff94cd93e22da37f512919e035"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4bb05ff94cd93e22da37f512919e035">&#9670;&#160;</a></span>dict_from_corpus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.dict_from_corpus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Scan corpus for all word ids that appear in it, then construct a mapping
which maps each `word_id` -&gt; `str(word_id)`.

Parameters
----------
corpus : iterable of iterable of (int, numeric)
    Collection of texts in BoW format.

Returns
------
id2word : :class:`~gensim.utils.FakeDict`
    "Fake" mapping which maps each `word_id` -&gt; `str(word_id)`.

Warnings
--------
This function is used whenever *words* need to be displayed (as opposed to just their ids)
but no `word_id` -&gt; `word` mapping was provided. The resulting mapping only covers words actually
used in the corpus, up to the highest `word_id` found.</pre> <div class="fragment"><div class="line"><span class="lineno">  814</span><span class="keyword">def </span>dict_from_corpus(corpus):</div>
<div class="line"><span class="lineno">  815</span>    <span class="stringliteral">&quot;&quot;&quot;Scan corpus for all word ids that appear in it, then construct a mapping</span></div>
<div class="line"><span class="lineno">  816</span><span class="stringliteral">    which maps each `word_id` -&gt; `str(word_id)`.</span></div>
<div class="line"><span class="lineno">  817</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  818</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  819</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  820</span><span class="stringliteral">    corpus : iterable of iterable of (int, numeric)</span></div>
<div class="line"><span class="lineno">  821</span><span class="stringliteral">        Collection of texts in BoW format.</span></div>
<div class="line"><span class="lineno">  822</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  823</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  824</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  825</span><span class="stringliteral">    id2word : :class:`~gensim.utils.FakeDict`</span></div>
<div class="line"><span class="lineno">  826</span><span class="stringliteral">        &quot;Fake&quot; mapping which maps each `word_id` -&gt; `str(word_id)`.</span></div>
<div class="line"><span class="lineno">  827</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  828</span><span class="stringliteral">    Warnings</span></div>
<div class="line"><span class="lineno">  829</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  830</span><span class="stringliteral">    This function is used whenever *words* need to be displayed (as opposed to just their ids)</span></div>
<div class="line"><span class="lineno">  831</span><span class="stringliteral">    but no `word_id` -&gt; `word` mapping was provided. The resulting mapping only covers words actually</span></div>
<div class="line"><span class="lineno">  832</span><span class="stringliteral">    used in the corpus, up to the highest `word_id` found.</span></div>
<div class="line"><span class="lineno">  833</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  834</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  835</span>    num_terms = 1 + get_max_id(corpus)</div>
<div class="line"><span class="lineno">  836</span>    id2word = FakeDict(num_terms)</div>
<div class="line"><span class="lineno">  837</span>    <span class="keywordflow">return</span> id2word</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab8a31ef3fa81a456c4d1b20ea701639d" name="ab8a31ef3fa81a456c4d1b20ea701639d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8a31ef3fa81a456c4d1b20ea701639d">&#9670;&#160;</a></span>effective_n_jobs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.effective_n_jobs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Determines the number of jobs can run in parallel.

Just like in sklearn, passing n_jobs=-1 means using all available
CPU cores.

Parameters
----------
n_jobs : int
    Number of workers requested by caller.

Returns
-------
int
    Number of effective jobs.</pre> <div class="fragment"><div class="line"><span class="lineno"> 2102</span><span class="keyword">def </span>effective_n_jobs(n_jobs):</div>
<div class="line"><span class="lineno"> 2103</span>    <span class="stringliteral">&quot;&quot;&quot;Determines the number of jobs can run in parallel.</span></div>
<div class="line"><span class="lineno"> 2104</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2105</span><span class="stringliteral">    Just like in sklearn, passing n_jobs=-1 means using all available</span></div>
<div class="line"><span class="lineno"> 2106</span><span class="stringliteral">    CPU cores.</span></div>
<div class="line"><span class="lineno"> 2107</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2108</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2109</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2110</span><span class="stringliteral">    n_jobs : int</span></div>
<div class="line"><span class="lineno"> 2111</span><span class="stringliteral">        Number of workers requested by caller.</span></div>
<div class="line"><span class="lineno"> 2112</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2113</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2114</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2115</span><span class="stringliteral">    int</span></div>
<div class="line"><span class="lineno"> 2116</span><span class="stringliteral">        Number of effective jobs.</span></div>
<div class="line"><span class="lineno"> 2117</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2118</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2119</span>    <span class="keywordflow">if</span> n_jobs == 0:</div>
<div class="line"><span class="lineno"> 2120</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;n_jobs == 0 in Parallel has no meaning&#39;</span>)</div>
<div class="line"><span class="lineno"> 2121</span>    <span class="keywordflow">elif</span> n_jobs <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2122</span>        <span class="keywordflow">return</span> 1</div>
<div class="line"><span class="lineno"> 2123</span>    <span class="keywordflow">elif</span> n_jobs &lt; 0:</div>
<div class="line"><span class="lineno"> 2124</span>        n_jobs = max(cpu_count() + 1 + n_jobs, 1)</div>
<div class="line"><span class="lineno"> 2125</span>    <span class="keywordflow">return</span> n_jobs</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad9510e1f0a8b02b386b3c4f5907164ac" name="ad9510e1f0a8b02b386b3c4f5907164ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9510e1f0a8b02b386b3c4f5907164ac">&#9670;&#160;</a></span>file_or_filename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.file_or_filename </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Open a filename for reading with `smart_open`, or seek to the beginning if `input` is an already open file.

Parameters
----------
input : str or file-like
    Filename or file-like object.

Returns
-------
file-like object
    An open file, positioned at the beginning.</pre> <div class="fragment"><div class="line"><span class="lineno">  124</span><span class="keyword">def </span>file_or_filename(input):</div>
<div class="line"><span class="lineno">  125</span>    <span class="stringliteral">&quot;&quot;&quot;Open a filename for reading with `smart_open`, or seek to the beginning if `input` is an already open file.</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">    input : str or file-like</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral">        Filename or file-like object.</span></div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral">    file-like object</span></div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">        An open file, positioned at the beginning.</span></div>
<div class="line"><span class="lineno">  136</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  137</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  138</span>    <span class="keywordflow">if</span> isinstance(input, string_types):</div>
<div class="line"><span class="lineno">  139</span>        <span class="comment"># input was a filename: open as file</span></div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">return</span> open(input, <span class="stringliteral">&#39;rb&#39;</span>)</div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  142</span>        <span class="comment"># input already a file-like object; just reset to the beginning</span></div>
<div class="line"><span class="lineno">  143</span>        input.seek(0)</div>
<div class="line"><span class="lineno">  144</span>        <span class="keywordflow">return</span> input</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span><span class="preprocessor">@contextmanager</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="afdda58391f5662e31bc3ef187cae3f55" name="afdda58391f5662e31bc3ef187cae3f55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdda58391f5662e31bc3ef187cae3f55">&#9670;&#160;</a></span>flatten()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.flatten </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nested_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Recursively flatten a nested sequence of elements.

Parameters
----------
nested_list : iterable
    Possibly nested sequence of elements to flatten.

Returns
-------
list
    Flattened version of `nested_list` where any elements that are an iterable (`collections.Iterable`)
    have been unpacked into the top-level list, in a recursive fashion.</pre> <div class="fragment"><div class="line"><span class="lineno"> 2047</span><span class="keyword">def </span>flatten(nested_list):</div>
<div class="line"><span class="lineno"> 2048</span>    <span class="stringliteral">&quot;&quot;&quot;Recursively flatten a nested sequence of elements.</span></div>
<div class="line"><span class="lineno"> 2049</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2050</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2051</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2052</span><span class="stringliteral">    nested_list : iterable</span></div>
<div class="line"><span class="lineno"> 2053</span><span class="stringliteral">        Possibly nested sequence of elements to flatten.</span></div>
<div class="line"><span class="lineno"> 2054</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2055</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2056</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2057</span><span class="stringliteral">    list</span></div>
<div class="line"><span class="lineno"> 2058</span><span class="stringliteral">        Flattened version of `nested_list` where any elements that are an iterable (`collections.Iterable`)</span></div>
<div class="line"><span class="lineno"> 2059</span><span class="stringliteral">        have been unpacked into the top-level list, in a recursive fashion.</span></div>
<div class="line"><span class="lineno"> 2060</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2061</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2062</span>    <span class="keywordflow">return</span> list(lazy_flatten(nested_list))</div>
<div class="line"><span class="lineno"> 2063</span> </div>
<div class="line"><span class="lineno"> 2064</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e782a1a8d30eceb32a8efa203abde35" name="a6e782a1a8d30eceb32a8efa203abde35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e782a1a8d30eceb32a8efa203abde35">&#9670;&#160;</a></span>get_max_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.get_max_id </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the highest feature id that appears in the corpus.

Parameters
----------
corpus : iterable of iterable of (int, numeric)
    Collection of texts in BoW format.

Returns
------
int
    Highest feature id.

Notes
-----
For empty `corpus` return -1.</pre> <div class="fragment"><div class="line"><span class="lineno">  724</span><span class="keyword">def </span>get_max_id(corpus):</div>
<div class="line"><span class="lineno">  725</span>    <span class="stringliteral">&quot;&quot;&quot;Get the highest feature id that appears in the corpus.</span></div>
<div class="line"><span class="lineno">  726</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  727</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  728</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  729</span><span class="stringliteral">    corpus : iterable of iterable of (int, numeric)</span></div>
<div class="line"><span class="lineno">  730</span><span class="stringliteral">        Collection of texts in BoW format.</span></div>
<div class="line"><span class="lineno">  731</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  732</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  733</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  734</span><span class="stringliteral">    int</span></div>
<div class="line"><span class="lineno">  735</span><span class="stringliteral">        Highest feature id.</span></div>
<div class="line"><span class="lineno">  736</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  737</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  738</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  739</span><span class="stringliteral">    For empty `corpus` return -1.</span></div>
<div class="line"><span class="lineno">  740</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  741</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  742</span>    maxid = -1</div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">for</span> document <span class="keywordflow">in</span> corpus:</div>
<div class="line"><span class="lineno">  744</span>        <span class="keywordflow">if</span> document:</div>
<div class="line"><span class="lineno">  745</span>            maxid = max(maxid, max(fieldid <span class="keywordflow">for</span> fieldid, _ <span class="keywordflow">in</span> document))</div>
<div class="line"><span class="lineno">  746</span>    <span class="keywordflow">return</span> maxid</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a32c4a54573b94230d1e01afcedaf9d" name="a4a32c4a54573b94230d1e01afcedaf9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a32c4a54573b94230d1e01afcedaf9d">&#9670;&#160;</a></span>get_my_ip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.get_my_ip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Try to obtain our external ip (from the Pyro4 nameserver's point of view)

Returns
-------
str
    IP address.

Warnings
--------
This tries to sidestep the issue of bogus `/etc/hosts` entries and other local misconfiguration,
which often mess up hostname resolution.
If all else fails, fall back to simple `socket.gethostbyname()` lookup.</pre> <div class="fragment"><div class="line"><span class="lineno">  894</span><span class="keyword">def </span>get_my_ip():</div>
<div class="line"><span class="lineno">  895</span>    <span class="stringliteral">&quot;&quot;&quot;Try to obtain our external ip (from the Pyro4 nameserver&#39;s point of view)</span></div>
<div class="line"><span class="lineno">  896</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  897</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  898</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  899</span><span class="stringliteral">    str</span></div>
<div class="line"><span class="lineno">  900</span><span class="stringliteral">        IP address.</span></div>
<div class="line"><span class="lineno">  901</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  902</span><span class="stringliteral">    Warnings</span></div>
<div class="line"><span class="lineno">  903</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  904</span><span class="stringliteral">    This tries to sidestep the issue of bogus `/etc/hosts` entries and other local misconfiguration,</span></div>
<div class="line"><span class="lineno">  905</span><span class="stringliteral">    which often mess up hostname resolution.</span></div>
<div class="line"><span class="lineno">  906</span><span class="stringliteral">    If all else fails, fall back to simple `socket.gethostbyname()` lookup.</span></div>
<div class="line"><span class="lineno">  907</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  908</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  909</span>    <span class="keyword">import</span> socket</div>
<div class="line"><span class="lineno">  910</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  911</span>        <span class="keyword">from</span> Pyro4.naming <span class="keyword">import</span> locateNS</div>
<div class="line"><span class="lineno">  912</span>        <span class="comment"># we know the nameserver must exist, so use it as our anchor point</span></div>
<div class="line"><span class="lineno">  913</span>        ns = locateNS()</div>
<div class="line"><span class="lineno">  914</span>        s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)</div>
<div class="line"><span class="lineno">  915</span>        s.connect((ns._pyroUri.host, ns._pyroUri.port))</div>
<div class="line"><span class="lineno">  916</span>        result, port = s.getsockname()</div>
<div class="line"><span class="lineno">  917</span>    <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  918</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  919</span>            <span class="comment"># see what ifconfig says about our default interface</span></div>
<div class="line"><span class="lineno">  920</span>            <span class="keyword">import</span> commands</div>
<div class="line"><span class="lineno">  921</span>            result = commands.getoutput(<span class="stringliteral">&quot;ifconfig&quot;</span>).split(<span class="stringliteral">&quot;\n&quot;</span>)[1].split()[1][5:]</div>
<div class="line"><span class="lineno">  922</span>            <span class="keywordflow">if</span> len(result.split(<span class="stringliteral">&#39;.&#39;</span>)) != 4:</div>
<div class="line"><span class="lineno">  923</span>                <span class="keywordflow">raise</span> Exception()</div>
<div class="line"><span class="lineno">  924</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  925</span>            <span class="comment"># give up, leave the resolution to gethostbyname</span></div>
<div class="line"><span class="lineno">  926</span>            result = socket.gethostbyname(socket.gethostname())</div>
<div class="line"><span class="lineno">  927</span>    <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa8c2faf233bcd1a8558ab810128dae3c" name="aa8c2faf233bcd1a8558ab810128dae3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8c2faf233bcd1a8558ab810128dae3c">&#9670;&#160;</a></span>get_random_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.get_random_state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>seed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generate :class:`numpy.random.RandomState` based on input seed.

Parameters
----------
seed : {None, int, array_like}
    Seed for random state.

Returns
-------
:class:`numpy.random.RandomState`
    Random state.

Raises
------
AttributeError
    If seed is not {None, int, array_like}.

Notes
-----
Method originally from `maciejkula/glove-python &lt;https://github.com/maciejkula/glove-python&gt;`_
and written by `@joshloyal &lt;https://github.com/joshloyal&gt;`_.</pre> <div class="fragment"><div class="line"><span class="lineno">   68</span><span class="keyword">def </span>get_random_state(seed):</div>
<div class="line"><span class="lineno">   69</span>    <span class="stringliteral">&quot;&quot;&quot;Generate :class:`numpy.random.RandomState` based on input seed.</span></div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">    seed : {None, int, array_like}</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">        Seed for random state.</span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral">    :class:`numpy.random.RandomState`</span></div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral">        Random state.</span></div>
<div class="line"><span class="lineno">   80</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   81</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">   82</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">   83</span><span class="stringliteral">    AttributeError</span></div>
<div class="line"><span class="lineno">   84</span><span class="stringliteral">        If seed is not {None, int, array_like}.</span></div>
<div class="line"><span class="lineno">   85</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   86</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">   87</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">   88</span><span class="stringliteral">    Method originally from `maciejkula/glove-python &lt;https://github.com/maciejkula/glove-python&gt;`_</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral">    and written by `@joshloyal &lt;https://github.com/joshloyal&gt;`_.</span></div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">if</span> seed <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> seed <span class="keywordflow">is</span> np.random:</div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">return</span> np.random.mtrand._rand</div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">if</span> isinstance(seed, (numbers.Integral, np.integer)):</div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">return</span> np.random.RandomState(seed)</div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> isinstance(seed, np.random.RandomState):</div>
<div class="line"><span class="lineno">   97</span>        <span class="keywordflow">return</span> seed</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;%r cannot be used to seed a np.random.RandomState instance&#39;</span> % seed)</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e5d88115928c01c8ee6cc1564311e76" name="a7e5d88115928c01c8ee6cc1564311e76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e5d88115928c01c8ee6cc1564311e76">&#9670;&#160;</a></span>getNS()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.getNS </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>host</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>port</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>broadcast</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hmac_key</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get a Pyro4 name server proxy.

Parameters
----------
host : str, optional
    Name server hostname.
port : int, optional
    Name server port.
broadcast : bool, optional
    Use broadcast mechanism? (i.e. reach out to all Pyro nodes in the network)
hmac_key : str, optional
    Private key.

Raises
------
RuntimeError
    When Pyro name server is not found.

Returns
-------
:class:`Pyro4.core.Proxy`
    Proxy from Pyro4.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1563</span><span class="keyword">def </span>getNS(host=None, port=None, broadcast=True, hmac_key=None):</div>
<div class="line"><span class="lineno"> 1564</span>    <span class="stringliteral">&quot;&quot;&quot;Get a Pyro4 name server proxy.</span></div>
<div class="line"><span class="lineno"> 1565</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1566</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1567</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1568</span><span class="stringliteral">    host : str, optional</span></div>
<div class="line"><span class="lineno"> 1569</span><span class="stringliteral">        Name server hostname.</span></div>
<div class="line"><span class="lineno"> 1570</span><span class="stringliteral">    port : int, optional</span></div>
<div class="line"><span class="lineno"> 1571</span><span class="stringliteral">        Name server port.</span></div>
<div class="line"><span class="lineno"> 1572</span><span class="stringliteral">    broadcast : bool, optional</span></div>
<div class="line"><span class="lineno"> 1573</span><span class="stringliteral">        Use broadcast mechanism? (i.e. reach out to all Pyro nodes in the network)</span></div>
<div class="line"><span class="lineno"> 1574</span><span class="stringliteral">    hmac_key : str, optional</span></div>
<div class="line"><span class="lineno"> 1575</span><span class="stringliteral">        Private key.</span></div>
<div class="line"><span class="lineno"> 1576</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1577</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 1578</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1579</span><span class="stringliteral">    RuntimeError</span></div>
<div class="line"><span class="lineno"> 1580</span><span class="stringliteral">        When Pyro name server is not found.</span></div>
<div class="line"><span class="lineno"> 1581</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1582</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1583</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1584</span><span class="stringliteral">    :class:`Pyro4.core.Proxy`</span></div>
<div class="line"><span class="lineno"> 1585</span><span class="stringliteral">        Proxy from Pyro4.</span></div>
<div class="line"><span class="lineno"> 1586</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1587</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1588</span>    <span class="keyword">import</span> Pyro4</div>
<div class="line"><span class="lineno"> 1589</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1590</span>        <span class="keywordflow">return</span> Pyro4.locateNS(host, port, broadcast, hmac_key)</div>
<div class="line"><span class="lineno"> 1591</span>    <span class="keywordflow">except</span> Pyro4.errors.NamingError:</div>
<div class="line"><span class="lineno"> 1592</span>        <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&quot;Pyro name server not found&quot;</span>)</div>
<div class="line"><span class="lineno"> 1593</span> </div>
<div class="line"><span class="lineno"> 1594</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa7696935137afba0f8e5267d308dddf6" name="aa7696935137afba0f8e5267d308dddf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7696935137afba0f8e5267d308dddf6">&#9670;&#160;</a></span>has_pattern()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.has_pattern </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check whether the `pattern &lt;https://github.com/clips/pattern&gt;`_ package is installed.

Returns
-------
bool
    Is `pattern` installed?</pre> <div class="fragment"><div class="line"><span class="lineno"> 1618</span><span class="keyword">def </span>has_pattern():</div>
<div class="line"><span class="lineno"> 1619</span>    <span class="stringliteral">&quot;&quot;&quot;Check whether the `pattern &lt;https://github.com/clips/pattern&gt;`_ package is installed.</span></div>
<div class="line"><span class="lineno"> 1620</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1621</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1622</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1623</span><span class="stringliteral">    bool</span></div>
<div class="line"><span class="lineno"> 1624</span><span class="stringliteral">        Is `pattern` installed?</span></div>
<div class="line"><span class="lineno"> 1625</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1626</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1627</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1628</span>        <span class="keyword">from</span> pattern.en <span class="keyword">import</span> parse  <span class="comment"># noqa:F401</span></div>
<div class="line"><span class="lineno"> 1629</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1630</span>    <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno"> 1631</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1632</span> </div>
<div class="line"><span class="lineno"> 1633</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f591a7dc7ed71171d59263d00f1066b" name="a1f591a7dc7ed71171d59263d00f1066b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f591a7dc7ed71171d59263d00f1066b">&#9670;&#160;</a></span>identity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.identity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Identity fnc, for flows that don't accept lambda (pickling etc).

Parameters
----------
p : object
    Input parameter.

Returns
-------
object
    Same as `p`.</pre> <div class="fragment"><div class="line"><span class="lineno">  707</span><span class="keyword">def </span>identity(p):</div>
<div class="line"><span class="lineno">  708</span>    <span class="stringliteral">&quot;&quot;&quot;Identity fnc, for flows that don&#39;t accept lambda (pickling etc).</span></div>
<div class="line"><span class="lineno">  709</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  710</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  711</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  712</span><span class="stringliteral">    p : object</span></div>
<div class="line"><span class="lineno">  713</span><span class="stringliteral">        Input parameter.</span></div>
<div class="line"><span class="lineno">  714</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  715</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  716</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  717</span><span class="stringliteral">    object</span></div>
<div class="line"><span class="lineno">  718</span><span class="stringliteral">        Same as `p`.</span></div>
<div class="line"><span class="lineno">  719</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  720</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  721</span>    <span class="keywordflow">return</span> p</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a516d75515b29f0f62c7e9f9e2629137d" name="a516d75515b29f0f62c7e9f9e2629137d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a516d75515b29f0f62c7e9f9e2629137d">&#9670;&#160;</a></span>ignore_deprecation_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.ignore_deprecation_warning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Contextmanager for ignoring DeprecationWarning.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1485</span><span class="keyword">def </span>ignore_deprecation_warning():</div>
<div class="line"><span class="lineno"> 1486</span>    <span class="stringliteral">&quot;&quot;&quot;Contextmanager for ignoring DeprecationWarning.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1487</span>    <span class="keyword">with</span> warnings.catch_warnings():</div>
<div class="line"><span class="lineno"> 1488</span>        warnings.filterwarnings(<span class="stringliteral">&quot;ignore&quot;</span>, category=DeprecationWarning)</div>
<div class="line"><span class="lineno"> 1489</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno"> 1490</span> </div>
<div class="line"><span class="lineno"> 1491</span> </div>
<div class="line"><span class="lineno"> 1492</span><span class="preprocessor">@deprecated(&quot;Function will be removed in 4.0.0&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8815bd28fa8011c6f712ab341cbcb89" name="ac8815bd28fa8011c6f712ab341cbcb89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8815bd28fa8011c6f712ab341cbcb89">&#9670;&#160;</a></span>is_corpus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.is_corpus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check whether `obj` is a corpus, by peeking at its first element. Works even on streamed generators.
The peeked element is put back into a object returned by this function, so always use
that returned object instead of the original `obj`.

Parameters
----------
obj : object
    An `iterable of iterable` that contains (int, numeric).

Returns
-------
(bool, object)
    Pair of (is `obj` a corpus, `obj` with peeked element restored)

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.utils import is_corpus
    &gt;&gt;&gt; corpus = [[(1, 1.0)], [(2, -0.3), (3, 0.12)]]
    &gt;&gt;&gt; corpus_or_not, corpus = is_corpus(corpus)

Warnings
--------
An "empty" corpus (empty input sequence) is ambiguous, so in this case
the result is forcefully defined as (False, `obj`).</pre> <div class="fragment"><div class="line"><span class="lineno">  840</span><span class="keyword">def </span>is_corpus(obj):</div>
<div class="line"><span class="lineno">  841</span>    <span class="stringliteral">&quot;&quot;&quot;Check whether `obj` is a corpus, by peeking at its first element. Works even on streamed generators.</span></div>
<div class="line"><span class="lineno">  842</span><span class="stringliteral">    The peeked element is put back into a object returned by this function, so always use</span></div>
<div class="line"><span class="lineno">  843</span><span class="stringliteral">    that returned object instead of the original `obj`.</span></div>
<div class="line"><span class="lineno">  844</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  845</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  846</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  847</span><span class="stringliteral">    obj : object</span></div>
<div class="line"><span class="lineno">  848</span><span class="stringliteral">        An `iterable of iterable` that contains (int, numeric).</span></div>
<div class="line"><span class="lineno">  849</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  850</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  851</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  852</span><span class="stringliteral">    (bool, object)</span></div>
<div class="line"><span class="lineno">  853</span><span class="stringliteral">        Pair of (is `obj` a corpus, `obj` with peeked element restored)</span></div>
<div class="line"><span class="lineno">  854</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  855</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  856</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  857</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  858</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  859</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.utils import is_corpus</span></div>
<div class="line"><span class="lineno">  860</span><span class="stringliteral">        &gt;&gt;&gt; corpus = [[(1, 1.0)], [(2, -0.3), (3, 0.12)]]</span></div>
<div class="line"><span class="lineno">  861</span><span class="stringliteral">        &gt;&gt;&gt; corpus_or_not, corpus = is_corpus(corpus)</span></div>
<div class="line"><span class="lineno">  862</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  863</span><span class="stringliteral">    Warnings</span></div>
<div class="line"><span class="lineno">  864</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  865</span><span class="stringliteral">    An &quot;empty&quot; corpus (empty input sequence) is ambiguous, so in this case</span></div>
<div class="line"><span class="lineno">  866</span><span class="stringliteral">    the result is forcefully defined as (False, `obj`).</span></div>
<div class="line"><span class="lineno">  867</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  868</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  869</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  870</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;Corpus&#39;</span> <span class="keywordflow">in</span> obj.__class__.__name__:  <span class="comment"># the most common case, quick hack</span></div>
<div class="line"><span class="lineno">  871</span>            <span class="keywordflow">return</span> <span class="keyword">True</span>, obj</div>
<div class="line"><span class="lineno">  872</span>    <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  873</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  874</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  875</span>        <span class="keywordflow">if</span> hasattr(obj, <span class="stringliteral">&#39;next&#39;</span>) <span class="keywordflow">or</span> hasattr(obj, <span class="stringliteral">&#39;__next__&#39;</span>):</div>
<div class="line"><span class="lineno">  876</span>            <span class="comment"># the input is an iterator object, meaning once we call next()</span></div>
<div class="line"><span class="lineno">  877</span>            <span class="comment"># that element could be gone forever. we must be careful to put</span></div>
<div class="line"><span class="lineno">  878</span>            <span class="comment"># whatever we retrieve back again</span></div>
<div class="line"><span class="lineno">  879</span>            doc1 = next(obj)</div>
<div class="line"><span class="lineno">  880</span>            obj = itertools.chain([doc1], obj)</div>
<div class="line"><span class="lineno">  881</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  882</span>            doc1 = next(<a class="code hl_variable" href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a>(obj))  <span class="comment"># empty corpus is resolved to False here</span></div>
<div class="line"><span class="lineno">  883</span>        <span class="keywordflow">if</span> len(doc1) == 0:  <span class="comment"># sparse documents must have a __len__ function (list, tuple...)</span></div>
<div class="line"><span class="lineno">  884</span>            <span class="keywordflow">return</span> <span class="keyword">True</span>, obj  <span class="comment"># the first document is empty=&gt;assume this is a corpus</span></div>
<div class="line"><span class="lineno">  885</span> </div>
<div class="line"><span class="lineno">  886</span>        <span class="comment"># if obj is a 1D numpy array(scalars) instead of 2-tuples, it resolves to False here</span></div>
<div class="line"><span class="lineno">  887</span>        id1, val1 = next(<a class="code hl_variable" href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a>(doc1))</div>
<div class="line"><span class="lineno">  888</span>        id1, val1 = int(id1), float(val1)  <span class="comment"># must be a 2-tuple (integer, float)</span></div>
<div class="line"><span class="lineno">  889</span>    <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  890</span>        <span class="keywordflow">return</span> <span class="keyword">False</span>, obj</div>
<div class="line"><span class="lineno">  891</span>    <span class="keywordflow">return</span> <span class="keyword">True</span>, obj</div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a03686b57b69777ad9dca3dc571a244d3" name="a03686b57b69777ad9dca3dc571a244d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03686b57b69777ad9dca3dc571a244d3">&#9670;&#160;</a></span>iter_windows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.iter_windows </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>texts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>window_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>copy</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ignore_below_size</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>include_doc_num</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Produce a generator over the given texts using a sliding window of `window_size`.

The windows produced are views of some subsequence of a text.
To use deep copies instead, pass `copy=True`.

Parameters
----------
texts : list of str
    List of string sentences.
window_size : int
    Size of sliding window.
copy : bool, optional
    Produce deep copies.
ignore_below_size : bool, optional
    Ignore documents that are not at least `window_size` in length?
include_doc_num : bool, optional
    Yield the text position with `texts` along with each window?</pre> <div class="fragment"><div class="line"><span class="lineno"> 2009</span><span class="keyword">def </span>iter_windows(texts, window_size, copy=False, ignore_below_size=True, include_doc_num=False):</div>
<div class="line"><span class="lineno"> 2010</span>    <span class="stringliteral">&quot;&quot;&quot;Produce a generator over the given texts using a sliding window of `window_size`.</span></div>
<div class="line"><span class="lineno"> 2011</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2012</span><span class="stringliteral">    The windows produced are views of some subsequence of a text.</span></div>
<div class="line"><span class="lineno"> 2013</span><span class="stringliteral">    To use deep copies instead, pass `copy=True`.</span></div>
<div class="line"><span class="lineno"> 2014</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2015</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2016</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2017</span><span class="stringliteral">    texts : list of str</span></div>
<div class="line"><span class="lineno"> 2018</span><span class="stringliteral">        List of string sentences.</span></div>
<div class="line"><span class="lineno"> 2019</span><span class="stringliteral">    window_size : int</span></div>
<div class="line"><span class="lineno"> 2020</span><span class="stringliteral">        Size of sliding window.</span></div>
<div class="line"><span class="lineno"> 2021</span><span class="stringliteral">    copy : bool, optional</span></div>
<div class="line"><span class="lineno"> 2022</span><span class="stringliteral">        Produce deep copies.</span></div>
<div class="line"><span class="lineno"> 2023</span><span class="stringliteral">    ignore_below_size : bool, optional</span></div>
<div class="line"><span class="lineno"> 2024</span><span class="stringliteral">        Ignore documents that are not at least `window_size` in length?</span></div>
<div class="line"><span class="lineno"> 2025</span><span class="stringliteral">    include_doc_num : bool, optional</span></div>
<div class="line"><span class="lineno"> 2026</span><span class="stringliteral">        Yield the text position with `texts` along with each window?</span></div>
<div class="line"><span class="lineno"> 2027</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2028</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2029</span>    <span class="keywordflow">for</span> doc_num, document <span class="keywordflow">in</span> enumerate(texts):</div>
<div class="line"><span class="lineno"> 2030</span>        <span class="keywordflow">for</span> window <span class="keywordflow">in</span> _iter_windows(document, window_size, copy, ignore_below_size):</div>
<div class="line"><span class="lineno"> 2031</span>            <span class="keywordflow">if</span> include_doc_num:</div>
<div class="line"><span class="lineno"> 2032</span>                <span class="keywordflow">yield</span> (doc_num, window)</div>
<div class="line"><span class="lineno"> 2033</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2034</span>                <span class="keywordflow">yield</span> window</div>
<div class="line"><span class="lineno"> 2035</span> </div>
<div class="line"><span class="lineno"> 2036</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d3f2d8083ccaedec44f456cb2156957" name="a6d3f2d8083ccaedec44f456cb2156957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d3f2d8083ccaedec44f456cb2156957">&#9670;&#160;</a></span>keep_vocab_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.keep_vocab_item </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trim_rule</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Should we keep `word` in the vocab or remove it?

Parameters
----------
word : str
    Input word.
count : int
    Number of times that word appeared in a corpus.
min_count : int
    Discard words with frequency smaller than this.
trim_rule : function, optional
    Custom function to decide whether to keep or discard this word.
    If a custom `trim_rule` is not specified, the default behaviour is simply `count &gt;= min_count`.

Returns
-------
bool
    True if `word` should stay, False otherwise.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1866</span><span class="keyword">def </span>keep_vocab_item(word, count, min_count, trim_rule=None):</div>
<div class="line"><span class="lineno"> 1867</span>    <span class="stringliteral">&quot;&quot;&quot;Should we keep `word` in the vocab or remove it?</span></div>
<div class="line"><span class="lineno"> 1868</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1869</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1870</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1871</span><span class="stringliteral">    word : str</span></div>
<div class="line"><span class="lineno"> 1872</span><span class="stringliteral">        Input word.</span></div>
<div class="line"><span class="lineno"> 1873</span><span class="stringliteral">    count : int</span></div>
<div class="line"><span class="lineno"> 1874</span><span class="stringliteral">        Number of times that word appeared in a corpus.</span></div>
<div class="line"><span class="lineno"> 1875</span><span class="stringliteral">    min_count : int</span></div>
<div class="line"><span class="lineno"> 1876</span><span class="stringliteral">        Discard words with frequency smaller than this.</span></div>
<div class="line"><span class="lineno"> 1877</span><span class="stringliteral">    trim_rule : function, optional</span></div>
<div class="line"><span class="lineno"> 1878</span><span class="stringliteral">        Custom function to decide whether to keep or discard this word.</span></div>
<div class="line"><span class="lineno"> 1879</span><span class="stringliteral">        If a custom `trim_rule` is not specified, the default behaviour is simply `count &gt;= min_count`.</span></div>
<div class="line"><span class="lineno"> 1880</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1881</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1882</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1883</span><span class="stringliteral">    bool</span></div>
<div class="line"><span class="lineno"> 1884</span><span class="stringliteral">        True if `word` should stay, False otherwise.</span></div>
<div class="line"><span class="lineno"> 1885</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1886</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1887</span>    default_res = count &gt;= min_count</div>
<div class="line"><span class="lineno"> 1888</span> </div>
<div class="line"><span class="lineno"> 1889</span>    <span class="keywordflow">if</span> trim_rule <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1890</span>        <span class="keywordflow">return</span> default_res</div>
<div class="line"><span class="lineno"> 1891</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1892</span>        rule_res = trim_rule(word, count, min_count)</div>
<div class="line"><span class="lineno"> 1893</span>        <span class="keywordflow">if</span> rule_res == RULE_KEEP:</div>
<div class="line"><span class="lineno"> 1894</span>            <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1895</span>        <span class="keywordflow">elif</span> rule_res == RULE_DISCARD:</div>
<div class="line"><span class="lineno"> 1896</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1897</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1898</span>            <span class="keywordflow">return</span> default_res</div>
<div class="line"><span class="lineno"> 1899</span> </div>
<div class="line"><span class="lineno"> 1900</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9da7b519286560588517d6aee7b4743d" name="a9da7b519286560588517d6aee7b4743d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9da7b519286560588517d6aee7b4743d">&#9670;&#160;</a></span>lazy_flatten()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.lazy_flatten </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nested_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Lazy version of :func:`~gensim.utils.flatten`.

Parameters
----------
nested_list : list
    Possibly nested list.

Yields
------
object
    Element of list</pre> <div class="fragment"><div class="line"><span class="lineno"> 2065</span><span class="keyword">def </span>lazy_flatten(nested_list):</div>
<div class="line"><span class="lineno"> 2066</span>    <span class="stringliteral">&quot;&quot;&quot;Lazy version of :func:`~gensim.utils.flatten`.</span></div>
<div class="line"><span class="lineno"> 2067</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2068</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2069</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2070</span><span class="stringliteral">    nested_list : list</span></div>
<div class="line"><span class="lineno"> 2071</span><span class="stringliteral">        Possibly nested list.</span></div>
<div class="line"><span class="lineno"> 2072</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2073</span><span class="stringliteral">    Yields</span></div>
<div class="line"><span class="lineno"> 2074</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 2075</span><span class="stringliteral">    object</span></div>
<div class="line"><span class="lineno"> 2076</span><span class="stringliteral">        Element of list</span></div>
<div class="line"><span class="lineno"> 2077</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2078</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2079</span>    <span class="keywordflow">for</span> el <span class="keywordflow">in</span> nested_list:</div>
<div class="line"><span class="lineno"> 2080</span>        <span class="keywordflow">if</span> isinstance(el, collections.Iterable) <span class="keywordflow">and</span> <span class="keywordflow">not</span> isinstance(el, string_types):</div>
<div class="line"><span class="lineno"> 2081</span>            <span class="keywordflow">for</span> sub <span class="keywordflow">in</span> flatten(el):</div>
<div class="line"><span class="lineno"> 2082</span>                <span class="keywordflow">yield</span> sub</div>
<div class="line"><span class="lineno"> 2083</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2084</span>            <span class="keywordflow">yield</span> el</div>
<div class="line"><span class="lineno"> 2085</span> </div>
<div class="line"><span class="lineno"> 2086</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d2a31cb58cb0ee7827462417771b985" name="a0d2a31cb58cb0ee7827462417771b985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d2a31cb58cb0ee7827462417771b985">&#9670;&#160;</a></span>lemmatize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.lemmatize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>allowed_tags</em> = <code>re.compile(<a class="el" href="__lapack__subroutines_8h.html#a952912404e837594f7cbfb183beeacd4">r</a>'(NN|VB|JJ|RB)')</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>light</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stopwords</em> = <code>frozenset()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_length</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_length</em> = <code>15</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Use the English lemmatizer from `pattern &lt;https://github.com/clips/pattern&gt;`_ to extract UTF8-encoded tokens in
their base form aka lemma, e.g. "are, is, being" becomes "be" etc.

This is a smarter version of stemming, taking word context into account.

Parameters
----------
content : str
    Input string
allowed_tags : :class:`_sre.SRE_Pattern`, optional
    Compiled regexp to select POS that will be used.
    Only considers nouns, verbs, adjectives and adverbs by default (=all other lemmas are discarded).
light : bool, optional
    DEPRECATED FLAG, DOESN'T SUPPORT BY `pattern`.
stopwords : frozenset, optional
    Set of words that will be removed from output.
min_length : int, optional
    Minimal token length in output (inclusive).
max_length : int, optional
    Maximal token length in output (inclusive).

Returns
-------
list of str
    List with tokens with POS tags.

Warnings
--------
This function is only available when the optional `pattern &lt;https://github.com/clips/pattern&gt;`_ is installed.

Raises
------
ImportError
    If `pattern &lt;https://github.com/clips/pattern&gt;`_ not installed.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.utils import lemmatize
    &gt;&gt;&gt; lemmatize('Hello World! How is it going?! Nonexistentword, 21')
    ['world/NN', 'be/VB', 'go/VB', 'nonexistentword/NN']

Note the context-dependent part-of-speech tags between these two examples:

.. sourcecode:: pycon

    &gt;&gt;&gt; lemmatize('The study ranks high.')
    ['study/NN', 'rank/VB', 'high/JJ']

    &gt;&gt;&gt; lemmatize('The ranks study hard.')
    ['rank/NN', 'study/VB', 'hard/RB']</pre> <div class="fragment"><div class="line"><span class="lineno"> 1635</span>              stopwords=frozenset(), min_length=2, max_length=15):</div>
<div class="line"><span class="lineno"> 1636</span>    <span class="stringliteral">&quot;&quot;&quot;Use the English lemmatizer from `pattern &lt;https://github.com/clips/pattern&gt;`_ to extract UTF8-encoded tokens in</span></div>
<div class="line"><span class="lineno"> 1637</span><span class="stringliteral">    their base form aka lemma, e.g. &quot;are, is, being&quot; becomes &quot;be&quot; etc.</span></div>
<div class="line"><span class="lineno"> 1638</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1639</span><span class="stringliteral">    This is a smarter version of stemming, taking word context into account.</span></div>
<div class="line"><span class="lineno"> 1640</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1641</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1642</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1643</span><span class="stringliteral">    content : str</span></div>
<div class="line"><span class="lineno"> 1644</span><span class="stringliteral">        Input string</span></div>
<div class="line"><span class="lineno"> 1645</span><span class="stringliteral">    allowed_tags : :class:`_sre.SRE_Pattern`, optional</span></div>
<div class="line"><span class="lineno"> 1646</span><span class="stringliteral">        Compiled regexp to select POS that will be used.</span></div>
<div class="line"><span class="lineno"> 1647</span><span class="stringliteral">        Only considers nouns, verbs, adjectives and adverbs by default (=all other lemmas are discarded).</span></div>
<div class="line"><span class="lineno"> 1648</span><span class="stringliteral">    light : bool, optional</span></div>
<div class="line"><span class="lineno"> 1649</span><span class="stringliteral">        DEPRECATED FLAG, DOESN&#39;T SUPPORT BY `pattern`.</span></div>
<div class="line"><span class="lineno"> 1650</span><span class="stringliteral">    stopwords : frozenset, optional</span></div>
<div class="line"><span class="lineno"> 1651</span><span class="stringliteral">        Set of words that will be removed from output.</span></div>
<div class="line"><span class="lineno"> 1652</span><span class="stringliteral">    min_length : int, optional</span></div>
<div class="line"><span class="lineno"> 1653</span><span class="stringliteral">        Minimal token length in output (inclusive).</span></div>
<div class="line"><span class="lineno"> 1654</span><span class="stringliteral">    max_length : int, optional</span></div>
<div class="line"><span class="lineno"> 1655</span><span class="stringliteral">        Maximal token length in output (inclusive).</span></div>
<div class="line"><span class="lineno"> 1656</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1657</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1658</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1659</span><span class="stringliteral">    list of str</span></div>
<div class="line"><span class="lineno"> 1660</span><span class="stringliteral">        List with tokens with POS tags.</span></div>
<div class="line"><span class="lineno"> 1661</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1662</span><span class="stringliteral">    Warnings</span></div>
<div class="line"><span class="lineno"> 1663</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1664</span><span class="stringliteral">    This function is only available when the optional `pattern &lt;https://github.com/clips/pattern&gt;`_ is installed.</span></div>
<div class="line"><span class="lineno"> 1665</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1666</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 1667</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1668</span><span class="stringliteral">    ImportError</span></div>
<div class="line"><span class="lineno"> 1669</span><span class="stringliteral">        If `pattern &lt;https://github.com/clips/pattern&gt;`_ not installed.</span></div>
<div class="line"><span class="lineno"> 1670</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1671</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1672</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1673</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno"> 1674</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1675</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.utils import lemmatize</span></div>
<div class="line"><span class="lineno"> 1676</span><span class="stringliteral">        &gt;&gt;&gt; lemmatize(&#39;Hello World! How is it going?! Nonexistentword, 21&#39;)</span></div>
<div class="line"><span class="lineno"> 1677</span><span class="stringliteral">        [&#39;world/NN&#39;, &#39;be/VB&#39;, &#39;go/VB&#39;, &#39;nonexistentword/NN&#39;]</span></div>
<div class="line"><span class="lineno"> 1678</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1679</span><span class="stringliteral">    Note the context-dependent part-of-speech tags between these two examples:</span></div>
<div class="line"><span class="lineno"> 1680</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1681</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno"> 1682</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1683</span><span class="stringliteral">        &gt;&gt;&gt; lemmatize(&#39;The study ranks high.&#39;)</span></div>
<div class="line"><span class="lineno"> 1684</span><span class="stringliteral">        [&#39;study/NN&#39;, &#39;rank/VB&#39;, &#39;high/JJ&#39;]</span></div>
<div class="line"><span class="lineno"> 1685</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1686</span><span class="stringliteral">        &gt;&gt;&gt; lemmatize(&#39;The ranks study hard.&#39;)</span></div>
<div class="line"><span class="lineno"> 1687</span><span class="stringliteral">        [&#39;rank/NN&#39;, &#39;study/VB&#39;, &#39;hard/RB&#39;]</span></div>
<div class="line"><span class="lineno"> 1688</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1689</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1690</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> has_pattern():</div>
<div class="line"><span class="lineno"> 1691</span>        <span class="keywordflow">raise</span> ImportError(</div>
<div class="line"><span class="lineno"> 1692</span>            <span class="stringliteral">&quot;Pattern library is not installed. Pattern library is needed in order to use lemmatize function&quot;</span></div>
<div class="line"><span class="lineno"> 1693</span>        )</div>
<div class="line"><span class="lineno"> 1694</span>    <span class="keyword">from</span> pattern.en <span class="keyword">import</span> parse</div>
<div class="line"><span class="lineno"> 1695</span> </div>
<div class="line"><span class="lineno"> 1696</span>    <span class="keywordflow">if</span> light:</div>
<div class="line"><span class="lineno"> 1697</span>        <span class="keyword">import</span> warnings</div>
<div class="line"><span class="lineno"> 1698</span>        warnings.warn(<span class="stringliteral">&quot;The light flag is no longer supported by pattern.&quot;</span>)</div>
<div class="line"><span class="lineno"> 1699</span> </div>
<div class="line"><span class="lineno"> 1700</span>    <span class="comment"># tokenization in `pattern` is weird; it gets thrown off by non-letters,</span></div>
<div class="line"><span class="lineno"> 1701</span>    <span class="comment"># producing &#39;==relate/VBN&#39; or &#39;**/NN&#39;... try to preprocess the text a little</span></div>
<div class="line"><span class="lineno"> 1702</span>    <span class="comment"># FIXME this throws away all fancy parsing cues, including sentence structure,</span></div>
<div class="line"><span class="lineno"> 1703</span>    <span class="comment"># abbreviations etc.</span></div>
<div class="line"><span class="lineno"> 1704</span>    content = u(<span class="stringliteral">&#39; &#39;</span>).join(tokenize(content, lower=<span class="keyword">True</span>, errors=<span class="stringliteral">&#39;ignore&#39;</span>))</div>
<div class="line"><span class="lineno"> 1705</span> </div>
<div class="line"><span class="lineno"> 1706</span>    parsed = <a class="code hl_namespace" href="namespaceparse.html">parse</a>(content, lemmata=<span class="keyword">True</span>, collapse=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1707</span>    result = []</div>
<div class="line"><span class="lineno"> 1708</span>    <span class="keywordflow">for</span> sentence <span class="keywordflow">in</span> parsed:</div>
<div class="line"><span class="lineno"> 1709</span>        <span class="keywordflow">for</span> token, tag, _, _, lemma <span class="keywordflow">in</span> sentence:</div>
<div class="line"><span class="lineno"> 1710</span>            <span class="keywordflow">if</span> min_length &lt;= len(lemma) &lt;= max_length <span class="keywordflow">and</span> <span class="keywordflow">not</span> lemma.startswith(<span class="stringliteral">&#39;_&#39;</span>) <span class="keywordflow">and</span> lemma <span class="keywordflow">not</span> <span class="keywordflow">in</span> stopwords:</div>
<div class="line"><span class="lineno"> 1711</span>                <span class="keywordflow">if</span> allowed_tags.match(tag):</div>
<div class="line"><span class="lineno"> 1712</span>                    lemma += <span class="stringliteral">&quot;/&quot;</span> + tag[:2]</div>
<div class="line"><span class="lineno"> 1713</span>                    result.append(lemma.encode(<span class="stringliteral">&#39;utf8&#39;</span>))</div>
<div class="line"><span class="lineno"> 1714</span>    <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno"> 1715</span> </div>
<div class="line"><span class="lineno"> 1716</span> </div>
<div class="ttc" id="anamespaceparse_html"><div class="ttname"><a href="namespaceparse.html">parse</a></div><div class="ttdef"><b>Definition</b> parse.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7286d0926315edfed1f5e71ece131d4" name="ae7286d0926315edfed1f5e71ece131d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7286d0926315edfed1f5e71ece131d4">&#9670;&#160;</a></span>merge_counts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.merge_counts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dict1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dict2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Merge `dict1` of (word, freq1) and `dict2` of (word, freq2) into `dict1` of (word, freq1+freq2).
Parameters
----------
dict1 : dict of (str, int)
    First dictionary.
dict2 : dict of (str, int)
    Second dictionary.
Returns
-------
result : dict
    Merged dictionary with sum of frequencies as values.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1818</span><span class="keyword">def </span>merge_counts(dict1, dict2):</div>
<div class="line"><span class="lineno"> 1819</span>    <span class="stringliteral">&quot;&quot;&quot;Merge `dict1` of (word, freq1) and `dict2` of (word, freq2) into `dict1` of (word, freq1+freq2).</span></div>
<div class="line"><span class="lineno"> 1820</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1821</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1822</span><span class="stringliteral">    dict1 : dict of (str, int)</span></div>
<div class="line"><span class="lineno"> 1823</span><span class="stringliteral">        First dictionary.</span></div>
<div class="line"><span class="lineno"> 1824</span><span class="stringliteral">    dict2 : dict of (str, int)</span></div>
<div class="line"><span class="lineno"> 1825</span><span class="stringliteral">        Second dictionary.</span></div>
<div class="line"><span class="lineno"> 1826</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1827</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1828</span><span class="stringliteral">    result : dict</span></div>
<div class="line"><span class="lineno"> 1829</span><span class="stringliteral">        Merged dictionary with sum of frequencies as values.</span></div>
<div class="line"><span class="lineno"> 1830</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1831</span>    <span class="keywordflow">for</span> word, freq <span class="keywordflow">in</span> iteritems(dict2):</div>
<div class="line"><span class="lineno"> 1832</span>        <span class="keywordflow">if</span> word <span class="keywordflow">in</span> dict1:</div>
<div class="line"><span class="lineno"> 1833</span>            dict1[word] += freq</div>
<div class="line"><span class="lineno"> 1834</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1835</span>            dict1[word] = freq</div>
<div class="line"><span class="lineno"> 1836</span> </div>
<div class="line"><span class="lineno"> 1837</span>    <span class="keywordflow">return</span> dict1</div>
<div class="line"><span class="lineno"> 1838</span> </div>
<div class="line"><span class="lineno"> 1839</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acc1707af1adc119f6d9e7961e468e8f0" name="acc1707af1adc119f6d9e7961e468e8f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc1707af1adc119f6d9e7961e468e8f0">&#9670;&#160;</a></span>mock_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.mock_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_items</em> = <code>1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dim</em> = <code>1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob_nnz</em> = <code>0.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lam</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a random Gensim-style corpus (BoW), using :func:`~gensim.utils.mock_data_row`.

Parameters
----------
n_items : int
    Size of corpus
dim : int
    Dimension of vector, used for :func:`~gensim.utils.mock_data_row`.
prob_nnz : float, optional
    Probability of each coordinate will be nonzero, will be drawn from Poisson distribution,
    used for :func:`~gensim.utils.mock_data_row`.
lam : float, optional
    Parameter for Poisson distribution, used for :func:`~gensim.utils.mock_data_row`.

Returns
-------
list of list of (int, float)
    Gensim-style corpus.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1739</span><span class="keyword">def </span>mock_data(n_items=1000, dim=1000, prob_nnz=0.5, lam=1.0):</div>
<div class="line"><span class="lineno"> 1740</span>    <span class="stringliteral">&quot;&quot;&quot;Create a random Gensim-style corpus (BoW), using :func:`~gensim.utils.mock_data_row`.</span></div>
<div class="line"><span class="lineno"> 1741</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1742</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1743</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1744</span><span class="stringliteral">    n_items : int</span></div>
<div class="line"><span class="lineno"> 1745</span><span class="stringliteral">        Size of corpus</span></div>
<div class="line"><span class="lineno"> 1746</span><span class="stringliteral">    dim : int</span></div>
<div class="line"><span class="lineno"> 1747</span><span class="stringliteral">        Dimension of vector, used for :func:`~gensim.utils.mock_data_row`.</span></div>
<div class="line"><span class="lineno"> 1748</span><span class="stringliteral">    prob_nnz : float, optional</span></div>
<div class="line"><span class="lineno"> 1749</span><span class="stringliteral">        Probability of each coordinate will be nonzero, will be drawn from Poisson distribution,</span></div>
<div class="line"><span class="lineno"> 1750</span><span class="stringliteral">        used for :func:`~gensim.utils.mock_data_row`.</span></div>
<div class="line"><span class="lineno"> 1751</span><span class="stringliteral">    lam : float, optional</span></div>
<div class="line"><span class="lineno"> 1752</span><span class="stringliteral">        Parameter for Poisson distribution, used for :func:`~gensim.utils.mock_data_row`.</span></div>
<div class="line"><span class="lineno"> 1753</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1754</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1755</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1756</span><span class="stringliteral">    list of list of (int, float)</span></div>
<div class="line"><span class="lineno"> 1757</span><span class="stringliteral">        Gensim-style corpus.</span></div>
<div class="line"><span class="lineno"> 1758</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1759</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1760</span>    <span class="keywordflow">return</span> [mock_data_row(dim=dim, prob_nnz=prob_nnz, lam=lam) <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(n_items)]</div>
<div class="line"><span class="lineno"> 1761</span> </div>
<div class="line"><span class="lineno"> 1762</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c41830d0c57293bba856ea47dad9028" name="a7c41830d0c57293bba856ea47dad9028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c41830d0c57293bba856ea47dad9028">&#9670;&#160;</a></span>mock_data_row()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.mock_data_row </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dim</em> = <code>1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob_nnz</em> = <code>0.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lam</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a random gensim BoW vector, with the feature counts following the Poisson distribution.

Parameters
----------
dim : int, optional
    Dimension of vector.
prob_nnz : float, optional
    Probability of each coordinate will be nonzero, will be drawn from the Poisson distribution.
lam : float, optional
    Lambda parameter for the Poisson distribution.

Returns
-------
list of (int, float)
    Vector in BoW format.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1717</span><span class="keyword">def </span>mock_data_row(dim=1000, prob_nnz=0.5, lam=1.0):</div>
<div class="line"><span class="lineno"> 1718</span>    <span class="stringliteral">&quot;&quot;&quot;Create a random gensim BoW vector, with the feature counts following the Poisson distribution.</span></div>
<div class="line"><span class="lineno"> 1719</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1720</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1721</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1722</span><span class="stringliteral">    dim : int, optional</span></div>
<div class="line"><span class="lineno"> 1723</span><span class="stringliteral">        Dimension of vector.</span></div>
<div class="line"><span class="lineno"> 1724</span><span class="stringliteral">    prob_nnz : float, optional</span></div>
<div class="line"><span class="lineno"> 1725</span><span class="stringliteral">        Probability of each coordinate will be nonzero, will be drawn from the Poisson distribution.</span></div>
<div class="line"><span class="lineno"> 1726</span><span class="stringliteral">    lam : float, optional</span></div>
<div class="line"><span class="lineno"> 1727</span><span class="stringliteral">        Lambda parameter for the Poisson distribution.</span></div>
<div class="line"><span class="lineno"> 1728</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1729</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1730</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1731</span><span class="stringliteral">    list of (int, float)</span></div>
<div class="line"><span class="lineno"> 1732</span><span class="stringliteral">        Vector in BoW format.</span></div>
<div class="line"><span class="lineno"> 1733</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1734</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1735</span>    nnz = np.random.uniform(size=(dim,))</div>
<div class="line"><span class="lineno"> 1736</span>    <span class="keywordflow">return</span> [(i, float(np.random.poisson(lam=lam) + 1.0)) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(dim) <span class="keywordflow">if</span> nnz[i] &lt; prob_nnz]</div>
<div class="line"><span class="lineno"> 1737</span> </div>
<div class="line"><span class="lineno"> 1738</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aabbdbc09652c6b02fc92a1716e8e4fc1" name="aabbdbc09652c6b02fc92a1716e8e4fc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabbdbc09652c6b02fc92a1716e8e4fc1">&#9670;&#160;</a></span>open_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.open_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>input</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Provide "with-like" behaviour without closing the file object.

Parameters
----------
input : str or file-like
    Filename or file-like object.

Yields
-------
file
    File-like object based on input (or input if this already file-like).</pre> <div class="fragment"><div class="line"><span class="lineno">  148</span><span class="keyword">def </span>open_file(input):</div>
<div class="line"><span class="lineno">  149</span>    <span class="stringliteral">&quot;&quot;&quot;Provide &quot;with-like&quot; behaviour without closing the file object.</span></div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">    input : str or file-like</span></div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">        Filename or file-like object.</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">    Yields</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  158</span><span class="stringliteral">    file</span></div>
<div class="line"><span class="lineno">  159</span><span class="stringliteral">        File-like object based on input (or input if this already file-like).</span></div>
<div class="line"><span class="lineno">  160</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  162</span>    mgr = file_or_filename(input)</div>
<div class="line"><span class="lineno">  163</span>    exc = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">yield</span> mgr</div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  167</span>        <span class="comment"># Handling any unhandled exceptions from the code nested in &#39;with&#39; statement.</span></div>
<div class="line"><span class="lineno">  168</span>        exc = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  169</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(input, string_types) <span class="keywordflow">or</span> <span class="keywordflow">not</span> mgr.__exit__(*sys.exc_info()):</div>
<div class="line"><span class="lineno">  170</span>            <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  171</span>        <span class="comment"># Try to introspect and silence errors.</span></div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> exc <span class="keywordflow">and</span> isinstance(input, string_types):</div>
<div class="line"><span class="lineno">  174</span>            mgr.__exit__(<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acbf830b64b172ff4f3da823f7e2b308e" name="acbf830b64b172ff4f3da823f7e2b308e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf830b64b172ff4f3da823f7e2b308e">&#9670;&#160;</a></span>pickle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.pickle </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>protocol</em> = <code>2</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Pickle object `obj` to file `fname`, using smart_open so that `fname` can be on S3, HDFS, compressed etc.

Parameters
----------
obj : object
    Any python object.
fname : str
    Path to pickle file.
protocol : int, optional
    Pickle protocol number. Default is 2 in order to support compatibility across python 2.x and 3.x.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1364</span><span class="keyword">def </span>pickle(obj, fname, protocol=2):</div>
<div class="line"><span class="lineno"> 1365</span>    <span class="stringliteral">&quot;&quot;&quot;Pickle object `obj` to file `fname`, using smart_open so that `fname` can be on S3, HDFS, compressed etc.</span></div>
<div class="line"><span class="lineno"> 1366</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1367</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1368</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1369</span><span class="stringliteral">    obj : object</span></div>
<div class="line"><span class="lineno"> 1370</span><span class="stringliteral">        Any python object.</span></div>
<div class="line"><span class="lineno"> 1371</span><span class="stringliteral">    fname : str</span></div>
<div class="line"><span class="lineno"> 1372</span><span class="stringliteral">        Path to pickle file.</span></div>
<div class="line"><span class="lineno"> 1373</span><span class="stringliteral">    protocol : int, optional</span></div>
<div class="line"><span class="lineno"> 1374</span><span class="stringliteral">        Pickle protocol number. Default is 2 in order to support compatibility across python 2.x and 3.x.</span></div>
<div class="line"><span class="lineno"> 1375</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1376</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1377</span>    <span class="keyword">with</span> open(fname, <span class="stringliteral">&#39;wb&#39;</span>) <span class="keyword">as</span> fout:  <span class="comment"># &#39;b&#39; for binary, needed on Windows</span></div>
<div class="line"><span class="lineno"> 1378</span>        _pickle.dump(obj, fout, protocol=protocol)</div>
<div class="line"><span class="lineno"> 1379</span> </div>
<div class="line"><span class="lineno"> 1380</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aca45c142f3d50fd3af7e40101b65e6d1" name="aca45c142f3d50fd3af7e40101b65e6d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca45c142f3d50fd3af7e40101b65e6d1">&#9670;&#160;</a></span>prune_vocab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.prune_vocab </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vocab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_reduce</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trim_rule</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Remove all entries from the `vocab` dictionary with count smaller than `min_reduce`.

Modifies `vocab` in place, returns the sum of all counts that were pruned.

Parameters
----------
vocab : dict
    Input dictionary.
min_reduce : int
    Frequency threshold for tokens in `vocab`.
trim_rule : function, optional
    Function for trimming entities from vocab, default behaviour is `vocab[w] &lt;= min_reduce`.

Returns
-------
result : int
    Sum of all counts that were pruned.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1763</span><span class="keyword">def </span>prune_vocab(vocab, min_reduce, trim_rule=None):</div>
<div class="line"><span class="lineno"> 1764</span>    <span class="stringliteral">&quot;&quot;&quot;Remove all entries from the `vocab` dictionary with count smaller than `min_reduce`.</span></div>
<div class="line"><span class="lineno"> 1765</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1766</span><span class="stringliteral">    Modifies `vocab` in place, returns the sum of all counts that were pruned.</span></div>
<div class="line"><span class="lineno"> 1767</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1768</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1769</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1770</span><span class="stringliteral">    vocab : dict</span></div>
<div class="line"><span class="lineno"> 1771</span><span class="stringliteral">        Input dictionary.</span></div>
<div class="line"><span class="lineno"> 1772</span><span class="stringliteral">    min_reduce : int</span></div>
<div class="line"><span class="lineno"> 1773</span><span class="stringliteral">        Frequency threshold for tokens in `vocab`.</span></div>
<div class="line"><span class="lineno"> 1774</span><span class="stringliteral">    trim_rule : function, optional</span></div>
<div class="line"><span class="lineno"> 1775</span><span class="stringliteral">        Function for trimming entities from vocab, default behaviour is `vocab[w] &lt;= min_reduce`.</span></div>
<div class="line"><span class="lineno"> 1776</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1777</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1778</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1779</span><span class="stringliteral">    result : int</span></div>
<div class="line"><span class="lineno"> 1780</span><span class="stringliteral">        Sum of all counts that were pruned.</span></div>
<div class="line"><span class="lineno"> 1781</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1782</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1783</span>    result = 0</div>
<div class="line"><span class="lineno"> 1784</span>    old_len = len(vocab)</div>
<div class="line"><span class="lineno"> 1785</span>    <span class="keywordflow">for</span> w <span class="keywordflow">in</span> list(vocab):  <span class="comment"># make a copy of dict&#39;s keys</span></div>
<div class="line"><span class="lineno"> 1786</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> keep_vocab_item(w, vocab[w], min_reduce, trim_rule):  <span class="comment"># vocab[w] &lt;= min_reduce:</span></div>
<div class="line"><span class="lineno"> 1787</span>            result += vocab[w]</div>
<div class="line"><span class="lineno"> 1788</span>            del vocab[w]</div>
<div class="line"><span class="lineno"> 1789</span>    logger.info(</div>
<div class="line"><span class="lineno"> 1790</span>        <span class="stringliteral">&quot;pruned out %i tokens with count &lt;=%i (before %i, after %i)&quot;</span>,</div>
<div class="line"><span class="lineno"> 1791</span>        old_len - len(vocab), min_reduce, old_len, len(vocab)</div>
<div class="line"><span class="lineno"> 1792</span>    )</div>
<div class="line"><span class="lineno"> 1793</span>    <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno"> 1794</span> </div>
<div class="line"><span class="lineno"> 1795</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2020b87ec94fa4810e3e7838174dc2db" name="a2020b87ec94fa4810e3e7838174dc2db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2020b87ec94fa4810e3e7838174dc2db">&#9670;&#160;</a></span>pyro_daemon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.pyro_daemon </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>random_suffix</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ip</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>port</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ns_conf</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Register an object with the Pyro name server.

Start the name server if not running yet and block until the daemon is terminated.
The object is registered under `name`, or `name`+ some random suffix if `random_suffix` is set.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1595</span><span class="keyword">def </span>pyro_daemon(name, obj, random_suffix=False, ip=None, port=None, ns_conf=None):</div>
<div class="line"><span class="lineno"> 1596</span>    <span class="stringliteral">&quot;&quot;&quot;Register an object with the Pyro name server.</span></div>
<div class="line"><span class="lineno"> 1597</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1598</span><span class="stringliteral">    Start the name server if not running yet and block until the daemon is terminated.</span></div>
<div class="line"><span class="lineno"> 1599</span><span class="stringliteral">    The object is registered under `name`, or `name`+ some random suffix if `random_suffix` is set.</span></div>
<div class="line"><span class="lineno"> 1600</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1601</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1602</span>    <span class="keywordflow">if</span> ns_conf <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1603</span>        ns_conf = {}</div>
<div class="line"><span class="lineno"> 1604</span>    <span class="keywordflow">if</span> random_suffix:</div>
<div class="line"><span class="lineno"> 1605</span>        name += <span class="stringliteral">&#39;.&#39;</span> + hex(random.randint(0, 0xffffff))[2:]</div>
<div class="line"><span class="lineno"> 1606</span> </div>
<div class="line"><span class="lineno"> 1607</span>    <span class="keyword">import</span> Pyro4</div>
<div class="line"><span class="lineno"> 1608</span>    <span class="keyword">with</span> getNS(**ns_conf) <span class="keyword">as</span> ns:</div>
<div class="line"><span class="lineno"> 1609</span>        <span class="keyword">with</span> Pyro4.Daemon(ip <span class="keywordflow">or</span> get_my_ip(), port <span class="keywordflow">or</span> 0) <span class="keyword">as</span> daemon:</div>
<div class="line"><span class="lineno"> 1610</span>            <span class="comment"># register server for remote access</span></div>
<div class="line"><span class="lineno"> 1611</span>            uri = daemon.register(obj, name)</div>
<div class="line"><span class="lineno"> 1612</span>            ns.remove(name)</div>
<div class="line"><span class="lineno"> 1613</span>            ns.register(name, uri)</div>
<div class="line"><span class="lineno"> 1614</span>            logger.info(<span class="stringliteral">&quot;%s registered with nameserver (URI &#39;%s&#39;)&quot;</span>, name, uri)</div>
<div class="line"><span class="lineno"> 1615</span>            daemon.requestLoop()</div>
<div class="line"><span class="lineno"> 1616</span> </div>
<div class="line"><span class="lineno"> 1617</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a410c1bb1f8aa6dc421aaf25b665c1d6d" name="a410c1bb1f8aa6dc421aaf25b665c1d6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a410c1bb1f8aa6dc421aaf25b665c1d6d">&#9670;&#160;</a></span>qsize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.qsize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the (approximate) queue size where available.

Parameters
----------
queue : :class:`queue.Queue`
    Input queue.

Returns
-------
int
    Queue size, -1 if `qsize` method isn't implemented (OS X).</pre> <div class="fragment"><div class="line"><span class="lineno"> 1840</span><span class="keyword">def </span>qsize(queue):</div>
<div class="line"><span class="lineno"> 1841</span>    <span class="stringliteral">&quot;&quot;&quot;Get the (approximate) queue size where available.</span></div>
<div class="line"><span class="lineno"> 1842</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1843</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1844</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1845</span><span class="stringliteral">    queue : :class:`queue.Queue`</span></div>
<div class="line"><span class="lineno"> 1846</span><span class="stringliteral">        Input queue.</span></div>
<div class="line"><span class="lineno"> 1847</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1848</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1849</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1850</span><span class="stringliteral">    int</span></div>
<div class="line"><span class="lineno"> 1851</span><span class="stringliteral">        Queue size, -1 if `qsize` method isn&#39;t implemented (OS X).</span></div>
<div class="line"><span class="lineno"> 1852</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1853</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1854</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1855</span>        <span class="keywordflow">return</span> queue.qsize()</div>
<div class="line"><span class="lineno"> 1856</span>    <span class="keywordflow">except</span> NotImplementedError:</div>
<div class="line"><span class="lineno"> 1857</span>        <span class="comment"># OS X doesn&#39;t support qsize</span></div>
<div class="line"><span class="lineno"> 1858</span>        <span class="keywordflow">return</span> -1</div>
<div class="line"><span class="lineno"> 1859</span> </div>
<div class="line"><span class="lineno"> 1860</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0842f1049e267661457d2248f6dac16b" name="a0842f1049e267661457d2248f6dac16b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0842f1049e267661457d2248f6dac16b">&#9670;&#160;</a></span>randfname()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.randfname </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prefix</em> = <code>'gensim'</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generate a random filename in temp.

Parameters
----------
prefix : str
    Prefix of filename.

Returns
-------
str
    Full path in the in system's temporary folder, ending in a random filename.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1519</span><span class="keyword">def </span>randfname(prefix=&#39;gensim&#39;):</div>
<div class="line"><span class="lineno"> 1520</span>    <span class="stringliteral">&quot;&quot;&quot;Generate a random filename in temp.</span></div>
<div class="line"><span class="lineno"> 1521</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1522</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1523</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1524</span><span class="stringliteral">    prefix : str</span></div>
<div class="line"><span class="lineno"> 1525</span><span class="stringliteral">        Prefix of filename.</span></div>
<div class="line"><span class="lineno"> 1526</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1527</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1528</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1529</span><span class="stringliteral">    str</span></div>
<div class="line"><span class="lineno"> 1530</span><span class="stringliteral">        Full path in the in system&#39;s temporary folder, ending in a random filename.</span></div>
<div class="line"><span class="lineno"> 1531</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1532</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1533</span>    randpart = hex(random.randint(0, 0xffffff))[2:]</div>
<div class="line"><span class="lineno"> 1534</span>    <span class="keywordflow">return</span> os.path.join(tempfile.gettempdir(), prefix + randpart)</div>
<div class="line"><span class="lineno"> 1535</span> </div>
<div class="line"><span class="lineno"> 1536</span> </div>
<div class="line"><span class="lineno"> 1537</span><span class="preprocessor">@deprecated(&quot;Function will be removed in 4.0.0&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7625346a645823d317bac34d5393cb8d" name="a7625346a645823d317bac34d5393cb8d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7625346a645823d317bac34d5393cb8d">&#9670;&#160;</a></span>revdict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.revdict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reverse a dictionary mapping, i.e. `{1: 2, 3: 4}` -&gt; `{2: 1, 4: 3}`.

Parameters
----------
d : dict
    Input dictionary.

Returns
-------
dict
    Reversed dictionary mapping.

Notes
-----
When two keys map to the same value, only one of them will be kept in the result (which one is kept is arbitrary).

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.utils import revdict
    &gt;&gt;&gt; d = {1: 2, 3: 4}
    &gt;&gt;&gt; revdict(d)
    {2: 1, 4: 3}</pre> <div class="fragment"><div class="line"><span class="lineno"> 1403</span><span class="keyword">def </span>revdict(d):</div>
<div class="line"><span class="lineno"> 1404</span>    <span class="stringliteral">&quot;&quot;&quot;Reverse a dictionary mapping, i.e. `{1: 2, 3: 4}` -&gt; `{2: 1, 4: 3}`.</span></div>
<div class="line"><span class="lineno"> 1405</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1406</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1407</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1408</span><span class="stringliteral">    d : dict</span></div>
<div class="line"><span class="lineno"> 1409</span><span class="stringliteral">        Input dictionary.</span></div>
<div class="line"><span class="lineno"> 1410</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1411</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1412</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1413</span><span class="stringliteral">    dict</span></div>
<div class="line"><span class="lineno"> 1414</span><span class="stringliteral">        Reversed dictionary mapping.</span></div>
<div class="line"><span class="lineno"> 1415</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1416</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 1417</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno"> 1418</span><span class="stringliteral">    When two keys map to the same value, only one of them will be kept in the result (which one is kept is arbitrary).</span></div>
<div class="line"><span class="lineno"> 1419</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1420</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1421</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1422</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno"> 1423</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1424</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.utils import revdict</span></div>
<div class="line"><span class="lineno"> 1425</span><span class="stringliteral">        &gt;&gt;&gt; d = {1: 2, 3: 4}</span></div>
<div class="line"><span class="lineno"> 1426</span><span class="stringliteral">        &gt;&gt;&gt; revdict(d)</span></div>
<div class="line"><span class="lineno"> 1427</span><span class="stringliteral">        {2: 1, 4: 3}</span></div>
<div class="line"><span class="lineno"> 1428</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1429</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1430</span>    <span class="keywordflow">return</span> {v: k <span class="keywordflow">for</span> (k, v) <span class="keywordflow">in</span> iteritems(dict(d))}</div>
<div class="line"><span class="lineno"> 1431</span> </div>
<div class="line"><span class="lineno"> 1432</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af59efcdebf28dd81da5360cbe6d88bd7" name="af59efcdebf28dd81da5360cbe6d88bd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af59efcdebf28dd81da5360cbe6d88bd7">&#9670;&#160;</a></span>safe_unichr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.safe_unichr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>intval</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a unicode character from its integer value. In case `unichr` fails, render the character
as an escaped `\\U&lt;8-byte hex value of intval&gt;` string.

Parameters
----------
intval : int
    Integer code of character

Returns
-------
string
    Unicode string of character</pre> <div class="fragment"><div class="line"><span class="lineno"> 1071</span><span class="keyword">def </span>safe_unichr(intval):</div>
<div class="line"><span class="lineno"> 1072</span>    <span class="stringliteral">&quot;&quot;&quot;Create a unicode character from its integer value. In case `unichr` fails, render the character</span></div>
<div class="line"><span class="lineno"> 1073</span><span class="stringliteral">    as an escaped `\\U&lt;8-byte hex value of intval&gt;` string.</span></div>
<div class="line"><span class="lineno"> 1074</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1075</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1076</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1077</span><span class="stringliteral">    intval : int</span></div>
<div class="line"><span class="lineno"> 1078</span><span class="stringliteral">        Integer code of character</span></div>
<div class="line"><span class="lineno"> 1079</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1080</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1081</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1082</span><span class="stringliteral">    string</span></div>
<div class="line"><span class="lineno"> 1083</span><span class="stringliteral">        Unicode string of character</span></div>
<div class="line"><span class="lineno"> 1084</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1085</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1086</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1087</span>        <span class="keywordflow">return</span> unichr(intval)</div>
<div class="line"><span class="lineno"> 1088</span>    <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno"> 1089</span>        <span class="comment"># ValueError: unichr() arg not in range(0x10000) (narrow Python build)</span></div>
<div class="line"><span class="lineno"> 1090</span>        s = <span class="stringliteral">&quot;\\U%08x&quot;</span> % intval</div>
<div class="line"><span class="lineno"> 1091</span>        <span class="comment"># return UTF16 surrogate pair</span></div>
<div class="line"><span class="lineno"> 1092</span>        <span class="keywordflow">return</span> s.decode(<span class="stringliteral">&#39;unicode-escape&#39;</span>)</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2aeeb070bdbb392a02d07a39c0cb4ba9" name="a2aeeb070bdbb392a02d07a39c0cb4ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aeeb070bdbb392a02d07a39c0cb4ba9">&#9670;&#160;</a></span>sample_dict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.sample_dict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_random</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Selected `n` (possibly random) items from the dictionary `d`.

Parameters
----------
d : dict
    Input dictionary.
n : int, optional
    Number of items to select.
use_random : bool, optional
    Select items randomly (without replacement), instead of by the natural dict iteration order?

Returns
-------
list of (object, object)
    Selected items from dictionary, as a list.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1939</span><span class="keyword">def </span>sample_dict(d, n=10, use_random=True):</div>
<div class="line"><span class="lineno"> 1940</span>    <span class="stringliteral">&quot;&quot;&quot;Selected `n` (possibly random) items from the dictionary `d`.</span></div>
<div class="line"><span class="lineno"> 1941</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1942</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1943</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1944</span><span class="stringliteral">    d : dict</span></div>
<div class="line"><span class="lineno"> 1945</span><span class="stringliteral">        Input dictionary.</span></div>
<div class="line"><span class="lineno"> 1946</span><span class="stringliteral">    n : int, optional</span></div>
<div class="line"><span class="lineno"> 1947</span><span class="stringliteral">        Number of items to select.</span></div>
<div class="line"><span class="lineno"> 1948</span><span class="stringliteral">    use_random : bool, optional</span></div>
<div class="line"><span class="lineno"> 1949</span><span class="stringliteral">        Select items randomly (without replacement), instead of by the natural dict iteration order?</span></div>
<div class="line"><span class="lineno"> 1950</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1951</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1952</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1953</span><span class="stringliteral">    list of (object, object)</span></div>
<div class="line"><span class="lineno"> 1954</span><span class="stringliteral">        Selected items from dictionary, as a list.</span></div>
<div class="line"><span class="lineno"> 1955</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1956</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1957</span>    selected_keys = random.sample(list(d), min(len(d), n)) <span class="keywordflow">if</span> use_random <span class="keywordflow">else</span> itertools.islice(iterkeys(d), n)</div>
<div class="line"><span class="lineno"> 1958</span>    <span class="keywordflow">return</span> [(key, d[key]) <span class="keywordflow">for</span> key <span class="keywordflow">in</span> selected_keys]</div>
<div class="line"><span class="lineno"> 1959</span> </div>
<div class="line"><span class="lineno"> 1960</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a75fe4588d773cfb394205c82542e2b4c" name="a75fe4588d773cfb394205c82542e2b4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75fe4588d773cfb394205c82542e2b4c">&#9670;&#160;</a></span>save_as_line_sentence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.save_as_line_sentence </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save the corpus in LineSentence format, i.e. each sentence on a separate line,
tokens are separated by space.

Parameters
----------
corpus : iterable of iterables of strings</pre> <div class="fragment"><div class="line"><span class="lineno"> 2087</span><span class="keyword">def </span>save_as_line_sentence(corpus, filename):</div>
<div class="line"><span class="lineno"> 2088</span>    <span class="stringliteral">&quot;&quot;&quot;Save the corpus in LineSentence format, i.e. each sentence on a separate line,</span></div>
<div class="line"><span class="lineno"> 2089</span><span class="stringliteral">    tokens are separated by space.</span></div>
<div class="line"><span class="lineno"> 2090</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2091</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2092</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2093</span><span class="stringliteral">    corpus : iterable of iterables of strings</span></div>
<div class="line"><span class="lineno"> 2094</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2095</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2096</span>    <span class="keyword">with</span> open(filename, mode=<span class="stringliteral">&#39;wb&#39;</span>, encoding=<span class="stringliteral">&#39;utf8&#39;</span>) <span class="keyword">as</span> fout:</div>
<div class="line"><span class="lineno"> 2097</span>        <span class="keywordflow">for</span> sentence <span class="keywordflow">in</span> corpus:</div>
<div class="line"><span class="lineno"> 2098</span>            line = any2unicode(<span class="stringliteral">&#39; &#39;</span>.join(sentence) + <span class="stringliteral">&#39;\n&#39;</span>)</div>
<div class="line"><span class="lineno"> 2099</span>            fout.write(line)</div>
<div class="line"><span class="lineno"> 2100</span> </div>
<div class="line"><span class="lineno"> 2101</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b37aaafb4adc3355ba1c5325f21f26a" name="a5b37aaafb4adc3355ba1c5325f21f26a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b37aaafb4adc3355ba1c5325f21f26a">&#9670;&#160;</a></span>simple_preprocess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.simple_preprocess </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>doc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>deacc</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_len</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_len</em> = <code>15</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert a document into a list of lowercase tokens, ignoring tokens that are too short or too long.

Uses :func:`~gensim.utils.tokenize` internally.

Parameters
----------
doc : str
    Input document.
deacc : bool, optional
    Remove accent marks from tokens using :func:`~gensim.utils.deaccent`?
min_len : int, optional
    Minimum length of token (inclusive). Shorter tokens are discarded.
max_len : int, optional
    Maximum length of token in result (inclusive). Longer tokens are discarded.

Returns
-------
list of str
    Tokens extracted from `doc`.</pre> <div class="fragment"><div class="line"><span class="lineno">  291</span><span class="keyword">def </span>simple_preprocess(doc, deacc=False, min_len=2, max_len=15):</div>
<div class="line"><span class="lineno">  292</span>    <span class="stringliteral">&quot;&quot;&quot;Convert a document into a list of lowercase tokens, ignoring tokens that are too short or too long.</span></div>
<div class="line"><span class="lineno">  293</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  294</span><span class="stringliteral">    Uses :func:`~gensim.utils.tokenize` internally.</span></div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral">    doc : str</span></div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral">        Input document.</span></div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">    deacc : bool, optional</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">        Remove accent marks from tokens using :func:`~gensim.utils.deaccent`?</span></div>
<div class="line"><span class="lineno">  302</span><span class="stringliteral">    min_len : int, optional</span></div>
<div class="line"><span class="lineno">  303</span><span class="stringliteral">        Minimum length of token (inclusive). Shorter tokens are discarded.</span></div>
<div class="line"><span class="lineno">  304</span><span class="stringliteral">    max_len : int, optional</span></div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">        Maximum length of token in result (inclusive). Longer tokens are discarded.</span></div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral">    list of str</span></div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">        Tokens extracted from `doc`.</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  312</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  313</span>    tokens = [</div>
<div class="line"><span class="lineno">  314</span>        token <span class="keywordflow">for</span> token <span class="keywordflow">in</span> tokenize(doc, lower=<span class="keyword">True</span>, deacc=deacc, errors=<span class="stringliteral">&#39;ignore&#39;</span>)</div>
<div class="line"><span class="lineno">  315</span>        <span class="keywordflow">if</span> min_len &lt;= len(token) &lt;= max_len <span class="keywordflow">and</span> <span class="keywordflow">not</span> token.startswith(<span class="stringliteral">&#39;_&#39;</span>)</div>
<div class="line"><span class="lineno">  316</span>    ]</div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">return</span> tokens</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad78381bc880647f13574ccb52c9db4f2" name="ad78381bc880647f13574ccb52c9db4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad78381bc880647f13574ccb52c9db4f2">&#9670;&#160;</a></span>simple_tokenize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.simple_tokenize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>text</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Tokenize input test using :const:`gensim.utils.PAT_ALPHABETIC`.

Parameters
----------
text : str
    Input text.

Yields
------
str
    Tokens from `text`.</pre> <div class="fragment"><div class="line"><span class="lineno">  273</span><span class="keyword">def </span>simple_tokenize(text):</div>
<div class="line"><span class="lineno">  274</span>    <span class="stringliteral">&quot;&quot;&quot;Tokenize input test using :const:`gensim.utils.PAT_ALPHABETIC`.</span></div>
<div class="line"><span class="lineno">  275</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  276</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  277</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  278</span><span class="stringliteral">    text : str</span></div>
<div class="line"><span class="lineno">  279</span><span class="stringliteral">        Input text.</span></div>
<div class="line"><span class="lineno">  280</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  281</span><span class="stringliteral">    Yields</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">    str</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral">        Tokens from `text`.</span></div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  287</span>    <span class="keywordflow">for</span> match <span class="keywordflow">in</span> PAT_ALPHABETIC.finditer(text):</div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">yield</span> match.group()</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af9746aa9f14ec582f00c89e647521276" name="af9746aa9f14ec582f00c89e647521276"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9746aa9f14ec582f00c89e647521276">&#9670;&#160;</a></span>smart_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.smart_extension </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Append a file extension `ext` to `fname`, while keeping compressed extensions like `.bz2` or
`.gz` (if any) at the end.

Parameters
----------
fname : str
    Filename or full path.
ext : str
    Extension to append before any compression extensions.

Returns
-------
str
    New path to file with `ext` appended.

Examples
--------

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.utils import smart_extension
    &gt;&gt;&gt; smart_extension("my_file.pkl.gz", ".vectors")
    'my_file.pkl.vectors.gz'</pre> <div class="fragment"><div class="line"><span class="lineno"> 1327</span><span class="keyword">def </span>smart_extension(fname, ext):</div>
<div class="line"><span class="lineno"> 1328</span>    <span class="stringliteral">&quot;&quot;&quot;Append a file extension `ext` to `fname`, while keeping compressed extensions like `.bz2` or</span></div>
<div class="line"><span class="lineno"> 1329</span><span class="stringliteral">    `.gz` (if any) at the end.</span></div>
<div class="line"><span class="lineno"> 1330</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1331</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1332</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1333</span><span class="stringliteral">    fname : str</span></div>
<div class="line"><span class="lineno"> 1334</span><span class="stringliteral">        Filename or full path.</span></div>
<div class="line"><span class="lineno"> 1335</span><span class="stringliteral">    ext : str</span></div>
<div class="line"><span class="lineno"> 1336</span><span class="stringliteral">        Extension to append before any compression extensions.</span></div>
<div class="line"><span class="lineno"> 1337</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1338</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1339</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1340</span><span class="stringliteral">    str</span></div>
<div class="line"><span class="lineno"> 1341</span><span class="stringliteral">        New path to file with `ext` appended.</span></div>
<div class="line"><span class="lineno"> 1342</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1343</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1344</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1345</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1346</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno"> 1347</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1348</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.utils import smart_extension</span></div>
<div class="line"><span class="lineno"> 1349</span><span class="stringliteral">        &gt;&gt;&gt; smart_extension(&quot;my_file.pkl.gz&quot;, &quot;.vectors&quot;)</span></div>
<div class="line"><span class="lineno"> 1350</span><span class="stringliteral">        &#39;my_file.pkl.vectors.gz&#39;</span></div>
<div class="line"><span class="lineno"> 1351</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1352</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1353</span>    fname, oext = os.path.splitext(fname)</div>
<div class="line"><span class="lineno"> 1354</span>    <span class="keywordflow">if</span> oext.endswith(<span class="stringliteral">&#39;.bz2&#39;</span>):</div>
<div class="line"><span class="lineno"> 1355</span>        fname = fname + oext[:-4] + ext + <span class="stringliteral">&#39;.bz2&#39;</span></div>
<div class="line"><span class="lineno"> 1356</span>    <span class="keywordflow">elif</span> oext.endswith(<span class="stringliteral">&#39;.gz&#39;</span>):</div>
<div class="line"><span class="lineno"> 1357</span>        fname = fname + oext[:-3] + ext + <span class="stringliteral">&#39;.gz&#39;</span></div>
<div class="line"><span class="lineno"> 1358</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1359</span>        fname = fname + oext + ext</div>
<div class="line"><span class="lineno"> 1360</span> </div>
<div class="line"><span class="lineno"> 1361</span>    <span class="keywordflow">return</span> fname</div>
<div class="line"><span class="lineno"> 1362</span> </div>
<div class="line"><span class="lineno"> 1363</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2765572d57d3da47f6c9f409b93ed870" name="a2765572d57d3da47f6c9f409b93ed870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2765572d57d3da47f6c9f409b93ed870">&#9670;&#160;</a></span>strided_windows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.strided_windows </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ndarray</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>window_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Produce a numpy.ndarray of windows, as from a sliding window.

Parameters
----------
ndarray : numpy.ndarray
    Input array
window_size : int
    Sliding window size.

Returns
-------
numpy.ndarray
    Subsequences produced by sliding a window of the given size over the `ndarray`.
    Since this uses striding, the individual arrays are views rather than copies of `ndarray`.
    Changes to one view modifies the others and the original.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.utils import strided_windows
    &gt;&gt;&gt; strided_windows(np.arange(5), 2)
    array([[0, 1],
           [1, 2],
           [2, 3],
           [3, 4]])
    &gt;&gt;&gt; strided_windows(np.arange(10), 5)
    array([[0, 1, 2, 3, 4],
           [1, 2, 3, 4, 5],
           [2, 3, 4, 5, 6],
           [3, 4, 5, 6, 7],
           [4, 5, 6, 7, 8],
           [5, 6, 7, 8, 9]])</pre> <div class="fragment"><div class="line"><span class="lineno"> 1961</span><span class="keyword">def </span>strided_windows(ndarray, window_size):</div>
<div class="line"><span class="lineno"> 1962</span>    <span class="stringliteral">&quot;&quot;&quot;Produce a numpy.ndarray of windows, as from a sliding window.</span></div>
<div class="line"><span class="lineno"> 1963</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1964</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1965</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1966</span><span class="stringliteral">    ndarray : numpy.ndarray</span></div>
<div class="line"><span class="lineno"> 1967</span><span class="stringliteral">        Input array</span></div>
<div class="line"><span class="lineno"> 1968</span><span class="stringliteral">    window_size : int</span></div>
<div class="line"><span class="lineno"> 1969</span><span class="stringliteral">        Sliding window size.</span></div>
<div class="line"><span class="lineno"> 1970</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1971</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1972</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1973</span><span class="stringliteral">    numpy.ndarray</span></div>
<div class="line"><span class="lineno"> 1974</span><span class="stringliteral">        Subsequences produced by sliding a window of the given size over the `ndarray`.</span></div>
<div class="line"><span class="lineno"> 1975</span><span class="stringliteral">        Since this uses striding, the individual arrays are views rather than copies of `ndarray`.</span></div>
<div class="line"><span class="lineno"> 1976</span><span class="stringliteral">        Changes to one view modifies the others and the original.</span></div>
<div class="line"><span class="lineno"> 1977</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1978</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1979</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1980</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno"> 1981</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1982</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.utils import strided_windows</span></div>
<div class="line"><span class="lineno"> 1983</span><span class="stringliteral">        &gt;&gt;&gt; strided_windows(np.arange(5), 2)</span></div>
<div class="line"><span class="lineno"> 1984</span><span class="stringliteral">        array([[0, 1],</span></div>
<div class="line"><span class="lineno"> 1985</span><span class="stringliteral">               [1, 2],</span></div>
<div class="line"><span class="lineno"> 1986</span><span class="stringliteral">               [2, 3],</span></div>
<div class="line"><span class="lineno"> 1987</span><span class="stringliteral">               [3, 4]])</span></div>
<div class="line"><span class="lineno"> 1988</span><span class="stringliteral">        &gt;&gt;&gt; strided_windows(np.arange(10), 5)</span></div>
<div class="line"><span class="lineno"> 1989</span><span class="stringliteral">        array([[0, 1, 2, 3, 4],</span></div>
<div class="line"><span class="lineno"> 1990</span><span class="stringliteral">               [1, 2, 3, 4, 5],</span></div>
<div class="line"><span class="lineno"> 1991</span><span class="stringliteral">               [2, 3, 4, 5, 6],</span></div>
<div class="line"><span class="lineno"> 1992</span><span class="stringliteral">               [3, 4, 5, 6, 7],</span></div>
<div class="line"><span class="lineno"> 1993</span><span class="stringliteral">               [4, 5, 6, 7, 8],</span></div>
<div class="line"><span class="lineno"> 1994</span><span class="stringliteral">               [5, 6, 7, 8, 9]])</span></div>
<div class="line"><span class="lineno"> 1995</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1996</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1997</span>    ndarray = np.asarray(ndarray)</div>
<div class="line"><span class="lineno"> 1998</span>    <span class="keywordflow">if</span> window_size == ndarray.shape[0]:</div>
<div class="line"><span class="lineno"> 1999</span>        <span class="keywordflow">return</span> np.array([ndarray])</div>
<div class="line"><span class="lineno"> 2000</span>    <span class="keywordflow">elif</span> window_size &gt; ndarray.shape[0]:</div>
<div class="line"><span class="lineno"> 2001</span>        <span class="keywordflow">return</span> np.ndarray((0, 0))</div>
<div class="line"><span class="lineno"> 2002</span> </div>
<div class="line"><span class="lineno"> 2003</span>    stride = ndarray.strides[0]</div>
<div class="line"><span class="lineno"> 2004</span>    <span class="keywordflow">return</span> np.lib.stride_tricks.as_strided(</div>
<div class="line"><span class="lineno"> 2005</span>        ndarray, shape=(ndarray.shape[0] - window_size + 1, window_size),</div>
<div class="line"><span class="lineno"> 2006</span>        strides=(stride, stride))</div>
<div class="line"><span class="lineno"> 2007</span> </div>
<div class="line"><span class="lineno"> 2008</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a451e673e9358dfe95c84a68e2f5f02ee" name="a451e673e9358dfe95c84a68e2f5f02ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a451e673e9358dfe95c84a68e2f5f02ee">&#9670;&#160;</a></span>synchronous()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.synchronous </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tlockname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">A decorator to place an instance-based lock around a method.

Notes
-----
Adapted from http://code.activestate.com/recipes/577105-synchronization-decorator-for-class-methods/.</pre> <div class="fragment"><div class="line"><span class="lineno">  101</span><span class="keyword">def </span>synchronous(tlockname):</div>
<div class="line"><span class="lineno">  102</span>    <span class="stringliteral">&quot;&quot;&quot;A decorator to place an instance-based lock around a method.</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">    Adapted from http://code.activestate.com/recipes/577105-synchronization-decorator-for-class-methods/.</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  109</span>    <span class="keyword">def </span>_synched(func):</div>
<div class="line"><span class="lineno">  110</span>        <span class="preprocessor">@wraps(func)</span></div>
<div class="line"><span class="lineno">  111</span>        <span class="keyword">def </span>_synchronizer(self, *args, **kwargs):</div>
<div class="line"><span class="lineno">  112</span>            tlock = getattr(self, tlockname)</div>
<div class="line"><span class="lineno">  113</span>            logger.debug(<span class="stringliteral">&quot;acquiring lock %r for %s&quot;</span>, tlockname, func.__name__)</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>            <span class="keyword">with</span> tlock:  <span class="comment"># use lock as a context manager to perform safe acquire/release pairs</span></div>
<div class="line"><span class="lineno">  116</span>                logger.debug(<span class="stringliteral">&quot;acquired lock %r for %s&quot;</span>, tlockname, func.__name__)</div>
<div class="line"><span class="lineno">  117</span>                result = <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(self, *args, **kwargs)</div>
<div class="line"><span class="lineno">  118</span>                logger.debug(<span class="stringliteral">&quot;releasing lock %r for %s&quot;</span>, tlockname, func.__name__)</div>
<div class="line"><span class="lineno">  119</span>                <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  120</span>        <span class="keywordflow">return</span> _synchronizer</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">return</span> _synched</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abfcd1e57db36ead758c9c3f200da0271" name="abfcd1e57db36ead758c9c3f200da0271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfcd1e57db36ead758c9c3f200da0271">&#9670;&#160;</a></span>tokenize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.tokenize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lowercase</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>deacc</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encoding</em> = <code>'utf8'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>errors</em> = <code>&quot;strict&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>to_lower</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lower</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Iteratively yield tokens as unicode strings, optionally removing accent marks and lowercasing it.

Parameters
----------
text : str or bytes
    Input string.
deacc : bool, optional
    Remove accentuation using :func:`~gensim.utils.deaccent`?
encoding : str, optional
    Encoding of input string, used as parameter for :func:`~gensim.utils.to_unicode`.
errors : str, optional
    Error handling behaviour, used as parameter for :func:`~gensim.utils.to_unicode`.
lowercase : bool, optional
    Lowercase the input string?
to_lower : bool, optional
    Same as `lowercase`. Convenience alias.
lower : bool, optional
    Same as `lowercase`. Convenience alias.

Yields
------
str
    Contiguous sequences of alphabetic characters (no digits!), using :func:`~gensim.utils.simple_tokenize`

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.utils import tokenize
    &gt;&gt;&gt; list(tokenize('Nic nemůže letět rychlostí vyšší, než 300 tisíc kilometrů za sekundu!', deacc=True))
    [u'Nic', u'nemuze', u'letet', u'rychlosti', u'vyssi', u'nez', u'tisic', u'kilometru', u'za', u'sekundu']</pre> <div class="fragment"><div class="line"><span class="lineno">  230</span><span class="keyword">def </span>tokenize(text, lowercase=False, deacc=False, encoding=&#39;utf8&#39;, errors=&quot;strict&quot;, to_lower=False, lower=False):</div>
<div class="line"><span class="lineno">  231</span>    <span class="stringliteral">&quot;&quot;&quot;Iteratively yield tokens as unicode strings, optionally removing accent marks and lowercasing it.</span></div>
<div class="line"><span class="lineno">  232</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  233</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  235</span><span class="stringliteral">    text : str or bytes</span></div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral">        Input string.</span></div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">    deacc : bool, optional</span></div>
<div class="line"><span class="lineno">  238</span><span class="stringliteral">        Remove accentuation using :func:`~gensim.utils.deaccent`?</span></div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral">    encoding : str, optional</span></div>
<div class="line"><span class="lineno">  240</span><span class="stringliteral">        Encoding of input string, used as parameter for :func:`~gensim.utils.to_unicode`.</span></div>
<div class="line"><span class="lineno">  241</span><span class="stringliteral">    errors : str, optional</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral">        Error handling behaviour, used as parameter for :func:`~gensim.utils.to_unicode`.</span></div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral">    lowercase : bool, optional</span></div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">        Lowercase the input string?</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral">    to_lower : bool, optional</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral">        Same as `lowercase`. Convenience alias.</span></div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral">    lower : bool, optional</span></div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">        Same as `lowercase`. Convenience alias.</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral">    Yields</span></div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  252</span><span class="stringliteral">    str</span></div>
<div class="line"><span class="lineno">  253</span><span class="stringliteral">        Contiguous sequences of alphabetic characters (no digits!), using :func:`~gensim.utils.simple_tokenize`</span></div>
<div class="line"><span class="lineno">  254</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  255</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  256</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  257</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  258</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  259</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.utils import tokenize</span></div>
<div class="line"><span class="lineno">  260</span><span class="stringliteral">        &gt;&gt;&gt; list(tokenize(&#39;Nic nemůže letět rychlostí vyšší, než 300 tisíc kilometrů za sekundu!&#39;, deacc=True))</span></div>
<div class="line"><span class="lineno">  261</span><span class="stringliteral">        [u&#39;Nic&#39;, u&#39;nemuze&#39;, u&#39;letet&#39;, u&#39;rychlosti&#39;, u&#39;vyssi&#39;, u&#39;nez&#39;, u&#39;tisic&#39;, u&#39;kilometru&#39;, u&#39;za&#39;, u&#39;sekundu&#39;]</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  264</span>    lowercase = lowercase <span class="keywordflow">or</span> to_lower <span class="keywordflow">or</span> lower</div>
<div class="line"><span class="lineno">  265</span>    text = to_unicode(text, encoding, errors=errors)</div>
<div class="line"><span class="lineno">  266</span>    <span class="keywordflow">if</span> lowercase:</div>
<div class="line"><span class="lineno">  267</span>        text = text.lower()</div>
<div class="line"><span class="lineno">  268</span>    <span class="keywordflow">if</span> deacc:</div>
<div class="line"><span class="lineno">  269</span>        text = deaccent(text)</div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">return</span> simple_tokenize(text)</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c3a4aeb0675b6e66e0f331ae020e0cb" name="a9c3a4aeb0675b6e66e0f331ae020e0cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c3a4aeb0675b6e66e0f331ae020e0cb">&#9670;&#160;</a></span>toptexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.toptexts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>query</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>texts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Debug fnc to help inspect the top `n` most similar documents (according to a similarity index `index`),
to see if they are actually related to the query.

Parameters
----------
query : {list of (int, number), numpy.ndarray}
    vector OR BoW (list of tuples)
texts : str
    object that can return something insightful for each document via `texts[docid]`,
    such as its fulltext or snippet.
index : any
    A instance from from :mod:`gensim.similarity.docsim`.

Return
------
list
    a list of 3-tuples (docid, doc's similarity to the query, texts[docid])</pre> <div class="fragment"><div class="line"><span class="lineno"> 1493</span><span class="keyword">def </span>toptexts(query, texts, index, n=10):</div>
<div class="line"><span class="lineno"> 1494</span>    <span class="stringliteral">&quot;&quot;&quot;Debug fnc to help inspect the top `n` most similar documents (according to a similarity index `index`),</span></div>
<div class="line"><span class="lineno"> 1495</span><span class="stringliteral">    to see if they are actually related to the query.</span></div>
<div class="line"><span class="lineno"> 1496</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1497</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1498</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1499</span><span class="stringliteral">    query : {list of (int, number), numpy.ndarray}</span></div>
<div class="line"><span class="lineno"> 1500</span><span class="stringliteral">        vector OR BoW (list of tuples)</span></div>
<div class="line"><span class="lineno"> 1501</span><span class="stringliteral">    texts : str</span></div>
<div class="line"><span class="lineno"> 1502</span><span class="stringliteral">        object that can return something insightful for each document via `texts[docid]`,</span></div>
<div class="line"><span class="lineno"> 1503</span><span class="stringliteral">        such as its fulltext or snippet.</span></div>
<div class="line"><span class="lineno"> 1504</span><span class="stringliteral">    index : any</span></div>
<div class="line"><span class="lineno"> 1505</span><span class="stringliteral">        A instance from from :mod:`gensim.similarity.docsim`.</span></div>
<div class="line"><span class="lineno"> 1506</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1507</span><span class="stringliteral">    Return</span></div>
<div class="line"><span class="lineno"> 1508</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1509</span><span class="stringliteral">    list</span></div>
<div class="line"><span class="lineno"> 1510</span><span class="stringliteral">        a list of 3-tuples (docid, doc&#39;s similarity to the query, texts[docid])</span></div>
<div class="line"><span class="lineno"> 1511</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1512</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1513</span>    sims = index[query]  <span class="comment"># perform a similarity query against the corpus</span></div>
<div class="line"><span class="lineno"> 1514</span>    sims = sorted(enumerate(sims), key=<span class="keyword">lambda</span> item: -item[1])</div>
<div class="line"><span class="lineno"> 1515</span> </div>
<div class="line"><span class="lineno"> 1516</span>    <span class="keywordflow">return</span> [(topid, topcosine, texts[topid]) <span class="keywordflow">for</span> topid, topcosine <span class="keywordflow">in</span> sims[:n]]  <span class="comment"># only consider top-n most similar docs</span></div>
<div class="line"><span class="lineno"> 1517</span> </div>
<div class="line"><span class="lineno"> 1518</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab310cec70a2f486f1c240f86a287056e" name="ab310cec70a2f486f1c240f86a287056e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab310cec70a2f486f1c240f86a287056e">&#9670;&#160;</a></span>trim_vocab_by_freq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.trim_vocab_by_freq </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vocab</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>topk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trim_rule</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retain `topk` most frequent words in `vocab`.
If there are more words with the same frequency as `topk`-th one, they will be kept.
Modifies `vocab` in place, returns nothing.

Parameters
----------
vocab : dict
    Input dictionary.
topk : int
    Number of words with highest frequencies to keep.
trim_rule : function, optional
    Function for trimming entities from vocab, default behaviour is `vocab[w] &lt;= min_count`.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1796</span><span class="keyword">def </span>trim_vocab_by_freq(vocab, topk, trim_rule=None):</div>
<div class="line"><span class="lineno"> 1797</span>    <span class="stringliteral">&quot;&quot;&quot;Retain `topk` most frequent words in `vocab`.</span></div>
<div class="line"><span class="lineno"> 1798</span><span class="stringliteral">    If there are more words with the same frequency as `topk`-th one, they will be kept.</span></div>
<div class="line"><span class="lineno"> 1799</span><span class="stringliteral">    Modifies `vocab` in place, returns nothing.</span></div>
<div class="line"><span class="lineno"> 1800</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1801</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1802</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1803</span><span class="stringliteral">    vocab : dict</span></div>
<div class="line"><span class="lineno"> 1804</span><span class="stringliteral">        Input dictionary.</span></div>
<div class="line"><span class="lineno"> 1805</span><span class="stringliteral">    topk : int</span></div>
<div class="line"><span class="lineno"> 1806</span><span class="stringliteral">        Number of words with highest frequencies to keep.</span></div>
<div class="line"><span class="lineno"> 1807</span><span class="stringliteral">    trim_rule : function, optional</span></div>
<div class="line"><span class="lineno"> 1808</span><span class="stringliteral">        Function for trimming entities from vocab, default behaviour is `vocab[w] &lt;= min_count`.</span></div>
<div class="line"><span class="lineno"> 1809</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1810</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1811</span>    <span class="keywordflow">if</span> topk &gt;= len(vocab):</div>
<div class="line"><span class="lineno"> 1812</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 1813</span> </div>
<div class="line"><span class="lineno"> 1814</span>    min_count = heapq.nlargest(topk, itervalues(vocab))[-1]</div>
<div class="line"><span class="lineno"> 1815</span>    prune_vocab(vocab, min_count, trim_rule=trim_rule)</div>
<div class="line"><span class="lineno"> 1816</span> </div>
<div class="line"><span class="lineno"> 1817</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aad558496f36666822c8f15ea95f9515c" name="aad558496f36666822c8f15ea95f9515c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad558496f36666822c8f15ea95f9515c">&#9670;&#160;</a></span>unpickle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.unpickle </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load object from `fname`, using smart_open so that `fname` can be on S3, HDFS, compressed etc.

Parameters
----------
fname : str
    Path to pickle file.

Returns
-------
object
    Python object loaded from `fname`.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1381</span><span class="keyword">def </span>unpickle(fname):</div>
<div class="line"><span class="lineno"> 1382</span>    <span class="stringliteral">&quot;&quot;&quot;Load object from `fname`, using smart_open so that `fname` can be on S3, HDFS, compressed etc.</span></div>
<div class="line"><span class="lineno"> 1383</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1384</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1385</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1386</span><span class="stringliteral">    fname : str</span></div>
<div class="line"><span class="lineno"> 1387</span><span class="stringliteral">        Path to pickle file.</span></div>
<div class="line"><span class="lineno"> 1388</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1389</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1390</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1391</span><span class="stringliteral">    object</span></div>
<div class="line"><span class="lineno"> 1392</span><span class="stringliteral">        Python object loaded from `fname`.</span></div>
<div class="line"><span class="lineno"> 1393</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1394</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1395</span>    <span class="keyword">with</span> open(fname, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno"> 1396</span>        <span class="comment"># Because of loading from S3 load can&#39;t be used (missing readline in smart_open)</span></div>
<div class="line"><span class="lineno"> 1397</span>        <span class="keywordflow">if</span> sys.version_info &gt; (3, 0):</div>
<div class="line"><span class="lineno"> 1398</span>            <span class="keywordflow">return</span> _pickle.load(f, encoding=<span class="stringliteral">&#39;latin1&#39;</span>)</div>
<div class="line"><span class="lineno"> 1399</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1400</span>            <span class="keywordflow">return</span> _pickle.loads(f.read())</div>
<div class="line"><span class="lineno"> 1401</span> </div>
<div class="line"><span class="lineno"> 1402</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5cb717fbd8e2784174eb683e7ba3332d" name="a5cb717fbd8e2784174eb683e7ba3332d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cb717fbd8e2784174eb683e7ba3332d">&#9670;&#160;</a></span>upload_chunked()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.upload_chunked </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>server</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>docs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunksize</em> = <code>1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>preprocess</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Memory-friendly upload of documents to a SimServer (or Pyro SimServer proxy).

Notes
-----
Use this function to train or index large collections -- avoid sending the
entire corpus over the wire as a single Pyro in-memory object. The documents
will be sent in smaller chunks, of `chunksize` documents each.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1538</span><span class="keyword">def </span>upload_chunked(server, docs, chunksize=1000, preprocess=None):</div>
<div class="line"><span class="lineno"> 1539</span>    <span class="stringliteral">&quot;&quot;&quot;Memory-friendly upload of documents to a SimServer (or Pyro SimServer proxy).</span></div>
<div class="line"><span class="lineno"> 1540</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1541</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 1542</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno"> 1543</span><span class="stringliteral">    Use this function to train or index large collections -- avoid sending the</span></div>
<div class="line"><span class="lineno"> 1544</span><span class="stringliteral">    entire corpus over the wire as a single Pyro in-memory object. The documents</span></div>
<div class="line"><span class="lineno"> 1545</span><span class="stringliteral">    will be sent in smaller chunks, of `chunksize` documents each.</span></div>
<div class="line"><span class="lineno"> 1546</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1547</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1548</span>    start = 0</div>
<div class="line"><span class="lineno"> 1549</span>    <span class="keywordflow">for</span> chunk <span class="keywordflow">in</span> grouper(docs, chunksize):</div>
<div class="line"><span class="lineno"> 1550</span>        end = start + len(chunk)</div>
<div class="line"><span class="lineno"> 1551</span>        logger.info(<span class="stringliteral">&quot;uploading documents %i-%i&quot;</span>, start, end - 1)</div>
<div class="line"><span class="lineno"> 1552</span>        <span class="keywordflow">if</span> preprocess <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1553</span>            pchunk = []</div>
<div class="line"><span class="lineno"> 1554</span>            <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> chunk:</div>
<div class="line"><span class="lineno"> 1555</span>                doc[<span class="stringliteral">&#39;tokens&#39;</span>] = preprocess(doc[<span class="stringliteral">&#39;text&#39;</span>])</div>
<div class="line"><span class="lineno"> 1556</span>                del doc[<span class="stringliteral">&#39;text&#39;</span>]</div>
<div class="line"><span class="lineno"> 1557</span>                pchunk.append(doc)</div>
<div class="line"><span class="lineno"> 1558</span>            chunk = pchunk</div>
<div class="line"><span class="lineno"> 1559</span>        server.buffer(chunk)</div>
<div class="line"><span class="lineno"> 1560</span>        start = end</div>
<div class="line"><span class="lineno"> 1561</span> </div>
<div class="line"><span class="lineno"> 1562</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a72003b38870fd1b2af9a54765535f899" name="a72003b38870fd1b2af9a54765535f899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72003b38870fd1b2af9a54765535f899">&#9670;&#160;</a></span>grouper</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.grouper = <a class="el" href="namespacegensim_1_1utils.html#a864637d13ae09178074e561030afff20">chunkize_serial</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="acdffd659c5cf76c63e6a7f3b3d9cafb6" name="acdffd659c5cf76c63e6a7f3b3d9cafb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdffd659c5cf76c63e6a7f3b3d9cafb6">&#9670;&#160;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.logger = logging.getLogger(__name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a59c615d063d1066d9c83b006fa50084f" name="a59c615d063d1066d9c83b006fa50084f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c615d063d1066d9c83b006fa50084f">&#9670;&#160;</a></span>NO_CYTHON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.NO_CYTHON</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  RuntimeError(</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;Cython extensions are unavailable. &quot;</span></div>
<div class="line"><span class="lineno">    3</span>    <span class="stringliteral">&quot;Without them, this gensim functionality is disabled. &quot;</span></div>
<div class="line"><span class="lineno">    4</span>    <span class="stringliteral">&quot;If you&#39;ve installed from a package, ask the package maintainer to include Cython extensions. &quot;</span></div>
<div class="line"><span class="lineno">    5</span>    <span class="stringliteral">&quot;If you&#39;re building gensim from source yourself, run `python setup.py build_ext --inplace` &quot;</span></div>
<div class="line"><span class="lineno">    6</span>    <span class="stringliteral">&quot;and retry. &quot;</span></div>
<div class="line"><span class="lineno">    7</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a59ca435db595eadf3c1a50cd1a1b6a35" name="a59ca435db595eadf3c1a50cd1a1b6a35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59ca435db595eadf3c1a50cd1a1b6a35">&#9670;&#160;</a></span>PAT_ALPHABETIC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.PAT_ALPHABETIC = re.compile(<a class="el" href="__lapack__subroutines_8h.html#a952912404e837594f7cbfb183beeacd4">r</a>'(((?![\<a class="el" href="__lapack__subroutines_8h.html#a4c293bae27b15a76659be28378992185">d</a>])\<a class="el" href="__lapack__subroutines_8h.html#a817b85d82af73ef273fafbec623bb90b">w</a>)+)', re.UNICODE)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="affc20ca0ede44ed6eebb2622f226140a" name="affc20ca0ede44ed6eebb2622f226140a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affc20ca0ede44ed6eebb2622f226140a">&#9670;&#160;</a></span>RE_HTML_ENTITY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.RE_HTML_ENTITY = re.compile(<a class="el" href="__lapack__subroutines_8h.html#a952912404e837594f7cbfb183beeacd4">r</a>'&amp;(#?)([xX]?)(\<a class="el" href="__lapack__subroutines_8h.html#a817b85d82af73ef273fafbec623bb90b">w</a>{1,8});', re.UNICODE)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1a601caef0ef235da19aafb22d18627b" name="a1a601caef0ef235da19aafb22d18627b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a601caef0ef235da19aafb22d18627b">&#9670;&#160;</a></span>RULE_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gensim.utils.RULE_DEFAULT = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6789b975a554f68888676dcaa613e2be" name="a6789b975a554f68888676dcaa613e2be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6789b975a554f68888676dcaa613e2be">&#9670;&#160;</a></span>RULE_DISCARD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gensim.utils.RULE_DISCARD = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adfa851d186e8764c66b0fbcea7f1ec74" name="adfa851d186e8764c66b0fbcea7f1ec74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfa851d186e8764c66b0fbcea7f1ec74">&#9670;&#160;</a></span>RULE_KEEP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gensim.utils.RULE_KEEP = 2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9f47269f9df162f4e12af05cf02cae84" name="a9f47269f9df162f4e12af05cf02cae84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f47269f9df162f4e12af05cf02cae84">&#9670;&#160;</a></span>to_unicode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.to_unicode = <a class="el" href="namespacegensim_1_1utils.html#a692f47df65bb4eb4160a98c9b223c29c">any2unicode</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6bd5bdee5ee6e4c2bfe4cbc5867638cc" name="a6bd5bdee5ee6e4c2bfe4cbc5867638cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bd5bdee5ee6e4c2bfe4cbc5867638cc">&#9670;&#160;</a></span>to_utf8</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.to_utf8 = <a class="el" href="namespacegensim_1_1utils.html#a4c7b8caedd149b81d82d1b650d9698a5">any2utf8</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a12cbe4c93a2a9622620ea28c36d03d75" name="a12cbe4c93a2a9622620ea28c36d03d75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12cbe4c93a2a9622620ea28c36d03d75">&#9670;&#160;</a></span>unicode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.unicode = str</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
