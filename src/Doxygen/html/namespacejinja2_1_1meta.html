<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: jinja2.meta Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejinja2.html">jinja2</a></li><li class="navelem"><a class="el" href="namespacejinja2_1_1meta.html">meta</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">jinja2.meta Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjinja2_1_1meta_1_1_tracking_code_generator.html">TrackingCodeGenerator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aacddff725dfd60eda21fd7099d571a99" id="r_aacddff725dfd60eda21fd7099d571a99"><td class="memItemLeft" align="right" valign="top">t.Set[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejinja2_1_1meta.html#aacddff725dfd60eda21fd7099d571a99">find_undeclared_variables</a> (<a class="el" href="classjinja2_1_1nodes_1_1_template.html">nodes.Template</a> ast)</td></tr>
<tr class="separator:aacddff725dfd60eda21fd7099d571a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a481be1fad0e681228b9c9b6890e4249e" id="r_a481be1fad0e681228b9c9b6890e4249e"><td class="memItemLeft" align="right" valign="top">t.Iterator[t.Optional[str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejinja2_1_1meta.html#a481be1fad0e681228b9c9b6890e4249e">find_referenced_templates</a> (<a class="el" href="classjinja2_1_1nodes_1_1_template.html">nodes.Template</a> ast)</td></tr>
<tr class="separator:a481be1fad0e681228b9c9b6890e4249e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8a62c1932680f206b57f902e3bdb1877" id="r_a8a62c1932680f206b57f902e3bdb1877"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejinja2_1_1meta.html#a8a62c1932680f206b57f902e3bdb1877">_ref_types</a> = (<a class="el" href="classjinja2_1_1nodes_1_1_extends.html">nodes.Extends</a>, <a class="el" href="classjinja2_1_1nodes_1_1_from_import.html">nodes.FromImport</a>, <a class="el" href="classjinja2_1_1nodes_1_1_import.html">nodes.Import</a>, <a class="el" href="classjinja2_1_1nodes_1_1_include.html">nodes.Include</a>)</td></tr>
<tr class="separator:a8a62c1932680f206b57f902e3bdb1877"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5f48740f509b697e4598648f598d46e" id="r_ad5f48740f509b697e4598648f598d46e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejinja2_1_1meta.html#ad5f48740f509b697e4598648f598d46e">_RefType</a> = t.Union[<a class="el" href="classjinja2_1_1nodes_1_1_extends.html">nodes.Extends</a>, <a class="el" href="classjinja2_1_1nodes_1_1_from_import.html">nodes.FromImport</a>, <a class="el" href="classjinja2_1_1nodes_1_1_import.html">nodes.Import</a>, <a class="el" href="classjinja2_1_1nodes_1_1_include.html">nodes.Include</a>]</td></tr>
<tr class="separator:ad5f48740f509b697e4598648f598d46e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Functions that expose information about templates that might be
interesting for introspection.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a481be1fad0e681228b9c9b6890e4249e" name="a481be1fad0e681228b9c9b6890e4249e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a481be1fad0e681228b9c9b6890e4249e">&#9670;&#160;</a></span>find_referenced_templates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> t.Iterator[t.Optional[str]] jinja2.meta.find_referenced_templates </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classjinja2_1_1nodes_1_1_template.html">nodes.Template</a>&#160;</td>
          <td class="paramname"><em>ast</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Finds all the referenced templates from the AST.  This will return an
iterator over all the hardcoded template extensions, inclusions and
imports.  If dynamic inheritance or inclusion is used, `None` will be
yielded.

&gt;&gt;&gt; from jinja2 import Environment, meta
&gt;&gt;&gt; env = Environment()
&gt;&gt;&gt; ast = env.parse('{% extends "layout.html" %}{% include helper %}')
&gt;&gt;&gt; list(meta.find_referenced_templates(ast))
['layout.html', None]

This function is useful for dependency tracking.  For example if you want
to rebuild parts of the website after a layout template has changed.
</pre> <div class="fragment"><div class="line"><span class="lineno">   61</span><span class="keyword">def </span>find_referenced_templates(ast: nodes.Template) -&gt; t.Iterator[t.Optional[str]]:</div>
<div class="line"><span class="lineno">   62</span>    <span class="stringliteral">&quot;&quot;&quot;Finds all the referenced templates from the AST.  This will return an</span></div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">    iterator over all the hardcoded template extensions, inclusions and</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral">    imports.  If dynamic inheritance or inclusion is used, `None` will be</span></div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">    yielded.</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral">    &gt;&gt;&gt; from jinja2 import Environment, meta</span></div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">    &gt;&gt;&gt; env = Environment()</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral">    &gt;&gt;&gt; ast = env.parse(&#39;{% extends &quot;layout.html&quot; %}{% include helper %}&#39;)</span></div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral">    &gt;&gt;&gt; list(meta.find_referenced_templates(ast))</span></div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">    [&#39;layout.html&#39;, None]</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">    This function is useful for dependency tracking.  For example if you want</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">    to rebuild parts of the website after a layout template has changed.</span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   76</span>    template_name: t.Any</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">for</span> node <span class="keywordflow">in</span> ast.find_all(_ref_types):</div>
<div class="line"><span class="lineno">   79</span>        template: nodes.Expr = node.template  <span class="comment"># type: ignore</span></div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(template, nodes.Const):</div>
<div class="line"><span class="lineno">   82</span>            <span class="comment"># a tuple with some non consts in there</span></div>
<div class="line"><span class="lineno">   83</span>            <span class="keywordflow">if</span> isinstance(template, (nodes.Tuple, nodes.List)):</div>
<div class="line"><span class="lineno">   84</span>                <span class="keywordflow">for</span> template_name <span class="keywordflow">in</span> template.items:</div>
<div class="line"><span class="lineno">   85</span>                    <span class="comment"># something const, only yield the strings and ignore</span></div>
<div class="line"><span class="lineno">   86</span>                    <span class="comment"># non-string consts that really just make no sense</span></div>
<div class="line"><span class="lineno">   87</span>                    <span class="keywordflow">if</span> isinstance(template_name, nodes.Const):</div>
<div class="line"><span class="lineno">   88</span>                        <span class="keywordflow">if</span> isinstance(template_name.value, str):</div>
<div class="line"><span class="lineno">   89</span>                            <span class="keywordflow">yield</span> template_name.value</div>
<div class="line"><span class="lineno">   90</span>                    <span class="comment"># something dynamic in there</span></div>
<div class="line"><span class="lineno">   91</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   92</span>                        <span class="keywordflow">yield</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   93</span>            <span class="comment"># something dynamic we don&#39;t know about here</span></div>
<div class="line"><span class="lineno">   94</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   95</span>                <span class="keywordflow">yield</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">   97</span>        <span class="comment"># constant is a basestring, direct template name</span></div>
<div class="line"><span class="lineno">   98</span>        <span class="keywordflow">if</span> isinstance(template.value, str):</div>
<div class="line"><span class="lineno">   99</span>            <span class="keywordflow">yield</span> template.value</div>
<div class="line"><span class="lineno">  100</span>        <span class="comment"># a tuple or list (latter *should* not happen) made of consts,</span></div>
<div class="line"><span class="lineno">  101</span>        <span class="comment"># yield the consts that are strings.  We could warn here for</span></div>
<div class="line"><span class="lineno">  102</span>        <span class="comment"># non string values</span></div>
<div class="line"><span class="lineno">  103</span>        <span class="keywordflow">elif</span> isinstance(node, nodes.Include) <span class="keywordflow">and</span> isinstance(</div>
<div class="line"><span class="lineno">  104</span>            template.value, (tuple, list)</div>
<div class="line"><span class="lineno">  105</span>        ):</div>
<div class="line"><span class="lineno">  106</span>            <span class="keywordflow">for</span> template_name <span class="keywordflow">in</span> template.value:</div>
<div class="line"><span class="lineno">  107</span>                <span class="keywordflow">if</span> isinstance(template_name, str):</div>
<div class="line"><span class="lineno">  108</span>                    <span class="keywordflow">yield</span> template_name</div>
<div class="line"><span class="lineno">  109</span>        <span class="comment"># something else we don&#39;t care about, we could warn here</span></div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  111</span>            <span class="keywordflow">yield</span> <span class="keywordtype">None</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aacddff725dfd60eda21fd7099d571a99" name="aacddff725dfd60eda21fd7099d571a99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacddff725dfd60eda21fd7099d571a99">&#9670;&#160;</a></span>find_undeclared_variables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> t.Set[str] jinja2.meta.find_undeclared_variables </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classjinja2_1_1nodes_1_1_template.html">nodes.Template</a>&#160;</td>
          <td class="paramname"><em>ast</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a set of all variables in the AST that will be looked up from
the context at runtime.  Because at compile time it's not known which
variables will be used depending on the path the execution takes at
runtime, all variables are returned.

&gt;&gt;&gt; from jinja2 import Environment, meta
&gt;&gt;&gt; env = Environment()
&gt;&gt;&gt; ast = env.parse('{% set foo = 42 %}{{ bar + foo }}')
&gt;&gt;&gt; meta.find_undeclared_variables(ast) == {'bar'}
True

.. admonition:: Implementation

   Internally the code generator is used for finding undeclared variables.
   This is good to know because the code generator might raise a
   :exc:`TemplateAssertionError` during compilation and as a matter of
   fact this function can currently raise that exception as well.
</pre> <div class="fragment"><div class="line"><span class="lineno">   33</span><span class="keyword">def </span>find_undeclared_variables(ast: nodes.Template) -&gt; t.Set[str]:</div>
<div class="line"><span class="lineno">   34</span>    <span class="stringliteral">&quot;&quot;&quot;Returns a set of all variables in the AST that will be looked up from</span></div>
<div class="line"><span class="lineno">   35</span><span class="stringliteral">    the context at runtime.  Because at compile time it&#39;s not known which</span></div>
<div class="line"><span class="lineno">   36</span><span class="stringliteral">    variables will be used depending on the path the execution takes at</span></div>
<div class="line"><span class="lineno">   37</span><span class="stringliteral">    runtime, all variables are returned.</span></div>
<div class="line"><span class="lineno">   38</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   39</span><span class="stringliteral">    &gt;&gt;&gt; from jinja2 import Environment, meta</span></div>
<div class="line"><span class="lineno">   40</span><span class="stringliteral">    &gt;&gt;&gt; env = Environment()</span></div>
<div class="line"><span class="lineno">   41</span><span class="stringliteral">    &gt;&gt;&gt; ast = env.parse(&#39;{% set foo = 42 %}{{ bar + foo }}&#39;)</span></div>
<div class="line"><span class="lineno">   42</span><span class="stringliteral">    &gt;&gt;&gt; meta.find_undeclared_variables(ast) == {&#39;bar&#39;}</span></div>
<div class="line"><span class="lineno">   43</span><span class="stringliteral">    True</span></div>
<div class="line"><span class="lineno">   44</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral">    .. admonition:: Implementation</span></div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral">       Internally the code generator is used for finding undeclared variables.</span></div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral">       This is good to know because the code generator might raise a</span></div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral">       :exc:`TemplateAssertionError` during compilation and as a matter of</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">       fact this function can currently raise that exception as well.</span></div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   52</span>    codegen = TrackingCodeGenerator(ast.environment)  <span class="comment"># type: ignore</span></div>
<div class="line"><span class="lineno">   53</span>    codegen.visit(ast)</div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">return</span> codegen.undeclared_identifiers</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a8a62c1932680f206b57f902e3bdb1877" name="a8a62c1932680f206b57f902e3bdb1877"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a62c1932680f206b57f902e3bdb1877">&#9670;&#160;</a></span>_ref_types</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tuple jinja2.meta._ref_types = (<a class="el" href="classjinja2_1_1nodes_1_1_extends.html">nodes.Extends</a>, <a class="el" href="classjinja2_1_1nodes_1_1_from_import.html">nodes.FromImport</a>, <a class="el" href="classjinja2_1_1nodes_1_1_import.html">nodes.Import</a>, <a class="el" href="classjinja2_1_1nodes_1_1_include.html">nodes.Include</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad5f48740f509b697e4598648f598d46e" name="ad5f48740f509b697e4598648f598d46e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5f48740f509b697e4598648f598d46e">&#9670;&#160;</a></span>_RefType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">jinja2.meta._RefType = t.Union[<a class="el" href="classjinja2_1_1nodes_1_1_extends.html">nodes.Extends</a>, <a class="el" href="classjinja2_1_1nodes_1_1_from_import.html">nodes.FromImport</a>, <a class="el" href="classjinja2_1_1nodes_1_1_import.html">nodes.Import</a>, <a class="el" href="classjinja2_1_1nodes_1_1_include.html">nodes.Include</a>]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
