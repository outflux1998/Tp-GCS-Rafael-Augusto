<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.utils Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1utils.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#namespaces">Namespaces</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sklearn.utils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="namespaces" name="namespaces"></a>
Namespaces</h2></td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__arpack" id="r_namespacesklearn_1_1utils_1_1__arpack"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__arpack.html">_arpack</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__array__api" id="r_namespacesklearn_1_1utils_1_1__array__api"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__array__api.html">_array_api</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__available__if" id="r_namespacesklearn_1_1utils_1_1__available__if"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__available__if.html">_available_if</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__bunch" id="r_namespacesklearn_1_1utils_1_1__bunch"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__bunch.html">_bunch</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__encode" id="r_namespacesklearn_1_1utils_1_1__encode"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__encode.html">_encode</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__estimator__html__repr" id="r_namespacesklearn_1_1utils_1_1__estimator__html__repr"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__estimator__html__repr.html">_estimator_html_repr</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__joblib" id="r_namespacesklearn_1_1utils_1_1__joblib"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__joblib.html">_joblib</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__mask" id="r_namespacesklearn_1_1utils_1_1__mask"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__mask.html">_mask</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__mocking" id="r_namespacesklearn_1_1utils_1_1__mocking"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__mocking.html">_mocking</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__param__validation" id="r_namespacesklearn_1_1utils_1_1__param__validation"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__param__validation.html">_param_validation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__pprint" id="r_namespacesklearn_1_1utils_1_1__pprint"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__pprint.html">_pprint</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__set__output" id="r_namespacesklearn_1_1utils_1_1__set__output"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__set__output.html">_set_output</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__show__versions" id="r_namespacesklearn_1_1utils_1_1__show__versions"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__show__versions.html">_show_versions</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__tags" id="r_namespacesklearn_1_1utils_1_1__tags"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__tags.html">_tags</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1__testing" id="r_namespacesklearn_1_1utils_1_1__testing"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html">_testing</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1class__weight" id="r_namespacesklearn_1_1utils_1_1class__weight"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1class__weight.html">class_weight</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1deprecation" id="r_namespacesklearn_1_1utils_1_1deprecation"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1deprecation.html">deprecation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1discovery" id="r_namespacesklearn_1_1utils_1_1discovery"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1discovery.html">discovery</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1estimator__checks" id="r_namespacesklearn_1_1utils_1_1estimator__checks"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1estimator__checks.html">estimator_checks</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1extmath" id="r_namespacesklearn_1_1utils_1_1extmath"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1extmath.html">extmath</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1fixes" id="r_namespacesklearn_1_1utils_1_1fixes"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1fixes.html">fixes</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1graph" id="r_namespacesklearn_1_1utils_1_1graph"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1graph.html">graph</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1metaestimators" id="r_namespacesklearn_1_1utils_1_1metaestimators"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1metaestimators.html">metaestimators</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1multiclass" id="r_namespacesklearn_1_1utils_1_1multiclass"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1multiclass.html">multiclass</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1optimize" id="r_namespacesklearn_1_1utils_1_1optimize"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1optimize.html">optimize</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1random" id="r_namespacesklearn_1_1utils_1_1random"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1random.html">random</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1sparsefuncs" id="r_namespacesklearn_1_1utils_1_1sparsefuncs"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1sparsefuncs.html">sparsefuncs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1stats" id="r_namespacesklearn_1_1utils_1_1stats"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1stats.html">stats</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1tests" id="r_namespacesklearn_1_1utils_1_1tests"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests.html">tests</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:namespacesklearn_1_1utils_1_1validation" id="r_namespacesklearn_1_1utils_1_1validation"><td class="memItemLeft" align="right" valign="top">namespace &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1validation.html">validation</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:abdc54a3c3615628ea7a2833931ae2b61" id="r_abdc54a3c3615628ea7a2833931ae2b61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#abdc54a3c3615628ea7a2833931ae2b61">_in_unstable_openblas_configuration</a> ()</td></tr>
<tr class="separator:abdc54a3c3615628ea7a2833931ae2b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bd29b4dd70e2ee128b08b61e01e1296" id="r_a8bd29b4dd70e2ee128b08b61e01e1296"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a8bd29b4dd70e2ee128b08b61e01e1296">safe_mask</a> (X, mask)</td></tr>
<tr class="separator:a8bd29b4dd70e2ee128b08b61e01e1296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54f523e9fa310f9aace48c74830cf423" id="r_a54f523e9fa310f9aace48c74830cf423"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a54f523e9fa310f9aace48c74830cf423">axis0_safe_slice</a> (X, mask, len_mask)</td></tr>
<tr class="separator:a54f523e9fa310f9aace48c74830cf423"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a645616bbdeabf9cdfeb479c693b44491" id="r_a645616bbdeabf9cdfeb479c693b44491"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a645616bbdeabf9cdfeb479c693b44491">_array_indexing</a> (array, key, key_dtype, axis)</td></tr>
<tr class="separator:a645616bbdeabf9cdfeb479c693b44491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58c9f53f64f4bb55b04db4af233e744f" id="r_a58c9f53f64f4bb55b04db4af233e744f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a58c9f53f64f4bb55b04db4af233e744f">_pandas_indexing</a> (X, key, key_dtype, axis)</td></tr>
<tr class="separator:a58c9f53f64f4bb55b04db4af233e744f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4b0d4f70e3ce0a662ee30075585e18c" id="r_af4b0d4f70e3ce0a662ee30075585e18c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#af4b0d4f70e3ce0a662ee30075585e18c">_list_indexing</a> (X, key, key_dtype)</td></tr>
<tr class="separator:af4b0d4f70e3ce0a662ee30075585e18c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdf44fece8d617b1836c537313a075eb" id="r_afdf44fece8d617b1836c537313a075eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#afdf44fece8d617b1836c537313a075eb">_determine_key_type</a> (key, accept_slice=True)</td></tr>
<tr class="separator:afdf44fece8d617b1836c537313a075eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd14e72aae1cf6e0271f60d24538271" id="r_acbd14e72aae1cf6e0271f60d24538271"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#acbd14e72aae1cf6e0271f60d24538271">_safe_indexing</a> (X, indices, *axis=0)</td></tr>
<tr class="separator:acbd14e72aae1cf6e0271f60d24538271"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8c68e6995e6f7ea4ceba62145d94ea8" id="r_ae8c68e6995e6f7ea4ceba62145d94ea8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#ae8c68e6995e6f7ea4ceba62145d94ea8">_safe_assign</a> (X, values, *row_indexer=None, column_indexer=None)</td></tr>
<tr class="separator:ae8c68e6995e6f7ea4ceba62145d94ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74317b843b8c6ba3a8eddb3ff767d61f" id="r_a74317b843b8c6ba3a8eddb3ff767d61f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a74317b843b8c6ba3a8eddb3ff767d61f">_get_column_indices</a> (X, key)</td></tr>
<tr class="separator:a74317b843b8c6ba3a8eddb3ff767d61f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813eaddca4eefe4a1b4fed3069af8d4c" id="r_a813eaddca4eefe4a1b4fed3069af8d4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a813eaddca4eefe4a1b4fed3069af8d4c">resample</a> (*arrays, replace=True, n_samples=None, random_state=None, stratify=None)</td></tr>
<tr class="separator:a813eaddca4eefe4a1b4fed3069af8d4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80b795970ef8af4ba03481aa97a7658d" id="r_a80b795970ef8af4ba03481aa97a7658d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a80b795970ef8af4ba03481aa97a7658d">shuffle</a> (*arrays, random_state=None, n_samples=None)</td></tr>
<tr class="separator:a80b795970ef8af4ba03481aa97a7658d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5160b95fcd260d7e76d98558d8afc6" id="r_a7f5160b95fcd260d7e76d98558d8afc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a7f5160b95fcd260d7e76d98558d8afc6">safe_sqr</a> (X, *copy=True)</td></tr>
<tr class="separator:a7f5160b95fcd260d7e76d98558d8afc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0dff9cf096643e276964c50c91df68" id="r_afe0dff9cf096643e276964c50c91df68"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#afe0dff9cf096643e276964c50c91df68">_chunk_generator</a> (gen, chunksize)</td></tr>
<tr class="separator:afe0dff9cf096643e276964c50c91df68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2dce1d1311a34b5a35d22102dbdd0e4" id="r_ae2dce1d1311a34b5a35d22102dbdd0e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#ae2dce1d1311a34b5a35d22102dbdd0e4">gen_batches</a> (<a class="el" href="__blas__subroutines_8h.html#a25eafceb38c8e75bc60701fea6623f71">n</a>, batch_size, *min_batch_size=0)</td></tr>
<tr class="separator:ae2dce1d1311a34b5a35d22102dbdd0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a309e18e532c5a688253c0f7d30146cf4" id="r_a309e18e532c5a688253c0f7d30146cf4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a309e18e532c5a688253c0f7d30146cf4">gen_even_slices</a> (<a class="el" href="__blas__subroutines_8h.html#a25eafceb38c8e75bc60701fea6623f71">n</a>, n_packs, *n_samples=None)</td></tr>
<tr class="separator:a309e18e532c5a688253c0f7d30146cf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7f3a7570a0f6524402b00b3fe60c793" id="r_ac7f3a7570a0f6524402b00b3fe60c793"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#ac7f3a7570a0f6524402b00b3fe60c793">tosequence</a> (x)</td></tr>
<tr class="separator:ac7f3a7570a0f6524402b00b3fe60c793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f45bd0548158f89a1df3eb2a949f18c" id="r_a4f45bd0548158f89a1df3eb2a949f18c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a4f45bd0548158f89a1df3eb2a949f18c">_to_object_array</a> (sequence)</td></tr>
<tr class="separator:a4f45bd0548158f89a1df3eb2a949f18c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3d7bfa87a24885a43639af2d762651e" id="r_ad3d7bfa87a24885a43639af2d762651e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#ad3d7bfa87a24885a43639af2d762651e">indices_to_mask</a> (indices, mask_length)</td></tr>
<tr class="separator:ad3d7bfa87a24885a43639af2d762651e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace8d2f5d4d1ec81be36fe8325582b781" id="r_ace8d2f5d4d1ec81be36fe8325582b781"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#ace8d2f5d4d1ec81be36fe8325582b781">_message_with_time</a> (source, message, time)</td></tr>
<tr class="separator:ace8d2f5d4d1ec81be36fe8325582b781"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a578f29b0dfc1db3dd8fa3f392a0a1572" id="r_a578f29b0dfc1db3dd8fa3f392a0a1572"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a578f29b0dfc1db3dd8fa3f392a0a1572">_print_elapsed_time</a> (source, message=None)</td></tr>
<tr class="separator:a578f29b0dfc1db3dd8fa3f392a0a1572"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bfda3d2aca55dceaa758203a54cd7df" id="r_a6bfda3d2aca55dceaa758203a54cd7df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a6bfda3d2aca55dceaa758203a54cd7df">get_chunk_n_rows</a> (row_bytes, *max_n_rows=None, working_memory=None)</td></tr>
<tr class="separator:a6bfda3d2aca55dceaa758203a54cd7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaf049517ce0f4917c812b7ec4469b88" id="r_adaf049517ce0f4917c812b7ec4469b88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#adaf049517ce0f4917c812b7ec4469b88">_is_pandas_na</a> (x)</td></tr>
<tr class="separator:adaf049517ce0f4917c812b7ec4469b88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a201cf8bff717c4c057b1a8f91610b01d" id="r_a201cf8bff717c4c057b1a8f91610b01d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a201cf8bff717c4c057b1a8f91610b01d">is_scalar_nan</a> (x)</td></tr>
<tr class="separator:a201cf8bff717c4c057b1a8f91610b01d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a419fa69004656ae5ccce989dab80efcc" id="r_a419fa69004656ae5ccce989dab80efcc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a419fa69004656ae5ccce989dab80efcc">_approximate_mode</a> (class_counts, n_draws, rng)</td></tr>
<tr class="separator:a419fa69004656ae5ccce989dab80efcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adefe4c9133c71b64ebf49766ed2517f8" id="r_adefe4c9133c71b64ebf49766ed2517f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#adefe4c9133c71b64ebf49766ed2517f8">check_matplotlib_support</a> (caller_name)</td></tr>
<tr class="separator:adefe4c9133c71b64ebf49766ed2517f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b35a6bb7c9ebc0c3f0bddf5c5a5710" id="r_a85b35a6bb7c9ebc0c3f0bddf5c5a5710"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a85b35a6bb7c9ebc0c3f0bddf5c5a5710">check_pandas_support</a> (caller_name)</td></tr>
<tr class="separator:a85b35a6bb7c9ebc0c3f0bddf5c5a5710"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3e30aff7b333695cc98eb0574b09ba85" id="r_a3e30aff7b333695cc98eb0574b09ba85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a3e30aff7b333695cc98eb0574b09ba85">parallel_backend</a> = <a class="el" href="classjoblib_1_1parallel_1_1parallel__backend.html">_joblib.parallel_backend</a></td></tr>
<tr class="separator:a3e30aff7b333695cc98eb0574b09ba85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad766bd221b06bcc3c4b6758141e2d971" id="r_ad766bd221b06bcc3c4b6758141e2d971"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#ad766bd221b06bcc3c4b6758141e2d971">register_parallel_backend</a> = _joblib.register_parallel_backend</td></tr>
<tr class="separator:ad766bd221b06bcc3c4b6758141e2d971"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab44a100c8203698ae6f8d639365b0a83" id="r_ab44a100c8203698ae6f8d639365b0a83"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#ab44a100c8203698ae6f8d639365b0a83">IS_PYPY</a> = &quot;PyPy&quot;</td></tr>
<tr class="separator:ab44a100c8203698ae6f8d639365b0a83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b4eb1e85108a94250f9067201b3b85" id="r_a95b4eb1e85108a94250f9067201b3b85"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils.html#a95b4eb1e85108a94250f9067201b3b85">_IS_32BIT</a> = 32</td></tr>
<tr class="separator:a95b4eb1e85108a94250f9067201b3b85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">The :mod:`sklearn.utils` module includes various utilities.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a419fa69004656ae5ccce989dab80efcc" name="a419fa69004656ae5ccce989dab80efcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a419fa69004656ae5ccce989dab80efcc">&#9670;&#160;</a></span>_approximate_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._approximate_mode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>class_counts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_draws</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rng</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Computes approximate mode of multivariate hypergeometric.

This is an approximation to the mode of the multivariate
hypergeometric given by class_counts and n_draws.
It shouldn't be off by more than one.

It is the mostly likely outcome of drawing n_draws many
samples from the population given by class_counts.

Parameters
----------
class_counts : ndarray of int
    Population per class.
n_draws : int
    Number of draws (samples to draw) from the overall population.
rng : random state
    Used to break ties.

Returns
-------
sampled_classes : ndarray of int
    Number of samples drawn from each class.
    np.sum(sampled_classes) == n_draws

Examples
--------
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from sklearn.utils import _approximate_mode
&gt;&gt;&gt; _approximate_mode(class_counts=np.array([4, 2]), n_draws=3, rng=0)
array([2, 1])
&gt;&gt;&gt; _approximate_mode(class_counts=np.array([5, 2]), n_draws=4, rng=0)
array([3, 1])
&gt;&gt;&gt; _approximate_mode(class_counts=np.array([2, 2, 2, 1]),
...                   n_draws=2, rng=0)
array([0, 1, 1, 0])
&gt;&gt;&gt; _approximate_mode(class_counts=np.array([2, 2, 2, 1]),
...                   n_draws=2, rng=42)
array([1, 1, 0, 0])
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1077</span><span class="keyword">def </span>_approximate_mode(class_counts, n_draws, rng):</div>
<div class="line"><span class="lineno"> 1078</span>    <span class="stringliteral">&quot;&quot;&quot;Computes approximate mode of multivariate hypergeometric.</span></div>
<div class="line"><span class="lineno"> 1079</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1080</span><span class="stringliteral">    This is an approximation to the mode of the multivariate</span></div>
<div class="line"><span class="lineno"> 1081</span><span class="stringliteral">    hypergeometric given by class_counts and n_draws.</span></div>
<div class="line"><span class="lineno"> 1082</span><span class="stringliteral">    It shouldn&#39;t be off by more than one.</span></div>
<div class="line"><span class="lineno"> 1083</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1084</span><span class="stringliteral">    It is the mostly likely outcome of drawing n_draws many</span></div>
<div class="line"><span class="lineno"> 1085</span><span class="stringliteral">    samples from the population given by class_counts.</span></div>
<div class="line"><span class="lineno"> 1086</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1087</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1088</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1089</span><span class="stringliteral">    class_counts : ndarray of int</span></div>
<div class="line"><span class="lineno"> 1090</span><span class="stringliteral">        Population per class.</span></div>
<div class="line"><span class="lineno"> 1091</span><span class="stringliteral">    n_draws : int</span></div>
<div class="line"><span class="lineno"> 1092</span><span class="stringliteral">        Number of draws (samples to draw) from the overall population.</span></div>
<div class="line"><span class="lineno"> 1093</span><span class="stringliteral">    rng : random state</span></div>
<div class="line"><span class="lineno"> 1094</span><span class="stringliteral">        Used to break ties.</span></div>
<div class="line"><span class="lineno"> 1095</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1096</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1097</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1098</span><span class="stringliteral">    sampled_classes : ndarray of int</span></div>
<div class="line"><span class="lineno"> 1099</span><span class="stringliteral">        Number of samples drawn from each class.</span></div>
<div class="line"><span class="lineno"> 1100</span><span class="stringliteral">        np.sum(sampled_classes) == n_draws</span></div>
<div class="line"><span class="lineno"> 1101</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1102</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1103</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1104</span><span class="stringliteral">    &gt;&gt;&gt; import numpy as np</span></div>
<div class="line"><span class="lineno"> 1105</span><span class="stringliteral">    &gt;&gt;&gt; from sklearn.utils import _approximate_mode</span></div>
<div class="line"><span class="lineno"> 1106</span><span class="stringliteral">    &gt;&gt;&gt; _approximate_mode(class_counts=np.array([4, 2]), n_draws=3, rng=0)</span></div>
<div class="line"><span class="lineno"> 1107</span><span class="stringliteral">    array([2, 1])</span></div>
<div class="line"><span class="lineno"> 1108</span><span class="stringliteral">    &gt;&gt;&gt; _approximate_mode(class_counts=np.array([5, 2]), n_draws=4, rng=0)</span></div>
<div class="line"><span class="lineno"> 1109</span><span class="stringliteral">    array([3, 1])</span></div>
<div class="line"><span class="lineno"> 1110</span><span class="stringliteral">    &gt;&gt;&gt; _approximate_mode(class_counts=np.array([2, 2, 2, 1]),</span></div>
<div class="line"><span class="lineno"> 1111</span><span class="stringliteral">    ...                   n_draws=2, rng=0)</span></div>
<div class="line"><span class="lineno"> 1112</span><span class="stringliteral">    array([0, 1, 1, 0])</span></div>
<div class="line"><span class="lineno"> 1113</span><span class="stringliteral">    &gt;&gt;&gt; _approximate_mode(class_counts=np.array([2, 2, 2, 1]),</span></div>
<div class="line"><span class="lineno"> 1114</span><span class="stringliteral">    ...                   n_draws=2, rng=42)</span></div>
<div class="line"><span class="lineno"> 1115</span><span class="stringliteral">    array([1, 1, 0, 0])</span></div>
<div class="line"><span class="lineno"> 1116</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1117</span>    rng = check_random_state(rng)</div>
<div class="line"><span class="lineno"> 1118</span>    <span class="comment"># this computes a bad approximation to the mode of the</span></div>
<div class="line"><span class="lineno"> 1119</span>    <span class="comment"># multivariate hypergeometric given by class_counts and n_draws</span></div>
<div class="line"><span class="lineno"> 1120</span>    continuous = class_counts / class_counts.sum() * n_draws</div>
<div class="line"><span class="lineno"> 1121</span>    <span class="comment"># floored means we don&#39;t overshoot n_samples, but probably undershoot</span></div>
<div class="line"><span class="lineno"> 1122</span>    floored = np.floor(continuous)</div>
<div class="line"><span class="lineno"> 1123</span>    <span class="comment"># we add samples according to how much &quot;left over&quot; probability</span></div>
<div class="line"><span class="lineno"> 1124</span>    <span class="comment"># they had, until we arrive at n_samples</span></div>
<div class="line"><span class="lineno"> 1125</span>    need_to_add = int(n_draws - floored.sum())</div>
<div class="line"><span class="lineno"> 1126</span>    <span class="keywordflow">if</span> need_to_add &gt; 0:</div>
<div class="line"><span class="lineno"> 1127</span>        remainder = continuous - floored</div>
<div class="line"><span class="lineno"> 1128</span>        values = np.sort(np.unique(remainder))[::-1]</div>
<div class="line"><span class="lineno"> 1129</span>        <span class="comment"># add according to remainder, but break ties</span></div>
<div class="line"><span class="lineno"> 1130</span>        <span class="comment"># randomly to avoid biases</span></div>
<div class="line"><span class="lineno"> 1131</span>        <span class="keywordflow">for</span> value <span class="keywordflow">in</span> values:</div>
<div class="line"><span class="lineno"> 1132</span>            (inds,) = np.where(remainder == value)</div>
<div class="line"><span class="lineno"> 1133</span>            <span class="comment"># if we need_to_add less than what&#39;s in inds</span></div>
<div class="line"><span class="lineno"> 1134</span>            <span class="comment"># we draw randomly from them.</span></div>
<div class="line"><span class="lineno"> 1135</span>            <span class="comment"># if we need to add more, we add them all and</span></div>
<div class="line"><span class="lineno"> 1136</span>            <span class="comment"># go to the next value</span></div>
<div class="line"><span class="lineno"> 1137</span>            add_now = min(len(inds), need_to_add)</div>
<div class="line"><span class="lineno"> 1138</span>            inds = rng.choice(inds, size=add_now, replace=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1139</span>            floored[inds] += 1</div>
<div class="line"><span class="lineno"> 1140</span>            need_to_add -= add_now</div>
<div class="line"><span class="lineno"> 1141</span>            <span class="keywordflow">if</span> need_to_add == 0:</div>
<div class="line"><span class="lineno"> 1142</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1143</span>    <span class="keywordflow">return</span> floored.astype(int)</div>
<div class="line"><span class="lineno"> 1144</span> </div>
<div class="line"><span class="lineno"> 1145</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a645616bbdeabf9cdfeb479c693b44491" name="a645616bbdeabf9cdfeb479c693b44491"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a645616bbdeabf9cdfeb479c693b44491">&#9670;&#160;</a></span>_array_indexing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._array_indexing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key_dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>axis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Index an array or scipy.sparse consistently across NumPy version.</pre> <div class="fragment"><div class="line"><span class="lineno">  179</span><span class="keyword">def </span>_array_indexing(array, key, key_dtype, axis):</div>
<div class="line"><span class="lineno">  180</span>    <span class="stringliteral">&quot;&quot;&quot;Index an array or scipy.sparse consistently across NumPy version.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">if</span> issparse(array) <span class="keywordflow">and</span> key_dtype == <span class="stringliteral">&quot;bool&quot;</span>:</div>
<div class="line"><span class="lineno">  182</span>        key = np.asarray(key)</div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">if</span> isinstance(key, tuple):</div>
<div class="line"><span class="lineno">  184</span>        key = list(key)</div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordflow">return</span> array[key] <span class="keywordflow">if</span> axis == 0 <span class="keywordflow">else</span> array[:, key]</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afe0dff9cf096643e276964c50c91df68" name="afe0dff9cf096643e276964c50c91df68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe0dff9cf096643e276964c50c91df68">&#9670;&#160;</a></span>_chunk_generator()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._chunk_generator </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunksize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Chunk generator, ``gen`` into lists of length ``chunksize``. The last
chunk may have a length less than ``chunksize``.</pre> <div class="fragment"><div class="line"><span class="lineno">  717</span><span class="keyword">def </span>_chunk_generator(gen, chunksize):</div>
<div class="line"><span class="lineno">  718</span>    <span class="stringliteral">&quot;&quot;&quot;Chunk generator, ``gen`` into lists of length ``chunksize``. The last</span></div>
<div class="line"><span class="lineno">  719</span><span class="stringliteral">    chunk may have a length less than ``chunksize``.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  720</span>    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  721</span>        chunk = list(islice(gen, chunksize))</div>
<div class="line"><span class="lineno">  722</span>        <span class="keywordflow">if</span> chunk:</div>
<div class="line"><span class="lineno">  723</span>            <span class="keywordflow">yield</span> chunk</div>
<div class="line"><span class="lineno">  724</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  725</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  726</span> </div>
<div class="line"><span class="lineno">  727</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afdf44fece8d617b1836c537313a075eb" name="afdf44fece8d617b1836c537313a075eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdf44fece8d617b1836c537313a075eb">&#9670;&#160;</a></span>_determine_key_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._determine_key_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>accept_slice</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Determine the data type of key.

Parameters
----------
key : scalar, slice or array-like
    The key from which we want to infer the data type.

accept_slice : bool, default=True
    Whether or not to raise an error if the key is a slice.

Returns
-------
dtype : {'int', 'str', 'bool', None}
    Returns the data type of key.
</pre> <div class="fragment"><div class="line"><span class="lineno">  215</span><span class="keyword">def </span>_determine_key_type(key, accept_slice=True):</div>
<div class="line"><span class="lineno">  216</span>    <span class="stringliteral">&quot;&quot;&quot;Determine the data type of key.</span></div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  218</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  219</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral">    key : scalar, slice or array-like</span></div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">        The key from which we want to infer the data type.</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">    accept_slice : bool, default=True</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral">        Whether or not to raise an error if the key is a slice.</span></div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  226</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  227</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  228</span><span class="stringliteral">    dtype : {&#39;int&#39;, &#39;str&#39;, &#39;bool&#39;, None}</span></div>
<div class="line"><span class="lineno">  229</span><span class="stringliteral">        Returns the data type of key.</span></div>
<div class="line"><span class="lineno">  230</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  231</span>    err_msg = (</div>
<div class="line"><span class="lineno">  232</span>        <span class="stringliteral">&quot;No valid specification of the columns. Only a scalar, list or &quot;</span></div>
<div class="line"><span class="lineno">  233</span>        <span class="stringliteral">&quot;slice of all integers or all strings, or boolean mask is &quot;</span></div>
<div class="line"><span class="lineno">  234</span>        <span class="stringliteral">&quot;allowed&quot;</span></div>
<div class="line"><span class="lineno">  235</span>    )</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span>    dtype_to_str = {int: <span class="stringliteral">&quot;int&quot;</span>, str: <span class="stringliteral">&quot;str&quot;</span>, bool: <span class="stringliteral">&quot;bool&quot;</span>, np.bool_: <span class="stringliteral">&quot;bool&quot;</span>}</div>
<div class="line"><span class="lineno">  238</span>    array_dtype_to_str = {</div>
<div class="line"><span class="lineno">  239</span>        <span class="stringliteral">&quot;i&quot;</span>: <span class="stringliteral">&quot;int&quot;</span>,</div>
<div class="line"><span class="lineno">  240</span>        <span class="stringliteral">&quot;u&quot;</span>: <span class="stringliteral">&quot;int&quot;</span>,</div>
<div class="line"><span class="lineno">  241</span>        <span class="stringliteral">&quot;b&quot;</span>: <span class="stringliteral">&quot;bool&quot;</span>,</div>
<div class="line"><span class="lineno">  242</span>        <span class="stringliteral">&quot;O&quot;</span>: <span class="stringliteral">&quot;str&quot;</span>,</div>
<div class="line"><span class="lineno">  243</span>        <span class="stringliteral">&quot;U&quot;</span>: <span class="stringliteral">&quot;str&quot;</span>,</div>
<div class="line"><span class="lineno">  244</span>        <span class="stringliteral">&quot;S&quot;</span>: <span class="stringliteral">&quot;str&quot;</span>,</div>
<div class="line"><span class="lineno">  245</span>    }</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">if</span> key <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  249</span>    <span class="keywordflow">if</span> isinstance(key, tuple(dtype_to_str.keys())):</div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  251</span>            <span class="keywordflow">return</span> dtype_to_str[type(key)]</div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><span class="lineno">  253</span>            <span class="keywordflow">raise</span> ValueError(err_msg)</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">if</span> isinstance(key, slice):</div>
<div class="line"><span class="lineno">  255</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> accept_slice:</div>
<div class="line"><span class="lineno">  256</span>            <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">  257</span>                <span class="stringliteral">&quot;Only array-like or scalar are supported. A Python slice was given.&quot;</span></div>
<div class="line"><span class="lineno">  258</span>            )</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">if</span> key.start <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> key.stop <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  260</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  261</span>        key_start_type = _determine_key_type(key.start)</div>
<div class="line"><span class="lineno">  262</span>        key_stop_type = _determine_key_type(key.stop)</div>
<div class="line"><span class="lineno">  263</span>        <span class="keywordflow">if</span> key_start_type <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> key_stop_type <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  264</span>            <span class="keywordflow">if</span> key_start_type != key_stop_type:</div>
<div class="line"><span class="lineno">  265</span>                <span class="keywordflow">raise</span> ValueError(err_msg)</div>
<div class="line"><span class="lineno">  266</span>        <span class="keywordflow">if</span> key_start_type <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  267</span>            <span class="keywordflow">return</span> key_start_type</div>
<div class="line"><span class="lineno">  268</span>        <span class="keywordflow">return</span> key_stop_type</div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">if</span> isinstance(key, (list, tuple)):</div>
<div class="line"><span class="lineno">  270</span>        unique_key = set(key)</div>
<div class="line"><span class="lineno">  271</span>        key_type = {_determine_key_type(elt) <span class="keywordflow">for</span> elt <span class="keywordflow">in</span> unique_key}</div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> key_type:</div>
<div class="line"><span class="lineno">  273</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">if</span> len(key_type) != 1:</div>
<div class="line"><span class="lineno">  275</span>            <span class="keywordflow">raise</span> ValueError(err_msg)</div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">return</span> key_type.pop()</div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">if</span> hasattr(key, <span class="stringliteral">&quot;dtype&quot;</span>):</div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  279</span>            <span class="keywordflow">return</span> array_dtype_to_str[key.dtype.kind]</div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><span class="lineno">  281</span>            <span class="keywordflow">raise</span> ValueError(err_msg)</div>
<div class="line"><span class="lineno">  282</span>    <span class="keywordflow">raise</span> ValueError(err_msg)</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a74317b843b8c6ba3a8eddb3ff767d61f" name="a74317b843b8c6ba3a8eddb3ff767d61f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74317b843b8c6ba3a8eddb3ff767d61f">&#9670;&#160;</a></span>_get_column_indices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._get_column_indices </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get feature column indices for input data X and key.

For accepted values of `key`, see the docstring of
:func:`_safe_indexing_column`.
</pre> <div class="fragment"><div class="line"><span class="lineno">  398</span><span class="keyword">def </span>_get_column_indices(X, key):</div>
<div class="line"><span class="lineno">  399</span>    <span class="stringliteral">&quot;&quot;&quot;Get feature column indices for input data X and key.</span></div>
<div class="line"><span class="lineno">  400</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  401</span><span class="stringliteral">    For accepted values of `key`, see the docstring of</span></div>
<div class="line"><span class="lineno">  402</span><span class="stringliteral">    :func:`_safe_indexing_column`.</span></div>
<div class="line"><span class="lineno">  403</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  404</span>    n_columns = X.shape[1]</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>    key_dtype = _determine_key_type(key)</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordflow">if</span> isinstance(key, (list, tuple)) <span class="keywordflow">and</span> <span class="keywordflow">not</span> key:</div>
<div class="line"><span class="lineno">  409</span>        <span class="comment"># we get an empty list</span></div>
<div class="line"><span class="lineno">  410</span>        <span class="keywordflow">return</span> []</div>
<div class="line"><span class="lineno">  411</span>    <span class="keywordflow">elif</span> key_dtype <span class="keywordflow">in</span> (<span class="stringliteral">&quot;bool&quot;</span>, <span class="stringliteral">&quot;int&quot;</span>):</div>
<div class="line"><span class="lineno">  412</span>        <span class="comment"># Convert key into positive indexes</span></div>
<div class="line"><span class="lineno">  413</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  414</span>            idx = _safe_indexing(np.arange(n_columns), key)</div>
<div class="line"><span class="lineno">  415</span>        <span class="keywordflow">except</span> IndexError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  416</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  417</span>                <span class="stringliteral">&quot;all features must be in [0, {}] or [-{}, 0]&quot;</span>.format(</div>
<div class="line"><span class="lineno">  418</span>                    n_columns - 1, n_columns</div>
<div class="line"><span class="lineno">  419</span>                )</div>
<div class="line"><span class="lineno">  420</span>            ) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno">  421</span>        <span class="keywordflow">return</span> np.atleast_1d(idx).tolist()</div>
<div class="line"><span class="lineno">  422</span>    <span class="keywordflow">elif</span> key_dtype == <span class="stringliteral">&quot;str&quot;</span>:</div>
<div class="line"><span class="lineno">  423</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  424</span>            all_columns = X.columns</div>
<div class="line"><span class="lineno">  425</span>        <span class="keywordflow">except</span> AttributeError:</div>
<div class="line"><span class="lineno">  426</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  427</span>                <span class="stringliteral">&quot;Specifying the columns using strings is only &quot;</span></div>
<div class="line"><span class="lineno">  428</span>                <span class="stringliteral">&quot;supported for pandas DataFrames&quot;</span></div>
<div class="line"><span class="lineno">  429</span>            )</div>
<div class="line"><span class="lineno">  430</span>        <span class="keywordflow">if</span> isinstance(key, str):</div>
<div class="line"><span class="lineno">  431</span>            columns = [key]</div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordflow">elif</span> isinstance(key, slice):</div>
<div class="line"><span class="lineno">  433</span>            start, stop = key.start, key.stop</div>
<div class="line"><span class="lineno">  434</span>            <span class="keywordflow">if</span> start <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  435</span>                start = all_columns.get_loc(start)</div>
<div class="line"><span class="lineno">  436</span>            <span class="keywordflow">if</span> stop <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  437</span>                <span class="comment"># pandas indexing with strings is endpoint included</span></div>
<div class="line"><span class="lineno">  438</span>                stop = all_columns.get_loc(stop) + 1</div>
<div class="line"><span class="lineno">  439</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  440</span>                stop = n_columns + 1</div>
<div class="line"><span class="lineno">  441</span>            <span class="keywordflow">return</span> list(islice(range(n_columns), start, stop))</div>
<div class="line"><span class="lineno">  442</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  443</span>            columns = list(key)</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  446</span>            column_indices = []</div>
<div class="line"><span class="lineno">  447</span>            <span class="keywordflow">for</span> col <span class="keywordflow">in</span> columns:</div>
<div class="line"><span class="lineno">  448</span>                col_idx = all_columns.get_loc(col)</div>
<div class="line"><span class="lineno">  449</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(col_idx, numbers.Integral):</div>
<div class="line"><span class="lineno">  450</span>                    <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  451</span>                        f<span class="stringliteral">&quot;Selected columns, {columns}, are not unique in dataframe&quot;</span></div>
<div class="line"><span class="lineno">  452</span>                    )</div>
<div class="line"><span class="lineno">  453</span>                column_indices.append(col_idx)</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">except</span> KeyError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  456</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;A given column is not a column of the dataframe&quot;</span>) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>        <span class="keywordflow">return</span> column_indices</div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  460</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  461</span>            <span class="stringliteral">&quot;No valid specification of the columns. Only a &quot;</span></div>
<div class="line"><span class="lineno">  462</span>            <span class="stringliteral">&quot;scalar, list or slice of all integers or all &quot;</span></div>
<div class="line"><span class="lineno">  463</span>            <span class="stringliteral">&quot;strings, or boolean mask is allowed&quot;</span></div>
<div class="line"><span class="lineno">  464</span>        )</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abdc54a3c3615628ea7a2833931ae2b61" name="abdc54a3c3615628ea7a2833931ae2b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc54a3c3615628ea7a2833931ae2b61">&#9670;&#160;</a></span>_in_unstable_openblas_configuration()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._in_unstable_openblas_configuration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return True if in an unstable configuration for OpenBLAS</pre> <div class="fragment"><div class="line"><span class="lineno">   83</span><span class="keyword">def </span>_in_unstable_openblas_configuration():</div>
<div class="line"><span class="lineno">   84</span>    <span class="stringliteral">&quot;&quot;&quot;Return True if in an unstable configuration for OpenBLAS&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>    <span class="comment"># Import libraries which might load OpenBLAS.</span></div>
<div class="line"><span class="lineno">   87</span>    <span class="keyword">import</span> numpy  <span class="comment"># noqa</span></div>
<div class="line"><span class="lineno">   88</span>    <span class="keyword">import</span> scipy  <span class="comment"># noqa</span></div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>    modules_info = threadpool_info()</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    open_blas_used = any(info[<span class="stringliteral">&quot;internal_api&quot;</span>] == <span class="stringliteral">&quot;openblas&quot;</span> <span class="keywordflow">for</span> info <span class="keywordflow">in</span> modules_info)</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> open_blas_used:</div>
<div class="line"><span class="lineno">   94</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="comment"># OpenBLAS 0.3.16 fixed unstability for arm64, see:</span></div>
<div class="line"><span class="lineno">   97</span>    <span class="comment"># https://github.com/xianyi/OpenBLAS/blob/1b6db3dbba672b4f8af935bd43a1ff6cff4d20b7/Changelog.txt#L56-L58 # noqa</span></div>
<div class="line"><span class="lineno">   98</span>    openblas_arm64_stable_version = parse_version(<span class="stringliteral">&quot;0.3.16&quot;</span>)</div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">for</span> info <span class="keywordflow">in</span> modules_info:</div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordflow">if</span> info[<span class="stringliteral">&quot;internal_api&quot;</span>] != <span class="stringliteral">&quot;openblas&quot;</span>:</div>
<div class="line"><span class="lineno">  101</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  102</span>        openblas_version = info.get(<span class="stringliteral">&quot;version&quot;</span>)</div>
<div class="line"><span class="lineno">  103</span>        openblas_architecture = info.get(<span class="stringliteral">&quot;architecture&quot;</span>)</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordflow">if</span> openblas_version <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> openblas_architecture <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  105</span>            <span class="comment"># Cannot be sure that OpenBLAS is good enough. Assume unstable:</span></div>
<div class="line"><span class="lineno">  106</span>            <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  107</span>        <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  108</span>            openblas_architecture == <span class="stringliteral">&quot;neoversen1&quot;</span></div>
<div class="line"><span class="lineno">  109</span>            <span class="keywordflow">and</span> parse_version(openblas_version) &lt; openblas_arm64_stable_version</div>
<div class="line"><span class="lineno">  110</span>        ):</div>
<div class="line"><span class="lineno">  111</span>            <span class="comment"># See discussions in https://github.com/numpy/numpy/issues/19411</span></div>
<div class="line"><span class="lineno">  112</span>            <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adaf049517ce0f4917c812b7ec4469b88" name="adaf049517ce0f4917c812b7ec4469b88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaf049517ce0f4917c812b7ec4469b88">&#9670;&#160;</a></span>_is_pandas_na()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._is_pandas_na </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Test if x is pandas.NA.

We intentionally do not use this function to return `True` for `pd.NA` in
`is_scalar_nan`, because estimators that support `pd.NA` are the exception
rather than the rule at the moment. When `pd.NA` is more universally
supported, we may reconsider this decision.

Parameters
----------
x : any type

Returns
-------
boolean
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1019</span><span class="keyword">def </span>_is_pandas_na(x):</div>
<div class="line"><span class="lineno"> 1020</span>    <span class="stringliteral">&quot;&quot;&quot;Test if x is pandas.NA.</span></div>
<div class="line"><span class="lineno"> 1021</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1022</span><span class="stringliteral">    We intentionally do not use this function to return `True` for `pd.NA` in</span></div>
<div class="line"><span class="lineno"> 1023</span><span class="stringliteral">    `is_scalar_nan`, because estimators that support `pd.NA` are the exception</span></div>
<div class="line"><span class="lineno"> 1024</span><span class="stringliteral">    rather than the rule at the moment. When `pd.NA` is more universally</span></div>
<div class="line"><span class="lineno"> 1025</span><span class="stringliteral">    supported, we may reconsider this decision.</span></div>
<div class="line"><span class="lineno"> 1026</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1027</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1028</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1029</span><span class="stringliteral">    x : any type</span></div>
<div class="line"><span class="lineno"> 1030</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1031</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1032</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1033</span><span class="stringliteral">    boolean</span></div>
<div class="line"><span class="lineno"> 1034</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1035</span>    <span class="keyword">with</span> suppress(ImportError):</div>
<div class="line"><span class="lineno"> 1036</span>        <span class="keyword">from</span> pandas <span class="keyword">import</span> NA</div>
<div class="line"><span class="lineno"> 1037</span> </div>
<div class="line"><span class="lineno"> 1038</span>        <span class="keywordflow">return</span> x <span class="keywordflow">is</span> NA</div>
<div class="line"><span class="lineno"> 1039</span> </div>
<div class="line"><span class="lineno"> 1040</span>    <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af4b0d4f70e3ce0a662ee30075585e18c" name="af4b0d4f70e3ce0a662ee30075585e18c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4b0d4f70e3ce0a662ee30075585e18c">&#9670;&#160;</a></span>_list_indexing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._list_indexing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key_dtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Index a Python list.</pre> <div class="fragment"><div class="line"><span class="lineno">  203</span><span class="keyword">def </span>_list_indexing(X, key, key_dtype):</div>
<div class="line"><span class="lineno">  204</span>    <span class="stringliteral">&quot;&quot;&quot;Index a Python list.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">if</span> np.isscalar(key) <span class="keywordflow">or</span> isinstance(key, slice):</div>
<div class="line"><span class="lineno">  206</span>        <span class="comment"># key is a slice or a scalar</span></div>
<div class="line"><span class="lineno">  207</span>        <span class="keywordflow">return</span> X[key]</div>
<div class="line"><span class="lineno">  208</span>    <span class="keywordflow">if</span> key_dtype == <span class="stringliteral">&quot;bool&quot;</span>:</div>
<div class="line"><span class="lineno">  209</span>        <span class="comment"># key is a boolean array-like</span></div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordflow">return</span> list(compress(X, key))</div>
<div class="line"><span class="lineno">  211</span>    <span class="comment"># key is a integer array-like of key</span></div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">return</span> [X[idx] <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> key]</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ace8d2f5d4d1ec81be36fe8325582b781" name="ace8d2f5d4d1ec81be36fe8325582b781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace8d2f5d4d1ec81be36fe8325582b781">&#9670;&#160;</a></span>_message_with_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._message_with_time </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Create one line message for logging purposes.

Parameters
----------
source : str
    String indicating the source or the reference of the message.

message : str
    Short message.

time : int
    Time in seconds.
</pre> <div class="fragment"><div class="line"><span class="lineno">  926</span><span class="keyword">def </span>_message_with_time(source, message, time):</div>
<div class="line"><span class="lineno">  927</span>    <span class="stringliteral">&quot;&quot;&quot;Create one line message for logging purposes.</span></div>
<div class="line"><span class="lineno">  928</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  929</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  930</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  931</span><span class="stringliteral">    source : str</span></div>
<div class="line"><span class="lineno">  932</span><span class="stringliteral">        String indicating the source or the reference of the message.</span></div>
<div class="line"><span class="lineno">  933</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  934</span><span class="stringliteral">    message : str</span></div>
<div class="line"><span class="lineno">  935</span><span class="stringliteral">        Short message.</span></div>
<div class="line"><span class="lineno">  936</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  937</span><span class="stringliteral">    time : int</span></div>
<div class="line"><span class="lineno">  938</span><span class="stringliteral">        Time in seconds.</span></div>
<div class="line"><span class="lineno">  939</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  940</span>    start_message = <span class="stringliteral">&quot;[%s] &quot;</span> % source</div>
<div class="line"><span class="lineno">  941</span> </div>
<div class="line"><span class="lineno">  942</span>    <span class="comment"># adapted from joblib.logger.short_format_time without the Windows -.1s</span></div>
<div class="line"><span class="lineno">  943</span>    <span class="comment"># adjustment</span></div>
<div class="line"><span class="lineno">  944</span>    <span class="keywordflow">if</span> time &gt; 60:</div>
<div class="line"><span class="lineno">  945</span>        time_str = <span class="stringliteral">&quot;%4.1fmin&quot;</span> % (time / 60)</div>
<div class="line"><span class="lineno">  946</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  947</span>        time_str = <span class="stringliteral">&quot; %5.1fs&quot;</span> % time</div>
<div class="line"><span class="lineno">  948</span>    end_message = <span class="stringliteral">&quot; %s, total=%s&quot;</span> % (message, time_str)</div>
<div class="line"><span class="lineno">  949</span>    dots_len = 70 - len(start_message) - len(end_message)</div>
<div class="line"><span class="lineno">  950</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;%s%s%s&quot;</span> % (start_message, dots_len * <span class="stringliteral">&quot;.&quot;</span>, end_message)</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span> </div>
<div class="line"><span class="lineno">  953</span><span class="preprocessor">@contextmanager</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58c9f53f64f4bb55b04db4af233e744f" name="a58c9f53f64f4bb55b04db4af233e744f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58c9f53f64f4bb55b04db4af233e744f">&#9670;&#160;</a></span>_pandas_indexing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._pandas_indexing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key_dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>axis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Index a pandas dataframe or a series.</pre> <div class="fragment"><div class="line"><span class="lineno">  188</span><span class="keyword">def </span>_pandas_indexing(X, key, key_dtype, axis):</div>
<div class="line"><span class="lineno">  189</span>    <span class="stringliteral">&quot;&quot;&quot;Index a pandas dataframe or a series.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">if</span> _is_arraylike_not_scalar(key):</div>
<div class="line"><span class="lineno">  191</span>        key = np.asarray(key)</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">if</span> key_dtype == <span class="stringliteral">&quot;int&quot;</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> (isinstance(key, slice) <span class="keywordflow">or</span> np.isscalar(key)):</div>
<div class="line"><span class="lineno">  194</span>        <span class="comment"># using take() instead of iloc[] ensures the return value is a &quot;proper&quot;</span></div>
<div class="line"><span class="lineno">  195</span>        <span class="comment"># copy that will not raise SettingWithCopyWarning</span></div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">return</span> X.take(key, axis=axis)</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  198</span>        <span class="comment"># check whether we should index with loc or iloc</span></div>
<div class="line"><span class="lineno">  199</span>        indexer = X.iloc <span class="keywordflow">if</span> key_dtype == <span class="stringliteral">&quot;int&quot;</span> <span class="keywordflow">else</span> X.loc</div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">return</span> indexer[:, key] <span class="keywordflow">if</span> axis <span class="keywordflow">else</span> indexer[key]</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a578f29b0dfc1db3dd8fa3f392a0a1572" name="a578f29b0dfc1db3dd8fa3f392a0a1572"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a578f29b0dfc1db3dd8fa3f392a0a1572">&#9670;&#160;</a></span>_print_elapsed_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._print_elapsed_time </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>message</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Log elapsed time to stdout when the context is exited.

Parameters
----------
source : str
    String indicating the source or the reference of the message.

message : str, default=None
    Short message. If None, nothing will be printed.

Returns
-------
context_manager
    Prints elapsed time upon exit if verbose.
</pre> <div class="fragment"><div class="line"><span class="lineno">  954</span><span class="keyword">def </span>_print_elapsed_time(source, message=None):</div>
<div class="line"><span class="lineno">  955</span>    <span class="stringliteral">&quot;&quot;&quot;Log elapsed time to stdout when the context is exited.</span></div>
<div class="line"><span class="lineno">  956</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  957</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  958</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  959</span><span class="stringliteral">    source : str</span></div>
<div class="line"><span class="lineno">  960</span><span class="stringliteral">        String indicating the source or the reference of the message.</span></div>
<div class="line"><span class="lineno">  961</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  962</span><span class="stringliteral">    message : str, default=None</span></div>
<div class="line"><span class="lineno">  963</span><span class="stringliteral">        Short message. If None, nothing will be printed.</span></div>
<div class="line"><span class="lineno">  964</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  965</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  966</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  967</span><span class="stringliteral">    context_manager</span></div>
<div class="line"><span class="lineno">  968</span><span class="stringliteral">        Prints elapsed time upon exit if verbose.</span></div>
<div class="line"><span class="lineno">  969</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  970</span>    <span class="keywordflow">if</span> message <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  971</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno">  972</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  973</span>        start = timeit.default_timer()</div>
<div class="line"><span class="lineno">  974</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno">  975</span>        print(_message_with_time(source, message, timeit.default_timer() - start))</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae8c68e6995e6f7ea4ceba62145d94ea8" name="ae8c68e6995e6f7ea4ceba62145d94ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8c68e6995e6f7ea4ceba62145d94ea8">&#9670;&#160;</a></span>_safe_assign()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._safe_assign </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>row_indexer</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>column_indexer</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Safe assignment to a numpy array, sparse matrix, or pandas dataframe.

Parameters
----------
X : {ndarray, sparse-matrix, dataframe}
    Array to be modified. It is expected to be 2-dimensional.

values : ndarray
    The values to be assigned to `X`.

row_indexer : array-like, dtype={int, bool}, default=None
    A 1-dimensional array to select the rows of interest. If `None`, all
    rows are selected.

column_indexer : array-like, dtype={int, bool}, default=None
    A 1-dimensional array to select the columns of interest. If `None`, all
    columns are selected.
</pre> <div class="fragment"><div class="line"><span class="lineno">  361</span><span class="keyword">def </span>_safe_assign(X, values, *, row_indexer=None, column_indexer=None):</div>
<div class="line"><span class="lineno">  362</span>    <span class="stringliteral">&quot;&quot;&quot;Safe assignment to a numpy array, sparse matrix, or pandas dataframe.</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral">    X : {ndarray, sparse-matrix, dataframe}</span></div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">        Array to be modified. It is expected to be 2-dimensional.</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral">    values : ndarray</span></div>
<div class="line"><span class="lineno">  370</span><span class="stringliteral">        The values to be assigned to `X`.</span></div>
<div class="line"><span class="lineno">  371</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  372</span><span class="stringliteral">    row_indexer : array-like, dtype={int, bool}, default=None</span></div>
<div class="line"><span class="lineno">  373</span><span class="stringliteral">        A 1-dimensional array to select the rows of interest. If `None`, all</span></div>
<div class="line"><span class="lineno">  374</span><span class="stringliteral">        rows are selected.</span></div>
<div class="line"><span class="lineno">  375</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  376</span><span class="stringliteral">    column_indexer : array-like, dtype={int, bool}, default=None</span></div>
<div class="line"><span class="lineno">  377</span><span class="stringliteral">        A 1-dimensional array to select the columns of interest. If `None`, all</span></div>
<div class="line"><span class="lineno">  378</span><span class="stringliteral">        columns are selected.</span></div>
<div class="line"><span class="lineno">  379</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  380</span>    row_indexer = slice(<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>) <span class="keywordflow">if</span> row_indexer <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> row_indexer</div>
<div class="line"><span class="lineno">  381</span>    column_indexer = (</div>
<div class="line"><span class="lineno">  382</span>        slice(<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>) <span class="keywordflow">if</span> column_indexer <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> column_indexer</div>
<div class="line"><span class="lineno">  383</span>    )</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <span class="keywordflow">if</span> hasattr(X, <span class="stringliteral">&quot;iloc&quot;</span>):  <span class="comment"># pandas dataframe</span></div>
<div class="line"><span class="lineno">  386</span>        <span class="keyword">with</span> warnings.catch_warnings():</div>
<div class="line"><span class="lineno">  387</span>            <span class="comment"># pandas &gt;= 1.5 raises a warning when using iloc to set values in a column</span></div>
<div class="line"><span class="lineno">  388</span>            <span class="comment"># that does not have the same type as the column being set. It happens</span></div>
<div class="line"><span class="lineno">  389</span>            <span class="comment"># for instance when setting a categorical column with a string.</span></div>
<div class="line"><span class="lineno">  390</span>            <span class="comment"># In the future the behavior won&#39;t change and the warning should disappear.</span></div>
<div class="line"><span class="lineno">  391</span>            <span class="comment"># TODO(1.3): check if the warning is still raised or remove the filter.</span></div>
<div class="line"><span class="lineno">  392</span>            warnings.simplefilter(<span class="stringliteral">&quot;ignore&quot;</span>, FutureWarning)</div>
<div class="line"><span class="lineno">  393</span>            X.iloc[row_indexer, column_indexer] = values</div>
<div class="line"><span class="lineno">  394</span>    <span class="keywordflow">else</span>:  <span class="comment"># numpy array or sparse matrix</span></div>
<div class="line"><span class="lineno">  395</span>        X[row_indexer, column_indexer] = values</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acbd14e72aae1cf6e0271f60d24538271" name="acbd14e72aae1cf6e0271f60d24538271"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbd14e72aae1cf6e0271f60d24538271">&#9670;&#160;</a></span>_safe_indexing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._safe_indexing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>axis</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return rows, items or columns of X using indices.

.. warning::

    This utility is documented, but **private**. This means that
    backward compatibility might be broken without any deprecation
    cycle.

Parameters
----------
X : array-like, sparse-matrix, list, pandas.DataFrame, pandas.Series
    Data from which to sample rows, items or columns. `list` are only
    supported when `axis=0`.
indices : bool, int, str, slice, array-like
    - If `axis=0`, boolean and integer array-like, integer slice,
      and scalar integer are supported.
    - If `axis=1`:
        - to select a single column, `indices` can be of `int` type for
          all `X` types and `str` only for dataframe. The selected subset
          will be 1D, unless `X` is a sparse matrix in which case it will
          be 2D.
        - to select multiples columns, `indices` can be one of the
          following: `list`, `array`, `slice`. The type used in
          these containers can be one of the following: `int`, 'bool' and
          `str`. However, `str` is only supported when `X` is a dataframe.
          The selected subset will be 2D.
axis : int, default=0
    The axis along which `X` will be subsampled. `axis=0` will select
    rows while `axis=1` will select columns.

Returns
-------
subset
    Subset of X on axis 0 or 1.

Notes
-----
CSR, CSC, and LIL sparse matrices are supported. COO sparse matrices are
not supported.
</pre> <div class="fragment"><div class="line"><span class="lineno">  285</span><span class="keyword">def </span>_safe_indexing(X, indices, *, axis=0):</div>
<div class="line"><span class="lineno">  286</span>    <span class="stringliteral">&quot;&quot;&quot;Return rows, items or columns of X using indices.</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral">    .. warning::</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral">        This utility is documented, but **private**. This means that</span></div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">        backward compatibility might be broken without any deprecation</span></div>
<div class="line"><span class="lineno">  292</span><span class="stringliteral">        cycle.</span></div>
<div class="line"><span class="lineno">  293</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  294</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">    X : array-like, sparse-matrix, list, pandas.DataFrame, pandas.Series</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral">        Data from which to sample rows, items or columns. `list` are only</span></div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral">        supported when `axis=0`.</span></div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral">    indices : bool, int, str, slice, array-like</span></div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">        - If `axis=0`, boolean and integer array-like, integer slice,</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">          and scalar integer are supported.</span></div>
<div class="line"><span class="lineno">  302</span><span class="stringliteral">        - If `axis=1`:</span></div>
<div class="line"><span class="lineno">  303</span><span class="stringliteral">            - to select a single column, `indices` can be of `int` type for</span></div>
<div class="line"><span class="lineno">  304</span><span class="stringliteral">              all `X` types and `str` only for dataframe. The selected subset</span></div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">              will be 1D, unless `X` is a sparse matrix in which case it will</span></div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral">              be 2D.</span></div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral">            - to select multiples columns, `indices` can be one of the</span></div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">              following: `list`, `array`, `slice`. The type used in</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral">              these containers can be one of the following: `int`, &#39;bool&#39; and</span></div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">              `str`. However, `str` is only supported when `X` is a dataframe.</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral">              The selected subset will be 2D.</span></div>
<div class="line"><span class="lineno">  312</span><span class="stringliteral">    axis : int, default=0</span></div>
<div class="line"><span class="lineno">  313</span><span class="stringliteral">        The axis along which `X` will be subsampled. `axis=0` will select</span></div>
<div class="line"><span class="lineno">  314</span><span class="stringliteral">        rows while `axis=1` will select columns.</span></div>
<div class="line"><span class="lineno">  315</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  316</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  317</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  318</span><span class="stringliteral">    subset</span></div>
<div class="line"><span class="lineno">  319</span><span class="stringliteral">        Subset of X on axis 0 or 1.</span></div>
<div class="line"><span class="lineno">  320</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  321</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  322</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  323</span><span class="stringliteral">    CSR, CSC, and LIL sparse matrices are supported. COO sparse matrices are</span></div>
<div class="line"><span class="lineno">  324</span><span class="stringliteral">    not supported.</span></div>
<div class="line"><span class="lineno">  325</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordflow">if</span> indices <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">return</span> X</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">if</span> axis <span class="keywordflow">not</span> <span class="keywordflow">in</span> (0, 1):</div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  331</span>            <span class="stringliteral">&quot;&#39;axis&#39; should be either 0 (to index rows) or 1 (to index &quot;</span></div>
<div class="line"><span class="lineno">  332</span>            <span class="stringliteral">&quot; column). Got {} instead.&quot;</span>.format(axis)</div>
<div class="line"><span class="lineno">  333</span>        )</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    indices_dtype = _determine_key_type(indices)</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">if</span> axis == 0 <span class="keywordflow">and</span> indices_dtype == <span class="stringliteral">&quot;str&quot;</span>:</div>
<div class="line"><span class="lineno">  338</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;String indexing is not supported with &#39;axis=0&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    <span class="keywordflow">if</span> axis == 1 <span class="keywordflow">and</span> X.ndim != 2:</div>
<div class="line"><span class="lineno">  341</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  342</span>            <span class="stringliteral">&quot;&#39;X&#39; should be a 2D NumPy array, 2D sparse matrix or pandas &quot;</span></div>
<div class="line"><span class="lineno">  343</span>            <span class="stringliteral">&quot;dataframe when indexing the columns (i.e. &#39;axis=1&#39;). &quot;</span></div>
<div class="line"><span class="lineno">  344</span>            <span class="stringliteral">&quot;Got {} instead with {} dimension(s).&quot;</span>.format(type(X), X.ndim)</div>
<div class="line"><span class="lineno">  345</span>        )</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>    <span class="keywordflow">if</span> axis == 1 <span class="keywordflow">and</span> indices_dtype == <span class="stringliteral">&quot;str&quot;</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> hasattr(X, <span class="stringliteral">&quot;loc&quot;</span>):</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  349</span>            <span class="stringliteral">&quot;Specifying the columns using strings is only supported for &quot;</span></div>
<div class="line"><span class="lineno">  350</span>            <span class="stringliteral">&quot;pandas DataFrames&quot;</span></div>
<div class="line"><span class="lineno">  351</span>        )</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">if</span> hasattr(X, <span class="stringliteral">&quot;iloc&quot;</span>):</div>
<div class="line"><span class="lineno">  354</span>        <span class="keywordflow">return</span> _pandas_indexing(X, indices, indices_dtype, axis=axis)</div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">elif</span> hasattr(X, <span class="stringliteral">&quot;shape&quot;</span>):</div>
<div class="line"><span class="lineno">  356</span>        <span class="keywordflow">return</span> _array_indexing(X, indices, indices_dtype, axis=axis)</div>
<div class="line"><span class="lineno">  357</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  358</span>        <span class="keywordflow">return</span> _list_indexing(X, indices, indices_dtype)</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4f45bd0548158f89a1df3eb2a949f18c" name="a4f45bd0548158f89a1df3eb2a949f18c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f45bd0548158f89a1df3eb2a949f18c">&#9670;&#160;</a></span>_to_object_array()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._to_object_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sequence</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Convert sequence to a 1-D NumPy array of object dtype.

numpy.array constructor has a similar use but it's output
is ambiguous. It can be 1-D NumPy array of object dtype if
the input is a ragged array, but if the input is a list of
equal length arrays, then the output is a 2D numpy.array.
_to_object_array solves this ambiguity by guarantying that
the output is a 1-D NumPy array of objects for any input.

Parameters
----------
sequence : array-like of shape (n_elements,)
    The sequence to be converted.

Returns
-------
out : ndarray of shape (n_elements,), dtype=object
    The converted sequence into a 1-D NumPy array of object dtype.

Examples
--------
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from sklearn.utils import _to_object_array
&gt;&gt;&gt; _to_object_array([np.array([0]), np.array([1])])
array([array([0]), array([1])], dtype=object)
&gt;&gt;&gt; _to_object_array([np.array([0]), np.array([1, 2])])
array([array([0]), array([1, 2])], dtype=object)
&gt;&gt;&gt; _to_object_array([np.array([0]), np.array([1, 2])])
array([array([0]), array([1, 2])], dtype=object)
</pre> <div class="fragment"><div class="line"><span class="lineno">  858</span><span class="keyword">def </span>_to_object_array(sequence):</div>
<div class="line"><span class="lineno">  859</span>    <span class="stringliteral">&quot;&quot;&quot;Convert sequence to a 1-D NumPy array of object dtype.</span></div>
<div class="line"><span class="lineno">  860</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  861</span><span class="stringliteral">    numpy.array constructor has a similar use but it&#39;s output</span></div>
<div class="line"><span class="lineno">  862</span><span class="stringliteral">    is ambiguous. It can be 1-D NumPy array of object dtype if</span></div>
<div class="line"><span class="lineno">  863</span><span class="stringliteral">    the input is a ragged array, but if the input is a list of</span></div>
<div class="line"><span class="lineno">  864</span><span class="stringliteral">    equal length arrays, then the output is a 2D numpy.array.</span></div>
<div class="line"><span class="lineno">  865</span><span class="stringliteral">    _to_object_array solves this ambiguity by guarantying that</span></div>
<div class="line"><span class="lineno">  866</span><span class="stringliteral">    the output is a 1-D NumPy array of objects for any input.</span></div>
<div class="line"><span class="lineno">  867</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  868</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  869</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  870</span><span class="stringliteral">    sequence : array-like of shape (n_elements,)</span></div>
<div class="line"><span class="lineno">  871</span><span class="stringliteral">        The sequence to be converted.</span></div>
<div class="line"><span class="lineno">  872</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  873</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  874</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  875</span><span class="stringliteral">    out : ndarray of shape (n_elements,), dtype=object</span></div>
<div class="line"><span class="lineno">  876</span><span class="stringliteral">        The converted sequence into a 1-D NumPy array of object dtype.</span></div>
<div class="line"><span class="lineno">  877</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  878</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  879</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  880</span><span class="stringliteral">    &gt;&gt;&gt; import numpy as np</span></div>
<div class="line"><span class="lineno">  881</span><span class="stringliteral">    &gt;&gt;&gt; from sklearn.utils import _to_object_array</span></div>
<div class="line"><span class="lineno">  882</span><span class="stringliteral">    &gt;&gt;&gt; _to_object_array([np.array([0]), np.array([1])])</span></div>
<div class="line"><span class="lineno">  883</span><span class="stringliteral">    array([array([0]), array([1])], dtype=object)</span></div>
<div class="line"><span class="lineno">  884</span><span class="stringliteral">    &gt;&gt;&gt; _to_object_array([np.array([0]), np.array([1, 2])])</span></div>
<div class="line"><span class="lineno">  885</span><span class="stringliteral">    array([array([0]), array([1, 2])], dtype=object)</span></div>
<div class="line"><span class="lineno">  886</span><span class="stringliteral">    &gt;&gt;&gt; _to_object_array([np.array([0]), np.array([1, 2])])</span></div>
<div class="line"><span class="lineno">  887</span><span class="stringliteral">    array([array([0]), array([1, 2])], dtype=object)</span></div>
<div class="line"><span class="lineno">  888</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  889</span>    out = np.empty(len(sequence), dtype=object)</div>
<div class="line"><span class="lineno">  890</span>    out[:] = sequence</div>
<div class="line"><span class="lineno">  891</span>    <span class="keywordflow">return</span> out</div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a54f523e9fa310f9aace48c74830cf423" name="a54f523e9fa310f9aace48c74830cf423"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54f523e9fa310f9aace48c74830cf423">&#9670;&#160;</a></span>axis0_safe_slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.axis0_safe_slice </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mask</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>len_mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a mask which is safer to use on X than safe_mask.

This mask is safer than safe_mask since it returns an
empty array, when a sparse matrix is sliced with a boolean mask
with all False, instead of raising an unhelpful error in older
versions of SciPy.

See: https://github.com/scipy/scipy/issues/5361

Also note that we can avoid doing the dot product by checking if
the len_mask is not zero in _huber_loss_and_gradient but this
is not going to be the bottleneck, since the number of outliers
and non_outliers are typically non-zero and it makes the code
tougher to follow.

Parameters
----------
X : {array-like, sparse matrix}
    Data on which to apply mask.

mask : ndarray
    Mask to be used on X.

len_mask : int
    The length of the mask.

Returns
-------
mask : ndarray
    Array that is safe to use on X.
</pre> <div class="fragment"><div class="line"><span class="lineno">  142</span><span class="keyword">def </span>axis0_safe_slice(X, mask, len_mask):</div>
<div class="line"><span class="lineno">  143</span>    <span class="stringliteral">&quot;&quot;&quot;Return a mask which is safer to use on X than safe_mask.</span></div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral">    This mask is safer than safe_mask since it returns an</span></div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral">    empty array, when a sparse matrix is sliced with a boolean mask</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">    with all False, instead of raising an unhelpful error in older</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral">    versions of SciPy.</span></div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">    See: https://github.com/scipy/scipy/issues/5361</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">    Also note that we can avoid doing the dot product by checking if</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">    the len_mask is not zero in _huber_loss_and_gradient but this</span></div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">    is not going to be the bottleneck, since the number of outliers</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral">    and non_outliers are typically non-zero and it makes the code</span></div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">    tougher to follow.</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  158</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  159</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  160</span><span class="stringliteral">    X : {array-like, sparse matrix}</span></div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral">        Data on which to apply mask.</span></div>
<div class="line"><span class="lineno">  162</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral">    mask : ndarray</span></div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral">        Mask to be used on X.</span></div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  166</span><span class="stringliteral">    len_mask : int</span></div>
<div class="line"><span class="lineno">  167</span><span class="stringliteral">        The length of the mask.</span></div>
<div class="line"><span class="lineno">  168</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">    mask : ndarray</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">        Array that is safe to use on X.</span></div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">if</span> len_mask != 0:</div>
<div class="line"><span class="lineno">  175</span>        <span class="keywordflow">return</span> X[safe_mask(X, mask), :]</div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordflow">return</span> np.zeros(shape=(0, X.shape[1]))</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adefe4c9133c71b64ebf49766ed2517f8" name="adefe4c9133c71b64ebf49766ed2517f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adefe4c9133c71b64ebf49766ed2517f8">&#9670;&#160;</a></span>check_matplotlib_support()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.check_matplotlib_support </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>caller_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Raise ImportError with detailed error message if mpl is not installed.

Plot utilities like any of the Display's plotting functions should lazily import
matplotlib and call this helper before any computation.

Parameters
----------
caller_name : str
    The name of the caller that requires matplotlib.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1146</span><span class="keyword">def </span>check_matplotlib_support(caller_name):</div>
<div class="line"><span class="lineno"> 1147</span>    <span class="stringliteral">&quot;&quot;&quot;Raise ImportError with detailed error message if mpl is not installed.</span></div>
<div class="line"><span class="lineno"> 1148</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1149</span><span class="stringliteral">    Plot utilities like any of the Display&#39;s plotting functions should lazily import</span></div>
<div class="line"><span class="lineno"> 1150</span><span class="stringliteral">    matplotlib and call this helper before any computation.</span></div>
<div class="line"><span class="lineno"> 1151</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1152</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1153</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1154</span><span class="stringliteral">    caller_name : str</span></div>
<div class="line"><span class="lineno"> 1155</span><span class="stringliteral">        The name of the caller that requires matplotlib.</span></div>
<div class="line"><span class="lineno"> 1156</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1157</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1158</span>        <span class="keyword">import</span> matplotlib  <span class="comment"># noqa</span></div>
<div class="line"><span class="lineno"> 1159</span>    <span class="keywordflow">except</span> ImportError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno"> 1160</span>        <span class="keywordflow">raise</span> ImportError(</div>
<div class="line"><span class="lineno"> 1161</span>            <span class="stringliteral">&quot;{} requires matplotlib. You can install matplotlib with &quot;</span></div>
<div class="line"><span class="lineno"> 1162</span>            <span class="stringliteral">&quot;`pip install matplotlib`&quot;</span>.format(caller_name)</div>
<div class="line"><span class="lineno"> 1163</span>        ) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno"> 1164</span> </div>
<div class="line"><span class="lineno"> 1165</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a85b35a6bb7c9ebc0c3f0bddf5c5a5710" name="a85b35a6bb7c9ebc0c3f0bddf5c5a5710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85b35a6bb7c9ebc0c3f0bddf5c5a5710">&#9670;&#160;</a></span>check_pandas_support()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.check_pandas_support </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>caller_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Raise ImportError with detailed error message if pandas is not installed.

Plot utilities like :func:`fetch_openml` should lazily import
pandas and call this helper before any computation.

Parameters
----------
caller_name : str
    The name of the caller that requires pandas.

Returns
-------
pandas
    The pandas package.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1166</span><span class="keyword">def </span>check_pandas_support(caller_name):</div>
<div class="line"><span class="lineno"> 1167</span>    <span class="stringliteral">&quot;&quot;&quot;Raise ImportError with detailed error message if pandas is not installed.</span></div>
<div class="line"><span class="lineno"> 1168</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1169</span><span class="stringliteral">    Plot utilities like :func:`fetch_openml` should lazily import</span></div>
<div class="line"><span class="lineno"> 1170</span><span class="stringliteral">    pandas and call this helper before any computation.</span></div>
<div class="line"><span class="lineno"> 1171</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1172</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1173</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1174</span><span class="stringliteral">    caller_name : str</span></div>
<div class="line"><span class="lineno"> 1175</span><span class="stringliteral">        The name of the caller that requires pandas.</span></div>
<div class="line"><span class="lineno"> 1176</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1177</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1178</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1179</span><span class="stringliteral">    pandas</span></div>
<div class="line"><span class="lineno"> 1180</span><span class="stringliteral">        The pandas package.</span></div>
<div class="line"><span class="lineno"> 1181</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1182</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1183</span>        <span class="keyword">import</span> pandas  <span class="comment"># noqa</span></div>
<div class="line"><span class="lineno"> 1184</span> </div>
<div class="line"><span class="lineno"> 1185</span>        <span class="keywordflow">return</span> pandas</div>
<div class="line"><span class="lineno"> 1186</span>    <span class="keywordflow">except</span> ImportError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno"> 1187</span>        <span class="keywordflow">raise</span> ImportError(<span class="stringliteral">&quot;{} requires pandas.&quot;</span>.format(caller_name)) <span class="keyword">from</span> e</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2dce1d1311a34b5a35d22102dbdd0e4" name="ae2dce1d1311a34b5a35d22102dbdd0e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2dce1d1311a34b5a35d22102dbdd0e4">&#9670;&#160;</a></span>gen_batches()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.gen_batches </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>min_batch_size</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generator to create slices containing `batch_size` elements from 0 to `n`.

The last slice may contain less than `batch_size` elements, when
`batch_size` does not divide `n`.

Parameters
----------
n : int
    Size of the sequence.
batch_size : int
    Number of elements in each batch.
min_batch_size : int, default=0
    Minimum number of elements in each batch.

Yields
------
slice of `batch_size` elements

See Also
--------
gen_even_slices: Generator to create n_packs slices going up to n.

Examples
--------
&gt;&gt;&gt; from sklearn.utils import gen_batches
&gt;&gt;&gt; list(gen_batches(7, 3))
[slice(0, 3, None), slice(3, 6, None), slice(6, 7, None)]
&gt;&gt;&gt; list(gen_batches(6, 3))
[slice(0, 3, None), slice(3, 6, None)]
&gt;&gt;&gt; list(gen_batches(2, 3))
[slice(0, 2, None)]
&gt;&gt;&gt; list(gen_batches(7, 3, min_batch_size=0))
[slice(0, 3, None), slice(3, 6, None), slice(6, 7, None)]
&gt;&gt;&gt; list(gen_batches(7, 3, min_batch_size=2))
[slice(0, 3, None), slice(3, 7, None)]
</pre> <div class="fragment"><div class="line"><span class="lineno">  728</span><span class="keyword">def </span>gen_batches(n, batch_size, *, min_batch_size=0):</div>
<div class="line"><span class="lineno">  729</span>    <span class="stringliteral">&quot;&quot;&quot;Generator to create slices containing `batch_size` elements from 0 to `n`.</span></div>
<div class="line"><span class="lineno">  730</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  731</span><span class="stringliteral">    The last slice may contain less than `batch_size` elements, when</span></div>
<div class="line"><span class="lineno">  732</span><span class="stringliteral">    `batch_size` does not divide `n`.</span></div>
<div class="line"><span class="lineno">  733</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  734</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  735</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  736</span><span class="stringliteral">    n : int</span></div>
<div class="line"><span class="lineno">  737</span><span class="stringliteral">        Size of the sequence.</span></div>
<div class="line"><span class="lineno">  738</span><span class="stringliteral">    batch_size : int</span></div>
<div class="line"><span class="lineno">  739</span><span class="stringliteral">        Number of elements in each batch.</span></div>
<div class="line"><span class="lineno">  740</span><span class="stringliteral">    min_batch_size : int, default=0</span></div>
<div class="line"><span class="lineno">  741</span><span class="stringliteral">        Minimum number of elements in each batch.</span></div>
<div class="line"><span class="lineno">  742</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  743</span><span class="stringliteral">    Yields</span></div>
<div class="line"><span class="lineno">  744</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  745</span><span class="stringliteral">    slice of `batch_size` elements</span></div>
<div class="line"><span class="lineno">  746</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  747</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  748</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  749</span><span class="stringliteral">    gen_even_slices: Generator to create n_packs slices going up to n.</span></div>
<div class="line"><span class="lineno">  750</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  751</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  752</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  753</span><span class="stringliteral">    &gt;&gt;&gt; from sklearn.utils import gen_batches</span></div>
<div class="line"><span class="lineno">  754</span><span class="stringliteral">    &gt;&gt;&gt; list(gen_batches(7, 3))</span></div>
<div class="line"><span class="lineno">  755</span><span class="stringliteral">    [slice(0, 3, None), slice(3, 6, None), slice(6, 7, None)]</span></div>
<div class="line"><span class="lineno">  756</span><span class="stringliteral">    &gt;&gt;&gt; list(gen_batches(6, 3))</span></div>
<div class="line"><span class="lineno">  757</span><span class="stringliteral">    [slice(0, 3, None), slice(3, 6, None)]</span></div>
<div class="line"><span class="lineno">  758</span><span class="stringliteral">    &gt;&gt;&gt; list(gen_batches(2, 3))</span></div>
<div class="line"><span class="lineno">  759</span><span class="stringliteral">    [slice(0, 2, None)]</span></div>
<div class="line"><span class="lineno">  760</span><span class="stringliteral">    &gt;&gt;&gt; list(gen_batches(7, 3, min_batch_size=0))</span></div>
<div class="line"><span class="lineno">  761</span><span class="stringliteral">    [slice(0, 3, None), slice(3, 6, None), slice(6, 7, None)]</span></div>
<div class="line"><span class="lineno">  762</span><span class="stringliteral">    &gt;&gt;&gt; list(gen_batches(7, 3, min_batch_size=2))</span></div>
<div class="line"><span class="lineno">  763</span><span class="stringliteral">    [slice(0, 3, None), slice(3, 7, None)]</span></div>
<div class="line"><span class="lineno">  764</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  765</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(batch_size, numbers.Integral):</div>
<div class="line"><span class="lineno">  766</span>        <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">  767</span>            <span class="stringliteral">&quot;gen_batches got batch_size=%s, must be an integer&quot;</span> % batch_size</div>
<div class="line"><span class="lineno">  768</span>        )</div>
<div class="line"><span class="lineno">  769</span>    <span class="keywordflow">if</span> batch_size &lt;= 0:</div>
<div class="line"><span class="lineno">  770</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;gen_batches got batch_size=%s, must be positive&quot;</span> % batch_size)</div>
<div class="line"><span class="lineno">  771</span>    start = 0</div>
<div class="line"><span class="lineno">  772</span>    <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(int(n // batch_size)):</div>
<div class="line"><span class="lineno">  773</span>        end = start + batch_size</div>
<div class="line"><span class="lineno">  774</span>        <span class="keywordflow">if</span> end + min_batch_size &gt; n:</div>
<div class="line"><span class="lineno">  775</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  776</span>        <span class="keywordflow">yield</span> slice(start, end)</div>
<div class="line"><span class="lineno">  777</span>        start = end</div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordflow">if</span> start &lt; n:</div>
<div class="line"><span class="lineno">  779</span>        <span class="keywordflow">yield</span> slice(start, n)</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a309e18e532c5a688253c0f7d30146cf4" name="a309e18e532c5a688253c0f7d30146cf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a309e18e532c5a688253c0f7d30146cf4">&#9670;&#160;</a></span>gen_even_slices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.gen_even_slices </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_packs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>n_samples</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generator to create `n_packs` evenly spaced slices going up to `n`.

If `n_packs` does not divide `n`, except for the first `n % n_packs`
slices, remaining slices may contain fewer elements.

Parameters
----------
n : int
    Size of the sequence.
n_packs : int
    Number of slices to generate.
n_samples : int, default=None
    Number of samples. Pass `n_samples` when the slices are to be used for
    sparse matrix indexing; slicing off-the-end raises an exception, while
    it works for NumPy arrays.

Yields
------
`slice` representing a set of indices from 0 to n.

See Also
--------
gen_batches: Generator to create slices containing batch_size elements
    from 0 to n.

Examples
--------
&gt;&gt;&gt; from sklearn.utils import gen_even_slices
&gt;&gt;&gt; list(gen_even_slices(10, 1))
[slice(0, 10, None)]
&gt;&gt;&gt; list(gen_even_slices(10, 10))
[slice(0, 1, None), slice(1, 2, None), ..., slice(9, 10, None)]
&gt;&gt;&gt; list(gen_even_slices(10, 5))
[slice(0, 2, None), slice(2, 4, None), ..., slice(8, 10, None)]
&gt;&gt;&gt; list(gen_even_slices(10, 3))
[slice(0, 4, None), slice(4, 7, None), slice(7, 10, None)]
</pre> <div class="fragment"><div class="line"><span class="lineno">  782</span><span class="keyword">def </span>gen_even_slices(n, n_packs, *, n_samples=None):</div>
<div class="line"><span class="lineno">  783</span>    <span class="stringliteral">&quot;&quot;&quot;Generator to create `n_packs` evenly spaced slices going up to `n`.</span></div>
<div class="line"><span class="lineno">  784</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  785</span><span class="stringliteral">    If `n_packs` does not divide `n`, except for the first `n % n_packs`</span></div>
<div class="line"><span class="lineno">  786</span><span class="stringliteral">    slices, remaining slices may contain fewer elements.</span></div>
<div class="line"><span class="lineno">  787</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  788</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  789</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  790</span><span class="stringliteral">    n : int</span></div>
<div class="line"><span class="lineno">  791</span><span class="stringliteral">        Size of the sequence.</span></div>
<div class="line"><span class="lineno">  792</span><span class="stringliteral">    n_packs : int</span></div>
<div class="line"><span class="lineno">  793</span><span class="stringliteral">        Number of slices to generate.</span></div>
<div class="line"><span class="lineno">  794</span><span class="stringliteral">    n_samples : int, default=None</span></div>
<div class="line"><span class="lineno">  795</span><span class="stringliteral">        Number of samples. Pass `n_samples` when the slices are to be used for</span></div>
<div class="line"><span class="lineno">  796</span><span class="stringliteral">        sparse matrix indexing; slicing off-the-end raises an exception, while</span></div>
<div class="line"><span class="lineno">  797</span><span class="stringliteral">        it works for NumPy arrays.</span></div>
<div class="line"><span class="lineno">  798</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  799</span><span class="stringliteral">    Yields</span></div>
<div class="line"><span class="lineno">  800</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  801</span><span class="stringliteral">    `slice` representing a set of indices from 0 to n.</span></div>
<div class="line"><span class="lineno">  802</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  803</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  804</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  805</span><span class="stringliteral">    gen_batches: Generator to create slices containing batch_size elements</span></div>
<div class="line"><span class="lineno">  806</span><span class="stringliteral">        from 0 to n.</span></div>
<div class="line"><span class="lineno">  807</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  808</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  809</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  810</span><span class="stringliteral">    &gt;&gt;&gt; from sklearn.utils import gen_even_slices</span></div>
<div class="line"><span class="lineno">  811</span><span class="stringliteral">    &gt;&gt;&gt; list(gen_even_slices(10, 1))</span></div>
<div class="line"><span class="lineno">  812</span><span class="stringliteral">    [slice(0, 10, None)]</span></div>
<div class="line"><span class="lineno">  813</span><span class="stringliteral">    &gt;&gt;&gt; list(gen_even_slices(10, 10))</span></div>
<div class="line"><span class="lineno">  814</span><span class="stringliteral">    [slice(0, 1, None), slice(1, 2, None), ..., slice(9, 10, None)]</span></div>
<div class="line"><span class="lineno">  815</span><span class="stringliteral">    &gt;&gt;&gt; list(gen_even_slices(10, 5))</span></div>
<div class="line"><span class="lineno">  816</span><span class="stringliteral">    [slice(0, 2, None), slice(2, 4, None), ..., slice(8, 10, None)]</span></div>
<div class="line"><span class="lineno">  817</span><span class="stringliteral">    &gt;&gt;&gt; list(gen_even_slices(10, 3))</span></div>
<div class="line"><span class="lineno">  818</span><span class="stringliteral">    [slice(0, 4, None), slice(4, 7, None), slice(7, 10, None)]</span></div>
<div class="line"><span class="lineno">  819</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  820</span>    start = 0</div>
<div class="line"><span class="lineno">  821</span>    <span class="keywordflow">if</span> n_packs &lt; 1:</div>
<div class="line"><span class="lineno">  822</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;gen_even_slices got n_packs=%s, must be &gt;=1&quot;</span> % n_packs)</div>
<div class="line"><span class="lineno">  823</span>    <span class="keywordflow">for</span> pack_num <span class="keywordflow">in</span> range(n_packs):</div>
<div class="line"><span class="lineno">  824</span>        this_n = n // n_packs</div>
<div class="line"><span class="lineno">  825</span>        <span class="keywordflow">if</span> pack_num &lt; n % n_packs:</div>
<div class="line"><span class="lineno">  826</span>            this_n += 1</div>
<div class="line"><span class="lineno">  827</span>        <span class="keywordflow">if</span> this_n &gt; 0:</div>
<div class="line"><span class="lineno">  828</span>            end = start + this_n</div>
<div class="line"><span class="lineno">  829</span>            <span class="keywordflow">if</span> n_samples <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  830</span>                end = min(n_samples, end)</div>
<div class="line"><span class="lineno">  831</span>            <span class="keywordflow">yield</span> slice(start, end, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  832</span>            start = end</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6bfda3d2aca55dceaa758203a54cd7df" name="a6bfda3d2aca55dceaa758203a54cd7df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bfda3d2aca55dceaa758203a54cd7df">&#9670;&#160;</a></span>get_chunk_n_rows()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.get_chunk_n_rows </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>row_bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>max_n_rows</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>working_memory</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculate how many rows can be processed within `working_memory`.

Parameters
----------
row_bytes : int
    The expected number of bytes of memory that will be consumed
    during the processing of each row.
max_n_rows : int, default=None
    The maximum return value.
working_memory : int or float, default=None
    The number of rows to fit inside this number of MiB will be
    returned. When None (default), the value of
    ``sklearn.get_config()['working_memory']`` is used.

Returns
-------
int
    The number of rows which can be processed within `working_memory`.

Warns
-----
Issues a UserWarning if `row_bytes exceeds `working_memory` MiB.
</pre> <div class="fragment"><div class="line"><span class="lineno">  978</span><span class="keyword">def </span>get_chunk_n_rows(row_bytes, *, max_n_rows=None, working_memory=None):</div>
<div class="line"><span class="lineno">  979</span>    <span class="stringliteral">&quot;&quot;&quot;Calculate how many rows can be processed within `working_memory`.</span></div>
<div class="line"><span class="lineno">  980</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  981</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  982</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  983</span><span class="stringliteral">    row_bytes : int</span></div>
<div class="line"><span class="lineno">  984</span><span class="stringliteral">        The expected number of bytes of memory that will be consumed</span></div>
<div class="line"><span class="lineno">  985</span><span class="stringliteral">        during the processing of each row.</span></div>
<div class="line"><span class="lineno">  986</span><span class="stringliteral">    max_n_rows : int, default=None</span></div>
<div class="line"><span class="lineno">  987</span><span class="stringliteral">        The maximum return value.</span></div>
<div class="line"><span class="lineno">  988</span><span class="stringliteral">    working_memory : int or float, default=None</span></div>
<div class="line"><span class="lineno">  989</span><span class="stringliteral">        The number of rows to fit inside this number of MiB will be</span></div>
<div class="line"><span class="lineno">  990</span><span class="stringliteral">        returned. When None (default), the value of</span></div>
<div class="line"><span class="lineno">  991</span><span class="stringliteral">        ``sklearn.get_config()[&#39;working_memory&#39;]`` is used.</span></div>
<div class="line"><span class="lineno">  992</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  993</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  994</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  995</span><span class="stringliteral">    int</span></div>
<div class="line"><span class="lineno">  996</span><span class="stringliteral">        The number of rows which can be processed within `working_memory`.</span></div>
<div class="line"><span class="lineno">  997</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  998</span><span class="stringliteral">    Warns</span></div>
<div class="line"><span class="lineno">  999</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno"> 1000</span><span class="stringliteral">    Issues a UserWarning if `row_bytes exceeds `working_memory` MiB.</span></div>
<div class="line"><span class="lineno"> 1001</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1002</span> </div>
<div class="line"><span class="lineno"> 1003</span>    <span class="keywordflow">if</span> working_memory <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1004</span>        working_memory = get_config()[<span class="stringliteral">&quot;working_memory&quot;</span>]</div>
<div class="line"><span class="lineno"> 1005</span> </div>
<div class="line"><span class="lineno"> 1006</span>    chunk_n_rows = int(working_memory * (2**20) // row_bytes)</div>
<div class="line"><span class="lineno"> 1007</span>    <span class="keywordflow">if</span> max_n_rows <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1008</span>        chunk_n_rows = min(chunk_n_rows, max_n_rows)</div>
<div class="line"><span class="lineno"> 1009</span>    <span class="keywordflow">if</span> chunk_n_rows &lt; 1:</div>
<div class="line"><span class="lineno"> 1010</span>        warnings.warn(</div>
<div class="line"><span class="lineno"> 1011</span>            <span class="stringliteral">&quot;Could not adhere to working_memory config. &quot;</span></div>
<div class="line"><span class="lineno"> 1012</span>            <span class="stringliteral">&quot;Currently %.0fMiB, %.0fMiB required.&quot;</span></div>
<div class="line"><span class="lineno"> 1013</span>            % (working_memory, np.ceil(row_bytes * 2**-20))</div>
<div class="line"><span class="lineno"> 1014</span>        )</div>
<div class="line"><span class="lineno"> 1015</span>        chunk_n_rows = 1</div>
<div class="line"><span class="lineno"> 1016</span>    <span class="keywordflow">return</span> chunk_n_rows</div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3d7bfa87a24885a43639af2d762651e" name="ad3d7bfa87a24885a43639af2d762651e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3d7bfa87a24885a43639af2d762651e">&#9670;&#160;</a></span>indices_to_mask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.indices_to_mask </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mask_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert list of indices to boolean mask.

Parameters
----------
indices : list-like
    List of integers treated as indices.
mask_length : int
    Length of boolean mask to be generated.
    This parameter must be greater than max(indices).

Returns
-------
mask : 1d boolean nd-array
    Boolean array that is True where indices are present, else False.

Examples
--------
&gt;&gt;&gt; from sklearn.utils import indices_to_mask
&gt;&gt;&gt; indices = [1, 2 , 3, 4]
&gt;&gt;&gt; indices_to_mask(indices, 5)
array([False,  True,  True,  True,  True])
</pre> <div class="fragment"><div class="line"><span class="lineno">  894</span><span class="keyword">def </span>indices_to_mask(indices, mask_length):</div>
<div class="line"><span class="lineno">  895</span>    <span class="stringliteral">&quot;&quot;&quot;Convert list of indices to boolean mask.</span></div>
<div class="line"><span class="lineno">  896</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  897</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  898</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  899</span><span class="stringliteral">    indices : list-like</span></div>
<div class="line"><span class="lineno">  900</span><span class="stringliteral">        List of integers treated as indices.</span></div>
<div class="line"><span class="lineno">  901</span><span class="stringliteral">    mask_length : int</span></div>
<div class="line"><span class="lineno">  902</span><span class="stringliteral">        Length of boolean mask to be generated.</span></div>
<div class="line"><span class="lineno">  903</span><span class="stringliteral">        This parameter must be greater than max(indices).</span></div>
<div class="line"><span class="lineno">  904</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  905</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  906</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  907</span><span class="stringliteral">    mask : 1d boolean nd-array</span></div>
<div class="line"><span class="lineno">  908</span><span class="stringliteral">        Boolean array that is True where indices are present, else False.</span></div>
<div class="line"><span class="lineno">  909</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  910</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  911</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  912</span><span class="stringliteral">    &gt;&gt;&gt; from sklearn.utils import indices_to_mask</span></div>
<div class="line"><span class="lineno">  913</span><span class="stringliteral">    &gt;&gt;&gt; indices = [1, 2 , 3, 4]</span></div>
<div class="line"><span class="lineno">  914</span><span class="stringliteral">    &gt;&gt;&gt; indices_to_mask(indices, 5)</span></div>
<div class="line"><span class="lineno">  915</span><span class="stringliteral">    array([False,  True,  True,  True,  True])</span></div>
<div class="line"><span class="lineno">  916</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  917</span>    <span class="keywordflow">if</span> mask_length &lt;= np.max(indices):</div>
<div class="line"><span class="lineno">  918</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;mask_length must be greater than max(indices)&quot;</span>)</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>    mask = np.zeros(mask_length, dtype=bool)</div>
<div class="line"><span class="lineno">  921</span>    mask[indices] = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>    <span class="keywordflow">return</span> mask</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a201cf8bff717c4c057b1a8f91610b01d" name="a201cf8bff717c4c057b1a8f91610b01d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a201cf8bff717c4c057b1a8f91610b01d">&#9670;&#160;</a></span>is_scalar_nan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.is_scalar_nan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test if x is NaN.

This function is meant to overcome the issue that np.isnan does not allow
non-numerical types as input, and that np.nan is not float('nan').

Parameters
----------
x : any type
    Any scalar value.

Returns
-------
bool
    Returns true if x is NaN, and false otherwise.

Examples
--------
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from sklearn.utils import is_scalar_nan
&gt;&gt;&gt; is_scalar_nan(np.nan)
True
&gt;&gt;&gt; is_scalar_nan(float("nan"))
True
&gt;&gt;&gt; is_scalar_nan(None)
False
&gt;&gt;&gt; is_scalar_nan("")
False
&gt;&gt;&gt; is_scalar_nan([np.nan])
False
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1043</span><span class="keyword">def </span>is_scalar_nan(x):</div>
<div class="line"><span class="lineno"> 1044</span>    <span class="stringliteral">&quot;&quot;&quot;Test if x is NaN.</span></div>
<div class="line"><span class="lineno"> 1045</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1046</span><span class="stringliteral">    This function is meant to overcome the issue that np.isnan does not allow</span></div>
<div class="line"><span class="lineno"> 1047</span><span class="stringliteral">    non-numerical types as input, and that np.nan is not float(&#39;nan&#39;).</span></div>
<div class="line"><span class="lineno"> 1048</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1049</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1050</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1051</span><span class="stringliteral">    x : any type</span></div>
<div class="line"><span class="lineno"> 1052</span><span class="stringliteral">        Any scalar value.</span></div>
<div class="line"><span class="lineno"> 1053</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1054</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1055</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1056</span><span class="stringliteral">    bool</span></div>
<div class="line"><span class="lineno"> 1057</span><span class="stringliteral">        Returns true if x is NaN, and false otherwise.</span></div>
<div class="line"><span class="lineno"> 1058</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1059</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1060</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1061</span><span class="stringliteral">    &gt;&gt;&gt; import numpy as np</span></div>
<div class="line"><span class="lineno"> 1062</span><span class="stringliteral">    &gt;&gt;&gt; from sklearn.utils import is_scalar_nan</span></div>
<div class="line"><span class="lineno"> 1063</span><span class="stringliteral">    &gt;&gt;&gt; is_scalar_nan(np.nan)</span></div>
<div class="line"><span class="lineno"> 1064</span><span class="stringliteral">    True</span></div>
<div class="line"><span class="lineno"> 1065</span><span class="stringliteral">    &gt;&gt;&gt; is_scalar_nan(float(&quot;nan&quot;))</span></div>
<div class="line"><span class="lineno"> 1066</span><span class="stringliteral">    True</span></div>
<div class="line"><span class="lineno"> 1067</span><span class="stringliteral">    &gt;&gt;&gt; is_scalar_nan(None)</span></div>
<div class="line"><span class="lineno"> 1068</span><span class="stringliteral">    False</span></div>
<div class="line"><span class="lineno"> 1069</span><span class="stringliteral">    &gt;&gt;&gt; is_scalar_nan(&quot;&quot;)</span></div>
<div class="line"><span class="lineno"> 1070</span><span class="stringliteral">    False</span></div>
<div class="line"><span class="lineno"> 1071</span><span class="stringliteral">    &gt;&gt;&gt; is_scalar_nan([np.nan])</span></div>
<div class="line"><span class="lineno"> 1072</span><span class="stringliteral">    False</span></div>
<div class="line"><span class="lineno"> 1073</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1074</span>    <span class="keywordflow">return</span> isinstance(x, numbers.Real) <span class="keywordflow">and</span> math.isnan(x)</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a813eaddca4eefe4a1b4fed3069af8d4c" name="a813eaddca4eefe4a1b4fed3069af8d4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a813eaddca4eefe4a1b4fed3069af8d4c">&#9670;&#160;</a></span>resample()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.resample </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>arrays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_samples</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>random_state</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>stratify</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Resample arrays or sparse matrices in a consistent way.

The default strategy implements one step of the bootstrapping
procedure.

Parameters
----------
*arrays : sequence of array-like of shape (n_samples,) or \
        (n_samples, n_outputs)
    Indexable data-structures can be arrays, lists, dataframes or scipy
    sparse matrices with consistent first dimension.

replace : bool, default=True
    Implements resampling with replacement. If False, this will implement
    (sliced) random permutations.

n_samples : int, default=None
    Number of samples to generate. If left to None this is
    automatically set to the first dimension of the arrays.
    If replace is False it should not be larger than the length of
    arrays.

random_state : int, RandomState instance or None, default=None
    Determines random number generation for shuffling
    the data.
    Pass an int for reproducible results across multiple function calls.
    See :term:`Glossary &lt;random_state&gt;`.

stratify : array-like of shape (n_samples,) or (n_samples, n_outputs), \
        default=None
    If not None, data is split in a stratified fashion, using this as
    the class labels.

Returns
-------
resampled_arrays : sequence of array-like of shape (n_samples,) or \
        (n_samples, n_outputs)
    Sequence of resampled copies of the collections. The original arrays
    are not impacted.

See Also
--------
shuffle : Shuffle arrays or sparse matrices in a consistent way.

Examples
--------
It is possible to mix sparse and dense arrays in the same run::

  &gt;&gt;&gt; import numpy as np
  &gt;&gt;&gt; X = np.array([[1., 0.], [2., 1.], [0., 0.]])
  &gt;&gt;&gt; y = np.array([0, 1, 2])

  &gt;&gt;&gt; from scipy.sparse import coo_matrix
  &gt;&gt;&gt; X_sparse = coo_matrix(X)

  &gt;&gt;&gt; from sklearn.utils import resample
  &gt;&gt;&gt; X, X_sparse, y = resample(X, X_sparse, y, random_state=0)
  &gt;&gt;&gt; X
  array([[1., 0.],
         [2., 1.],
         [1., 0.]])

  &gt;&gt;&gt; X_sparse
  &lt;3x2 sparse matrix of type '&lt;... 'numpy.float64'&gt;'
      with 4 stored elements in Compressed Sparse Row format&gt;

  &gt;&gt;&gt; X_sparse.toarray()
  array([[1., 0.],
         [2., 1.],
         [1., 0.]])

  &gt;&gt;&gt; y
  array([0, 1, 0])

  &gt;&gt;&gt; resample(y, n_samples=2, random_state=0)
  array([0, 1])

Example using stratification::

  &gt;&gt;&gt; y = [0, 0, 1, 1, 1, 1, 1, 1, 1]
  &gt;&gt;&gt; resample(y, n_samples=5, replace=False, stratify=y,
  ...          random_state=0)
  [1, 1, 1, 0, 1]
</pre> <div class="fragment"><div class="line"><span class="lineno">  467</span><span class="keyword">def </span>resample(*arrays, replace=True, n_samples=None, random_state=None, stratify=None):</div>
<div class="line"><span class="lineno">  468</span>    <span class="stringliteral">&quot;&quot;&quot;Resample arrays or sparse matrices in a consistent way.</span></div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral">    The default strategy implements one step of the bootstrapping</span></div>
<div class="line"><span class="lineno">  471</span><span class="stringliteral">    procedure.</span></div>
<div class="line"><span class="lineno">  472</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  473</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  474</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  475</span><span class="stringliteral">    *arrays : sequence of array-like of shape (n_samples,) or \</span></div>
<div class="line"><span class="lineno">  476</span><span class="stringliteral">            (n_samples, n_outputs)</span></div>
<div class="line"><span class="lineno">  477</span><span class="stringliteral">        Indexable data-structures can be arrays, lists, dataframes or scipy</span></div>
<div class="line"><span class="lineno">  478</span><span class="stringliteral">        sparse matrices with consistent first dimension.</span></div>
<div class="line"><span class="lineno">  479</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  480</span><span class="stringliteral">    replace : bool, default=True</span></div>
<div class="line"><span class="lineno">  481</span><span class="stringliteral">        Implements resampling with replacement. If False, this will implement</span></div>
<div class="line"><span class="lineno">  482</span><span class="stringliteral">        (sliced) random permutations.</span></div>
<div class="line"><span class="lineno">  483</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  484</span><span class="stringliteral">    n_samples : int, default=None</span></div>
<div class="line"><span class="lineno">  485</span><span class="stringliteral">        Number of samples to generate. If left to None this is</span></div>
<div class="line"><span class="lineno">  486</span><span class="stringliteral">        automatically set to the first dimension of the arrays.</span></div>
<div class="line"><span class="lineno">  487</span><span class="stringliteral">        If replace is False it should not be larger than the length of</span></div>
<div class="line"><span class="lineno">  488</span><span class="stringliteral">        arrays.</span></div>
<div class="line"><span class="lineno">  489</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  490</span><span class="stringliteral">    random_state : int, RandomState instance or None, default=None</span></div>
<div class="line"><span class="lineno">  491</span><span class="stringliteral">        Determines random number generation for shuffling</span></div>
<div class="line"><span class="lineno">  492</span><span class="stringliteral">        the data.</span></div>
<div class="line"><span class="lineno">  493</span><span class="stringliteral">        Pass an int for reproducible results across multiple function calls.</span></div>
<div class="line"><span class="lineno">  494</span><span class="stringliteral">        See :term:`Glossary &lt;random_state&gt;`.</span></div>
<div class="line"><span class="lineno">  495</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral">    stratify : array-like of shape (n_samples,) or (n_samples, n_outputs), \</span></div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral">            default=None</span></div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">        If not None, data is split in a stratified fashion, using this as</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral">        the class labels.</span></div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">    resampled_arrays : sequence of array-like of shape (n_samples,) or \</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">            (n_samples, n_outputs)</span></div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral">        Sequence of resampled copies of the collections. The original arrays</span></div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">        are not impacted.</span></div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">    shuffle : Shuffle arrays or sparse matrices in a consistent way.</span></div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral">    It is possible to mix sparse and dense arrays in the same run::</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">      &gt;&gt;&gt; import numpy as np</span></div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral">      &gt;&gt;&gt; X = np.array([[1., 0.], [2., 1.], [0., 0.]])</span></div>
<div class="line"><span class="lineno">  518</span><span class="stringliteral">      &gt;&gt;&gt; y = np.array([0, 1, 2])</span></div>
<div class="line"><span class="lineno">  519</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  520</span><span class="stringliteral">      &gt;&gt;&gt; from scipy.sparse import coo_matrix</span></div>
<div class="line"><span class="lineno">  521</span><span class="stringliteral">      &gt;&gt;&gt; X_sparse = coo_matrix(X)</span></div>
<div class="line"><span class="lineno">  522</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  523</span><span class="stringliteral">      &gt;&gt;&gt; from sklearn.utils import resample</span></div>
<div class="line"><span class="lineno">  524</span><span class="stringliteral">      &gt;&gt;&gt; X, X_sparse, y = resample(X, X_sparse, y, random_state=0)</span></div>
<div class="line"><span class="lineno">  525</span><span class="stringliteral">      &gt;&gt;&gt; X</span></div>
<div class="line"><span class="lineno">  526</span><span class="stringliteral">      array([[1., 0.],</span></div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral">             [2., 1.],</span></div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral">             [1., 0.]])</span></div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">      &gt;&gt;&gt; X_sparse</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral">      &lt;3x2 sparse matrix of type &#39;&lt;... &#39;numpy.float64&#39;&gt;&#39;</span></div>
<div class="line"><span class="lineno">  532</span><span class="stringliteral">          with 4 stored elements in Compressed Sparse Row format&gt;</span></div>
<div class="line"><span class="lineno">  533</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  534</span><span class="stringliteral">      &gt;&gt;&gt; X_sparse.toarray()</span></div>
<div class="line"><span class="lineno">  535</span><span class="stringliteral">      array([[1., 0.],</span></div>
<div class="line"><span class="lineno">  536</span><span class="stringliteral">             [2., 1.],</span></div>
<div class="line"><span class="lineno">  537</span><span class="stringliteral">             [1., 0.]])</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  539</span><span class="stringliteral">      &gt;&gt;&gt; y</span></div>
<div class="line"><span class="lineno">  540</span><span class="stringliteral">      array([0, 1, 0])</span></div>
<div class="line"><span class="lineno">  541</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  542</span><span class="stringliteral">      &gt;&gt;&gt; resample(y, n_samples=2, random_state=0)</span></div>
<div class="line"><span class="lineno">  543</span><span class="stringliteral">      array([0, 1])</span></div>
<div class="line"><span class="lineno">  544</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  545</span><span class="stringliteral">    Example using stratification::</span></div>
<div class="line"><span class="lineno">  546</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  547</span><span class="stringliteral">      &gt;&gt;&gt; y = [0, 0, 1, 1, 1, 1, 1, 1, 1]</span></div>
<div class="line"><span class="lineno">  548</span><span class="stringliteral">      &gt;&gt;&gt; resample(y, n_samples=5, replace=False, stratify=y,</span></div>
<div class="line"><span class="lineno">  549</span><span class="stringliteral">      ...          random_state=0)</span></div>
<div class="line"><span class="lineno">  550</span><span class="stringliteral">      [1, 1, 1, 0, 1]</span></div>
<div class="line"><span class="lineno">  551</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  552</span>    max_n_samples = n_samples</div>
<div class="line"><span class="lineno">  553</span>    random_state = check_random_state(random_state)</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>    <span class="keywordflow">if</span> len(arrays) == 0:</div>
<div class="line"><span class="lineno">  556</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>    first = arrays[0]</div>
<div class="line"><span class="lineno">  559</span>    n_samples = first.shape[0] <span class="keywordflow">if</span> hasattr(first, <span class="stringliteral">&quot;shape&quot;</span>) <span class="keywordflow">else</span> len(first)</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>    <span class="keywordflow">if</span> max_n_samples <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  562</span>        max_n_samples = n_samples</div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordflow">elif</span> (max_n_samples &gt; n_samples) <span class="keywordflow">and</span> (<span class="keywordflow">not</span> replace):</div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  565</span>            <span class="stringliteral">&quot;Cannot sample %d out of arrays with dim %d when replace is False&quot;</span></div>
<div class="line"><span class="lineno">  566</span>            % (max_n_samples, n_samples)</div>
<div class="line"><span class="lineno">  567</span>        )</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>    check_consistent_length(*arrays)</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>    <span class="keywordflow">if</span> stratify <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  572</span>        <span class="keywordflow">if</span> replace:</div>
<div class="line"><span class="lineno">  573</span>            indices = random_state.randint(0, n_samples, size=(max_n_samples,))</div>
<div class="line"><span class="lineno">  574</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  575</span>            indices = np.arange(n_samples)</div>
<div class="line"><span class="lineno">  576</span>            random_state.shuffle(indices)</div>
<div class="line"><span class="lineno">  577</span>            indices = indices[:max_n_samples]</div>
<div class="line"><span class="lineno">  578</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  579</span>        <span class="comment"># Code adapted from StratifiedShuffleSplit()</span></div>
<div class="line"><span class="lineno">  580</span>        y = check_array(stratify, ensure_2d=<span class="keyword">False</span>, dtype=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  581</span>        <span class="keywordflow">if</span> y.ndim == 2:</div>
<div class="line"><span class="lineno">  582</span>            <span class="comment"># for multi-label y, map each distinct row to a string repr</span></div>
<div class="line"><span class="lineno">  583</span>            <span class="comment"># using join because str(row) uses an ellipsis if len(row) &gt; 1000</span></div>
<div class="line"><span class="lineno">  584</span>            y = np.array([<span class="stringliteral">&quot; &quot;</span>.join(row.astype(<span class="stringliteral">&quot;str&quot;</span>)) <span class="keywordflow">for</span> row <span class="keywordflow">in</span> y])</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>        classes, y_indices = np.unique(y, return_inverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  587</span>        n_classes = classes.shape[0]</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>        class_counts = np.bincount(y_indices)</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>        <span class="comment"># Find the sorted list of instances for each class:</span></div>
<div class="line"><span class="lineno">  592</span>        <span class="comment"># (np.unique above performs a sort, so code is O(n logn) already)</span></div>
<div class="line"><span class="lineno">  593</span>        class_indices = np.split(</div>
<div class="line"><span class="lineno">  594</span>            np.argsort(y_indices, kind=<span class="stringliteral">&quot;mergesort&quot;</span>), np.cumsum(class_counts)[:-1]</div>
<div class="line"><span class="lineno">  595</span>        )</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>        n_i = _approximate_mode(class_counts, max_n_samples, random_state)</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>        indices = []</div>
<div class="line"><span class="lineno">  600</span> </div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(n_classes):</div>
<div class="line"><span class="lineno">  602</span>            indices_i = random_state.choice(class_indices[i], n_i[i], replace=replace)</div>
<div class="line"><span class="lineno">  603</span>            indices.extend(indices_i)</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>        indices = random_state.permutation(indices)</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>    <span class="comment"># convert sparse matrices to CSR for row-based indexing</span></div>
<div class="line"><span class="lineno">  608</span>    arrays = [a.tocsr() <span class="keywordflow">if</span> issparse(a) <span class="keywordflow">else</span> a <span class="keywordflow">for</span> a <span class="keywordflow">in</span> arrays]</div>
<div class="line"><span class="lineno">  609</span>    resampled_arrays = [_safe_indexing(a, indices) <span class="keywordflow">for</span> a <span class="keywordflow">in</span> arrays]</div>
<div class="line"><span class="lineno">  610</span>    <span class="keywordflow">if</span> len(resampled_arrays) == 1:</div>
<div class="line"><span class="lineno">  611</span>        <span class="comment"># syntactic sugar for the unit argument case</span></div>
<div class="line"><span class="lineno">  612</span>        <span class="keywordflow">return</span> resampled_arrays[0]</div>
<div class="line"><span class="lineno">  613</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  614</span>        <span class="keywordflow">return</span> resampled_arrays</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8bd29b4dd70e2ee128b08b61e01e1296" name="a8bd29b4dd70e2ee128b08b61e01e1296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bd29b4dd70e2ee128b08b61e01e1296">&#9670;&#160;</a></span>safe_mask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.safe_mask </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a mask which is safe to use on X.

Parameters
----------
X : {array-like, sparse matrix}
    Data on which to apply mask.

mask : ndarray
    Mask to be used on X.

Returns
-------
mask : ndarray
    Array that is safe to use on X.
</pre> <div class="fragment"><div class="line"><span class="lineno">  116</span><span class="keyword">def </span>safe_mask(X, mask):</div>
<div class="line"><span class="lineno">  117</span>    <span class="stringliteral">&quot;&quot;&quot;Return a mask which is safe to use on X.</span></div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">    X : {array-like, sparse matrix}</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">        Data on which to apply mask.</span></div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">    mask : ndarray</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">        Mask to be used on X.</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">    mask : ndarray</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral">        Array that is safe to use on X.</span></div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  132</span>    mask = np.asarray(mask)</div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">if</span> np.issubdtype(mask.dtype, np.signedinteger):</div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">return</span> mask</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordflow">if</span> hasattr(X, <span class="stringliteral">&quot;toarray&quot;</span>):</div>
<div class="line"><span class="lineno">  137</span>        ind = np.arange(mask.shape[0])</div>
<div class="line"><span class="lineno">  138</span>        mask = ind[mask]</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">return</span> mask</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f5160b95fcd260d7e76d98558d8afc6" name="a7f5160b95fcd260d7e76d98558d8afc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f5160b95fcd260d7e76d98558d8afc6">&#9670;&#160;</a></span>safe_sqr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.safe_sqr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>copy</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Element wise squaring of array-likes and sparse matrices.

Parameters
----------
X : {array-like, ndarray, sparse matrix}

copy : bool, default=True
    Whether to create a copy of X and operate on it or to perform
    inplace computation (default behaviour).

Returns
-------
X ** 2 : element wise square
     Return the element-wise square of the input.
</pre> <div class="fragment"><div class="line"><span class="lineno">  688</span><span class="keyword">def </span>safe_sqr(X, *, copy=True):</div>
<div class="line"><span class="lineno">  689</span>    <span class="stringliteral">&quot;&quot;&quot;Element wise squaring of array-likes and sparse matrices.</span></div>
<div class="line"><span class="lineno">  690</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  691</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  692</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  693</span><span class="stringliteral">    X : {array-like, ndarray, sparse matrix}</span></div>
<div class="line"><span class="lineno">  694</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  695</span><span class="stringliteral">    copy : bool, default=True</span></div>
<div class="line"><span class="lineno">  696</span><span class="stringliteral">        Whether to create a copy of X and operate on it or to perform</span></div>
<div class="line"><span class="lineno">  697</span><span class="stringliteral">        inplace computation (default behaviour).</span></div>
<div class="line"><span class="lineno">  698</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  699</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  700</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  701</span><span class="stringliteral">    X ** 2 : element wise square</span></div>
<div class="line"><span class="lineno">  702</span><span class="stringliteral">         Return the element-wise square of the input.</span></div>
<div class="line"><span class="lineno">  703</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  704</span>    X = check_array(X, accept_sparse=[<span class="stringliteral">&quot;csr&quot;</span>, <span class="stringliteral">&quot;csc&quot;</span>, <span class="stringliteral">&quot;coo&quot;</span>], ensure_2d=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  705</span>    <span class="keywordflow">if</span> issparse(X):</div>
<div class="line"><span class="lineno">  706</span>        <span class="keywordflow">if</span> copy:</div>
<div class="line"><span class="lineno">  707</span>            X = X.copy()</div>
<div class="line"><span class="lineno">  708</span>        X.data **= 2</div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  710</span>        <span class="keywordflow">if</span> copy:</div>
<div class="line"><span class="lineno">  711</span>            X = X**2</div>
<div class="line"><span class="lineno">  712</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  713</span>            X **= 2</div>
<div class="line"><span class="lineno">  714</span>    <span class="keywordflow">return</span> X</div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a80b795970ef8af4ba03481aa97a7658d" name="a80b795970ef8af4ba03481aa97a7658d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80b795970ef8af4ba03481aa97a7658d">&#9670;&#160;</a></span>shuffle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.shuffle </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>arrays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>random_state</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_samples</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Shuffle arrays or sparse matrices in a consistent way.

This is a convenience alias to ``resample(*arrays, replace=False)`` to do
random permutations of the collections.

Parameters
----------
*arrays : sequence of indexable data-structures
    Indexable data-structures can be arrays, lists, dataframes or scipy
    sparse matrices with consistent first dimension.

random_state : int, RandomState instance or None, default=None
    Determines random number generation for shuffling
    the data.
    Pass an int for reproducible results across multiple function calls.
    See :term:`Glossary &lt;random_state&gt;`.

n_samples : int, default=None
    Number of samples to generate. If left to None this is
    automatically set to the first dimension of the arrays.  It should
    not be larger than the length of arrays.

Returns
-------
shuffled_arrays : sequence of indexable data-structures
    Sequence of shuffled copies of the collections. The original arrays
    are not impacted.

See Also
--------
resample : Resample arrays or sparse matrices in a consistent way.

Examples
--------
It is possible to mix sparse and dense arrays in the same run::

  &gt;&gt;&gt; import numpy as np
  &gt;&gt;&gt; X = np.array([[1., 0.], [2., 1.], [0., 0.]])
  &gt;&gt;&gt; y = np.array([0, 1, 2])

  &gt;&gt;&gt; from scipy.sparse import coo_matrix
  &gt;&gt;&gt; X_sparse = coo_matrix(X)

  &gt;&gt;&gt; from sklearn.utils import shuffle
  &gt;&gt;&gt; X, X_sparse, y = shuffle(X, X_sparse, y, random_state=0)
  &gt;&gt;&gt; X
  array([[0., 0.],
         [2., 1.],
         [1., 0.]])

  &gt;&gt;&gt; X_sparse
  &lt;3x2 sparse matrix of type '&lt;... 'numpy.float64'&gt;'
      with 3 stored elements in Compressed Sparse Row format&gt;

  &gt;&gt;&gt; X_sparse.toarray()
  array([[0., 0.],
         [2., 1.],
         [1., 0.]])

  &gt;&gt;&gt; y
  array([2, 1, 0])

  &gt;&gt;&gt; shuffle(y, n_samples=2, random_state=0)
  array([0, 1])
</pre> <div class="fragment"><div class="line"><span class="lineno">  617</span><span class="keyword">def </span>shuffle(*arrays, random_state=None, n_samples=None):</div>
<div class="line"><span class="lineno">  618</span>    <span class="stringliteral">&quot;&quot;&quot;Shuffle arrays or sparse matrices in a consistent way.</span></div>
<div class="line"><span class="lineno">  619</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  620</span><span class="stringliteral">    This is a convenience alias to ``resample(*arrays, replace=False)`` to do</span></div>
<div class="line"><span class="lineno">  621</span><span class="stringliteral">    random permutations of the collections.</span></div>
<div class="line"><span class="lineno">  622</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  623</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  624</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  625</span><span class="stringliteral">    *arrays : sequence of indexable data-structures</span></div>
<div class="line"><span class="lineno">  626</span><span class="stringliteral">        Indexable data-structures can be arrays, lists, dataframes or scipy</span></div>
<div class="line"><span class="lineno">  627</span><span class="stringliteral">        sparse matrices with consistent first dimension.</span></div>
<div class="line"><span class="lineno">  628</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  629</span><span class="stringliteral">    random_state : int, RandomState instance or None, default=None</span></div>
<div class="line"><span class="lineno">  630</span><span class="stringliteral">        Determines random number generation for shuffling</span></div>
<div class="line"><span class="lineno">  631</span><span class="stringliteral">        the data.</span></div>
<div class="line"><span class="lineno">  632</span><span class="stringliteral">        Pass an int for reproducible results across multiple function calls.</span></div>
<div class="line"><span class="lineno">  633</span><span class="stringliteral">        See :term:`Glossary &lt;random_state&gt;`.</span></div>
<div class="line"><span class="lineno">  634</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  635</span><span class="stringliteral">    n_samples : int, default=None</span></div>
<div class="line"><span class="lineno">  636</span><span class="stringliteral">        Number of samples to generate. If left to None this is</span></div>
<div class="line"><span class="lineno">  637</span><span class="stringliteral">        automatically set to the first dimension of the arrays.  It should</span></div>
<div class="line"><span class="lineno">  638</span><span class="stringliteral">        not be larger than the length of arrays.</span></div>
<div class="line"><span class="lineno">  639</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  640</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  641</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  642</span><span class="stringliteral">    shuffled_arrays : sequence of indexable data-structures</span></div>
<div class="line"><span class="lineno">  643</span><span class="stringliteral">        Sequence of shuffled copies of the collections. The original arrays</span></div>
<div class="line"><span class="lineno">  644</span><span class="stringliteral">        are not impacted.</span></div>
<div class="line"><span class="lineno">  645</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  646</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  647</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  648</span><span class="stringliteral">    resample : Resample arrays or sparse matrices in a consistent way.</span></div>
<div class="line"><span class="lineno">  649</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  650</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  651</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  652</span><span class="stringliteral">    It is possible to mix sparse and dense arrays in the same run::</span></div>
<div class="line"><span class="lineno">  653</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  654</span><span class="stringliteral">      &gt;&gt;&gt; import numpy as np</span></div>
<div class="line"><span class="lineno">  655</span><span class="stringliteral">      &gt;&gt;&gt; X = np.array([[1., 0.], [2., 1.], [0., 0.]])</span></div>
<div class="line"><span class="lineno">  656</span><span class="stringliteral">      &gt;&gt;&gt; y = np.array([0, 1, 2])</span></div>
<div class="line"><span class="lineno">  657</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  658</span><span class="stringliteral">      &gt;&gt;&gt; from scipy.sparse import coo_matrix</span></div>
<div class="line"><span class="lineno">  659</span><span class="stringliteral">      &gt;&gt;&gt; X_sparse = coo_matrix(X)</span></div>
<div class="line"><span class="lineno">  660</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  661</span><span class="stringliteral">      &gt;&gt;&gt; from sklearn.utils import shuffle</span></div>
<div class="line"><span class="lineno">  662</span><span class="stringliteral">      &gt;&gt;&gt; X, X_sparse, y = shuffle(X, X_sparse, y, random_state=0)</span></div>
<div class="line"><span class="lineno">  663</span><span class="stringliteral">      &gt;&gt;&gt; X</span></div>
<div class="line"><span class="lineno">  664</span><span class="stringliteral">      array([[0., 0.],</span></div>
<div class="line"><span class="lineno">  665</span><span class="stringliteral">             [2., 1.],</span></div>
<div class="line"><span class="lineno">  666</span><span class="stringliteral">             [1., 0.]])</span></div>
<div class="line"><span class="lineno">  667</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  668</span><span class="stringliteral">      &gt;&gt;&gt; X_sparse</span></div>
<div class="line"><span class="lineno">  669</span><span class="stringliteral">      &lt;3x2 sparse matrix of type &#39;&lt;... &#39;numpy.float64&#39;&gt;&#39;</span></div>
<div class="line"><span class="lineno">  670</span><span class="stringliteral">          with 3 stored elements in Compressed Sparse Row format&gt;</span></div>
<div class="line"><span class="lineno">  671</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  672</span><span class="stringliteral">      &gt;&gt;&gt; X_sparse.toarray()</span></div>
<div class="line"><span class="lineno">  673</span><span class="stringliteral">      array([[0., 0.],</span></div>
<div class="line"><span class="lineno">  674</span><span class="stringliteral">             [2., 1.],</span></div>
<div class="line"><span class="lineno">  675</span><span class="stringliteral">             [1., 0.]])</span></div>
<div class="line"><span class="lineno">  676</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  677</span><span class="stringliteral">      &gt;&gt;&gt; y</span></div>
<div class="line"><span class="lineno">  678</span><span class="stringliteral">      array([2, 1, 0])</span></div>
<div class="line"><span class="lineno">  679</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  680</span><span class="stringliteral">      &gt;&gt;&gt; shuffle(y, n_samples=2, random_state=0)</span></div>
<div class="line"><span class="lineno">  681</span><span class="stringliteral">      array([0, 1])</span></div>
<div class="line"><span class="lineno">  682</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">return</span> resample(</div>
<div class="line"><span class="lineno">  684</span>        *arrays, replace=<span class="keyword">False</span>, n_samples=n_samples, random_state=random_state</div>
<div class="line"><span class="lineno">  685</span>    )</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7f3a7570a0f6524402b00b3fe60c793" name="ac7f3a7570a0f6524402b00b3fe60c793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7f3a7570a0f6524402b00b3fe60c793">&#9670;&#160;</a></span>tosequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tosequence </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Cast iterable x to a Sequence, avoiding a copy if possible.

Parameters
----------
x : iterable
    The iterable to be converted.

Returns
-------
x : Sequence
    If `x` is a NumPy array, it returns it as a `ndarray`. If `x`
    is a `Sequence`, `x` is returned as-is. If `x` is from any other
    type, `x` is returned casted as a list.
</pre> <div class="fragment"><div class="line"><span class="lineno">  835</span><span class="keyword">def </span>tosequence(x):</div>
<div class="line"><span class="lineno">  836</span>    <span class="stringliteral">&quot;&quot;&quot;Cast iterable x to a Sequence, avoiding a copy if possible.</span></div>
<div class="line"><span class="lineno">  837</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  838</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  839</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  840</span><span class="stringliteral">    x : iterable</span></div>
<div class="line"><span class="lineno">  841</span><span class="stringliteral">        The iterable to be converted.</span></div>
<div class="line"><span class="lineno">  842</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  843</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  844</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  845</span><span class="stringliteral">    x : Sequence</span></div>
<div class="line"><span class="lineno">  846</span><span class="stringliteral">        If `x` is a NumPy array, it returns it as a `ndarray`. If `x`</span></div>
<div class="line"><span class="lineno">  847</span><span class="stringliteral">        is a `Sequence`, `x` is returned as-is. If `x` is from any other</span></div>
<div class="line"><span class="lineno">  848</span><span class="stringliteral">        type, `x` is returned casted as a list.</span></div>
<div class="line"><span class="lineno">  849</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  850</span>    <span class="keywordflow">if</span> isinstance(x, np.ndarray):</div>
<div class="line"><span class="lineno">  851</span>        <span class="keywordflow">return</span> np.asarray(x)</div>
<div class="line"><span class="lineno">  852</span>    <span class="keywordflow">elif</span> isinstance(x, Sequence):</div>
<div class="line"><span class="lineno">  853</span>        <span class="keywordflow">return</span> x</div>
<div class="line"><span class="lineno">  854</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  855</span>        <span class="keywordflow">return</span> list(x)</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a95b4eb1e85108a94250f9067201b3b85" name="a95b4eb1e85108a94250f9067201b3b85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95b4eb1e85108a94250f9067201b3b85">&#9670;&#160;</a></span>_IS_32BIT</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int sklearn.utils._IS_32BIT = 32</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab44a100c8203698ae6f8d639365b0a83" name="ab44a100c8203698ae6f8d639365b0a83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab44a100c8203698ae6f8d639365b0a83">&#9670;&#160;</a></span>IS_PYPY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str sklearn.utils.IS_PYPY = &quot;PyPy&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3e30aff7b333695cc98eb0574b09ba85" name="a3e30aff7b333695cc98eb0574b09ba85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e30aff7b333695cc98eb0574b09ba85">&#9670;&#160;</a></span>parallel_backend</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.parallel_backend = <a class="el" href="classjoblib_1_1parallel_1_1parallel__backend.html">_joblib.parallel_backend</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad766bd221b06bcc3c4b6758141e2d971" name="ad766bd221b06bcc3c4b6758141e2d971"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad766bd221b06bcc3c4b6758141e2d971">&#9670;&#160;</a></span>register_parallel_backend</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.register_parallel_backend = _joblib.register_parallel_backend</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
