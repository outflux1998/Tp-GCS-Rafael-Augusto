<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: joblib.numpy_pickle Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejoblib.html">joblib</a></li><li class="navelem"><a class="el" href="namespacejoblib_1_1numpy__pickle.html">numpy_pickle</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">joblib.numpy_pickle Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1numpy__pickle_1_1_numpy_array_wrapper.html">NumpyArrayWrapper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1numpy__pickle_1_1_numpy_pickler.html">NumpyPickler</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1numpy__pickle_1_1_numpy_unpickler.html">NumpyUnpickler</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3d83030579abf68965f7b4c77cb70e17" id="r_a3d83030579abf68965f7b4c77cb70e17"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1numpy__pickle.html#a3d83030579abf68965f7b4c77cb70e17">dump</a> (value, filename, compress=0, protocol=None, cache_size=None)</td></tr>
<tr class="separator:a3d83030579abf68965f7b4c77cb70e17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecbf160240acc3aa5b5a106211f65a3e" id="r_aecbf160240acc3aa5b5a106211f65a3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1numpy__pickle.html#aecbf160240acc3aa5b5a106211f65a3e">_unpickle</a> (fobj, filename=&quot;&quot;, mmap_mode=None)</td></tr>
<tr class="separator:aecbf160240acc3aa5b5a106211f65a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e39675c5168f08ee22be8458345e2a1" id="r_a4e39675c5168f08ee22be8458345e2a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1numpy__pickle.html#a4e39675c5168f08ee22be8458345e2a1">load_temporary_memmap</a> (filename, mmap_mode, unlink_on_gc_collect)</td></tr>
<tr class="separator:a4e39675c5168f08ee22be8458345e2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4577f61b0519e3ead75610f82a4a32be" id="r_a4577f61b0519e3ead75610f82a4a32be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1numpy__pickle.html#a4577f61b0519e3ead75610f82a4a32be">load</a> (filename, mmap_mode=None)</td></tr>
<tr class="separator:a4577f61b0519e3ead75610f82a4a32be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad6d3badf88f2c018e22355eecb2579d8" id="r_ad6d3badf88f2c018e22355eecb2579d8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1numpy__pickle.html#ad6d3badf88f2c018e22355eecb2579d8">NUMPY_ARRAY_ALIGNMENT_BYTES</a> = 16</td></tr>
<tr class="memdesc:ad6d3badf88f2c018e22355eecb2579d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility objects for persistence.  <br /></td></tr>
<tr class="separator:ad6d3badf88f2c018e22355eecb2579d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Utilities for fast persistence of big data, with optional compression.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="aecbf160240acc3aa5b5a106211f65a3e" name="aecbf160240acc3aa5b5a106211f65a3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecbf160240acc3aa5b5a106211f65a3e">&#9670;&#160;</a></span>_unpickle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.numpy_pickle._unpickle </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fobj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mmap_mode</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Internal unpickling function.</pre> <div class="fragment"><div class="line"><span class="lineno">  566</span><span class="keyword">def </span>_unpickle(fobj, filename=&quot;&quot;, mmap_mode=None):</div>
<div class="line"><span class="lineno">  567</span>    <span class="stringliteral">&quot;&quot;&quot;Internal unpickling function.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  568</span>    <span class="comment"># We are careful to open the file handle early and keep it open to</span></div>
<div class="line"><span class="lineno">  569</span>    <span class="comment"># avoid race-conditions on renames.</span></div>
<div class="line"><span class="lineno">  570</span>    <span class="comment"># That said, if data is stored in companion files, which can be</span></div>
<div class="line"><span class="lineno">  571</span>    <span class="comment"># the case with the old persistence format, moving the directory</span></div>
<div class="line"><span class="lineno">  572</span>    <span class="comment"># will create a race when joblib tries to access the companion</span></div>
<div class="line"><span class="lineno">  573</span>    <span class="comment"># files.</span></div>
<div class="line"><span class="lineno">  574</span>    unpickler = NumpyUnpickler(filename, fobj, mmap_mode=mmap_mode)</div>
<div class="line"><span class="lineno">  575</span>    obj = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  576</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  577</span>        obj = unpickler.load()</div>
<div class="line"><span class="lineno">  578</span>        <span class="keywordflow">if</span> unpickler.compat_mode:</div>
<div class="line"><span class="lineno">  579</span>            warnings.warn(<span class="stringliteral">&quot;The file &#39;%s&#39; has been generated with a &quot;</span></div>
<div class="line"><span class="lineno">  580</span>                          <span class="stringliteral">&quot;joblib version less than 0.10. &quot;</span></div>
<div class="line"><span class="lineno">  581</span>                          <span class="stringliteral">&quot;Please regenerate this pickle file.&quot;</span></div>
<div class="line"><span class="lineno">  582</span>                          % filename,</div>
<div class="line"><span class="lineno">  583</span>                          DeprecationWarning, stacklevel=3)</div>
<div class="line"><span class="lineno">  584</span>    <span class="keywordflow">except</span> UnicodeDecodeError <span class="keyword">as</span> exc:</div>
<div class="line"><span class="lineno">  585</span>        <span class="comment"># More user-friendly error message</span></div>
<div class="line"><span class="lineno">  586</span>        new_exc = ValueError(</div>
<div class="line"><span class="lineno">  587</span>            <span class="stringliteral">&#39;You may be trying to read with &#39;</span></div>
<div class="line"><span class="lineno">  588</span>            <span class="stringliteral">&#39;python 3 a joblib pickle generated with python 2. &#39;</span></div>
<div class="line"><span class="lineno">  589</span>            <span class="stringliteral">&#39;This feature is not supported by joblib.&#39;</span>)</div>
<div class="line"><span class="lineno">  590</span>        new_exc.__cause__ = exc</div>
<div class="line"><span class="lineno">  591</span>        <span class="keywordflow">raise</span> new_exc</div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordflow">return</span> obj</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d83030579abf68965f7b4c77cb70e17" name="a3d83030579abf68965f7b4c77cb70e17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d83030579abf68965f7b4c77cb70e17">&#9670;&#160;</a></span>dump()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.numpy_pickle.dump </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compress</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>protocol</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cache_size</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Persist an arbitrary Python object into one file.

Read more in the :ref:`User Guide &lt;persistence&gt;`.

Parameters
-----------
value: any Python object
    The object to store to disk.
filename: str, pathlib.Path, or file object.
    The file object or path of the file in which it is to be stored.
    The compression method corresponding to one of the supported filename
    extensions ('.z', '.gz', '.bz2', '.xz' or '.lzma') will be used
    automatically.
compress: int from 0 to 9 or bool or 2-tuple, optional
    Optional compression level for the data. 0 or False is no compression.
    Higher value means more compression, but also slower read and
    write times. Using a value of 3 is often a good compromise.
    See the notes for more details.
    If compress is True, the compression level used is 3.
    If compress is a 2-tuple, the first element must correspond to a string
    between supported compressors (e.g 'zlib', 'gzip', 'bz2', 'lzma'
    'xz'), the second element must be an integer from 0 to 9, corresponding
    to the compression level.
protocol: int, optional
    Pickle protocol, see pickle.dump documentation for more details.
cache_size: positive int, optional
    This option is deprecated in 0.10 and has no effect.

Returns
-------
filenames: list of strings
    The list of file names in which the data is stored. If
    compress is false, each array is stored in a different file.

See Also
--------
joblib.load : corresponding loader

Notes
-----
Memmapping on load cannot be used for compressed files. Thus
using compression can significantly slow down loading. In
addition, compressed files take extra extra memory during
dump and load.</pre> <div class="fragment"><div class="line"><span class="lineno">  424</span><span class="keyword">def </span>dump(value, filename, compress=0, protocol=None, cache_size=None):</div>
<div class="line"><span class="lineno">  425</span>    <span class="stringliteral">&quot;&quot;&quot;Persist an arbitrary Python object into one file.</span></div>
<div class="line"><span class="lineno">  426</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  427</span><span class="stringliteral">    Read more in the :ref:`User Guide &lt;persistence&gt;`.</span></div>
<div class="line"><span class="lineno">  428</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  429</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  430</span><span class="stringliteral">    -----------</span></div>
<div class="line"><span class="lineno">  431</span><span class="stringliteral">    value: any Python object</span></div>
<div class="line"><span class="lineno">  432</span><span class="stringliteral">        The object to store to disk.</span></div>
<div class="line"><span class="lineno">  433</span><span class="stringliteral">    filename: str, pathlib.Path, or file object.</span></div>
<div class="line"><span class="lineno">  434</span><span class="stringliteral">        The file object or path of the file in which it is to be stored.</span></div>
<div class="line"><span class="lineno">  435</span><span class="stringliteral">        The compression method corresponding to one of the supported filename</span></div>
<div class="line"><span class="lineno">  436</span><span class="stringliteral">        extensions (&#39;.z&#39;, &#39;.gz&#39;, &#39;.bz2&#39;, &#39;.xz&#39; or &#39;.lzma&#39;) will be used</span></div>
<div class="line"><span class="lineno">  437</span><span class="stringliteral">        automatically.</span></div>
<div class="line"><span class="lineno">  438</span><span class="stringliteral">    compress: int from 0 to 9 or bool or 2-tuple, optional</span></div>
<div class="line"><span class="lineno">  439</span><span class="stringliteral">        Optional compression level for the data. 0 or False is no compression.</span></div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral">        Higher value means more compression, but also slower read and</span></div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral">        write times. Using a value of 3 is often a good compromise.</span></div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral">        See the notes for more details.</span></div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral">        If compress is True, the compression level used is 3.</span></div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral">        If compress is a 2-tuple, the first element must correspond to a string</span></div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral">        between supported compressors (e.g &#39;zlib&#39;, &#39;gzip&#39;, &#39;bz2&#39;, &#39;lzma&#39;</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">        &#39;xz&#39;), the second element must be an integer from 0 to 9, corresponding</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">        to the compression level.</span></div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">    protocol: int, optional</span></div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral">        Pickle protocol, see pickle.dump documentation for more details.</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">    cache_size: positive int, optional</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">        This option is deprecated in 0.10 and has no effect.</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">    filenames: list of strings</span></div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral">        The list of file names in which the data is stored. If</span></div>
<div class="line"><span class="lineno">  457</span><span class="stringliteral">        compress is false, each array is stored in a different file.</span></div>
<div class="line"><span class="lineno">  458</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  459</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  460</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  461</span><span class="stringliteral">    joblib.load : corresponding loader</span></div>
<div class="line"><span class="lineno">  462</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  463</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  464</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  465</span><span class="stringliteral">    Memmapping on load cannot be used for compressed files. Thus</span></div>
<div class="line"><span class="lineno">  466</span><span class="stringliteral">    using compression can significantly slow down loading. In</span></div>
<div class="line"><span class="lineno">  467</span><span class="stringliteral">    addition, compressed files take extra extra memory during</span></div>
<div class="line"><span class="lineno">  468</span><span class="stringliteral">    dump and load.</span></div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>    <span class="keywordflow">if</span> Path <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> isinstance(filename, Path):</div>
<div class="line"><span class="lineno">  473</span>        filename = str(filename)</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>    is_filename = isinstance(filename, str)</div>
<div class="line"><span class="lineno">  476</span>    is_fileobj = hasattr(filename, <span class="stringliteral">&quot;write&quot;</span>)</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    compress_method = <span class="stringliteral">&#39;zlib&#39;</span>  <span class="comment"># zlib is the default compression method.</span></div>
<div class="line"><span class="lineno">  479</span>    <span class="keywordflow">if</span> compress <span class="keywordflow">is</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  480</span>        <span class="comment"># By default, if compress is enabled, we want the default compress</span></div>
<div class="line"><span class="lineno">  481</span>        <span class="comment"># level of the compressor.</span></div>
<div class="line"><span class="lineno">  482</span>        compress_level = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordflow">elif</span> isinstance(compress, tuple):</div>
<div class="line"><span class="lineno">  484</span>        <span class="comment"># a 2-tuple was set in compress</span></div>
<div class="line"><span class="lineno">  485</span>        <span class="keywordflow">if</span> len(compress) != 2:</div>
<div class="line"><span class="lineno">  486</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  487</span>                <span class="stringliteral">&#39;Compress argument tuple should contain exactly 2 elements: &#39;</span></div>
<div class="line"><span class="lineno">  488</span>                <span class="stringliteral">&#39;(compress method, compress level), you passed {}&#39;</span></div>
<div class="line"><span class="lineno">  489</span>                .format(compress))</div>
<div class="line"><span class="lineno">  490</span>        compress_method, compress_level = compress</div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">elif</span> isinstance(compress, str):</div>
<div class="line"><span class="lineno">  492</span>        compress_method = compress</div>
<div class="line"><span class="lineno">  493</span>        compress_level = <span class="keywordtype">None</span>  <span class="comment"># Use default compress level</span></div>
<div class="line"><span class="lineno">  494</span>        compress = (compress_method, compress_level)</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  496</span>        compress_level = compress</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">if</span> compress_method == <span class="stringliteral">&#39;lz4&#39;</span> <span class="keywordflow">and</span> lz4 <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  499</span>        <span class="keywordflow">raise</span> ValueError(LZ4_NOT_INSTALLED_ERROR)</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>    <span class="keywordflow">if</span> (compress_level <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span></div>
<div class="line"><span class="lineno">  502</span>            compress_level <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keyword">False</span> <span class="keywordflow">and</span></div>
<div class="line"><span class="lineno">  503</span>            compress_level <span class="keywordflow">not</span> <span class="keywordflow">in</span> range(10)):</div>
<div class="line"><span class="lineno">  504</span>        <span class="comment"># Raising an error if a non valid compress level is given.</span></div>
<div class="line"><span class="lineno">  505</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  506</span>            <span class="stringliteral">&#39;Non valid compress level given: &quot;{}&quot;. Possible values are &#39;</span></div>
<div class="line"><span class="lineno">  507</span>            <span class="stringliteral">&#39;{}.&#39;</span>.format(compress_level, list(range(10))))</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>    <span class="keywordflow">if</span> compress_method <span class="keywordflow">not</span> <span class="keywordflow">in</span> _COMPRESSORS:</div>
<div class="line"><span class="lineno">  510</span>        <span class="comment"># Raising an error if an unsupported compression method is given.</span></div>
<div class="line"><span class="lineno">  511</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  512</span>            <span class="stringliteral">&#39;Non valid compression method given: &quot;{}&quot;. Possible values are &#39;</span></div>
<div class="line"><span class="lineno">  513</span>            <span class="stringliteral">&#39;{}.&#39;</span>.format(compress_method, _COMPRESSORS))</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> is_filename <span class="keywordflow">and</span> <span class="keywordflow">not</span> is_fileobj:</div>
<div class="line"><span class="lineno">  516</span>        <span class="comment"># People keep inverting arguments, and the resulting error is</span></div>
<div class="line"><span class="lineno">  517</span>        <span class="comment"># incomprehensible</span></div>
<div class="line"><span class="lineno">  518</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  519</span>            <span class="stringliteral">&#39;Second argument should be a filename or a file-like object, &#39;</span></div>
<div class="line"><span class="lineno">  520</span>            <span class="stringliteral">&#39;%s (type %s) was given.&#39;</span></div>
<div class="line"><span class="lineno">  521</span>            % (filename, type(filename))</div>
<div class="line"><span class="lineno">  522</span>        )</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>    <span class="keywordflow">if</span> is_filename <span class="keywordflow">and</span> <span class="keywordflow">not</span> isinstance(compress, tuple):</div>
<div class="line"><span class="lineno">  525</span>        <span class="comment"># In case no explicit compression was requested using both compression</span></div>
<div class="line"><span class="lineno">  526</span>        <span class="comment"># method and level in a tuple and the filename has an explicit</span></div>
<div class="line"><span class="lineno">  527</span>        <span class="comment"># extension, we select the corresponding compressor.</span></div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>        <span class="comment"># unset the variable to be sure no compression level is set afterwards.</span></div>
<div class="line"><span class="lineno">  530</span>        compress_method = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  531</span>        <span class="keywordflow">for</span> name, compressor <span class="keywordflow">in</span> _COMPRESSORS.items():</div>
<div class="line"><span class="lineno">  532</span>            <span class="keywordflow">if</span> filename.endswith(compressor.extension):</div>
<div class="line"><span class="lineno">  533</span>                compress_method = name</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>        <span class="keywordflow">if</span> compress_method <span class="keywordflow">in</span> _COMPRESSORS <span class="keywordflow">and</span> compress_level == 0:</div>
<div class="line"><span class="lineno">  536</span>            <span class="comment"># we choose the default compress_level in case it was not given</span></div>
<div class="line"><span class="lineno">  537</span>            <span class="comment"># as an argument (using compress).</span></div>
<div class="line"><span class="lineno">  538</span>            compress_level = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>    <span class="keywordflow">if</span> cache_size <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  541</span>        <span class="comment"># Cache size is deprecated starting from version 0.10</span></div>
<div class="line"><span class="lineno">  542</span>        warnings.warn(<span class="stringliteral">&quot;Please do not set &#39;cache_size&#39; in joblib.dump, &quot;</span></div>
<div class="line"><span class="lineno">  543</span>                      <span class="stringliteral">&quot;this parameter has no effect and will be removed. &quot;</span></div>
<div class="line"><span class="lineno">  544</span>                      <span class="stringliteral">&quot;You used &#39;cache_size={}&#39;&quot;</span>.format(cache_size),</div>
<div class="line"><span class="lineno">  545</span>                      DeprecationWarning, stacklevel=2)</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>    <span class="keywordflow">if</span> compress_level != 0:</div>
<div class="line"><span class="lineno">  548</span>        <span class="keyword">with</span> _write_fileobject(filename, compress=(compress_method,</div>
<div class="line"><span class="lineno">  549</span>                                                   compress_level)) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  550</span>            NumpyPickler(f, protocol=protocol).dump(value)</div>
<div class="line"><span class="lineno">  551</span>    <span class="keywordflow">elif</span> is_filename:</div>
<div class="line"><span class="lineno">  552</span>        <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;wb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  553</span>            NumpyPickler(f, protocol=protocol).dump(value)</div>
<div class="line"><span class="lineno">  554</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  555</span>        NumpyPickler(filename, protocol=protocol).dump(value)</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>    <span class="comment"># If the target container is a file object, nothing is returned.</span></div>
<div class="line"><span class="lineno">  558</span>    <span class="keywordflow">if</span> is_fileobj:</div>
<div class="line"><span class="lineno">  559</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>    <span class="comment"># For compatibility, the list of created filenames (e.g with one element</span></div>
<div class="line"><span class="lineno">  562</span>    <span class="comment"># after 0.10.0) is returned by default.</span></div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordflow">return</span> [filename]</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4577f61b0519e3ead75610f82a4a32be" name="a4577f61b0519e3ead75610f82a4a32be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4577f61b0519e3ead75610f82a4a32be">&#9670;&#160;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.numpy_pickle.load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mmap_mode</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reconstruct a Python object from a file persisted with joblib.dump.

Read more in the :ref:`User Guide &lt;persistence&gt;`.

WARNING: joblib.load relies on the pickle module and can therefore
execute arbitrary Python code. It should therefore never be used
to load files from untrusted sources.

Parameters
-----------
filename: str, pathlib.Path, or file object.
    The file object or path of the file from which to load the object
mmap_mode: {None, 'r+', 'r', 'w+', 'c'}, optional
    If not None, the arrays are memory-mapped from the disk. This
    mode has no effect for compressed files. Note that in this
    case the reconstructed object might no longer match exactly
    the originally pickled object.

Returns
-------
result: any Python object
    The object stored in the file.

See Also
--------
joblib.dump : function to save an object

Notes
-----

This function can load numpy array files saved separately during the
dump. If the mmap_mode argument is given, it is passed to np.load and
arrays are loaded as memmaps. As a consequence, the reconstructed
object might not match the original pickled object. Note that if the
file was saved with compression, the arrays cannot be memmapped.
</pre> <div class="fragment"><div class="line"><span class="lineno">  604</span><span class="keyword">def </span>load(filename, mmap_mode=None):</div>
<div class="line"><span class="lineno">  605</span>    <span class="stringliteral">&quot;&quot;&quot;Reconstruct a Python object from a file persisted with joblib.dump.</span></div>
<div class="line"><span class="lineno">  606</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  607</span><span class="stringliteral">    Read more in the :ref:`User Guide &lt;persistence&gt;`.</span></div>
<div class="line"><span class="lineno">  608</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  609</span><span class="stringliteral">    WARNING: joblib.load relies on the pickle module and can therefore</span></div>
<div class="line"><span class="lineno">  610</span><span class="stringliteral">    execute arbitrary Python code. It should therefore never be used</span></div>
<div class="line"><span class="lineno">  611</span><span class="stringliteral">    to load files from untrusted sources.</span></div>
<div class="line"><span class="lineno">  612</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  613</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  614</span><span class="stringliteral">    -----------</span></div>
<div class="line"><span class="lineno">  615</span><span class="stringliteral">    filename: str, pathlib.Path, or file object.</span></div>
<div class="line"><span class="lineno">  616</span><span class="stringliteral">        The file object or path of the file from which to load the object</span></div>
<div class="line"><span class="lineno">  617</span><span class="stringliteral">    mmap_mode: {None, &#39;r+&#39;, &#39;r&#39;, &#39;w+&#39;, &#39;c&#39;}, optional</span></div>
<div class="line"><span class="lineno">  618</span><span class="stringliteral">        If not None, the arrays are memory-mapped from the disk. This</span></div>
<div class="line"><span class="lineno">  619</span><span class="stringliteral">        mode has no effect for compressed files. Note that in this</span></div>
<div class="line"><span class="lineno">  620</span><span class="stringliteral">        case the reconstructed object might no longer match exactly</span></div>
<div class="line"><span class="lineno">  621</span><span class="stringliteral">        the originally pickled object.</span></div>
<div class="line"><span class="lineno">  622</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  623</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  624</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  625</span><span class="stringliteral">    result: any Python object</span></div>
<div class="line"><span class="lineno">  626</span><span class="stringliteral">        The object stored in the file.</span></div>
<div class="line"><span class="lineno">  627</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  628</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  629</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  630</span><span class="stringliteral">    joblib.dump : function to save an object</span></div>
<div class="line"><span class="lineno">  631</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  632</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  633</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  634</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  635</span><span class="stringliteral">    This function can load numpy array files saved separately during the</span></div>
<div class="line"><span class="lineno">  636</span><span class="stringliteral">    dump. If the mmap_mode argument is given, it is passed to np.load and</span></div>
<div class="line"><span class="lineno">  637</span><span class="stringliteral">    arrays are loaded as memmaps. As a consequence, the reconstructed</span></div>
<div class="line"><span class="lineno">  638</span><span class="stringliteral">    object might not match the original pickled object. Note that if the</span></div>
<div class="line"><span class="lineno">  639</span><span class="stringliteral">    file was saved with compression, the arrays cannot be memmapped.</span></div>
<div class="line"><span class="lineno">  640</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  641</span>    <span class="keywordflow">if</span> Path <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> isinstance(filename, Path):</div>
<div class="line"><span class="lineno">  642</span>        filename = str(filename)</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>    <span class="keywordflow">if</span> hasattr(filename, <span class="stringliteral">&quot;read&quot;</span>):</div>
<div class="line"><span class="lineno">  645</span>        fobj = filename</div>
<div class="line"><span class="lineno">  646</span>        filename = getattr(fobj, <span class="stringliteral">&#39;name&#39;</span>, <span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno">  647</span>        <span class="keyword">with</span> _read_fileobject(fobj, filename, mmap_mode) <span class="keyword">as</span> fobj:</div>
<div class="line"><span class="lineno">  648</span>            obj = _unpickle(fobj)</div>
<div class="line"><span class="lineno">  649</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  650</span>        <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  651</span>            <span class="keyword">with</span> _read_fileobject(f, filename, mmap_mode) <span class="keyword">as</span> fobj:</div>
<div class="line"><span class="lineno">  652</span>                <span class="keywordflow">if</span> isinstance(fobj, str):</div>
<div class="line"><span class="lineno">  653</span>                    <span class="comment"># if the returned file object is a string, this means we</span></div>
<div class="line"><span class="lineno">  654</span>                    <span class="comment"># try to load a pickle file generated with an version of</span></div>
<div class="line"><span class="lineno">  655</span>                    <span class="comment"># Joblib so we load it with joblib compatibility function.</span></div>
<div class="line"><span class="lineno">  656</span>                    <span class="keywordflow">return</span> load_compatibility(fobj)</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>                obj = _unpickle(fobj, filename, mmap_mode)</div>
<div class="line"><span class="lineno">  659</span>    <span class="keywordflow">return</span> obj</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e39675c5168f08ee22be8458345e2a1" name="a4e39675c5168f08ee22be8458345e2a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e39675c5168f08ee22be8458345e2a1">&#9670;&#160;</a></span>load_temporary_memmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.numpy_pickle.load_temporary_memmap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mmap_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>unlink_on_gc_collect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  595</span><span class="keyword">def </span>load_temporary_memmap(filename, mmap_mode, unlink_on_gc_collect):</div>
<div class="line"><span class="lineno">  596</span>    <span class="keyword">from</span> ._memmapping_reducer <span class="keyword">import</span> JOBLIB_MMAPS, add_maybe_unlink_finalizer</div>
<div class="line"><span class="lineno">  597</span>    obj = load(filename, mmap_mode)</div>
<div class="line"><span class="lineno">  598</span>    JOBLIB_MMAPS.add(obj.filename)</div>
<div class="line"><span class="lineno">  599</span>    <span class="keywordflow">if</span> unlink_on_gc_collect:</div>
<div class="line"><span class="lineno">  600</span>        add_maybe_unlink_finalizer(obj)</div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordflow">return</span> obj</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad6d3badf88f2c018e22355eecb2579d8" name="ad6d3badf88f2c018e22355eecb2579d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d3badf88f2c018e22355eecb2579d8">&#9670;&#160;</a></span>NUMPY_ARRAY_ALIGNMENT_BYTES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int joblib.numpy_pickle.NUMPY_ARRAY_ALIGNMENT_BYTES = 16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Utility objects for persistence. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
