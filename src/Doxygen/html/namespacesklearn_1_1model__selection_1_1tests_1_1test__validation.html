<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.model_selection.tests.test_validation Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1model__selection.html">model_selection</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html">test_validation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sklearn.model_selection.tests.test_validation Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1model__selection_1_1tests_1_1test__validation_1_1_data_dependent_failing_classifier.html">DataDependentFailingClassifier</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1model__selection_1_1tests_1_1test__validation_1_1_mock_classifier.html">MockClassifier</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1model__selection_1_1tests_1_1test__validation_1_1_mock_estimator_with_parameter.html">MockEstimatorWithParameter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1model__selection_1_1tests_1_1test__validation_1_1_mock_estimator_with_single_fit_call_allowed.html">MockEstimatorWithSingleFitCallAllowed</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1model__selection_1_1tests_1_1test__validation_1_1_mock_improving_estimator.html">MockImprovingEstimator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1model__selection_1_1tests_1_1test__validation_1_1_mock_incremental_improving_estimator.html">MockIncrementalImprovingEstimator</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1model__selection_1_1tests_1_1test__validation_1_1_r_f_with_decision_function.html">RFWithDecisionFunction</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adea8c3bee8a54da5269b5d7034674bbf" id="r_adea8c3bee8a54da5269b5d7034674bbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#adea8c3bee8a54da5269b5d7034674bbf">test_cross_val_score</a> ()</td></tr>
<tr class="separator:adea8c3bee8a54da5269b5d7034674bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c27cc55500b6eb92d1e525fd249485b" id="r_a5c27cc55500b6eb92d1e525fd249485b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a5c27cc55500b6eb92d1e525fd249485b">test_cross_validate_many_jobs</a> ()</td></tr>
<tr class="separator:a5c27cc55500b6eb92d1e525fd249485b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f9623566e9e6039755299dd981988dc" id="r_a5f9623566e9e6039755299dd981988dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a5f9623566e9e6039755299dd981988dc">test_cross_validate_invalid_scoring_param</a> ()</td></tr>
<tr class="separator:a5f9623566e9e6039755299dd981988dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcdf0881cbe67a6b5664f18e50a40b61" id="r_afcdf0881cbe67a6b5664f18e50a40b61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#afcdf0881cbe67a6b5664f18e50a40b61">test_cross_validate_nested_estimator</a> ()</td></tr>
<tr class="separator:afcdf0881cbe67a6b5664f18e50a40b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad244119e013b95fe53fbde8848d5e6ae" id="r_ad244119e013b95fe53fbde8848d5e6ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#ad244119e013b95fe53fbde8848d5e6ae">test_cross_validate</a> ()</td></tr>
<tr class="separator:ad244119e013b95fe53fbde8848d5e6ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab9f80498f88da163bb7075034dcc66f" id="r_aab9f80498f88da163bb7075034dcc66f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#aab9f80498f88da163bb7075034dcc66f">check_cross_validate_single_metric</a> (clf, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9a829084e7e408ceeb7a91e55f8cf70c">X</a>, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a1dafb11699d055439f0373fafe21c974">y</a>, scores)</td></tr>
<tr class="separator:aab9f80498f88da163bb7075034dcc66f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adada62ab9a7a96f3425c3fb79dbd746d" id="r_adada62ab9a7a96f3425c3fb79dbd746d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#adada62ab9a7a96f3425c3fb79dbd746d">check_cross_validate_multi_metric</a> (clf, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9a829084e7e408ceeb7a91e55f8cf70c">X</a>, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a1dafb11699d055439f0373fafe21c974">y</a>, scores)</td></tr>
<tr class="separator:adada62ab9a7a96f3425c3fb79dbd746d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c60a0f30c6728f3662594363538d64d" id="r_a4c60a0f30c6728f3662594363538d64d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a4c60a0f30c6728f3662594363538d64d">test_cross_val_score_predict_groups</a> ()</td></tr>
<tr class="separator:a4c60a0f30c6728f3662594363538d64d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37d99d89a7b46bfda2fa51a7f563ac56" id="r_a37d99d89a7b46bfda2fa51a7f563ac56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a37d99d89a7b46bfda2fa51a7f563ac56">test_cross_val_score_pandas</a> ()</td></tr>
<tr class="separator:a37d99d89a7b46bfda2fa51a7f563ac56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425d4a0aec4b4564137a00c3a32af752" id="r_a425d4a0aec4b4564137a00c3a32af752"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a425d4a0aec4b4564137a00c3a32af752">test_cross_val_score_mask</a> ()</td></tr>
<tr class="separator:a425d4a0aec4b4564137a00c3a32af752"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aecf9ecf33ac984c5f4a96c5d5ab32166" id="r_aecf9ecf33ac984c5f4a96c5d5ab32166"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#aecf9ecf33ac984c5f4a96c5d5ab32166">test_cross_val_score_precomputed</a> ()</td></tr>
<tr class="separator:aecf9ecf33ac984c5f4a96c5d5ab32166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af60efdf68f47d4da8ba15a26f779e577" id="r_af60efdf68f47d4da8ba15a26f779e577"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#af60efdf68f47d4da8ba15a26f779e577">test_cross_val_score_fit_params</a> ()</td></tr>
<tr class="separator:af60efdf68f47d4da8ba15a26f779e577"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a931ea1ebcfd7387449b1443f3e101853" id="r_a931ea1ebcfd7387449b1443f3e101853"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a931ea1ebcfd7387449b1443f3e101853">test_cross_val_score_score_func</a> ()</td></tr>
<tr class="separator:a931ea1ebcfd7387449b1443f3e101853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5ec9e447c5aa52baa0b04bb72e2b696" id="r_aa5ec9e447c5aa52baa0b04bb72e2b696"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#aa5ec9e447c5aa52baa0b04bb72e2b696">test_cross_val_score_errors</a> ()</td></tr>
<tr class="separator:aa5ec9e447c5aa52baa0b04bb72e2b696"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bab92ea7914bf87cef54deb59e7b628" id="r_a3bab92ea7914bf87cef54deb59e7b628"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a3bab92ea7914bf87cef54deb59e7b628">test_cross_val_score_with_score_func_classification</a> ()</td></tr>
<tr class="separator:a3bab92ea7914bf87cef54deb59e7b628"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67056f0bec77c791001c9f9d6df58ad1" id="r_a67056f0bec77c791001c9f9d6df58ad1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a67056f0bec77c791001c9f9d6df58ad1">test_cross_val_score_with_score_func_regression</a> ()</td></tr>
<tr class="separator:a67056f0bec77c791001c9f9d6df58ad1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31da8323b7730207f50225872816799a" id="r_a31da8323b7730207f50225872816799a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a31da8323b7730207f50225872816799a">test_permutation_score</a> ()</td></tr>
<tr class="separator:a31da8323b7730207f50225872816799a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3a9c887905967d4ba898839a0eb13a3" id="r_af3a9c887905967d4ba898839a0eb13a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#af3a9c887905967d4ba898839a0eb13a3">test_permutation_test_score_allow_nans</a> ()</td></tr>
<tr class="separator:af3a9c887905967d4ba898839a0eb13a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a7e9f90b8d222c5157b30b98e2bd230" id="r_a0a7e9f90b8d222c5157b30b98e2bd230"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a0a7e9f90b8d222c5157b30b98e2bd230">test_permutation_test_score_fit_params</a> ()</td></tr>
<tr class="separator:a0a7e9f90b8d222c5157b30b98e2bd230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a781e25cb51cf127e6f3063be72d87b79" id="r_a781e25cb51cf127e6f3063be72d87b79"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a781e25cb51cf127e6f3063be72d87b79">test_cross_val_score_allow_nans</a> ()</td></tr>
<tr class="separator:a781e25cb51cf127e6f3063be72d87b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cc8bc225d0806a179fa9f947f145749" id="r_a6cc8bc225d0806a179fa9f947f145749"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a6cc8bc225d0806a179fa9f947f145749">test_cross_val_score_multilabel</a> ()</td></tr>
<tr class="separator:a6cc8bc225d0806a179fa9f947f145749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1523d65ad32fd61b5a2ee5b73e627a" id="r_a3d1523d65ad32fd61b5a2ee5b73e627a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a3d1523d65ad32fd61b5a2ee5b73e627a">test_cross_val_predict</a> ()</td></tr>
<tr class="separator:a3d1523d65ad32fd61b5a2ee5b73e627a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51c8f52278c3400d8592de269298b477" id="r_a51c8f52278c3400d8592de269298b477"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a51c8f52278c3400d8592de269298b477">test_cross_val_predict_decision_function_shape</a> ()</td></tr>
<tr class="separator:a51c8f52278c3400d8592de269298b477"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64558ad342ba25be200a510fc5b59875" id="r_a64558ad342ba25be200a510fc5b59875"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a64558ad342ba25be200a510fc5b59875">test_cross_val_predict_predict_proba_shape</a> ()</td></tr>
<tr class="separator:a64558ad342ba25be200a510fc5b59875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac31eccf718859863a586cb23739d5510" id="r_ac31eccf718859863a586cb23739d5510"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#ac31eccf718859863a586cb23739d5510">test_cross_val_predict_predict_log_proba_shape</a> ()</td></tr>
<tr class="separator:ac31eccf718859863a586cb23739d5510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cf3759457ea1f64446fe48c4d97b613" id="r_a9cf3759457ea1f64446fe48c4d97b613"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9cf3759457ea1f64446fe48c4d97b613">test_cross_val_predict_input_types</a> ()</td></tr>
<tr class="separator:a9cf3759457ea1f64446fe48c4d97b613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b4e82cfbfaaefb9efff4ae7c7ccad0e" id="r_a4b4e82cfbfaaefb9efff4ae7c7ccad0e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a4b4e82cfbfaaefb9efff4ae7c7ccad0e">test_cross_val_predict_pandas</a> ()</td></tr>
<tr class="separator:a4b4e82cfbfaaefb9efff4ae7c7ccad0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6d29b93f00b9b9f33fc7566d9529a26" id="r_ae6d29b93f00b9b9f33fc7566d9529a26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#ae6d29b93f00b9b9f33fc7566d9529a26">test_cross_val_predict_unbalanced</a> ()</td></tr>
<tr class="separator:ae6d29b93f00b9b9f33fc7566d9529a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac59680ee576f1cf148c2eaa2082051ad" id="r_ac59680ee576f1cf148c2eaa2082051ad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#ac59680ee576f1cf148c2eaa2082051ad">test_cross_val_predict_y_none</a> ()</td></tr>
<tr class="separator:ac59680ee576f1cf148c2eaa2082051ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21446041dd8ea82d39cf4c09f3bab9ac" id="r_a21446041dd8ea82d39cf4c09f3bab9ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a21446041dd8ea82d39cf4c09f3bab9ac">test_cross_val_score_sparse_fit_params</a> ()</td></tr>
<tr class="separator:a21446041dd8ea82d39cf4c09f3bab9ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8942096d5dd29ed98d1c85e82158df60" id="r_a8942096d5dd29ed98d1c85e82158df60"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a8942096d5dd29ed98d1c85e82158df60">test_learning_curve</a> ()</td></tr>
<tr class="separator:a8942096d5dd29ed98d1c85e82158df60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7886c356f1b75edec9fbecbcdffb0658" id="r_a7886c356f1b75edec9fbecbcdffb0658"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a7886c356f1b75edec9fbecbcdffb0658">test_learning_curve_unsupervised</a> ()</td></tr>
<tr class="separator:a7886c356f1b75edec9fbecbcdffb0658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c5227a39cc52c652b47d7e8f0a1450" id="r_ad7c5227a39cc52c652b47d7e8f0a1450"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#ad7c5227a39cc52c652b47d7e8f0a1450">test_learning_curve_verbose</a> ()</td></tr>
<tr class="separator:ad7c5227a39cc52c652b47d7e8f0a1450"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2344ce260404ce86e0a8fe672d001ea5" id="r_a2344ce260404ce86e0a8fe672d001ea5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a2344ce260404ce86e0a8fe672d001ea5">test_learning_curve_incremental_learning_not_possible</a> ()</td></tr>
<tr class="separator:a2344ce260404ce86e0a8fe672d001ea5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add1567f52eddf73c3b28d5d4d772ea1e" id="r_add1567f52eddf73c3b28d5d4d772ea1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#add1567f52eddf73c3b28d5d4d772ea1e">test_learning_curve_incremental_learning</a> ()</td></tr>
<tr class="separator:add1567f52eddf73c3b28d5d4d772ea1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0eccbcda02911b86b5940e5680085ec" id="r_ab0eccbcda02911b86b5940e5680085ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#ab0eccbcda02911b86b5940e5680085ec">test_learning_curve_incremental_learning_unsupervised</a> ()</td></tr>
<tr class="separator:ab0eccbcda02911b86b5940e5680085ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52fe9fdc3f3942a3cf7b3ce2230cf156" id="r_a52fe9fdc3f3942a3cf7b3ce2230cf156"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a52fe9fdc3f3942a3cf7b3ce2230cf156">test_learning_curve_batch_and_incremental_learning_are_equal</a> ()</td></tr>
<tr class="separator:a52fe9fdc3f3942a3cf7b3ce2230cf156"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7de2c37deedcbffdbd7ccbba0923eb94" id="r_a7de2c37deedcbffdbd7ccbba0923eb94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a7de2c37deedcbffdbd7ccbba0923eb94">test_learning_curve_n_sample_range_out_of_bounds</a> ()</td></tr>
<tr class="separator:a7de2c37deedcbffdbd7ccbba0923eb94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69e89ae73d15a7ae9ee2bc6d4d1c150b" id="r_a69e89ae73d15a7ae9ee2bc6d4d1c150b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a69e89ae73d15a7ae9ee2bc6d4d1c150b">test_learning_curve_remove_duplicate_sample_sizes</a> ()</td></tr>
<tr class="separator:a69e89ae73d15a7ae9ee2bc6d4d1c150b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad13e0488776ae3d0e4c0ceb42764ef1" id="r_aad13e0488776ae3d0e4c0ceb42764ef1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#aad13e0488776ae3d0e4c0ceb42764ef1">test_learning_curve_with_boolean_indices</a> ()</td></tr>
<tr class="separator:aad13e0488776ae3d0e4c0ceb42764ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac711023ef5301acf14ab5d97854d840a" id="r_ac711023ef5301acf14ab5d97854d840a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#ac711023ef5301acf14ab5d97854d840a">test_learning_curve_with_shuffle</a> ()</td></tr>
<tr class="separator:ac711023ef5301acf14ab5d97854d840a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20edfc4575a6cc6b13a8b29e7e7bf56a" id="r_a20edfc4575a6cc6b13a8b29e7e7bf56a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a20edfc4575a6cc6b13a8b29e7e7bf56a">test_learning_curve_fit_params</a> ()</td></tr>
<tr class="separator:a20edfc4575a6cc6b13a8b29e7e7bf56a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69ffed9a2f2099b31b644dd44c38c228" id="r_a69ffed9a2f2099b31b644dd44c38c228"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a69ffed9a2f2099b31b644dd44c38c228">test_learning_curve_incremental_learning_fit_params</a> ()</td></tr>
<tr class="separator:a69ffed9a2f2099b31b644dd44c38c228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dbe5db045b9c88398c2244f4b77e625" id="r_a3dbe5db045b9c88398c2244f4b77e625"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a3dbe5db045b9c88398c2244f4b77e625">test_validation_curve</a> ()</td></tr>
<tr class="separator:a3dbe5db045b9c88398c2244f4b77e625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa73eaf68a1e664d22b632d97bb6ee861" id="r_aa73eaf68a1e664d22b632d97bb6ee861"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#aa73eaf68a1e664d22b632d97bb6ee861">test_validation_curve_clone_estimator</a> ()</td></tr>
<tr class="separator:aa73eaf68a1e664d22b632d97bb6ee861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8c0d3fcfe3ec1140d344d8fc06d0d1" id="r_a1e8c0d3fcfe3ec1140d344d8fc06d0d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a1e8c0d3fcfe3ec1140d344d8fc06d0d1">test_validation_curve_cv_splits_consistency</a> ()</td></tr>
<tr class="separator:a1e8c0d3fcfe3ec1140d344d8fc06d0d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2eea6d4a5fff48c68272f190d6f1cdbb" id="r_a2eea6d4a5fff48c68272f190d6f1cdbb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a2eea6d4a5fff48c68272f190d6f1cdbb">test_validation_curve_fit_params</a> ()</td></tr>
<tr class="separator:a2eea6d4a5fff48c68272f190d6f1cdbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82e2a350ae74a9b9547bda8d62b95fd0" id="r_a82e2a350ae74a9b9547bda8d62b95fd0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a82e2a350ae74a9b9547bda8d62b95fd0">test_check_is_permutation</a> ()</td></tr>
<tr class="separator:a82e2a350ae74a9b9547bda8d62b95fd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74d55fa2b1a3c4f3b9e6f7906c224397" id="r_a74d55fa2b1a3c4f3b9e6f7906c224397"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a74d55fa2b1a3c4f3b9e6f7906c224397">test_cross_val_predict_sparse_prediction</a> ()</td></tr>
<tr class="separator:a74d55fa2b1a3c4f3b9e6f7906c224397"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c1bde36acce6878c198c85c0e1f274" id="r_a42c1bde36acce6878c198c85c0e1f274"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a42c1bde36acce6878c198c85c0e1f274">check_cross_val_predict_binary</a> (<a class="el" href="__lapack__subroutines_8h.html#a20cd275d1dea5cba0a51b3e106f3e130">est</a>, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9a829084e7e408ceeb7a91e55f8cf70c">X</a>, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a1dafb11699d055439f0373fafe21c974">y</a>, method)</td></tr>
<tr class="separator:a42c1bde36acce6878c198c85c0e1f274"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcf2818aa3a8afecc1353d544f59e6f" id="r_a8dcf2818aa3a8afecc1353d544f59e6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a8dcf2818aa3a8afecc1353d544f59e6f">check_cross_val_predict_multiclass</a> (<a class="el" href="__lapack__subroutines_8h.html#a20cd275d1dea5cba0a51b3e106f3e130">est</a>, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9a829084e7e408ceeb7a91e55f8cf70c">X</a>, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a1dafb11699d055439f0373fafe21c974">y</a>, method)</td></tr>
<tr class="separator:a8dcf2818aa3a8afecc1353d544f59e6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ae76f3a7ab25f45eafc75f5800ffef8" id="r_a0ae76f3a7ab25f45eafc75f5800ffef8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a0ae76f3a7ab25f45eafc75f5800ffef8">check_cross_val_predict_multilabel</a> (<a class="el" href="__lapack__subroutines_8h.html#a20cd275d1dea5cba0a51b3e106f3e130">est</a>, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9a829084e7e408ceeb7a91e55f8cf70c">X</a>, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a1dafb11699d055439f0373fafe21c974">y</a>, method)</td></tr>
<tr class="separator:a0ae76f3a7ab25f45eafc75f5800ffef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ece365a7734c6ec62920783df5048b" id="r_a48ece365a7734c6ec62920783df5048b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a48ece365a7734c6ec62920783df5048b">check_cross_val_predict_with_method_binary</a> (<a class="el" href="__lapack__subroutines_8h.html#a20cd275d1dea5cba0a51b3e106f3e130">est</a>)</td></tr>
<tr class="separator:a48ece365a7734c6ec62920783df5048b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa871b8c9fd003a3884d5c01608d6d2e4" id="r_aa871b8c9fd003a3884d5c01608d6d2e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#aa871b8c9fd003a3884d5c01608d6d2e4">check_cross_val_predict_with_method_multiclass</a> (<a class="el" href="__lapack__subroutines_8h.html#a20cd275d1dea5cba0a51b3e106f3e130">est</a>)</td></tr>
<tr class="separator:aa871b8c9fd003a3884d5c01608d6d2e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a135e55f4549a076f724950a930f719a1" id="r_a135e55f4549a076f724950a930f719a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a135e55f4549a076f724950a930f719a1">test_cross_val_predict_with_method</a> ()</td></tr>
<tr class="separator:a135e55f4549a076f724950a930f719a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad910a436667e5120ebe4f2a535c44051" id="r_ad910a436667e5120ebe4f2a535c44051"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#ad910a436667e5120ebe4f2a535c44051">test_cross_val_predict_method_checking</a> ()</td></tr>
<tr class="separator:ad910a436667e5120ebe4f2a535c44051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8580440b675ec21cdc0d715307e05a" id="r_aef8580440b675ec21cdc0d715307e05a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#aef8580440b675ec21cdc0d715307e05a">test_gridsearchcv_cross_val_predict_with_method</a> ()</td></tr>
<tr class="separator:aef8580440b675ec21cdc0d715307e05a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15284823974da473e1885cdcd33a1e57" id="r_a15284823974da473e1885cdcd33a1e57"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a15284823974da473e1885cdcd33a1e57">test_cross_val_predict_with_method_multilabel_ovr</a> ()</td></tr>
<tr class="separator:a15284823974da473e1885cdcd33a1e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac4380f48226a0819709ba19adc305c3" id="r_aac4380f48226a0819709ba19adc305c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#aac4380f48226a0819709ba19adc305c3">test_cross_val_predict_with_method_multilabel_rf</a> ()</td></tr>
<tr class="separator:aac4380f48226a0819709ba19adc305c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06dce04ddd552fdf244811df33c741dc" id="r_a06dce04ddd552fdf244811df33c741dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a06dce04ddd552fdf244811df33c741dc">test_cross_val_predict_with_method_rare_class</a> ()</td></tr>
<tr class="separator:a06dce04ddd552fdf244811df33c741dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23bb31fafd603ff5d539a536bf7583f3" id="r_a23bb31fafd603ff5d539a536bf7583f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a23bb31fafd603ff5d539a536bf7583f3">test_cross_val_predict_with_method_multilabel_rf_rare_class</a> ()</td></tr>
<tr class="separator:a23bb31fafd603ff5d539a536bf7583f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c7a4f0377ca21501fe9d325d5e5a21" id="r_a21c7a4f0377ca21501fe9d325d5e5a21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a21c7a4f0377ca21501fe9d325d5e5a21">get_expected_predictions</a> (<a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9a829084e7e408ceeb7a91e55f8cf70c">X</a>, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a1dafb11699d055439f0373fafe21c974">y</a>, cv, classes, <a class="el" href="__lapack__subroutines_8h.html#a20cd275d1dea5cba0a51b3e106f3e130">est</a>, method)</td></tr>
<tr class="separator:a21c7a4f0377ca21501fe9d325d5e5a21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06ac839c5b00d90ad10fc264ef113e70" id="r_a06ac839c5b00d90ad10fc264ef113e70"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a06ac839c5b00d90ad10fc264ef113e70">test_cross_val_predict_class_subset</a> ()</td></tr>
<tr class="separator:a06ac839c5b00d90ad10fc264ef113e70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b30a49ba8955ae3e5688bb5480e296" id="r_a21b30a49ba8955ae3e5688bb5480e296"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a21b30a49ba8955ae3e5688bb5480e296">test_score_memmap</a> ()</td></tr>
<tr class="separator:a21b30a49ba8955ae3e5688bb5480e296"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55aabb292c2d83bbdc7fe1965dd77923" id="r_a55aabb292c2d83bbdc7fe1965dd77923"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a55aabb292c2d83bbdc7fe1965dd77923">test_permutation_test_score_pandas</a> ()</td></tr>
<tr class="separator:a55aabb292c2d83bbdc7fe1965dd77923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa92d4aa358a2a83c072d314d1415f12b" id="r_aa92d4aa358a2a83c072d314d1415f12b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#aa92d4aa358a2a83c072d314d1415f12b">test_fit_and_score_failing</a> ()</td></tr>
<tr class="separator:aa92d4aa358a2a83c072d314d1415f12b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a885f6197227bd46837e4a8d78ec20cc5" id="r_a885f6197227bd46837e4a8d78ec20cc5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a885f6197227bd46837e4a8d78ec20cc5">test_fit_and_score_working</a> ()</td></tr>
<tr class="separator:a885f6197227bd46837e4a8d78ec20cc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33a8b4e527b1ffe82ed4b00fd731cc26" id="r_a33a8b4e527b1ffe82ed4b00fd731cc26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a33a8b4e527b1ffe82ed4b00fd731cc26">test_cross_validate_some_failing_fits_warning</a> (error_score)</td></tr>
<tr class="separator:a33a8b4e527b1ffe82ed4b00fd731cc26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fdc1483dea42b44fd244133486d564a" id="r_a9fdc1483dea42b44fd244133486d564a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9fdc1483dea42b44fd244133486d564a">test_cross_validate_all_failing_fits_error</a> (error_score)</td></tr>
<tr class="separator:a9fdc1483dea42b44fd244133486d564a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a494c302f49ebf14f604f823cc176a465" id="r_a494c302f49ebf14f604f823cc176a465"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a494c302f49ebf14f604f823cc176a465">_failing_scorer</a> (estimator, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9a829084e7e408ceeb7a91e55f8cf70c">X</a>, <a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a1dafb11699d055439f0373fafe21c974">y</a>, error_msg)</td></tr>
<tr class="separator:a494c302f49ebf14f604f823cc176a465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e002bfcd396d072db728cd59a951f9d" id="r_a0e002bfcd396d072db728cd59a951f9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a0e002bfcd396d072db728cd59a951f9d">test_cross_val_score_failing_scorer</a> (error_score)</td></tr>
<tr class="separator:a0e002bfcd396d072db728cd59a951f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184e44f1119e87b5f73b19b921d90f64" id="r_a184e44f1119e87b5f73b19b921d90f64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a184e44f1119e87b5f73b19b921d90f64">test_cross_validate_failing_scorer</a> (error_score, return_train_score, with_multimetric)</td></tr>
<tr class="separator:a184e44f1119e87b5f73b19b921d90f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1283f0da6d9a4d995a928c9c02046306" id="r_a1283f0da6d9a4d995a928c9c02046306"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a1283f0da6d9a4d995a928c9c02046306">three_params_scorer</a> (<a class="el" href="__lapack__subroutines_8h.html#a5325f1842789194c441b272cbf424674">i</a>, <a class="el" href="__lapack__subroutines_8h.html#a7a2934b0e050f997202d3f47a979d888">j</a>, <a class="el" href="__blas__subroutines_8h.html#afa8f30d4cfebc7d1efb06e7d245eff5a">k</a>)</td></tr>
<tr class="separator:a1283f0da6d9a4d995a928c9c02046306"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16b05ab86bb2ff906f229b5396b43dc0" id="r_a16b05ab86bb2ff906f229b5396b43dc0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a16b05ab86bb2ff906f229b5396b43dc0">test_fit_and_score_verbosity</a> (capsys, train_score, scorer, verbose, split_prg, cdt_prg, expected)</td></tr>
<tr class="separator:a16b05ab86bb2ff906f229b5396b43dc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a288c04f5976e2a6a1acc95f0b49c41c9" id="r_a288c04f5976e2a6a1acc95f0b49c41c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a288c04f5976e2a6a1acc95f0b49c41c9">test_score</a> ()</td></tr>
<tr class="separator:a288c04f5976e2a6a1acc95f0b49c41c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9139640d369f2e949099cc7205b2f3" id="r_adf9139640d369f2e949099cc7205b2f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#adf9139640d369f2e949099cc7205b2f3">test_callable_multimetric_confusion_matrix_cross_validate</a> ()</td></tr>
<tr class="separator:adf9139640d369f2e949099cc7205b2f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f38f55d2ce404fbc4ebc2847fb6500d" id="r_a7f38f55d2ce404fbc4ebc2847fb6500d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a7f38f55d2ce404fbc4ebc2847fb6500d">test_learning_curve_partial_fit_regressors</a> ()</td></tr>
<tr class="separator:a7f38f55d2ce404fbc4ebc2847fb6500d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a1f74677c528edd90718dd58efede153c" id="r_a1f74677c528edd90718dd58efede153c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a1f74677c528edd90718dd58efede153c">WindowsError</a> = None</td></tr>
<tr class="separator:a1f74677c528edd90718dd58efede153c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a829084e7e408ceeb7a91e55f8cf70c" id="r_a9a829084e7e408ceeb7a91e55f8cf70c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9a829084e7e408ceeb7a91e55f8cf70c">X</a> = np.ones((10, 2))</td></tr>
<tr class="separator:a9a829084e7e408ceeb7a91e55f8cf70c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32af2ec72b4f19e02270dab5f994e543" id="r_a32af2ec72b4f19e02270dab5f994e543"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a32af2ec72b4f19e02270dab5f994e543">X_sparse</a> = <a class="el" href="classscipy_1_1sparse_1_1__coo_1_1coo__matrix.html">coo_matrix</a>(<a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9a829084e7e408ceeb7a91e55f8cf70c">X</a>)</td></tr>
<tr class="separator:a32af2ec72b4f19e02270dab5f994e543"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dafb11699d055439f0373fafe21c974" id="r_a1dafb11699d055439f0373fafe21c974"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a1dafb11699d055439f0373fafe21c974">y</a> = np.array([0, 0, 1, 1, 2, 2, 3, 3, 4, 4])</td></tr>
<tr class="separator:a1dafb11699d055439f0373fafe21c974"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9803b85b1f4fbfab858c2d9c45d384f9" id="r_a9803b85b1f4fbfab858c2d9c45d384f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9803b85b1f4fbfab858c2d9c45d384f9">y2</a> = np.array([1, 1, 1, 2, 2, 2, 3, 3, 3, 3])</td></tr>
<tr class="separator:a9803b85b1f4fbfab858c2d9c45d384f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef9750212c670866e8a57e8e15228fe5" id="r_aef9750212c670866e8a57e8e15228fe5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#aef9750212c670866e8a57e8e15228fe5">P_sparse</a> = <a class="el" href="classscipy_1_1sparse_1_1__coo_1_1coo__matrix.html">coo_matrix</a>(np.eye(5))</td></tr>
<tr class="separator:aef9750212c670866e8a57e8e15228fe5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Test the validation module</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a494c302f49ebf14f604f823cc176a465" name="a494c302f49ebf14f604f823cc176a465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a494c302f49ebf14f604f823cc176a465">&#9670;&#160;</a></span>_failing_scorer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation._failing_scorer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2196</span><span class="keyword">def </span>_failing_scorer(estimator, X, y, error_msg):</div>
<div class="line"><span class="lineno"> 2197</span>    <span class="keywordflow">raise</span> ValueError(error_msg)</div>
<div class="line"><span class="lineno"> 2198</span> </div>
<div class="line"><span class="lineno"> 2199</span> </div>
<div class="line"><span class="lineno"> 2200</span><span class="preprocessor">@pytest.mark.filterwarnings(&quot;ignore:lbfgs failed to converge&quot;)</span></div>
<div class="line"><span class="lineno"> 2201</span><span class="preprocessor">@pytest.mark.parametrize(&quot;error_score&quot;, [np.nan, 0, &quot;raise&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a42c1bde36acce6878c198c85c0e1f274" name="a42c1bde36acce6878c198c85c0e1f274"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42c1bde36acce6878c198c85c0e1f274">&#9670;&#160;</a></span>check_cross_val_predict_binary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.check_cross_val_predict_binary </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>est</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper for tests of cross_val_predict with binary classification</pre> <div class="fragment"><div class="line"><span class="lineno"> 1748</span><span class="keyword">def </span>check_cross_val_predict_binary(est, X, y, method):</div>
<div class="line"><span class="lineno"> 1749</span>    <span class="stringliteral">&quot;&quot;&quot;Helper for tests of cross_val_predict with binary classification&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1750</span>    cv = KFold(n_splits=3, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1751</span> </div>
<div class="line"><span class="lineno"> 1752</span>    <span class="comment"># Generate expected outputs</span></div>
<div class="line"><span class="lineno"> 1753</span>    <span class="keywordflow">if</span> y.ndim == 1:</div>
<div class="line"><span class="lineno"> 1754</span>        exp_shape = (len(X),) <span class="keywordflow">if</span> method == <span class="stringliteral">&quot;decision_function&quot;</span> <span class="keywordflow">else</span> (len(X), 2)</div>
<div class="line"><span class="lineno"> 1755</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1756</span>        exp_shape = y.shape</div>
<div class="line"><span class="lineno"> 1757</span>    expected_predictions = np.zeros(exp_shape)</div>
<div class="line"><span class="lineno"> 1758</span>    <span class="keywordflow">for</span> train, test <span class="keywordflow">in</span> cv.split(X, y):</div>
<div class="line"><span class="lineno"> 1759</span>        est = clone(est).fit(X[train], y[train])</div>
<div class="line"><span class="lineno"> 1760</span>        expected_predictions[test] = getattr(est, method)(X[test])</div>
<div class="line"><span class="lineno"> 1761</span> </div>
<div class="line"><span class="lineno"> 1762</span>    <span class="comment"># Check actual outputs for several representations of y</span></div>
<div class="line"><span class="lineno"> 1763</span>    <span class="keywordflow">for</span> tg <span class="keywordflow">in</span> [y, y + 1, y - 2, y.astype(<span class="stringliteral">&quot;str&quot;</span>)]:</div>
<div class="line"><span class="lineno"> 1764</span>        assert_allclose(</div>
<div class="line"><span class="lineno"> 1765</span>            cross_val_predict(est, X, tg, method=method, cv=cv), expected_predictions</div>
<div class="line"><span class="lineno"> 1766</span>        )</div>
<div class="line"><span class="lineno"> 1767</span> </div>
<div class="line"><span class="lineno"> 1768</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dcf2818aa3a8afecc1353d544f59e6f" name="a8dcf2818aa3a8afecc1353d544f59e6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dcf2818aa3a8afecc1353d544f59e6f">&#9670;&#160;</a></span>check_cross_val_predict_multiclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.check_cross_val_predict_multiclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>est</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper for tests of cross_val_predict with multiclass classification</pre> <div class="fragment"><div class="line"><span class="lineno"> 1769</span><span class="keyword">def </span>check_cross_val_predict_multiclass(est, X, y, method):</div>
<div class="line"><span class="lineno"> 1770</span>    <span class="stringliteral">&quot;&quot;&quot;Helper for tests of cross_val_predict with multiclass classification&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1771</span>    cv = KFold(n_splits=3, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1772</span> </div>
<div class="line"><span class="lineno"> 1773</span>    <span class="comment"># Generate expected outputs</span></div>
<div class="line"><span class="lineno"> 1774</span>    float_min = np.finfo(np.float64).min</div>
<div class="line"><span class="lineno"> 1775</span>    default_values = {</div>
<div class="line"><span class="lineno"> 1776</span>        <span class="stringliteral">&quot;decision_function&quot;</span>: float_min,</div>
<div class="line"><span class="lineno"> 1777</span>        <span class="stringliteral">&quot;predict_log_proba&quot;</span>: float_min,</div>
<div class="line"><span class="lineno"> 1778</span>        <span class="stringliteral">&quot;predict_proba&quot;</span>: 0,</div>
<div class="line"><span class="lineno"> 1779</span>    }</div>
<div class="line"><span class="lineno"> 1780</span>    expected_predictions = np.full(</div>
<div class="line"><span class="lineno"> 1781</span>        (len(X), len(set(y))), default_values[method], dtype=np.float64</div>
<div class="line"><span class="lineno"> 1782</span>    )</div>
<div class="line"><span class="lineno"> 1783</span>    _, y_enc = np.unique(y, return_inverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1784</span>    <span class="keywordflow">for</span> train, test <span class="keywordflow">in</span> cv.split(X, y_enc):</div>
<div class="line"><span class="lineno"> 1785</span>        est = clone(est).fit(X[train], y_enc[train])</div>
<div class="line"><span class="lineno"> 1786</span>        fold_preds = getattr(est, method)(X[test])</div>
<div class="line"><span class="lineno"> 1787</span>        i_cols_fit = np.unique(y_enc[train])</div>
<div class="line"><span class="lineno"> 1788</span>        expected_predictions[np.ix_(test, i_cols_fit)] = fold_preds</div>
<div class="line"><span class="lineno"> 1789</span> </div>
<div class="line"><span class="lineno"> 1790</span>    <span class="comment"># Check actual outputs for several representations of y</span></div>
<div class="line"><span class="lineno"> 1791</span>    <span class="keywordflow">for</span> tg <span class="keywordflow">in</span> [y, y + 1, y - 2, y.astype(<span class="stringliteral">&quot;str&quot;</span>)]:</div>
<div class="line"><span class="lineno"> 1792</span>        assert_allclose(</div>
<div class="line"><span class="lineno"> 1793</span>            cross_val_predict(est, X, tg, method=method, cv=cv), expected_predictions</div>
<div class="line"><span class="lineno"> 1794</span>        )</div>
<div class="line"><span class="lineno"> 1795</span> </div>
<div class="line"><span class="lineno"> 1796</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ae76f3a7ab25f45eafc75f5800ffef8" name="a0ae76f3a7ab25f45eafc75f5800ffef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ae76f3a7ab25f45eafc75f5800ffef8">&#9670;&#160;</a></span>check_cross_val_predict_multilabel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.check_cross_val_predict_multilabel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>est</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check the output of cross_val_predict for 2D targets using
Estimators which provide a predictions as a list with one
element per class.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1797</span><span class="keyword">def </span>check_cross_val_predict_multilabel(est, X, y, method):</div>
<div class="line"><span class="lineno"> 1798</span>    <span class="stringliteral">&quot;&quot;&quot;Check the output of cross_val_predict for 2D targets using</span></div>
<div class="line"><span class="lineno"> 1799</span><span class="stringliteral">    Estimators which provide a predictions as a list with one</span></div>
<div class="line"><span class="lineno"> 1800</span><span class="stringliteral">    element per class.</span></div>
<div class="line"><span class="lineno"> 1801</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1802</span>    cv = KFold(n_splits=3, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1803</span> </div>
<div class="line"><span class="lineno"> 1804</span>    <span class="comment"># Create empty arrays of the correct size to hold outputs</span></div>
<div class="line"><span class="lineno"> 1805</span>    float_min = np.finfo(np.float64).min</div>
<div class="line"><span class="lineno"> 1806</span>    default_values = {</div>
<div class="line"><span class="lineno"> 1807</span>        <span class="stringliteral">&quot;decision_function&quot;</span>: float_min,</div>
<div class="line"><span class="lineno"> 1808</span>        <span class="stringliteral">&quot;predict_log_proba&quot;</span>: float_min,</div>
<div class="line"><span class="lineno"> 1809</span>        <span class="stringliteral">&quot;predict_proba&quot;</span>: 0,</div>
<div class="line"><span class="lineno"> 1810</span>    }</div>
<div class="line"><span class="lineno"> 1811</span>    n_targets = y.shape[1]</div>
<div class="line"><span class="lineno"> 1812</span>    expected_preds = []</div>
<div class="line"><span class="lineno"> 1813</span>    <span class="keywordflow">for</span> i_col <span class="keywordflow">in</span> range(n_targets):</div>
<div class="line"><span class="lineno"> 1814</span>        n_classes_in_label = len(set(y[:, i_col]))</div>
<div class="line"><span class="lineno"> 1815</span>        <span class="keywordflow">if</span> n_classes_in_label == 2 <span class="keywordflow">and</span> method == <span class="stringliteral">&quot;decision_function&quot;</span>:</div>
<div class="line"><span class="lineno"> 1816</span>            exp_shape = (len(X),)</div>
<div class="line"><span class="lineno"> 1817</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1818</span>            exp_shape = (len(X), n_classes_in_label)</div>
<div class="line"><span class="lineno"> 1819</span>        expected_preds.append(</div>
<div class="line"><span class="lineno"> 1820</span>            np.full(exp_shape, default_values[method], dtype=np.float64)</div>
<div class="line"><span class="lineno"> 1821</span>        )</div>
<div class="line"><span class="lineno"> 1822</span> </div>
<div class="line"><span class="lineno"> 1823</span>    <span class="comment"># Generate expected outputs</span></div>
<div class="line"><span class="lineno"> 1824</span>    y_enc_cols = [</div>
<div class="line"><span class="lineno"> 1825</span>        np.unique(y[:, i], return_inverse=<span class="keyword">True</span>)[1][:, np.newaxis]</div>
<div class="line"><span class="lineno"> 1826</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(y.shape[1])</div>
<div class="line"><span class="lineno"> 1827</span>    ]</div>
<div class="line"><span class="lineno"> 1828</span>    y_enc = np.concatenate(y_enc_cols, axis=1)</div>
<div class="line"><span class="lineno"> 1829</span>    <span class="keywordflow">for</span> train, test <span class="keywordflow">in</span> cv.split(X, y_enc):</div>
<div class="line"><span class="lineno"> 1830</span>        est = clone(est).fit(X[train], y_enc[train])</div>
<div class="line"><span class="lineno"> 1831</span>        fold_preds = getattr(est, method)(X[test])</div>
<div class="line"><span class="lineno"> 1832</span>        <span class="keywordflow">for</span> i_col <span class="keywordflow">in</span> range(n_targets):</div>
<div class="line"><span class="lineno"> 1833</span>            fold_cols = np.unique(y_enc[train][:, i_col])</div>
<div class="line"><span class="lineno"> 1834</span>            <span class="keywordflow">if</span> expected_preds[i_col].ndim == 1:</div>
<div class="line"><span class="lineno"> 1835</span>                <span class="comment"># Decision function with &lt;=2 classes</span></div>
<div class="line"><span class="lineno"> 1836</span>                expected_preds[i_col][test] = fold_preds[i_col]</div>
<div class="line"><span class="lineno"> 1837</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1838</span>                idx = np.ix_(test, fold_cols)</div>
<div class="line"><span class="lineno"> 1839</span>                expected_preds[i_col][idx] = fold_preds[i_col]</div>
<div class="line"><span class="lineno"> 1840</span> </div>
<div class="line"><span class="lineno"> 1841</span>    <span class="comment"># Check actual outputs for several representations of y</span></div>
<div class="line"><span class="lineno"> 1842</span>    <span class="keywordflow">for</span> tg <span class="keywordflow">in</span> [y, y + 1, y - 2, y.astype(<span class="stringliteral">&quot;str&quot;</span>)]:</div>
<div class="line"><span class="lineno"> 1843</span>        cv_predict_output = cross_val_predict(est, X, tg, method=method, cv=cv)</div>
<div class="line"><span class="lineno"> 1844</span>        <span class="keyword">assert</span> len(cv_predict_output) == len(expected_preds)</div>
<div class="line"><span class="lineno"> 1845</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(cv_predict_output)):</div>
<div class="line"><span class="lineno"> 1846</span>            assert_allclose(cv_predict_output[i], expected_preds[i])</div>
<div class="line"><span class="lineno"> 1847</span> </div>
<div class="line"><span class="lineno"> 1848</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a48ece365a7734c6ec62920783df5048b" name="a48ece365a7734c6ec62920783df5048b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ece365a7734c6ec62920783df5048b">&#9670;&#160;</a></span>check_cross_val_predict_with_method_binary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.check_cross_val_predict_with_method_binary </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>est</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1849</span><span class="keyword">def </span>check_cross_val_predict_with_method_binary(est):</div>
<div class="line"><span class="lineno"> 1850</span>    <span class="comment"># This test includes the decision_function with two classes.</span></div>
<div class="line"><span class="lineno"> 1851</span>    <span class="comment"># This is a special case: it has only one column of output.</span></div>
<div class="line"><span class="lineno"> 1852</span>    X, y = make_classification(n_classes=2, random_state=0)</div>
<div class="line"><span class="lineno"> 1853</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;decision_function&quot;</span>, <span class="stringliteral">&quot;predict_proba&quot;</span>, <span class="stringliteral">&quot;predict_log_proba&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1854</span>        check_cross_val_predict_binary(est, X, y, method)</div>
<div class="line"><span class="lineno"> 1855</span> </div>
<div class="line"><span class="lineno"> 1856</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa871b8c9fd003a3884d5c01608d6d2e4" name="aa871b8c9fd003a3884d5c01608d6d2e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa871b8c9fd003a3884d5c01608d6d2e4">&#9670;&#160;</a></span>check_cross_val_predict_with_method_multiclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.check_cross_val_predict_with_method_multiclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>est</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1857</span><span class="keyword">def </span>check_cross_val_predict_with_method_multiclass(est):</div>
<div class="line"><span class="lineno"> 1858</span>    iris = load_iris()</div>
<div class="line"><span class="lineno"> 1859</span>    X, y = iris.data, iris.target</div>
<div class="line"><span class="lineno"> 1860</span>    X, y = shuffle(X, y, random_state=0)</div>
<div class="line"><span class="lineno"> 1861</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;decision_function&quot;</span>, <span class="stringliteral">&quot;predict_proba&quot;</span>, <span class="stringliteral">&quot;predict_log_proba&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1862</span>        check_cross_val_predict_multiclass(est, X, y, method)</div>
<div class="line"><span class="lineno"> 1863</span> </div>
<div class="line"><span class="lineno"> 1864</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adada62ab9a7a96f3425c3fb79dbd746d" name="adada62ab9a7a96f3425c3fb79dbd746d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adada62ab9a7a96f3425c3fb79dbd746d">&#9670;&#160;</a></span>check_cross_validate_multi_metric()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.check_cross_validate_multi_metric </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scores</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  503</span><span class="keyword">def </span>check_cross_validate_multi_metric(clf, X, y, scores):</div>
<div class="line"><span class="lineno">  504</span>    <span class="comment"># Test multimetric evaluation when scoring is a list / dict</span></div>
<div class="line"><span class="lineno">  505</span>    (</div>
<div class="line"><span class="lineno">  506</span>        train_mse_scores,</div>
<div class="line"><span class="lineno">  507</span>        test_mse_scores,</div>
<div class="line"><span class="lineno">  508</span>        train_r2_scores,</div>
<div class="line"><span class="lineno">  509</span>        test_r2_scores,</div>
<div class="line"><span class="lineno">  510</span>        fitted_estimators,</div>
<div class="line"><span class="lineno">  511</span>    ) = scores</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>    <span class="keyword">def </span>custom_scorer(clf, X, y):</div>
<div class="line"><span class="lineno">  514</span>        y_pred = clf.predict(X)</div>
<div class="line"><span class="lineno">  515</span>        <span class="keywordflow">return</span> {</div>
<div class="line"><span class="lineno">  516</span>            <span class="stringliteral">&quot;r2&quot;</span>: r2_score(y, y_pred),</div>
<div class="line"><span class="lineno">  517</span>            <span class="stringliteral">&quot;neg_mean_squared_error&quot;</span>: -mean_squared_error(y, y_pred),</div>
<div class="line"><span class="lineno">  518</span>        }</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>    all_scoring = (</div>
<div class="line"><span class="lineno">  521</span>        (<span class="stringliteral">&quot;r2&quot;</span>, <span class="stringliteral">&quot;neg_mean_squared_error&quot;</span>),</div>
<div class="line"><span class="lineno">  522</span>        {</div>
<div class="line"><span class="lineno">  523</span>            <span class="stringliteral">&quot;r2&quot;</span>: make_scorer(r2_score),</div>
<div class="line"><span class="lineno">  524</span>            <span class="stringliteral">&quot;neg_mean_squared_error&quot;</span>: <span class="stringliteral">&quot;neg_mean_squared_error&quot;</span>,</div>
<div class="line"><span class="lineno">  525</span>        },</div>
<div class="line"><span class="lineno">  526</span>        custom_scorer,</div>
<div class="line"><span class="lineno">  527</span>    )</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>    keys_sans_train = {</div>
<div class="line"><span class="lineno">  530</span>        <span class="stringliteral">&quot;test_r2&quot;</span>,</div>
<div class="line"><span class="lineno">  531</span>        <span class="stringliteral">&quot;test_neg_mean_squared_error&quot;</span>,</div>
<div class="line"><span class="lineno">  532</span>        <span class="stringliteral">&quot;fit_time&quot;</span>,</div>
<div class="line"><span class="lineno">  533</span>        <span class="stringliteral">&quot;score_time&quot;</span>,</div>
<div class="line"><span class="lineno">  534</span>    }</div>
<div class="line"><span class="lineno">  535</span>    keys_with_train = keys_sans_train.union(</div>
<div class="line"><span class="lineno">  536</span>        {<span class="stringliteral">&quot;train_r2&quot;</span>, <span class="stringliteral">&quot;train_neg_mean_squared_error&quot;</span>}</div>
<div class="line"><span class="lineno">  537</span>    )</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">for</span> return_train_score <span class="keywordflow">in</span> (<span class="keyword">True</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  540</span>        <span class="keywordflow">for</span> scoring <span class="keywordflow">in</span> all_scoring:</div>
<div class="line"><span class="lineno">  541</span>            <span class="keywordflow">if</span> return_train_score:</div>
<div class="line"><span class="lineno">  542</span>                <span class="comment"># return_train_score must be True by default - deprecated</span></div>
<div class="line"><span class="lineno">  543</span>                cv_results = cross_validate(</div>
<div class="line"><span class="lineno">  544</span>                    clf, X, y, scoring=scoring, return_train_score=<span class="keyword">True</span></div>
<div class="line"><span class="lineno">  545</span>                )</div>
<div class="line"><span class="lineno">  546</span>                assert_array_almost_equal(cv_results[<span class="stringliteral">&quot;train_r2&quot;</span>], train_r2_scores)</div>
<div class="line"><span class="lineno">  547</span>                assert_array_almost_equal(</div>
<div class="line"><span class="lineno">  548</span>                    cv_results[<span class="stringliteral">&quot;train_neg_mean_squared_error&quot;</span>], train_mse_scores</div>
<div class="line"><span class="lineno">  549</span>                )</div>
<div class="line"><span class="lineno">  550</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  551</span>                cv_results = cross_validate(</div>
<div class="line"><span class="lineno">  552</span>                    clf, X, y, scoring=scoring, return_train_score=<span class="keyword">False</span></div>
<div class="line"><span class="lineno">  553</span>                )</div>
<div class="line"><span class="lineno">  554</span>            <span class="keyword">assert</span> isinstance(cv_results, dict)</div>
<div class="line"><span class="lineno">  555</span>            <span class="keyword">assert</span> set(cv_results.keys()) == (</div>
<div class="line"><span class="lineno">  556</span>                keys_with_train <span class="keywordflow">if</span> return_train_score <span class="keywordflow">else</span> keys_sans_train</div>
<div class="line"><span class="lineno">  557</span>            )</div>
<div class="line"><span class="lineno">  558</span>            assert_array_almost_equal(cv_results[<span class="stringliteral">&quot;test_r2&quot;</span>], test_r2_scores)</div>
<div class="line"><span class="lineno">  559</span>            assert_array_almost_equal(</div>
<div class="line"><span class="lineno">  560</span>                cv_results[<span class="stringliteral">&quot;test_neg_mean_squared_error&quot;</span>], test_mse_scores</div>
<div class="line"><span class="lineno">  561</span>            )</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>            <span class="comment"># Make sure all the arrays are of np.ndarray type</span></div>
<div class="line"><span class="lineno">  564</span>            <span class="keyword">assert</span> type(cv_results[<span class="stringliteral">&quot;test_r2&quot;</span>]) == np.ndarray</div>
<div class="line"><span class="lineno">  565</span>            <span class="keyword">assert</span> type(cv_results[<span class="stringliteral">&quot;test_neg_mean_squared_error&quot;</span>]) == np.ndarray</div>
<div class="line"><span class="lineno">  566</span>            <span class="keyword">assert</span> type(cv_results[<span class="stringliteral">&quot;fit_time&quot;</span>]) == np.ndarray</div>
<div class="line"><span class="lineno">  567</span>            <span class="keyword">assert</span> type(cv_results[<span class="stringliteral">&quot;score_time&quot;</span>]) == np.ndarray</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>            <span class="comment"># Ensure all the times are within sane limits</span></div>
<div class="line"><span class="lineno">  570</span>            <span class="keyword">assert</span> np.all(cv_results[<span class="stringliteral">&quot;fit_time&quot;</span>] &gt;= 0)</div>
<div class="line"><span class="lineno">  571</span>            <span class="keyword">assert</span> np.all(cv_results[<span class="stringliteral">&quot;fit_time&quot;</span>] &lt; 10)</div>
<div class="line"><span class="lineno">  572</span>            <span class="keyword">assert</span> np.all(cv_results[<span class="stringliteral">&quot;score_time&quot;</span>] &gt;= 0)</div>
<div class="line"><span class="lineno">  573</span>            <span class="keyword">assert</span> np.all(cv_results[<span class="stringliteral">&quot;score_time&quot;</span>] &lt; 10)</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aab9f80498f88da163bb7075034dcc66f" name="aab9f80498f88da163bb7075034dcc66f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab9f80498f88da163bb7075034dcc66f">&#9670;&#160;</a></span>check_cross_validate_single_metric()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.check_cross_validate_single_metric </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scores</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  455</span><span class="keyword">def </span>check_cross_validate_single_metric(clf, X, y, scores):</div>
<div class="line"><span class="lineno">  456</span>    (</div>
<div class="line"><span class="lineno">  457</span>        train_mse_scores,</div>
<div class="line"><span class="lineno">  458</span>        test_mse_scores,</div>
<div class="line"><span class="lineno">  459</span>        train_r2_scores,</div>
<div class="line"><span class="lineno">  460</span>        test_r2_scores,</div>
<div class="line"><span class="lineno">  461</span>        fitted_estimators,</div>
<div class="line"><span class="lineno">  462</span>    ) = scores</div>
<div class="line"><span class="lineno">  463</span>    <span class="comment"># Test single metric evaluation when scoring is string or singleton list</span></div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">for</span> return_train_score, dict_len <span class="keywordflow">in</span> ((<span class="keyword">True</span>, 4), (<span class="keyword">False</span>, 3)):</div>
<div class="line"><span class="lineno">  465</span>        <span class="comment"># Single metric passed as a string</span></div>
<div class="line"><span class="lineno">  466</span>        <span class="keywordflow">if</span> return_train_score:</div>
<div class="line"><span class="lineno">  467</span>            mse_scores_dict = cross_validate(</div>
<div class="line"><span class="lineno">  468</span>                clf, X, y, scoring=<span class="stringliteral">&quot;neg_mean_squared_error&quot;</span>, return_train_score=<span class="keyword">True</span></div>
<div class="line"><span class="lineno">  469</span>            )</div>
<div class="line"><span class="lineno">  470</span>            assert_array_almost_equal(mse_scores_dict[<span class="stringliteral">&quot;train_score&quot;</span>], train_mse_scores)</div>
<div class="line"><span class="lineno">  471</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  472</span>            mse_scores_dict = cross_validate(</div>
<div class="line"><span class="lineno">  473</span>                clf, X, y, scoring=<span class="stringliteral">&quot;neg_mean_squared_error&quot;</span>, return_train_score=<span class="keyword">False</span></div>
<div class="line"><span class="lineno">  474</span>            )</div>
<div class="line"><span class="lineno">  475</span>        <span class="keyword">assert</span> isinstance(mse_scores_dict, dict)</div>
<div class="line"><span class="lineno">  476</span>        <span class="keyword">assert</span> len(mse_scores_dict) == dict_len</div>
<div class="line"><span class="lineno">  477</span>        assert_array_almost_equal(mse_scores_dict[<span class="stringliteral">&quot;test_score&quot;</span>], test_mse_scores)</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>        <span class="comment"># Single metric passed as a list</span></div>
<div class="line"><span class="lineno">  480</span>        <span class="keywordflow">if</span> return_train_score:</div>
<div class="line"><span class="lineno">  481</span>            <span class="comment"># It must be True by default - deprecated</span></div>
<div class="line"><span class="lineno">  482</span>            r2_scores_dict = cross_validate(</div>
<div class="line"><span class="lineno">  483</span>                clf, X, y, scoring=[<span class="stringliteral">&quot;r2&quot;</span>], return_train_score=<span class="keyword">True</span></div>
<div class="line"><span class="lineno">  484</span>            )</div>
<div class="line"><span class="lineno">  485</span>            assert_array_almost_equal(r2_scores_dict[<span class="stringliteral">&quot;train_r2&quot;</span>], train_r2_scores, <span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  486</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  487</span>            r2_scores_dict = cross_validate(</div>
<div class="line"><span class="lineno">  488</span>                clf, X, y, scoring=[<span class="stringliteral">&quot;r2&quot;</span>], return_train_score=<span class="keyword">False</span></div>
<div class="line"><span class="lineno">  489</span>            )</div>
<div class="line"><span class="lineno">  490</span>        <span class="keyword">assert</span> isinstance(r2_scores_dict, dict)</div>
<div class="line"><span class="lineno">  491</span>        <span class="keyword">assert</span> len(r2_scores_dict) == dict_len</div>
<div class="line"><span class="lineno">  492</span>        assert_array_almost_equal(r2_scores_dict[<span class="stringliteral">&quot;test_r2&quot;</span>], test_r2_scores)</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>    <span class="comment"># Test return_estimator option</span></div>
<div class="line"><span class="lineno">  495</span>    mse_scores_dict = cross_validate(</div>
<div class="line"><span class="lineno">  496</span>        clf, X, y, scoring=<span class="stringliteral">&quot;neg_mean_squared_error&quot;</span>, return_estimator=<span class="keyword">True</span></div>
<div class="line"><span class="lineno">  497</span>    )</div>
<div class="line"><span class="lineno">  498</span>    <span class="keywordflow">for</span> k, est <span class="keywordflow">in</span> enumerate(mse_scores_dict[<span class="stringliteral">&quot;estimator&quot;</span>]):</div>
<div class="line"><span class="lineno">  499</span>        assert_almost_equal(est.coef_, fitted_estimators[k].coef_)</div>
<div class="line"><span class="lineno">  500</span>        assert_almost_equal(est.intercept_, fitted_estimators[k].intercept_)</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a21c7a4f0377ca21501fe9d325d5e5a21" name="a21c7a4f0377ca21501fe9d325d5e5a21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21c7a4f0377ca21501fe9d325d5e5a21">&#9670;&#160;</a></span>get_expected_predictions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.get_expected_predictions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>classes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>est</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1968</span><span class="keyword">def </span>get_expected_predictions(X, y, cv, classes, est, method):</div>
<div class="line"><span class="lineno"> 1969</span> </div>
<div class="line"><span class="lineno"> 1970</span>    expected_predictions = np.zeros([len(y), classes])</div>
<div class="line"><span class="lineno"> 1971</span>    func = getattr(est, method)</div>
<div class="line"><span class="lineno"> 1972</span> </div>
<div class="line"><span class="lineno"> 1973</span>    <span class="keywordflow">for</span> train, test <span class="keywordflow">in</span> cv.split(X, y):</div>
<div class="line"><span class="lineno"> 1974</span>        est.fit(X[train], y[train])</div>
<div class="line"><span class="lineno"> 1975</span>        expected_predictions_ = <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(X[test])</div>
<div class="line"><span class="lineno"> 1976</span>        <span class="comment"># To avoid 2 dimensional indexing</span></div>
<div class="line"><span class="lineno"> 1977</span>        <span class="keywordflow">if</span> method == <span class="stringliteral">&quot;predict_proba&quot;</span>:</div>
<div class="line"><span class="lineno"> 1978</span>            exp_pred_test = np.zeros((len(test), classes))</div>
<div class="line"><span class="lineno"> 1979</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1980</span>            exp_pred_test = np.full(</div>
<div class="line"><span class="lineno"> 1981</span>                (len(test), classes), np.finfo(expected_predictions.dtype).min</div>
<div class="line"><span class="lineno"> 1982</span>            )</div>
<div class="line"><span class="lineno"> 1983</span>        exp_pred_test[:, est.classes_] = expected_predictions_</div>
<div class="line"><span class="lineno"> 1984</span>        expected_predictions[test] = exp_pred_test</div>
<div class="line"><span class="lineno"> 1985</span> </div>
<div class="line"><span class="lineno"> 1986</span>    <span class="keywordflow">return</span> expected_predictions</div>
<div class="line"><span class="lineno"> 1987</span> </div>
<div class="line"><span class="lineno"> 1988</span> </div>
<div class="ttc" id="acallback_2foo_8f_html_a565fe2cc583df102f120752b0011c330"><div class="ttname"><a href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a></div><div class="ttdeci">subroutine func(a)</div><div class="ttdef"><b>Definition</b> foo.f:9</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adf9139640d369f2e949099cc7205b2f3" name="adf9139640d369f2e949099cc7205b2f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf9139640d369f2e949099cc7205b2f3">&#9670;&#160;</a></span>test_callable_multimetric_confusion_matrix_cross_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_callable_multimetric_confusion_matrix_cross_validate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2350</span><span class="keyword">def </span>test_callable_multimetric_confusion_matrix_cross_validate():</div>
<div class="line"><span class="lineno"> 2351</span>    <span class="keyword">def </span>custom_scorer(clf, X, y):</div>
<div class="line"><span class="lineno"> 2352</span>        y_pred = clf.predict(X)</div>
<div class="line"><span class="lineno"> 2353</span>        cm = confusion_matrix(y, y_pred)</div>
<div class="line"><span class="lineno"> 2354</span>        <span class="keywordflow">return</span> {<span class="stringliteral">&quot;tn&quot;</span>: cm[0, 0], <span class="stringliteral">&quot;fp&quot;</span>: cm[0, 1], <span class="stringliteral">&quot;fn&quot;</span>: cm[1, 0], <span class="stringliteral">&quot;tp&quot;</span>: cm[1, 1]}</div>
<div class="line"><span class="lineno"> 2355</span> </div>
<div class="line"><span class="lineno"> 2356</span>    X, y = make_classification(n_samples=40, n_features=4, random_state=42)</div>
<div class="line"><span class="lineno"> 2357</span>    est = LinearSVC(random_state=42)</div>
<div class="line"><span class="lineno"> 2358</span>    est.fit(X, y)</div>
<div class="line"><span class="lineno"> 2359</span>    cv_results = cross_validate(est, X, y, cv=5, scoring=custom_scorer)</div>
<div class="line"><span class="lineno"> 2360</span> </div>
<div class="line"><span class="lineno"> 2361</span>    score_names = [<span class="stringliteral">&quot;tn&quot;</span>, <span class="stringliteral">&quot;fp&quot;</span>, <span class="stringliteral">&quot;fn&quot;</span>, <span class="stringliteral">&quot;tp&quot;</span>]</div>
<div class="line"><span class="lineno"> 2362</span>    <span class="keywordflow">for</span> name <span class="keywordflow">in</span> score_names:</div>
<div class="line"><span class="lineno"> 2363</span>        <span class="keyword">assert</span> <span class="stringliteral">&quot;test_{}&quot;</span>.format(name) <span class="keywordflow">in</span> cv_results</div>
<div class="line"><span class="lineno"> 2364</span> </div>
<div class="line"><span class="lineno"> 2365</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a82e2a350ae74a9b9547bda8d62b95fd0" name="a82e2a350ae74a9b9547bda8d62b95fd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82e2a350ae74a9b9547bda8d62b95fd0">&#9670;&#160;</a></span>test_check_is_permutation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_check_is_permutation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1716</span><span class="keyword">def </span>test_check_is_permutation():</div>
<div class="line"><span class="lineno"> 1717</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1718</span>    p = np.arange(100)</div>
<div class="line"><span class="lineno"> 1719</span>    rng.shuffle(p)</div>
<div class="line"><span class="lineno"> 1720</span>    <span class="keyword">assert</span> _check_is_permutation(p, 100)</div>
<div class="line"><span class="lineno"> 1721</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> _check_is_permutation(np.delete(p, 23), 100)</div>
<div class="line"><span class="lineno"> 1722</span> </div>
<div class="line"><span class="lineno"> 1723</span>    p[0] = 23</div>
<div class="line"><span class="lineno"> 1724</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> _check_is_permutation(p, 100)</div>
<div class="line"><span class="lineno"> 1725</span> </div>
<div class="line"><span class="lineno"> 1726</span>    <span class="comment"># Check if the additional duplicate indices are caught</span></div>
<div class="line"><span class="lineno"> 1727</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> _check_is_permutation(np.hstack((p, 0)), 100)</div>
<div class="line"><span class="lineno"> 1728</span> </div>
<div class="line"><span class="lineno"> 1729</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d1523d65ad32fd61b5a2ee5b73e627a" name="a3d1523d65ad32fd61b5a2ee5b73e627a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d1523d65ad32fd61b5a2ee5b73e627a">&#9670;&#160;</a></span>test_cross_val_predict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  905</span><span class="keyword">def </span>test_cross_val_predict():</div>
<div class="line"><span class="lineno">  906</span>    X, y = load_diabetes(return_X_y=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  907</span>    cv = KFold()</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>    est = Ridge()</div>
<div class="line"><span class="lineno">  910</span> </div>
<div class="line"><span class="lineno">  911</span>    <span class="comment"># Naive loop (should be same as cross_val_predict):</span></div>
<div class="line"><span class="lineno">  912</span>    preds2 = np.zeros_like(y)</div>
<div class="line"><span class="lineno">  913</span>    <span class="keywordflow">for</span> train, test <span class="keywordflow">in</span> cv.split(X, y):</div>
<div class="line"><span class="lineno">  914</span>        est.fit(X[train], y[train])</div>
<div class="line"><span class="lineno">  915</span>        preds2[test] = est.predict(X[test])</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>    preds = cross_val_predict(est, X, y, cv=cv)</div>
<div class="line"><span class="lineno">  918</span>    assert_array_almost_equal(preds, preds2)</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>    preds = cross_val_predict(est, X, y)</div>
<div class="line"><span class="lineno">  921</span>    <span class="keyword">assert</span> len(preds) == len(y)</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>    cv = LeaveOneOut()</div>
<div class="line"><span class="lineno">  924</span>    preds = cross_val_predict(est, X, y, cv=cv)</div>
<div class="line"><span class="lineno">  925</span>    <span class="keyword">assert</span> len(preds) == len(y)</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>    Xsp = X.copy()</div>
<div class="line"><span class="lineno">  928</span>    Xsp *= Xsp &gt; np.median(Xsp)</div>
<div class="line"><span class="lineno">  929</span>    Xsp = coo_matrix(Xsp)</div>
<div class="line"><span class="lineno">  930</span>    preds = cross_val_predict(est, Xsp, y)</div>
<div class="line"><span class="lineno">  931</span>    assert_array_almost_equal(len(preds), len(y))</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>    preds = cross_val_predict(KMeans(n_init=<span class="stringliteral">&quot;auto&quot;</span>), X)</div>
<div class="line"><span class="lineno">  934</span>    <span class="keyword">assert</span> len(preds) == len(y)</div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span>    <span class="keyword">class </span>BadCV:</div>
<div class="line"><span class="lineno">  937</span>        <span class="keyword">def </span>split(self, X, y=None, groups=None):</div>
<div class="line"><span class="lineno">  938</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(4):</div>
<div class="line"><span class="lineno">  939</span>                <span class="keywordflow">yield</span> np.array([0, 1, 2, 3]), np.array([4, 5, 6, 7, 8])</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  942</span>        cross_val_predict(est, X, y, cv=BadCV())</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>    X, y = load_iris(return_X_y=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  945</span> </div>
<div class="line"><span class="lineno">  946</span>    warning_message = (</div>
<div class="line"><span class="lineno">  947</span>        <span class="stringliteral">r&quot;Number of classes in training fold \&zwj;(2\&zwj;) does &quot;</span></div>
<div class="line"><span class="lineno">  948</span>        <span class="stringliteral">r&quot;not match total number of classes \&zwj;(3\&zwj;). &quot;</span></div>
<div class="line"><span class="lineno">  949</span>        <span class="stringliteral">&quot;Results may not be appropriate for your use case.&quot;</span></div>
<div class="line"><span class="lineno">  950</span>    )</div>
<div class="line"><span class="lineno">  951</span>    <span class="keyword">with</span> pytest.warns(RuntimeWarning, match=warning_message):</div>
<div class="line"><span class="lineno">  952</span>        cross_val_predict(</div>
<div class="line"><span class="lineno">  953</span>            LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>),</div>
<div class="line"><span class="lineno">  954</span>            X,</div>
<div class="line"><span class="lineno">  955</span>            y,</div>
<div class="line"><span class="lineno">  956</span>            method=<span class="stringliteral">&quot;predict_proba&quot;</span>,</div>
<div class="line"><span class="lineno">  957</span>            cv=KFold(2),</div>
<div class="line"><span class="lineno">  958</span>        )</div>
<div class="line"><span class="lineno">  959</span> </div>
<div class="line"><span class="lineno">  960</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a06ac839c5b00d90ad10fc264ef113e70" name="a06ac839c5b00d90ad10fc264ef113e70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06ac839c5b00d90ad10fc264ef113e70">&#9670;&#160;</a></span>test_cross_val_predict_class_subset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_class_subset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1989</span><span class="keyword">def </span>test_cross_val_predict_class_subset():</div>
<div class="line"><span class="lineno"> 1990</span> </div>
<div class="line"><span class="lineno"> 1991</span>    X = np.arange(200).reshape(100, 2)</div>
<div class="line"><span class="lineno"> 1992</span>    y = np.array([x // 10 <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(100)])</div>
<div class="line"><span class="lineno"> 1993</span>    classes = 10</div>
<div class="line"><span class="lineno"> 1994</span> </div>
<div class="line"><span class="lineno"> 1995</span>    kfold3 = KFold(n_splits=3)</div>
<div class="line"><span class="lineno"> 1996</span>    kfold4 = KFold(n_splits=4)</div>
<div class="line"><span class="lineno"> 1997</span> </div>
<div class="line"><span class="lineno"> 1998</span>    le = LabelEncoder()</div>
<div class="line"><span class="lineno"> 1999</span> </div>
<div class="line"><span class="lineno"> 2000</span>    methods = [<span class="stringliteral">&quot;decision_function&quot;</span>, <span class="stringliteral">&quot;predict_proba&quot;</span>, <span class="stringliteral">&quot;predict_log_proba&quot;</span>]</div>
<div class="line"><span class="lineno"> 2001</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> methods:</div>
<div class="line"><span class="lineno"> 2002</span>        est = LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>)</div>
<div class="line"><span class="lineno"> 2003</span> </div>
<div class="line"><span class="lineno"> 2004</span>        <span class="comment"># Test with n_splits=3</span></div>
<div class="line"><span class="lineno"> 2005</span>        predictions = cross_val_predict(est, X, y, method=method, cv=kfold3)</div>
<div class="line"><span class="lineno"> 2006</span> </div>
<div class="line"><span class="lineno"> 2007</span>        <span class="comment"># Runs a naive loop (should be same as cross_val_predict):</span></div>
<div class="line"><span class="lineno"> 2008</span>        expected_predictions = get_expected_predictions(</div>
<div class="line"><span class="lineno"> 2009</span>            X, y, kfold3, classes, est, method</div>
<div class="line"><span class="lineno"> 2010</span>        )</div>
<div class="line"><span class="lineno"> 2011</span>        assert_array_almost_equal(expected_predictions, predictions)</div>
<div class="line"><span class="lineno"> 2012</span> </div>
<div class="line"><span class="lineno"> 2013</span>        <span class="comment"># Test with n_splits=4</span></div>
<div class="line"><span class="lineno"> 2014</span>        predictions = cross_val_predict(est, X, y, method=method, cv=kfold4)</div>
<div class="line"><span class="lineno"> 2015</span>        expected_predictions = get_expected_predictions(</div>
<div class="line"><span class="lineno"> 2016</span>            X, y, kfold4, classes, est, method</div>
<div class="line"><span class="lineno"> 2017</span>        )</div>
<div class="line"><span class="lineno"> 2018</span>        assert_array_almost_equal(expected_predictions, predictions)</div>
<div class="line"><span class="lineno"> 2019</span> </div>
<div class="line"><span class="lineno"> 2020</span>        <span class="comment"># Testing unordered labels</span></div>
<div class="line"><span class="lineno"> 2021</span>        y = shuffle(np.repeat(range(10), 10), random_state=0)</div>
<div class="line"><span class="lineno"> 2022</span>        predictions = cross_val_predict(est, X, y, method=method, cv=kfold3)</div>
<div class="line"><span class="lineno"> 2023</span>        y = le.fit_transform(y)</div>
<div class="line"><span class="lineno"> 2024</span>        expected_predictions = get_expected_predictions(</div>
<div class="line"><span class="lineno"> 2025</span>            X, y, kfold3, classes, est, method</div>
<div class="line"><span class="lineno"> 2026</span>        )</div>
<div class="line"><span class="lineno"> 2027</span>        assert_array_almost_equal(expected_predictions, predictions)</div>
<div class="line"><span class="lineno"> 2028</span> </div>
<div class="line"><span class="lineno"> 2029</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a51c8f52278c3400d8592de269298b477" name="a51c8f52278c3400d8592de269298b477"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51c8f52278c3400d8592de269298b477">&#9670;&#160;</a></span>test_cross_val_predict_decision_function_shape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_decision_function_shape </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  961</span><span class="keyword">def </span>test_cross_val_predict_decision_function_shape():</div>
<div class="line"><span class="lineno">  962</span>    X, y = make_classification(n_classes=2, n_samples=50, random_state=0)</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>    preds = cross_val_predict(</div>
<div class="line"><span class="lineno">  965</span>        LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>), X, y, method=<span class="stringliteral">&quot;decision_function&quot;</span></div>
<div class="line"><span class="lineno">  966</span>    )</div>
<div class="line"><span class="lineno">  967</span>    <span class="keyword">assert</span> preds.shape == (50,)</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>    X, y = load_iris(return_X_y=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>    preds = cross_val_predict(</div>
<div class="line"><span class="lineno">  972</span>        LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>), X, y, method=<span class="stringliteral">&quot;decision_function&quot;</span></div>
<div class="line"><span class="lineno">  973</span>    )</div>
<div class="line"><span class="lineno">  974</span>    <span class="keyword">assert</span> preds.shape == (150, 3)</div>
<div class="line"><span class="lineno">  975</span> </div>
<div class="line"><span class="lineno">  976</span>    <span class="comment"># This specifically tests imbalanced splits for binary</span></div>
<div class="line"><span class="lineno">  977</span>    <span class="comment"># classification with decision_function. This is only</span></div>
<div class="line"><span class="lineno">  978</span>    <span class="comment"># applicable to classifiers that can be fit on a single</span></div>
<div class="line"><span class="lineno">  979</span>    <span class="comment"># class.</span></div>
<div class="line"><span class="lineno">  980</span>    X = X[:100]</div>
<div class="line"><span class="lineno">  981</span>    y = y[:100]</div>
<div class="line"><span class="lineno">  982</span>    error_message = (</div>
<div class="line"><span class="lineno">  983</span>        <span class="stringliteral">&quot;Only 1 class/es in training fold,&quot;</span></div>
<div class="line"><span class="lineno">  984</span>        <span class="stringliteral">&quot; but 2 in overall dataset. This&quot;</span></div>
<div class="line"><span class="lineno">  985</span>        <span class="stringliteral">&quot; is not supported for decision_function&quot;</span></div>
<div class="line"><span class="lineno">  986</span>        <span class="stringliteral">&quot; with imbalanced folds. To fix &quot;</span></div>
<div class="line"><span class="lineno">  987</span>        <span class="stringliteral">&quot;this, use a cross-validation technique &quot;</span></div>
<div class="line"><span class="lineno">  988</span>        <span class="stringliteral">&quot;resulting in properly stratified folds&quot;</span></div>
<div class="line"><span class="lineno">  989</span>    )</div>
<div class="line"><span class="lineno">  990</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message):</div>
<div class="line"><span class="lineno">  991</span>        cross_val_predict(</div>
<div class="line"><span class="lineno">  992</span>            RidgeClassifier(), X, y, method=<span class="stringliteral">&quot;decision_function&quot;</span>, cv=KFold(2)</div>
<div class="line"><span class="lineno">  993</span>        )</div>
<div class="line"><span class="lineno">  994</span> </div>
<div class="line"><span class="lineno">  995</span>    X, y = load_digits(return_X_y=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  996</span>    est = SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>, decision_function_shape=<span class="stringliteral">&quot;ovo&quot;</span>)</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span>    preds = cross_val_predict(est, X, y, method=<span class="stringliteral">&quot;decision_function&quot;</span>)</div>
<div class="line"><span class="lineno">  999</span>    <span class="keyword">assert</span> preds.shape == (1797, 45)</div>
<div class="line"><span class="lineno"> 1000</span> </div>
<div class="line"><span class="lineno"> 1001</span>    ind = np.argsort(y)</div>
<div class="line"><span class="lineno"> 1002</span>    X, y = X[ind], y[ind]</div>
<div class="line"><span class="lineno"> 1003</span>    error_message_regexp = (</div>
<div class="line"><span class="lineno"> 1004</span>        <span class="stringliteral">r&quot;Output shape \&zwj;(599L?, 21L?\&zwj;) of &quot;</span></div>
<div class="line"><span class="lineno"> 1005</span>        <span class="stringliteral">&quot;decision_function does not match number of &quot;</span></div>
<div class="line"><span class="lineno"> 1006</span>        <span class="stringliteral">r&quot;classes \&zwj;(7\&zwj;) in fold. Irregular &quot;</span></div>
<div class="line"><span class="lineno"> 1007</span>        <span class="stringliteral">&quot;decision_function .*&quot;</span></div>
<div class="line"><span class="lineno"> 1008</span>    )</div>
<div class="line"><span class="lineno"> 1009</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message_regexp):</div>
<div class="line"><span class="lineno"> 1010</span>        cross_val_predict(est, X, y, cv=KFold(n_splits=3), method=<span class="stringliteral">&quot;decision_function&quot;</span>)</div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9cf3759457ea1f64446fe48c4d97b613" name="a9cf3759457ea1f64446fe48c4d97b613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cf3759457ea1f64446fe48c4d97b613">&#9670;&#160;</a></span>test_cross_val_predict_input_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_input_types </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1045</span><span class="keyword">def </span>test_cross_val_predict_input_types():</div>
<div class="line"><span class="lineno"> 1046</span>    iris = load_iris()</div>
<div class="line"><span class="lineno"> 1047</span>    X, y = iris.data, iris.target</div>
<div class="line"><span class="lineno"> 1048</span>    X_sparse = coo_matrix(X)</div>
<div class="line"><span class="lineno"> 1049</span>    multioutput_y = np.column_stack([y, y[::-1]])</div>
<div class="line"><span class="lineno"> 1050</span> </div>
<div class="line"><span class="lineno"> 1051</span>    clf = Ridge(fit_intercept=<span class="keyword">False</span>, random_state=0)</div>
<div class="line"><span class="lineno"> 1052</span>    <span class="comment"># 3 fold cv is used --&gt; at least 3 samples per class</span></div>
<div class="line"><span class="lineno"> 1053</span>    <span class="comment"># Smoke test</span></div>
<div class="line"><span class="lineno"> 1054</span>    predictions = cross_val_predict(clf, X, y)</div>
<div class="line"><span class="lineno"> 1055</span>    <span class="keyword">assert</span> predictions.shape == (150,)</div>
<div class="line"><span class="lineno"> 1056</span> </div>
<div class="line"><span class="lineno"> 1057</span>    <span class="comment"># test with multioutput y</span></div>
<div class="line"><span class="lineno"> 1058</span>    predictions = cross_val_predict(clf, X_sparse, multioutput_y)</div>
<div class="line"><span class="lineno"> 1059</span>    <span class="keyword">assert</span> predictions.shape == (150, 2)</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>    predictions = cross_val_predict(clf, X_sparse, y)</div>
<div class="line"><span class="lineno"> 1062</span>    assert_array_equal(predictions.shape, (150,))</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>    <span class="comment"># test with multioutput y</span></div>
<div class="line"><span class="lineno"> 1065</span>    predictions = cross_val_predict(clf, X_sparse, multioutput_y)</div>
<div class="line"><span class="lineno"> 1066</span>    assert_array_equal(predictions.shape, (150, 2))</div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span>    <span class="comment"># test with X and y as list</span></div>
<div class="line"><span class="lineno"> 1069</span>    list_check = <span class="keyword">lambda</span> x: isinstance(x, list)</div>
<div class="line"><span class="lineno"> 1070</span>    clf = CheckingClassifier(check_X=list_check)</div>
<div class="line"><span class="lineno"> 1071</span>    predictions = cross_val_predict(clf, X.tolist(), y.tolist())</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span>    clf = CheckingClassifier(check_y=list_check)</div>
<div class="line"><span class="lineno"> 1074</span>    predictions = cross_val_predict(clf, X, y.tolist())</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>    <span class="comment"># test with X and y as list and non empty method</span></div>
<div class="line"><span class="lineno"> 1077</span>    predictions = cross_val_predict(</div>
<div class="line"><span class="lineno"> 1078</span>        LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>),</div>
<div class="line"><span class="lineno"> 1079</span>        X.tolist(),</div>
<div class="line"><span class="lineno"> 1080</span>        y.tolist(),</div>
<div class="line"><span class="lineno"> 1081</span>        method=<span class="stringliteral">&quot;decision_function&quot;</span>,</div>
<div class="line"><span class="lineno"> 1082</span>    )</div>
<div class="line"><span class="lineno"> 1083</span>    predictions = cross_val_predict(</div>
<div class="line"><span class="lineno"> 1084</span>        LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>),</div>
<div class="line"><span class="lineno"> 1085</span>        X,</div>
<div class="line"><span class="lineno"> 1086</span>        y.tolist(),</div>
<div class="line"><span class="lineno"> 1087</span>        method=<span class="stringliteral">&quot;decision_function&quot;</span>,</div>
<div class="line"><span class="lineno"> 1088</span>    )</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span>    <span class="comment"># test with 3d X and</span></div>
<div class="line"><span class="lineno"> 1091</span>    X_3d = X[:, :, np.newaxis]</div>
<div class="line"><span class="lineno"> 1092</span>    check_3d = <span class="keyword">lambda</span> x: x.ndim == 3</div>
<div class="line"><span class="lineno"> 1093</span>    clf = CheckingClassifier(check_X=check_3d)</div>
<div class="line"><span class="lineno"> 1094</span>    predictions = cross_val_predict(clf, X_3d, y)</div>
<div class="line"><span class="lineno"> 1095</span>    assert_array_equal(predictions.shape, (150,))</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span><span class="preprocessor">@pytest.mark.filterwarnings(&quot;ignore: Using or importing the ABCs from&quot;)</span></div>
<div class="line"><span class="lineno"> 1099</span><span class="comment"># python3.7 deprecation warnings in pandas via matplotlib :-/</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad910a436667e5120ebe4f2a535c44051" name="ad910a436667e5120ebe4f2a535c44051"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad910a436667e5120ebe4f2a535c44051">&#9670;&#160;</a></span>test_cross_val_predict_method_checking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_method_checking </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1872</span><span class="keyword">def </span>test_cross_val_predict_method_checking():</div>
<div class="line"><span class="lineno"> 1873</span>    <span class="comment"># Regression test for issue #9639. Tests that cross_val_predict does not</span></div>
<div class="line"><span class="lineno"> 1874</span>    <span class="comment"># check estimator methods (e.g. predict_proba) before fitting</span></div>
<div class="line"><span class="lineno"> 1875</span>    iris = load_iris()</div>
<div class="line"><span class="lineno"> 1876</span>    X, y = iris.data, iris.target</div>
<div class="line"><span class="lineno"> 1877</span>    X, y = shuffle(X, y, random_state=0)</div>
<div class="line"><span class="lineno"> 1878</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;decision_function&quot;</span>, <span class="stringliteral">&quot;predict_proba&quot;</span>, <span class="stringliteral">&quot;predict_log_proba&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1879</span>        est = SGDClassifier(loss=<span class="stringliteral">&quot;log_loss&quot;</span>, random_state=2)</div>
<div class="line"><span class="lineno"> 1880</span>        check_cross_val_predict_multiclass(est, X, y, method)</div>
<div class="line"><span class="lineno"> 1881</span> </div>
<div class="line"><span class="lineno"> 1882</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b4e82cfbfaaefb9efff4ae7c7ccad0e" name="a4b4e82cfbfaaefb9efff4ae7c7ccad0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b4e82cfbfaaefb9efff4ae7c7ccad0e">&#9670;&#160;</a></span>test_cross_val_predict_pandas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_pandas </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1100</span><span class="keyword">def </span>test_cross_val_predict_pandas():</div>
<div class="line"><span class="lineno"> 1101</span>    <span class="comment"># check cross_val_score doesn&#39;t destroy pandas dataframe</span></div>
<div class="line"><span class="lineno"> 1102</span>    types = [(MockDataFrame, MockDataFrame)]</div>
<div class="line"><span class="lineno"> 1103</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1104</span>        <span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</div>
<div class="line"><span class="lineno"> 1105</span> </div>
<div class="line"><span class="lineno"> 1106</span>        types.append((Series, DataFrame))</div>
<div class="line"><span class="lineno"> 1107</span>    <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno"> 1108</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1109</span>    <span class="keywordflow">for</span> TargetType, InputFeatureType <span class="keywordflow">in</span> types:</div>
<div class="line"><span class="lineno"> 1110</span>        <span class="comment"># X dataframe, y series</span></div>
<div class="line"><span class="lineno"> 1111</span>        X_df, y_ser = InputFeatureType(X), TargetType(y2)</div>
<div class="line"><span class="lineno"> 1112</span>        check_df = <span class="keyword">lambda</span> x: isinstance(x, InputFeatureType)</div>
<div class="line"><span class="lineno"> 1113</span>        check_series = <span class="keyword">lambda</span> x: isinstance(x, TargetType)</div>
<div class="line"><span class="lineno"> 1114</span>        clf = CheckingClassifier(check_X=check_df, check_y=check_series)</div>
<div class="line"><span class="lineno"> 1115</span>        cross_val_predict(clf, X_df, y_ser, cv=3)</div>
<div class="line"><span class="lineno"> 1116</span> </div>
<div class="line"><span class="lineno"> 1117</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac31eccf718859863a586cb23739d5510" name="ac31eccf718859863a586cb23739d5510"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac31eccf718859863a586cb23739d5510">&#9670;&#160;</a></span>test_cross_val_predict_predict_log_proba_shape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_predict_log_proba_shape </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1029</span><span class="keyword">def </span>test_cross_val_predict_predict_log_proba_shape():</div>
<div class="line"><span class="lineno"> 1030</span>    X, y = make_classification(n_classes=2, n_samples=50, random_state=0)</div>
<div class="line"><span class="lineno"> 1031</span> </div>
<div class="line"><span class="lineno"> 1032</span>    preds = cross_val_predict(</div>
<div class="line"><span class="lineno"> 1033</span>        LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>), X, y, method=<span class="stringliteral">&quot;predict_log_proba&quot;</span></div>
<div class="line"><span class="lineno"> 1034</span>    )</div>
<div class="line"><span class="lineno"> 1035</span>    <span class="keyword">assert</span> preds.shape == (50, 2)</div>
<div class="line"><span class="lineno"> 1036</span> </div>
<div class="line"><span class="lineno"> 1037</span>    X, y = load_iris(return_X_y=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>    preds = cross_val_predict(</div>
<div class="line"><span class="lineno"> 1040</span>        LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>), X, y, method=<span class="stringliteral">&quot;predict_log_proba&quot;</span></div>
<div class="line"><span class="lineno"> 1041</span>    )</div>
<div class="line"><span class="lineno"> 1042</span>    <span class="keyword">assert</span> preds.shape == (150, 3)</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a64558ad342ba25be200a510fc5b59875" name="a64558ad342ba25be200a510fc5b59875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64558ad342ba25be200a510fc5b59875">&#9670;&#160;</a></span>test_cross_val_predict_predict_proba_shape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_predict_proba_shape </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1013</span><span class="keyword">def </span>test_cross_val_predict_predict_proba_shape():</div>
<div class="line"><span class="lineno"> 1014</span>    X, y = make_classification(n_classes=2, n_samples=50, random_state=0)</div>
<div class="line"><span class="lineno"> 1015</span> </div>
<div class="line"><span class="lineno"> 1016</span>    preds = cross_val_predict(</div>
<div class="line"><span class="lineno"> 1017</span>        LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>), X, y, method=<span class="stringliteral">&quot;predict_proba&quot;</span></div>
<div class="line"><span class="lineno"> 1018</span>    )</div>
<div class="line"><span class="lineno"> 1019</span>    <span class="keyword">assert</span> preds.shape == (50, 2)</div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span>    X, y = load_iris(return_X_y=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1022</span> </div>
<div class="line"><span class="lineno"> 1023</span>    preds = cross_val_predict(</div>
<div class="line"><span class="lineno"> 1024</span>        LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>), X, y, method=<span class="stringliteral">&quot;predict_proba&quot;</span></div>
<div class="line"><span class="lineno"> 1025</span>    )</div>
<div class="line"><span class="lineno"> 1026</span>    <span class="keyword">assert</span> preds.shape == (150, 3)</div>
<div class="line"><span class="lineno"> 1027</span> </div>
<div class="line"><span class="lineno"> 1028</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a74d55fa2b1a3c4f3b9e6f7906c224397" name="a74d55fa2b1a3c4f3b9e6f7906c224397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74d55fa2b1a3c4f3b9e6f7906c224397">&#9670;&#160;</a></span>test_cross_val_predict_sparse_prediction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_sparse_prediction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1730</span><span class="keyword">def </span>test_cross_val_predict_sparse_prediction():</div>
<div class="line"><span class="lineno"> 1731</span>    <span class="comment"># check that cross_val_predict gives same result for sparse and dense input</span></div>
<div class="line"><span class="lineno"> 1732</span>    X, y = make_multilabel_classification(</div>
<div class="line"><span class="lineno"> 1733</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1734</span>        n_labels=1,</div>
<div class="line"><span class="lineno"> 1735</span>        allow_unlabeled=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1736</span>        return_indicator=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1737</span>        random_state=1,</div>
<div class="line"><span class="lineno"> 1738</span>    )</div>
<div class="line"><span class="lineno"> 1739</span>    X_sparse = csr_matrix(X)</div>
<div class="line"><span class="lineno"> 1740</span>    y_sparse = csr_matrix(y)</div>
<div class="line"><span class="lineno"> 1741</span>    classif = OneVsRestClassifier(SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>))</div>
<div class="line"><span class="lineno"> 1742</span>    preds = cross_val_predict(classif, X, y, cv=10)</div>
<div class="line"><span class="lineno"> 1743</span>    preds_sparse = cross_val_predict(classif, X_sparse, y_sparse, cv=10)</div>
<div class="line"><span class="lineno"> 1744</span>    preds_sparse = preds_sparse.toarray()</div>
<div class="line"><span class="lineno"> 1745</span>    assert_array_almost_equal(preds_sparse, preds)</div>
<div class="line"><span class="lineno"> 1746</span> </div>
<div class="line"><span class="lineno"> 1747</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6d29b93f00b9b9f33fc7566d9529a26" name="ae6d29b93f00b9b9f33fc7566d9529a26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6d29b93f00b9b9f33fc7566d9529a26">&#9670;&#160;</a></span>test_cross_val_predict_unbalanced()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_unbalanced </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1118</span><span class="keyword">def </span>test_cross_val_predict_unbalanced():</div>
<div class="line"><span class="lineno"> 1119</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1120</span>        n_samples=100,</div>
<div class="line"><span class="lineno"> 1121</span>        n_features=2,</div>
<div class="line"><span class="lineno"> 1122</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1123</span>        n_informative=2,</div>
<div class="line"><span class="lineno"> 1124</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1125</span>        random_state=1,</div>
<div class="line"><span class="lineno"> 1126</span>    )</div>
<div class="line"><span class="lineno"> 1127</span>    <span class="comment"># Change the first sample to a new class</span></div>
<div class="line"><span class="lineno"> 1128</span>    y[0] = 2</div>
<div class="line"><span class="lineno"> 1129</span>    clf = LogisticRegression(random_state=1, solver=<span class="stringliteral">&quot;liblinear&quot;</span>)</div>
<div class="line"><span class="lineno"> 1130</span>    cv = StratifiedKFold(n_splits=2)</div>
<div class="line"><span class="lineno"> 1131</span>    train, test = list(cv.split(X, y))</div>
<div class="line"><span class="lineno"> 1132</span>    yhat_proba = cross_val_predict(clf, X, y, cv=cv, method=<span class="stringliteral">&quot;predict_proba&quot;</span>)</div>
<div class="line"><span class="lineno"> 1133</span>    <span class="keyword">assert</span> y[test[0]][0] == 2  <span class="comment"># sanity check for further assertions</span></div>
<div class="line"><span class="lineno"> 1134</span>    <span class="keyword">assert</span> np.all(yhat_proba[test[0]][:, 2] == 0)</div>
<div class="line"><span class="lineno"> 1135</span>    <span class="keyword">assert</span> np.all(yhat_proba[test[0]][:, 0:1] &gt; 0)</div>
<div class="line"><span class="lineno"> 1136</span>    <span class="keyword">assert</span> np.all(yhat_proba[test[1]] &gt; 0)</div>
<div class="line"><span class="lineno"> 1137</span>    assert_array_almost_equal(yhat_proba.sum(axis=1), np.ones(y.shape), decimal=12)</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a135e55f4549a076f724950a930f719a1" name="a135e55f4549a076f724950a930f719a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a135e55f4549a076f724950a930f719a1">&#9670;&#160;</a></span>test_cross_val_predict_with_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_with_method </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1865</span><span class="keyword">def </span>test_cross_val_predict_with_method():</div>
<div class="line"><span class="lineno"> 1866</span>    check_cross_val_predict_with_method_binary(LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>))</div>
<div class="line"><span class="lineno"> 1867</span>    check_cross_val_predict_with_method_multiclass(</div>
<div class="line"><span class="lineno"> 1868</span>        LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>)</div>
<div class="line"><span class="lineno"> 1869</span>    )</div>
<div class="line"><span class="lineno"> 1870</span> </div>
<div class="line"><span class="lineno"> 1871</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a15284823974da473e1885cdcd33a1e57" name="a15284823974da473e1885cdcd33a1e57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15284823974da473e1885cdcd33a1e57">&#9670;&#160;</a></span>test_cross_val_predict_with_method_multilabel_ovr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_with_method_multilabel_ovr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1894</span><span class="keyword">def </span>test_cross_val_predict_with_method_multilabel_ovr():</div>
<div class="line"><span class="lineno"> 1895</span>    <span class="comment"># OVR does multilabel predictions, but only arrays of</span></div>
<div class="line"><span class="lineno"> 1896</span>    <span class="comment"># binary indicator columns. The output of predict_proba</span></div>
<div class="line"><span class="lineno"> 1897</span>    <span class="comment"># is a 2D array with shape (n_samples, n_classes).</span></div>
<div class="line"><span class="lineno"> 1898</span>    n_samp = 100</div>
<div class="line"><span class="lineno"> 1899</span>    n_classes = 4</div>
<div class="line"><span class="lineno"> 1900</span>    X, y = make_multilabel_classification(</div>
<div class="line"><span class="lineno"> 1901</span>        n_samples=n_samp, n_labels=3, n_classes=n_classes, n_features=5, random_state=42</div>
<div class="line"><span class="lineno"> 1902</span>    )</div>
<div class="line"><span class="lineno"> 1903</span>    est = OneVsRestClassifier(LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>, random_state=0))</div>
<div class="line"><span class="lineno"> 1904</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;predict_proba&quot;</span>, <span class="stringliteral">&quot;decision_function&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1905</span>        check_cross_val_predict_binary(est, X, y, method=method)</div>
<div class="line"><span class="lineno"> 1906</span> </div>
<div class="line"><span class="lineno"> 1907</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aac4380f48226a0819709ba19adc305c3" name="aac4380f48226a0819709ba19adc305c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac4380f48226a0819709ba19adc305c3">&#9670;&#160;</a></span>test_cross_val_predict_with_method_multilabel_rf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_with_method_multilabel_rf </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1920</span><span class="keyword">def </span>test_cross_val_predict_with_method_multilabel_rf():</div>
<div class="line"><span class="lineno"> 1921</span>    <span class="comment"># The RandomForest allows multiple classes in each label.</span></div>
<div class="line"><span class="lineno"> 1922</span>    <span class="comment"># Output of predict_proba is a list of outputs of predict_proba</span></div>
<div class="line"><span class="lineno"> 1923</span>    <span class="comment"># for each individual label.</span></div>
<div class="line"><span class="lineno"> 1924</span>    n_classes = 4</div>
<div class="line"><span class="lineno"> 1925</span>    X, y = make_multilabel_classification(</div>
<div class="line"><span class="lineno"> 1926</span>        n_samples=100, n_labels=3, n_classes=n_classes, n_features=5, random_state=42</div>
<div class="line"><span class="lineno"> 1927</span>    )</div>
<div class="line"><span class="lineno"> 1928</span>    y[:, 0] += y[:, 1]  <span class="comment"># Put three classes in the first column</span></div>
<div class="line"><span class="lineno"> 1929</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;predict_proba&quot;</span>, <span class="stringliteral">&quot;predict_log_proba&quot;</span>, <span class="stringliteral">&quot;decision_function&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1930</span>        est = RFWithDecisionFunction(n_estimators=5, random_state=0)</div>
<div class="line"><span class="lineno"> 1931</span>        <span class="keyword">with</span> warnings.catch_warnings():</div>
<div class="line"><span class="lineno"> 1932</span>            <span class="comment"># Suppress &quot;RuntimeWarning: divide by zero encountered in log&quot;</span></div>
<div class="line"><span class="lineno"> 1933</span>            warnings.simplefilter(<span class="stringliteral">&quot;ignore&quot;</span>)</div>
<div class="line"><span class="lineno"> 1934</span>            check_cross_val_predict_multilabel(est, X, y, method=method)</div>
<div class="line"><span class="lineno"> 1935</span> </div>
<div class="line"><span class="lineno"> 1936</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a23bb31fafd603ff5d539a536bf7583f3" name="a23bb31fafd603ff5d539a536bf7583f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23bb31fafd603ff5d539a536bf7583f3">&#9670;&#160;</a></span>test_cross_val_predict_with_method_multilabel_rf_rare_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_with_method_multilabel_rf_rare_class </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1951</span><span class="keyword">def </span>test_cross_val_predict_with_method_multilabel_rf_rare_class():</div>
<div class="line"><span class="lineno"> 1952</span>    <span class="comment"># The RandomForest allows anything for the contents of the labels.</span></div>
<div class="line"><span class="lineno"> 1953</span>    <span class="comment"># Output of predict_proba is a list of outputs of predict_proba</span></div>
<div class="line"><span class="lineno"> 1954</span>    <span class="comment"># for each individual label.</span></div>
<div class="line"><span class="lineno"> 1955</span>    <span class="comment"># In this test, the first label has a class with a single example.</span></div>
<div class="line"><span class="lineno"> 1956</span>    <span class="comment"># We&#39;ll have one CV fold where the training data don&#39;t include it.</span></div>
<div class="line"><span class="lineno"> 1957</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1958</span>    X = rng.normal(0, 1, size=(5, 10))</div>
<div class="line"><span class="lineno"> 1959</span>    y = np.array([[0, 0], [1, 1], [2, 1], [0, 1], [1, 0]])</div>
<div class="line"><span class="lineno"> 1960</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;predict_proba&quot;</span>, <span class="stringliteral">&quot;predict_log_proba&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1961</span>        est = RFWithDecisionFunction(n_estimators=5, random_state=0)</div>
<div class="line"><span class="lineno"> 1962</span>        <span class="keyword">with</span> warnings.catch_warnings():</div>
<div class="line"><span class="lineno"> 1963</span>            <span class="comment"># Suppress &quot;RuntimeWarning: divide by zero encountered in log&quot;</span></div>
<div class="line"><span class="lineno"> 1964</span>            warnings.simplefilter(<span class="stringliteral">&quot;ignore&quot;</span>)</div>
<div class="line"><span class="lineno"> 1965</span>            check_cross_val_predict_multilabel(est, X, y, method=method)</div>
<div class="line"><span class="lineno"> 1966</span> </div>
<div class="line"><span class="lineno"> 1967</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a06dce04ddd552fdf244811df33c741dc" name="a06dce04ddd552fdf244811df33c741dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06dce04ddd552fdf244811df33c741dc">&#9670;&#160;</a></span>test_cross_val_predict_with_method_rare_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_with_method_rare_class </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1937</span><span class="keyword">def </span>test_cross_val_predict_with_method_rare_class():</div>
<div class="line"><span class="lineno"> 1938</span>    <span class="comment"># Test a multiclass problem where one class will be missing from</span></div>
<div class="line"><span class="lineno"> 1939</span>    <span class="comment"># one of the CV training sets.</span></div>
<div class="line"><span class="lineno"> 1940</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1941</span>    X = rng.normal(0, 1, size=(14, 10))</div>
<div class="line"><span class="lineno"> 1942</span>    y = np.array([0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 1, 2, 0, 3])</div>
<div class="line"><span class="lineno"> 1943</span>    est = LogisticRegression(solver=<span class="stringliteral">&quot;liblinear&quot;</span>)</div>
<div class="line"><span class="lineno"> 1944</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;predict_proba&quot;</span>, <span class="stringliteral">&quot;predict_log_proba&quot;</span>, <span class="stringliteral">&quot;decision_function&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1945</span>        <span class="keyword">with</span> warnings.catch_warnings():</div>
<div class="line"><span class="lineno"> 1946</span>            <span class="comment"># Suppress warning about too few examples of a class</span></div>
<div class="line"><span class="lineno"> 1947</span>            warnings.simplefilter(<span class="stringliteral">&quot;ignore&quot;</span>)</div>
<div class="line"><span class="lineno"> 1948</span>            check_cross_val_predict_multiclass(est, X, y, method)</div>
<div class="line"><span class="lineno"> 1949</span> </div>
<div class="line"><span class="lineno"> 1950</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac59680ee576f1cf148c2eaa2082051ad" name="ac59680ee576f1cf148c2eaa2082051ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac59680ee576f1cf148c2eaa2082051ad">&#9670;&#160;</a></span>test_cross_val_predict_y_none()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_predict_y_none </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1140</span><span class="keyword">def </span>test_cross_val_predict_y_none():</div>
<div class="line"><span class="lineno"> 1141</span>    <span class="comment"># ensure that cross_val_predict works when y is None</span></div>
<div class="line"><span class="lineno"> 1142</span>    mock_classifier = MockClassifier()</div>
<div class="line"><span class="lineno"> 1143</span>    rng = np.random.RandomState(42)</div>
<div class="line"><span class="lineno"> 1144</span>    X = rng.rand(100, 10)</div>
<div class="line"><span class="lineno"> 1145</span>    y_hat = cross_val_predict(mock_classifier, X, y=<span class="keywordtype">None</span>, cv=5, method=<span class="stringliteral">&quot;predict&quot;</span>)</div>
<div class="line"><span class="lineno"> 1146</span>    assert_allclose(X[:, 0], y_hat)</div>
<div class="line"><span class="lineno"> 1147</span>    y_hat_proba = cross_val_predict(</div>
<div class="line"><span class="lineno"> 1148</span>        mock_classifier, X, y=<span class="keywordtype">None</span>, cv=5, method=<span class="stringliteral">&quot;predict_proba&quot;</span></div>
<div class="line"><span class="lineno"> 1149</span>    )</div>
<div class="line"><span class="lineno"> 1150</span>    assert_allclose(X, y_hat_proba)</div>
<div class="line"><span class="lineno"> 1151</span> </div>
<div class="line"><span class="lineno"> 1152</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adea8c3bee8a54da5269b5d7034674bbf" name="adea8c3bee8a54da5269b5d7034674bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adea8c3bee8a54da5269b5d7034674bbf">&#9670;&#160;</a></span>test_cross_val_score()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  274</span><span class="keyword">def </span>test_cross_val_score():</div>
<div class="line"><span class="lineno">  275</span>    clf = MockClassifier()</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>    <span class="keywordflow">for</span> a <span class="keywordflow">in</span> range(-10, 10):</div>
<div class="line"><span class="lineno">  278</span>        clf.a = a</div>
<div class="line"><span class="lineno">  279</span>        <span class="comment"># Smoke test</span></div>
<div class="line"><span class="lineno">  280</span>        scores = cross_val_score(clf, X, y2)</div>
<div class="line"><span class="lineno">  281</span>        assert_array_equal(scores, clf.score(X, y2))</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>        <span class="comment"># test with multioutput y</span></div>
<div class="line"><span class="lineno">  284</span>        multioutput_y = np.column_stack([y2, y2[::-1]])</div>
<div class="line"><span class="lineno">  285</span>        scores = cross_val_score(clf, X_sparse, multioutput_y)</div>
<div class="line"><span class="lineno">  286</span>        assert_array_equal(scores, clf.score(X_sparse, multioutput_y))</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>        scores = cross_val_score(clf, X_sparse, y2)</div>
<div class="line"><span class="lineno">  289</span>        assert_array_equal(scores, clf.score(X_sparse, y2))</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>        <span class="comment"># test with multioutput y</span></div>
<div class="line"><span class="lineno">  292</span>        scores = cross_val_score(clf, X_sparse, multioutput_y)</div>
<div class="line"><span class="lineno">  293</span>        assert_array_equal(scores, clf.score(X_sparse, multioutput_y))</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>    <span class="comment"># test with X and y as list</span></div>
<div class="line"><span class="lineno">  296</span>    list_check = <span class="keyword">lambda</span> x: isinstance(x, list)</div>
<div class="line"><span class="lineno">  297</span>    clf = CheckingClassifier(check_X=list_check)</div>
<div class="line"><span class="lineno">  298</span>    scores = cross_val_score(clf, X.tolist(), y2.tolist(), cv=3)</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    clf = CheckingClassifier(check_y=list_check)</div>
<div class="line"><span class="lineno">  301</span>    scores = cross_val_score(clf, X, y2.tolist(), cv=3)</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  304</span>        cross_val_score(clf, X, y2, scoring=<span class="stringliteral">&quot;sklearn&quot;</span>)</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>    <span class="comment"># test with 3d X and</span></div>
<div class="line"><span class="lineno">  307</span>    X_3d = X[:, :, np.newaxis]</div>
<div class="line"><span class="lineno">  308</span>    clf = MockClassifier(allow_nd=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  309</span>    scores = cross_val_score(clf, X_3d, y2)</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    clf = MockClassifier(allow_nd=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  312</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  313</span>        cross_val_score(clf, X_3d, y2, error_score=<span class="stringliteral">&quot;raise&quot;</span>)</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a781e25cb51cf127e6f3063be72d87b79" name="a781e25cb51cf127e6f3063be72d87b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a781e25cb51cf127e6f3063be72d87b79">&#9670;&#160;</a></span>test_cross_val_score_allow_nans()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_allow_nans </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  861</span><span class="keyword">def </span>test_cross_val_score_allow_nans():</div>
<div class="line"><span class="lineno">  862</span>    <span class="comment"># Check that cross_val_score allows input data with NaNs</span></div>
<div class="line"><span class="lineno">  863</span>    X = np.arange(200, dtype=np.float64).reshape(10, -1)</div>
<div class="line"><span class="lineno">  864</span>    X[2, :] = np.nan</div>
<div class="line"><span class="lineno">  865</span>    y = np.repeat([0, 1], X.shape[0] / 2)</div>
<div class="line"><span class="lineno">  866</span>    p = Pipeline(</div>
<div class="line"><span class="lineno">  867</span>        [</div>
<div class="line"><span class="lineno">  868</span>            (<span class="stringliteral">&quot;imputer&quot;</span>, SimpleImputer(strategy=<span class="stringliteral">&quot;mean&quot;</span>, missing_values=np.nan)),</div>
<div class="line"><span class="lineno">  869</span>            (<span class="stringliteral">&quot;classifier&quot;</span>, MockClassifier()),</div>
<div class="line"><span class="lineno">  870</span>        ]</div>
<div class="line"><span class="lineno">  871</span>    )</div>
<div class="line"><span class="lineno">  872</span>    cross_val_score(p, X, y)</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5ec9e447c5aa52baa0b04bb72e2b696" name="aa5ec9e447c5aa52baa0b04bb72e2b696"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5ec9e447c5aa52baa0b04bb72e2b696">&#9670;&#160;</a></span>test_cross_val_score_errors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_errors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  715</span><span class="keyword">def </span>test_cross_val_score_errors():</div>
<div class="line"><span class="lineno">  716</span>    <span class="keyword">class </span>BrokenEstimator:</div>
<div class="line"><span class="lineno">  717</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>    <span class="keyword">with</span> pytest.raises(TypeError):</div>
<div class="line"><span class="lineno">  720</span>        cross_val_score(BrokenEstimator(), X)</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e002bfcd396d072db728cd59a951f9d" name="a0e002bfcd396d072db728cd59a951f9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e002bfcd396d072db728cd59a951f9d">&#9670;&#160;</a></span>test_cross_val_score_failing_scorer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_failing_scorer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error_score</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2202</span><span class="keyword">def </span>test_cross_val_score_failing_scorer(error_score):</div>
<div class="line"><span class="lineno"> 2203</span>    <span class="comment"># check that an estimator can fail during scoring in `cross_val_score` and</span></div>
<div class="line"><span class="lineno"> 2204</span>    <span class="comment"># that we can optionally replaced it with `error_score`</span></div>
<div class="line"><span class="lineno"> 2205</span>    X, y = load_iris(return_X_y=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 2206</span>    clf = LogisticRegression(max_iter=5).fit(X, y)</div>
<div class="line"><span class="lineno"> 2207</span> </div>
<div class="line"><span class="lineno"> 2208</span>    error_msg = <span class="stringliteral">&quot;This scorer is supposed to fail!!!&quot;</span></div>
<div class="line"><span class="lineno"> 2209</span>    failing_scorer = partial(_failing_scorer, error_msg=error_msg)</div>
<div class="line"><span class="lineno"> 2210</span> </div>
<div class="line"><span class="lineno"> 2211</span>    <span class="keywordflow">if</span> error_score == <span class="stringliteral">&quot;raise&quot;</span>:</div>
<div class="line"><span class="lineno"> 2212</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=error_msg):</div>
<div class="line"><span class="lineno"> 2213</span>            cross_val_score(</div>
<div class="line"><span class="lineno"> 2214</span>                clf, X, y, cv=3, scoring=failing_scorer, error_score=error_score</div>
<div class="line"><span class="lineno"> 2215</span>            )</div>
<div class="line"><span class="lineno"> 2216</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2217</span>        warning_msg = (</div>
<div class="line"><span class="lineno"> 2218</span>            <span class="stringliteral">&quot;Scoring failed. The score on this train-test partition for &quot;</span></div>
<div class="line"><span class="lineno"> 2219</span>            f<span class="stringliteral">&quot;these parameters will be set to {error_score}&quot;</span></div>
<div class="line"><span class="lineno"> 2220</span>        )</div>
<div class="line"><span class="lineno"> 2221</span>        <span class="keyword">with</span> pytest.warns(UserWarning, match=warning_msg):</div>
<div class="line"><span class="lineno"> 2222</span>            scores = cross_val_score(</div>
<div class="line"><span class="lineno"> 2223</span>                clf, X, y, cv=3, scoring=failing_scorer, error_score=error_score</div>
<div class="line"><span class="lineno"> 2224</span>            )</div>
<div class="line"><span class="lineno"> 2225</span>            assert_allclose(scores, error_score)</div>
<div class="line"><span class="lineno"> 2226</span> </div>
<div class="line"><span class="lineno"> 2227</span> </div>
<div class="line"><span class="lineno"> 2228</span><span class="preprocessor">@pytest.mark.filterwarnings(&quot;ignore:lbfgs failed to converge&quot;)</span></div>
<div class="line"><span class="lineno"> 2229</span><span class="preprocessor">@pytest.mark.parametrize(&quot;error_score&quot;, [np.nan, 0, &quot;raise&quot;])</span></div>
<div class="line"><span class="lineno"> 2230</span><span class="preprocessor">@pytest.mark.parametrize(&quot;return_train_score&quot;, [True, False])</span></div>
<div class="line"><span class="lineno"> 2231</span><span class="preprocessor">@pytest.mark.parametrize(&quot;with_multimetric&quot;, [False, True])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af60efdf68f47d4da8ba15a26f779e577" name="af60efdf68f47d4da8ba15a26f779e577"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af60efdf68f47d4da8ba15a26f779e577">&#9670;&#160;</a></span>test_cross_val_score_fit_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_fit_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  664</span><span class="keyword">def </span>test_cross_val_score_fit_params():</div>
<div class="line"><span class="lineno">  665</span>    clf = MockClassifier()</div>
<div class="line"><span class="lineno">  666</span>    n_samples = X.shape[0]</div>
<div class="line"><span class="lineno">  667</span>    n_classes = len(np.unique(y))</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>    W_sparse = coo_matrix(</div>
<div class="line"><span class="lineno">  670</span>        (np.array([1]), (np.array([1]), np.array([0]))), shape=(10, 1)</div>
<div class="line"><span class="lineno">  671</span>    )</div>
<div class="line"><span class="lineno">  672</span>    P_sparse = coo_matrix(np.eye(5))</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>    DUMMY_INT = 42</div>
<div class="line"><span class="lineno">  675</span>    DUMMY_STR = <span class="stringliteral">&quot;42&quot;</span></div>
<div class="line"><span class="lineno">  676</span>    DUMMY_OBJ = object()</div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>    <span class="keyword">def </span>assert_fit_params(clf):</div>
<div class="line"><span class="lineno">  679</span>        <span class="comment"># Function to test that the values are passed correctly to the</span></div>
<div class="line"><span class="lineno">  680</span>        <span class="comment"># classifier arguments for non-array type</span></div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>        <span class="keyword">assert</span> clf.dummy_int == DUMMY_INT</div>
<div class="line"><span class="lineno">  683</span>        <span class="keyword">assert</span> clf.dummy_str == DUMMY_STR</div>
<div class="line"><span class="lineno">  684</span>        <span class="keyword">assert</span> clf.dummy_obj == DUMMY_OBJ</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>    fit_params = {</div>
<div class="line"><span class="lineno">  687</span>        <span class="stringliteral">&quot;sample_weight&quot;</span>: np.ones(n_samples),</div>
<div class="line"><span class="lineno">  688</span>        <span class="stringliteral">&quot;class_prior&quot;</span>: np.full(n_classes, 1.0 / n_classes),</div>
<div class="line"><span class="lineno">  689</span>        <span class="stringliteral">&quot;sparse_sample_weight&quot;</span>: W_sparse,</div>
<div class="line"><span class="lineno">  690</span>        <span class="stringliteral">&quot;sparse_param&quot;</span>: P_sparse,</div>
<div class="line"><span class="lineno">  691</span>        <span class="stringliteral">&quot;dummy_int&quot;</span>: DUMMY_INT,</div>
<div class="line"><span class="lineno">  692</span>        <span class="stringliteral">&quot;dummy_str&quot;</span>: DUMMY_STR,</div>
<div class="line"><span class="lineno">  693</span>        <span class="stringliteral">&quot;dummy_obj&quot;</span>: DUMMY_OBJ,</div>
<div class="line"><span class="lineno">  694</span>        <span class="stringliteral">&quot;callback&quot;</span>: assert_fit_params,</div>
<div class="line"><span class="lineno">  695</span>    }</div>
<div class="line"><span class="lineno">  696</span>    cross_val_score(clf, X, y, fit_params=fit_params)</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a425d4a0aec4b4564137a00c3a32af752" name="a425d4a0aec4b4564137a00c3a32af752"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a425d4a0aec4b4564137a00c3a32af752">&#9670;&#160;</a></span>test_cross_val_score_mask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_mask </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  618</span><span class="keyword">def </span>test_cross_val_score_mask():</div>
<div class="line"><span class="lineno">  619</span>    <span class="comment"># test that cross_val_score works with boolean masks</span></div>
<div class="line"><span class="lineno">  620</span>    svm = SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>)</div>
<div class="line"><span class="lineno">  621</span>    iris = load_iris()</div>
<div class="line"><span class="lineno">  622</span>    X, y = iris.data, iris.target</div>
<div class="line"><span class="lineno">  623</span>    kfold = KFold(5)</div>
<div class="line"><span class="lineno">  624</span>    scores_indices = cross_val_score(svm, X, y, cv=kfold)</div>
<div class="line"><span class="lineno">  625</span>    kfold = KFold(5)</div>
<div class="line"><span class="lineno">  626</span>    cv_masks = []</div>
<div class="line"><span class="lineno">  627</span>    <span class="keywordflow">for</span> train, test <span class="keywordflow">in</span> kfold.split(X, y):</div>
<div class="line"><span class="lineno">  628</span>        mask_train = np.zeros(len(y), dtype=bool)</div>
<div class="line"><span class="lineno">  629</span>        mask_test = np.zeros(len(y), dtype=bool)</div>
<div class="line"><span class="lineno">  630</span>        mask_train[train] = 1</div>
<div class="line"><span class="lineno">  631</span>        mask_test[test] = 1</div>
<div class="line"><span class="lineno">  632</span>        cv_masks.append((train, test))</div>
<div class="line"><span class="lineno">  633</span>    scores_masks = cross_val_score(svm, X, y, cv=cv_masks)</div>
<div class="line"><span class="lineno">  634</span>    assert_array_equal(scores_indices, scores_masks)</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6cc8bc225d0806a179fa9f947f145749" name="a6cc8bc225d0806a179fa9f947f145749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cc8bc225d0806a179fa9f947f145749">&#9670;&#160;</a></span>test_cross_val_score_multilabel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_multilabel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  875</span><span class="keyword">def </span>test_cross_val_score_multilabel():</div>
<div class="line"><span class="lineno">  876</span>    X = np.array(</div>
<div class="line"><span class="lineno">  877</span>        [</div>
<div class="line"><span class="lineno">  878</span>            [-3, 4],</div>
<div class="line"><span class="lineno">  879</span>            [2, 4],</div>
<div class="line"><span class="lineno">  880</span>            [3, 3],</div>
<div class="line"><span class="lineno">  881</span>            [0, 2],</div>
<div class="line"><span class="lineno">  882</span>            [-3, 1],</div>
<div class="line"><span class="lineno">  883</span>            [-2, 1],</div>
<div class="line"><span class="lineno">  884</span>            [0, 0],</div>
<div class="line"><span class="lineno">  885</span>            [-2, -1],</div>
<div class="line"><span class="lineno">  886</span>            [-1, -2],</div>
<div class="line"><span class="lineno">  887</span>            [1, -2],</div>
<div class="line"><span class="lineno">  888</span>        ]</div>
<div class="line"><span class="lineno">  889</span>    )</div>
<div class="line"><span class="lineno">  890</span>    y = np.array(</div>
<div class="line"><span class="lineno">  891</span>        [[1, 1], [0, 1], [0, 1], [0, 1], [1, 1], [0, 1], [1, 0], [1, 1], [1, 0], [0, 0]]</div>
<div class="line"><span class="lineno">  892</span>    )</div>
<div class="line"><span class="lineno">  893</span>    clf = KNeighborsClassifier(n_neighbors=1)</div>
<div class="line"><span class="lineno">  894</span>    scoring_micro = make_scorer(precision_score, average=<span class="stringliteral">&quot;micro&quot;</span>)</div>
<div class="line"><span class="lineno">  895</span>    scoring_macro = make_scorer(precision_score, average=<span class="stringliteral">&quot;macro&quot;</span>)</div>
<div class="line"><span class="lineno">  896</span>    scoring_samples = make_scorer(precision_score, average=<span class="stringliteral">&quot;samples&quot;</span>)</div>
<div class="line"><span class="lineno">  897</span>    score_micro = cross_val_score(clf, X, y, scoring=scoring_micro)</div>
<div class="line"><span class="lineno">  898</span>    score_macro = cross_val_score(clf, X, y, scoring=scoring_macro)</div>
<div class="line"><span class="lineno">  899</span>    score_samples = cross_val_score(clf, X, y, scoring=scoring_samples)</div>
<div class="line"><span class="lineno">  900</span>    assert_almost_equal(score_micro, [1, 1 / 2, 3 / 4, 1 / 2, 1 / 3])</div>
<div class="line"><span class="lineno">  901</span>    assert_almost_equal(score_macro, [1, 1 / 2, 3 / 4, 1 / 2, 1 / 4])</div>
<div class="line"><span class="lineno">  902</span>    assert_almost_equal(score_samples, [1, 1 / 2, 3 / 4, 1 / 2, 1 / 4])</div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a37d99d89a7b46bfda2fa51a7f563ac56" name="a37d99d89a7b46bfda2fa51a7f563ac56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37d99d89a7b46bfda2fa51a7f563ac56">&#9670;&#160;</a></span>test_cross_val_score_pandas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_pandas </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  599</span><span class="keyword">def </span>test_cross_val_score_pandas():</div>
<div class="line"><span class="lineno">  600</span>    <span class="comment"># check cross_val_score doesn&#39;t destroy pandas dataframe</span></div>
<div class="line"><span class="lineno">  601</span>    types = [(MockDataFrame, MockDataFrame)]</div>
<div class="line"><span class="lineno">  602</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  603</span>        <span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>        types.append((Series, DataFrame))</div>
<div class="line"><span class="lineno">  606</span>    <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno">  607</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  608</span>    <span class="keywordflow">for</span> TargetType, InputFeatureType <span class="keywordflow">in</span> types:</div>
<div class="line"><span class="lineno">  609</span>        <span class="comment"># X dataframe, y series</span></div>
<div class="line"><span class="lineno">  610</span>        <span class="comment"># 3 fold cross val is used so we need at least 3 samples per class</span></div>
<div class="line"><span class="lineno">  611</span>        X_df, y_ser = InputFeatureType(X), TargetType(y2)</div>
<div class="line"><span class="lineno">  612</span>        check_df = <span class="keyword">lambda</span> x: isinstance(x, InputFeatureType)</div>
<div class="line"><span class="lineno">  613</span>        check_series = <span class="keyword">lambda</span> x: isinstance(x, TargetType)</div>
<div class="line"><span class="lineno">  614</span>        clf = CheckingClassifier(check_X=check_df, check_y=check_series)</div>
<div class="line"><span class="lineno">  615</span>        cross_val_score(clf, X_df, y_ser, cv=3)</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aecf9ecf33ac984c5f4a96c5d5ab32166" name="aecf9ecf33ac984c5f4a96c5d5ab32166"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aecf9ecf33ac984c5f4a96c5d5ab32166">&#9670;&#160;</a></span>test_cross_val_score_precomputed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_precomputed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  637</span><span class="keyword">def </span>test_cross_val_score_precomputed():</div>
<div class="line"><span class="lineno">  638</span>    <span class="comment"># test for svm with precomputed kernel</span></div>
<div class="line"><span class="lineno">  639</span>    svm = SVC(kernel=<span class="stringliteral">&quot;precomputed&quot;</span>)</div>
<div class="line"><span class="lineno">  640</span>    iris = load_iris()</div>
<div class="line"><span class="lineno">  641</span>    X, y = iris.data, iris.target</div>
<div class="line"><span class="lineno">  642</span>    linear_kernel = np.dot(X, X.T)</div>
<div class="line"><span class="lineno">  643</span>    score_precomputed = cross_val_score(svm, linear_kernel, y)</div>
<div class="line"><span class="lineno">  644</span>    svm = SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>)</div>
<div class="line"><span class="lineno">  645</span>    score_linear = cross_val_score(svm, X, y)</div>
<div class="line"><span class="lineno">  646</span>    assert_array_almost_equal(score_precomputed, score_linear)</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>    <span class="comment"># test with callable</span></div>
<div class="line"><span class="lineno">  649</span>    svm = SVC(kernel=<span class="keyword">lambda</span> x, y: np.dot(x, y.T))</div>
<div class="line"><span class="lineno">  650</span>    score_callable = cross_val_score(svm, X, y)</div>
<div class="line"><span class="lineno">  651</span>    assert_array_almost_equal(score_precomputed, score_callable)</div>
<div class="line"><span class="lineno">  652</span> </div>
<div class="line"><span class="lineno">  653</span>    <span class="comment"># Error raised for non-square X</span></div>
<div class="line"><span class="lineno">  654</span>    svm = SVC(kernel=<span class="stringliteral">&quot;precomputed&quot;</span>)</div>
<div class="line"><span class="lineno">  655</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  656</span>        cross_val_score(svm, X, y)</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>    <span class="comment"># test error is raised when the precomputed kernel is not array-like</span></div>
<div class="line"><span class="lineno">  659</span>    <span class="comment"># or sparse</span></div>
<div class="line"><span class="lineno">  660</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  661</span>        cross_val_score(svm, linear_kernel.tolist(), y)</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c60a0f30c6728f3662594363538d64d" name="a4c60a0f30c6728f3662594363538d64d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c60a0f30c6728f3662594363538d64d">&#9670;&#160;</a></span>test_cross_val_score_predict_groups()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_predict_groups </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  576</span><span class="keyword">def </span>test_cross_val_score_predict_groups():</div>
<div class="line"><span class="lineno">  577</span>    <span class="comment"># Check if ValueError (when groups is None) propagates to cross_val_score</span></div>
<div class="line"><span class="lineno">  578</span>    <span class="comment"># and cross_val_predict</span></div>
<div class="line"><span class="lineno">  579</span>    <span class="comment"># And also check if groups is correctly passed to the cv object</span></div>
<div class="line"><span class="lineno">  580</span>    X, y = make_classification(n_samples=20, n_classes=2, random_state=0)</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>    clf = SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>)</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>    group_cvs = [</div>
<div class="line"><span class="lineno">  585</span>        LeaveOneGroupOut(),</div>
<div class="line"><span class="lineno">  586</span>        LeavePGroupsOut(2),</div>
<div class="line"><span class="lineno">  587</span>        GroupKFold(),</div>
<div class="line"><span class="lineno">  588</span>        GroupShuffleSplit(),</div>
<div class="line"><span class="lineno">  589</span>    ]</div>
<div class="line"><span class="lineno">  590</span>    error_message = <span class="stringliteral">&quot;The &#39;groups&#39; parameter should not be None.&quot;</span></div>
<div class="line"><span class="lineno">  591</span>    <span class="keywordflow">for</span> cv <span class="keywordflow">in</span> group_cvs:</div>
<div class="line"><span class="lineno">  592</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=error_message):</div>
<div class="line"><span class="lineno">  593</span>            cross_val_score(estimator=clf, X=X, y=y, cv=cv)</div>
<div class="line"><span class="lineno">  594</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=error_message):</div>
<div class="line"><span class="lineno">  595</span>            cross_val_predict(estimator=clf, X=X, y=y, cv=cv)</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span> </div>
<div class="line"><span class="lineno">  598</span><span class="preprocessor">@pytest.mark.filterwarnings(&quot;ignore: Using or importing the ABCs from&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a931ea1ebcfd7387449b1443f3e101853" name="a931ea1ebcfd7387449b1443f3e101853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a931ea1ebcfd7387449b1443f3e101853">&#9670;&#160;</a></span>test_cross_val_score_score_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_score_func </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  699</span><span class="keyword">def </span>test_cross_val_score_score_func():</div>
<div class="line"><span class="lineno">  700</span>    clf = MockClassifier()</div>
<div class="line"><span class="lineno">  701</span>    _score_func_args = []</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>    <span class="keyword">def </span>score_func(y_test, y_predict):</div>
<div class="line"><span class="lineno">  704</span>        _score_func_args.append((y_test, y_predict))</div>
<div class="line"><span class="lineno">  705</span>        <span class="keywordflow">return</span> 1.0</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>    <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno">  708</span>        scoring = make_scorer(score_func)</div>
<div class="line"><span class="lineno">  709</span>        score = cross_val_score(clf, X, y, scoring=scoring, cv=3)</div>
<div class="line"><span class="lineno">  710</span>    assert_array_equal(score, [1.0, 1.0, 1.0])</div>
<div class="line"><span class="lineno">  711</span>    <span class="comment"># Test that score function is called only 3 times (for cv=3)</span></div>
<div class="line"><span class="lineno">  712</span>    <span class="keyword">assert</span> len(_score_func_args) == 3</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a21446041dd8ea82d39cf4c09f3bab9ac" name="a21446041dd8ea82d39cf4c09f3bab9ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21446041dd8ea82d39cf4c09f3bab9ac">&#9670;&#160;</a></span>test_cross_val_score_sparse_fit_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_sparse_fit_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1153</span><span class="keyword">def </span>test_cross_val_score_sparse_fit_params():</div>
<div class="line"><span class="lineno"> 1154</span>    iris = load_iris()</div>
<div class="line"><span class="lineno"> 1155</span>    X, y = iris.data, iris.target</div>
<div class="line"><span class="lineno"> 1156</span>    clf = MockClassifier()</div>
<div class="line"><span class="lineno"> 1157</span>    fit_params = {<span class="stringliteral">&quot;sparse_sample_weight&quot;</span>: coo_matrix(np.eye(X.shape[0]))}</div>
<div class="line"><span class="lineno"> 1158</span>    a = cross_val_score(clf, X, y, fit_params=fit_params, cv=3)</div>
<div class="line"><span class="lineno"> 1159</span>    assert_array_equal(a, np.ones(3))</div>
<div class="line"><span class="lineno"> 1160</span> </div>
<div class="line"><span class="lineno"> 1161</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3bab92ea7914bf87cef54deb59e7b628" name="a3bab92ea7914bf87cef54deb59e7b628"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bab92ea7914bf87cef54deb59e7b628">&#9670;&#160;</a></span>test_cross_val_score_with_score_func_classification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_with_score_func_classification </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  723</span><span class="keyword">def </span>test_cross_val_score_with_score_func_classification():</div>
<div class="line"><span class="lineno">  724</span>    iris = load_iris()</div>
<div class="line"><span class="lineno">  725</span>    clf = SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>)</div>
<div class="line"><span class="lineno">  726</span> </div>
<div class="line"><span class="lineno">  727</span>    <span class="comment"># Default score (should be the accuracy score)</span></div>
<div class="line"><span class="lineno">  728</span>    scores = cross_val_score(clf, iris.data, iris.target)</div>
<div class="line"><span class="lineno">  729</span>    assert_array_almost_equal(scores, [0.97, 1.0, 0.97, 0.97, 1.0], 2)</div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>    <span class="comment"># Correct classification score (aka. zero / one score) - should be the</span></div>
<div class="line"><span class="lineno">  732</span>    <span class="comment"># same as the default estimator score</span></div>
<div class="line"><span class="lineno">  733</span>    zo_scores = cross_val_score(clf, iris.data, iris.target, scoring=<span class="stringliteral">&quot;accuracy&quot;</span>)</div>
<div class="line"><span class="lineno">  734</span>    assert_array_almost_equal(zo_scores, [0.97, 1.0, 0.97, 0.97, 1.0], 2)</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>    <span class="comment"># F1 score (class are balanced so f1_score should be equal to zero/one</span></div>
<div class="line"><span class="lineno">  737</span>    <span class="comment"># score</span></div>
<div class="line"><span class="lineno">  738</span>    f1_scores = cross_val_score(clf, iris.data, iris.target, scoring=<span class="stringliteral">&quot;f1_weighted&quot;</span>)</div>
<div class="line"><span class="lineno">  739</span>    assert_array_almost_equal(f1_scores, [0.97, 1.0, 0.97, 0.97, 1.0], 2)</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a67056f0bec77c791001c9f9d6df58ad1" name="a67056f0bec77c791001c9f9d6df58ad1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67056f0bec77c791001c9f9d6df58ad1">&#9670;&#160;</a></span>test_cross_val_score_with_score_func_regression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_val_score_with_score_func_regression </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  742</span><span class="keyword">def </span>test_cross_val_score_with_score_func_regression():</div>
<div class="line"><span class="lineno">  743</span>    X, y = make_regression(n_samples=30, n_features=20, n_informative=5, random_state=0)</div>
<div class="line"><span class="lineno">  744</span>    reg = Ridge()</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>    <span class="comment"># Default score of the Ridge regression estimator</span></div>
<div class="line"><span class="lineno">  747</span>    scores = cross_val_score(reg, X, y)</div>
<div class="line"><span class="lineno">  748</span>    assert_array_almost_equal(scores, [0.94, 0.97, 0.97, 0.99, 0.92], 2)</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>    <span class="comment"># R2 score (aka. determination coefficient) - should be the</span></div>
<div class="line"><span class="lineno">  751</span>    <span class="comment"># same as the default estimator score</span></div>
<div class="line"><span class="lineno">  752</span>    r2_scores = cross_val_score(reg, X, y, scoring=<span class="stringliteral">&quot;r2&quot;</span>)</div>
<div class="line"><span class="lineno">  753</span>    assert_array_almost_equal(r2_scores, [0.94, 0.97, 0.97, 0.99, 0.92], 2)</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>    <span class="comment"># Mean squared error; this is a loss function, so &quot;scores&quot; are negative</span></div>
<div class="line"><span class="lineno">  756</span>    neg_mse_scores = cross_val_score(reg, X, y, scoring=<span class="stringliteral">&quot;neg_mean_squared_error&quot;</span>)</div>
<div class="line"><span class="lineno">  757</span>    expected_neg_mse = np.array([-763.07, -553.16, -274.38, -273.26, -1681.99])</div>
<div class="line"><span class="lineno">  758</span>    assert_array_almost_equal(neg_mse_scores, expected_neg_mse, 2)</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>    <span class="comment"># Explained variance</span></div>
<div class="line"><span class="lineno">  761</span>    scoring = make_scorer(explained_variance_score)</div>
<div class="line"><span class="lineno">  762</span>    ev_scores = cross_val_score(reg, X, y, scoring=scoring)</div>
<div class="line"><span class="lineno">  763</span>    assert_array_almost_equal(ev_scores, [0.94, 0.97, 0.97, 0.99, 0.92], 2)</div>
<div class="line"><span class="lineno">  764</span> </div>
<div class="line"><span class="lineno">  765</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad244119e013b95fe53fbde8848d5e6ae" name="ad244119e013b95fe53fbde8848d5e6ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad244119e013b95fe53fbde8848d5e6ae">&#9670;&#160;</a></span>test_cross_validate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_validate </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  408</span><span class="keyword">def </span>test_cross_validate():</div>
<div class="line"><span class="lineno">  409</span>    <span class="comment"># Compute train and test mse/r2 scores</span></div>
<div class="line"><span class="lineno">  410</span>    cv = KFold()</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>    <span class="comment"># Regression</span></div>
<div class="line"><span class="lineno">  413</span>    X_reg, y_reg = make_regression(n_samples=30, random_state=0)</div>
<div class="line"><span class="lineno">  414</span>    reg = Ridge(random_state=0)</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span>    <span class="comment"># Classification</span></div>
<div class="line"><span class="lineno">  417</span>    X_clf, y_clf = make_classification(n_samples=30, random_state=0)</div>
<div class="line"><span class="lineno">  418</span>    clf = SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>, random_state=0)</div>
<div class="line"><span class="lineno">  419</span> </div>
<div class="line"><span class="lineno">  420</span>    <span class="keywordflow">for</span> X, y, est <span class="keywordflow">in</span> ((X_reg, y_reg, reg), (X_clf, y_clf, clf)):</div>
<div class="line"><span class="lineno">  421</span>        <span class="comment"># It&#39;s okay to evaluate regression metrics on classification too</span></div>
<div class="line"><span class="lineno">  422</span>        mse_scorer = check_scoring(est, scoring=<span class="stringliteral">&quot;neg_mean_squared_error&quot;</span>)</div>
<div class="line"><span class="lineno">  423</span>        r2_scorer = check_scoring(est, scoring=<span class="stringliteral">&quot;r2&quot;</span>)</div>
<div class="line"><span class="lineno">  424</span>        train_mse_scores = []</div>
<div class="line"><span class="lineno">  425</span>        test_mse_scores = []</div>
<div class="line"><span class="lineno">  426</span>        train_r2_scores = []</div>
<div class="line"><span class="lineno">  427</span>        test_r2_scores = []</div>
<div class="line"><span class="lineno">  428</span>        fitted_estimators = []</div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordflow">for</span> train, test <span class="keywordflow">in</span> cv.split(X, y):</div>
<div class="line"><span class="lineno">  430</span>            est = clone(reg).fit(X[train], y[train])</div>
<div class="line"><span class="lineno">  431</span>            train_mse_scores.append(mse_scorer(est, X[train], y[train]))</div>
<div class="line"><span class="lineno">  432</span>            train_r2_scores.append(r2_scorer(est, X[train], y[train]))</div>
<div class="line"><span class="lineno">  433</span>            test_mse_scores.append(mse_scorer(est, X[test], y[test]))</div>
<div class="line"><span class="lineno">  434</span>            test_r2_scores.append(r2_scorer(est, X[test], y[test]))</div>
<div class="line"><span class="lineno">  435</span>            fitted_estimators.append(est)</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>        train_mse_scores = np.array(train_mse_scores)</div>
<div class="line"><span class="lineno">  438</span>        test_mse_scores = np.array(test_mse_scores)</div>
<div class="line"><span class="lineno">  439</span>        train_r2_scores = np.array(train_r2_scores)</div>
<div class="line"><span class="lineno">  440</span>        test_r2_scores = np.array(test_r2_scores)</div>
<div class="line"><span class="lineno">  441</span>        fitted_estimators = np.array(fitted_estimators)</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>        scores = (</div>
<div class="line"><span class="lineno">  444</span>            train_mse_scores,</div>
<div class="line"><span class="lineno">  445</span>            test_mse_scores,</div>
<div class="line"><span class="lineno">  446</span>            train_r2_scores,</div>
<div class="line"><span class="lineno">  447</span>            test_r2_scores,</div>
<div class="line"><span class="lineno">  448</span>            fitted_estimators,</div>
<div class="line"><span class="lineno">  449</span>        )</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>        check_cross_validate_single_metric(est, X, y, scores)</div>
<div class="line"><span class="lineno">  452</span>        check_cross_validate_multi_metric(est, X, y, scores)</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9fdc1483dea42b44fd244133486d564a" name="a9fdc1483dea42b44fd244133486d564a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fdc1483dea42b44fd244133486d564a">&#9670;&#160;</a></span>test_cross_validate_all_failing_fits_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_validate_all_failing_fits_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error_score</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2175</span><span class="keyword">def </span>test_cross_validate_all_failing_fits_error(error_score):</div>
<div class="line"><span class="lineno"> 2176</span>    <span class="comment"># Create a failing classifier to deliberately fail</span></div>
<div class="line"><span class="lineno"> 2177</span>    failing_clf = FailingClassifier(FailingClassifier.FAILING_PARAMETER)</div>
<div class="line"><span class="lineno"> 2178</span>    <span class="comment"># dummy X data</span></div>
<div class="line"><span class="lineno"> 2179</span>    X = np.arange(1, 10)</div>
<div class="line"><span class="lineno"> 2180</span>    y = np.ones(9)</div>
<div class="line"><span class="lineno"> 2181</span> </div>
<div class="line"><span class="lineno"> 2182</span>    cross_validate_args = [failing_clf, X, y]</div>
<div class="line"><span class="lineno"> 2183</span>    cross_validate_kwargs = {<span class="stringliteral">&quot;cv&quot;</span>: 7, <span class="stringliteral">&quot;error_score&quot;</span>: error_score}</div>
<div class="line"><span class="lineno"> 2184</span> </div>
<div class="line"><span class="lineno"> 2185</span>    individual_fit_error_message = <span class="stringliteral">&quot;ValueError: Failing classifier failed as required&quot;</span></div>
<div class="line"><span class="lineno"> 2186</span>    error_message = re.compile(</div>
<div class="line"><span class="lineno"> 2187</span>        <span class="stringliteral">&quot;All the 7 fits failed.+your model is misconfigured.+&quot;</span></div>
<div class="line"><span class="lineno"> 2188</span>        f<span class="stringliteral">&quot;{individual_fit_error_message}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2189</span>        flags=re.DOTALL,</div>
<div class="line"><span class="lineno"> 2190</span>    )</div>
<div class="line"><span class="lineno"> 2191</span> </div>
<div class="line"><span class="lineno"> 2192</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message):</div>
<div class="line"><span class="lineno"> 2193</span>        cross_validate(*cross_validate_args, **cross_validate_kwargs)</div>
<div class="line"><span class="lineno"> 2194</span> </div>
<div class="line"><span class="lineno"> 2195</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a184e44f1119e87b5f73b19b921d90f64" name="a184e44f1119e87b5f73b19b921d90f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a184e44f1119e87b5f73b19b921d90f64">&#9670;&#160;</a></span>test_cross_validate_failing_scorer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_validate_failing_scorer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error_score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>return_train_score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>with_multimetric</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2234</span>):</div>
<div class="line"><span class="lineno"> 2235</span>    <span class="comment"># check that an estimator can fail during scoring in `cross_validate` and</span></div>
<div class="line"><span class="lineno"> 2236</span>    <span class="comment"># that we can optionally replaced it with `error_score`</span></div>
<div class="line"><span class="lineno"> 2237</span>    X, y = load_iris(return_X_y=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 2238</span>    clf = LogisticRegression(max_iter=5).fit(X, y)</div>
<div class="line"><span class="lineno"> 2239</span> </div>
<div class="line"><span class="lineno"> 2240</span>    error_msg = <span class="stringliteral">&quot;This scorer is supposed to fail!!!&quot;</span></div>
<div class="line"><span class="lineno"> 2241</span>    failing_scorer = partial(_failing_scorer, error_msg=error_msg)</div>
<div class="line"><span class="lineno"> 2242</span>    <span class="keywordflow">if</span> with_multimetric:</div>
<div class="line"><span class="lineno"> 2243</span>        scoring = {<span class="stringliteral">&quot;score_1&quot;</span>: failing_scorer, <span class="stringliteral">&quot;score_2&quot;</span>: failing_scorer}</div>
<div class="line"><span class="lineno"> 2244</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2245</span>        scoring = failing_scorer</div>
<div class="line"><span class="lineno"> 2246</span> </div>
<div class="line"><span class="lineno"> 2247</span>    <span class="keywordflow">if</span> error_score == <span class="stringliteral">&quot;raise&quot;</span>:</div>
<div class="line"><span class="lineno"> 2248</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=error_msg):</div>
<div class="line"><span class="lineno"> 2249</span>            cross_validate(</div>
<div class="line"><span class="lineno"> 2250</span>                clf,</div>
<div class="line"><span class="lineno"> 2251</span>                X,</div>
<div class="line"><span class="lineno"> 2252</span>                y,</div>
<div class="line"><span class="lineno"> 2253</span>                cv=3,</div>
<div class="line"><span class="lineno"> 2254</span>                scoring=scoring,</div>
<div class="line"><span class="lineno"> 2255</span>                return_train_score=return_train_score,</div>
<div class="line"><span class="lineno"> 2256</span>                error_score=error_score,</div>
<div class="line"><span class="lineno"> 2257</span>            )</div>
<div class="line"><span class="lineno"> 2258</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2259</span>        warning_msg = (</div>
<div class="line"><span class="lineno"> 2260</span>            <span class="stringliteral">&quot;Scoring failed. The score on this train-test partition for &quot;</span></div>
<div class="line"><span class="lineno"> 2261</span>            f<span class="stringliteral">&quot;these parameters will be set to {error_score}&quot;</span></div>
<div class="line"><span class="lineno"> 2262</span>        )</div>
<div class="line"><span class="lineno"> 2263</span>        <span class="keyword">with</span> pytest.warns(UserWarning, match=warning_msg):</div>
<div class="line"><span class="lineno"> 2264</span>            results = cross_validate(</div>
<div class="line"><span class="lineno"> 2265</span>                clf,</div>
<div class="line"><span class="lineno"> 2266</span>                X,</div>
<div class="line"><span class="lineno"> 2267</span>                y,</div>
<div class="line"><span class="lineno"> 2268</span>                cv=3,</div>
<div class="line"><span class="lineno"> 2269</span>                scoring=scoring,</div>
<div class="line"><span class="lineno"> 2270</span>                return_train_score=return_train_score,</div>
<div class="line"><span class="lineno"> 2271</span>                error_score=error_score,</div>
<div class="line"><span class="lineno"> 2272</span>            )</div>
<div class="line"><span class="lineno"> 2273</span>            <span class="keywordflow">for</span> key <span class="keywordflow">in</span> results:</div>
<div class="line"><span class="lineno"> 2274</span>                <span class="keywordflow">if</span> <span class="stringliteral">&quot;_score&quot;</span> <span class="keywordflow">in</span> key:</div>
<div class="line"><span class="lineno"> 2275</span>                    <span class="comment"># check the test (and optionally train score) for all</span></div>
<div class="line"><span class="lineno"> 2276</span>                    <span class="comment"># scorers that should be assigned to `error_score`.</span></div>
<div class="line"><span class="lineno"> 2277</span>                    assert_allclose(results[key], error_score)</div>
<div class="line"><span class="lineno"> 2278</span> </div>
<div class="line"><span class="lineno"> 2279</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f9623566e9e6039755299dd981988dc" name="a5f9623566e9e6039755299dd981988dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f9623566e9e6039755299dd981988dc">&#9670;&#160;</a></span>test_cross_validate_invalid_scoring_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_validate_invalid_scoring_param </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  326</span><span class="keyword">def </span>test_cross_validate_invalid_scoring_param():</div>
<div class="line"><span class="lineno">  327</span>    X, y = make_classification(random_state=0)</div>
<div class="line"><span class="lineno">  328</span>    estimator = MockClassifier()</div>
<div class="line"><span class="lineno">  329</span> </div>
<div class="line"><span class="lineno">  330</span>    <span class="comment"># Test the errors</span></div>
<div class="line"><span class="lineno">  331</span>    error_message_regexp = <span class="stringliteral">&quot;.*must be unique strings.*&quot;</span></div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="comment"># List/tuple of callables should raise a message advising users to use</span></div>
<div class="line"><span class="lineno">  334</span>    <span class="comment"># dict of names to callables mapping</span></div>
<div class="line"><span class="lineno">  335</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message_regexp):</div>
<div class="line"><span class="lineno">  336</span>        cross_validate(</div>
<div class="line"><span class="lineno">  337</span>            estimator,</div>
<div class="line"><span class="lineno">  338</span>            X,</div>
<div class="line"><span class="lineno">  339</span>            y,</div>
<div class="line"><span class="lineno">  340</span>            scoring=(make_scorer(precision_score), make_scorer(accuracy_score)),</div>
<div class="line"><span class="lineno">  341</span>        )</div>
<div class="line"><span class="lineno">  342</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message_regexp):</div>
<div class="line"><span class="lineno">  343</span>        cross_validate(estimator, X, y, scoring=(make_scorer(precision_score),))</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>    <span class="comment"># So should empty lists/tuples</span></div>
<div class="line"><span class="lineno">  346</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message_regexp + <span class="stringliteral">&quot;Empty list.*&quot;</span>):</div>
<div class="line"><span class="lineno">  347</span>        cross_validate(estimator, X, y, scoring=())</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>    <span class="comment"># So should duplicated entries</span></div>
<div class="line"><span class="lineno">  350</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message_regexp + <span class="stringliteral">&quot;Duplicate.*&quot;</span>):</div>
<div class="line"><span class="lineno">  351</span>        cross_validate(estimator, X, y, scoring=(<span class="stringliteral">&quot;f1_micro&quot;</span>, <span class="stringliteral">&quot;f1_micro&quot;</span>))</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    <span class="comment"># Nested Lists should raise a generic error message</span></div>
<div class="line"><span class="lineno">  354</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message_regexp):</div>
<div class="line"><span class="lineno">  355</span>        cross_validate(estimator, X, y, scoring=[[make_scorer(precision_score)]])</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    error_message_regexp = (</div>
<div class="line"><span class="lineno">  358</span>        <span class="stringliteral">&quot;.*scoring is invalid.*Refer to the scoring glossary for details:.*&quot;</span></div>
<div class="line"><span class="lineno">  359</span>    )</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>    <span class="comment"># Empty dict should raise invalid scoring error</span></div>
<div class="line"><span class="lineno">  362</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;An empty dict&quot;</span>):</div>
<div class="line"><span class="lineno">  363</span>        cross_validate(estimator, X, y, scoring=(dict()))</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>    <span class="comment"># And so should any other invalid entry</span></div>
<div class="line"><span class="lineno">  366</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message_regexp):</div>
<div class="line"><span class="lineno">  367</span>        cross_validate(estimator, X, y, scoring=5)</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>    multiclass_scorer = make_scorer(precision_recall_fscore_support)</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    <span class="comment"># Multiclass Scorers that return multiple values are not supported yet</span></div>
<div class="line"><span class="lineno">  372</span>    <span class="comment"># the warning message we&#39;re expecting to see</span></div>
<div class="line"><span class="lineno">  373</span>    warning_message = (</div>
<div class="line"><span class="lineno">  374</span>        <span class="stringliteral">&quot;Scoring failed. The score on this train-test &quot;</span></div>
<div class="line"><span class="lineno">  375</span>        f<span class="stringliteral">&quot;partition for these parameters will be set to {np.nan}. &quot;</span></div>
<div class="line"><span class="lineno">  376</span>        <span class="stringliteral">&quot;Details: \n&quot;</span></div>
<div class="line"><span class="lineno">  377</span>    )</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    <span class="keyword">with</span> pytest.warns(UserWarning, match=warning_message):</div>
<div class="line"><span class="lineno">  380</span>        cross_validate(estimator, X, y, scoring=multiclass_scorer)</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>    <span class="keyword">with</span> pytest.warns(UserWarning, match=warning_message):</div>
<div class="line"><span class="lineno">  383</span>        cross_validate(estimator, X, y, scoring={<span class="stringliteral">&quot;foo&quot;</span>: multiclass_scorer})</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;&#39;mse&#39; is not a valid scoring value.&quot;</span>):</div>
<div class="line"><span class="lineno">  386</span>        cross_validate(SVC(), X, y, scoring=<span class="stringliteral">&quot;mse&quot;</span>)</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5c27cc55500b6eb92d1e525fd249485b" name="a5c27cc55500b6eb92d1e525fd249485b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c27cc55500b6eb92d1e525fd249485b">&#9670;&#160;</a></span>test_cross_validate_many_jobs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_validate_many_jobs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  316</span><span class="keyword">def </span>test_cross_validate_many_jobs():</div>
<div class="line"><span class="lineno">  317</span>    <span class="comment"># regression test for #12154: cv=&#39;warn&#39; with n_jobs&gt;1 trigger a copy of</span></div>
<div class="line"><span class="lineno">  318</span>    <span class="comment"># the parameters leading to a failure in check_cv due to cv is &#39;warn&#39;</span></div>
<div class="line"><span class="lineno">  319</span>    <span class="comment"># instead of cv == &#39;warn&#39;.</span></div>
<div class="line"><span class="lineno">  320</span>    X, y = load_iris(return_X_y=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  321</span>    clf = SVC(gamma=<span class="stringliteral">&quot;auto&quot;</span>)</div>
<div class="line"><span class="lineno">  322</span>    grid = GridSearchCV(clf, param_grid={<span class="stringliteral">&quot;C&quot;</span>: [1, 10]})</div>
<div class="line"><span class="lineno">  323</span>    cross_validate(grid, X, y, n_jobs=2)</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afcdf0881cbe67a6b5664f18e50a40b61" name="afcdf0881cbe67a6b5664f18e50a40b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcdf0881cbe67a6b5664f18e50a40b61">&#9670;&#160;</a></span>test_cross_validate_nested_estimator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_validate_nested_estimator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  389</span><span class="keyword">def </span>test_cross_validate_nested_estimator():</div>
<div class="line"><span class="lineno">  390</span>    <span class="comment"># Non-regression test to ensure that nested</span></div>
<div class="line"><span class="lineno">  391</span>    <span class="comment"># estimators are properly returned in a list</span></div>
<div class="line"><span class="lineno">  392</span>    <span class="comment"># https://github.com/scikit-learn/scikit-learn/pull/17745</span></div>
<div class="line"><span class="lineno">  393</span>    (X, y) = load_iris(return_X_y=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  394</span>    pipeline = Pipeline(</div>
<div class="line"><span class="lineno">  395</span>        [</div>
<div class="line"><span class="lineno">  396</span>            (<span class="stringliteral">&quot;imputer&quot;</span>, SimpleImputer()),</div>
<div class="line"><span class="lineno">  397</span>            (<span class="stringliteral">&quot;classifier&quot;</span>, MockClassifier()),</div>
<div class="line"><span class="lineno">  398</span>        ]</div>
<div class="line"><span class="lineno">  399</span>    )</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span>    results = cross_validate(pipeline, X, y, return_estimator=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  402</span>    estimators = results[<span class="stringliteral">&quot;estimator&quot;</span>]</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>    <span class="keyword">assert</span> isinstance(estimators, list)</div>
<div class="line"><span class="lineno">  405</span>    <span class="keyword">assert</span> all(isinstance(estimator, Pipeline) <span class="keywordflow">for</span> estimator <span class="keywordflow">in</span> estimators)</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a33a8b4e527b1ffe82ed4b00fd731cc26" name="a33a8b4e527b1ffe82ed4b00fd731cc26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33a8b4e527b1ffe82ed4b00fd731cc26">&#9670;&#160;</a></span>test_cross_validate_some_failing_fits_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_cross_validate_some_failing_fits_warning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error_score</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2149</span><span class="keyword">def </span>test_cross_validate_some_failing_fits_warning(error_score):</div>
<div class="line"><span class="lineno"> 2150</span>    <span class="comment"># Create a failing classifier to deliberately fail</span></div>
<div class="line"><span class="lineno"> 2151</span>    failing_clf = DataDependentFailingClassifier(max_x_value=8)</div>
<div class="line"><span class="lineno"> 2152</span>    <span class="comment"># dummy X data</span></div>
<div class="line"><span class="lineno"> 2153</span>    X = np.arange(1, 10)</div>
<div class="line"><span class="lineno"> 2154</span>    y = np.ones(9)</div>
<div class="line"><span class="lineno"> 2155</span>    <span class="comment"># passing error score to trigger the warning message</span></div>
<div class="line"><span class="lineno"> 2156</span>    cross_validate_args = [failing_clf, X, y]</div>
<div class="line"><span class="lineno"> 2157</span>    cross_validate_kwargs = {<span class="stringliteral">&quot;cv&quot;</span>: 3, <span class="stringliteral">&quot;error_score&quot;</span>: error_score}</div>
<div class="line"><span class="lineno"> 2158</span>    <span class="comment"># check if the warning message type is as expected</span></div>
<div class="line"><span class="lineno"> 2159</span> </div>
<div class="line"><span class="lineno"> 2160</span>    individual_fit_error_message = (</div>
<div class="line"><span class="lineno"> 2161</span>        <span class="stringliteral">&quot;ValueError: Classifier fit failed with 1 values too high&quot;</span></div>
<div class="line"><span class="lineno"> 2162</span>    )</div>
<div class="line"><span class="lineno"> 2163</span>    warning_message = re.compile(</div>
<div class="line"><span class="lineno"> 2164</span>        <span class="stringliteral">&quot;2 fits failed.+total of 3.+The score on these&quot;</span></div>
<div class="line"><span class="lineno"> 2165</span>        <span class="stringliteral">&quot; train-test partitions for these parameters will be set to&quot;</span></div>
<div class="line"><span class="lineno"> 2166</span>        f<span class="stringliteral">&quot; {cross_validate_kwargs[&#39;error_score&#39;]}.+{individual_fit_error_message}&quot;</span>,</div>
<div class="line"><span class="lineno"> 2167</span>        flags=re.DOTALL,</div>
<div class="line"><span class="lineno"> 2168</span>    )</div>
<div class="line"><span class="lineno"> 2169</span> </div>
<div class="line"><span class="lineno"> 2170</span>    <span class="keyword">with</span> pytest.warns(FitFailedWarning, match=warning_message):</div>
<div class="line"><span class="lineno"> 2171</span>        cross_validate(*cross_validate_args, **cross_validate_kwargs)</div>
<div class="line"><span class="lineno"> 2172</span> </div>
<div class="line"><span class="lineno"> 2173</span> </div>
<div class="line"><span class="lineno"> 2174</span><span class="preprocessor">@pytest.mark.parametrize(&quot;error_score&quot;, [np.nan, 0])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa92d4aa358a2a83c072d314d1415f12b" name="aa92d4aa358a2a83c072d314d1415f12b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa92d4aa358a2a83c072d314d1415f12b">&#9670;&#160;</a></span>test_fit_and_score_failing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_fit_and_score_failing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2077</span><span class="keyword">def </span>test_fit_and_score_failing():</div>
<div class="line"><span class="lineno"> 2078</span>    <span class="comment"># Create a failing classifier to deliberately fail</span></div>
<div class="line"><span class="lineno"> 2079</span>    failing_clf = FailingClassifier(FailingClassifier.FAILING_PARAMETER)</div>
<div class="line"><span class="lineno"> 2080</span>    <span class="comment"># dummy X data</span></div>
<div class="line"><span class="lineno"> 2081</span>    X = np.arange(1, 10)</div>
<div class="line"><span class="lineno"> 2082</span>    y = np.ones(9)</div>
<div class="line"><span class="lineno"> 2083</span>    fit_and_score_args = [failing_clf, X, <span class="keywordtype">None</span>, dict(), <span class="keywordtype">None</span>, <span class="keywordtype">None</span>, 0, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno"> 2084</span>    <span class="comment"># passing error score to trigger the warning message</span></div>
<div class="line"><span class="lineno"> 2085</span>    fit_and_score_kwargs = {<span class="stringliteral">&quot;error_score&quot;</span>: <span class="stringliteral">&quot;raise&quot;</span>}</div>
<div class="line"><span class="lineno"> 2086</span>    <span class="comment"># check if exception was raised, with default error_score=&#39;raise&#39;</span></div>
<div class="line"><span class="lineno"> 2087</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Failing classifier failed as required&quot;</span>):</div>
<div class="line"><span class="lineno"> 2088</span>        _fit_and_score(*fit_and_score_args, **fit_and_score_kwargs)</div>
<div class="line"><span class="lineno"> 2089</span> </div>
<div class="line"><span class="lineno"> 2090</span>    <span class="comment"># check that functions upstream pass error_score param to _fit_and_score</span></div>
<div class="line"><span class="lineno"> 2091</span>    error_message = re.escape(</div>
<div class="line"><span class="lineno"> 2092</span>        <span class="stringliteral">&quot;error_score must be the string &#39;raise&#39; or a numeric value. (Hint: if &quot;</span></div>
<div class="line"><span class="lineno"> 2093</span>        <span class="stringliteral">&quot;using &#39;raise&#39;, please make sure that it has been spelled correctly.)&quot;</span></div>
<div class="line"><span class="lineno"> 2094</span>    )</div>
<div class="line"><span class="lineno"> 2095</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message):</div>
<div class="line"><span class="lineno"> 2096</span>        cross_validate(failing_clf, X, cv=3, error_score=<span class="stringliteral">&quot;unvalid-string&quot;</span>)</div>
<div class="line"><span class="lineno"> 2097</span> </div>
<div class="line"><span class="lineno"> 2098</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message):</div>
<div class="line"><span class="lineno"> 2099</span>        cross_val_score(failing_clf, X, cv=3, error_score=<span class="stringliteral">&quot;unvalid-string&quot;</span>)</div>
<div class="line"><span class="lineno"> 2100</span> </div>
<div class="line"><span class="lineno"> 2101</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message):</div>
<div class="line"><span class="lineno"> 2102</span>        learning_curve(failing_clf, X, y, cv=3, error_score=<span class="stringliteral">&quot;unvalid-string&quot;</span>)</div>
<div class="line"><span class="lineno"> 2103</span> </div>
<div class="line"><span class="lineno"> 2104</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message):</div>
<div class="line"><span class="lineno"> 2105</span>        validation_curve(</div>
<div class="line"><span class="lineno"> 2106</span>            failing_clf,</div>
<div class="line"><span class="lineno"> 2107</span>            X,</div>
<div class="line"><span class="lineno"> 2108</span>            y,</div>
<div class="line"><span class="lineno"> 2109</span>            param_name=<span class="stringliteral">&quot;parameter&quot;</span>,</div>
<div class="line"><span class="lineno"> 2110</span>            param_range=[FailingClassifier.FAILING_PARAMETER],</div>
<div class="line"><span class="lineno"> 2111</span>            cv=3,</div>
<div class="line"><span class="lineno"> 2112</span>            error_score=<span class="stringliteral">&quot;unvalid-string&quot;</span>,</div>
<div class="line"><span class="lineno"> 2113</span>        )</div>
<div class="line"><span class="lineno"> 2114</span> </div>
<div class="line"><span class="lineno"> 2115</span>    <span class="keyword">assert</span> failing_clf.score() == 0.0  <span class="comment"># FailingClassifier coverage</span></div>
<div class="line"><span class="lineno"> 2116</span> </div>
<div class="line"><span class="lineno"> 2117</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a16b05ab86bb2ff906f229b5396b43dc0" name="a16b05ab86bb2ff906f229b5396b43dc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16b05ab86bb2ff906f229b5396b43dc0">&#9670;&#160;</a></span>test_fit_and_score_verbosity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_fit_and_score_verbosity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>capsys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>train_score</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scorer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>split_prg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cdt_prg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2318</span>):</div>
<div class="line"><span class="lineno"> 2319</span>    X, y = make_classification(n_samples=30, random_state=0)</div>
<div class="line"><span class="lineno"> 2320</span>    clf = SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>, random_state=0)</div>
<div class="line"><span class="lineno"> 2321</span>    train, test = next(ShuffleSplit().split(X))</div>
<div class="line"><span class="lineno"> 2322</span> </div>
<div class="line"><span class="lineno"> 2323</span>    <span class="comment"># test print without train score</span></div>
<div class="line"><span class="lineno"> 2324</span>    fit_and_score_args = [clf, X, y, scorer, train, test, verbose, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno"> 2325</span>    fit_and_score_kwargs = {</div>
<div class="line"><span class="lineno"> 2326</span>        <span class="stringliteral">&quot;return_train_score&quot;</span>: train_score,</div>
<div class="line"><span class="lineno"> 2327</span>        <span class="stringliteral">&quot;split_progress&quot;</span>: split_prg,</div>
<div class="line"><span class="lineno"> 2328</span>        <span class="stringliteral">&quot;candidate_progress&quot;</span>: cdt_prg,</div>
<div class="line"><span class="lineno"> 2329</span>    }</div>
<div class="line"><span class="lineno"> 2330</span>    _fit_and_score(*fit_and_score_args, **fit_and_score_kwargs)</div>
<div class="line"><span class="lineno"> 2331</span>    out, _ = capsys.readouterr()</div>
<div class="line"><span class="lineno"> 2332</span>    outlines = out.split(<span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno"> 2333</span>    <span class="keywordflow">if</span> len(outlines) &gt; 2:</div>
<div class="line"><span class="lineno"> 2334</span>        <span class="keyword">assert</span> re.match(expected, outlines[1])</div>
<div class="line"><span class="lineno"> 2335</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2336</span>        <span class="keyword">assert</span> re.match(expected, outlines[0])</div>
<div class="line"><span class="lineno"> 2337</span> </div>
<div class="line"><span class="lineno"> 2338</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a885f6197227bd46837e4a8d78ec20cc5" name="a885f6197227bd46837e4a8d78ec20cc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a885f6197227bd46837e4a8d78ec20cc5">&#9670;&#160;</a></span>test_fit_and_score_working()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_fit_and_score_working </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2118</span><span class="keyword">def </span>test_fit_and_score_working():</div>
<div class="line"><span class="lineno"> 2119</span>    X, y = make_classification(n_samples=30, random_state=0)</div>
<div class="line"><span class="lineno"> 2120</span>    clf = SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>, random_state=0)</div>
<div class="line"><span class="lineno"> 2121</span>    train, test = next(ShuffleSplit().split(X))</div>
<div class="line"><span class="lineno"> 2122</span>    <span class="comment"># Test return_parameters option</span></div>
<div class="line"><span class="lineno"> 2123</span>    fit_and_score_args = [clf, X, y, dict(), train, test, 0]</div>
<div class="line"><span class="lineno"> 2124</span>    fit_and_score_kwargs = {</div>
<div class="line"><span class="lineno"> 2125</span>        <span class="stringliteral">&quot;parameters&quot;</span>: {<span class="stringliteral">&quot;max_iter&quot;</span>: 100, <span class="stringliteral">&quot;tol&quot;</span>: 0.1},</div>
<div class="line"><span class="lineno"> 2126</span>        <span class="stringliteral">&quot;fit_params&quot;</span>: <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 2127</span>        <span class="stringliteral">&quot;return_parameters&quot;</span>: <span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 2128</span>    }</div>
<div class="line"><span class="lineno"> 2129</span>    result = _fit_and_score(*fit_and_score_args, **fit_and_score_kwargs)</div>
<div class="line"><span class="lineno"> 2130</span>    <span class="keyword">assert</span> result[<span class="stringliteral">&quot;parameters&quot;</span>] == fit_and_score_kwargs[<span class="stringliteral">&quot;parameters&quot;</span>]</div>
<div class="line"><span class="lineno"> 2131</span> </div>
<div class="line"><span class="lineno"> 2132</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aef8580440b675ec21cdc0d715307e05a" name="aef8580440b675ec21cdc0d715307e05a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8580440b675ec21cdc0d715307e05a">&#9670;&#160;</a></span>test_gridsearchcv_cross_val_predict_with_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_gridsearchcv_cross_val_predict_with_method </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1883</span><span class="keyword">def </span>test_gridsearchcv_cross_val_predict_with_method():</div>
<div class="line"><span class="lineno"> 1884</span>    iris = load_iris()</div>
<div class="line"><span class="lineno"> 1885</span>    X, y = iris.data, iris.target</div>
<div class="line"><span class="lineno"> 1886</span>    X, y = shuffle(X, y, random_state=0)</div>
<div class="line"><span class="lineno"> 1887</span>    est = GridSearchCV(</div>
<div class="line"><span class="lineno"> 1888</span>        LogisticRegression(random_state=42, solver=<span class="stringliteral">&quot;liblinear&quot;</span>), {<span class="stringliteral">&quot;C&quot;</span>: [0.1, 1]}, cv=2</div>
<div class="line"><span class="lineno"> 1889</span>    )</div>
<div class="line"><span class="lineno"> 1890</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;decision_function&quot;</span>, <span class="stringliteral">&quot;predict_proba&quot;</span>, <span class="stringliteral">&quot;predict_log_proba&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1891</span>        check_cross_val_predict_multiclass(est, X, y, method)</div>
<div class="line"><span class="lineno"> 1892</span> </div>
<div class="line"><span class="lineno"> 1893</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8942096d5dd29ed98d1c85e82158df60" name="a8942096d5dd29ed98d1c85e82158df60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8942096d5dd29ed98d1c85e82158df60">&#9670;&#160;</a></span>test_learning_curve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1162</span><span class="keyword">def </span>test_learning_curve():</div>
<div class="line"><span class="lineno"> 1163</span>    n_samples = 30</div>
<div class="line"><span class="lineno"> 1164</span>    n_splits = 3</div>
<div class="line"><span class="lineno"> 1165</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1166</span>        n_samples=n_samples,</div>
<div class="line"><span class="lineno"> 1167</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1168</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1169</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1170</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1171</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1172</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1173</span>    )</div>
<div class="line"><span class="lineno"> 1174</span>    estimator = MockImprovingEstimator(n_samples * ((n_splits - 1) / n_splits))</div>
<div class="line"><span class="lineno"> 1175</span>    <span class="keywordflow">for</span> shuffle_train <span class="keywordflow">in</span> [<span class="keyword">False</span>, <span class="keyword">True</span>]:</div>
<div class="line"><span class="lineno"> 1176</span>        <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> w:</div>
<div class="line"><span class="lineno"> 1177</span>            (</div>
<div class="line"><span class="lineno"> 1178</span>                train_sizes,</div>
<div class="line"><span class="lineno"> 1179</span>                train_scores,</div>
<div class="line"><span class="lineno"> 1180</span>                test_scores,</div>
<div class="line"><span class="lineno"> 1181</span>                fit_times,</div>
<div class="line"><span class="lineno"> 1182</span>                score_times,</div>
<div class="line"><span class="lineno"> 1183</span>            ) = learning_curve(</div>
<div class="line"><span class="lineno"> 1184</span>                estimator,</div>
<div class="line"><span class="lineno"> 1185</span>                X,</div>
<div class="line"><span class="lineno"> 1186</span>                y,</div>
<div class="line"><span class="lineno"> 1187</span>                cv=KFold(n_splits=n_splits),</div>
<div class="line"><span class="lineno"> 1188</span>                train_sizes=np.linspace(0.1, 1.0, 10),</div>
<div class="line"><span class="lineno"> 1189</span>                shuffle=shuffle_train,</div>
<div class="line"><span class="lineno"> 1190</span>                return_times=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1191</span>            )</div>
<div class="line"><span class="lineno"> 1192</span>        <span class="keywordflow">if</span> len(w) &gt; 0:</div>
<div class="line"><span class="lineno"> 1193</span>            <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&quot;Unexpected warning: %r&quot;</span> % w[0].message)</div>
<div class="line"><span class="lineno"> 1194</span>        <span class="keyword">assert</span> train_scores.shape == (10, 3)</div>
<div class="line"><span class="lineno"> 1195</span>        <span class="keyword">assert</span> test_scores.shape == (10, 3)</div>
<div class="line"><span class="lineno"> 1196</span>        <span class="keyword">assert</span> fit_times.shape == (10, 3)</div>
<div class="line"><span class="lineno"> 1197</span>        <span class="keyword">assert</span> score_times.shape == (10, 3)</div>
<div class="line"><span class="lineno"> 1198</span>        assert_array_equal(train_sizes, np.linspace(2, 20, 10))</div>
<div class="line"><span class="lineno"> 1199</span>        assert_array_almost_equal(train_scores.mean(axis=1), np.linspace(1.9, 1.0, 10))</div>
<div class="line"><span class="lineno"> 1200</span>        assert_array_almost_equal(test_scores.mean(axis=1), np.linspace(0.1, 1.0, 10))</div>
<div class="line"><span class="lineno"> 1201</span> </div>
<div class="line"><span class="lineno"> 1202</span>        <span class="comment"># Cannot use assert_array_almost_equal for fit and score times because</span></div>
<div class="line"><span class="lineno"> 1203</span>        <span class="comment"># the values are hardware-dependant</span></div>
<div class="line"><span class="lineno"> 1204</span>        <span class="keyword">assert</span> fit_times.dtype == <span class="stringliteral">&quot;float64&quot;</span></div>
<div class="line"><span class="lineno"> 1205</span>        <span class="keyword">assert</span> score_times.dtype == <span class="stringliteral">&quot;float64&quot;</span></div>
<div class="line"><span class="lineno"> 1206</span> </div>
<div class="line"><span class="lineno"> 1207</span>        <span class="comment"># Test a custom cv splitter that can iterate only once</span></div>
<div class="line"><span class="lineno"> 1208</span>        <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> w:</div>
<div class="line"><span class="lineno"> 1209</span>            train_sizes2, train_scores2, test_scores2 = learning_curve(</div>
<div class="line"><span class="lineno"> 1210</span>                estimator,</div>
<div class="line"><span class="lineno"> 1211</span>                X,</div>
<div class="line"><span class="lineno"> 1212</span>                y,</div>
<div class="line"><span class="lineno"> 1213</span>                cv=OneTimeSplitter(n_splits=n_splits, n_samples=n_samples),</div>
<div class="line"><span class="lineno"> 1214</span>                train_sizes=np.linspace(0.1, 1.0, 10),</div>
<div class="line"><span class="lineno"> 1215</span>                shuffle=shuffle_train,</div>
<div class="line"><span class="lineno"> 1216</span>            )</div>
<div class="line"><span class="lineno"> 1217</span>        <span class="keywordflow">if</span> len(w) &gt; 0:</div>
<div class="line"><span class="lineno"> 1218</span>            <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&quot;Unexpected warning: %r&quot;</span> % w[0].message)</div>
<div class="line"><span class="lineno"> 1219</span>        assert_array_almost_equal(train_scores2, train_scores)</div>
<div class="line"><span class="lineno"> 1220</span>        assert_array_almost_equal(test_scores2, test_scores)</div>
<div class="line"><span class="lineno"> 1221</span> </div>
<div class="line"><span class="lineno"> 1222</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a52fe9fdc3f3942a3cf7b3ce2230cf156" name="a52fe9fdc3f3942a3cf7b3ce2230cf156"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52fe9fdc3f3942a3cf7b3ce2230cf156">&#9670;&#160;</a></span>test_learning_curve_batch_and_incremental_learning_are_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_batch_and_incremental_learning_are_equal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1334</span><span class="keyword">def </span>test_learning_curve_batch_and_incremental_learning_are_equal():</div>
<div class="line"><span class="lineno"> 1335</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1336</span>        n_samples=30,</div>
<div class="line"><span class="lineno"> 1337</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1338</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1339</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1340</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1341</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1342</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1343</span>    )</div>
<div class="line"><span class="lineno"> 1344</span>    train_sizes = np.linspace(0.2, 1.0, 5)</div>
<div class="line"><span class="lineno"> 1345</span>    estimator = PassiveAggressiveClassifier(max_iter=1, tol=<span class="keywordtype">None</span>, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1346</span> </div>
<div class="line"><span class="lineno"> 1347</span>    train_sizes_inc, train_scores_inc, test_scores_inc = learning_curve(</div>
<div class="line"><span class="lineno"> 1348</span>        estimator,</div>
<div class="line"><span class="lineno"> 1349</span>        X,</div>
<div class="line"><span class="lineno"> 1350</span>        y,</div>
<div class="line"><span class="lineno"> 1351</span>        train_sizes=train_sizes,</div>
<div class="line"><span class="lineno"> 1352</span>        cv=3,</div>
<div class="line"><span class="lineno"> 1353</span>        exploit_incremental_learning=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1354</span>    )</div>
<div class="line"><span class="lineno"> 1355</span>    train_sizes_batch, train_scores_batch, test_scores_batch = learning_curve(</div>
<div class="line"><span class="lineno"> 1356</span>        estimator,</div>
<div class="line"><span class="lineno"> 1357</span>        X,</div>
<div class="line"><span class="lineno"> 1358</span>        y,</div>
<div class="line"><span class="lineno"> 1359</span>        cv=3,</div>
<div class="line"><span class="lineno"> 1360</span>        train_sizes=train_sizes,</div>
<div class="line"><span class="lineno"> 1361</span>        exploit_incremental_learning=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1362</span>    )</div>
<div class="line"><span class="lineno"> 1363</span> </div>
<div class="line"><span class="lineno"> 1364</span>    assert_array_equal(train_sizes_inc, train_sizes_batch)</div>
<div class="line"><span class="lineno"> 1365</span>    assert_array_almost_equal(</div>
<div class="line"><span class="lineno"> 1366</span>        train_scores_inc.mean(axis=1), train_scores_batch.mean(axis=1)</div>
<div class="line"><span class="lineno"> 1367</span>    )</div>
<div class="line"><span class="lineno"> 1368</span>    assert_array_almost_equal(</div>
<div class="line"><span class="lineno"> 1369</span>        test_scores_inc.mean(axis=1), test_scores_batch.mean(axis=1)</div>
<div class="line"><span class="lineno"> 1370</span>    )</div>
<div class="line"><span class="lineno"> 1371</span> </div>
<div class="line"><span class="lineno"> 1372</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a20edfc4575a6cc6b13a8b29e7e7bf56a" name="a20edfc4575a6cc6b13a8b29e7e7bf56a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20edfc4575a6cc6b13a8b29e7e7bf56a">&#9670;&#160;</a></span>test_learning_curve_fit_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_fit_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1516</span><span class="keyword">def </span>test_learning_curve_fit_params():</div>
<div class="line"><span class="lineno"> 1517</span>    X = np.arange(100).reshape(10, 10)</div>
<div class="line"><span class="lineno"> 1518</span>    y = np.array([0] * 5 + [1] * 5)</div>
<div class="line"><span class="lineno"> 1519</span>    clf = CheckingClassifier(expected_sample_weight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1520</span> </div>
<div class="line"><span class="lineno"> 1521</span>    err_msg = <span class="stringliteral">r&quot;Expected sample_weight to be passed&quot;</span></div>
<div class="line"><span class="lineno"> 1522</span>    <span class="keyword">with</span> pytest.raises(AssertionError, match=err_msg):</div>
<div class="line"><span class="lineno"> 1523</span>        learning_curve(clf, X, y, error_score=<span class="stringliteral">&quot;raise&quot;</span>)</div>
<div class="line"><span class="lineno"> 1524</span> </div>
<div class="line"><span class="lineno"> 1525</span>    err_msg = <span class="stringliteral">r&quot;sample_weight.shape == \&zwj;(1,\&zwj;), expected \&zwj;(2,\&zwj;)!&quot;</span></div>
<div class="line"><span class="lineno"> 1526</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno"> 1527</span>        learning_curve(</div>
<div class="line"><span class="lineno"> 1528</span>            clf, X, y, error_score=<span class="stringliteral">&quot;raise&quot;</span>, fit_params={<span class="stringliteral">&quot;sample_weight&quot;</span>: np.ones(1)}</div>
<div class="line"><span class="lineno"> 1529</span>        )</div>
<div class="line"><span class="lineno"> 1530</span>    learning_curve(</div>
<div class="line"><span class="lineno"> 1531</span>        clf, X, y, error_score=<span class="stringliteral">&quot;raise&quot;</span>, fit_params={<span class="stringliteral">&quot;sample_weight&quot;</span>: np.ones(10)}</div>
<div class="line"><span class="lineno"> 1532</span>    )</div>
<div class="line"><span class="lineno"> 1533</span> </div>
<div class="line"><span class="lineno"> 1534</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="add1567f52eddf73c3b28d5d4d772ea1e" name="add1567f52eddf73c3b28d5d4d772ea1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add1567f52eddf73c3b28d5d4d772ea1e">&#9670;&#160;</a></span>test_learning_curve_incremental_learning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_incremental_learning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1284</span><span class="keyword">def </span>test_learning_curve_incremental_learning():</div>
<div class="line"><span class="lineno"> 1285</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1286</span>        n_samples=30,</div>
<div class="line"><span class="lineno"> 1287</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1288</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1289</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1290</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1291</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1292</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1293</span>    )</div>
<div class="line"><span class="lineno"> 1294</span>    estimator = MockIncrementalImprovingEstimator(20)</div>
<div class="line"><span class="lineno"> 1295</span>    <span class="keywordflow">for</span> shuffle_train <span class="keywordflow">in</span> [<span class="keyword">False</span>, <span class="keyword">True</span>]:</div>
<div class="line"><span class="lineno"> 1296</span>        train_sizes, train_scores, test_scores = learning_curve(</div>
<div class="line"><span class="lineno"> 1297</span>            estimator,</div>
<div class="line"><span class="lineno"> 1298</span>            X,</div>
<div class="line"><span class="lineno"> 1299</span>            y,</div>
<div class="line"><span class="lineno"> 1300</span>            cv=3,</div>
<div class="line"><span class="lineno"> 1301</span>            exploit_incremental_learning=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1302</span>            train_sizes=np.linspace(0.1, 1.0, 10),</div>
<div class="line"><span class="lineno"> 1303</span>            shuffle=shuffle_train,</div>
<div class="line"><span class="lineno"> 1304</span>        )</div>
<div class="line"><span class="lineno"> 1305</span>        assert_array_equal(train_sizes, np.linspace(2, 20, 10))</div>
<div class="line"><span class="lineno"> 1306</span>        assert_array_almost_equal(train_scores.mean(axis=1), np.linspace(1.9, 1.0, 10))</div>
<div class="line"><span class="lineno"> 1307</span>        assert_array_almost_equal(test_scores.mean(axis=1), np.linspace(0.1, 1.0, 10))</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a69ffed9a2f2099b31b644dd44c38c228" name="a69ffed9a2f2099b31b644dd44c38c228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69ffed9a2f2099b31b644dd44c38c228">&#9670;&#160;</a></span>test_learning_curve_incremental_learning_fit_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_incremental_learning_fit_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1535</span><span class="keyword">def </span>test_learning_curve_incremental_learning_fit_params():</div>
<div class="line"><span class="lineno"> 1536</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1537</span>        n_samples=30,</div>
<div class="line"><span class="lineno"> 1538</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1539</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1540</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1541</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1542</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1543</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1544</span>    )</div>
<div class="line"><span class="lineno"> 1545</span>    estimator = MockIncrementalImprovingEstimator(20, [<span class="stringliteral">&quot;sample_weight&quot;</span>])</div>
<div class="line"><span class="lineno"> 1546</span>    err_msg = <span class="stringliteral">r&quot;Expected fit parameter\&zwj;(s\&zwj;) \[&#39;sample_weight&#39;\] not seen.&quot;</span></div>
<div class="line"><span class="lineno"> 1547</span>    <span class="keyword">with</span> pytest.raises(AssertionError, match=err_msg):</div>
<div class="line"><span class="lineno"> 1548</span>        learning_curve(</div>
<div class="line"><span class="lineno"> 1549</span>            estimator,</div>
<div class="line"><span class="lineno"> 1550</span>            X,</div>
<div class="line"><span class="lineno"> 1551</span>            y,</div>
<div class="line"><span class="lineno"> 1552</span>            cv=3,</div>
<div class="line"><span class="lineno"> 1553</span>            exploit_incremental_learning=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1554</span>            train_sizes=np.linspace(0.1, 1.0, 10),</div>
<div class="line"><span class="lineno"> 1555</span>            error_score=<span class="stringliteral">&quot;raise&quot;</span>,</div>
<div class="line"><span class="lineno"> 1556</span>        )</div>
<div class="line"><span class="lineno"> 1557</span> </div>
<div class="line"><span class="lineno"> 1558</span>    err_msg = <span class="stringliteral">&quot;Fit parameter sample_weight has length 3; expected&quot;</span></div>
<div class="line"><span class="lineno"> 1559</span>    <span class="keyword">with</span> pytest.raises(AssertionError, match=err_msg):</div>
<div class="line"><span class="lineno"> 1560</span>        learning_curve(</div>
<div class="line"><span class="lineno"> 1561</span>            estimator,</div>
<div class="line"><span class="lineno"> 1562</span>            X,</div>
<div class="line"><span class="lineno"> 1563</span>            y,</div>
<div class="line"><span class="lineno"> 1564</span>            cv=3,</div>
<div class="line"><span class="lineno"> 1565</span>            exploit_incremental_learning=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1566</span>            train_sizes=np.linspace(0.1, 1.0, 10),</div>
<div class="line"><span class="lineno"> 1567</span>            error_score=<span class="stringliteral">&quot;raise&quot;</span>,</div>
<div class="line"><span class="lineno"> 1568</span>            fit_params={<span class="stringliteral">&quot;sample_weight&quot;</span>: np.ones(3)},</div>
<div class="line"><span class="lineno"> 1569</span>        )</div>
<div class="line"><span class="lineno"> 1570</span> </div>
<div class="line"><span class="lineno"> 1571</span>    learning_curve(</div>
<div class="line"><span class="lineno"> 1572</span>        estimator,</div>
<div class="line"><span class="lineno"> 1573</span>        X,</div>
<div class="line"><span class="lineno"> 1574</span>        y,</div>
<div class="line"><span class="lineno"> 1575</span>        cv=3,</div>
<div class="line"><span class="lineno"> 1576</span>        exploit_incremental_learning=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1577</span>        train_sizes=np.linspace(0.1, 1.0, 10),</div>
<div class="line"><span class="lineno"> 1578</span>        error_score=<span class="stringliteral">&quot;raise&quot;</span>,</div>
<div class="line"><span class="lineno"> 1579</span>        fit_params={<span class="stringliteral">&quot;sample_weight&quot;</span>: np.ones(2)},</div>
<div class="line"><span class="lineno"> 1580</span>    )</div>
<div class="line"><span class="lineno"> 1581</span> </div>
<div class="line"><span class="lineno"> 1582</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2344ce260404ce86e0a8fe672d001ea5" name="a2344ce260404ce86e0a8fe672d001ea5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2344ce260404ce86e0a8fe672d001ea5">&#9670;&#160;</a></span>test_learning_curve_incremental_learning_not_possible()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_incremental_learning_not_possible </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1268</span><span class="keyword">def </span>test_learning_curve_incremental_learning_not_possible():</div>
<div class="line"><span class="lineno"> 1269</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1270</span>        n_samples=2,</div>
<div class="line"><span class="lineno"> 1271</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1272</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1273</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1274</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1275</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1276</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1277</span>    )</div>
<div class="line"><span class="lineno"> 1278</span>    <span class="comment"># The mockup does not have partial_fit()</span></div>
<div class="line"><span class="lineno"> 1279</span>    estimator = MockImprovingEstimator(1)</div>
<div class="line"><span class="lineno"> 1280</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 1281</span>        learning_curve(estimator, X, y, exploit_incremental_learning=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1282</span> </div>
<div class="line"><span class="lineno"> 1283</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0eccbcda02911b86b5940e5680085ec" name="ab0eccbcda02911b86b5940e5680085ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0eccbcda02911b86b5940e5680085ec">&#9670;&#160;</a></span>test_learning_curve_incremental_learning_unsupervised()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_incremental_learning_unsupervised </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1310</span><span class="keyword">def </span>test_learning_curve_incremental_learning_unsupervised():</div>
<div class="line"><span class="lineno"> 1311</span>    X, _ = make_classification(</div>
<div class="line"><span class="lineno"> 1312</span>        n_samples=30,</div>
<div class="line"><span class="lineno"> 1313</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1314</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1315</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1316</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1317</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1318</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1319</span>    )</div>
<div class="line"><span class="lineno"> 1320</span>    estimator = MockIncrementalImprovingEstimator(20)</div>
<div class="line"><span class="lineno"> 1321</span>    train_sizes, train_scores, test_scores = learning_curve(</div>
<div class="line"><span class="lineno"> 1322</span>        estimator,</div>
<div class="line"><span class="lineno"> 1323</span>        X,</div>
<div class="line"><span class="lineno"> 1324</span>        y=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1325</span>        cv=3,</div>
<div class="line"><span class="lineno"> 1326</span>        exploit_incremental_learning=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1327</span>        train_sizes=np.linspace(0.1, 1.0, 10),</div>
<div class="line"><span class="lineno"> 1328</span>    )</div>
<div class="line"><span class="lineno"> 1329</span>    assert_array_equal(train_sizes, np.linspace(2, 20, 10))</div>
<div class="line"><span class="lineno"> 1330</span>    assert_array_almost_equal(train_scores.mean(axis=1), np.linspace(1.9, 1.0, 10))</div>
<div class="line"><span class="lineno"> 1331</span>    assert_array_almost_equal(test_scores.mean(axis=1), np.linspace(0.1, 1.0, 10))</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7de2c37deedcbffdbd7ccbba0923eb94" name="a7de2c37deedcbffdbd7ccbba0923eb94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7de2c37deedcbffdbd7ccbba0923eb94">&#9670;&#160;</a></span>test_learning_curve_n_sample_range_out_of_bounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_n_sample_range_out_of_bounds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1373</span><span class="keyword">def </span>test_learning_curve_n_sample_range_out_of_bounds():</div>
<div class="line"><span class="lineno"> 1374</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1375</span>        n_samples=30,</div>
<div class="line"><span class="lineno"> 1376</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1377</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1378</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1379</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1380</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1381</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1382</span>    )</div>
<div class="line"><span class="lineno"> 1383</span>    estimator = MockImprovingEstimator(20)</div>
<div class="line"><span class="lineno"> 1384</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 1385</span>        learning_curve(estimator, X, y, cv=3, train_sizes=[0, 1])</div>
<div class="line"><span class="lineno"> 1386</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 1387</span>        learning_curve(estimator, X, y, cv=3, train_sizes=[0.0, 1.0])</div>
<div class="line"><span class="lineno"> 1388</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 1389</span>        learning_curve(estimator, X, y, cv=3, train_sizes=[0.1, 1.1])</div>
<div class="line"><span class="lineno"> 1390</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 1391</span>        learning_curve(estimator, X, y, cv=3, train_sizes=[0, 20])</div>
<div class="line"><span class="lineno"> 1392</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 1393</span>        learning_curve(estimator, X, y, cv=3, train_sizes=[1, 21])</div>
<div class="line"><span class="lineno"> 1394</span> </div>
<div class="line"><span class="lineno"> 1395</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f38f55d2ce404fbc4ebc2847fb6500d" name="a7f38f55d2ce404fbc4ebc2847fb6500d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f38f55d2ce404fbc4ebc2847fb6500d">&#9670;&#160;</a></span>test_learning_curve_partial_fit_regressors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_partial_fit_regressors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that regressors with partial_fit is supported.

Non-regression test for #22981.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2366</span><span class="keyword">def </span>test_learning_curve_partial_fit_regressors():</div>
<div class="line"><span class="lineno"> 2367</span>    <span class="stringliteral">&quot;&quot;&quot;Check that regressors with partial_fit is supported.</span></div>
<div class="line"><span class="lineno"> 2368</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2369</span><span class="stringliteral">    Non-regression test for #22981.</span></div>
<div class="line"><span class="lineno"> 2370</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2371</span>    X, y = make_regression(random_state=42)</div>
<div class="line"><span class="lineno"> 2372</span> </div>
<div class="line"><span class="lineno"> 2373</span>    <span class="comment"># Does not error</span></div>
<div class="line"><span class="lineno"> 2374</span>    learning_curve(MLPRegressor(), X, y, exploit_incremental_learning=<span class="keyword">True</span>, cv=2)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a69e89ae73d15a7ae9ee2bc6d4d1c150b" name="a69e89ae73d15a7ae9ee2bc6d4d1c150b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69e89ae73d15a7ae9ee2bc6d4d1c150b">&#9670;&#160;</a></span>test_learning_curve_remove_duplicate_sample_sizes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_remove_duplicate_sample_sizes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1396</span><span class="keyword">def </span>test_learning_curve_remove_duplicate_sample_sizes():</div>
<div class="line"><span class="lineno"> 1397</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1398</span>        n_samples=3,</div>
<div class="line"><span class="lineno"> 1399</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1400</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1401</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1402</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1403</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1404</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1405</span>    )</div>
<div class="line"><span class="lineno"> 1406</span>    estimator = MockImprovingEstimator(2)</div>
<div class="line"><span class="lineno"> 1407</span>    warning_message = (</div>
<div class="line"><span class="lineno"> 1408</span>        <span class="stringliteral">&quot;Removed duplicate entries from &#39;train_sizes&#39;. Number of ticks &quot;</span></div>
<div class="line"><span class="lineno"> 1409</span>        <span class="stringliteral">&quot;will be less than the size of &#39;train_sizes&#39;: 2 instead of 3.&quot;</span></div>
<div class="line"><span class="lineno"> 1410</span>    )</div>
<div class="line"><span class="lineno"> 1411</span>    <span class="keyword">with</span> pytest.warns(RuntimeWarning, match=warning_message):</div>
<div class="line"><span class="lineno"> 1412</span>        train_sizes, _, _ = learning_curve(</div>
<div class="line"><span class="lineno"> 1413</span>            estimator, X, y, cv=3, train_sizes=np.linspace(0.33, 1.0, 3)</div>
<div class="line"><span class="lineno"> 1414</span>        )</div>
<div class="line"><span class="lineno"> 1415</span>    assert_array_equal(train_sizes, [1, 2])</div>
<div class="line"><span class="lineno"> 1416</span> </div>
<div class="line"><span class="lineno"> 1417</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7886c356f1b75edec9fbecbcdffb0658" name="a7886c356f1b75edec9fbecbcdffb0658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7886c356f1b75edec9fbecbcdffb0658">&#9670;&#160;</a></span>test_learning_curve_unsupervised()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_unsupervised </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1223</span><span class="keyword">def </span>test_learning_curve_unsupervised():</div>
<div class="line"><span class="lineno"> 1224</span>    X, _ = make_classification(</div>
<div class="line"><span class="lineno"> 1225</span>        n_samples=30,</div>
<div class="line"><span class="lineno"> 1226</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1227</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1228</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1229</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1230</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1231</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1232</span>    )</div>
<div class="line"><span class="lineno"> 1233</span>    estimator = MockImprovingEstimator(20)</div>
<div class="line"><span class="lineno"> 1234</span>    train_sizes, train_scores, test_scores = learning_curve(</div>
<div class="line"><span class="lineno"> 1235</span>        estimator, X, y=<span class="keywordtype">None</span>, cv=3, train_sizes=np.linspace(0.1, 1.0, 10)</div>
<div class="line"><span class="lineno"> 1236</span>    )</div>
<div class="line"><span class="lineno"> 1237</span>    assert_array_equal(train_sizes, np.linspace(2, 20, 10))</div>
<div class="line"><span class="lineno"> 1238</span>    assert_array_almost_equal(train_scores.mean(axis=1), np.linspace(1.9, 1.0, 10))</div>
<div class="line"><span class="lineno"> 1239</span>    assert_array_almost_equal(test_scores.mean(axis=1), np.linspace(0.1, 1.0, 10))</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7c5227a39cc52c652b47d7e8f0a1450" name="ad7c5227a39cc52c652b47d7e8f0a1450"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7c5227a39cc52c652b47d7e8f0a1450">&#9670;&#160;</a></span>test_learning_curve_verbose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_verbose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1242</span><span class="keyword">def </span>test_learning_curve_verbose():</div>
<div class="line"><span class="lineno"> 1243</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1244</span>        n_samples=30,</div>
<div class="line"><span class="lineno"> 1245</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1246</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1247</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1248</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1249</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1250</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1251</span>    )</div>
<div class="line"><span class="lineno"> 1252</span>    estimator = MockImprovingEstimator(20)</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span>    old_stdout = sys.stdout</div>
<div class="line"><span class="lineno"> 1255</span>    sys.stdout = StringIO()</div>
<div class="line"><span class="lineno"> 1256</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1257</span>        train_sizes, train_scores, test_scores = learning_curve(</div>
<div class="line"><span class="lineno"> 1258</span>            estimator, X, y, cv=3, verbose=1</div>
<div class="line"><span class="lineno"> 1259</span>        )</div>
<div class="line"><span class="lineno"> 1260</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno"> 1261</span>        out = sys.stdout.getvalue()</div>
<div class="line"><span class="lineno"> 1262</span>        sys.stdout.close()</div>
<div class="line"><span class="lineno"> 1263</span>        sys.stdout = old_stdout</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>    <span class="keyword">assert</span> <span class="stringliteral">&quot;[learning_curve]&quot;</span> <span class="keywordflow">in</span> out</div>
<div class="line"><span class="lineno"> 1266</span> </div>
<div class="line"><span class="lineno"> 1267</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aad13e0488776ae3d0e4c0ceb42764ef1" name="aad13e0488776ae3d0e4c0ceb42764ef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad13e0488776ae3d0e4c0ceb42764ef1">&#9670;&#160;</a></span>test_learning_curve_with_boolean_indices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_with_boolean_indices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1418</span><span class="keyword">def </span>test_learning_curve_with_boolean_indices():</div>
<div class="line"><span class="lineno"> 1419</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1420</span>        n_samples=30,</div>
<div class="line"><span class="lineno"> 1421</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1422</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1423</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1424</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1425</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1426</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1427</span>    )</div>
<div class="line"><span class="lineno"> 1428</span>    estimator = MockImprovingEstimator(20)</div>
<div class="line"><span class="lineno"> 1429</span>    cv = KFold(n_splits=3)</div>
<div class="line"><span class="lineno"> 1430</span>    train_sizes, train_scores, test_scores = learning_curve(</div>
<div class="line"><span class="lineno"> 1431</span>        estimator, X, y, cv=cv, train_sizes=np.linspace(0.1, 1.0, 10)</div>
<div class="line"><span class="lineno"> 1432</span>    )</div>
<div class="line"><span class="lineno"> 1433</span>    assert_array_equal(train_sizes, np.linspace(2, 20, 10))</div>
<div class="line"><span class="lineno"> 1434</span>    assert_array_almost_equal(train_scores.mean(axis=1), np.linspace(1.9, 1.0, 10))</div>
<div class="line"><span class="lineno"> 1435</span>    assert_array_almost_equal(test_scores.mean(axis=1), np.linspace(0.1, 1.0, 10))</div>
<div class="line"><span class="lineno"> 1436</span> </div>
<div class="line"><span class="lineno"> 1437</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac711023ef5301acf14ab5d97854d840a" name="ac711023ef5301acf14ab5d97854d840a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac711023ef5301acf14ab5d97854d840a">&#9670;&#160;</a></span>test_learning_curve_with_shuffle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_learning_curve_with_shuffle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1438</span><span class="keyword">def </span>test_learning_curve_with_shuffle():</div>
<div class="line"><span class="lineno"> 1439</span>    <span class="comment"># Following test case was designed this way to verify the code</span></div>
<div class="line"><span class="lineno"> 1440</span>    <span class="comment"># changes made in pull request: #7506.</span></div>
<div class="line"><span class="lineno"> 1441</span>    X = np.array(</div>
<div class="line"><span class="lineno"> 1442</span>        [</div>
<div class="line"><span class="lineno"> 1443</span>            [1, 2],</div>
<div class="line"><span class="lineno"> 1444</span>            [3, 4],</div>
<div class="line"><span class="lineno"> 1445</span>            [5, 6],</div>
<div class="line"><span class="lineno"> 1446</span>            [7, 8],</div>
<div class="line"><span class="lineno"> 1447</span>            [11, 12],</div>
<div class="line"><span class="lineno"> 1448</span>            [13, 14],</div>
<div class="line"><span class="lineno"> 1449</span>            [15, 16],</div>
<div class="line"><span class="lineno"> 1450</span>            [17, 18],</div>
<div class="line"><span class="lineno"> 1451</span>            [19, 20],</div>
<div class="line"><span class="lineno"> 1452</span>            [7, 8],</div>
<div class="line"><span class="lineno"> 1453</span>            [9, 10],</div>
<div class="line"><span class="lineno"> 1454</span>            [11, 12],</div>
<div class="line"><span class="lineno"> 1455</span>            [13, 14],</div>
<div class="line"><span class="lineno"> 1456</span>            [15, 16],</div>
<div class="line"><span class="lineno"> 1457</span>            [17, 18],</div>
<div class="line"><span class="lineno"> 1458</span>        ]</div>
<div class="line"><span class="lineno"> 1459</span>    )</div>
<div class="line"><span class="lineno"> 1460</span>    y = np.array([1, 1, 1, 2, 3, 4, 1, 1, 2, 3, 4, 1, 2, 3, 4])</div>
<div class="line"><span class="lineno"> 1461</span>    groups = np.array([1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 4, 4, 4, 4])</div>
<div class="line"><span class="lineno"> 1462</span>    <span class="comment"># Splits on these groups fail without shuffle as the first iteration</span></div>
<div class="line"><span class="lineno"> 1463</span>    <span class="comment"># of the learning curve doesn&#39;t contain label 4 in the training set.</span></div>
<div class="line"><span class="lineno"> 1464</span>    estimator = PassiveAggressiveClassifier(max_iter=5, tol=<span class="keywordtype">None</span>, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1465</span> </div>
<div class="line"><span class="lineno"> 1466</span>    cv = GroupKFold(n_splits=2)</div>
<div class="line"><span class="lineno"> 1467</span>    train_sizes_batch, train_scores_batch, test_scores_batch = learning_curve(</div>
<div class="line"><span class="lineno"> 1468</span>        estimator,</div>
<div class="line"><span class="lineno"> 1469</span>        X,</div>
<div class="line"><span class="lineno"> 1470</span>        y,</div>
<div class="line"><span class="lineno"> 1471</span>        cv=cv,</div>
<div class="line"><span class="lineno"> 1472</span>        n_jobs=1,</div>
<div class="line"><span class="lineno"> 1473</span>        train_sizes=np.linspace(0.3, 1.0, 3),</div>
<div class="line"><span class="lineno"> 1474</span>        groups=groups,</div>
<div class="line"><span class="lineno"> 1475</span>        shuffle=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1476</span>        random_state=2,</div>
<div class="line"><span class="lineno"> 1477</span>    )</div>
<div class="line"><span class="lineno"> 1478</span>    assert_array_almost_equal(</div>
<div class="line"><span class="lineno"> 1479</span>        train_scores_batch.mean(axis=1), np.array([0.75, 0.3, 0.36111111])</div>
<div class="line"><span class="lineno"> 1480</span>    )</div>
<div class="line"><span class="lineno"> 1481</span>    assert_array_almost_equal(</div>
<div class="line"><span class="lineno"> 1482</span>        test_scores_batch.mean(axis=1), np.array([0.36111111, 0.25, 0.25])</div>
<div class="line"><span class="lineno"> 1483</span>    )</div>
<div class="line"><span class="lineno"> 1484</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 1485</span>        learning_curve(</div>
<div class="line"><span class="lineno"> 1486</span>            estimator,</div>
<div class="line"><span class="lineno"> 1487</span>            X,</div>
<div class="line"><span class="lineno"> 1488</span>            y,</div>
<div class="line"><span class="lineno"> 1489</span>            cv=cv,</div>
<div class="line"><span class="lineno"> 1490</span>            n_jobs=1,</div>
<div class="line"><span class="lineno"> 1491</span>            train_sizes=np.linspace(0.3, 1.0, 3),</div>
<div class="line"><span class="lineno"> 1492</span>            groups=groups,</div>
<div class="line"><span class="lineno"> 1493</span>            error_score=<span class="stringliteral">&quot;raise&quot;</span>,</div>
<div class="line"><span class="lineno"> 1494</span>        )</div>
<div class="line"><span class="lineno"> 1495</span> </div>
<div class="line"><span class="lineno"> 1496</span>    train_sizes_inc, train_scores_inc, test_scores_inc = learning_curve(</div>
<div class="line"><span class="lineno"> 1497</span>        estimator,</div>
<div class="line"><span class="lineno"> 1498</span>        X,</div>
<div class="line"><span class="lineno"> 1499</span>        y,</div>
<div class="line"><span class="lineno"> 1500</span>        cv=cv,</div>
<div class="line"><span class="lineno"> 1501</span>        n_jobs=1,</div>
<div class="line"><span class="lineno"> 1502</span>        train_sizes=np.linspace(0.3, 1.0, 3),</div>
<div class="line"><span class="lineno"> 1503</span>        groups=groups,</div>
<div class="line"><span class="lineno"> 1504</span>        shuffle=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1505</span>        random_state=2,</div>
<div class="line"><span class="lineno"> 1506</span>        exploit_incremental_learning=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1507</span>    )</div>
<div class="line"><span class="lineno"> 1508</span>    assert_array_almost_equal(</div>
<div class="line"><span class="lineno"> 1509</span>        train_scores_inc.mean(axis=1), train_scores_batch.mean(axis=1)</div>
<div class="line"><span class="lineno"> 1510</span>    )</div>
<div class="line"><span class="lineno"> 1511</span>    assert_array_almost_equal(</div>
<div class="line"><span class="lineno"> 1512</span>        test_scores_inc.mean(axis=1), test_scores_batch.mean(axis=1)</div>
<div class="line"><span class="lineno"> 1513</span>    )</div>
<div class="line"><span class="lineno"> 1514</span> </div>
<div class="line"><span class="lineno"> 1515</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a31da8323b7730207f50225872816799a" name="a31da8323b7730207f50225872816799a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31da8323b7730207f50225872816799a">&#9670;&#160;</a></span>test_permutation_score()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_permutation_score </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  766</span><span class="keyword">def </span>test_permutation_score():</div>
<div class="line"><span class="lineno">  767</span>    iris = load_iris()</div>
<div class="line"><span class="lineno">  768</span>    X = iris.data</div>
<div class="line"><span class="lineno">  769</span>    X_sparse = coo_matrix(X)</div>
<div class="line"><span class="lineno">  770</span>    y = iris.target</div>
<div class="line"><span class="lineno">  771</span>    svm = SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>)</div>
<div class="line"><span class="lineno">  772</span>    cv = StratifiedKFold(2)</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    score, scores, pvalue = permutation_test_score(</div>
<div class="line"><span class="lineno">  775</span>        svm, X, y, n_permutations=30, cv=cv, scoring=<span class="stringliteral">&quot;accuracy&quot;</span></div>
<div class="line"><span class="lineno">  776</span>    )</div>
<div class="line"><span class="lineno">  777</span>    <span class="keyword">assert</span> score &gt; 0.9</div>
<div class="line"><span class="lineno">  778</span>    assert_almost_equal(pvalue, 0.0, 1)</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>    score_group, _, pvalue_group = permutation_test_score(</div>
<div class="line"><span class="lineno">  781</span>        svm,</div>
<div class="line"><span class="lineno">  782</span>        X,</div>
<div class="line"><span class="lineno">  783</span>        y,</div>
<div class="line"><span class="lineno">  784</span>        n_permutations=30,</div>
<div class="line"><span class="lineno">  785</span>        cv=cv,</div>
<div class="line"><span class="lineno">  786</span>        scoring=<span class="stringliteral">&quot;accuracy&quot;</span>,</div>
<div class="line"><span class="lineno">  787</span>        groups=np.ones(y.size),</div>
<div class="line"><span class="lineno">  788</span>        random_state=0,</div>
<div class="line"><span class="lineno">  789</span>    )</div>
<div class="line"><span class="lineno">  790</span>    <span class="keyword">assert</span> score_group == score</div>
<div class="line"><span class="lineno">  791</span>    <span class="keyword">assert</span> pvalue_group == pvalue</div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>    <span class="comment"># check that we obtain the same results with a sparse representation</span></div>
<div class="line"><span class="lineno">  794</span>    svm_sparse = SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>)</div>
<div class="line"><span class="lineno">  795</span>    cv_sparse = StratifiedKFold(2)</div>
<div class="line"><span class="lineno">  796</span>    score_group, _, pvalue_group = permutation_test_score(</div>
<div class="line"><span class="lineno">  797</span>        svm_sparse,</div>
<div class="line"><span class="lineno">  798</span>        X_sparse,</div>
<div class="line"><span class="lineno">  799</span>        y,</div>
<div class="line"><span class="lineno">  800</span>        n_permutations=30,</div>
<div class="line"><span class="lineno">  801</span>        cv=cv_sparse,</div>
<div class="line"><span class="lineno">  802</span>        scoring=<span class="stringliteral">&quot;accuracy&quot;</span>,</div>
<div class="line"><span class="lineno">  803</span>        groups=np.ones(y.size),</div>
<div class="line"><span class="lineno">  804</span>        random_state=0,</div>
<div class="line"><span class="lineno">  805</span>    )</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>    <span class="keyword">assert</span> score_group == score</div>
<div class="line"><span class="lineno">  808</span>    <span class="keyword">assert</span> pvalue_group == pvalue</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>    <span class="comment"># test with custom scoring object</span></div>
<div class="line"><span class="lineno">  811</span>    <span class="keyword">def </span>custom_score(y_true, y_pred):</div>
<div class="line"><span class="lineno">  812</span>        <span class="keywordflow">return</span> ((y_true == y_pred).sum() - (y_true != y_pred).sum()) / y_true.shape[0]</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>    scorer = make_scorer(custom_score)</div>
<div class="line"><span class="lineno">  815</span>    score, _, pvalue = permutation_test_score(</div>
<div class="line"><span class="lineno">  816</span>        svm, X, y, n_permutations=100, scoring=scorer, cv=cv, random_state=0</div>
<div class="line"><span class="lineno">  817</span>    )</div>
<div class="line"><span class="lineno">  818</span>    assert_almost_equal(score, 0.93, 2)</div>
<div class="line"><span class="lineno">  819</span>    assert_almost_equal(pvalue, 0.01, 3)</div>
<div class="line"><span class="lineno">  820</span> </div>
<div class="line"><span class="lineno">  821</span>    <span class="comment"># set random y</span></div>
<div class="line"><span class="lineno">  822</span>    y = np.mod(np.arange(len(y)), 3)</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>    score, scores, pvalue = permutation_test_score(</div>
<div class="line"><span class="lineno">  825</span>        svm, X, y, n_permutations=30, cv=cv, scoring=<span class="stringliteral">&quot;accuracy&quot;</span></div>
<div class="line"><span class="lineno">  826</span>    )</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>    <span class="keyword">assert</span> score &lt; 0.5</div>
<div class="line"><span class="lineno">  829</span>    <span class="keyword">assert</span> pvalue &gt; 0.2</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af3a9c887905967d4ba898839a0eb13a3" name="af3a9c887905967d4ba898839a0eb13a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3a9c887905967d4ba898839a0eb13a3">&#9670;&#160;</a></span>test_permutation_test_score_allow_nans()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_permutation_test_score_allow_nans </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  832</span><span class="keyword">def </span>test_permutation_test_score_allow_nans():</div>
<div class="line"><span class="lineno">  833</span>    <span class="comment"># Check that permutation_test_score allows input data with NaNs</span></div>
<div class="line"><span class="lineno">  834</span>    X = np.arange(200, dtype=np.float64).reshape(10, -1)</div>
<div class="line"><span class="lineno">  835</span>    X[2, :] = np.nan</div>
<div class="line"><span class="lineno">  836</span>    y = np.repeat([0, 1], X.shape[0] / 2)</div>
<div class="line"><span class="lineno">  837</span>    p = Pipeline(</div>
<div class="line"><span class="lineno">  838</span>        [</div>
<div class="line"><span class="lineno">  839</span>            (<span class="stringliteral">&quot;imputer&quot;</span>, SimpleImputer(strategy=<span class="stringliteral">&quot;mean&quot;</span>, missing_values=np.nan)),</div>
<div class="line"><span class="lineno">  840</span>            (<span class="stringliteral">&quot;classifier&quot;</span>, MockClassifier()),</div>
<div class="line"><span class="lineno">  841</span>        ]</div>
<div class="line"><span class="lineno">  842</span>    )</div>
<div class="line"><span class="lineno">  843</span>    permutation_test_score(p, X, y)</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a7e9f90b8d222c5157b30b98e2bd230" name="a0a7e9f90b8d222c5157b30b98e2bd230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a7e9f90b8d222c5157b30b98e2bd230">&#9670;&#160;</a></span>test_permutation_test_score_fit_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_permutation_test_score_fit_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  846</span><span class="keyword">def </span>test_permutation_test_score_fit_params():</div>
<div class="line"><span class="lineno">  847</span>    X = np.arange(100).reshape(10, 10)</div>
<div class="line"><span class="lineno">  848</span>    y = np.array([0] * 5 + [1] * 5)</div>
<div class="line"><span class="lineno">  849</span>    clf = CheckingClassifier(expected_sample_weight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>    err_msg = <span class="stringliteral">r&quot;Expected sample_weight to be passed&quot;</span></div>
<div class="line"><span class="lineno">  852</span>    <span class="keyword">with</span> pytest.raises(AssertionError, match=err_msg):</div>
<div class="line"><span class="lineno">  853</span>        permutation_test_score(clf, X, y)</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>    err_msg = <span class="stringliteral">r&quot;sample_weight.shape == \&zwj;(1,\&zwj;), expected \&zwj;(8,\&zwj;)!&quot;</span></div>
<div class="line"><span class="lineno">  856</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno">  857</span>        permutation_test_score(clf, X, y, fit_params={<span class="stringliteral">&quot;sample_weight&quot;</span>: np.ones(1)})</div>
<div class="line"><span class="lineno">  858</span>    permutation_test_score(clf, X, y, fit_params={<span class="stringliteral">&quot;sample_weight&quot;</span>: np.ones(10)})</div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a55aabb292c2d83bbdc7fe1965dd77923" name="a55aabb292c2d83bbdc7fe1965dd77923"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55aabb292c2d83bbdc7fe1965dd77923">&#9670;&#160;</a></span>test_permutation_test_score_pandas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_permutation_test_score_pandas </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2057</span><span class="keyword">def </span>test_permutation_test_score_pandas():</div>
<div class="line"><span class="lineno"> 2058</span>    <span class="comment"># check permutation_test_score doesn&#39;t destroy pandas dataframe</span></div>
<div class="line"><span class="lineno"> 2059</span>    types = [(MockDataFrame, MockDataFrame)]</div>
<div class="line"><span class="lineno"> 2060</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2061</span>        <span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</div>
<div class="line"><span class="lineno"> 2062</span> </div>
<div class="line"><span class="lineno"> 2063</span>        types.append((Series, DataFrame))</div>
<div class="line"><span class="lineno"> 2064</span>    <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno"> 2065</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 2066</span>    <span class="keywordflow">for</span> TargetType, InputFeatureType <span class="keywordflow">in</span> types:</div>
<div class="line"><span class="lineno"> 2067</span>        <span class="comment"># X dataframe, y series</span></div>
<div class="line"><span class="lineno"> 2068</span>        iris = load_iris()</div>
<div class="line"><span class="lineno"> 2069</span>        X, y = iris.data, iris.target</div>
<div class="line"><span class="lineno"> 2070</span>        X_df, y_ser = InputFeatureType(X), TargetType(y)</div>
<div class="line"><span class="lineno"> 2071</span>        check_df = <span class="keyword">lambda</span> x: isinstance(x, InputFeatureType)</div>
<div class="line"><span class="lineno"> 2072</span>        check_series = <span class="keyword">lambda</span> x: isinstance(x, TargetType)</div>
<div class="line"><span class="lineno"> 2073</span>        clf = CheckingClassifier(check_X=check_df, check_y=check_series)</div>
<div class="line"><span class="lineno"> 2074</span>        permutation_test_score(clf, X_df, y_ser)</div>
<div class="line"><span class="lineno"> 2075</span> </div>
<div class="line"><span class="lineno"> 2076</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a288c04f5976e2a6a1acc95f0b49c41c9" name="a288c04f5976e2a6a1acc95f0b49c41c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a288c04f5976e2a6a1acc95f0b49c41c9">&#9670;&#160;</a></span>test_score()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_score </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2339</span><span class="keyword">def </span>test_score():</div>
<div class="line"><span class="lineno"> 2340</span>    error_message = <span class="stringliteral">&quot;scoring must return a number, got None&quot;</span></div>
<div class="line"><span class="lineno"> 2341</span> </div>
<div class="line"><span class="lineno"> 2342</span>    <span class="keyword">def </span>two_params_scorer(estimator, X_test):</div>
<div class="line"><span class="lineno"> 2343</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2344</span> </div>
<div class="line"><span class="lineno"> 2345</span>    fit_and_score_args = [<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>, two_params_scorer]</div>
<div class="line"><span class="lineno"> 2346</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message):</div>
<div class="line"><span class="lineno"> 2347</span>        _score(*fit_and_score_args, error_score=np.nan)</div>
<div class="line"><span class="lineno"> 2348</span> </div>
<div class="line"><span class="lineno"> 2349</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a21b30a49ba8955ae3e5688bb5480e296" name="a21b30a49ba8955ae3e5688bb5480e296"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21b30a49ba8955ae3e5688bb5480e296">&#9670;&#160;</a></span>test_score_memmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_score_memmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2030</span><span class="keyword">def </span>test_score_memmap():</div>
<div class="line"><span class="lineno"> 2031</span>    <span class="comment"># Ensure a scalar score of memmap type is accepted</span></div>
<div class="line"><span class="lineno"> 2032</span>    iris = load_iris()</div>
<div class="line"><span class="lineno"> 2033</span>    X, y = iris.data, iris.target</div>
<div class="line"><span class="lineno"> 2034</span>    clf = MockClassifier()</div>
<div class="line"><span class="lineno"> 2035</span>    tf = tempfile.NamedTemporaryFile(mode=<span class="stringliteral">&quot;wb&quot;</span>, delete=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 2036</span>    tf.write(b<span class="stringliteral">&quot;Hello world!!!!!&quot;</span>)</div>
<div class="line"><span class="lineno"> 2037</span>    tf.close()</div>
<div class="line"><span class="lineno"> 2038</span>    scores = np.memmap(tf.name, dtype=np.float64)</div>
<div class="line"><span class="lineno"> 2039</span>    score = np.memmap(tf.name, shape=(), mode=<span class="stringliteral">&quot;r&quot;</span>, dtype=np.float64)</div>
<div class="line"><span class="lineno"> 2040</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2041</span>        cross_val_score(clf, X, y, scoring=<span class="keyword">lambda</span> est, X, y: score)</div>
<div class="line"><span class="lineno"> 2042</span>        <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 2043</span>            cross_val_score(clf, X, y, scoring=<span class="keyword">lambda</span> est, X, y: scores)</div>
<div class="line"><span class="lineno"> 2044</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno"> 2045</span>        <span class="comment"># Best effort to release the mmap file handles before deleting the</span></div>
<div class="line"><span class="lineno"> 2046</span>        <span class="comment"># backing file under Windows</span></div>
<div class="line"><span class="lineno"> 2047</span>        scores, score = <span class="keywordtype">None</span>, <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2048</span>        <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(3):</div>
<div class="line"><span class="lineno"> 2049</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2050</span>                os.unlink(tf.name)</div>
<div class="line"><span class="lineno"> 2051</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 2052</span>            <span class="keywordflow">except</span> WindowsError:</div>
<div class="line"><span class="lineno"> 2053</span>                sleep(1.0)</div>
<div class="line"><span class="lineno"> 2054</span> </div>
<div class="line"><span class="lineno"> 2055</span> </div>
<div class="line"><span class="lineno"> 2056</span><span class="preprocessor">@pytest.mark.filterwarnings(&quot;ignore: Using or importing the ABCs from&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3dbe5db045b9c88398c2244f4b77e625" name="a3dbe5db045b9c88398c2244f4b77e625"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dbe5db045b9c88398c2244f4b77e625">&#9670;&#160;</a></span>test_validation_curve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_validation_curve </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1583</span><span class="keyword">def </span>test_validation_curve():</div>
<div class="line"><span class="lineno"> 1584</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1585</span>        n_samples=2,</div>
<div class="line"><span class="lineno"> 1586</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1587</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1588</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1589</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1590</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1591</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1592</span>    )</div>
<div class="line"><span class="lineno"> 1593</span>    param_range = np.linspace(0, 1, 10)</div>
<div class="line"><span class="lineno"> 1594</span>    <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> w:</div>
<div class="line"><span class="lineno"> 1595</span>        train_scores, test_scores = validation_curve(</div>
<div class="line"><span class="lineno"> 1596</span>            MockEstimatorWithParameter(),</div>
<div class="line"><span class="lineno"> 1597</span>            X,</div>
<div class="line"><span class="lineno"> 1598</span>            y,</div>
<div class="line"><span class="lineno"> 1599</span>            param_name=<span class="stringliteral">&quot;param&quot;</span>,</div>
<div class="line"><span class="lineno"> 1600</span>            param_range=param_range,</div>
<div class="line"><span class="lineno"> 1601</span>            cv=2,</div>
<div class="line"><span class="lineno"> 1602</span>        )</div>
<div class="line"><span class="lineno"> 1603</span>    <span class="keywordflow">if</span> len(w) &gt; 0:</div>
<div class="line"><span class="lineno"> 1604</span>        <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&quot;Unexpected warning: %r&quot;</span> % w[0].message)</div>
<div class="line"><span class="lineno"> 1605</span> </div>
<div class="line"><span class="lineno"> 1606</span>    assert_array_almost_equal(train_scores.mean(axis=1), param_range)</div>
<div class="line"><span class="lineno"> 1607</span>    assert_array_almost_equal(test_scores.mean(axis=1), 1 - param_range)</div>
<div class="line"><span class="lineno"> 1608</span> </div>
<div class="line"><span class="lineno"> 1609</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa73eaf68a1e664d22b632d97bb6ee861" name="aa73eaf68a1e664d22b632d97bb6ee861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa73eaf68a1e664d22b632d97bb6ee861">&#9670;&#160;</a></span>test_validation_curve_clone_estimator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_validation_curve_clone_estimator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1610</span><span class="keyword">def </span>test_validation_curve_clone_estimator():</div>
<div class="line"><span class="lineno"> 1611</span>    X, y = make_classification(</div>
<div class="line"><span class="lineno"> 1612</span>        n_samples=2,</div>
<div class="line"><span class="lineno"> 1613</span>        n_features=1,</div>
<div class="line"><span class="lineno"> 1614</span>        n_informative=1,</div>
<div class="line"><span class="lineno"> 1615</span>        n_redundant=0,</div>
<div class="line"><span class="lineno"> 1616</span>        n_classes=2,</div>
<div class="line"><span class="lineno"> 1617</span>        n_clusters_per_class=1,</div>
<div class="line"><span class="lineno"> 1618</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1619</span>    )</div>
<div class="line"><span class="lineno"> 1620</span> </div>
<div class="line"><span class="lineno"> 1621</span>    param_range = np.linspace(1, 0, 10)</div>
<div class="line"><span class="lineno"> 1622</span>    _, _ = validation_curve(</div>
<div class="line"><span class="lineno"> 1623</span>        MockEstimatorWithSingleFitCallAllowed(),</div>
<div class="line"><span class="lineno"> 1624</span>        X,</div>
<div class="line"><span class="lineno"> 1625</span>        y,</div>
<div class="line"><span class="lineno"> 1626</span>        param_name=<span class="stringliteral">&quot;param&quot;</span>,</div>
<div class="line"><span class="lineno"> 1627</span>        param_range=param_range,</div>
<div class="line"><span class="lineno"> 1628</span>        cv=2,</div>
<div class="line"><span class="lineno"> 1629</span>    )</div>
<div class="line"><span class="lineno"> 1630</span> </div>
<div class="line"><span class="lineno"> 1631</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e8c0d3fcfe3ec1140d344d8fc06d0d1" name="a1e8c0d3fcfe3ec1140d344d8fc06d0d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e8c0d3fcfe3ec1140d344d8fc06d0d1">&#9670;&#160;</a></span>test_validation_curve_cv_splits_consistency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_validation_curve_cv_splits_consistency </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1632</span><span class="keyword">def </span>test_validation_curve_cv_splits_consistency():</div>
<div class="line"><span class="lineno"> 1633</span>    n_samples = 100</div>
<div class="line"><span class="lineno"> 1634</span>    n_splits = 5</div>
<div class="line"><span class="lineno"> 1635</span>    X, y = make_classification(n_samples=100, random_state=0)</div>
<div class="line"><span class="lineno"> 1636</span> </div>
<div class="line"><span class="lineno"> 1637</span>    scores1 = validation_curve(</div>
<div class="line"><span class="lineno"> 1638</span>        SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>, random_state=0),</div>
<div class="line"><span class="lineno"> 1639</span>        X,</div>
<div class="line"><span class="lineno"> 1640</span>        y,</div>
<div class="line"><span class="lineno"> 1641</span>        param_name=<span class="stringliteral">&quot;C&quot;</span>,</div>
<div class="line"><span class="lineno"> 1642</span>        param_range=[0.1, 0.1, 0.2, 0.2],</div>
<div class="line"><span class="lineno"> 1643</span>        cv=OneTimeSplitter(n_splits=n_splits, n_samples=n_samples),</div>
<div class="line"><span class="lineno"> 1644</span>    )</div>
<div class="line"><span class="lineno"> 1645</span>    <span class="comment"># The OneTimeSplitter is a non-re-entrant cv splitter. Unless, the</span></div>
<div class="line"><span class="lineno"> 1646</span>    <span class="comment"># `split` is called for each parameter, the following should produce</span></div>
<div class="line"><span class="lineno"> 1647</span>    <span class="comment"># identical results for param setting 1 and param setting 2 as both have</span></div>
<div class="line"><span class="lineno"> 1648</span>    <span class="comment"># the same C value.</span></div>
<div class="line"><span class="lineno"> 1649</span>    assert_array_almost_equal(*np.vsplit(np.hstack(scores1)[(0, 2, 1, 3), :], 2))</div>
<div class="line"><span class="lineno"> 1650</span> </div>
<div class="line"><span class="lineno"> 1651</span>    scores2 = validation_curve(</div>
<div class="line"><span class="lineno"> 1652</span>        SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>, random_state=0),</div>
<div class="line"><span class="lineno"> 1653</span>        X,</div>
<div class="line"><span class="lineno"> 1654</span>        y,</div>
<div class="line"><span class="lineno"> 1655</span>        param_name=<span class="stringliteral">&quot;C&quot;</span>,</div>
<div class="line"><span class="lineno"> 1656</span>        param_range=[0.1, 0.1, 0.2, 0.2],</div>
<div class="line"><span class="lineno"> 1657</span>        cv=KFold(n_splits=n_splits, shuffle=<span class="keyword">True</span>),</div>
<div class="line"><span class="lineno"> 1658</span>    )</div>
<div class="line"><span class="lineno"> 1659</span> </div>
<div class="line"><span class="lineno"> 1660</span>    <span class="comment"># For scores2, compare the 1st and 2nd parameter&#39;s scores</span></div>
<div class="line"><span class="lineno"> 1661</span>    <span class="comment"># (Since the C value for 1st two param setting is 0.1, they must be</span></div>
<div class="line"><span class="lineno"> 1662</span>    <span class="comment"># consistent unless the train test folds differ between the param settings)</span></div>
<div class="line"><span class="lineno"> 1663</span>    assert_array_almost_equal(*np.vsplit(np.hstack(scores2)[(0, 2, 1, 3), :], 2))</div>
<div class="line"><span class="lineno"> 1664</span> </div>
<div class="line"><span class="lineno"> 1665</span>    scores3 = validation_curve(</div>
<div class="line"><span class="lineno"> 1666</span>        SVC(kernel=<span class="stringliteral">&quot;linear&quot;</span>, random_state=0),</div>
<div class="line"><span class="lineno"> 1667</span>        X,</div>
<div class="line"><span class="lineno"> 1668</span>        y,</div>
<div class="line"><span class="lineno"> 1669</span>        param_name=<span class="stringliteral">&quot;C&quot;</span>,</div>
<div class="line"><span class="lineno"> 1670</span>        param_range=[0.1, 0.1, 0.2, 0.2],</div>
<div class="line"><span class="lineno"> 1671</span>        cv=KFold(n_splits=n_splits),</div>
<div class="line"><span class="lineno"> 1672</span>    )</div>
<div class="line"><span class="lineno"> 1673</span> </div>
<div class="line"><span class="lineno"> 1674</span>    <span class="comment"># OneTimeSplitter is basically unshuffled KFold(n_splits=5). Sanity check.</span></div>
<div class="line"><span class="lineno"> 1675</span>    assert_array_almost_equal(np.array(scores3), np.array(scores1))</div>
<div class="line"><span class="lineno"> 1676</span> </div>
<div class="line"><span class="lineno"> 1677</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2eea6d4a5fff48c68272f190d6f1cdbb" name="a2eea6d4a5fff48c68272f190d6f1cdbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eea6d4a5fff48c68272f190d6f1cdbb">&#9670;&#160;</a></span>test_validation_curve_fit_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.test_validation_curve_fit_params </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1678</span><span class="keyword">def </span>test_validation_curve_fit_params():</div>
<div class="line"><span class="lineno"> 1679</span>    X = np.arange(100).reshape(10, 10)</div>
<div class="line"><span class="lineno"> 1680</span>    y = np.array([0] * 5 + [1] * 5)</div>
<div class="line"><span class="lineno"> 1681</span>    clf = CheckingClassifier(expected_sample_weight=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1682</span> </div>
<div class="line"><span class="lineno"> 1683</span>    err_msg = <span class="stringliteral">r&quot;Expected sample_weight to be passed&quot;</span></div>
<div class="line"><span class="lineno"> 1684</span>    <span class="keyword">with</span> pytest.raises(AssertionError, match=err_msg):</div>
<div class="line"><span class="lineno"> 1685</span>        validation_curve(</div>
<div class="line"><span class="lineno"> 1686</span>            clf,</div>
<div class="line"><span class="lineno"> 1687</span>            X,</div>
<div class="line"><span class="lineno"> 1688</span>            y,</div>
<div class="line"><span class="lineno"> 1689</span>            param_name=<span class="stringliteral">&quot;foo_param&quot;</span>,</div>
<div class="line"><span class="lineno"> 1690</span>            param_range=[1, 2, 3],</div>
<div class="line"><span class="lineno"> 1691</span>            error_score=<span class="stringliteral">&quot;raise&quot;</span>,</div>
<div class="line"><span class="lineno"> 1692</span>        )</div>
<div class="line"><span class="lineno"> 1693</span> </div>
<div class="line"><span class="lineno"> 1694</span>    err_msg = <span class="stringliteral">r&quot;sample_weight.shape == \&zwj;(1,\&zwj;), expected \&zwj;(8,\&zwj;)!&quot;</span></div>
<div class="line"><span class="lineno"> 1695</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno"> 1696</span>        validation_curve(</div>
<div class="line"><span class="lineno"> 1697</span>            clf,</div>
<div class="line"><span class="lineno"> 1698</span>            X,</div>
<div class="line"><span class="lineno"> 1699</span>            y,</div>
<div class="line"><span class="lineno"> 1700</span>            param_name=<span class="stringliteral">&quot;foo_param&quot;</span>,</div>
<div class="line"><span class="lineno"> 1701</span>            param_range=[1, 2, 3],</div>
<div class="line"><span class="lineno"> 1702</span>            error_score=<span class="stringliteral">&quot;raise&quot;</span>,</div>
<div class="line"><span class="lineno"> 1703</span>            fit_params={<span class="stringliteral">&quot;sample_weight&quot;</span>: np.ones(1)},</div>
<div class="line"><span class="lineno"> 1704</span>        )</div>
<div class="line"><span class="lineno"> 1705</span>    validation_curve(</div>
<div class="line"><span class="lineno"> 1706</span>        clf,</div>
<div class="line"><span class="lineno"> 1707</span>        X,</div>
<div class="line"><span class="lineno"> 1708</span>        y,</div>
<div class="line"><span class="lineno"> 1709</span>        param_name=<span class="stringliteral">&quot;foo_param&quot;</span>,</div>
<div class="line"><span class="lineno"> 1710</span>        param_range=[1, 2, 3],</div>
<div class="line"><span class="lineno"> 1711</span>        error_score=<span class="stringliteral">&quot;raise&quot;</span>,</div>
<div class="line"><span class="lineno"> 1712</span>        fit_params={<span class="stringliteral">&quot;sample_weight&quot;</span>: np.ones(10)},</div>
<div class="line"><span class="lineno"> 1713</span>    )</div>
<div class="line"><span class="lineno"> 1714</span> </div>
<div class="line"><span class="lineno"> 1715</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1283f0da6d9a4d995a928c9c02046306" name="a1283f0da6d9a4d995a928c9c02046306"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1283f0da6d9a4d995a928c9c02046306">&#9670;&#160;</a></span>three_params_scorer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.three_params_scorer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>k</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2280</span><span class="keyword">def </span>three_params_scorer(i, j, k):</div>
<div class="line"><span class="lineno"> 2281</span>    <span class="keywordflow">return</span> 3.4213</div>
<div class="line"><span class="lineno"> 2282</span> </div>
<div class="line"><span class="lineno"> 2283</span> </div>
<div class="line"><span class="lineno"> 2284</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 2285</span>    <span class="stringliteral">&quot;train_score, scorer, verbose, split_prg, cdt_prg, expected&quot;</span>,</div>
<div class="line"><span class="lineno"> 2286</span>    [</div>
<div class="line"><span class="lineno"> 2287</span>        (</div>
<div class="line"><span class="lineno"> 2288</span>            <span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 2289</span>            three_params_scorer,</div>
<div class="line"><span class="lineno"> 2290</span>            2,</div>
<div class="line"><span class="lineno"> 2291</span>            (1, 3),</div>
<div class="line"><span class="lineno"> 2292</span>            (0, 1),</div>
<div class="line"><span class="lineno"> 2293</span>            <span class="stringliteral">r&quot;\[CV\] END ....................................................&quot;</span></div>
<div class="line"><span class="lineno"> 2294</span>            <span class="stringliteral">r&quot; total time=   0.\ds&quot;</span>,</div>
<div class="line"><span class="lineno"> 2295</span>        ),</div>
<div class="line"><span class="lineno"> 2296</span>        (</div>
<div class="line"><span class="lineno"> 2297</span>            <span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 2298</span>            {<span class="stringliteral">&quot;sc1&quot;</span>: three_params_scorer, <span class="stringliteral">&quot;sc2&quot;</span>: three_params_scorer},</div>
<div class="line"><span class="lineno"> 2299</span>            3,</div>
<div class="line"><span class="lineno"> 2300</span>            (1, 3),</div>
<div class="line"><span class="lineno"> 2301</span>            (0, 1),</div>
<div class="line"><span class="lineno"> 2302</span>            <span class="stringliteral">r&quot;\[CV 2/3\] END  sc1: \&zwj;(train=3.421, test=3.421\&zwj;) sc2: &quot;</span></div>
<div class="line"><span class="lineno"> 2303</span>            <span class="stringliteral">r&quot;\&zwj;(train=3.421, test=3.421\&zwj;) total time=   0.\ds&quot;</span>,</div>
<div class="line"><span class="lineno"> 2304</span>        ),</div>
<div class="line"><span class="lineno"> 2305</span>        (</div>
<div class="line"><span class="lineno"> 2306</span>            <span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 2307</span>            {<span class="stringliteral">&quot;sc1&quot;</span>: three_params_scorer, <span class="stringliteral">&quot;sc2&quot;</span>: three_params_scorer},</div>
<div class="line"><span class="lineno"> 2308</span>            10,</div>
<div class="line"><span class="lineno"> 2309</span>            (1, 3),</div>
<div class="line"><span class="lineno"> 2310</span>            (0, 1),</div>
<div class="line"><span class="lineno"> 2311</span>            <span class="stringliteral">r&quot;\[CV 2/3; 1/1\] END ....... sc1: \&zwj;(test=3.421\&zwj;) sc2: \&zwj;(test=3.421\&zwj;)&quot;</span></div>
<div class="line"><span class="lineno"> 2312</span>            <span class="stringliteral">r&quot; total time=   0.\ds&quot;</span>,</div>
<div class="line"><span class="lineno"> 2313</span>        ),</div>
<div class="line"><span class="lineno"> 2314</span>    ],</div>
<div class="line"><span class="lineno"> 2315</span>)</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aef9750212c670866e8a57e8e15228fe5" name="aef9750212c670866e8a57e8e15228fe5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef9750212c670866e8a57e8e15228fe5">&#9670;&#160;</a></span>P_sparse</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.P_sparse = <a class="el" href="classscipy_1_1sparse_1_1__coo_1_1coo__matrix.html">coo_matrix</a>(np.eye(5))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1f74677c528edd90718dd58efede153c" name="a1f74677c528edd90718dd58efede153c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f74677c528edd90718dd58efede153c">&#9670;&#160;</a></span>WindowsError</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.WindowsError = None</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a829084e7e408ceeb7a91e55f8cf70c" name="a9a829084e7e408ceeb7a91e55f8cf70c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a829084e7e408ceeb7a91e55f8cf70c">&#9670;&#160;</a></span>X</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.X = np.ones((10, 2))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a32af2ec72b4f19e02270dab5f994e543" name="a32af2ec72b4f19e02270dab5f994e543"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32af2ec72b4f19e02270dab5f994e543">&#9670;&#160;</a></span>X_sparse</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.X_sparse = <a class="el" href="classscipy_1_1sparse_1_1__coo_1_1coo__matrix.html">coo_matrix</a>(<a class="el" href="namespacesklearn_1_1model__selection_1_1tests_1_1test__validation.html#a9a829084e7e408ceeb7a91e55f8cf70c">X</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1dafb11699d055439f0373fafe21c974" name="a1dafb11699d055439f0373fafe21c974"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dafb11699d055439f0373fafe21c974">&#9670;&#160;</a></span>y</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.y = np.array([0, 0, 1, 1, 2, 2, 3, 3, 4, 4])</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9803b85b1f4fbfab858c2d9c45d384f9" name="a9803b85b1f4fbfab858c2d9c45d384f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9803b85b1f4fbfab858c2d9c45d384f9">&#9670;&#160;</a></span>y2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.model_selection.tests.test_validation.y2 = np.array([1, 1, 1, 2, 2, 2, 3, 3, 3, 3])</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
