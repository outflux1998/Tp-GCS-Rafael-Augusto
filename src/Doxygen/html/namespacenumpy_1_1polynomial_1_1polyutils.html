<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: numpy.polynomial.polyutils Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenumpy.html">numpy</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1polynomial.html">polynomial</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html">polyutils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">numpy.polynomial.polyutils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1polynomial_1_1polyutils_1_1_rank_warning.html">RankWarning</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a23749899d5d34b1fe47db966c5c0e124" id="r_a23749899d5d34b1fe47db966c5c0e124"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a23749899d5d34b1fe47db966c5c0e124">trimseq</a> (seq)</td></tr>
<tr class="separator:a23749899d5d34b1fe47db966c5c0e124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0840307978aa18cc7f32d51bdd081fcc" id="r_a0840307978aa18cc7f32d51bdd081fcc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a0840307978aa18cc7f32d51bdd081fcc">as_series</a> (alist, trim=True)</td></tr>
<tr class="separator:a0840307978aa18cc7f32d51bdd081fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a025dfde16a81b5a708e19f9ee6d51f47" id="r_a025dfde16a81b5a708e19f9ee6d51f47"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a025dfde16a81b5a708e19f9ee6d51f47">trimcoef</a> (c, <a class="el" href="__lapack__subroutines_8h.html#a0357339a1a1f7b51953875ca01447445">tol</a>=0)</td></tr>
<tr class="separator:a025dfde16a81b5a708e19f9ee6d51f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91e7aa259a7aed6477d64f257d62c6e9" id="r_a91e7aa259a7aed6477d64f257d62c6e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a91e7aa259a7aed6477d64f257d62c6e9">getdomain</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>)</td></tr>
<tr class="separator:a91e7aa259a7aed6477d64f257d62c6e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9b584b17644aef98a261f853d4abf24" id="r_aa9b584b17644aef98a261f853d4abf24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#aa9b584b17644aef98a261f853d4abf24">mapparms</a> (old, new)</td></tr>
<tr class="separator:aa9b584b17644aef98a261f853d4abf24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc444f9301156c1feba388b84361c090" id="r_afc444f9301156c1feba388b84361c090"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#afc444f9301156c1feba388b84361c090">mapdomain</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>, old, new)</td></tr>
<tr class="separator:afc444f9301156c1feba388b84361c090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02e095d3d8e7ffeb8f3a537a50725b06" id="r_a02e095d3d8e7ffeb8f3a537a50725b06"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a02e095d3d8e7ffeb8f3a537a50725b06">_nth_slice</a> (<a class="el" href="__lapack__subroutines_8h.html#a5325f1842789194c441b272cbf424674">i</a>, ndim)</td></tr>
<tr class="separator:a02e095d3d8e7ffeb8f3a537a50725b06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a790aca2938a7084859a94804da6e16e7" id="r_a790aca2938a7084859a94804da6e16e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a790aca2938a7084859a94804da6e16e7">_vander_nd</a> (vander_fs, points, degrees)</td></tr>
<tr class="separator:a790aca2938a7084859a94804da6e16e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d748690757115de27f84558f533e2a2" id="r_a0d748690757115de27f84558f533e2a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a0d748690757115de27f84558f533e2a2">_vander_nd_flat</a> (vander_fs, points, degrees)</td></tr>
<tr class="separator:a0d748690757115de27f84558f533e2a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6059b1257ef2ff2507d5639c97bfd7" id="r_acb6059b1257ef2ff2507d5639c97bfd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#acb6059b1257ef2ff2507d5639c97bfd7">_fromroots</a> (line_f, mul_f, <a class="el" href="namespacenumpy_1_1lib_1_1polynomial.html#a2b778895ac343811f977274be7932815">roots</a>)</td></tr>
<tr class="separator:acb6059b1257ef2ff2507d5639c97bfd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4290d9d161c737230250acba6f57754f" id="r_a4290d9d161c737230250acba6f57754f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a4290d9d161c737230250acba6f57754f">_valnd</a> (val_f, c, *args)</td></tr>
<tr class="separator:a4290d9d161c737230250acba6f57754f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae985f1746c2d9109ffb923661697258" id="r_aae985f1746c2d9109ffb923661697258"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#aae985f1746c2d9109ffb923661697258">_gridnd</a> (val_f, c, *args)</td></tr>
<tr class="separator:aae985f1746c2d9109ffb923661697258"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b13b9d0e58aa9ba4d8945e81866352" id="r_a85b13b9d0e58aa9ba4d8945e81866352"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a85b13b9d0e58aa9ba4d8945e81866352">_div</a> (mul_f, c1, c2)</td></tr>
<tr class="separator:a85b13b9d0e58aa9ba4d8945e81866352"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa18d7d0c8ad6af445c1d4a164943dd2f" id="r_aa18d7d0c8ad6af445c1d4a164943dd2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#aa18d7d0c8ad6af445c1d4a164943dd2f">_add</a> (c1, c2)</td></tr>
<tr class="separator:aa18d7d0c8ad6af445c1d4a164943dd2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c67758681e0827463c7b6b31dd109d9" id="r_a4c67758681e0827463c7b6b31dd109d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a4c67758681e0827463c7b6b31dd109d9">_sub</a> (c1, c2)</td></tr>
<tr class="separator:a4c67758681e0827463c7b6b31dd109d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea2ef52659a4d83e456c6e7c19dbdb0" id="r_a7ea2ef52659a4d83e456c6e7c19dbdb0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a7ea2ef52659a4d83e456c6e7c19dbdb0">_fit</a> (vander_f, <a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>, y, deg, <a class="el" href="__lapack__subroutines_8h.html#a1d8c469c24eed45f78d0edc8ec73bc1b">rcond</a>=None, <a class="el" href="namespacenumpy_1_1core_1_1numeric.html#a3656c4a5c2415c4f34d68f47b532c5fa">full</a>=False, <a class="el" href="__lapack__subroutines_8h.html#a817b85d82af73ef273fafbec623bb90b">w</a>=None)</td></tr>
<tr class="separator:a7ea2ef52659a4d83e456c6e7c19dbdb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa67292b18f1c6bd0fc16fcd029be4789" id="r_aa67292b18f1c6bd0fc16fcd029be4789"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#aa67292b18f1c6bd0fc16fcd029be4789">_pow</a> (mul_f, c, pow, maxpower)</td></tr>
<tr class="separator:aa67292b18f1c6bd0fc16fcd029be4789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73181892a6cc10cb8cf5ea1dd7ccc889" id="r_a73181892a6cc10cb8cf5ea1dd7ccc889"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a73181892a6cc10cb8cf5ea1dd7ccc889">_deprecate_as_int</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>, desc)</td></tr>
<tr class="separator:a73181892a6cc10cb8cf5ea1dd7ccc889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aca55912f327f4c0e727c87f7655761" id="r_a0aca55912f327f4c0e727c87f7655761"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1polynomial_1_1polyutils.html#a0aca55912f327f4c0e727c87f7655761">format_float</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>, parens=False)</td></tr>
<tr class="separator:a0aca55912f327f4c0e727c87f7655761"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Utility classes and functions for the polynomial modules.

This module provides: error and warning objects; a polynomial base class;
and some routines used in both the `polynomial` and `chebyshev` modules.

Warning objects
---------------

.. autosummary::
   :toctree: generated/

   RankWarning  raised in least-squares fit for rank-deficient matrix.

Functions
---------

.. autosummary::
   :toctree: generated/

   as_series    convert list of array_likes into 1-D arrays of common type.
   trimseq      remove trailing zeros.
   trimcoef     remove small trailing coefficients.
   getdomain    return the domain appropriate for a given set of abscissae.
   mapdomain    maps points between domains.
   mapparms     parameters of the linear map between domains.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="aa18d7d0c8ad6af445c1d4a164943dd2f" name="aa18d7d0c8ad6af445c1d4a164943dd2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa18d7d0c8ad6af445c1d4a164943dd2f">&#9670;&#160;</a></span>_add()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._add </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment"> Helper function used to implement the ``&lt;type&gt;add`` functions. </pre> <div class="fragment"><div class="line"><span class="lineno">  572</span><span class="keyword">def </span>_add(c1, c2):</div>
<div class="line"><span class="lineno">  573</span>    <span class="stringliteral">&quot;&quot;&quot; Helper function used to implement the ``&lt;type&gt;add`` functions. &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  574</span>    <span class="comment"># c1, c2 are trimmed copies</span></div>
<div class="line"><span class="lineno">  575</span>    [c1, c2] = as_series([c1, c2])</div>
<div class="line"><span class="lineno">  576</span>    <span class="keywordflow">if</span> len(c1) &gt; len(c2):</div>
<div class="line"><span class="lineno">  577</span>        c1[:c2.size] += c2</div>
<div class="line"><span class="lineno">  578</span>        ret = c1</div>
<div class="line"><span class="lineno">  579</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  580</span>        c2[:c1.size] += c1</div>
<div class="line"><span class="lineno">  581</span>        ret = c2</div>
<div class="line"><span class="lineno">  582</span>    <span class="keywordflow">return</span> trimseq(ret)</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a73181892a6cc10cb8cf5ea1dd7ccc889" name="a73181892a6cc10cb8cf5ea1dd7ccc889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73181892a6cc10cb8cf5ea1dd7ccc889">&#9670;&#160;</a></span>_deprecate_as_int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._deprecate_as_int </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>desc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Like `operator.index`, but emits a deprecation warning when passed a float

Parameters
----------
x : int-like, or float with integral value
    Value to interpret as an integer
desc : str
    description to include in any error message

Raises
------
TypeError : if x is a non-integral float or non-numeric
DeprecationWarning : if x is an integral float
</pre> <div class="fragment"><div class="line"><span class="lineno">  720</span><span class="keyword">def </span>_deprecate_as_int(x, desc):</div>
<div class="line"><span class="lineno">  721</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  722</span><span class="stringliteral">    Like `operator.index`, but emits a deprecation warning when passed a float</span></div>
<div class="line"><span class="lineno">  723</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  724</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  725</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  726</span><span class="stringliteral">    x : int-like, or float with integral value</span></div>
<div class="line"><span class="lineno">  727</span><span class="stringliteral">        Value to interpret as an integer</span></div>
<div class="line"><span class="lineno">  728</span><span class="stringliteral">    desc : str</span></div>
<div class="line"><span class="lineno">  729</span><span class="stringliteral">        description to include in any error message</span></div>
<div class="line"><span class="lineno">  730</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  731</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  732</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  733</span><span class="stringliteral">    TypeError : if x is a non-integral float or non-numeric</span></div>
<div class="line"><span class="lineno">  734</span><span class="stringliteral">    DeprecationWarning : if x is an integral float</span></div>
<div class="line"><span class="lineno">  735</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  736</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  737</span>        <span class="keywordflow">return</span> operator.index(x)</div>
<div class="line"><span class="lineno">  738</span>    <span class="keywordflow">except</span> TypeError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  739</span>        <span class="comment"># Numpy 1.17.0, 2019-03-11</span></div>
<div class="line"><span class="lineno">  740</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  741</span>            ix = int(x)</div>
<div class="line"><span class="lineno">  742</span>        <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno">  743</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  744</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  745</span>            <span class="keywordflow">if</span> ix == x:</div>
<div class="line"><span class="lineno">  746</span>                warnings.warn(</div>
<div class="line"><span class="lineno">  747</span>                    f<span class="stringliteral">&quot;In future, this will raise TypeError, as {desc} will &quot;</span></div>
<div class="line"><span class="lineno">  748</span>                    <span class="stringliteral">&quot;need to be an integer not just an integral float.&quot;</span>,</div>
<div class="line"><span class="lineno">  749</span>                    DeprecationWarning,</div>
<div class="line"><span class="lineno">  750</span>                    stacklevel=3</div>
<div class="line"><span class="lineno">  751</span>                )</div>
<div class="line"><span class="lineno">  752</span>                <span class="keywordflow">return</span> ix</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span>        <span class="keywordflow">raise</span> TypeError(f<span class="stringliteral">&quot;{desc} must be an integer&quot;</span>) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a85b13b9d0e58aa9ba4d8945e81866352" name="a85b13b9d0e58aa9ba4d8945e81866352"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85b13b9d0e58aa9ba4d8945e81866352">&#9670;&#160;</a></span>_div()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._div </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mul_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper function used to implement the ``&lt;type&gt;div`` functions.

Implementation uses repeated subtraction of c2 multiplied by the nth basis.
For some polynomial types, a more efficient approach may be possible.

Parameters
----------
mul_f : function(array_like, array_like) -&gt; array_like
    The ``&lt;type&gt;mul`` function, such as ``polymul``
c1, c2
    See the ``&lt;type&gt;div`` functions for more detail
</pre> <div class="fragment"><div class="line"><span class="lineno">  536</span><span class="keyword">def </span>_div(mul_f, c1, c2):</div>
<div class="line"><span class="lineno">  537</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral">    Helper function used to implement the ``&lt;type&gt;div`` functions.</span></div>
<div class="line"><span class="lineno">  539</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  540</span><span class="stringliteral">    Implementation uses repeated subtraction of c2 multiplied by the nth basis.</span></div>
<div class="line"><span class="lineno">  541</span><span class="stringliteral">    For some polynomial types, a more efficient approach may be possible.</span></div>
<div class="line"><span class="lineno">  542</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  543</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  544</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  545</span><span class="stringliteral">    mul_f : function(array_like, array_like) -&gt; array_like</span></div>
<div class="line"><span class="lineno">  546</span><span class="stringliteral">        The ``&lt;type&gt;mul`` function, such as ``polymul``</span></div>
<div class="line"><span class="lineno">  547</span><span class="stringliteral">    c1, c2</span></div>
<div class="line"><span class="lineno">  548</span><span class="stringliteral">        See the ``&lt;type&gt;div`` functions for more detail</span></div>
<div class="line"><span class="lineno">  549</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  550</span>    <span class="comment"># c1, c2 are trimmed copies</span></div>
<div class="line"><span class="lineno">  551</span>    [c1, c2] = as_series([c1, c2])</div>
<div class="line"><span class="lineno">  552</span>    <span class="keywordflow">if</span> c2[-1] == 0:</div>
<div class="line"><span class="lineno">  553</span>        <span class="keywordflow">raise</span> ZeroDivisionError()</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>    lc1 = len(c1)</div>
<div class="line"><span class="lineno">  556</span>    lc2 = len(c2)</div>
<div class="line"><span class="lineno">  557</span>    <span class="keywordflow">if</span> lc1 &lt; lc2:</div>
<div class="line"><span class="lineno">  558</span>        <span class="keywordflow">return</span> c1[:1]*0, c1</div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">elif</span> lc2 == 1:</div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">return</span> c1/c2[-1], c1[:1]*0</div>
<div class="line"><span class="lineno">  561</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  562</span>        quo = np.empty(lc1 - lc2 + 1, dtype=c1.dtype)</div>
<div class="line"><span class="lineno">  563</span>        rem = c1</div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(lc1 - lc2, - 1, -1):</div>
<div class="line"><span class="lineno">  565</span>            p = mul_f([0]*i + [1], c2)</div>
<div class="line"><span class="lineno">  566</span>            q = rem[-1]/p[-1]</div>
<div class="line"><span class="lineno">  567</span>            rem = rem[:-1] - q*p[:-1]</div>
<div class="line"><span class="lineno">  568</span>            quo[i] = q</div>
<div class="line"><span class="lineno">  569</span>        <span class="keywordflow">return</span> quo, trimseq(rem)</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ea2ef52659a4d83e456c6e7c19dbdb0" name="a7ea2ef52659a4d83e456c6e7c19dbdb0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ea2ef52659a4d83e456c6e7c19dbdb0">&#9670;&#160;</a></span>_fit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vander_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>deg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rcond</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>full</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>w</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper function used to implement the ``&lt;type&gt;fit`` functions.

Parameters
----------
vander_f : function(array_like, int) -&gt; ndarray
    The 1d vander function, such as ``polyvander``
c1, c2
    See the ``&lt;type&gt;fit`` functions for more detail
</pre> <div class="fragment"><div class="line"><span class="lineno">  599</span><span class="keyword">def </span>_fit(vander_f, x, y, deg, rcond=None, full=False, w=None):</div>
<div class="line"><span class="lineno">  600</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  601</span><span class="stringliteral">    Helper function used to implement the ``&lt;type&gt;fit`` functions.</span></div>
<div class="line"><span class="lineno">  602</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  603</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  604</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  605</span><span class="stringliteral">    vander_f : function(array_like, int) -&gt; ndarray</span></div>
<div class="line"><span class="lineno">  606</span><span class="stringliteral">        The 1d vander function, such as ``polyvander``</span></div>
<div class="line"><span class="lineno">  607</span><span class="stringliteral">    c1, c2</span></div>
<div class="line"><span class="lineno">  608</span><span class="stringliteral">        See the ``&lt;type&gt;fit`` functions for more detail</span></div>
<div class="line"><span class="lineno">  609</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  610</span>    x = np.asarray(x) + 0.0</div>
<div class="line"><span class="lineno">  611</span>    y = np.asarray(y) + 0.0</div>
<div class="line"><span class="lineno">  612</span>    deg = np.asarray(deg)</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>    <span class="comment"># check arguments.</span></div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">if</span> deg.ndim &gt; 1 <span class="keywordflow">or</span> deg.dtype.kind <span class="keywordflow">not</span> <span class="keywordflow">in</span> <span class="stringliteral">&#39;iu&#39;</span> <span class="keywordflow">or</span> deg.size == 0:</div>
<div class="line"><span class="lineno">  616</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;deg must be an int or non-empty 1-D array of int&quot;</span>)</div>
<div class="line"><span class="lineno">  617</span>    <span class="keywordflow">if</span> deg.min() &lt; 0:</div>
<div class="line"><span class="lineno">  618</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;expected deg &gt;= 0&quot;</span>)</div>
<div class="line"><span class="lineno">  619</span>    <span class="keywordflow">if</span> x.ndim != 1:</div>
<div class="line"><span class="lineno">  620</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;expected 1D vector for x&quot;</span>)</div>
<div class="line"><span class="lineno">  621</span>    <span class="keywordflow">if</span> x.size == 0:</div>
<div class="line"><span class="lineno">  622</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;expected non-empty vector for x&quot;</span>)</div>
<div class="line"><span class="lineno">  623</span>    <span class="keywordflow">if</span> y.ndim &lt; 1 <span class="keywordflow">or</span> y.ndim &gt; 2:</div>
<div class="line"><span class="lineno">  624</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;expected 1D or 2D array for y&quot;</span>)</div>
<div class="line"><span class="lineno">  625</span>    <span class="keywordflow">if</span> len(x) != len(y):</div>
<div class="line"><span class="lineno">  626</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;expected x and y to have same length&quot;</span>)</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>    <span class="keywordflow">if</span> deg.ndim == 0:</div>
<div class="line"><span class="lineno">  629</span>        lmax = deg</div>
<div class="line"><span class="lineno">  630</span>        order = lmax + 1</div>
<div class="line"><span class="lineno">  631</span>        van = vander_f(x, lmax)</div>
<div class="line"><span class="lineno">  632</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  633</span>        deg = np.sort(deg)</div>
<div class="line"><span class="lineno">  634</span>        lmax = deg[-1]</div>
<div class="line"><span class="lineno">  635</span>        order = len(deg)</div>
<div class="line"><span class="lineno">  636</span>        van = vander_f(x, lmax)[:, deg]</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>    <span class="comment"># set up the least squares matrices in transposed form</span></div>
<div class="line"><span class="lineno">  639</span>    lhs = van.T</div>
<div class="line"><span class="lineno">  640</span>    rhs = y.T</div>
<div class="line"><span class="lineno">  641</span>    <span class="keywordflow">if</span> w <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  642</span>        w = np.asarray(w) + 0.0</div>
<div class="line"><span class="lineno">  643</span>        <span class="keywordflow">if</span> w.ndim != 1:</div>
<div class="line"><span class="lineno">  644</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;expected 1D vector for w&quot;</span>)</div>
<div class="line"><span class="lineno">  645</span>        <span class="keywordflow">if</span> len(x) != len(w):</div>
<div class="line"><span class="lineno">  646</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;expected x and w to have same length&quot;</span>)</div>
<div class="line"><span class="lineno">  647</span>        <span class="comment"># apply weights. Don&#39;t use inplace operations as they</span></div>
<div class="line"><span class="lineno">  648</span>        <span class="comment"># can cause problems with NA.</span></div>
<div class="line"><span class="lineno">  649</span>        lhs = lhs * w</div>
<div class="line"><span class="lineno">  650</span>        rhs = rhs * w</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    <span class="comment"># set rcond</span></div>
<div class="line"><span class="lineno">  653</span>    <span class="keywordflow">if</span> rcond <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  654</span>        rcond = len(x)*np.finfo(x.dtype).eps</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>    <span class="comment"># Determine the norms of the design matrix columns.</span></div>
<div class="line"><span class="lineno">  657</span>    <span class="keywordflow">if</span> issubclass(lhs.dtype.type, np.complexfloating):</div>
<div class="line"><span class="lineno">  658</span>        scl = np.sqrt((np.square(lhs.real) + np.square(lhs.imag)).sum(1))</div>
<div class="line"><span class="lineno">  659</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  660</span>        scl = np.sqrt(np.square(lhs).sum(1))</div>
<div class="line"><span class="lineno">  661</span>    scl[scl == 0] = 1</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>    <span class="comment"># Solve the least squares problem.</span></div>
<div class="line"><span class="lineno">  664</span>    c, resids, rank, s = np.linalg.lstsq(lhs.T/scl, rhs.T, rcond)</div>
<div class="line"><span class="lineno">  665</span>    c = (c.T/scl).T</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>    <span class="comment"># Expand c to include non-fitted coefficients which are set to zero</span></div>
<div class="line"><span class="lineno">  668</span>    <span class="keywordflow">if</span> deg.ndim &gt; 0:</div>
<div class="line"><span class="lineno">  669</span>        <span class="keywordflow">if</span> c.ndim == 2:</div>
<div class="line"><span class="lineno">  670</span>            cc = np.zeros((lmax+1, c.shape[1]), dtype=c.dtype)</div>
<div class="line"><span class="lineno">  671</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  672</span>            cc = np.zeros(lmax+1, dtype=c.dtype)</div>
<div class="line"><span class="lineno">  673</span>        cc[deg] = c</div>
<div class="line"><span class="lineno">  674</span>        c = cc</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>    <span class="comment"># warn on rank reduction</span></div>
<div class="line"><span class="lineno">  677</span>    <span class="keywordflow">if</span> rank != order <span class="keywordflow">and</span> <span class="keywordflow">not</span> full:</div>
<div class="line"><span class="lineno">  678</span>        msg = <span class="stringliteral">&quot;The fit may be poorly conditioned&quot;</span></div>
<div class="line"><span class="lineno">  679</span>        warnings.warn(msg, RankWarning, stacklevel=2)</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>    <span class="keywordflow">if</span> full:</div>
<div class="line"><span class="lineno">  682</span>        <span class="keywordflow">return</span> c, [resids, rank, s, rcond]</div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  684</span>        <span class="keywordflow">return</span> c</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acb6059b1257ef2ff2507d5639c97bfd7" name="acb6059b1257ef2ff2507d5639c97bfd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb6059b1257ef2ff2507d5639c97bfd7">&#9670;&#160;</a></span>_fromroots()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._fromroots </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>line_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mul_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>roots</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper function used to implement the ``&lt;type&gt;fromroots`` functions.

Parameters
----------
line_f : function(float, float) -&gt; ndarray
    The ``&lt;type&gt;line`` function, such as ``polyline``
mul_f : function(array_like, array_like) -&gt; ndarray
    The ``&lt;type&gt;mul`` function, such as ``polymul``
roots
    See the ``&lt;type&gt;fromroots`` functions for more detail
</pre> <div class="fragment"><div class="line"><span class="lineno">  460</span><span class="keyword">def </span>_fromroots(line_f, mul_f, roots):</div>
<div class="line"><span class="lineno">  461</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  462</span><span class="stringliteral">    Helper function used to implement the ``&lt;type&gt;fromroots`` functions.</span></div>
<div class="line"><span class="lineno">  463</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  464</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  465</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  466</span><span class="stringliteral">    line_f : function(float, float) -&gt; ndarray</span></div>
<div class="line"><span class="lineno">  467</span><span class="stringliteral">        The ``&lt;type&gt;line`` function, such as ``polyline``</span></div>
<div class="line"><span class="lineno">  468</span><span class="stringliteral">    mul_f : function(array_like, array_like) -&gt; ndarray</span></div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral">        The ``&lt;type&gt;mul`` function, such as ``polymul``</span></div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral">    roots</span></div>
<div class="line"><span class="lineno">  471</span><span class="stringliteral">        See the ``&lt;type&gt;fromroots`` functions for more detail</span></div>
<div class="line"><span class="lineno">  472</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  473</span>    <span class="keywordflow">if</span> len(roots) == 0:</div>
<div class="line"><span class="lineno">  474</span>        <span class="keywordflow">return</span> np.ones(1)</div>
<div class="line"><span class="lineno">  475</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  476</span>        [roots] = as_series([roots], trim=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  477</span>        roots.sort()</div>
<div class="line"><span class="lineno">  478</span>        p = [line_f(-r, 1) <span class="keywordflow">for</span> r <span class="keywordflow">in</span> roots]</div>
<div class="line"><span class="lineno">  479</span>        n = len(p)</div>
<div class="line"><span class="lineno">  480</span>        <span class="keywordflow">while</span> n &gt; 1:</div>
<div class="line"><span class="lineno">  481</span>            m, r = divmod(n, 2)</div>
<div class="line"><span class="lineno">  482</span>            tmp = [mul_f(p[i], p[i+m]) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(m)]</div>
<div class="line"><span class="lineno">  483</span>            <span class="keywordflow">if</span> r:</div>
<div class="line"><span class="lineno">  484</span>                tmp[0] = mul_f(tmp[0], p[-1])</div>
<div class="line"><span class="lineno">  485</span>            p = tmp</div>
<div class="line"><span class="lineno">  486</span>            n = m</div>
<div class="line"><span class="lineno">  487</span>        <span class="keywordflow">return</span> p[0]</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aae985f1746c2d9109ffb923661697258" name="aae985f1746c2d9109ffb923661697258"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae985f1746c2d9109ffb923661697258">&#9670;&#160;</a></span>_gridnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._gridnd </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>val_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper function used to implement the ``&lt;type&gt;grid&lt;n&gt;d`` functions.

Parameters
----------
val_f : function(array_like, array_like, tensor: bool) -&gt; array_like
    The ``&lt;type&gt;val`` function, such as ``polyval``
c, args
    See the ``&lt;type&gt;grid&lt;n&gt;d`` functions for more detail
</pre> <div class="fragment"><div class="line"><span class="lineno">  520</span><span class="keyword">def </span>_gridnd(val_f, c, *args):</div>
<div class="line"><span class="lineno">  521</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  522</span><span class="stringliteral">    Helper function used to implement the ``&lt;type&gt;grid&lt;n&gt;d`` functions.</span></div>
<div class="line"><span class="lineno">  523</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  524</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  525</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  526</span><span class="stringliteral">    val_f : function(array_like, array_like, tensor: bool) -&gt; array_like</span></div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral">        The ``&lt;type&gt;val`` function, such as ``polyval``</span></div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral">    c, args</span></div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral">        See the ``&lt;type&gt;grid&lt;n&gt;d`` functions for more detail</span></div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordflow">for</span> xi <span class="keywordflow">in</span> args:</div>
<div class="line"><span class="lineno">  532</span>        c = val_f(xi, c)</div>
<div class="line"><span class="lineno">  533</span>    <span class="keywordflow">return</span> c</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a02e095d3d8e7ffeb8f3a537a50725b06" name="a02e095d3d8e7ffeb8f3a537a50725b06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02e095d3d8e7ffeb8f3a537a50725b06">&#9670;&#160;</a></span>_nth_slice()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._nth_slice </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ndim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  375</span><span class="keyword">def </span>_nth_slice(i, ndim):</div>
<div class="line"><span class="lineno">  376</span>    sl = [np.newaxis] * ndim</div>
<div class="line"><span class="lineno">  377</span>    sl[i] = slice(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">return</span> tuple(sl)</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa67292b18f1c6bd0fc16fcd029be4789" name="aa67292b18f1c6bd0fc16fcd029be4789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa67292b18f1c6bd0fc16fcd029be4789">&#9670;&#160;</a></span>_pow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._pow </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mul_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxpower</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper function used to implement the ``&lt;type&gt;pow`` functions.

Parameters
----------
mul_f : function(array_like, array_like) -&gt; ndarray
    The ``&lt;type&gt;mul`` function, such as ``polymul``
c : array_like
    1-D array of array of series coefficients
pow, maxpower
    See the ``&lt;type&gt;pow`` functions for more detail
</pre> <div class="fragment"><div class="line"><span class="lineno">  687</span><span class="keyword">def </span>_pow(mul_f, c, pow, maxpower):</div>
<div class="line"><span class="lineno">  688</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  689</span><span class="stringliteral">    Helper function used to implement the ``&lt;type&gt;pow`` functions.</span></div>
<div class="line"><span class="lineno">  690</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  691</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  692</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  693</span><span class="stringliteral">    mul_f : function(array_like, array_like) -&gt; ndarray</span></div>
<div class="line"><span class="lineno">  694</span><span class="stringliteral">        The ``&lt;type&gt;mul`` function, such as ``polymul``</span></div>
<div class="line"><span class="lineno">  695</span><span class="stringliteral">    c : array_like</span></div>
<div class="line"><span class="lineno">  696</span><span class="stringliteral">        1-D array of array of series coefficients</span></div>
<div class="line"><span class="lineno">  697</span><span class="stringliteral">    pow, maxpower</span></div>
<div class="line"><span class="lineno">  698</span><span class="stringliteral">        See the ``&lt;type&gt;pow`` functions for more detail</span></div>
<div class="line"><span class="lineno">  699</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  700</span>    <span class="comment"># c is a trimmed copy</span></div>
<div class="line"><span class="lineno">  701</span>    [c] = as_series([c])</div>
<div class="line"><span class="lineno">  702</span>    power = int(pow)</div>
<div class="line"><span class="lineno">  703</span>    <span class="keywordflow">if</span> power != pow <span class="keywordflow">or</span> power &lt; 0:</div>
<div class="line"><span class="lineno">  704</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Power must be a non-negative integer.&quot;</span>)</div>
<div class="line"><span class="lineno">  705</span>    <span class="keywordflow">elif</span> maxpower <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> power &gt; maxpower:</div>
<div class="line"><span class="lineno">  706</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Power is too large&quot;</span>)</div>
<div class="line"><span class="lineno">  707</span>    <span class="keywordflow">elif</span> power == 0:</div>
<div class="line"><span class="lineno">  708</span>        <span class="keywordflow">return</span> np.array([1], dtype=c.dtype)</div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">elif</span> power == 1:</div>
<div class="line"><span class="lineno">  710</span>        <span class="keywordflow">return</span> c</div>
<div class="line"><span class="lineno">  711</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  712</span>        <span class="comment"># This can be made more efficient by using powers of two</span></div>
<div class="line"><span class="lineno">  713</span>        <span class="comment"># in the usual way.</span></div>
<div class="line"><span class="lineno">  714</span>        prd = c</div>
<div class="line"><span class="lineno">  715</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2, power + 1):</div>
<div class="line"><span class="lineno">  716</span>            prd = mul_f(prd, c)</div>
<div class="line"><span class="lineno">  717</span>        <span class="keywordflow">return</span> prd</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c67758681e0827463c7b6b31dd109d9" name="a4c67758681e0827463c7b6b31dd109d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c67758681e0827463c7b6b31dd109d9">&#9670;&#160;</a></span>_sub()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._sub </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment"> Helper function used to implement the ``&lt;type&gt;sub`` functions. </pre> <div class="fragment"><div class="line"><span class="lineno">  585</span><span class="keyword">def </span>_sub(c1, c2):</div>
<div class="line"><span class="lineno">  586</span>    <span class="stringliteral">&quot;&quot;&quot; Helper function used to implement the ``&lt;type&gt;sub`` functions. &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  587</span>    <span class="comment"># c1, c2 are trimmed copies</span></div>
<div class="line"><span class="lineno">  588</span>    [c1, c2] = as_series([c1, c2])</div>
<div class="line"><span class="lineno">  589</span>    <span class="keywordflow">if</span> len(c1) &gt; len(c2):</div>
<div class="line"><span class="lineno">  590</span>        c1[:c2.size] -= c2</div>
<div class="line"><span class="lineno">  591</span>        ret = c1</div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  593</span>        c2 = -c2</div>
<div class="line"><span class="lineno">  594</span>        c2[:c1.size] += c1</div>
<div class="line"><span class="lineno">  595</span>        ret = c2</div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordflow">return</span> trimseq(ret)</div>
<div class="line"><span class="lineno">  597</span> </div>
<div class="line"><span class="lineno">  598</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4290d9d161c737230250acba6f57754f" name="a4290d9d161c737230250acba6f57754f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4290d9d161c737230250acba6f57754f">&#9670;&#160;</a></span>_valnd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._valnd </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>val_f</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper function used to implement the ``&lt;type&gt;val&lt;n&gt;d`` functions.

Parameters
----------
val_f : function(array_like, array_like, tensor: bool) -&gt; array_like
    The ``&lt;type&gt;val`` function, such as ``polyval``
c, args
    See the ``&lt;type&gt;val&lt;n&gt;d`` functions for more detail
</pre> <div class="fragment"><div class="line"><span class="lineno">  490</span><span class="keyword">def </span>_valnd(val_f, c, *args):</div>
<div class="line"><span class="lineno">  491</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  492</span><span class="stringliteral">    Helper function used to implement the ``&lt;type&gt;val&lt;n&gt;d`` functions.</span></div>
<div class="line"><span class="lineno">  493</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  494</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  495</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral">    val_f : function(array_like, array_like, tensor: bool) -&gt; array_like</span></div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral">        The ``&lt;type&gt;val`` function, such as ``polyval``</span></div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">    c, args</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral">        See the ``&lt;type&gt;val&lt;n&gt;d`` functions for more detail</span></div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  501</span>    args = [np.asanyarray(a) <span class="keywordflow">for</span> a <span class="keywordflow">in</span> args]</div>
<div class="line"><span class="lineno">  502</span>    shape0 = args[0].shape</div>
<div class="line"><span class="lineno">  503</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> all((a.shape == shape0 <span class="keywordflow">for</span> a <span class="keywordflow">in</span> args[1:])):</div>
<div class="line"><span class="lineno">  504</span>        <span class="keywordflow">if</span> len(args) == 3:</div>
<div class="line"><span class="lineno">  505</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;x, y, z are incompatible&#39;</span>)</div>
<div class="line"><span class="lineno">  506</span>        <span class="keywordflow">elif</span> len(args) == 2:</div>
<div class="line"><span class="lineno">  507</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;x, y are incompatible&#39;</span>)</div>
<div class="line"><span class="lineno">  508</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  509</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;ordinates are incompatible&#39;</span>)</div>
<div class="line"><span class="lineno">  510</span>    it = <a class="code hl_variable" href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a>(args)</div>
<div class="line"><span class="lineno">  511</span>    x0 = next(it)</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>    <span class="comment"># use tensor on only the first</span></div>
<div class="line"><span class="lineno">  514</span>    c = val_f(x0, c)</div>
<div class="line"><span class="lineno">  515</span>    <span class="keywordflow">for</span> xi <span class="keywordflow">in</span> it:</div>
<div class="line"><span class="lineno">  516</span>        c = val_f(xi, c, tensor=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  517</span>    <span class="keywordflow">return</span> c</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_a60590d91febfcb54d88443940cd5f23e"><div class="ttname"><a href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a></div><div class="ttdeci">void int double int double double double double int int * iter</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:623</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a790aca2938a7084859a94804da6e16e7" name="a790aca2938a7084859a94804da6e16e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a790aca2938a7084859a94804da6e16e7">&#9670;&#160;</a></span>_vander_nd()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._vander_nd </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vander_fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>degrees</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">A generalization of the Vandermonde matrix for N dimensions

The result is built by combining the results of 1d Vandermonde matrices,

.. math::
    W[i_0, \ldots, i_M, j_0, \ldots, j_N] = \prod_{k=0}^N{V_k(x_k)[i_0, \ldots, i_M, j_k]}

where

.. math::
    N &amp;= \texttt{len(points)} = \texttt{len(degrees)} = \texttt{len(vander\_fs)} \\
    M &amp;= \texttt{points[k].ndim} \\
    V_k &amp;= \texttt{vander\_fs[k]} \\
    x_k &amp;= \texttt{points[k]} \\
    0 \le j_k &amp;\le \texttt{degrees[k]}

Expanding the one-dimensional :math:`V_k` functions gives:

.. math::
    W[i_0, \ldots, i_M, j_0, \ldots, j_N] = \prod_{k=0}^N{B_{k, j_k}(x_k[i_0, \ldots, i_M])}

where :math:`B_{k,m}` is the m'th basis of the polynomial construction used along
dimension :math:`k`. For a regular polynomial, :math:`B_{k, m}(x) = P_m(x) = x^m`.

Parameters
----------
vander_fs : Sequence[function(array_like, int) -&gt; ndarray]
    The 1d vander function to use for each axis, such as ``polyvander``
points : Sequence[array_like]
    Arrays of point coordinates, all of the same shape. The dtypes
    will be converted to either float64 or complex128 depending on
    whether any of the elements are complex. Scalars are converted to
    1-D arrays.
    This must be the same length as `vander_fs`.
degrees : Sequence[int]
    The maximum degree (inclusive) to use for each axis.
    This must be the same length as `vander_fs`.

Returns
-------
vander_nd : ndarray
    An array of shape ``points[0].shape + tuple(d + 1 for d in degrees)``.
</pre> <div class="fragment"><div class="line"><span class="lineno">  381</span><span class="keyword">def </span>_vander_nd(vander_fs, points, degrees):</div>
<div class="line"><span class="lineno">  382</span>    <span class="stringliteral">r&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  383</span><span class="stringliteral">    A generalization of the Vandermonde matrix for N dimensions</span></div>
<div class="line"><span class="lineno">  384</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  385</span><span class="stringliteral">    The result is built by combining the results of 1d Vandermonde matrices,</span></div>
<div class="line"><span class="lineno">  386</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  387</span><span class="stringliteral">    .. math::</span></div>
<div class="line"><span class="lineno">  388</span><span class="stringliteral">        W[i_0, \ldots, i_M, j_0, \ldots, j_N] = \prod_{k=0}^N{V_k(x_k)[i_0, \ldots, i_M, j_k]}</span></div>
<div class="line"><span class="lineno">  389</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  390</span><span class="stringliteral">    where</span></div>
<div class="line"><span class="lineno">  391</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  392</span><span class="stringliteral">    .. math::</span></div>
<div class="line"><span class="lineno">  393</span><span class="stringliteral">        N &amp;= \texttt{len(points)} = \texttt{len(degrees)} = \texttt{len(vander\_fs)} \\</span></div>
<div class="line"><span class="lineno">  394</span><span class="stringliteral">        M &amp;= \texttt{points[k].ndim} \\</span></div>
<div class="line"><span class="lineno">  395</span><span class="stringliteral">        V_k &amp;= \texttt{vander\_fs[k]} \\</span></div>
<div class="line"><span class="lineno">  396</span><span class="stringliteral">        x_k &amp;= \texttt{points[k]} \\</span></div>
<div class="line"><span class="lineno">  397</span><span class="stringliteral">        0 \le j_k &amp;\le \texttt{degrees[k]}</span></div>
<div class="line"><span class="lineno">  398</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  399</span><span class="stringliteral">    Expanding the one-dimensional :math:`V_k` functions gives:</span></div>
<div class="line"><span class="lineno">  400</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  401</span><span class="stringliteral">    .. math::</span></div>
<div class="line"><span class="lineno">  402</span><span class="stringliteral">        W[i_0, \ldots, i_M, j_0, \ldots, j_N] = \prod_{k=0}^N{B_{k, j_k}(x_k[i_0, \ldots, i_M])}</span></div>
<div class="line"><span class="lineno">  403</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  404</span><span class="stringliteral">    where :math:`B_{k,m}` is the m&#39;th basis of the polynomial construction used along</span></div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral">    dimension :math:`k`. For a regular polynomial, :math:`B_{k, m}(x) = P_m(x) = x^m`.</span></div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">    vander_fs : Sequence[function(array_like, int) -&gt; ndarray]</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">        The 1d vander function to use for each axis, such as ``polyvander``</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral">    points : Sequence[array_like]</span></div>
<div class="line"><span class="lineno">  412</span><span class="stringliteral">        Arrays of point coordinates, all of the same shape. The dtypes</span></div>
<div class="line"><span class="lineno">  413</span><span class="stringliteral">        will be converted to either float64 or complex128 depending on</span></div>
<div class="line"><span class="lineno">  414</span><span class="stringliteral">        whether any of the elements are complex. Scalars are converted to</span></div>
<div class="line"><span class="lineno">  415</span><span class="stringliteral">        1-D arrays.</span></div>
<div class="line"><span class="lineno">  416</span><span class="stringliteral">        This must be the same length as `vander_fs`.</span></div>
<div class="line"><span class="lineno">  417</span><span class="stringliteral">    degrees : Sequence[int]</span></div>
<div class="line"><span class="lineno">  418</span><span class="stringliteral">        The maximum degree (inclusive) to use for each axis.</span></div>
<div class="line"><span class="lineno">  419</span><span class="stringliteral">        This must be the same length as `vander_fs`.</span></div>
<div class="line"><span class="lineno">  420</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  421</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  422</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  423</span><span class="stringliteral">    vander_nd : ndarray</span></div>
<div class="line"><span class="lineno">  424</span><span class="stringliteral">        An array of shape ``points[0].shape + tuple(d + 1 for d in degrees)``.</span></div>
<div class="line"><span class="lineno">  425</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  426</span>    n_dims = len(vander_fs)</div>
<div class="line"><span class="lineno">  427</span>    <span class="keywordflow">if</span> n_dims != len(points):</div>
<div class="line"><span class="lineno">  428</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  429</span>            f<span class="stringliteral">&quot;Expected {n_dims} dimensions of sample points, got {len(points)}&quot;</span>)</div>
<div class="line"><span class="lineno">  430</span>    <span class="keywordflow">if</span> n_dims != len(degrees):</div>
<div class="line"><span class="lineno">  431</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  432</span>            f<span class="stringliteral">&quot;Expected {n_dims} dimensions of degrees, got {len(degrees)}&quot;</span>)</div>
<div class="line"><span class="lineno">  433</span>    <span class="keywordflow">if</span> n_dims == 0:</div>
<div class="line"><span class="lineno">  434</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Unable to guess a dtype or shape when no points are given&quot;</span>)</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>    <span class="comment"># convert to the same shape and type</span></div>
<div class="line"><span class="lineno">  437</span>    points = tuple(np.array(tuple(points), copy=<span class="keyword">False</span>) + 0.0)</div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span>    <span class="comment"># produce the vandermonde matrix for each dimension, placing the last</span></div>
<div class="line"><span class="lineno">  440</span>    <span class="comment"># axis of each in an independent trailing axis of the output</span></div>
<div class="line"><span class="lineno">  441</span>    vander_arrays = (</div>
<div class="line"><span class="lineno">  442</span>        vander_fs[i](points[i], degrees[i])[(...,) + _nth_slice(i, n_dims)]</div>
<div class="line"><span class="lineno">  443</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(n_dims)</div>
<div class="line"><span class="lineno">  444</span>    )</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>    <span class="comment"># we checked this wasn&#39;t empty already, so no `initial` needed</span></div>
<div class="line"><span class="lineno">  447</span>    <span class="keywordflow">return</span> functools.reduce(operator.mul, vander_arrays)</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d748690757115de27f84558f533e2a2" name="a0d748690757115de27f84558f533e2a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d748690757115de27f84558f533e2a2">&#9670;&#160;</a></span>_vander_nd_flat()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils._vander_nd_flat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vander_fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>points</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>degrees</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Like `_vander_nd`, but flattens the last ``len(degrees)`` axes into a single axis

Used to implement the public ``&lt;type&gt;vander&lt;n&gt;d`` functions.
</pre> <div class="fragment"><div class="line"><span class="lineno">  450</span><span class="keyword">def </span>_vander_nd_flat(vander_fs, points, degrees):</div>
<div class="line"><span class="lineno">  451</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">    Like `_vander_nd`, but flattens the last ``len(degrees)`` axes into a single axis</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral">    Used to implement the public ``&lt;type&gt;vander&lt;n&gt;d`` functions.</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  456</span>    v = _vander_nd(vander_fs, points, degrees)</div>
<div class="line"><span class="lineno">  457</span>    <span class="keywordflow">return</span> v.reshape(v.shape[:-len(degrees)] + (-1,))</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0840307978aa18cc7f32d51bdd081fcc" name="a0840307978aa18cc7f32d51bdd081fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0840307978aa18cc7f32d51bdd081fcc">&#9670;&#160;</a></span>as_series()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils.as_series </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>alist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trim</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return argument as a list of 1-d arrays.

The returned list contains array(s) of dtype double, complex double, or
object.  A 1-d argument of shape ``(N,)`` is parsed into ``N`` arrays of
size one; a 2-d argument of shape ``(M,N)`` is parsed into ``M`` arrays
of size ``N`` (i.e., is "parsed by row"); and a higher dimensional array
raises a Value Error if it is not first reshaped into either a 1-d or 2-d
array.

Parameters
----------
alist : array_like
    A 1- or 2-d array_like
trim : boolean, optional
    When True, trailing zeros are removed from the inputs.
    When False, the inputs are passed through intact.

Returns
-------
[a1, a2,...] : list of 1-D arrays
    A copy of the input data as a list of 1-d arrays.

Raises
------
ValueError
    Raised when `as_series` cannot convert its input to 1-d arrays, or at
    least one of the resulting arrays is empty.

Examples
--------
&gt;&gt;&gt; from numpy.polynomial import polyutils as pu
&gt;&gt;&gt; a = np.arange(4)
&gt;&gt;&gt; pu.as_series(a)
[array([0.]), array([1.]), array([2.]), array([3.])]
&gt;&gt;&gt; b = np.arange(6).reshape((2,3))
&gt;&gt;&gt; pu.as_series(b)
[array([0., 1., 2.]), array([3., 4., 5.])]

&gt;&gt;&gt; pu.as_series((1, np.arange(3), np.arange(2, dtype=np.float16)))
[array([1.]), array([0., 1., 2.]), array([0., 1.])]

&gt;&gt;&gt; pu.as_series([2, [1.1, 0.]])
[array([2.]), array([1.1])]

&gt;&gt;&gt; pu.as_series([2, [1.1, 0.]], trim=False)
[array([2.]), array([1.1, 0. ])]</pre> <div class="fragment"><div class="line"><span class="lineno">   84</span><span class="keyword">def </span>as_series(alist, trim=True):</div>
<div class="line"><span class="lineno">   85</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   86</span><span class="stringliteral">    Return argument as a list of 1-d arrays.</span></div>
<div class="line"><span class="lineno">   87</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   88</span><span class="stringliteral">    The returned list contains array(s) of dtype double, complex double, or</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral">    object.  A 1-d argument of shape ``(N,)`` is parsed into ``N`` arrays of</span></div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral">    size one; a 2-d argument of shape ``(M,N)`` is parsed into ``M`` arrays</span></div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral">    of size ``N`` (i.e., is &quot;parsed by row&quot;); and a higher dimensional array</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">    raises a Value Error if it is not first reshaped into either a 1-d or 2-d</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">    array.</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">    alist : array_like</span></div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">        A 1- or 2-d array_like</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">    trim : boolean, optional</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">        When True, trailing zeros are removed from the inputs.</span></div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">        When False, the inputs are passed through intact.</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">    [a1, a2,...] : list of 1-D arrays</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">        A copy of the input data as a list of 1-d arrays.</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">    ValueError</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral">        Raised when `as_series` cannot convert its input to 1-d arrays, or at</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">        least one of the resulting arrays is empty.</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  116</span><span class="stringliteral">    &gt;&gt;&gt; from numpy.polynomial import polyutils as pu</span></div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral">    &gt;&gt;&gt; a = np.arange(4)</span></div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">    &gt;&gt;&gt; pu.as_series(a)</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">    [array([0.]), array([1.]), array([2.]), array([3.])]</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">    &gt;&gt;&gt; b = np.arange(6).reshape((2,3))</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">    &gt;&gt;&gt; pu.as_series(b)</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">    [array([0., 1., 2.]), array([3., 4., 5.])]</span></div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">    &gt;&gt;&gt; pu.as_series((1, np.arange(3), np.arange(2, dtype=np.float16)))</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">    [array([1.]), array([0., 1., 2.]), array([0., 1.])]</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">    &gt;&gt;&gt; pu.as_series([2, [1.1, 0.]])</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">    [array([2.]), array([1.1])]</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral">    &gt;&gt;&gt; pu.as_series([2, [1.1, 0.]], trim=False)</span></div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">    [array([2.]), array([1.1, 0. ])]</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  134</span>    arrays = [np.array(a, ndmin=1, copy=<span class="keyword">False</span>) <span class="keywordflow">for</span> a <span class="keywordflow">in</span> alist]</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">if</span> min([a.size <span class="keywordflow">for</span> a <span class="keywordflow">in</span> arrays]) == 0:</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Coefficient array is empty&quot;</span>)</div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">if</span> any(a.ndim != 1 <span class="keywordflow">for</span> a <span class="keywordflow">in</span> arrays):</div>
<div class="line"><span class="lineno">  138</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Coefficient array is not 1-d&quot;</span>)</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">if</span> trim:</div>
<div class="line"><span class="lineno">  140</span>        arrays = [trimseq(a) <span class="keywordflow">for</span> a <span class="keywordflow">in</span> arrays]</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">if</span> any(a.dtype == np.dtype(object) <span class="keywordflow">for</span> a <span class="keywordflow">in</span> arrays):</div>
<div class="line"><span class="lineno">  143</span>        ret = []</div>
<div class="line"><span class="lineno">  144</span>        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> arrays:</div>
<div class="line"><span class="lineno">  145</span>            <span class="keywordflow">if</span> a.dtype != np.dtype(object):</div>
<div class="line"><span class="lineno">  146</span>                tmp = np.empty(len(a), dtype=np.dtype(object))</div>
<div class="line"><span class="lineno">  147</span>                tmp[:] = a[:]</div>
<div class="line"><span class="lineno">  148</span>                ret.append(tmp)</div>
<div class="line"><span class="lineno">  149</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  150</span>                ret.append(a.copy())</div>
<div class="line"><span class="lineno">  151</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  153</span>            dtype = np.common_type(*arrays)</div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  155</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Coefficient arrays have no common type&quot;</span>) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno">  156</span>        ret = [np.array(a, copy=<span class="keyword">True</span>, dtype=dtype) <span class="keywordflow">for</span> a <span class="keywordflow">in</span> arrays]</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">return</span> ret</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0aca55912f327f4c0e727c87f7655761" name="a0aca55912f327f4c0e727c87f7655761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aca55912f327f4c0e727c87f7655761">&#9670;&#160;</a></span>format_float()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils.format_float </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parens</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  757</span><span class="keyword">def </span>format_float(x, parens=False):</div>
<div class="line"><span class="lineno">  758</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> np.issubdtype(type(x), np.floating):</div>
<div class="line"><span class="lineno">  759</span>        <span class="keywordflow">return</span> str(x)</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>    opts = np.get_printoptions()</div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>    <span class="keywordflow">if</span> np.isnan(x):</div>
<div class="line"><span class="lineno">  764</span>        <span class="keywordflow">return</span> opts[<span class="stringliteral">&#39;nanstr&#39;</span>]</div>
<div class="line"><span class="lineno">  765</span>    <span class="keywordflow">elif</span> np.isinf(x):</div>
<div class="line"><span class="lineno">  766</span>        <span class="keywordflow">return</span> opts[<span class="stringliteral">&#39;infstr&#39;</span>]</div>
<div class="line"><span class="lineno">  767</span> </div>
<div class="line"><span class="lineno">  768</span>    exp_format = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  769</span>    <span class="keywordflow">if</span> x != 0:</div>
<div class="line"><span class="lineno">  770</span>        a = absolute(x)</div>
<div class="line"><span class="lineno">  771</span>        <span class="keywordflow">if</span> a &gt;= 1.e8 <span class="keywordflow">or</span> a &lt; 10**min(0, -(opts[<span class="stringliteral">&#39;precision&#39;</span>]-1)//2):</div>
<div class="line"><span class="lineno">  772</span>            exp_format = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    trim, unique = <span class="stringliteral">&#39;0&#39;</span>, <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  775</span>    <span class="keywordflow">if</span> opts[<span class="stringliteral">&#39;floatmode&#39;</span>] == <span class="stringliteral">&#39;fixed&#39;</span>:</div>
<div class="line"><span class="lineno">  776</span>        trim, unique = <span class="stringliteral">&#39;k&#39;</span>, <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span>    <span class="keywordflow">if</span> exp_format:</div>
<div class="line"><span class="lineno">  779</span>        s = dragon4_scientific(x, precision=opts[<span class="stringliteral">&#39;precision&#39;</span>],</div>
<div class="line"><span class="lineno">  780</span>                               unique=unique, trim=trim, </div>
<div class="line"><span class="lineno">  781</span>                               sign=opts[<span class="stringliteral">&#39;sign&#39;</span>] == <span class="stringliteral">&#39;+&#39;</span>)</div>
<div class="line"><span class="lineno">  782</span>        <span class="keywordflow">if</span> parens:</div>
<div class="line"><span class="lineno">  783</span>            s = <span class="stringliteral">&#39;(&#39;</span> + s + <span class="stringliteral">&#39;)&#39;</span></div>
<div class="line"><span class="lineno">  784</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  785</span>        s = dragon4_positional(x, precision=opts[<span class="stringliteral">&#39;precision&#39;</span>],</div>
<div class="line"><span class="lineno">  786</span>                               fractional=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  787</span>                               unique=unique, trim=trim,</div>
<div class="line"><span class="lineno">  788</span>                               sign=opts[<span class="stringliteral">&#39;sign&#39;</span>] == <span class="stringliteral">&#39;+&#39;</span>)</div>
<div class="line"><span class="lineno">  789</span>    <span class="keywordflow">return</span> s</div>
</div><!-- fragment -->
</div>
</div>
<a id="a91e7aa259a7aed6477d64f257d62c6e9" name="a91e7aa259a7aed6477d64f257d62c6e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91e7aa259a7aed6477d64f257d62c6e9">&#9670;&#160;</a></span>getdomain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils.getdomain </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a domain suitable for given abscissae.

Find a domain suitable for a polynomial or Chebyshev series
defined at the values supplied.

Parameters
----------
x : array_like
    1-d array of abscissae whose domain will be determined.

Returns
-------
domain : ndarray
    1-d array containing two values.  If the inputs are complex, then
    the two returned points are the lower left and upper right corners
    of the smallest rectangle (aligned with the axes) in the complex
    plane containing the points `x`. If the inputs are real, then the
    two points are the ends of the smallest interval containing the
    points `x`.

See Also
--------
mapparms, mapdomain

Examples
--------
&gt;&gt;&gt; from numpy.polynomial import polyutils as pu
&gt;&gt;&gt; points = np.arange(4)**2 - 5; points
array([-5, -4, -1,  4])
&gt;&gt;&gt; pu.getdomain(points)
array([-5.,  4.])
&gt;&gt;&gt; c = np.exp(complex(0,1)*np.pi*np.arange(12)/6) # unit circle
&gt;&gt;&gt; pu.getdomain(c)
array([-1.-1.j,  1.+1.j])</pre> <div class="fragment"><div class="line"><span class="lineno">  214</span><span class="keyword">def </span>getdomain(x):</div>
<div class="line"><span class="lineno">  215</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  216</span><span class="stringliteral">    Return a domain suitable for given abscissae.</span></div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  218</span><span class="stringliteral">    Find a domain suitable for a polynomial or Chebyshev series</span></div>
<div class="line"><span class="lineno">  219</span><span class="stringliteral">    defined at the values supplied.</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">    x : array_like</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral">        1-d array of abscissae whose domain will be determined.</span></div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  226</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  227</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  228</span><span class="stringliteral">    domain : ndarray</span></div>
<div class="line"><span class="lineno">  229</span><span class="stringliteral">        1-d array containing two values.  If the inputs are complex, then</span></div>
<div class="line"><span class="lineno">  230</span><span class="stringliteral">        the two returned points are the lower left and upper right corners</span></div>
<div class="line"><span class="lineno">  231</span><span class="stringliteral">        of the smallest rectangle (aligned with the axes) in the complex</span></div>
<div class="line"><span class="lineno">  232</span><span class="stringliteral">        plane containing the points `x`. If the inputs are real, then the</span></div>
<div class="line"><span class="lineno">  233</span><span class="stringliteral">        two points are the ends of the smallest interval containing the</span></div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral">        points `x`.</span></div>
<div class="line"><span class="lineno">  235</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  238</span><span class="stringliteral">    mapparms, mapdomain</span></div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  240</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  241</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral">    &gt;&gt;&gt; from numpy.polynomial import polyutils as pu</span></div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral">    &gt;&gt;&gt; points = np.arange(4)**2 - 5; points</span></div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">    array([-5, -4, -1,  4])</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral">    &gt;&gt;&gt; pu.getdomain(points)</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral">    array([-5.,  4.])</span></div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral">    &gt;&gt;&gt; c = np.exp(complex(0,1)*np.pi*np.arange(12)/6) # unit circle</span></div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">    &gt;&gt;&gt; pu.getdomain(c)</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral">    array([-1.-1.j,  1.+1.j])</span></div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  252</span>    [x] = as_series([x], trim=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordflow">if</span> x.dtype.char <span class="keywordflow">in</span> np.typecodes[<span class="stringliteral">&#39;Complex&#39;</span>]:</div>
<div class="line"><span class="lineno">  254</span>        rmin, rmax = x.real.min(), x.real.max()</div>
<div class="line"><span class="lineno">  255</span>        imin, imax = x.imag.min(), x.imag.max()</div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">return</span> np.array((complex(rmin, imin), complex(rmax, imax)))</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">return</span> np.array((x.min(), x.max()))</div>
<div class="line"><span class="lineno">  259</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afc444f9301156c1feba388b84361c090" name="afc444f9301156c1feba388b84361c090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc444f9301156c1feba388b84361c090">&#9670;&#160;</a></span>mapdomain()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils.mapdomain </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply linear map to input points.

The linear map ``offset + scale*x`` that maps the domain `old` to
the domain `new` is applied to the points `x`.

Parameters
----------
x : array_like
    Points to be mapped. If `x` is a subtype of ndarray the subtype
    will be preserved.
old, new : array_like
    The two domains that determine the map.  Each must (successfully)
    convert to 1-d arrays containing precisely two values.

Returns
-------
x_out : ndarray
    Array of points of the same shape as `x`, after application of the
    linear map between the two domains.

See Also
--------
getdomain, mapparms

Notes
-----
Effectively, this implements:

.. math::
    x\\_out = new[0] + m(x - old[0])

where

.. math::
    m = \\frac{new[1]-new[0]}{old[1]-old[0]}

Examples
--------
&gt;&gt;&gt; from numpy.polynomial import polyutils as pu
&gt;&gt;&gt; old_domain = (-1,1)
&gt;&gt;&gt; new_domain = (0,2*np.pi)
&gt;&gt;&gt; x = np.linspace(-1,1,6); x
array([-1. , -0.6, -0.2,  0.2,  0.6,  1. ])
&gt;&gt;&gt; x_out = pu.mapdomain(x, old_domain, new_domain); x_out
array([ 0.        ,  1.25663706,  2.51327412,  3.76991118,  5.02654825, # may vary
        6.28318531])
&gt;&gt;&gt; x - pu.mapdomain(x_out, new_domain, old_domain)
array([0., 0., 0., 0., 0., 0.])

Also works for complex numbers (and thus can be used to map any line in
the complex plane to any other line therein).

&gt;&gt;&gt; i = complex(0,1)
&gt;&gt;&gt; old = (-1 - i, 1 + i)
&gt;&gt;&gt; new = (-1 + i, 1 - i)
&gt;&gt;&gt; z = np.linspace(old[0], old[1], 6); z
array([-1. -1.j , -0.6-0.6j, -0.2-0.2j,  0.2+0.2j,  0.6+0.6j,  1. +1.j ])
&gt;&gt;&gt; new_z = pu.mapdomain(z, old, new); new_z
array([-1.0+1.j , -0.6+0.6j, -0.2+0.2j,  0.2-0.2j,  0.6-0.6j,  1.0-1.j ]) # may vary</pre> <div class="fragment"><div class="line"><span class="lineno">  307</span><span class="keyword">def </span>mapdomain(x, old, new):</div>
<div class="line"><span class="lineno">  308</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral">    Apply linear map to input points.</span></div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral">    The linear map ``offset + scale*x`` that maps the domain `old` to</span></div>
<div class="line"><span class="lineno">  312</span><span class="stringliteral">    the domain `new` is applied to the points `x`.</span></div>
<div class="line"><span class="lineno">  313</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  314</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  315</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  316</span><span class="stringliteral">    x : array_like</span></div>
<div class="line"><span class="lineno">  317</span><span class="stringliteral">        Points to be mapped. If `x` is a subtype of ndarray the subtype</span></div>
<div class="line"><span class="lineno">  318</span><span class="stringliteral">        will be preserved.</span></div>
<div class="line"><span class="lineno">  319</span><span class="stringliteral">    old, new : array_like</span></div>
<div class="line"><span class="lineno">  320</span><span class="stringliteral">        The two domains that determine the map.  Each must (successfully)</span></div>
<div class="line"><span class="lineno">  321</span><span class="stringliteral">        convert to 1-d arrays containing precisely two values.</span></div>
<div class="line"><span class="lineno">  322</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  323</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  324</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  325</span><span class="stringliteral">    x_out : ndarray</span></div>
<div class="line"><span class="lineno">  326</span><span class="stringliteral">        Array of points of the same shape as `x`, after application of the</span></div>
<div class="line"><span class="lineno">  327</span><span class="stringliteral">        linear map between the two domains.</span></div>
<div class="line"><span class="lineno">  328</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral">    getdomain, mapparms</span></div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral">    Effectively, this implements:</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">    .. math::</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral">        x\\_out = new[0] + m(x - old[0])</span></div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral">    where</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral">    .. math::</span></div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral">        m = \\frac{new[1]-new[0]}{old[1]-old[0]}</span></div>
<div class="line"><span class="lineno">  344</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  345</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  346</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  347</span><span class="stringliteral">    &gt;&gt;&gt; from numpy.polynomial import polyutils as pu</span></div>
<div class="line"><span class="lineno">  348</span><span class="stringliteral">    &gt;&gt;&gt; old_domain = (-1,1)</span></div>
<div class="line"><span class="lineno">  349</span><span class="stringliteral">    &gt;&gt;&gt; new_domain = (0,2*np.pi)</span></div>
<div class="line"><span class="lineno">  350</span><span class="stringliteral">    &gt;&gt;&gt; x = np.linspace(-1,1,6); x</span></div>
<div class="line"><span class="lineno">  351</span><span class="stringliteral">    array([-1. , -0.6, -0.2,  0.2,  0.6,  1. ])</span></div>
<div class="line"><span class="lineno">  352</span><span class="stringliteral">    &gt;&gt;&gt; x_out = pu.mapdomain(x, old_domain, new_domain); x_out</span></div>
<div class="line"><span class="lineno">  353</span><span class="stringliteral">    array([ 0.        ,  1.25663706,  2.51327412,  3.76991118,  5.02654825, # may vary</span></div>
<div class="line"><span class="lineno">  354</span><span class="stringliteral">            6.28318531])</span></div>
<div class="line"><span class="lineno">  355</span><span class="stringliteral">    &gt;&gt;&gt; x - pu.mapdomain(x_out, new_domain, old_domain)</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral">    array([0., 0., 0., 0., 0., 0.])</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral">    Also works for complex numbers (and thus can be used to map any line in</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">    the complex plane to any other line therein).</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">    &gt;&gt;&gt; i = complex(0,1)</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">    &gt;&gt;&gt; old = (-1 - i, 1 + i)</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">    &gt;&gt;&gt; new = (-1 + i, 1 - i)</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">    &gt;&gt;&gt; z = np.linspace(old[0], old[1], 6); z</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">    array([-1. -1.j , -0.6-0.6j, -0.2-0.2j,  0.2+0.2j,  0.6+0.6j,  1. +1.j ])</span></div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral">    &gt;&gt;&gt; new_z = pu.mapdomain(z, old, new); new_z</span></div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">    array([-1.0+1.j , -0.6+0.6j, -0.2+0.2j,  0.2-0.2j,  0.6-0.6j,  1.0-1.j ]) # may vary</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  370</span>    x = np.asanyarray(x)</div>
<div class="line"><span class="lineno">  371</span>    off, scl = mapparms(old, new)</div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordflow">return</span> off + scl*x</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9b584b17644aef98a261f853d4abf24" name="aa9b584b17644aef98a261f853d4abf24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9b584b17644aef98a261f853d4abf24">&#9670;&#160;</a></span>mapparms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils.mapparms </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>old</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Linear map parameters between domains.

Return the parameters of the linear map ``offset + scale*x`` that maps
`old` to `new` such that ``old[i] -&gt; new[i]``, ``i = 0, 1``.

Parameters
----------
old, new : array_like
    Domains. Each domain must (successfully) convert to a 1-d array
    containing precisely two values.

Returns
-------
offset, scale : scalars
    The map ``L(x) = offset + scale*x`` maps the first domain to the
    second.

See Also
--------
getdomain, mapdomain

Notes
-----
Also works for complex numbers, and thus can be used to calculate the
parameters required to map any line in the complex plane to any other
line therein.

Examples
--------
&gt;&gt;&gt; from numpy.polynomial import polyutils as pu
&gt;&gt;&gt; pu.mapparms((-1,1),(-1,1))
(0.0, 1.0)
&gt;&gt;&gt; pu.mapparms((1,-1),(-1,1))
(-0.0, -1.0)
&gt;&gt;&gt; i = complex(0,1)
&gt;&gt;&gt; pu.mapparms((-i,-1),(1,i))
((1+1j), (1-0j))</pre> <div class="fragment"><div class="line"><span class="lineno">  260</span><span class="keyword">def </span>mapparms(old, new):</div>
<div class="line"><span class="lineno">  261</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">    Linear map parameters between domains.</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral">    Return the parameters of the linear map ``offset + scale*x`` that maps</span></div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">    `old` to `new` such that ``old[i] -&gt; new[i]``, ``i = 0, 1``.</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral">    old, new : array_like</span></div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral">        Domains. Each domain must (successfully) convert to a 1-d array</span></div>
<div class="line"><span class="lineno">  271</span><span class="stringliteral">        containing precisely two values.</span></div>
<div class="line"><span class="lineno">  272</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  273</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  274</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  275</span><span class="stringliteral">    offset, scale : scalars</span></div>
<div class="line"><span class="lineno">  276</span><span class="stringliteral">        The map ``L(x) = offset + scale*x`` maps the first domain to the</span></div>
<div class="line"><span class="lineno">  277</span><span class="stringliteral">        second.</span></div>
<div class="line"><span class="lineno">  278</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  279</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  280</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  281</span><span class="stringliteral">    getdomain, mapdomain</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral">    Also works for complex numbers, and thus can be used to calculate the</span></div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral">    parameters required to map any line in the complex plane to any other</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">    line therein.</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">    &gt;&gt;&gt; from numpy.polynomial import polyutils as pu</span></div>
<div class="line"><span class="lineno">  292</span><span class="stringliteral">    &gt;&gt;&gt; pu.mapparms((-1,1),(-1,1))</span></div>
<div class="line"><span class="lineno">  293</span><span class="stringliteral">    (0.0, 1.0)</span></div>
<div class="line"><span class="lineno">  294</span><span class="stringliteral">    &gt;&gt;&gt; pu.mapparms((1,-1),(-1,1))</span></div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral">    (-0.0, -1.0)</span></div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">    &gt;&gt;&gt; i = complex(0,1)</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral">    &gt;&gt;&gt; pu.mapparms((-i,-1),(1,i))</span></div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral">    ((1+1j), (1-0j))</span></div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  301</span>    oldlen = old[1] - old[0]</div>
<div class="line"><span class="lineno">  302</span>    newlen = new[1] - new[0]</div>
<div class="line"><span class="lineno">  303</span>    off = (old[1]*new[0] - old[0]*new[1])/oldlen</div>
<div class="line"><span class="lineno">  304</span>    scl = newlen/oldlen</div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordflow">return</span> off, scl</div>
<div class="line"><span class="lineno">  306</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a025dfde16a81b5a708e19f9ee6d51f47" name="a025dfde16a81b5a708e19f9ee6d51f47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a025dfde16a81b5a708e19f9ee6d51f47">&#9670;&#160;</a></span>trimcoef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils.trimcoef </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tol</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Remove "small" "trailing" coefficients from a polynomial.

"Small" means "small in absolute value" and is controlled by the
parameter `tol`; "trailing" means highest order coefficient(s), e.g., in
``[0, 1, 1, 0, 0]`` (which represents ``0 + x + x**2 + 0*x**3 + 0*x**4``)
both the 3-rd and 4-th order coefficients would be "trimmed."

Parameters
----------
c : array_like
    1-d array of coefficients, ordered from lowest order to highest.
tol : number, optional
    Trailing (i.e., highest order) elements with absolute value less
    than or equal to `tol` (default value is zero) are removed.

Returns
-------
trimmed : ndarray
    1-d array with trailing zeros removed.  If the resulting series
    would be empty, a series containing a single zero is returned.

Raises
------
ValueError
    If `tol` &lt; 0

See Also
--------
trimseq

Examples
--------
&gt;&gt;&gt; from numpy.polynomial import polyutils as pu
&gt;&gt;&gt; pu.trimcoef((0,0,3,0,5,0,0))
array([0.,  0.,  3.,  0.,  5.])
&gt;&gt;&gt; pu.trimcoef((0,0,1e-3,0,1e-5,0,0),1e-3) # item == tol is trimmed
array([0.])
&gt;&gt;&gt; i = complex(0,1) # works for complex
&gt;&gt;&gt; pu.trimcoef((3e-4,1e-3*(1-i),5e-4,2e-5*(1+i)), 1e-3)
array([0.0003+0.j   , 0.001 -0.001j])</pre> <div class="fragment"><div class="line"><span class="lineno">  160</span><span class="keyword">def </span>trimcoef(c, tol=0):</div>
<div class="line"><span class="lineno">  161</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  162</span><span class="stringliteral">    Remove &quot;small&quot; &quot;trailing&quot; coefficients from a polynomial.</span></div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral">    &quot;Small&quot; means &quot;small in absolute value&quot; and is controlled by the</span></div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">    parameter `tol`; &quot;trailing&quot; means highest order coefficient(s), e.g., in</span></div>
<div class="line"><span class="lineno">  166</span><span class="stringliteral">    ``[0, 1, 1, 0, 0]`` (which represents ``0 + x + x**2 + 0*x**3 + 0*x**4``)</span></div>
<div class="line"><span class="lineno">  167</span><span class="stringliteral">    both the 3-rd and 4-th order coefficients would be &quot;trimmed.&quot;</span></div>
<div class="line"><span class="lineno">  168</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">    c : array_like</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">        1-d array of coefficients, ordered from lowest order to highest.</span></div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">    tol : number, optional</span></div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral">        Trailing (i.e., highest order) elements with absolute value less</span></div>
<div class="line"><span class="lineno">  175</span><span class="stringliteral">        than or equal to `tol` (default value is zero) are removed.</span></div>
<div class="line"><span class="lineno">  176</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  177</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  178</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral">    trimmed : ndarray</span></div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">        1-d array with trailing zeros removed.  If the resulting series</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral">        would be empty, a series containing a single zero is returned.</span></div>
<div class="line"><span class="lineno">  182</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  183</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  184</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  185</span><span class="stringliteral">    ValueError</span></div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral">        If `tol` &lt; 0</span></div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  189</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  190</span><span class="stringliteral">    trimseq</span></div>
<div class="line"><span class="lineno">  191</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  192</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral">    &gt;&gt;&gt; from numpy.polynomial import polyutils as pu</span></div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral">    &gt;&gt;&gt; pu.trimcoef((0,0,3,0,5,0,0))</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">    array([0.,  0.,  3.,  0.,  5.])</span></div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral">    &gt;&gt;&gt; pu.trimcoef((0,0,1e-3,0,1e-5,0,0),1e-3) # item == tol is trimmed</span></div>
<div class="line"><span class="lineno">  198</span><span class="stringliteral">    array([0.])</span></div>
<div class="line"><span class="lineno">  199</span><span class="stringliteral">    &gt;&gt;&gt; i = complex(0,1) # works for complex</span></div>
<div class="line"><span class="lineno">  200</span><span class="stringliteral">    &gt;&gt;&gt; pu.trimcoef((3e-4,1e-3*(1-i),5e-4,2e-5*(1+i)), 1e-3)</span></div>
<div class="line"><span class="lineno">  201</span><span class="stringliteral">    array([0.0003+0.j   , 0.001 -0.001j])</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  203</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">if</span> tol &lt; 0:</div>
<div class="line"><span class="lineno">  205</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;tol must be non-negative&quot;</span>)</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>    [c] = as_series([c])</div>
<div class="line"><span class="lineno">  208</span>    [ind] = np.nonzero(np.abs(c) &gt; tol)</div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">if</span> len(ind) == 0:</div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordflow">return</span> c[:1]*0</div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  212</span>        <span class="keywordflow">return</span> c[:ind[-1] + 1].copy()</div>
<div class="line"><span class="lineno">  213</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a23749899d5d34b1fe47db966c5c0e124" name="a23749899d5d34b1fe47db966c5c0e124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23749899d5d34b1fe47db966c5c0e124">&#9670;&#160;</a></span>trimseq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.polynomial.polyutils.trimseq </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>seq</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Remove small Poly series coefficients.

Parameters
----------
seq : sequence
    Sequence of Poly series coefficients. This routine fails for
    empty sequences.

Returns
-------
series : sequence
    Subsequence with trailing zeros removed. If the resulting sequence
    would be empty, return the first element. The returned sequence may
    or may not be a view.

Notes
-----
Do not lose the type info if the sequence contains unknown objects.</pre> <div class="fragment"><div class="line"><span class="lineno">   54</span><span class="keyword">def </span>trimseq(seq):</div>
<div class="line"><span class="lineno">   55</span>    <span class="stringliteral">&quot;&quot;&quot;Remove small Poly series coefficients.</span></div>
<div class="line"><span class="lineno">   56</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   57</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   58</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   59</span><span class="stringliteral">    seq : sequence</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral">        Sequence of Poly series coefficients. This routine fails for</span></div>
<div class="line"><span class="lineno">   61</span><span class="stringliteral">        empty sequences.</span></div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">    series : sequence</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral">        Subsequence with trailing zeros removed. If the resulting sequence</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral">        would be empty, return the first element. The returned sequence may</span></div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">        or may not be a view.</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">    Do not lose the type info if the sequence contains unknown objects.</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">if</span> len(seq) == 0:</div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordflow">return</span> seq</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(seq) - 1, -1, -1):</div>
<div class="line"><span class="lineno">   79</span>            <span class="keywordflow">if</span> seq[i] != 0:</div>
<div class="line"><span class="lineno">   80</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">return</span> seq[:i+1]</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span> </div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
