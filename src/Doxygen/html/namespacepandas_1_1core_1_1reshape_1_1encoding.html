<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.core.reshape.encoding Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core_1_1reshape.html">reshape</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core_1_1reshape_1_1encoding.html">encoding</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pandas.core.reshape.encoding Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acd54a56051ae0ab05b06c7589058463a" id="r_acd54a56051ae0ab05b06c7589058463a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1reshape_1_1encoding.html#acd54a56051ae0ab05b06c7589058463a">get_dummies</a> (data, prefix=None, prefix_sep=&quot;_&quot;, bool dummy_na=False, columns=None, bool sparse=False, bool drop_first=False, Dtype|None dtype=None)</td></tr>
<tr class="separator:acd54a56051ae0ab05b06c7589058463a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2427e249edaf72faa79e3f75b2e90797" id="r_a2427e249edaf72faa79e3f75b2e90797"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1reshape_1_1encoding.html#a2427e249edaf72faa79e3f75b2e90797">_get_dummies_1d</a> (data, prefix, prefix_sep=&quot;_&quot;, bool dummy_na=False, bool sparse=False, bool drop_first=False, Dtype|None dtype=None)</td></tr>
<tr class="separator:a2427e249edaf72faa79e3f75b2e90797"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de8db4cf881e130991125b94ea5383b" id="r_a9de8db4cf881e130991125b94ea5383b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1reshape_1_1encoding.html#a9de8db4cf881e130991125b94ea5383b">from_dummies</a> (<a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a> data, None|str sep=None, None|Hashable|dict[str, Hashable] default_category=None)</td></tr>
<tr class="separator:a9de8db4cf881e130991125b94ea5383b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a2427e249edaf72faa79e3f75b2e90797" name="a2427e249edaf72faa79e3f75b2e90797"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2427e249edaf72faa79e3f75b2e90797">&#9670;&#160;</a></span>_get_dummies_1d()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a> pandas.core.reshape.encoding._get_dummies_1d </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prefix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prefix_sep</em> = <code>&quot;_&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>dummy_na</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>sparse</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>drop_first</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dtype | None &#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  224</span>) -&gt; DataFrame:</div>
<div class="line"><span class="lineno">  225</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacepandas_1_1core_1_1reshape_1_1concat.html">pandas.core.reshape.concat</a> <span class="keyword">import</span> concat</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>    <span class="comment"># Series avoids inconsistent NaN handling</span></div>
<div class="line"><span class="lineno">  228</span>    codes, levels = factorize_from_iterable(Series(data))</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  231</span>        dtype = np.dtype(np.uint8)</div>
<div class="line"><span class="lineno">  232</span>    <span class="comment"># error: Argument 1 to &quot;dtype&quot; has incompatible type &quot;Union[ExtensionDtype, str,</span></div>
<div class="line"><span class="lineno">  233</span>    <span class="comment"># dtype[Any], Type[object]]&quot;; expected &quot;Type[Any]&quot;</span></div>
<div class="line"><span class="lineno">  234</span>    dtype = np.dtype(dtype)  <span class="comment"># type: ignore[arg-type]</span></div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">if</span> is_object_dtype(dtype):</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;dtype=object is not a valid dtype for get_dummies&quot;</span>)</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>    <span class="keyword">def </span>get_empty_frame(data) -&gt; DataFrame:</div>
<div class="line"><span class="lineno">  240</span>        index: Index | np.ndarray</div>
<div class="line"><span class="lineno">  241</span>        <span class="keywordflow">if</span> isinstance(data, Series):</div>
<div class="line"><span class="lineno">  242</span>            index = data.index</div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  244</span>            index = Index(range(len(data)))</div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordflow">return</span> DataFrame(index=index)</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="comment"># if all NaN</span></div>
<div class="line"><span class="lineno">  248</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> dummy_na <span class="keywordflow">and</span> len(levels) == 0:</div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">return</span> get_empty_frame(data)</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>    codes = codes.copy()</div>
<div class="line"><span class="lineno">  252</span>    <span class="keywordflow">if</span> dummy_na:</div>
<div class="line"><span class="lineno">  253</span>        codes[codes == -1] = len(levels)</div>
<div class="line"><span class="lineno">  254</span>        levels = levels.insert(len(levels), np.nan)</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    <span class="comment"># if dummy_na, we just fake a nan level. drop_first will drop it again</span></div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">if</span> drop_first <span class="keywordflow">and</span> len(levels) == 1:</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">return</span> get_empty_frame(data)</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>    number_of_cols = len(levels)</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>    <span class="keywordflow">if</span> prefix <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  263</span>        dummy_cols = levels</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  265</span>        dummy_cols = Index([f<span class="stringliteral">&quot;{prefix}{prefix_sep}{level}&quot;</span> <span class="keywordflow">for</span> level <span class="keywordflow">in</span> levels])</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>    index: Index | <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  268</span>    <span class="keywordflow">if</span> isinstance(data, Series):</div>
<div class="line"><span class="lineno">  269</span>        index = data.index</div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  271</span>        index = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>    <span class="keywordflow">if</span> sparse:</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>        fill_value: bool | float</div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">if</span> is_integer_dtype(dtype):</div>
<div class="line"><span class="lineno">  277</span>            fill_value = 0</div>
<div class="line"><span class="lineno">  278</span>        <span class="keywordflow">elif</span> dtype == np.dtype(bool):</div>
<div class="line"><span class="lineno">  279</span>            fill_value = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  281</span>            fill_value = 0.0</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>        sparse_series = []</div>
<div class="line"><span class="lineno">  284</span>        N = len(data)</div>
<div class="line"><span class="lineno">  285</span>        sp_indices: list[list] = [[] <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(len(dummy_cols))]</div>
<div class="line"><span class="lineno">  286</span>        mask = codes != -1</div>
<div class="line"><span class="lineno">  287</span>        codes = codes[mask]</div>
<div class="line"><span class="lineno">  288</span>        n_idx = np.arange(N)[mask]</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>        <span class="keywordflow">for</span> ndx, code <span class="keywordflow">in</span> zip(n_idx, codes):</div>
<div class="line"><span class="lineno">  291</span>            sp_indices[code].append(ndx)</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>        <span class="keywordflow">if</span> drop_first:</div>
<div class="line"><span class="lineno">  294</span>            <span class="comment"># remove first categorical level to avoid perfect collinearity</span></div>
<div class="line"><span class="lineno">  295</span>            <span class="comment"># GH12042</span></div>
<div class="line"><span class="lineno">  296</span>            sp_indices = sp_indices[1:]</div>
<div class="line"><span class="lineno">  297</span>            dummy_cols = dummy_cols[1:]</div>
<div class="line"><span class="lineno">  298</span>        <span class="keywordflow">for</span> col, ixs <span class="keywordflow">in</span> zip(dummy_cols, sp_indices):</div>
<div class="line"><span class="lineno">  299</span>            sarr = SparseArray(</div>
<div class="line"><span class="lineno">  300</span>                np.ones(len(ixs), dtype=dtype),</div>
<div class="line"><span class="lineno">  301</span>                sparse_index=IntIndex(N, ixs),</div>
<div class="line"><span class="lineno">  302</span>                fill_value=fill_value,</div>
<div class="line"><span class="lineno">  303</span>                dtype=dtype,</div>
<div class="line"><span class="lineno">  304</span>            )</div>
<div class="line"><span class="lineno">  305</span>            sparse_series.append(Series(data=sarr, index=index, name=col))</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">return</span> concat(sparse_series, axis=1, copy=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  310</span>        <span class="comment"># take on axis=1 + transpose to ensure ndarray layout is column-major</span></div>
<div class="line"><span class="lineno">  311</span>        dummy_mat = np.eye(number_of_cols, dtype=dtype).take(codes, axis=1).T</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> dummy_na:</div>
<div class="line"><span class="lineno">  314</span>            <span class="comment"># reset NaN GH4446</span></div>
<div class="line"><span class="lineno">  315</span>            dummy_mat[codes == -1] = 0</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">if</span> drop_first:</div>
<div class="line"><span class="lineno">  318</span>            <span class="comment"># remove first GH12042</span></div>
<div class="line"><span class="lineno">  319</span>            dummy_mat = dummy_mat[:, 1:]</div>
<div class="line"><span class="lineno">  320</span>            dummy_cols = dummy_cols[1:]</div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">return</span> DataFrame(dummy_mat, index=index, columns=dummy_cols)</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="ttc" id="anamespacepandas_1_1core_1_1reshape_1_1concat_html"><div class="ttname"><a href="namespacepandas_1_1core_1_1reshape_1_1concat.html">pandas.core.reshape.concat</a></div><div class="ttdef"><b>Definition</b> concat.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9de8db4cf881e130991125b94ea5383b" name="a9de8db4cf881e130991125b94ea5383b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9de8db4cf881e130991125b94ea5383b">&#9670;&#160;</a></span>from_dummies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a> pandas.core.reshape.encoding.from_dummies </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a>&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">None | str &#160;</td>
          <td class="paramname"><em>sep</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">None | Hashable | dict[str, Hashable] &#160;</td>
          <td class="paramname"><em>default_category</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a categorical ``DataFrame`` from a ``DataFrame`` of dummy variables.

Inverts the operation performed by :func:`~pandas.get_dummies`.

.. versionadded:: 1.5.0

Parameters
----------
data : DataFrame
    Data which contains dummy-coded variables in form of integer columns of
    1's and 0's.
sep : str, default None
    Separator used in the column names of the dummy categories they are
    character indicating the separation of the categorical names from the prefixes.
    For example, if your column names are 'prefix_A' and 'prefix_B',
    you can strip the underscore by specifying sep='_'.
default_category : None, Hashable or dict of Hashables, default None
    The default category is the implied category when a value has none of the
    listed categories specified with a one, i.e. if all dummies in a row are
    zero. Can be a single value for all variables or a dict directly mapping
    the default categories to a prefix of a variable.

Returns
-------
DataFrame
    Categorical data decoded from the dummy input-data.

Raises
------
ValueError
    * When the input ``DataFrame`` ``data`` contains NA values.
    * When the input ``DataFrame`` ``data`` contains column names with separators
      that do not match the separator specified with ``sep``.
    * When a ``dict`` passed to ``default_category`` does not include an implied
      category for each prefix.
    * When a value in ``data`` has more than one category assigned to it.
    * When ``default_category=None`` and a value in ``data`` has no category
      assigned to it.
TypeError
    * When the input ``data`` is not of type ``DataFrame``.
    * When the input ``DataFrame`` ``data`` contains non-dummy data.
    * When the passed ``sep`` is of a wrong data type.
    * When the passed ``default_category`` is of a wrong data type.

See Also
--------
:func:`~pandas.get_dummies` : Convert ``Series`` or ``DataFrame`` to dummy codes.
:class:`~pandas.Categorical` : Represent a categorical variable in classic.

Notes
-----
The columns of the passed dummy data should only include 1's and 0's,
or boolean values.

Examples
--------
&gt;&gt;&gt; df = pd.DataFrame({"a": [1, 0, 0, 1], "b": [0, 1, 0, 0],
...                    "c": [0, 0, 1, 0]})

&gt;&gt;&gt; df
   a  b  c
0  1  0  0
1  0  1  0
2  0  0  1
3  1  0  0

&gt;&gt;&gt; pd.from_dummies(df)
0     a
1     b
2     c
3     a

&gt;&gt;&gt; df = pd.DataFrame({"col1_a": [1, 0, 1], "col1_b": [0, 1, 0],
...                    "col2_a": [0, 1, 0], "col2_b": [1, 0, 0],
...                    "col2_c": [0, 0, 1]})

&gt;&gt;&gt; df
      col1_a  col1_b  col2_a  col2_b  col2_c
0       1       0       0       1       0
1       0       1       1       0       0
2       1       0       0       0       1

&gt;&gt;&gt; pd.from_dummies(df, sep="_")
    col1    col2
0    a       b
1    b       a
2    a       c

&gt;&gt;&gt; df = pd.DataFrame({"col1_a": [1, 0, 0], "col1_b": [0, 1, 0],
...                    "col2_a": [0, 1, 0], "col2_b": [1, 0, 0],
...                    "col2_c": [0, 0, 0]})

&gt;&gt;&gt; df
      col1_a  col1_b  col2_a  col2_b  col2_c
0       1       0       0       1       0
1       0       1       1       0       0
2       0       0       0       0       0

&gt;&gt;&gt; pd.from_dummies(df, sep="_", default_category={"col1": "d", "col2": "e"})
    col1    col2
0    a       b
1    b       a
2    d       e
</pre> <div class="fragment"><div class="line"><span class="lineno">  328</span>) -&gt; DataFrame:</div>
<div class="line"><span class="lineno">  329</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">    Create a categorical ``DataFrame`` from a ``DataFrame`` of dummy variables.</span></div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral">    Inverts the operation performed by :func:`~pandas.get_dummies`.</span></div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">    .. versionadded:: 1.5.0</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral">    data : DataFrame</span></div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral">        Data which contains dummy-coded variables in form of integer columns of</span></div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral">        1&#39;s and 0&#39;s.</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral">    sep : str, default None</span></div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral">        Separator used in the column names of the dummy categories they are</span></div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral">        character indicating the separation of the categorical names from the prefixes.</span></div>
<div class="line"><span class="lineno">  344</span><span class="stringliteral">        For example, if your column names are &#39;prefix_A&#39; and &#39;prefix_B&#39;,</span></div>
<div class="line"><span class="lineno">  345</span><span class="stringliteral">        you can strip the underscore by specifying sep=&#39;_&#39;.</span></div>
<div class="line"><span class="lineno">  346</span><span class="stringliteral">    default_category : None, Hashable or dict of Hashables, default None</span></div>
<div class="line"><span class="lineno">  347</span><span class="stringliteral">        The default category is the implied category when a value has none of the</span></div>
<div class="line"><span class="lineno">  348</span><span class="stringliteral">        listed categories specified with a one, i.e. if all dummies in a row are</span></div>
<div class="line"><span class="lineno">  349</span><span class="stringliteral">        zero. Can be a single value for all variables or a dict directly mapping</span></div>
<div class="line"><span class="lineno">  350</span><span class="stringliteral">        the default categories to a prefix of a variable.</span></div>
<div class="line"><span class="lineno">  351</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  352</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  353</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  354</span><span class="stringliteral">    DataFrame</span></div>
<div class="line"><span class="lineno">  355</span><span class="stringliteral">        Categorical data decoded from the dummy input-data.</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">    ValueError</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">        * When the input ``DataFrame`` ``data`` contains NA values.</span></div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">        * When the input ``DataFrame`` ``data`` contains column names with separators</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">          that do not match the separator specified with ``sep``.</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">        * When a ``dict`` passed to ``default_category`` does not include an implied</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">          category for each prefix.</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">        * When a value in ``data`` has more than one category assigned to it.</span></div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral">        * When ``default_category=None`` and a value in ``data`` has no category</span></div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">          assigned to it.</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral">    TypeError</span></div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral">        * When the input ``data`` is not of type ``DataFrame``.</span></div>
<div class="line"><span class="lineno">  370</span><span class="stringliteral">        * When the input ``DataFrame`` ``data`` contains non-dummy data.</span></div>
<div class="line"><span class="lineno">  371</span><span class="stringliteral">        * When the passed ``sep`` is of a wrong data type.</span></div>
<div class="line"><span class="lineno">  372</span><span class="stringliteral">        * When the passed ``default_category`` is of a wrong data type.</span></div>
<div class="line"><span class="lineno">  373</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  374</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  375</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  376</span><span class="stringliteral">    :func:`~pandas.get_dummies` : Convert ``Series`` or ``DataFrame`` to dummy codes.</span></div>
<div class="line"><span class="lineno">  377</span><span class="stringliteral">    :class:`~pandas.Categorical` : Represent a categorical variable in classic.</span></div>
<div class="line"><span class="lineno">  378</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  379</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  380</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  381</span><span class="stringliteral">    The columns of the passed dummy data should only include 1&#39;s and 0&#39;s,</span></div>
<div class="line"><span class="lineno">  382</span><span class="stringliteral">    or boolean values.</span></div>
<div class="line"><span class="lineno">  383</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  384</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  385</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  386</span><span class="stringliteral">    &gt;&gt;&gt; df = pd.DataFrame({&quot;a&quot;: [1, 0, 0, 1], &quot;b&quot;: [0, 1, 0, 0],</span></div>
<div class="line"><span class="lineno">  387</span><span class="stringliteral">    ...                    &quot;c&quot;: [0, 0, 1, 0]})</span></div>
<div class="line"><span class="lineno">  388</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  389</span><span class="stringliteral">    &gt;&gt;&gt; df</span></div>
<div class="line"><span class="lineno">  390</span><span class="stringliteral">       a  b  c</span></div>
<div class="line"><span class="lineno">  391</span><span class="stringliteral">    0  1  0  0</span></div>
<div class="line"><span class="lineno">  392</span><span class="stringliteral">    1  0  1  0</span></div>
<div class="line"><span class="lineno">  393</span><span class="stringliteral">    2  0  0  1</span></div>
<div class="line"><span class="lineno">  394</span><span class="stringliteral">    3  1  0  0</span></div>
<div class="line"><span class="lineno">  395</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  396</span><span class="stringliteral">    &gt;&gt;&gt; pd.from_dummies(df)</span></div>
<div class="line"><span class="lineno">  397</span><span class="stringliteral">    0     a</span></div>
<div class="line"><span class="lineno">  398</span><span class="stringliteral">    1     b</span></div>
<div class="line"><span class="lineno">  399</span><span class="stringliteral">    2     c</span></div>
<div class="line"><span class="lineno">  400</span><span class="stringliteral">    3     a</span></div>
<div class="line"><span class="lineno">  401</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  402</span><span class="stringliteral">    &gt;&gt;&gt; df = pd.DataFrame({&quot;col1_a&quot;: [1, 0, 1], &quot;col1_b&quot;: [0, 1, 0],</span></div>
<div class="line"><span class="lineno">  403</span><span class="stringliteral">    ...                    &quot;col2_a&quot;: [0, 1, 0], &quot;col2_b&quot;: [1, 0, 0],</span></div>
<div class="line"><span class="lineno">  404</span><span class="stringliteral">    ...                    &quot;col2_c&quot;: [0, 0, 1]})</span></div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral">    &gt;&gt;&gt; df</span></div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral">          col1_a  col1_b  col2_a  col2_b  col2_c</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral">    0       1       0       0       1       0</span></div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">    1       0       1       1       0       0</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">    2       1       0       0       0       1</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  412</span><span class="stringliteral">    &gt;&gt;&gt; pd.from_dummies(df, sep=&quot;_&quot;)</span></div>
<div class="line"><span class="lineno">  413</span><span class="stringliteral">        col1    col2</span></div>
<div class="line"><span class="lineno">  414</span><span class="stringliteral">    0    a       b</span></div>
<div class="line"><span class="lineno">  415</span><span class="stringliteral">    1    b       a</span></div>
<div class="line"><span class="lineno">  416</span><span class="stringliteral">    2    a       c</span></div>
<div class="line"><span class="lineno">  417</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  418</span><span class="stringliteral">    &gt;&gt;&gt; df = pd.DataFrame({&quot;col1_a&quot;: [1, 0, 0], &quot;col1_b&quot;: [0, 1, 0],</span></div>
<div class="line"><span class="lineno">  419</span><span class="stringliteral">    ...                    &quot;col2_a&quot;: [0, 1, 0], &quot;col2_b&quot;: [1, 0, 0],</span></div>
<div class="line"><span class="lineno">  420</span><span class="stringliteral">    ...                    &quot;col2_c&quot;: [0, 0, 0]})</span></div>
<div class="line"><span class="lineno">  421</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  422</span><span class="stringliteral">    &gt;&gt;&gt; df</span></div>
<div class="line"><span class="lineno">  423</span><span class="stringliteral">          col1_a  col1_b  col2_a  col2_b  col2_c</span></div>
<div class="line"><span class="lineno">  424</span><span class="stringliteral">    0       1       0       0       1       0</span></div>
<div class="line"><span class="lineno">  425</span><span class="stringliteral">    1       0       1       1       0       0</span></div>
<div class="line"><span class="lineno">  426</span><span class="stringliteral">    2       0       0       0       0       0</span></div>
<div class="line"><span class="lineno">  427</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  428</span><span class="stringliteral">    &gt;&gt;&gt; pd.from_dummies(df, sep=&quot;_&quot;, default_category={&quot;col1&quot;: &quot;d&quot;, &quot;col2&quot;: &quot;e&quot;})</span></div>
<div class="line"><span class="lineno">  429</span><span class="stringliteral">        col1    col2</span></div>
<div class="line"><span class="lineno">  430</span><span class="stringliteral">    0    a       b</span></div>
<div class="line"><span class="lineno">  431</span><span class="stringliteral">    1    b       a</span></div>
<div class="line"><span class="lineno">  432</span><span class="stringliteral">    2    d       e</span></div>
<div class="line"><span class="lineno">  433</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  434</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacepandas_1_1core_1_1reshape_1_1concat.html">pandas.core.reshape.concat</a> <span class="keyword">import</span> concat</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(data, DataFrame):</div>
<div class="line"><span class="lineno">  437</span>        <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">  438</span>            <span class="stringliteral">&quot;Expected &#39;data&#39; to be a &#39;DataFrame&#39;; &quot;</span></div>
<div class="line"><span class="lineno">  439</span>            f<span class="stringliteral">&quot;Received &#39;data&#39; of type: {type(data).__name__}&quot;</span></div>
<div class="line"><span class="lineno">  440</span>        )</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">if</span> data.isna().any().any():</div>
<div class="line"><span class="lineno">  443</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  444</span>            <span class="stringliteral">&quot;Dummy DataFrame contains NA value in column: &quot;</span></div>
<div class="line"><span class="lineno">  445</span>            f<span class="stringliteral">&quot;&#39;{data.isna().any().idxmax()}&#39;&quot;</span></div>
<div class="line"><span class="lineno">  446</span>        )</div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span>    <span class="comment"># index data with a list of all columns that are dummies</span></div>
<div class="line"><span class="lineno">  449</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  450</span>        data_to_decode = data.astype(<span class="stringliteral">&quot;boolean&quot;</span>, copy=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  451</span>    <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;Passed DataFrame contains non-dummy data&quot;</span>)</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>    <span class="comment"># collect prefixes and get lists to slice data for each prefix</span></div>
<div class="line"><span class="lineno">  455</span>    variables_slice = defaultdict(list)</div>
<div class="line"><span class="lineno">  456</span>    <span class="keywordflow">if</span> sep <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  457</span>        variables_slice[<span class="stringliteral">&quot;&quot;</span>] = list(data.columns)</div>
<div class="line"><span class="lineno">  458</span>    <span class="keywordflow">elif</span> isinstance(sep, str):</div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">for</span> col <span class="keywordflow">in</span> data_to_decode.columns:</div>
<div class="line"><span class="lineno">  460</span>            prefix = col.split(sep)[0]</div>
<div class="line"><span class="lineno">  461</span>            <span class="keywordflow">if</span> len(prefix) == len(col):</div>
<div class="line"><span class="lineno">  462</span>                <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Separator not specified for column: {col}&quot;</span>)</div>
<div class="line"><span class="lineno">  463</span>            variables_slice[prefix].append(col)</div>
<div class="line"><span class="lineno">  464</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  465</span>        <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">  466</span>            <span class="stringliteral">&quot;Expected &#39;sep&#39; to be of type &#39;str&#39; or &#39;None&#39;; &quot;</span></div>
<div class="line"><span class="lineno">  467</span>            f<span class="stringliteral">&quot;Received &#39;sep&#39; of type: {type(sep).__name__}&quot;</span></div>
<div class="line"><span class="lineno">  468</span>        )</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">if</span> default_category <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  471</span>        <span class="keywordflow">if</span> isinstance(default_category, dict):</div>
<div class="line"><span class="lineno">  472</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> len(default_category) == len(variables_slice):</div>
<div class="line"><span class="lineno">  473</span>                len_msg = (</div>
<div class="line"><span class="lineno">  474</span>                    f<span class="stringliteral">&quot;Length of &#39;default_category&#39; ({len(default_category)}) &quot;</span></div>
<div class="line"><span class="lineno">  475</span>                    f<span class="stringliteral">&quot;did not match the length of the columns being encoded &quot;</span></div>
<div class="line"><span class="lineno">  476</span>                    f<span class="stringliteral">&quot;({len(variables_slice)})&quot;</span></div>
<div class="line"><span class="lineno">  477</span>                )</div>
<div class="line"><span class="lineno">  478</span>                <span class="keywordflow">raise</span> ValueError(len_msg)</div>
<div class="line"><span class="lineno">  479</span>        <span class="keywordflow">elif</span> isinstance(default_category, Hashable):</div>
<div class="line"><span class="lineno">  480</span>            default_category = dict(</div>
<div class="line"><span class="lineno">  481</span>                zip(variables_slice, [default_category] * len(variables_slice))</div>
<div class="line"><span class="lineno">  482</span>            )</div>
<div class="line"><span class="lineno">  483</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  484</span>            <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">  485</span>                <span class="stringliteral">&quot;Expected &#39;default_category&#39; to be of type &quot;</span></div>
<div class="line"><span class="lineno">  486</span>                <span class="stringliteral">&quot;&#39;None&#39;, &#39;Hashable&#39;, or &#39;dict&#39;; &quot;</span></div>
<div class="line"><span class="lineno">  487</span>                <span class="stringliteral">&quot;Received &#39;default_category&#39; of type: &quot;</span></div>
<div class="line"><span class="lineno">  488</span>                f<span class="stringliteral">&quot;{type(default_category).__name__}&quot;</span></div>
<div class="line"><span class="lineno">  489</span>            )</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>    cat_data = {}</div>
<div class="line"><span class="lineno">  492</span>    <span class="keywordflow">for</span> prefix, prefix_slice <span class="keywordflow">in</span> variables_slice.items():</div>
<div class="line"><span class="lineno">  493</span>        <span class="keywordflow">if</span> sep <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  494</span>            cats = prefix_slice.copy()</div>
<div class="line"><span class="lineno">  495</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  496</span>            cats = [col[len(prefix + sep) :] <span class="keywordflow">for</span> col <span class="keywordflow">in</span> prefix_slice]</div>
<div class="line"><span class="lineno">  497</span>        assigned = data_to_decode.loc[:, prefix_slice].sum(axis=1)</div>
<div class="line"><span class="lineno">  498</span>        <span class="keywordflow">if</span> any(assigned &gt; 1):</div>
<div class="line"><span class="lineno">  499</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  500</span>                <span class="stringliteral">&quot;Dummy DataFrame contains multi-assignment(s); &quot;</span></div>
<div class="line"><span class="lineno">  501</span>                f<span class="stringliteral">&quot;First instance in row: {assigned.idxmax()}&quot;</span></div>
<div class="line"><span class="lineno">  502</span>            )</div>
<div class="line"><span class="lineno">  503</span>        <span class="keywordflow">elif</span> any(assigned == 0):</div>
<div class="line"><span class="lineno">  504</span>            <span class="keywordflow">if</span> isinstance(default_category, dict):</div>
<div class="line"><span class="lineno">  505</span>                cats.append(default_category[prefix])</div>
<div class="line"><span class="lineno">  506</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  507</span>                <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  508</span>                    <span class="stringliteral">&quot;Dummy DataFrame contains unassigned value(s); &quot;</span></div>
<div class="line"><span class="lineno">  509</span>                    f<span class="stringliteral">&quot;First instance in row: {assigned.idxmin()}&quot;</span></div>
<div class="line"><span class="lineno">  510</span>                )</div>
<div class="line"><span class="lineno">  511</span>            data_slice = concat(</div>
<div class="line"><span class="lineno">  512</span>                (data_to_decode.loc[:, prefix_slice], assigned == 0), axis=1</div>
<div class="line"><span class="lineno">  513</span>            )</div>
<div class="line"><span class="lineno">  514</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  515</span>            data_slice = data_to_decode.loc[:, prefix_slice]</div>
<div class="line"><span class="lineno">  516</span>        cats_array = np.array(cats, dtype=<span class="stringliteral">&quot;object&quot;</span>)</div>
<div class="line"><span class="lineno">  517</span>        <span class="comment"># get indices of True entries along axis=1</span></div>
<div class="line"><span class="lineno">  518</span>        cat_data[prefix] = cats_array[data_slice.to_numpy().nonzero()[1]]</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>    <span class="keywordflow">return</span> DataFrame(cat_data)</div>
</div><!-- fragment -->
</div>
</div>
<a id="acd54a56051ae0ab05b06c7589058463a" name="acd54a56051ae0ab05b06c7589058463a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd54a56051ae0ab05b06c7589058463a">&#9670;&#160;</a></span>get_dummies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a> pandas.core.reshape.encoding.get_dummies </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prefix</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prefix_sep</em> = <code>&quot;_&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>dummy_na</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>columns</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>sparse</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>drop_first</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dtype | None &#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert categorical variable into dummy/indicator variables.

Parameters
----------
data : array-like, Series, or DataFrame
    Data of which to get dummy indicators.
prefix : str, list of str, or dict of str, default None
    String to append DataFrame column names.
    Pass a list with length equal to the number of columns
    when calling get_dummies on a DataFrame. Alternatively, `prefix`
    can be a dictionary mapping column names to prefixes.
prefix_sep : str, default '_'
    If appending prefix, separator/delimiter to use. Or pass a
    list or dictionary as with `prefix`.
dummy_na : bool, default False
    Add a column to indicate NaNs, if False NaNs are ignored.
columns : list-like, default None
    Column names in the DataFrame to be encoded.
    If `columns` is None then all the columns with
    `object`, `string`, or `category` dtype will be converted.
sparse : bool, default False
    Whether the dummy-encoded columns should be backed by
    a :class:`SparseArray` (True) or a regular NumPy array (False).
drop_first : bool, default False
    Whether to get k-1 dummies out of k categorical levels by removing the
    first level.
dtype : dtype, default np.uint8
    Data type for new columns. Only a single dtype is allowed.

Returns
-------
DataFrame
    Dummy-coded data.

See Also
--------
Series.str.get_dummies : Convert Series to dummy codes.
:func:`~pandas.from_dummies` : Convert dummy codes to categorical ``DataFrame``.

Notes
-----
Reference :ref:`the user guide &lt;reshaping.dummies&gt;` for more examples.

Examples
--------
&gt;&gt;&gt; s = pd.Series(list('abca'))

&gt;&gt;&gt; pd.get_dummies(s)
   a  b  c
0  1  0  0
1  0  1  0
2  0  0  1
3  1  0  0

&gt;&gt;&gt; s1 = ['a', 'b', np.nan]

&gt;&gt;&gt; pd.get_dummies(s1)
   a  b
0  1  0
1  0  1
2  0  0

&gt;&gt;&gt; pd.get_dummies(s1, dummy_na=True)
   a  b  NaN
0  1  0    0
1  0  1    0
2  0  0    1

&gt;&gt;&gt; df = pd.DataFrame({'A': ['a', 'b', 'a'], 'B': ['b', 'a', 'c'],
...                    'C': [1, 2, 3]})

&gt;&gt;&gt; pd.get_dummies(df, prefix=['col1', 'col2'])
   C  col1_a  col1_b  col2_a  col2_b  col2_c
0  1       1       0       0       1       0
1  2       0       1       1       0       0
2  3       1       0       0       0       1

&gt;&gt;&gt; pd.get_dummies(pd.Series(list('abcaa')))
   a  b  c
0  1  0  0
1  0  1  0
2  0  0  1
3  1  0  0
4  1  0  0

&gt;&gt;&gt; pd.get_dummies(pd.Series(list('abcaa')), drop_first=True)
   b  c
0  0  0
1  1  0
2  0  1
3  0  0
4  0  0

&gt;&gt;&gt; pd.get_dummies(pd.Series(list('abc')), dtype=float)
     a    b    c
0  1.0  0.0  0.0
1  0.0  1.0  0.0
2  0.0  0.0  1.0
</pre> <div class="fragment"><div class="line"><span class="lineno">   34</span>) -&gt; DataFrame:</div>
<div class="line"><span class="lineno">   35</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   36</span><span class="stringliteral">    Convert categorical variable into dummy/indicator variables.</span></div>
<div class="line"><span class="lineno">   37</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   38</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   39</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   40</span><span class="stringliteral">    data : array-like, Series, or DataFrame</span></div>
<div class="line"><span class="lineno">   41</span><span class="stringliteral">        Data of which to get dummy indicators.</span></div>
<div class="line"><span class="lineno">   42</span><span class="stringliteral">    prefix : str, list of str, or dict of str, default None</span></div>
<div class="line"><span class="lineno">   43</span><span class="stringliteral">        String to append DataFrame column names.</span></div>
<div class="line"><span class="lineno">   44</span><span class="stringliteral">        Pass a list with length equal to the number of columns</span></div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral">        when calling get_dummies on a DataFrame. Alternatively, `prefix`</span></div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">        can be a dictionary mapping column names to prefixes.</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral">    prefix_sep : str, default &#39;_&#39;</span></div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral">        If appending prefix, separator/delimiter to use. Or pass a</span></div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral">        list or dictionary as with `prefix`.</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">    dummy_na : bool, default False</span></div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">        Add a column to indicate NaNs, if False NaNs are ignored.</span></div>
<div class="line"><span class="lineno">   52</span><span class="stringliteral">    columns : list-like, default None</span></div>
<div class="line"><span class="lineno">   53</span><span class="stringliteral">        Column names in the DataFrame to be encoded.</span></div>
<div class="line"><span class="lineno">   54</span><span class="stringliteral">        If `columns` is None then all the columns with</span></div>
<div class="line"><span class="lineno">   55</span><span class="stringliteral">        `object`, `string`, or `category` dtype will be converted.</span></div>
<div class="line"><span class="lineno">   56</span><span class="stringliteral">    sparse : bool, default False</span></div>
<div class="line"><span class="lineno">   57</span><span class="stringliteral">        Whether the dummy-encoded columns should be backed by</span></div>
<div class="line"><span class="lineno">   58</span><span class="stringliteral">        a :class:`SparseArray` (True) or a regular NumPy array (False).</span></div>
<div class="line"><span class="lineno">   59</span><span class="stringliteral">    drop_first : bool, default False</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral">        Whether to get k-1 dummies out of k categorical levels by removing the</span></div>
<div class="line"><span class="lineno">   61</span><span class="stringliteral">        first level.</span></div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral">    dtype : dtype, default np.uint8</span></div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">        Data type for new columns. Only a single dtype is allowed.</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral">    DataFrame</span></div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">        Dummy-coded data.</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">    Series.str.get_dummies : Convert Series to dummy codes.</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">    :func:`~pandas.from_dummies` : Convert dummy codes to categorical ``DataFrame``.</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">    Reference :ref:`the user guide &lt;reshaping.dummies&gt;` for more examples.</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">   80</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">   81</span><span class="stringliteral">    &gt;&gt;&gt; s = pd.Series(list(&#39;abca&#39;))</span></div>
<div class="line"><span class="lineno">   82</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   83</span><span class="stringliteral">    &gt;&gt;&gt; pd.get_dummies(s)</span></div>
<div class="line"><span class="lineno">   84</span><span class="stringliteral">       a  b  c</span></div>
<div class="line"><span class="lineno">   85</span><span class="stringliteral">    0  1  0  0</span></div>
<div class="line"><span class="lineno">   86</span><span class="stringliteral">    1  0  1  0</span></div>
<div class="line"><span class="lineno">   87</span><span class="stringliteral">    2  0  0  1</span></div>
<div class="line"><span class="lineno">   88</span><span class="stringliteral">    3  1  0  0</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral">    &gt;&gt;&gt; s1 = [&#39;a&#39;, &#39;b&#39;, np.nan]</span></div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">    &gt;&gt;&gt; pd.get_dummies(s1)</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">       a  b</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">    0  1  0</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">    1  0  1</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    2  0  0</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">    &gt;&gt;&gt; pd.get_dummies(s1, dummy_na=True)</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">       a  b  NaN</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">    0  1  0    0</span></div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">    1  0  1    0</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral">    2  0  0    1</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">    &gt;&gt;&gt; df = pd.DataFrame({&#39;A&#39;: [&#39;a&#39;, &#39;b&#39;, &#39;a&#39;], &#39;B&#39;: [&#39;b&#39;, &#39;a&#39;, &#39;c&#39;],</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">    ...                    &#39;C&#39;: [1, 2, 3]})</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">    &gt;&gt;&gt; pd.get_dummies(df, prefix=[&#39;col1&#39;, &#39;col2&#39;])</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">       C  col1_a  col1_b  col2_a  col2_b  col2_c</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    0  1       1       0       0       1       0</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">    1  2       0       1       1       0       0</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral">    2  3       1       0       0       0       1</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">    &gt;&gt;&gt; pd.get_dummies(pd.Series(list(&#39;abcaa&#39;)))</span></div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral">       a  b  c</span></div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">    0  1  0  0</span></div>
<div class="line"><span class="lineno">  116</span><span class="stringliteral">    1  0  1  0</span></div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral">    2  0  0  1</span></div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">    3  1  0  0</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">    4  1  0  0</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">    &gt;&gt;&gt; pd.get_dummies(pd.Series(list(&#39;abcaa&#39;)), drop_first=True)</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">       b  c</span></div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">    0  0  0</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">    1  1  0</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">    2  0  1</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral">    3  0  0</span></div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">    4  0  0</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">    &gt;&gt;&gt; pd.get_dummies(pd.Series(list(&#39;abc&#39;)), dtype=float)</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral">         a    b    c</span></div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">    0  1.0  0.0  0.0</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">    1  0.0  1.0  0.0</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">    2  0.0  0.0  1.0</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  135</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacepandas_1_1core_1_1reshape_1_1concat.html">pandas.core.reshape.concat</a> <span class="keyword">import</span> concat</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    dtypes_to_encode = [<span class="stringliteral">&quot;object&quot;</span>, <span class="stringliteral">&quot;string&quot;</span>, <span class="stringliteral">&quot;category&quot;</span>]</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">if</span> isinstance(data, DataFrame):</div>
<div class="line"><span class="lineno">  140</span>        <span class="comment"># determine columns being encoded</span></div>
<div class="line"><span class="lineno">  141</span>        <span class="keywordflow">if</span> columns <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  142</span>            data_to_encode = data.select_dtypes(include=dtypes_to_encode)</div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">elif</span> <span class="keywordflow">not</span> is_list_like(columns):</div>
<div class="line"><span class="lineno">  144</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;Input must be a list-like for parameter `columns`&quot;</span>)</div>
<div class="line"><span class="lineno">  145</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  146</span>            data_to_encode = data[columns]</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>        <span class="comment"># validate prefixes and separator to avoid silently dropping cols</span></div>
<div class="line"><span class="lineno">  149</span>        <span class="keyword">def </span>check_len(item, name):</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>            <span class="keywordflow">if</span> is_list_like(item):</div>
<div class="line"><span class="lineno">  152</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> len(item) == data_to_encode.shape[1]:</div>
<div class="line"><span class="lineno">  153</span>                    len_msg = (</div>
<div class="line"><span class="lineno">  154</span>                        f<span class="stringliteral">&quot;Length of &#39;{name}&#39; ({len(item)}) did not match the &quot;</span></div>
<div class="line"><span class="lineno">  155</span>                        <span class="stringliteral">&quot;length of the columns being encoded &quot;</span></div>
<div class="line"><span class="lineno">  156</span>                        f<span class="stringliteral">&quot;({data_to_encode.shape[1]}).&quot;</span></div>
<div class="line"><span class="lineno">  157</span>                    )</div>
<div class="line"><span class="lineno">  158</span>                    <span class="keywordflow">raise</span> ValueError(len_msg)</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>        check_len(prefix, <span class="stringliteral">&quot;prefix&quot;</span>)</div>
<div class="line"><span class="lineno">  161</span>        check_len(prefix_sep, <span class="stringliteral">&quot;prefix_sep&quot;</span>)</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>        <span class="keywordflow">if</span> isinstance(prefix, str):</div>
<div class="line"><span class="lineno">  164</span>            prefix = itertools.cycle([prefix])</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">if</span> isinstance(prefix, dict):</div>
<div class="line"><span class="lineno">  166</span>            prefix = [prefix[col] <span class="keywordflow">for</span> col <span class="keywordflow">in</span> data_to_encode.columns]</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">if</span> prefix <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  169</span>            prefix = data_to_encode.columns</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>        <span class="comment"># validate separators</span></div>
<div class="line"><span class="lineno">  172</span>        <span class="keywordflow">if</span> isinstance(prefix_sep, str):</div>
<div class="line"><span class="lineno">  173</span>            prefix_sep = itertools.cycle([prefix_sep])</div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">elif</span> isinstance(prefix_sep, dict):</div>
<div class="line"><span class="lineno">  175</span>            prefix_sep = [prefix_sep[col] <span class="keywordflow">for</span> col <span class="keywordflow">in</span> data_to_encode.columns]</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>        with_dummies: list[DataFrame]</div>
<div class="line"><span class="lineno">  178</span>        <span class="keywordflow">if</span> data_to_encode.shape == data.shape:</div>
<div class="line"><span class="lineno">  179</span>            <span class="comment"># Encoding the entire df, do not prepend any dropped columns</span></div>
<div class="line"><span class="lineno">  180</span>            with_dummies = []</div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">elif</span> columns <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  182</span>            <span class="comment"># Encoding only cols specified in columns. Get all cols not in</span></div>
<div class="line"><span class="lineno">  183</span>            <span class="comment"># columns to prepend to result.</span></div>
<div class="line"><span class="lineno">  184</span>            with_dummies = [data.drop(columns, axis=1)]</div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  186</span>            <span class="comment"># Encoding only object and category dtype columns. Get remaining</span></div>
<div class="line"><span class="lineno">  187</span>            <span class="comment"># columns to prepend to result.</span></div>
<div class="line"><span class="lineno">  188</span>            with_dummies = [data.select_dtypes(exclude=dtypes_to_encode)]</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>        <span class="keywordflow">for</span> (col, pre, sep) <span class="keywordflow">in</span> zip(data_to_encode.items(), prefix, prefix_sep):</div>
<div class="line"><span class="lineno">  191</span>            <span class="comment"># col is (column_name, column), use just column data here</span></div>
<div class="line"><span class="lineno">  192</span>            dummy = _get_dummies_1d(</div>
<div class="line"><span class="lineno">  193</span>                col[1],</div>
<div class="line"><span class="lineno">  194</span>                prefix=pre,</div>
<div class="line"><span class="lineno">  195</span>                prefix_sep=sep,</div>
<div class="line"><span class="lineno">  196</span>                dummy_na=dummy_na,</div>
<div class="line"><span class="lineno">  197</span>                sparse=sparse,</div>
<div class="line"><span class="lineno">  198</span>                drop_first=drop_first,</div>
<div class="line"><span class="lineno">  199</span>                dtype=dtype,</div>
<div class="line"><span class="lineno">  200</span>            )</div>
<div class="line"><span class="lineno">  201</span>            with_dummies.append(dummy)</div>
<div class="line"><span class="lineno">  202</span>        result = concat(with_dummies, axis=1)</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  204</span>        result = _get_dummies_1d(</div>
<div class="line"><span class="lineno">  205</span>            data,</div>
<div class="line"><span class="lineno">  206</span>            prefix,</div>
<div class="line"><span class="lineno">  207</span>            prefix_sep,</div>
<div class="line"><span class="lineno">  208</span>            dummy_na,</div>
<div class="line"><span class="lineno">  209</span>            sparse=sparse,</div>
<div class="line"><span class="lineno">  210</span>            drop_first=drop_first,</div>
<div class="line"><span class="lineno">  211</span>            dtype=dtype,</div>
<div class="line"><span class="lineno">  212</span>        )</div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span> </div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
