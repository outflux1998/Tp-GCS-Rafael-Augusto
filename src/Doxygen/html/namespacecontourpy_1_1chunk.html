<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: contourpy.chunk Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecontourpy.html">contourpy</a></li><li class="navelem"><a class="el" href="namespacecontourpy_1_1chunk.html">chunk</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">contourpy.chunk Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab0c7977a573d2afe4448f9bbe5b85ea9" id="r_ab0c7977a573d2afe4448f9bbe5b85ea9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontourpy_1_1chunk.html#ab0c7977a573d2afe4448f9bbe5b85ea9">calc_chunk_sizes</a> (chunk_size, chunk_count, total_chunk_count, ny, nx)</td></tr>
<tr class="separator:ab0c7977a573d2afe4448f9bbe5b85ea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4c440a0f5e78844f60fbb65d46d94b" id="r_ada4c440a0f5e78844f60fbb65d46d94b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacecontourpy_1_1chunk.html#ada4c440a0f5e78844f60fbb65d46d94b">two_factors</a> (<a class="el" href="__blas__subroutines_8h.html#a25eafceb38c8e75bc60701fea6623f71">n</a>)</td></tr>
<tr class="separator:ada4c440a0f5e78844f60fbb65d46d94b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab0c7977a573d2afe4448f9bbe5b85ea9" name="ab0c7977a573d2afe4448f9bbe5b85ea9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0c7977a573d2afe4448f9bbe5b85ea9">&#9670;&#160;</a></span>calc_chunk_sizes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">contourpy.chunk.calc_chunk_sizes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunk_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunk_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>total_chunk_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ny</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculate chunk sizes.

Args:
    chunk_size (int or tuple(int, int), optional): Chunk size in (y, x) directions, or the same
        size in both directions if only one is specified.
    chunk_count (int or tuple(int, int), optional): Chunk count in (y, x) directions, or the
        same count in both irections if only one is specified.
    total_chunk_count (int, optional): Total number of chunks.
    ny (int): Number of grid points in y-direction.
    nx (int): Number of grid points in x-direction.

Return:
    tuple(int, int): Chunk sizes (y_chunk_size, x_chunk_size).

Note:
    A maximum of one of ``chunk_size``, ``chunk_count`` and ``total_chunk_count`` may be
    specified.
</pre> <div class="fragment"><div class="line"><span class="lineno">    4</span><span class="keyword">def </span>calc_chunk_sizes(chunk_size, chunk_count, total_chunk_count, ny, nx):</div>
<div class="line"><span class="lineno">    5</span>    <span class="stringliteral">&quot;&quot;&quot;Calculate chunk sizes.</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">    8</span><span class="stringliteral">        chunk_size (int or tuple(int, int), optional): Chunk size in (y, x) directions, or the same</span></div>
<div class="line"><span class="lineno">    9</span><span class="stringliteral">            size in both directions if only one is specified.</span></div>
<div class="line"><span class="lineno">   10</span><span class="stringliteral">        chunk_count (int or tuple(int, int), optional): Chunk count in (y, x) directions, or the</span></div>
<div class="line"><span class="lineno">   11</span><span class="stringliteral">            same count in both irections if only one is specified.</span></div>
<div class="line"><span class="lineno">   12</span><span class="stringliteral">        total_chunk_count (int, optional): Total number of chunks.</span></div>
<div class="line"><span class="lineno">   13</span><span class="stringliteral">        ny (int): Number of grid points in y-direction.</span></div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral">        nx (int): Number of grid points in x-direction.</span></div>
<div class="line"><span class="lineno">   15</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   16</span><span class="stringliteral">    Return:</span></div>
<div class="line"><span class="lineno">   17</span><span class="stringliteral">        tuple(int, int): Chunk sizes (y_chunk_size, x_chunk_size).</span></div>
<div class="line"><span class="lineno">   18</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   19</span><span class="stringliteral">    Note:</span></div>
<div class="line"><span class="lineno">   20</span><span class="stringliteral">        A maximum of one of ``chunk_size``, ``chunk_count`` and ``total_chunk_count`` may be</span></div>
<div class="line"><span class="lineno">   21</span><span class="stringliteral">        specified.</span></div>
<div class="line"><span class="lineno">   22</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   23</span>    <span class="keywordflow">if</span> sum([chunk_size <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>, chunk_count <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>, total_chunk_count <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>]) &gt; 1:</div>
<div class="line"><span class="lineno">   24</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Only one of chunk_size, chunk_count and total_chunk_count should be set&quot;</span>)</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>    <span class="keywordflow">if</span> total_chunk_count <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   27</span>        max_chunk_count = (nx-1)*(ny-1)</div>
<div class="line"><span class="lineno">   28</span>        total_chunk_count = min(max(total_chunk_count, 1), max_chunk_count)</div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordflow">if</span> total_chunk_count == 1:</div>
<div class="line"><span class="lineno">   30</span>            chunk_size = 0</div>
<div class="line"><span class="lineno">   31</span>        <span class="keywordflow">elif</span> total_chunk_count == max_chunk_count:</div>
<div class="line"><span class="lineno">   32</span>            chunk_size = (1, 1)</div>
<div class="line"><span class="lineno">   33</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   34</span>            factors = two_factors(total_chunk_count)</div>
<div class="line"><span class="lineno">   35</span>            <span class="keywordflow">if</span> ny &gt; nx:</div>
<div class="line"><span class="lineno">   36</span>                chunk_count = factors</div>
<div class="line"><span class="lineno">   37</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   38</span>                chunk_count = (factors[1], factors[0])</div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    <span class="keywordflow">if</span> chunk_count <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   41</span>        <span class="keywordflow">if</span> isinstance(chunk_count, tuple):</div>
<div class="line"><span class="lineno">   42</span>            y_chunk_count, x_chunk_count = chunk_count</div>
<div class="line"><span class="lineno">   43</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   44</span>            y_chunk_count = x_chunk_count = chunk_count</div>
<div class="line"><span class="lineno">   45</span>        x_chunk_count = min(max(x_chunk_count, 1), nx-1)</div>
<div class="line"><span class="lineno">   46</span>        y_chunk_count = min(max(y_chunk_count, 1), ny-1)</div>
<div class="line"><span class="lineno">   47</span>        chunk_size = (math.ceil((ny-1) / y_chunk_count), math.ceil((nx-1) / x_chunk_count))</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>    <span class="keywordflow">if</span> chunk_size <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   50</span>        y_chunk_size = x_chunk_size = 0</div>
<div class="line"><span class="lineno">   51</span>    <span class="keywordflow">elif</span> isinstance(chunk_size, tuple):</div>
<div class="line"><span class="lineno">   52</span>        y_chunk_size, x_chunk_size = chunk_size</div>
<div class="line"><span class="lineno">   53</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   54</span>        y_chunk_size = x_chunk_size = chunk_size</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordflow">if</span> x_chunk_size &lt; 0 <span class="keywordflow">or</span> y_chunk_size &lt; 0:</div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;chunk_size cannot be negative&quot;</span>)</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">return</span> y_chunk_size, x_chunk_size</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ada4c440a0f5e78844f60fbb65d46d94b" name="ada4c440a0f5e78844f60fbb65d46d94b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada4c440a0f5e78844f60fbb65d46d94b">&#9670;&#160;</a></span>two_factors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">contourpy.chunk.two_factors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Split an integer into two integer factors.

The two factors will be as close as possible to the sqrt of n, and are returned in decreasing
order.  Worst case returns (n, 1).

Args:
    n (int): The integer to factorize.

Return:
    tuple(int, int): The two factors of n, in decreasing order.
</pre> <div class="fragment"><div class="line"><span class="lineno">   62</span><span class="keyword">def </span>two_factors(n):</div>
<div class="line"><span class="lineno">   63</span>    <span class="stringliteral">&quot;&quot;&quot;Split an integer into two integer factors.</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">    The two factors will be as close as possible to the sqrt of n, and are returned in decreasing</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral">    order.  Worst case returns (n, 1).</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral">        n (int): The integer to factorize.</span></div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">    Return:</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">        tuple(int, int): The two factors of n, in decreasing order.</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   74</span>    i = math.ceil(math.sqrt(n))</div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">while</span> n % i != 0:</div>
<div class="line"><span class="lineno">   76</span>        i -= 1</div>
<div class="line"><span class="lineno">   77</span>    j = n // i</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">if</span> i &gt; j:</div>
<div class="line"><span class="lineno">   79</span>        <span class="keywordflow">return</span> i, j</div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">return</span> j, i</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
