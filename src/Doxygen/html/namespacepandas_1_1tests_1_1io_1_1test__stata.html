<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.tests.io.test_stata Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1io.html">io</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html">test_stata</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pandas.tests.io.test_stata Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html">TestStata</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acb24467f703a699c7679d188dd1f9802" id="r_acb24467f703a699c7679d188dd1f9802"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#acb24467f703a699c7679d188dd1f9802">mixed_frame</a> ()</td></tr>
<tr class="separator:acb24467f703a699c7679d188dd1f9802"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fb6c1583b5d22b2e26f42c2c0cd8cc3" id="r_a6fb6c1583b5d22b2e26f42c2c0cd8cc3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#a6fb6c1583b5d22b2e26f42c2c0cd8cc3">parsed_114</a> (datapath)</td></tr>
<tr class="separator:a6fb6c1583b5d22b2e26f42c2c0cd8cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a448e001c657124099639406c6bb1634a" id="r_a448e001c657124099639406c6bb1634a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#a448e001c657124099639406c6bb1634a">test_backward_compat</a> (version, datapath)</td></tr>
<tr class="separator:a448e001c657124099639406c6bb1634a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d81477c20ff536a0ef0a69c362d16cc" id="r_a1d81477c20ff536a0ef0a69c362d16cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#a1d81477c20ff536a0ef0a69c362d16cc">test_compression</a> (compression, version, use_dict, infer)</td></tr>
<tr class="separator:a1d81477c20ff536a0ef0a69c362d16cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f2076d3cd12328e2bad27f080a744c7" id="r_a3f2076d3cd12328e2bad27f080a744c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#a3f2076d3cd12328e2bad27f080a744c7">test_compression_dict</a> (method, file_ext)</td></tr>
<tr class="separator:a3f2076d3cd12328e2bad27f080a744c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa24790064285ff5e0143dc27e16edd48" id="r_aa24790064285ff5e0143dc27e16edd48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#aa24790064285ff5e0143dc27e16edd48">test_chunked_categorical</a> (version)</td></tr>
<tr class="separator:aa24790064285ff5e0143dc27e16edd48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa56b28daa6757e359c04a6e0c5756a" id="r_adfa56b28daa6757e359c04a6e0c5756a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#adfa56b28daa6757e359c04a6e0c5756a">test_chunked_categorical_partial</a> (datapath)</td></tr>
<tr class="separator:adfa56b28daa6757e359c04a6e0c5756a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef6d7697d53ddd44e317db0543f07e93" id="r_aef6d7697d53ddd44e317db0543f07e93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#aef6d7697d53ddd44e317db0543f07e93">test_iterator_errors</a> (datapath, chunksize)</td></tr>
<tr class="separator:aef6d7697d53ddd44e317db0543f07e93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b9dfc59672013332a7d351a847e55e" id="r_a07b9dfc59672013332a7d351a847e55e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#a07b9dfc59672013332a7d351a847e55e">test_iterator_value_labels</a> ()</td></tr>
<tr class="separator:a07b9dfc59672013332a7d351a847e55e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafabb8642863092a235d64af10281d55" id="r_aafabb8642863092a235d64af10281d55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#aafabb8642863092a235d64af10281d55">test_precision_loss</a> ()</td></tr>
<tr class="separator:aafabb8642863092a235d64af10281d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a13f5094e9ffd4bb0bf067536ed1d7" id="r_ae6a13f5094e9ffd4bb0bf067536ed1d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#ae6a13f5094e9ffd4bb0bf067536ed1d7">test_compression_roundtrip</a> (compression)</td></tr>
<tr class="separator:ae6a13f5094e9ffd4bb0bf067536ed1d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3456c2a7fdb078cbdbcb7d62114efc5" id="r_aa3456c2a7fdb078cbdbcb7d62114efc5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#aa3456c2a7fdb078cbdbcb7d62114efc5">test_stata_compression</a> (compression_only, read_infer, to_infer)</td></tr>
<tr class="separator:aa3456c2a7fdb078cbdbcb7d62114efc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aca285a822e250e550cdb715aef919f" id="r_a0aca285a822e250e550cdb715aef919f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#a0aca285a822e250e550cdb715aef919f">test_non_categorical_value_labels</a> ()</td></tr>
<tr class="separator:a0aca285a822e250e550cdb715aef919f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa66b193a7e6859a5a48e60162a505db5" id="r_aa66b193a7e6859a5a48e60162a505db5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#aa66b193a7e6859a5a48e60162a505db5">test_non_categorical_value_label_name_conversion</a> ()</td></tr>
<tr class="separator:aa66b193a7e6859a5a48e60162a505db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4396540357aebdc951804117e07eb4a8" id="r_a4396540357aebdc951804117e07eb4a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#a4396540357aebdc951804117e07eb4a8">test_non_categorical_value_label_convert_categoricals_error</a> ()</td></tr>
<tr class="separator:a4396540357aebdc951804117e07eb4a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afccf23b2a995da26369d0c2bb4a64308" id="r_afccf23b2a995da26369d0c2bb4a64308"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#afccf23b2a995da26369d0c2bb4a64308">test_nullable_support</a> (dtype, version)</td></tr>
<tr class="separator:afccf23b2a995da26369d0c2bb4a64308"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="acb24467f703a699c7679d188dd1f9802" name="acb24467f703a699c7679d188dd1f9802"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb24467f703a699c7679d188dd1f9802">&#9670;&#160;</a></span>mixed_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.mixed_frame </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   41</span><span class="keyword">def </span>mixed_frame():</div>
<div class="line"><span class="lineno">   42</span>    <span class="keywordflow">return</span> DataFrame(</div>
<div class="line"><span class="lineno">   43</span>        {</div>
<div class="line"><span class="lineno">   44</span>            <span class="stringliteral">&quot;a&quot;</span>: [1, 2, 3, 4],</div>
<div class="line"><span class="lineno">   45</span>            <span class="stringliteral">&quot;b&quot;</span>: [1.0, 3.0, 27.0, 81.0],</div>
<div class="line"><span class="lineno">   46</span>            <span class="stringliteral">&quot;c&quot;</span>: [<span class="stringliteral">&quot;Atlanta&quot;</span>, <span class="stringliteral">&quot;Birmingham&quot;</span>, <span class="stringliteral">&quot;Cincinnati&quot;</span>, <span class="stringliteral">&quot;Detroit&quot;</span>],</div>
<div class="line"><span class="lineno">   47</span>        }</div>
<div class="line"><span class="lineno">   48</span>    )</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span><span class="preprocessor">@pytest.fixture</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6fb6c1583b5d22b2e26f42c2c0cd8cc3" name="a6fb6c1583b5d22b2e26f42c2c0cd8cc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fb6c1583b5d22b2e26f42c2c0cd8cc3">&#9670;&#160;</a></span>parsed_114()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.parsed_114 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   52</span><span class="keyword">def </span>parsed_114(datapath):</div>
<div class="line"><span class="lineno">   53</span>    dta14_114 = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata5_114.dta&quot;</span>)</div>
<div class="line"><span class="lineno">   54</span>    parsed_114 = read_stata(dta14_114, convert_dates=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   55</span>    parsed_114.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordflow">return</span> parsed_114</div>
<div class="line"><span class="lineno">   57</span> </div>
<div class="line"><span class="lineno">   58</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a448e001c657124099639406c6bb1634a" name="a448e001c657124099639406c6bb1634a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a448e001c657124099639406c6bb1634a">&#9670;&#160;</a></span>test_backward_compat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_backward_compat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1842</span><span class="keyword">def </span>test_backward_compat(version, datapath):</div>
<div class="line"><span class="lineno"> 1843</span>    data_base = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>)</div>
<div class="line"><span class="lineno"> 1844</span>    ref = os.path.join(data_base, <span class="stringliteral">&quot;stata-compat-118.dta&quot;</span>)</div>
<div class="line"><span class="lineno"> 1845</span>    old = os.path.join(data_base, f<span class="stringliteral">&quot;stata-compat-{version}.dta&quot;</span>)</div>
<div class="line"><span class="lineno"> 1846</span>    expected = read_stata(ref)</div>
<div class="line"><span class="lineno"> 1847</span>    old_dta = read_stata(old)</div>
<div class="line"><span class="lineno"> 1848</span>    tm.assert_frame_equal(old_dta, expected, check_dtype=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1849</span> </div>
<div class="line"><span class="lineno"> 1850</span> </div>
<div class="line"><span class="lineno"> 1851</span><span class="preprocessor">@pytest.mark.parametrize(&quot;version&quot;, [114, 117, 118, 119, None])</span></div>
<div class="line"><span class="lineno"> 1852</span><span class="preprocessor">@pytest.mark.parametrize(&quot;use_dict&quot;, [True, False])</span></div>
<div class="line"><span class="lineno"> 1853</span><span class="preprocessor">@pytest.mark.parametrize(&quot;infer&quot;, [True, False])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa24790064285ff5e0143dc27e16edd48" name="aa24790064285ff5e0143dc27e16edd48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa24790064285ff5e0143dc27e16edd48">&#9670;&#160;</a></span>test_chunked_categorical()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_chunked_categorical </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1920</span><span class="keyword">def </span>test_chunked_categorical(version):</div>
<div class="line"><span class="lineno"> 1921</span>    df = DataFrame({<span class="stringliteral">&quot;cats&quot;</span>: Series([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>], dtype=<span class="stringliteral">&quot;category&quot;</span>)})</div>
<div class="line"><span class="lineno"> 1922</span>    df.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1923</span>    <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1924</span>        df.to_stata(path, version=version)</div>
<div class="line"><span class="lineno"> 1925</span>        reader = StataReader(path, chunksize=2, order_categoricals=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1926</span>        <span class="keywordflow">for</span> i, block <span class="keywordflow">in</span> enumerate(reader):</div>
<div class="line"><span class="lineno"> 1927</span>            block = block.set_index(<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 1928</span>            <span class="keyword">assert</span> <span class="stringliteral">&quot;cats&quot;</span> <span class="keywordflow">in</span> block</div>
<div class="line"><span class="lineno"> 1929</span>            tm.assert_series_equal(block.cats, df.cats.iloc[2 * i : 2 * (i + 1)])</div>
<div class="line"><span class="lineno"> 1930</span> </div>
<div class="line"><span class="lineno"> 1931</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adfa56b28daa6757e359c04a6e0c5756a" name="adfa56b28daa6757e359c04a6e0c5756a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfa56b28daa6757e359c04a6e0c5756a">&#9670;&#160;</a></span>test_chunked_categorical_partial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_chunked_categorical_partial </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1932</span><span class="keyword">def </span>test_chunked_categorical_partial(datapath):</div>
<div class="line"><span class="lineno"> 1933</span>    dta_file = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata-dta-partially-labeled.dta&quot;</span>)</div>
<div class="line"><span class="lineno"> 1934</span>    values = [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, 3.0]</div>
<div class="line"><span class="lineno"> 1935</span>    <span class="keyword">with</span> StataReader(dta_file, chunksize=2) <span class="keyword">as</span> reader:</div>
<div class="line"><span class="lineno"> 1936</span>        <span class="keyword">with</span> tm.assert_produces_warning(CategoricalConversionWarning):</div>
<div class="line"><span class="lineno"> 1937</span>            <span class="keywordflow">for</span> i, block <span class="keywordflow">in</span> enumerate(reader):</div>
<div class="line"><span class="lineno"> 1938</span>                <span class="keyword">assert</span> list(block.cats) == values[2 * i : 2 * (i + 1)]</div>
<div class="line"><span class="lineno"> 1939</span>                <span class="keywordflow">if</span> i &lt; 2:</div>
<div class="line"><span class="lineno"> 1940</span>                    idx = pd.Index([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>])</div>
<div class="line"><span class="lineno"> 1941</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1942</span>                    idx = pd.Index([3.0], dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno"> 1943</span>                tm.assert_index_equal(block.cats.cat.categories, idx)</div>
<div class="line"><span class="lineno"> 1944</span>    <span class="keyword">with</span> tm.assert_produces_warning(CategoricalConversionWarning):</div>
<div class="line"><span class="lineno"> 1945</span>        <span class="keyword">with</span> StataReader(dta_file, chunksize=5) <span class="keyword">as</span> reader:</div>
<div class="line"><span class="lineno"> 1946</span>            large_chunk = reader.__next__()</div>
<div class="line"><span class="lineno"> 1947</span>    direct = read_stata(dta_file)</div>
<div class="line"><span class="lineno"> 1948</span>    tm.assert_frame_equal(direct, large_chunk)</div>
<div class="line"><span class="lineno"> 1949</span> </div>
<div class="line"><span class="lineno"> 1950</span> </div>
<div class="line"><span class="lineno"> 1951</span><span class="preprocessor">@pytest.mark.parametrize(&quot;chunksize&quot;, (-1, 0, &quot;apple&quot;)</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d81477c20ff536a0ef0a69c362d16cc" name="a1d81477c20ff536a0ef0a69c362d16cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d81477c20ff536a0ef0a69c362d16cc">&#9670;&#160;</a></span>test_compression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_compression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compression</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_dict</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>infer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1854</span><span class="keyword">def </span>test_compression(compression, version, use_dict, infer):</div>
<div class="line"><span class="lineno"> 1855</span>    file_name = <span class="stringliteral">&quot;dta_inferred_compression.dta&quot;</span></div>
<div class="line"><span class="lineno"> 1856</span>    <span class="keywordflow">if</span> compression:</div>
<div class="line"><span class="lineno"> 1857</span>        <span class="keywordflow">if</span> use_dict:</div>
<div class="line"><span class="lineno"> 1858</span>            file_ext = compression</div>
<div class="line"><span class="lineno"> 1859</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1860</span>            file_ext = _compression_to_extension[compression]</div>
<div class="line"><span class="lineno"> 1861</span>        file_name += f<span class="stringliteral">&quot;.{file_ext}&quot;</span></div>
<div class="line"><span class="lineno"> 1862</span>    compression_arg = compression</div>
<div class="line"><span class="lineno"> 1863</span>    <span class="keywordflow">if</span> infer:</div>
<div class="line"><span class="lineno"> 1864</span>        compression_arg = <span class="stringliteral">&quot;infer&quot;</span></div>
<div class="line"><span class="lineno"> 1865</span>    <span class="keywordflow">if</span> use_dict:</div>
<div class="line"><span class="lineno"> 1866</span>        compression_arg = {<span class="stringliteral">&quot;method&quot;</span>: compression}</div>
<div class="line"><span class="lineno"> 1867</span> </div>
<div class="line"><span class="lineno"> 1868</span>    df = DataFrame(np.random.randn(10, 2), columns=list(<span class="stringliteral">&quot;AB&quot;</span>))</div>
<div class="line"><span class="lineno"> 1869</span>    df.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1870</span>    <span class="keyword">with</span> tm.ensure_clean(file_name) <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1871</span>        df.to_stata(path, version=version, compression=compression_arg)</div>
<div class="line"><span class="lineno"> 1872</span>        <span class="keywordflow">if</span> compression == <span class="stringliteral">&quot;gzip&quot;</span>:</div>
<div class="line"><span class="lineno"> 1873</span>            <span class="keyword">with</span> gzip.open(path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> comp:</div>
<div class="line"><span class="lineno"> 1874</span>                fp = io.BytesIO(comp.read())</div>
<div class="line"><span class="lineno"> 1875</span>        <span class="keywordflow">elif</span> compression == <span class="stringliteral">&quot;zip&quot;</span>:</div>
<div class="line"><span class="lineno"> 1876</span>            <span class="keyword">with</span> zipfile.ZipFile(path, <span class="stringliteral">&quot;r&quot;</span>) <span class="keyword">as</span> comp:</div>
<div class="line"><span class="lineno"> 1877</span>                fp = io.BytesIO(comp.read(comp.filelist[0]))</div>
<div class="line"><span class="lineno"> 1878</span>        <span class="keywordflow">elif</span> compression == <span class="stringliteral">&quot;tar&quot;</span>:</div>
<div class="line"><span class="lineno"> 1879</span>            <span class="keyword">with</span> tarfile.open(path) <span class="keyword">as</span> tar:</div>
<div class="line"><span class="lineno"> 1880</span>                fp = io.BytesIO(tar.extractfile(tar.getnames()[0]).read())</div>
<div class="line"><span class="lineno"> 1881</span>        <span class="keywordflow">elif</span> compression == <span class="stringliteral">&quot;bz2&quot;</span>:</div>
<div class="line"><span class="lineno"> 1882</span>            <span class="keyword">with</span> bz2.open(path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> comp:</div>
<div class="line"><span class="lineno"> 1883</span>                fp = io.BytesIO(comp.read())</div>
<div class="line"><span class="lineno"> 1884</span>        <span class="keywordflow">elif</span> compression == <span class="stringliteral">&quot;zstd&quot;</span>:</div>
<div class="line"><span class="lineno"> 1885</span>            zstd = pytest.importorskip(<span class="stringliteral">&quot;zstandard&quot;</span>)</div>
<div class="line"><span class="lineno"> 1886</span>            <span class="keyword">with</span> zstd.open(path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> comp:</div>
<div class="line"><span class="lineno"> 1887</span>                fp = io.BytesIO(comp.read())</div>
<div class="line"><span class="lineno"> 1888</span>        <span class="keywordflow">elif</span> compression == <span class="stringliteral">&quot;xz&quot;</span>:</div>
<div class="line"><span class="lineno"> 1889</span>            lzma = pytest.importorskip(<span class="stringliteral">&quot;lzma&quot;</span>)</div>
<div class="line"><span class="lineno"> 1890</span>            <span class="keyword">with</span> lzma.open(path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> comp:</div>
<div class="line"><span class="lineno"> 1891</span>                fp = io.BytesIO(comp.read())</div>
<div class="line"><span class="lineno"> 1892</span>        <span class="keywordflow">elif</span> compression <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1893</span>            fp = path</div>
<div class="line"><span class="lineno"> 1894</span>        reread = read_stata(fp, index_col=<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 1895</span>        tm.assert_frame_equal(reread, df)</div>
<div class="line"><span class="lineno"> 1896</span> </div>
<div class="line"><span class="lineno"> 1897</span> </div>
<div class="line"><span class="lineno"> 1898</span><span class="preprocessor">@pytest.mark.parametrize(&quot;method&quot;, [&quot;zip&quot;, &quot;infer&quot;])</span></div>
<div class="line"><span class="lineno"> 1899</span><span class="preprocessor">@pytest.mark.parametrize(&quot;file_ext&quot;, [None, &quot;dta&quot;, &quot;zip&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3f2076d3cd12328e2bad27f080a744c7" name="a3f2076d3cd12328e2bad27f080a744c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f2076d3cd12328e2bad27f080a744c7">&#9670;&#160;</a></span>test_compression_dict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_compression_dict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_ext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1900</span><span class="keyword">def </span>test_compression_dict(method, file_ext):</div>
<div class="line"><span class="lineno"> 1901</span>    file_name = f<span class="stringliteral">&quot;test.{file_ext}&quot;</span></div>
<div class="line"><span class="lineno"> 1902</span>    archive_name = <span class="stringliteral">&quot;test.dta&quot;</span></div>
<div class="line"><span class="lineno"> 1903</span>    df = DataFrame(np.random.randn(10, 2), columns=list(<span class="stringliteral">&quot;AB&quot;</span>))</div>
<div class="line"><span class="lineno"> 1904</span>    df.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1905</span>    <span class="keyword">with</span> tm.ensure_clean(file_name) <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1906</span>        compression = {<span class="stringliteral">&quot;method&quot;</span>: method, <span class="stringliteral">&quot;archive_name&quot;</span>: archive_name}</div>
<div class="line"><span class="lineno"> 1907</span>        df.to_stata(path, compression=compression)</div>
<div class="line"><span class="lineno"> 1908</span>        <span class="keywordflow">if</span> method == <span class="stringliteral">&quot;zip&quot;</span> <span class="keywordflow">or</span> file_ext == <span class="stringliteral">&quot;zip&quot;</span>:</div>
<div class="line"><span class="lineno"> 1909</span>            <span class="keyword">with</span> zipfile.ZipFile(path, <span class="stringliteral">&quot;r&quot;</span>) <span class="keyword">as</span> zp:</div>
<div class="line"><span class="lineno"> 1910</span>                <span class="keyword">assert</span> len(zp.filelist) == 1</div>
<div class="line"><span class="lineno"> 1911</span>                <span class="keyword">assert</span> zp.filelist[0].filename == archive_name</div>
<div class="line"><span class="lineno"> 1912</span>                fp = io.BytesIO(zp.read(zp.filelist[0]))</div>
<div class="line"><span class="lineno"> 1913</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1914</span>            fp = path</div>
<div class="line"><span class="lineno"> 1915</span>        reread = read_stata(fp, index_col=<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 1916</span>        tm.assert_frame_equal(reread, df)</div>
<div class="line"><span class="lineno"> 1917</span> </div>
<div class="line"><span class="lineno"> 1918</span> </div>
<div class="line"><span class="lineno"> 1919</span><span class="preprocessor">@pytest.mark.parametrize(&quot;version&quot;, [114, 117, 118, 119, None])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6a13f5094e9ffd4bb0bf067536ed1d7" name="ae6a13f5094e9ffd4bb0bf067536ed1d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6a13f5094e9ffd4bb0bf067536ed1d7">&#9670;&#160;</a></span>test_compression_roundtrip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_compression_roundtrip </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compression</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1989</span><span class="keyword">def </span>test_compression_roundtrip(compression):</div>
<div class="line"><span class="lineno"> 1990</span>    df = DataFrame(</div>
<div class="line"><span class="lineno"> 1991</span>        [[0.123456, 0.234567, 0.567567], [12.32112, 123123.2, 321321.2]],</div>
<div class="line"><span class="lineno"> 1992</span>        index=[<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>],</div>
<div class="line"><span class="lineno"> 1993</span>        columns=[<span class="stringliteral">&quot;X&quot;</span>, <span class="stringliteral">&quot;Y&quot;</span>, <span class="stringliteral">&quot;Z&quot;</span>],</div>
<div class="line"><span class="lineno"> 1994</span>    )</div>
<div class="line"><span class="lineno"> 1995</span>    df.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1996</span> </div>
<div class="line"><span class="lineno"> 1997</span>    <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1998</span> </div>
<div class="line"><span class="lineno"> 1999</span>        df.to_stata(path, compression=compression)</div>
<div class="line"><span class="lineno"> 2000</span>        reread = read_stata(path, compression=compression, index_col=<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 2001</span>        tm.assert_frame_equal(df, reread)</div>
<div class="line"><span class="lineno"> 2002</span> </div>
<div class="line"><span class="lineno"> 2003</span>        <span class="comment"># explicitly ensure file was compressed.</span></div>
<div class="line"><span class="lineno"> 2004</span>        <span class="keyword">with</span> tm.decompress_file(path, compression) <span class="keyword">as</span> fh:</div>
<div class="line"><span class="lineno"> 2005</span>            contents = io.BytesIO(fh.read())</div>
<div class="line"><span class="lineno"> 2006</span>        reread = read_stata(contents, index_col=<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 2007</span>        tm.assert_frame_equal(df, reread)</div>
<div class="line"><span class="lineno"> 2008</span> </div>
<div class="line"><span class="lineno"> 2009</span> </div>
<div class="line"><span class="lineno"> 2010</span><span class="preprocessor">@pytest.mark.parametrize(&quot;to_infer&quot;, [True, False])</span></div>
<div class="line"><span class="lineno"> 2011</span><span class="preprocessor">@pytest.mark.parametrize(&quot;read_infer&quot;, [True, False])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aef6d7697d53ddd44e317db0543f07e93" name="aef6d7697d53ddd44e317db0543f07e93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef6d7697d53ddd44e317db0543f07e93">&#9670;&#160;</a></span>test_iterator_errors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_iterator_errors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunksize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1952</span><span class="keyword">def </span>test_iterator_errors(datapath, chunksize):</div>
<div class="line"><span class="lineno"> 1953</span>    dta_file = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata-dta-partially-labeled.dta&quot;</span>)</div>
<div class="line"><span class="lineno"> 1954</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;chunksize must be a positive&quot;</span>):</div>
<div class="line"><span class="lineno"> 1955</span>        StataReader(dta_file, chunksize=chunksize)</div>
<div class="line"><span class="lineno"> 1956</span> </div>
<div class="line"><span class="lineno"> 1957</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a07b9dfc59672013332a7d351a847e55e" name="a07b9dfc59672013332a7d351a847e55e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b9dfc59672013332a7d351a847e55e">&#9670;&#160;</a></span>test_iterator_value_labels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_iterator_value_labels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1958</span><span class="keyword">def </span>test_iterator_value_labels():</div>
<div class="line"><span class="lineno"> 1959</span>    <span class="comment"># GH 31544</span></div>
<div class="line"><span class="lineno"> 1960</span>    values = [<span class="stringliteral">&quot;c_label&quot;</span>, <span class="stringliteral">&quot;b_label&quot;</span>] + [<span class="stringliteral">&quot;a_label&quot;</span>] * 500</div>
<div class="line"><span class="lineno"> 1961</span>    df = DataFrame({f<span class="stringliteral">&quot;col{k}&quot;</span>: pd.Categorical(values, ordered=<span class="keyword">True</span>) <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(2)})</div>
<div class="line"><span class="lineno"> 1962</span>    <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1963</span>        df.to_stata(path, write_index=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1964</span>        expected = pd.Index([<span class="stringliteral">&quot;a_label&quot;</span>, <span class="stringliteral">&quot;b_label&quot;</span>, <span class="stringliteral">&quot;c_label&quot;</span>], dtype=<span class="stringliteral">&quot;object&quot;</span>)</div>
<div class="line"><span class="lineno"> 1965</span>        <span class="keyword">with</span> read_stata(path, chunksize=100) <span class="keyword">as</span> reader:</div>
<div class="line"><span class="lineno"> 1966</span>            <span class="keywordflow">for</span> j, chunk <span class="keywordflow">in</span> enumerate(reader):</div>
<div class="line"><span class="lineno"> 1967</span>                <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 1968</span>                    tm.assert_index_equal(chunk.dtypes[i].categories, expected)</div>
<div class="line"><span class="lineno"> 1969</span>                tm.assert_frame_equal(chunk, df.iloc[j * 100 : (j + 1) * 100])</div>
<div class="line"><span class="lineno"> 1970</span> </div>
<div class="line"><span class="lineno"> 1971</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4396540357aebdc951804117e07eb4a8" name="a4396540357aebdc951804117e07eb4a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4396540357aebdc951804117e07eb4a8">&#9670;&#160;</a></span>test_non_categorical_value_label_convert_categoricals_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_non_categorical_value_label_convert_categoricals_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2109</span><span class="keyword">def </span>test_non_categorical_value_label_convert_categoricals_error():</div>
<div class="line"><span class="lineno"> 2110</span>    <span class="comment"># Mapping more than one value to the same label is valid for Stata</span></div>
<div class="line"><span class="lineno"> 2111</span>    <span class="comment"># labels, but can&#39;t be read with convert_categoricals=True</span></div>
<div class="line"><span class="lineno"> 2112</span>    value_labels = {</div>
<div class="line"><span class="lineno"> 2113</span>        <span class="stringliteral">&quot;repeated_labels&quot;</span>: {10: <span class="stringliteral">&quot;Ten&quot;</span>, 20: <span class="stringliteral">&quot;More than ten&quot;</span>, 40: <span class="stringliteral">&quot;More than ten&quot;</span>}</div>
<div class="line"><span class="lineno"> 2114</span>    }</div>
<div class="line"><span class="lineno"> 2115</span> </div>
<div class="line"><span class="lineno"> 2116</span>    data = DataFrame(</div>
<div class="line"><span class="lineno"> 2117</span>        {</div>
<div class="line"><span class="lineno"> 2118</span>            <span class="stringliteral">&quot;repeated_labels&quot;</span>: [10, 10, 20, 20, 40, 40],</div>
<div class="line"><span class="lineno"> 2119</span>        }</div>
<div class="line"><span class="lineno"> 2120</span>    )</div>
<div class="line"><span class="lineno"> 2121</span> </div>
<div class="line"><span class="lineno"> 2122</span>    <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 2123</span>        data.to_stata(path, value_labels=value_labels)</div>
<div class="line"><span class="lineno"> 2124</span> </div>
<div class="line"><span class="lineno"> 2125</span>        reader = StataReader(path, convert_categoricals=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 2126</span>        reader_value_labels = reader.value_labels()</div>
<div class="line"><span class="lineno"> 2127</span>        <span class="keyword">assert</span> reader_value_labels == value_labels</div>
<div class="line"><span class="lineno"> 2128</span> </div>
<div class="line"><span class="lineno"> 2129</span>        col = <span class="stringliteral">&quot;repeated_labels&quot;</span></div>
<div class="line"><span class="lineno"> 2130</span>        repeats = <span class="stringliteral">&quot;-&quot;</span> * 80 + <span class="stringliteral">&quot;\n&quot;</span> + <span class="stringliteral">&quot;\n&quot;</span>.join([<span class="stringliteral">&quot;More than ten&quot;</span>])</div>
<div class="line"><span class="lineno"> 2131</span> </div>
<div class="line"><span class="lineno"> 2132</span>        msg = f<span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2133</span><span class="stringliteral">Value labels for column {col} are not unique. These cannot be converted to</span></div>
<div class="line"><span class="lineno"> 2134</span><span class="stringliteral">pandas categoricals.</span></div>
<div class="line"><span class="lineno"> 2135</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2136</span><span class="stringliteral">Either read the file with `convert_categoricals` set to False or use the</span></div>
<div class="line"><span class="lineno"> 2137</span><span class="stringliteral">low level interface in `StataReader` to separately read the values and the</span></div>
<div class="line"><span class="lineno"> 2138</span><span class="stringliteral">value_labels.</span></div>
<div class="line"><span class="lineno"> 2139</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2140</span><span class="stringliteral">The repeated labels are:</span></div>
<div class="line"><span class="lineno"> 2141</span><span class="stringliteral">{repeats}</span></div>
<div class="line"><span class="lineno"> 2142</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2143</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 2144</span>            read_stata(path, convert_categoricals=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 2145</span> </div>
<div class="line"><span class="lineno"> 2146</span> </div>
<div class="line"><span class="lineno"> 2147</span><span class="preprocessor">@pytest.mark.parametrize(&quot;version&quot;, [114, 117, 118, 119, None])</span></div>
<div class="line"><span class="lineno"> 2148</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 2149</span>    <span class="stringliteral">&quot;dtype&quot;</span>,</div>
<div class="line"><span class="lineno"> 2150</span>    [</div>
<div class="line"><span class="lineno"> 2151</span>        pd.BooleanDtype,</div>
<div class="line"><span class="lineno"> 2152</span>        pd.Int8Dtype,</div>
<div class="line"><span class="lineno"> 2153</span>        pd.Int16Dtype,</div>
<div class="line"><span class="lineno"> 2154</span>        pd.Int32Dtype,</div>
<div class="line"><span class="lineno"> 2155</span>        pd.Int64Dtype,</div>
<div class="line"><span class="lineno"> 2156</span>        pd.UInt8Dtype,</div>
<div class="line"><span class="lineno"> 2157</span>        pd.UInt16Dtype,</div>
<div class="line"><span class="lineno"> 2158</span>        pd.UInt32Dtype,</div>
<div class="line"><span class="lineno"> 2159</span>        pd.UInt64Dtype,</div>
<div class="line"><span class="lineno"> 2160</span>    ],</div>
<div class="line"><span class="lineno"> 2161</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa66b193a7e6859a5a48e60162a505db5" name="aa66b193a7e6859a5a48e60162a505db5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa66b193a7e6859a5a48e60162a505db5">&#9670;&#160;</a></span>test_non_categorical_value_label_name_conversion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_non_categorical_value_label_name_conversion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2072</span><span class="keyword">def </span>test_non_categorical_value_label_name_conversion():</div>
<div class="line"><span class="lineno"> 2073</span>    <span class="comment"># Check conversion of invalid variable names</span></div>
<div class="line"><span class="lineno"> 2074</span>    data = DataFrame(</div>
<div class="line"><span class="lineno"> 2075</span>        {</div>
<div class="line"><span class="lineno"> 2076</span>            <span class="stringliteral">&quot;invalid~!&quot;</span>: [1, 1, 2, 3, 5, 8],  <span class="comment"># Only alphanumeric and _</span></div>
<div class="line"><span class="lineno"> 2077</span>            <span class="stringliteral">&quot;6_invalid&quot;</span>: [1, 1, 2, 3, 5, 8],  <span class="comment"># Must start with letter or _</span></div>
<div class="line"><span class="lineno"> 2078</span>            <span class="stringliteral">&quot;invalid_name_longer_than_32_characters&quot;</span>: [8, 8, 9, 9, 8, 8],  <span class="comment"># Too long</span></div>
<div class="line"><span class="lineno"> 2079</span>            <span class="stringliteral">&quot;aggregate&quot;</span>: [2, 5, 5, 6, 6, 9],  <span class="comment"># Reserved words</span></div>
<div class="line"><span class="lineno"> 2080</span>            (1, 2): [1, 2, 3, 4, 5, 6],  <span class="comment"># Hashable non-string</span></div>
<div class="line"><span class="lineno"> 2081</span>        }</div>
<div class="line"><span class="lineno"> 2082</span>    )</div>
<div class="line"><span class="lineno"> 2083</span> </div>
<div class="line"><span class="lineno"> 2084</span>    value_labels = {</div>
<div class="line"><span class="lineno"> 2085</span>        <span class="stringliteral">&quot;invalid~!&quot;</span>: {1: <span class="stringliteral">&quot;label1&quot;</span>, 2: <span class="stringliteral">&quot;label2&quot;</span>},</div>
<div class="line"><span class="lineno"> 2086</span>        <span class="stringliteral">&quot;6_invalid&quot;</span>: {1: <span class="stringliteral">&quot;label1&quot;</span>, 2: <span class="stringliteral">&quot;label2&quot;</span>},</div>
<div class="line"><span class="lineno"> 2087</span>        <span class="stringliteral">&quot;invalid_name_longer_than_32_characters&quot;</span>: {8: <span class="stringliteral">&quot;eight&quot;</span>, 9: <span class="stringliteral">&quot;nine&quot;</span>},</div>
<div class="line"><span class="lineno"> 2088</span>        <span class="stringliteral">&quot;aggregate&quot;</span>: {5: <span class="stringliteral">&quot;five&quot;</span>},</div>
<div class="line"><span class="lineno"> 2089</span>        (1, 2): {3: <span class="stringliteral">&quot;three&quot;</span>},</div>
<div class="line"><span class="lineno"> 2090</span>    }</div>
<div class="line"><span class="lineno"> 2091</span> </div>
<div class="line"><span class="lineno"> 2092</span>    expected = {</div>
<div class="line"><span class="lineno"> 2093</span>        <span class="stringliteral">&quot;invalid__&quot;</span>: {1: <span class="stringliteral">&quot;label1&quot;</span>, 2: <span class="stringliteral">&quot;label2&quot;</span>},</div>
<div class="line"><span class="lineno"> 2094</span>        <span class="stringliteral">&quot;_6_invalid&quot;</span>: {1: <span class="stringliteral">&quot;label1&quot;</span>, 2: <span class="stringliteral">&quot;label2&quot;</span>},</div>
<div class="line"><span class="lineno"> 2095</span>        <span class="stringliteral">&quot;invalid_name_longer_than_32_char&quot;</span>: {8: <span class="stringliteral">&quot;eight&quot;</span>, 9: <span class="stringliteral">&quot;nine&quot;</span>},</div>
<div class="line"><span class="lineno"> 2096</span>        <span class="stringliteral">&quot;_aggregate&quot;</span>: {5: <span class="stringliteral">&quot;five&quot;</span>},</div>
<div class="line"><span class="lineno"> 2097</span>        <span class="stringliteral">&quot;_1__2_&quot;</span>: {3: <span class="stringliteral">&quot;three&quot;</span>},</div>
<div class="line"><span class="lineno"> 2098</span>    }</div>
<div class="line"><span class="lineno"> 2099</span> </div>
<div class="line"><span class="lineno"> 2100</span>    <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 2101</span>        <span class="keyword">with</span> tm.assert_produces_warning(InvalidColumnName):</div>
<div class="line"><span class="lineno"> 2102</span>            data.to_stata(path, value_labels=value_labels)</div>
<div class="line"><span class="lineno"> 2103</span> </div>
<div class="line"><span class="lineno"> 2104</span>        reader = StataReader(path)</div>
<div class="line"><span class="lineno"> 2105</span>        reader_value_labels = reader.value_labels()</div>
<div class="line"><span class="lineno"> 2106</span>        <span class="keyword">assert</span> reader_value_labels == expected</div>
<div class="line"><span class="lineno"> 2107</span> </div>
<div class="line"><span class="lineno"> 2108</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0aca285a822e250e550cdb715aef919f" name="a0aca285a822e250e550cdb715aef919f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0aca285a822e250e550cdb715aef919f">&#9670;&#160;</a></span>test_non_categorical_value_labels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_non_categorical_value_labels </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2034</span><span class="keyword">def </span>test_non_categorical_value_labels():</div>
<div class="line"><span class="lineno"> 2035</span>    data = DataFrame(</div>
<div class="line"><span class="lineno"> 2036</span>        {</div>
<div class="line"><span class="lineno"> 2037</span>            <span class="stringliteral">&quot;fully_labelled&quot;</span>: [1, 2, 3, 3, 1],</div>
<div class="line"><span class="lineno"> 2038</span>            <span class="stringliteral">&quot;partially_labelled&quot;</span>: [1.0, 2.0, np.nan, 9.0, np.nan],</div>
<div class="line"><span class="lineno"> 2039</span>            <span class="stringliteral">&quot;Y&quot;</span>: [7, 7, 9, 8, 10],</div>
<div class="line"><span class="lineno"> 2040</span>            <span class="stringliteral">&quot;Z&quot;</span>: pd.Categorical([<span class="stringliteral">&quot;j&quot;</span>, <span class="stringliteral">&quot;k&quot;</span>, <span class="stringliteral">&quot;l&quot;</span>, <span class="stringliteral">&quot;k&quot;</span>, <span class="stringliteral">&quot;j&quot;</span>]),</div>
<div class="line"><span class="lineno"> 2041</span>        }</div>
<div class="line"><span class="lineno"> 2042</span>    )</div>
<div class="line"><span class="lineno"> 2043</span> </div>
<div class="line"><span class="lineno"> 2044</span>    <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 2045</span>        value_labels = {</div>
<div class="line"><span class="lineno"> 2046</span>            <span class="stringliteral">&quot;fully_labelled&quot;</span>: {1: <span class="stringliteral">&quot;one&quot;</span>, 2: <span class="stringliteral">&quot;two&quot;</span>, 3: <span class="stringliteral">&quot;three&quot;</span>},</div>
<div class="line"><span class="lineno"> 2047</span>            <span class="stringliteral">&quot;partially_labelled&quot;</span>: {1.0: <span class="stringliteral">&quot;one&quot;</span>, 2.0: <span class="stringliteral">&quot;two&quot;</span>},</div>
<div class="line"><span class="lineno"> 2048</span>        }</div>
<div class="line"><span class="lineno"> 2049</span>        expected = {**value_labels, <span class="stringliteral">&quot;Z&quot;</span>: {0: <span class="stringliteral">&quot;j&quot;</span>, 1: <span class="stringliteral">&quot;k&quot;</span>, 2: <span class="stringliteral">&quot;l&quot;</span>}}</div>
<div class="line"><span class="lineno"> 2050</span> </div>
<div class="line"><span class="lineno"> 2051</span>        writer = StataWriter(path, data, value_labels=value_labels)</div>
<div class="line"><span class="lineno"> 2052</span>        writer.write_file()</div>
<div class="line"><span class="lineno"> 2053</span> </div>
<div class="line"><span class="lineno"> 2054</span>        reader = StataReader(path)</div>
<div class="line"><span class="lineno"> 2055</span>        reader_value_labels = reader.value_labels()</div>
<div class="line"><span class="lineno"> 2056</span>        <span class="keyword">assert</span> reader_value_labels == expected</div>
<div class="line"><span class="lineno"> 2057</span> </div>
<div class="line"><span class="lineno"> 2058</span>        msg = <span class="stringliteral">&quot;Can&#39;t create value labels for notY, it wasn&#39;t found in the dataset.&quot;</span></div>
<div class="line"><span class="lineno"> 2059</span>        <span class="keyword">with</span> pytest.raises(KeyError, match=msg):</div>
<div class="line"><span class="lineno"> 2060</span>            value_labels = {<span class="stringliteral">&quot;notY&quot;</span>: {7: <span class="stringliteral">&quot;label1&quot;</span>, 8: <span class="stringliteral">&quot;label2&quot;</span>}}</div>
<div class="line"><span class="lineno"> 2061</span>            StataWriter(path, data, value_labels=value_labels)</div>
<div class="line"><span class="lineno"> 2062</span> </div>
<div class="line"><span class="lineno"> 2063</span>        msg = (</div>
<div class="line"><span class="lineno"> 2064</span>            <span class="stringliteral">&quot;Can&#39;t create value labels for Z, value labels &quot;</span></div>
<div class="line"><span class="lineno"> 2065</span>            <span class="stringliteral">&quot;can only be applied to numeric columns.&quot;</span></div>
<div class="line"><span class="lineno"> 2066</span>        )</div>
<div class="line"><span class="lineno"> 2067</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 2068</span>            value_labels = {<span class="stringliteral">&quot;Z&quot;</span>: {1: <span class="stringliteral">&quot;a&quot;</span>, 2: <span class="stringliteral">&quot;k&quot;</span>, 3: <span class="stringliteral">&quot;j&quot;</span>, 4: <span class="stringliteral">&quot;i&quot;</span>}}</div>
<div class="line"><span class="lineno"> 2069</span>            StataWriter(path, data, value_labels=value_labels)</div>
<div class="line"><span class="lineno"> 2070</span> </div>
<div class="line"><span class="lineno"> 2071</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afccf23b2a995da26369d0c2bb4a64308" name="afccf23b2a995da26369d0c2bb4a64308"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afccf23b2a995da26369d0c2bb4a64308">&#9670;&#160;</a></span>test_nullable_support()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_nullable_support </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2162</span><span class="keyword">def </span>test_nullable_support(dtype, version):</div>
<div class="line"><span class="lineno"> 2163</span>    df = DataFrame(</div>
<div class="line"><span class="lineno"> 2164</span>        {</div>
<div class="line"><span class="lineno"> 2165</span>            <span class="stringliteral">&quot;a&quot;</span>: Series([1.0, 2.0, 3.0]),</div>
<div class="line"><span class="lineno"> 2166</span>            <span class="stringliteral">&quot;b&quot;</span>: Series([1, pd.NA, pd.NA], dtype=dtype.name),</div>
<div class="line"><span class="lineno"> 2167</span>            <span class="stringliteral">&quot;c&quot;</span>: Series([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="keywordtype">None</span>]),</div>
<div class="line"><span class="lineno"> 2168</span>        }</div>
<div class="line"><span class="lineno"> 2169</span>    )</div>
<div class="line"><span class="lineno"> 2170</span>    dtype_name = df.b.dtype.numpy_dtype.name</div>
<div class="line"><span class="lineno"> 2171</span>    <span class="comment"># Only use supported names: no uint, bool or int64</span></div>
<div class="line"><span class="lineno"> 2172</span>    dtype_name = dtype_name.replace(<span class="stringliteral">&quot;u&quot;</span>, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 2173</span>    <span class="keywordflow">if</span> dtype_name == <span class="stringliteral">&quot;int64&quot;</span>:</div>
<div class="line"><span class="lineno"> 2174</span>        dtype_name = <span class="stringliteral">&quot;int32&quot;</span></div>
<div class="line"><span class="lineno"> 2175</span>    <span class="keywordflow">elif</span> dtype_name == <span class="stringliteral">&quot;bool&quot;</span>:</div>
<div class="line"><span class="lineno"> 2176</span>        dtype_name = <span class="stringliteral">&quot;int8&quot;</span></div>
<div class="line"><span class="lineno"> 2177</span>    value = StataMissingValue.BASE_MISSING_VALUES[dtype_name]</div>
<div class="line"><span class="lineno"> 2178</span>    smv = StataMissingValue(value)</div>
<div class="line"><span class="lineno"> 2179</span>    expected_b = Series([1, smv, smv], dtype=object, name=<span class="stringliteral">&quot;b&quot;</span>)</div>
<div class="line"><span class="lineno"> 2180</span>    expected_c = Series([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;&quot;</span>], name=<span class="stringliteral">&quot;c&quot;</span>)</div>
<div class="line"><span class="lineno"> 2181</span>    <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 2182</span>        df.to_stata(path, write_index=<span class="keyword">False</span>, version=version)</div>
<div class="line"><span class="lineno"> 2183</span>        reread = read_stata(path, convert_missing=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 2184</span>        tm.assert_series_equal(df.a, reread.a)</div>
<div class="line"><span class="lineno"> 2185</span>        tm.assert_series_equal(reread.b, expected_b)</div>
<div class="line"><span class="lineno"> 2186</span>        tm.assert_series_equal(reread.c, expected_c)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aafabb8642863092a235d64af10281d55" name="aafabb8642863092a235d64af10281d55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafabb8642863092a235d64af10281d55">&#9670;&#160;</a></span>test_precision_loss()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_precision_loss </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1972</span><span class="keyword">def </span>test_precision_loss():</div>
<div class="line"><span class="lineno"> 1973</span>    df = DataFrame(</div>
<div class="line"><span class="lineno"> 1974</span>        [[sum(2**i <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(60)), sum(2**i <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(52))]],</div>
<div class="line"><span class="lineno"> 1975</span>        columns=[<span class="stringliteral">&quot;big&quot;</span>, <span class="stringliteral">&quot;little&quot;</span>],</div>
<div class="line"><span class="lineno"> 1976</span>    )</div>
<div class="line"><span class="lineno"> 1977</span>    <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1978</span>        <span class="keyword">with</span> tm.assert_produces_warning(</div>
<div class="line"><span class="lineno"> 1979</span>            PossiblePrecisionLoss, match=<span class="stringliteral">&quot;Column converted from int64 to float64&quot;</span></div>
<div class="line"><span class="lineno"> 1980</span>        ):</div>
<div class="line"><span class="lineno"> 1981</span>            df.to_stata(path, write_index=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1982</span>        reread = read_stata(path)</div>
<div class="line"><span class="lineno"> 1983</span>        expected_dt = Series([np.float64, np.float64], index=[<span class="stringliteral">&quot;big&quot;</span>, <span class="stringliteral">&quot;little&quot;</span>])</div>
<div class="line"><span class="lineno"> 1984</span>        tm.assert_series_equal(reread.dtypes, expected_dt)</div>
<div class="line"><span class="lineno"> 1985</span>        <span class="keyword">assert</span> reread.loc[0, <span class="stringliteral">&quot;little&quot;</span>] == df.loc[0, <span class="stringliteral">&quot;little&quot;</span>]</div>
<div class="line"><span class="lineno"> 1986</span>        <span class="keyword">assert</span> reread.loc[0, <span class="stringliteral">&quot;big&quot;</span>] == float(df.loc[0, <span class="stringliteral">&quot;big&quot;</span>])</div>
<div class="line"><span class="lineno"> 1987</span> </div>
<div class="line"><span class="lineno"> 1988</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3456c2a7fdb078cbdbcb7d62114efc5" name="aa3456c2a7fdb078cbdbcb7d62114efc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3456c2a7fdb078cbdbcb7d62114efc5">&#9670;&#160;</a></span>test_stata_compression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.test_stata_compression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compression_only</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>read_infer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>to_infer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2012</span><span class="keyword">def </span>test_stata_compression(compression_only, read_infer, to_infer):</div>
<div class="line"><span class="lineno"> 2013</span>    compression = compression_only</div>
<div class="line"><span class="lineno"> 2014</span> </div>
<div class="line"><span class="lineno"> 2015</span>    ext = _compression_to_extension[compression]</div>
<div class="line"><span class="lineno"> 2016</span>    filename = f<span class="stringliteral">&quot;test.{ext}&quot;</span></div>
<div class="line"><span class="lineno"> 2017</span> </div>
<div class="line"><span class="lineno"> 2018</span>    df = DataFrame(</div>
<div class="line"><span class="lineno"> 2019</span>        [[0.123456, 0.234567, 0.567567], [12.32112, 123123.2, 321321.2]],</div>
<div class="line"><span class="lineno"> 2020</span>        index=[<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>],</div>
<div class="line"><span class="lineno"> 2021</span>        columns=[<span class="stringliteral">&quot;X&quot;</span>, <span class="stringliteral">&quot;Y&quot;</span>, <span class="stringliteral">&quot;Z&quot;</span>],</div>
<div class="line"><span class="lineno"> 2022</span>    )</div>
<div class="line"><span class="lineno"> 2023</span>    df.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 2024</span> </div>
<div class="line"><span class="lineno"> 2025</span>    to_compression = <span class="stringliteral">&quot;infer&quot;</span> <span class="keywordflow">if</span> to_infer <span class="keywordflow">else</span> compression</div>
<div class="line"><span class="lineno"> 2026</span>    read_compression = <span class="stringliteral">&quot;infer&quot;</span> <span class="keywordflow">if</span> read_infer <span class="keywordflow">else</span> compression</div>
<div class="line"><span class="lineno"> 2027</span> </div>
<div class="line"><span class="lineno"> 2028</span>    <span class="keyword">with</span> tm.ensure_clean(filename) <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 2029</span>        df.to_stata(path, compression=to_compression)</div>
<div class="line"><span class="lineno"> 2030</span>        result = read_stata(path, compression=read_compression, index_col=<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 2031</span>        tm.assert_frame_equal(result, df)</div>
<div class="line"><span class="lineno"> 2032</span> </div>
<div class="line"><span class="lineno"> 2033</span> </div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
