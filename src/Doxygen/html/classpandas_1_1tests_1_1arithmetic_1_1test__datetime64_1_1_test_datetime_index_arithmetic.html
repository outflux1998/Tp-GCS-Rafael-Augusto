<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1arithmetic.html">arithmetic</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1arithmetic_1_1test__datetime64.html">test_datetime64</a></li><li class="navelem"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html">TestDatetimeIndexArithmetic</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2c797498aeec70dfc4e832f479cf5581" id="r_a2c797498aeec70dfc4e832f479cf5581"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#a2c797498aeec70dfc4e832f479cf5581">test_dti_add_tdi</a> (self, tz_naive_fixture)</td></tr>
<tr class="separator:a2c797498aeec70dfc4e832f479cf5581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21931db5692877dd19eab1cf5c78e5a8" id="r_a21931db5692877dd19eab1cf5c78e5a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#a21931db5692877dd19eab1cf5c78e5a8">test_dti_iadd_tdi</a> (self, tz_naive_fixture)</td></tr>
<tr class="separator:a21931db5692877dd19eab1cf5c78e5a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50e047fb43b442bb1103e3d9c4470078" id="r_a50e047fb43b442bb1103e3d9c4470078"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#a50e047fb43b442bb1103e3d9c4470078">test_dti_sub_tdi</a> (self, tz_naive_fixture)</td></tr>
<tr class="separator:a50e047fb43b442bb1103e3d9c4470078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4883f68800c08a9a3f646e3a88d06e58" id="r_a4883f68800c08a9a3f646e3a88d06e58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#a4883f68800c08a9a3f646e3a88d06e58">test_dti_isub_tdi</a> (self, tz_naive_fixture)</td></tr>
<tr class="separator:a4883f68800c08a9a3f646e3a88d06e58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021581c75117ddf194335b9a828f7eb6" id="r_a021581c75117ddf194335b9a828f7eb6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#a021581c75117ddf194335b9a828f7eb6">test_dta_add_sub_index</a> (self, tz_naive_fixture)</td></tr>
<tr class="separator:a021581c75117ddf194335b9a828f7eb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa46a1da37bfade9f1a48503ca621dda9" id="r_aa46a1da37bfade9f1a48503ca621dda9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#aa46a1da37bfade9f1a48503ca621dda9">test_sub_dti_dti</a> (self)</td></tr>
<tr class="separator:aa46a1da37bfade9f1a48503ca621dda9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10303e4ad56eab2b2da6e07b74bc1530" id="r_a10303e4ad56eab2b2da6e07b74bc1530"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#a10303e4ad56eab2b2da6e07b74bc1530">test_timedelta64_equal_timedelta_supported_ops</a> (self, op, box_with_array)</td></tr>
<tr class="separator:a10303e4ad56eab2b2da6e07b74bc1530"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32db66b4630b29cd1177190be7f9b99" id="r_ae32db66b4630b29cd1177190be7f9b99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#ae32db66b4630b29cd1177190be7f9b99">test_ops_nat_mixed_datetime64_timedelta64</a> (self)</td></tr>
<tr class="separator:ae32db66b4630b29cd1177190be7f9b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02c31d4113f1eb0d244469a8ebe19b56" id="r_a02c31d4113f1eb0d244469a8ebe19b56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#a02c31d4113f1eb0d244469a8ebe19b56">test_ufunc_coercions</a> (self)</td></tr>
<tr class="separator:a02c31d4113f1eb0d244469a8ebe19b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a5a58b7a9c3dc7e963248394d8fbe9b" id="r_a2a5a58b7a9c3dc7e963248394d8fbe9b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#a2a5a58b7a9c3dc7e963248394d8fbe9b">test_dti_add_series</a> (self, tz_naive_fixture, names)</td></tr>
<tr class="separator:a2a5a58b7a9c3dc7e963248394d8fbe9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a475a756c607ab311ffee8b293a5cdfff" id="r_a475a756c607ab311ffee8b293a5cdfff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#a475a756c607ab311ffee8b293a5cdfff">test_dti_addsub_offset_arraylike</a> (self, tz_naive_fixture, names, op, index_or_series)</td></tr>
<tr class="separator:a475a756c607ab311ffee8b293a5cdfff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1eec72faa5b47fd0ae6579779761a9" id="r_a7f1eec72faa5b47fd0ae6579779761a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1arithmetic_1_1test__datetime64_1_1_test_datetime_index_arithmetic.html#a7f1eec72faa5b47fd0ae6579779761a9">test_dti_addsub_object_arraylike</a> (self, tz_naive_fixture, box_with_array, other_box)</td></tr>
<tr class="separator:a7f1eec72faa5b47fd0ae6579779761a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a021581c75117ddf194335b9a828f7eb6" name="a021581c75117ddf194335b9a828f7eb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021581c75117ddf194335b9a828f7eb6">&#9670;&#160;</a></span>test_dta_add_sub_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_dta_add_sub_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz_naive_fixture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2129</span>    <span class="keyword">def </span>test_dta_add_sub_index(self, tz_naive_fixture):</div>
<div class="line"><span class="lineno"> 2130</span>        <span class="comment"># Check that DatetimeArray defers to Index classes</span></div>
<div class="line"><span class="lineno"> 2131</span>        dti = date_range(<span class="stringliteral">&quot;20130101&quot;</span>, periods=3, tz=tz_naive_fixture)</div>
<div class="line"><span class="lineno"> 2132</span>        dta = dti.array</div>
<div class="line"><span class="lineno"> 2133</span>        result = dta - dti</div>
<div class="line"><span class="lineno"> 2134</span>        expected = dti - dti</div>
<div class="line"><span class="lineno"> 2135</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2136</span> </div>
<div class="line"><span class="lineno"> 2137</span>        tdi = result</div>
<div class="line"><span class="lineno"> 2138</span>        result = dta + tdi</div>
<div class="line"><span class="lineno"> 2139</span>        expected = dti + tdi</div>
<div class="line"><span class="lineno"> 2140</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2141</span> </div>
<div class="line"><span class="lineno"> 2142</span>        result = dta - tdi</div>
<div class="line"><span class="lineno"> 2143</span>        expected = dti - tdi</div>
<div class="line"><span class="lineno"> 2144</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2145</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a5a58b7a9c3dc7e963248394d8fbe9b" name="a2a5a58b7a9c3dc7e963248394d8fbe9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a5a58b7a9c3dc7e963248394d8fbe9b">&#9670;&#160;</a></span>test_dti_add_series()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_dti_add_series </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz_naive_fixture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>names</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2318</span>    <span class="keyword">def </span>test_dti_add_series(self, tz_naive_fixture, names):</div>
<div class="line"><span class="lineno"> 2319</span>        <span class="comment"># GH#13905</span></div>
<div class="line"><span class="lineno"> 2320</span>        tz = tz_naive_fixture</div>
<div class="line"><span class="lineno"> 2321</span>        index = DatetimeIndex(</div>
<div class="line"><span class="lineno"> 2322</span>            [<span class="stringliteral">&quot;2016-06-28 05:30&quot;</span>, <span class="stringliteral">&quot;2016-06-28 05:31&quot;</span>], tz=tz, name=names[0]</div>
<div class="line"><span class="lineno"> 2323</span>        )</div>
<div class="line"><span class="lineno"> 2324</span>        ser = Series([Timedelta(seconds=5)] * 2, index=index, name=names[1])</div>
<div class="line"><span class="lineno"> 2325</span>        expected = Series(index + Timedelta(seconds=5), index=index, name=names[2])</div>
<div class="line"><span class="lineno"> 2326</span> </div>
<div class="line"><span class="lineno"> 2327</span>        <span class="comment"># passing name arg isn&#39;t enough when names[2] is None</span></div>
<div class="line"><span class="lineno"> 2328</span>        expected.name = names[2]</div>
<div class="line"><span class="lineno"> 2329</span>        <span class="keyword">assert</span> expected.dtype == index.dtype</div>
<div class="line"><span class="lineno"> 2330</span>        result = ser + index</div>
<div class="line"><span class="lineno"> 2331</span>        tm.assert_series_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2332</span>        result2 = index + ser</div>
<div class="line"><span class="lineno"> 2333</span>        tm.assert_series_equal(result2, expected)</div>
<div class="line"><span class="lineno"> 2334</span> </div>
<div class="line"><span class="lineno"> 2335</span>        expected = index + Timedelta(seconds=5)</div>
<div class="line"><span class="lineno"> 2336</span>        result3 = ser.values + index</div>
<div class="line"><span class="lineno"> 2337</span>        tm.assert_index_equal(result3, expected)</div>
<div class="line"><span class="lineno"> 2338</span>        result4 = index + ser.values</div>
<div class="line"><span class="lineno"> 2339</span>        tm.assert_index_equal(result4, expected)</div>
<div class="line"><span class="lineno"> 2340</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c797498aeec70dfc4e832f479cf5581" name="a2c797498aeec70dfc4e832f479cf5581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c797498aeec70dfc4e832f479cf5581">&#9670;&#160;</a></span>test_dti_add_tdi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_dti_add_tdi </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz_naive_fixture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2013</span>    <span class="keyword">def </span>test_dti_add_tdi(self, tz_naive_fixture):</div>
<div class="line"><span class="lineno"> 2014</span>        <span class="comment"># GH#17558</span></div>
<div class="line"><span class="lineno"> 2015</span>        tz = tz_naive_fixture</div>
<div class="line"><span class="lineno"> 2016</span>        dti = DatetimeIndex([Timestamp(<span class="stringliteral">&quot;2017-01-01&quot;</span>, tz=tz)] * 10)</div>
<div class="line"><span class="lineno"> 2017</span>        tdi = pd.timedelta_range(<span class="stringliteral">&quot;0 days&quot;</span>, periods=10)</div>
<div class="line"><span class="lineno"> 2018</span>        expected = date_range(<span class="stringliteral">&quot;2017-01-01&quot;</span>, periods=10, tz=tz)</div>
<div class="line"><span class="lineno"> 2019</span>        expected = expected._with_freq(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 2020</span> </div>
<div class="line"><span class="lineno"> 2021</span>        <span class="comment"># add with TimedeltaIndex</span></div>
<div class="line"><span class="lineno"> 2022</span>        result = dti + tdi</div>
<div class="line"><span class="lineno"> 2023</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2024</span> </div>
<div class="line"><span class="lineno"> 2025</span>        result = tdi + dti</div>
<div class="line"><span class="lineno"> 2026</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2027</span> </div>
<div class="line"><span class="lineno"> 2028</span>        <span class="comment"># add with timedelta64 array</span></div>
<div class="line"><span class="lineno"> 2029</span>        result = dti + tdi.values</div>
<div class="line"><span class="lineno"> 2030</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2031</span> </div>
<div class="line"><span class="lineno"> 2032</span>        result = tdi.values + dti</div>
<div class="line"><span class="lineno"> 2033</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2034</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f1eec72faa5b47fd0ae6579779761a9" name="a7f1eec72faa5b47fd0ae6579779761a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f1eec72faa5b47fd0ae6579779761a9">&#9670;&#160;</a></span>test_dti_addsub_object_arraylike()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_dti_addsub_object_arraylike </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz_naive_fixture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_with_array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other_box</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2366</span>    ):</div>
<div class="line"><span class="lineno"> 2367</span>        tz = tz_naive_fixture</div>
<div class="line"><span class="lineno"> 2368</span> </div>
<div class="line"><span class="lineno"> 2369</span>        dti = date_range(<span class="stringliteral">&quot;2017-01-01&quot;</span>, periods=2, tz=tz)</div>
<div class="line"><span class="lineno"> 2370</span>        dtarr = tm.box_expected(dti, box_with_array)</div>
<div class="line"><span class="lineno"> 2371</span>        other = other_box([pd.offsets.MonthEnd(), Timedelta(days=4)])</div>
<div class="line"><span class="lineno"> 2372</span>        xbox = get_upcast_box(dtarr, other)</div>
<div class="line"><span class="lineno"> 2373</span> </div>
<div class="line"><span class="lineno"> 2374</span>        expected = DatetimeIndex([<span class="stringliteral">&quot;2017-01-31&quot;</span>, <span class="stringliteral">&quot;2017-01-06&quot;</span>], tz=tz_naive_fixture)</div>
<div class="line"><span class="lineno"> 2375</span>        expected = tm.box_expected(expected, xbox)</div>
<div class="line"><span class="lineno"> 2376</span> </div>
<div class="line"><span class="lineno"> 2377</span>        <span class="keyword">with</span> tm.assert_produces_warning(PerformanceWarning):</div>
<div class="line"><span class="lineno"> 2378</span>            result = dtarr + other</div>
<div class="line"><span class="lineno"> 2379</span>        tm.assert_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2380</span> </div>
<div class="line"><span class="lineno"> 2381</span>        expected = DatetimeIndex([<span class="stringliteral">&quot;2016-12-31&quot;</span>, <span class="stringliteral">&quot;2016-12-29&quot;</span>], tz=tz_naive_fixture)</div>
<div class="line"><span class="lineno"> 2382</span>        expected = tm.box_expected(expected, xbox)</div>
<div class="line"><span class="lineno"> 2383</span> </div>
<div class="line"><span class="lineno"> 2384</span>        <span class="keyword">with</span> tm.assert_produces_warning(PerformanceWarning):</div>
<div class="line"><span class="lineno"> 2385</span>            result = dtarr - other</div>
<div class="line"><span class="lineno"> 2386</span>        tm.assert_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2387</span> </div>
<div class="line"><span class="lineno"> 2388</span> </div>
<div class="line"><span class="lineno"> 2389</span><span class="preprocessor">@pytest.mark.parametrize(&quot;years&quot;, [-1, 0, 1])</span></div>
<div class="line"><span class="lineno"> 2390</span><span class="preprocessor">@pytest.mark.parametrize(&quot;months&quot;, [-2, 0, 2])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a475a756c607ab311ffee8b293a5cdfff" name="a475a756c607ab311ffee8b293a5cdfff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a475a756c607ab311ffee8b293a5cdfff">&#9670;&#160;</a></span>test_dti_addsub_offset_arraylike()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_dti_addsub_offset_arraylike </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz_naive_fixture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index_or_series</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2344</span>    ):</div>
<div class="line"><span class="lineno"> 2345</span>        <span class="comment"># GH#18849, GH#19744</span></div>
<div class="line"><span class="lineno"> 2346</span>        other_box = index_or_series</div>
<div class="line"><span class="lineno"> 2347</span> </div>
<div class="line"><span class="lineno"> 2348</span>        tz = tz_naive_fixture</div>
<div class="line"><span class="lineno"> 2349</span>        dti = date_range(<span class="stringliteral">&quot;2017-01-01&quot;</span>, periods=2, tz=tz, name=names[0])</div>
<div class="line"><span class="lineno"> 2350</span>        other = other_box([pd.offsets.MonthEnd(), pd.offsets.Day(n=2)], name=names[1])</div>
<div class="line"><span class="lineno"> 2351</span> </div>
<div class="line"><span class="lineno"> 2352</span>        xbox = get_upcast_box(dti, other)</div>
<div class="line"><span class="lineno"> 2353</span> </div>
<div class="line"><span class="lineno"> 2354</span>        <span class="keyword">with</span> tm.assert_produces_warning(PerformanceWarning):</div>
<div class="line"><span class="lineno"> 2355</span>            res = op(dti, other)</div>
<div class="line"><span class="lineno"> 2356</span> </div>
<div class="line"><span class="lineno"> 2357</span>        expected = DatetimeIndex(</div>
<div class="line"><span class="lineno"> 2358</span>            [op(dti[n], other[n]) <span class="keywordflow">for</span> n <span class="keywordflow">in</span> range(len(dti))], name=names[2], freq=<span class="stringliteral">&quot;infer&quot;</span></div>
<div class="line"><span class="lineno"> 2359</span>        )</div>
<div class="line"><span class="lineno"> 2360</span>        expected = tm.box_expected(expected, xbox)</div>
<div class="line"><span class="lineno"> 2361</span>        tm.assert_equal(res, expected)</div>
<div class="line"><span class="lineno"> 2362</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a21931db5692877dd19eab1cf5c78e5a8" name="a21931db5692877dd19eab1cf5c78e5a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21931db5692877dd19eab1cf5c78e5a8">&#9670;&#160;</a></span>test_dti_iadd_tdi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_dti_iadd_tdi </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz_naive_fixture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2035</span>    <span class="keyword">def </span>test_dti_iadd_tdi(self, tz_naive_fixture):</div>
<div class="line"><span class="lineno"> 2036</span>        <span class="comment"># GH#17558</span></div>
<div class="line"><span class="lineno"> 2037</span>        tz = tz_naive_fixture</div>
<div class="line"><span class="lineno"> 2038</span>        dti = DatetimeIndex([Timestamp(<span class="stringliteral">&quot;2017-01-01&quot;</span>, tz=tz)] * 10)</div>
<div class="line"><span class="lineno"> 2039</span>        tdi = pd.timedelta_range(<span class="stringliteral">&quot;0 days&quot;</span>, periods=10)</div>
<div class="line"><span class="lineno"> 2040</span>        expected = date_range(<span class="stringliteral">&quot;2017-01-01&quot;</span>, periods=10, tz=tz)</div>
<div class="line"><span class="lineno"> 2041</span>        expected = expected._with_freq(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 2042</span> </div>
<div class="line"><span class="lineno"> 2043</span>        <span class="comment"># iadd with TimedeltaIndex</span></div>
<div class="line"><span class="lineno"> 2044</span>        result = DatetimeIndex([Timestamp(<span class="stringliteral">&quot;2017-01-01&quot;</span>, tz=tz)] * 10)</div>
<div class="line"><span class="lineno"> 2045</span>        result += tdi</div>
<div class="line"><span class="lineno"> 2046</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2047</span> </div>
<div class="line"><span class="lineno"> 2048</span>        result = pd.timedelta_range(<span class="stringliteral">&quot;0 days&quot;</span>, periods=10)</div>
<div class="line"><span class="lineno"> 2049</span>        result += dti</div>
<div class="line"><span class="lineno"> 2050</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2051</span> </div>
<div class="line"><span class="lineno"> 2052</span>        <span class="comment"># iadd with timedelta64 array</span></div>
<div class="line"><span class="lineno"> 2053</span>        result = DatetimeIndex([Timestamp(<span class="stringliteral">&quot;2017-01-01&quot;</span>, tz=tz)] * 10)</div>
<div class="line"><span class="lineno"> 2054</span>        result += tdi.values</div>
<div class="line"><span class="lineno"> 2055</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2056</span> </div>
<div class="line"><span class="lineno"> 2057</span>        result = pd.timedelta_range(<span class="stringliteral">&quot;0 days&quot;</span>, periods=10)</div>
<div class="line"><span class="lineno"> 2058</span>        result += dti</div>
<div class="line"><span class="lineno"> 2059</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2060</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4883f68800c08a9a3f646e3a88d06e58" name="a4883f68800c08a9a3f646e3a88d06e58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4883f68800c08a9a3f646e3a88d06e58">&#9670;&#160;</a></span>test_dti_isub_tdi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_dti_isub_tdi </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz_naive_fixture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2085</span>    <span class="keyword">def </span>test_dti_isub_tdi(self, tz_naive_fixture):</div>
<div class="line"><span class="lineno"> 2086</span>        <span class="comment"># GH#17558</span></div>
<div class="line"><span class="lineno"> 2087</span>        tz = tz_naive_fixture</div>
<div class="line"><span class="lineno"> 2088</span>        dti = DatetimeIndex([Timestamp(<span class="stringliteral">&quot;2017-01-01&quot;</span>, tz=tz)] * 10)</div>
<div class="line"><span class="lineno"> 2089</span>        tdi = pd.timedelta_range(<span class="stringliteral">&quot;0 days&quot;</span>, periods=10)</div>
<div class="line"><span class="lineno"> 2090</span>        expected = date_range(<span class="stringliteral">&quot;2017-01-01&quot;</span>, periods=10, tz=tz, freq=<span class="stringliteral">&quot;-1D&quot;</span>)</div>
<div class="line"><span class="lineno"> 2091</span>        expected = expected._with_freq(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 2092</span> </div>
<div class="line"><span class="lineno"> 2093</span>        <span class="comment"># isub with TimedeltaIndex</span></div>
<div class="line"><span class="lineno"> 2094</span>        result = DatetimeIndex([Timestamp(<span class="stringliteral">&quot;2017-01-01&quot;</span>, tz=tz)] * 10)</div>
<div class="line"><span class="lineno"> 2095</span>        result -= tdi</div>
<div class="line"><span class="lineno"> 2096</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2097</span> </div>
<div class="line"><span class="lineno"> 2098</span>        <span class="comment"># DTA.__isub__ GH#43904</span></div>
<div class="line"><span class="lineno"> 2099</span>        dta = dti._data.copy()</div>
<div class="line"><span class="lineno"> 2100</span>        dta -= tdi</div>
<div class="line"><span class="lineno"> 2101</span>        tm.assert_datetime_array_equal(dta, expected._data)</div>
<div class="line"><span class="lineno"> 2102</span> </div>
<div class="line"><span class="lineno"> 2103</span>        out = dti._data.copy()</div>
<div class="line"><span class="lineno"> 2104</span>        np.subtract(out, tdi, out=out)</div>
<div class="line"><span class="lineno"> 2105</span>        tm.assert_datetime_array_equal(out, expected._data)</div>
<div class="line"><span class="lineno"> 2106</span> </div>
<div class="line"><span class="lineno"> 2107</span>        msg = <span class="stringliteral">&quot;cannot subtract a datelike from a TimedeltaArray&quot;</span></div>
<div class="line"><span class="lineno"> 2108</span>        <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno"> 2109</span>            tdi -= dti</div>
<div class="line"><span class="lineno"> 2110</span> </div>
<div class="line"><span class="lineno"> 2111</span>        <span class="comment"># isub with timedelta64 array</span></div>
<div class="line"><span class="lineno"> 2112</span>        result = DatetimeIndex([Timestamp(<span class="stringliteral">&quot;2017-01-01&quot;</span>, tz=tz)] * 10)</div>
<div class="line"><span class="lineno"> 2113</span>        result -= tdi.values</div>
<div class="line"><span class="lineno"> 2114</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2115</span> </div>
<div class="line"><span class="lineno"> 2116</span>        <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno"> 2117</span>            tdi.values -= dti</div>
<div class="line"><span class="lineno"> 2118</span> </div>
<div class="line"><span class="lineno"> 2119</span>        <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno"> 2120</span>            tdi._values -= dti</div>
<div class="line"><span class="lineno"> 2121</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a50e047fb43b442bb1103e3d9c4470078" name="a50e047fb43b442bb1103e3d9c4470078"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50e047fb43b442bb1103e3d9c4470078">&#9670;&#160;</a></span>test_dti_sub_tdi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_dti_sub_tdi </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz_naive_fixture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2061</span>    <span class="keyword">def </span>test_dti_sub_tdi(self, tz_naive_fixture):</div>
<div class="line"><span class="lineno"> 2062</span>        <span class="comment"># GH#17558</span></div>
<div class="line"><span class="lineno"> 2063</span>        tz = tz_naive_fixture</div>
<div class="line"><span class="lineno"> 2064</span>        dti = DatetimeIndex([Timestamp(<span class="stringliteral">&quot;2017-01-01&quot;</span>, tz=tz)] * 10)</div>
<div class="line"><span class="lineno"> 2065</span>        tdi = pd.timedelta_range(<span class="stringliteral">&quot;0 days&quot;</span>, periods=10)</div>
<div class="line"><span class="lineno"> 2066</span>        expected = date_range(<span class="stringliteral">&quot;2017-01-01&quot;</span>, periods=10, tz=tz, freq=<span class="stringliteral">&quot;-1D&quot;</span>)</div>
<div class="line"><span class="lineno"> 2067</span>        expected = expected._with_freq(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 2068</span> </div>
<div class="line"><span class="lineno"> 2069</span>        <span class="comment"># sub with TimedeltaIndex</span></div>
<div class="line"><span class="lineno"> 2070</span>        result = dti - tdi</div>
<div class="line"><span class="lineno"> 2071</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2072</span> </div>
<div class="line"><span class="lineno"> 2073</span>        msg = <span class="stringliteral">&quot;cannot subtract .*TimedeltaArray&quot;</span></div>
<div class="line"><span class="lineno"> 2074</span>        <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno"> 2075</span>            tdi - dti</div>
<div class="line"><span class="lineno"> 2076</span> </div>
<div class="line"><span class="lineno"> 2077</span>        <span class="comment"># sub with timedelta64 array</span></div>
<div class="line"><span class="lineno"> 2078</span>        result = dti - tdi.values</div>
<div class="line"><span class="lineno"> 2079</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2080</span> </div>
<div class="line"><span class="lineno"> 2081</span>        msg = <span class="stringliteral">&quot;cannot subtract a datelike from a TimedeltaArray&quot;</span></div>
<div class="line"><span class="lineno"> 2082</span>        <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno"> 2083</span>            tdi.values - dti</div>
<div class="line"><span class="lineno"> 2084</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae32db66b4630b29cd1177190be7f9b99" name="ae32db66b4630b29cd1177190be7f9b99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae32db66b4630b29cd1177190be7f9b99">&#9670;&#160;</a></span>test_ops_nat_mixed_datetime64_timedelta64()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_ops_nat_mixed_datetime64_timedelta64 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2214</span>    <span class="keyword">def </span>test_ops_nat_mixed_datetime64_timedelta64(self):</div>
<div class="line"><span class="lineno"> 2215</span>        <span class="comment"># GH#11349</span></div>
<div class="line"><span class="lineno"> 2216</span>        timedelta_series = Series([NaT, Timedelta(<span class="stringliteral">&quot;1s&quot;</span>)])</div>
<div class="line"><span class="lineno"> 2217</span>        datetime_series = Series([NaT, Timestamp(<span class="stringliteral">&quot;19900315&quot;</span>)])</div>
<div class="line"><span class="lineno"> 2218</span>        nat_series_dtype_timedelta = Series([NaT, NaT], dtype=<span class="stringliteral">&quot;timedelta64[ns]&quot;</span>)</div>
<div class="line"><span class="lineno"> 2219</span>        nat_series_dtype_timestamp = Series([NaT, NaT], dtype=<span class="stringliteral">&quot;datetime64[ns]&quot;</span>)</div>
<div class="line"><span class="lineno"> 2220</span>        single_nat_dtype_datetime = Series([NaT], dtype=<span class="stringliteral">&quot;datetime64[ns]&quot;</span>)</div>
<div class="line"><span class="lineno"> 2221</span>        single_nat_dtype_timedelta = Series([NaT], dtype=<span class="stringliteral">&quot;timedelta64[ns]&quot;</span>)</div>
<div class="line"><span class="lineno"> 2222</span> </div>
<div class="line"><span class="lineno"> 2223</span>        <span class="comment"># subtraction</span></div>
<div class="line"><span class="lineno"> 2224</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2225</span>            datetime_series - single_nat_dtype_datetime, nat_series_dtype_timedelta</div>
<div class="line"><span class="lineno"> 2226</span>        )</div>
<div class="line"><span class="lineno"> 2227</span> </div>
<div class="line"><span class="lineno"> 2228</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2229</span>            datetime_series - single_nat_dtype_timedelta, nat_series_dtype_timestamp</div>
<div class="line"><span class="lineno"> 2230</span>        )</div>
<div class="line"><span class="lineno"> 2231</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2232</span>            -single_nat_dtype_timedelta + datetime_series, nat_series_dtype_timestamp</div>
<div class="line"><span class="lineno"> 2233</span>        )</div>
<div class="line"><span class="lineno"> 2234</span> </div>
<div class="line"><span class="lineno"> 2235</span>        <span class="comment"># without a Series wrapping the NaT, it is ambiguous</span></div>
<div class="line"><span class="lineno"> 2236</span>        <span class="comment"># whether it is a datetime64 or timedelta64</span></div>
<div class="line"><span class="lineno"> 2237</span>        <span class="comment"># defaults to interpreting it as timedelta64</span></div>
<div class="line"><span class="lineno"> 2238</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2239</span>            nat_series_dtype_timestamp - single_nat_dtype_datetime,</div>
<div class="line"><span class="lineno"> 2240</span>            nat_series_dtype_timedelta,</div>
<div class="line"><span class="lineno"> 2241</span>        )</div>
<div class="line"><span class="lineno"> 2242</span> </div>
<div class="line"><span class="lineno"> 2243</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2244</span>            nat_series_dtype_timestamp - single_nat_dtype_timedelta,</div>
<div class="line"><span class="lineno"> 2245</span>            nat_series_dtype_timestamp,</div>
<div class="line"><span class="lineno"> 2246</span>        )</div>
<div class="line"><span class="lineno"> 2247</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2248</span>            -single_nat_dtype_timedelta + nat_series_dtype_timestamp,</div>
<div class="line"><span class="lineno"> 2249</span>            nat_series_dtype_timestamp,</div>
<div class="line"><span class="lineno"> 2250</span>        )</div>
<div class="line"><span class="lineno"> 2251</span>        msg = <span class="stringliteral">&quot;cannot subtract a datelike&quot;</span></div>
<div class="line"><span class="lineno"> 2252</span>        <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno"> 2253</span>            timedelta_series - single_nat_dtype_datetime</div>
<div class="line"><span class="lineno"> 2254</span> </div>
<div class="line"><span class="lineno"> 2255</span>        <span class="comment"># addition</span></div>
<div class="line"><span class="lineno"> 2256</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2257</span>            nat_series_dtype_timestamp + single_nat_dtype_timedelta,</div>
<div class="line"><span class="lineno"> 2258</span>            nat_series_dtype_timestamp,</div>
<div class="line"><span class="lineno"> 2259</span>        )</div>
<div class="line"><span class="lineno"> 2260</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2261</span>            single_nat_dtype_timedelta + nat_series_dtype_timestamp,</div>
<div class="line"><span class="lineno"> 2262</span>            nat_series_dtype_timestamp,</div>
<div class="line"><span class="lineno"> 2263</span>        )</div>
<div class="line"><span class="lineno"> 2264</span> </div>
<div class="line"><span class="lineno"> 2265</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2266</span>            nat_series_dtype_timestamp + single_nat_dtype_timedelta,</div>
<div class="line"><span class="lineno"> 2267</span>            nat_series_dtype_timestamp,</div>
<div class="line"><span class="lineno"> 2268</span>        )</div>
<div class="line"><span class="lineno"> 2269</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2270</span>            single_nat_dtype_timedelta + nat_series_dtype_timestamp,</div>
<div class="line"><span class="lineno"> 2271</span>            nat_series_dtype_timestamp,</div>
<div class="line"><span class="lineno"> 2272</span>        )</div>
<div class="line"><span class="lineno"> 2273</span> </div>
<div class="line"><span class="lineno"> 2274</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2275</span>            nat_series_dtype_timedelta + single_nat_dtype_datetime,</div>
<div class="line"><span class="lineno"> 2276</span>            nat_series_dtype_timestamp,</div>
<div class="line"><span class="lineno"> 2277</span>        )</div>
<div class="line"><span class="lineno"> 2278</span>        tm.assert_series_equal(</div>
<div class="line"><span class="lineno"> 2279</span>            single_nat_dtype_datetime + nat_series_dtype_timedelta,</div>
<div class="line"><span class="lineno"> 2280</span>            nat_series_dtype_timestamp,</div>
<div class="line"><span class="lineno"> 2281</span>        )</div>
<div class="line"><span class="lineno"> 2282</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa46a1da37bfade9f1a48503ca621dda9" name="aa46a1da37bfade9f1a48503ca621dda9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa46a1da37bfade9f1a48503ca621dda9">&#9670;&#160;</a></span>test_sub_dti_dti()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_sub_dti_dti </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2146</span>    <span class="keyword">def </span>test_sub_dti_dti(self):</div>
<div class="line"><span class="lineno"> 2147</span>        <span class="comment"># previously performed setop (deprecated in 0.16.0), now changed to</span></div>
<div class="line"><span class="lineno"> 2148</span>        <span class="comment"># return subtraction -&gt; TimeDeltaIndex (GH ...)</span></div>
<div class="line"><span class="lineno"> 2149</span> </div>
<div class="line"><span class="lineno"> 2150</span>        dti = date_range(<span class="stringliteral">&quot;20130101&quot;</span>, periods=3)</div>
<div class="line"><span class="lineno"> 2151</span>        dti_tz = date_range(<span class="stringliteral">&quot;20130101&quot;</span>, periods=3).tz_localize(<span class="stringliteral">&quot;US/Eastern&quot;</span>)</div>
<div class="line"><span class="lineno"> 2152</span>        expected = TimedeltaIndex([0, 0, 0])</div>
<div class="line"><span class="lineno"> 2153</span> </div>
<div class="line"><span class="lineno"> 2154</span>        result = dti - dti</div>
<div class="line"><span class="lineno"> 2155</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2156</span> </div>
<div class="line"><span class="lineno"> 2157</span>        result = dti_tz - dti_tz</div>
<div class="line"><span class="lineno"> 2158</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2159</span>        msg = <span class="stringliteral">&quot;Cannot subtract tz-naive and tz-aware datetime-like objects&quot;</span></div>
<div class="line"><span class="lineno"> 2160</span>        <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno"> 2161</span>            dti_tz - dti</div>
<div class="line"><span class="lineno"> 2162</span> </div>
<div class="line"><span class="lineno"> 2163</span>        <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno"> 2164</span>            dti - dti_tz</div>
<div class="line"><span class="lineno"> 2165</span> </div>
<div class="line"><span class="lineno"> 2166</span>        <span class="comment"># isub</span></div>
<div class="line"><span class="lineno"> 2167</span>        dti -= dti</div>
<div class="line"><span class="lineno"> 2168</span>        tm.assert_index_equal(dti, expected)</div>
<div class="line"><span class="lineno"> 2169</span> </div>
<div class="line"><span class="lineno"> 2170</span>        <span class="comment"># different length raises ValueError</span></div>
<div class="line"><span class="lineno"> 2171</span>        dti1 = date_range(<span class="stringliteral">&quot;20130101&quot;</span>, periods=3)</div>
<div class="line"><span class="lineno"> 2172</span>        dti2 = date_range(<span class="stringliteral">&quot;20130101&quot;</span>, periods=4)</div>
<div class="line"><span class="lineno"> 2173</span>        msg = <span class="stringliteral">&quot;cannot add indices of unequal length&quot;</span></div>
<div class="line"><span class="lineno"> 2174</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 2175</span>            dti1 - dti2</div>
<div class="line"><span class="lineno"> 2176</span> </div>
<div class="line"><span class="lineno"> 2177</span>        <span class="comment"># NaN propagation</span></div>
<div class="line"><span class="lineno"> 2178</span>        dti1 = DatetimeIndex([<span class="stringliteral">&quot;2012-01-01&quot;</span>, np.nan, <span class="stringliteral">&quot;2012-01-03&quot;</span>])</div>
<div class="line"><span class="lineno"> 2179</span>        dti2 = DatetimeIndex([<span class="stringliteral">&quot;2012-01-02&quot;</span>, <span class="stringliteral">&quot;2012-01-03&quot;</span>, np.nan])</div>
<div class="line"><span class="lineno"> 2180</span>        expected = TimedeltaIndex([<span class="stringliteral">&quot;1 days&quot;</span>, np.nan, np.nan])</div>
<div class="line"><span class="lineno"> 2181</span>        result = dti2 - dti1</div>
<div class="line"><span class="lineno"> 2182</span>        tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno"> 2183</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a10303e4ad56eab2b2da6e07b74bc1530" name="a10303e4ad56eab2b2da6e07b74bc1530"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10303e4ad56eab2b2da6e07b74bc1530">&#9670;&#160;</a></span>test_timedelta64_equal_timedelta_supported_ops()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_timedelta64_equal_timedelta_supported_ops </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_with_array</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2189</span>    <span class="keyword">def </span>test_timedelta64_equal_timedelta_supported_ops(self, op, box_with_array):</div>
<div class="line"><span class="lineno"> 2190</span>        ser = Series(</div>
<div class="line"><span class="lineno"> 2191</span>            [</div>
<div class="line"><span class="lineno"> 2192</span>                Timestamp(<span class="stringliteral">&quot;20130301&quot;</span>),</div>
<div class="line"><span class="lineno"> 2193</span>                Timestamp(<span class="stringliteral">&quot;20130228 23:00:00&quot;</span>),</div>
<div class="line"><span class="lineno"> 2194</span>                Timestamp(<span class="stringliteral">&quot;20130228 22:00:00&quot;</span>),</div>
<div class="line"><span class="lineno"> 2195</span>                Timestamp(<span class="stringliteral">&quot;20130228 21:00:00&quot;</span>),</div>
<div class="line"><span class="lineno"> 2196</span>            ]</div>
<div class="line"><span class="lineno"> 2197</span>        )</div>
<div class="line"><span class="lineno"> 2198</span>        obj = box_with_array(ser)</div>
<div class="line"><span class="lineno"> 2199</span> </div>
<div class="line"><span class="lineno"> 2200</span>        intervals = [<span class="stringliteral">&quot;D&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>, <span class="stringliteral">&quot;m&quot;</span>, <span class="stringliteral">&quot;s&quot;</span>, <span class="stringliteral">&quot;us&quot;</span>]</div>
<div class="line"><span class="lineno"> 2201</span> </div>
<div class="line"><span class="lineno"> 2202</span>        <span class="keyword">def </span>timedelta64(*args):</div>
<div class="line"><span class="lineno"> 2203</span>            <span class="comment"># see casting notes in NumPy gh-12927</span></div>
<div class="line"><span class="lineno"> 2204</span>            <span class="keywordflow">return</span> np.sum(list(starmap(np.timedelta64, zip(args, intervals))))</div>
<div class="line"><span class="lineno"> 2205</span> </div>
<div class="line"><span class="lineno"> 2206</span>        <span class="keywordflow">for</span> d, h, m, s, us <span class="keywordflow">in</span> product(*([range(2)] * 5)):</div>
<div class="line"><span class="lineno"> 2207</span>            nptd = timedelta64(d, h, m, s, us)</div>
<div class="line"><span class="lineno"> 2208</span>            pytd = <a class="code hl_define" href="noprefix_8h.html#ae6feacec25f59b525f6e0c442ef75ff7">timedelta</a>(days=d, hours=h, minutes=m, seconds=s, microseconds=us)</div>
<div class="line"><span class="lineno"> 2209</span>            lhs = op(obj, nptd)</div>
<div class="line"><span class="lineno"> 2210</span>            rhs = op(obj, pytd)</div>
<div class="line"><span class="lineno"> 2211</span> </div>
<div class="line"><span class="lineno"> 2212</span>            tm.assert_equal(lhs, rhs)</div>
<div class="line"><span class="lineno"> 2213</span> </div>
<div class="ttc" id="anoprefix_8h_html_ae6feacec25f59b525f6e0c442ef75ff7"><div class="ttname"><a href="noprefix_8h.html#ae6feacec25f59b525f6e0c442ef75ff7">timedelta</a></div><div class="ttdeci">#define timedelta</div><div class="ttdef"><b>Definition</b> noprefix.h:65</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a02c31d4113f1eb0d244469a8ebe19b56" name="a02c31d4113f1eb0d244469a8ebe19b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02c31d4113f1eb0d244469a8ebe19b56">&#9670;&#160;</a></span>test_ufunc_coercions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.arithmetic.test_datetime64.TestDatetimeIndexArithmetic.test_ufunc_coercions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2283</span>    <span class="keyword">def </span>test_ufunc_coercions(self):</div>
<div class="line"><span class="lineno"> 2284</span>        idx = date_range(<span class="stringliteral">&quot;2011-01-01&quot;</span>, periods=3, freq=<span class="stringliteral">&quot;2D&quot;</span>, name=<span class="stringliteral">&quot;x&quot;</span>)</div>
<div class="line"><span class="lineno"> 2285</span> </div>
<div class="line"><span class="lineno"> 2286</span>        delta = np.timedelta64(1, <span class="stringliteral">&quot;D&quot;</span>)</div>
<div class="line"><span class="lineno"> 2287</span>        exp = date_range(<span class="stringliteral">&quot;2011-01-02&quot;</span>, periods=3, freq=<span class="stringliteral">&quot;2D&quot;</span>, name=<span class="stringliteral">&quot;x&quot;</span>)</div>
<div class="line"><span class="lineno"> 2288</span>        <span class="keywordflow">for</span> result <span class="keywordflow">in</span> [idx + delta, np.add(idx, delta)]:</div>
<div class="line"><span class="lineno"> 2289</span>            <span class="keyword">assert</span> isinstance(result, DatetimeIndex)</div>
<div class="line"><span class="lineno"> 2290</span>            tm.assert_index_equal(result, exp)</div>
<div class="line"><span class="lineno"> 2291</span>            <span class="keyword">assert</span> result.freq == <span class="stringliteral">&quot;2D&quot;</span></div>
<div class="line"><span class="lineno"> 2292</span> </div>
<div class="line"><span class="lineno"> 2293</span>        exp = date_range(<span class="stringliteral">&quot;2010-12-31&quot;</span>, periods=3, freq=<span class="stringliteral">&quot;2D&quot;</span>, name=<span class="stringliteral">&quot;x&quot;</span>)</div>
<div class="line"><span class="lineno"> 2294</span> </div>
<div class="line"><span class="lineno"> 2295</span>        <span class="keywordflow">for</span> result <span class="keywordflow">in</span> [idx - delta, np.subtract(idx, delta)]:</div>
<div class="line"><span class="lineno"> 2296</span>            <span class="keyword">assert</span> isinstance(result, DatetimeIndex)</div>
<div class="line"><span class="lineno"> 2297</span>            tm.assert_index_equal(result, exp)</div>
<div class="line"><span class="lineno"> 2298</span>            <span class="keyword">assert</span> result.freq == <span class="stringliteral">&quot;2D&quot;</span></div>
<div class="line"><span class="lineno"> 2299</span> </div>
<div class="line"><span class="lineno"> 2300</span>        <span class="comment"># When adding/subtracting an ndarray (which has no .freq), the result</span></div>
<div class="line"><span class="lineno"> 2301</span>        <span class="comment">#  does not infer freq</span></div>
<div class="line"><span class="lineno"> 2302</span>        idx = idx._with_freq(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 2303</span>        delta = np.array(</div>
<div class="line"><span class="lineno"> 2304</span>            [np.timedelta64(1, <span class="stringliteral">&quot;D&quot;</span>), np.timedelta64(2, <span class="stringliteral">&quot;D&quot;</span>), np.timedelta64(3, <span class="stringliteral">&quot;D&quot;</span>)]</div>
<div class="line"><span class="lineno"> 2305</span>        )</div>
<div class="line"><span class="lineno"> 2306</span>        exp = DatetimeIndex([<span class="stringliteral">&quot;2011-01-02&quot;</span>, <span class="stringliteral">&quot;2011-01-05&quot;</span>, <span class="stringliteral">&quot;2011-01-08&quot;</span>], name=<span class="stringliteral">&quot;x&quot;</span>)</div>
<div class="line"><span class="lineno"> 2307</span> </div>
<div class="line"><span class="lineno"> 2308</span>        <span class="keywordflow">for</span> result <span class="keywordflow">in</span> [idx + delta, np.add(idx, delta)]:</div>
<div class="line"><span class="lineno"> 2309</span>            tm.assert_index_equal(result, exp)</div>
<div class="line"><span class="lineno"> 2310</span>            <span class="keyword">assert</span> result.freq == exp.freq</div>
<div class="line"><span class="lineno"> 2311</span> </div>
<div class="line"><span class="lineno"> 2312</span>        exp = DatetimeIndex([<span class="stringliteral">&quot;2010-12-31&quot;</span>, <span class="stringliteral">&quot;2011-01-01&quot;</span>, <span class="stringliteral">&quot;2011-01-02&quot;</span>], name=<span class="stringliteral">&quot;x&quot;</span>)</div>
<div class="line"><span class="lineno"> 2313</span>        <span class="keywordflow">for</span> result <span class="keywordflow">in</span> [idx - delta, np.subtract(idx, delta)]:</div>
<div class="line"><span class="lineno"> 2314</span>            <span class="keyword">assert</span> isinstance(result, DatetimeIndex)</div>
<div class="line"><span class="lineno"> 2315</span>            tm.assert_index_equal(result, exp)</div>
<div class="line"><span class="lineno"> 2316</span>            <span class="keyword">assert</span> result.freq == exp.freq</div>
<div class="line"><span class="lineno"> 2317</span> </div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/pandas/tests/arithmetic/<a class="el" href="test__datetime64_8py.html">test_datetime64.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
