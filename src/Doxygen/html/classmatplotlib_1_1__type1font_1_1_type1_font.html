<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: matplotlib._type1font.Type1Font Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacematplotlib.html">matplotlib</a></li><li class="navelem"><a class="el" href="namespacematplotlib_1_1__type1font.html">_type1font</a></li><li class="navelem"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html">Type1Font</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classmatplotlib_1_1__type1font_1_1_type1_font-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">matplotlib._type1font.Type1Font Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab203c82860e0990a7ec8cf76cfa09cbd" id="r_ab203c82860e0990a7ec8cf76cfa09cbd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#ab203c82860e0990a7ec8cf76cfa09cbd">__init__</a> (self, input)</td></tr>
<tr class="separator:ab203c82860e0990a7ec8cf76cfa09cbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10886bd152cab8b74c7ca1245703aedd" id="r_a10886bd152cab8b74c7ca1245703aedd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a10886bd152cab8b74c7ca1245703aedd">transform</a> (self, effects)</td></tr>
<tr class="separator:a10886bd152cab8b74c7ca1245703aedd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a48ea53786b191e3b6569c2226a0edacb" id="r_a48ea53786b191e3b6569c2226a0edacb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a48ea53786b191e3b6569c2226a0edacb">parts</a></td></tr>
<tr class="separator:a48ea53786b191e3b6569c2226a0edacb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88a873e9810e24850843b65d8148f2fa" id="r_a88a873e9810e24850843b65d8148f2fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a88a873e9810e24850843b65d8148f2fa">decrypted</a></td></tr>
<tr class="separator:a88a873e9810e24850843b65d8148f2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e5c8400302867689f6b9a1de80367f8" id="r_a7e5c8400302867689f6b9a1de80367f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a7e5c8400302867689f6b9a1de80367f8">prop</a></td></tr>
<tr class="separator:a7e5c8400302867689f6b9a1de80367f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af95a5db22a75615909609e248220abd9" id="r_af95a5db22a75615909609e248220abd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#af95a5db22a75615909609e248220abd9">_read</a> (self, file)</td></tr>
<tr class="separator:af95a5db22a75615909609e248220abd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f55e4b3c73b38e8656977bcbb95922" id="r_a57f55e4b3c73b38e8656977bcbb95922"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a57f55e4b3c73b38e8656977bcbb95922">_split</a> (self, data)</td></tr>
<tr class="separator:a57f55e4b3c73b38e8656977bcbb95922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d618dd548f75b230c870a6f56f7571" id="r_ac8d618dd548f75b230c870a6f56f7571"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#ac8d618dd548f75b230c870a6f56f7571">_parse</a> (self)</td></tr>
<tr class="separator:ac8d618dd548f75b230c870a6f56f7571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb4abd1528b96ac018a8d1757bb366bd" id="r_afb4abd1528b96ac018a8d1757bb366bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#afb4abd1528b96ac018a8d1757bb366bd">_parse_subrs</a> (self, tokens, _data)</td></tr>
<tr class="separator:afb4abd1528b96ac018a8d1757bb366bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:afacfb156e78309e4df9c970c742182f0" id="r_afacfb156e78309e4df9c970c742182f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#afacfb156e78309e4df9c970c742182f0">_decrypt</a> (ciphertext, key, ndiscard=4)</td></tr>
<tr class="separator:afacfb156e78309e4df9c970c742182f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f0e74fdb28a59c3850cce8a0a57bbe1" id="r_a5f0e74fdb28a59c3850cce8a0a57bbe1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a5f0e74fdb28a59c3850cce8a0a57bbe1">_encrypt</a> (plaintext, key, ndiscard=4)</td></tr>
<tr class="separator:a5f0e74fdb28a59c3850cce8a0a57bbe1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1662183d23525701c046af51b51f4f5c" id="r_a1662183d23525701c046af51b51f4f5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a1662183d23525701c046af51b51f4f5c">_parse_charstrings</a> (tokens, _data)</td></tr>
<tr class="separator:a1662183d23525701c046af51b51f4f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7771b6823b1ae8085e19d9d465ea4fc1" id="r_a7771b6823b1ae8085e19d9d465ea4fc1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a7771b6823b1ae8085e19d9d465ea4fc1">_parse_encoding</a> (tokens, _data)</td></tr>
<tr class="separator:a7771b6823b1ae8085e19d9d465ea4fc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e916ede4738e55061702767d73ed6f4" id="r_a4e916ede4738e55061702767d73ed6f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a4e916ede4738e55061702767d73ed6f4">_parse_othersubrs</a> (tokens, data)</td></tr>
<tr class="separator:a4e916ede4738e55061702767d73ed6f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a48ce22fb09d5ebe35662b42a3ca47526" id="r_a48ce22fb09d5ebe35662b42a3ca47526"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a48ce22fb09d5ebe35662b42a3ca47526">_abbr</a></td></tr>
<tr class="separator:a48ce22fb09d5ebe35662b42a3ca47526"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a102206e07f56f8197654ed8603b30861" id="r_a102206e07f56f8197654ed8603b30861"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a102206e07f56f8197654ed8603b30861">_parse_subrs</a></td></tr>
<tr class="separator:a102206e07f56f8197654ed8603b30861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cf32fc8e442d6f4f0404640eda5fd91" id="r_a8cf32fc8e442d6f4f0404640eda5fd91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a8cf32fc8e442d6f4f0404640eda5fd91">_parse_charstrings</a></td></tr>
<tr class="separator:a8cf32fc8e442d6f4f0404640eda5fd91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1465a8687a4ef6c9897723181d0c9218" id="r_a1465a8687a4ef6c9897723181d0c9218"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a1465a8687a4ef6c9897723181d0c9218">_parse_encoding</a></td></tr>
<tr class="separator:a1465a8687a4ef6c9897723181d0c9218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01bf79b3d357ef18bb9da7bf25108ba9" id="r_a01bf79b3d357ef18bb9da7bf25108ba9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__type1font_1_1_type1_font.html#a01bf79b3d357ef18bb9da7bf25108ba9">_pos</a></td></tr>
<tr class="separator:a01bf79b3d357ef18bb9da7bf25108ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A class representing a Type-1 font, for use by backends.

Attributes
----------
parts : tuple
    A 3-tuple of the cleartext part, the encrypted part, and the finale of
    zeros.

decrypted : bytes
    The decrypted form of ``parts[1]``.

prop : dict[str, Any]
    A dictionary of font properties. Noteworthy keys include:

    - FontName: PostScript name of the font
    - Encoding: dict from numeric codes to glyph names
    - FontMatrix: bytes object encoding a matrix
    - UniqueID: optional font identifier, dropped when modifying the font
    - CharStrings: dict from glyph names to byte code
    - Subrs: array of byte code subroutines
    - OtherSubrs: bytes object encoding some PostScript code
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab203c82860e0990a7ec8cf76cfa09cbd" name="ab203c82860e0990a7ec8cf76cfa09cbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab203c82860e0990a7ec8cf76cfa09cbd">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize a Type-1 font.

Parameters
----------
input : str or 3-tuple
    Either a pfb file name, or a 3-tuple of already-decoded Type-1
    font `~.Type1Font.parts`.
</pre> <div class="fragment"><div class="line"><span class="lineno">  354</span>    <span class="keyword">def </span>__init__(self, input):</div>
<div class="line"><span class="lineno">  355</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral">        Initialize a Type-1 font.</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">        input : str or 3-tuple</span></div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">            Either a pfb file name, or a 3-tuple of already-decoded Type-1</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">            font `~.Type1Font.parts`.</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">if</span> isinstance(input, tuple) <span class="keywordflow">and</span> len(input) == 3:</div>
<div class="line"><span class="lineno">  365</span>            self.parts = input</div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  367</span>            <span class="keyword">with</span> open(input, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> file:</div>
<div class="line"><span class="lineno">  368</span>                data = self._read(file)</div>
<div class="line"><span class="lineno">  369</span>            self.parts = self._split(data)</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>        self.decrypted = self._decrypt(self.parts[1], <span class="stringliteral">&#39;eexec&#39;</span>)</div>
<div class="line"><span class="lineno">  372</span>        self._abbr = {<span class="stringliteral">&#39;RD&#39;</span>: <span class="stringliteral">&#39;RD&#39;</span>, <span class="stringliteral">&#39;ND&#39;</span>: <span class="stringliteral">&#39;ND&#39;</span>, <span class="stringliteral">&#39;NP&#39;</span>: <span class="stringliteral">&#39;NP&#39;</span>}</div>
<div class="line"><span class="lineno">  373</span>        self._parse()</div>
<div class="line"><span class="lineno">  374</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afacfb156e78309e4df9c970c742182f0" name="afacfb156e78309e4df9c970c742182f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afacfb156e78309e4df9c970c742182f0">&#9670;&#160;</a></span>_decrypt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._decrypt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ciphertext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ndiscard</em> = <code>4</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Decrypt ciphertext using the Type-1 font algorithm.

The algorithm is described in Adobe's "Adobe Type 1 Font Format".
The key argument can be an integer, or one of the strings
'eexec' and 'charstring', which map to the key specified for the
corresponding part of Type-1 fonts.

The ndiscard argument should be an integer, usually 4.
That number of bytes is discarded from the beginning of plaintext.
</pre> <div class="fragment"><div class="line"><span class="lineno">  444</span>    <span class="keyword">def </span>_decrypt(ciphertext, key, ndiscard=4):</div>
<div class="line"><span class="lineno">  445</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">        Decrypt ciphertext using the Type-1 font algorithm.</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">        The algorithm is described in Adobe&#39;s &quot;Adobe Type 1 Font Format&quot;.</span></div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral">        The key argument can be an integer, or one of the strings</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">        &#39;eexec&#39; and &#39;charstring&#39;, which map to the key specified for the</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">        corresponding part of Type-1 fonts.</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">        The ndiscard argument should be an integer, usually 4.</span></div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral">        That number of bytes is discarded from the beginning of plaintext.</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>        key = _api.check_getitem({<span class="stringliteral">&#39;eexec&#39;</span>: 55665, <span class="stringliteral">&#39;charstring&#39;</span>: 4330}, key=key)</div>
<div class="line"><span class="lineno">  458</span>        plaintext = []</div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">for</span> byte <span class="keywordflow">in</span> ciphertext:</div>
<div class="line"><span class="lineno">  460</span>            plaintext.append(byte ^ (key &gt;&gt; 8))</div>
<div class="line"><span class="lineno">  461</span>            key = ((key+byte) * 52845 + 22719) &amp; 0xffff</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">return</span> bytes(plaintext[ndiscard:])</div>
<div class="line"><span class="lineno">  464</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f0e74fdb28a59c3850cce8a0a57bbe1" name="a5f0e74fdb28a59c3850cce8a0a57bbe1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f0e74fdb28a59c3850cce8a0a57bbe1">&#9670;&#160;</a></span>_encrypt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._encrypt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>plaintext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ndiscard</em> = <code>4</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Encrypt plaintext using the Type-1 font algorithm.

The algorithm is described in Adobe's "Adobe Type 1 Font Format".
The key argument can be an integer, or one of the strings
'eexec' and 'charstring', which map to the key specified for the
corresponding part of Type-1 fonts.

The ndiscard argument should be an integer, usually 4. That
number of bytes is prepended to the plaintext before encryption.
This function prepends NUL bytes for reproducibility, even though
the original algorithm uses random bytes, presumably to avoid
cryptanalysis.
</pre> <div class="fragment"><div class="line"><span class="lineno">  466</span>    <span class="keyword">def </span>_encrypt(plaintext, key, ndiscard=4):</div>
<div class="line"><span class="lineno">  467</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  468</span><span class="stringliteral">        Encrypt plaintext using the Type-1 font algorithm.</span></div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral">        The algorithm is described in Adobe&#39;s &quot;Adobe Type 1 Font Format&quot;.</span></div>
<div class="line"><span class="lineno">  471</span><span class="stringliteral">        The key argument can be an integer, or one of the strings</span></div>
<div class="line"><span class="lineno">  472</span><span class="stringliteral">        &#39;eexec&#39; and &#39;charstring&#39;, which map to the key specified for the</span></div>
<div class="line"><span class="lineno">  473</span><span class="stringliteral">        corresponding part of Type-1 fonts.</span></div>
<div class="line"><span class="lineno">  474</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  475</span><span class="stringliteral">        The ndiscard argument should be an integer, usually 4. That</span></div>
<div class="line"><span class="lineno">  476</span><span class="stringliteral">        number of bytes is prepended to the plaintext before encryption.</span></div>
<div class="line"><span class="lineno">  477</span><span class="stringliteral">        This function prepends NUL bytes for reproducibility, even though</span></div>
<div class="line"><span class="lineno">  478</span><span class="stringliteral">        the original algorithm uses random bytes, presumably to avoid</span></div>
<div class="line"><span class="lineno">  479</span><span class="stringliteral">        cryptanalysis.</span></div>
<div class="line"><span class="lineno">  480</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  481</span> </div>
<div class="line"><span class="lineno">  482</span>        key = _api.check_getitem({<span class="stringliteral">&#39;eexec&#39;</span>: 55665, <span class="stringliteral">&#39;charstring&#39;</span>: 4330}, key=key)</div>
<div class="line"><span class="lineno">  483</span>        ciphertext = []</div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">for</span> byte <span class="keywordflow">in</span> b<span class="stringliteral">&#39;\0&#39;</span> * ndiscard + plaintext:</div>
<div class="line"><span class="lineno">  485</span>            c = byte ^ (key &gt;&gt; 8)</div>
<div class="line"><span class="lineno">  486</span>            ciphertext.append(c)</div>
<div class="line"><span class="lineno">  487</span>            key = ((key + c) * 52845 + 22719) &amp; 0xffff</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>        <span class="keywordflow">return</span> bytes(ciphertext)</div>
<div class="line"><span class="lineno">  490</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8d618dd548f75b230c870a6f56f7571" name="ac8d618dd548f75b230c870a6f56f7571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8d618dd548f75b230c870a6f56f7571">&#9670;&#160;</a></span>_parse()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._parse </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Find the values of various font properties. This limited kind
of parsing is described in Chapter 10 "Adobe Type Manager
Compatibility" of the Type-1 spec.
</pre> <div class="fragment"><div class="line"><span class="lineno">  491</span>    <span class="keyword">def </span>_parse(self):</div>
<div class="line"><span class="lineno">  492</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  493</span><span class="stringliteral">        Find the values of various font properties. This limited kind</span></div>
<div class="line"><span class="lineno">  494</span><span class="stringliteral">        of parsing is described in Chapter 10 &quot;Adobe Type Manager</span></div>
<div class="line"><span class="lineno">  495</span><span class="stringliteral">        Compatibility&quot; of the Type-1 spec.</span></div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  497</span>        <span class="comment"># Start with reasonable defaults</span></div>
<div class="line"><span class="lineno">  498</span>        prop = {<span class="stringliteral">&#39;Weight&#39;</span>: <span class="stringliteral">&#39;Regular&#39;</span>, <span class="stringliteral">&#39;ItalicAngle&#39;</span>: 0.0, <span class="stringliteral">&#39;isFixedPitch&#39;</span>: <span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  499</span>                <span class="stringliteral">&#39;UnderlinePosition&#39;</span>: -100, <span class="stringliteral">&#39;UnderlineThickness&#39;</span>: 50}</div>
<div class="line"><span class="lineno">  500</span>        pos = {}</div>
<div class="line"><span class="lineno">  501</span>        data = self.parts[0] + self.decrypted</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>        source = _tokenize(data, <span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  504</span>        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  505</span>            <span class="comment"># See if there is a key to be assigned a value</span></div>
<div class="line"><span class="lineno">  506</span>            <span class="comment"># e.g. /FontName in /FontName /Helvetica def</span></div>
<div class="line"><span class="lineno">  507</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  508</span>                token = next(source)</div>
<div class="line"><span class="lineno">  509</span>            <span class="keywordflow">except</span> StopIteration:</div>
<div class="line"><span class="lineno">  510</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  511</span>            <span class="keywordflow">if</span> token.is_delim():</div>
<div class="line"><span class="lineno">  512</span>                <span class="comment"># skip over this - we want top-level keys only</span></div>
<div class="line"><span class="lineno">  513</span>                _expression(token, source, data)</div>
<div class="line"><span class="lineno">  514</span>            <span class="keywordflow">if</span> token.is_slash_name():</div>
<div class="line"><span class="lineno">  515</span>                key = token.value()</div>
<div class="line"><span class="lineno">  516</span>                keypos = token.pos</div>
<div class="line"><span class="lineno">  517</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  518</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>            <span class="comment"># Some values need special parsing</span></div>
<div class="line"><span class="lineno">  521</span>            <span class="keywordflow">if</span> key <span class="keywordflow">in</span> (<span class="stringliteral">&#39;Subrs&#39;</span>, <span class="stringliteral">&#39;CharStrings&#39;</span>, <span class="stringliteral">&#39;Encoding&#39;</span>, <span class="stringliteral">&#39;OtherSubrs&#39;</span>):</div>
<div class="line"><span class="lineno">  522</span>                prop[key], endpos = {</div>
<div class="line"><span class="lineno">  523</span>                    <span class="stringliteral">&#39;Subrs&#39;</span>: self._parse_subrs,</div>
<div class="line"><span class="lineno">  524</span>                    <span class="stringliteral">&#39;CharStrings&#39;</span>: self._parse_charstrings,</div>
<div class="line"><span class="lineno">  525</span>                    <span class="stringliteral">&#39;Encoding&#39;</span>: self._parse_encoding,</div>
<div class="line"><span class="lineno">  526</span>                    <span class="stringliteral">&#39;OtherSubrs&#39;</span>: self._parse_othersubrs</div>
<div class="line"><span class="lineno">  527</span>                }[key](source, data)</div>
<div class="line"><span class="lineno">  528</span>                pos.setdefault(key, []).append((keypos, endpos))</div>
<div class="line"><span class="lineno">  529</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  532</span>                token = next(source)</div>
<div class="line"><span class="lineno">  533</span>            <span class="keywordflow">except</span> StopIteration:</div>
<div class="line"><span class="lineno">  534</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">if</span> isinstance(token, _KeywordToken):</div>
<div class="line"><span class="lineno">  537</span>                <span class="comment"># constructs like</span></div>
<div class="line"><span class="lineno">  538</span>                <span class="comment"># FontDirectory /Helvetica known {...} {...} ifelse</span></div>
<div class="line"><span class="lineno">  539</span>                <span class="comment"># mean the key was not really a key</span></div>
<div class="line"><span class="lineno">  540</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>            <span class="keywordflow">if</span> token.is_delim():</div>
<div class="line"><span class="lineno">  543</span>                value = _expression(token, source, data).raw</div>
<div class="line"><span class="lineno">  544</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  545</span>                value = token.value()</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>            <span class="comment"># look for a &#39;def&#39; possibly preceded by access modifiers</span></div>
<div class="line"><span class="lineno">  548</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  549</span>                kw = next(</div>
<div class="line"><span class="lineno">  550</span>                    kw <span class="keywordflow">for</span> kw <span class="keywordflow">in</span> source</div>
<div class="line"><span class="lineno">  551</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> kw.is_keyword(<span class="stringliteral">&#39;readonly&#39;</span>, <span class="stringliteral">&#39;noaccess&#39;</span>, <span class="stringliteral">&#39;executeonly&#39;</span>)</div>
<div class="line"><span class="lineno">  552</span>                )</div>
<div class="line"><span class="lineno">  553</span>            <span class="keywordflow">except</span> StopIteration:</div>
<div class="line"><span class="lineno">  554</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>            <span class="comment"># sometimes noaccess def and readonly def are abbreviated</span></div>
<div class="line"><span class="lineno">  557</span>            <span class="keywordflow">if</span> kw.is_keyword(<span class="stringliteral">&#39;def&#39;</span>, self._abbr[<span class="stringliteral">&#39;ND&#39;</span>], self._abbr[<span class="stringliteral">&#39;NP&#39;</span>]):</div>
<div class="line"><span class="lineno">  558</span>                prop[key] = value</div>
<div class="line"><span class="lineno">  559</span>                pos.setdefault(key, []).append((keypos, kw.endpos()))</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>            <span class="comment"># detect the standard abbreviations</span></div>
<div class="line"><span class="lineno">  562</span>            <span class="keywordflow">if</span> value == <span class="stringliteral">&#39;{noaccess def}&#39;</span>:</div>
<div class="line"><span class="lineno">  563</span>                self._abbr[<span class="stringliteral">&#39;ND&#39;</span>] = key</div>
<div class="line"><span class="lineno">  564</span>            <span class="keywordflow">elif</span> value == <span class="stringliteral">&#39;{noaccess put}&#39;</span>:</div>
<div class="line"><span class="lineno">  565</span>                self._abbr[<span class="stringliteral">&#39;NP&#39;</span>] = key</div>
<div class="line"><span class="lineno">  566</span>            <span class="keywordflow">elif</span> value == <span class="stringliteral">&#39;{string currentfile exch readstring pop}&#39;</span>:</div>
<div class="line"><span class="lineno">  567</span>                self._abbr[<span class="stringliteral">&#39;RD&#39;</span>] = key</div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span>        <span class="comment"># Fill in the various *Name properties</span></div>
<div class="line"><span class="lineno">  570</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;FontName&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> prop:</div>
<div class="line"><span class="lineno">  571</span>            prop[<span class="stringliteral">&#39;FontName&#39;</span>] = (prop.get(<span class="stringliteral">&#39;FullName&#39;</span>) <span class="keywordflow">or</span></div>
<div class="line"><span class="lineno">  572</span>                                prop.get(<span class="stringliteral">&#39;FamilyName&#39;</span>) <span class="keywordflow">or</span></div>
<div class="line"><span class="lineno">  573</span>                                <span class="stringliteral">&#39;Unknown&#39;</span>)</div>
<div class="line"><span class="lineno">  574</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;FullName&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> prop:</div>
<div class="line"><span class="lineno">  575</span>            prop[<span class="stringliteral">&#39;FullName&#39;</span>] = prop[<span class="stringliteral">&#39;FontName&#39;</span>]</div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;FamilyName&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> prop:</div>
<div class="line"><span class="lineno">  577</span>            extras = (<span class="stringliteral">&#39;(?i)([ -](regular|plain|italic|oblique|(semi)?bold|&#39;</span></div>
<div class="line"><span class="lineno">  578</span>                      <span class="stringliteral">&#39;(ultra)?light|extra|condensed))+$&#39;</span>)</div>
<div class="line"><span class="lineno">  579</span>            prop[<span class="stringliteral">&#39;FamilyName&#39;</span>] = re.sub(extras, <span class="stringliteral">&#39;&#39;</span>, prop[<span class="stringliteral">&#39;FullName&#39;</span>])</div>
<div class="line"><span class="lineno">  580</span>        <span class="comment"># Decrypt the encrypted parts</span></div>
<div class="line"><span class="lineno">  581</span>        ndiscard = prop.get(<span class="stringliteral">&#39;lenIV&#39;</span>, 4)</div>
<div class="line"><span class="lineno">  582</span>        cs = prop[<span class="stringliteral">&#39;CharStrings&#39;</span>]</div>
<div class="line"><span class="lineno">  583</span>        <span class="keywordflow">for</span> key, value <span class="keywordflow">in</span> cs.items():</div>
<div class="line"><span class="lineno">  584</span>            cs[key] = self._decrypt(value, <span class="stringliteral">&#39;charstring&#39;</span>, ndiscard)</div>
<div class="line"><span class="lineno">  585</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;Subrs&#39;</span> <span class="keywordflow">in</span> prop:</div>
<div class="line"><span class="lineno">  586</span>            prop[<span class="stringliteral">&#39;Subrs&#39;</span>] = [</div>
<div class="line"><span class="lineno">  587</span>                self._decrypt(value, <span class="stringliteral">&#39;charstring&#39;</span>, ndiscard)</div>
<div class="line"><span class="lineno">  588</span>                <span class="keywordflow">for</span> value <span class="keywordflow">in</span> prop[<span class="stringliteral">&#39;Subrs&#39;</span>]</div>
<div class="line"><span class="lineno">  589</span>            ]</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>        self.prop = prop</div>
<div class="line"><span class="lineno">  592</span>        self._pos = pos</div>
<div class="line"><span class="lineno">  593</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1662183d23525701c046af51b51f4f5c" name="a1662183d23525701c046af51b51f4f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1662183d23525701c046af51b51f4f5c">&#9670;&#160;</a></span>_parse_charstrings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._parse_charstrings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  629</span>    <span class="keyword">def </span>_parse_charstrings(tokens, _data):</div>
<div class="line"><span class="lineno">  630</span>        count_token = next(tokens)</div>
<div class="line"><span class="lineno">  631</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> count_token.is_number():</div>
<div class="line"><span class="lineno">  632</span>            <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  633</span>                <span class="stringliteral">&quot;Token following /CharStrings must be a number, &quot;</span></div>
<div class="line"><span class="lineno">  634</span>                f<span class="stringliteral">&quot;was {count_token}&quot;</span></div>
<div class="line"><span class="lineno">  635</span>            )</div>
<div class="line"><span class="lineno">  636</span>        count = count_token.value()</div>
<div class="line"><span class="lineno">  637</span>        charstrings = {}</div>
<div class="line"><span class="lineno">  638</span>        next(t <span class="keywordflow">for</span> t <span class="keywordflow">in</span> tokens <span class="keywordflow">if</span> t.is_keyword(<span class="stringliteral">&#39;begin&#39;</span>))</div>
<div class="line"><span class="lineno">  639</span>        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  640</span>            token = next(t <span class="keywordflow">for</span> t <span class="keywordflow">in</span> tokens</div>
<div class="line"><span class="lineno">  641</span>                         <span class="keywordflow">if</span> t.is_keyword(<span class="stringliteral">&#39;end&#39;</span>) <span class="keywordflow">or</span> t.is_slash_name())</div>
<div class="line"><span class="lineno">  642</span>            <span class="keywordflow">if</span> token.raw == <span class="stringliteral">&#39;end&#39;</span>:</div>
<div class="line"><span class="lineno">  643</span>                <span class="keywordflow">return</span> charstrings, token.endpos()</div>
<div class="line"><span class="lineno">  644</span>            glyphname = token.value()</div>
<div class="line"><span class="lineno">  645</span>            nbytes_token = next(tokens)</div>
<div class="line"><span class="lineno">  646</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> nbytes_token.is_number():</div>
<div class="line"><span class="lineno">  647</span>                <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  648</span>                    f<span class="stringliteral">&quot;Token following /{glyphname} in CharStrings definition &quot;</span></div>
<div class="line"><span class="lineno">  649</span>                    f<span class="stringliteral">&quot;must be a number, was {nbytes_token}&quot;</span></div>
<div class="line"><span class="lineno">  650</span>                )</div>
<div class="line"><span class="lineno">  651</span>            next(tokens)  <span class="comment"># usually RD or |-</span></div>
<div class="line"><span class="lineno">  652</span>            binary_token = tokens.send(1+nbytes_token.value())</div>
<div class="line"><span class="lineno">  653</span>            charstrings[glyphname] = binary_token.value()</div>
<div class="line"><span class="lineno">  654</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7771b6823b1ae8085e19d9d465ea4fc1" name="a7771b6823b1ae8085e19d9d465ea4fc1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7771b6823b1ae8085e19d9d465ea4fc1">&#9670;&#160;</a></span>_parse_encoding()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._parse_encoding </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  656</span>    <span class="keyword">def </span>_parse_encoding(tokens, _data):</div>
<div class="line"><span class="lineno">  657</span>        <span class="comment"># this only works for encodings that follow the Adobe manual</span></div>
<div class="line"><span class="lineno">  658</span>        <span class="comment"># but some old fonts include non-compliant data - we log a warning</span></div>
<div class="line"><span class="lineno">  659</span>        <span class="comment"># and return a possibly incomplete encoding</span></div>
<div class="line"><span class="lineno">  660</span>        encoding = {}</div>
<div class="line"><span class="lineno">  661</span>        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  662</span>            token = next(t <span class="keywordflow">for</span> t <span class="keywordflow">in</span> tokens</div>
<div class="line"><span class="lineno">  663</span>                         <span class="keywordflow">if</span> t.is_keyword(<span class="stringliteral">&#39;StandardEncoding&#39;</span>, <span class="stringliteral">&#39;dup&#39;</span>, <span class="stringliteral">&#39;def&#39;</span>))</div>
<div class="line"><span class="lineno">  664</span>            <span class="keywordflow">if</span> token.is_keyword(<span class="stringliteral">&#39;StandardEncoding&#39;</span>):</div>
<div class="line"><span class="lineno">  665</span>                <span class="keywordflow">return</span> _StandardEncoding, token.endpos()</div>
<div class="line"><span class="lineno">  666</span>            <span class="keywordflow">if</span> token.is_keyword(<span class="stringliteral">&#39;def&#39;</span>):</div>
<div class="line"><span class="lineno">  667</span>                <span class="keywordflow">return</span> encoding, token.endpos()</div>
<div class="line"><span class="lineno">  668</span>            index_token = next(tokens)</div>
<div class="line"><span class="lineno">  669</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> index_token.is_number():</div>
<div class="line"><span class="lineno">  670</span>                _log.warning(</div>
<div class="line"><span class="lineno">  671</span>                    f<span class="stringliteral">&quot;Parsing encoding: expected number, got {index_token}&quot;</span></div>
<div class="line"><span class="lineno">  672</span>                )</div>
<div class="line"><span class="lineno">  673</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  674</span>            name_token = next(tokens)</div>
<div class="line"><span class="lineno">  675</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> name_token.is_slash_name():</div>
<div class="line"><span class="lineno">  676</span>                _log.warning(</div>
<div class="line"><span class="lineno">  677</span>                    f<span class="stringliteral">&quot;Parsing encoding: expected slash-name, got {name_token}&quot;</span></div>
<div class="line"><span class="lineno">  678</span>                )</div>
<div class="line"><span class="lineno">  679</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  680</span>            encoding[index_token.value()] = name_token.value()</div>
<div class="line"><span class="lineno">  681</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e916ede4738e55061702767d73ed6f4" name="a4e916ede4738e55061702767d73ed6f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e916ede4738e55061702767d73ed6f4">&#9670;&#160;</a></span>_parse_othersubrs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._parse_othersubrs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  683</span>    <span class="keyword">def </span>_parse_othersubrs(tokens, data):</div>
<div class="line"><span class="lineno">  684</span>        init_pos = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  685</span>        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  686</span>            token = next(tokens)</div>
<div class="line"><span class="lineno">  687</span>            <span class="keywordflow">if</span> init_pos <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  688</span>                init_pos = token.pos</div>
<div class="line"><span class="lineno">  689</span>            <span class="keywordflow">if</span> token.is_delim():</div>
<div class="line"><span class="lineno">  690</span>                _expression(token, tokens, data)</div>
<div class="line"><span class="lineno">  691</span>            <span class="keywordflow">elif</span> token.is_keyword(<span class="stringliteral">&#39;def&#39;</span>, <span class="stringliteral">&#39;ND&#39;</span>, <span class="stringliteral">&#39;|-&#39;</span>):</div>
<div class="line"><span class="lineno">  692</span>                <span class="keywordflow">return</span> data[init_pos:token.endpos()], token.endpos()</div>
<div class="line"><span class="lineno">  693</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afb4abd1528b96ac018a8d1757bb366bd" name="afb4abd1528b96ac018a8d1757bb366bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb4abd1528b96ac018a8d1757bb366bd">&#9670;&#160;</a></span>_parse_subrs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._parse_subrs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tokens</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  594</span>    <span class="keyword">def </span>_parse_subrs(self, tokens, _data):</div>
<div class="line"><span class="lineno">  595</span>        count_token = next(tokens)</div>
<div class="line"><span class="lineno">  596</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> count_token.is_number():</div>
<div class="line"><span class="lineno">  597</span>            <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  598</span>                f<span class="stringliteral">&quot;Token following /Subrs must be a number, was {count_token}&quot;</span></div>
<div class="line"><span class="lineno">  599</span>            )</div>
<div class="line"><span class="lineno">  600</span>        count = count_token.value()</div>
<div class="line"><span class="lineno">  601</span>        array = [<span class="keywordtype">None</span>] * count</div>
<div class="line"><span class="lineno">  602</span>        next(t <span class="keywordflow">for</span> t <span class="keywordflow">in</span> tokens <span class="keywordflow">if</span> t.is_keyword(<span class="stringliteral">&#39;array&#39;</span>))</div>
<div class="line"><span class="lineno">  603</span>        <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(count):</div>
<div class="line"><span class="lineno">  604</span>            next(t <span class="keywordflow">for</span> t <span class="keywordflow">in</span> tokens <span class="keywordflow">if</span> t.is_keyword(<span class="stringliteral">&#39;dup&#39;</span>))</div>
<div class="line"><span class="lineno">  605</span>            index_token = next(tokens)</div>
<div class="line"><span class="lineno">  606</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> index_token.is_number():</div>
<div class="line"><span class="lineno">  607</span>                <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  608</span>                    <span class="stringliteral">&quot;Token following dup in Subrs definition must be a &quot;</span></div>
<div class="line"><span class="lineno">  609</span>                    f<span class="stringliteral">&quot;number, was {index_token}&quot;</span></div>
<div class="line"><span class="lineno">  610</span>                )</div>
<div class="line"><span class="lineno">  611</span>            nbytes_token = next(tokens)</div>
<div class="line"><span class="lineno">  612</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> nbytes_token.is_number():</div>
<div class="line"><span class="lineno">  613</span>                <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  614</span>                    <span class="stringliteral">&quot;Second token following dup in Subrs definition must &quot;</span></div>
<div class="line"><span class="lineno">  615</span>                    f<span class="stringliteral">&quot;be a number, was {nbytes_token}&quot;</span></div>
<div class="line"><span class="lineno">  616</span>                )</div>
<div class="line"><span class="lineno">  617</span>            token = next(tokens)</div>
<div class="line"><span class="lineno">  618</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> token.is_keyword(self._abbr[<span class="stringliteral">&#39;RD&#39;</span>]):</div>
<div class="line"><span class="lineno">  619</span>                <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  620</span>                    f<span class="stringliteral">&quot;Token preceding subr must be {self._abbr[&#39;RD&#39;]}, &quot;</span></div>
<div class="line"><span class="lineno">  621</span>                    f<span class="stringliteral">&quot;was {token}&quot;</span></div>
<div class="line"><span class="lineno">  622</span>                )</div>
<div class="line"><span class="lineno">  623</span>            binary_token = tokens.send(1+nbytes_token.value())</div>
<div class="line"><span class="lineno">  624</span>            array[index_token.value()] = binary_token.value()</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>        <span class="keywordflow">return</span> array, next(tokens).endpos()</div>
<div class="line"><span class="lineno">  627</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af95a5db22a75615909609e248220abd9" name="af95a5db22a75615909609e248220abd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af95a5db22a75615909609e248220abd9">&#9670;&#160;</a></span>_read()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._read </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Read the font from a file, decoding into usable parts.</pre> <div class="fragment"><div class="line"><span class="lineno">  375</span>    <span class="keyword">def </span>_read(self, file):</div>
<div class="line"><span class="lineno">  376</span>        <span class="stringliteral">&quot;&quot;&quot;Read the font from a file, decoding into usable parts.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  377</span>        rawdata = file.read()</div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> rawdata.startswith(b<span class="stringliteral">&#39;\x80&#39;</span>):</div>
<div class="line"><span class="lineno">  379</span>            <span class="keywordflow">return</span> rawdata</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>        data = b<span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  382</span>        <span class="keywordflow">while</span> rawdata:</div>
<div class="line"><span class="lineno">  383</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> rawdata.startswith(b<span class="stringliteral">&#39;\x80&#39;</span>):</div>
<div class="line"><span class="lineno">  384</span>                <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Broken pfb file (expected byte 128, &#39;</span></div>
<div class="line"><span class="lineno">  385</span>                                   <span class="stringliteral">&#39;got %d)&#39;</span> % rawdata[0])</div>
<div class="line"><span class="lineno">  386</span>            type = rawdata[1]</div>
<div class="line"><span class="lineno">  387</span>            <span class="keywordflow">if</span> type <span class="keywordflow">in</span> (1, 2):</div>
<div class="line"><span class="lineno">  388</span>                length, = struct.unpack(<span class="stringliteral">&#39;&lt;i&#39;</span>, rawdata[2:6])</div>
<div class="line"><span class="lineno">  389</span>                segment = rawdata[6:6 + length]</div>
<div class="line"><span class="lineno">  390</span>                rawdata = rawdata[6 + length:]</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>            <span class="keywordflow">if</span> type == 1:       <span class="comment"># ASCII text: include verbatim</span></div>
<div class="line"><span class="lineno">  393</span>                data += segment</div>
<div class="line"><span class="lineno">  394</span>            <span class="keywordflow">elif</span> type == 2:     <span class="comment"># binary data: encode in hexadecimal</span></div>
<div class="line"><span class="lineno">  395</span>                data += binascii.hexlify(segment)</div>
<div class="line"><span class="lineno">  396</span>            <span class="keywordflow">elif</span> type == 3:     <span class="comment"># end of file</span></div>
<div class="line"><span class="lineno">  397</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  398</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  399</span>                <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Unknown segment type %d in pfb file&#39;</span> %</div>
<div class="line"><span class="lineno">  400</span>                                   type)</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordflow">return</span> data</div>
<div class="line"><span class="lineno">  403</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a57f55e4b3c73b38e8656977bcbb95922" name="a57f55e4b3c73b38e8656977bcbb95922"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57f55e4b3c73b38e8656977bcbb95922">&#9670;&#160;</a></span>_split()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._split </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Split the Type 1 font into its three main parts.

The three parts are: (1) the cleartext part, which ends in a
eexec operator; (2) the encrypted part; (3) the fixed part,
which contains 512 ASCII zeros possibly divided on various
lines, a cleartomark operator, and possibly something else.
</pre> <div class="fragment"><div class="line"><span class="lineno">  404</span>    <span class="keyword">def </span>_split(self, data):</div>
<div class="line"><span class="lineno">  405</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral">        Split the Type 1 font into its three main parts.</span></div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral">        The three parts are: (1) the cleartext part, which ends in a</span></div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">        eexec operator; (2) the encrypted part; (3) the fixed part,</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">        which contains 512 ASCII zeros possibly divided on various</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral">        lines, a cleartomark operator, and possibly something else.</span></div>
<div class="line"><span class="lineno">  412</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>        <span class="comment"># Cleartext part: just find the eexec and skip whitespace</span></div>
<div class="line"><span class="lineno">  415</span>        idx = data.index(b<span class="stringliteral">&#39;eexec&#39;</span>)</div>
<div class="line"><span class="lineno">  416</span>        idx += len(b<span class="stringliteral">&#39;eexec&#39;</span>)</div>
<div class="line"><span class="lineno">  417</span>        <span class="keywordflow">while</span> data[idx] <span class="keywordflow">in</span> b<span class="stringliteral">&#39; \t\r\n&#39;</span>:</div>
<div class="line"><span class="lineno">  418</span>            idx += 1</div>
<div class="line"><span class="lineno">  419</span>        len1 = idx</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>        <span class="comment"># Encrypted part: find the cleartomark operator and count</span></div>
<div class="line"><span class="lineno">  422</span>        <span class="comment"># zeros backward</span></div>
<div class="line"><span class="lineno">  423</span>        idx = data.rindex(b<span class="stringliteral">&#39;cleartomark&#39;</span>) - 1</div>
<div class="line"><span class="lineno">  424</span>        zeros = 512</div>
<div class="line"><span class="lineno">  425</span>        <span class="keywordflow">while</span> zeros <span class="keywordflow">and</span> data[idx] <span class="keywordflow">in</span> b<span class="stringliteral">&#39;0&#39;</span> <span class="keywordflow">or</span> data[idx] <span class="keywordflow">in</span> b<span class="stringliteral">&#39;\r\n&#39;</span>:</div>
<div class="line"><span class="lineno">  426</span>            <span class="keywordflow">if</span> data[idx] <span class="keywordflow">in</span> b<span class="stringliteral">&#39;0&#39;</span>:</div>
<div class="line"><span class="lineno">  427</span>                zeros -= 1</div>
<div class="line"><span class="lineno">  428</span>            idx -= 1</div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordflow">if</span> zeros:</div>
<div class="line"><span class="lineno">  430</span>            <span class="comment"># this may have been a problem on old implementations that</span></div>
<div class="line"><span class="lineno">  431</span>            <span class="comment"># used the zeros as necessary padding</span></div>
<div class="line"><span class="lineno">  432</span>            _log.info(<span class="stringliteral">&#39;Insufficiently many zeros in Type 1 font&#39;</span>)</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>        <span class="comment"># Convert encrypted part to binary (if we read a pfb file, we may end</span></div>
<div class="line"><span class="lineno">  435</span>        <span class="comment"># up converting binary to hexadecimal to binary again; but if we read</span></div>
<div class="line"><span class="lineno">  436</span>        <span class="comment"># a pfa file, this part is already in hex, and I am not quite sure if</span></div>
<div class="line"><span class="lineno">  437</span>        <span class="comment"># even the pfb format guarantees that it will be in binary).</span></div>
<div class="line"><span class="lineno">  438</span>        idx1 = len1 + ((idx - len1 + 2) &amp; ~1)  <span class="comment"># ensure an even number of bytes</span></div>
<div class="line"><span class="lineno">  439</span>        binary = binascii.unhexlify(data[len1:idx1])</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>        <span class="keywordflow">return</span> data[:len1], binary, data[idx+1:]</div>
<div class="line"><span class="lineno">  442</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a10886bd152cab8b74c7ca1245703aedd" name="a10886bd152cab8b74c7ca1245703aedd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10886bd152cab8b74c7ca1245703aedd">&#9670;&#160;</a></span>transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font.transform </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>effects</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a new font that is slanted and/or extended.

Parameters
----------
effects : dict
    A dict with optional entries:

    - 'slant' : float, default: 0
        Tangent of the angle that the font is to be slanted to the
        right. Negative values slant to the left.
    - 'extend' : float, default: 1
        Scaling factor for the font width. Values less than 1 condense
        the glyphs.

Returns
-------
`Type1Font`
</pre> <div class="fragment"><div class="line"><span class="lineno">  694</span>    <span class="keyword">def </span>transform(self, effects):</div>
<div class="line"><span class="lineno">  695</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  696</span><span class="stringliteral">        Return a new font that is slanted and/or extended.</span></div>
<div class="line"><span class="lineno">  697</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  698</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  699</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  700</span><span class="stringliteral">        effects : dict</span></div>
<div class="line"><span class="lineno">  701</span><span class="stringliteral">            A dict with optional entries:</span></div>
<div class="line"><span class="lineno">  702</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  703</span><span class="stringliteral">            - &#39;slant&#39; : float, default: 0</span></div>
<div class="line"><span class="lineno">  704</span><span class="stringliteral">                Tangent of the angle that the font is to be slanted to the</span></div>
<div class="line"><span class="lineno">  705</span><span class="stringliteral">                right. Negative values slant to the left.</span></div>
<div class="line"><span class="lineno">  706</span><span class="stringliteral">            - &#39;extend&#39; : float, default: 1</span></div>
<div class="line"><span class="lineno">  707</span><span class="stringliteral">                Scaling factor for the font width. Values less than 1 condense</span></div>
<div class="line"><span class="lineno">  708</span><span class="stringliteral">                the glyphs.</span></div>
<div class="line"><span class="lineno">  709</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  710</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  711</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  712</span><span class="stringliteral">        `Type1Font`</span></div>
<div class="line"><span class="lineno">  713</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  714</span>        fontname = self.prop[<span class="stringliteral">&#39;FontName&#39;</span>]</div>
<div class="line"><span class="lineno">  715</span>        italicangle = self.prop[<span class="stringliteral">&#39;ItalicAngle&#39;</span>]</div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>        array = [</div>
<div class="line"><span class="lineno">  718</span>            float(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> (self.prop[<span class="stringliteral">&#39;FontMatrix&#39;</span>]</div>
<div class="line"><span class="lineno">  719</span>                               .lstrip(<span class="stringliteral">&#39;[&#39;</span>).rstrip(<span class="stringliteral">&#39;]&#39;</span>).split())</div>
<div class="line"><span class="lineno">  720</span>        ]</div>
<div class="line"><span class="lineno">  721</span>        oldmatrix = np.eye(3, 3)</div>
<div class="line"><span class="lineno">  722</span>        oldmatrix[0:3, 0] = array[::2]</div>
<div class="line"><span class="lineno">  723</span>        oldmatrix[0:3, 1] = array[1::2]</div>
<div class="line"><span class="lineno">  724</span>        modifier = np.eye(3, 3)</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;slant&#39;</span> <span class="keywordflow">in</span> effects:</div>
<div class="line"><span class="lineno">  727</span>            slant = effects[<span class="stringliteral">&#39;slant&#39;</span>]</div>
<div class="line"><span class="lineno">  728</span>            fontname += <span class="stringliteral">&#39;_Slant_%d&#39;</span> % int(1000 * slant)</div>
<div class="line"><span class="lineno">  729</span>            italicangle = round(</div>
<div class="line"><span class="lineno">  730</span>                float(italicangle) - np.arctan(slant) / np.pi * 180,</div>
<div class="line"><span class="lineno">  731</span>                5</div>
<div class="line"><span class="lineno">  732</span>            )</div>
<div class="line"><span class="lineno">  733</span>            modifier[1, 0] = slant</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;extend&#39;</span> <span class="keywordflow">in</span> effects:</div>
<div class="line"><span class="lineno">  736</span>            extend = effects[<span class="stringliteral">&#39;extend&#39;</span>]</div>
<div class="line"><span class="lineno">  737</span>            fontname += <span class="stringliteral">&#39;_Extend_%d&#39;</span> % int(1000 * extend)</div>
<div class="line"><span class="lineno">  738</span>            modifier[0, 0] = extend</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>        newmatrix = np.dot(modifier, oldmatrix)</div>
<div class="line"><span class="lineno">  741</span>        array[::2] = newmatrix[0:3, 0]</div>
<div class="line"><span class="lineno">  742</span>        array[1::2] = newmatrix[0:3, 1]</div>
<div class="line"><span class="lineno">  743</span>        fontmatrix = (</div>
<div class="line"><span class="lineno">  744</span>            <span class="stringliteral">&#39;[%s]&#39;</span> % <span class="stringliteral">&#39; &#39;</span>.join(_format_approx(x, 6) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> array)</div>
<div class="line"><span class="lineno">  745</span>        )</div>
<div class="line"><span class="lineno">  746</span>        replacements = (</div>
<div class="line"><span class="lineno">  747</span>            [(x, <span class="stringliteral">&#39;/FontName/%s def&#39;</span> % fontname)</div>
<div class="line"><span class="lineno">  748</span>             <span class="keywordflow">for</span> x <span class="keywordflow">in</span> self._pos[<span class="stringliteral">&#39;FontName&#39;</span>]]</div>
<div class="line"><span class="lineno">  749</span>            + [(x, <span class="stringliteral">&#39;/ItalicAngle %a def&#39;</span> % italicangle)</div>
<div class="line"><span class="lineno">  750</span>               <span class="keywordflow">for</span> x <span class="keywordflow">in</span> self._pos[<span class="stringliteral">&#39;ItalicAngle&#39;</span>]]</div>
<div class="line"><span class="lineno">  751</span>            + [(x, <span class="stringliteral">&#39;/FontMatrix %s readonly def&#39;</span> % fontmatrix)</div>
<div class="line"><span class="lineno">  752</span>               <span class="keywordflow">for</span> x <span class="keywordflow">in</span> self._pos[<span class="stringliteral">&#39;FontMatrix&#39;</span>]]</div>
<div class="line"><span class="lineno">  753</span>            + [(x, <span class="stringliteral">&#39;&#39;</span>) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> self._pos.get(<span class="stringliteral">&#39;UniqueID&#39;</span>, [])]</div>
<div class="line"><span class="lineno">  754</span>        )</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>        data = bytearray(self.parts[0])</div>
<div class="line"><span class="lineno">  757</span>        data.extend(self.decrypted)</div>
<div class="line"><span class="lineno">  758</span>        len0 = len(self.parts[0])</div>
<div class="line"><span class="lineno">  759</span>        <span class="keywordflow">for</span> (pos0, pos1), value <span class="keywordflow">in</span> sorted(replacements, reverse=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno">  760</span>            data[pos0:pos1] = value.encode(<span class="stringliteral">&#39;ascii&#39;</span>, <span class="stringliteral">&#39;replace&#39;</span>)</div>
<div class="line"><span class="lineno">  761</span>            <span class="keywordflow">if</span> pos0 &lt; len(self.parts[0]):</div>
<div class="line"><span class="lineno">  762</span>                <span class="keywordflow">if</span> pos1 &gt;= len(self.parts[0]):</div>
<div class="line"><span class="lineno">  763</span>                    <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  764</span>                        f<span class="stringliteral">&quot;text to be replaced with {value} spans &quot;</span></div>
<div class="line"><span class="lineno">  765</span>                        <span class="stringliteral">&quot;the eexec boundary&quot;</span></div>
<div class="line"><span class="lineno">  766</span>                    )</div>
<div class="line"><span class="lineno">  767</span>                len0 += len(value) - pos1 + pos0</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>        data = bytes(data)</div>
<div class="line"><span class="lineno">  770</span>        <span class="keywordflow">return</span> Type1Font((</div>
<div class="line"><span class="lineno">  771</span>            data[:len0],</div>
<div class="line"><span class="lineno">  772</span>            self._encrypt(data[len0:], <span class="stringliteral">&#39;eexec&#39;</span>),</div>
<div class="line"><span class="lineno">  773</span>            self.parts[2]</div>
<div class="line"><span class="lineno">  774</span>        ))</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a48ce22fb09d5ebe35662b42a3ca47526" name="a48ce22fb09d5ebe35662b42a3ca47526"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ce22fb09d5ebe35662b42a3ca47526">&#9670;&#160;</a></span>_abbr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._abbr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8cf32fc8e442d6f4f0404640eda5fd91" name="a8cf32fc8e442d6f4f0404640eda5fd91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cf32fc8e442d6f4f0404640eda5fd91">&#9670;&#160;</a></span>_parse_charstrings</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._parse_charstrings</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a1465a8687a4ef6c9897723181d0c9218" name="a1465a8687a4ef6c9897723181d0c9218"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1465a8687a4ef6c9897723181d0c9218">&#9670;&#160;</a></span>_parse_encoding</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._parse_encoding</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a102206e07f56f8197654ed8603b30861" name="a102206e07f56f8197654ed8603b30861"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a102206e07f56f8197654ed8603b30861">&#9670;&#160;</a></span>_parse_subrs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._parse_subrs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a01bf79b3d357ef18bb9da7bf25108ba9" name="a01bf79b3d357ef18bb9da7bf25108ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01bf79b3d357ef18bb9da7bf25108ba9">&#9670;&#160;</a></span>_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font._pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a88a873e9810e24850843b65d8148f2fa" name="a88a873e9810e24850843b65d8148f2fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88a873e9810e24850843b65d8148f2fa">&#9670;&#160;</a></span>decrypted</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font.decrypted</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a48ea53786b191e3b6569c2226a0edacb" name="a48ea53786b191e3b6569c2226a0edacb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ea53786b191e3b6569c2226a0edacb">&#9670;&#160;</a></span>parts</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font.parts</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7e5c8400302867689f6b9a1de80367f8" name="a7e5c8400302867689f6b9a1de80367f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e5c8400302867689f6b9a1de80367f8">&#9670;&#160;</a></span>prop</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._type1font.Type1Font.prop</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/matplotlib/<a class="el" href="__type1font_8py.html">_type1font.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
