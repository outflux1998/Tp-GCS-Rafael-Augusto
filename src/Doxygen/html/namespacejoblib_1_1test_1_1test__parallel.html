<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: joblib.test.test_parallel Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejoblib.html">joblib</a></li><li class="navelem"><a class="el" href="namespacejoblib_1_1test.html">test</a></li><li class="navelem"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html">test_parallel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">joblib.test.test_parallel Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1test_1_1test__parallel_1_1_fake_parallel_backend.html">FakeParallelBackend</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1test_1_1test__parallel_1_1_my_backend.html">MyBackend</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1test_1_1test__parallel_1_1_my_exception_with_finicky_init.html">MyExceptionWithFinickyInit</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1test_1_1test__parallel_1_1_parameterized_parallel_backend.html">ParameterizedParallelBackend</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac3aa879a6040a9ea3115ff6dcb3b0411" id="r_ac3aa879a6040a9ea3115ff6dcb3b0411"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ac3aa879a6040a9ea3115ff6dcb3b0411">get_workers</a> (backend)</td></tr>
<tr class="separator:ac3aa879a6040a9ea3115ff6dcb3b0411"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52f7b3687abeaa17e141e42f2bbc6870" id="r_a52f7b3687abeaa17e141e42f2bbc6870"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a52f7b3687abeaa17e141e42f2bbc6870">division</a> (x, y)</td></tr>
<tr class="separator:a52f7b3687abeaa17e141e42f2bbc6870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac78224a67c62d75b52672d74dd23d424" id="r_ac78224a67c62d75b52672d74dd23d424"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ac78224a67c62d75b52672d74dd23d424">square</a> (x)</td></tr>
<tr class="separator:ac78224a67c62d75b52672d74dd23d424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3adb5bceb6e86118e344d3b34f03832c" id="r_a3adb5bceb6e86118e344d3b34f03832c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a3adb5bceb6e86118e344d3b34f03832c">exception_raiser</a> (x, custom_exception=False)</td></tr>
<tr class="separator:a3adb5bceb6e86118e344d3b34f03832c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee437c03a2e974bfc3bfc80523f55cd" id="r_adee437c03a2e974bfc3bfc80523f55cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#adee437c03a2e974bfc3bfc80523f55cd">interrupt_raiser</a> (x)</td></tr>
<tr class="separator:adee437c03a2e974bfc3bfc80523f55cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad47ee45c1cf87c9c77073771ee42e201" id="r_ad47ee45c1cf87c9c77073771ee42e201"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ad47ee45c1cf87c9c77073771ee42e201">f</a> (x, y=0, <a class="el" href="__blas__subroutines_8h.html#a97fad269e85497afbd382321b3079d38">z</a>=0)</td></tr>
<tr class="separator:ad47ee45c1cf87c9c77073771ee42e201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ce8741cba3bdaca984aaed9e701e0fa" id="r_a8ce8741cba3bdaca984aaed9e701e0fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a8ce8741cba3bdaca984aaed9e701e0fa">_active_backend_type</a> ()</td></tr>
<tr class="separator:a8ce8741cba3bdaca984aaed9e701e0fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f42c51cf2e04a9ab365f1104057afa" id="r_a93f42c51cf2e04a9ab365f1104057afa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a93f42c51cf2e04a9ab365f1104057afa">parallel_func</a> (inner_n_jobs, backend)</td></tr>
<tr class="separator:a93f42c51cf2e04a9ab365f1104057afa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa137bb50427fb339ee801b053ab57740" id="r_aa137bb50427fb339ee801b053ab57740"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#aa137bb50427fb339ee801b053ab57740">test_cpu_count</a> ()</td></tr>
<tr class="separator:aa137bb50427fb339ee801b053ab57740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f75b4b8a4b53ca292dc595719e5182" id="r_ae9f75b4b8a4b53ca292dc595719e5182"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ae9f75b4b8a4b53ca292dc595719e5182">test_effective_n_jobs</a> ()</td></tr>
<tr class="separator:ae9f75b4b8a4b53ca292dc595719e5182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30dc4b04ff2c8025268bb3d0cc96a39f" id="r_a30dc4b04ff2c8025268bb3d0cc96a39f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a30dc4b04ff2c8025268bb3d0cc96a39f">test_effective_n_jobs_None</a> (backend_n_jobs, expected_n_jobs)</td></tr>
<tr class="separator:a30dc4b04ff2c8025268bb3d0cc96a39f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47448ffe0e2b4f3bc450b5a6b5d096d7" id="r_a47448ffe0e2b4f3bc450b5a6b5d096d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a47448ffe0e2b4f3bc450b5a6b5d096d7">test_simple_parallel</a> (backend, n_jobs, verbose)</td></tr>
<tr class="memdesc:a47448ffe0e2b4f3bc450b5a6b5d096d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test parallel.  <br /></td></tr>
<tr class="separator:a47448ffe0e2b4f3bc450b5a6b5d096d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7a708f8e6b96d66cbc6f4228430feff" id="r_ad7a708f8e6b96d66cbc6f4228430feff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ad7a708f8e6b96d66cbc6f4228430feff">test_main_thread_renamed_no_warning</a> (backend, monkeypatch)</td></tr>
<tr class="separator:ad7a708f8e6b96d66cbc6f4228430feff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3619b3bb0d81444e307cdb4a6717b83" id="r_ab3619b3bb0d81444e307cdb4a6717b83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ab3619b3bb0d81444e307cdb4a6717b83">_assert_warning_nested</a> (backend, inner_n_jobs, expected)</td></tr>
<tr class="separator:ab3619b3bb0d81444e307cdb4a6717b83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27cbbdd562d529c8030a202f3bde5a3a" id="r_a27cbbdd562d529c8030a202f3bde5a3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a27cbbdd562d529c8030a202f3bde5a3a">test_nested_parallel_warnings</a> (parent_backend, child_backend, expected)</td></tr>
<tr class="separator:a27cbbdd562d529c8030a202f3bde5a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6655d9667a67491b6ad9b29641d4606d" id="r_a6655d9667a67491b6ad9b29641d4606d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a6655d9667a67491b6ad9b29641d4606d">test_background_thread_parallelism</a> (backend)</td></tr>
<tr class="separator:a6655d9667a67491b6ad9b29641d4606d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfdc1908cd32c2944763021455e3de3a" id="r_abfdc1908cd32c2944763021455e3de3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#abfdc1908cd32c2944763021455e3de3a">nested_loop</a> (backend)</td></tr>
<tr class="separator:abfdc1908cd32c2944763021455e3de3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40df8b7c9c8e09ef5196cc200386d90f" id="r_a40df8b7c9c8e09ef5196cc200386d90f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a40df8b7c9c8e09ef5196cc200386d90f">test_nested_loop</a> (parent_backend, child_backend)</td></tr>
<tr class="separator:a40df8b7c9c8e09ef5196cc200386d90f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92797c398e89fae3fce82137430677e2" id="r_a92797c398e89fae3fce82137430677e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a92797c398e89fae3fce82137430677e2">raise_exception</a> (backend)</td></tr>
<tr class="separator:a92797c398e89fae3fce82137430677e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe69dbdcfb5d0a26f2b0c94b308ada93" id="r_afe69dbdcfb5d0a26f2b0c94b308ada93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#afe69dbdcfb5d0a26f2b0c94b308ada93">test_nested_loop_with_exception_with_loky</a> ()</td></tr>
<tr class="separator:afe69dbdcfb5d0a26f2b0c94b308ada93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7a966e4747b0fb9148d58526f111faa" id="r_af7a966e4747b0fb9148d58526f111faa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#af7a966e4747b0fb9148d58526f111faa">test_mutate_input_with_threads</a> ()</td></tr>
<tr class="separator:af7a966e4747b0fb9148d58526f111faa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d68b28eaf1fa4a1801510a89cfbda94" id="r_a0d68b28eaf1fa4a1801510a89cfbda94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a0d68b28eaf1fa4a1801510a89cfbda94">test_parallel_kwargs</a> (n_jobs)</td></tr>
<tr class="separator:a0d68b28eaf1fa4a1801510a89cfbda94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1a0502dd27450544ce91afbea849174" id="r_ab1a0502dd27450544ce91afbea849174"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ab1a0502dd27450544ce91afbea849174">test_parallel_as_context_manager</a> (backend)</td></tr>
<tr class="separator:ab1a0502dd27450544ce91afbea849174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a428bd7a62f8449e3daa4f79fae40398f" id="r_a428bd7a62f8449e3daa4f79fae40398f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a428bd7a62f8449e3daa4f79fae40398f">test_parallel_pickling</a> ()</td></tr>
<tr class="separator:a428bd7a62f8449e3daa4f79fae40398f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f9efdd35f56f46ab8671524e0bbb36" id="r_a22f9efdd35f56f46ab8671524e0bbb36"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a22f9efdd35f56f46ab8671524e0bbb36">test_parallel_timeout_success</a> (backend)</td></tr>
<tr class="separator:a22f9efdd35f56f46ab8671524e0bbb36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9b2975cb317e94c58aa54ddfa636eb" id="r_a0b9b2975cb317e94c58aa54ddfa636eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a0b9b2975cb317e94c58aa54ddfa636eb">test_parallel_timeout_fail</a> (backend)</td></tr>
<tr class="separator:a0b9b2975cb317e94c58aa54ddfa636eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dfce06aff943eff7d311c14076541af" id="r_a0dfce06aff943eff7d311c14076541af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a0dfce06aff943eff7d311c14076541af">test_error_capture</a> (backend)</td></tr>
<tr class="separator:a0dfce06aff943eff7d311c14076541af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f8ce2d8adaca4e3245d50ada6e6b763" id="r_a2f8ce2d8adaca4e3245d50ada6e6b763"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a2f8ce2d8adaca4e3245d50ada6e6b763">consumer</a> (queue, item)</td></tr>
<tr class="separator:a2f8ce2d8adaca4e3245d50ada6e6b763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4228ddbb93cab4ee40bb1a4910ba78d" id="r_ad4228ddbb93cab4ee40bb1a4910ba78d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ad4228ddbb93cab4ee40bb1a4910ba78d">test_dispatch_one_job</a> (backend, batch_size, expected_queue)</td></tr>
<tr class="separator:ad4228ddbb93cab4ee40bb1a4910ba78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abefcda81dd4ecfb58debf11ff6d35e8a" id="r_abefcda81dd4ecfb58debf11ff6d35e8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#abefcda81dd4ecfb58debf11ff6d35e8a">test_dispatch_multiprocessing</a> (backend)</td></tr>
<tr class="separator:abefcda81dd4ecfb58debf11ff6d35e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09e9db12f983de9ac9eae505eda0e125" id="r_a09e9db12f983de9ac9eae505eda0e125"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a09e9db12f983de9ac9eae505eda0e125">test_batching_auto_threading</a> ()</td></tr>
<tr class="separator:a09e9db12f983de9ac9eae505eda0e125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae303b4d52915100fb2f4417fd12d2bdb" id="r_ae303b4d52915100fb2f4417fd12d2bdb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ae303b4d52915100fb2f4417fd12d2bdb">test_batching_auto_subprocesses</a> (backend)</td></tr>
<tr class="separator:ae303b4d52915100fb2f4417fd12d2bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d8fb284dd1030e15dbda3683523268" id="r_a63d8fb284dd1030e15dbda3683523268"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a63d8fb284dd1030e15dbda3683523268">test_exception_dispatch</a> ()</td></tr>
<tr class="separator:a63d8fb284dd1030e15dbda3683523268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34cb4db6a13c1d80bfc154e5fbd45d13" id="r_a34cb4db6a13c1d80bfc154e5fbd45d13"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a34cb4db6a13c1d80bfc154e5fbd45d13">nested_function_inner</a> (<a class="el" href="__lapack__subroutines_8h.html#a5325f1842789194c441b272cbf424674">i</a>)</td></tr>
<tr class="separator:a34cb4db6a13c1d80bfc154e5fbd45d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac09a9ad14359dc94833e1a1ae6d05ab4" id="r_ac09a9ad14359dc94833e1a1ae6d05ab4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ac09a9ad14359dc94833e1a1ae6d05ab4">nested_function_outer</a> (<a class="el" href="__lapack__subroutines_8h.html#a5325f1842789194c441b272cbf424674">i</a>)</td></tr>
<tr class="separator:ac09a9ad14359dc94833e1a1ae6d05ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac315a9ac5563b86903b81200fc441da1" id="r_ac315a9ac5563b86903b81200fc441da1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ac315a9ac5563b86903b81200fc441da1">test_nested_exception_dispatch</a> (backend)</td></tr>
<tr class="separator:ac315a9ac5563b86903b81200fc441da1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d08184017ecca324d017ad006e6efb" id="r_ac6d08184017ecca324d017ad006e6efb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ac6d08184017ecca324d017ad006e6efb">test_invalid_backend</a> ()</td></tr>
<tr class="separator:ac6d08184017ecca324d017ad006e6efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a042a5d80b0bda60e8eb785cbb4afdce5" id="r_a042a5d80b0bda60e8eb785cbb4afdce5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a042a5d80b0bda60e8eb785cbb4afdce5">test_invalid_njobs</a> (backend)</td></tr>
<tr class="separator:a042a5d80b0bda60e8eb785cbb4afdce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d0156d4dc6c6c9f462351db139cb90e" id="r_a4d0156d4dc6c6c9f462351db139cb90e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a4d0156d4dc6c6c9f462351db139cb90e">test_register_parallel_backend</a> ()</td></tr>
<tr class="separator:a4d0156d4dc6c6c9f462351db139cb90e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45219d29f7e399a241e9ebaf78a24012" id="r_a45219d29f7e399a241e9ebaf78a24012"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a45219d29f7e399a241e9ebaf78a24012">test_overwrite_default_backend</a> ()</td></tr>
<tr class="separator:a45219d29f7e399a241e9ebaf78a24012"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b94e38fb7ed004afb943569c1f63318" id="r_a1b94e38fb7ed004afb943569c1f63318"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a1b94e38fb7ed004afb943569c1f63318">test_backend_no_multiprocessing</a> ()</td></tr>
<tr class="separator:a1b94e38fb7ed004afb943569c1f63318"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95b2526db68dcb1f9eeb66b32ef381ce" id="r_a95b2526db68dcb1f9eeb66b32ef381ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a95b2526db68dcb1f9eeb66b32ef381ce">check_backend_context_manager</a> (backend_name)</td></tr>
<tr class="separator:a95b2526db68dcb1f9eeb66b32ef381ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6e539a639287570f39c0d60b379dbfa" id="r_af6e539a639287570f39c0d60b379dbfa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#af6e539a639287570f39c0d60b379dbfa">test_backend_context_manager</a> (monkeypatch, backend)</td></tr>
<tr class="separator:af6e539a639287570f39c0d60b379dbfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab711709c906e03202d484c035944da5b" id="r_ab711709c906e03202d484c035944da5b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ab711709c906e03202d484c035944da5b">test_parameterized_backend_context_manager</a> (monkeypatch)</td></tr>
<tr class="separator:ab711709c906e03202d484c035944da5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26e6c73c51a0393ce4cf2065fdbb3cb2" id="r_a26e6c73c51a0393ce4cf2065fdbb3cb2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a26e6c73c51a0393ce4cf2065fdbb3cb2">test_directly_parameterized_backend_context_manager</a> ()</td></tr>
<tr class="separator:a26e6c73c51a0393ce4cf2065fdbb3cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9caa1b72db8f40df46cef1df767067f" id="r_aa9caa1b72db8f40df46cef1df767067f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#aa9caa1b72db8f40df46cef1df767067f">sleep_and_return_pid</a> ()</td></tr>
<tr class="separator:aa9caa1b72db8f40df46cef1df767067f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15eaca82bfb87d11736b351644efd7f8" id="r_a15eaca82bfb87d11736b351644efd7f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a15eaca82bfb87d11736b351644efd7f8">get_nested_pids</a> ()</td></tr>
<tr class="separator:a15eaca82bfb87d11736b351644efd7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511217da6d2e973ce47b840e73f3253b" id="r_a511217da6d2e973ce47b840e73f3253b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a511217da6d2e973ce47b840e73f3253b">test_nested_backend_context_manager</a> (backend)</td></tr>
<tr class="separator:a511217da6d2e973ce47b840e73f3253b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3d319ebe5a240a40e702d74af589ff" id="r_ace3d319ebe5a240a40e702d74af589ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ace3d319ebe5a240a40e702d74af589ff">test_nested_backend_in_sequential</a> (backend, n_jobs)</td></tr>
<tr class="separator:ace3d319ebe5a240a40e702d74af589ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb17a9d99e5de13d30242e0362333b0" id="r_a6bb17a9d99e5de13d30242e0362333b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a6bb17a9d99e5de13d30242e0362333b0">check_nesting_level</a> (inner_backend, expected_level)</td></tr>
<tr class="separator:a6bb17a9d99e5de13d30242e0362333b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ca153aca271919de8fdb103814c7b9b" id="r_a5ca153aca271919de8fdb103814c7b9b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a5ca153aca271919de8fdb103814c7b9b">test_backend_nesting_level</a> (outer_backend, inner_backend)</td></tr>
<tr class="separator:a5ca153aca271919de8fdb103814c7b9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a554d4e3ad238b130f730038168475139" id="r_a554d4e3ad238b130f730038168475139"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a554d4e3ad238b130f730038168475139">test_retrieval_context</a> ()</td></tr>
<tr class="separator:a554d4e3ad238b130f730038168475139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac39c14d875a3bd20c5bc44d17ae6f289" id="r_ac39c14d875a3bd20c5bc44d17ae6f289"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ac39c14d875a3bd20c5bc44d17ae6f289">test_joblib_exception</a> ()</td></tr>
<tr class="memdesc:ac39c14d875a3bd20c5bc44d17ae6f289"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test helpers.  <br /></td></tr>
<tr class="separator:ac39c14d875a3bd20c5bc44d17ae6f289"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae9f724c86211c877c2c852a0f1cef73" id="r_aae9f724c86211c877c2c852a0f1cef73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#aae9f724c86211c877c2c852a0f1cef73">test_safe_function</a> ()</td></tr>
<tr class="separator:aae9f724c86211c877c2c852a0f1cef73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae438bf5eda6420761664aa6bbb4ccbcb" id="r_ae438bf5eda6420761664aa6bbb4ccbcb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ae438bf5eda6420761664aa6bbb4ccbcb">test_invalid_batch_size</a> (batch_size)</td></tr>
<tr class="separator:ae438bf5eda6420761664aa6bbb4ccbcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8810795173879a73304cfbda5159f668" id="r_a8810795173879a73304cfbda5159f668"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a8810795173879a73304cfbda5159f668">test_dispatch_race_condition</a> (n_tasks, n_jobs, pre_dispatch, batch_size)</td></tr>
<tr class="separator:a8810795173879a73304cfbda5159f668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94e71b793bb2b2e0ab329df095a06a20" id="r_a94e71b793bb2b2e0ab329df095a06a20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a94e71b793bb2b2e0ab329df095a06a20">test_default_mp_context</a> ()</td></tr>
<tr class="separator:a94e71b793bb2b2e0ab329df095a06a20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d3fb7eb97f1eace9a731438b0cde8ef" id="r_a3d3fb7eb97f1eace9a731438b0cde8ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a3d3fb7eb97f1eace9a731438b0cde8ef">test_no_blas_crash_or_freeze_with_subprocesses</a> (backend)</td></tr>
<tr class="separator:a3d3fb7eb97f1eace9a731438b0cde8ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55b64e1787db126466ab70f4c7d344e4" id="r_a55b64e1787db126466ab70f4c7d344e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a55b64e1787db126466ab70f4c7d344e4">test_parallel_with_interactively_defined_functions</a> (backend)</td></tr>
<tr class="separator:a55b64e1787db126466ab70f4c7d344e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157ca7f5cb8cc02cda272f1dfcf567cf" id="r_a157ca7f5cb8cc02cda272f1dfcf567cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a157ca7f5cb8cc02cda272f1dfcf567cf">test_parallel_with_unpicklable_functions_in_args</a> (backend, define_func, callable_position, tmpdir)</td></tr>
<tr class="separator:a157ca7f5cb8cc02cda272f1dfcf567cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8acc73c5d70b87f53e2e48159851fc50" id="r_a8acc73c5d70b87f53e2e48159851fc50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a8acc73c5d70b87f53e2e48159851fc50">test_parallel_with_interactively_defined_functions_default_backend</a> (tmpdir)</td></tr>
<tr class="separator:a8acc73c5d70b87f53e2e48159851fc50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58f188945ac9deee5e040110c4e72ef7" id="r_a58f188945ac9deee5e040110c4e72ef7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a58f188945ac9deee5e040110c4e72ef7">test_parallel_with_interactively_defined_bound_method</a> (tmpdir)</td></tr>
<tr class="separator:a58f188945ac9deee5e040110c4e72ef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cca55ada03fa688d0ad3f6bc2325e6e" id="r_a6cca55ada03fa688d0ad3f6bc2325e6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a6cca55ada03fa688d0ad3f6bc2325e6e">test_parallel_with_exhausted_iterator</a> ()</td></tr>
<tr class="separator:a6cca55ada03fa688d0ad3f6bc2325e6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac75ecf6a34261ec5ec16ed3415fc9480" id="r_ac75ecf6a34261ec5ec16ed3415fc9480"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ac75ecf6a34261ec5ec16ed3415fc9480">check_memmap</a> (<a class="el" href="__blas__subroutines_8h.html#a4da0a64c77789ca4c8115aef76120fd2">a</a>)</td></tr>
<tr class="separator:ac75ecf6a34261ec5ec16ed3415fc9480"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0746fcc374da306b15038816c0c6db6e" id="r_a0746fcc374da306b15038816c0c6db6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a0746fcc374da306b15038816c0c6db6e">test_auto_memmap_on_arrays_from_generator</a> (backend)</td></tr>
<tr class="separator:a0746fcc374da306b15038816c0c6db6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a499ca420a1ac873e759b761b41e67ab5" id="r_a499ca420a1ac873e759b761b41e67ab5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a499ca420a1ac873e759b761b41e67ab5">identity</a> (arg)</td></tr>
<tr class="separator:a499ca420a1ac873e759b761b41e67ab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7220bb989e541eb6174cb6bf7941228" id="r_ae7220bb989e541eb6174cb6bf7941228"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ae7220bb989e541eb6174cb6bf7941228">test_memmap_with_big_offset</a> (tmpdir)</td></tr>
<tr class="separator:ae7220bb989e541eb6174cb6bf7941228"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed1088ebaf84190c8b6efd6f5e2f6d74" id="r_aed1088ebaf84190c8b6efd6f5e2f6d74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#aed1088ebaf84190c8b6efd6f5e2f6d74">test_warning_about_timeout_not_supported_by_backend</a> ()</td></tr>
<tr class="separator:aed1088ebaf84190c8b6efd6f5e2f6d74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b445c9ab92b56f7291ad361065fd2c2" id="r_a9b445c9ab92b56f7291ad361065fd2c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a9b445c9ab92b56f7291ad361065fd2c2">test_abort_backend</a> (n_jobs, backend)</td></tr>
<tr class="separator:a9b445c9ab92b56f7291ad361065fd2c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64306405d590908315122e909999fcce" id="r_a64306405d590908315122e909999fcce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a64306405d590908315122e909999fcce">test_memmapping_leaks</a> (backend, tmpdir)</td></tr>
<tr class="separator:a64306405d590908315122e909999fcce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada4d8bf7fdd910eb2f0b13c1c8f7a1b4" id="r_ada4d8bf7fdd910eb2f0b13c1c8f7a1b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ada4d8bf7fdd910eb2f0b13c1c8f7a1b4">test_lambda_expression</a> (backend)</td></tr>
<tr class="separator:ada4d8bf7fdd910eb2f0b13c1c8f7a1b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a741868479827931d424ae7db17b6efc6" id="r_a741868479827931d424ae7db17b6efc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a741868479827931d424ae7db17b6efc6">test_backend_batch_statistics_reset</a> (backend)</td></tr>
<tr class="separator:a741868479827931d424ae7db17b6efc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc249db0021de5a55e631abed98bfdf" id="r_abcc249db0021de5a55e631abed98bfdf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#abcc249db0021de5a55e631abed98bfdf">test_backend_hinting_and_constraints</a> ()</td></tr>
<tr class="separator:abcc249db0021de5a55e631abed98bfdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dc77e35f88fd7c2959ae74a56d724e2" id="r_a9dc77e35f88fd7c2959ae74a56d724e2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a9dc77e35f88fd7c2959ae74a56d724e2">test_backend_hinting_and_constraints_with_custom_backends</a> (capsys)</td></tr>
<tr class="separator:a9dc77e35f88fd7c2959ae74a56d724e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed1ad468ef9233605d834cab68f92b7" id="r_a5ed1ad468ef9233605d834cab68f92b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a5ed1ad468ef9233605d834cab68f92b7">test_invalid_backend_hinting_and_constraints</a> ()</td></tr>
<tr class="separator:a5ed1ad468ef9233605d834cab68f92b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f532b2115ce6899ecded89f420b161f" id="r_a4f532b2115ce6899ecded89f420b161f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a4f532b2115ce6899ecded89f420b161f">test_global_parallel_backend</a> ()</td></tr>
<tr class="separator:a4f532b2115ce6899ecded89f420b161f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a673d0047cf9617839923ed8ac089f73b" id="r_a673d0047cf9617839923ed8ac089f73b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a673d0047cf9617839923ed8ac089f73b">test_external_backends</a> ()</td></tr>
<tr class="separator:a673d0047cf9617839923ed8ac089f73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2038c66811d61865f56e88bf0a4613" id="r_a8d2038c66811d61865f56e88bf0a4613"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a8d2038c66811d61865f56e88bf0a4613">_recursive_backend_info</a> (limit=3, **kwargs)</td></tr>
<tr class="separator:a8d2038c66811d61865f56e88bf0a4613"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89e6a239e4dfb6930c89aeb9cee1f5af" id="r_a89e6a239e4dfb6930c89aeb9cee1f5af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a89e6a239e4dfb6930c89aeb9cee1f5af">test_nested_parallelism_limit</a> (backend)</td></tr>
<tr class="separator:a89e6a239e4dfb6930c89aeb9cee1f5af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a497bbb0f17d51dcd2440bd9547ee4ac1" id="r_a497bbb0f17d51dcd2440bd9547ee4ac1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a497bbb0f17d51dcd2440bd9547ee4ac1">test_nested_parallelism_with_dask</a> ()</td></tr>
<tr class="separator:a497bbb0f17d51dcd2440bd9547ee4ac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87ff823790bf395f558ec32e9c61c0af" id="r_a87ff823790bf395f558ec32e9c61c0af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a87ff823790bf395f558ec32e9c61c0af">_recursive_parallel</a> (nesting_limit=None)</td></tr>
<tr class="separator:a87ff823790bf395f558ec32e9c61c0af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5bf1caaf7b286713a165012823f3ccf" id="r_ad5bf1caaf7b286713a165012823f3ccf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ad5bf1caaf7b286713a165012823f3ccf">test_thread_bomb_mitigation</a> (backend)</td></tr>
<tr class="separator:ad5bf1caaf7b286713a165012823f3ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a049ab13dc170f608e0630fab40199ad7" id="r_a049ab13dc170f608e0630fab40199ad7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a049ab13dc170f608e0630fab40199ad7">_run_parallel_sum</a> ()</td></tr>
<tr class="separator:a049ab13dc170f608e0630fab40199ad7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2166490fcd5b7a8ac33a723eb3be3c26" id="r_a2166490fcd5b7a8ac33a723eb3be3c26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a2166490fcd5b7a8ac33a723eb3be3c26">test_parallel_thread_limit</a> (backend)</td></tr>
<tr class="separator:a2166490fcd5b7a8ac33a723eb3be3c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd18c3bc8581cb6c6795d2217fb283d0" id="r_afd18c3bc8581cb6c6795d2217fb283d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#afd18c3bc8581cb6c6795d2217fb283d0">test_dask_backend_when_dask_not_installed</a> ()</td></tr>
<tr class="separator:afd18c3bc8581cb6c6795d2217fb283d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add897b597af0178cff1aba31806981e0" id="r_add897b597af0178cff1aba31806981e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#add897b597af0178cff1aba31806981e0">test_zero_worker_backend</a> ()</td></tr>
<tr class="separator:add897b597af0178cff1aba31806981e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef7e237b1b3ea0f7266cfcc9314ee8a0" id="r_aef7e237b1b3ea0f7266cfcc9314ee8a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#aef7e237b1b3ea0f7266cfcc9314ee8a0">test_globals_update_at_each_parallel_call</a> ()</td></tr>
<tr class="separator:aef7e237b1b3ea0f7266cfcc9314ee8a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40ca350b7c83f2bb3e2aa9efe66abbdf" id="r_a40ca350b7c83f2bb3e2aa9efe66abbdf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a40ca350b7c83f2bb3e2aa9efe66abbdf">_check_numpy_threadpool_limits</a> ()</td></tr>
<tr class="memdesc:a40ca350b7c83f2bb3e2aa9efe66abbdf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test environment variable in child env, in particular for limiting the maximal number of threads in C-library threadpools.  <br /></td></tr>
<tr class="separator:a40ca350b7c83f2bb3e2aa9efe66abbdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf228dca0da9c4a2e6742ee1ab1ce8f6" id="r_adf228dca0da9c4a2e6742ee1ab1ce8f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#adf228dca0da9c4a2e6742ee1ab1ce8f6">_parent_max_num_threads_for</a> (child_module, parent_info)</td></tr>
<tr class="separator:adf228dca0da9c4a2e6742ee1ab1ce8f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b94f30574f77ee6cc10e2d018eea1e" id="r_a15b94f30574f77ee6cc10e2d018eea1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a15b94f30574f77ee6cc10e2d018eea1e">check_child_num_threads</a> (workers_info, parent_info, num_threads)</td></tr>
<tr class="separator:a15b94f30574f77ee6cc10e2d018eea1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b4d7ec9c80308c1295c25106ee37be7" id="r_a8b4d7ec9c80308c1295c25106ee37be7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a8b4d7ec9c80308c1295c25106ee37be7">test_threadpool_limitation_in_child</a> (n_jobs)</td></tr>
<tr class="separator:a8b4d7ec9c80308c1295c25106ee37be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6221b2a79e8a9317e0b03103848fa993" id="r_a6221b2a79e8a9317e0b03103848fa993"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a6221b2a79e8a9317e0b03103848fa993">test_threadpool_limitation_in_child_context</a> (n_jobs, inner_max_num_threads)</td></tr>
<tr class="separator:a6221b2a79e8a9317e0b03103848fa993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee32a828fe06d1d8b2637b74ede5dba" id="r_a7ee32a828fe06d1d8b2637b74ede5dba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a7ee32a828fe06d1d8b2637b74ede5dba">test_threadpool_limitation_in_child_override</a> (n_jobs, var_name)</td></tr>
<tr class="separator:a7ee32a828fe06d1d8b2637b74ede5dba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc13163bbcbfb236e4388bf78597bb7" id="r_a1dc13163bbcbfb236e4388bf78597bb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a1dc13163bbcbfb236e4388bf78597bb7">test_threadpool_limitation_in_child_context_error</a> (backend)</td></tr>
<tr class="separator:a1dc13163bbcbfb236e4388bf78597bb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fc875a4b7ee486efdd465cfd0edd59d" id="r_a2fc875a4b7ee486efdd465cfd0edd59d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a2fc875a4b7ee486efdd465cfd0edd59d">test_loky_reuse_workers</a> (n_jobs)</td></tr>
<tr class="separator:a2fc875a4b7ee486efdd465cfd0edd59d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ad93da88c9abb93a62cd52a8eafc64570" id="r_ad93da88c9abb93a62cd52a8eafc64570"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ad93da88c9abb93a62cd52a8eafc64570">posix</a> = None</td></tr>
<tr class="separator:ad93da88c9abb93a62cd52a8eafc64570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a273ba1f07a803955704e719258ee5a4b" id="r_a273ba1f07a803955704e719258ee5a4b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a273ba1f07a803955704e719258ee5a4b">parallel_sum</a> = None</td></tr>
<tr class="separator:a273ba1f07a803955704e719258ee5a4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af40e648b4f7781525e04d90efe0a780c" id="r_af40e648b4f7781525e04d90efe0a780c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#af40e648b4f7781525e04d90efe0a780c">distributed</a> = None</td></tr>
<tr class="separator:af40e648b4f7781525e04d90efe0a780c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bc6701c0b400a65754a85492f454915" id="r_a9bc6701c0b400a65754a85492f454915"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a9bc6701c0b400a65754a85492f454915">ALL_VALID_BACKENDS</a> = [None] + sorted(BACKENDS.keys())</td></tr>
<tr class="separator:a9bc6701c0b400a65754a85492f454915"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25142eca710b3db664f8792a1e1ed725" id="r_a25142eca710b3db664f8792a1e1ed725"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a25142eca710b3db664f8792a1e1ed725">PROCESS_BACKENDS</a> = []</td></tr>
<tr class="separator:a25142eca710b3db664f8792a1e1ed725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b0217714fc9f2f35d1814f6f021dd4" id="r_a01b0217714fc9f2f35d1814f6f021dd4"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a01b0217714fc9f2f35d1814f6f021dd4">PARALLEL_BACKENDS</a> = <a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a25142eca710b3db664f8792a1e1ed725">PROCESS_BACKENDS</a> + ['threading']</td></tr>
<tr class="separator:a01b0217714fc9f2f35d1814f6f021dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea191ef681158a2bdb3307c3279eb982" id="r_aea191ef681158a2bdb3307c3279eb982"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#aea191ef681158a2bdb3307c3279eb982">DefaultBackend</a> = BACKENDS[DEFAULT_BACKEND]</td></tr>
<tr class="separator:aea191ef681158a2bdb3307c3279eb982"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e92176063e9f6b316cab71c5534dfb6" id="r_a1e92176063e9f6b316cab71c5534dfb6"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a1e92176063e9f6b316cab71c5534dfb6">all_backends_for_context_manager</a> = <a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a01b0217714fc9f2f35d1814f6f021dd4">PARALLEL_BACKENDS</a>[:]</td></tr>
<tr class="separator:a1e92176063e9f6b316cab71c5534dfb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a152ab1fbedb23835ec94ac228e7f169b" id="r_a152ab1fbedb23835ec94ac228e7f169b"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a152ab1fbedb23835ec94ac228e7f169b">UNPICKLABLE_CALLABLE_SCRIPT_TEMPLATE_NO_MAIN</a></td></tr>
<tr class="separator:a152ab1fbedb23835ec94ac228e7f169b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae29c19b8cae5beb0950fbe0279cd622e" id="r_ae29c19b8cae5beb0950fbe0279cd622e"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ae29c19b8cae5beb0950fbe0279cd622e">UNPICKLABLE_CALLABLE_SCRIPT_TEMPLATE_MAIN</a></td></tr>
<tr class="separator:ae29c19b8cae5beb0950fbe0279cd622e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318afa3fbcfa767ba8a353ef2389a5f5" id="r_a318afa3fbcfa767ba8a353ef2389a5f5"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a318afa3fbcfa767ba8a353ef2389a5f5">SQUARE_MAIN</a></td></tr>
<tr class="separator:a318afa3fbcfa767ba8a353ef2389a5f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96a4929edd0fbe55f448db38ff8d7754" id="r_a96a4929edd0fbe55f448db38ff8d7754"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a96a4929edd0fbe55f448db38ff8d7754">SQUARE_LOCAL</a></td></tr>
<tr class="separator:a96a4929edd0fbe55f448db38ff8d7754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65943108ac995eb1683f6b5056ccbca0" id="r_a65943108ac995eb1683f6b5056ccbca0"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a65943108ac995eb1683f6b5056ccbca0">SQUARE_LAMBDA</a></td></tr>
<tr class="separator:a65943108ac995eb1683f6b5056ccbca0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a460695c134e1447386277990e9afd" id="r_ae6a460695c134e1447386277990e9afd"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#ae6a460695c134e1447386277990e9afd">INTERACTIVE_DEFINED_FUNCTION_AND_CLASS_SCRIPT_CONTENT</a></td></tr>
<tr class="separator:ae6a460695c134e1447386277990e9afd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af364f23017d25fb3f3b75a95e87a0944" id="r_af364f23017d25fb3f3b75a95e87a0944"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#af364f23017d25fb3f3b75a95e87a0944">INTERACTIVELY_DEFINED_SUBCLASS_WITH_METHOD_SCRIPT_CONTENT</a></td></tr>
<tr class="separator:af364f23017d25fb3f3b75a95e87a0944"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Test the parallel module.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a8ce8741cba3bdaca984aaed9e701e0fa" name="a8ce8741cba3bdaca984aaed9e701e0fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ce8741cba3bdaca984aaed9e701e0fa">&#9670;&#160;</a></span>_active_backend_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel._active_backend_type </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  126</span><span class="keyword">def </span>_active_backend_type():</div>
<div class="line"><span class="lineno">  127</span>    <span class="keywordflow">return</span> type(parallel.get_active_backend()[0])</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3619b3bb0d81444e307cdb4a6717b83" name="ab3619b3bb0d81444e307cdb4a6717b83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3619b3bb0d81444e307cdb4a6717b83">&#9670;&#160;</a></span>_assert_warning_nested()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel._assert_warning_nested </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inner_n_jobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  198</span><span class="keyword">def </span>_assert_warning_nested(backend, inner_n_jobs, expected):</div>
<div class="line"><span class="lineno">  199</span>    <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> warninfo:</div>
<div class="line"><span class="lineno">  200</span>        warnings.simplefilter(<span class="stringliteral">&quot;always&quot;</span>)</div>
<div class="line"><span class="lineno">  201</span>        parallel_func(backend=backend, inner_n_jobs=inner_n_jobs)</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    warninfo = [w.message <span class="keywordflow">for</span> w <span class="keywordflow">in</span> warninfo]</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">if</span> expected:</div>
<div class="line"><span class="lineno">  205</span>        <span class="comment"># with threading, we might see more that one warninfo</span></div>
<div class="line"><span class="lineno">  206</span>        <span class="keywordflow">if</span> warninfo:</div>
<div class="line"><span class="lineno">  207</span>            <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno">  208</span>                len(warninfo) == 1 <span class="keywordflow">and</span></div>
<div class="line"><span class="lineno">  209</span>                <span class="stringliteral">&#39;backed parallel loops cannot&#39;</span> <span class="keywordflow">in</span> warninfo[0].args[0]</div>
<div class="line"><span class="lineno">  210</span>            )</div>
<div class="line"><span class="lineno">  211</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  213</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> warninfo</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno">  218</span><span class="preprocessor">@parametrize</span>(<span class="stringliteral">&#39;parent_backend,child_backend,expected&#39;</span>, [</div>
<div class="line"><span class="lineno">  219</span>    (<span class="stringliteral">&#39;loky&#39;</span>, <span class="stringliteral">&#39;multiprocessing&#39;</span>, <span class="keyword">True</span>),</div>
<div class="line"><span class="lineno">  220</span>    (<span class="stringliteral">&#39;loky&#39;</span>, <span class="stringliteral">&#39;loky&#39;</span>, <span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">  221</span>    (<span class="stringliteral">&#39;multiprocessing&#39;</span>, <span class="stringliteral">&#39;multiprocessing&#39;</span>, <span class="keyword">True</span>),</div>
<div class="line"><span class="lineno">  222</span>    (<span class="stringliteral">&#39;multiprocessing&#39;</span>, <span class="stringliteral">&#39;loky&#39;</span>, <span class="keyword">True</span>),</div>
<div class="line"><span class="lineno">  223</span>    (<span class="stringliteral">&#39;threading&#39;</span>, <span class="stringliteral">&#39;multiprocessing&#39;</span>, <span class="keyword">True</span>),</div>
<div class="line"><span class="lineno">  224</span>    (<span class="stringliteral">&#39;threading&#39;</span>, <span class="stringliteral">&#39;loky&#39;</span>, <span class="keyword">True</span>),</div>
<div class="line"><span class="lineno">  225</span>])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a40ca350b7c83f2bb3e2aa9efe66abbdf" name="a40ca350b7c83f2bb3e2aa9efe66abbdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40ca350b7c83f2bb3e2aa9efe66abbdf">&#9670;&#160;</a></span>_check_numpy_threadpool_limits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel._check_numpy_threadpool_limits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Test environment variable in child env, in particular for limiting the maximal number of threads in C-library threadpools. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1592</span><span class="keyword">def </span>_check_numpy_threadpool_limits():</div>
<div class="line"><span class="lineno"> 1593</span>    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="lineno"> 1594</span>    <span class="comment"># Let&#39;s call BLAS on a Matrix Matrix multiplication with dimensions large</span></div>
<div class="line"><span class="lineno"> 1595</span>    <span class="comment"># enough to ensure that the threadpool managed by the underlying BLAS</span></div>
<div class="line"><span class="lineno"> 1596</span>    <span class="comment"># implementation is actually used so as to force its initialization.</span></div>
<div class="line"><span class="lineno"> 1597</span>    a = np.random.randn(100, 100)</div>
<div class="line"><span class="lineno"> 1598</span>    np.dot(a, a)</div>
<div class="line"><span class="lineno"> 1599</span>    <span class="keyword">from</span> threadpoolctl <span class="keyword">import</span> threadpool_info</div>
<div class="line"><span class="lineno"> 1600</span>    <span class="keywordflow">return</span> threadpool_info()</div>
<div class="line"><span class="lineno"> 1601</span> </div>
<div class="line"><span class="lineno"> 1602</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adf228dca0da9c4a2e6742ee1ab1ce8f6" name="adf228dca0da9c4a2e6742ee1ab1ce8f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf228dca0da9c4a2e6742ee1ab1ce8f6">&#9670;&#160;</a></span>_parent_max_num_threads_for()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel._parent_max_num_threads_for </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>child_module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1603</span><span class="keyword">def </span>_parent_max_num_threads_for(child_module, parent_info):</div>
<div class="line"><span class="lineno"> 1604</span>    <span class="keywordflow">for</span> parent_module <span class="keywordflow">in</span> parent_info:</div>
<div class="line"><span class="lineno"> 1605</span>        <span class="keywordflow">if</span> parent_module[<span class="stringliteral">&#39;filepath&#39;</span>] == child_module[<span class="stringliteral">&#39;filepath&#39;</span>]:</div>
<div class="line"><span class="lineno"> 1606</span>            <span class="keywordflow">return</span> parent_module[<span class="stringliteral">&#39;num_threads&#39;</span>]</div>
<div class="line"><span class="lineno"> 1607</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;An unexpected module was loaded in child:\n{}&quot;</span></div>
<div class="line"><span class="lineno"> 1608</span>                     .format(child_module))</div>
<div class="line"><span class="lineno"> 1609</span> </div>
<div class="line"><span class="lineno"> 1610</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d2038c66811d61865f56e88bf0a4613" name="a8d2038c66811d61865f56e88bf0a4613"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d2038c66811d61865f56e88bf0a4613">&#9670;&#160;</a></span>_recursive_backend_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel._recursive_backend_info </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>limit</em> = <code>3</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Perform nested parallel calls and introspect the backend on the way</pre> <div class="fragment"><div class="line"><span class="lineno"> 1419</span><span class="keyword">def </span>_recursive_backend_info(limit=3, **kwargs):</div>
<div class="line"><span class="lineno"> 1420</span>    <span class="stringliteral">&quot;&quot;&quot;Perform nested parallel calls and introspect the backend on the way&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1421</span> </div>
<div class="line"><span class="lineno"> 1422</span>    <span class="keyword">with</span> Parallel(n_jobs=2) <span class="keyword">as</span> p:</div>
<div class="line"><span class="lineno"> 1423</span>        this_level = [(type(p._backend).__name__, p._backend.nesting_level)]</div>
<div class="line"><span class="lineno"> 1424</span>        <span class="keywordflow">if</span> limit == 0:</div>
<div class="line"><span class="lineno"> 1425</span>            <span class="keywordflow">return</span> this_level</div>
<div class="line"><span class="lineno"> 1426</span>        results = p(delayed(_recursive_backend_info)(limit=limit - 1, **kwargs)</div>
<div class="line"><span class="lineno"> 1427</span>                    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1))</div>
<div class="line"><span class="lineno"> 1428</span>        <span class="keywordflow">return</span> this_level + results[0]</div>
<div class="line"><span class="lineno"> 1429</span> </div>
<div class="line"><span class="lineno"> 1430</span> </div>
<div class="line"><span class="lineno"> 1431</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno"> 1432</span><span class="preprocessor">@parametrize(&#39;backend&#39;, [&#39;loky&#39;, &#39;threading&#39;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a87ff823790bf395f558ec32e9c61c0af" name="a87ff823790bf395f558ec32e9c61c0af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87ff823790bf395f558ec32e9c61c0af">&#9670;&#160;</a></span>_recursive_parallel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel._recursive_parallel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nesting_limit</em> = <code>None</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">A horrible function that does recursive parallel calls</pre> <div class="fragment"><div class="line"><span class="lineno"> 1476</span><span class="keyword">def </span>_recursive_parallel(nesting_limit=None):</div>
<div class="line"><span class="lineno"> 1477</span>    <span class="stringliteral">&quot;&quot;&quot;A horrible function that does recursive parallel calls&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1478</span>    <span class="keywordflow">return</span> Parallel()(delayed(_recursive_parallel)() <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno"> 1479</span> </div>
<div class="line"><span class="lineno"> 1480</span> </div>
<div class="line"><span class="lineno"> 1481</span><span class="preprocessor">@parametrize</span>(<span class="stringliteral">&#39;backend&#39;</span>,</div>
<div class="line"><span class="lineno"> 1482</span>             ([<span class="stringliteral">&#39;threading&#39;</span>] <span class="keywordflow">if</span> mp <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> [<span class="stringliteral">&#39;loky&#39;</span>, <span class="stringliteral">&#39;threading&#39;</span>]))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a049ab13dc170f608e0630fab40199ad7" name="a049ab13dc170f608e0630fab40199ad7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a049ab13dc170f608e0630fab40199ad7">&#9670;&#160;</a></span>_run_parallel_sum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel._run_parallel_sum </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1507</span><span class="keyword">def </span>_run_parallel_sum():</div>
<div class="line"><span class="lineno"> 1508</span>    env_vars = {}</div>
<div class="line"><span class="lineno"> 1509</span>    <span class="keywordflow">for</span> var <span class="keywordflow">in</span> [<span class="stringliteral">&#39;OMP_NUM_THREADS&#39;</span>, <span class="stringliteral">&#39;OPENBLAS_NUM_THREADS&#39;</span>, <span class="stringliteral">&#39;MKL_NUM_THREADS&#39;</span>,</div>
<div class="line"><span class="lineno"> 1510</span>                <span class="stringliteral">&#39;VECLIB_MAXIMUM_THREADS&#39;</span>, <span class="stringliteral">&#39;NUMEXPR_NUM_THREADS&#39;</span>,</div>
<div class="line"><span class="lineno"> 1511</span>                <span class="stringliteral">&#39;NUMBA_NUM_THREADS&#39;</span>, <span class="stringliteral">&#39;ENABLE_IPC&#39;</span>]:</div>
<div class="line"><span class="lineno"> 1512</span>        env_vars[var] = os.environ.get(var)</div>
<div class="line"><span class="lineno"> 1513</span>    <span class="keywordflow">return</span> env_vars, parallel_sum(100)</div>
<div class="line"><span class="lineno"> 1514</span> </div>
<div class="line"><span class="lineno"> 1515</span> </div>
<div class="line"><span class="lineno"> 1516</span><span class="preprocessor">@parametrize(&quot;backend&quot;, ([None, &#39;loky&#39;] if mp is not None else [None])</span>)</div>
<div class="line"><span class="lineno"> 1517</span><span class="preprocessor">@skipif(parallel_sum is None, reason=&quot;Need OpenMP helper compiled&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a95b2526db68dcb1f9eeb66b32ef381ce" name="a95b2526db68dcb1f9eeb66b32ef381ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95b2526db68dcb1f9eeb66b32ef381ce">&#9670;&#160;</a></span>check_backend_context_manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.check_backend_context_manager </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  633</span><span class="keyword">def </span>check_backend_context_manager(backend_name):</div>
<div class="line"><span class="lineno">  634</span>    <span class="keyword">with</span> parallel_backend(backend_name, n_jobs=3):</div>
<div class="line"><span class="lineno">  635</span>        active_backend, active_n_jobs = parallel.get_active_backend()</div>
<div class="line"><span class="lineno">  636</span>        <span class="keyword">assert</span> active_n_jobs == 3</div>
<div class="line"><span class="lineno">  637</span>        <span class="keyword">assert</span> effective_n_jobs(3) == 3</div>
<div class="line"><span class="lineno">  638</span>        p = Parallel()</div>
<div class="line"><span class="lineno">  639</span>        <span class="keyword">assert</span> p.n_jobs == 3</div>
<div class="line"><span class="lineno">  640</span>        <span class="keywordflow">if</span> backend_name == <span class="stringliteral">&#39;multiprocessing&#39;</span>:</div>
<div class="line"><span class="lineno">  641</span>            <span class="keyword">assert</span> type(active_backend) == MultiprocessingBackend</div>
<div class="line"><span class="lineno">  642</span>            <span class="keyword">assert</span> type(p._backend) == MultiprocessingBackend</div>
<div class="line"><span class="lineno">  643</span>        <span class="keywordflow">elif</span> backend_name == <span class="stringliteral">&#39;loky&#39;</span>:</div>
<div class="line"><span class="lineno">  644</span>            <span class="keyword">assert</span> type(active_backend) == LokyBackend</div>
<div class="line"><span class="lineno">  645</span>            <span class="keyword">assert</span> type(p._backend) == LokyBackend</div>
<div class="line"><span class="lineno">  646</span>        <span class="keywordflow">elif</span> backend_name == <span class="stringliteral">&#39;threading&#39;</span>:</div>
<div class="line"><span class="lineno">  647</span>            <span class="keyword">assert</span> type(active_backend) == ThreadingBackend</div>
<div class="line"><span class="lineno">  648</span>            <span class="keyword">assert</span> type(p._backend) == ThreadingBackend</div>
<div class="line"><span class="lineno">  649</span>        <span class="keywordflow">elif</span> backend_name.startswith(<span class="stringliteral">&#39;test_&#39;</span>):</div>
<div class="line"><span class="lineno">  650</span>            <span class="keyword">assert</span> type(active_backend) == FakeParallelBackend</div>
<div class="line"><span class="lineno">  651</span>            <span class="keyword">assert</span> type(p._backend) == FakeParallelBackend</div>
<div class="line"><span class="lineno">  652</span> </div>
<div class="line"><span class="lineno">  653</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a15b94f30574f77ee6cc10e2d018eea1e" name="a15b94f30574f77ee6cc10e2d018eea1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b94f30574f77ee6cc10e2d018eea1e">&#9670;&#160;</a></span>check_child_num_threads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.check_child_num_threads </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>workers_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_threads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1611</span><span class="keyword">def </span>check_child_num_threads(workers_info, parent_info, num_threads):</div>
<div class="line"><span class="lineno"> 1612</span>    <span class="comment"># Check that the number of threads reported in workers_info is consistent</span></div>
<div class="line"><span class="lineno"> 1613</span>    <span class="comment"># with the expectation. We need to be careful to handle the cases where</span></div>
<div class="line"><span class="lineno"> 1614</span>    <span class="comment"># the requested number of threads is below max_num_thread for the library.</span></div>
<div class="line"><span class="lineno"> 1615</span>    <span class="keywordflow">for</span> child_threadpool_info <span class="keywordflow">in</span> workers_info:</div>
<div class="line"><span class="lineno"> 1616</span>        <span class="keywordflow">for</span> child_module <span class="keywordflow">in</span> child_threadpool_info:</div>
<div class="line"><span class="lineno"> 1617</span>            parent_max_num_threads = _parent_max_num_threads_for(</div>
<div class="line"><span class="lineno"> 1618</span>                child_module, parent_info)</div>
<div class="line"><span class="lineno"> 1619</span>            expected = {min(num_threads, parent_max_num_threads), num_threads}</div>
<div class="line"><span class="lineno"> 1620</span>            <span class="keyword">assert</span> child_module[<span class="stringliteral">&#39;num_threads&#39;</span>] <span class="keywordflow">in</span> expected</div>
<div class="line"><span class="lineno"> 1621</span> </div>
<div class="line"><span class="lineno"> 1622</span> </div>
<div class="line"><span class="lineno"> 1623</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno"> 1624</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno"> 1625</span><span class="preprocessor">@parametrize(&#39;n_jobs&#39;, [2, 4, -2, -1])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac75ecf6a34261ec5ec16ed3415fc9480" name="ac75ecf6a34261ec5ec16ed3415fc9480"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac75ecf6a34261ec5ec16ed3415fc9480">&#9670;&#160;</a></span>check_memmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.check_memmap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1132</span><span class="keyword">def </span>check_memmap(a):</div>
<div class="line"><span class="lineno"> 1133</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(a, np.memmap):</div>
<div class="line"><span class="lineno"> 1134</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;Expected np.memmap instance, got %r&#39;</span>,</div>
<div class="line"><span class="lineno"> 1135</span>                        type(a))</div>
<div class="line"><span class="lineno"> 1136</span>    <span class="keywordflow">return</span> a.copy()  <span class="comment"># return a regular array instead of a memmap</span></div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno"> 1140</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno"> 1141</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PROCESS_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6bb17a9d99e5de13d30242e0362333b0" name="a6bb17a9d99e5de13d30242e0362333b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb17a9d99e5de13d30242e0362333b0">&#9670;&#160;</a></span>check_nesting_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.check_nesting_level </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inner_backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  802</span><span class="keyword">def </span>check_nesting_level(inner_backend, expected_level):</div>
<div class="line"><span class="lineno">  803</span>    <span class="keyword">with</span> parallel_backend(inner_backend) <span class="keyword">as</span> (backend, n_jobs):</div>
<div class="line"><span class="lineno">  804</span>        <span class="keyword">assert</span> backend.nesting_level == expected_level</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno">  808</span><span class="preprocessor">@parametrize(&#39;outer_backend&#39;, PARALLEL_BACKENDS)</span></div>
<div class="line"><span class="lineno">  809</span><span class="preprocessor">@parametrize(&#39;inner_backend&#39;, PARALLEL_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f8ce2d8adaca4e3245d50ada6e6b763" name="a2f8ce2d8adaca4e3245d50ada6e6b763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f8ce2d8adaca4e3245d50ada6e6b763">&#9670;&#160;</a></span>consumer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.consumer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  442</span><span class="keyword">def </span>consumer(queue, item):</div>
<div class="line"><span class="lineno">  443</span>    queue.append(<span class="stringliteral">&#39;Consumed %s&#39;</span> % item)</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span><span class="preprocessor">@parametrize(&#39;backend&#39;, BACKENDS)</span></div>
<div class="line"><span class="lineno">  447</span><span class="preprocessor">@parametrize</span>(<span class="stringliteral">&#39;batch_size, expected_queue&#39;</span>,</div>
<div class="line"><span class="lineno">  448</span>             [(1, [<span class="stringliteral">&#39;Produced 0&#39;</span>, <span class="stringliteral">&#39;Consumed 0&#39;</span>,</div>
<div class="line"><span class="lineno">  449</span>                   <span class="stringliteral">&#39;Produced 1&#39;</span>, <span class="stringliteral">&#39;Consumed 1&#39;</span>,</div>
<div class="line"><span class="lineno">  450</span>                   <span class="stringliteral">&#39;Produced 2&#39;</span>, <span class="stringliteral">&#39;Consumed 2&#39;</span>,</div>
<div class="line"><span class="lineno">  451</span>                   <span class="stringliteral">&#39;Produced 3&#39;</span>, <span class="stringliteral">&#39;Consumed 3&#39;</span>,</div>
<div class="line"><span class="lineno">  452</span>                   <span class="stringliteral">&#39;Produced 4&#39;</span>, <span class="stringliteral">&#39;Consumed 4&#39;</span>,</div>
<div class="line"><span class="lineno">  453</span>                   <span class="stringliteral">&#39;Produced 5&#39;</span>, <span class="stringliteral">&#39;Consumed 5&#39;</span>]),</div>
<div class="line"><span class="lineno">  454</span>              (4, [  <span class="comment"># First Batch</span></div>
<div class="line"><span class="lineno">  455</span>                  <span class="stringliteral">&#39;Produced 0&#39;</span>, <span class="stringliteral">&#39;Produced 1&#39;</span>, <span class="stringliteral">&#39;Produced 2&#39;</span>, <span class="stringliteral">&#39;Produced 3&#39;</span>,</div>
<div class="line"><span class="lineno">  456</span>                  <span class="stringliteral">&#39;Consumed 0&#39;</span>, <span class="stringliteral">&#39;Consumed 1&#39;</span>, <span class="stringliteral">&#39;Consumed 2&#39;</span>, <span class="stringliteral">&#39;Consumed 3&#39;</span>,</div>
<div class="line"><span class="lineno">  457</span>                     <span class="comment"># Second batch</span></div>
<div class="line"><span class="lineno">  458</span>                  <span class="stringliteral">&#39;Produced 4&#39;</span>, <span class="stringliteral">&#39;Produced 5&#39;</span>, <span class="stringliteral">&#39;Consumed 4&#39;</span>, <span class="stringliteral">&#39;Consumed 5&#39;</span>])])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a52f7b3687abeaa17e141e42f2bbc6870" name="a52f7b3687abeaa17e141e42f2bbc6870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52f7b3687abeaa17e141e42f2bbc6870">&#9670;&#160;</a></span>division()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.division </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   92</span><span class="keyword">def </span>division(x, y):</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">return</span> x / y</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3adb5bceb6e86118e344d3b34f03832c" name="a3adb5bceb6e86118e344d3b34f03832c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3adb5bceb6e86118e344d3b34f03832c">&#9670;&#160;</a></span>exception_raiser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.exception_raiser </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>custom_exception</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  107</span><span class="keyword">def </span>exception_raiser(x, custom_exception=False):</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">if</span> x == 7:</div>
<div class="line"><span class="lineno">  109</span>        <span class="keywordflow">raise</span> (MyExceptionWithFinickyInit(<span class="stringliteral">&#39;a&#39;</span>, <span class="stringliteral">&#39;b&#39;</span>, <span class="stringliteral">&#39;c&#39;</span>, <span class="stringliteral">&#39;d&#39;</span>)</div>
<div class="line"><span class="lineno">  110</span>               <span class="keywordflow">if</span> custom_exception <span class="keywordflow">else</span> ValueError)</div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">return</span> x</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad47ee45c1cf87c9c77073771ee42e201" name="ad47ee45c1cf87c9c77073771ee42e201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad47ee45c1cf87c9c77073771ee42e201">&#9670;&#160;</a></span>f()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.f </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>z</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> A module-level function so that it can be spawn with
multiprocessing.
</pre> <div class="fragment"><div class="line"><span class="lineno">  119</span><span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x, y=0, z=0):</div>
<div class="line"><span class="lineno">  120</span>    <span class="stringliteral">&quot;&quot;&quot; A module-level function so that it can be spawn with</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">    multiprocessing.</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">return</span> x ** 2 + y + z</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_af01a903df7bdb7a494f5827e45bf3a2a"><div class="ttname"><a href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a></div><div class="ttdeci">void int int int int npy_complex64 int int npy_complex64 float float npy_complex64 npy_complex64 * f</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:262</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15eaca82bfb87d11736b351644efd7f8" name="a15eaca82bfb87d11736b351644efd7f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15eaca82bfb87d11736b351644efd7f8">&#9670;&#160;</a></span>get_nested_pids()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.get_nested_pids </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  736</span><span class="keyword">def </span>get_nested_pids():</div>
<div class="line"><span class="lineno">  737</span>    <span class="keyword">assert</span> _active_backend_type() == ThreadingBackend</div>
<div class="line"><span class="lineno">  738</span>    <span class="comment"># Assert that the nested backend does not change the default number of</span></div>
<div class="line"><span class="lineno">  739</span>    <span class="comment"># jobs used in Parallel</span></div>
<div class="line"><span class="lineno">  740</span>    <span class="keyword">assert</span> Parallel()._effective_n_jobs() == 1</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>    <span class="comment"># Assert that the tasks are running only on one process</span></div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">return</span> Parallel(n_jobs=2)(delayed(sleep_and_return_pid)()</div>
<div class="line"><span class="lineno">  744</span>                              <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3aa879a6040a9ea3115ff6dcb3b0411" name="ac3aa879a6040a9ea3115ff6dcb3b0411"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3aa879a6040a9ea3115ff6dcb3b0411">&#9670;&#160;</a></span>get_workers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.get_workers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   88</span><span class="keyword">def </span>get_workers(backend):</div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">return</span> getattr(backend, <span class="stringliteral">&#39;_pool&#39;</span>, getattr(backend, <span class="stringliteral">&#39;_workers&#39;</span>, <span class="keywordtype">None</span>))</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a499ca420a1ac873e759b761b41e67ab5" name="a499ca420a1ac873e759b761b41e67ab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a499ca420a1ac873e759b761b41e67ab5">&#9670;&#160;</a></span>identity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.identity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1166</span><span class="keyword">def </span>identity(arg):</div>
<div class="line"><span class="lineno"> 1167</span>    <span class="keywordflow">return</span> arg</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span> </div>
<div class="line"><span class="lineno"> 1170</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno"> 1171</span><span class="preprocessor">@with_multiprocessing</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="adee437c03a2e974bfc3bfc80523f55cd" name="adee437c03a2e974bfc3bfc80523f55cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adee437c03a2e974bfc3bfc80523f55cd">&#9670;&#160;</a></span>interrupt_raiser()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.interrupt_raiser </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  114</span><span class="keyword">def </span>interrupt_raiser(x):</div>
<div class="line"><span class="lineno">  115</span>    time.sleep(.05)</div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">raise</span> KeyboardInterrupt</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a34cb4db6a13c1d80bfc154e5fbd45d13" name="a34cb4db6a13c1d80bfc154e5fbd45d13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34cb4db6a13c1d80bfc154e5fbd45d13">&#9670;&#160;</a></span>nested_function_inner()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.nested_function_inner </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  535</span><span class="keyword">def </span>nested_function_inner(i):</div>
<div class="line"><span class="lineno">  536</span>    Parallel(n_jobs=2)(</div>
<div class="line"><span class="lineno">  537</span>        delayed(exception_raiser)(j) <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(30))</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac09a9ad14359dc94833e1a1ae6d05ab4" name="ac09a9ad14359dc94833e1a1ae6d05ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac09a9ad14359dc94833e1a1ae6d05ab4">&#9670;&#160;</a></span>nested_function_outer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.nested_function_outer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  540</span><span class="keyword">def </span>nested_function_outer(i):</div>
<div class="line"><span class="lineno">  541</span>    Parallel(n_jobs=2)(</div>
<div class="line"><span class="lineno">  542</span>        delayed(nested_function_inner)(j) <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(30))</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno">  546</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PARALLEL_BACKENDS)</span></div>
<div class="line"><span class="lineno">  547</span><span class="preprocessor">@pytest.mark.xfail(reason=&quot;https://github.com/joblib/loky/pull/255&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="abfdc1908cd32c2944763021455e3de3a" name="abfdc1908cd32c2944763021455e3de3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abfdc1908cd32c2944763021455e3de3a">&#9670;&#160;</a></span>nested_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.nested_loop </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  268</span><span class="keyword">def </span>nested_loop(backend):</div>
<div class="line"><span class="lineno">  269</span>    Parallel(n_jobs=2, backend=backend)(</div>
<div class="line"><span class="lineno">  270</span>        delayed(square)(.01) <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span><span class="preprocessor">@parametrize(&#39;child_backend&#39;, BACKENDS)</span></div>
<div class="line"><span class="lineno">  274</span><span class="preprocessor">@parametrize(&#39;parent_backend&#39;, BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a93f42c51cf2e04a9ab365f1104057afa" name="a93f42c51cf2e04a9ab365f1104057afa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93f42c51cf2e04a9ab365f1104057afa">&#9670;&#160;</a></span>parallel_func()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.parallel_func </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inner_n_jobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  130</span><span class="keyword">def </span>parallel_func(inner_n_jobs, backend):</div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">return</span> Parallel(n_jobs=inner_n_jobs, backend=backend)(</div>
<div class="line"><span class="lineno">  132</span>        delayed(square)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3))</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a92797c398e89fae3fce82137430677e2" name="a92797c398e89fae3fce82137430677e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92797c398e89fae3fce82137430677e2">&#9670;&#160;</a></span>raise_exception()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.raise_exception </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  280</span><span class="keyword">def </span>raise_exception(backend):</div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordflow">raise</span> ValueError</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span><span class="preprocessor">@with_multiprocessing</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9caa1b72db8f40df46cef1df767067f" name="aa9caa1b72db8f40df46cef1df767067f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9caa1b72db8f40df46cef1df767067f">&#9670;&#160;</a></span>sleep_and_return_pid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.sleep_and_return_pid </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  731</span><span class="keyword">def </span>sleep_and_return_pid():</div>
<div class="line"><span class="lineno">  732</span>    sleep(.1)</div>
<div class="line"><span class="lineno">  733</span>    <span class="keywordflow">return</span> os.getpid()</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac78224a67c62d75b52672d74dd23d424" name="ac78224a67c62d75b52672d74dd23d424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac78224a67c62d75b52672d74dd23d424">&#9670;&#160;</a></span>square()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.square </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   96</span><span class="keyword">def </span>square(x):</div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">return</span> x ** 2</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b445c9ab92b56f7291ad361065fd2c2" name="a9b445c9ab92b56f7291ad361065fd2c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b445c9ab92b56f7291ad361065fd2c2">&#9670;&#160;</a></span>test_abort_backend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_abort_backend </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1198</span><span class="keyword">def </span>test_abort_backend(n_jobs, backend):</div>
<div class="line"><span class="lineno"> 1199</span>    delays = [<span class="stringliteral">&quot;a&quot;</span>] + [10] * 100</div>
<div class="line"><span class="lineno"> 1200</span>    <span class="keyword">with</span> raises(TypeError):</div>
<div class="line"><span class="lineno"> 1201</span>        t_start = time.time()</div>
<div class="line"><span class="lineno"> 1202</span>        Parallel(n_jobs=n_jobs, backend=backend)(</div>
<div class="line"><span class="lineno"> 1203</span>            delayed(time.sleep)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> delays)</div>
<div class="line"><span class="lineno"> 1204</span>    dt = time.time() - t_start</div>
<div class="line"><span class="lineno"> 1205</span>    <span class="keyword">assert</span> dt &lt; 20</div>
<div class="line"><span class="lineno"> 1206</span> </div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno"> 1209</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno"> 1210</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PROCESS_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0746fcc374da306b15038816c0c6db6e" name="a0746fcc374da306b15038816c0c6db6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0746fcc374da306b15038816c0c6db6e">&#9670;&#160;</a></span>test_auto_memmap_on_arrays_from_generator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_auto_memmap_on_arrays_from_generator </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1142</span><span class="keyword">def </span>test_auto_memmap_on_arrays_from_generator(backend):</div>
<div class="line"><span class="lineno"> 1143</span>    <span class="comment"># Non-regression test for a problem with a bad interaction between the</span></div>
<div class="line"><span class="lineno"> 1144</span>    <span class="comment"># GC collecting arrays recently created during iteration inside the</span></div>
<div class="line"><span class="lineno"> 1145</span>    <span class="comment"># parallel dispatch loop and the auto-memmap feature of Parallel.</span></div>
<div class="line"><span class="lineno"> 1146</span>    <span class="comment"># See: https://github.com/joblib/joblib/pull/294</span></div>
<div class="line"><span class="lineno"> 1147</span>    <span class="keyword">def </span>generate_arrays(n):</div>
<div class="line"><span class="lineno"> 1148</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(n):</div>
<div class="line"><span class="lineno"> 1149</span>            <span class="keywordflow">yield</span> np.ones(10, dtype=np.float32) * i</div>
<div class="line"><span class="lineno"> 1150</span>    <span class="comment"># Use max_nbytes=1 to force the use of memory-mapping even for small</span></div>
<div class="line"><span class="lineno"> 1151</span>    <span class="comment"># arrays</span></div>
<div class="line"><span class="lineno"> 1152</span>    results = Parallel(n_jobs=2, max_nbytes=1, backend=backend)(</div>
<div class="line"><span class="lineno"> 1153</span>        delayed(check_memmap)(a) <span class="keywordflow">for</span> a <span class="keywordflow">in</span> generate_arrays(100))</div>
<div class="line"><span class="lineno"> 1154</span>    <span class="keywordflow">for</span> result, expected <span class="keywordflow">in</span> zip(results, generate_arrays(len(results))):</div>
<div class="line"><span class="lineno"> 1155</span>        np.testing.assert_array_equal(expected, result)</div>
<div class="line"><span class="lineno"> 1156</span> </div>
<div class="line"><span class="lineno"> 1157</span>    <span class="comment"># Second call to force loky to adapt the executor by growing the number</span></div>
<div class="line"><span class="lineno"> 1158</span>    <span class="comment"># of worker processes. This is a non-regression test for:</span></div>
<div class="line"><span class="lineno"> 1159</span>    <span class="comment"># https://github.com/joblib/joblib/issues/629.</span></div>
<div class="line"><span class="lineno"> 1160</span>    results = Parallel(n_jobs=4, max_nbytes=1, backend=backend)(</div>
<div class="line"><span class="lineno"> 1161</span>        delayed(check_memmap)(a) <span class="keywordflow">for</span> a <span class="keywordflow">in</span> generate_arrays(100))</div>
<div class="line"><span class="lineno"> 1162</span>    <span class="keywordflow">for</span> result, expected <span class="keywordflow">in</span> zip(results, generate_arrays(len(results))):</div>
<div class="line"><span class="lineno"> 1163</span>        np.testing.assert_array_equal(expected, result)</div>
<div class="line"><span class="lineno"> 1164</span> </div>
<div class="line"><span class="lineno"> 1165</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a741868479827931d424ae7db17b6efc6" name="a741868479827931d424ae7db17b6efc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a741868479827931d424ae7db17b6efc6">&#9670;&#160;</a></span>test_backend_batch_statistics_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_backend_batch_statistics_reset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that a parallel backend correctly resets its batch statistics.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1259</span><span class="keyword">def </span>test_backend_batch_statistics_reset(backend):</div>
<div class="line"><span class="lineno"> 1260</span>    <span class="stringliteral">&quot;&quot;&quot;Test that a parallel backend correctly resets its batch statistics.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1261</span>    n_jobs = 2</div>
<div class="line"><span class="lineno"> 1262</span>    n_inputs = 500</div>
<div class="line"><span class="lineno"> 1263</span>    task_time = 2. / n_inputs</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>    p = Parallel(verbose=10, n_jobs=n_jobs, backend=backend)</div>
<div class="line"><span class="lineno"> 1266</span>    p(delayed(time.sleep)(task_time) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(n_inputs))</div>
<div class="line"><span class="lineno"> 1267</span>    <span class="keyword">assert</span> (p._backend._effective_batch_size ==</div>
<div class="line"><span class="lineno"> 1268</span>            p._backend._DEFAULT_EFFECTIVE_BATCH_SIZE)</div>
<div class="line"><span class="lineno"> 1269</span>    <span class="keyword">assert</span> (p._backend._smoothed_batch_duration ==</div>
<div class="line"><span class="lineno"> 1270</span>            p._backend._DEFAULT_SMOOTHED_BATCH_DURATION)</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>    p(delayed(time.sleep)(task_time) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(n_inputs))</div>
<div class="line"><span class="lineno"> 1273</span>    <span class="keyword">assert</span> (p._backend._effective_batch_size ==</div>
<div class="line"><span class="lineno"> 1274</span>            p._backend._DEFAULT_EFFECTIVE_BATCH_SIZE)</div>
<div class="line"><span class="lineno"> 1275</span>    <span class="keyword">assert</span> (p._backend._smoothed_batch_duration ==</div>
<div class="line"><span class="lineno"> 1276</span>            p._backend._DEFAULT_SMOOTHED_BATCH_DURATION)</div>
<div class="line"><span class="lineno"> 1277</span> </div>
<div class="line"><span class="lineno"> 1278</span> </div>
<div class="line"><span class="lineno"> 1279</span><span class="preprocessor">@with_multiprocessing</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af6e539a639287570f39c0d60b379dbfa" name="af6e539a639287570f39c0d60b379dbfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6e539a639287570f39c0d60b379dbfa">&#9670;&#160;</a></span>test_backend_context_manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_backend_context_manager </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>monkeypatch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  662</span><span class="keyword">def </span>test_backend_context_manager(monkeypatch, backend):</div>
<div class="line"><span class="lineno">  663</span>    <span class="keywordflow">if</span> backend <span class="keywordflow">not</span> <span class="keywordflow">in</span> BACKENDS:</div>
<div class="line"><span class="lineno">  664</span>        monkeypatch.setitem(BACKENDS, backend, FakeParallelBackend)</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>    <span class="keyword">assert</span> _active_backend_type() == DefaultBackend</div>
<div class="line"><span class="lineno">  667</span>    <span class="comment"># check that this possible to switch parallel backends sequentially</span></div>
<div class="line"><span class="lineno">  668</span>    check_backend_context_manager(backend)</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>    <span class="comment"># The default backend is restored</span></div>
<div class="line"><span class="lineno">  671</span>    <span class="keyword">assert</span> _active_backend_type() == DefaultBackend</div>
<div class="line"><span class="lineno">  672</span> </div>
<div class="line"><span class="lineno">  673</span>    <span class="comment"># Check that context manager switching is thread safe:</span></div>
<div class="line"><span class="lineno">  674</span>    Parallel(n_jobs=2, backend=<span class="stringliteral">&#39;threading&#39;</span>)(</div>
<div class="line"><span class="lineno">  675</span>        delayed(check_backend_context_manager)(b)</div>
<div class="line"><span class="lineno">  676</span>        <span class="keywordflow">for</span> b <span class="keywordflow">in</span> all_backends_for_context_manager <span class="keywordflow">if</span> <span class="keywordflow">not</span> b)</div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>    <span class="comment"># The default backend is again restored</span></div>
<div class="line"><span class="lineno">  679</span>    <span class="keyword">assert</span> _active_backend_type() == DefaultBackend</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abcc249db0021de5a55e631abed98bfdf" name="abcc249db0021de5a55e631abed98bfdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcc249db0021de5a55e631abed98bfdf">&#9670;&#160;</a></span>test_backend_hinting_and_constraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_backend_hinting_and_constraints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1280</span><span class="keyword">def </span>test_backend_hinting_and_constraints():</div>
<div class="line"><span class="lineno"> 1281</span>    <span class="keywordflow">for</span> n_jobs <span class="keywordflow">in</span> [1, 2, -1]:</div>
<div class="line"><span class="lineno"> 1282</span>        <span class="keyword">assert</span> type(Parallel(n_jobs=n_jobs)._backend) == LokyBackend</div>
<div class="line"><span class="lineno"> 1283</span> </div>
<div class="line"><span class="lineno"> 1284</span>        p = Parallel(n_jobs=n_jobs, prefer=<span class="stringliteral">&#39;threads&#39;</span>)</div>
<div class="line"><span class="lineno"> 1285</span>        <span class="keyword">assert</span> type(p._backend) == ThreadingBackend</div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span>        p = Parallel(n_jobs=n_jobs, prefer=<span class="stringliteral">&#39;processes&#39;</span>)</div>
<div class="line"><span class="lineno"> 1288</span>        <span class="keyword">assert</span> type(p._backend) == LokyBackend</div>
<div class="line"><span class="lineno"> 1289</span> </div>
<div class="line"><span class="lineno"> 1290</span>        p = Parallel(n_jobs=n_jobs, require=<span class="stringliteral">&#39;sharedmem&#39;</span>)</div>
<div class="line"><span class="lineno"> 1291</span>        <span class="keyword">assert</span> type(p._backend) == ThreadingBackend</div>
<div class="line"><span class="lineno"> 1292</span> </div>
<div class="line"><span class="lineno"> 1293</span>    <span class="comment"># Explicit backend selection can override backend hinting although it</span></div>
<div class="line"><span class="lineno"> 1294</span>    <span class="comment"># is useless to pass a hint when selecting a backend.</span></div>
<div class="line"><span class="lineno"> 1295</span>    p = Parallel(n_jobs=2, backend=<span class="stringliteral">&#39;loky&#39;</span>, prefer=<span class="stringliteral">&#39;threads&#39;</span>)</div>
<div class="line"><span class="lineno"> 1296</span>    <span class="keyword">assert</span> type(p._backend) == LokyBackend</div>
<div class="line"><span class="lineno"> 1297</span> </div>
<div class="line"><span class="lineno"> 1298</span>    <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;loky&#39;</span>, n_jobs=2):</div>
<div class="line"><span class="lineno"> 1299</span>        <span class="comment"># Explicit backend selection by the user with the context manager</span></div>
<div class="line"><span class="lineno"> 1300</span>        <span class="comment"># should be respected when combined with backend hints only.</span></div>
<div class="line"><span class="lineno"> 1301</span>        p = Parallel(prefer=<span class="stringliteral">&#39;threads&#39;</span>)</div>
<div class="line"><span class="lineno"> 1302</span>        <span class="keyword">assert</span> type(p._backend) == LokyBackend</div>
<div class="line"><span class="lineno"> 1303</span>        <span class="keyword">assert</span> p.n_jobs == 2</div>
<div class="line"><span class="lineno"> 1304</span> </div>
<div class="line"><span class="lineno"> 1305</span>    <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;loky&#39;</span>, n_jobs=2):</div>
<div class="line"><span class="lineno"> 1306</span>        <span class="comment"># Locally hard-coded n_jobs value is respected.</span></div>
<div class="line"><span class="lineno"> 1307</span>        p = Parallel(n_jobs=3, prefer=<span class="stringliteral">&#39;threads&#39;</span>)</div>
<div class="line"><span class="lineno"> 1308</span>        <span class="keyword">assert</span> type(p._backend) == LokyBackend</div>
<div class="line"><span class="lineno"> 1309</span>        <span class="keyword">assert</span> p.n_jobs == 3</div>
<div class="line"><span class="lineno"> 1310</span> </div>
<div class="line"><span class="lineno"> 1311</span>    <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;loky&#39;</span>, n_jobs=2):</div>
<div class="line"><span class="lineno"> 1312</span>        <span class="comment"># Explicit backend selection by the user with the context manager</span></div>
<div class="line"><span class="lineno"> 1313</span>        <span class="comment"># should be ignored when the Parallel call has hard constraints.</span></div>
<div class="line"><span class="lineno"> 1314</span>        <span class="comment"># In this case, the default backend that supports shared mem is</span></div>
<div class="line"><span class="lineno"> 1315</span>        <span class="comment"># used an the default number of processes is used.</span></div>
<div class="line"><span class="lineno"> 1316</span>        p = Parallel(require=<span class="stringliteral">&#39;sharedmem&#39;</span>)</div>
<div class="line"><span class="lineno"> 1317</span>        <span class="keyword">assert</span> type(p._backend) == ThreadingBackend</div>
<div class="line"><span class="lineno"> 1318</span>        <span class="keyword">assert</span> p.n_jobs == 1</div>
<div class="line"><span class="lineno"> 1319</span> </div>
<div class="line"><span class="lineno"> 1320</span>    <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;loky&#39;</span>, n_jobs=2):</div>
<div class="line"><span class="lineno"> 1321</span>        p = Parallel(n_jobs=3, require=<span class="stringliteral">&#39;sharedmem&#39;</span>)</div>
<div class="line"><span class="lineno"> 1322</span>        <span class="keyword">assert</span> type(p._backend) == ThreadingBackend</div>
<div class="line"><span class="lineno"> 1323</span>        <span class="keyword">assert</span> p.n_jobs == 3</div>
<div class="line"><span class="lineno"> 1324</span> </div>
<div class="line"><span class="lineno"> 1325</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9dc77e35f88fd7c2959ae74a56d724e2" name="a9dc77e35f88fd7c2959ae74a56d724e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dc77e35f88fd7c2959ae74a56d724e2">&#9670;&#160;</a></span>test_backend_hinting_and_constraints_with_custom_backends()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_backend_hinting_and_constraints_with_custom_backends </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>capsys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1326</span><span class="keyword">def </span>test_backend_hinting_and_constraints_with_custom_backends(capsys):</div>
<div class="line"><span class="lineno"> 1327</span>    <span class="comment"># Custom backends can declare that they use threads and have shared memory</span></div>
<div class="line"><span class="lineno"> 1328</span>    <span class="comment"># semantics:</span></div>
<div class="line"><span class="lineno"> 1329</span>    <span class="keyword">class </span>MyCustomThreadingBackend(ParallelBackendBase):</div>
<div class="line"><span class="lineno"> 1330</span>        supports_sharedmem = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1331</span>        use_threads = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>        <span class="keyword">def </span>apply_async(self):</div>
<div class="line"><span class="lineno"> 1334</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1335</span> </div>
<div class="line"><span class="lineno"> 1336</span>        <span class="keyword">def </span>effective_n_jobs(self, n_jobs):</div>
<div class="line"><span class="lineno"> 1337</span>            <span class="keywordflow">return</span> n_jobs</div>
<div class="line"><span class="lineno"> 1338</span> </div>
<div class="line"><span class="lineno"> 1339</span>    <span class="keyword">with</span> parallel_backend(MyCustomThreadingBackend()):</div>
<div class="line"><span class="lineno"> 1340</span>        p = Parallel(n_jobs=2, prefer=<span class="stringliteral">&#39;processes&#39;</span>)  <span class="comment"># ignored</span></div>
<div class="line"><span class="lineno"> 1341</span>        <span class="keyword">assert</span> type(p._backend) == MyCustomThreadingBackend</div>
<div class="line"><span class="lineno"> 1342</span> </div>
<div class="line"><span class="lineno"> 1343</span>        p = Parallel(n_jobs=2, require=<span class="stringliteral">&#39;sharedmem&#39;</span>)</div>
<div class="line"><span class="lineno"> 1344</span>        <span class="keyword">assert</span> type(p._backend) == MyCustomThreadingBackend</div>
<div class="line"><span class="lineno"> 1345</span> </div>
<div class="line"><span class="lineno"> 1346</span>    <span class="keyword">class </span>MyCustomProcessingBackend(ParallelBackendBase):</div>
<div class="line"><span class="lineno"> 1347</span>        supports_sharedmem = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1348</span>        use_threads = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1349</span> </div>
<div class="line"><span class="lineno"> 1350</span>        <span class="keyword">def </span>apply_async(self):</div>
<div class="line"><span class="lineno"> 1351</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1352</span> </div>
<div class="line"><span class="lineno"> 1353</span>        <span class="keyword">def </span>effective_n_jobs(self, n_jobs):</div>
<div class="line"><span class="lineno"> 1354</span>            <span class="keywordflow">return</span> n_jobs</div>
<div class="line"><span class="lineno"> 1355</span> </div>
<div class="line"><span class="lineno"> 1356</span>    <span class="keyword">with</span> parallel_backend(MyCustomProcessingBackend()):</div>
<div class="line"><span class="lineno"> 1357</span>        p = Parallel(n_jobs=2, prefer=<span class="stringliteral">&#39;processes&#39;</span>)</div>
<div class="line"><span class="lineno"> 1358</span>        <span class="keyword">assert</span> type(p._backend) == MyCustomProcessingBackend</div>
<div class="line"><span class="lineno"> 1359</span> </div>
<div class="line"><span class="lineno"> 1360</span>        out, err = capsys.readouterr()</div>
<div class="line"><span class="lineno"> 1361</span>        <span class="keyword">assert</span> out == <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1362</span>        <span class="keyword">assert</span> err == <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1363</span> </div>
<div class="line"><span class="lineno"> 1364</span>        p = Parallel(n_jobs=2, require=<span class="stringliteral">&#39;sharedmem&#39;</span>, verbose=10)</div>
<div class="line"><span class="lineno"> 1365</span>        <span class="keyword">assert</span> type(p._backend) == ThreadingBackend</div>
<div class="line"><span class="lineno"> 1366</span> </div>
<div class="line"><span class="lineno"> 1367</span>        out, err = capsys.readouterr()</div>
<div class="line"><span class="lineno"> 1368</span>        expected = (<span class="stringliteral">&quot;Using ThreadingBackend as joblib.Parallel backend &quot;</span></div>
<div class="line"><span class="lineno"> 1369</span>                    <span class="stringliteral">&quot;instead of MyCustomProcessingBackend as the latter &quot;</span></div>
<div class="line"><span class="lineno"> 1370</span>                    <span class="stringliteral">&quot;does not provide shared memory semantics.&quot;</span>)</div>
<div class="line"><span class="lineno"> 1371</span>        <span class="keyword">assert</span> out.strip() == expected</div>
<div class="line"><span class="lineno"> 1372</span>        <span class="keyword">assert</span> err == <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1373</span> </div>
<div class="line"><span class="lineno"> 1374</span>    <span class="keyword">with</span> raises(ValueError):</div>
<div class="line"><span class="lineno"> 1375</span>        Parallel(backend=MyCustomProcessingBackend(), require=<span class="stringliteral">&#39;sharedmem&#39;</span>)</div>
<div class="line"><span class="lineno"> 1376</span> </div>
<div class="line"><span class="lineno"> 1377</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ca153aca271919de8fdb103814c7b9b" name="a5ca153aca271919de8fdb103814c7b9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ca153aca271919de8fdb103814c7b9b">&#9670;&#160;</a></span>test_backend_nesting_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_backend_nesting_level </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>outer_backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inner_backend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  810</span><span class="keyword">def </span>test_backend_nesting_level(outer_backend, inner_backend):</div>
<div class="line"><span class="lineno">  811</span>    <span class="comment"># Check that the nesting level for the backend is correctly set</span></div>
<div class="line"><span class="lineno">  812</span>    check_nesting_level(outer_backend, 0)</div>
<div class="line"><span class="lineno">  813</span> </div>
<div class="line"><span class="lineno">  814</span>    Parallel(n_jobs=2, backend=outer_backend)(</div>
<div class="line"><span class="lineno">  815</span>        delayed(check_nesting_level)(inner_backend, 1)</div>
<div class="line"><span class="lineno">  816</span>        <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(10)</div>
<div class="line"><span class="lineno">  817</span>    )</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>    <span class="keyword">with</span> parallel_backend(inner_backend, n_jobs=2):</div>
<div class="line"><span class="lineno">  820</span>        Parallel()(delayed(check_nesting_level)(inner_backend, 1)</div>
<div class="line"><span class="lineno">  821</span>                   <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(10))</div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span><span class="preprocessor">@with_multiprocessing</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b94e38fb7ed004afb943569c1f63318" name="a1b94e38fb7ed004afb943569c1f63318"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b94e38fb7ed004afb943569c1f63318">&#9670;&#160;</a></span>test_backend_no_multiprocessing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_backend_no_multiprocessing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  623</span><span class="keyword">def </span>test_backend_no_multiprocessing():</div>
<div class="line"><span class="lineno">  624</span>    <span class="keyword">with</span> warns(UserWarning,</div>
<div class="line"><span class="lineno">  625</span>               match=<span class="stringliteral">&quot;joblib backend &#39;.*&#39; is not available on.*&quot;</span>):</div>
<div class="line"><span class="lineno">  626</span>        Parallel(backend=<span class="stringliteral">&#39;loky&#39;</span>)(delayed(square)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3))</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>    <span class="comment"># The below should now work without problems</span></div>
<div class="line"><span class="lineno">  629</span>    <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;loky&#39;</span>):</div>
<div class="line"><span class="lineno">  630</span>        Parallel()(delayed(square)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3))</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6655d9667a67491b6ad9b29641d4606d" name="a6655d9667a67491b6ad9b29641d4606d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6655d9667a67491b6ad9b29641d4606d">&#9670;&#160;</a></span>test_background_thread_parallelism()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_background_thread_parallelism </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  252</span><span class="keyword">def </span>test_background_thread_parallelism(backend):</div>
<div class="line"><span class="lineno">  253</span>    is_run_parallel = [<span class="keyword">False</span>]</div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span>    <span class="keyword">def </span>background_thread(is_run_parallel):</div>
<div class="line"><span class="lineno">  256</span>        <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> warninfo:</div>
<div class="line"><span class="lineno">  257</span>            Parallel(n_jobs=2)(</div>
<div class="line"><span class="lineno">  258</span>                delayed(sleep)(.1) <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(4))</div>
<div class="line"><span class="lineno">  259</span>        print(len(warninfo))</div>
<div class="line"><span class="lineno">  260</span>        is_run_parallel[0] = len(warninfo) == 0</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>    t = threading.Thread(target=background_thread, args=(is_run_parallel,))</div>
<div class="line"><span class="lineno">  263</span>    t.start()</div>
<div class="line"><span class="lineno">  264</span>    t.join()</div>
<div class="line"><span class="lineno">  265</span>    <span class="keyword">assert</span> is_run_parallel[0]</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae303b4d52915100fb2f4417fd12d2bdb" name="ae303b4d52915100fb2f4417fd12d2bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae303b4d52915100fb2f4417fd12d2bdb">&#9670;&#160;</a></span>test_batching_auto_subprocesses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_batching_auto_subprocesses </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  518</span><span class="keyword">def </span>test_batching_auto_subprocesses(backend):</div>
<div class="line"><span class="lineno">  519</span>    <span class="keyword">with</span> Parallel(n_jobs=2, batch_size=<span class="stringliteral">&#39;auto&#39;</span>, backend=backend) <span class="keyword">as</span> p:</div>
<div class="line"><span class="lineno">  520</span>        p(delayed(id)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(5000))  <span class="comment"># many very fast tasks</span></div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>        <span class="comment"># It should be strictly larger than 1 but as we don&#39;t want heisen</span></div>
<div class="line"><span class="lineno">  523</span>        <span class="comment"># failures on clogged CI worker environment be safe and only check that</span></div>
<div class="line"><span class="lineno">  524</span>        <span class="comment"># it&#39;s a strictly positive number.</span></div>
<div class="line"><span class="lineno">  525</span>        <span class="keyword">assert</span> p._backend.compute_batch_size() &gt; 0</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a09e9db12f983de9ac9eae505eda0e125" name="a09e9db12f983de9ac9eae505eda0e125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09e9db12f983de9ac9eae505eda0e125">&#9670;&#160;</a></span>test_batching_auto_threading()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_batching_auto_threading </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  506</span><span class="keyword">def </span>test_batching_auto_threading():</div>
<div class="line"><span class="lineno">  507</span>    <span class="comment"># batching=&#39;auto&#39; with the threading backend leaves the effective batch</span></div>
<div class="line"><span class="lineno">  508</span>    <span class="comment"># size to 1 (no batching) as it has been found to never be beneficial with</span></div>
<div class="line"><span class="lineno">  509</span>    <span class="comment"># this low-overhead backend.</span></div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <span class="keyword">with</span> Parallel(n_jobs=2, batch_size=<span class="stringliteral">&#39;auto&#39;</span>, backend=<span class="stringliteral">&#39;threading&#39;</span>) <span class="keyword">as</span> p:</div>
<div class="line"><span class="lineno">  512</span>        p(delayed(id)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(5000))  <span class="comment"># many very fast tasks</span></div>
<div class="line"><span class="lineno">  513</span>        <span class="keyword">assert</span> p._backend.compute_batch_size() == 1</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno">  517</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PROCESS_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa137bb50427fb339ee801b053ab57740" name="aa137bb50427fb339ee801b053ab57740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa137bb50427fb339ee801b053ab57740">&#9670;&#160;</a></span>test_cpu_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_cpu_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  136</span><span class="keyword">def </span>test_cpu_count():</div>
<div class="line"><span class="lineno">  137</span>    <span class="keyword">assert</span> cpu_count() &gt; 0</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afd18c3bc8581cb6c6795d2217fb283d0" name="afd18c3bc8581cb6c6795d2217fb283d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd18c3bc8581cb6c6795d2217fb283d0">&#9670;&#160;</a></span>test_dask_backend_when_dask_not_installed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_dask_backend_when_dask_not_installed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1535</span><span class="keyword">def </span>test_dask_backend_when_dask_not_installed():</div>
<div class="line"><span class="lineno"> 1536</span>    <span class="keyword">with</span> raises(ValueError, match=<span class="stringliteral">&#39;Please install dask&#39;</span>):</div>
<div class="line"><span class="lineno"> 1537</span>        parallel_backend(<span class="stringliteral">&#39;dask&#39;</span>)</div>
<div class="line"><span class="lineno"> 1538</span> </div>
<div class="line"><span class="lineno"> 1539</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a94e71b793bb2b2e0ab329df095a06a20" name="a94e71b793bb2b2e0ab329df095a06a20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94e71b793bb2b2e0ab329df095a06a20">&#9670;&#160;</a></span>test_default_mp_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_default_mp_context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  900</span><span class="keyword">def </span>test_default_mp_context():</div>
<div class="line"><span class="lineno">  901</span>    mp_start_method = mp.get_start_method()</div>
<div class="line"><span class="lineno">  902</span>    p = Parallel(n_jobs=2, backend=<span class="stringliteral">&#39;multiprocessing&#39;</span>)</div>
<div class="line"><span class="lineno">  903</span>    context = p._backend_args.get(<span class="stringliteral">&#39;context&#39;</span>)</div>
<div class="line"><span class="lineno">  904</span>    start_method = context.get_start_method()</div>
<div class="line"><span class="lineno">  905</span>    <span class="keyword">assert</span> start_method == mp_start_method</div>
<div class="line"><span class="lineno">  906</span> </div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno">  909</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno">  910</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PROCESS_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a26e6c73c51a0393ce4cf2065fdbb3cb2" name="a26e6c73c51a0393ce4cf2065fdbb3cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26e6c73c51a0393ce4cf2065fdbb3cb2">&#9670;&#160;</a></span>test_directly_parameterized_backend_context_manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_directly_parameterized_backend_context_manager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  711</span><span class="keyword">def </span>test_directly_parameterized_backend_context_manager():</div>
<div class="line"><span class="lineno">  712</span>    <span class="keyword">assert</span> _active_backend_type() == DefaultBackend</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>    <span class="comment"># Check that it&#39;s possible to pass a backend instance directly,</span></div>
<div class="line"><span class="lineno">  715</span>    <span class="comment"># without registration</span></div>
<div class="line"><span class="lineno">  716</span>    <span class="keyword">with</span> parallel_backend(ParameterizedParallelBackend(param=43), n_jobs=5):</div>
<div class="line"><span class="lineno">  717</span>        active_backend, active_n_jobs = parallel.get_active_backend()</div>
<div class="line"><span class="lineno">  718</span>        <span class="keyword">assert</span> type(active_backend) == ParameterizedParallelBackend</div>
<div class="line"><span class="lineno">  719</span>        <span class="keyword">assert</span> active_backend.param == 43</div>
<div class="line"><span class="lineno">  720</span>        <span class="keyword">assert</span> active_n_jobs == 5</div>
<div class="line"><span class="lineno">  721</span>        p = Parallel()</div>
<div class="line"><span class="lineno">  722</span>        <span class="keyword">assert</span> p.n_jobs == 5</div>
<div class="line"><span class="lineno">  723</span>        <span class="keyword">assert</span> p._backend <span class="keywordflow">is</span> active_backend</div>
<div class="line"><span class="lineno">  724</span>        results = p(delayed(sqrt)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(5))</div>
<div class="line"><span class="lineno">  725</span>    <span class="keyword">assert</span> results == [sqrt(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(5)]</div>
<div class="line"><span class="lineno">  726</span> </div>
<div class="line"><span class="lineno">  727</span>    <span class="comment"># The default backend is again restored</span></div>
<div class="line"><span class="lineno">  728</span>    <span class="keyword">assert</span> _active_backend_type() == DefaultBackend</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abefcda81dd4ecfb58debf11ff6d35e8a" name="abefcda81dd4ecfb58debf11ff6d35e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abefcda81dd4ecfb58debf11ff6d35e8a">&#9670;&#160;</a></span>test_dispatch_multiprocessing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_dispatch_multiprocessing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> Check that using pre_dispatch Parallel does indeed dispatch items
    lazily.
</pre> <div class="fragment"><div class="line"><span class="lineno">  477</span><span class="keyword">def </span>test_dispatch_multiprocessing(backend):</div>
<div class="line"><span class="lineno">  478</span>    <span class="stringliteral">&quot;&quot;&quot; Check that using pre_dispatch Parallel does indeed dispatch items</span></div>
<div class="line"><span class="lineno">  479</span><span class="stringliteral">        lazily.</span></div>
<div class="line"><span class="lineno">  480</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  481</span>    manager = mp.Manager()</div>
<div class="line"><span class="lineno">  482</span>    queue = manager.list()</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>    <span class="keyword">def </span>producer():</div>
<div class="line"><span class="lineno">  485</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(6):</div>
<div class="line"><span class="lineno">  486</span>            queue.append(<span class="stringliteral">&#39;Produced %i&#39;</span> % i)</div>
<div class="line"><span class="lineno">  487</span>            <span class="keywordflow">yield</span> i</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    Parallel(n_jobs=2, batch_size=1, pre_dispatch=3, backend=backend)(</div>
<div class="line"><span class="lineno">  490</span>        delayed(consumer)(queue, <span class="stringliteral">&#39;any&#39;</span>) <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> producer())</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>    queue_contents = list(queue)</div>
<div class="line"><span class="lineno">  493</span>    <span class="keyword">assert</span> queue_contents[0] == <span class="stringliteral">&#39;Produced 0&#39;</span></div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>    <span class="comment"># Only 3 tasks are pre-dispatched out of 6. The 4th task is dispatched only</span></div>
<div class="line"><span class="lineno">  496</span>    <span class="comment"># after any of the first 3 jobs have completed.</span></div>
<div class="line"><span class="lineno">  497</span>    first_consumption_index = queue_contents[:4].index(<span class="stringliteral">&#39;Consumed any&#39;</span>)</div>
<div class="line"><span class="lineno">  498</span>    <span class="keyword">assert</span> first_consumption_index &gt; -1</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>    produced_3_index = queue_contents.index(<span class="stringliteral">&#39;Produced 3&#39;</span>)  <span class="comment"># 4th task produced</span></div>
<div class="line"><span class="lineno">  501</span>    <span class="keyword">assert</span> produced_3_index &gt; first_consumption_index</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>    <span class="keyword">assert</span> len(queue) == 12</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad4228ddbb93cab4ee40bb1a4910ba78d" name="ad4228ddbb93cab4ee40bb1a4910ba78d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4228ddbb93cab4ee40bb1a4910ba78d">&#9670;&#160;</a></span>test_dispatch_one_job()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_dispatch_one_job </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected_queue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> Test that with only one job, Parallel does act as a iterator.
</pre> <div class="fragment"><div class="line"><span class="lineno">  459</span><span class="keyword">def </span>test_dispatch_one_job(backend, batch_size, expected_queue):</div>
<div class="line"><span class="lineno">  460</span>    <span class="stringliteral">&quot;&quot;&quot; Test that with only one job, Parallel does act as a iterator.</span></div>
<div class="line"><span class="lineno">  461</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  462</span>    queue = list()</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>    <span class="keyword">def </span>producer():</div>
<div class="line"><span class="lineno">  465</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(6):</div>
<div class="line"><span class="lineno">  466</span>            queue.append(<span class="stringliteral">&#39;Produced %i&#39;</span> % i)</div>
<div class="line"><span class="lineno">  467</span>            <span class="keywordflow">yield</span> i</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>    Parallel(n_jobs=1, batch_size=batch_size, backend=backend)(</div>
<div class="line"><span class="lineno">  470</span>        delayed(consumer)(queue, x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> producer())</div>
<div class="line"><span class="lineno">  471</span>    <span class="keyword">assert</span> queue == expected_queue</div>
<div class="line"><span class="lineno">  472</span>    <span class="keyword">assert</span> len(queue) == 12</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno">  476</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PARALLEL_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8810795173879a73304cfbda5159f668" name="a8810795173879a73304cfbda5159f668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8810795173879a73304cfbda5159f668">&#9670;&#160;</a></span>test_dispatch_race_condition()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_dispatch_race_condition </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_tasks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pre_dispatch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  888</span><span class="keyword">def </span>test_dispatch_race_condition(n_tasks, n_jobs, pre_dispatch, batch_size):</div>
<div class="line"><span class="lineno">  889</span>    <span class="comment"># Check that using (async-)dispatch does not yield a race condition on the</span></div>
<div class="line"><span class="lineno">  890</span>    <span class="comment"># iterable generator that is not thread-safe natively.</span></div>
<div class="line"><span class="lineno">  891</span>    <span class="comment"># This is a non-regression test for the &quot;Pool seems closed&quot; class of error</span></div>
<div class="line"><span class="lineno">  892</span>    params = {<span class="stringliteral">&#39;n_jobs&#39;</span>: n_jobs, <span class="stringliteral">&#39;pre_dispatch&#39;</span>: pre_dispatch,</div>
<div class="line"><span class="lineno">  893</span>              <span class="stringliteral">&#39;batch_size&#39;</span>: batch_size}</div>
<div class="line"><span class="lineno">  894</span>    expected = [square(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(n_tasks)]</div>
<div class="line"><span class="lineno">  895</span>    results = Parallel(**params)(delayed(square)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(n_tasks))</div>
<div class="line"><span class="lineno">  896</span>    <span class="keyword">assert</span> results == expected</div>
<div class="line"><span class="lineno">  897</span> </div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span><span class="preprocessor">@with_multiprocessing</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9f75b4b8a4b53ca292dc595719e5182" name="ae9f75b4b8a4b53ca292dc595719e5182"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f75b4b8a4b53ca292dc595719e5182">&#9670;&#160;</a></span>test_effective_n_jobs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_effective_n_jobs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  140</span><span class="keyword">def </span>test_effective_n_jobs():</div>
<div class="line"><span class="lineno">  141</span>    <span class="keyword">assert</span> effective_n_jobs() &gt; 0</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  145</span>    <span class="stringliteral">&quot;backend_n_jobs, expected_n_jobs&quot;</span>,</div>
<div class="line"><span class="lineno">  146</span>    [(3, 3), (-1, effective_n_jobs(n_jobs=-1)), (<span class="keywordtype">None</span>, 1)],</div>
<div class="line"><span class="lineno">  147</span>    ids=[<span class="stringliteral">&quot;positive-int&quot;</span>, <span class="stringliteral">&quot;negative-int&quot;</span>, <span class="stringliteral">&quot;None&quot;</span>]</div>
<div class="line"><span class="lineno">  148</span>)</div>
<div class="line"><span class="lineno">  149</span><span class="preprocessor">@with_multiprocessing</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a30dc4b04ff2c8025268bb3d0cc96a39f" name="a30dc4b04ff2c8025268bb3d0cc96a39f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30dc4b04ff2c8025268bb3d0cc96a39f">&#9670;&#160;</a></span>test_effective_n_jobs_None()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_effective_n_jobs_None </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend_n_jobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected_n_jobs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  150</span><span class="keyword">def </span>test_effective_n_jobs_None(backend_n_jobs, expected_n_jobs):</div>
<div class="line"><span class="lineno">  151</span>    <span class="comment"># check the number of effective jobs when `n_jobs=None`</span></div>
<div class="line"><span class="lineno">  152</span>    <span class="comment"># non-regression test for https://github.com/joblib/joblib/issues/984</span></div>
<div class="line"><span class="lineno">  153</span>    <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&quot;threading&quot;</span>, n_jobs=backend_n_jobs):</div>
<div class="line"><span class="lineno">  154</span>        <span class="comment"># when using a backend, the default of number jobs will be the one set</span></div>
<div class="line"><span class="lineno">  155</span>        <span class="comment"># in the backend</span></div>
<div class="line"><span class="lineno">  156</span>        <span class="keyword">assert</span> effective_n_jobs(n_jobs=<span class="keywordtype">None</span>) == expected_n_jobs</div>
<div class="line"><span class="lineno">  157</span>    <span class="comment"># without any backend, None will default to a single job</span></div>
<div class="line"><span class="lineno">  158</span>    <span class="keyword">assert</span> effective_n_jobs(n_jobs=<span class="keywordtype">None</span>) == 1</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0dfce06aff943eff7d311c14076541af" name="a0dfce06aff943eff7d311c14076541af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dfce06aff943eff7d311c14076541af">&#9670;&#160;</a></span>test_error_capture()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_error_capture </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  369</span><span class="keyword">def </span>test_error_capture(backend):</div>
<div class="line"><span class="lineno">  370</span>    <span class="comment"># Check that error are captured, and that correct exceptions</span></div>
<div class="line"><span class="lineno">  371</span>    <span class="comment"># are raised.</span></div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordflow">if</span> mp <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  373</span>        <span class="keyword">with</span> raises(ZeroDivisionError):</div>
<div class="line"><span class="lineno">  374</span>            Parallel(n_jobs=2, backend=backend)(</div>
<div class="line"><span class="lineno">  375</span>                [delayed(division)(x, y)</div>
<div class="line"><span class="lineno">  376</span>                    <span class="keywordflow">for</span> x, y <span class="keywordflow">in</span> zip((0, 1), (1, 0))])</div>
<div class="line"><span class="lineno">  377</span>        <span class="keyword">with</span> raises(WorkerInterrupt):</div>
<div class="line"><span class="lineno">  378</span>            Parallel(n_jobs=2, backend=backend)(</div>
<div class="line"><span class="lineno">  379</span>                [delayed(interrupt_raiser)(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> (1, 0)])</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>        <span class="comment"># Try again with the context manager API</span></div>
<div class="line"><span class="lineno">  382</span>        <span class="keyword">with</span> Parallel(n_jobs=2, backend=backend) <span class="keyword">as</span> parallel:</div>
<div class="line"><span class="lineno">  383</span>            <span class="keyword">assert</span> get_workers(parallel._backend) <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  384</span>            original_workers = get_workers(parallel._backend)</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>            <span class="keyword">with</span> raises(ZeroDivisionError):</div>
<div class="line"><span class="lineno">  387</span>                parallel([delayed(division)(x, y)</div>
<div class="line"><span class="lineno">  388</span>                          <span class="keywordflow">for</span> x, y <span class="keywordflow">in</span> zip((0, 1), (1, 0))])</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>            <span class="comment"># The managed pool should still be available and be in a working</span></div>
<div class="line"><span class="lineno">  391</span>            <span class="comment"># state despite the previously raised (and caught) exception</span></div>
<div class="line"><span class="lineno">  392</span>            <span class="keyword">assert</span> get_workers(parallel._backend) <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>            <span class="comment"># The pool should have been interrupted and restarted:</span></div>
<div class="line"><span class="lineno">  395</span>            <span class="keyword">assert</span> get_workers(parallel._backend) <span class="keywordflow">is</span> <span class="keywordflow">not</span> original_workers</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>            <span class="keyword">assert</span> ([<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x, y=1) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(10)] ==</div>
<div class="line"><span class="lineno">  398</span>                    parallel(delayed(f)(x, y=1) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(10)))</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>            original_workers = get_workers(parallel._backend)</div>
<div class="line"><span class="lineno">  401</span>            <span class="keyword">with</span> raises(WorkerInterrupt):</div>
<div class="line"><span class="lineno">  402</span>                parallel([delayed(interrupt_raiser)(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> (1, 0)])</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>            <span class="comment"># The pool should still be available despite the exception</span></div>
<div class="line"><span class="lineno">  405</span>            <span class="keyword">assert</span> get_workers(parallel._backend) <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>            <span class="comment"># The pool should have been interrupted and restarted:</span></div>
<div class="line"><span class="lineno">  408</span>            <span class="keyword">assert</span> get_workers(parallel._backend) <span class="keywordflow">is</span> <span class="keywordflow">not</span> original_workers</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>            <span class="keyword">assert</span> ([<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x, y=1) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(10)] ==</div>
<div class="line"><span class="lineno">  411</span>                    parallel(delayed(f)(x, y=1) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(10)))</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>        <span class="comment"># Check that the inner pool has been terminated when exiting the</span></div>
<div class="line"><span class="lineno">  414</span>        <span class="comment"># context manager</span></div>
<div class="line"><span class="lineno">  415</span>        <span class="keyword">assert</span> get_workers(parallel._backend) <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  416</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  417</span>        <span class="keyword">with</span> raises(KeyboardInterrupt):</div>
<div class="line"><span class="lineno">  418</span>            Parallel(n_jobs=2)(</div>
<div class="line"><span class="lineno">  419</span>                [delayed(interrupt_raiser)(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> (1, 0)])</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>    <span class="comment"># wrapped exceptions should inherit from the class of the original</span></div>
<div class="line"><span class="lineno">  422</span>    <span class="comment"># exception to make it easy to catch them</span></div>
<div class="line"><span class="lineno">  423</span>    <span class="keyword">with</span> raises(ZeroDivisionError):</div>
<div class="line"><span class="lineno">  424</span>        Parallel(n_jobs=2)(</div>
<div class="line"><span class="lineno">  425</span>            [delayed(division)(x, y) <span class="keywordflow">for</span> x, y <span class="keywordflow">in</span> zip((0, 1), (1, 0))])</div>
<div class="line"><span class="lineno">  426</span> </div>
<div class="line"><span class="lineno">  427</span>    <span class="keyword">with</span> raises(MyExceptionWithFinickyInit):</div>
<div class="line"><span class="lineno">  428</span>        Parallel(n_jobs=2, verbose=0)(</div>
<div class="line"><span class="lineno">  429</span>            (delayed(exception_raiser)(i, custom_exception=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  430</span>             <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(30)))</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  433</span>        <span class="comment"># JoblibException wrapping is disabled in sequential mode:</span></div>
<div class="line"><span class="lineno">  434</span>        Parallel(n_jobs=1)(</div>
<div class="line"><span class="lineno">  435</span>            delayed(division)(x, y) <span class="keywordflow">for</span> x, y <span class="keywordflow">in</span> zip((0, 1), (1, 0)))</div>
<div class="line"><span class="lineno">  436</span>    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> ex:</div>
<div class="line"><span class="lineno">  437</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> isinstance(ex, JoblibException)</div>
<div class="line"><span class="lineno">  438</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  439</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;The excepted error has not been raised.&quot;</span>)</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a63d8fb284dd1030e15dbda3683523268" name="a63d8fb284dd1030e15dbda3683523268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63d8fb284dd1030e15dbda3683523268">&#9670;&#160;</a></span>test_exception_dispatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_exception_dispatch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Make sure that exception raised during dispatch are indeed captured</pre> <div class="fragment"><div class="line"><span class="lineno">  528</span><span class="keyword">def </span>test_exception_dispatch():</div>
<div class="line"><span class="lineno">  529</span>    <span class="stringliteral">&quot;&quot;&quot;Make sure that exception raised during dispatch are indeed captured&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  530</span>    <span class="keyword">with</span> raises(ValueError):</div>
<div class="line"><span class="lineno">  531</span>        Parallel(n_jobs=2, pre_dispatch=16, verbose=0)(</div>
<div class="line"><span class="lineno">  532</span>            delayed(exception_raiser)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(30))</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a673d0047cf9617839923ed8ac089f73b" name="a673d0047cf9617839923ed8ac089f73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a673d0047cf9617839923ed8ac089f73b">&#9670;&#160;</a></span>test_external_backends()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_external_backends </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1409</span><span class="keyword">def </span>test_external_backends():</div>
<div class="line"><span class="lineno"> 1410</span>    <span class="keyword">def </span>register_foo():</div>
<div class="line"><span class="lineno"> 1411</span>        BACKENDS[<span class="stringliteral">&#39;foo&#39;</span>] = ThreadingBackend</div>
<div class="line"><span class="lineno"> 1412</span> </div>
<div class="line"><span class="lineno"> 1413</span>    EXTERNAL_BACKENDS[<span class="stringliteral">&#39;foo&#39;</span>] = register_foo</div>
<div class="line"><span class="lineno"> 1414</span> </div>
<div class="line"><span class="lineno"> 1415</span>    <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;foo&#39;</span>):</div>
<div class="line"><span class="lineno"> 1416</span>        <span class="keyword">assert</span> isinstance(Parallel()._backend, ThreadingBackend)</div>
<div class="line"><span class="lineno"> 1417</span> </div>
<div class="line"><span class="lineno"> 1418</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4f532b2115ce6899ecded89f420b161f" name="a4f532b2115ce6899ecded89f420b161f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f532b2115ce6899ecded89f420b161f">&#9670;&#160;</a></span>test_global_parallel_backend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_global_parallel_backend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1399</span><span class="keyword">def </span>test_global_parallel_backend():</div>
<div class="line"><span class="lineno"> 1400</span>    default = Parallel()._backend</div>
<div class="line"><span class="lineno"> 1401</span> </div>
<div class="line"><span class="lineno"> 1402</span>    pb = parallel_backend(<span class="stringliteral">&#39;threading&#39;</span>)</div>
<div class="line"><span class="lineno"> 1403</span>    <span class="keyword">assert</span> isinstance(Parallel()._backend, ThreadingBackend)</div>
<div class="line"><span class="lineno"> 1404</span> </div>
<div class="line"><span class="lineno"> 1405</span>    pb.unregister()</div>
<div class="line"><span class="lineno"> 1406</span>    <span class="keyword">assert</span> type(Parallel()._backend) <span class="keywordflow">is</span> type(default)</div>
<div class="line"><span class="lineno"> 1407</span> </div>
<div class="line"><span class="lineno"> 1408</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aef7e237b1b3ea0f7266cfcc9314ee8a0" name="aef7e237b1b3ea0f7266cfcc9314ee8a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef7e237b1b3ea0f7266cfcc9314ee8a0">&#9670;&#160;</a></span>test_globals_update_at_each_parallel_call()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_globals_update_at_each_parallel_call </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1559</span><span class="keyword">def </span>test_globals_update_at_each_parallel_call():</div>
<div class="line"><span class="lineno"> 1560</span>    <span class="comment"># This is a non-regression test related to joblib issues #836 and #833.</span></div>
<div class="line"><span class="lineno"> 1561</span>    <span class="comment"># Cloudpickle versions between 0.5.4 and 0.7 introduced a bug where global</span></div>
<div class="line"><span class="lineno"> 1562</span>    <span class="comment"># variables changes in a parent process between two calls to</span></div>
<div class="line"><span class="lineno"> 1563</span>    <span class="comment"># joblib.Parallel would not be propagated into the workers.</span></div>
<div class="line"><span class="lineno"> 1564</span>    <span class="keyword">global</span> MY_GLOBAL_VARIABLE</div>
<div class="line"><span class="lineno"> 1565</span>    MY_GLOBAL_VARIABLE = <span class="stringliteral">&quot;original value&quot;</span></div>
<div class="line"><span class="lineno"> 1566</span> </div>
<div class="line"><span class="lineno"> 1567</span>    <span class="keyword">def </span>check_globals():</div>
<div class="line"><span class="lineno"> 1568</span>        <span class="keyword">global</span> MY_GLOBAL_VARIABLE</div>
<div class="line"><span class="lineno"> 1569</span>        <span class="keywordflow">return</span> MY_GLOBAL_VARIABLE</div>
<div class="line"><span class="lineno"> 1570</span> </div>
<div class="line"><span class="lineno"> 1571</span>    <span class="keyword">assert</span> check_globals() == <span class="stringliteral">&quot;original value&quot;</span></div>
<div class="line"><span class="lineno"> 1572</span> </div>
<div class="line"><span class="lineno"> 1573</span>    workers_global_variable = Parallel(n_jobs=2)(</div>
<div class="line"><span class="lineno"> 1574</span>        delayed(check_globals)() <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno"> 1575</span>    <span class="keyword">assert</span> set(workers_global_variable) == {<span class="stringliteral">&quot;original value&quot;</span>}</div>
<div class="line"><span class="lineno"> 1576</span> </div>
<div class="line"><span class="lineno"> 1577</span>    <span class="comment"># Change the value of MY_GLOBAL_VARIABLE, and make sure this change gets</span></div>
<div class="line"><span class="lineno"> 1578</span>    <span class="comment"># propagated into the workers environment</span></div>
<div class="line"><span class="lineno"> 1579</span>    MY_GLOBAL_VARIABLE = <span class="stringliteral">&quot;changed value&quot;</span></div>
<div class="line"><span class="lineno"> 1580</span>    <span class="keyword">assert</span> check_globals() == <span class="stringliteral">&quot;changed value&quot;</span></div>
<div class="line"><span class="lineno"> 1581</span> </div>
<div class="line"><span class="lineno"> 1582</span>    workers_global_variable = Parallel(n_jobs=2)(</div>
<div class="line"><span class="lineno"> 1583</span>        delayed(check_globals)() <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno"> 1584</span>    <span class="keyword">assert</span> set(workers_global_variable) == {<span class="stringliteral">&quot;changed value&quot;</span>}</div>
<div class="line"><span class="lineno"> 1585</span> </div>
<div class="line"><span class="lineno"> 1586</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6d08184017ecca324d017ad006e6efb" name="ac6d08184017ecca324d017ad006e6efb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d08184017ecca324d017ad006e6efb">&#9670;&#160;</a></span>test_invalid_backend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_invalid_backend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  583</span><span class="keyword">def </span>test_invalid_backend():</div>
<div class="line"><span class="lineno">  584</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno">  585</span>        Parallel(backend=<span class="stringliteral">&#39;unit-testing&#39;</span>)</div>
<div class="line"><span class="lineno">  586</span>    <span class="keyword">assert</span> <span class="stringliteral">&quot;Invalid backend:&quot;</span> <span class="keywordflow">in</span> str(excinfo.value)</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno">  589</span>        <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;unit-testing&#39;</span>):</div>
<div class="line"><span class="lineno">  590</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  591</span>    <span class="keyword">assert</span> <span class="stringliteral">&quot;Invalid backend:&quot;</span> <span class="keywordflow">in</span> str(excinfo.value)</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span><span class="preprocessor">@parametrize(&#39;backend&#39;, ALL_VALID_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ed1ad468ef9233605d834cab68f92b7" name="a5ed1ad468ef9233605d834cab68f92b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ed1ad468ef9233605d834cab68f92b7">&#9670;&#160;</a></span>test_invalid_backend_hinting_and_constraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_invalid_backend_hinting_and_constraints </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1378</span><span class="keyword">def </span>test_invalid_backend_hinting_and_constraints():</div>
<div class="line"><span class="lineno"> 1379</span>    <span class="keyword">with</span> raises(ValueError):</div>
<div class="line"><span class="lineno"> 1380</span>        Parallel(prefer=<span class="stringliteral">&#39;invalid&#39;</span>)</div>
<div class="line"><span class="lineno"> 1381</span> </div>
<div class="line"><span class="lineno"> 1382</span>    <span class="keyword">with</span> raises(ValueError):</div>
<div class="line"><span class="lineno"> 1383</span>        Parallel(require=<span class="stringliteral">&#39;invalid&#39;</span>)</div>
<div class="line"><span class="lineno"> 1384</span> </div>
<div class="line"><span class="lineno"> 1385</span>    <span class="keyword">with</span> raises(ValueError):</div>
<div class="line"><span class="lineno"> 1386</span>        <span class="comment"># It is inconsistent to prefer process-based parallelism while</span></div>
<div class="line"><span class="lineno"> 1387</span>        <span class="comment"># requiring shared memory semantics.</span></div>
<div class="line"><span class="lineno"> 1388</span>        Parallel(prefer=<span class="stringliteral">&#39;processes&#39;</span>, require=<span class="stringliteral">&#39;sharedmem&#39;</span>)</div>
<div class="line"><span class="lineno"> 1389</span> </div>
<div class="line"><span class="lineno"> 1390</span>    <span class="keywordflow">if</span> mp <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1391</span>        <span class="comment"># It is inconsistent to ask explicitly for a process-based</span></div>
<div class="line"><span class="lineno"> 1392</span>        <span class="comment"># parallelism while requiring shared memory semantics.</span></div>
<div class="line"><span class="lineno"> 1393</span>        <span class="keyword">with</span> raises(ValueError):</div>
<div class="line"><span class="lineno"> 1394</span>            Parallel(backend=<span class="stringliteral">&#39;loky&#39;</span>, require=<span class="stringliteral">&#39;sharedmem&#39;</span>)</div>
<div class="line"><span class="lineno"> 1395</span>        <span class="keyword">with</span> raises(ValueError):</div>
<div class="line"><span class="lineno"> 1396</span>            Parallel(backend=<span class="stringliteral">&#39;multiprocessing&#39;</span>, require=<span class="stringliteral">&#39;sharedmem&#39;</span>)</div>
<div class="line"><span class="lineno"> 1397</span> </div>
<div class="line"><span class="lineno"> 1398</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae438bf5eda6420761664aa6bbb4ccbcb" name="ae438bf5eda6420761664aa6bbb4ccbcb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae438bf5eda6420761664aa6bbb4ccbcb">&#9670;&#160;</a></span>test_invalid_batch_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_invalid_batch_size </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch_size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  871</span><span class="keyword">def </span>test_invalid_batch_size(batch_size):</div>
<div class="line"><span class="lineno">  872</span>    <span class="keyword">with</span> raises(ValueError):</div>
<div class="line"><span class="lineno">  873</span>        Parallel(batch_size=batch_size)</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span><span class="preprocessor">@parametrize</span>(<span class="stringliteral">&#39;n_tasks, n_jobs, pre_dispatch, batch_size&#39;</span>,</div>
<div class="line"><span class="lineno">  877</span>             [(2, 2, <span class="stringliteral">&#39;all&#39;</span>, <span class="stringliteral">&#39;auto&#39;</span>),</div>
<div class="line"><span class="lineno">  878</span>              (2, 2, <span class="stringliteral">&#39;n_jobs&#39;</span>, <span class="stringliteral">&#39;auto&#39;</span>),</div>
<div class="line"><span class="lineno">  879</span>              (10, 2, <span class="stringliteral">&#39;n_jobs&#39;</span>, <span class="stringliteral">&#39;auto&#39;</span>),</div>
<div class="line"><span class="lineno">  880</span>              (517, 2, <span class="stringliteral">&#39;n_jobs&#39;</span>, <span class="stringliteral">&#39;auto&#39;</span>),</div>
<div class="line"><span class="lineno">  881</span>              (10, 2, <span class="stringliteral">&#39;n_jobs&#39;</span>, <span class="stringliteral">&#39;auto&#39;</span>),</div>
<div class="line"><span class="lineno">  882</span>              (10, 4, <span class="stringliteral">&#39;n_jobs&#39;</span>, <span class="stringliteral">&#39;auto&#39;</span>),</div>
<div class="line"><span class="lineno">  883</span>              (200, 12, <span class="stringliteral">&#39;n_jobs&#39;</span>, <span class="stringliteral">&#39;auto&#39;</span>),</div>
<div class="line"><span class="lineno">  884</span>              (25, 12, <span class="stringliteral">&#39;2 * n_jobs&#39;</span>, 1),</div>
<div class="line"><span class="lineno">  885</span>              (250, 12, <span class="stringliteral">&#39;all&#39;</span>, 1),</div>
<div class="line"><span class="lineno">  886</span>              (250, 12, <span class="stringliteral">&#39;2 * n_jobs&#39;</span>, 7),</div>
<div class="line"><span class="lineno">  887</span>              (200, 12, <span class="stringliteral">&#39;2 * n_jobs&#39;</span>, <span class="stringliteral">&#39;auto&#39;</span>)])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a042a5d80b0bda60e8eb785cbb4afdce5" name="a042a5d80b0bda60e8eb785cbb4afdce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a042a5d80b0bda60e8eb785cbb4afdce5">&#9670;&#160;</a></span>test_invalid_njobs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_invalid_njobs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  595</span><span class="keyword">def </span>test_invalid_njobs(backend):</div>
<div class="line"><span class="lineno">  596</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno">  597</span>        Parallel(n_jobs=0, backend=backend)._initialize_backend()</div>
<div class="line"><span class="lineno">  598</span>    <span class="keyword">assert</span> <span class="stringliteral">&quot;n_jobs == 0 in Parallel has no meaning&quot;</span> <span class="keywordflow">in</span> str(excinfo.value)</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac39c14d875a3bd20c5bc44d17ae6f289" name="ac39c14d875a3bd20c5bc44d17ae6f289"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac39c14d875a3bd20c5bc44d17ae6f289">&#9670;&#160;</a></span>test_joblib_exception()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_joblib_exception </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test helpers. </p>
<div class="fragment"><div class="line"><span class="lineno">  851</span><span class="keyword">def </span>test_joblib_exception():</div>
<div class="line"><span class="lineno">  852</span>    <span class="comment"># Smoke-test the custom exception</span></div>
<div class="line"><span class="lineno">  853</span>    e = JoblibException(<span class="stringliteral">&#39;foobar&#39;</span>)</div>
<div class="line"><span class="lineno">  854</span>    <span class="comment"># Test the repr</span></div>
<div class="line"><span class="lineno">  855</span>    repr(e)</div>
<div class="line"><span class="lineno">  856</span>    <span class="comment"># Test the pickle</span></div>
<div class="line"><span class="lineno">  857</span>    pickle.dumps(e)</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ada4d8bf7fdd910eb2f0b13c1c8f7a1b4" name="ada4d8bf7fdd910eb2f0b13c1c8f7a1b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada4d8bf7fdd910eb2f0b13c1c8f7a1b4">&#9670;&#160;</a></span>test_lambda_expression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_lambda_expression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1250</span><span class="keyword">def </span>test_lambda_expression(backend):</div>
<div class="line"><span class="lineno"> 1251</span>    <span class="comment"># cloudpickle is used to pickle delayed callables</span></div>
<div class="line"><span class="lineno"> 1252</span>    results = Parallel(n_jobs=2, backend=backend)(</div>
<div class="line"><span class="lineno"> 1253</span>        delayed(<span class="keyword">lambda</span> x: x ** 2)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(10))</div>
<div class="line"><span class="lineno"> 1254</span>    <span class="keyword">assert</span> results == [i ** 2 <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(10)]</div>
<div class="line"><span class="lineno"> 1255</span> </div>
<div class="line"><span class="lineno"> 1256</span> </div>
<div class="line"><span class="lineno"> 1257</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno"> 1258</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PROCESS_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fc875a4b7ee486efdd465cfd0edd59d" name="a2fc875a4b7ee486efdd465cfd0edd59d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fc875a4b7ee486efdd465cfd0edd59d">&#9670;&#160;</a></span>test_loky_reuse_workers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_loky_reuse_workers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1720</span><span class="keyword">def </span>test_loky_reuse_workers(n_jobs):</div>
<div class="line"><span class="lineno"> 1721</span>    <span class="comment"># Non-regression test for issue #967 where the workers are not reused when</span></div>
<div class="line"><span class="lineno"> 1722</span>    <span class="comment"># calling multiple Parallel loops.</span></div>
<div class="line"><span class="lineno"> 1723</span> </div>
<div class="line"><span class="lineno"> 1724</span>    <span class="keyword">def </span>parallel_call(n_jobs):</div>
<div class="line"><span class="lineno"> 1725</span>        x = range(10)</div>
<div class="line"><span class="lineno"> 1726</span>        Parallel(n_jobs=n_jobs)(delayed(sum)(x) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(10))</div>
<div class="line"><span class="lineno"> 1727</span> </div>
<div class="line"><span class="lineno"> 1728</span>    <span class="comment"># Run a parallel loop and get the workers used for computations</span></div>
<div class="line"><span class="lineno"> 1729</span>    parallel_call(n_jobs)</div>
<div class="line"><span class="lineno"> 1730</span>    first_executor = get_reusable_executor(reuse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1731</span> </div>
<div class="line"><span class="lineno"> 1732</span>    <span class="comment"># Ensure that the workers are reused for the next calls, as the executor is</span></div>
<div class="line"><span class="lineno"> 1733</span>    <span class="comment"># not restarted.</span></div>
<div class="line"><span class="lineno"> 1734</span>    <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(10):</div>
<div class="line"><span class="lineno"> 1735</span>        parallel_call(n_jobs)</div>
<div class="line"><span class="lineno"> 1736</span>        executor = get_reusable_executor(reuse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1737</span>        <span class="keyword">assert</span> executor == first_executor</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7a708f8e6b96d66cbc6f4228430feff" name="ad7a708f8e6b96d66cbc6f4228430feff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7a708f8e6b96d66cbc6f4228430feff">&#9670;&#160;</a></span>test_main_thread_renamed_no_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_main_thread_renamed_no_warning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>monkeypatch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  175</span><span class="keyword">def </span>test_main_thread_renamed_no_warning(backend, monkeypatch):</div>
<div class="line"><span class="lineno">  176</span>    <span class="comment"># Check that no default backend relies on the name of the main thread:</span></div>
<div class="line"><span class="lineno">  177</span>    <span class="comment"># https://github.com/joblib/joblib/issues/180#issuecomment-253266247</span></div>
<div class="line"><span class="lineno">  178</span>    <span class="comment"># Some programs use a different name for the main thread. This is the case</span></div>
<div class="line"><span class="lineno">  179</span>    <span class="comment"># for uWSGI apps for instance.</span></div>
<div class="line"><span class="lineno">  180</span>    monkeypatch.setattr(target=threading.current_thread(), name=<span class="stringliteral">&#39;name&#39;</span>,</div>
<div class="line"><span class="lineno">  181</span>                        value=<span class="stringliteral">&#39;some_new_name_for_the_main_thread&#39;</span>)</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> warninfo:</div>
<div class="line"><span class="lineno">  184</span>        results = Parallel(n_jobs=2, backend=backend)(</div>
<div class="line"><span class="lineno">  185</span>            delayed(square)(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(3))</div>
<div class="line"><span class="lineno">  186</span>        <span class="keyword">assert</span> results == [0, 1, 4]</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <span class="comment"># Due to the default parameters of LokyBackend, there is a chance that</span></div>
<div class="line"><span class="lineno">  189</span>    <span class="comment"># warninfo catches Warnings from worker timeouts. We remove it if it exists</span></div>
<div class="line"><span class="lineno">  190</span>    warninfo = [w <span class="keywordflow">for</span> w <span class="keywordflow">in</span> warninfo <span class="keywordflow">if</span> <span class="stringliteral">&quot;worker timeout&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> str(w.message)]</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>    <span class="comment"># The multiprocessing backend will raise a warning when detecting that is</span></div>
<div class="line"><span class="lineno">  193</span>    <span class="comment"># started from the non-main thread. Let&#39;s check that there is no false</span></div>
<div class="line"><span class="lineno">  194</span>    <span class="comment"># positive because of the name change.</span></div>
<div class="line"><span class="lineno">  195</span>    <span class="keyword">assert</span> len(warninfo) == 0</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7220bb989e541eb6174cb6bf7941228" name="ae7220bb989e541eb6174cb6bf7941228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7220bb989e541eb6174cb6bf7941228">&#9670;&#160;</a></span>test_memmap_with_big_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_memmap_with_big_offset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1172</span><span class="keyword">def </span>test_memmap_with_big_offset(tmpdir):</div>
<div class="line"><span class="lineno"> 1173</span>    fname = tmpdir.join(<span class="stringliteral">&#39;test.mmap&#39;</span>).strpath</div>
<div class="line"><span class="lineno"> 1174</span>    size = mmap.ALLOCATIONGRANULARITY</div>
<div class="line"><span class="lineno"> 1175</span>    obj = [np.zeros(size, dtype=<span class="stringliteral">&#39;uint8&#39;</span>), np.ones(size, dtype=<span class="stringliteral">&#39;uint8&#39;</span>)]</div>
<div class="line"><span class="lineno"> 1176</span>    dump(obj, fname)</div>
<div class="line"><span class="lineno"> 1177</span>    memmap = load(fname, mmap_mode=<span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno"> 1178</span>    result, = Parallel(n_jobs=2)(delayed(identity)(memmap) <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> [0])</div>
<div class="line"><span class="lineno"> 1179</span>    <span class="keyword">assert</span> isinstance(memmap[1], np.memmap)</div>
<div class="line"><span class="lineno"> 1180</span>    <span class="keyword">assert</span> memmap[1].offset &gt; size</div>
<div class="line"><span class="lineno"> 1181</span>    np.testing.assert_array_equal(obj, result)</div>
<div class="line"><span class="lineno"> 1182</span> </div>
<div class="line"><span class="lineno"> 1183</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a64306405d590908315122e909999fcce" name="a64306405d590908315122e909999fcce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64306405d590908315122e909999fcce">&#9670;&#160;</a></span>test_memmapping_leaks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_memmapping_leaks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1211</span><span class="keyword">def </span>test_memmapping_leaks(backend, tmpdir):</div>
<div class="line"><span class="lineno"> 1212</span>    <span class="comment"># Non-regression test for memmapping backends. Ensure that the data</span></div>
<div class="line"><span class="lineno"> 1213</span>    <span class="comment"># does not stay too long in memory</span></div>
<div class="line"><span class="lineno"> 1214</span>    tmpdir = tmpdir.strpath</div>
<div class="line"><span class="lineno"> 1215</span> </div>
<div class="line"><span class="lineno"> 1216</span>    <span class="comment"># Use max_nbytes=1 to force the use of memory-mapping even for small</span></div>
<div class="line"><span class="lineno"> 1217</span>    <span class="comment"># arrays</span></div>
<div class="line"><span class="lineno"> 1218</span>    <span class="keyword">with</span> Parallel(n_jobs=2, max_nbytes=1, backend=backend,</div>
<div class="line"><span class="lineno"> 1219</span>                  temp_folder=tmpdir) <span class="keyword">as</span> p:</div>
<div class="line"><span class="lineno"> 1220</span>        p(delayed(check_memmap)(a) <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [np.random.random(10)] * 2)</div>
<div class="line"><span class="lineno"> 1221</span> </div>
<div class="line"><span class="lineno"> 1222</span>        <span class="comment"># The memmap folder should not be clean in the context scope</span></div>
<div class="line"><span class="lineno"> 1223</span>        <span class="keyword">assert</span> len(os.listdir(tmpdir)) &gt; 0</div>
<div class="line"><span class="lineno"> 1224</span> </div>
<div class="line"><span class="lineno"> 1225</span>    <span class="comment"># Make sure that the shared memory is cleaned at the end when we exit</span></div>
<div class="line"><span class="lineno"> 1226</span>    <span class="comment"># the context</span></div>
<div class="line"><span class="lineno"> 1227</span>    <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(100):</div>
<div class="line"><span class="lineno"> 1228</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.listdir(tmpdir):</div>
<div class="line"><span class="lineno"> 1229</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1230</span>        sleep(.1)</div>
<div class="line"><span class="lineno"> 1231</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1232</span>        <span class="keywordflow">raise</span> AssertionError(<span class="stringliteral">&#39;temporary directory of Parallel was not removed&#39;</span>)</div>
<div class="line"><span class="lineno"> 1233</span> </div>
<div class="line"><span class="lineno"> 1234</span>    <span class="comment"># Make sure that the shared memory is cleaned at the end of a call</span></div>
<div class="line"><span class="lineno"> 1235</span>    p = Parallel(n_jobs=2, max_nbytes=1, backend=backend)</div>
<div class="line"><span class="lineno"> 1236</span>    p(delayed(check_memmap)(a) <span class="keywordflow">for</span> a <span class="keywordflow">in</span> [np.random.random(10)] * 2)</div>
<div class="line"><span class="lineno"> 1237</span> </div>
<div class="line"><span class="lineno"> 1238</span>    <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(100):</div>
<div class="line"><span class="lineno"> 1239</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.listdir(tmpdir):</div>
<div class="line"><span class="lineno"> 1240</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1241</span>        sleep(.1)</div>
<div class="line"><span class="lineno"> 1242</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1243</span>        <span class="keywordflow">raise</span> AssertionError(<span class="stringliteral">&#39;temporary directory of Parallel was not removed&#39;</span>)</div>
<div class="line"><span class="lineno"> 1244</span> </div>
<div class="line"><span class="lineno"> 1245</span> </div>
<div class="line"><span class="lineno"> 1246</span><span class="preprocessor">@parametrize</span>(<span class="stringliteral">&#39;backend&#39;</span>,</div>
<div class="line"><span class="lineno"> 1247</span>             ([<span class="keywordtype">None</span>, <span class="stringliteral">&#39;threading&#39;</span>] <span class="keywordflow">if</span> mp <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1248</span>              <span class="keywordflow">else</span> [<span class="keywordtype">None</span>, <span class="stringliteral">&#39;loky&#39;</span>, <span class="stringliteral">&#39;threading&#39;</span>])</div>
<div class="line"><span class="lineno"> 1249</span>             )</div>
</div><!-- fragment -->
</div>
</div>
<a id="af7a966e4747b0fb9148d58526f111faa" name="af7a966e4747b0fb9148d58526f111faa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7a966e4747b0fb9148d58526f111faa">&#9670;&#160;</a></span>test_mutate_input_with_threads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_mutate_input_with_threads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Input is mutable when using the threading backend</pre> <div class="fragment"><div class="line"><span class="lineno">  292</span><span class="keyword">def </span>test_mutate_input_with_threads():</div>
<div class="line"><span class="lineno">  293</span>    <span class="stringliteral">&quot;&quot;&quot;Input is mutable when using the threading backend&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  294</span>    q = Queue(maxsize=5)</div>
<div class="line"><span class="lineno">  295</span>    Parallel(n_jobs=2, backend=<span class="stringliteral">&quot;threading&quot;</span>)(</div>
<div class="line"><span class="lineno">  296</span>        delayed(q.put)(1) <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(5))</div>
<div class="line"><span class="lineno">  297</span>    <span class="keyword">assert</span> q.full()</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span><span class="preprocessor">@parametrize(&#39;n_jobs&#39;, [1, 2, 3])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a511217da6d2e973ce47b840e73f3253b" name="a511217da6d2e973ce47b840e73f3253b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a511217da6d2e973ce47b840e73f3253b">&#9670;&#160;</a></span>test_nested_backend_context_manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_nested_backend_context_manager </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  760</span><span class="keyword">def </span>test_nested_backend_context_manager(backend):</div>
<div class="line"><span class="lineno">  761</span>    <span class="comment"># Check that by default, nested parallel calls will always use the</span></div>
<div class="line"><span class="lineno">  762</span>    <span class="comment"># ThreadingBackend</span></div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>    <span class="keyword">with</span> parallel_backend(backend):</div>
<div class="line"><span class="lineno">  765</span>        pid_groups = Parallel(n_jobs=2)(</div>
<div class="line"><span class="lineno">  766</span>            delayed(get_nested_pids)()</div>
<div class="line"><span class="lineno">  767</span>            <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(10)</div>
<div class="line"><span class="lineno">  768</span>        )</div>
<div class="line"><span class="lineno">  769</span>        <span class="keywordflow">for</span> pid_group <span class="keywordflow">in</span> pid_groups:</div>
<div class="line"><span class="lineno">  770</span>            <span class="keyword">assert</span> len(set(pid_group)) == 1</div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno">  774</span><span class="preprocessor">@parametrize(&#39;n_jobs&#39;, [2, -1, None])</span></div>
<div class="line"><span class="lineno">  775</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PARALLEL_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ace3d319ebe5a240a40e702d74af589ff" name="ace3d319ebe5a240a40e702d74af589ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace3d319ebe5a240a40e702d74af589ff">&#9670;&#160;</a></span>test_nested_backend_in_sequential()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_nested_backend_in_sequential </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  776</span><span class="keyword">def </span>test_nested_backend_in_sequential(backend, n_jobs):</div>
<div class="line"><span class="lineno">  777</span>    <span class="comment"># Check that by default, nested parallel calls will always use the</span></div>
<div class="line"><span class="lineno">  778</span>    <span class="comment"># ThreadingBackend</span></div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>    <span class="keyword">def </span>check_nested_backend(expected_backend_type, expected_n_job):</div>
<div class="line"><span class="lineno">  781</span>        <span class="comment"># Assert that the sequential backend at top level, does not change the</span></div>
<div class="line"><span class="lineno">  782</span>        <span class="comment"># backend for nested calls.</span></div>
<div class="line"><span class="lineno">  783</span>        <span class="keyword">assert</span> _active_backend_type() == BACKENDS[expected_backend_type]</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>        <span class="comment"># Assert that the nested backend in SequentialBackend does not change</span></div>
<div class="line"><span class="lineno">  786</span>        <span class="comment"># the default number of jobs used in Parallel</span></div>
<div class="line"><span class="lineno">  787</span>        expected_n_job = effective_n_jobs(expected_n_job)</div>
<div class="line"><span class="lineno">  788</span>        <span class="keyword">assert</span> Parallel()._effective_n_jobs() == expected_n_job</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>    Parallel(n_jobs=1)(</div>
<div class="line"><span class="lineno">  791</span>        delayed(check_nested_backend)(<span class="stringliteral">&#39;loky&#39;</span>, 1)</div>
<div class="line"><span class="lineno">  792</span>        <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(10)</div>
<div class="line"><span class="lineno">  793</span>    )</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>    <span class="keyword">with</span> parallel_backend(backend, n_jobs=n_jobs):</div>
<div class="line"><span class="lineno">  796</span>        Parallel(n_jobs=1)(</div>
<div class="line"><span class="lineno">  797</span>            delayed(check_nested_backend)(backend, n_jobs)</div>
<div class="line"><span class="lineno">  798</span>            <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(10)</div>
<div class="line"><span class="lineno">  799</span>        )</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac315a9ac5563b86903b81200fc441da1" name="ac315a9ac5563b86903b81200fc441da1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac315a9ac5563b86903b81200fc441da1">&#9670;&#160;</a></span>test_nested_exception_dispatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_nested_exception_dispatch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Ensure errors for nested joblib cases gets propagated

We rely on the Python 3 built-in __cause__ system that already
report this kind of information to the user.
</pre> <div class="fragment"><div class="line"><span class="lineno">  548</span><span class="keyword">def </span>test_nested_exception_dispatch(backend):</div>
<div class="line"><span class="lineno">  549</span>    <span class="stringliteral">&quot;&quot;&quot;Ensure errors for nested joblib cases gets propagated</span></div>
<div class="line"><span class="lineno">  550</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  551</span><span class="stringliteral">    We rely on the Python 3 built-in __cause__ system that already</span></div>
<div class="line"><span class="lineno">  552</span><span class="stringliteral">    report this kind of information to the user.</span></div>
<div class="line"><span class="lineno">  553</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  554</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno">  555</span>        Parallel(n_jobs=2, backend=backend)(</div>
<div class="line"><span class="lineno">  556</span>            delayed(nested_function_outer)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(30))</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span>    <span class="comment"># Check that important information such as function names are visible</span></div>
<div class="line"><span class="lineno">  559</span>    <span class="comment"># in the final error message reported to the user</span></div>
<div class="line"><span class="lineno">  560</span>    report_lines = format_exception(excinfo.type, excinfo.value, excinfo.tb)</div>
<div class="line"><span class="lineno">  561</span>    report = <span class="stringliteral">&quot;&quot;</span>.join(report_lines)</div>
<div class="line"><span class="lineno">  562</span>    <span class="keyword">assert</span> <span class="stringliteral">&#39;nested_function_outer&#39;</span> <span class="keywordflow">in</span> report</div>
<div class="line"><span class="lineno">  563</span>    <span class="keyword">assert</span> <span class="stringliteral">&#39;nested_function_inner&#39;</span> <span class="keywordflow">in</span> report</div>
<div class="line"><span class="lineno">  564</span>    <span class="keyword">assert</span> <span class="stringliteral">&#39;exception_raiser&#39;</span> <span class="keywordflow">in</span> report</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>    <span class="keyword">assert</span> type(excinfo.value) <span class="keywordflow">is</span> ValueError</div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a40df8b7c9c8e09ef5196cc200386d90f" name="a40df8b7c9c8e09ef5196cc200386d90f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40df8b7c9c8e09ef5196cc200386d90f">&#9670;&#160;</a></span>test_nested_loop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_nested_loop </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent_backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>child_backend</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  275</span><span class="keyword">def </span>test_nested_loop(parent_backend, child_backend):</div>
<div class="line"><span class="lineno">  276</span>    Parallel(n_jobs=2, backend=parent_backend)(</div>
<div class="line"><span class="lineno">  277</span>        delayed(nested_loop)(child_backend) <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afe69dbdcfb5d0a26f2b0c94b308ada93" name="afe69dbdcfb5d0a26f2b0c94b308ada93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe69dbdcfb5d0a26f2b0c94b308ada93">&#9670;&#160;</a></span>test_nested_loop_with_exception_with_loky()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_nested_loop_with_exception_with_loky </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  285</span><span class="keyword">def </span>test_nested_loop_with_exception_with_loky():</div>
<div class="line"><span class="lineno">  286</span>    <span class="keyword">with</span> raises(ValueError):</div>
<div class="line"><span class="lineno">  287</span>        <span class="keyword">with</span> Parallel(n_jobs=2, backend=<span class="stringliteral">&quot;loky&quot;</span>) <span class="keyword">as</span> parallel:</div>
<div class="line"><span class="lineno">  288</span>            parallel([delayed(nested_loop)(<span class="stringliteral">&quot;loky&quot;</span>),</div>
<div class="line"><span class="lineno">  289</span>                      delayed(raise_exception)(<span class="stringliteral">&quot;loky&quot;</span>)])</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a27cbbdd562d529c8030a202f3bde5a3a" name="a27cbbdd562d529c8030a202f3bde5a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27cbbdd562d529c8030a202f3bde5a3a">&#9670;&#160;</a></span>test_nested_parallel_warnings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_nested_parallel_warnings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parent_backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>child_backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  226</span><span class="keyword">def </span>test_nested_parallel_warnings(parent_backend, child_backend, expected):</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    <span class="comment"># no warnings if inner_n_jobs=1</span></div>
<div class="line"><span class="lineno">  229</span>    Parallel(n_jobs=2, backend=parent_backend)(</div>
<div class="line"><span class="lineno">  230</span>        delayed(_assert_warning_nested)(</div>
<div class="line"><span class="lineno">  231</span>            backend=child_backend, inner_n_jobs=1,</div>
<div class="line"><span class="lineno">  232</span>            expected=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  233</span>        <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(5))</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>    <span class="comment">#  warnings if inner_n_jobs != 1 and expected</span></div>
<div class="line"><span class="lineno">  236</span>    res = Parallel(n_jobs=2, backend=parent_backend)(</div>
<div class="line"><span class="lineno">  237</span>        delayed(_assert_warning_nested)(</div>
<div class="line"><span class="lineno">  238</span>            backend=child_backend, inner_n_jobs=2,</div>
<div class="line"><span class="lineno">  239</span>            expected=expected)</div>
<div class="line"><span class="lineno">  240</span>        <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(5))</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>    <span class="comment"># warning handling is not thread safe. One thread might see multiple</span></div>
<div class="line"><span class="lineno">  243</span>    <span class="comment"># warning or no warning at all.</span></div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">if</span> parent_backend == <span class="stringliteral">&quot;threading&quot;</span>:</div>
<div class="line"><span class="lineno">  245</span>        <span class="keyword">assert</span> any(res)</div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  247</span>        <span class="keyword">assert</span> all(res)</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno">  251</span><span class="preprocessor">@parametrize(&#39;backend&#39;, [&#39;loky&#39;, &#39;multiprocessing&#39;, &#39;threading&#39;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a89e6a239e4dfb6930c89aeb9cee1f5af" name="a89e6a239e4dfb6930c89aeb9cee1f5af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89e6a239e4dfb6930c89aeb9cee1f5af">&#9670;&#160;</a></span>test_nested_parallelism_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_nested_parallelism_limit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1433</span><span class="keyword">def </span>test_nested_parallelism_limit(backend):</div>
<div class="line"><span class="lineno"> 1434</span>    <span class="keyword">with</span> parallel_backend(backend, n_jobs=2):</div>
<div class="line"><span class="lineno"> 1435</span>        backend_types_and_levels = _recursive_backend_info()</div>
<div class="line"><span class="lineno"> 1436</span> </div>
<div class="line"><span class="lineno"> 1437</span>    <span class="keywordflow">if</span> cpu_count() == 1:</div>
<div class="line"><span class="lineno"> 1438</span>        second_level_backend_type = <span class="stringliteral">&#39;SequentialBackend&#39;</span></div>
<div class="line"><span class="lineno"> 1439</span>        max_level = 1</div>
<div class="line"><span class="lineno"> 1440</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1441</span>        second_level_backend_type = <span class="stringliteral">&#39;ThreadingBackend&#39;</span></div>
<div class="line"><span class="lineno"> 1442</span>        max_level = 2</div>
<div class="line"><span class="lineno"> 1443</span> </div>
<div class="line"><span class="lineno"> 1444</span>    top_level_backend_type = backend.title() + <span class="stringliteral">&#39;Backend&#39;</span></div>
<div class="line"><span class="lineno"> 1445</span>    expected_types_and_levels = [</div>
<div class="line"><span class="lineno"> 1446</span>        (top_level_backend_type, 0),</div>
<div class="line"><span class="lineno"> 1447</span>        (second_level_backend_type, 1),</div>
<div class="line"><span class="lineno"> 1448</span>        (<span class="stringliteral">&#39;SequentialBackend&#39;</span>, max_level),</div>
<div class="line"><span class="lineno"> 1449</span>        (<span class="stringliteral">&#39;SequentialBackend&#39;</span>, max_level)</div>
<div class="line"><span class="lineno"> 1450</span>    ]</div>
<div class="line"><span class="lineno"> 1451</span>    <span class="keyword">assert</span> backend_types_and_levels == expected_types_and_levels</div>
<div class="line"><span class="lineno"> 1452</span> </div>
<div class="line"><span class="lineno"> 1453</span> </div>
<div class="line"><span class="lineno"> 1454</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno"> 1455</span><span class="preprocessor">@skipif(distributed is None, reason=&#39;This test requires dask&#39;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a497bbb0f17d51dcd2440bd9547ee4ac1" name="a497bbb0f17d51dcd2440bd9547ee4ac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a497bbb0f17d51dcd2440bd9547ee4ac1">&#9670;&#160;</a></span>test_nested_parallelism_with_dask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_nested_parallelism_with_dask </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1456</span><span class="keyword">def </span>test_nested_parallelism_with_dask():</div>
<div class="line"><span class="lineno"> 1457</span>    client = distributed.Client(n_workers=2, threads_per_worker=2)  <span class="comment"># noqa</span></div>
<div class="line"><span class="lineno"> 1458</span> </div>
<div class="line"><span class="lineno"> 1459</span>    <span class="comment"># 10 MB of data as argument to trigger implicit scattering</span></div>
<div class="line"><span class="lineno"> 1460</span>    data = np.ones(int(1e7), dtype=np.uint8)</div>
<div class="line"><span class="lineno"> 1461</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 1462</span>        <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;dask&#39;</span>):</div>
<div class="line"><span class="lineno"> 1463</span>            backend_types_and_levels = _recursive_backend_info(data=data)</div>
<div class="line"><span class="lineno"> 1464</span>        <span class="keyword">assert</span> len(backend_types_and_levels) == 4</div>
<div class="line"><span class="lineno"> 1465</span>        <span class="keyword">assert</span> all(name == <span class="stringliteral">&#39;DaskDistributedBackend&#39;</span></div>
<div class="line"><span class="lineno"> 1466</span>                   <span class="keywordflow">for</span> name, _ <span class="keywordflow">in</span> backend_types_and_levels)</div>
<div class="line"><span class="lineno"> 1467</span> </div>
<div class="line"><span class="lineno"> 1468</span>    <span class="comment"># No argument</span></div>
<div class="line"><span class="lineno"> 1469</span>    <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;dask&#39;</span>):</div>
<div class="line"><span class="lineno"> 1470</span>        backend_types_and_levels = _recursive_backend_info()</div>
<div class="line"><span class="lineno"> 1471</span>    <span class="keyword">assert</span> len(backend_types_and_levels) == 4</div>
<div class="line"><span class="lineno"> 1472</span>    <span class="keyword">assert</span> all(name == <span class="stringliteral">&#39;DaskDistributedBackend&#39;</span></div>
<div class="line"><span class="lineno"> 1473</span>               <span class="keywordflow">for</span> name, _ <span class="keywordflow">in</span> backend_types_and_levels)</div>
<div class="line"><span class="lineno"> 1474</span> </div>
<div class="line"><span class="lineno"> 1475</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d3fb7eb97f1eace9a731438b0cde8ef" name="a3d3fb7eb97f1eace9a731438b0cde8ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d3fb7eb97f1eace9a731438b0cde8ef">&#9670;&#160;</a></span>test_no_blas_crash_or_freeze_with_subprocesses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_no_blas_crash_or_freeze_with_subprocesses </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  911</span><span class="keyword">def </span>test_no_blas_crash_or_freeze_with_subprocesses(backend):</div>
<div class="line"><span class="lineno">  912</span>    <span class="keywordflow">if</span> backend == <span class="stringliteral">&#39;multiprocessing&#39;</span>:</div>
<div class="line"><span class="lineno">  913</span>        <span class="comment"># Use the spawn backend that is both robust and available on all</span></div>
<div class="line"><span class="lineno">  914</span>        <span class="comment"># platforms</span></div>
<div class="line"><span class="lineno">  915</span>        backend = mp.get_context(<span class="stringliteral">&#39;spawn&#39;</span>)</div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>    <span class="comment"># Check that on recent Python version, the &#39;spawn&#39; start method can make</span></div>
<div class="line"><span class="lineno">  918</span>    <span class="comment"># it possible to use multiprocessing in conjunction of any BLAS</span></div>
<div class="line"><span class="lineno">  919</span>    <span class="comment"># implementation that happens to be used by numpy with causing a freeze or</span></div>
<div class="line"><span class="lineno">  920</span>    <span class="comment"># a crash</span></div>
<div class="line"><span class="lineno">  921</span>    rng = np.random.RandomState(42)</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>    <span class="comment"># call BLAS DGEMM to force the initialization of the internal thread-pool</span></div>
<div class="line"><span class="lineno">  924</span>    <span class="comment"># in the main process</span></div>
<div class="line"><span class="lineno">  925</span>    a = rng.randn(1000, 1000)</div>
<div class="line"><span class="lineno">  926</span>    np.dot(a, a.T)</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>    <span class="comment"># check that the internal BLAS thread-pool is not in an inconsistent state</span></div>
<div class="line"><span class="lineno">  929</span>    <span class="comment"># in the worker processes managed by multiprocessing</span></div>
<div class="line"><span class="lineno">  930</span>    Parallel(n_jobs=2, backend=backend)(</div>
<div class="line"><span class="lineno">  931</span>        delayed(np.dot)(a, a.T) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a45219d29f7e399a241e9ebaf78a24012" name="a45219d29f7e399a241e9ebaf78a24012"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45219d29f7e399a241e9ebaf78a24012">&#9670;&#160;</a></span>test_overwrite_default_backend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_overwrite_default_backend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  610</span><span class="keyword">def </span>test_overwrite_default_backend():</div>
<div class="line"><span class="lineno">  611</span>    <span class="keyword">assert</span> _active_backend_type() == DefaultBackend</div>
<div class="line"><span class="lineno">  612</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  613</span>        register_parallel_backend(<span class="stringliteral">&quot;threading&quot;</span>, BACKENDS[<span class="stringliteral">&quot;threading&quot;</span>],</div>
<div class="line"><span class="lineno">  614</span>                                  make_default=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  615</span>        <span class="keyword">assert</span> _active_backend_type() == ThreadingBackend</div>
<div class="line"><span class="lineno">  616</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  617</span>        <span class="comment"># Restore the global default manually</span></div>
<div class="line"><span class="lineno">  618</span>        parallel.DEFAULT_BACKEND = DEFAULT_BACKEND</div>
<div class="line"><span class="lineno">  619</span>    <span class="keyword">assert</span> _active_backend_type() == DefaultBackend</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span><span class="preprocessor">@skipif(mp is not None, reason=&quot;Only without multiprocessing&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1a0502dd27450544ce91afbea849174" name="ab1a0502dd27450544ce91afbea849174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1a0502dd27450544ce91afbea849174">&#9670;&#160;</a></span>test_parallel_as_context_manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parallel_as_context_manager </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  309</span><span class="keyword">def </span>test_parallel_as_context_manager(backend):</div>
<div class="line"><span class="lineno">  310</span>    lst = range(10)</div>
<div class="line"><span class="lineno">  311</span>    expected = [<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x, y=1) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> lst]</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>    <span class="keyword">with</span> Parallel(n_jobs=4, backend=backend) <span class="keyword">as</span> p:</div>
<div class="line"><span class="lineno">  314</span>        <span class="comment"># Internally a pool instance has been eagerly created and is managed</span></div>
<div class="line"><span class="lineno">  315</span>        <span class="comment"># via the context manager protocol</span></div>
<div class="line"><span class="lineno">  316</span>        managed_backend = p._backend</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>        <span class="comment"># We make call with the managed parallel object several times inside</span></div>
<div class="line"><span class="lineno">  319</span>        <span class="comment"># the managed block:</span></div>
<div class="line"><span class="lineno">  320</span>        <span class="keyword">assert</span> expected == p(delayed(f)(x, y=1) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> lst)</div>
<div class="line"><span class="lineno">  321</span>        <span class="keyword">assert</span> expected == p(delayed(f)(x, y=1) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> lst)</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>        <span class="comment"># Those calls have all used the same pool instance:</span></div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">if</span> mp <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  325</span>            <span class="keyword">assert</span> get_workers(managed_backend) <span class="keywordflow">is</span> get_workers(p._backend)</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>    <span class="comment"># As soon as we exit the context manager block, the pool is terminated and</span></div>
<div class="line"><span class="lineno">  328</span>    <span class="comment"># no longer referenced from the parallel object:</span></div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">if</span> mp <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  330</span>        <span class="keyword">assert</span> get_workers(p._backend) <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    <span class="comment"># It&#39;s still possible to use the parallel instance in non-managed mode:</span></div>
<div class="line"><span class="lineno">  333</span>    <span class="keyword">assert</span> expected == p(delayed(f)(x, y=1) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> lst)</div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">if</span> mp <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  335</span>        <span class="keyword">assert</span> get_workers(p._backend) <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span><span class="preprocessor">@with_multiprocessing</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d68b28eaf1fa4a1801510a89cfbda94" name="a0d68b28eaf1fa4a1801510a89cfbda94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d68b28eaf1fa4a1801510a89cfbda94">&#9670;&#160;</a></span>test_parallel_kwargs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parallel_kwargs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check the keyword argument processing of pmap.</pre> <div class="fragment"><div class="line"><span class="lineno">  301</span><span class="keyword">def </span>test_parallel_kwargs(n_jobs):</div>
<div class="line"><span class="lineno">  302</span>    <span class="stringliteral">&quot;&quot;&quot;Check the keyword argument processing of pmap.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  303</span>    lst = range(10)</div>
<div class="line"><span class="lineno">  304</span>    <span class="keyword">assert</span> ([<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x, y=1) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> lst] ==</div>
<div class="line"><span class="lineno">  305</span>            Parallel(n_jobs=n_jobs)(delayed(f)(x, y=1) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> lst))</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PARALLEL_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a428bd7a62f8449e3daa4f79fae40398f" name="a428bd7a62f8449e3daa4f79fae40398f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a428bd7a62f8449e3daa4f79fae40398f">&#9670;&#160;</a></span>test_parallel_pickling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parallel_pickling </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> Check that pmap captures the errors when it is passed an object
    that cannot be pickled.
</pre> <div class="fragment"><div class="line"><span class="lineno">  339</span><span class="keyword">def </span>test_parallel_pickling():</div>
<div class="line"><span class="lineno">  340</span>    <span class="stringliteral">&quot;&quot;&quot; Check that pmap captures the errors when it is passed an object</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral">        that cannot be pickled.</span></div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  343</span>    <span class="keyword">class </span>UnpicklableObject(object):</div>
<div class="line"><span class="lineno">  344</span>        <span class="keyword">def </span>__reduce__(self):</div>
<div class="line"><span class="lineno">  345</span>            <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;123&#39;</span>)</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>    <span class="keyword">with</span> raises(PicklingError, match=<span class="stringliteral">r&quot;the task to send&quot;</span>):</div>
<div class="line"><span class="lineno">  348</span>        Parallel(n_jobs=2)(delayed(id)(UnpicklableObject()) <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(10))</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PARALLEL_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2166490fcd5b7a8ac33a723eb3be3c26" name="a2166490fcd5b7a8ac33a723eb3be3c26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2166490fcd5b7a8ac33a723eb3be3c26">&#9670;&#160;</a></span>test_parallel_thread_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parallel_thread_limit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1518</span><span class="keyword">def </span>test_parallel_thread_limit(backend):</div>
<div class="line"><span class="lineno"> 1519</span>    results = Parallel(n_jobs=2, backend=backend)(</div>
<div class="line"><span class="lineno"> 1520</span>        delayed(_run_parallel_sum)() <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(2)</div>
<div class="line"><span class="lineno"> 1521</span>    )</div>
<div class="line"><span class="lineno"> 1522</span>    expected_num_threads = max(cpu_count() // 2, 1)</div>
<div class="line"><span class="lineno"> 1523</span>    <span class="keywordflow">for</span> worker_env_vars, omp_num_threads <span class="keywordflow">in</span> results:</div>
<div class="line"><span class="lineno"> 1524</span>        <span class="keyword">assert</span> omp_num_threads == expected_num_threads</div>
<div class="line"><span class="lineno"> 1525</span>        <span class="keywordflow">for</span> name, value <span class="keywordflow">in</span> worker_env_vars.items():</div>
<div class="line"><span class="lineno"> 1526</span>            <span class="keywordflow">if</span> name.endswith(<span class="stringliteral">&quot;_THREADS&quot;</span>):</div>
<div class="line"><span class="lineno"> 1527</span>                <span class="keyword">assert</span> value == str(expected_num_threads)</div>
<div class="line"><span class="lineno"> 1528</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1529</span>                <span class="keyword">assert</span> name == <span class="stringliteral">&quot;ENABLE_IPC&quot;</span></div>
<div class="line"><span class="lineno"> 1530</span>                <span class="keyword">assert</span> value == <span class="stringliteral">&quot;1&quot;</span></div>
<div class="line"><span class="lineno"> 1531</span> </div>
<div class="line"><span class="lineno"> 1532</span> </div>
<div class="line"><span class="lineno"> 1533</span><span class="preprocessor">@skipif</span>(distributed <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1534</span>        reason=<span class="stringliteral">&#39;This test requires dask NOT installed&#39;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b9b2975cb317e94c58aa54ddfa636eb" name="a0b9b2975cb317e94c58aa54ddfa636eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b9b2975cb317e94c58aa54ddfa636eb">&#9670;&#160;</a></span>test_parallel_timeout_fail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parallel_timeout_fail </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  360</span><span class="keyword">def </span>test_parallel_timeout_fail(backend):</div>
<div class="line"><span class="lineno">  361</span>    <span class="comment"># Check that timeout properly fails when function is too slow</span></div>
<div class="line"><span class="lineno">  362</span>    <span class="keyword">with</span> raises(TimeoutError):</div>
<div class="line"><span class="lineno">  363</span>        Parallel(n_jobs=2, backend=backend, timeout=0.01)(</div>
<div class="line"><span class="lineno">  364</span>            delayed(sleep)(10) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(10))</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno">  368</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PROCESS_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a22f9efdd35f56f46ab8671524e0bbb36" name="a22f9efdd35f56f46ab8671524e0bbb36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f9efdd35f56f46ab8671524e0bbb36">&#9670;&#160;</a></span>test_parallel_timeout_success()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parallel_timeout_success </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  352</span><span class="keyword">def </span>test_parallel_timeout_success(backend):</div>
<div class="line"><span class="lineno">  353</span>    <span class="comment"># Check that timeout isn&#39;t thrown when function is fast enough</span></div>
<div class="line"><span class="lineno">  354</span>    <span class="keyword">assert</span> len(Parallel(n_jobs=2, backend=backend, timeout=10)(</div>
<div class="line"><span class="lineno">  355</span>        delayed(sleep)(0.001) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(10))) == 10</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno">  359</span><span class="preprocessor">@parametrize(&#39;backend&#39;, PARALLEL_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6cca55ada03fa688d0ad3f6bc2325e6e" name="a6cca55ada03fa688d0ad3f6bc2325e6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cca55ada03fa688d0ad3f6bc2325e6e">&#9670;&#160;</a></span>test_parallel_with_exhausted_iterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parallel_with_exhausted_iterator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1127</span><span class="keyword">def </span>test_parallel_with_exhausted_iterator():</div>
<div class="line"><span class="lineno"> 1128</span>    exhausted_iterator = <a class="code hl_variable" href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a>([])</div>
<div class="line"><span class="lineno"> 1129</span>    <span class="keyword">assert</span> Parallel(n_jobs=2)(exhausted_iterator) == []</div>
<div class="line"><span class="lineno"> 1130</span> </div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_a60590d91febfcb54d88443940cd5f23e"><div class="ttname"><a href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a></div><div class="ttdeci">void int double int double double double double int int * iter</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:623</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58f188945ac9deee5e040110c4e72ef7" name="a58f188945ac9deee5e040110c4e72ef7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58f188945ac9deee5e040110c4e72ef7">&#9670;&#160;</a></span>test_parallel_with_interactively_defined_bound_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parallel_with_interactively_defined_bound_method </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1118</span><span class="keyword">def </span>test_parallel_with_interactively_defined_bound_method(tmpdir):</div>
<div class="line"><span class="lineno"> 1119</span>    script = tmpdir.join(<span class="stringliteral">&#39;joblib_interactive_bound_method_script.py&#39;</span>)</div>
<div class="line"><span class="lineno"> 1120</span>    script.write(INTERACTIVELY_DEFINED_SUBCLASS_WITH_METHOD_SCRIPT_CONTENT)</div>
<div class="line"><span class="lineno"> 1121</span>    check_subprocess_call([sys.executable, script.strpath],</div>
<div class="line"><span class="lineno"> 1122</span>                          stdout_regex=<span class="stringliteral">r&#39;\[None, None, None\]&#39;</span>,</div>
<div class="line"><span class="lineno"> 1123</span>                          stderr_regex=<span class="stringliteral">r&#39;LokyProcess&#39;</span>,</div>
<div class="line"><span class="lineno"> 1124</span>                          timeout=15)</div>
<div class="line"><span class="lineno"> 1125</span> </div>
<div class="line"><span class="lineno"> 1126</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a55b64e1787db126466ab70f4c7d344e4" name="a55b64e1787db126466ab70f4c7d344e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55b64e1787db126466ab70f4c7d344e4">&#9670;&#160;</a></span>test_parallel_with_interactively_defined_functions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parallel_with_interactively_defined_functions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  952</span><span class="keyword">def </span>test_parallel_with_interactively_defined_functions(backend):</div>
<div class="line"><span class="lineno">  953</span>    <span class="comment"># When using the &quot;-c&quot; flag, interactive functions defined in __main__</span></div>
<div class="line"><span class="lineno">  954</span>    <span class="comment"># should work with any backend.</span></div>
<div class="line"><span class="lineno">  955</span>    <span class="keywordflow">if</span> backend == <span class="stringliteral">&quot;multiprocessing&quot;</span> <span class="keywordflow">and</span> mp.get_start_method() != <span class="stringliteral">&quot;fork&quot;</span>:</div>
<div class="line"><span class="lineno">  956</span>        pytest.skip(<span class="stringliteral">&quot;Require fork start method to use interactively defined &quot;</span></div>
<div class="line"><span class="lineno">  957</span>                    <span class="stringliteral">&quot;functions with multiprocessing.&quot;</span>)</div>
<div class="line"><span class="lineno">  958</span>    code = UNPICKLABLE_CALLABLE_SCRIPT_TEMPLATE_NO_MAIN.format(backend)</div>
<div class="line"><span class="lineno">  959</span>    check_subprocess_call(</div>
<div class="line"><span class="lineno">  960</span>        [sys.executable, <span class="stringliteral">&#39;-c&#39;</span>, code], timeout=10,</div>
<div class="line"><span class="lineno">  961</span>        stdout_regex=<span class="stringliteral">r&#39;\[0, 1, 4, 9, 16\]&#39;</span>)</div>
<div class="line"><span class="lineno">  962</span> </div>
<div class="line"><span class="lineno">  963</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8acc73c5d70b87f53e2e48159851fc50" name="a8acc73c5d70b87f53e2e48159851fc50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8acc73c5d70b87f53e2e48159851fc50">&#9670;&#160;</a></span>test_parallel_with_interactively_defined_functions_default_backend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parallel_with_interactively_defined_functions_default_backend </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1077</span><span class="keyword">def </span>test_parallel_with_interactively_defined_functions_default_backend(tmpdir):</div>
<div class="line"><span class="lineno"> 1078</span>    <span class="comment"># The default backend (loky) accepts interactive functions defined in</span></div>
<div class="line"><span class="lineno"> 1079</span>    <span class="comment"># __main__ and does not require if __name__ == &#39;__main__&#39; even when</span></div>
<div class="line"><span class="lineno"> 1080</span>    <span class="comment"># the __main__ module is defined by the result of the execution of a</span></div>
<div class="line"><span class="lineno"> 1081</span>    <span class="comment"># filesystem script.</span></div>
<div class="line"><span class="lineno"> 1082</span>    script = tmpdir.join(<span class="stringliteral">&#39;joblib_interactively_defined_function.py&#39;</span>)</div>
<div class="line"><span class="lineno"> 1083</span>    script.write(INTERACTIVE_DEFINED_FUNCTION_AND_CLASS_SCRIPT_CONTENT)</div>
<div class="line"><span class="lineno"> 1084</span>    check_subprocess_call(</div>
<div class="line"><span class="lineno"> 1085</span>        [sys.executable, script.strpath],</div>
<div class="line"><span class="lineno"> 1086</span>        stdout_regex=<span class="stringliteral">r&#39;\[0, 1, 4, 9, 16\]&#39;</span>,</div>
<div class="line"><span class="lineno"> 1087</span>        timeout=<span class="keywordtype">None</span>,  <span class="comment"># rely on faulthandler to kill the process</span></div>
<div class="line"><span class="lineno"> 1088</span>    )</div>
<div class="line"><span class="lineno"> 1089</span> </div>
<div class="line"><span class="lineno"> 1090</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a157ca7f5cb8cc02cda272f1dfcf567cf" name="a157ca7f5cb8cc02cda272f1dfcf567cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157ca7f5cb8cc02cda272f1dfcf567cf">&#9670;&#160;</a></span>test_parallel_with_unpicklable_functions_in_args()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parallel_with_unpicklable_functions_in_args </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>define_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>callable_position</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1017</span>        backend, define_func, callable_position, tmpdir):</div>
<div class="line"><span class="lineno"> 1018</span>    <span class="keywordflow">if</span> backend <span class="keywordflow">in</span> [<span class="stringliteral">&#39;multiprocessing&#39;</span>, <span class="stringliteral">&#39;spawn&#39;</span>] <span class="keywordflow">and</span> (</div>
<div class="line"><span class="lineno"> 1019</span>            define_func != SQUARE_MAIN <span class="keywordflow">or</span> sys.platform == <span class="stringliteral">&quot;win32&quot;</span>):</div>
<div class="line"><span class="lineno"> 1020</span>        pytest.skip(<span class="stringliteral">&quot;Not picklable with pickle&quot;</span>)</div>
<div class="line"><span class="lineno"> 1021</span>    code = UNPICKLABLE_CALLABLE_SCRIPT_TEMPLATE_MAIN.format(</div>
<div class="line"><span class="lineno"> 1022</span>        define_func=define_func, backend=backend,</div>
<div class="line"><span class="lineno"> 1023</span>        callable_position=callable_position,</div>
<div class="line"><span class="lineno"> 1024</span>        joblib_root_folder=os.path.dirname(os.path.dirname(joblib.__file__)))</div>
<div class="line"><span class="lineno"> 1025</span>    code_file = tmpdir.join(<span class="stringliteral">&quot;unpicklable_func_script.py&quot;</span>)</div>
<div class="line"><span class="lineno"> 1026</span>    code_file.write(code)</div>
<div class="line"><span class="lineno"> 1027</span>    check_subprocess_call(</div>
<div class="line"><span class="lineno"> 1028</span>        [sys.executable, code_file.strpath], timeout=10,</div>
<div class="line"><span class="lineno"> 1029</span>        stdout_regex=<span class="stringliteral">r&#39;\[0, 1, 4, 9, 16\]&#39;</span>)</div>
<div class="line"><span class="lineno"> 1030</span> </div>
<div class="line"><span class="lineno"> 1031</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab711709c906e03202d484c035944da5b" name="ab711709c906e03202d484c035944da5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab711709c906e03202d484c035944da5b">&#9670;&#160;</a></span>test_parameterized_backend_context_manager()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_parameterized_backend_context_manager </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>monkeypatch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  691</span><span class="keyword">def </span>test_parameterized_backend_context_manager(monkeypatch):</div>
<div class="line"><span class="lineno">  692</span>    monkeypatch.setitem(BACKENDS, <span class="stringliteral">&#39;param_backend&#39;</span>,</div>
<div class="line"><span class="lineno">  693</span>                        ParameterizedParallelBackend)</div>
<div class="line"><span class="lineno">  694</span>    <span class="keyword">assert</span> _active_backend_type() == DefaultBackend</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>    <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;param_backend&#39;</span>, param=42, n_jobs=3):</div>
<div class="line"><span class="lineno">  697</span>        active_backend, active_n_jobs = parallel.get_active_backend()</div>
<div class="line"><span class="lineno">  698</span>        <span class="keyword">assert</span> type(active_backend) == ParameterizedParallelBackend</div>
<div class="line"><span class="lineno">  699</span>        <span class="keyword">assert</span> active_backend.param == 42</div>
<div class="line"><span class="lineno">  700</span>        <span class="keyword">assert</span> active_n_jobs == 3</div>
<div class="line"><span class="lineno">  701</span>        p = Parallel()</div>
<div class="line"><span class="lineno">  702</span>        <span class="keyword">assert</span> p.n_jobs == 3</div>
<div class="line"><span class="lineno">  703</span>        <span class="keyword">assert</span> p._backend <span class="keywordflow">is</span> active_backend</div>
<div class="line"><span class="lineno">  704</span>        results = p(delayed(sqrt)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(5))</div>
<div class="line"><span class="lineno">  705</span>    <span class="keyword">assert</span> results == [sqrt(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(5)]</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>    <span class="comment"># The default backend is again restored</span></div>
<div class="line"><span class="lineno">  708</span>    <span class="keyword">assert</span> _active_backend_type() == DefaultBackend</div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4d0156d4dc6c6c9f462351db139cb90e" name="a4d0156d4dc6c6c9f462351db139cb90e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d0156d4dc6c6c9f462351db139cb90e">&#9670;&#160;</a></span>test_register_parallel_backend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_register_parallel_backend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  601</span><span class="keyword">def </span>test_register_parallel_backend():</div>
<div class="line"><span class="lineno">  602</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  603</span>        register_parallel_backend(<span class="stringliteral">&quot;test_backend&quot;</span>, FakeParallelBackend)</div>
<div class="line"><span class="lineno">  604</span>        <span class="keyword">assert</span> <span class="stringliteral">&quot;test_backend&quot;</span> <span class="keywordflow">in</span> BACKENDS</div>
<div class="line"><span class="lineno">  605</span>        <span class="keyword">assert</span> BACKENDS[<span class="stringliteral">&quot;test_backend&quot;</span>] == FakeParallelBackend</div>
<div class="line"><span class="lineno">  606</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  607</span>        del BACKENDS[<span class="stringliteral">&quot;test_backend&quot;</span>]</div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a554d4e3ad238b130f730038168475139" name="a554d4e3ad238b130f730038168475139"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a554d4e3ad238b130f730038168475139">&#9670;&#160;</a></span>test_retrieval_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_retrieval_context </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  825</span><span class="keyword">def </span>test_retrieval_context():</div>
<div class="line"><span class="lineno">  826</span>    <span class="keyword">import</span> contextlib</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>    <span class="keyword">class </span>MyBackend(ThreadingBackend):</div>
<div class="line"><span class="lineno">  829</span>        i = 0</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>        <span class="preprocessor">@contextlib.contextmanager</span></div>
<div class="line"><span class="lineno">  832</span>        <span class="keyword">def </span>retrieval_context(self):</div>
<div class="line"><span class="lineno">  833</span>            self.i += 1</div>
<div class="line"><span class="lineno">  834</span>            <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>    register_parallel_backend(<span class="stringliteral">&quot;retrieval&quot;</span>, MyBackend)</div>
<div class="line"><span class="lineno">  837</span> </div>
<div class="line"><span class="lineno">  838</span>    <span class="keyword">def </span>nested_call(n):</div>
<div class="line"><span class="lineno">  839</span>        <span class="keywordflow">return</span> Parallel(n_jobs=2)(delayed(id)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(n))</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>    <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&quot;retrieval&quot;</span>) <span class="keyword">as</span> (ba, _):</div>
<div class="line"><span class="lineno">  842</span>        Parallel(n_jobs=2)(</div>
<div class="line"><span class="lineno">  843</span>            delayed(nested_call)(i)</div>
<div class="line"><span class="lineno">  844</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(5)</div>
<div class="line"><span class="lineno">  845</span>        )</div>
<div class="line"><span class="lineno">  846</span>        <span class="keyword">assert</span> ba.i == 1</div>
<div class="line"><span class="lineno">  847</span> </div>
<div class="line"><span class="lineno">  848</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aae9f724c86211c877c2c852a0f1cef73" name="aae9f724c86211c877c2c852a0f1cef73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae9f724c86211c877c2c852a0f1cef73">&#9670;&#160;</a></span>test_safe_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_safe_function </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  860</span><span class="keyword">def </span>test_safe_function():</div>
<div class="line"><span class="lineno">  861</span>    safe_division = SafeFunction(division)</div>
<div class="line"><span class="lineno">  862</span>    <span class="keyword">with</span> raises(ZeroDivisionError):</div>
<div class="line"><span class="lineno">  863</span>        safe_division(1, 0)</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span>    safe_interrupt = SafeFunction(interrupt_raiser)</div>
<div class="line"><span class="lineno">  866</span>    <span class="keyword">with</span> raises(WorkerInterrupt):</div>
<div class="line"><span class="lineno">  867</span>        safe_interrupt(<span class="stringliteral">&#39;x&#39;</span>)</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span><span class="preprocessor">@parametrize(&#39;batch_size&#39;, [0, -1, 1.42])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a47448ffe0e2b4f3bc450b5a6b5d096d7" name="a47448ffe0e2b4f3bc450b5a6b5d096d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47448ffe0e2b4f3bc450b5a6b5d096d7">&#9670;&#160;</a></span>test_simple_parallel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_simple_parallel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test parallel. </p>
<div class="fragment"><div class="line"><span class="lineno">  167</span><span class="keyword">def </span>test_simple_parallel(backend, n_jobs, verbose):</div>
<div class="line"><span class="lineno">  168</span>    <span class="keyword">assert</span> ([square(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(5)] ==</div>
<div class="line"><span class="lineno">  169</span>            Parallel(n_jobs=n_jobs, backend=backend,</div>
<div class="line"><span class="lineno">  170</span>                     verbose=verbose)(</div>
<div class="line"><span class="lineno">  171</span>                delayed(square)(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> range(5)))</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span><span class="preprocessor">@parametrize(&#39;backend&#39;, ALL_VALID_BACKENDS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5bf1caaf7b286713a165012823f3ccf" name="ad5bf1caaf7b286713a165012823f3ccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5bf1caaf7b286713a165012823f3ccf">&#9670;&#160;</a></span>test_thread_bomb_mitigation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_thread_bomb_mitigation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1483</span><span class="keyword">def </span>test_thread_bomb_mitigation(backend):</div>
<div class="line"><span class="lineno"> 1484</span>    <span class="comment"># Test that recursive parallelism raises a recursion rather than</span></div>
<div class="line"><span class="lineno"> 1485</span>    <span class="comment"># saturating the operating system resources by creating a unbounded number</span></div>
<div class="line"><span class="lineno"> 1486</span>    <span class="comment"># of threads.</span></div>
<div class="line"><span class="lineno"> 1487</span>    <span class="keyword">with</span> parallel_backend(backend, n_jobs=2):</div>
<div class="line"><span class="lineno"> 1488</span>        <span class="keyword">with</span> raises(BaseException) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno"> 1489</span>            _recursive_parallel()</div>
<div class="line"><span class="lineno"> 1490</span>    exc = excinfo.value</div>
<div class="line"><span class="lineno"> 1491</span>    <span class="keywordflow">if</span> backend == <span class="stringliteral">&quot;loky&quot;</span>:</div>
<div class="line"><span class="lineno"> 1492</span>        <span class="comment"># Local import because loky may not be importable for lack of</span></div>
<div class="line"><span class="lineno"> 1493</span>        <span class="comment"># multiprocessing</span></div>
<div class="line"><span class="lineno"> 1494</span>        <span class="keyword">from</span> <a class="code hl_namespace" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html">joblib.externals.loky.process_executor</a> <span class="keyword">import</span> TerminatedWorkerError <span class="comment"># noqa</span></div>
<div class="line"><span class="lineno"> 1495</span>        <span class="keywordflow">if</span> isinstance(exc, TerminatedWorkerError):</div>
<div class="line"><span class="lineno"> 1496</span>            <span class="comment"># The recursion exception can itself cause an error when</span></div>
<div class="line"><span class="lineno"> 1497</span>            <span class="comment"># pickling it to be send back to the parent process. In this</span></div>
<div class="line"><span class="lineno"> 1498</span>            <span class="comment"># case the worker crashes but the original traceback is still</span></div>
<div class="line"><span class="lineno"> 1499</span>            <span class="comment"># printed on stderr. This could be improved but does not seem</span></div>
<div class="line"><span class="lineno"> 1500</span>            <span class="comment"># simple to do and this is is not critical for users (as long</span></div>
<div class="line"><span class="lineno"> 1501</span>            <span class="comment"># as there is no process or thread bomb happening).</span></div>
<div class="line"><span class="lineno"> 1502</span>            pytest.xfail(<span class="stringliteral">&quot;Loky worker crash when serializing RecursionError&quot;</span>)</div>
<div class="line"><span class="lineno"> 1503</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1504</span>        <span class="keyword">assert</span> isinstance(exc, RecursionError)</div>
<div class="line"><span class="lineno"> 1505</span> </div>
<div class="line"><span class="lineno"> 1506</span> </div>
<div class="ttc" id="anamespacejoblib_1_1externals_1_1loky_1_1process__executor_html"><div class="ttname"><a href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html">joblib.externals.loky.process_executor</a></div><div class="ttdef"><b>Definition</b> process_executor.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b4d7ec9c80308c1295c25106ee37be7" name="a8b4d7ec9c80308c1295c25106ee37be7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b4d7ec9c80308c1295c25106ee37be7">&#9670;&#160;</a></span>test_threadpool_limitation_in_child()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_threadpool_limitation_in_child </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1626</span><span class="keyword">def </span>test_threadpool_limitation_in_child(n_jobs):</div>
<div class="line"><span class="lineno"> 1627</span>    <span class="comment"># Check that the protection against oversubscription in workers is working</span></div>
<div class="line"><span class="lineno"> 1628</span>    <span class="comment"># using threadpoolctl functionalities.</span></div>
<div class="line"><span class="lineno"> 1629</span> </div>
<div class="line"><span class="lineno"> 1630</span>    <span class="comment"># Skip this test if numpy is not linked to a BLAS library</span></div>
<div class="line"><span class="lineno"> 1631</span>    parent_info = _check_numpy_threadpool_limits()</div>
<div class="line"><span class="lineno"> 1632</span>    <span class="keywordflow">if</span> len(parent_info) == 0:</div>
<div class="line"><span class="lineno"> 1633</span>        pytest.skip(msg=<span class="stringliteral">&quot;Need a version of numpy linked to BLAS&quot;</span>)</div>
<div class="line"><span class="lineno"> 1634</span> </div>
<div class="line"><span class="lineno"> 1635</span>    workers_threadpool_infos = Parallel(n_jobs=n_jobs)(</div>
<div class="line"><span class="lineno"> 1636</span>        delayed(_check_numpy_threadpool_limits)() <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno"> 1637</span> </div>
<div class="line"><span class="lineno"> 1638</span>    n_jobs = effective_n_jobs(n_jobs)</div>
<div class="line"><span class="lineno"> 1639</span>    expected_child_num_threads = max(cpu_count() // n_jobs, 1)</div>
<div class="line"><span class="lineno"> 1640</span> </div>
<div class="line"><span class="lineno"> 1641</span>    check_child_num_threads(workers_threadpool_infos, parent_info,</div>
<div class="line"><span class="lineno"> 1642</span>                            expected_child_num_threads)</div>
<div class="line"><span class="lineno"> 1643</span> </div>
<div class="line"><span class="lineno"> 1644</span> </div>
<div class="line"><span class="lineno"> 1645</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno"> 1646</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno"> 1647</span><span class="preprocessor">@parametrize(&#39;inner_max_num_threads&#39;, [1, 2, 4, None])</span></div>
<div class="line"><span class="lineno"> 1648</span><span class="preprocessor">@parametrize(&#39;n_jobs&#39;, [2, -1])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6221b2a79e8a9317e0b03103848fa993" name="a6221b2a79e8a9317e0b03103848fa993"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6221b2a79e8a9317e0b03103848fa993">&#9670;&#160;</a></span>test_threadpool_limitation_in_child_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_threadpool_limitation_in_child_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inner_max_num_threads</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1649</span><span class="keyword">def </span>test_threadpool_limitation_in_child_context(n_jobs, inner_max_num_threads):</div>
<div class="line"><span class="lineno"> 1650</span>    <span class="comment"># Check that the protection against oversubscription in workers is working</span></div>
<div class="line"><span class="lineno"> 1651</span>    <span class="comment"># using threadpoolctl functionalities.</span></div>
<div class="line"><span class="lineno"> 1652</span> </div>
<div class="line"><span class="lineno"> 1653</span>    <span class="comment"># Skip this test if numpy is not linked to a BLAS library</span></div>
<div class="line"><span class="lineno"> 1654</span>    parent_info = _check_numpy_threadpool_limits()</div>
<div class="line"><span class="lineno"> 1655</span>    <span class="keywordflow">if</span> len(parent_info) == 0:</div>
<div class="line"><span class="lineno"> 1656</span>        pytest.skip(msg=<span class="stringliteral">&quot;Need a version of numpy linked to BLAS&quot;</span>)</div>
<div class="line"><span class="lineno"> 1657</span> </div>
<div class="line"><span class="lineno"> 1658</span>    <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;loky&#39;</span>, inner_max_num_threads=inner_max_num_threads):</div>
<div class="line"><span class="lineno"> 1659</span>        workers_threadpool_infos = Parallel(n_jobs=n_jobs)(</div>
<div class="line"><span class="lineno"> 1660</span>            delayed(_check_numpy_threadpool_limits)() <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno"> 1661</span> </div>
<div class="line"><span class="lineno"> 1662</span>    n_jobs = effective_n_jobs(n_jobs)</div>
<div class="line"><span class="lineno"> 1663</span>    <span class="keywordflow">if</span> inner_max_num_threads <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1664</span>        expected_child_num_threads = max(cpu_count() // n_jobs, 1)</div>
<div class="line"><span class="lineno"> 1665</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1666</span>        expected_child_num_threads = inner_max_num_threads</div>
<div class="line"><span class="lineno"> 1667</span> </div>
<div class="line"><span class="lineno"> 1668</span>    check_child_num_threads(workers_threadpool_infos, parent_info,</div>
<div class="line"><span class="lineno"> 1669</span>                            expected_child_num_threads)</div>
<div class="line"><span class="lineno"> 1670</span> </div>
<div class="line"><span class="lineno"> 1671</span> </div>
<div class="line"><span class="lineno"> 1672</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno"> 1673</span><span class="preprocessor">@parametrize(&#39;n_jobs&#39;, [2, -1])</span></div>
<div class="line"><span class="lineno"> 1674</span><span class="preprocessor">@parametrize</span>(<span class="stringliteral">&#39;var_name&#39;</span>, [<span class="stringliteral">&quot;OPENBLAS_NUM_THREADS&quot;</span>,</div>
<div class="line"><span class="lineno"> 1675</span>                          <span class="stringliteral">&quot;MKL_NUM_THREADS&quot;</span>,</div>
<div class="line"><span class="lineno"> 1676</span>                          <span class="stringliteral">&quot;OMP_NUM_THREADS&quot;</span>])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1dc13163bbcbfb236e4388bf78597bb7" name="a1dc13163bbcbfb236e4388bf78597bb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dc13163bbcbfb236e4388bf78597bb7">&#9670;&#160;</a></span>test_threadpool_limitation_in_child_context_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_threadpool_limitation_in_child_context_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1712</span><span class="keyword">def </span>test_threadpool_limitation_in_child_context_error(backend):</div>
<div class="line"><span class="lineno"> 1713</span> </div>
<div class="line"><span class="lineno"> 1714</span>    <span class="keyword">with</span> raises(AssertionError, match=<span class="stringliteral">r&quot;does not acc.*inner_max_num_threads&quot;</span>):</div>
<div class="line"><span class="lineno"> 1715</span>        parallel_backend(backend, inner_max_num_threads=1)</div>
<div class="line"><span class="lineno"> 1716</span> </div>
<div class="line"><span class="lineno"> 1717</span> </div>
<div class="line"><span class="lineno"> 1718</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno"> 1719</span><span class="preprocessor">@parametrize(&#39;n_jobs&#39;, [2, 4, -1])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ee32a828fe06d1d8b2637b74ede5dba" name="a7ee32a828fe06d1d8b2637b74ede5dba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ee32a828fe06d1d8b2637b74ede5dba">&#9670;&#160;</a></span>test_threadpool_limitation_in_child_override()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_threadpool_limitation_in_child_override </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>var_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1677</span><span class="keyword">def </span>test_threadpool_limitation_in_child_override(n_jobs, var_name):</div>
<div class="line"><span class="lineno"> 1678</span>    <span class="comment"># Check that environment variables set by the user on the main process</span></div>
<div class="line"><span class="lineno"> 1679</span>    <span class="comment"># always have the priority.</span></div>
<div class="line"><span class="lineno"> 1680</span> </div>
<div class="line"><span class="lineno"> 1681</span>    <span class="comment"># Clean up the existing executor because we change the environment of the</span></div>
<div class="line"><span class="lineno"> 1682</span>    <span class="comment"># parent at runtime and it is not detected in loky intentionally.</span></div>
<div class="line"><span class="lineno"> 1683</span>    get_reusable_executor(reuse=<span class="keyword">True</span>).shutdown()</div>
<div class="line"><span class="lineno"> 1684</span> </div>
<div class="line"><span class="lineno"> 1685</span>    <span class="keyword">def </span>_get_env(var_name):</div>
<div class="line"><span class="lineno"> 1686</span>        <span class="keywordflow">return</span> os.environ.get(var_name)</div>
<div class="line"><span class="lineno"> 1687</span> </div>
<div class="line"><span class="lineno"> 1688</span>    original_var_value = os.environ.get(var_name)</div>
<div class="line"><span class="lineno"> 1689</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1690</span>        os.environ[var_name] = <span class="stringliteral">&quot;4&quot;</span></div>
<div class="line"><span class="lineno"> 1691</span>        <span class="comment"># Skip this test if numpy is not linked to a BLAS library</span></div>
<div class="line"><span class="lineno"> 1692</span>        results = Parallel(n_jobs=n_jobs)(</div>
<div class="line"><span class="lineno"> 1693</span>            delayed(_get_env)(var_name) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno"> 1694</span>        <span class="keyword">assert</span> results == [<span class="stringliteral">&quot;4&quot;</span>, <span class="stringliteral">&quot;4&quot;</span>]</div>
<div class="line"><span class="lineno"> 1695</span> </div>
<div class="line"><span class="lineno"> 1696</span>        <span class="keyword">with</span> parallel_backend(<span class="stringliteral">&#39;loky&#39;</span>, inner_max_num_threads=1):</div>
<div class="line"><span class="lineno"> 1697</span>            results = Parallel(n_jobs=n_jobs)(</div>
<div class="line"><span class="lineno"> 1698</span>                delayed(_get_env)(var_name) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno"> 1699</span>        <span class="keyword">assert</span> results == [<span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;1&quot;</span>]</div>
<div class="line"><span class="lineno"> 1700</span> </div>
<div class="line"><span class="lineno"> 1701</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno"> 1702</span>        <span class="keywordflow">if</span> original_var_value <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1703</span>            del os.environ[var_name]</div>
<div class="line"><span class="lineno"> 1704</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1705</span>            os.environ[var_name] = original_var_value</div>
<div class="line"><span class="lineno"> 1706</span> </div>
<div class="line"><span class="lineno"> 1707</span> </div>
<div class="line"><span class="lineno"> 1708</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno"> 1709</span><span class="preprocessor">@with_multiprocessing</span></div>
<div class="line"><span class="lineno"> 1710</span><span class="preprocessor">@parametrize</span>(<span class="stringliteral">&#39;backend&#39;</span>, [<span class="stringliteral">&#39;multiprocessing&#39;</span>, <span class="stringliteral">&#39;threading&#39;</span>,</div>
<div class="line"><span class="lineno"> 1711</span>                         MultiprocessingBackend(), ThreadingBackend()])</div>
</div><!-- fragment -->
</div>
</div>
<a id="aed1088ebaf84190c8b6efd6f5e2f6d74" name="aed1088ebaf84190c8b6efd6f5e2f6d74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed1088ebaf84190c8b6efd6f5e2f6d74">&#9670;&#160;</a></span>test_warning_about_timeout_not_supported_by_backend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_warning_about_timeout_not_supported_by_backend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1184</span><span class="keyword">def </span>test_warning_about_timeout_not_supported_by_backend():</div>
<div class="line"><span class="lineno"> 1185</span>    <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> warninfo:</div>
<div class="line"><span class="lineno"> 1186</span>        Parallel(timeout=1)(delayed(square)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(50))</div>
<div class="line"><span class="lineno"> 1187</span>    <span class="keyword">assert</span> len(warninfo) == 1</div>
<div class="line"><span class="lineno"> 1188</span>    w = warninfo[0]</div>
<div class="line"><span class="lineno"> 1189</span>    <span class="keyword">assert</span> isinstance(w.message, UserWarning)</div>
<div class="line"><span class="lineno"> 1190</span>    <span class="keyword">assert</span> str(w.message) == (</div>
<div class="line"><span class="lineno"> 1191</span>        <span class="stringliteral">&quot;The backend class &#39;SequentialBackend&#39; does not support timeout. &quot;</span></div>
<div class="line"><span class="lineno"> 1192</span>        <span class="stringliteral">&quot;You have set &#39;timeout=1&#39; in Parallel but the &#39;timeout&#39; parameter &quot;</span></div>
<div class="line"><span class="lineno"> 1193</span>        <span class="stringliteral">&quot;will not be used.&quot;</span>)</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span> </div>
<div class="line"><span class="lineno"> 1196</span><span class="preprocessor">@parametrize(&#39;backend&#39;, ALL_VALID_BACKENDS)</span></div>
<div class="line"><span class="lineno"> 1197</span><span class="preprocessor">@parametrize(&#39;n_jobs&#39;, [1, 2, -2, -1])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="add897b597af0178cff1aba31806981e0" name="add897b597af0178cff1aba31806981e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add897b597af0178cff1aba31806981e0">&#9670;&#160;</a></span>test_zero_worker_backend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.test_zero_worker_backend </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1540</span><span class="keyword">def </span>test_zero_worker_backend():</div>
<div class="line"><span class="lineno"> 1541</span>    <span class="comment"># joblib.Parallel should reject with an explicit error message parallel</span></div>
<div class="line"><span class="lineno"> 1542</span>    <span class="comment"># backends that have no worker.</span></div>
<div class="line"><span class="lineno"> 1543</span>    <span class="keyword">class </span>ZeroWorkerBackend(ThreadingBackend):</div>
<div class="line"><span class="lineno"> 1544</span>        <span class="keyword">def </span>configure(self, *args, **kwargs):</div>
<div class="line"><span class="lineno"> 1545</span>            <span class="keywordflow">return</span> 0</div>
<div class="line"><span class="lineno"> 1546</span> </div>
<div class="line"><span class="lineno"> 1547</span>        <span class="keyword">def </span>apply_async(self, func, callback=None):   <span class="comment"># pragma: no cover</span></div>
<div class="line"><span class="lineno"> 1548</span>            <span class="keywordflow">raise</span> TimeoutError(<span class="stringliteral">&quot;No worker available&quot;</span>)</div>
<div class="line"><span class="lineno"> 1549</span> </div>
<div class="line"><span class="lineno"> 1550</span>        <span class="keyword">def </span>effective_n_jobs(self, n_jobs):   <span class="comment"># pragma: no cover</span></div>
<div class="line"><span class="lineno"> 1551</span>            <span class="keywordflow">return</span> 0</div>
<div class="line"><span class="lineno"> 1552</span> </div>
<div class="line"><span class="lineno"> 1553</span>    expected_msg = <span class="stringliteral">&quot;ZeroWorkerBackend has no active worker&quot;</span></div>
<div class="line"><span class="lineno"> 1554</span>    <span class="keyword">with</span> parallel_backend(ZeroWorkerBackend()):</div>
<div class="line"><span class="lineno"> 1555</span>        <span class="keyword">with</span> pytest.raises(RuntimeError, match=expected_msg):</div>
<div class="line"><span class="lineno"> 1556</span>            Parallel(n_jobs=2)(delayed(id)(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2))</div>
<div class="line"><span class="lineno"> 1557</span> </div>
<div class="line"><span class="lineno"> 1558</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1e92176063e9f6b316cab71c5534dfb6" name="a1e92176063e9f6b316cab71c5534dfb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e92176063e9f6b316cab71c5534dfb6">&#9670;&#160;</a></span>all_backends_for_context_manager</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list joblib.test.test_parallel.all_backends_for_context_manager = <a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a01b0217714fc9f2f35d1814f6f021dd4">PARALLEL_BACKENDS</a>[:]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9bc6701c0b400a65754a85492f454915" name="a9bc6701c0b400a65754a85492f454915"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bc6701c0b400a65754a85492f454915">&#9670;&#160;</a></span>ALL_VALID_BACKENDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list joblib.test.test_parallel.ALL_VALID_BACKENDS = [None] + sorted(BACKENDS.keys())</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aea191ef681158a2bdb3307c3279eb982" name="aea191ef681158a2bdb3307c3279eb982"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea191ef681158a2bdb3307c3279eb982">&#9670;&#160;</a></span>DefaultBackend</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.DefaultBackend = BACKENDS[DEFAULT_BACKEND]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af40e648b4f7781525e04d90efe0a780c" name="af40e648b4f7781525e04d90efe0a780c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af40e648b4f7781525e04d90efe0a780c">&#9670;&#160;</a></span>distributed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.distributed = None</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae6a460695c134e1447386277990e9afd" name="ae6a460695c134e1447386277990e9afd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6a460695c134e1447386277990e9afd">&#9670;&#160;</a></span>INTERACTIVE_DEFINED_FUNCTION_AND_CLASS_SCRIPT_CONTENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str joblib.test.test_parallel.INTERACTIVE_DEFINED_FUNCTION_AND_CLASS_SCRIPT_CONTENT</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af364f23017d25fb3f3b75a95e87a0944" name="af364f23017d25fb3f3b75a95e87a0944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af364f23017d25fb3f3b75a95e87a0944">&#9670;&#160;</a></span>INTERACTIVELY_DEFINED_SUBCLASS_WITH_METHOD_SCRIPT_CONTENT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str joblib.test.test_parallel.INTERACTIVELY_DEFINED_SUBCLASS_WITH_METHOD_SCRIPT_CONTENT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">import sys</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral"># Make sure that joblib is importable in the subprocess launching this</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral"># script. This is needed in case we run the tests from the joblib root</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral"># folder without having installed joblib</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral">sys.path.insert(0, {joblib_root_folder!r})</span></div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">    8</span><span class="stringliteral">from joblib import Parallel, delayed, hash</span></div>
<div class="line"><span class="lineno">    9</span><span class="stringliteral">import multiprocessing as mp</span></div>
<div class="line"><span class="lineno">   10</span><span class="stringliteral">mp.util.log_to_stderr(5)</span></div>
<div class="line"><span class="lineno">   11</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   12</span><span class="stringliteral">class MyList(list):</span></div>
<div class="line"><span class="lineno">   13</span><span class="stringliteral">    &#39;&#39;&#39;MyList is interactively defined by MyList.append is a built-in&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral">    def __hash__(self):</span></div>
<div class="line"><span class="lineno">   15</span><span class="stringliteral">        # XXX: workaround limitation in cloudpickle</span></div>
<div class="line"><span class="lineno">   16</span><span class="stringliteral">        return hash(self).__hash__()</span></div>
<div class="line"><span class="lineno">   17</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   18</span><span class="stringliteral">l = MyList()</span></div>
<div class="line"><span class="lineno">   19</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   20</span><span class="stringliteral">print(Parallel(n_jobs=2)(</span></div>
<div class="line"><span class="lineno">   21</span><span class="stringliteral">    delayed(l.append)(i) for i in range(3)</span></div>
<div class="line"><span class="lineno">   22</span><span class="stringliteral">))</span></div>
<div class="line"><span class="lineno">   23</span><span class="stringliteral">&quot;&quot;&quot;</span>.format(joblib_root_folder=os.path.dirname(</div>
<div class="line"><span class="lineno">   24</span>    os.path.dirname(joblib.__file__)))</div>
</div><!-- fragment -->
</div>
</div>
<a id="a01b0217714fc9f2f35d1814f6f021dd4" name="a01b0217714fc9f2f35d1814f6f021dd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01b0217714fc9f2f35d1814f6f021dd4">&#9670;&#160;</a></span>PARALLEL_BACKENDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list joblib.test.test_parallel.PARALLEL_BACKENDS = <a class="el" href="namespacejoblib_1_1test_1_1test__parallel.html#a25142eca710b3db664f8792a1e1ed725">PROCESS_BACKENDS</a> + ['threading']</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a273ba1f07a803955704e719258ee5a4b" name="a273ba1f07a803955704e719258ee5a4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a273ba1f07a803955704e719258ee5a4b">&#9670;&#160;</a></span>parallel_sum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.parallel_sum = None</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad93da88c9abb93a62cd52a8eafc64570" name="ad93da88c9abb93a62cd52a8eafc64570"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad93da88c9abb93a62cd52a8eafc64570">&#9670;&#160;</a></span>posix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_parallel.posix = None</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a25142eca710b3db664f8792a1e1ed725" name="a25142eca710b3db664f8792a1e1ed725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25142eca710b3db664f8792a1e1ed725">&#9670;&#160;</a></span>PROCESS_BACKENDS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list joblib.test.test_parallel.PROCESS_BACKENDS = []</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a65943108ac995eb1683f6b5056ccbca0" name="a65943108ac995eb1683f6b5056ccbca0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65943108ac995eb1683f6b5056ccbca0">&#9670;&#160;</a></span>SQUARE_LAMBDA</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str joblib.test.test_parallel.SQUARE_LAMBDA</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">square = lambda x: x ** 2</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a96a4929edd0fbe55f448db38ff8d7754" name="a96a4929edd0fbe55f448db38ff8d7754"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96a4929edd0fbe55f448db38ff8d7754">&#9670;&#160;</a></span>SQUARE_LOCAL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str joblib.test.test_parallel.SQUARE_LOCAL</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">def gen_square():</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">    def square(x):</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">        return x ** 2</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">    return square</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral">square = gen_square()</span></div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a318afa3fbcfa767ba8a353ef2389a5f5" name="a318afa3fbcfa767ba8a353ef2389a5f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a318afa3fbcfa767ba8a353ef2389a5f5">&#9670;&#160;</a></span>SQUARE_MAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str joblib.test.test_parallel.SQUARE_MAIN</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">def square(x):</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">    return x ** 2</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae29c19b8cae5beb0950fbe0279cd622e" name="ae29c19b8cae5beb0950fbe0279cd622e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae29c19b8cae5beb0950fbe0279cd622e">&#9670;&#160;</a></span>UNPICKLABLE_CALLABLE_SCRIPT_TEMPLATE_MAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str joblib.test.test_parallel.UNPICKLABLE_CALLABLE_SCRIPT_TEMPLATE_MAIN</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a152ab1fbedb23835ec94ac228e7f169b" name="a152ab1fbedb23835ec94ac228e7f169b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a152ab1fbedb23835ec94ac228e7f169b">&#9670;&#160;</a></span>UNPICKLABLE_CALLABLE_SCRIPT_TEMPLATE_NO_MAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str joblib.test.test_parallel.UNPICKLABLE_CALLABLE_SCRIPT_TEMPLATE_NO_MAIN</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">from joblib import Parallel, delayed</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">def square(x):</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">    return x ** 2</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral">backend = &quot;{}&quot;</span></div>
<div class="line"><span class="lineno">    8</span><span class="stringliteral">if backend == &quot;spawn&quot;:</span></div>
<div class="line"><span class="lineno">    9</span><span class="stringliteral">    from multiprocessing import get_context</span></div>
<div class="line"><span class="lineno">   10</span><span class="stringliteral">    backend = get_context(backend)</span></div>
<div class="line"><span class="lineno">   11</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   12</span><span class="stringliteral">print(Parallel(n_jobs=2, backend=backend)(</span></div>
<div class="line"><span class="lineno">   13</span><span class="stringliteral">      delayed(square)(i) for i in range(5)))</span></div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
