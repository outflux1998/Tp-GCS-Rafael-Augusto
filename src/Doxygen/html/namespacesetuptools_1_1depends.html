<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: setuptools.depends Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesetuptools.html">setuptools</a></li><li class="navelem"><a class="el" href="namespacesetuptools_1_1depends.html">depends</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">setuptools.depends Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsetuptools_1_1depends_1_1_require.html">Require</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a66f40277e32966193be2f2daa0e3e51e" id="r_a66f40277e32966193be2f2daa0e3e51e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesetuptools_1_1depends.html#a66f40277e32966193be2f2daa0e3e51e">maybe_close</a> (<a class="el" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>)</td></tr>
<tr class="separator:a66f40277e32966193be2f2daa0e3e51e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a6c18383d05bbb17f7384dd57147bf" id="r_ae6a6c18383d05bbb17f7384dd57147bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesetuptools_1_1depends.html#ae6a6c18383d05bbb17f7384dd57147bf">get_module_constant</a> (module, symbol, default=-1, paths=None)</td></tr>
<tr class="separator:ae6a6c18383d05bbb17f7384dd57147bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18d2927b4189aa61aa67e37a135728a4" id="r_a18d2927b4189aa61aa67e37a135728a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesetuptools_1_1depends.html#a18d2927b4189aa61aa67e37a135728a4">extract_constant</a> (code, symbol, default=-1)</td></tr>
<tr class="separator:a18d2927b4189aa61aa67e37a135728a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59ea2368fb80eb8421a4ba41ba5641f6" id="r_a59ea2368fb80eb8421a4ba41ba5641f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesetuptools_1_1depends.html#a59ea2368fb80eb8421a4ba41ba5641f6">_update_globals</a> ()</td></tr>
<tr class="separator:a59ea2368fb80eb8421a4ba41ba5641f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a59ea2368fb80eb8421a4ba41ba5641f6" name="a59ea2368fb80eb8421a4ba41ba5641f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59ea2368fb80eb8421a4ba41ba5641f6">&#9670;&#160;</a></span>_update_globals()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">setuptools.depends._update_globals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Patch the globals to remove the objects not available on some platforms.

XXX it'd be better to test assertions about bytecode instead.
</pre> <div class="fragment"><div class="line"><span class="lineno">  160</span><span class="keyword">def </span>_update_globals():</div>
<div class="line"><span class="lineno">  161</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  162</span><span class="stringliteral">    Patch the globals to remove the objects not available on some platforms.</span></div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral">    XXX it&#39;d be better to test assertions about bytecode instead.</span></div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> sys.platform.startswith(<span class="stringliteral">&#39;java&#39;</span>) <span class="keywordflow">and</span> sys.platform != <span class="stringliteral">&#39;cli&#39;</span>:</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  169</span>    incompatible = <span class="stringliteral">&#39;extract_constant&#39;</span>, <span class="stringliteral">&#39;get_module_constant&#39;</span></div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">for</span> name <span class="keywordflow">in</span> incompatible:</div>
<div class="line"><span class="lineno">  171</span>        del globals()[name]</div>
<div class="line"><span class="lineno">  172</span>        __all__.remove(name)</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a18d2927b4189aa61aa67e37a135728a4" name="a18d2927b4189aa61aa67e37a135728a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18d2927b4189aa61aa67e37a135728a4">&#9670;&#160;</a></span>extract_constant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setuptools.depends.extract_constant </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>symbol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>default</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Extract the constant value of 'symbol' from 'code'

If the name 'symbol' is bound to a constant value by the Python code
object 'code', return that value.  If 'symbol' is bound to an expression,
return 'default'.  Otherwise, return 'None'.

Return value is based on the first assignment to 'symbol'.  'symbol' must
be a global, or at least a non-"fast" local in the code block.  That is,
only 'STORE_NAME' and 'STORE_GLOBAL' opcodes are checked, and 'symbol'
must be present in 'code.co_names'.
</pre> <div class="fragment"><div class="line"><span class="lineno">  124</span><span class="keyword">def </span>extract_constant(code, symbol, default=-1):</div>
<div class="line"><span class="lineno">  125</span>    <span class="stringliteral">&quot;&quot;&quot;Extract the constant value of &#39;symbol&#39; from &#39;code&#39;</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">    If the name &#39;symbol&#39; is bound to a constant value by the Python code</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">    object &#39;code&#39;, return that value.  If &#39;symbol&#39; is bound to an expression,</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">    return &#39;default&#39;.  Otherwise, return &#39;None&#39;.</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">    Return value is based on the first assignment to &#39;symbol&#39;.  &#39;symbol&#39; must</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">    be a global, or at least a non-&quot;fast&quot; local in the code block.  That is,</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">    only &#39;STORE_NAME&#39; and &#39;STORE_GLOBAL&#39; opcodes are checked, and &#39;symbol&#39;</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral">    must be present in &#39;code.co_names&#39;.</span></div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordflow">if</span> symbol <span class="keywordflow">not</span> <span class="keywordflow">in</span> code.co_names:</div>
<div class="line"><span class="lineno">  137</span>        <span class="comment"># name&#39;s not there, can&#39;t possibly be an assignment</span></div>
<div class="line"><span class="lineno">  138</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>    name_idx = list(code.co_names).index(symbol)</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    STORE_NAME = 90</div>
<div class="line"><span class="lineno">  143</span>    STORE_GLOBAL = 97</div>
<div class="line"><span class="lineno">  144</span>    LOAD_CONST = 100</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>    const = default</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">for</span> byte_code <span class="keywordflow">in</span> dis.Bytecode(code):</div>
<div class="line"><span class="lineno">  149</span>        op = byte_code.opcode</div>
<div class="line"><span class="lineno">  150</span>        arg = byte_code.arg</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordflow">if</span> op == LOAD_CONST:</div>
<div class="line"><span class="lineno">  153</span>            const = code.co_consts[arg]</div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">elif</span> arg == name_idx <span class="keywordflow">and</span> (op == STORE_NAME <span class="keywordflow">or</span> op == STORE_GLOBAL):</div>
<div class="line"><span class="lineno">  155</span>            <span class="keywordflow">return</span> const</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  157</span>            const = default</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6a6c18383d05bbb17f7384dd57147bf" name="ae6a6c18383d05bbb17f7384dd57147bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6a6c18383d05bbb17f7384dd57147bf">&#9670;&#160;</a></span>get_module_constant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setuptools.depends.get_module_constant </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>module</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>symbol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>default</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>paths</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Find 'module' by searching 'paths', and extract 'symbol'

Return 'None' if 'module' does not exist on 'paths', or it does not define
'symbol'.  If the module defines 'symbol' as a constant, return the
constant.  Otherwise, return 'default'.</pre> <div class="fragment"><div class="line"><span class="lineno">   95</span><span class="keyword">def </span>get_module_constant(module, symbol, default=-1, paths=None):</div>
<div class="line"><span class="lineno">   96</span>    <span class="stringliteral">&quot;&quot;&quot;Find &#39;module&#39; by searching &#39;paths&#39;, and extract &#39;symbol&#39;</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">    Return &#39;None&#39; if &#39;module&#39; does not exist on &#39;paths&#39;, or it does not define</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">    &#39;symbol&#39;.  If the module defines &#39;symbol&#39; as a constant, return the</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">    constant.  Otherwise, return &#39;default&#39;.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  103</span>        f, path, (suffix, mode, kind) = info = find_module(module, paths)</div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno">  105</span>        <span class="comment"># Module doesn&#39;t exist</span></div>
<div class="line"><span class="lineno">  106</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>    <span class="keyword">with</span> maybe_close(f):</div>
<div class="line"><span class="lineno">  109</span>        <span class="keywordflow">if</span> kind == PY_COMPILED:</div>
<div class="line"><span class="lineno">  110</span>            f.read(8)  <span class="comment"># skip magic &amp; date</span></div>
<div class="line"><span class="lineno">  111</span>            code = marshal.load(f)</div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordflow">elif</span> kind == PY_FROZEN:</div>
<div class="line"><span class="lineno">  113</span>            code = _imp.get_frozen_object(module, paths)</div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordflow">elif</span> kind == PY_SOURCE:</div>
<div class="line"><span class="lineno">  115</span>            code = compile(f.read(), path, <span class="stringliteral">&#39;exec&#39;</span>)</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  117</span>            <span class="comment"># Not something we can parse; we&#39;ll have to import it.  :(</span></div>
<div class="line"><span class="lineno">  118</span>            imported = _imp.get_module(module, paths, info)</div>
<div class="line"><span class="lineno">  119</span>            <span class="keywordflow">return</span> getattr(imported, symbol, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">return</span> extract_constant(code, symbol, default)</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a66f40277e32966193be2f2daa0e3e51e" name="a66f40277e32966193be2f2daa0e3e51e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66f40277e32966193be2f2daa0e3e51e">&#9670;&#160;</a></span>maybe_close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">setuptools.depends.maybe_close </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   84</span><span class="keyword">def </span>maybe_close(f):</div>
<div class="line"><span class="lineno">   85</span>    <span class="preprocessor">@contextlib.contextmanager</span></div>
<div class="line"><span class="lineno">   86</span>    <span class="keyword">def </span>empty():</div>
<div class="line"><span class="lineno">   87</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> f:</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">return</span> empty()</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">return</span> contextlib.closing(f)</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span> </div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
