<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.tests.io.test_stata.TestStata Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1io.html">io</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html">test_stata</a></li><li class="navelem"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html">TestStata</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">pandas.tests.io.test_stata.TestStata Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af75c9d9ca9c809519c8e0178be2a6879" id="r_af75c9d9ca9c809519c8e0178be2a6879"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#af75c9d9ca9c809519c8e0178be2a6879">read_dta</a> (self, file)</td></tr>
<tr class="separator:af75c9d9ca9c809519c8e0178be2a6879"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ad1a3fc681a91037bd0a2ffb70faa6" id="r_aa9ad1a3fc681a91037bd0a2ffb70faa6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aa9ad1a3fc681a91037bd0a2ffb70faa6">read_csv</a> (self, file)</td></tr>
<tr class="separator:aa9ad1a3fc681a91037bd0a2ffb70faa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a480f3e4279dac1c391b60493a28579b4" id="r_a480f3e4279dac1c391b60493a28579b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a480f3e4279dac1c391b60493a28579b4">test_read_empty_dta</a> (self, version)</td></tr>
<tr class="separator:a480f3e4279dac1c391b60493a28579b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85a9397377ad0f336b6e3eee23560008" id="r_a85a9397377ad0f336b6e3eee23560008"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a85a9397377ad0f336b6e3eee23560008">test_read_dta1</a> (self, file, datapath)</td></tr>
<tr class="separator:a85a9397377ad0f336b6e3eee23560008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdfa582dc1792c3ab2aa04529f689615" id="r_abdfa582dc1792c3ab2aa04529f689615"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#abdfa582dc1792c3ab2aa04529f689615">test_read_dta2</a> (self, datapath)</td></tr>
<tr class="separator:abdfa582dc1792c3ab2aa04529f689615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa17002aacab4cdeed0caa56ce748c5c7" id="r_aa17002aacab4cdeed0caa56ce748c5c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aa17002aacab4cdeed0caa56ce748c5c7">test_read_dta3</a> (self, file, datapath)</td></tr>
<tr class="separator:aa17002aacab4cdeed0caa56ce748c5c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af324e529d819b5a4a58238b67e1e4460" id="r_af324e529d819b5a4a58238b67e1e4460"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#af324e529d819b5a4a58238b67e1e4460">test_read_dta4</a> (self, file, datapath)</td></tr>
<tr class="separator:af324e529d819b5a4a58238b67e1e4460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa62c5e52c2e23069e64c4e0e3114ef2d" id="r_aa62c5e52c2e23069e64c4e0e3114ef2d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aa62c5e52c2e23069e64c4e0e3114ef2d">test_read_dta12</a> (self, datapath)</td></tr>
<tr class="separator:aa62c5e52c2e23069e64c4e0e3114ef2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa257feb7018d98a5d6c75dee0906a59f" id="r_aa257feb7018d98a5d6c75dee0906a59f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aa257feb7018d98a5d6c75dee0906a59f">test_read_dta18</a> (self, datapath)</td></tr>
<tr class="separator:aa257feb7018d98a5d6c75dee0906a59f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1578c929745f9d6836b88892eada316" id="r_ad1578c929745f9d6836b88892eada316"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#ad1578c929745f9d6836b88892eada316">test_read_write_dta5</a> (self)</td></tr>
<tr class="separator:ad1578c929745f9d6836b88892eada316"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a9a7d3631ddb80a04da7e05266c3342" id="r_a5a9a7d3631ddb80a04da7e05266c3342"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a5a9a7d3631ddb80a04da7e05266c3342">test_write_dta6</a> (self, datapath)</td></tr>
<tr class="separator:a5a9a7d3631ddb80a04da7e05266c3342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a205567133e41be5e053adfc7c939d684" id="r_a205567133e41be5e053adfc7c939d684"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a205567133e41be5e053adfc7c939d684">test_read_write_dta10</a> (self, version)</td></tr>
<tr class="separator:a205567133e41be5e053adfc7c939d684"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48c72221fec9ab6362273916ae850d48" id="r_a48c72221fec9ab6362273916ae850d48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a48c72221fec9ab6362273916ae850d48">test_stata_doc_examples</a> (self)</td></tr>
<tr class="separator:a48c72221fec9ab6362273916ae850d48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859b42898ee38dc79ef9e81caf1dc82b" id="r_a859b42898ee38dc79ef9e81caf1dc82b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a859b42898ee38dc79ef9e81caf1dc82b">test_write_preserves_original</a> (self)</td></tr>
<tr class="separator:a859b42898ee38dc79ef9e81caf1dc82b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c8061ee21a63cf750dd1781d082d948" id="r_a1c8061ee21a63cf750dd1781d082d948"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a1c8061ee21a63cf750dd1781d082d948">test_encoding</a> (self, version, datapath)</td></tr>
<tr class="separator:a1c8061ee21a63cf750dd1781d082d948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a8e34f873f5128caf255eb3980a24cc" id="r_a4a8e34f873f5128caf255eb3980a24cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a4a8e34f873f5128caf255eb3980a24cc">test_read_write_dta11</a> (self)</td></tr>
<tr class="separator:a4a8e34f873f5128caf255eb3980a24cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177787d10000138126f634c360b04b04" id="r_a177787d10000138126f634c360b04b04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a177787d10000138126f634c360b04b04">test_read_write_dta12</a> (self, version)</td></tr>
<tr class="separator:a177787d10000138126f634c360b04b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7257b3b57c218ead5e77d376d747fc62" id="r_a7257b3b57c218ead5e77d376d747fc62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a7257b3b57c218ead5e77d376d747fc62">test_read_write_dta13</a> (self)</td></tr>
<tr class="separator:a7257b3b57c218ead5e77d376d747fc62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a569ba3dae971c45c8488d771a5509c06" id="r_a569ba3dae971c45c8488d771a5509c06"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a569ba3dae971c45c8488d771a5509c06">test_read_write_reread_dta14</a> (self, file, <a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#a6fb6c1583b5d22b2e26f42c2c0cd8cc3">parsed_114</a>, version, datapath)</td></tr>
<tr class="separator:a569ba3dae971c45c8488d771a5509c06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa404f8ff1ffbafa0949831033b7a4720" id="r_aa404f8ff1ffbafa0949831033b7a4720"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aa404f8ff1ffbafa0949831033b7a4720">test_read_write_reread_dta15</a> (self, file, datapath)</td></tr>
<tr class="separator:aa404f8ff1ffbafa0949831033b7a4720"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c50d547de498074ecb2a25e81ad3c7" id="r_a94c50d547de498074ecb2a25e81ad3c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a94c50d547de498074ecb2a25e81ad3c7">test_timestamp_and_label</a> (self, version)</td></tr>
<tr class="separator:a94c50d547de498074ecb2a25e81ad3c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a442d19b1cd674bc9c59196884aec4adb" id="r_a442d19b1cd674bc9c59196884aec4adb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a442d19b1cd674bc9c59196884aec4adb">test_invalid_timestamp</a> (self, version)</td></tr>
<tr class="separator:a442d19b1cd674bc9c59196884aec4adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78778fd4082ac1dd56c822ae36935a8a" id="r_a78778fd4082ac1dd56c822ae36935a8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a78778fd4082ac1dd56c822ae36935a8a">test_numeric_column_names</a> (self)</td></tr>
<tr class="separator:a78778fd4082ac1dd56c822ae36935a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad33adffbbc2519e89f27ecff494ba001" id="r_ad33adffbbc2519e89f27ecff494ba001"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#ad33adffbbc2519e89f27ecff494ba001">test_nan_to_missing_value</a> (self, version)</td></tr>
<tr class="separator:ad33adffbbc2519e89f27ecff494ba001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114bb48c44fb66149c5adbcbf729ab6b" id="r_a114bb48c44fb66149c5adbcbf729ab6b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a114bb48c44fb66149c5adbcbf729ab6b">test_no_index</a> (self)</td></tr>
<tr class="separator:a114bb48c44fb66149c5adbcbf729ab6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ffc48ee38fe6f01ab367cff8c70a0d1" id="r_a8ffc48ee38fe6f01ab367cff8c70a0d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a8ffc48ee38fe6f01ab367cff8c70a0d1">test_string_no_dates</a> (self)</td></tr>
<tr class="separator:a8ffc48ee38fe6f01ab367cff8c70a0d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a895a1282f387e5b57ceb299e5bd63a75" id="r_a895a1282f387e5b57ceb299e5bd63a75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a895a1282f387e5b57ceb299e5bd63a75">test_large_value_conversion</a> (self)</td></tr>
<tr class="separator:a895a1282f387e5b57ceb299e5bd63a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dee92178d88c64608230184fe361161" id="r_a8dee92178d88c64608230184fe361161"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a8dee92178d88c64608230184fe361161">test_dates_invalid_column</a> (self)</td></tr>
<tr class="separator:a8dee92178d88c64608230184fe361161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87dc1955481ca237f3a66ebb34791227" id="r_a87dc1955481ca237f3a66ebb34791227"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a87dc1955481ca237f3a66ebb34791227">test_105</a> (self, datapath)</td></tr>
<tr class="separator:a87dc1955481ca237f3a66ebb34791227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866313d09890f1b9de71cb8f866f9424" id="r_a866313d09890f1b9de71cb8f866f9424"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a866313d09890f1b9de71cb8f866f9424">test_value_labels_old_format</a> (self, datapath)</td></tr>
<tr class="separator:a866313d09890f1b9de71cb8f866f9424"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a703ed767ecca9574a3840567dcbe1b23" id="r_a703ed767ecca9574a3840567dcbe1b23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a703ed767ecca9574a3840567dcbe1b23">test_date_export_formats</a> (self)</td></tr>
<tr class="separator:a703ed767ecca9574a3840567dcbe1b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19dfda295ffe27a63ff0d5b566d4e6f5" id="r_a19dfda295ffe27a63ff0d5b566d4e6f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a19dfda295ffe27a63ff0d5b566d4e6f5">test_write_missing_strings</a> (self)</td></tr>
<tr class="separator:a19dfda295ffe27a63ff0d5b566d4e6f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add6f8c2d22d2197005fd134af6286d29" id="r_add6f8c2d22d2197005fd134af6286d29"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#add6f8c2d22d2197005fd134af6286d29">test_bool_uint</a> (self, byteorder, version)</td></tr>
<tr class="separator:add6f8c2d22d2197005fd134af6286d29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf3a3aaf1677598a14d7344e278953e5" id="r_aaf3a3aaf1677598a14d7344e278953e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aaf3a3aaf1677598a14d7344e278953e5">test_variable_labels</a> (self, datapath)</td></tr>
<tr class="separator:aaf3a3aaf1677598a14d7344e278953e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03544dd40ccd1f162740dde0ce73468a" id="r_a03544dd40ccd1f162740dde0ce73468a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a03544dd40ccd1f162740dde0ce73468a">test_minimal_size_col</a> (self)</td></tr>
<tr class="separator:a03544dd40ccd1f162740dde0ce73468a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5c99a516b5ff0fd2d4f39a9c591535f" id="r_aa5c99a516b5ff0fd2d4f39a9c591535f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aa5c99a516b5ff0fd2d4f39a9c591535f">test_excessively_long_string</a> (self)</td></tr>
<tr class="separator:aa5c99a516b5ff0fd2d4f39a9c591535f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0390db62b36a2d48e9370a7ba86656d2" id="r_a0390db62b36a2d48e9370a7ba86656d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a0390db62b36a2d48e9370a7ba86656d2">test_missing_value_generator</a> (self)</td></tr>
<tr class="separator:a0390db62b36a2d48e9370a7ba86656d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8aa9ab1b3097e174c874571f117c863" id="r_af8aa9ab1b3097e174c874571f117c863"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#af8aa9ab1b3097e174c874571f117c863">test_missing_value_conversion</a> (self, file, datapath)</td></tr>
<tr class="separator:af8aa9ab1b3097e174c874571f117c863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d838dedfd21069ec1eb9b020ca53076" id="r_a4d838dedfd21069ec1eb9b020ca53076"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a4d838dedfd21069ec1eb9b020ca53076">test_big_dates</a> (self, datapath)</td></tr>
<tr class="separator:a4d838dedfd21069ec1eb9b020ca53076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe777fefe724841653d6973f6f429512" id="r_abe777fefe724841653d6973f6f429512"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#abe777fefe724841653d6973f6f429512">test_dtype_conversion</a> (self, datapath)</td></tr>
<tr class="separator:abe777fefe724841653d6973f6f429512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00694e5425743c23edf7fe2fa4c5561e" id="r_a00694e5425743c23edf7fe2fa4c5561e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a00694e5425743c23edf7fe2fa4c5561e">test_drop_column</a> (self, datapath)</td></tr>
<tr class="separator:a00694e5425743c23edf7fe2fa4c5561e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa3165aa06158f0d34f95d56811b62e4" id="r_afa3165aa06158f0d34f95d56811b62e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#afa3165aa06158f0d34f95d56811b62e4">test_categorical_writing</a> (self, version)</td></tr>
<tr class="separator:afa3165aa06158f0d34f95d56811b62e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fe076eacc2c100e9eb74fbb075cffdf" id="r_a9fe076eacc2c100e9eb74fbb075cffdf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a9fe076eacc2c100e9eb74fbb075cffdf">test_categorical_warnings_and_errors</a> (self)</td></tr>
<tr class="separator:a9fe076eacc2c100e9eb74fbb075cffdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa08b6876b62d127ef73784af563fd5ab" id="r_aa08b6876b62d127ef73784af563fd5ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aa08b6876b62d127ef73784af563fd5ab">test_categorical_with_stata_missing_values</a> (self, version)</td></tr>
<tr class="separator:aa08b6876b62d127ef73784af563fd5ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b9053bcbaaccbd8e7c7bc2456a19df9" id="r_a5b9053bcbaaccbd8e7c7bc2456a19df9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a5b9053bcbaaccbd8e7c7bc2456a19df9">test_categorical_order</a> (self, file, datapath)</td></tr>
<tr class="separator:a5b9053bcbaaccbd8e7c7bc2456a19df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf360240d77983de261c5b6416d3a4de" id="r_adf360240d77983de261c5b6416d3a4de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#adf360240d77983de261c5b6416d3a4de">test_categorical_sorting</a> (self, file, datapath)</td></tr>
<tr class="separator:adf360240d77983de261c5b6416d3a4de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0d164cc2f7f802b42c0e92a7363ea0" id="r_a2c0d164cc2f7f802b42c0e92a7363ea0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a2c0d164cc2f7f802b42c0e92a7363ea0">test_categorical_ordering</a> (self, file, datapath)</td></tr>
<tr class="separator:a2c0d164cc2f7f802b42c0e92a7363ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ca2ab6948417a89506fa08491106025" id="r_a0ca2ab6948417a89506fa08491106025"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a0ca2ab6948417a89506fa08491106025">test_read_chunks_117</a> (self, file, chunksize, convert_categoricals, convert_dates, datapath)</td></tr>
<tr class="separator:a0ca2ab6948417a89506fa08491106025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f2910ee339a7e0f0a1d7a4080915d4a" id="r_a1f2910ee339a7e0f0a1d7a4080915d4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a1f2910ee339a7e0f0a1d7a4080915d4a">test_iterator</a> (self, datapath)</td></tr>
<tr class="separator:a1f2910ee339a7e0f0a1d7a4080915d4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adac9fbbec338548c47db9d969de63d45" id="r_adac9fbbec338548c47db9d969de63d45"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#adac9fbbec338548c47db9d969de63d45">test_read_chunks_115</a> (self, file, chunksize, convert_categoricals, convert_dates, datapath)</td></tr>
<tr class="separator:adac9fbbec338548c47db9d969de63d45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16370c9b91c886d488829906678352d6" id="r_a16370c9b91c886d488829906678352d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a16370c9b91c886d488829906678352d6">test_read_chunks_columns</a> (self, datapath)</td></tr>
<tr class="separator:a16370c9b91c886d488829906678352d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacba787b26977e4f3d821c64fb90ba56" id="r_aacba787b26977e4f3d821c64fb90ba56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aacba787b26977e4f3d821c64fb90ba56">test_write_variable_labels</a> (self, version, <a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#acb24467f703a699c7679d188dd1f9802">mixed_frame</a>)</td></tr>
<tr class="separator:aacba787b26977e4f3d821c64fb90ba56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7aa03346c989ff0e9b031b6150d057e" id="r_ab7aa03346c989ff0e9b031b6150d057e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#ab7aa03346c989ff0e9b031b6150d057e">test_invalid_variable_labels</a> (self, version, <a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#acb24467f703a699c7679d188dd1f9802">mixed_frame</a>)</td></tr>
<tr class="separator:ab7aa03346c989ff0e9b031b6150d057e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74b8973a3b0718255ace73bbe747c0aa" id="r_a74b8973a3b0718255ace73bbe747c0aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a74b8973a3b0718255ace73bbe747c0aa">test_invalid_variable_label_encoding</a> (self, version, <a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#acb24467f703a699c7679d188dd1f9802">mixed_frame</a>)</td></tr>
<tr class="separator:a74b8973a3b0718255ace73bbe747c0aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03d36adca2054e3937c7e4f7eb4512e9" id="r_a03d36adca2054e3937c7e4f7eb4512e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a03d36adca2054e3937c7e4f7eb4512e9">test_write_variable_label_errors</a> (self, <a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__stata.html#acb24467f703a699c7679d188dd1f9802">mixed_frame</a>)</td></tr>
<tr class="separator:a03d36adca2054e3937c7e4f7eb4512e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00f1a46b12333286d5e486d8f256f64" id="r_ab00f1a46b12333286d5e486d8f256f64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#ab00f1a46b12333286d5e486d8f256f64">test_default_date_conversion</a> (self)</td></tr>
<tr class="separator:ab00f1a46b12333286d5e486d8f256f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be9433378863249bac3ae4b7d3dc048" id="r_a6be9433378863249bac3ae4b7d3dc048"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a6be9433378863249bac3ae4b7d3dc048">test_unsupported_type</a> (self)</td></tr>
<tr class="separator:a6be9433378863249bac3ae4b7d3dc048"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee6cbe490830c84d8b6e585dc6462a46" id="r_aee6cbe490830c84d8b6e585dc6462a46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aee6cbe490830c84d8b6e585dc6462a46">test_unsupported_datetype</a> (self)</td></tr>
<tr class="separator:aee6cbe490830c84d8b6e585dc6462a46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d1e000303edcf10e45540ec42a8c323" id="r_a5d1e000303edcf10e45540ec42a8c323"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a5d1e000303edcf10e45540ec42a8c323">test_repeated_column_labels</a> (self, datapath)</td></tr>
<tr class="separator:a5d1e000303edcf10e45540ec42a8c323"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77c578d08dc6102604731c587ed071e8" id="r_a77c578d08dc6102604731c587ed071e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a77c578d08dc6102604731c587ed071e8">test_stata_111</a> (self, datapath)</td></tr>
<tr class="separator:a77c578d08dc6102604731c587ed071e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4426119e032b6fa0f48a8ac40e32fe85" id="r_a4426119e032b6fa0f48a8ac40e32fe85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a4426119e032b6fa0f48a8ac40e32fe85">test_out_of_range_double</a> (self)</td></tr>
<tr class="separator:a4426119e032b6fa0f48a8ac40e32fe85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a0742e96f3bc1b2e5837275a568c46" id="r_aa3a0742e96f3bc1b2e5837275a568c46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aa3a0742e96f3bc1b2e5837275a568c46">test_out_of_range_float</a> (self)</td></tr>
<tr class="separator:aa3a0742e96f3bc1b2e5837275a568c46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2176f533a92c3bd871127023f9b2d8fc" id="r_a2176f533a92c3bd871127023f9b2d8fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a2176f533a92c3bd871127023f9b2d8fc">test_inf</a> (self, infval)</td></tr>
<tr class="separator:a2176f533a92c3bd871127023f9b2d8fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc537a090e4ee681a6f32dcda5d96719" id="r_afc537a090e4ee681a6f32dcda5d96719"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#afc537a090e4ee681a6f32dcda5d96719">test_path_pathlib</a> (self)</td></tr>
<tr class="separator:afc537a090e4ee681a6f32dcda5d96719"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a6ed6aed5ab728ff68e46c5d50c4c67" id="r_a6a6ed6aed5ab728ff68e46c5d50c4c67"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a6a6ed6aed5ab728ff68e46c5d50c4c67">test_pickle_path_localpath</a> (self)</td></tr>
<tr class="separator:a6a6ed6aed5ab728ff68e46c5d50c4c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5900a5801c69264c01150f360d427726" id="r_a5900a5801c69264c01150f360d427726"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a5900a5801c69264c01150f360d427726">test_value_labels_iterator</a> (self, write_index)</td></tr>
<tr class="separator:a5900a5801c69264c01150f360d427726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae69833cd24110e8e53f757f7df04c726" id="r_ae69833cd24110e8e53f757f7df04c726"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#ae69833cd24110e8e53f757f7df04c726">test_set_index</a> (self)</td></tr>
<tr class="separator:ae69833cd24110e8e53f757f7df04c726"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4510eff934a68e1dac21a0c38e9f7031" id="r_a4510eff934a68e1dac21a0c38e9f7031"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a4510eff934a68e1dac21a0c38e9f7031">test_date_parsing_ignores_format_details</a> (self, column, datapath)</td></tr>
<tr class="separator:a4510eff934a68e1dac21a0c38e9f7031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac15103757ec6f1bdfeab4653b7bc20c7" id="r_ac15103757ec6f1bdfeab4653b7bc20c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#ac15103757ec6f1bdfeab4653b7bc20c7">test_writer_117</a> (self)</td></tr>
<tr class="separator:ac15103757ec6f1bdfeab4653b7bc20c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af64d4210ac7b24fd1303bb8a2ab0b455" id="r_af64d4210ac7b24fd1303bb8a2ab0b455"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#af64d4210ac7b24fd1303bb8a2ab0b455">test_convert_strl_name_swap</a> (self)</td></tr>
<tr class="separator:af64d4210ac7b24fd1303bb8a2ab0b455"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac78f881f36f90362fceaac5cab27c9a2" id="r_ac78f881f36f90362fceaac5cab27c9a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#ac78f881f36f90362fceaac5cab27c9a2">test_invalid_date_conversion</a> (self)</td></tr>
<tr class="separator:ac78f881f36f90362fceaac5cab27c9a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c98170781e382c904d8ab479b11622b" id="r_a0c98170781e382c904d8ab479b11622b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a0c98170781e382c904d8ab479b11622b">test_nonfile_writing</a> (self, version)</td></tr>
<tr class="separator:a0c98170781e382c904d8ab479b11622b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11db331e3fef0543b9b97f9498a7742f" id="r_a11db331e3fef0543b9b97f9498a7742f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a11db331e3fef0543b9b97f9498a7742f">test_gzip_writing</a> (self)</td></tr>
<tr class="separator:a11db331e3fef0543b9b97f9498a7742f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d1ee7f6c6f7c1eba96206408968d3b6" id="r_a8d1ee7f6c6f7c1eba96206408968d3b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a8d1ee7f6c6f7c1eba96206408968d3b6">test_unicode_dta_118</a> (self, datapath)</td></tr>
<tr class="separator:a8d1ee7f6c6f7c1eba96206408968d3b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa420411698323e524c31decb31891e36" id="r_aa420411698323e524c31decb31891e36"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#aa420411698323e524c31decb31891e36">test_mixed_string_strl</a> (self)</td></tr>
<tr class="separator:aa420411698323e524c31decb31891e36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11556d1ce653cae9a9b1b620235bc60e" id="r_a11556d1ce653cae9a9b1b620235bc60e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a11556d1ce653cae9a9b1b620235bc60e">test_all_none_exception</a> (self, version)</td></tr>
<tr class="separator:a11556d1ce653cae9a9b1b620235bc60e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e8adce3e083c23eae458956c7c3f93d" id="r_a8e8adce3e083c23eae458956c7c3f93d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a8e8adce3e083c23eae458956c7c3f93d">test_invalid_file_not_written</a> (self, version)</td></tr>
<tr class="separator:a8e8adce3e083c23eae458956c7c3f93d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1541ff08b58a96aa778d9cb3d342d10" id="r_ae1541ff08b58a96aa778d9cb3d342d10"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#ae1541ff08b58a96aa778d9cb3d342d10">test_strl_latin1</a> (self)</td></tr>
<tr class="separator:ae1541ff08b58a96aa778d9cb3d342d10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cb433c1615b694ce919f5ffa57630a7" id="r_a2cb433c1615b694ce919f5ffa57630a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a2cb433c1615b694ce919f5ffa57630a7">test_encoding_latin1_118</a> (self, datapath)</td></tr>
<tr class="separator:a2cb433c1615b694ce919f5ffa57630a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371ba6bb66a56696c865443392e55302" id="r_a371ba6bb66a56696c865443392e55302"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a371ba6bb66a56696c865443392e55302">test_stata_119</a> (self, datapath)</td></tr>
<tr class="separator:a371ba6bb66a56696c865443392e55302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c7838eeabf68464c3f28d3473149a2b" id="r_a1c7838eeabf68464c3f28d3473149a2b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a1c7838eeabf68464c3f28d3473149a2b">test_utf8_writer</a> (self, version)</td></tr>
<tr class="separator:a1c7838eeabf68464c3f28d3473149a2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cb84b65ba00aecb4a6969723274b04d" id="r_a1cb84b65ba00aecb4a6969723274b04d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#a1cb84b65ba00aecb4a6969723274b04d">test_writer_118_exceptions</a> (self)</td></tr>
<tr class="separator:a1cb84b65ba00aecb4a6969723274b04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:af76c3ddc5dee3f8afc6b18d5924c5e0a" id="r_af76c3ddc5dee3f8afc6b18d5924c5e0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__stata_1_1_test_stata.html#af76c3ddc5dee3f8afc6b18d5924c5e0a">_convert_categorical</a> (<a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a> from_frame)</td></tr>
<tr class="separator:af76c3ddc5dee3f8afc6b18d5924c5e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af76c3ddc5dee3f8afc6b18d5924c5e0a" name="af76c3ddc5dee3f8afc6b18d5924c5e0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af76c3ddc5dee3f8afc6b18d5924c5e0a">&#9670;&#160;</a></span>_convert_categorical()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a> pandas.tests.io.test_stata.TestStata._convert_categorical </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a>&#160;</td>
          <td class="paramname"><em>from_frame</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Emulate the categorical casting behavior we expect from roundtripping.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1136</span>    <span class="keyword">def </span>_convert_categorical(from_frame: DataFrame) -&gt; DataFrame:</div>
<div class="line"><span class="lineno"> 1137</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1138</span><span class="stringliteral">        Emulate the categorical casting behavior we expect from roundtripping.</span></div>
<div class="line"><span class="lineno"> 1139</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1140</span>        <span class="keywordflow">for</span> col <span class="keywordflow">in</span> from_frame:</div>
<div class="line"><span class="lineno"> 1141</span>            ser = from_frame[col]</div>
<div class="line"><span class="lineno"> 1142</span>            <span class="keywordflow">if</span> is_categorical_dtype(ser.dtype):</div>
<div class="line"><span class="lineno"> 1143</span>                cat = ser._values.remove_unused_categories()</div>
<div class="line"><span class="lineno"> 1144</span>                <span class="keywordflow">if</span> cat.categories.dtype == object:</div>
<div class="line"><span class="lineno"> 1145</span>                    categories = ensure_index(cat.categories._values)</div>
<div class="line"><span class="lineno"> 1146</span>                    cat = cat.set_categories(categories)</div>
<div class="line"><span class="lineno"> 1147</span>                from_frame[col] = cat</div>
<div class="line"><span class="lineno"> 1148</span>        <span class="keywordflow">return</span> from_frame</div>
<div class="line"><span class="lineno"> 1149</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa9ad1a3fc681a91037bd0a2ffb70faa6" name="aa9ad1a3fc681a91037bd0a2ffb70faa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9ad1a3fc681a91037bd0a2ffb70faa6">&#9670;&#160;</a></span>read_csv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.read_csv </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   64</span>    <span class="keyword">def </span>read_csv(self, file):</div>
<div class="line"><span class="lineno">   65</span>        <span class="keywordflow">return</span> read_csv(file, parse_dates=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   66</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af75c9d9ca9c809519c8e0178be2a6879" name="af75c9d9ca9c809519c8e0178be2a6879"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af75c9d9ca9c809519c8e0178be2a6879">&#9670;&#160;</a></span>read_dta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.read_dta </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   60</span>    <span class="keyword">def </span>read_dta(self, file):</div>
<div class="line"><span class="lineno">   61</span>        <span class="comment"># Legacy default reader configuration</span></div>
<div class="line"><span class="lineno">   62</span>        <span class="keywordflow">return</span> read_stata(file, convert_dates=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   63</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a87dc1955481ca237f3a66ebb34791227" name="a87dc1955481ca237f3a66ebb34791227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87dc1955481ca237f3a66ebb34791227">&#9670;&#160;</a></span>test_105()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_105 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  583</span>    <span class="keyword">def </span>test_105(self, datapath):</div>
<div class="line"><span class="lineno">  584</span>        <span class="comment"># Data obtained from:</span></div>
<div class="line"><span class="lineno">  585</span>        <span class="comment"># http://go.worldbank.org/ZXY29PVJ21</span></div>
<div class="line"><span class="lineno">  586</span>        dpath = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;S4_EDUC1.dta&quot;</span>)</div>
<div class="line"><span class="lineno">  587</span>        df = read_stata(dpath)</div>
<div class="line"><span class="lineno">  588</span>        df0 = [[1, 1, 3, -2], [2, 1, 2, -2], [4, 1, 1, -2]]</div>
<div class="line"><span class="lineno">  589</span>        df0 = DataFrame(df0)</div>
<div class="line"><span class="lineno">  590</span>        df0.columns = [<span class="stringliteral">&quot;clustnum&quot;</span>, <span class="stringliteral">&quot;pri_schl&quot;</span>, <span class="stringliteral">&quot;psch_num&quot;</span>, <span class="stringliteral">&quot;psch_dis&quot;</span>]</div>
<div class="line"><span class="lineno">  591</span>        df0[<span class="stringliteral">&quot;clustnum&quot;</span>] = df0[<span class="stringliteral">&quot;clustnum&quot;</span>].astype(np.int16)</div>
<div class="line"><span class="lineno">  592</span>        df0[<span class="stringliteral">&quot;pri_schl&quot;</span>] = df0[<span class="stringliteral">&quot;pri_schl&quot;</span>].astype(np.int8)</div>
<div class="line"><span class="lineno">  593</span>        df0[<span class="stringliteral">&quot;psch_num&quot;</span>] = df0[<span class="stringliteral">&quot;psch_num&quot;</span>].astype(np.int8)</div>
<div class="line"><span class="lineno">  594</span>        df0[<span class="stringliteral">&quot;psch_dis&quot;</span>] = df0[<span class="stringliteral">&quot;psch_dis&quot;</span>].astype(np.float32)</div>
<div class="line"><span class="lineno">  595</span>        tm.assert_frame_equal(df.head(3), df0)</div>
<div class="line"><span class="lineno">  596</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a11556d1ce653cae9a9b1b620235bc60e" name="a11556d1ce653cae9a9b1b620235bc60e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11556d1ce653cae9a9b1b620235bc60e">&#9670;&#160;</a></span>test_all_none_exception()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_all_none_exception </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1707</span>    <span class="keyword">def </span>test_all_none_exception(self, version):</div>
<div class="line"><span class="lineno"> 1708</span>        output = [{<span class="stringliteral">&quot;none&quot;</span>: <span class="stringliteral">&quot;none&quot;</span>, <span class="stringliteral">&quot;number&quot;</span>: 0}, {<span class="stringliteral">&quot;none&quot;</span>: <span class="keywordtype">None</span>, <span class="stringliteral">&quot;number&quot;</span>: 1}]</div>
<div class="line"><span class="lineno"> 1709</span>        output = DataFrame(output)</div>
<div class="line"><span class="lineno"> 1710</span>        output[<span class="stringliteral">&quot;none&quot;</span>] = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1711</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1712</span>            <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Column `none` cannot be exported&quot;</span>):</div>
<div class="line"><span class="lineno"> 1713</span>                output.to_stata(path, version=version)</div>
<div class="line"><span class="lineno"> 1714</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4d838dedfd21069ec1eb9b020ca53076" name="a4d838dedfd21069ec1eb9b020ca53076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d838dedfd21069ec1eb9b020ca53076">&#9670;&#160;</a></span>test_big_dates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_big_dates </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  770</span>    <span class="keyword">def </span>test_big_dates(self, datapath):</div>
<div class="line"><span class="lineno">  771</span>        yr = [1960, 2000, 9999, 100, 2262, 1677]</div>
<div class="line"><span class="lineno">  772</span>        mo = [1, 1, 12, 1, 4, 9]</div>
<div class="line"><span class="lineno">  773</span>        dd = [1, 1, 31, 1, 22, 23]</div>
<div class="line"><span class="lineno">  774</span>        hr = [0, 0, 23, 0, 0, 0]</div>
<div class="line"><span class="lineno">  775</span>        mm = [0, 0, 59, 0, 0, 0]</div>
<div class="line"><span class="lineno">  776</span>        ss = [0, 0, 59, 0, 0, 0]</div>
<div class="line"><span class="lineno">  777</span>        expected = []</div>
<div class="line"><span class="lineno">  778</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(yr)):</div>
<div class="line"><span class="lineno">  779</span>            row = []</div>
<div class="line"><span class="lineno">  780</span>            <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(7):</div>
<div class="line"><span class="lineno">  781</span>                <span class="keywordflow">if</span> j == 0:</div>
<div class="line"><span class="lineno">  782</span>                    row.append(<a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(yr[i], mo[i], dd[i], hr[i], mm[i], ss[i]))</div>
<div class="line"><span class="lineno">  783</span>                <span class="keywordflow">elif</span> j == 6:</div>
<div class="line"><span class="lineno">  784</span>                    row.append(<a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(yr[i], 1, 1))</div>
<div class="line"><span class="lineno">  785</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  786</span>                    row.append(<a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(yr[i], mo[i], dd[i]))</div>
<div class="line"><span class="lineno">  787</span>            expected.append(row)</div>
<div class="line"><span class="lineno">  788</span>        expected.append([pd.NaT] * 7)</div>
<div class="line"><span class="lineno">  789</span>        columns = [</div>
<div class="line"><span class="lineno">  790</span>            <span class="stringliteral">&quot;date_tc&quot;</span>,</div>
<div class="line"><span class="lineno">  791</span>            <span class="stringliteral">&quot;date_td&quot;</span>,</div>
<div class="line"><span class="lineno">  792</span>            <span class="stringliteral">&quot;date_tw&quot;</span>,</div>
<div class="line"><span class="lineno">  793</span>            <span class="stringliteral">&quot;date_tm&quot;</span>,</div>
<div class="line"><span class="lineno">  794</span>            <span class="stringliteral">&quot;date_tq&quot;</span>,</div>
<div class="line"><span class="lineno">  795</span>            <span class="stringliteral">&quot;date_th&quot;</span>,</div>
<div class="line"><span class="lineno">  796</span>            <span class="stringliteral">&quot;date_ty&quot;</span>,</div>
<div class="line"><span class="lineno">  797</span>        ]</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>        <span class="comment"># Fixes for weekly, quarterly,half,year</span></div>
<div class="line"><span class="lineno">  800</span>        expected[2][2] = <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(9999, 12, 24)</div>
<div class="line"><span class="lineno">  801</span>        expected[2][3] = <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(9999, 12, 1)</div>
<div class="line"><span class="lineno">  802</span>        expected[2][4] = <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(9999, 10, 1)</div>
<div class="line"><span class="lineno">  803</span>        expected[2][5] = <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(9999, 7, 1)</div>
<div class="line"><span class="lineno">  804</span>        expected[4][2] = <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2262, 4, 16)</div>
<div class="line"><span class="lineno">  805</span>        expected[4][3] = expected[4][4] = <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2262, 4, 1)</div>
<div class="line"><span class="lineno">  806</span>        expected[4][5] = expected[4][6] = <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2262, 1, 1)</div>
<div class="line"><span class="lineno">  807</span>        expected[5][2] = expected[5][3] = expected[5][4] = <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(1677, 10, 1)</div>
<div class="line"><span class="lineno">  808</span>        expected[5][5] = expected[5][6] = <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(1678, 1, 1)</div>
<div class="line"><span class="lineno">  809</span> </div>
<div class="line"><span class="lineno">  810</span>        expected = DataFrame(expected, columns=columns, dtype=object)</div>
<div class="line"><span class="lineno">  811</span>        parsed_115 = read_stata(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata9_115.dta&quot;</span>))</div>
<div class="line"><span class="lineno">  812</span>        parsed_117 = read_stata(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata9_117.dta&quot;</span>))</div>
<div class="line"><span class="lineno">  813</span>        tm.assert_frame_equal(expected, parsed_115, check_datetimelike_compat=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  814</span>        tm.assert_frame_equal(expected, parsed_117, check_datetimelike_compat=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>        date_conversion = {c: c[-2:] <span class="keywordflow">for</span> c <span class="keywordflow">in</span> columns}</div>
<div class="line"><span class="lineno">  817</span>        <span class="comment"># {c : c[-2:] for c in columns}</span></div>
<div class="line"><span class="lineno">  818</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  819</span>            expected.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  820</span>            <span class="keyword">with</span> tm.assert_produces_warning(FutureWarning, match=<span class="stringliteral">&quot;keyword-only&quot;</span>):</div>
<div class="line"><span class="lineno">  821</span>                expected.to_stata(path, date_conversion)</div>
<div class="line"><span class="lineno">  822</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  823</span>            tm.assert_frame_equal(</div>
<div class="line"><span class="lineno">  824</span>                written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>),</div>
<div class="line"><span class="lineno">  825</span>                expected,</div>
<div class="line"><span class="lineno">  826</span>                check_datetimelike_compat=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  827</span>            )</div>
<div class="line"><span class="lineno">  828</span> </div>
<div class="ttc" id="anamespacedatetime_html"><div class="ttname"><a href="namespacedatetime.html">datetime</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="add6f8c2d22d2197005fd134af6286d29" name="add6f8c2d22d2197005fd134af6286d29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add6f8c2d22d2197005fd134af6286d29">&#9670;&#160;</a></span>test_bool_uint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_bool_uint </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>byteorder</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  641</span>    <span class="keyword">def </span>test_bool_uint(self, byteorder, version):</div>
<div class="line"><span class="lineno">  642</span>        s0 = Series([0, 1, <span class="keyword">True</span>], dtype=np.bool_)</div>
<div class="line"><span class="lineno">  643</span>        s1 = Series([0, 1, 100], dtype=np.uint8)</div>
<div class="line"><span class="lineno">  644</span>        s2 = Series([0, 1, 255], dtype=np.uint8)</div>
<div class="line"><span class="lineno">  645</span>        s3 = Series([0, 1, 2**15 - 100], dtype=np.uint16)</div>
<div class="line"><span class="lineno">  646</span>        s4 = Series([0, 1, 2**16 - 1], dtype=np.uint16)</div>
<div class="line"><span class="lineno">  647</span>        s5 = Series([0, 1, 2**31 - 100], dtype=np.uint32)</div>
<div class="line"><span class="lineno">  648</span>        s6 = Series([0, 1, 2**32 - 1], dtype=np.uint32)</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>        original = DataFrame(</div>
<div class="line"><span class="lineno">  651</span>            {<span class="stringliteral">&quot;s0&quot;</span>: s0, <span class="stringliteral">&quot;s1&quot;</span>: s1, <span class="stringliteral">&quot;s2&quot;</span>: s2, <span class="stringliteral">&quot;s3&quot;</span>: s3, <span class="stringliteral">&quot;s4&quot;</span>: s4, <span class="stringliteral">&quot;s5&quot;</span>: s5, <span class="stringliteral">&quot;s6&quot;</span>: s6}</div>
<div class="line"><span class="lineno">  652</span>        )</div>
<div class="line"><span class="lineno">  653</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  654</span>        expected = original.copy()</div>
<div class="line"><span class="lineno">  655</span>        expected_types = (</div>
<div class="line"><span class="lineno">  656</span>            np.int8,</div>
<div class="line"><span class="lineno">  657</span>            np.int8,</div>
<div class="line"><span class="lineno">  658</span>            np.int16,</div>
<div class="line"><span class="lineno">  659</span>            np.int16,</div>
<div class="line"><span class="lineno">  660</span>            np.int32,</div>
<div class="line"><span class="lineno">  661</span>            np.int32,</div>
<div class="line"><span class="lineno">  662</span>            np.float64,</div>
<div class="line"><span class="lineno">  663</span>        )</div>
<div class="line"><span class="lineno">  664</span>        <span class="keywordflow">for</span> c, t <span class="keywordflow">in</span> zip(expected.columns, expected_types):</div>
<div class="line"><span class="lineno">  665</span>            expected[c] = expected[c].astype(t)</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  668</span>            original.to_stata(path, byteorder=byteorder, version=version)</div>
<div class="line"><span class="lineno">  669</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  670</span>            written_and_read_again = written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno">  671</span>            tm.assert_frame_equal(written_and_read_again, expected)</div>
<div class="line"><span class="lineno">  672</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b9053bcbaaccbd8e7c7bc2456a19df9" name="a5b9053bcbaaccbd8e7c7bc2456a19df9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b9053bcbaaccbd8e7c7bc2456a19df9">&#9670;&#160;</a></span>test_categorical_order()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_categorical_order </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1016</span>    <span class="keyword">def </span>test_categorical_order(self, file, datapath):</div>
<div class="line"><span class="lineno"> 1017</span>        <span class="comment"># Directly construct using expected codes</span></div>
<div class="line"><span class="lineno"> 1018</span>        <span class="comment"># Format is is_cat, col_name, labels (in order), underlying data</span></div>
<div class="line"><span class="lineno"> 1019</span>        expected = [</div>
<div class="line"><span class="lineno"> 1020</span>            (<span class="keyword">True</span>, <span class="stringliteral">&quot;ordered&quot;</span>, [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;e&quot;</span>], np.arange(5)),</div>
<div class="line"><span class="lineno"> 1021</span>            (<span class="keyword">True</span>, <span class="stringliteral">&quot;reverse&quot;</span>, [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;e&quot;</span>], np.arange(5)[::-1]),</div>
<div class="line"><span class="lineno"> 1022</span>            (<span class="keyword">True</span>, <span class="stringliteral">&quot;noorder&quot;</span>, [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;e&quot;</span>], np.array([2, 1, 4, 0, 3])),</div>
<div class="line"><span class="lineno"> 1023</span>            (<span class="keyword">True</span>, <span class="stringliteral">&quot;floating&quot;</span>, [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;e&quot;</span>], np.arange(0, 5)),</div>
<div class="line"><span class="lineno"> 1024</span>            (<span class="keyword">True</span>, <span class="stringliteral">&quot;float_missing&quot;</span>, [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;e&quot;</span>], np.array([0, 1, 2, -1, -1])),</div>
<div class="line"><span class="lineno"> 1025</span>            (<span class="keyword">False</span>, <span class="stringliteral">&quot;nolabel&quot;</span>, [1.0, 2.0, 3.0, 4.0, 5.0], np.arange(5)),</div>
<div class="line"><span class="lineno"> 1026</span>            (<span class="keyword">True</span>, <span class="stringliteral">&quot;int32_mixed&quot;</span>, [<span class="stringliteral">&quot;d&quot;</span>, 2, <span class="stringliteral">&quot;e&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>], np.arange(5)),</div>
<div class="line"><span class="lineno"> 1027</span>        ]</div>
<div class="line"><span class="lineno"> 1028</span>        cols = []</div>
<div class="line"><span class="lineno"> 1029</span>        <span class="keywordflow">for</span> is_cat, col, labels, codes <span class="keywordflow">in</span> expected:</div>
<div class="line"><span class="lineno"> 1030</span>            <span class="keywordflow">if</span> is_cat:</div>
<div class="line"><span class="lineno"> 1031</span>                cols.append(</div>
<div class="line"><span class="lineno"> 1032</span>                    (col, pd.Categorical.from_codes(codes, labels, ordered=<span class="keyword">True</span>))</div>
<div class="line"><span class="lineno"> 1033</span>                )</div>
<div class="line"><span class="lineno"> 1034</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1035</span>                cols.append((col, Series(labels, dtype=np.float32)))</div>
<div class="line"><span class="lineno"> 1036</span>        expected = DataFrame.from_dict(dict(cols))</div>
<div class="line"><span class="lineno"> 1037</span> </div>
<div class="line"><span class="lineno"> 1038</span>        <span class="comment"># Read with and with out categoricals, ensure order is identical</span></div>
<div class="line"><span class="lineno"> 1039</span>        file = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, f<span class="stringliteral">&quot;{file}.dta&quot;</span>)</div>
<div class="line"><span class="lineno"> 1040</span>        parsed = read_stata(file)</div>
<div class="line"><span class="lineno"> 1041</span>        tm.assert_frame_equal(expected, parsed)</div>
<div class="line"><span class="lineno"> 1042</span> </div>
<div class="line"><span class="lineno"> 1043</span>        <span class="comment"># Check identity of codes</span></div>
<div class="line"><span class="lineno"> 1044</span>        <span class="keywordflow">for</span> col <span class="keywordflow">in</span> expected:</div>
<div class="line"><span class="lineno"> 1045</span>            <span class="keywordflow">if</span> is_categorical_dtype(expected[col].dtype):</div>
<div class="line"><span class="lineno"> 1046</span>                tm.assert_series_equal(expected[col].cat.codes, parsed[col].cat.codes)</div>
<div class="line"><span class="lineno"> 1047</span>                tm.assert_index_equal(</div>
<div class="line"><span class="lineno"> 1048</span>                    expected[col].cat.categories, parsed[col].cat.categories</div>
<div class="line"><span class="lineno"> 1049</span>                )</div>
<div class="line"><span class="lineno"> 1050</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c0d164cc2f7f802b42c0e92a7363ea0" name="a2c0d164cc2f7f802b42c0e92a7363ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c0d164cc2f7f802b42c0e92a7363ea0">&#9670;&#160;</a></span>test_categorical_ordering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_categorical_ordering </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1069</span>    <span class="keyword">def </span>test_categorical_ordering(self, file, datapath):</div>
<div class="line"><span class="lineno"> 1070</span>        file = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, f<span class="stringliteral">&quot;{file}.dta&quot;</span>)</div>
<div class="line"><span class="lineno"> 1071</span>        parsed = read_stata(file)</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span>        parsed_unordered = read_stata(file, order_categoricals=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1074</span>        <span class="keywordflow">for</span> col <span class="keywordflow">in</span> parsed:</div>
<div class="line"><span class="lineno"> 1075</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> is_categorical_dtype(parsed[col].dtype):</div>
<div class="line"><span class="lineno"> 1076</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1077</span>            <span class="keyword">assert</span> parsed[col].cat.ordered</div>
<div class="line"><span class="lineno"> 1078</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> parsed_unordered[col].cat.ordered</div>
<div class="line"><span class="lineno"> 1079</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adf360240d77983de261c5b6416d3a4de" name="adf360240d77983de261c5b6416d3a4de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf360240d77983de261c5b6416d3a4de">&#9670;&#160;</a></span>test_categorical_sorting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_categorical_sorting </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1052</span>    <span class="keyword">def </span>test_categorical_sorting(self, file, datapath):</div>
<div class="line"><span class="lineno"> 1053</span>        parsed = read_stata(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, f<span class="stringliteral">&quot;{file}.dta&quot;</span>))</div>
<div class="line"><span class="lineno"> 1054</span> </div>
<div class="line"><span class="lineno"> 1055</span>        <span class="comment"># Sort based on codes, not strings</span></div>
<div class="line"><span class="lineno"> 1056</span>        parsed = parsed.sort_values(<span class="stringliteral">&quot;srh&quot;</span>, na_position=<span class="stringliteral">&quot;first&quot;</span>)</div>
<div class="line"><span class="lineno"> 1057</span> </div>
<div class="line"><span class="lineno"> 1058</span>        <span class="comment"># Don&#39;t sort index</span></div>
<div class="line"><span class="lineno"> 1059</span>        parsed.index = np.arange(parsed.shape[0])</div>
<div class="line"><span class="lineno"> 1060</span>        codes = [-1, -1, 0, 1, 1, 1, 2, 2, 3, 4]</div>
<div class="line"><span class="lineno"> 1061</span>        categories = [<span class="stringliteral">&quot;Poor&quot;</span>, <span class="stringliteral">&quot;Fair&quot;</span>, <span class="stringliteral">&quot;Good&quot;</span>, <span class="stringliteral">&quot;Very good&quot;</span>, <span class="stringliteral">&quot;Excellent&quot;</span>]</div>
<div class="line"><span class="lineno"> 1062</span>        cat = pd.Categorical.from_codes(</div>
<div class="line"><span class="lineno"> 1063</span>            codes=codes, categories=categories, ordered=<span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1064</span>        )</div>
<div class="line"><span class="lineno"> 1065</span>        expected = Series(cat, name=<span class="stringliteral">&quot;srh&quot;</span>)</div>
<div class="line"><span class="lineno"> 1066</span>        tm.assert_series_equal(expected, parsed[<span class="stringliteral">&quot;srh&quot;</span>])</div>
<div class="line"><span class="lineno"> 1067</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9fe076eacc2c100e9eb74fbb075cffdf" name="a9fe076eacc2c100e9eb74fbb075cffdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fe076eacc2c100e9eb74fbb075cffdf">&#9670;&#160;</a></span>test_categorical_warnings_and_errors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_categorical_warnings_and_errors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  963</span>    <span class="keyword">def </span>test_categorical_warnings_and_errors(self):</div>
<div class="line"><span class="lineno">  964</span>        <span class="comment"># Warning for non-string labels</span></div>
<div class="line"><span class="lineno">  965</span>        <span class="comment"># Error for labels too long</span></div>
<div class="line"><span class="lineno">  966</span>        original = DataFrame.from_records(</div>
<div class="line"><span class="lineno">  967</span>            [[<span class="stringliteral">&quot;a&quot;</span> * 10000], [<span class="stringliteral">&quot;b&quot;</span> * 10000], [<span class="stringliteral">&quot;c&quot;</span> * 10000], [<span class="stringliteral">&quot;d&quot;</span> * 10000]],</div>
<div class="line"><span class="lineno">  968</span>            columns=[<span class="stringliteral">&quot;Too_long&quot;</span>],</div>
<div class="line"><span class="lineno">  969</span>        )</div>
<div class="line"><span class="lineno">  970</span> </div>
<div class="line"><span class="lineno">  971</span>        original = pd.concat(</div>
<div class="line"><span class="lineno">  972</span>            [original[col].astype(<span class="stringliteral">&quot;category&quot;</span>) <span class="keywordflow">for</span> col <span class="keywordflow">in</span> original], axis=1</div>
<div class="line"><span class="lineno">  973</span>        )</div>
<div class="line"><span class="lineno">  974</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  975</span>            msg = (</div>
<div class="line"><span class="lineno">  976</span>                <span class="stringliteral">&quot;Stata value labels for a single variable must have &quot;</span></div>
<div class="line"><span class="lineno">  977</span>                <span class="stringliteral">r&quot;a combined length less than 32,000 characters\.&quot;</span></div>
<div class="line"><span class="lineno">  978</span>            )</div>
<div class="line"><span class="lineno">  979</span>            <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  980</span>                original.to_stata(path)</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>        original = DataFrame.from_records(</div>
<div class="line"><span class="lineno">  983</span>            [[<span class="stringliteral">&quot;a&quot;</span>], [<span class="stringliteral">&quot;b&quot;</span>], [<span class="stringliteral">&quot;c&quot;</span>], [<span class="stringliteral">&quot;d&quot;</span>], [1]], columns=[<span class="stringliteral">&quot;Too_long&quot;</span>]</div>
<div class="line"><span class="lineno">  984</span>        )</div>
<div class="line"><span class="lineno">  985</span>        original = pd.concat(</div>
<div class="line"><span class="lineno">  986</span>            [original[col].astype(<span class="stringliteral">&quot;category&quot;</span>) <span class="keywordflow">for</span> col <span class="keywordflow">in</span> original], axis=1</div>
<div class="line"><span class="lineno">  987</span>        )</div>
<div class="line"><span class="lineno">  988</span> </div>
<div class="line"><span class="lineno">  989</span>        <span class="keyword">with</span> tm.assert_produces_warning(ValueLabelTypeMismatch):</div>
<div class="line"><span class="lineno">  990</span>            original.to_stata(path)</div>
<div class="line"><span class="lineno">  991</span>            <span class="comment"># should get a warning for mixed content</span></div>
<div class="line"><span class="lineno">  992</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa08b6876b62d127ef73784af563fd5ab" name="aa08b6876b62d127ef73784af563fd5ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa08b6876b62d127ef73784af563fd5ab">&#9670;&#160;</a></span>test_categorical_with_stata_missing_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_categorical_with_stata_missing_values </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  994</span>    <span class="keyword">def </span>test_categorical_with_stata_missing_values(self, version):</div>
<div class="line"><span class="lineno">  995</span>        values = [[<span class="stringliteral">&quot;a&quot;</span> + str(i)] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(120)]</div>
<div class="line"><span class="lineno">  996</span>        values.append([np.nan])</div>
<div class="line"><span class="lineno">  997</span>        original = DataFrame.from_records(values, columns=[<span class="stringliteral">&quot;many_labels&quot;</span>])</div>
<div class="line"><span class="lineno">  998</span>        original = pd.concat(</div>
<div class="line"><span class="lineno">  999</span>            [original[col].astype(<span class="stringliteral">&quot;category&quot;</span>) <span class="keywordflow">for</span> col <span class="keywordflow">in</span> original], axis=1</div>
<div class="line"><span class="lineno"> 1000</span>        )</div>
<div class="line"><span class="lineno"> 1001</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1002</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1003</span>            original.to_stata(path, version=version)</div>
<div class="line"><span class="lineno"> 1004</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno"> 1005</span>            res = written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>            expected = original.copy()</div>
<div class="line"><span class="lineno"> 1008</span>            <span class="keywordflow">for</span> col <span class="keywordflow">in</span> expected:</div>
<div class="line"><span class="lineno"> 1009</span>                cat = expected[col]._values</div>
<div class="line"><span class="lineno"> 1010</span>                new_cats = cat.remove_unused_categories().categories</div>
<div class="line"><span class="lineno"> 1011</span>                cat = cat.set_categories(new_cats, ordered=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1012</span>                expected[col] = cat</div>
<div class="line"><span class="lineno"> 1013</span>            tm.assert_frame_equal(res, expected)</div>
<div class="line"><span class="lineno"> 1014</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afa3165aa06158f0d34f95d56811b62e4" name="afa3165aa06158f0d34f95d56811b62e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa3165aa06158f0d34f95d56811b62e4">&#9670;&#160;</a></span>test_categorical_writing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_categorical_writing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  912</span>    <span class="keyword">def </span>test_categorical_writing(self, version):</div>
<div class="line"><span class="lineno">  913</span>        original = DataFrame.from_records(</div>
<div class="line"><span class="lineno">  914</span>            [</div>
<div class="line"><span class="lineno">  915</span>                [<span class="stringliteral">&quot;one&quot;</span>, <span class="stringliteral">&quot;ten&quot;</span>, <span class="stringliteral">&quot;one&quot;</span>, <span class="stringliteral">&quot;one&quot;</span>, <span class="stringliteral">&quot;one&quot;</span>, 1],</div>
<div class="line"><span class="lineno">  916</span>                [<span class="stringliteral">&quot;two&quot;</span>, <span class="stringliteral">&quot;nine&quot;</span>, <span class="stringliteral">&quot;two&quot;</span>, <span class="stringliteral">&quot;two&quot;</span>, <span class="stringliteral">&quot;two&quot;</span>, 2],</div>
<div class="line"><span class="lineno">  917</span>                [<span class="stringliteral">&quot;three&quot;</span>, <span class="stringliteral">&quot;eight&quot;</span>, <span class="stringliteral">&quot;three&quot;</span>, <span class="stringliteral">&quot;three&quot;</span>, <span class="stringliteral">&quot;three&quot;</span>, 3],</div>
<div class="line"><span class="lineno">  918</span>                [<span class="stringliteral">&quot;four&quot;</span>, <span class="stringliteral">&quot;seven&quot;</span>, 4, <span class="stringliteral">&quot;four&quot;</span>, <span class="stringliteral">&quot;four&quot;</span>, 4],</div>
<div class="line"><span class="lineno">  919</span>                [<span class="stringliteral">&quot;five&quot;</span>, <span class="stringliteral">&quot;six&quot;</span>, 5, np.nan, <span class="stringliteral">&quot;five&quot;</span>, 5],</div>
<div class="line"><span class="lineno">  920</span>                [<span class="stringliteral">&quot;six&quot;</span>, <span class="stringliteral">&quot;five&quot;</span>, 6, np.nan, <span class="stringliteral">&quot;six&quot;</span>, 6],</div>
<div class="line"><span class="lineno">  921</span>                [<span class="stringliteral">&quot;seven&quot;</span>, <span class="stringliteral">&quot;four&quot;</span>, 7, np.nan, <span class="stringliteral">&quot;seven&quot;</span>, 7],</div>
<div class="line"><span class="lineno">  922</span>                [<span class="stringliteral">&quot;eight&quot;</span>, <span class="stringliteral">&quot;three&quot;</span>, 8, np.nan, <span class="stringliteral">&quot;eight&quot;</span>, 8],</div>
<div class="line"><span class="lineno">  923</span>                [<span class="stringliteral">&quot;nine&quot;</span>, <span class="stringliteral">&quot;two&quot;</span>, 9, np.nan, <span class="stringliteral">&quot;nine&quot;</span>, 9],</div>
<div class="line"><span class="lineno">  924</span>                [<span class="stringliteral">&quot;ten&quot;</span>, <span class="stringliteral">&quot;one&quot;</span>, <span class="stringliteral">&quot;ten&quot;</span>, np.nan, <span class="stringliteral">&quot;ten&quot;</span>, 10],</div>
<div class="line"><span class="lineno">  925</span>            ],</div>
<div class="line"><span class="lineno">  926</span>            columns=[</div>
<div class="line"><span class="lineno">  927</span>                <span class="stringliteral">&quot;fully_labeled&quot;</span>,</div>
<div class="line"><span class="lineno">  928</span>                <span class="stringliteral">&quot;fully_labeled2&quot;</span>,</div>
<div class="line"><span class="lineno">  929</span>                <span class="stringliteral">&quot;incompletely_labeled&quot;</span>,</div>
<div class="line"><span class="lineno">  930</span>                <span class="stringliteral">&quot;labeled_with_missings&quot;</span>,</div>
<div class="line"><span class="lineno">  931</span>                <span class="stringliteral">&quot;float_labelled&quot;</span>,</div>
<div class="line"><span class="lineno">  932</span>                <span class="stringliteral">&quot;unlabeled&quot;</span>,</div>
<div class="line"><span class="lineno">  933</span>            ],</div>
<div class="line"><span class="lineno">  934</span>        )</div>
<div class="line"><span class="lineno">  935</span>        expected = original.copy()</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>        <span class="comment"># these are all categoricals</span></div>
<div class="line"><span class="lineno">  938</span>        original = pd.concat(</div>
<div class="line"><span class="lineno">  939</span>            [original[col].astype(<span class="stringliteral">&quot;category&quot;</span>) <span class="keywordflow">for</span> col <span class="keywordflow">in</span> original], axis=1</div>
<div class="line"><span class="lineno">  940</span>        )</div>
<div class="line"><span class="lineno">  941</span>        expected.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>        expected[<span class="stringliteral">&quot;incompletely_labeled&quot;</span>] = expected[<span class="stringliteral">&quot;incompletely_labeled&quot;</span>].apply(str)</div>
<div class="line"><span class="lineno">  944</span>        expected[<span class="stringliteral">&quot;unlabeled&quot;</span>] = expected[<span class="stringliteral">&quot;unlabeled&quot;</span>].apply(str)</div>
<div class="line"><span class="lineno">  945</span>        <span class="keywordflow">for</span> col <span class="keywordflow">in</span> expected:</div>
<div class="line"><span class="lineno">  946</span>            orig = expected[col].copy()</div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>            cat = orig.astype(<span class="stringliteral">&quot;category&quot;</span>)._values</div>
<div class="line"><span class="lineno">  949</span>            cat = cat.as_ordered()</div>
<div class="line"><span class="lineno">  950</span>            <span class="keywordflow">if</span> col == <span class="stringliteral">&quot;unlabeled&quot;</span>:</div>
<div class="line"><span class="lineno">  951</span>                cat = cat.set_categories(orig, ordered=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  952</span> </div>
<div class="line"><span class="lineno">  953</span>            cat.categories.rename(<span class="keywordtype">None</span>, inplace=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  954</span> </div>
<div class="line"><span class="lineno">  955</span>            expected[col] = cat</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  958</span>            original.to_stata(path, version=version)</div>
<div class="line"><span class="lineno">  959</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  960</span>            res = written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno">  961</span>            tm.assert_frame_equal(res, expected)</div>
<div class="line"><span class="lineno">  962</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af64d4210ac7b24fd1303bb8a2ab0b455" name="af64d4210ac7b24fd1303bb8a2ab0b455"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af64d4210ac7b24fd1303bb8a2ab0b455">&#9670;&#160;</a></span>test_convert_strl_name_swap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_convert_strl_name_swap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1608</span>    <span class="keyword">def </span>test_convert_strl_name_swap(self):</div>
<div class="line"><span class="lineno"> 1609</span>        original = DataFrame(</div>
<div class="line"><span class="lineno"> 1610</span>            [[<span class="stringliteral">&quot;a&quot;</span> * 3000, <span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;apple&quot;</span>], [<span class="stringliteral">&quot;b&quot;</span> * 1000, <span class="stringliteral">&quot;B&quot;</span>, <span class="stringliteral">&quot;banana&quot;</span>]],</div>
<div class="line"><span class="lineno"> 1611</span>            columns=[<span class="stringliteral">&quot;long1&quot;</span> * 10, <span class="stringliteral">&quot;long&quot;</span>, 1],</div>
<div class="line"><span class="lineno"> 1612</span>        )</div>
<div class="line"><span class="lineno"> 1613</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1614</span> </div>
<div class="line"><span class="lineno"> 1615</span>        <span class="keyword">with</span> tm.assert_produces_warning(InvalidColumnName):</div>
<div class="line"><span class="lineno"> 1616</span>            <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1617</span>                original.to_stata(path, convert_strl=[<span class="stringliteral">&quot;long&quot;</span>, 1], version=117)</div>
<div class="line"><span class="lineno"> 1618</span>                reread = self.read_dta(path)</div>
<div class="line"><span class="lineno"> 1619</span>                reread = reread.set_index(<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 1620</span>                reread.columns = original.columns</div>
<div class="line"><span class="lineno"> 1621</span>                tm.assert_frame_equal(reread, original, check_index_type=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1622</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a703ed767ecca9574a3840567dcbe1b23" name="a703ed767ecca9574a3840567dcbe1b23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a703ed767ecca9574a3840567dcbe1b23">&#9670;&#160;</a></span>test_date_export_formats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_date_export_formats </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  607</span>    <span class="keyword">def </span>test_date_export_formats(self):</div>
<div class="line"><span class="lineno">  608</span>        columns = [<span class="stringliteral">&quot;tc&quot;</span>, <span class="stringliteral">&quot;td&quot;</span>, <span class="stringliteral">&quot;tw&quot;</span>, <span class="stringliteral">&quot;tm&quot;</span>, <span class="stringliteral">&quot;tq&quot;</span>, <span class="stringliteral">&quot;th&quot;</span>, <span class="stringliteral">&quot;ty&quot;</span>]</div>
<div class="line"><span class="lineno">  609</span>        conversions = {c: c <span class="keywordflow">for</span> c <span class="keywordflow">in</span> columns}</div>
<div class="line"><span class="lineno">  610</span>        data = [<a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2006, 11, 20, 23, 13, 20)] * len(columns)</div>
<div class="line"><span class="lineno">  611</span>        original = DataFrame([data], columns=columns)</div>
<div class="line"><span class="lineno">  612</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  613</span>        expected_values = [</div>
<div class="line"><span class="lineno">  614</span>            <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2006, 11, 20, 23, 13, 20),  <span class="comment"># Time</span></div>
<div class="line"><span class="lineno">  615</span>            <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2006, 11, 20),  <span class="comment"># Day</span></div>
<div class="line"><span class="lineno">  616</span>            <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2006, 11, 19),  <span class="comment"># Week</span></div>
<div class="line"><span class="lineno">  617</span>            <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2006, 11, 1),  <span class="comment"># Month</span></div>
<div class="line"><span class="lineno">  618</span>            <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2006, 10, 1),  <span class="comment"># Quarter year</span></div>
<div class="line"><span class="lineno">  619</span>            <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2006, 7, 1),  <span class="comment"># Half year</span></div>
<div class="line"><span class="lineno">  620</span>            <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2006, 1, 1),</div>
<div class="line"><span class="lineno">  621</span>        ]  <span class="comment"># Year</span></div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>        expected = DataFrame([expected_values], columns=columns)</div>
<div class="line"><span class="lineno">  624</span>        expected.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  625</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  626</span>            original.to_stata(path, convert_dates=conversions)</div>
<div class="line"><span class="lineno">  627</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  628</span>            tm.assert_frame_equal(written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>), expected)</div>
<div class="line"><span class="lineno">  629</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4510eff934a68e1dac21a0c38e9f7031" name="a4510eff934a68e1dac21a0c38e9f7031"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4510eff934a68e1dac21a0c38e9f7031">&#9670;&#160;</a></span>test_date_parsing_ignores_format_details()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_date_parsing_ignores_format_details </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1520</span>    <span class="keyword">def </span>test_date_parsing_ignores_format_details(self, column, datapath):</div>
<div class="line"><span class="lineno"> 1521</span>        <span class="comment"># GH 17797</span></div>
<div class="line"><span class="lineno"> 1522</span>        <span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1523</span>        <span class="comment"># Test that display formats are ignored when determining if a numeric</span></div>
<div class="line"><span class="lineno"> 1524</span>        <span class="comment"># column is a date value.</span></div>
<div class="line"><span class="lineno"> 1525</span>        <span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1526</span>        <span class="comment"># All date types are stored as numbers and format associated with the</span></div>
<div class="line"><span class="lineno"> 1527</span>        <span class="comment"># column denotes both the type of the date and the display format.</span></div>
<div class="line"><span class="lineno"> 1528</span>        <span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1529</span>        <span class="comment"># STATA supports 9 date types which each have distinct units. We test 7</span></div>
<div class="line"><span class="lineno"> 1530</span>        <span class="comment"># of the 9 types, ignoring %tC and %tb. %tC is a variant of %tc that</span></div>
<div class="line"><span class="lineno"> 1531</span>        <span class="comment"># accounts for leap seconds and %tb relies on STATAs business calendar.</span></div>
<div class="line"><span class="lineno"> 1532</span>        df = read_stata(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata13_dates.dta&quot;</span>))</div>
<div class="line"><span class="lineno"> 1533</span>        unformatted = df.loc[0, column]</div>
<div class="line"><span class="lineno"> 1534</span>        formatted = df.loc[0, column + <span class="stringliteral">&quot;_fmt&quot;</span>]</div>
<div class="line"><span class="lineno"> 1535</span>        <span class="keyword">assert</span> unformatted == formatted</div>
<div class="line"><span class="lineno"> 1536</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dee92178d88c64608230184fe361161" name="a8dee92178d88c64608230184fe361161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dee92178d88c64608230184fe361161">&#9670;&#160;</a></span>test_dates_invalid_column()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_dates_invalid_column </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  571</span>    <span class="keyword">def </span>test_dates_invalid_column(self):</div>
<div class="line"><span class="lineno">  572</span>        original = DataFrame([<a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2006, 11, 19, 23, 13, 20)])</div>
<div class="line"><span class="lineno">  573</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  574</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  575</span>            <span class="keyword">with</span> tm.assert_produces_warning(InvalidColumnName):</div>
<div class="line"><span class="lineno">  576</span>                original.to_stata(path, convert_dates={0: <span class="stringliteral">&quot;tc&quot;</span>})</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  579</span>            modified = original.copy()</div>
<div class="line"><span class="lineno">  580</span>            modified.columns = [<span class="stringliteral">&quot;_0&quot;</span>]</div>
<div class="line"><span class="lineno">  581</span>            tm.assert_frame_equal(written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>), modified)</div>
<div class="line"><span class="lineno">  582</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab00f1a46b12333286d5e486d8f256f64" name="ab00f1a46b12333286d5e486d8f256f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab00f1a46b12333286d5e486d8f256f64">&#9670;&#160;</a></span>test_default_date_conversion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_default_date_conversion </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1326</span>    <span class="keyword">def </span>test_default_date_conversion(self):</div>
<div class="line"><span class="lineno"> 1327</span>        <span class="comment"># GH 12259</span></div>
<div class="line"><span class="lineno"> 1328</span>        dates = [</div>
<div class="line"><span class="lineno"> 1329</span>            dt.datetime(1999, 12, 31, 12, 12, 12, 12000),</div>
<div class="line"><span class="lineno"> 1330</span>            dt.datetime(2012, 12, 21, 12, 21, 12, 21000),</div>
<div class="line"><span class="lineno"> 1331</span>            dt.datetime(1776, 7, 4, 7, 4, 7, 4000),</div>
<div class="line"><span class="lineno"> 1332</span>        ]</div>
<div class="line"><span class="lineno"> 1333</span>        original = DataFrame(</div>
<div class="line"><span class="lineno"> 1334</span>            {</div>
<div class="line"><span class="lineno"> 1335</span>                <span class="stringliteral">&quot;nums&quot;</span>: [1.0, 2.0, 3.0],</div>
<div class="line"><span class="lineno"> 1336</span>                <span class="stringliteral">&quot;strs&quot;</span>: [<span class="stringliteral">&quot;apple&quot;</span>, <span class="stringliteral">&quot;banana&quot;</span>, <span class="stringliteral">&quot;cherry&quot;</span>],</div>
<div class="line"><span class="lineno"> 1337</span>                <span class="stringliteral">&quot;dates&quot;</span>: dates,</div>
<div class="line"><span class="lineno"> 1338</span>            }</div>
<div class="line"><span class="lineno"> 1339</span>        )</div>
<div class="line"><span class="lineno"> 1340</span> </div>
<div class="line"><span class="lineno"> 1341</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1342</span>            original.to_stata(path, write_index=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1343</span>            reread = read_stata(path, convert_dates=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1344</span>            tm.assert_frame_equal(original, reread)</div>
<div class="line"><span class="lineno"> 1345</span> </div>
<div class="line"><span class="lineno"> 1346</span>            original.to_stata(path, write_index=<span class="keyword">False</span>, convert_dates={<span class="stringliteral">&quot;dates&quot;</span>: <span class="stringliteral">&quot;tc&quot;</span>})</div>
<div class="line"><span class="lineno"> 1347</span>            direct = read_stata(path, convert_dates=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1348</span>            tm.assert_frame_equal(reread, direct)</div>
<div class="line"><span class="lineno"> 1349</span> </div>
<div class="line"><span class="lineno"> 1350</span>            dates_idx = original.columns.tolist().index(<span class="stringliteral">&quot;dates&quot;</span>)</div>
<div class="line"><span class="lineno"> 1351</span>            original.to_stata(path, write_index=<span class="keyword">False</span>, convert_dates={dates_idx: <span class="stringliteral">&quot;tc&quot;</span>})</div>
<div class="line"><span class="lineno"> 1352</span>            direct = read_stata(path, convert_dates=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1353</span>            tm.assert_frame_equal(reread, direct)</div>
<div class="line"><span class="lineno"> 1354</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a00694e5425743c23edf7fe2fa4c5561e" name="a00694e5425743c23edf7fe2fa4c5561e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00694e5425743c23edf7fe2fa4c5561e">&#9670;&#160;</a></span>test_drop_column()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_drop_column </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  859</span>    <span class="keyword">def </span>test_drop_column(self, datapath):</div>
<div class="line"><span class="lineno">  860</span>        expected = self.read_csv(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata6.csv&quot;</span>))</div>
<div class="line"><span class="lineno">  861</span>        expected[<span class="stringliteral">&quot;byte_&quot;</span>] = expected[<span class="stringliteral">&quot;byte_&quot;</span>].astype(np.int8)</div>
<div class="line"><span class="lineno">  862</span>        expected[<span class="stringliteral">&quot;int_&quot;</span>] = expected[<span class="stringliteral">&quot;int_&quot;</span>].astype(np.int16)</div>
<div class="line"><span class="lineno">  863</span>        expected[<span class="stringliteral">&quot;long_&quot;</span>] = expected[<span class="stringliteral">&quot;long_&quot;</span>].astype(np.int32)</div>
<div class="line"><span class="lineno">  864</span>        expected[<span class="stringliteral">&quot;float_&quot;</span>] = expected[<span class="stringliteral">&quot;float_&quot;</span>].astype(np.float32)</div>
<div class="line"><span class="lineno">  865</span>        expected[<span class="stringliteral">&quot;double_&quot;</span>] = expected[<span class="stringliteral">&quot;double_&quot;</span>].astype(np.float64)</div>
<div class="line"><span class="lineno">  866</span>        expected[<span class="stringliteral">&quot;date_td&quot;</span>] = expected[<span class="stringliteral">&quot;date_td&quot;</span>].apply(</div>
<div class="line"><span class="lineno">  867</span>            datetime.strptime, args=(<span class="stringliteral">&quot;%Y-%m-%d&quot;</span>,)</div>
<div class="line"><span class="lineno">  868</span>        )</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>        columns = [<span class="stringliteral">&quot;byte_&quot;</span>, <span class="stringliteral">&quot;int_&quot;</span>, <span class="stringliteral">&quot;long_&quot;</span>]</div>
<div class="line"><span class="lineno">  871</span>        expected = expected[columns]</div>
<div class="line"><span class="lineno">  872</span>        dropped = read_stata(</div>
<div class="line"><span class="lineno">  873</span>            datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata6_117.dta&quot;</span>),</div>
<div class="line"><span class="lineno">  874</span>            convert_dates=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  875</span>            columns=columns,</div>
<div class="line"><span class="lineno">  876</span>        )</div>
<div class="line"><span class="lineno">  877</span> </div>
<div class="line"><span class="lineno">  878</span>        tm.assert_frame_equal(expected, dropped)</div>
<div class="line"><span class="lineno">  879</span> </div>
<div class="line"><span class="lineno">  880</span>        <span class="comment"># See PR 10757</span></div>
<div class="line"><span class="lineno">  881</span>        columns = [<span class="stringliteral">&quot;int_&quot;</span>, <span class="stringliteral">&quot;long_&quot;</span>, <span class="stringliteral">&quot;byte_&quot;</span>]</div>
<div class="line"><span class="lineno">  882</span>        expected = expected[columns]</div>
<div class="line"><span class="lineno">  883</span>        reordered = read_stata(</div>
<div class="line"><span class="lineno">  884</span>            datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata6_117.dta&quot;</span>),</div>
<div class="line"><span class="lineno">  885</span>            convert_dates=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  886</span>            columns=columns,</div>
<div class="line"><span class="lineno">  887</span>        )</div>
<div class="line"><span class="lineno">  888</span>        tm.assert_frame_equal(expected, reordered)</div>
<div class="line"><span class="lineno">  889</span> </div>
<div class="line"><span class="lineno">  890</span>        msg = <span class="stringliteral">&quot;columns contains duplicate entries&quot;</span></div>
<div class="line"><span class="lineno">  891</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  892</span>            columns = [<span class="stringliteral">&quot;byte_&quot;</span>, <span class="stringliteral">&quot;byte_&quot;</span>]</div>
<div class="line"><span class="lineno">  893</span>            read_stata(</div>
<div class="line"><span class="lineno">  894</span>                datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata6_117.dta&quot;</span>),</div>
<div class="line"><span class="lineno">  895</span>                convert_dates=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  896</span>                columns=columns,</div>
<div class="line"><span class="lineno">  897</span>            )</div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span>        msg = <span class="stringliteral">&quot;The following columns were not found in the Stata data set: not_found&quot;</span></div>
<div class="line"><span class="lineno">  900</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  901</span>            columns = [<span class="stringliteral">&quot;byte_&quot;</span>, <span class="stringliteral">&quot;int_&quot;</span>, <span class="stringliteral">&quot;long_&quot;</span>, <span class="stringliteral">&quot;not_found&quot;</span>]</div>
<div class="line"><span class="lineno">  902</span>            read_stata(</div>
<div class="line"><span class="lineno">  903</span>                datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata6_117.dta&quot;</span>),</div>
<div class="line"><span class="lineno">  904</span>                convert_dates=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  905</span>                columns=columns,</div>
<div class="line"><span class="lineno">  906</span>            )</div>
<div class="line"><span class="lineno">  907</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abe777fefe724841653d6973f6f429512" name="abe777fefe724841653d6973f6f429512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe777fefe724841653d6973f6f429512">&#9670;&#160;</a></span>test_dtype_conversion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_dtype_conversion </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  829</span>    <span class="keyword">def </span>test_dtype_conversion(self, datapath):</div>
<div class="line"><span class="lineno">  830</span>        expected = self.read_csv(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata6.csv&quot;</span>))</div>
<div class="line"><span class="lineno">  831</span>        expected[<span class="stringliteral">&quot;byte_&quot;</span>] = expected[<span class="stringliteral">&quot;byte_&quot;</span>].astype(np.int8)</div>
<div class="line"><span class="lineno">  832</span>        expected[<span class="stringliteral">&quot;int_&quot;</span>] = expected[<span class="stringliteral">&quot;int_&quot;</span>].astype(np.int16)</div>
<div class="line"><span class="lineno">  833</span>        expected[<span class="stringliteral">&quot;long_&quot;</span>] = expected[<span class="stringliteral">&quot;long_&quot;</span>].astype(np.int32)</div>
<div class="line"><span class="lineno">  834</span>        expected[<span class="stringliteral">&quot;float_&quot;</span>] = expected[<span class="stringliteral">&quot;float_&quot;</span>].astype(np.float32)</div>
<div class="line"><span class="lineno">  835</span>        expected[<span class="stringliteral">&quot;double_&quot;</span>] = expected[<span class="stringliteral">&quot;double_&quot;</span>].astype(np.float64)</div>
<div class="line"><span class="lineno">  836</span>        expected[<span class="stringliteral">&quot;date_td&quot;</span>] = expected[<span class="stringliteral">&quot;date_td&quot;</span>].apply(</div>
<div class="line"><span class="lineno">  837</span>            datetime.strptime, args=(<span class="stringliteral">&quot;%Y-%m-%d&quot;</span>,)</div>
<div class="line"><span class="lineno">  838</span>        )</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span>        no_conversion = read_stata(</div>
<div class="line"><span class="lineno">  841</span>            datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata6_117.dta&quot;</span>), convert_dates=<span class="keyword">True</span></div>
<div class="line"><span class="lineno">  842</span>        )</div>
<div class="line"><span class="lineno">  843</span>        tm.assert_frame_equal(expected, no_conversion)</div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span>        conversion = read_stata(</div>
<div class="line"><span class="lineno">  846</span>            datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata6_117.dta&quot;</span>),</div>
<div class="line"><span class="lineno">  847</span>            convert_dates=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  848</span>            preserve_dtypes=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  849</span>        )</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>        <span class="comment"># read_csv types are the same</span></div>
<div class="line"><span class="lineno">  852</span>        expected = self.read_csv(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata6.csv&quot;</span>))</div>
<div class="line"><span class="lineno">  853</span>        expected[<span class="stringliteral">&quot;date_td&quot;</span>] = expected[<span class="stringliteral">&quot;date_td&quot;</span>].apply(</div>
<div class="line"><span class="lineno">  854</span>            datetime.strptime, args=(<span class="stringliteral">&quot;%Y-%m-%d&quot;</span>,)</div>
<div class="line"><span class="lineno">  855</span>        )</div>
<div class="line"><span class="lineno">  856</span> </div>
<div class="line"><span class="lineno">  857</span>        tm.assert_frame_equal(expected, conversion)</div>
<div class="line"><span class="lineno">  858</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c8061ee21a63cf750dd1781d082d948" name="a1c8061ee21a63cf750dd1781d082d948"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c8061ee21a63cf750dd1781d082d948">&#9670;&#160;</a></span>test_encoding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_encoding </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  345</span>    <span class="keyword">def </span>test_encoding(self, version, datapath):</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>        <span class="comment"># GH 4626, proper encoding handling</span></div>
<div class="line"><span class="lineno">  348</span>        raw = read_stata(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata1_encoding.dta&quot;</span>))</div>
<div class="line"><span class="lineno">  349</span>        encoded = read_stata(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata1_encoding.dta&quot;</span>))</div>
<div class="line"><span class="lineno">  350</span>        result = encoded.kreis1849[0]</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>        expected = raw.kreis1849[0]</div>
<div class="line"><span class="lineno">  353</span>        <span class="keyword">assert</span> result == expected</div>
<div class="line"><span class="lineno">  354</span>        <span class="keyword">assert</span> isinstance(result, str)</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  357</span>            encoded.to_stata(path, write_index=<span class="keyword">False</span>, version=version)</div>
<div class="line"><span class="lineno">  358</span>            reread_encoded = read_stata(path)</div>
<div class="line"><span class="lineno">  359</span>            tm.assert_frame_equal(encoded, reread_encoded)</div>
<div class="line"><span class="lineno">  360</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cb433c1615b694ce919f5ffa57630a7" name="a2cb433c1615b694ce919f5ffa57630a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cb433c1615b694ce919f5ffa57630a7">&#9670;&#160;</a></span>test_encoding_latin1_118()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_encoding_latin1_118 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1751</span>    <span class="keyword">def </span>test_encoding_latin1_118(self, datapath):</div>
<div class="line"><span class="lineno"> 1752</span>        <span class="comment"># GH 25960</span></div>
<div class="line"><span class="lineno"> 1753</span>        msg = <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1754</span><span class="stringliteral">One or more strings in the dta file could not be decoded using utf-8, and</span></div>
<div class="line"><span class="lineno"> 1755</span><span class="stringliteral">so the fallback encoding of latin-1 is being used.  This can happen when a file</span></div>
<div class="line"><span class="lineno"> 1756</span><span class="stringliteral">has been incorrectly encoded by Stata or some other software. You should verify</span></div>
<div class="line"><span class="lineno"> 1757</span><span class="stringliteral">the string values returned are correct.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1758</span>        <span class="keyword">with</span> tm.assert_produces_warning(UnicodeWarning) <span class="keyword">as</span> w:</div>
<div class="line"><span class="lineno"> 1759</span>            encoded = read_stata(</div>
<div class="line"><span class="lineno"> 1760</span>                datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata1_encoding_118.dta&quot;</span>)</div>
<div class="line"><span class="lineno"> 1761</span>            )</div>
<div class="line"><span class="lineno"> 1762</span>            <span class="keyword">assert</span> len(w) == 151</div>
<div class="line"><span class="lineno"> 1763</span>            <span class="keyword">assert</span> w[0].message.args[0] == msg</div>
<div class="line"><span class="lineno"> 1764</span> </div>
<div class="line"><span class="lineno"> 1765</span>        expected = DataFrame([[<span class="stringliteral">&quot;Dsseldorf&quot;</span>]] * 151, columns=[<span class="stringliteral">&quot;kreis1849&quot;</span>])</div>
<div class="line"><span class="lineno"> 1766</span>        tm.assert_frame_equal(encoded, expected)</div>
<div class="line"><span class="lineno"> 1767</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5c99a516b5ff0fd2d4f39a9c591535f" name="aa5c99a516b5ff0fd2d4f39a9c591535f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5c99a516b5ff0fd2d4f39a9c591535f">&#9670;&#160;</a></span>test_excessively_long_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_excessively_long_string </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  705</span>    <span class="keyword">def </span>test_excessively_long_string(self):</div>
<div class="line"><span class="lineno">  706</span>        str_lens = (1, 244, 500)</div>
<div class="line"><span class="lineno">  707</span>        s = {}</div>
<div class="line"><span class="lineno">  708</span>        <span class="keywordflow">for</span> str_len <span class="keywordflow">in</span> str_lens:</div>
<div class="line"><span class="lineno">  709</span>            s[<span class="stringliteral">&quot;s&quot;</span> + str(str_len)] = Series(</div>
<div class="line"><span class="lineno">  710</span>                [<span class="stringliteral">&quot;a&quot;</span> * str_len, <span class="stringliteral">&quot;b&quot;</span> * str_len, <span class="stringliteral">&quot;c&quot;</span> * str_len]</div>
<div class="line"><span class="lineno">  711</span>            )</div>
<div class="line"><span class="lineno">  712</span>        original = DataFrame(s)</div>
<div class="line"><span class="lineno">  713</span>        msg = (</div>
<div class="line"><span class="lineno">  714</span>            <span class="stringliteral">r&quot;Fixed width strings in Stata \.dta files are limited to 244 &quot;</span></div>
<div class="line"><span class="lineno">  715</span>            <span class="stringliteral">r&quot;\&zwj;(or fewer\&zwj;)\ncharacters\.  Column &#39;s500&#39; does not satisfy &quot;</span></div>
<div class="line"><span class="lineno">  716</span>            <span class="stringliteral">r&quot;this restriction\. Use the\n&#39;version=117&#39; parameter to write &quot;</span></div>
<div class="line"><span class="lineno">  717</span>            <span class="stringliteral">r&quot;the newer \&zwj;(Stata 13 and later\&zwj;) format\.&quot;</span></div>
<div class="line"><span class="lineno">  718</span>        )</div>
<div class="line"><span class="lineno">  719</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  720</span>            <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  721</span>                original.to_stata(path)</div>
<div class="line"><span class="lineno">  722</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a11db331e3fef0543b9b97f9498a7742f" name="a11db331e3fef0543b9b97f9498a7742f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11db331e3fef0543b9b97f9498a7742f">&#9670;&#160;</a></span>test_gzip_writing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_gzip_writing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1657</span>    <span class="keyword">def </span>test_gzip_writing(self):</div>
<div class="line"><span class="lineno"> 1658</span>        <span class="comment"># writing version 117 requires seek and cannot be used with gzip</span></div>
<div class="line"><span class="lineno"> 1659</span>        df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno"> 1660</span>        df.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1661</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1662</span>            <span class="keyword">with</span> gzip.GzipFile(path, <span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> gz:</div>
<div class="line"><span class="lineno"> 1663</span>                df.to_stata(gz, version=114)</div>
<div class="line"><span class="lineno"> 1664</span>            <span class="keyword">with</span> gzip.GzipFile(path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> gz:</div>
<div class="line"><span class="lineno"> 1665</span>                reread = read_stata(gz, index_col=<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 1666</span>        tm.assert_frame_equal(df, reread)</div>
<div class="line"><span class="lineno"> 1667</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2176f533a92c3bd871127023f9b2d8fc" name="a2176f533a92c3bd871127023f9b2d8fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2176f533a92c3bd871127023f9b2d8fc">&#9670;&#160;</a></span>test_inf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_inf </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>infval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1470</span>    <span class="keyword">def </span>test_inf(self, infval):</div>
<div class="line"><span class="lineno"> 1471</span>        <span class="comment"># GH 45350</span></div>
<div class="line"><span class="lineno"> 1472</span>        df = DataFrame({<span class="stringliteral">&quot;WithoutInf&quot;</span>: [0.0, 1.0], <span class="stringliteral">&quot;WithInf&quot;</span>: [2.0, infval]})</div>
<div class="line"><span class="lineno"> 1473</span>        msg = (</div>
<div class="line"><span class="lineno"> 1474</span>            <span class="stringliteral">&quot;Column WithInf contains infinity or -infinity&quot;</span></div>
<div class="line"><span class="lineno"> 1475</span>            <span class="stringliteral">&quot;which is outside the range supported by Stata.&quot;</span></div>
<div class="line"><span class="lineno"> 1476</span>        )</div>
<div class="line"><span class="lineno"> 1477</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1478</span>            <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1479</span>                df.to_stata(path)</div>
<div class="line"><span class="lineno"> 1480</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac78f881f36f90362fceaac5cab27c9a2" name="ac78f881f36f90362fceaac5cab27c9a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac78f881f36f90362fceaac5cab27c9a2">&#9670;&#160;</a></span>test_invalid_date_conversion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_invalid_date_conversion </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1623</span>    <span class="keyword">def </span>test_invalid_date_conversion(self):</div>
<div class="line"><span class="lineno"> 1624</span>        <span class="comment"># GH 12259</span></div>
<div class="line"><span class="lineno"> 1625</span>        dates = [</div>
<div class="line"><span class="lineno"> 1626</span>            dt.datetime(1999, 12, 31, 12, 12, 12, 12000),</div>
<div class="line"><span class="lineno"> 1627</span>            dt.datetime(2012, 12, 21, 12, 21, 12, 21000),</div>
<div class="line"><span class="lineno"> 1628</span>            dt.datetime(1776, 7, 4, 7, 4, 7, 4000),</div>
<div class="line"><span class="lineno"> 1629</span>        ]</div>
<div class="line"><span class="lineno"> 1630</span>        original = DataFrame(</div>
<div class="line"><span class="lineno"> 1631</span>            {</div>
<div class="line"><span class="lineno"> 1632</span>                <span class="stringliteral">&quot;nums&quot;</span>: [1.0, 2.0, 3.0],</div>
<div class="line"><span class="lineno"> 1633</span>                <span class="stringliteral">&quot;strs&quot;</span>: [<span class="stringliteral">&quot;apple&quot;</span>, <span class="stringliteral">&quot;banana&quot;</span>, <span class="stringliteral">&quot;cherry&quot;</span>],</div>
<div class="line"><span class="lineno"> 1634</span>                <span class="stringliteral">&quot;dates&quot;</span>: dates,</div>
<div class="line"><span class="lineno"> 1635</span>            }</div>
<div class="line"><span class="lineno"> 1636</span>        )</div>
<div class="line"><span class="lineno"> 1637</span> </div>
<div class="line"><span class="lineno"> 1638</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1639</span>            msg = <span class="stringliteral">&quot;convert_dates key must be a column or an integer&quot;</span></div>
<div class="line"><span class="lineno"> 1640</span>            <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1641</span>                original.to_stata(path, convert_dates={<span class="stringliteral">&quot;wrong_name&quot;</span>: <span class="stringliteral">&quot;tc&quot;</span>})</div>
<div class="line"><span class="lineno"> 1642</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e8adce3e083c23eae458956c7c3f93d" name="a8e8adce3e083c23eae458956c7c3f93d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e8adce3e083c23eae458956c7c3f93d">&#9670;&#160;</a></span>test_invalid_file_not_written()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_invalid_file_not_written </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1716</span>    <span class="keyword">def </span>test_invalid_file_not_written(self, version):</div>
<div class="line"><span class="lineno"> 1717</span>        content = <span class="stringliteral">&quot;Here is one ____ Another one ____ Another one ____&quot;</span></div>
<div class="line"><span class="lineno"> 1718</span>        df = DataFrame([content], columns=[<span class="stringliteral">&quot;invalid&quot;</span>])</div>
<div class="line"><span class="lineno"> 1719</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1720</span>            msg1 = (</div>
<div class="line"><span class="lineno"> 1721</span>                <span class="stringliteral">r&quot;&#39;latin-1&#39; codec can&#39;t encode character &#39;\\ufffd&#39; &quot;</span></div>
<div class="line"><span class="lineno"> 1722</span>                <span class="stringliteral">r&quot;in position 14: ordinal not in range\&zwj;(256\&zwj;)&quot;</span></div>
<div class="line"><span class="lineno"> 1723</span>            )</div>
<div class="line"><span class="lineno"> 1724</span>            msg2 = (</div>
<div class="line"><span class="lineno"> 1725</span>                <span class="stringliteral">&quot;&#39;ascii&#39; codec can&#39;t decode byte 0xef in position 14: &quot;</span></div>
<div class="line"><span class="lineno"> 1726</span>                <span class="stringliteral">r&quot;ordinal not in range\&zwj;(128\&zwj;)&quot;</span></div>
<div class="line"><span class="lineno"> 1727</span>            )</div>
<div class="line"><span class="lineno"> 1728</span>            <span class="keyword">with</span> pytest.raises(UnicodeEncodeError, match=f<span class="stringliteral">&quot;{msg1}|{msg2}&quot;</span>):</div>
<div class="line"><span class="lineno"> 1729</span>                <span class="keyword">with</span> tm.assert_produces_warning(ResourceWarning):</div>
<div class="line"><span class="lineno"> 1730</span>                    df.to_stata(path)</div>
<div class="line"><span class="lineno"> 1731</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a442d19b1cd674bc9c59196884aec4adb" name="a442d19b1cd674bc9c59196884aec4adb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a442d19b1cd674bc9c59196884aec4adb">&#9670;&#160;</a></span>test_invalid_timestamp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_invalid_timestamp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  495</span>    <span class="keyword">def </span>test_invalid_timestamp(self, version):</div>
<div class="line"><span class="lineno">  496</span>        original = DataFrame([(1,)], columns=[<span class="stringliteral">&quot;variable&quot;</span>])</div>
<div class="line"><span class="lineno">  497</span>        time_stamp = <span class="stringliteral">&quot;01 Jan 2000, 00:00:00&quot;</span></div>
<div class="line"><span class="lineno">  498</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  499</span>            msg = <span class="stringliteral">&quot;time_stamp should be datetime type&quot;</span></div>
<div class="line"><span class="lineno">  500</span>            <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  501</span>                original.to_stata(path, time_stamp=time_stamp, version=version)</div>
<div class="line"><span class="lineno">  502</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> os.path.isfile(path)</div>
<div class="line"><span class="lineno">  503</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a74b8973a3b0718255ace73bbe747c0aa" name="a74b8973a3b0718255ace73bbe747c0aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74b8973a3b0718255ace73bbe747c0aa">&#9670;&#160;</a></span>test_invalid_variable_label_encoding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_invalid_variable_label_encoding </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mixed_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1284</span>    <span class="keyword">def </span>test_invalid_variable_label_encoding(self, version, mixed_frame):</div>
<div class="line"><span class="lineno"> 1285</span>        mixed_frame.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1286</span>        variable_labels = {<span class="stringliteral">&quot;a&quot;</span>: <span class="stringliteral">&quot;very long&quot;</span> * 10, <span class="stringliteral">&quot;b&quot;</span>: <span class="stringliteral">&quot;City Exponent&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>: <span class="stringliteral">&quot;City&quot;</span>}</div>
<div class="line"><span class="lineno"> 1287</span>        variable_labels[<span class="stringliteral">&quot;a&quot;</span>] = <span class="stringliteral">&quot;invalid character &quot;</span></div>
<div class="line"><span class="lineno"> 1288</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1289</span>            <span class="keyword">with</span> pytest.raises(</div>
<div class="line"><span class="lineno"> 1290</span>                ValueError, match=<span class="stringliteral">&quot;Variable labels must contain only characters&quot;</span></div>
<div class="line"><span class="lineno"> 1291</span>            ):</div>
<div class="line"><span class="lineno"> 1292</span>                mixed_frame.to_stata(</div>
<div class="line"><span class="lineno"> 1293</span>                    path, variable_labels=variable_labels, version=version</div>
<div class="line"><span class="lineno"> 1294</span>                )</div>
<div class="line"><span class="lineno"> 1295</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab7aa03346c989ff0e9b031b6150d057e" name="ab7aa03346c989ff0e9b031b6150d057e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7aa03346c989ff0e9b031b6150d057e">&#9670;&#160;</a></span>test_invalid_variable_labels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_invalid_variable_labels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mixed_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1273</span>    <span class="keyword">def </span>test_invalid_variable_labels(self, version, mixed_frame):</div>
<div class="line"><span class="lineno"> 1274</span>        mixed_frame.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1275</span>        variable_labels = {<span class="stringliteral">&quot;a&quot;</span>: <span class="stringliteral">&quot;very long&quot;</span> * 10, <span class="stringliteral">&quot;b&quot;</span>: <span class="stringliteral">&quot;City Exponent&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>: <span class="stringliteral">&quot;City&quot;</span>}</div>
<div class="line"><span class="lineno"> 1276</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1277</span>            msg = <span class="stringliteral">&quot;Variable labels must be 80 characters or fewer&quot;</span></div>
<div class="line"><span class="lineno"> 1278</span>            <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1279</span>                mixed_frame.to_stata(</div>
<div class="line"><span class="lineno"> 1280</span>                    path, variable_labels=variable_labels, version=version</div>
<div class="line"><span class="lineno"> 1281</span>                )</div>
<div class="line"><span class="lineno"> 1282</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f2910ee339a7e0f0a1d7a4080915d4a" name="a1f2910ee339a7e0f0a1d7a4080915d4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f2910ee339a7e0f0a1d7a4080915d4a">&#9670;&#160;</a></span>test_iterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_iterator </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1150</span>    <span class="keyword">def </span>test_iterator(self, datapath):</div>
<div class="line"><span class="lineno"> 1151</span>        fname = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata3_117.dta&quot;</span>)</div>
<div class="line"><span class="lineno"> 1152</span> </div>
<div class="line"><span class="lineno"> 1153</span>        parsed = read_stata(fname)</div>
<div class="line"><span class="lineno"> 1154</span> </div>
<div class="line"><span class="lineno"> 1155</span>        <span class="keyword">with</span> read_stata(fname, iterator=<span class="keyword">True</span>) <span class="keyword">as</span> itr:</div>
<div class="line"><span class="lineno"> 1156</span>            chunk = itr.read(5)</div>
<div class="line"><span class="lineno"> 1157</span>            tm.assert_frame_equal(parsed.iloc[0:5, :], chunk)</div>
<div class="line"><span class="lineno"> 1158</span> </div>
<div class="line"><span class="lineno"> 1159</span>        <span class="keyword">with</span> read_stata(fname, chunksize=5) <span class="keyword">as</span> itr:</div>
<div class="line"><span class="lineno"> 1160</span>            chunk = list(itr)</div>
<div class="line"><span class="lineno"> 1161</span>            tm.assert_frame_equal(parsed.iloc[0:5, :], chunk[0])</div>
<div class="line"><span class="lineno"> 1162</span> </div>
<div class="line"><span class="lineno"> 1163</span>        <span class="keyword">with</span> read_stata(fname, iterator=<span class="keyword">True</span>) <span class="keyword">as</span> itr:</div>
<div class="line"><span class="lineno"> 1164</span>            chunk = itr.get_chunk(5)</div>
<div class="line"><span class="lineno"> 1165</span>            tm.assert_frame_equal(parsed.iloc[0:5, :], chunk)</div>
<div class="line"><span class="lineno"> 1166</span> </div>
<div class="line"><span class="lineno"> 1167</span>        <span class="keyword">with</span> read_stata(fname, chunksize=5) <span class="keyword">as</span> itr:</div>
<div class="line"><span class="lineno"> 1168</span>            chunk = itr.get_chunk()</div>
<div class="line"><span class="lineno"> 1169</span>            tm.assert_frame_equal(parsed.iloc[0:5, :], chunk)</div>
<div class="line"><span class="lineno"> 1170</span> </div>
<div class="line"><span class="lineno"> 1171</span>        <span class="comment"># GH12153</span></div>
<div class="line"><span class="lineno"> 1172</span>        <span class="keyword">with</span> read_stata(fname, chunksize=4) <span class="keyword">as</span> itr:</div>
<div class="line"><span class="lineno"> 1173</span>            from_chunks = pd.concat(itr)</div>
<div class="line"><span class="lineno"> 1174</span>        tm.assert_frame_equal(parsed, from_chunks)</div>
<div class="line"><span class="lineno"> 1175</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a895a1282f387e5b57ceb299e5bd63a75" name="a895a1282f387e5b57ceb299e5bd63a75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a895a1282f387e5b57ceb299e5bd63a75">&#9670;&#160;</a></span>test_large_value_conversion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_large_value_conversion </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  553</span>    <span class="keyword">def </span>test_large_value_conversion(self):</div>
<div class="line"><span class="lineno">  554</span>        s0 = Series([1, 99], dtype=np.int8)</div>
<div class="line"><span class="lineno">  555</span>        s1 = Series([1, 127], dtype=np.int8)</div>
<div class="line"><span class="lineno">  556</span>        s2 = Series([1, 2**15 - 1], dtype=np.int16)</div>
<div class="line"><span class="lineno">  557</span>        s3 = Series([1, 2**63 - 1], dtype=np.int64)</div>
<div class="line"><span class="lineno">  558</span>        original = DataFrame({<span class="stringliteral">&quot;s0&quot;</span>: s0, <span class="stringliteral">&quot;s1&quot;</span>: s1, <span class="stringliteral">&quot;s2&quot;</span>: s2, <span class="stringliteral">&quot;s3&quot;</span>: s3})</div>
<div class="line"><span class="lineno">  559</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  560</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  561</span>            <span class="keyword">with</span> tm.assert_produces_warning(PossiblePrecisionLoss):</div>
<div class="line"><span class="lineno">  562</span>                original.to_stata(path)</div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  565</span>            modified = original.copy()</div>
<div class="line"><span class="lineno">  566</span>            modified[<span class="stringliteral">&quot;s1&quot;</span>] = Series(modified[<span class="stringliteral">&quot;s1&quot;</span>], dtype=np.int16)</div>
<div class="line"><span class="lineno">  567</span>            modified[<span class="stringliteral">&quot;s2&quot;</span>] = Series(modified[<span class="stringliteral">&quot;s2&quot;</span>], dtype=np.int32)</div>
<div class="line"><span class="lineno">  568</span>            modified[<span class="stringliteral">&quot;s3&quot;</span>] = Series(modified[<span class="stringliteral">&quot;s3&quot;</span>], dtype=np.float64)</div>
<div class="line"><span class="lineno">  569</span>            tm.assert_frame_equal(written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>), modified)</div>
<div class="line"><span class="lineno">  570</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a03544dd40ccd1f162740dde0ce73468a" name="a03544dd40ccd1f162740dde0ce73468a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03544dd40ccd1f162740dde0ce73468a">&#9670;&#160;</a></span>test_minimal_size_col()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_minimal_size_col </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  686</span>    <span class="keyword">def </span>test_minimal_size_col(self):</div>
<div class="line"><span class="lineno">  687</span>        str_lens = (1, 100, 244)</div>
<div class="line"><span class="lineno">  688</span>        s = {}</div>
<div class="line"><span class="lineno">  689</span>        <span class="keywordflow">for</span> str_len <span class="keywordflow">in</span> str_lens:</div>
<div class="line"><span class="lineno">  690</span>            s[<span class="stringliteral">&quot;s&quot;</span> + str(str_len)] = Series(</div>
<div class="line"><span class="lineno">  691</span>                [<span class="stringliteral">&quot;a&quot;</span> * str_len, <span class="stringliteral">&quot;b&quot;</span> * str_len, <span class="stringliteral">&quot;c&quot;</span> * str_len]</div>
<div class="line"><span class="lineno">  692</span>            )</div>
<div class="line"><span class="lineno">  693</span>        original = DataFrame(s)</div>
<div class="line"><span class="lineno">  694</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  695</span>            original.to_stata(path, write_index=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>            <span class="keyword">with</span> StataReader(path) <span class="keyword">as</span> sr:</div>
<div class="line"><span class="lineno">  698</span>                typlist = sr.typlist</div>
<div class="line"><span class="lineno">  699</span>                variables = sr.varlist</div>
<div class="line"><span class="lineno">  700</span>                formats = sr.fmtlist</div>
<div class="line"><span class="lineno">  701</span>                <span class="keywordflow">for</span> variable, fmt, typ <span class="keywordflow">in</span> zip(variables, formats, typlist):</div>
<div class="line"><span class="lineno">  702</span>                    <span class="keyword">assert</span> int(variable[1:]) == int(fmt[1:-1])</div>
<div class="line"><span class="lineno">  703</span>                    <span class="keyword">assert</span> int(variable[1:]) == typ</div>
<div class="line"><span class="lineno">  704</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af8aa9ab1b3097e174c874571f117c863" name="af8aa9ab1b3097e174c874571f117c863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8aa9ab1b3097e174c874571f117c863">&#9670;&#160;</a></span>test_missing_value_conversion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_missing_value_conversion </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  755</span>    <span class="keyword">def </span>test_missing_value_conversion(self, file, datapath):</div>
<div class="line"><span class="lineno">  756</span>        columns = [<span class="stringliteral">&quot;int8_&quot;</span>, <span class="stringliteral">&quot;int16_&quot;</span>, <span class="stringliteral">&quot;int32_&quot;</span>, <span class="stringliteral">&quot;float32_&quot;</span>, <span class="stringliteral">&quot;float64_&quot;</span>]</div>
<div class="line"><span class="lineno">  757</span>        smv = StataMissingValue(101)</div>
<div class="line"><span class="lineno">  758</span>        keys = sorted(smv.MISSING_VALUES.keys())</div>
<div class="line"><span class="lineno">  759</span>        data = []</div>
<div class="line"><span class="lineno">  760</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(27):</div>
<div class="line"><span class="lineno">  761</span>            row = [StataMissingValue(keys[i + (j * 27)]) <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(5)]</div>
<div class="line"><span class="lineno">  762</span>            data.append(row)</div>
<div class="line"><span class="lineno">  763</span>        expected = DataFrame(data, columns=columns)</div>
<div class="line"><span class="lineno">  764</span> </div>
<div class="line"><span class="lineno">  765</span>        parsed = read_stata(</div>
<div class="line"><span class="lineno">  766</span>            datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, f<span class="stringliteral">&quot;{file}.dta&quot;</span>), convert_missing=<span class="keyword">True</span></div>
<div class="line"><span class="lineno">  767</span>        )</div>
<div class="line"><span class="lineno">  768</span>        tm.assert_frame_equal(parsed, expected)</div>
<div class="line"><span class="lineno">  769</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0390db62b36a2d48e9370a7ba86656d2" name="a0390db62b36a2d48e9370a7ba86656d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0390db62b36a2d48e9370a7ba86656d2">&#9670;&#160;</a></span>test_missing_value_generator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_missing_value_generator </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  723</span>    <span class="keyword">def </span>test_missing_value_generator(self):</div>
<div class="line"><span class="lineno">  724</span>        types = (<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>, <span class="stringliteral">&quot;l&quot;</span>)</div>
<div class="line"><span class="lineno">  725</span>        df = DataFrame([[0.0]], columns=[<span class="stringliteral">&quot;float_&quot;</span>])</div>
<div class="line"><span class="lineno">  726</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  727</span>            df.to_stata(path)</div>
<div class="line"><span class="lineno">  728</span>            <span class="keyword">with</span> StataReader(path) <span class="keyword">as</span> rdr:</div>
<div class="line"><span class="lineno">  729</span>                valid_range = rdr.VALID_RANGE</div>
<div class="line"><span class="lineno">  730</span>        expected_values = [<span class="stringliteral">&quot;.&quot;</span> + chr(97 + i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(26)]</div>
<div class="line"><span class="lineno">  731</span>        expected_values.insert(0, <span class="stringliteral">&quot;.&quot;</span>)</div>
<div class="line"><span class="lineno">  732</span>        <span class="keywordflow">for</span> t <span class="keywordflow">in</span> types:</div>
<div class="line"><span class="lineno">  733</span>            offset = valid_range[t][1]</div>
<div class="line"><span class="lineno">  734</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(0, 27):</div>
<div class="line"><span class="lineno">  735</span>                val = StataMissingValue(offset + 1 + i)</div>
<div class="line"><span class="lineno">  736</span>                <span class="keyword">assert</span> val.string == expected_values[i]</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>        <span class="comment"># Test extremes for floats</span></div>
<div class="line"><span class="lineno">  739</span>        val = StataMissingValue(struct.unpack(<span class="stringliteral">&quot;&lt;f&quot;</span>, b<span class="stringliteral">&quot;\x00\x00\x00\x7f&quot;</span>)[0])</div>
<div class="line"><span class="lineno">  740</span>        <span class="keyword">assert</span> val.string == <span class="stringliteral">&quot;.&quot;</span></div>
<div class="line"><span class="lineno">  741</span>        val = StataMissingValue(struct.unpack(<span class="stringliteral">&quot;&lt;f&quot;</span>, b<span class="stringliteral">&quot;\x00\xd0\x00\x7f&quot;</span>)[0])</div>
<div class="line"><span class="lineno">  742</span>        <span class="keyword">assert</span> val.string == <span class="stringliteral">&quot;.z&quot;</span></div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>        <span class="comment"># Test extremes for floats</span></div>
<div class="line"><span class="lineno">  745</span>        val = StataMissingValue(</div>
<div class="line"><span class="lineno">  746</span>            struct.unpack(<span class="stringliteral">&quot;&lt;d&quot;</span>, b<span class="stringliteral">&quot;\x00\x00\x00\x00\x00\x00\xe0\x7f&quot;</span>)[0]</div>
<div class="line"><span class="lineno">  747</span>        )</div>
<div class="line"><span class="lineno">  748</span>        <span class="keyword">assert</span> val.string == <span class="stringliteral">&quot;.&quot;</span></div>
<div class="line"><span class="lineno">  749</span>        val = StataMissingValue(</div>
<div class="line"><span class="lineno">  750</span>            struct.unpack(<span class="stringliteral">&quot;&lt;d&quot;</span>, b<span class="stringliteral">&quot;\x00\x00\x00\x00\x00\x1a\xe0\x7f&quot;</span>)[0]</div>
<div class="line"><span class="lineno">  751</span>        )</div>
<div class="line"><span class="lineno">  752</span>        <span class="keyword">assert</span> val.string == <span class="stringliteral">&quot;.z&quot;</span></div>
<div class="line"><span class="lineno">  753</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa420411698323e524c31decb31891e36" name="aa420411698323e524c31decb31891e36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa420411698323e524c31decb31891e36">&#9670;&#160;</a></span>test_mixed_string_strl()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_mixed_string_strl </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1685</span>    <span class="keyword">def </span>test_mixed_string_strl(self):</div>
<div class="line"><span class="lineno"> 1686</span>        <span class="comment"># GH 23633</span></div>
<div class="line"><span class="lineno"> 1687</span>        output = [{<span class="stringliteral">&quot;mixed&quot;</span>: <span class="stringliteral">&quot;string&quot;</span> * 500, <span class="stringliteral">&quot;number&quot;</span>: 0}, {<span class="stringliteral">&quot;mixed&quot;</span>: <span class="keywordtype">None</span>, <span class="stringliteral">&quot;number&quot;</span>: 1}]</div>
<div class="line"><span class="lineno"> 1688</span>        output = DataFrame(output)</div>
<div class="line"><span class="lineno"> 1689</span>        output.number = output.number.astype(<span class="stringliteral">&quot;int32&quot;</span>)</div>
<div class="line"><span class="lineno"> 1690</span> </div>
<div class="line"><span class="lineno"> 1691</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1692</span>            output.to_stata(path, write_index=<span class="keyword">False</span>, version=117)</div>
<div class="line"><span class="lineno"> 1693</span>            reread = read_stata(path)</div>
<div class="line"><span class="lineno"> 1694</span>            expected = output.fillna(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1695</span>            tm.assert_frame_equal(reread, expected)</div>
<div class="line"><span class="lineno"> 1696</span> </div>
<div class="line"><span class="lineno"> 1697</span>            <span class="comment"># Check strl supports all None (null)</span></div>
<div class="line"><span class="lineno"> 1698</span>            output[<span class="stringliteral">&quot;mixed&quot;</span>] = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1699</span>            output.to_stata(</div>
<div class="line"><span class="lineno"> 1700</span>                path, write_index=<span class="keyword">False</span>, convert_strl=[<span class="stringliteral">&quot;mixed&quot;</span>], version=117</div>
<div class="line"><span class="lineno"> 1701</span>            )</div>
<div class="line"><span class="lineno"> 1702</span>            reread = read_stata(path)</div>
<div class="line"><span class="lineno"> 1703</span>            expected = output.fillna(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1704</span>            tm.assert_frame_equal(reread, expected)</div>
<div class="line"><span class="lineno"> 1705</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad33adffbbc2519e89f27ecff494ba001" name="ad33adffbbc2519e89f27ecff494ba001"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad33adffbbc2519e89f27ecff494ba001">&#9670;&#160;</a></span>test_nan_to_missing_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_nan_to_missing_value </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  520</span>    <span class="keyword">def </span>test_nan_to_missing_value(self, version):</div>
<div class="line"><span class="lineno">  521</span>        s1 = Series(np.arange(4.0), dtype=np.float32)</div>
<div class="line"><span class="lineno">  522</span>        s2 = Series(np.arange(4.0), dtype=np.float64)</div>
<div class="line"><span class="lineno">  523</span>        s1[::2] = np.nan</div>
<div class="line"><span class="lineno">  524</span>        s2[1::2] = np.nan</div>
<div class="line"><span class="lineno">  525</span>        original = DataFrame({<span class="stringliteral">&quot;s1&quot;</span>: s1, <span class="stringliteral">&quot;s2&quot;</span>: s2})</div>
<div class="line"><span class="lineno">  526</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  527</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  528</span>            original.to_stata(path, version=version)</div>
<div class="line"><span class="lineno">  529</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  530</span>            written_and_read_again = written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno">  531</span>            tm.assert_frame_equal(written_and_read_again, original)</div>
<div class="line"><span class="lineno">  532</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a114bb48c44fb66149c5adbcbf729ab6b" name="a114bb48c44fb66149c5adbcbf729ab6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a114bb48c44fb66149c5adbcbf729ab6b">&#9670;&#160;</a></span>test_no_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_no_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  533</span>    <span class="keyword">def </span>test_no_index(self):</div>
<div class="line"><span class="lineno">  534</span>        columns = [<span class="stringliteral">&quot;x&quot;</span>, <span class="stringliteral">&quot;y&quot;</span>]</div>
<div class="line"><span class="lineno">  535</span>        original = DataFrame(np.reshape(np.arange(10.0), (5, 2)), columns=columns)</div>
<div class="line"><span class="lineno">  536</span>        original.index.name = <span class="stringliteral">&quot;index_not_written&quot;</span></div>
<div class="line"><span class="lineno">  537</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  538</span>            original.to_stata(path, write_index=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  539</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  540</span>            <span class="keyword">with</span> pytest.raises(KeyError, match=original.index.name):</div>
<div class="line"><span class="lineno">  541</span>                written_and_read_again[<span class="stringliteral">&quot;index_not_written&quot;</span>]</div>
<div class="line"><span class="lineno">  542</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c98170781e382c904d8ab479b11622b" name="a0c98170781e382c904d8ab479b11622b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c98170781e382c904d8ab479b11622b">&#9670;&#160;</a></span>test_nonfile_writing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_nonfile_writing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1644</span>    <span class="keyword">def </span>test_nonfile_writing(self, version):</div>
<div class="line"><span class="lineno"> 1645</span>        <span class="comment"># GH 21041</span></div>
<div class="line"><span class="lineno"> 1646</span>        bio = io.BytesIO()</div>
<div class="line"><span class="lineno"> 1647</span>        df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno"> 1648</span>        df.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1649</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1650</span>            df.to_stata(bio, version=version)</div>
<div class="line"><span class="lineno"> 1651</span>            bio.seek(0)</div>
<div class="line"><span class="lineno"> 1652</span>            <span class="keyword">with</span> open(path, <span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> dta:</div>
<div class="line"><span class="lineno"> 1653</span>                dta.write(bio.read())</div>
<div class="line"><span class="lineno"> 1654</span>            reread = read_stata(path, index_col=<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 1655</span>        tm.assert_frame_equal(df, reread)</div>
<div class="line"><span class="lineno"> 1656</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a78778fd4082ac1dd56c822ae36935a8a" name="a78778fd4082ac1dd56c822ae36935a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78778fd4082ac1dd56c822ae36935a8a">&#9670;&#160;</a></span>test_numeric_column_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_numeric_column_names </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  504</span>    <span class="keyword">def </span>test_numeric_column_names(self):</div>
<div class="line"><span class="lineno">  505</span>        original = DataFrame(np.reshape(np.arange(25.0), (5, 5)))</div>
<div class="line"><span class="lineno">  506</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  507</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  508</span>            <span class="comment"># should get a warning for that format.</span></div>
<div class="line"><span class="lineno">  509</span>            <span class="keyword">with</span> tm.assert_produces_warning(InvalidColumnName):</div>
<div class="line"><span class="lineno">  510</span>                original.to_stata(path)</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  513</span>            written_and_read_again = written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno">  514</span>            columns = list(written_and_read_again.columns)</div>
<div class="line"><span class="lineno">  515</span>            convert_col_name = <span class="keyword">lambda</span> x: int(x[1])</div>
<div class="line"><span class="lineno">  516</span>            written_and_read_again.columns = map(convert_col_name, columns)</div>
<div class="line"><span class="lineno">  517</span>            tm.assert_frame_equal(original, written_and_read_again)</div>
<div class="line"><span class="lineno">  518</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4426119e032b6fa0f48a8ac40e32fe85" name="a4426119e032b6fa0f48a8ac40e32fe85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4426119e032b6fa0f48a8ac40e32fe85">&#9670;&#160;</a></span>test_out_of_range_double()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_out_of_range_double </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1428</span>    <span class="keyword">def </span>test_out_of_range_double(self):</div>
<div class="line"><span class="lineno"> 1429</span>        <span class="comment"># GH 14618</span></div>
<div class="line"><span class="lineno"> 1430</span>        df = DataFrame(</div>
<div class="line"><span class="lineno"> 1431</span>            {</div>
<div class="line"><span class="lineno"> 1432</span>                <span class="stringliteral">&quot;ColumnOk&quot;</span>: [0.0, np.finfo(np.double).eps, 4.49423283715579e307],</div>
<div class="line"><span class="lineno"> 1433</span>                <span class="stringliteral">&quot;ColumnTooBig&quot;</span>: [0.0, np.finfo(np.double).eps, np.finfo(np.double).max],</div>
<div class="line"><span class="lineno"> 1434</span>            }</div>
<div class="line"><span class="lineno"> 1435</span>        )</div>
<div class="line"><span class="lineno"> 1436</span>        msg = (</div>
<div class="line"><span class="lineno"> 1437</span>            <span class="stringliteral">r&quot;Column ColumnTooBig has a maximum value \&zwj;(.+\&zwj;) outside the range &quot;</span></div>
<div class="line"><span class="lineno"> 1438</span>            <span class="stringliteral">r&quot;supported by Stata \&zwj;(.+\&zwj;)&quot;</span></div>
<div class="line"><span class="lineno"> 1439</span>        )</div>
<div class="line"><span class="lineno"> 1440</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1441</span>            <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1442</span>                df.to_stata(path)</div>
<div class="line"><span class="lineno"> 1443</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3a0742e96f3bc1b2e5837275a568c46" name="aa3a0742e96f3bc1b2e5837275a568c46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3a0742e96f3bc1b2e5837275a568c46">&#9670;&#160;</a></span>test_out_of_range_float()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_out_of_range_float </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1444</span>    <span class="keyword">def </span>test_out_of_range_float(self):</div>
<div class="line"><span class="lineno"> 1445</span>        original = DataFrame(</div>
<div class="line"><span class="lineno"> 1446</span>            {</div>
<div class="line"><span class="lineno"> 1447</span>                <span class="stringliteral">&quot;ColumnOk&quot;</span>: [</div>
<div class="line"><span class="lineno"> 1448</span>                    0.0,</div>
<div class="line"><span class="lineno"> 1449</span>                    np.finfo(np.float32).eps,</div>
<div class="line"><span class="lineno"> 1450</span>                    np.finfo(np.float32).max / 10.0,</div>
<div class="line"><span class="lineno"> 1451</span>                ],</div>
<div class="line"><span class="lineno"> 1452</span>                <span class="stringliteral">&quot;ColumnTooBig&quot;</span>: [</div>
<div class="line"><span class="lineno"> 1453</span>                    0.0,</div>
<div class="line"><span class="lineno"> 1454</span>                    np.finfo(np.float32).eps,</div>
<div class="line"><span class="lineno"> 1455</span>                    np.finfo(np.float32).max,</div>
<div class="line"><span class="lineno"> 1456</span>                ],</div>
<div class="line"><span class="lineno"> 1457</span>            }</div>
<div class="line"><span class="lineno"> 1458</span>        )</div>
<div class="line"><span class="lineno"> 1459</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1460</span>        <span class="keywordflow">for</span> col <span class="keywordflow">in</span> original:</div>
<div class="line"><span class="lineno"> 1461</span>            original[col] = original[col].astype(np.float32)</div>
<div class="line"><span class="lineno"> 1462</span> </div>
<div class="line"><span class="lineno"> 1463</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1464</span>            original.to_stata(path)</div>
<div class="line"><span class="lineno"> 1465</span>            reread = read_stata(path)</div>
<div class="line"><span class="lineno"> 1466</span>            original[<span class="stringliteral">&quot;ColumnTooBig&quot;</span>] = original[<span class="stringliteral">&quot;ColumnTooBig&quot;</span>].astype(np.float64)</div>
<div class="line"><span class="lineno"> 1467</span>            tm.assert_frame_equal(original, reread.set_index(<span class="stringliteral">&quot;index&quot;</span>))</div>
<div class="line"><span class="lineno"> 1468</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afc537a090e4ee681a6f32dcda5d96719" name="afc537a090e4ee681a6f32dcda5d96719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc537a090e4ee681a6f32dcda5d96719">&#9670;&#160;</a></span>test_path_pathlib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_path_pathlib </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1481</span>    <span class="keyword">def </span>test_path_pathlib(self):</div>
<div class="line"><span class="lineno"> 1482</span>        df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno"> 1483</span>        df.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1484</span>        reader = <span class="keyword">lambda</span> x: read_stata(x).set_index(<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 1485</span>        result = tm.round_trip_pathlib(df.to_stata, reader)</div>
<div class="line"><span class="lineno"> 1486</span>        tm.assert_frame_equal(df, result)</div>
<div class="line"><span class="lineno"> 1487</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a6ed6aed5ab728ff68e46c5d50c4c67" name="a6a6ed6aed5ab728ff68e46c5d50c4c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a6ed6aed5ab728ff68e46c5d50c4c67">&#9670;&#160;</a></span>test_pickle_path_localpath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_pickle_path_localpath </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1488</span>    <span class="keyword">def </span>test_pickle_path_localpath(self):</div>
<div class="line"><span class="lineno"> 1489</span>        df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno"> 1490</span>        df.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1491</span>        reader = <span class="keyword">lambda</span> x: read_stata(x).set_index(<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 1492</span>        result = tm.round_trip_localpath(df.to_stata, reader)</div>
<div class="line"><span class="lineno"> 1493</span>        tm.assert_frame_equal(df, result)</div>
<div class="line"><span class="lineno"> 1494</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adac9fbbec338548c47db9d969de63d45" name="adac9fbbec338548c47db9d969de63d45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adac9fbbec338548c47db9d969de63d45">&#9670;&#160;</a></span>test_read_chunks_115()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_chunks_115 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>convert_categoricals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>convert_dates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1196</span>    ):</div>
<div class="line"><span class="lineno"> 1197</span>        fname = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, f<span class="stringliteral">&quot;{file}.dta&quot;</span>)</div>
<div class="line"><span class="lineno"> 1198</span> </div>
<div class="line"><span class="lineno"> 1199</span>        <span class="comment"># Read the whole file</span></div>
<div class="line"><span class="lineno"> 1200</span>        <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno"> 1201</span>            warnings.simplefilter(<span class="stringliteral">&quot;always&quot;</span>)</div>
<div class="line"><span class="lineno"> 1202</span>            parsed = read_stata(</div>
<div class="line"><span class="lineno"> 1203</span>                fname,</div>
<div class="line"><span class="lineno"> 1204</span>                convert_categoricals=convert_categoricals,</div>
<div class="line"><span class="lineno"> 1205</span>                convert_dates=convert_dates,</div>
<div class="line"><span class="lineno"> 1206</span>            )</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>        <span class="comment"># Compare to what we get when reading by chunk</span></div>
<div class="line"><span class="lineno"> 1209</span>        itr = read_stata(</div>
<div class="line"><span class="lineno"> 1210</span>            fname,</div>
<div class="line"><span class="lineno"> 1211</span>            iterator=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1212</span>            convert_dates=convert_dates,</div>
<div class="line"><span class="lineno"> 1213</span>            convert_categoricals=convert_categoricals,</div>
<div class="line"><span class="lineno"> 1214</span>        )</div>
<div class="line"><span class="lineno"> 1215</span>        pos = 0</div>
<div class="line"><span class="lineno"> 1216</span>        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(5):</div>
<div class="line"><span class="lineno"> 1217</span>            <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno"> 1218</span>                warnings.simplefilter(<span class="stringliteral">&quot;always&quot;</span>)</div>
<div class="line"><span class="lineno"> 1219</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1220</span>                    chunk = itr.read(chunksize)</div>
<div class="line"><span class="lineno"> 1221</span>                <span class="keywordflow">except</span> StopIteration:</div>
<div class="line"><span class="lineno"> 1222</span>                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1223</span>            from_frame = parsed.iloc[pos : pos + chunksize, :].copy()</div>
<div class="line"><span class="lineno"> 1224</span>            from_frame = self._convert_categorical(from_frame)</div>
<div class="line"><span class="lineno"> 1225</span>            tm.assert_frame_equal(</div>
<div class="line"><span class="lineno"> 1226</span>                from_frame, chunk, check_dtype=<span class="keyword">False</span>, check_datetimelike_compat=<span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1227</span>            )</div>
<div class="line"><span class="lineno"> 1228</span> </div>
<div class="line"><span class="lineno"> 1229</span>            pos += chunksize</div>
<div class="line"><span class="lineno"> 1230</span>        itr.close()</div>
<div class="line"><span class="lineno"> 1231</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ca2ab6948417a89506fa08491106025" name="a0ca2ab6948417a89506fa08491106025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ca2ab6948417a89506fa08491106025">&#9670;&#160;</a></span>test_read_chunks_117()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_chunks_117 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>convert_categoricals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>convert_dates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1101</span>    ):</div>
<div class="line"><span class="lineno"> 1102</span>        fname = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, f<span class="stringliteral">&quot;{file}.dta&quot;</span>)</div>
<div class="line"><span class="lineno"> 1103</span> </div>
<div class="line"><span class="lineno"> 1104</span>        <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno"> 1105</span>            warnings.simplefilter(<span class="stringliteral">&quot;always&quot;</span>)</div>
<div class="line"><span class="lineno"> 1106</span>            parsed = read_stata(</div>
<div class="line"><span class="lineno"> 1107</span>                fname,</div>
<div class="line"><span class="lineno"> 1108</span>                convert_categoricals=convert_categoricals,</div>
<div class="line"><span class="lineno"> 1109</span>                convert_dates=convert_dates,</div>
<div class="line"><span class="lineno"> 1110</span>            )</div>
<div class="line"><span class="lineno"> 1111</span>        itr = read_stata(</div>
<div class="line"><span class="lineno"> 1112</span>            fname,</div>
<div class="line"><span class="lineno"> 1113</span>            iterator=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1114</span>            convert_categoricals=convert_categoricals,</div>
<div class="line"><span class="lineno"> 1115</span>            convert_dates=convert_dates,</div>
<div class="line"><span class="lineno"> 1116</span>        )</div>
<div class="line"><span class="lineno"> 1117</span> </div>
<div class="line"><span class="lineno"> 1118</span>        pos = 0</div>
<div class="line"><span class="lineno"> 1119</span>        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(5):</div>
<div class="line"><span class="lineno"> 1120</span>            <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno"> 1121</span>                warnings.simplefilter(<span class="stringliteral">&quot;always&quot;</span>)</div>
<div class="line"><span class="lineno"> 1122</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1123</span>                    chunk = itr.read(chunksize)</div>
<div class="line"><span class="lineno"> 1124</span>                <span class="keywordflow">except</span> StopIteration:</div>
<div class="line"><span class="lineno"> 1125</span>                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1126</span>            from_frame = parsed.iloc[pos : pos + chunksize, :].copy()</div>
<div class="line"><span class="lineno"> 1127</span>            from_frame = self._convert_categorical(from_frame)</div>
<div class="line"><span class="lineno"> 1128</span>            tm.assert_frame_equal(</div>
<div class="line"><span class="lineno"> 1129</span>                from_frame, chunk, check_dtype=<span class="keyword">False</span>, check_datetimelike_compat=<span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1130</span>            )</div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="line"><span class="lineno"> 1132</span>            pos += chunksize</div>
<div class="line"><span class="lineno"> 1133</span>        itr.close()</div>
<div class="line"><span class="lineno"> 1134</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a16370c9b91c886d488829906678352d6" name="a16370c9b91c886d488829906678352d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16370c9b91c886d488829906678352d6">&#9670;&#160;</a></span>test_read_chunks_columns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_chunks_columns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1232</span>    <span class="keyword">def </span>test_read_chunks_columns(self, datapath):</div>
<div class="line"><span class="lineno"> 1233</span>        fname = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata3_117.dta&quot;</span>)</div>
<div class="line"><span class="lineno"> 1234</span>        columns = [<span class="stringliteral">&quot;quarter&quot;</span>, <span class="stringliteral">&quot;cpi&quot;</span>, <span class="stringliteral">&quot;m1&quot;</span>]</div>
<div class="line"><span class="lineno"> 1235</span>        chunksize = 2</div>
<div class="line"><span class="lineno"> 1236</span> </div>
<div class="line"><span class="lineno"> 1237</span>        parsed = read_stata(fname, columns=columns)</div>
<div class="line"><span class="lineno"> 1238</span>        <span class="keyword">with</span> read_stata(fname, iterator=<span class="keyword">True</span>) <span class="keyword">as</span> itr:</div>
<div class="line"><span class="lineno"> 1239</span>            pos = 0</div>
<div class="line"><span class="lineno"> 1240</span>            <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(5):</div>
<div class="line"><span class="lineno"> 1241</span>                chunk = itr.read(chunksize, columns=columns)</div>
<div class="line"><span class="lineno"> 1242</span>                <span class="keywordflow">if</span> chunk <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1243</span>                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1244</span>                from_frame = parsed.iloc[pos : pos + chunksize, :]</div>
<div class="line"><span class="lineno"> 1245</span>                tm.assert_frame_equal(from_frame, chunk, check_dtype=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1246</span>                pos += chunksize</div>
<div class="line"><span class="lineno"> 1247</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a85a9397377ad0f336b6e3eee23560008" name="a85a9397377ad0f336b6e3eee23560008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85a9397377ad0f336b6e3eee23560008">&#9670;&#160;</a></span>test_read_dta1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_dta1 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   77</span>    <span class="keyword">def </span>test_read_dta1(self, file, datapath):</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>        file = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, f<span class="stringliteral">&quot;{file}.dta&quot;</span>)</div>
<div class="line"><span class="lineno">   80</span>        parsed = self.read_dta(file)</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>        <span class="comment"># Pandas uses np.nan as missing value.</span></div>
<div class="line"><span class="lineno">   83</span>        <span class="comment"># Thus, all columns will be of type float, regardless of their name.</span></div>
<div class="line"><span class="lineno">   84</span>        expected = DataFrame(</div>
<div class="line"><span class="lineno">   85</span>            [(np.nan, np.nan, np.nan, np.nan, np.nan)],</div>
<div class="line"><span class="lineno">   86</span>            columns=[<span class="stringliteral">&quot;float_miss&quot;</span>, <span class="stringliteral">&quot;double_miss&quot;</span>, <span class="stringliteral">&quot;byte_miss&quot;</span>, <span class="stringliteral">&quot;int_miss&quot;</span>, <span class="stringliteral">&quot;long_miss&quot;</span>],</div>
<div class="line"><span class="lineno">   87</span>        )</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>        <span class="comment"># this is an oddity as really the nan should be float64, but</span></div>
<div class="line"><span class="lineno">   90</span>        <span class="comment"># the casting doesn&#39;t fail so need to match stata here</span></div>
<div class="line"><span class="lineno">   91</span>        expected[<span class="stringliteral">&quot;float_miss&quot;</span>] = expected[<span class="stringliteral">&quot;float_miss&quot;</span>].astype(np.float32)</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>        tm.assert_frame_equal(parsed, expected)</div>
<div class="line"><span class="lineno">   94</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa62c5e52c2e23069e64c4e0e3114ef2d" name="aa62c5e52c2e23069e64c4e0e3114ef2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa62c5e52c2e23069e64c4e0e3114ef2d">&#9670;&#160;</a></span>test_read_dta12()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_dta12 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  227</span>    <span class="keyword">def </span>test_read_dta12(self, datapath):</div>
<div class="line"><span class="lineno">  228</span>        parsed_117 = self.read_dta(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata12_117.dta&quot;</span>))</div>
<div class="line"><span class="lineno">  229</span>        expected = DataFrame.from_records(</div>
<div class="line"><span class="lineno">  230</span>            [</div>
<div class="line"><span class="lineno">  231</span>                [1, <span class="stringliteral">&quot;abc&quot;</span>, <span class="stringliteral">&quot;abcdefghi&quot;</span>],</div>
<div class="line"><span class="lineno">  232</span>                [3, <span class="stringliteral">&quot;cba&quot;</span>, <span class="stringliteral">&quot;qwertywertyqwerty&quot;</span>],</div>
<div class="line"><span class="lineno">  233</span>                [93, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;strl&quot;</span>],</div>
<div class="line"><span class="lineno">  234</span>            ],</div>
<div class="line"><span class="lineno">  235</span>            columns=[<span class="stringliteral">&quot;x&quot;</span>, <span class="stringliteral">&quot;y&quot;</span>, <span class="stringliteral">&quot;z&quot;</span>],</div>
<div class="line"><span class="lineno">  236</span>        )</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>        tm.assert_frame_equal(parsed_117, expected, check_dtype=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  239</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa257feb7018d98a5d6c75dee0906a59f" name="aa257feb7018d98a5d6c75dee0906a59f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa257feb7018d98a5d6c75dee0906a59f">&#9670;&#160;</a></span>test_read_dta18()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_dta18 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  240</span>    <span class="keyword">def </span>test_read_dta18(self, datapath):</div>
<div class="line"><span class="lineno">  241</span>        parsed_118 = self.read_dta(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata14_118.dta&quot;</span>))</div>
<div class="line"><span class="lineno">  242</span>        parsed_118[<span class="stringliteral">&quot;Bytes&quot;</span>] = parsed_118[<span class="stringliteral">&quot;Bytes&quot;</span>].astype(<span class="stringliteral">&quot;O&quot;</span>)</div>
<div class="line"><span class="lineno">  243</span>        expected = DataFrame.from_records(</div>
<div class="line"><span class="lineno">  244</span>            [</div>
<div class="line"><span class="lineno">  245</span>                [<span class="stringliteral">&quot;Cat&quot;</span>, <span class="stringliteral">&quot;Bogota&quot;</span>, <span class="stringliteral">&quot;Bogot&quot;</span>, 1, 1.0, <span class="stringliteral">&quot;option b nicode&quot;</span>, 1.0],</div>
<div class="line"><span class="lineno">  246</span>                [<span class="stringliteral">&quot;Dog&quot;</span>, <span class="stringliteral">&quot;Boston&quot;</span>, <span class="stringliteral">&quot;Uzunkpr&quot;</span>, np.nan, np.nan, np.nan, np.nan],</div>
<div class="line"><span class="lineno">  247</span>                [<span class="stringliteral">&quot;Plane&quot;</span>, <span class="stringliteral">&quot;Rome&quot;</span>, <span class="stringliteral">&quot;Troms&quot;</span>, 0, 0.0, <span class="stringliteral">&quot;option a&quot;</span>, 0.0],</div>
<div class="line"><span class="lineno">  248</span>                [<span class="stringliteral">&quot;Potato&quot;</span>, <span class="stringliteral">&quot;Tokyo&quot;</span>, <span class="stringliteral">&quot;Elz&quot;</span>, -4, 4.0, 4, 4],</div>
<div class="line"><span class="lineno">  249</span>                [<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, 0, 0.3332999, <span class="stringliteral">&quot;option a&quot;</span>, 1 / 3.0],</div>
<div class="line"><span class="lineno">  250</span>            ],</div>
<div class="line"><span class="lineno">  251</span>            columns=[</div>
<div class="line"><span class="lineno">  252</span>                <span class="stringliteral">&quot;Things&quot;</span>,</div>
<div class="line"><span class="lineno">  253</span>                <span class="stringliteral">&quot;Cities&quot;</span>,</div>
<div class="line"><span class="lineno">  254</span>                <span class="stringliteral">&quot;Unicode_Cities_Strl&quot;</span>,</div>
<div class="line"><span class="lineno">  255</span>                <span class="stringliteral">&quot;Ints&quot;</span>,</div>
<div class="line"><span class="lineno">  256</span>                <span class="stringliteral">&quot;Floats&quot;</span>,</div>
<div class="line"><span class="lineno">  257</span>                <span class="stringliteral">&quot;Bytes&quot;</span>,</div>
<div class="line"><span class="lineno">  258</span>                <span class="stringliteral">&quot;Longs&quot;</span>,</div>
<div class="line"><span class="lineno">  259</span>            ],</div>
<div class="line"><span class="lineno">  260</span>        )</div>
<div class="line"><span class="lineno">  261</span>        expected[<span class="stringliteral">&quot;Floats&quot;</span>] = expected[<span class="stringliteral">&quot;Floats&quot;</span>].astype(np.float32)</div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">for</span> col <span class="keywordflow">in</span> parsed_118.columns:</div>
<div class="line"><span class="lineno">  263</span>            tm.assert_almost_equal(parsed_118[col], expected[col])</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>        <span class="keyword">with</span> StataReader(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata14_118.dta&quot;</span>)) <span class="keyword">as</span> rdr:</div>
<div class="line"><span class="lineno">  266</span>            vl = rdr.variable_labels()</div>
<div class="line"><span class="lineno">  267</span>            vl_expected = {</div>
<div class="line"><span class="lineno">  268</span>                <span class="stringliteral">&quot;Unicode_Cities_Strl&quot;</span>: <span class="stringliteral">&quot;Here are some strls with nicode chars&quot;</span>,</div>
<div class="line"><span class="lineno">  269</span>                <span class="stringliteral">&quot;Longs&quot;</span>: <span class="stringliteral">&quot;long data&quot;</span>,</div>
<div class="line"><span class="lineno">  270</span>                <span class="stringliteral">&quot;Things&quot;</span>: <span class="stringliteral">&quot;Here are some things&quot;</span>,</div>
<div class="line"><span class="lineno">  271</span>                <span class="stringliteral">&quot;Bytes&quot;</span>: <span class="stringliteral">&quot;byte data&quot;</span>,</div>
<div class="line"><span class="lineno">  272</span>                <span class="stringliteral">&quot;Ints&quot;</span>: <span class="stringliteral">&quot;int data&quot;</span>,</div>
<div class="line"><span class="lineno">  273</span>                <span class="stringliteral">&quot;Cities&quot;</span>: <span class="stringliteral">&quot;Here are some cities&quot;</span>,</div>
<div class="line"><span class="lineno">  274</span>                <span class="stringliteral">&quot;Floats&quot;</span>: <span class="stringliteral">&quot;float data&quot;</span>,</div>
<div class="line"><span class="lineno">  275</span>            }</div>
<div class="line"><span class="lineno">  276</span>            tm.assert_dict_equal(vl, vl_expected)</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>            <span class="keyword">assert</span> rdr.data_label == <span class="stringliteral">&quot;This is a  nicode data label&quot;</span></div>
<div class="line"><span class="lineno">  279</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abdfa582dc1792c3ab2aa04529f689615" name="abdfa582dc1792c3ab2aa04529f689615"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdfa582dc1792c3ab2aa04529f689615">&#9670;&#160;</a></span>test_read_dta2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_dta2 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   95</span>    <span class="keyword">def </span>test_read_dta2(self, datapath):</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>        expected = DataFrame.from_records(</div>
<div class="line"><span class="lineno">   98</span>            [</div>
<div class="line"><span class="lineno">   99</span>                (</div>
<div class="line"><span class="lineno">  100</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2006, 11, 19, 23, 13, 20),</div>
<div class="line"><span class="lineno">  101</span>                    1479596223000,</div>
<div class="line"><span class="lineno">  102</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2010, 1, 20),</div>
<div class="line"><span class="lineno">  103</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2010, 1, 8),</div>
<div class="line"><span class="lineno">  104</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2010, 1, 1),</div>
<div class="line"><span class="lineno">  105</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(1974, 7, 1),</div>
<div class="line"><span class="lineno">  106</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2010, 1, 1),</div>
<div class="line"><span class="lineno">  107</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2010, 1, 1),</div>
<div class="line"><span class="lineno">  108</span>                ),</div>
<div class="line"><span class="lineno">  109</span>                (</div>
<div class="line"><span class="lineno">  110</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(1959, 12, 31, 20, 3, 20),</div>
<div class="line"><span class="lineno">  111</span>                    -1479590,</div>
<div class="line"><span class="lineno">  112</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(1953, 10, 2),</div>
<div class="line"><span class="lineno">  113</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(1948, 6, 10),</div>
<div class="line"><span class="lineno">  114</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(1955, 1, 1),</div>
<div class="line"><span class="lineno">  115</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(1955, 7, 1),</div>
<div class="line"><span class="lineno">  116</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(1955, 1, 1),</div>
<div class="line"><span class="lineno">  117</span>                    <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2, 1, 1),</div>
<div class="line"><span class="lineno">  118</span>                ),</div>
<div class="line"><span class="lineno">  119</span>                (pd.NaT, pd.NaT, pd.NaT, pd.NaT, pd.NaT, pd.NaT, pd.NaT, pd.NaT),</div>
<div class="line"><span class="lineno">  120</span>            ],</div>
<div class="line"><span class="lineno">  121</span>            columns=[</div>
<div class="line"><span class="lineno">  122</span>                <span class="stringliteral">&quot;datetime_c&quot;</span>,</div>
<div class="line"><span class="lineno">  123</span>                <span class="stringliteral">&quot;datetime_big_c&quot;</span>,</div>
<div class="line"><span class="lineno">  124</span>                <span class="stringliteral">&quot;date&quot;</span>,</div>
<div class="line"><span class="lineno">  125</span>                <span class="stringliteral">&quot;weekly_date&quot;</span>,</div>
<div class="line"><span class="lineno">  126</span>                <span class="stringliteral">&quot;monthly_date&quot;</span>,</div>
<div class="line"><span class="lineno">  127</span>                <span class="stringliteral">&quot;quarterly_date&quot;</span>,</div>
<div class="line"><span class="lineno">  128</span>                <span class="stringliteral">&quot;half_yearly_date&quot;</span>,</div>
<div class="line"><span class="lineno">  129</span>                <span class="stringliteral">&quot;yearly_date&quot;</span>,</div>
<div class="line"><span class="lineno">  130</span>            ],</div>
<div class="line"><span class="lineno">  131</span>        )</div>
<div class="line"><span class="lineno">  132</span>        expected[<span class="stringliteral">&quot;yearly_date&quot;</span>] = expected[<span class="stringliteral">&quot;yearly_date&quot;</span>].astype(<span class="stringliteral">&quot;O&quot;</span>)</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>        <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> w:</div>
<div class="line"><span class="lineno">  135</span>            warnings.simplefilter(<span class="stringliteral">&quot;always&quot;</span>)</div>
<div class="line"><span class="lineno">  136</span>            parsed_114 = self.read_dta(</div>
<div class="line"><span class="lineno">  137</span>                datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata2_114.dta&quot;</span>)</div>
<div class="line"><span class="lineno">  138</span>            )</div>
<div class="line"><span class="lineno">  139</span>            parsed_115 = self.read_dta(</div>
<div class="line"><span class="lineno">  140</span>                datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata2_115.dta&quot;</span>)</div>
<div class="line"><span class="lineno">  141</span>            )</div>
<div class="line"><span class="lineno">  142</span>            parsed_117 = self.read_dta(</div>
<div class="line"><span class="lineno">  143</span>                datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata2_117.dta&quot;</span>)</div>
<div class="line"><span class="lineno">  144</span>            )</div>
<div class="line"><span class="lineno">  145</span>            <span class="comment"># 113 is buggy due to limits of date format support in Stata</span></div>
<div class="line"><span class="lineno">  146</span>            <span class="comment"># parsed_113 = self.read_dta(</span></div>
<div class="line"><span class="lineno">  147</span>            <span class="comment"># datapath(&quot;io&quot;, &quot;data&quot;, &quot;stata&quot;, &quot;stata2_113.dta&quot;)</span></div>
<div class="line"><span class="lineno">  148</span>            <span class="comment"># )</span></div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>            <span class="comment"># Remove resource warnings</span></div>
<div class="line"><span class="lineno">  151</span>            w = [x <span class="keywordflow">for</span> x <span class="keywordflow">in</span> w <span class="keywordflow">if</span> x.category <span class="keywordflow">is</span> UserWarning]</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>            <span class="comment"># should get warning for each call to read_dta</span></div>
<div class="line"><span class="lineno">  154</span>            <span class="keyword">assert</span> len(w) == 3</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>        <span class="comment"># buggy test because of the NaT comparison on certain platforms</span></div>
<div class="line"><span class="lineno">  157</span>        <span class="comment"># Format 113 test fails since it does not support tc and tC formats</span></div>
<div class="line"><span class="lineno">  158</span>        <span class="comment"># tm.assert_frame_equal(parsed_113, expected)</span></div>
<div class="line"><span class="lineno">  159</span>        tm.assert_frame_equal(parsed_114, expected, check_datetimelike_compat=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  160</span>        tm.assert_frame_equal(parsed_115, expected, check_datetimelike_compat=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  161</span>        tm.assert_frame_equal(parsed_117, expected, check_datetimelike_compat=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  162</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa17002aacab4cdeed0caa56ce748c5c7" name="aa17002aacab4cdeed0caa56ce748c5c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa17002aacab4cdeed0caa56ce748c5c7">&#9670;&#160;</a></span>test_read_dta3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_dta3 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  166</span>    <span class="keyword">def </span>test_read_dta3(self, file, datapath):</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>        file = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, f<span class="stringliteral">&quot;{file}.dta&quot;</span>)</div>
<div class="line"><span class="lineno">  169</span>        parsed = self.read_dta(file)</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>        <span class="comment"># match stata here</span></div>
<div class="line"><span class="lineno">  172</span>        expected = self.read_csv(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata3.csv&quot;</span>))</div>
<div class="line"><span class="lineno">  173</span>        expected = expected.astype(np.float32)</div>
<div class="line"><span class="lineno">  174</span>        expected[<span class="stringliteral">&quot;year&quot;</span>] = expected[<span class="stringliteral">&quot;year&quot;</span>].astype(np.int16)</div>
<div class="line"><span class="lineno">  175</span>        expected[<span class="stringliteral">&quot;quarter&quot;</span>] = expected[<span class="stringliteral">&quot;quarter&quot;</span>].astype(np.int8)</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>        tm.assert_frame_equal(parsed, expected)</div>
<div class="line"><span class="lineno">  178</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af324e529d819b5a4a58238b67e1e4460" name="af324e529d819b5a4a58238b67e1e4460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af324e529d819b5a4a58238b67e1e4460">&#9670;&#160;</a></span>test_read_dta4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_dta4 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  182</span>    <span class="keyword">def </span>test_read_dta4(self, file, datapath):</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>        file = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, f<span class="stringliteral">&quot;{file}.dta&quot;</span>)</div>
<div class="line"><span class="lineno">  185</span>        parsed = self.read_dta(file)</div>
<div class="line"><span class="lineno">  186</span> </div>
<div class="line"><span class="lineno">  187</span>        expected = DataFrame.from_records(</div>
<div class="line"><span class="lineno">  188</span>            [</div>
<div class="line"><span class="lineno">  189</span>                [<span class="stringliteral">&quot;one&quot;</span>, <span class="stringliteral">&quot;ten&quot;</span>, <span class="stringliteral">&quot;one&quot;</span>, <span class="stringliteral">&quot;one&quot;</span>, <span class="stringliteral">&quot;one&quot;</span>],</div>
<div class="line"><span class="lineno">  190</span>                [<span class="stringliteral">&quot;two&quot;</span>, <span class="stringliteral">&quot;nine&quot;</span>, <span class="stringliteral">&quot;two&quot;</span>, <span class="stringliteral">&quot;two&quot;</span>, <span class="stringliteral">&quot;two&quot;</span>],</div>
<div class="line"><span class="lineno">  191</span>                [<span class="stringliteral">&quot;three&quot;</span>, <span class="stringliteral">&quot;eight&quot;</span>, <span class="stringliteral">&quot;three&quot;</span>, <span class="stringliteral">&quot;three&quot;</span>, <span class="stringliteral">&quot;three&quot;</span>],</div>
<div class="line"><span class="lineno">  192</span>                [<span class="stringliteral">&quot;four&quot;</span>, <span class="stringliteral">&quot;seven&quot;</span>, 4, <span class="stringliteral">&quot;four&quot;</span>, <span class="stringliteral">&quot;four&quot;</span>],</div>
<div class="line"><span class="lineno">  193</span>                [<span class="stringliteral">&quot;five&quot;</span>, <span class="stringliteral">&quot;six&quot;</span>, 5, np.nan, <span class="stringliteral">&quot;five&quot;</span>],</div>
<div class="line"><span class="lineno">  194</span>                [<span class="stringliteral">&quot;six&quot;</span>, <span class="stringliteral">&quot;five&quot;</span>, 6, np.nan, <span class="stringliteral">&quot;six&quot;</span>],</div>
<div class="line"><span class="lineno">  195</span>                [<span class="stringliteral">&quot;seven&quot;</span>, <span class="stringliteral">&quot;four&quot;</span>, 7, np.nan, <span class="stringliteral">&quot;seven&quot;</span>],</div>
<div class="line"><span class="lineno">  196</span>                [<span class="stringliteral">&quot;eight&quot;</span>, <span class="stringliteral">&quot;three&quot;</span>, 8, np.nan, <span class="stringliteral">&quot;eight&quot;</span>],</div>
<div class="line"><span class="lineno">  197</span>                [<span class="stringliteral">&quot;nine&quot;</span>, <span class="stringliteral">&quot;two&quot;</span>, 9, np.nan, <span class="stringliteral">&quot;nine&quot;</span>],</div>
<div class="line"><span class="lineno">  198</span>                [<span class="stringliteral">&quot;ten&quot;</span>, <span class="stringliteral">&quot;one&quot;</span>, <span class="stringliteral">&quot;ten&quot;</span>, np.nan, <span class="stringliteral">&quot;ten&quot;</span>],</div>
<div class="line"><span class="lineno">  199</span>            ],</div>
<div class="line"><span class="lineno">  200</span>            columns=[</div>
<div class="line"><span class="lineno">  201</span>                <span class="stringliteral">&quot;fully_labeled&quot;</span>,</div>
<div class="line"><span class="lineno">  202</span>                <span class="stringliteral">&quot;fully_labeled2&quot;</span>,</div>
<div class="line"><span class="lineno">  203</span>                <span class="stringliteral">&quot;incompletely_labeled&quot;</span>,</div>
<div class="line"><span class="lineno">  204</span>                <span class="stringliteral">&quot;labeled_with_missings&quot;</span>,</div>
<div class="line"><span class="lineno">  205</span>                <span class="stringliteral">&quot;float_labelled&quot;</span>,</div>
<div class="line"><span class="lineno">  206</span>            ],</div>
<div class="line"><span class="lineno">  207</span>        )</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>        <span class="comment"># these are all categoricals</span></div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordflow">for</span> col <span class="keywordflow">in</span> expected:</div>
<div class="line"><span class="lineno">  211</span>            orig = expected[col].copy()</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>            categories = np.asarray(expected[<span class="stringliteral">&quot;fully_labeled&quot;</span>][orig.notna()])</div>
<div class="line"><span class="lineno">  214</span>            <span class="keywordflow">if</span> col == <span class="stringliteral">&quot;incompletely_labeled&quot;</span>:</div>
<div class="line"><span class="lineno">  215</span>                categories = orig</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>            cat = orig.astype(<span class="stringliteral">&quot;category&quot;</span>)._values</div>
<div class="line"><span class="lineno">  218</span>            cat = cat.set_categories(categories, ordered=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  219</span>            cat.categories.rename(<span class="keywordtype">None</span>, inplace=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>            expected[col] = cat</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>        <span class="comment"># stata doesn&#39;t save .category metadata</span></div>
<div class="line"><span class="lineno">  224</span>        tm.assert_frame_equal(parsed, expected)</div>
<div class="line"><span class="lineno">  225</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a480f3e4279dac1c391b60493a28579b4" name="a480f3e4279dac1c391b60493a28579b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a480f3e4279dac1c391b60493a28579b4">&#9670;&#160;</a></span>test_read_empty_dta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_empty_dta </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   68</span>    <span class="keyword">def </span>test_read_empty_dta(self, version):</div>
<div class="line"><span class="lineno">   69</span>        empty_ds = DataFrame(columns=[<span class="stringliteral">&quot;unit&quot;</span>])</div>
<div class="line"><span class="lineno">   70</span>        <span class="comment"># GH 7369, make sure can read a 0-obs dta file</span></div>
<div class="line"><span class="lineno">   71</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">   72</span>            empty_ds.to_stata(path, write_index=<span class="keyword">False</span>, version=version)</div>
<div class="line"><span class="lineno">   73</span>            empty_ds2 = read_stata(path)</div>
<div class="line"><span class="lineno">   74</span>            tm.assert_frame_equal(empty_ds, empty_ds2)</div>
<div class="line"><span class="lineno">   75</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a205567133e41be5e053adfc7c939d684" name="a205567133e41be5e053adfc7c939d684"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a205567133e41be5e053adfc7c939d684">&#9670;&#160;</a></span>test_read_write_dta10()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_write_dta10 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  309</span>    <span class="keyword">def </span>test_read_write_dta10(self, version):</div>
<div class="line"><span class="lineno">  310</span>        original = DataFrame(</div>
<div class="line"><span class="lineno">  311</span>            data=[[<span class="stringliteral">&quot;string&quot;</span>, <span class="stringliteral">&quot;object&quot;</span>, 1, 1.1, np.datetime64(<span class="stringliteral">&quot;2003-12-25&quot;</span>)]],</div>
<div class="line"><span class="lineno">  312</span>            columns=[<span class="stringliteral">&quot;string&quot;</span>, <span class="stringliteral">&quot;object&quot;</span>, <span class="stringliteral">&quot;integer&quot;</span>, <span class="stringliteral">&quot;floating&quot;</span>, <span class="stringliteral">&quot;datetime&quot;</span>],</div>
<div class="line"><span class="lineno">  313</span>        )</div>
<div class="line"><span class="lineno">  314</span>        original[<span class="stringliteral">&quot;object&quot;</span>] = Series(original[<span class="stringliteral">&quot;object&quot;</span>], dtype=object)</div>
<div class="line"><span class="lineno">  315</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  316</span>        original.index = original.index.astype(np.int32)</div>
<div class="line"><span class="lineno">  317</span>        original[<span class="stringliteral">&quot;integer&quot;</span>] = original[<span class="stringliteral">&quot;integer&quot;</span>].astype(np.int32)</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  320</span>            original.to_stata(path, convert_dates={<span class="stringliteral">&quot;datetime&quot;</span>: <span class="stringliteral">&quot;tc&quot;</span>}, version=version)</div>
<div class="line"><span class="lineno">  321</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  322</span>            <span class="comment"># original.index is np.int32, read index is np.int64</span></div>
<div class="line"><span class="lineno">  323</span>            tm.assert_frame_equal(</div>
<div class="line"><span class="lineno">  324</span>                written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>),</div>
<div class="line"><span class="lineno">  325</span>                original,</div>
<div class="line"><span class="lineno">  326</span>                check_index_type=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  327</span>            )</div>
<div class="line"><span class="lineno">  328</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a8e34f873f5128caf255eb3980a24cc" name="a4a8e34f873f5128caf255eb3980a24cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a8e34f873f5128caf255eb3980a24cc">&#9670;&#160;</a></span>test_read_write_dta11()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_write_dta11 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  361</span>    <span class="keyword">def </span>test_read_write_dta11(self):</div>
<div class="line"><span class="lineno">  362</span>        original = DataFrame(</div>
<div class="line"><span class="lineno">  363</span>            [(1, 2, 3, 4)],</div>
<div class="line"><span class="lineno">  364</span>            columns=[</div>
<div class="line"><span class="lineno">  365</span>                <span class="stringliteral">&quot;good&quot;</span>,</div>
<div class="line"><span class="lineno">  366</span>                <span class="stringliteral">&quot;b\u00E4d&quot;</span>,</div>
<div class="line"><span class="lineno">  367</span>                <span class="stringliteral">&quot;8number&quot;</span>,</div>
<div class="line"><span class="lineno">  368</span>                <span class="stringliteral">&quot;astringwithmorethan32characters______&quot;</span>,</div>
<div class="line"><span class="lineno">  369</span>            ],</div>
<div class="line"><span class="lineno">  370</span>        )</div>
<div class="line"><span class="lineno">  371</span>        formatted = DataFrame(</div>
<div class="line"><span class="lineno">  372</span>            [(1, 2, 3, 4)],</div>
<div class="line"><span class="lineno">  373</span>            columns=[<span class="stringliteral">&quot;good&quot;</span>, <span class="stringliteral">&quot;b_d&quot;</span>, <span class="stringliteral">&quot;_8number&quot;</span>, <span class="stringliteral">&quot;astringwithmorethan32characters_&quot;</span>],</div>
<div class="line"><span class="lineno">  374</span>        )</div>
<div class="line"><span class="lineno">  375</span>        formatted.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  376</span>        formatted = formatted.astype(np.int32)</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  379</span>            <span class="keyword">with</span> tm.assert_produces_warning(InvalidColumnName):</div>
<div class="line"><span class="lineno">  380</span>                original.to_stata(path, convert_dates=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  383</span>            tm.assert_frame_equal(written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>), formatted)</div>
<div class="line"><span class="lineno">  384</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a177787d10000138126f634c360b04b04" name="a177787d10000138126f634c360b04b04"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177787d10000138126f634c360b04b04">&#9670;&#160;</a></span>test_read_write_dta12()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_write_dta12 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  386</span>    <span class="keyword">def </span>test_read_write_dta12(self, version):</div>
<div class="line"><span class="lineno">  387</span>        original = DataFrame(</div>
<div class="line"><span class="lineno">  388</span>            [(1, 2, 3, 4, 5, 6)],</div>
<div class="line"><span class="lineno">  389</span>            columns=[</div>
<div class="line"><span class="lineno">  390</span>                <span class="stringliteral">&quot;astringwithmorethan32characters_1&quot;</span>,</div>
<div class="line"><span class="lineno">  391</span>                <span class="stringliteral">&quot;astringwithmorethan32characters_2&quot;</span>,</div>
<div class="line"><span class="lineno">  392</span>                <span class="stringliteral">&quot;+&quot;</span>,</div>
<div class="line"><span class="lineno">  393</span>                <span class="stringliteral">&quot;-&quot;</span>,</div>
<div class="line"><span class="lineno">  394</span>                <span class="stringliteral">&quot;short&quot;</span>,</div>
<div class="line"><span class="lineno">  395</span>                <span class="stringliteral">&quot;delete&quot;</span>,</div>
<div class="line"><span class="lineno">  396</span>            ],</div>
<div class="line"><span class="lineno">  397</span>        )</div>
<div class="line"><span class="lineno">  398</span>        formatted = DataFrame(</div>
<div class="line"><span class="lineno">  399</span>            [(1, 2, 3, 4, 5, 6)],</div>
<div class="line"><span class="lineno">  400</span>            columns=[</div>
<div class="line"><span class="lineno">  401</span>                <span class="stringliteral">&quot;astringwithmorethan32characters_&quot;</span>,</div>
<div class="line"><span class="lineno">  402</span>                <span class="stringliteral">&quot;_0astringwithmorethan32character&quot;</span>,</div>
<div class="line"><span class="lineno">  403</span>                <span class="stringliteral">&quot;_&quot;</span>,</div>
<div class="line"><span class="lineno">  404</span>                <span class="stringliteral">&quot;_1_&quot;</span>,</div>
<div class="line"><span class="lineno">  405</span>                <span class="stringliteral">&quot;_short&quot;</span>,</div>
<div class="line"><span class="lineno">  406</span>                <span class="stringliteral">&quot;_delete&quot;</span>,</div>
<div class="line"><span class="lineno">  407</span>            ],</div>
<div class="line"><span class="lineno">  408</span>        )</div>
<div class="line"><span class="lineno">  409</span>        formatted.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  410</span>        formatted = formatted.astype(np.int32)</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  413</span>            <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> w:</div>
<div class="line"><span class="lineno">  414</span>                warnings.simplefilter(<span class="stringliteral">&quot;always&quot;</span>, InvalidColumnName)</div>
<div class="line"><span class="lineno">  415</span>                original.to_stata(path, convert_dates=<span class="keywordtype">None</span>, version=version)</div>
<div class="line"><span class="lineno">  416</span>                <span class="comment"># should get a warning for that format.</span></div>
<div class="line"><span class="lineno">  417</span>                <span class="keyword">assert</span> len(w) == 1</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  420</span>            tm.assert_frame_equal(written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>), formatted)</div>
<div class="line"><span class="lineno">  421</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7257b3b57c218ead5e77d376d747fc62" name="a7257b3b57c218ead5e77d376d747fc62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7257b3b57c218ead5e77d376d747fc62">&#9670;&#160;</a></span>test_read_write_dta13()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_write_dta13 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  422</span>    <span class="keyword">def </span>test_read_write_dta13(self):</div>
<div class="line"><span class="lineno">  423</span>        s1 = Series(2**9, dtype=np.int16)</div>
<div class="line"><span class="lineno">  424</span>        s2 = Series(2**17, dtype=np.int32)</div>
<div class="line"><span class="lineno">  425</span>        s3 = Series(2**33, dtype=np.int64)</div>
<div class="line"><span class="lineno">  426</span>        original = DataFrame({<span class="stringliteral">&quot;int16&quot;</span>: s1, <span class="stringliteral">&quot;int32&quot;</span>: s2, <span class="stringliteral">&quot;int64&quot;</span>: s3})</div>
<div class="line"><span class="lineno">  427</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>        formatted = original</div>
<div class="line"><span class="lineno">  430</span>        formatted[<span class="stringliteral">&quot;int64&quot;</span>] = formatted[<span class="stringliteral">&quot;int64&quot;</span>].astype(np.float64)</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  433</span>            original.to_stata(path)</div>
<div class="line"><span class="lineno">  434</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  435</span>            tm.assert_frame_equal(written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>), formatted)</div>
<div class="line"><span class="lineno">  436</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1578c929745f9d6836b88892eada316" name="ad1578c929745f9d6836b88892eada316"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1578c929745f9d6836b88892eada316">&#9670;&#160;</a></span>test_read_write_dta5()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_write_dta5 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  280</span>    <span class="keyword">def </span>test_read_write_dta5(self):</div>
<div class="line"><span class="lineno">  281</span>        original = DataFrame(</div>
<div class="line"><span class="lineno">  282</span>            [(np.nan, np.nan, np.nan, np.nan, np.nan)],</div>
<div class="line"><span class="lineno">  283</span>            columns=[<span class="stringliteral">&quot;float_miss&quot;</span>, <span class="stringliteral">&quot;double_miss&quot;</span>, <span class="stringliteral">&quot;byte_miss&quot;</span>, <span class="stringliteral">&quot;int_miss&quot;</span>, <span class="stringliteral">&quot;long_miss&quot;</span>],</div>
<div class="line"><span class="lineno">  284</span>        )</div>
<div class="line"><span class="lineno">  285</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  288</span>            original.to_stata(path, convert_dates=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  289</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  290</span>            tm.assert_frame_equal(written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>), original)</div>
<div class="line"><span class="lineno">  291</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a569ba3dae971c45c8488d771a5509c06" name="a569ba3dae971c45c8488d771a5509c06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a569ba3dae971c45c8488d771a5509c06">&#9670;&#160;</a></span>test_read_write_reread_dta14()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_write_reread_dta14 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>parsed_114</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  441</span>    <span class="keyword">def </span>test_read_write_reread_dta14(self, file, parsed_114, version, datapath):</div>
<div class="line"><span class="lineno">  442</span>        file = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, f<span class="stringliteral">&quot;{file}.dta&quot;</span>)</div>
<div class="line"><span class="lineno">  443</span>        parsed = self.read_dta(file)</div>
<div class="line"><span class="lineno">  444</span>        parsed.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>        expected = self.read_csv(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata5.csv&quot;</span>))</div>
<div class="line"><span class="lineno">  447</span>        cols = [<span class="stringliteral">&quot;byte_&quot;</span>, <span class="stringliteral">&quot;int_&quot;</span>, <span class="stringliteral">&quot;long_&quot;</span>, <span class="stringliteral">&quot;float_&quot;</span>, <span class="stringliteral">&quot;double_&quot;</span>]</div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">for</span> col <span class="keywordflow">in</span> cols:</div>
<div class="line"><span class="lineno">  449</span>            expected[col] = expected[col]._convert(datetime=<span class="keyword">True</span>, numeric=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  450</span>        expected[<span class="stringliteral">&quot;float_&quot;</span>] = expected[<span class="stringliteral">&quot;float_&quot;</span>].astype(np.float32)</div>
<div class="line"><span class="lineno">  451</span>        expected[<span class="stringliteral">&quot;date_td&quot;</span>] = pd.to_datetime(expected[<span class="stringliteral">&quot;date_td&quot;</span>], errors=<span class="stringliteral">&quot;coerce&quot;</span>)</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>        tm.assert_frame_equal(parsed_114, parsed)</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  456</span>            parsed_114.to_stata(path, convert_dates={<span class="stringliteral">&quot;date_td&quot;</span>: <span class="stringliteral">&quot;td&quot;</span>}, version=version)</div>
<div class="line"><span class="lineno">  457</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  458</span>            tm.assert_frame_equal(written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>), parsed_114)</div>
<div class="line"><span class="lineno">  459</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa404f8ff1ffbafa0949831033b7a4720" name="aa404f8ff1ffbafa0949831033b7a4720"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa404f8ff1ffbafa0949831033b7a4720">&#9670;&#160;</a></span>test_read_write_reread_dta15()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_read_write_reread_dta15 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  463</span>    <span class="keyword">def </span>test_read_write_reread_dta15(self, file, datapath):</div>
<div class="line"><span class="lineno">  464</span> </div>
<div class="line"><span class="lineno">  465</span>        expected = self.read_csv(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata6.csv&quot;</span>))</div>
<div class="line"><span class="lineno">  466</span>        expected[<span class="stringliteral">&quot;byte_&quot;</span>] = expected[<span class="stringliteral">&quot;byte_&quot;</span>].astype(np.int8)</div>
<div class="line"><span class="lineno">  467</span>        expected[<span class="stringliteral">&quot;int_&quot;</span>] = expected[<span class="stringliteral">&quot;int_&quot;</span>].astype(np.int16)</div>
<div class="line"><span class="lineno">  468</span>        expected[<span class="stringliteral">&quot;long_&quot;</span>] = expected[<span class="stringliteral">&quot;long_&quot;</span>].astype(np.int32)</div>
<div class="line"><span class="lineno">  469</span>        expected[<span class="stringliteral">&quot;float_&quot;</span>] = expected[<span class="stringliteral">&quot;float_&quot;</span>].astype(np.float32)</div>
<div class="line"><span class="lineno">  470</span>        expected[<span class="stringliteral">&quot;double_&quot;</span>] = expected[<span class="stringliteral">&quot;double_&quot;</span>].astype(np.float64)</div>
<div class="line"><span class="lineno">  471</span>        expected[<span class="stringliteral">&quot;date_td&quot;</span>] = expected[<span class="stringliteral">&quot;date_td&quot;</span>].apply(</div>
<div class="line"><span class="lineno">  472</span>            datetime.strptime, args=(<span class="stringliteral">&quot;%Y-%m-%d&quot;</span>,)</div>
<div class="line"><span class="lineno">  473</span>        )</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>        file = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, f<span class="stringliteral">&quot;{file}.dta&quot;</span>)</div>
<div class="line"><span class="lineno">  476</span>        parsed = self.read_dta(file)</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>        tm.assert_frame_equal(expected, parsed)</div>
<div class="line"><span class="lineno">  479</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d1e000303edcf10e45540ec42a8c323" name="a5d1e000303edcf10e45540ec42a8c323"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d1e000303edcf10e45540ec42a8c323">&#9670;&#160;</a></span>test_repeated_column_labels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_repeated_column_labels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1394</span>    <span class="keyword">def </span>test_repeated_column_labels(self, datapath):</div>
<div class="line"><span class="lineno"> 1395</span>        <span class="comment"># GH 13923, 25772</span></div>
<div class="line"><span class="lineno"> 1396</span>        msg = <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1397</span><span class="stringliteral">Value labels for column ethnicsn are not unique. These cannot be converted to</span></div>
<div class="line"><span class="lineno"> 1398</span><span class="stringliteral">pandas categoricals.</span></div>
<div class="line"><span class="lineno"> 1399</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1400</span><span class="stringliteral">Either read the file with `convert_categoricals` set to False or use the</span></div>
<div class="line"><span class="lineno"> 1401</span><span class="stringliteral">low level interface in `StataReader` to separately read the values and the</span></div>
<div class="line"><span class="lineno"> 1402</span><span class="stringliteral">value_labels.</span></div>
<div class="line"><span class="lineno"> 1403</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1404</span><span class="stringliteral">The repeated labels are:\n-+\nwolof</span></div>
<div class="line"><span class="lineno"> 1405</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1406</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1407</span>            read_stata(</div>
<div class="line"><span class="lineno"> 1408</span>                datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata15.dta&quot;</span>),</div>
<div class="line"><span class="lineno"> 1409</span>                convert_categoricals=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1410</span>            )</div>
<div class="line"><span class="lineno"> 1411</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae69833cd24110e8e53f757f7df04c726" name="ae69833cd24110e8e53f757f7df04c726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae69833cd24110e8e53f757f7df04c726">&#9670;&#160;</a></span>test_set_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_set_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1508</span>    <span class="keyword">def </span>test_set_index(self):</div>
<div class="line"><span class="lineno"> 1509</span>        <span class="comment"># GH 17328</span></div>
<div class="line"><span class="lineno"> 1510</span>        df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno"> 1511</span>        df.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1512</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1513</span>            df.to_stata(path)</div>
<div class="line"><span class="lineno"> 1514</span>            reread = read_stata(path, index_col=<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno"> 1515</span>        tm.assert_frame_equal(df, reread)</div>
<div class="line"><span class="lineno"> 1516</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a77c578d08dc6102604731c587ed071e8" name="a77c578d08dc6102604731c587ed071e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77c578d08dc6102604731c587ed071e8">&#9670;&#160;</a></span>test_stata_111()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_stata_111 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1412</span>    <span class="keyword">def </span>test_stata_111(self, datapath):</div>
<div class="line"><span class="lineno"> 1413</span>        <span class="comment"># 111 is an old version but still used by current versions of</span></div>
<div class="line"><span class="lineno"> 1414</span>        <span class="comment"># SAS when exporting to Stata format. We do not know of any</span></div>
<div class="line"><span class="lineno"> 1415</span>        <span class="comment"># on-line documentation for this version.</span></div>
<div class="line"><span class="lineno"> 1416</span>        df = read_stata(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata7_111.dta&quot;</span>))</div>
<div class="line"><span class="lineno"> 1417</span>        original = DataFrame(</div>
<div class="line"><span class="lineno"> 1418</span>            {</div>
<div class="line"><span class="lineno"> 1419</span>                <span class="stringliteral">&quot;y&quot;</span>: [1, 1, 1, 1, 1, 0, 0, np.NaN, 0, 0],</div>
<div class="line"><span class="lineno"> 1420</span>                <span class="stringliteral">&quot;x&quot;</span>: [1, 2, 1, 3, np.NaN, 4, 3, 5, 1, 6],</div>
<div class="line"><span class="lineno"> 1421</span>                <span class="stringliteral">&quot;w&quot;</span>: [2, np.NaN, 5, 2, 4, 4, 3, 1, 2, 3],</div>
<div class="line"><span class="lineno"> 1422</span>                <span class="stringliteral">&quot;z&quot;</span>: [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;e&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;g&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>, <span class="stringliteral">&quot;j&quot;</span>],</div>
<div class="line"><span class="lineno"> 1423</span>            }</div>
<div class="line"><span class="lineno"> 1424</span>        )</div>
<div class="line"><span class="lineno"> 1425</span>        original = original[[<span class="stringliteral">&quot;y&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>, <span class="stringliteral">&quot;z&quot;</span>]]</div>
<div class="line"><span class="lineno"> 1426</span>        tm.assert_frame_equal(original, df)</div>
<div class="line"><span class="lineno"> 1427</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a371ba6bb66a56696c865443392e55302" name="a371ba6bb66a56696c865443392e55302"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a371ba6bb66a56696c865443392e55302">&#9670;&#160;</a></span>test_stata_119()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_stata_119 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1769</span>    <span class="keyword">def </span>test_stata_119(self, datapath):</div>
<div class="line"><span class="lineno"> 1770</span>        <span class="comment"># Gzipped since contains 32,999 variables and uncompressed is 20MiB</span></div>
<div class="line"><span class="lineno"> 1771</span>        <span class="keyword">with</span> gzip.open(</div>
<div class="line"><span class="lineno"> 1772</span>            datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata1_119.dta.gz&quot;</span>), <span class="stringliteral">&quot;rb&quot;</span></div>
<div class="line"><span class="lineno"> 1773</span>        ) <span class="keyword">as</span> gz:</div>
<div class="line"><span class="lineno"> 1774</span>            df = read_stata(gz)</div>
<div class="line"><span class="lineno"> 1775</span>        <span class="keyword">assert</span> df.shape == (1, 32999)</div>
<div class="line"><span class="lineno"> 1776</span>        <span class="keyword">assert</span> df.iloc[0, 6] == <span class="stringliteral">&quot;A&quot;</span> * 3000</div>
<div class="line"><span class="lineno"> 1777</span>        <span class="keyword">assert</span> df.iloc[0, 7] == 3.14</div>
<div class="line"><span class="lineno"> 1778</span>        <span class="keyword">assert</span> df.iloc[0, -1] == 1</div>
<div class="line"><span class="lineno"> 1779</span>        <span class="keyword">assert</span> df.iloc[0, 0] == pd.Timestamp(<a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2012, 12, 21, 21, 12, 21))</div>
<div class="line"><span class="lineno"> 1780</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a48c72221fec9ab6362273916ae850d48" name="a48c72221fec9ab6362273916ae850d48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48c72221fec9ab6362273916ae850d48">&#9670;&#160;</a></span>test_stata_doc_examples()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_stata_doc_examples </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  329</span>    <span class="keyword">def </span>test_stata_doc_examples(self):</div>
<div class="line"><span class="lineno">  330</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  331</span>            df = DataFrame(np.random.randn(10, 2), columns=list(<span class="stringliteral">&quot;AB&quot;</span>))</div>
<div class="line"><span class="lineno">  332</span>            df.to_stata(path)</div>
<div class="line"><span class="lineno">  333</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ffc48ee38fe6f01ab367cff8c70a0d1" name="a8ffc48ee38fe6f01ab367cff8c70a0d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ffc48ee38fe6f01ab367cff8c70a0d1">&#9670;&#160;</a></span>test_string_no_dates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_string_no_dates </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  543</span>    <span class="keyword">def </span>test_string_no_dates(self):</div>
<div class="line"><span class="lineno">  544</span>        s1 = Series([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;A longer string&quot;</span>])</div>
<div class="line"><span class="lineno">  545</span>        s2 = Series([1.0, 2.0], dtype=np.float64)</div>
<div class="line"><span class="lineno">  546</span>        original = DataFrame({<span class="stringliteral">&quot;s1&quot;</span>: s1, <span class="stringliteral">&quot;s2&quot;</span>: s2})</div>
<div class="line"><span class="lineno">  547</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  548</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  549</span>            original.to_stata(path)</div>
<div class="line"><span class="lineno">  550</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  551</span>            tm.assert_frame_equal(written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>), original)</div>
<div class="line"><span class="lineno">  552</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae1541ff08b58a96aa778d9cb3d342d10" name="ae1541ff08b58a96aa778d9cb3d342d10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1541ff08b58a96aa778d9cb3d342d10">&#9670;&#160;</a></span>test_strl_latin1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_strl_latin1 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1732</span>    <span class="keyword">def </span>test_strl_latin1(self):</div>
<div class="line"><span class="lineno"> 1733</span>        <span class="comment"># GH 23573, correct GSO data to reflect correct size</span></div>
<div class="line"><span class="lineno"> 1734</span>        output = DataFrame(</div>
<div class="line"><span class="lineno"> 1735</span>            [[<span class="stringliteral">&quot;pandas&quot;</span>] * 2, [<span class="stringliteral">&quot;&quot;</span>] * 2], columns=[<span class="stringliteral">&quot;var_str&quot;</span>, <span class="stringliteral">&quot;var_strl&quot;</span>]</div>
<div class="line"><span class="lineno"> 1736</span>        )</div>
<div class="line"><span class="lineno"> 1737</span> </div>
<div class="line"><span class="lineno"> 1738</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1739</span>            output.to_stata(path, version=117, convert_strl=[<span class="stringliteral">&quot;var_strl&quot;</span>])</div>
<div class="line"><span class="lineno"> 1740</span>            <span class="keyword">with</span> open(path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> reread:</div>
<div class="line"><span class="lineno"> 1741</span>                content = reread.read()</div>
<div class="line"><span class="lineno"> 1742</span>                expected = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1743</span>                <span class="keyword">assert</span> expected.encode(<span class="stringliteral">&quot;latin-1&quot;</span>) <span class="keywordflow">in</span> content</div>
<div class="line"><span class="lineno"> 1744</span>                <span class="keyword">assert</span> expected.encode(<span class="stringliteral">&quot;utf-8&quot;</span>) <span class="keywordflow">in</span> content</div>
<div class="line"><span class="lineno"> 1745</span>                gsos = content.split(b<span class="stringliteral">&quot;strls&quot;</span>)[1][1:-2]</div>
<div class="line"><span class="lineno"> 1746</span>                <span class="keywordflow">for</span> gso <span class="keywordflow">in</span> gsos.split(b<span class="stringliteral">&quot;GSO&quot;</span>)[1:]:</div>
<div class="line"><span class="lineno"> 1747</span>                    val = gso.split(b<span class="stringliteral">&quot;\x00&quot;</span>)[-2]</div>
<div class="line"><span class="lineno"> 1748</span>                    size = gso[gso.find(b<span class="stringliteral">&quot;\x82&quot;</span>) + 1]</div>
<div class="line"><span class="lineno"> 1749</span>                    <span class="keyword">assert</span> len(val) == size - 1</div>
<div class="line"><span class="lineno"> 1750</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a94c50d547de498074ecb2a25e81ad3c7" name="a94c50d547de498074ecb2a25e81ad3c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94c50d547de498074ecb2a25e81ad3c7">&#9670;&#160;</a></span>test_timestamp_and_label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_timestamp_and_label </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  481</span>    <span class="keyword">def </span>test_timestamp_and_label(self, version):</div>
<div class="line"><span class="lineno">  482</span>        original = DataFrame([(1,)], columns=[<span class="stringliteral">&quot;variable&quot;</span>])</div>
<div class="line"><span class="lineno">  483</span>        time_stamp = <a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2000, 2, 29, 14, 21)</div>
<div class="line"><span class="lineno">  484</span>        data_label = <span class="stringliteral">&quot;This is a data file.&quot;</span></div>
<div class="line"><span class="lineno">  485</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  486</span>            original.to_stata(</div>
<div class="line"><span class="lineno">  487</span>                path, time_stamp=time_stamp, data_label=data_label, version=version</div>
<div class="line"><span class="lineno">  488</span>            )</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>            <span class="keyword">with</span> StataReader(path) <span class="keyword">as</span> reader:</div>
<div class="line"><span class="lineno">  491</span>                <span class="keyword">assert</span> reader.time_stamp == <span class="stringliteral">&quot;29 Feb 2000 14:21&quot;</span></div>
<div class="line"><span class="lineno">  492</span>                <span class="keyword">assert</span> reader.data_label == data_label</div>
<div class="line"><span class="lineno">  493</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d1ee7f6c6f7c1eba96206408968d3b6" name="a8d1ee7f6c6f7c1eba96206408968d3b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d1ee7f6c6f7c1eba96206408968d3b6">&#9670;&#160;</a></span>test_unicode_dta_118()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_unicode_dta_118 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1668</span>    <span class="keyword">def </span>test_unicode_dta_118(self, datapath):</div>
<div class="line"><span class="lineno"> 1669</span>        unicode_df = self.read_dta(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata16_118.dta&quot;</span>))</div>
<div class="line"><span class="lineno"> 1670</span> </div>
<div class="line"><span class="lineno"> 1671</span>        columns = [<span class="stringliteral">&quot;utf8&quot;</span>, <span class="stringliteral">&quot;latin1&quot;</span>, <span class="stringliteral">&quot;ascii&quot;</span>, <span class="stringliteral">&quot;utf8_strl&quot;</span>, <span class="stringliteral">&quot;ascii_strl&quot;</span>]</div>
<div class="line"><span class="lineno"> 1672</span>        values = [</div>
<div class="line"><span class="lineno"> 1673</span>            [<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;PNDS&quot;</span>, <span class="stringliteral">&quot;p&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;p&quot;</span>],</div>
<div class="line"><span class="lineno"> 1674</span>            [<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>],</div>
<div class="line"><span class="lineno"> 1675</span>            [<span class="stringliteral">&quot;S&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;n&quot;</span>, <span class="stringliteral">&quot;S&quot;</span>, <span class="stringliteral">&quot;n&quot;</span>],</div>
<div class="line"><span class="lineno"> 1676</span>            [<span class="stringliteral">&quot;      &quot;</span>, <span class="stringliteral">&quot;      &quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;      &quot;</span>, <span class="stringliteral">&quot;d&quot;</span>],</div>
<div class="line"><span class="lineno"> 1677</span>            [<span class="stringliteral">&quot; &quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot; &quot;</span>, <span class="stringliteral">&quot;a&quot;</span>],</div>
<div class="line"><span class="lineno"> 1678</span>            [<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;s&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;s&quot;</span>],</div>
<div class="line"><span class="lineno"> 1679</span>            [<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot; &quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot; &quot;</span>],</div>
<div class="line"><span class="lineno"> 1680</span>        ]</div>
<div class="line"><span class="lineno"> 1681</span>        expected = DataFrame(values, columns=columns)</div>
<div class="line"><span class="lineno"> 1682</span> </div>
<div class="line"><span class="lineno"> 1683</span>        tm.assert_frame_equal(unicode_df, expected)</div>
<div class="line"><span class="lineno"> 1684</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aee6cbe490830c84d8b6e585dc6462a46" name="aee6cbe490830c84d8b6e585dc6462a46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee6cbe490830c84d8b6e585dc6462a46">&#9670;&#160;</a></span>test_unsupported_datetype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_unsupported_datetype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1363</span>    <span class="keyword">def </span>test_unsupported_datetype(self):</div>
<div class="line"><span class="lineno"> 1364</span>        dates = [</div>
<div class="line"><span class="lineno"> 1365</span>            dt.datetime(1999, 12, 31, 12, 12, 12, 12000),</div>
<div class="line"><span class="lineno"> 1366</span>            dt.datetime(2012, 12, 21, 12, 21, 12, 21000),</div>
<div class="line"><span class="lineno"> 1367</span>            dt.datetime(1776, 7, 4, 7, 4, 7, 4000),</div>
<div class="line"><span class="lineno"> 1368</span>        ]</div>
<div class="line"><span class="lineno"> 1369</span>        original = DataFrame(</div>
<div class="line"><span class="lineno"> 1370</span>            {</div>
<div class="line"><span class="lineno"> 1371</span>                <span class="stringliteral">&quot;nums&quot;</span>: [1.0, 2.0, 3.0],</div>
<div class="line"><span class="lineno"> 1372</span>                <span class="stringliteral">&quot;strs&quot;</span>: [<span class="stringliteral">&quot;apple&quot;</span>, <span class="stringliteral">&quot;banana&quot;</span>, <span class="stringliteral">&quot;cherry&quot;</span>],</div>
<div class="line"><span class="lineno"> 1373</span>                <span class="stringliteral">&quot;dates&quot;</span>: dates,</div>
<div class="line"><span class="lineno"> 1374</span>            }</div>
<div class="line"><span class="lineno"> 1375</span>        )</div>
<div class="line"><span class="lineno"> 1376</span> </div>
<div class="line"><span class="lineno"> 1377</span>        msg = <span class="stringliteral">&quot;Format %tC not implemented&quot;</span></div>
<div class="line"><span class="lineno"> 1378</span>        <span class="keyword">with</span> pytest.raises(NotImplementedError, match=msg):</div>
<div class="line"><span class="lineno"> 1379</span>            <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1380</span>                original.to_stata(path, convert_dates={<span class="stringliteral">&quot;dates&quot;</span>: <span class="stringliteral">&quot;tC&quot;</span>})</div>
<div class="line"><span class="lineno"> 1381</span> </div>
<div class="line"><span class="lineno"> 1382</span>        dates = pd.date_range(<span class="stringliteral">&quot;1-1-1990&quot;</span>, periods=3, tz=<span class="stringliteral">&quot;Asia/Hong_Kong&quot;</span>)</div>
<div class="line"><span class="lineno"> 1383</span>        original = DataFrame(</div>
<div class="line"><span class="lineno"> 1384</span>            {</div>
<div class="line"><span class="lineno"> 1385</span>                <span class="stringliteral">&quot;nums&quot;</span>: [1.0, 2.0, 3.0],</div>
<div class="line"><span class="lineno"> 1386</span>                <span class="stringliteral">&quot;strs&quot;</span>: [<span class="stringliteral">&quot;apple&quot;</span>, <span class="stringliteral">&quot;banana&quot;</span>, <span class="stringliteral">&quot;cherry&quot;</span>],</div>
<div class="line"><span class="lineno"> 1387</span>                <span class="stringliteral">&quot;dates&quot;</span>: dates,</div>
<div class="line"><span class="lineno"> 1388</span>            }</div>
<div class="line"><span class="lineno"> 1389</span>        )</div>
<div class="line"><span class="lineno"> 1390</span>        <span class="keyword">with</span> pytest.raises(NotImplementedError, match=<span class="stringliteral">&quot;Data type datetime64&quot;</span>):</div>
<div class="line"><span class="lineno"> 1391</span>            <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1392</span>                original.to_stata(path)</div>
<div class="line"><span class="lineno"> 1393</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6be9433378863249bac3ae4b7d3dc048" name="a6be9433378863249bac3ae4b7d3dc048"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6be9433378863249bac3ae4b7d3dc048">&#9670;&#160;</a></span>test_unsupported_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_unsupported_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1355</span>    <span class="keyword">def </span>test_unsupported_type(self):</div>
<div class="line"><span class="lineno"> 1356</span>        original = DataFrame({<span class="stringliteral">&quot;a&quot;</span>: [1 + 2j, 2 + 4j]})</div>
<div class="line"><span class="lineno"> 1357</span> </div>
<div class="line"><span class="lineno"> 1358</span>        msg = <span class="stringliteral">&quot;Data type complex128 not supported&quot;</span></div>
<div class="line"><span class="lineno"> 1359</span>        <span class="keyword">with</span> pytest.raises(NotImplementedError, match=msg):</div>
<div class="line"><span class="lineno"> 1360</span>            <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1361</span>                original.to_stata(path)</div>
<div class="line"><span class="lineno"> 1362</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c7838eeabf68464c3f28d3473149a2b" name="a1c7838eeabf68464c3f28d3473149a2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c7838eeabf68464c3f28d3473149a2b">&#9670;&#160;</a></span>test_utf8_writer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_utf8_writer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1782</span>    <span class="keyword">def </span>test_utf8_writer(self, version):</div>
<div class="line"><span class="lineno"> 1783</span>        cat = pd.Categorical([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>], ordered=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1784</span>        data = DataFrame(</div>
<div class="line"><span class="lineno"> 1785</span>            [</div>
<div class="line"><span class="lineno"> 1786</span>                [1.0, 1, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot; relatively long tring&quot;</span>],</div>
<div class="line"><span class="lineno"> 1787</span>                [2.0, 2, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>],</div>
<div class="line"><span class="lineno"> 1788</span>                [3.0, 3, <span class="stringliteral">&quot;&quot;</span>, <span class="keywordtype">None</span>],</div>
<div class="line"><span class="lineno"> 1789</span>            ],</div>
<div class="line"><span class="lineno"> 1790</span>            columns=[<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;strls&quot;</span>],</div>
<div class="line"><span class="lineno"> 1791</span>        )</div>
<div class="line"><span class="lineno"> 1792</span>        data[<span class="stringliteral">&quot;&quot;</span>] = cat</div>
<div class="line"><span class="lineno"> 1793</span>        variable_labels = {</div>
<div class="line"><span class="lineno"> 1794</span>            <span class="stringliteral">&quot;&quot;</span>: <span class="stringliteral">&quot;apple&quot;</span>,</div>
<div class="line"><span class="lineno"> 1795</span>            <span class="stringliteral">&quot;&quot;</span>: <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 1796</span>            <span class="stringliteral">&quot;&quot;</span>: <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 1797</span>            <span class="stringliteral">&quot;strls&quot;</span>: <span class="stringliteral">&quot;Long Strings&quot;</span>,</div>
<div class="line"><span class="lineno"> 1798</span>            <span class="stringliteral">&quot;&quot;</span>: <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 1799</span>        }</div>
<div class="line"><span class="lineno"> 1800</span>        data_label = <span class="stringliteral">&quot;aa-label&quot;</span></div>
<div class="line"><span class="lineno"> 1801</span>        value_labels = {<span class="stringliteral">&quot;&quot;</span>: {1: <span class="stringliteral">&quot;label&quot;</span>, 2: <span class="stringliteral">&quot;&quot;</span>, 3: <span class="stringliteral">&quot;ot valid latin-1&quot;</span>}}</div>
<div class="line"><span class="lineno"> 1802</span>        data[<span class="stringliteral">&quot;&quot;</span>] = data[<span class="stringliteral">&quot;&quot;</span>].astype(np.int32)</div>
<div class="line"><span class="lineno"> 1803</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1804</span>            writer = StataWriterUTF8(</div>
<div class="line"><span class="lineno"> 1805</span>                path,</div>
<div class="line"><span class="lineno"> 1806</span>                data,</div>
<div class="line"><span class="lineno"> 1807</span>                data_label=data_label,</div>
<div class="line"><span class="lineno"> 1808</span>                convert_strl=[<span class="stringliteral">&quot;strls&quot;</span>],</div>
<div class="line"><span class="lineno"> 1809</span>                variable_labels=variable_labels,</div>
<div class="line"><span class="lineno"> 1810</span>                write_index=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1811</span>                version=version,</div>
<div class="line"><span class="lineno"> 1812</span>                value_labels=value_labels,</div>
<div class="line"><span class="lineno"> 1813</span>            )</div>
<div class="line"><span class="lineno"> 1814</span>            writer.write_file()</div>
<div class="line"><span class="lineno"> 1815</span>            reread_encoded = read_stata(path)</div>
<div class="line"><span class="lineno"> 1816</span>            <span class="comment"># Missing is intentionally converted to empty strl</span></div>
<div class="line"><span class="lineno"> 1817</span>            data[<span class="stringliteral">&quot;strls&quot;</span>] = data[<span class="stringliteral">&quot;strls&quot;</span>].fillna(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1818</span>            <span class="comment"># Variable with value labels is reread as categorical</span></div>
<div class="line"><span class="lineno"> 1819</span>            data[<span class="stringliteral">&quot;&quot;</span>] = (</div>
<div class="line"><span class="lineno"> 1820</span>                data[<span class="stringliteral">&quot;&quot;</span>].replace(value_labels[<span class="stringliteral">&quot;&quot;</span>]).astype(<span class="stringliteral">&quot;category&quot;</span>).cat.as_ordered()</div>
<div class="line"><span class="lineno"> 1821</span>            )</div>
<div class="line"><span class="lineno"> 1822</span>            tm.assert_frame_equal(data, reread_encoded)</div>
<div class="line"><span class="lineno"> 1823</span>            reader = StataReader(path)</div>
<div class="line"><span class="lineno"> 1824</span>            <span class="keyword">assert</span> reader.data_label == data_label</div>
<div class="line"><span class="lineno"> 1825</span>            <span class="keyword">assert</span> reader.variable_labels() == variable_labels</div>
<div class="line"><span class="lineno"> 1826</span> </div>
<div class="line"><span class="lineno"> 1827</span>            data.to_stata(path, version=version, write_index=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1828</span>            reread_to_stata = read_stata(path)</div>
<div class="line"><span class="lineno"> 1829</span>            tm.assert_frame_equal(data, reread_to_stata)</div>
<div class="line"><span class="lineno"> 1830</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5900a5801c69264c01150f360d427726" name="a5900a5801c69264c01150f360d427726"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5900a5801c69264c01150f360d427726">&#9670;&#160;</a></span>test_value_labels_iterator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_value_labels_iterator </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>write_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1496</span>    <span class="keyword">def </span>test_value_labels_iterator(self, write_index):</div>
<div class="line"><span class="lineno"> 1497</span>        <span class="comment"># GH 16923</span></div>
<div class="line"><span class="lineno"> 1498</span>        d = {<span class="stringliteral">&quot;A&quot;</span>: [<span class="stringliteral">&quot;B&quot;</span>, <span class="stringliteral">&quot;E&quot;</span>, <span class="stringliteral">&quot;C&quot;</span>, <span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;E&quot;</span>]}</div>
<div class="line"><span class="lineno"> 1499</span>        df = DataFrame(data=d)</div>
<div class="line"><span class="lineno"> 1500</span>        df[<span class="stringliteral">&quot;A&quot;</span>] = df[<span class="stringliteral">&quot;A&quot;</span>].astype(<span class="stringliteral">&quot;category&quot;</span>)</div>
<div class="line"><span class="lineno"> 1501</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1502</span>            df.to_stata(path, write_index=write_index)</div>
<div class="line"><span class="lineno"> 1503</span> </div>
<div class="line"><span class="lineno"> 1504</span>            <span class="keyword">with</span> read_stata(path, iterator=<span class="keyword">True</span>) <span class="keyword">as</span> dta_iter:</div>
<div class="line"><span class="lineno"> 1505</span>                value_labels = dta_iter.value_labels()</div>
<div class="line"><span class="lineno"> 1506</span>        <span class="keyword">assert</span> value_labels == {<span class="stringliteral">&quot;A&quot;</span>: {0: <span class="stringliteral">&quot;A&quot;</span>, 1: <span class="stringliteral">&quot;B&quot;</span>, 2: <span class="stringliteral">&quot;C&quot;</span>, 3: <span class="stringliteral">&quot;E&quot;</span>}}</div>
<div class="line"><span class="lineno"> 1507</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a866313d09890f1b9de71cb8f866f9424" name="a866313d09890f1b9de71cb8f866f9424"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866313d09890f1b9de71cb8f866f9424">&#9670;&#160;</a></span>test_value_labels_old_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_value_labels_old_format </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  597</span>    <span class="keyword">def </span>test_value_labels_old_format(self, datapath):</div>
<div class="line"><span class="lineno">  598</span>        <span class="comment"># GH 19417</span></div>
<div class="line"><span class="lineno">  599</span>        <span class="comment">#</span></div>
<div class="line"><span class="lineno">  600</span>        <span class="comment"># Test that value_labels() returns an empty dict if the file format</span></div>
<div class="line"><span class="lineno">  601</span>        <span class="comment"># predates supporting value labels.</span></div>
<div class="line"><span class="lineno">  602</span>        dpath = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;S4_EDUC1.dta&quot;</span>)</div>
<div class="line"><span class="lineno">  603</span>        reader = StataReader(dpath)</div>
<div class="line"><span class="lineno">  604</span>        <span class="keyword">assert</span> reader.value_labels() == {}</div>
<div class="line"><span class="lineno">  605</span>        reader.close()</div>
<div class="line"><span class="lineno">  606</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf3a3aaf1677598a14d7344e278953e5" name="aaf3a3aaf1677598a14d7344e278953e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf3a3aaf1677598a14d7344e278953e5">&#9670;&#160;</a></span>test_variable_labels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_variable_labels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  673</span>    <span class="keyword">def </span>test_variable_labels(self, datapath):</div>
<div class="line"><span class="lineno">  674</span>        <span class="keyword">with</span> StataReader(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata7_115.dta&quot;</span>)) <span class="keyword">as</span> rdr:</div>
<div class="line"><span class="lineno">  675</span>            sr_115 = rdr.variable_labels()</div>
<div class="line"><span class="lineno">  676</span>        <span class="keyword">with</span> StataReader(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata7_117.dta&quot;</span>)) <span class="keyword">as</span> rdr:</div>
<div class="line"><span class="lineno">  677</span>            sr_117 = rdr.variable_labels()</div>
<div class="line"><span class="lineno">  678</span>        keys = (<span class="stringliteral">&quot;var1&quot;</span>, <span class="stringliteral">&quot;var2&quot;</span>, <span class="stringliteral">&quot;var3&quot;</span>)</div>
<div class="line"><span class="lineno">  679</span>        labels = (<span class="stringliteral">&quot;label1&quot;</span>, <span class="stringliteral">&quot;label2&quot;</span>, <span class="stringliteral">&quot;label3&quot;</span>)</div>
<div class="line"><span class="lineno">  680</span>        <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> sr_115.items():</div>
<div class="line"><span class="lineno">  681</span>            <span class="keyword">assert</span> k <span class="keywordflow">in</span> sr_117</div>
<div class="line"><span class="lineno">  682</span>            <span class="keyword">assert</span> v == sr_117[k]</div>
<div class="line"><span class="lineno">  683</span>            <span class="keyword">assert</span> k <span class="keywordflow">in</span> keys</div>
<div class="line"><span class="lineno">  684</span>            <span class="keyword">assert</span> v <span class="keywordflow">in</span> labels</div>
<div class="line"><span class="lineno">  685</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a9a7d3631ddb80a04da7e05266c3342" name="a5a9a7d3631ddb80a04da7e05266c3342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a9a7d3631ddb80a04da7e05266c3342">&#9670;&#160;</a></span>test_write_dta6()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_write_dta6 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  292</span>    <span class="keyword">def </span>test_write_dta6(self, datapath):</div>
<div class="line"><span class="lineno">  293</span>        original = self.read_csv(datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;stata&quot;</span>, <span class="stringliteral">&quot;stata3.csv&quot;</span>))</div>
<div class="line"><span class="lineno">  294</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  295</span>        original.index = original.index.astype(np.int32)</div>
<div class="line"><span class="lineno">  296</span>        original[<span class="stringliteral">&quot;year&quot;</span>] = original[<span class="stringliteral">&quot;year&quot;</span>].astype(np.int32)</div>
<div class="line"><span class="lineno">  297</span>        original[<span class="stringliteral">&quot;quarter&quot;</span>] = original[<span class="stringliteral">&quot;quarter&quot;</span>].astype(np.int32)</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  300</span>            original.to_stata(path, convert_dates=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  301</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  302</span>            tm.assert_frame_equal(</div>
<div class="line"><span class="lineno">  303</span>                written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>),</div>
<div class="line"><span class="lineno">  304</span>                original,</div>
<div class="line"><span class="lineno">  305</span>                check_index_type=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  306</span>            )</div>
<div class="line"><span class="lineno">  307</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a19dfda295ffe27a63ff0d5b566d4e6f5" name="a19dfda295ffe27a63ff0d5b566d4e6f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19dfda295ffe27a63ff0d5b566d4e6f5">&#9670;&#160;</a></span>test_write_missing_strings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_write_missing_strings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  630</span>    <span class="keyword">def </span>test_write_missing_strings(self):</div>
<div class="line"><span class="lineno">  631</span>        original = DataFrame([[<span class="stringliteral">&quot;1&quot;</span>], [<span class="keywordtype">None</span>]], columns=[<span class="stringliteral">&quot;foo&quot;</span>])</div>
<div class="line"><span class="lineno">  632</span>        expected = DataFrame([[<span class="stringliteral">&quot;1&quot;</span>], [<span class="stringliteral">&quot;&quot;</span>]], columns=[<span class="stringliteral">&quot;foo&quot;</span>])</div>
<div class="line"><span class="lineno">  633</span>        expected.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno">  634</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  635</span>            original.to_stata(path)</div>
<div class="line"><span class="lineno">  636</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno">  637</span>            tm.assert_frame_equal(written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>), expected)</div>
<div class="line"><span class="lineno">  638</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a859b42898ee38dc79ef9e81caf1dc82b" name="a859b42898ee38dc79ef9e81caf1dc82b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859b42898ee38dc79ef9e81caf1dc82b">&#9670;&#160;</a></span>test_write_preserves_original()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_write_preserves_original </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  334</span>    <span class="keyword">def </span>test_write_preserves_original(self):</div>
<div class="line"><span class="lineno">  335</span>        <span class="comment"># 9795</span></div>
<div class="line"><span class="lineno">  336</span>        np.random.seed(423)</div>
<div class="line"><span class="lineno">  337</span>        df = DataFrame(np.random.randn(5, 4), columns=list(<span class="stringliteral">&quot;abcd&quot;</span>))</div>
<div class="line"><span class="lineno">  338</span>        df.loc[2, <span class="stringliteral">&quot;a&quot;</span>:<span class="stringliteral">&quot;c&quot;</span>] = np.nan</div>
<div class="line"><span class="lineno">  339</span>        df_copy = df.copy()</div>
<div class="line"><span class="lineno">  340</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  341</span>            df.to_stata(path, write_index=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  342</span>        tm.assert_frame_equal(df, df_copy)</div>
<div class="line"><span class="lineno">  343</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a03d36adca2054e3937c7e4f7eb4512e9" name="a03d36adca2054e3937c7e4f7eb4512e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03d36adca2054e3937c7e4f7eb4512e9">&#9670;&#160;</a></span>test_write_variable_label_errors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_write_variable_label_errors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mixed_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1296</span>    <span class="keyword">def </span>test_write_variable_label_errors(self, mixed_frame):</div>
<div class="line"><span class="lineno"> 1297</span>        values = [<span class="stringliteral">&quot;\u03A1&quot;</span>, <span class="stringliteral">&quot;\u0391&quot;</span>, <span class="stringliteral">&quot;\u039D&quot;</span>, <span class="stringliteral">&quot;\u0394&quot;</span>, <span class="stringliteral">&quot;\u0391&quot;</span>, <span class="stringliteral">&quot;\u03A3&quot;</span>]</div>
<div class="line"><span class="lineno"> 1298</span> </div>
<div class="line"><span class="lineno"> 1299</span>        variable_labels_utf8 = {</div>
<div class="line"><span class="lineno"> 1300</span>            <span class="stringliteral">&quot;a&quot;</span>: <span class="stringliteral">&quot;City Rank&quot;</span>,</div>
<div class="line"><span class="lineno"> 1301</span>            <span class="stringliteral">&quot;b&quot;</span>: <span class="stringliteral">&quot;City Exponent&quot;</span>,</div>
<div class="line"><span class="lineno"> 1302</span>            <span class="stringliteral">&quot;c&quot;</span>: <span class="stringliteral">&quot;&quot;</span>.join(values),</div>
<div class="line"><span class="lineno"> 1303</span>        }</div>
<div class="line"><span class="lineno"> 1304</span> </div>
<div class="line"><span class="lineno"> 1305</span>        msg = (</div>
<div class="line"><span class="lineno"> 1306</span>            <span class="stringliteral">&quot;Variable labels must contain only characters that can be &quot;</span></div>
<div class="line"><span class="lineno"> 1307</span>            <span class="stringliteral">&quot;encoded in Latin-1&quot;</span></div>
<div class="line"><span class="lineno"> 1308</span>        )</div>
<div class="line"><span class="lineno"> 1309</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1310</span>            <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1311</span>                mixed_frame.to_stata(path, variable_labels=variable_labels_utf8)</div>
<div class="line"><span class="lineno"> 1312</span> </div>
<div class="line"><span class="lineno"> 1313</span>        variable_labels_long = {</div>
<div class="line"><span class="lineno"> 1314</span>            <span class="stringliteral">&quot;a&quot;</span>: <span class="stringliteral">&quot;City Rank&quot;</span>,</div>
<div class="line"><span class="lineno"> 1315</span>            <span class="stringliteral">&quot;b&quot;</span>: <span class="stringliteral">&quot;City Exponent&quot;</span>,</div>
<div class="line"><span class="lineno"> 1316</span>            <span class="stringliteral">&quot;c&quot;</span>: <span class="stringliteral">&quot;A very, very, very long variable label &quot;</span></div>
<div class="line"><span class="lineno"> 1317</span>            <span class="stringliteral">&quot;that is too long for Stata which means &quot;</span></div>
<div class="line"><span class="lineno"> 1318</span>            <span class="stringliteral">&quot;that it has more than 80 characters&quot;</span>,</div>
<div class="line"><span class="lineno"> 1319</span>        }</div>
<div class="line"><span class="lineno"> 1320</span> </div>
<div class="line"><span class="lineno"> 1321</span>        msg = <span class="stringliteral">&quot;Variable labels must be 80 characters or fewer&quot;</span></div>
<div class="line"><span class="lineno"> 1322</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1323</span>            <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1324</span>                mixed_frame.to_stata(path, variable_labels=variable_labels_long)</div>
<div class="line"><span class="lineno"> 1325</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aacba787b26977e4f3d821c64fb90ba56" name="aacba787b26977e4f3d821c64fb90ba56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacba787b26977e4f3d821c64fb90ba56">&#9670;&#160;</a></span>test_write_variable_labels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_write_variable_labels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>version</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mixed_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1249</span>    <span class="keyword">def </span>test_write_variable_labels(self, version, mixed_frame):</div>
<div class="line"><span class="lineno"> 1250</span>        <span class="comment"># GH 13631, add support for writing variable labels</span></div>
<div class="line"><span class="lineno"> 1251</span>        mixed_frame.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1252</span>        variable_labels = {<span class="stringliteral">&quot;a&quot;</span>: <span class="stringliteral">&quot;City Rank&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>: <span class="stringliteral">&quot;City Exponent&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>: <span class="stringliteral">&quot;City&quot;</span>}</div>
<div class="line"><span class="lineno"> 1253</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1254</span>            mixed_frame.to_stata(path, variable_labels=variable_labels, version=version)</div>
<div class="line"><span class="lineno"> 1255</span>            <span class="keyword">with</span> StataReader(path) <span class="keyword">as</span> sr:</div>
<div class="line"><span class="lineno"> 1256</span>                read_labels = sr.variable_labels()</div>
<div class="line"><span class="lineno"> 1257</span>            expected_labels = {</div>
<div class="line"><span class="lineno"> 1258</span>                <span class="stringliteral">&quot;index&quot;</span>: <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 1259</span>                <span class="stringliteral">&quot;a&quot;</span>: <span class="stringliteral">&quot;City Rank&quot;</span>,</div>
<div class="line"><span class="lineno"> 1260</span>                <span class="stringliteral">&quot;b&quot;</span>: <span class="stringliteral">&quot;City Exponent&quot;</span>,</div>
<div class="line"><span class="lineno"> 1261</span>                <span class="stringliteral">&quot;c&quot;</span>: <span class="stringliteral">&quot;City&quot;</span>,</div>
<div class="line"><span class="lineno"> 1262</span>            }</div>
<div class="line"><span class="lineno"> 1263</span>            <span class="keyword">assert</span> read_labels == expected_labels</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>        variable_labels[<span class="stringliteral">&quot;index&quot;</span>] = <span class="stringliteral">&quot;The Index&quot;</span></div>
<div class="line"><span class="lineno"> 1266</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1267</span>            mixed_frame.to_stata(path, variable_labels=variable_labels, version=version)</div>
<div class="line"><span class="lineno"> 1268</span>            <span class="keyword">with</span> StataReader(path) <span class="keyword">as</span> sr:</div>
<div class="line"><span class="lineno"> 1269</span>                read_labels = sr.variable_labels()</div>
<div class="line"><span class="lineno"> 1270</span>            <span class="keyword">assert</span> read_labels == variable_labels</div>
<div class="line"><span class="lineno"> 1271</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac15103757ec6f1bdfeab4653b7bc20c7" name="ac15103757ec6f1bdfeab4653b7bc20c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac15103757ec6f1bdfeab4653b7bc20c7">&#9670;&#160;</a></span>test_writer_117()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_writer_117 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1537</span>    <span class="keyword">def </span>test_writer_117(self):</div>
<div class="line"><span class="lineno"> 1538</span>        original = DataFrame(</div>
<div class="line"><span class="lineno"> 1539</span>            data=[</div>
<div class="line"><span class="lineno"> 1540</span>                [</div>
<div class="line"><span class="lineno"> 1541</span>                    <span class="stringliteral">&quot;string&quot;</span>,</div>
<div class="line"><span class="lineno"> 1542</span>                    <span class="stringliteral">&quot;object&quot;</span>,</div>
<div class="line"><span class="lineno"> 1543</span>                    1,</div>
<div class="line"><span class="lineno"> 1544</span>                    1,</div>
<div class="line"><span class="lineno"> 1545</span>                    1,</div>
<div class="line"><span class="lineno"> 1546</span>                    1.1,</div>
<div class="line"><span class="lineno"> 1547</span>                    1.1,</div>
<div class="line"><span class="lineno"> 1548</span>                    np.datetime64(<span class="stringliteral">&quot;2003-12-25&quot;</span>),</div>
<div class="line"><span class="lineno"> 1549</span>                    <span class="stringliteral">&quot;a&quot;</span>,</div>
<div class="line"><span class="lineno"> 1550</span>                    <span class="stringliteral">&quot;a&quot;</span> * 2045,</div>
<div class="line"><span class="lineno"> 1551</span>                    <span class="stringliteral">&quot;a&quot;</span> * 5000,</div>
<div class="line"><span class="lineno"> 1552</span>                    <span class="stringliteral">&quot;a&quot;</span>,</div>
<div class="line"><span class="lineno"> 1553</span>                ],</div>
<div class="line"><span class="lineno"> 1554</span>                [</div>
<div class="line"><span class="lineno"> 1555</span>                    <span class="stringliteral">&quot;string-1&quot;</span>,</div>
<div class="line"><span class="lineno"> 1556</span>                    <span class="stringliteral">&quot;object-1&quot;</span>,</div>
<div class="line"><span class="lineno"> 1557</span>                    1,</div>
<div class="line"><span class="lineno"> 1558</span>                    1,</div>
<div class="line"><span class="lineno"> 1559</span>                    1,</div>
<div class="line"><span class="lineno"> 1560</span>                    1.1,</div>
<div class="line"><span class="lineno"> 1561</span>                    1.1,</div>
<div class="line"><span class="lineno"> 1562</span>                    np.datetime64(<span class="stringliteral">&quot;2003-12-26&quot;</span>),</div>
<div class="line"><span class="lineno"> 1563</span>                    <span class="stringliteral">&quot;b&quot;</span>,</div>
<div class="line"><span class="lineno"> 1564</span>                    <span class="stringliteral">&quot;b&quot;</span> * 2045,</div>
<div class="line"><span class="lineno"> 1565</span>                    <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 1566</span>                    <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno"> 1567</span>                ],</div>
<div class="line"><span class="lineno"> 1568</span>            ],</div>
<div class="line"><span class="lineno"> 1569</span>            columns=[</div>
<div class="line"><span class="lineno"> 1570</span>                <span class="stringliteral">&quot;string&quot;</span>,</div>
<div class="line"><span class="lineno"> 1571</span>                <span class="stringliteral">&quot;object&quot;</span>,</div>
<div class="line"><span class="lineno"> 1572</span>                <span class="stringliteral">&quot;int8&quot;</span>,</div>
<div class="line"><span class="lineno"> 1573</span>                <span class="stringliteral">&quot;int16&quot;</span>,</div>
<div class="line"><span class="lineno"> 1574</span>                <span class="stringliteral">&quot;int32&quot;</span>,</div>
<div class="line"><span class="lineno"> 1575</span>                <span class="stringliteral">&quot;float32&quot;</span>,</div>
<div class="line"><span class="lineno"> 1576</span>                <span class="stringliteral">&quot;float64&quot;</span>,</div>
<div class="line"><span class="lineno"> 1577</span>                <span class="stringliteral">&quot;datetime&quot;</span>,</div>
<div class="line"><span class="lineno"> 1578</span>                <span class="stringliteral">&quot;s1&quot;</span>,</div>
<div class="line"><span class="lineno"> 1579</span>                <span class="stringliteral">&quot;s2045&quot;</span>,</div>
<div class="line"><span class="lineno"> 1580</span>                <span class="stringliteral">&quot;srtl&quot;</span>,</div>
<div class="line"><span class="lineno"> 1581</span>                <span class="stringliteral">&quot;forced_strl&quot;</span>,</div>
<div class="line"><span class="lineno"> 1582</span>            ],</div>
<div class="line"><span class="lineno"> 1583</span>        )</div>
<div class="line"><span class="lineno"> 1584</span>        original[<span class="stringliteral">&quot;object&quot;</span>] = Series(original[<span class="stringliteral">&quot;object&quot;</span>], dtype=object)</div>
<div class="line"><span class="lineno"> 1585</span>        original[<span class="stringliteral">&quot;int8&quot;</span>] = Series(original[<span class="stringliteral">&quot;int8&quot;</span>], dtype=np.int8)</div>
<div class="line"><span class="lineno"> 1586</span>        original[<span class="stringliteral">&quot;int16&quot;</span>] = Series(original[<span class="stringliteral">&quot;int16&quot;</span>], dtype=np.int16)</div>
<div class="line"><span class="lineno"> 1587</span>        original[<span class="stringliteral">&quot;int32&quot;</span>] = original[<span class="stringliteral">&quot;int32&quot;</span>].astype(np.int32)</div>
<div class="line"><span class="lineno"> 1588</span>        original[<span class="stringliteral">&quot;float32&quot;</span>] = Series(original[<span class="stringliteral">&quot;float32&quot;</span>], dtype=np.float32)</div>
<div class="line"><span class="lineno"> 1589</span>        original.index.name = <span class="stringliteral">&quot;index&quot;</span></div>
<div class="line"><span class="lineno"> 1590</span>        original.index = original.index.astype(np.int32)</div>
<div class="line"><span class="lineno"> 1591</span>        copy = original.copy()</div>
<div class="line"><span class="lineno"> 1592</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1593</span>            original.to_stata(</div>
<div class="line"><span class="lineno"> 1594</span>                path,</div>
<div class="line"><span class="lineno"> 1595</span>                convert_dates={<span class="stringliteral">&quot;datetime&quot;</span>: <span class="stringliteral">&quot;tc&quot;</span>},</div>
<div class="line"><span class="lineno"> 1596</span>                convert_strl=[<span class="stringliteral">&quot;forced_strl&quot;</span>],</div>
<div class="line"><span class="lineno"> 1597</span>                version=117,</div>
<div class="line"><span class="lineno"> 1598</span>            )</div>
<div class="line"><span class="lineno"> 1599</span>            written_and_read_again = self.read_dta(path)</div>
<div class="line"><span class="lineno"> 1600</span>            <span class="comment"># original.index is np.int32, read index is np.int64</span></div>
<div class="line"><span class="lineno"> 1601</span>            tm.assert_frame_equal(</div>
<div class="line"><span class="lineno"> 1602</span>                written_and_read_again.set_index(<span class="stringliteral">&quot;index&quot;</span>),</div>
<div class="line"><span class="lineno"> 1603</span>                original,</div>
<div class="line"><span class="lineno"> 1604</span>                check_index_type=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1605</span>            )</div>
<div class="line"><span class="lineno"> 1606</span>            tm.assert_frame_equal(original, copy)</div>
<div class="line"><span class="lineno"> 1607</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1cb84b65ba00aecb4a6969723274b04d" name="a1cb84b65ba00aecb4a6969723274b04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cb84b65ba00aecb4a6969723274b04d">&#9670;&#160;</a></span>test_writer_118_exceptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_stata.TestStata.test_writer_118_exceptions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1831</span>    <span class="keyword">def </span>test_writer_118_exceptions(self):</div>
<div class="line"><span class="lineno"> 1832</span>        df = DataFrame(np.zeros((1, 33000), dtype=np.int8))</div>
<div class="line"><span class="lineno"> 1833</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1834</span>            <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;version must be either 118 or 119.&quot;</span>):</div>
<div class="line"><span class="lineno"> 1835</span>                StataWriterUTF8(path, df, version=117)</div>
<div class="line"><span class="lineno"> 1836</span>        <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno"> 1837</span>            <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;You must use version 119&quot;</span>):</div>
<div class="line"><span class="lineno"> 1838</span>                StataWriterUTF8(path, df, version=118)</div>
<div class="line"><span class="lineno"> 1839</span> </div>
<div class="line"><span class="lineno"> 1840</span> </div>
<div class="line"><span class="lineno"> 1841</span><span class="preprocessor">@pytest.mark.parametrize(&quot;version&quot;, [105, 108, 111, 113, 114])</span></div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/pandas/tests/io/<a class="el" href="test__stata_8py.html">test_stata.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
