<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: numpy.core.tests.test_array_coercion.TestAsArray Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenumpy.html">numpy</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1core_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__array__coercion.html">test_array_coercion</a></li><li class="navelem"><a class="el" href="classnumpy_1_1core_1_1tests_1_1test__array__coercion_1_1_test_as_array.html">TestAsArray</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classnumpy_1_1core_1_1tests_1_1test__array__coercion_1_1_test_as_array-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">numpy.core.tests.test_array_coercion.TestAsArray Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a01d29d6c39d116f420e1849b9d2089f9" id="r_a01d29d6c39d116f420e1849b9d2089f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1core_1_1tests_1_1test__array__coercion_1_1_test_as_array.html#a01d29d6c39d116f420e1849b9d2089f9">test_dtype_identity</a> (self)</td></tr>
<tr class="separator:a01d29d6c39d116f420e1849b9d2089f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Test expected behaviors of ``asarray``.</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a01d29d6c39d116f420e1849b9d2089f9" name="a01d29d6c39d116f420e1849b9d2089f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d29d6c39d116f420e1849b9d2089f9">&#9670;&#160;</a></span>test_dtype_identity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_array_coercion.TestAsArray.test_dtype_identity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Confirm the intended behavior for *dtype* kwarg.

The result of ``asarray()`` should have the dtype provided through the
keyword argument, when used. This forces unique array handles to be
produced for unique np.dtype objects, but (for equivalent dtypes), the
underlying data (the base object) is shared with the original array
object.

Ref https://github.com/numpy/numpy/issues/1468
</pre> <div class="fragment"><div class="line"><span class="lineno">  755</span>    <span class="keyword">def </span>test_dtype_identity(self):</div>
<div class="line"><span class="lineno">  756</span>        <span class="stringliteral">&quot;&quot;&quot;Confirm the intended behavior for *dtype* kwarg.</span></div>
<div class="line"><span class="lineno">  757</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  758</span><span class="stringliteral">        The result of ``asarray()`` should have the dtype provided through the</span></div>
<div class="line"><span class="lineno">  759</span><span class="stringliteral">        keyword argument, when used. This forces unique array handles to be</span></div>
<div class="line"><span class="lineno">  760</span><span class="stringliteral">        produced for unique np.dtype objects, but (for equivalent dtypes), the</span></div>
<div class="line"><span class="lineno">  761</span><span class="stringliteral">        underlying data (the base object) is shared with the original array</span></div>
<div class="line"><span class="lineno">  762</span><span class="stringliteral">        object.</span></div>
<div class="line"><span class="lineno">  763</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  764</span><span class="stringliteral">        Ref https://github.com/numpy/numpy/issues/1468</span></div>
<div class="line"><span class="lineno">  765</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  766</span>        int_array = np.array([1, 2, 3], dtype=<span class="stringliteral">&#39;i&#39;</span>)</div>
<div class="line"><span class="lineno">  767</span>        <span class="keyword">assert</span> np.asarray(int_array) <span class="keywordflow">is</span> int_array</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>        <span class="comment"># The character code resolves to the singleton dtype object provided</span></div>
<div class="line"><span class="lineno">  770</span>        <span class="comment"># by the numpy package.</span></div>
<div class="line"><span class="lineno">  771</span>        <span class="keyword">assert</span> np.asarray(int_array, dtype=<span class="stringliteral">&#39;i&#39;</span>) <span class="keywordflow">is</span> int_array</div>
<div class="line"><span class="lineno">  772</span> </div>
<div class="line"><span class="lineno">  773</span>        <span class="comment"># Derive a dtype from n.dtype(&#39;i&#39;), but add a metadata object to force</span></div>
<div class="line"><span class="lineno">  774</span>        <span class="comment"># the dtype to be distinct.</span></div>
<div class="line"><span class="lineno">  775</span>        unequal_type = np.dtype(<span class="stringliteral">&#39;i&#39;</span>, metadata={<span class="stringliteral">&#39;spam&#39;</span>: <span class="keyword">True</span>})</div>
<div class="line"><span class="lineno">  776</span>        annotated_int_array = np.asarray(int_array, dtype=unequal_type)</div>
<div class="line"><span class="lineno">  777</span>        <span class="keyword">assert</span> annotated_int_array <span class="keywordflow">is</span> <span class="keywordflow">not</span> int_array</div>
<div class="line"><span class="lineno">  778</span>        <span class="keyword">assert</span> annotated_int_array.base <span class="keywordflow">is</span> int_array</div>
<div class="line"><span class="lineno">  779</span>        <span class="comment"># Create an equivalent descriptor with a new and distinct dtype</span></div>
<div class="line"><span class="lineno">  780</span>        <span class="comment"># instance.</span></div>
<div class="line"><span class="lineno">  781</span>        equivalent_requirement = np.dtype(<span class="stringliteral">&#39;i&#39;</span>, metadata={<span class="stringliteral">&#39;spam&#39;</span>: <span class="keyword">True</span>})</div>
<div class="line"><span class="lineno">  782</span>        annotated_int_array_alt = np.asarray(annotated_int_array,</div>
<div class="line"><span class="lineno">  783</span>                                             dtype=equivalent_requirement)</div>
<div class="line"><span class="lineno">  784</span>        <span class="keyword">assert</span> unequal_type == equivalent_requirement</div>
<div class="line"><span class="lineno">  785</span>        <span class="keyword">assert</span> unequal_type <span class="keywordflow">is</span> <span class="keywordflow">not</span> equivalent_requirement</div>
<div class="line"><span class="lineno">  786</span>        <span class="keyword">assert</span> annotated_int_array_alt <span class="keywordflow">is</span> <span class="keywordflow">not</span> annotated_int_array</div>
<div class="line"><span class="lineno">  787</span>        <span class="keyword">assert</span> annotated_int_array_alt.dtype <span class="keywordflow">is</span> equivalent_requirement</div>
<div class="line"><span class="lineno">  788</span> </div>
<div class="line"><span class="lineno">  789</span>        <span class="comment"># Check the same logic for a pair of C types whose equivalence may vary</span></div>
<div class="line"><span class="lineno">  790</span>        <span class="comment"># between computing environments.</span></div>
<div class="line"><span class="lineno">  791</span>        <span class="comment"># Find an equivalent pair.</span></div>
<div class="line"><span class="lineno">  792</span>        integer_type_codes = (<span class="stringliteral">&#39;i&#39;</span>, <span class="stringliteral">&#39;l&#39;</span>, <span class="stringliteral">&#39;q&#39;</span>)</div>
<div class="line"><span class="lineno">  793</span>        integer_dtypes = [np.dtype(code) <span class="keywordflow">for</span> code <span class="keywordflow">in</span> integer_type_codes]</div>
<div class="line"><span class="lineno">  794</span>        typeA = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  795</span>        typeB = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  796</span>        <span class="keywordflow">for</span> typeA, typeB <span class="keywordflow">in</span> permutations(integer_dtypes, r=2):</div>
<div class="line"><span class="lineno">  797</span>            <span class="keywordflow">if</span> typeA == typeB:</div>
<div class="line"><span class="lineno">  798</span>                <span class="keyword">assert</span> typeA <span class="keywordflow">is</span> <span class="keywordflow">not</span> typeB</div>
<div class="line"><span class="lineno">  799</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  800</span>        <span class="keyword">assert</span> isinstance(typeA, np.dtype) <span class="keywordflow">and</span> isinstance(typeB, np.dtype)</div>
<div class="line"><span class="lineno">  801</span> </div>
<div class="line"><span class="lineno">  802</span>        <span class="comment"># These ``asarray()`` calls may produce a new view or a copy,</span></div>
<div class="line"><span class="lineno">  803</span>        <span class="comment"># but never the same object.</span></div>
<div class="line"><span class="lineno">  804</span>        long_int_array = np.asarray(int_array, dtype=<span class="stringliteral">&#39;l&#39;</span>)</div>
<div class="line"><span class="lineno">  805</span>        long_long_int_array = np.asarray(int_array, dtype=<span class="stringliteral">&#39;q&#39;</span>)</div>
<div class="line"><span class="lineno">  806</span>        <span class="keyword">assert</span> long_int_array <span class="keywordflow">is</span> <span class="keywordflow">not</span> int_array</div>
<div class="line"><span class="lineno">  807</span>        <span class="keyword">assert</span> long_long_int_array <span class="keywordflow">is</span> <span class="keywordflow">not</span> int_array</div>
<div class="line"><span class="lineno">  808</span>        <span class="keyword">assert</span> np.asarray(long_int_array, dtype=<span class="stringliteral">&#39;q&#39;</span>) <span class="keywordflow">is</span> <span class="keywordflow">not</span> long_int_array</div>
<div class="line"><span class="lineno">  809</span>        array_a = np.asarray(int_array, dtype=typeA)</div>
<div class="line"><span class="lineno">  810</span>        <span class="keyword">assert</span> typeA == typeB</div>
<div class="line"><span class="lineno">  811</span>        <span class="keyword">assert</span> typeA <span class="keywordflow">is</span> <span class="keywordflow">not</span> typeB</div>
<div class="line"><span class="lineno">  812</span>        <span class="keyword">assert</span> array_a.dtype <span class="keywordflow">is</span> typeA</div>
<div class="line"><span class="lineno">  813</span>        <span class="keyword">assert</span> array_a <span class="keywordflow">is</span> <span class="keywordflow">not</span> np.asarray(array_a, dtype=typeB)</div>
<div class="line"><span class="lineno">  814</span>        <span class="keyword">assert</span> np.asarray(array_a, dtype=typeB).dtype <span class="keywordflow">is</span> typeB</div>
<div class="line"><span class="lineno">  815</span>        <span class="keyword">assert</span> array_a <span class="keywordflow">is</span> np.asarray(array_a, dtype=typeB).base</div>
<div class="line"><span class="lineno">  816</span> </div>
<div class="line"><span class="lineno">  817</span> </div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/numpy/core/tests/<a class="el" href="test__array__coercion_8py.html">test_array_coercion.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
