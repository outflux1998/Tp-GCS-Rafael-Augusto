<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: jinja2.lexer.Lexer Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejinja2.html">jinja2</a></li><li class="navelem"><a class="el" href="namespacejinja2_1_1lexer.html">lexer</a></li><li class="navelem"><a class="el" href="classjinja2_1_1lexer_1_1_lexer.html">Lexer</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classjinja2_1_1lexer_1_1_lexer-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">jinja2.lexer.Lexer Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9cc5255588deca9b6b3b42cd6b6fcd8b" id="r_a9cc5255588deca9b6b3b42cd6b6fcd8b"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjinja2_1_1lexer_1_1_lexer.html#a9cc5255588deca9b6b3b42cd6b6fcd8b">__init__</a> (self, &quot;Environment&quot; environment)</td></tr>
<tr class="separator:a9cc5255588deca9b6b3b42cd6b6fcd8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8fb9829073c27c06ed4e791c5e5d2fd" id="r_ac8fb9829073c27c06ed4e791c5e5d2fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classjinja2_1_1lexer_1_1_token_stream.html">TokenStream</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjinja2_1_1lexer_1_1_lexer.html#ac8fb9829073c27c06ed4e791c5e5d2fd">tokenize</a> (self, str source, t.Optional[str] name=None, t.Optional[str] filename=None, t.Optional[str] state=None)</td></tr>
<tr class="separator:ac8fb9829073c27c06ed4e791c5e5d2fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b9f848c5b74ebc7eea810277ca8a005" id="r_a2b9f848c5b74ebc7eea810277ca8a005"><td class="memItemLeft" align="right" valign="top">t.Iterator[<a class="el" href="classjinja2_1_1lexer_1_1_token.html">Token</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjinja2_1_1lexer_1_1_lexer.html#a2b9f848c5b74ebc7eea810277ca8a005">wrap</a> (self, t.Iterable[t.Tuple[int, str, str]] stream, t.Optional[str] name=None, t.Optional[str] filename=None)</td></tr>
<tr class="separator:a2b9f848c5b74ebc7eea810277ca8a005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4ce1679f9b95c265e00a0b1f183696b" id="r_ac4ce1679f9b95c265e00a0b1f183696b"><td class="memItemLeft" align="right" valign="top">t.Iterator[t.Tuple[int, str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjinja2_1_1lexer_1_1_lexer.html#ac4ce1679f9b95c265e00a0b1f183696b">tokeniter</a> (self, str source, t.Optional[str] name, t.Optional[str] filename=None, t.Optional[str] state=None)</td></tr>
<tr class="separator:ac4ce1679f9b95c265e00a0b1f183696b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a6e7a71e933a1daead5f140a40bd4584a" id="r_a6e7a71e933a1daead5f140a40bd4584a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjinja2_1_1lexer_1_1_lexer.html#a6e7a71e933a1daead5f140a40bd4584a">lstrip_blocks</a></td></tr>
<tr class="separator:a6e7a71e933a1daead5f140a40bd4584a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d949a2c2f4d13fe5a7a6cdfa9ca82a8" id="r_a7d949a2c2f4d13fe5a7a6cdfa9ca82a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjinja2_1_1lexer_1_1_lexer.html#a7d949a2c2f4d13fe5a7a6cdfa9ca82a8">newline_sequence</a></td></tr>
<tr class="separator:a7d949a2c2f4d13fe5a7a6cdfa9ca82a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b7007a2e55580df30349d9d61ec517" id="r_a22b7007a2e55580df30349d9d61ec517"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjinja2_1_1lexer_1_1_lexer.html#a22b7007a2e55580df30349d9d61ec517">keep_trailing_newline</a></td></tr>
<tr class="separator:a22b7007a2e55580df30349d9d61ec517"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a2c23ea0635610ab4f6979fd37e79d0ac" id="r_a2c23ea0635610ab4f6979fd37e79d0ac"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjinja2_1_1lexer_1_1_lexer.html#a2c23ea0635610ab4f6979fd37e79d0ac">_normalize_newlines</a> (self, str value)</td></tr>
<tr class="separator:a2c23ea0635610ab4f6979fd37e79d0ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Class that implements a lexer for a given environment. Automatically
created by the environment class, usually you don't have to do that.

Note that the lexer is not automatically bound to an environment.
Multiple environments can share the same lexer.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9cc5255588deca9b6b3b42cd6b6fcd8b" name="a9cc5255588deca9b6b3b42cd6b6fcd8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cc5255588deca9b6b3b42cd6b6fcd8b">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None jinja2.lexer.Lexer.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Environment&quot;&#160;</td>
          <td class="paramname"><em>environment</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  477</span>    <span class="keyword">def </span>__init__(self, environment: <span class="stringliteral">&quot;Environment&quot;</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  478</span>        <span class="comment"># shortcuts</span></div>
<div class="line"><span class="lineno">  479</span>        e = re.escape</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>        <span class="keyword">def </span>c(x: str) -&gt; t.Pattern[str]:</div>
<div class="line"><span class="lineno">  482</span>            <span class="keywordflow">return</span> re.compile(x, re.M | re.S)</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>        <span class="comment"># lexing rules for tags</span></div>
<div class="line"><span class="lineno">  485</span>        tag_rules: t.List[_Rule] = [</div>
<div class="line"><span class="lineno">  486</span>            _Rule(whitespace_re, TOKEN_WHITESPACE, <span class="keywordtype">None</span>),</div>
<div class="line"><span class="lineno">  487</span>            _Rule(float_re, TOKEN_FLOAT, <span class="keywordtype">None</span>),</div>
<div class="line"><span class="lineno">  488</span>            _Rule(integer_re, TOKEN_INTEGER, <span class="keywordtype">None</span>),</div>
<div class="line"><span class="lineno">  489</span>            _Rule(name_re, TOKEN_NAME, <span class="keywordtype">None</span>),</div>
<div class="line"><span class="lineno">  490</span>            _Rule(string_re, TOKEN_STRING, <span class="keywordtype">None</span>),</div>
<div class="line"><span class="lineno">  491</span>            _Rule(operator_re, TOKEN_OPERATOR, <span class="keywordtype">None</span>),</div>
<div class="line"><span class="lineno">  492</span>        ]</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>        <span class="comment"># assemble the root lexing rule. because &quot;|&quot; is ungreedy</span></div>
<div class="line"><span class="lineno">  495</span>        <span class="comment"># we have to sort by length so that the lexer continues working</span></div>
<div class="line"><span class="lineno">  496</span>        <span class="comment"># as expected when we have parsing rules like &lt;% for block and</span></div>
<div class="line"><span class="lineno">  497</span>        <span class="comment"># &lt;%= for variables. (if someone wants asp like syntax)</span></div>
<div class="line"><span class="lineno">  498</span>        <span class="comment"># variables are just part of the rules if variable processing</span></div>
<div class="line"><span class="lineno">  499</span>        <span class="comment"># is required.</span></div>
<div class="line"><span class="lineno">  500</span>        root_tag_rules = compile_rules(environment)</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>        block_start_re = e(environment.block_start_string)</div>
<div class="line"><span class="lineno">  503</span>        block_end_re = e(environment.block_end_string)</div>
<div class="line"><span class="lineno">  504</span>        comment_end_re = e(environment.comment_end_string)</div>
<div class="line"><span class="lineno">  505</span>        variable_end_re = e(environment.variable_end_string)</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>        <span class="comment"># block suffix if trimming is enabled</span></div>
<div class="line"><span class="lineno">  508</span>        block_suffix_re = <span class="stringliteral">&quot;\\n?&quot;</span> <span class="keywordflow">if</span> environment.trim_blocks <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>        self.lstrip_blocks = environment.lstrip_blocks</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>        self.newline_sequence = environment.newline_sequence</div>
<div class="line"><span class="lineno">  513</span>        self.keep_trailing_newline = environment.keep_trailing_newline</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span>        root_raw_re = (</div>
<div class="line"><span class="lineno">  516</span>            rf<span class="stringliteral">&quot;(?P&lt;raw_begin&gt;{block_start_re}(\-|\+|)\s*raw\s*&quot;</span></div>
<div class="line"><span class="lineno">  517</span>            rf<span class="stringliteral">&quot;(?:\-{block_end_re}\s*|{block_end_re}))&quot;</span></div>
<div class="line"><span class="lineno">  518</span>        )</div>
<div class="line"><span class="lineno">  519</span>        root_parts_re = <span class="stringliteral">&quot;|&quot;</span>.join(</div>
<div class="line"><span class="lineno">  520</span>            [root_raw_re] + [rf<span class="stringliteral">&quot;(?P&lt;{n}&gt;{r}(\-|\+|))&quot;</span> <span class="keywordflow">for</span> n, r <span class="keywordflow">in</span> root_tag_rules]</div>
<div class="line"><span class="lineno">  521</span>        )</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>        <span class="comment"># global lexing rules</span></div>
<div class="line"><span class="lineno">  524</span>        self.rules: t.Dict[str, t.List[_Rule]] = {</div>
<div class="line"><span class="lineno">  525</span>            <span class="stringliteral">&quot;root&quot;</span>: [</div>
<div class="line"><span class="lineno">  526</span>                <span class="comment"># directives</span></div>
<div class="line"><span class="lineno">  527</span>                _Rule(</div>
<div class="line"><span class="lineno">  528</span>                    c(rf<span class="stringliteral">&quot;(.*?)(?:{root_parts_re})&quot;</span>),</div>
<div class="line"><span class="lineno">  529</span>                    OptionalLStrip(TOKEN_DATA, <span class="stringliteral">&quot;#bygroup&quot;</span>),  <span class="comment"># type: ignore</span></div>
<div class="line"><span class="lineno">  530</span>                    <span class="stringliteral">&quot;#bygroup&quot;</span>,</div>
<div class="line"><span class="lineno">  531</span>                ),</div>
<div class="line"><span class="lineno">  532</span>                <span class="comment"># data</span></div>
<div class="line"><span class="lineno">  533</span>                _Rule(c(<span class="stringliteral">&quot;.+&quot;</span>), TOKEN_DATA, <span class="keywordtype">None</span>),</div>
<div class="line"><span class="lineno">  534</span>            ],</div>
<div class="line"><span class="lineno">  535</span>            <span class="comment"># comments</span></div>
<div class="line"><span class="lineno">  536</span>            TOKEN_COMMENT_BEGIN: [</div>
<div class="line"><span class="lineno">  537</span>                _Rule(</div>
<div class="line"><span class="lineno">  538</span>                    c(</div>
<div class="line"><span class="lineno">  539</span>                        rf<span class="stringliteral">&quot;(.*?)((?:\+{comment_end_re}|\-{comment_end_re}\s*&quot;</span></div>
<div class="line"><span class="lineno">  540</span>                        rf<span class="stringliteral">&quot;|{comment_end_re}{block_suffix_re}))&quot;</span></div>
<div class="line"><span class="lineno">  541</span>                    ),</div>
<div class="line"><span class="lineno">  542</span>                    (TOKEN_COMMENT, TOKEN_COMMENT_END),</div>
<div class="line"><span class="lineno">  543</span>                    <span class="stringliteral">&quot;#pop&quot;</span>,</div>
<div class="line"><span class="lineno">  544</span>                ),</div>
<div class="line"><span class="lineno">  545</span>                _Rule(c(<span class="stringliteral">r&quot;(.)&quot;</span>), (Failure(<span class="stringliteral">&quot;Missing end of comment tag&quot;</span>),), <span class="keywordtype">None</span>),</div>
<div class="line"><span class="lineno">  546</span>            ],</div>
<div class="line"><span class="lineno">  547</span>            <span class="comment"># blocks</span></div>
<div class="line"><span class="lineno">  548</span>            TOKEN_BLOCK_BEGIN: [</div>
<div class="line"><span class="lineno">  549</span>                _Rule(</div>
<div class="line"><span class="lineno">  550</span>                    c(</div>
<div class="line"><span class="lineno">  551</span>                        rf<span class="stringliteral">&quot;(?:\+{block_end_re}|\-{block_end_re}\s*&quot;</span></div>
<div class="line"><span class="lineno">  552</span>                        rf<span class="stringliteral">&quot;|{block_end_re}{block_suffix_re})&quot;</span></div>
<div class="line"><span class="lineno">  553</span>                    ),</div>
<div class="line"><span class="lineno">  554</span>                    TOKEN_BLOCK_END,</div>
<div class="line"><span class="lineno">  555</span>                    <span class="stringliteral">&quot;#pop&quot;</span>,</div>
<div class="line"><span class="lineno">  556</span>                ),</div>
<div class="line"><span class="lineno">  557</span>            ]</div>
<div class="line"><span class="lineno">  558</span>            + tag_rules,</div>
<div class="line"><span class="lineno">  559</span>            <span class="comment"># variables</span></div>
<div class="line"><span class="lineno">  560</span>            TOKEN_VARIABLE_BEGIN: [</div>
<div class="line"><span class="lineno">  561</span>                _Rule(</div>
<div class="line"><span class="lineno">  562</span>                    c(rf<span class="stringliteral">&quot;\-{variable_end_re}\s*|{variable_end_re}&quot;</span>),</div>
<div class="line"><span class="lineno">  563</span>                    TOKEN_VARIABLE_END,</div>
<div class="line"><span class="lineno">  564</span>                    <span class="stringliteral">&quot;#pop&quot;</span>,</div>
<div class="line"><span class="lineno">  565</span>                )</div>
<div class="line"><span class="lineno">  566</span>            ]</div>
<div class="line"><span class="lineno">  567</span>            + tag_rules,</div>
<div class="line"><span class="lineno">  568</span>            <span class="comment"># raw block</span></div>
<div class="line"><span class="lineno">  569</span>            TOKEN_RAW_BEGIN: [</div>
<div class="line"><span class="lineno">  570</span>                _Rule(</div>
<div class="line"><span class="lineno">  571</span>                    c(</div>
<div class="line"><span class="lineno">  572</span>                        rf<span class="stringliteral">&quot;(.*?)((?:{block_start_re}(\-|\+|))\s*endraw\s*&quot;</span></div>
<div class="line"><span class="lineno">  573</span>                        rf<span class="stringliteral">&quot;(?:\+{block_end_re}|\-{block_end_re}\s*&quot;</span></div>
<div class="line"><span class="lineno">  574</span>                        rf<span class="stringliteral">&quot;|{block_end_re}{block_suffix_re}))&quot;</span></div>
<div class="line"><span class="lineno">  575</span>                    ),</div>
<div class="line"><span class="lineno">  576</span>                    OptionalLStrip(TOKEN_DATA, TOKEN_RAW_END),  <span class="comment"># type: ignore</span></div>
<div class="line"><span class="lineno">  577</span>                    <span class="stringliteral">&quot;#pop&quot;</span>,</div>
<div class="line"><span class="lineno">  578</span>                ),</div>
<div class="line"><span class="lineno">  579</span>                _Rule(c(<span class="stringliteral">r&quot;(.)&quot;</span>), (Failure(<span class="stringliteral">&quot;Missing end of raw directive&quot;</span>),), <span class="keywordtype">None</span>),</div>
<div class="line"><span class="lineno">  580</span>            ],</div>
<div class="line"><span class="lineno">  581</span>            <span class="comment"># line statements</span></div>
<div class="line"><span class="lineno">  582</span>            TOKEN_LINESTATEMENT_BEGIN: [</div>
<div class="line"><span class="lineno">  583</span>                _Rule(c(<span class="stringliteral">r&quot;\s*(\n|$)&quot;</span>), TOKEN_LINESTATEMENT_END, <span class="stringliteral">&quot;#pop&quot;</span>)</div>
<div class="line"><span class="lineno">  584</span>            ]</div>
<div class="line"><span class="lineno">  585</span>            + tag_rules,</div>
<div class="line"><span class="lineno">  586</span>            <span class="comment"># line comments</span></div>
<div class="line"><span class="lineno">  587</span>            TOKEN_LINECOMMENT_BEGIN: [</div>
<div class="line"><span class="lineno">  588</span>                _Rule(</div>
<div class="line"><span class="lineno">  589</span>                    c(<span class="stringliteral">r&quot;(.*?)()(?=\n|$)&quot;</span>),</div>
<div class="line"><span class="lineno">  590</span>                    (TOKEN_LINECOMMENT, TOKEN_LINECOMMENT_END),</div>
<div class="line"><span class="lineno">  591</span>                    <span class="stringliteral">&quot;#pop&quot;</span>,</div>
<div class="line"><span class="lineno">  592</span>                )</div>
<div class="line"><span class="lineno">  593</span>            ],</div>
<div class="line"><span class="lineno">  594</span>        }</div>
<div class="line"><span class="lineno">  595</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2c23ea0635610ab4f6979fd37e79d0ac" name="a2c23ea0635610ab4f6979fd37e79d0ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c23ea0635610ab4f6979fd37e79d0ac">&#9670;&#160;</a></span>_normalize_newlines()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> str jinja2.lexer.Lexer._normalize_newlines </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Replace all newlines with the configured sequence in strings
and template data.
</pre> <div class="fragment"><div class="line"><span class="lineno">  596</span>    <span class="keyword">def </span>_normalize_newlines(self, value: str) -&gt; str:</div>
<div class="line"><span class="lineno">  597</span>        <span class="stringliteral">&quot;&quot;&quot;Replace all newlines with the configured sequence in strings</span></div>
<div class="line"><span class="lineno">  598</span><span class="stringliteral">        and template data.</span></div>
<div class="line"><span class="lineno">  599</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  600</span>        <span class="keywordflow">return</span> newline_re.sub(self.newline_sequence, value)</div>
<div class="line"><span class="lineno">  601</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4ce1679f9b95c265e00a0b1f183696b" name="ac4ce1679f9b95c265e00a0b1f183696b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4ce1679f9b95c265e00a0b1f183696b">&#9670;&#160;</a></span>tokeniter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> t.Iterator[t.Tuple[int, str, str]] jinja2.lexer.Lexer.tokeniter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t.Optional[str]&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t.Optional[str] &#160;</td>
          <td class="paramname"><em>filename</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t.Optional[str] &#160;</td>
          <td class="paramname"><em>state</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This method tokenizes the text and returns the tokens in a
generator. Use this method if you just want to tokenize a template.

.. versionchanged:: 3.0
    Only ``\\n``, ``\\r\\n`` and ``\\r`` are treated as line
    breaks.
</pre> <div class="fragment"><div class="line"><span class="lineno">  673</span>    ) -&gt; t.Iterator[t.Tuple[int, str, str]]:</div>
<div class="line"><span class="lineno">  674</span>        <span class="stringliteral">&quot;&quot;&quot;This method tokenizes the text and returns the tokens in a</span></div>
<div class="line"><span class="lineno">  675</span><span class="stringliteral">        generator. Use this method if you just want to tokenize a template.</span></div>
<div class="line"><span class="lineno">  676</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  677</span><span class="stringliteral">        .. versionchanged:: 3.0</span></div>
<div class="line"><span class="lineno">  678</span><span class="stringliteral">            Only ``\\n``, ``\\r\\n`` and ``\\r`` are treated as line</span></div>
<div class="line"><span class="lineno">  679</span><span class="stringliteral">            breaks.</span></div>
<div class="line"><span class="lineno">  680</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  681</span>        lines = newline_re.split(source)[::2]</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.keep_trailing_newline <span class="keywordflow">and</span> lines[-1] == <span class="stringliteral">&quot;&quot;</span>:</div>
<div class="line"><span class="lineno">  684</span>            del lines[-1]</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>        source = <span class="stringliteral">&quot;\n&quot;</span>.join(lines)</div>
<div class="line"><span class="lineno">  687</span>        pos = 0</div>
<div class="line"><span class="lineno">  688</span>        lineno = 1</div>
<div class="line"><span class="lineno">  689</span>        stack = [<span class="stringliteral">&quot;root&quot;</span>]</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>        <span class="keywordflow">if</span> state <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> state != <span class="stringliteral">&quot;root&quot;</span>:</div>
<div class="line"><span class="lineno">  692</span>            <span class="keyword">assert</span> state <span class="keywordflow">in</span> (<span class="stringliteral">&quot;variable&quot;</span>, <span class="stringliteral">&quot;block&quot;</span>), <span class="stringliteral">&quot;invalid state&quot;</span></div>
<div class="line"><span class="lineno">  693</span>            stack.append(state + <span class="stringliteral">&quot;_begin&quot;</span>)</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>        statetokens = self.rules[stack[-1]]</div>
<div class="line"><span class="lineno">  696</span>        source_length = len(source)</div>
<div class="line"><span class="lineno">  697</span>        balancing_stack: t.List[str] = []</div>
<div class="line"><span class="lineno">  698</span>        newlines_stripped = 0</div>
<div class="line"><span class="lineno">  699</span>        line_starting = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  702</span>            <span class="comment"># tokenizer loop</span></div>
<div class="line"><span class="lineno">  703</span>            <span class="keywordflow">for</span> regex, tokens, new_state <span class="keywordflow">in</span> statetokens:</div>
<div class="line"><span class="lineno">  704</span>                m = regex.match(source, pos)</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>                <span class="comment"># if no match we try again with the next rule</span></div>
<div class="line"><span class="lineno">  707</span>                <span class="keywordflow">if</span> m <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  708</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span>                <span class="comment"># we only match blocks and variables if braces / parentheses</span></div>
<div class="line"><span class="lineno">  711</span>                <span class="comment"># are balanced. continue parsing with the lower rule which</span></div>
<div class="line"><span class="lineno">  712</span>                <span class="comment"># is the operator rule. do this only if the end tags look</span></div>
<div class="line"><span class="lineno">  713</span>                <span class="comment"># like operators</span></div>
<div class="line"><span class="lineno">  714</span>                <span class="keywordflow">if</span> balancing_stack <span class="keywordflow">and</span> tokens <span class="keywordflow">in</span> (</div>
<div class="line"><span class="lineno">  715</span>                    TOKEN_VARIABLE_END,</div>
<div class="line"><span class="lineno">  716</span>                    TOKEN_BLOCK_END,</div>
<div class="line"><span class="lineno">  717</span>                    TOKEN_LINESTATEMENT_END,</div>
<div class="line"><span class="lineno">  718</span>                ):</div>
<div class="line"><span class="lineno">  719</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>                <span class="comment"># tuples support more options</span></div>
<div class="line"><span class="lineno">  722</span>                <span class="keywordflow">if</span> isinstance(tokens, tuple):</div>
<div class="line"><span class="lineno">  723</span>                    groups: t.Sequence[str] = m.groups()</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>                    <span class="keywordflow">if</span> isinstance(tokens, OptionalLStrip):</div>
<div class="line"><span class="lineno">  726</span>                        <span class="comment"># Rule supports lstrip. Match will look like</span></div>
<div class="line"><span class="lineno">  727</span>                        <span class="comment"># text, block type, whitespace control, type, control, ...</span></div>
<div class="line"><span class="lineno">  728</span>                        text = groups[0]</div>
<div class="line"><span class="lineno">  729</span>                        <span class="comment"># Skipping the text and first type, every other group is the</span></div>
<div class="line"><span class="lineno">  730</span>                        <span class="comment"># whitespace control for each type. One of the groups will be</span></div>
<div class="line"><span class="lineno">  731</span>                        <span class="comment"># -, +, or empty string instead of None.</span></div>
<div class="line"><span class="lineno">  732</span>                        strip_sign = next(g <span class="keywordflow">for</span> g <span class="keywordflow">in</span> groups[2::2] <span class="keywordflow">if</span> g <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>                        <span class="keywordflow">if</span> strip_sign == <span class="stringliteral">&quot;-&quot;</span>:</div>
<div class="line"><span class="lineno">  735</span>                            <span class="comment"># Strip all whitespace between the text and the tag.</span></div>
<div class="line"><span class="lineno">  736</span>                            stripped = text.rstrip()</div>
<div class="line"><span class="lineno">  737</span>                            newlines_stripped = text[len(stripped) :].count(<span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">  738</span>                            groups = [stripped, *groups[1:]]</div>
<div class="line"><span class="lineno">  739</span>                        <span class="keywordflow">elif</span> (</div>
<div class="line"><span class="lineno">  740</span>                            <span class="comment"># Not marked for preserving whitespace.</span></div>
<div class="line"><span class="lineno">  741</span>                            strip_sign != <span class="stringliteral">&quot;+&quot;</span></div>
<div class="line"><span class="lineno">  742</span>                            <span class="comment"># lstrip is enabled.</span></div>
<div class="line"><span class="lineno">  743</span>                            <span class="keywordflow">and</span> self.lstrip_blocks</div>
<div class="line"><span class="lineno">  744</span>                            <span class="comment"># Not a variable expression.</span></div>
<div class="line"><span class="lineno">  745</span>                            <span class="keywordflow">and</span> <span class="keywordflow">not</span> m.groupdict().get(TOKEN_VARIABLE_BEGIN)</div>
<div class="line"><span class="lineno">  746</span>                        ):</div>
<div class="line"><span class="lineno">  747</span>                            <span class="comment"># The start of text between the last newline and the tag.</span></div>
<div class="line"><span class="lineno">  748</span>                            l_pos = text.rfind(<span class="stringliteral">&quot;\n&quot;</span>) + 1</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>                            <span class="keywordflow">if</span> l_pos &gt; 0 <span class="keywordflow">or</span> line_starting:</div>
<div class="line"><span class="lineno">  751</span>                                <span class="comment"># If there&#39;s only whitespace between the newline and the</span></div>
<div class="line"><span class="lineno">  752</span>                                <span class="comment"># tag, strip it.</span></div>
<div class="line"><span class="lineno">  753</span>                                <span class="keywordflow">if</span> whitespace_re.fullmatch(text, l_pos):</div>
<div class="line"><span class="lineno">  754</span>                                    groups = [text[:l_pos], *groups[1:]]</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>                    <span class="keywordflow">for</span> idx, token <span class="keywordflow">in</span> enumerate(tokens):</div>
<div class="line"><span class="lineno">  757</span>                        <span class="comment"># failure group</span></div>
<div class="line"><span class="lineno">  758</span>                        <span class="keywordflow">if</span> token.__class__ <span class="keywordflow">is</span> Failure:</div>
<div class="line"><span class="lineno">  759</span>                            <span class="keywordflow">raise</span> token(lineno, filename)</div>
<div class="line"><span class="lineno">  760</span>                        <span class="comment"># bygroup is a bit more complex, in that case we</span></div>
<div class="line"><span class="lineno">  761</span>                        <span class="comment"># yield for the current token the first named</span></div>
<div class="line"><span class="lineno">  762</span>                        <span class="comment"># group that matched</span></div>
<div class="line"><span class="lineno">  763</span>                        <span class="keywordflow">elif</span> token == <span class="stringliteral">&quot;#bygroup&quot;</span>:</div>
<div class="line"><span class="lineno">  764</span>                            <span class="keywordflow">for</span> key, value <span class="keywordflow">in</span> m.groupdict().items():</div>
<div class="line"><span class="lineno">  765</span>                                <span class="keywordflow">if</span> value <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  766</span>                                    <span class="keywordflow">yield</span> lineno, key, value</div>
<div class="line"><span class="lineno">  767</span>                                    lineno += value.count(<span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">  768</span>                                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  769</span>                            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  770</span>                                <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  771</span>                                    f<span class="stringliteral">&quot;{regex!r} wanted to resolve the token dynamically&quot;</span></div>
<div class="line"><span class="lineno">  772</span>                                    <span class="stringliteral">&quot; but no group matched&quot;</span></div>
<div class="line"><span class="lineno">  773</span>                                )</div>
<div class="line"><span class="lineno">  774</span>                        <span class="comment"># normal group</span></div>
<div class="line"><span class="lineno">  775</span>                        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  776</span>                            data = groups[idx]</div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span>                            <span class="keywordflow">if</span> data <span class="keywordflow">or</span> token <span class="keywordflow">not</span> <span class="keywordflow">in</span> ignore_if_empty:</div>
<div class="line"><span class="lineno">  779</span>                                <span class="keywordflow">yield</span> lineno, token, data</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>                            lineno += data.count(<span class="stringliteral">&quot;\n&quot;</span>) + newlines_stripped</div>
<div class="line"><span class="lineno">  782</span>                            newlines_stripped = 0</div>
<div class="line"><span class="lineno">  783</span> </div>
<div class="line"><span class="lineno">  784</span>                <span class="comment"># strings as token just are yielded as it.</span></div>
<div class="line"><span class="lineno">  785</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  786</span>                    data = m.group()</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>                    <span class="comment"># update brace/parentheses balance</span></div>
<div class="line"><span class="lineno">  789</span>                    <span class="keywordflow">if</span> tokens == TOKEN_OPERATOR:</div>
<div class="line"><span class="lineno">  790</span>                        <span class="keywordflow">if</span> data == <span class="stringliteral">&quot;{&quot;</span>:</div>
<div class="line"><span class="lineno">  791</span>                            balancing_stack.append(<span class="stringliteral">&quot;}&quot;</span>)</div>
<div class="line"><span class="lineno">  792</span>                        <span class="keywordflow">elif</span> data == <span class="stringliteral">&quot;(&quot;</span>:</div>
<div class="line"><span class="lineno">  793</span>                            balancing_stack.append(<span class="stringliteral">&quot;)&quot;</span>)</div>
<div class="line"><span class="lineno">  794</span>                        <span class="keywordflow">elif</span> data == <span class="stringliteral">&quot;[&quot;</span>:</div>
<div class="line"><span class="lineno">  795</span>                            balancing_stack.append(<span class="stringliteral">&quot;]&quot;</span>)</div>
<div class="line"><span class="lineno">  796</span>                        <span class="keywordflow">elif</span> data <span class="keywordflow">in</span> (<span class="stringliteral">&quot;}&quot;</span>, <span class="stringliteral">&quot;)&quot;</span>, <span class="stringliteral">&quot;]&quot;</span>):</div>
<div class="line"><span class="lineno">  797</span>                            <span class="keywordflow">if</span> <span class="keywordflow">not</span> balancing_stack:</div>
<div class="line"><span class="lineno">  798</span>                                <span class="keywordflow">raise</span> TemplateSyntaxError(</div>
<div class="line"><span class="lineno">  799</span>                                    f<span class="stringliteral">&quot;unexpected &#39;{data}&#39;&quot;</span>, lineno, name, filename</div>
<div class="line"><span class="lineno">  800</span>                                )</div>
<div class="line"><span class="lineno">  801</span> </div>
<div class="line"><span class="lineno">  802</span>                            expected_op = balancing_stack.pop()</div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span>                            <span class="keywordflow">if</span> expected_op != data:</div>
<div class="line"><span class="lineno">  805</span>                                <span class="keywordflow">raise</span> TemplateSyntaxError(</div>
<div class="line"><span class="lineno">  806</span>                                    f<span class="stringliteral">&quot;unexpected &#39;{data}&#39;, expected &#39;{expected_op}&#39;&quot;</span>,</div>
<div class="line"><span class="lineno">  807</span>                                    lineno,</div>
<div class="line"><span class="lineno">  808</span>                                    name,</div>
<div class="line"><span class="lineno">  809</span>                                    filename,</div>
<div class="line"><span class="lineno">  810</span>                                )</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>                    <span class="comment"># yield items</span></div>
<div class="line"><span class="lineno">  813</span>                    <span class="keywordflow">if</span> data <span class="keywordflow">or</span> tokens <span class="keywordflow">not</span> <span class="keywordflow">in</span> ignore_if_empty:</div>
<div class="line"><span class="lineno">  814</span>                        <span class="keywordflow">yield</span> lineno, tokens, data</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>                    lineno += data.count(<span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>                line_starting = m.group()[-1:] == <span class="stringliteral">&quot;\n&quot;</span></div>
<div class="line"><span class="lineno">  819</span>                <span class="comment"># fetch new position into new variable so that we can check</span></div>
<div class="line"><span class="lineno">  820</span>                <span class="comment"># if there is a internal parsing error which would result</span></div>
<div class="line"><span class="lineno">  821</span>                <span class="comment"># in an infinite loop</span></div>
<div class="line"><span class="lineno">  822</span>                pos2 = m.end()</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>                <span class="comment"># handle state changes</span></div>
<div class="line"><span class="lineno">  825</span>                <span class="keywordflow">if</span> new_state <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  826</span>                    <span class="comment"># remove the uppermost state</span></div>
<div class="line"><span class="lineno">  827</span>                    <span class="keywordflow">if</span> new_state == <span class="stringliteral">&quot;#pop&quot;</span>:</div>
<div class="line"><span class="lineno">  828</span>                        stack.pop()</div>
<div class="line"><span class="lineno">  829</span>                    <span class="comment"># resolve the new state by group checking</span></div>
<div class="line"><span class="lineno">  830</span>                    <span class="keywordflow">elif</span> new_state == <span class="stringliteral">&quot;#bygroup&quot;</span>:</div>
<div class="line"><span class="lineno">  831</span>                        <span class="keywordflow">for</span> key, value <span class="keywordflow">in</span> m.groupdict().items():</div>
<div class="line"><span class="lineno">  832</span>                            <span class="keywordflow">if</span> value <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  833</span>                                stack.append(key)</div>
<div class="line"><span class="lineno">  834</span>                                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  835</span>                        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  836</span>                            <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  837</span>                                f<span class="stringliteral">&quot;{regex!r} wanted to resolve the new state dynamically&quot;</span></div>
<div class="line"><span class="lineno">  838</span>                                f<span class="stringliteral">&quot; but no group matched&quot;</span></div>
<div class="line"><span class="lineno">  839</span>                            )</div>
<div class="line"><span class="lineno">  840</span>                    <span class="comment"># direct state name given</span></div>
<div class="line"><span class="lineno">  841</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  842</span>                        stack.append(new_state)</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>                    statetokens = self.rules[stack[-1]]</div>
<div class="line"><span class="lineno">  845</span>                <span class="comment"># we are still at the same position and no stack change.</span></div>
<div class="line"><span class="lineno">  846</span>                <span class="comment"># this means a loop without break condition, avoid that and</span></div>
<div class="line"><span class="lineno">  847</span>                <span class="comment"># raise error</span></div>
<div class="line"><span class="lineno">  848</span>                <span class="keywordflow">elif</span> pos2 == pos:</div>
<div class="line"><span class="lineno">  849</span>                    <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  850</span>                        f<span class="stringliteral">&quot;{regex!r} yielded empty string without stack change&quot;</span></div>
<div class="line"><span class="lineno">  851</span>                    )</div>
<div class="line"><span class="lineno">  852</span> </div>
<div class="line"><span class="lineno">  853</span>                <span class="comment"># publish new function and start again</span></div>
<div class="line"><span class="lineno">  854</span>                pos = pos2</div>
<div class="line"><span class="lineno">  855</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  856</span>            <span class="comment"># if loop terminated without break we haven&#39;t found a single match</span></div>
<div class="line"><span class="lineno">  857</span>            <span class="comment"># either we are at the end of the file or we have a problem</span></div>
<div class="line"><span class="lineno">  858</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  859</span>                <span class="comment"># end of text</span></div>
<div class="line"><span class="lineno">  860</span>                <span class="keywordflow">if</span> pos &gt;= source_length:</div>
<div class="line"><span class="lineno">  861</span>                    <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  862</span> </div>
<div class="line"><span class="lineno">  863</span>                <span class="comment"># something went wrong</span></div>
<div class="line"><span class="lineno">  864</span>                <span class="keywordflow">raise</span> TemplateSyntaxError(</div>
<div class="line"><span class="lineno">  865</span>                    f<span class="stringliteral">&quot;unexpected char {source[pos]!r} at {pos}&quot;</span>, lineno, name, filename</div>
<div class="line"><span class="lineno">  866</span>                )</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8fb9829073c27c06ed4e791c5e5d2fd" name="ac8fb9829073c27c06ed4e791c5e5d2fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8fb9829073c27c06ed4e791c5e5d2fd">&#9670;&#160;</a></span>tokenize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classjinja2_1_1lexer_1_1_token_stream.html">TokenStream</a> jinja2.lexer.Lexer.tokenize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>source</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t.Optional[str] &#160;</td>
          <td class="paramname"><em>name</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t.Optional[str] &#160;</td>
          <td class="paramname"><em>filename</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t.Optional[str] &#160;</td>
          <td class="paramname"><em>state</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calls tokeniter + tokenize and wraps it in a token stream.</pre> <div class="fragment"><div class="line"><span class="lineno">  608</span>    ) -&gt; TokenStream:</div>
<div class="line"><span class="lineno">  609</span>        <span class="stringliteral">&quot;&quot;&quot;Calls tokeniter + tokenize and wraps it in a token stream.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  610</span>        stream = self.tokeniter(source, name, filename, state)</div>
<div class="line"><span class="lineno">  611</span>        <span class="keywordflow">return</span> TokenStream(self.wrap(stream, name, filename), name, filename)</div>
<div class="line"><span class="lineno">  612</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b9f848c5b74ebc7eea810277ca8a005" name="a2b9f848c5b74ebc7eea810277ca8a005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b9f848c5b74ebc7eea810277ca8a005">&#9670;&#160;</a></span>wrap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> t.Iterator[<a class="el" href="classjinja2_1_1lexer_1_1_token.html">Token</a>] jinja2.lexer.Lexer.wrap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t.Iterable[t.Tuple[int, str, str]]&#160;</td>
          <td class="paramname"><em>stream</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t.Optional[str] &#160;</td>
          <td class="paramname"><em>name</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">t.Optional[str] &#160;</td>
          <td class="paramname"><em>filename</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This is called with the stream as returned by `tokenize` and wraps
every token in a :class:`Token` and converts the value.
</pre> <div class="fragment"><div class="line"><span class="lineno">  618</span>    ) -&gt; t.Iterator[Token]:</div>
<div class="line"><span class="lineno">  619</span>        <span class="stringliteral">&quot;&quot;&quot;This is called with the stream as returned by `tokenize` and wraps</span></div>
<div class="line"><span class="lineno">  620</span><span class="stringliteral">        every token in a :class:`Token` and converts the value.</span></div>
<div class="line"><span class="lineno">  621</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  622</span>        <span class="keywordflow">for</span> lineno, token, value_str <span class="keywordflow">in</span> stream:</div>
<div class="line"><span class="lineno">  623</span>            <span class="keywordflow">if</span> token <span class="keywordflow">in</span> ignored_tokens:</div>
<div class="line"><span class="lineno">  624</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>            value: t.Any = value_str</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>            <span class="keywordflow">if</span> token == TOKEN_LINESTATEMENT_BEGIN:</div>
<div class="line"><span class="lineno">  629</span>                token = TOKEN_BLOCK_BEGIN</div>
<div class="line"><span class="lineno">  630</span>            <span class="keywordflow">elif</span> token == TOKEN_LINESTATEMENT_END:</div>
<div class="line"><span class="lineno">  631</span>                token = TOKEN_BLOCK_END</div>
<div class="line"><span class="lineno">  632</span>            <span class="comment"># we are not interested in those tokens in the parser</span></div>
<div class="line"><span class="lineno">  633</span>            <span class="keywordflow">elif</span> token <span class="keywordflow">in</span> (TOKEN_RAW_BEGIN, TOKEN_RAW_END):</div>
<div class="line"><span class="lineno">  634</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  635</span>            <span class="keywordflow">elif</span> token == TOKEN_DATA:</div>
<div class="line"><span class="lineno">  636</span>                value = self._normalize_newlines(value_str)</div>
<div class="line"><span class="lineno">  637</span>            <span class="keywordflow">elif</span> token == <span class="stringliteral">&quot;keyword&quot;</span>:</div>
<div class="line"><span class="lineno">  638</span>                token = value_str</div>
<div class="line"><span class="lineno">  639</span>            <span class="keywordflow">elif</span> token == TOKEN_NAME:</div>
<div class="line"><span class="lineno">  640</span>                value = value_str</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> value.isidentifier():</div>
<div class="line"><span class="lineno">  643</span>                    <span class="keywordflow">raise</span> TemplateSyntaxError(</div>
<div class="line"><span class="lineno">  644</span>                        <span class="stringliteral">&quot;Invalid character in identifier&quot;</span>, lineno, name, filename</div>
<div class="line"><span class="lineno">  645</span>                    )</div>
<div class="line"><span class="lineno">  646</span>            <span class="keywordflow">elif</span> token == TOKEN_STRING:</div>
<div class="line"><span class="lineno">  647</span>                <span class="comment"># try to unescape string</span></div>
<div class="line"><span class="lineno">  648</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  649</span>                    value = (</div>
<div class="line"><span class="lineno">  650</span>                        self._normalize_newlines(value_str[1:-1])</div>
<div class="line"><span class="lineno">  651</span>                        .encode(<span class="stringliteral">&quot;ascii&quot;</span>, <span class="stringliteral">&quot;backslashreplace&quot;</span>)</div>
<div class="line"><span class="lineno">  652</span>                        .decode(<span class="stringliteral">&quot;unicode-escape&quot;</span>)</div>
<div class="line"><span class="lineno">  653</span>                    )</div>
<div class="line"><span class="lineno">  654</span>                <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  655</span>                    msg = str(e).split(<span class="stringliteral">&quot;:&quot;</span>)[-1].strip()</div>
<div class="line"><span class="lineno">  656</span>                    <span class="keywordflow">raise</span> TemplateSyntaxError(msg, lineno, name, filename) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno">  657</span>            <span class="keywordflow">elif</span> token == TOKEN_INTEGER:</div>
<div class="line"><span class="lineno">  658</span>                value = int(value_str.replace(<span class="stringliteral">&quot;_&quot;</span>, <span class="stringliteral">&quot;&quot;</span>), 0)</div>
<div class="line"><span class="lineno">  659</span>            <span class="keywordflow">elif</span> token == TOKEN_FLOAT:</div>
<div class="line"><span class="lineno">  660</span>                <span class="comment"># remove all &quot;_&quot; first to support more Python versions</span></div>
<div class="line"><span class="lineno">  661</span>                value = literal_eval(value_str.replace(<span class="stringliteral">&quot;_&quot;</span>, <span class="stringliteral">&quot;&quot;</span>))</div>
<div class="line"><span class="lineno">  662</span>            <span class="keywordflow">elif</span> token == TOKEN_OPERATOR:</div>
<div class="line"><span class="lineno">  663</span>                token = operators[value_str]</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>            <span class="keywordflow">yield</span> Token(lineno, token, value)</div>
<div class="line"><span class="lineno">  666</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a22b7007a2e55580df30349d9d61ec517" name="a22b7007a2e55580df30349d9d61ec517"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22b7007a2e55580df30349d9d61ec517">&#9670;&#160;</a></span>keep_trailing_newline</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">jinja2.lexer.Lexer.keep_trailing_newline</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6e7a71e933a1daead5f140a40bd4584a" name="a6e7a71e933a1daead5f140a40bd4584a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e7a71e933a1daead5f140a40bd4584a">&#9670;&#160;</a></span>lstrip_blocks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">jinja2.lexer.Lexer.lstrip_blocks</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7d949a2c2f4d13fe5a7a6cdfa9ca82a8" name="a7d949a2c2f4d13fe5a7a6cdfa9ca82a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d949a2c2f4d13fe5a7a6cdfa9ca82a8">&#9670;&#160;</a></span>newline_sequence</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">jinja2.lexer.Lexer.newline_sequence</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/jinja2/<a class="el" href="jinja2_2lexer_8py.html">lexer.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
