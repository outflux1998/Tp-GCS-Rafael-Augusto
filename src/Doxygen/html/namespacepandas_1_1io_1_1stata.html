<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.io.stata Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1io.html">io</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1io_1_1stata.html">stata</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pandas.io.stata Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1io_1_1stata_1_1_stata_missing_value.html">StataMissingValue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1io_1_1stata_1_1_stata_non_cat_value_label.html">StataNonCatValueLabel</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1io_1_1stata_1_1_stata_parser.html">StataParser</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1io_1_1stata_1_1_stata_reader.html">StataReader</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1io_1_1stata_1_1_stata_str_l_writer.html">StataStrLWriter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1io_1_1stata_1_1_stata_value_label.html">StataValueLabel</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1io_1_1stata_1_1_stata_writer.html">StataWriter</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1io_1_1stata_1_1_stata_writer117.html">StataWriter117</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1io_1_1stata_1_1_stata_writer_u_t_f8.html">StataWriterUTF8</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac6411918e2744a817d56a244b9f7056e" id="r_ac6411918e2744a817d56a244b9f7056e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#ac6411918e2744a817d56a244b9f7056e">_stata_elapsed_date_to_datetime_vec</a> (dates, fmt)</td></tr>
<tr class="separator:ac6411918e2744a817d56a244b9f7056e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bae8fa8c14dccbe63a5a1b43c01c76f" id="r_a0bae8fa8c14dccbe63a5a1b43c01c76f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a0bae8fa8c14dccbe63a5a1b43c01c76f">_datetime_to_stata_elapsed_vec</a> (<a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a> dates, str fmt)</td></tr>
<tr class="separator:a0bae8fa8c14dccbe63a5a1b43c01c76f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff8b5dffb1154fbfac3fae18d831c89" id="r_a8ff8b5dffb1154fbfac3fae18d831c89"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a8ff8b5dffb1154fbfac3fae18d831c89">_cast_to_stata_types</a> (<a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a> data)</td></tr>
<tr class="separator:a8ff8b5dffb1154fbfac3fae18d831c89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0225d268ae3804d771964b327d6c0a0e" id="r_a0225d268ae3804d771964b327d6c0a0e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a>|<a class="el" href="classpandas_1_1io_1_1stata_1_1_stata_reader.html">StataReader</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a0225d268ae3804d771964b327d6c0a0e">read_stata</a> (FilePath|<a class="el" href="classpandas_1_1__typing_1_1_read_buffer.html">ReadBuffer</a>[bytes] filepath_or_buffer, bool convert_dates=True, bool convert_categoricals=True, str|None index_col=None, bool convert_missing=False, bool preserve_dtypes=True, Sequence[str]|None columns=None, bool order_categoricals=True, int|None chunksize=None, bool iterator=False, CompressionOptions compression=&quot;infer&quot;, StorageOptions storage_options=None)</td></tr>
<tr class="separator:a0225d268ae3804d771964b327d6c0a0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace866d9f8c20d545fb9da6102715f1da" id="r_ace866d9f8c20d545fb9da6102715f1da"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#ace866d9f8c20d545fb9da6102715f1da">_set_endianness</a> (str endianness)</td></tr>
<tr class="separator:ace866d9f8c20d545fb9da6102715f1da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef28e5cb1e9afd91e4e536c4531046ef" id="r_aef28e5cb1e9afd91e4e536c4531046ef"><td class="memItemLeft" align="right" valign="top">AnyStr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#aef28e5cb1e9afd91e4e536c4531046ef">_pad_bytes</a> (AnyStr name, int length)</td></tr>
<tr class="separator:aef28e5cb1e9afd91e4e536c4531046ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7512b98327304aef06944f9b7d43cd36" id="r_a7512b98327304aef06944f9b7d43cd36"><td class="memItemLeft" align="right" valign="top">np.dtype&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a7512b98327304aef06944f9b7d43cd36">_convert_datetime_to_stata_type</a> (str fmt)</td></tr>
<tr class="separator:a7512b98327304aef06944f9b7d43cd36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37cb7f9ab018d9d211cb5ff8ad932d44" id="r_a37cb7f9ab018d9d211cb5ff8ad932d44"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a37cb7f9ab018d9d211cb5ff8ad932d44">_maybe_convert_to_int_keys</a> (dict convert_dates, list[Hashable] varlist)</td></tr>
<tr class="separator:a37cb7f9ab018d9d211cb5ff8ad932d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72f0205b03a5f09e68384be771cdfd0c" id="r_a72f0205b03a5f09e68384be771cdfd0c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a72f0205b03a5f09e68384be771cdfd0c">_dtype_to_stata_type</a> (np.dtype dtype, <a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a> column)</td></tr>
<tr class="separator:a72f0205b03a5f09e68384be771cdfd0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc67a446d36d728ba9e54b670985ee90" id="r_acc67a446d36d728ba9e54b670985ee90"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#acc67a446d36d728ba9e54b670985ee90">_dtype_to_default_stata_fmt</a> (dtype, <a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a> column, int dta_version=114, bool force_strl=False)</td></tr>
<tr class="separator:acc67a446d36d728ba9e54b670985ee90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ceabf6481c092712c7f28a7298e12f0" id="r_a2ceabf6481c092712c7f28a7298e12f0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a2ceabf6481c092712c7f28a7298e12f0">_dtype_to_stata_type_117</a> (np.dtype dtype, <a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a> column, bool force_strl)</td></tr>
<tr class="separator:a2ceabf6481c092712c7f28a7298e12f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad13727e5489b70f417c4afb646cba5ad" id="r_ad13727e5489b70f417c4afb646cba5ad"><td class="memItemLeft" align="right" valign="top">bytes&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#ad13727e5489b70f417c4afb646cba5ad">_pad_bytes_new</a> (str|bytes name, int length)</td></tr>
<tr class="separator:ad13727e5489b70f417c4afb646cba5ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2cec6e93bb1f1f1277d20909f0793e96" id="r_a2cec6e93bb1f1f1277d20909f0793e96"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a2cec6e93bb1f1f1277d20909f0793e96">_version_error</a></td></tr>
<tr class="separator:a2cec6e93bb1f1f1277d20909f0793e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21fae4a4d6e30bcb194af6ffdb786a75" id="r_a21fae4a4d6e30bcb194af6ffdb786a75"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a21fae4a4d6e30bcb194af6ffdb786a75">_statafile_processing_params1</a></td></tr>
<tr class="separator:a21fae4a4d6e30bcb194af6ffdb786a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15ee3a659149086547c952a4d477ee87" id="r_a15ee3a659149086547c952a4d477ee87"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a15ee3a659149086547c952a4d477ee87">_statafile_processing_params2</a></td></tr>
<tr class="separator:a15ee3a659149086547c952a4d477ee87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1467bee4c8d62caca37093b1bcb50cef" id="r_a1467bee4c8d62caca37093b1bcb50cef"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a1467bee4c8d62caca37093b1bcb50cef">_chunksize_params</a></td></tr>
<tr class="separator:a1467bee4c8d62caca37093b1bcb50cef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82a0bb0c93fcea175e5f03dd709de2f1" id="r_a82a0bb0c93fcea175e5f03dd709de2f1"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a82a0bb0c93fcea175e5f03dd709de2f1">_iterator_params</a></td></tr>
<tr class="separator:a82a0bb0c93fcea175e5f03dd709de2f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a2249a51163ade714bd363446d3eefc" id="r_a5a2249a51163ade714bd363446d3eefc"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a5a2249a51163ade714bd363446d3eefc">_reader_notes</a></td></tr>
<tr class="separator:a5a2249a51163ade714bd363446d3eefc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7ae5eb0d7b3ff90100ad22efb4b42f8" id="r_aa7ae5eb0d7b3ff90100ad22efb4b42f8"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#aa7ae5eb0d7b3ff90100ad22efb4b42f8">_read_stata_doc</a></td></tr>
<tr class="separator:aa7ae5eb0d7b3ff90100ad22efb4b42f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b0c7b9fca1eb403a17c3247bed6dd6a" id="r_a3b0c7b9fca1eb403a17c3247bed6dd6a"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a3b0c7b9fca1eb403a17c3247bed6dd6a">_read_method_doc</a></td></tr>
<tr class="separator:a3b0c7b9fca1eb403a17c3247bed6dd6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c991ba8675b4d596d0d080b98a67c40" id="r_a4c991ba8675b4d596d0d080b98a67c40"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a4c991ba8675b4d596d0d080b98a67c40">_stata_reader_doc</a></td></tr>
<tr class="separator:a4c991ba8675b4d596d0d080b98a67c40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f210c07fd6ee66afdcc4b06b136883c" id="r_a3f210c07fd6ee66afdcc4b06b136883c"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a3f210c07fd6ee66afdcc4b06b136883c">_date_formats</a> = [&quot;%tc&quot;, &quot;%tC&quot;, &quot;%td&quot;, &quot;%d&quot;, &quot;%tw&quot;, &quot;%tm&quot;, &quot;%tq&quot;, &quot;%th&quot;, &quot;%ty&quot;]</td></tr>
<tr class="separator:a3f210c07fd6ee66afdcc4b06b136883c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee57eb98fe1caf622287461d46440b5" id="r_adee57eb98fe1caf622287461d46440b5"><td class="memItemLeft" align="right" valign="top">Final&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#adee57eb98fe1caf622287461d46440b5">stata_epoch</a> = datetime.datetime(1960, 1, 1)</td></tr>
<tr class="separator:adee57eb98fe1caf622287461d46440b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41147c9dcd738ef7844304c718c59651" id="r_a41147c9dcd738ef7844304c718c59651"><td class="memItemLeft" align="right" valign="top">Final&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a41147c9dcd738ef7844304c718c59651">excessive_string_length_error</a></td></tr>
<tr class="separator:a41147c9dcd738ef7844304c718c59651"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd83da8baa7250a3a576459b1f9eee5" id="r_abdd83da8baa7250a3a576459b1f9eee5"><td class="memItemLeft" align="right" valign="top">Final&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#abdd83da8baa7250a3a576459b1f9eee5">precision_loss_doc</a></td></tr>
<tr class="separator:abdd83da8baa7250a3a576459b1f9eee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a184c75d5ba098a4cf9192e7afc602448" id="r_a184c75d5ba098a4cf9192e7afc602448"><td class="memItemLeft" align="right" valign="top">Final&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a184c75d5ba098a4cf9192e7afc602448">value_label_mismatch_doc</a></td></tr>
<tr class="separator:a184c75d5ba098a4cf9192e7afc602448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f4b8ffc6d50b5a32c31bbdc9a16365a" id="r_a5f4b8ffc6d50b5a32c31bbdc9a16365a"><td class="memItemLeft" align="right" valign="top">Final&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#a5f4b8ffc6d50b5a32c31bbdc9a16365a">invalid_name_doc</a></td></tr>
<tr class="separator:a5f4b8ffc6d50b5a32c31bbdc9a16365a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0408e8f5d8c9fe173b675dac6b1dc77" id="r_aa0408e8f5d8c9fe173b675dac6b1dc77"><td class="memItemLeft" align="right" valign="top">Final&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1io_1_1stata.html#aa0408e8f5d8c9fe173b675dac6b1dc77">categorical_conversion_warning</a></td></tr>
<tr class="separator:aa0408e8f5d8c9fe173b675dac6b1dc77"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Module contains tools for processing Stata files into DataFrames

The StataReader below was originally written by Joe Presbrey as part of PyDTA.
It has been extended and improved by Skipper Seabold from the Statsmodels
project who also developed the StataWriter and was finally added to pandas in
a once again improved version.

You can find more information on http://presbrey.mit.edu/PyDTA and
https://www.statsmodels.org/devel/
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a8ff8b5dffb1154fbfac3fae18d831c89" name="a8ff8b5dffb1154fbfac3fae18d831c89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ff8b5dffb1154fbfac3fae18d831c89">&#9670;&#160;</a></span>_cast_to_stata_types()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a> pandas.io.stata._cast_to_stata_types </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a>&#160;</td>
          <td class="paramname"><em>data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Checks the dtypes of the columns of a pandas DataFrame for
compatibility with the data types and ranges supported by Stata, and
converts if necessary.

Parameters
----------
data : DataFrame
    The DataFrame to check and convert

Notes
-----
Numeric columns in Stata must be one of int8, int16, int32, float32 or
float64, with some additional value restrictions.  int8 and int16 columns
are checked for violations of the value restrictions and upcast if needed.
int64 data is not usable in Stata, and so it is downcast to int32 whenever
the value are in the int32 range, and sidecast to float64 when larger than
this range.  If the int64 values are outside of the range of those
perfectly representable as float64 values, a warning is raised.

bool columns are cast to int8.  uint columns are converted to int of the
same size if there is no loss in precision, otherwise are upcast to a
larger type.  uint64 is currently not supported since it is concerted to
object in a DataFrame.
</pre> <div class="fragment"><div class="line"><span class="lineno">  548</span><span class="keyword">def </span>_cast_to_stata_types(data: DataFrame) -&gt; DataFrame:</div>
<div class="line"><span class="lineno">  549</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  550</span><span class="stringliteral">    Checks the dtypes of the columns of a pandas DataFrame for</span></div>
<div class="line"><span class="lineno">  551</span><span class="stringliteral">    compatibility with the data types and ranges supported by Stata, and</span></div>
<div class="line"><span class="lineno">  552</span><span class="stringliteral">    converts if necessary.</span></div>
<div class="line"><span class="lineno">  553</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  554</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  555</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  556</span><span class="stringliteral">    data : DataFrame</span></div>
<div class="line"><span class="lineno">  557</span><span class="stringliteral">        The DataFrame to check and convert</span></div>
<div class="line"><span class="lineno">  558</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  559</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  560</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  561</span><span class="stringliteral">    Numeric columns in Stata must be one of int8, int16, int32, float32 or</span></div>
<div class="line"><span class="lineno">  562</span><span class="stringliteral">    float64, with some additional value restrictions.  int8 and int16 columns</span></div>
<div class="line"><span class="lineno">  563</span><span class="stringliteral">    are checked for violations of the value restrictions and upcast if needed.</span></div>
<div class="line"><span class="lineno">  564</span><span class="stringliteral">    int64 data is not usable in Stata, and so it is downcast to int32 whenever</span></div>
<div class="line"><span class="lineno">  565</span><span class="stringliteral">    the value are in the int32 range, and sidecast to float64 when larger than</span></div>
<div class="line"><span class="lineno">  566</span><span class="stringliteral">    this range.  If the int64 values are outside of the range of those</span></div>
<div class="line"><span class="lineno">  567</span><span class="stringliteral">    perfectly representable as float64 values, a warning is raised.</span></div>
<div class="line"><span class="lineno">  568</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  569</span><span class="stringliteral">    bool columns are cast to int8.  uint columns are converted to int of the</span></div>
<div class="line"><span class="lineno">  570</span><span class="stringliteral">    same size if there is no loss in precision, otherwise are upcast to a</span></div>
<div class="line"><span class="lineno">  571</span><span class="stringliteral">    larger type.  uint64 is currently not supported since it is concerted to</span></div>
<div class="line"><span class="lineno">  572</span><span class="stringliteral">    object in a DataFrame.</span></div>
<div class="line"><span class="lineno">  573</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  574</span>    ws = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  575</span>    <span class="comment"># original, if small, if large</span></div>
<div class="line"><span class="lineno">  576</span>    conversion_data: tuple[</div>
<div class="line"><span class="lineno">  577</span>        tuple[type, type, type],</div>
<div class="line"><span class="lineno">  578</span>        tuple[type, type, type],</div>
<div class="line"><span class="lineno">  579</span>        tuple[type, type, type],</div>
<div class="line"><span class="lineno">  580</span>        tuple[type, type, type],</div>
<div class="line"><span class="lineno">  581</span>        tuple[type, type, type],</div>
<div class="line"><span class="lineno">  582</span>    ] = (</div>
<div class="line"><span class="lineno">  583</span>        (np.bool_, np.int8, np.int8),</div>
<div class="line"><span class="lineno">  584</span>        (np.uint8, np.int8, np.int16),</div>
<div class="line"><span class="lineno">  585</span>        (np.uint16, np.int16, np.int32),</div>
<div class="line"><span class="lineno">  586</span>        (np.uint32, np.int32, np.int64),</div>
<div class="line"><span class="lineno">  587</span>        (np.uint64, np.int64, np.float64),</div>
<div class="line"><span class="lineno">  588</span>    )</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>    float32_max = struct.unpack(<span class="stringliteral">&quot;&lt;f&quot;</span>, b<span class="stringliteral">&quot;\xff\xff\xff\x7e&quot;</span>)[0]</div>
<div class="line"><span class="lineno">  591</span>    float64_max = struct.unpack(<span class="stringliteral">&quot;&lt;d&quot;</span>, b<span class="stringliteral">&quot;\xff\xff\xff\xff\xff\xff\xdf\x7f&quot;</span>)[0]</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span>    <span class="keywordflow">for</span> col <span class="keywordflow">in</span> data:</div>
<div class="line"><span class="lineno">  594</span>        <span class="comment"># Cast from unsupported types to supported types</span></div>
<div class="line"><span class="lineno">  595</span>        is_nullable_int = isinstance(data[col].dtype, (IntegerDtype, BooleanDtype))</div>
<div class="line"><span class="lineno">  596</span>        orig = data[col]</div>
<div class="line"><span class="lineno">  597</span>        <span class="comment"># We need to find orig_missing before altering data below</span></div>
<div class="line"><span class="lineno">  598</span>        orig_missing = orig.isna()</div>
<div class="line"><span class="lineno">  599</span>        <span class="keywordflow">if</span> is_nullable_int:</div>
<div class="line"><span class="lineno">  600</span>            missing_loc = data[col].isna()</div>
<div class="line"><span class="lineno">  601</span>            <span class="keywordflow">if</span> missing_loc.any():</div>
<div class="line"><span class="lineno">  602</span>                <span class="comment"># Replace with always safe value</span></div>
<div class="line"><span class="lineno">  603</span>                fv = 0 <span class="keywordflow">if</span> isinstance(data[col].dtype, IntegerDtype) <span class="keywordflow">else</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  604</span>                data.loc[missing_loc, col] = fv</div>
<div class="line"><span class="lineno">  605</span>            <span class="comment"># Replace with NumPy-compatible column</span></div>
<div class="line"><span class="lineno">  606</span>            data[col] = data[col].astype(data[col].dtype.numpy_dtype)</div>
<div class="line"><span class="lineno">  607</span>        dtype = data[col].dtype</div>
<div class="line"><span class="lineno">  608</span>        <span class="keywordflow">for</span> c_data <span class="keywordflow">in</span> conversion_data:</div>
<div class="line"><span class="lineno">  609</span>            <span class="keywordflow">if</span> dtype == c_data[0]:</div>
<div class="line"><span class="lineno">  610</span>                <span class="keywordflow">if</span> data[col].max() &lt;= np.iinfo(c_data[1]).max:</div>
<div class="line"><span class="lineno">  611</span>                    dtype = c_data[1]</div>
<div class="line"><span class="lineno">  612</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  613</span>                    dtype = c_data[2]</div>
<div class="line"><span class="lineno">  614</span>                <span class="keywordflow">if</span> c_data[2] == np.int64:  <span class="comment"># Warn if necessary</span></div>
<div class="line"><span class="lineno">  615</span>                    <span class="keywordflow">if</span> data[col].max() &gt;= 2**53:</div>
<div class="line"><span class="lineno">  616</span>                        ws = precision_loss_doc.format(<span class="stringliteral">&quot;uint64&quot;</span>, <span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>                data[col] = data[col].astype(dtype)</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>        <span class="comment"># Check values and upcast if necessary</span></div>
<div class="line"><span class="lineno">  621</span>        <span class="keywordflow">if</span> dtype == np.int8:</div>
<div class="line"><span class="lineno">  622</span>            <span class="keywordflow">if</span> data[col].max() &gt; 100 <span class="keywordflow">or</span> data[col].min() &lt; -127:</div>
<div class="line"><span class="lineno">  623</span>                data[col] = data[col].astype(np.int16)</div>
<div class="line"><span class="lineno">  624</span>        <span class="keywordflow">elif</span> dtype == np.int16:</div>
<div class="line"><span class="lineno">  625</span>            <span class="keywordflow">if</span> data[col].max() &gt; 32740 <span class="keywordflow">or</span> data[col].min() &lt; -32767:</div>
<div class="line"><span class="lineno">  626</span>                data[col] = data[col].astype(np.int32)</div>
<div class="line"><span class="lineno">  627</span>        <span class="keywordflow">elif</span> dtype == np.int64:</div>
<div class="line"><span class="lineno">  628</span>            <span class="keywordflow">if</span> data[col].max() &lt;= 2147483620 <span class="keywordflow">and</span> data[col].min() &gt;= -2147483647:</div>
<div class="line"><span class="lineno">  629</span>                data[col] = data[col].astype(np.int32)</div>
<div class="line"><span class="lineno">  630</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  631</span>                data[col] = data[col].astype(np.float64)</div>
<div class="line"><span class="lineno">  632</span>                <span class="keywordflow">if</span> data[col].max() &gt;= 2**53 <span class="keywordflow">or</span> data[col].min() &lt;= -(2**53):</div>
<div class="line"><span class="lineno">  633</span>                    ws = precision_loss_doc.format(<span class="stringliteral">&quot;int64&quot;</span>, <span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno">  634</span>        <span class="keywordflow">elif</span> dtype <span class="keywordflow">in</span> (np.float32, np.float64):</div>
<div class="line"><span class="lineno">  635</span>            <span class="keywordflow">if</span> np.isinf(data[col]).any():</div>
<div class="line"><span class="lineno">  636</span>                <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  637</span>                    f<span class="stringliteral">&quot;Column {col} contains infinity or -infinity&quot;</span></div>
<div class="line"><span class="lineno">  638</span>                    <span class="stringliteral">&quot;which is outside the range supported by Stata.&quot;</span></div>
<div class="line"><span class="lineno">  639</span>                )</div>
<div class="line"><span class="lineno">  640</span>            value = data[col].max()</div>
<div class="line"><span class="lineno">  641</span>            <span class="keywordflow">if</span> dtype == np.float32 <span class="keywordflow">and</span> value &gt; float32_max:</div>
<div class="line"><span class="lineno">  642</span>                data[col] = data[col].astype(np.float64)</div>
<div class="line"><span class="lineno">  643</span>            <span class="keywordflow">elif</span> dtype == np.float64:</div>
<div class="line"><span class="lineno">  644</span>                <span class="keywordflow">if</span> value &gt; float64_max:</div>
<div class="line"><span class="lineno">  645</span>                    <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  646</span>                        f<span class="stringliteral">&quot;Column {col} has a maximum value ({value}) outside the range &quot;</span></div>
<div class="line"><span class="lineno">  647</span>                        f<span class="stringliteral">&quot;supported by Stata ({float64_max})&quot;</span></div>
<div class="line"><span class="lineno">  648</span>                    )</div>
<div class="line"><span class="lineno">  649</span>        <span class="keywordflow">if</span> is_nullable_int:</div>
<div class="line"><span class="lineno">  650</span>            <span class="keywordflow">if</span> orig_missing.any():</div>
<div class="line"><span class="lineno">  651</span>                <span class="comment"># Replace missing by Stata sentinel value</span></div>
<div class="line"><span class="lineno">  652</span>                sentinel = StataMissingValue.BASE_MISSING_VALUES[data[col].dtype.name]</div>
<div class="line"><span class="lineno">  653</span>                data.loc[orig_missing, col] = sentinel</div>
<div class="line"><span class="lineno">  654</span>    <span class="keywordflow">if</span> ws:</div>
<div class="line"><span class="lineno">  655</span>        warnings.warn(</div>
<div class="line"><span class="lineno">  656</span>            ws,</div>
<div class="line"><span class="lineno">  657</span>            PossiblePrecisionLoss,</div>
<div class="line"><span class="lineno">  658</span>            stacklevel=find_stack_level(),</div>
<div class="line"><span class="lineno">  659</span>        )</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>    <span class="keywordflow">return</span> data</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7512b98327304aef06944f9b7d43cd36" name="a7512b98327304aef06944f9b7d43cd36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7512b98327304aef06944f9b7d43cd36">&#9670;&#160;</a></span>_convert_datetime_to_stata_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> np.dtype pandas.io.stata._convert_datetime_to_stata_type </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>fmt</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Convert from one of the stata date formats to a type in TYPE_MAP.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2059</span><span class="keyword">def </span>_convert_datetime_to_stata_type(fmt: str) -&gt; np.dtype:</div>
<div class="line"><span class="lineno"> 2060</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2061</span><span class="stringliteral">    Convert from one of the stata date formats to a type in TYPE_MAP.</span></div>
<div class="line"><span class="lineno"> 2062</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2063</span>    <span class="keywordflow">if</span> fmt <span class="keywordflow">in</span> [</div>
<div class="line"><span class="lineno"> 2064</span>        <span class="stringliteral">&quot;tc&quot;</span>,</div>
<div class="line"><span class="lineno"> 2065</span>        <span class="stringliteral">&quot;%tc&quot;</span>,</div>
<div class="line"><span class="lineno"> 2066</span>        <span class="stringliteral">&quot;td&quot;</span>,</div>
<div class="line"><span class="lineno"> 2067</span>        <span class="stringliteral">&quot;%td&quot;</span>,</div>
<div class="line"><span class="lineno"> 2068</span>        <span class="stringliteral">&quot;tw&quot;</span>,</div>
<div class="line"><span class="lineno"> 2069</span>        <span class="stringliteral">&quot;%tw&quot;</span>,</div>
<div class="line"><span class="lineno"> 2070</span>        <span class="stringliteral">&quot;tm&quot;</span>,</div>
<div class="line"><span class="lineno"> 2071</span>        <span class="stringliteral">&quot;%tm&quot;</span>,</div>
<div class="line"><span class="lineno"> 2072</span>        <span class="stringliteral">&quot;tq&quot;</span>,</div>
<div class="line"><span class="lineno"> 2073</span>        <span class="stringliteral">&quot;%tq&quot;</span>,</div>
<div class="line"><span class="lineno"> 2074</span>        <span class="stringliteral">&quot;th&quot;</span>,</div>
<div class="line"><span class="lineno"> 2075</span>        <span class="stringliteral">&quot;%th&quot;</span>,</div>
<div class="line"><span class="lineno"> 2076</span>        <span class="stringliteral">&quot;ty&quot;</span>,</div>
<div class="line"><span class="lineno"> 2077</span>        <span class="stringliteral">&quot;%ty&quot;</span>,</div>
<div class="line"><span class="lineno"> 2078</span>    ]:</div>
<div class="line"><span class="lineno"> 2079</span>        <span class="keywordflow">return</span> np.dtype(np.float64)  <span class="comment"># Stata expects doubles for SIFs</span></div>
<div class="line"><span class="lineno"> 2080</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2081</span>        <span class="keywordflow">raise</span> NotImplementedError(f<span class="stringliteral">&quot;Format {fmt} not implemented&quot;</span>)</div>
<div class="line"><span class="lineno"> 2082</span> </div>
<div class="line"><span class="lineno"> 2083</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0bae8fa8c14dccbe63a5a1b43c01c76f" name="a0bae8fa8c14dccbe63a5a1b43c01c76f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bae8fa8c14dccbe63a5a1b43c01c76f">&#9670;&#160;</a></span>_datetime_to_stata_elapsed_vec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a> pandas.io.stata._datetime_to_stata_elapsed_vec </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a>&#160;</td>
          <td class="paramname"><em>dates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>fmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Convert from datetime to SIF. https://www.stata.com/help.cgi?datetime

Parameters
----------
dates : Series
    Series or array containing datetime.datetime or datetime64[ns] to
    convert to the Stata Internal Format given by fmt
fmt : str
    The format to convert to. Can be, tc, td, tw, tm, tq, th, ty
</pre> <div class="fragment"><div class="line"><span class="lineno">  399</span><span class="keyword">def </span>_datetime_to_stata_elapsed_vec(dates: Series, fmt: str) -&gt; Series:</div>
<div class="line"><span class="lineno">  400</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  401</span><span class="stringliteral">    Convert from datetime to SIF. https://www.stata.com/help.cgi?datetime</span></div>
<div class="line"><span class="lineno">  402</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  403</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  404</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral">    dates : Series</span></div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral">        Series or array containing datetime.datetime or datetime64[ns] to</span></div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral">        convert to the Stata Internal Format given by fmt</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral">    fmt : str</span></div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">        The format to convert to. Can be, tc, td, tw, tm, tq, th, ty</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  411</span>    index = dates.index</div>
<div class="line"><span class="lineno">  412</span>    NS_PER_DAY = 24 * 3600 * 1000 * 1000 * 1000</div>
<div class="line"><span class="lineno">  413</span>    US_PER_DAY = NS_PER_DAY / 1000</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>    <span class="keyword">def </span>parse_dates_safe(dates, delta=False, year=False, days=False):</div>
<div class="line"><span class="lineno">  416</span>        d = {}</div>
<div class="line"><span class="lineno">  417</span>        <span class="keywordflow">if</span> is_datetime64_dtype(dates.dtype):</div>
<div class="line"><span class="lineno">  418</span>            <span class="keywordflow">if</span> delta:</div>
<div class="line"><span class="lineno">  419</span>                time_delta = dates - stata_epoch</div>
<div class="line"><span class="lineno">  420</span>                d[<span class="stringliteral">&quot;delta&quot;</span>] = time_delta._values.view(np.int64) // 1000  <span class="comment"># microseconds</span></div>
<div class="line"><span class="lineno">  421</span>            <span class="keywordflow">if</span> days <span class="keywordflow">or</span> year:</div>
<div class="line"><span class="lineno">  422</span>                date_index = DatetimeIndex(dates)</div>
<div class="line"><span class="lineno">  423</span>                d[<span class="stringliteral">&quot;year&quot;</span>] = date_index._data.year</div>
<div class="line"><span class="lineno">  424</span>                d[<span class="stringliteral">&quot;month&quot;</span>] = date_index._data.month</div>
<div class="line"><span class="lineno">  425</span>            <span class="keywordflow">if</span> days:</div>
<div class="line"><span class="lineno">  426</span>                days_in_ns = dates.view(np.int64) - to_datetime(</div>
<div class="line"><span class="lineno">  427</span>                    d[<span class="stringliteral">&quot;year&quot;</span>], format=<span class="stringliteral">&quot;%Y&quot;</span></div>
<div class="line"><span class="lineno">  428</span>                ).view(np.int64)</div>
<div class="line"><span class="lineno">  429</span>                d[<span class="stringliteral">&quot;days&quot;</span>] = days_in_ns // NS_PER_DAY</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>        <span class="keywordflow">elif</span> infer_dtype(dates, skipna=<span class="keyword">False</span>) == <span class="stringliteral">&quot;datetime&quot;</span>:</div>
<div class="line"><span class="lineno">  432</span>            <span class="keywordflow">if</span> delta:</div>
<div class="line"><span class="lineno">  433</span>                delta = dates._values - stata_epoch</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>                <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x: datetime.timedelta) -&gt; float:</div>
<div class="line"><span class="lineno">  436</span>                    <span class="keywordflow">return</span> US_PER_DAY * x.days + 1000000 * x.seconds + x.microseconds</div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span>                v = np.vectorize(f)</div>
<div class="line"><span class="lineno">  439</span>                d[<span class="stringliteral">&quot;delta&quot;</span>] = v(delta)</div>
<div class="line"><span class="lineno">  440</span>            <span class="keywordflow">if</span> year:</div>
<div class="line"><span class="lineno">  441</span>                year_month = dates.apply(<span class="keyword">lambda</span> x: 100 * x.year + x.month)</div>
<div class="line"><span class="lineno">  442</span>                d[<span class="stringliteral">&quot;year&quot;</span>] = year_month._values // 100</div>
<div class="line"><span class="lineno">  443</span>                d[<span class="stringliteral">&quot;month&quot;</span>] = year_month._values - d[<span class="stringliteral">&quot;year&quot;</span>] * 100</div>
<div class="line"><span class="lineno">  444</span>            <span class="keywordflow">if</span> days:</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>                <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#aeb0d2dd2a2609d5775607acf542b2161">g</a>(x: datetime.datetime) -&gt; int:</div>
<div class="line"><span class="lineno">  447</span>                    <span class="keywordflow">return</span> (x - datetime.datetime(x.year, 1, 1)).days</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span>                v = np.vectorize(g)</div>
<div class="line"><span class="lineno">  450</span>                d[<span class="stringliteral">&quot;days&quot;</span>] = v(dates)</div>
<div class="line"><span class="lineno">  451</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  452</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  453</span>                <span class="stringliteral">&quot;Columns containing dates must contain either &quot;</span></div>
<div class="line"><span class="lineno">  454</span>                <span class="stringliteral">&quot;datetime64, datetime.datetime or null values.&quot;</span></div>
<div class="line"><span class="lineno">  455</span>            )</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span>        <span class="keywordflow">return</span> DataFrame(d, index=index)</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    bad_loc = isna(dates)</div>
<div class="line"><span class="lineno">  460</span>    index = dates.index</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">if</span> bad_loc.any():</div>
<div class="line"><span class="lineno">  462</span>        dates = Series(dates)</div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">if</span> is_datetime64_dtype(dates):</div>
<div class="line"><span class="lineno">  464</span>            dates[bad_loc] = to_datetime(stata_epoch)</div>
<div class="line"><span class="lineno">  465</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  466</span>            dates[bad_loc] = stata_epoch</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    <span class="keywordflow">if</span> fmt <span class="keywordflow">in</span> [<span class="stringliteral">&quot;%tc&quot;</span>, <span class="stringliteral">&quot;tc&quot;</span>]:</div>
<div class="line"><span class="lineno">  469</span>        d = parse_dates_safe(dates, delta=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  470</span>        conv_dates = d.delta / 1000</div>
<div class="line"><span class="lineno">  471</span>    <span class="keywordflow">elif</span> fmt <span class="keywordflow">in</span> [<span class="stringliteral">&quot;%tC&quot;</span>, <span class="stringliteral">&quot;tC&quot;</span>]:</div>
<div class="line"><span class="lineno">  472</span>        warnings.warn(</div>
<div class="line"><span class="lineno">  473</span>            <span class="stringliteral">&quot;Stata Internal Format tC not supported.&quot;</span>,</div>
<div class="line"><span class="lineno">  474</span>            stacklevel=find_stack_level(),</div>
<div class="line"><span class="lineno">  475</span>        )</div>
<div class="line"><span class="lineno">  476</span>        conv_dates = dates</div>
<div class="line"><span class="lineno">  477</span>    <span class="keywordflow">elif</span> fmt <span class="keywordflow">in</span> [<span class="stringliteral">&quot;%td&quot;</span>, <span class="stringliteral">&quot;td&quot;</span>]:</div>
<div class="line"><span class="lineno">  478</span>        d = parse_dates_safe(dates, delta=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  479</span>        conv_dates = d.delta // US_PER_DAY</div>
<div class="line"><span class="lineno">  480</span>    <span class="keywordflow">elif</span> fmt <span class="keywordflow">in</span> [<span class="stringliteral">&quot;%tw&quot;</span>, <span class="stringliteral">&quot;tw&quot;</span>]:</div>
<div class="line"><span class="lineno">  481</span>        d = parse_dates_safe(dates, year=<span class="keyword">True</span>, days=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  482</span>        conv_dates = 52 * (d.year - stata_epoch.year) + d.days // 7</div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordflow">elif</span> fmt <span class="keywordflow">in</span> [<span class="stringliteral">&quot;%tm&quot;</span>, <span class="stringliteral">&quot;tm&quot;</span>]:</div>
<div class="line"><span class="lineno">  484</span>        d = parse_dates_safe(dates, year=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  485</span>        conv_dates = 12 * (d.year - stata_epoch.year) + d.month - 1</div>
<div class="line"><span class="lineno">  486</span>    <span class="keywordflow">elif</span> fmt <span class="keywordflow">in</span> [<span class="stringliteral">&quot;%tq&quot;</span>, <span class="stringliteral">&quot;tq&quot;</span>]:</div>
<div class="line"><span class="lineno">  487</span>        d = parse_dates_safe(dates, year=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  488</span>        conv_dates = 4 * (d.year - stata_epoch.year) + (d.month - 1) // 3</div>
<div class="line"><span class="lineno">  489</span>    <span class="keywordflow">elif</span> fmt <span class="keywordflow">in</span> [<span class="stringliteral">&quot;%th&quot;</span>, <span class="stringliteral">&quot;th&quot;</span>]:</div>
<div class="line"><span class="lineno">  490</span>        d = parse_dates_safe(dates, year=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  491</span>        conv_dates = 2 * (d.year - stata_epoch.year) + (d.month &gt; 6).astype(int)</div>
<div class="line"><span class="lineno">  492</span>    <span class="keywordflow">elif</span> fmt <span class="keywordflow">in</span> [<span class="stringliteral">&quot;%ty&quot;</span>, <span class="stringliteral">&quot;ty&quot;</span>]:</div>
<div class="line"><span class="lineno">  493</span>        d = parse_dates_safe(dates, year=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  494</span>        conv_dates = d.year</div>
<div class="line"><span class="lineno">  495</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  496</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Format {fmt} is not a known Stata date format&quot;</span>)</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>    conv_dates = Series(conv_dates, dtype=np.float64)</div>
<div class="line"><span class="lineno">  499</span>    missing_value = struct.unpack(<span class="stringliteral">&quot;&lt;d&quot;</span>, b<span class="stringliteral">&quot;\x00\x00\x00\x00\x00\x00\xe0\x7f&quot;</span>)[0]</div>
<div class="line"><span class="lineno">  500</span>    conv_dates[bad_loc] = missing_value</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>    <span class="keywordflow">return</span> Series(conv_dates, index=index)</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_aeb0d2dd2a2609d5775607acf542b2161"><div class="ttname"><a href="__lapack__subroutines_8h.html#aeb0d2dd2a2609d5775607acf542b2161">g</a></div><div class="ttdeci">void npy_complex64 * g</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:284</div></div>
<div class="ttc" id="a__lapack__subroutines_8h_html_af01a903df7bdb7a494f5827e45bf3a2a"><div class="ttname"><a href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a></div><div class="ttdeci">void int int int int npy_complex64 int int npy_complex64 float float npy_complex64 npy_complex64 * f</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:262</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acc67a446d36d728ba9e54b670985ee90" name="acc67a446d36d728ba9e54b670985ee90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc67a446d36d728ba9e54b670985ee90">&#9670;&#160;</a></span>_dtype_to_default_stata_fmt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> str pandas.io.stata._dtype_to_default_stata_fmt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a>&#160;</td>
          <td class="paramname"><em>column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>dta_version</em> = <code>114</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>force_strl</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Map numpy dtype to stata's default format for this type. Not terribly
important since users can change this in Stata. Semantics are

object  -&gt; "%DDs" where DD is the length of the string.  If not a string,
            raise ValueError
float64 -&gt; "%10.0g"
float32 -&gt; "%9.0g"
int64   -&gt; "%9.0g"
int32   -&gt; "%12.0g"
int16   -&gt; "%8.0g"
int8    -&gt; "%8.0g"
strl    -&gt; "%9s"
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2136</span>) -&gt; str:</div>
<div class="line"><span class="lineno"> 2137</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2138</span><span class="stringliteral">    Map numpy dtype to stata&#39;s default format for this type. Not terribly</span></div>
<div class="line"><span class="lineno"> 2139</span><span class="stringliteral">    important since users can change this in Stata. Semantics are</span></div>
<div class="line"><span class="lineno"> 2140</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2141</span><span class="stringliteral">    object  -&gt; &quot;%DDs&quot; where DD is the length of the string.  If not a string,</span></div>
<div class="line"><span class="lineno"> 2142</span><span class="stringliteral">                raise ValueError</span></div>
<div class="line"><span class="lineno"> 2143</span><span class="stringliteral">    float64 -&gt; &quot;%10.0g&quot;</span></div>
<div class="line"><span class="lineno"> 2144</span><span class="stringliteral">    float32 -&gt; &quot;%9.0g&quot;</span></div>
<div class="line"><span class="lineno"> 2145</span><span class="stringliteral">    int64   -&gt; &quot;%9.0g&quot;</span></div>
<div class="line"><span class="lineno"> 2146</span><span class="stringliteral">    int32   -&gt; &quot;%12.0g&quot;</span></div>
<div class="line"><span class="lineno"> 2147</span><span class="stringliteral">    int16   -&gt; &quot;%8.0g&quot;</span></div>
<div class="line"><span class="lineno"> 2148</span><span class="stringliteral">    int8    -&gt; &quot;%8.0g&quot;</span></div>
<div class="line"><span class="lineno"> 2149</span><span class="stringliteral">    strl    -&gt; &quot;%9s&quot;</span></div>
<div class="line"><span class="lineno"> 2150</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2151</span>    <span class="comment"># TODO: Refactor to combine type with format</span></div>
<div class="line"><span class="lineno"> 2152</span>    <span class="comment"># TODO: expand this to handle a default datetime format?</span></div>
<div class="line"><span class="lineno"> 2153</span>    <span class="keywordflow">if</span> dta_version &lt; 117:</div>
<div class="line"><span class="lineno"> 2154</span>        max_str_len = 244</div>
<div class="line"><span class="lineno"> 2155</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2156</span>        max_str_len = 2045</div>
<div class="line"><span class="lineno"> 2157</span>        <span class="keywordflow">if</span> force_strl:</div>
<div class="line"><span class="lineno"> 2158</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;%9s&quot;</span></div>
<div class="line"><span class="lineno"> 2159</span>    <span class="keywordflow">if</span> dtype.type <span class="keywordflow">is</span> np.object_:</div>
<div class="line"><span class="lineno"> 2160</span>        itemsize = max_len_string_array(ensure_object(column._values))</div>
<div class="line"><span class="lineno"> 2161</span>        <span class="keywordflow">if</span> itemsize &gt; max_str_len:</div>
<div class="line"><span class="lineno"> 2162</span>            <span class="keywordflow">if</span> dta_version &gt;= 117:</div>
<div class="line"><span class="lineno"> 2163</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;%9s&quot;</span></div>
<div class="line"><span class="lineno"> 2164</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2165</span>                <span class="keywordflow">raise</span> ValueError(excessive_string_length_error.format(column.name))</div>
<div class="line"><span class="lineno"> 2166</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;%&quot;</span> + str(max(itemsize, 1)) + <span class="stringliteral">&quot;s&quot;</span></div>
<div class="line"><span class="lineno"> 2167</span>    <span class="keywordflow">elif</span> dtype == np.float64:</div>
<div class="line"><span class="lineno"> 2168</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;%10.0g&quot;</span></div>
<div class="line"><span class="lineno"> 2169</span>    <span class="keywordflow">elif</span> dtype == np.float32:</div>
<div class="line"><span class="lineno"> 2170</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;%9.0g&quot;</span></div>
<div class="line"><span class="lineno"> 2171</span>    <span class="keywordflow">elif</span> dtype == np.int32:</div>
<div class="line"><span class="lineno"> 2172</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;%12.0g&quot;</span></div>
<div class="line"><span class="lineno"> 2173</span>    <span class="keywordflow">elif</span> dtype == np.int8 <span class="keywordflow">or</span> dtype == np.int16:</div>
<div class="line"><span class="lineno"> 2174</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;%8.0g&quot;</span></div>
<div class="line"><span class="lineno"> 2175</span>    <span class="keywordflow">else</span>:  <span class="comment"># pragma : no cover</span></div>
<div class="line"><span class="lineno"> 2176</span>        <span class="keywordflow">raise</span> NotImplementedError(f<span class="stringliteral">&quot;Data type {dtype} not supported.&quot;</span>)</div>
<div class="line"><span class="lineno"> 2177</span> </div>
<div class="line"><span class="lineno"> 2178</span> </div>
<div class="line"><span class="lineno"> 2179</span><span class="preprocessor">@doc</span>(</div>
<div class="line"><span class="lineno"> 2180</span>    storage_options=_shared_docs[<span class="stringliteral">&quot;storage_options&quot;</span>],</div>
<div class="line"><span class="lineno"> 2181</span>    compression_options=_shared_docs[<span class="stringliteral">&quot;compression_options&quot;</span>] % <span class="stringliteral">&quot;fname&quot;</span>,</div>
<div class="line"><span class="lineno"> 2182</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a72f0205b03a5f09e68384be771cdfd0c" name="a72f0205b03a5f09e68384be771cdfd0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72f0205b03a5f09e68384be771cdfd0c">&#9670;&#160;</a></span>_dtype_to_stata_type()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> int pandas.io.stata._dtype_to_stata_type </td>
          <td>(</td>
          <td class="paramtype">np.dtype&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a>&#160;</td>
          <td class="paramname"><em>column</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Convert dtype types to stata types. Returns the byte of the given ordinal.
See TYPE_MAP and comments for an explanation. This is also explained in
the dta spec.
1 - 244 are strings of this length
                     Pandas    Stata
251 - for int8      byte
252 - for int16     int
253 - for int32     long
254 - for float32   float
255 - for double    double

If there are dates to convert, then dtype will already have the correct
type inserted.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2098</span><span class="keyword">def </span>_dtype_to_stata_type(dtype: np.dtype, column: Series) -&gt; int:</div>
<div class="line"><span class="lineno"> 2099</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2100</span><span class="stringliteral">    Convert dtype types to stata types. Returns the byte of the given ordinal.</span></div>
<div class="line"><span class="lineno"> 2101</span><span class="stringliteral">    See TYPE_MAP and comments for an explanation. This is also explained in</span></div>
<div class="line"><span class="lineno"> 2102</span><span class="stringliteral">    the dta spec.</span></div>
<div class="line"><span class="lineno"> 2103</span><span class="stringliteral">    1 - 244 are strings of this length</span></div>
<div class="line"><span class="lineno"> 2104</span><span class="stringliteral">                         Pandas    Stata</span></div>
<div class="line"><span class="lineno"> 2105</span><span class="stringliteral">    251 - for int8      byte</span></div>
<div class="line"><span class="lineno"> 2106</span><span class="stringliteral">    252 - for int16     int</span></div>
<div class="line"><span class="lineno"> 2107</span><span class="stringliteral">    253 - for int32     long</span></div>
<div class="line"><span class="lineno"> 2108</span><span class="stringliteral">    254 - for float32   float</span></div>
<div class="line"><span class="lineno"> 2109</span><span class="stringliteral">    255 - for double    double</span></div>
<div class="line"><span class="lineno"> 2110</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2111</span><span class="stringliteral">    If there are dates to convert, then dtype will already have the correct</span></div>
<div class="line"><span class="lineno"> 2112</span><span class="stringliteral">    type inserted.</span></div>
<div class="line"><span class="lineno"> 2113</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2114</span>    <span class="comment"># TODO: expand to handle datetime to integer conversion</span></div>
<div class="line"><span class="lineno"> 2115</span>    <span class="keywordflow">if</span> dtype.type <span class="keywordflow">is</span> np.object_:  <span class="comment"># try to coerce it to the biggest string</span></div>
<div class="line"><span class="lineno"> 2116</span>        <span class="comment"># not memory efficient, what else could we</span></div>
<div class="line"><span class="lineno"> 2117</span>        <span class="comment"># do?</span></div>
<div class="line"><span class="lineno"> 2118</span>        itemsize = max_len_string_array(ensure_object(column._values))</div>
<div class="line"><span class="lineno"> 2119</span>        <span class="keywordflow">return</span> max(itemsize, 1)</div>
<div class="line"><span class="lineno"> 2120</span>    <span class="keywordflow">elif</span> dtype.type <span class="keywordflow">is</span> np.float64:</div>
<div class="line"><span class="lineno"> 2121</span>        <span class="keywordflow">return</span> 255</div>
<div class="line"><span class="lineno"> 2122</span>    <span class="keywordflow">elif</span> dtype.type <span class="keywordflow">is</span> np.float32:</div>
<div class="line"><span class="lineno"> 2123</span>        <span class="keywordflow">return</span> 254</div>
<div class="line"><span class="lineno"> 2124</span>    <span class="keywordflow">elif</span> dtype.type <span class="keywordflow">is</span> np.int32:</div>
<div class="line"><span class="lineno"> 2125</span>        <span class="keywordflow">return</span> 253</div>
<div class="line"><span class="lineno"> 2126</span>    <span class="keywordflow">elif</span> dtype.type <span class="keywordflow">is</span> np.int16:</div>
<div class="line"><span class="lineno"> 2127</span>        <span class="keywordflow">return</span> 252</div>
<div class="line"><span class="lineno"> 2128</span>    <span class="keywordflow">elif</span> dtype.type <span class="keywordflow">is</span> np.int8:</div>
<div class="line"><span class="lineno"> 2129</span>        <span class="keywordflow">return</span> 251</div>
<div class="line"><span class="lineno"> 2130</span>    <span class="keywordflow">else</span>:  <span class="comment"># pragma : no cover</span></div>
<div class="line"><span class="lineno"> 2131</span>        <span class="keywordflow">raise</span> NotImplementedError(f<span class="stringliteral">&quot;Data type {dtype} not supported.&quot;</span>)</div>
<div class="line"><span class="lineno"> 2132</span> </div>
<div class="line"><span class="lineno"> 2133</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ceabf6481c092712c7f28a7298e12f0" name="a2ceabf6481c092712c7f28a7298e12f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ceabf6481c092712c7f28a7298e12f0">&#9670;&#160;</a></span>_dtype_to_stata_type_117()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> int pandas.io.stata._dtype_to_stata_type_117 </td>
          <td>(</td>
          <td class="paramtype">np.dtype&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a>&#160;</td>
          <td class="paramname"><em>column</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>force_strl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Converts dtype types to stata types. Returns the byte of the given ordinal.
See TYPE_MAP and comments for an explanation. This is also explained in
the dta spec.
1 - 2045 are strings of this length
            Pandas    Stata
32768 - for object    strL
65526 - for int8      byte
65527 - for int16     int
65528 - for int32     long
65529 - for float32   float
65530 - for double    double

If there are dates to convert, then dtype will already have the correct
type inserted.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2880</span><span class="keyword">def </span>_dtype_to_stata_type_117(dtype: np.dtype, column: Series, force_strl: bool) -&gt; int:</div>
<div class="line"><span class="lineno"> 2881</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2882</span><span class="stringliteral">    Converts dtype types to stata types. Returns the byte of the given ordinal.</span></div>
<div class="line"><span class="lineno"> 2883</span><span class="stringliteral">    See TYPE_MAP and comments for an explanation. This is also explained in</span></div>
<div class="line"><span class="lineno"> 2884</span><span class="stringliteral">    the dta spec.</span></div>
<div class="line"><span class="lineno"> 2885</span><span class="stringliteral">    1 - 2045 are strings of this length</span></div>
<div class="line"><span class="lineno"> 2886</span><span class="stringliteral">                Pandas    Stata</span></div>
<div class="line"><span class="lineno"> 2887</span><span class="stringliteral">    32768 - for object    strL</span></div>
<div class="line"><span class="lineno"> 2888</span><span class="stringliteral">    65526 - for int8      byte</span></div>
<div class="line"><span class="lineno"> 2889</span><span class="stringliteral">    65527 - for int16     int</span></div>
<div class="line"><span class="lineno"> 2890</span><span class="stringliteral">    65528 - for int32     long</span></div>
<div class="line"><span class="lineno"> 2891</span><span class="stringliteral">    65529 - for float32   float</span></div>
<div class="line"><span class="lineno"> 2892</span><span class="stringliteral">    65530 - for double    double</span></div>
<div class="line"><span class="lineno"> 2893</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2894</span><span class="stringliteral">    If there are dates to convert, then dtype will already have the correct</span></div>
<div class="line"><span class="lineno"> 2895</span><span class="stringliteral">    type inserted.</span></div>
<div class="line"><span class="lineno"> 2896</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2897</span>    <span class="comment"># TODO: expand to handle datetime to integer conversion</span></div>
<div class="line"><span class="lineno"> 2898</span>    <span class="keywordflow">if</span> force_strl:</div>
<div class="line"><span class="lineno"> 2899</span>        <span class="keywordflow">return</span> 32768</div>
<div class="line"><span class="lineno"> 2900</span>    <span class="keywordflow">if</span> dtype.type <span class="keywordflow">is</span> np.object_:  <span class="comment"># try to coerce it to the biggest string</span></div>
<div class="line"><span class="lineno"> 2901</span>        <span class="comment"># not memory efficient, what else could we</span></div>
<div class="line"><span class="lineno"> 2902</span>        <span class="comment"># do?</span></div>
<div class="line"><span class="lineno"> 2903</span>        itemsize = max_len_string_array(ensure_object(column._values))</div>
<div class="line"><span class="lineno"> 2904</span>        itemsize = max(itemsize, 1)</div>
<div class="line"><span class="lineno"> 2905</span>        <span class="keywordflow">if</span> itemsize &lt;= 2045:</div>
<div class="line"><span class="lineno"> 2906</span>            <span class="keywordflow">return</span> itemsize</div>
<div class="line"><span class="lineno"> 2907</span>        <span class="keywordflow">return</span> 32768</div>
<div class="line"><span class="lineno"> 2908</span>    <span class="keywordflow">elif</span> dtype.type <span class="keywordflow">is</span> np.float64:</div>
<div class="line"><span class="lineno"> 2909</span>        <span class="keywordflow">return</span> 65526</div>
<div class="line"><span class="lineno"> 2910</span>    <span class="keywordflow">elif</span> dtype.type <span class="keywordflow">is</span> np.float32:</div>
<div class="line"><span class="lineno"> 2911</span>        <span class="keywordflow">return</span> 65527</div>
<div class="line"><span class="lineno"> 2912</span>    <span class="keywordflow">elif</span> dtype.type <span class="keywordflow">is</span> np.int32:</div>
<div class="line"><span class="lineno"> 2913</span>        <span class="keywordflow">return</span> 65528</div>
<div class="line"><span class="lineno"> 2914</span>    <span class="keywordflow">elif</span> dtype.type <span class="keywordflow">is</span> np.int16:</div>
<div class="line"><span class="lineno"> 2915</span>        <span class="keywordflow">return</span> 65529</div>
<div class="line"><span class="lineno"> 2916</span>    <span class="keywordflow">elif</span> dtype.type <span class="keywordflow">is</span> np.int8:</div>
<div class="line"><span class="lineno"> 2917</span>        <span class="keywordflow">return</span> 65530</div>
<div class="line"><span class="lineno"> 2918</span>    <span class="keywordflow">else</span>:  <span class="comment"># pragma : no cover</span></div>
<div class="line"><span class="lineno"> 2919</span>        <span class="keywordflow">raise</span> NotImplementedError(f<span class="stringliteral">&quot;Data type {dtype} not supported.&quot;</span>)</div>
<div class="line"><span class="lineno"> 2920</span> </div>
<div class="line"><span class="lineno"> 2921</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a37cb7f9ab018d9d211cb5ff8ad932d44" name="a37cb7f9ab018d9d211cb5ff8ad932d44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37cb7f9ab018d9d211cb5ff8ad932d44">&#9670;&#160;</a></span>_maybe_convert_to_int_keys()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> dict pandas.io.stata._maybe_convert_to_int_keys </td>
          <td>(</td>
          <td class="paramtype">dict&#160;</td>
          <td class="paramname"><em>convert_dates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list[Hashable]&#160;</td>
          <td class="paramname"><em>varlist</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2084</span><span class="keyword">def </span>_maybe_convert_to_int_keys(convert_dates: dict, varlist: list[Hashable]) -&gt; dict:</div>
<div class="line"><span class="lineno"> 2085</span>    new_dict = {}</div>
<div class="line"><span class="lineno"> 2086</span>    <span class="keywordflow">for</span> key <span class="keywordflow">in</span> convert_dates:</div>
<div class="line"><span class="lineno"> 2087</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> convert_dates[key].startswith(<span class="stringliteral">&quot;%&quot;</span>):  <span class="comment"># make sure proper fmts</span></div>
<div class="line"><span class="lineno"> 2088</span>            convert_dates[key] = <span class="stringliteral">&quot;%&quot;</span> + convert_dates[key]</div>
<div class="line"><span class="lineno"> 2089</span>        <span class="keywordflow">if</span> key <span class="keywordflow">in</span> varlist:</div>
<div class="line"><span class="lineno"> 2090</span>            new_dict.update({varlist.index(key): convert_dates[key]})</div>
<div class="line"><span class="lineno"> 2091</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2092</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(key, int):</div>
<div class="line"><span class="lineno"> 2093</span>                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;convert_dates key must be a column or an integer&quot;</span>)</div>
<div class="line"><span class="lineno"> 2094</span>            new_dict.update({key: convert_dates[key]})</div>
<div class="line"><span class="lineno"> 2095</span>    <span class="keywordflow">return</span> new_dict</div>
<div class="line"><span class="lineno"> 2096</span> </div>
<div class="line"><span class="lineno"> 2097</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aef28e5cb1e9afd91e4e536c4531046ef" name="aef28e5cb1e9afd91e4e536c4531046ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef28e5cb1e9afd91e4e536c4531046ef">&#9670;&#160;</a></span>_pad_bytes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> AnyStr pandas.io.stata._pad_bytes </td>
          <td>(</td>
          <td class="paramtype">AnyStr&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Take a char string and pads it with null bytes until it's length chars.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2050</span><span class="keyword">def </span>_pad_bytes(name: AnyStr, length: int) -&gt; AnyStr:</div>
<div class="line"><span class="lineno"> 2051</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2052</span><span class="stringliteral">    Take a char string and pads it with null bytes until it&#39;s length chars.</span></div>
<div class="line"><span class="lineno"> 2053</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2054</span>    <span class="keywordflow">if</span> isinstance(name, bytes):</div>
<div class="line"><span class="lineno"> 2055</span>        <span class="keywordflow">return</span> name + b<span class="stringliteral">&quot;\x00&quot;</span> * (length - len(name))</div>
<div class="line"><span class="lineno"> 2056</span>    <span class="keywordflow">return</span> name + <span class="stringliteral">&quot;\x00&quot;</span> * (length - len(name))</div>
<div class="line"><span class="lineno"> 2057</span> </div>
<div class="line"><span class="lineno"> 2058</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad13727e5489b70f417c4afb646cba5ad" name="ad13727e5489b70f417c4afb646cba5ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad13727e5489b70f417c4afb646cba5ad">&#9670;&#160;</a></span>_pad_bytes_new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> bytes pandas.io.stata._pad_bytes_new </td>
          <td>(</td>
          <td class="paramtype">str | bytes&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Takes a bytes instance and pads it with null bytes until it's length chars.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2922</span><span class="keyword">def </span>_pad_bytes_new(name: str | bytes, length: int) -&gt; bytes:</div>
<div class="line"><span class="lineno"> 2923</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2924</span><span class="stringliteral">    Takes a bytes instance and pads it with null bytes until it&#39;s length chars.</span></div>
<div class="line"><span class="lineno"> 2925</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2926</span>    <span class="keywordflow">if</span> isinstance(name, str):</div>
<div class="line"><span class="lineno"> 2927</span>        name = bytes(name, <span class="stringliteral">&quot;utf-8&quot;</span>)</div>
<div class="line"><span class="lineno"> 2928</span>    <span class="keywordflow">return</span> name + b<span class="stringliteral">&quot;\x00&quot;</span> * (length - len(name))</div>
<div class="line"><span class="lineno"> 2929</span> </div>
<div class="line"><span class="lineno"> 2930</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ace866d9f8c20d545fb9da6102715f1da" name="ace866d9f8c20d545fb9da6102715f1da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace866d9f8c20d545fb9da6102715f1da">&#9670;&#160;</a></span>_set_endianness()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> str pandas.io.stata._set_endianness </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>endianness</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2041</span><span class="keyword">def </span>_set_endianness(endianness: str) -&gt; str:</div>
<div class="line"><span class="lineno"> 2042</span>    <span class="keywordflow">if</span> endianness.lower() <span class="keywordflow">in</span> [<span class="stringliteral">&quot;&lt;&quot;</span>, <span class="stringliteral">&quot;little&quot;</span>]:</div>
<div class="line"><span class="lineno"> 2043</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;&quot;</span></div>
<div class="line"><span class="lineno"> 2044</span>    <span class="keywordflow">elif</span> endianness.lower() <span class="keywordflow">in</span> [<span class="stringliteral">&quot;&gt;&quot;</span>, <span class="stringliteral">&quot;big&quot;</span>]:</div>
<div class="line"><span class="lineno"> 2045</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&gt;&quot;</span></div>
<div class="line"><span class="lineno"> 2046</span>    <span class="keywordflow">else</span>:  <span class="comment"># pragma : no cover</span></div>
<div class="line"><span class="lineno"> 2047</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Endianness {endianness} not understood&quot;</span>)</div>
<div class="line"><span class="lineno"> 2048</span> </div>
<div class="line"><span class="lineno"> 2049</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6411918e2744a817d56a244b9f7056e" name="ac6411918e2744a817d56a244b9f7056e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6411918e2744a817d56a244b9f7056e">&#9670;&#160;</a></span>_stata_elapsed_date_to_datetime_vec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classpandas_1_1core_1_1series_1_1_series.html">Series</a> pandas.io.stata._stata_elapsed_date_to_datetime_vec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fmt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Convert from SIF to datetime. https://www.stata.com/help.cgi?datetime

Parameters
----------
dates : Series
    The Stata Internal Format date to convert to datetime according to fmt
fmt : str
    The format to convert to. Can be, tc, td, tw, tm, tq, th, ty
    Returns

Returns
-------
converted : Series
    The converted dates

Examples
--------
&gt;&gt;&gt; dates = pd.Series([52])
&gt;&gt;&gt; _stata_elapsed_date_to_datetime_vec(dates , "%tw")
0   1961-01-01
dtype: datetime64[ns]

Notes
-----
datetime/c - tc
    milliseconds since 01jan1960 00:00:00.000, assuming 86,400 s/day
datetime/C - tC - NOT IMPLEMENTED
    milliseconds since 01jan1960 00:00:00.000, adjusted for leap seconds
date - td
    days since 01jan1960 (01jan1960 = 0)
weekly date - tw
    weeks since 1960w1
    This assumes 52 weeks in a year, then adds 7 * remainder of the weeks.
    The datetime value is the start of the week in terms of days in the
    year, not ISO calendar weeks.
monthly date - tm
    months since 1960m1
quarterly date - tq
    quarters since 1960q1
half-yearly date - th
    half-years since 1960h1 yearly
date - ty
    years since 0000
</pre> <div class="fragment"><div class="line"><span class="lineno">  232</span><span class="keyword">def </span>_stata_elapsed_date_to_datetime_vec(dates, fmt) -&gt; Series:</div>
<div class="line"><span class="lineno">  233</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral">    Convert from SIF to datetime. https://www.stata.com/help.cgi?datetime</span></div>
<div class="line"><span class="lineno">  235</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  238</span><span class="stringliteral">    dates : Series</span></div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral">        The Stata Internal Format date to convert to datetime according to fmt</span></div>
<div class="line"><span class="lineno">  240</span><span class="stringliteral">    fmt : str</span></div>
<div class="line"><span class="lineno">  241</span><span class="stringliteral">        The format to convert to. Can be, tc, td, tw, tm, tq, th, ty</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral">    converted : Series</span></div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral">        The converted dates</span></div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">    &gt;&gt;&gt; dates = pd.Series([52])</span></div>
<div class="line"><span class="lineno">  252</span><span class="stringliteral">    &gt;&gt;&gt; _stata_elapsed_date_to_datetime_vec(dates , &quot;%tw&quot;)</span></div>
<div class="line"><span class="lineno">  253</span><span class="stringliteral">    0   1961-01-01</span></div>
<div class="line"><span class="lineno">  254</span><span class="stringliteral">    dtype: datetime64[ns]</span></div>
<div class="line"><span class="lineno">  255</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  256</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  257</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  258</span><span class="stringliteral">    datetime/c - tc</span></div>
<div class="line"><span class="lineno">  259</span><span class="stringliteral">        milliseconds since 01jan1960 00:00:00.000, assuming 86,400 s/day</span></div>
<div class="line"><span class="lineno">  260</span><span class="stringliteral">    datetime/C - tC - NOT IMPLEMENTED</span></div>
<div class="line"><span class="lineno">  261</span><span class="stringliteral">        milliseconds since 01jan1960 00:00:00.000, adjusted for leap seconds</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">    date - td</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">        days since 01jan1960 (01jan1960 = 0)</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral">    weekly date - tw</span></div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">        weeks since 1960w1</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral">        This assumes 52 weeks in a year, then adds 7 * remainder of the weeks.</span></div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">        The datetime value is the start of the week in terms of days in the</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral">        year, not ISO calendar weeks.</span></div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral">    monthly date - tm</span></div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral">        months since 1960m1</span></div>
<div class="line"><span class="lineno">  271</span><span class="stringliteral">    quarterly date - tq</span></div>
<div class="line"><span class="lineno">  272</span><span class="stringliteral">        quarters since 1960q1</span></div>
<div class="line"><span class="lineno">  273</span><span class="stringliteral">    half-yearly date - th</span></div>
<div class="line"><span class="lineno">  274</span><span class="stringliteral">        half-years since 1960h1 yearly</span></div>
<div class="line"><span class="lineno">  275</span><span class="stringliteral">    date - ty</span></div>
<div class="line"><span class="lineno">  276</span><span class="stringliteral">        years since 0000</span></div>
<div class="line"><span class="lineno">  277</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  278</span>    MIN_YEAR, MAX_YEAR = Timestamp.min.year, Timestamp.max.year</div>
<div class="line"><span class="lineno">  279</span>    MAX_DAY_DELTA = (Timestamp.max - datetime.datetime(1960, 1, 1)).days</div>
<div class="line"><span class="lineno">  280</span>    MIN_DAY_DELTA = (Timestamp.min - datetime.datetime(1960, 1, 1)).days</div>
<div class="line"><span class="lineno">  281</span>    MIN_MS_DELTA = MIN_DAY_DELTA * 24 * 3600 * 1000</div>
<div class="line"><span class="lineno">  282</span>    MAX_MS_DELTA = MAX_DAY_DELTA * 24 * 3600 * 1000</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>    <span class="keyword">def </span>convert_year_month_safe(year, month) -&gt; Series:</div>
<div class="line"><span class="lineno">  285</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral">        Convert year and month to datetimes, using pandas vectorized versions</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">        when the date range falls within the range supported by pandas.</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral">        Otherwise it falls back to a slower but more robust method</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral">        using datetime.</span></div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">if</span> year.max() &lt; MAX_YEAR <span class="keywordflow">and</span> year.min() &gt; MIN_YEAR:</div>
<div class="line"><span class="lineno">  292</span>            <span class="keywordflow">return</span> to_datetime(100 * year + month, format=<span class="stringliteral">&quot;%Y%m&quot;</span>)</div>
<div class="line"><span class="lineno">  293</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  294</span>            index = getattr(year, <span class="stringliteral">&quot;index&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  295</span>            <span class="keywordflow">return</span> Series(</div>
<div class="line"><span class="lineno">  296</span>                [datetime.datetime(y, m, 1) <span class="keywordflow">for</span> y, m <span class="keywordflow">in</span> zip(year, month)], index=index</div>
<div class="line"><span class="lineno">  297</span>            )</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    <span class="keyword">def </span>convert_year_days_safe(year, days) -&gt; Series:</div>
<div class="line"><span class="lineno">  300</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">        Converts year (e.g. 1999) and days since the start of the year to a</span></div>
<div class="line"><span class="lineno">  302</span><span class="stringliteral">        datetime or datetime64 Series</span></div>
<div class="line"><span class="lineno">  303</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">if</span> year.max() &lt; (MAX_YEAR - 1) <span class="keywordflow">and</span> year.min() &gt; MIN_YEAR:</div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordflow">return</span> to_datetime(year, format=<span class="stringliteral">&quot;%Y&quot;</span>) + to_timedelta(days, unit=<span class="stringliteral">&quot;d&quot;</span>)</div>
<div class="line"><span class="lineno">  306</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  307</span>            index = getattr(year, <span class="stringliteral">&quot;index&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  308</span>            value = [</div>
<div class="line"><span class="lineno">  309</span>                datetime.datetime(y, 1, 1) + relativedelta(days=int(d))</div>
<div class="line"><span class="lineno">  310</span>                <span class="keywordflow">for</span> y, d <span class="keywordflow">in</span> zip(year, days)</div>
<div class="line"><span class="lineno">  311</span>            ]</div>
<div class="line"><span class="lineno">  312</span>            <span class="keywordflow">return</span> Series(value, index=index)</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span>    <span class="keyword">def </span>convert_delta_safe(base, deltas, unit) -&gt; Series:</div>
<div class="line"><span class="lineno">  315</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  316</span><span class="stringliteral">        Convert base dates and deltas to datetimes, using pandas vectorized</span></div>
<div class="line"><span class="lineno">  317</span><span class="stringliteral">        versions if the deltas satisfy restrictions required to be expressed</span></div>
<div class="line"><span class="lineno">  318</span><span class="stringliteral">        as dates in pandas.</span></div>
<div class="line"><span class="lineno">  319</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  320</span>        index = getattr(deltas, <span class="stringliteral">&quot;index&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">if</span> unit == <span class="stringliteral">&quot;d&quot;</span>:</div>
<div class="line"><span class="lineno">  322</span>            <span class="keywordflow">if</span> deltas.max() &gt; MAX_DAY_DELTA <span class="keywordflow">or</span> deltas.min() &lt; MIN_DAY_DELTA:</div>
<div class="line"><span class="lineno">  323</span>                values = [base + relativedelta(days=int(d)) <span class="keywordflow">for</span> d <span class="keywordflow">in</span> deltas]</div>
<div class="line"><span class="lineno">  324</span>                <span class="keywordflow">return</span> Series(values, index=index)</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">elif</span> unit == <span class="stringliteral">&quot;ms&quot;</span>:</div>
<div class="line"><span class="lineno">  326</span>            <span class="keywordflow">if</span> deltas.max() &gt; MAX_MS_DELTA <span class="keywordflow">or</span> deltas.min() &lt; MIN_MS_DELTA:</div>
<div class="line"><span class="lineno">  327</span>                values = [</div>
<div class="line"><span class="lineno">  328</span>                    base + relativedelta(microseconds=(int(d) * 1000)) <span class="keywordflow">for</span> d <span class="keywordflow">in</span> deltas</div>
<div class="line"><span class="lineno">  329</span>                ]</div>
<div class="line"><span class="lineno">  330</span>                <span class="keywordflow">return</span> Series(values, index=index)</div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  332</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;format not understood&quot;</span>)</div>
<div class="line"><span class="lineno">  333</span>        base = to_datetime(base)</div>
<div class="line"><span class="lineno">  334</span>        deltas = to_timedelta(deltas, unit=unit)</div>
<div class="line"><span class="lineno">  335</span>        <span class="keywordflow">return</span> base + deltas</div>
<div class="line"><span class="lineno">  336</span> </div>
<div class="line"><span class="lineno">  337</span>    <span class="comment"># TODO(non-nano): If/when pandas supports more than datetime64[ns], this</span></div>
<div class="line"><span class="lineno">  338</span>    <span class="comment">#  should be improved to use correct range, e.g. datetime[Y] for yearly</span></div>
<div class="line"><span class="lineno">  339</span>    bad_locs = np.isnan(dates)</div>
<div class="line"><span class="lineno">  340</span>    has_bad_values = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  341</span>    <span class="keywordflow">if</span> bad_locs.any():</div>
<div class="line"><span class="lineno">  342</span>        has_bad_values = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  343</span>        <span class="comment"># reset cache to avoid SettingWithCopy checks (we own the DataFrame and the</span></div>
<div class="line"><span class="lineno">  344</span>        <span class="comment"># `dates` Series is used to overwrite itself in the DataFramae)</span></div>
<div class="line"><span class="lineno">  345</span>        dates._reset_cacher()</div>
<div class="line"><span class="lineno">  346</span>        dates[bad_locs] = 1.0  <span class="comment"># Replace with NaT</span></div>
<div class="line"><span class="lineno">  347</span>    dates = dates.astype(np.int64)</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>    <span class="keywordflow">if</span> fmt.startswith((<span class="stringliteral">&quot;%tc&quot;</span>, <span class="stringliteral">&quot;tc&quot;</span>)):  <span class="comment"># Delta ms relative to base</span></div>
<div class="line"><span class="lineno">  350</span>        base = stata_epoch</div>
<div class="line"><span class="lineno">  351</span>        ms = dates</div>
<div class="line"><span class="lineno">  352</span>        conv_dates = convert_delta_safe(base, ms, <span class="stringliteral">&quot;ms&quot;</span>)</div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">elif</span> fmt.startswith((<span class="stringliteral">&quot;%tC&quot;</span>, <span class="stringliteral">&quot;tC&quot;</span>)):</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>        warnings.warn(</div>
<div class="line"><span class="lineno">  356</span>            <span class="stringliteral">&quot;Encountered %tC format. Leaving in Stata Internal Format.&quot;</span>,</div>
<div class="line"><span class="lineno">  357</span>            stacklevel=find_stack_level(),</div>
<div class="line"><span class="lineno">  358</span>        )</div>
<div class="line"><span class="lineno">  359</span>        conv_dates = Series(dates, dtype=object)</div>
<div class="line"><span class="lineno">  360</span>        <span class="keywordflow">if</span> has_bad_values:</div>
<div class="line"><span class="lineno">  361</span>            conv_dates[bad_locs] = NaT</div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">return</span> conv_dates</div>
<div class="line"><span class="lineno">  363</span>    <span class="comment"># Delta days relative to base</span></div>
<div class="line"><span class="lineno">  364</span>    <span class="keywordflow">elif</span> fmt.startswith((<span class="stringliteral">&quot;%td&quot;</span>, <span class="stringliteral">&quot;td&quot;</span>, <span class="stringliteral">&quot;%d&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>)):</div>
<div class="line"><span class="lineno">  365</span>        base = stata_epoch</div>
<div class="line"><span class="lineno">  366</span>        days = dates</div>
<div class="line"><span class="lineno">  367</span>        conv_dates = convert_delta_safe(base, days, <span class="stringliteral">&quot;d&quot;</span>)</div>
<div class="line"><span class="lineno">  368</span>    <span class="comment"># does not count leap days - 7 days is a week.</span></div>
<div class="line"><span class="lineno">  369</span>    <span class="comment"># 52nd week may have more than 7 days</span></div>
<div class="line"><span class="lineno">  370</span>    <span class="keywordflow">elif</span> fmt.startswith((<span class="stringliteral">&quot;%tw&quot;</span>, <span class="stringliteral">&quot;tw&quot;</span>)):</div>
<div class="line"><span class="lineno">  371</span>        year = stata_epoch.year + dates // 52</div>
<div class="line"><span class="lineno">  372</span>        days = (dates % 52) * 7</div>
<div class="line"><span class="lineno">  373</span>        conv_dates = convert_year_days_safe(year, days)</div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordflow">elif</span> fmt.startswith((<span class="stringliteral">&quot;%tm&quot;</span>, <span class="stringliteral">&quot;tm&quot;</span>)):  <span class="comment"># Delta months relative to base</span></div>
<div class="line"><span class="lineno">  375</span>        year = stata_epoch.year + dates // 12</div>
<div class="line"><span class="lineno">  376</span>        month = (dates % 12) + 1</div>
<div class="line"><span class="lineno">  377</span>        conv_dates = convert_year_month_safe(year, month)</div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">elif</span> fmt.startswith((<span class="stringliteral">&quot;%tq&quot;</span>, <span class="stringliteral">&quot;tq&quot;</span>)):  <span class="comment"># Delta quarters relative to base</span></div>
<div class="line"><span class="lineno">  379</span>        year = stata_epoch.year + dates // 4</div>
<div class="line"><span class="lineno">  380</span>        quarter_month = (dates % 4) * 3 + 1</div>
<div class="line"><span class="lineno">  381</span>        conv_dates = convert_year_month_safe(year, quarter_month)</div>
<div class="line"><span class="lineno">  382</span>    <span class="keywordflow">elif</span> fmt.startswith((<span class="stringliteral">&quot;%th&quot;</span>, <span class="stringliteral">&quot;th&quot;</span>)):  <span class="comment"># Delta half-years relative to base</span></div>
<div class="line"><span class="lineno">  383</span>        year = stata_epoch.year + dates // 2</div>
<div class="line"><span class="lineno">  384</span>        month = (dates % 2) * 6 + 1</div>
<div class="line"><span class="lineno">  385</span>        conv_dates = convert_year_month_safe(year, month)</div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">elif</span> fmt.startswith((<span class="stringliteral">&quot;%ty&quot;</span>, <span class="stringliteral">&quot;ty&quot;</span>)):  <span class="comment"># Years -- not delta</span></div>
<div class="line"><span class="lineno">  387</span>        year = dates</div>
<div class="line"><span class="lineno">  388</span>        first_month = np.ones_like(dates)</div>
<div class="line"><span class="lineno">  389</span>        conv_dates = convert_year_month_safe(year, first_month)</div>
<div class="line"><span class="lineno">  390</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Date fmt {fmt} not understood&quot;</span>)</div>
<div class="line"><span class="lineno">  392</span> </div>
<div class="line"><span class="lineno">  393</span>    <span class="keywordflow">if</span> has_bad_values:  <span class="comment"># Restore NaT for bad values</span></div>
<div class="line"><span class="lineno">  394</span>        conv_dates[bad_locs] = NaT</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">return</span> conv_dates</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0225d268ae3804d771964b327d6c0a0e" name="a0225d268ae3804d771964b327d6c0a0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0225d268ae3804d771964b327d6c0a0e">&#9670;&#160;</a></span>read_stata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a> | <a class="el" href="classpandas_1_1io_1_1stata_1_1_stata_reader.html">StataReader</a> pandas.io.stata.read_stata </td>
          <td>(</td>
          <td class="paramtype">FilePath | <a class="el" href="classpandas_1_1__typing_1_1_read_buffer.html">ReadBuffer</a>[bytes]&#160;</td>
          <td class="paramname"><em>filepath_or_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>convert_dates</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>convert_categoricals</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str | None &#160;</td>
          <td class="paramname"><em>index_col</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>convert_missing</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>preserve_dtypes</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Sequence[str] | None &#160;</td>
          <td class="paramname"><em>columns</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>order_categoricals</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int | None &#160;</td>
          <td class="paramname"><em>chunksize</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>iterator</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CompressionOptions &#160;</td>
          <td class="paramname"><em>compression</em> = <code>&quot;infer&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">StorageOptions &#160;</td>
          <td class="paramname"><em>storage_options</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2018</span>) -&gt; DataFrame | StataReader:</div>
<div class="line"><span class="lineno"> 2019</span> </div>
<div class="line"><span class="lineno"> 2020</span>    reader = StataReader(</div>
<div class="line"><span class="lineno"> 2021</span>        filepath_or_buffer,</div>
<div class="line"><span class="lineno"> 2022</span>        convert_dates=convert_dates,</div>
<div class="line"><span class="lineno"> 2023</span>        convert_categoricals=convert_categoricals,</div>
<div class="line"><span class="lineno"> 2024</span>        index_col=index_col,</div>
<div class="line"><span class="lineno"> 2025</span>        convert_missing=convert_missing,</div>
<div class="line"><span class="lineno"> 2026</span>        preserve_dtypes=preserve_dtypes,</div>
<div class="line"><span class="lineno"> 2027</span>        columns=columns,</div>
<div class="line"><span class="lineno"> 2028</span>        order_categoricals=order_categoricals,</div>
<div class="line"><span class="lineno"> 2029</span>        chunksize=chunksize,</div>
<div class="line"><span class="lineno"> 2030</span>        storage_options=storage_options,</div>
<div class="line"><span class="lineno"> 2031</span>        compression=compression,</div>
<div class="line"><span class="lineno"> 2032</span>    )</div>
<div class="line"><span class="lineno"> 2033</span> </div>
<div class="line"><span class="lineno"> 2034</span>    <span class="keywordflow">if</span> iterator <span class="keywordflow">or</span> chunksize:</div>
<div class="line"><span class="lineno"> 2035</span>        <span class="keywordflow">return</span> reader</div>
<div class="line"><span class="lineno"> 2036</span> </div>
<div class="line"><span class="lineno"> 2037</span>    <span class="keyword">with</span> reader:</div>
<div class="line"><span class="lineno"> 2038</span>        <span class="keywordflow">return</span> reader.read()</div>
<div class="line"><span class="lineno"> 2039</span> </div>
<div class="line"><span class="lineno"> 2040</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a1467bee4c8d62caca37093b1bcb50cef" name="a1467bee4c8d62caca37093b1bcb50cef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1467bee4c8d62caca37093b1bcb50cef">&#9670;&#160;</a></span>_chunksize_params</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str pandas.io.stata._chunksize_params</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">chunksize : int, default None</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">    Return StataReader object for iterations, returns chunks with</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">    given number of lines.&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3f210c07fd6ee66afdcc4b06b136883c" name="a3f210c07fd6ee66afdcc4b06b136883c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f210c07fd6ee66afdcc4b06b136883c">&#9670;&#160;</a></span>_date_formats</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list pandas.io.stata._date_formats = [&quot;%tc&quot;, &quot;%tC&quot;, &quot;%td&quot;, &quot;%d&quot;, &quot;%tw&quot;, &quot;%tm&quot;, &quot;%tq&quot;, &quot;%th&quot;, &quot;%ty&quot;]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a82a0bb0c93fcea175e5f03dd709de2f1" name="a82a0bb0c93fcea175e5f03dd709de2f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82a0bb0c93fcea175e5f03dd709de2f1">&#9670;&#160;</a></span>_iterator_params</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str pandas.io.stata._iterator_params</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">iterator : bool, default False</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">    Return StataReader object.&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b0c7b9fca1eb403a17c3247bed6dd6a" name="a3b0c7b9fca1eb403a17c3247bed6dd6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b0c7b9fca1eb403a17c3247bed6dd6a">&#9670;&#160;</a></span>_read_method_doc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str pandas.io.stata._read_method_doc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  f<span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">Reads observations from Stata file, converting them into a dataframe</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">Parameters</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">----------</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral">nrows : int</span></div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral">    Number of lines to read from data file, if None read whole file.</span></div>
<div class="line"><span class="lineno">    8</span><span class="stringliteral">{_statafile_processing_params1}</span></div>
<div class="line"><span class="lineno">    9</span><span class="stringliteral">{_statafile_processing_params2}</span></div>
<div class="line"><span class="lineno">   10</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   11</span><span class="stringliteral">Returns</span></div>
<div class="line"><span class="lineno">   12</span><span class="stringliteral">-------</span></div>
<div class="line"><span class="lineno">   13</span><span class="stringliteral">DataFrame</span></div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa7ae5eb0d7b3ff90100ad22efb4b42f8" name="aa7ae5eb0d7b3ff90100ad22efb4b42f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7ae5eb0d7b3ff90100ad22efb4b42f8">&#9670;&#160;</a></span>_read_stata_doc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str pandas.io.stata._read_stata_doc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5a2249a51163ade714bd363446d3eefc" name="a5a2249a51163ade714bd363446d3eefc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a2249a51163ade714bd363446d3eefc">&#9670;&#160;</a></span>_reader_notes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str pandas.io.stata._reader_notes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">Notes</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">-----</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">Categorical variables read through an iterator may not have the same</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">categories and dtype. This occurs when  a variable stored in a DTA</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral">file is associated to an incomplete set of value labels that only</span></div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral">label a strict subset of the values.&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c991ba8675b4d596d0d080b98a67c40" name="a4c991ba8675b4d596d0d080b98a67c40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c991ba8675b4d596d0d080b98a67c40">&#9670;&#160;</a></span>_stata_reader_doc</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str pandas.io.stata._stata_reader_doc</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  f<span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">Class for reading Stata dta files.</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">Parameters</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">----------</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral">path_or_buf : path (string), buffer or path object</span></div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral">    string, path object (pathlib.Path or py._path.local.LocalPath) or object</span></div>
<div class="line"><span class="lineno">    8</span><span class="stringliteral">    implementing a binary read() functions.</span></div>
<div class="line"><span class="lineno">    9</span><span class="stringliteral">{_statafile_processing_params1}</span></div>
<div class="line"><span class="lineno">   10</span><span class="stringliteral">{_statafile_processing_params2}</span></div>
<div class="line"><span class="lineno">   11</span><span class="stringliteral">{_chunksize_params}</span></div>
<div class="line"><span class="lineno">   12</span><span class="stringliteral">{_shared_docs[&quot;decompression_options&quot;]}</span></div>
<div class="line"><span class="lineno">   13</span><span class="stringliteral">{_shared_docs[&quot;storage_options&quot;]}</span></div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   15</span><span class="stringliteral">{_reader_notes}</span></div>
<div class="line"><span class="lineno">   16</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a21fae4a4d6e30bcb194af6ffdb786a75" name="a21fae4a4d6e30bcb194af6ffdb786a75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21fae4a4d6e30bcb194af6ffdb786a75">&#9670;&#160;</a></span>_statafile_processing_params1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str pandas.io.stata._statafile_processing_params1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">convert_dates : bool, default True</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">    Convert date variables to DataFrame time values.</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">convert_categoricals : bool, default True</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">    Read value labels and convert columns to Categorical/Factor variables.&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15ee3a659149086547c952a4d477ee87" name="a15ee3a659149086547c952a4d477ee87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15ee3a659149086547c952a4d477ee87">&#9670;&#160;</a></span>_statafile_processing_params2</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str pandas.io.stata._statafile_processing_params2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;\</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">index_col : str, optional</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">    Column to set as index.</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">convert_missing : bool, default False</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">    Flag indicating whether to convert missing values to their Stata</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral">    representations.  If False, missing values are replaced with nan.</span></div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral">    If True, columns containing missing values are returned with</span></div>
<div class="line"><span class="lineno">    8</span><span class="stringliteral">    object data types and missing values are represented by</span></div>
<div class="line"><span class="lineno">    9</span><span class="stringliteral">    StataMissingValue objects.</span></div>
<div class="line"><span class="lineno">   10</span><span class="stringliteral">preserve_dtypes : bool, default True</span></div>
<div class="line"><span class="lineno">   11</span><span class="stringliteral">    Preserve Stata datatypes. If False, numeric data are upcast to pandas</span></div>
<div class="line"><span class="lineno">   12</span><span class="stringliteral">    default types for foreign data (float64 or int64).</span></div>
<div class="line"><span class="lineno">   13</span><span class="stringliteral">columns : list or None</span></div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral">    Columns to retain.  Columns will be returned in the given order.  None</span></div>
<div class="line"><span class="lineno">   15</span><span class="stringliteral">    returns all columns.</span></div>
<div class="line"><span class="lineno">   16</span><span class="stringliteral">order_categoricals : bool, default True</span></div>
<div class="line"><span class="lineno">   17</span><span class="stringliteral">    Flag indicating whether converted categorical data are ordered.&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cec6e93bb1f1f1277d20909f0793e96" name="a2cec6e93bb1f1f1277d20909f0793e96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cec6e93bb1f1f1277d20909f0793e96">&#9670;&#160;</a></span>_version_error</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tuple pandas.io.stata._version_error</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  (</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;Version of given Stata file is {version}. pandas supports importing &quot;</span></div>
<div class="line"><span class="lineno">    3</span>    <span class="stringliteral">&quot;versions 105, 108, 111 (Stata 7SE), 113 (Stata 8/9), &quot;</span></div>
<div class="line"><span class="lineno">    4</span>    <span class="stringliteral">&quot;114 (Stata 10/11), 115 (Stata 12), 117 (Stata 13), 118 (Stata 14/15/16),&quot;</span></div>
<div class="line"><span class="lineno">    5</span>    <span class="stringliteral">&quot;and 119 (Stata 15/16, over 32,767 variables).&quot;</span></div>
<div class="line"><span class="lineno">    6</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0408e8f5d8c9fe173b675dac6b1dc77" name="aa0408e8f5d8c9fe173b675dac6b1dc77"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0408e8f5d8c9fe173b675dac6b1dc77">&#9670;&#160;</a></span>categorical_conversion_warning</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Final pandas.io.stata.categorical_conversion_warning</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">One or more series with value labels are not fully labeled. Reading this</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">dataset with an iterator results in categorical variable with different</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">categories. This occurs since it is not possible to know all possible values</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">until the entire dataset has been read. To avoid this warning, you can either</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral">read dataset without an iterator, or manually convert categorical data by</span></div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral">``convert_categoricals`` to False and then accessing the variable labels</span></div>
<div class="line"><span class="lineno">    8</span><span class="stringliteral">through the value_labels method of the reader.</span></div>
<div class="line"><span class="lineno">    9</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a41147c9dcd738ef7844304c718c59651" name="a41147c9dcd738ef7844304c718c59651"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41147c9dcd738ef7844304c718c59651">&#9670;&#160;</a></span>excessive_string_length_error</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Final pandas.io.stata.excessive_string_length_error</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">Fixed width strings in Stata .dta files are limited to 244 (or fewer)</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">characters.  Column &#39;{0}&#39; does not satisfy this restriction. Use the</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">&#39;version=117&#39; parameter to write the newer (Stata 13 and later) format.</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f4b8ffc6d50b5a32c31bbdc9a16365a" name="a5f4b8ffc6d50b5a32c31bbdc9a16365a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f4b8ffc6d50b5a32c31bbdc9a16365a">&#9670;&#160;</a></span>invalid_name_doc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Final pandas.io.stata.invalid_name_doc</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">Not all pandas column names were valid Stata variable names.</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">The following replacements have been made:</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">    {0}</span></div>
<div class="line"><span class="lineno">    6</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">    7</span><span class="stringliteral">If this is not what you expect, please make sure you have Stata-compliant</span></div>
<div class="line"><span class="lineno">    8</span><span class="stringliteral">column names in your DataFrame (strings only, max 32 characters, only</span></div>
<div class="line"><span class="lineno">    9</span><span class="stringliteral">alphanumerics and underscores, no Stata reserved words)</span></div>
<div class="line"><span class="lineno">   10</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="abdd83da8baa7250a3a576459b1f9eee5" name="abdd83da8baa7250a3a576459b1f9eee5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdd83da8baa7250a3a576459b1f9eee5">&#9670;&#160;</a></span>precision_loss_doc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Final pandas.io.stata.precision_loss_doc</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">Column converted from {0} to {1}, and some data are outside of the lossless</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">conversion range. This may result in a loss of precision in the saved data.</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="adee57eb98fe1caf622287461d46440b5" name="adee57eb98fe1caf622287461d46440b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adee57eb98fe1caf622287461d46440b5">&#9670;&#160;</a></span>stata_epoch</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Final pandas.io.stata.stata_epoch = datetime.datetime(1960, 1, 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a184c75d5ba098a4cf9192e7afc602448" name="a184c75d5ba098a4cf9192e7afc602448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a184c75d5ba098a4cf9192e7afc602448">&#9670;&#160;</a></span>value_label_mismatch_doc</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Final pandas.io.stata.value_label_mismatch_doc</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">    2</span><span class="stringliteral">Stata value labels (pandas categories) must be strings. Column {0} contains</span></div>
<div class="line"><span class="lineno">    3</span><span class="stringliteral">non-string labels which will be converted to strings.  Please check that the</span></div>
<div class="line"><span class="lineno">    4</span><span class="stringliteral">Stata data file created has not lost information due to duplicate labels.</span></div>
<div class="line"><span class="lineno">    5</span><span class="stringliteral">&quot;&quot;&quot;</span></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
