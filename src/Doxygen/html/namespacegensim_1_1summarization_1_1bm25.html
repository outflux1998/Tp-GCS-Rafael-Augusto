<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.summarization.bm25 Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1summarization.html">summarization</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html">bm25</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">gensim.summarization.bm25 Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html">BM25</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af2dfda4dac8daad1fa3f295be0f79369" id="r_af2dfda4dac8daad1fa3f295be0f79369"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#af2dfda4dac8daad1fa3f295be0f79369">_get_scores_bow</a> (bm25, document)</td></tr>
<tr class="separator:af2dfda4dac8daad1fa3f295be0f79369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8a5385a98eca44e61c6eea0b5b4ef1e" id="r_ae8a5385a98eca44e61c6eea0b5b4ef1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#ae8a5385a98eca44e61c6eea0b5b4ef1e">_get_scores</a> (bm25, document)</td></tr>
<tr class="separator:ae8a5385a98eca44e61c6eea0b5b4ef1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7952f53a6787a7c52318ef6712107fff" id="r_a7952f53a6787a7c52318ef6712107fff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a7952f53a6787a7c52318ef6712107fff">iter_bm25_bow</a> (corpus, n_jobs=1, <a class="el" href="__lapack__subroutines_8h.html#ad25f3149349f23650e3e820fe98109ac">k1</a>=<a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a637658c750449c1285525ecc3abab576">PARAM_K1</a>, b=<a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a0f73f114578b2feff700041e8e226f79">PARAM_B</a>, epsilon=<a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a5602561d68f9be436b6bb8902ed2c030">EPSILON</a>)</td></tr>
<tr class="separator:a7952f53a6787a7c52318ef6712107fff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6b6f8f4512935975fb341a85c4fdb74" id="r_ab6b6f8f4512935975fb341a85c4fdb74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#ab6b6f8f4512935975fb341a85c4fdb74">get_bm25_weights</a> (corpus, n_jobs=1, <a class="el" href="__lapack__subroutines_8h.html#ad25f3149349f23650e3e820fe98109ac">k1</a>=<a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a637658c750449c1285525ecc3abab576">PARAM_K1</a>, b=<a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a0f73f114578b2feff700041e8e226f79">PARAM_B</a>, epsilon=<a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a5602561d68f9be436b6bb8902ed2c030">EPSILON</a>)</td></tr>
<tr class="separator:ab6b6f8f4512935975fb341a85c4fdb74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a637658c750449c1285525ecc3abab576" id="r_a637658c750449c1285525ecc3abab576"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a637658c750449c1285525ecc3abab576">PARAM_K1</a> = 1.5</td></tr>
<tr class="separator:a637658c750449c1285525ecc3abab576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f73f114578b2feff700041e8e226f79" id="r_a0f73f114578b2feff700041e8e226f79"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a0f73f114578b2feff700041e8e226f79">PARAM_B</a> = 0.75</td></tr>
<tr class="separator:a0f73f114578b2feff700041e8e226f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5602561d68f9be436b6bb8902ed2c030" id="r_a5602561d68f9be436b6bb8902ed2c030"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a5602561d68f9be436b6bb8902ed2c030">EPSILON</a> = 0.25</td></tr>
<tr class="separator:a5602561d68f9be436b6bb8902ed2c030"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee95334ba0a8a30029bcf8c8b8984815" id="r_aee95334ba0a8a30029bcf8c8b8984815"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#aee95334ba0a8a30029bcf8c8b8984815">logger</a> = logging.getLogger(__name__)</td></tr>
<tr class="separator:aee95334ba0a8a30029bcf8c8b8984815"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">This module contains function of computing rank scores for documents in
corpus and helper class `BM25` used in calculations. Original algorithm
descibed in [1]_, also you may check Wikipedia page [2]_.


.. [1] Robertson, Stephen; Zaragoza, Hugo (2009).  The Probabilistic Relevance Framework: BM25 and Beyond,
       http://www.staff.city.ac.uk/~sb317/papers/foundations_bm25_review.pdf
.. [2] Okapi BM25 on Wikipedia, https://en.wikipedia.org/wiki/Okapi_BM25



Examples
--------

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.summarization.bm25 import get_bm25_weights
    &gt;&gt;&gt; corpus = [
    ...     ["black", "cat", "white", "cat"],
    ...     ["cat", "outer", "space"],
    ...     ["wag", "dog"]
    ... ]
    &gt;&gt;&gt; result = get_bm25_weights(corpus, n_jobs=-1)


Data:
-----
.. data:: PARAM_K1 - Free smoothing parameter for BM25.
.. data:: PARAM_B - Free smoothing parameter for BM25.
.. data:: EPSILON - Constant used for negative idf of document in corpus.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="ae8a5385a98eca44e61c6eea0b5b4ef1e" name="ae8a5385a98eca44e61c6eea0b5b4ef1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8a5385a98eca44e61c6eea0b5b4ef1e">&#9670;&#160;</a></span>_get_scores()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25._get_scores </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bm25</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>document</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper function for retrieving bm25 scores of given `document` in parallel
in relation to every item in corpus.

Parameters
----------
bm25 : BM25 object
    BM25 object fitted on the corpus where documents are retrieved.
document : list of str
    Document to be scored.

Returns
-------
list of float
    BM25 scores.</pre> <div class="fragment"><div class="line"><span class="lineno">  243</span><span class="keyword">def </span>_get_scores(bm25, document):</div>
<div class="line"><span class="lineno">  244</span>    <span class="stringliteral">&quot;&quot;&quot;Helper function for retrieving bm25 scores of given `document` in parallel</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral">    in relation to every item in corpus.</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral">    bm25 : BM25 object</span></div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral">        BM25 object fitted on the corpus where documents are retrieved.</span></div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">    document : list of str</span></div>
<div class="line"><span class="lineno">  252</span><span class="stringliteral">        Document to be scored.</span></div>
<div class="line"><span class="lineno">  253</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  254</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  255</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  256</span><span class="stringliteral">    list of float</span></div>
<div class="line"><span class="lineno">  257</span><span class="stringliteral">        BM25 scores.</span></div>
<div class="line"><span class="lineno">  258</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  259</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  260</span>    <span class="keywordflow">return</span> bm25.get_scores(document)</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af2dfda4dac8daad1fa3f295be0f79369" name="af2dfda4dac8daad1fa3f295be0f79369"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2dfda4dac8daad1fa3f295be0f79369">&#9670;&#160;</a></span>_get_scores_bow()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25._get_scores_bow </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bm25</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>document</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper function for retrieving bm25 scores of given `document` in parallel
in relation to every item in corpus.

Parameters
----------
bm25 : BM25 object
    BM25 object fitted on the corpus where documents are retrieved.
document : list of str
    Document to be scored.

Returns
-------
list of (index, float)
    BM25 scores in a bag of weights format.</pre> <div class="fragment"><div class="line"><span class="lineno">  223</span><span class="keyword">def </span>_get_scores_bow(bm25, document):</div>
<div class="line"><span class="lineno">  224</span>    <span class="stringliteral">&quot;&quot;&quot;Helper function for retrieving bm25 scores of given `document` in parallel</span></div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral">    in relation to every item in corpus.</span></div>
<div class="line"><span class="lineno">  226</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  227</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  228</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  229</span><span class="stringliteral">    bm25 : BM25 object</span></div>
<div class="line"><span class="lineno">  230</span><span class="stringliteral">        BM25 object fitted on the corpus where documents are retrieved.</span></div>
<div class="line"><span class="lineno">  231</span><span class="stringliteral">    document : list of str</span></div>
<div class="line"><span class="lineno">  232</span><span class="stringliteral">        Document to be scored.</span></div>
<div class="line"><span class="lineno">  233</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  235</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral">    list of (index, float)</span></div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">        BM25 scores in a bag of weights format.</span></div>
<div class="line"><span class="lineno">  238</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">return</span> bm25.get_scores_bow(document)</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6b6f8f4512935975fb341a85c4fdb74" name="ab6b6f8f4512935975fb341a85c4fdb74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6b6f8f4512935975fb341a85c4fdb74">&#9670;&#160;</a></span>get_bm25_weights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.get_bm25_weights </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>k1</em> = <code><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a637658c750449c1285525ecc3abab576">PARAM_K1</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b</em> = <code><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a0f73f114578b2feff700041e8e226f79">PARAM_B</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a5602561d68f9be436b6bb8902ed2c030">EPSILON</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns BM25 scores (weights) of documents in corpus.
Each document has to be weighted with every document in given corpus.

Parameters
----------
corpus : list of list of str
    Corpus of documents.
n_jobs : int
    The number of processes to use for computing bm25.
k1 : float
    Constant used for influencing the term frequency saturation. After saturation is reached, additional
    presence for the term adds a significantly less additional score. According to [1]_, experiments suggest
    that 1.2 &lt; k1 &lt; 2 yields reasonably good results, although the optimal value depends on factors such as
    the type of documents or queries.
b : float
    Constant used for influencing the effects of different document lengths relative to average document length.
    When b is bigger, lengthier documents (compared to average) have more impact on its effect. According to
    [1]_, experiments suggest that 0.5 &lt; b &lt; 0.8 yields reasonably good results, although the optimal value
    depends on factors such as the type of documents or queries.
epsilon : float
    Constant used as floor value for idf of a document in the corpus. When epsilon is positive, it restricts
    negative idf values. Negative idf implies that adding a very common term to a document penalize the overall
    score (with 'very common' meaning that it is present in more than half of the documents). That can be
    undesirable as it means that an identical document would score less than an almost identical one (by
    removing the referred term). Increasing epsilon above 0 raises the sense of how rare a word has to be (among
    different documents) to receive an extra score.

Returns
-------
list of list of float
    BM25 scores.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.summarization.bm25 import get_bm25_weights
    &gt;&gt;&gt; corpus = [
    ...     ["black", "cat", "white", "cat"],
    ...     ["cat", "outer", "space"],
    ...     ["wag", "dog"]
    ... ]
    &gt;&gt;&gt; result = get_bm25_weights(corpus, n_jobs=-1)</pre> <div class="fragment"><div class="line"><span class="lineno">  326</span><span class="keyword">def </span>get_bm25_weights(corpus, n_jobs=1, k1=PARAM_K1, b=PARAM_B, epsilon=EPSILON):</div>
<div class="line"><span class="lineno">  327</span>    <span class="stringliteral">&quot;&quot;&quot;Returns BM25 scores (weights) of documents in corpus.</span></div>
<div class="line"><span class="lineno">  328</span><span class="stringliteral">    Each document has to be weighted with every document in given corpus.</span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral">    corpus : list of list of str</span></div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral">        Corpus of documents.</span></div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">    n_jobs : int</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral">        The number of processes to use for computing bm25.</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">    k1 : float</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">        Constant used for influencing the term frequency saturation. After saturation is reached, additional</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral">        presence for the term adds a significantly less additional score. According to [1]_, experiments suggest</span></div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral">        that 1.2 &lt; k1 &lt; 2 yields reasonably good results, although the optimal value depends on factors such as</span></div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral">        the type of documents or queries.</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral">    b : float</span></div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral">        Constant used for influencing the effects of different document lengths relative to average document length.</span></div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral">        When b is bigger, lengthier documents (compared to average) have more impact on its effect. According to</span></div>
<div class="line"><span class="lineno">  344</span><span class="stringliteral">        [1]_, experiments suggest that 0.5 &lt; b &lt; 0.8 yields reasonably good results, although the optimal value</span></div>
<div class="line"><span class="lineno">  345</span><span class="stringliteral">        depends on factors such as the type of documents or queries.</span></div>
<div class="line"><span class="lineno">  346</span><span class="stringliteral">    epsilon : float</span></div>
<div class="line"><span class="lineno">  347</span><span class="stringliteral">        Constant used as floor value for idf of a document in the corpus. When epsilon is positive, it restricts</span></div>
<div class="line"><span class="lineno">  348</span><span class="stringliteral">        negative idf values. Negative idf implies that adding a very common term to a document penalize the overall</span></div>
<div class="line"><span class="lineno">  349</span><span class="stringliteral">        score (with &#39;very common&#39; meaning that it is present in more than half of the documents). That can be</span></div>
<div class="line"><span class="lineno">  350</span><span class="stringliteral">        undesirable as it means that an identical document would score less than an almost identical one (by</span></div>
<div class="line"><span class="lineno">  351</span><span class="stringliteral">        removing the referred term). Increasing epsilon above 0 raises the sense of how rare a word has to be (among</span></div>
<div class="line"><span class="lineno">  352</span><span class="stringliteral">        different documents) to receive an extra score.</span></div>
<div class="line"><span class="lineno">  353</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  354</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  355</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral">    list of list of float</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">        BM25 scores.</span></div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.summarization.bm25 import get_bm25_weights</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">        &gt;&gt;&gt; corpus = [</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">        ...     [&quot;black&quot;, &quot;cat&quot;, &quot;white&quot;, &quot;cat&quot;],</span></div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral">        ...     [&quot;cat&quot;, &quot;outer&quot;, &quot;space&quot;],</span></div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">        ...     [&quot;wag&quot;, &quot;dog&quot;]</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral">        ... ]</span></div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral">        &gt;&gt;&gt; result = get_bm25_weights(corpus, n_jobs=-1)</span></div>
<div class="line"><span class="lineno">  370</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  371</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  372</span>    bm25 = BM25(corpus, k1, b, epsilon)</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>    n_processes = effective_n_jobs(n_jobs)</div>
<div class="line"><span class="lineno">  375</span>    <span class="keywordflow">if</span> n_processes == 1:</div>
<div class="line"><span class="lineno">  376</span>        weights = [bm25.get_scores(doc) <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> corpus]</div>
<div class="line"><span class="lineno">  377</span>        <span class="keywordflow">return</span> weights</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    get_score = partial(_get_scores, bm25)</div>
<div class="line"><span class="lineno">  380</span>    pool = Pool(n_processes)</div>
<div class="line"><span class="lineno">  381</span>    weights = pool.map(get_score, corpus)</div>
<div class="line"><span class="lineno">  382</span>    pool.close()</div>
<div class="line"><span class="lineno">  383</span>    pool.join()</div>
<div class="line"><span class="lineno">  384</span>    <span class="keywordflow">return</span> weights</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7952f53a6787a7c52318ef6712107fff" name="a7952f53a6787a7c52318ef6712107fff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7952f53a6787a7c52318ef6712107fff">&#9670;&#160;</a></span>iter_bm25_bow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.iter_bm25_bow </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_jobs</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>k1</em> = <code><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a637658c750449c1285525ecc3abab576">PARAM_K1</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b</em> = <code><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a0f73f114578b2feff700041e8e226f79">PARAM_B</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a5602561d68f9be436b6bb8902ed2c030">EPSILON</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Yield BM25 scores (weights) of documents in corpus.
Each document has to be weighted with every document in given corpus.

Parameters
----------
corpus : list of list of str
    Corpus of documents.
n_jobs : int
    The number of processes to use for computing bm25.
k1 : float
    Constant used for influencing the term frequency saturation. After saturation is reached, additional
    presence for the term adds a significantly less additional score. According to [1]_, experiments suggest
    that 1.2 &lt; k1 &lt; 2 yields reasonably good results, although the optimal value depends on factors such as
    the type of documents or queries.
b : float
    Constant used for influencing the effects of different document lengths relative to average document length.
    When b is bigger, lengthier documents (compared to average) have more impact on its effect. According to
    [1]_, experiments suggest that 0.5 &lt; b &lt; 0.8 yields reasonably good results, although the optimal value
    depends on factors such as the type of documents or queries.
epsilon : float
    Constant used as floor value for idf of a document in the corpus. When epsilon is positive, it restricts
    negative idf values. Negative idf implies that adding a very common term to a document penalize the overall
    score (with 'very common' meaning that it is present in more than half of the documents). That can be
    undesirable as it means that an identical document would score less than an almost identical one (by
    removing the referred term). Increasing epsilon above 0 raises the sense of how rare a word has to be (among
    different documents) to receive an extra score.

Yields
-------
list of (index, float)
    BM25 scores in bag of weights format.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.summarization.bm25 import iter_bm25_weights
    &gt;&gt;&gt; corpus = [
    ...     ["black", "cat", "white", "cat"],
    ...     ["cat", "outer", "space"],
    ...     ["wag", "dog"]
    ... ]
    &gt;&gt;&gt; result = iter_bm25_weights(corpus, n_jobs=-1)</pre> <div class="fragment"><div class="line"><span class="lineno">  263</span><span class="keyword">def </span>iter_bm25_bow(corpus, n_jobs=1, k1=PARAM_K1, b=PARAM_B, epsilon=EPSILON):</div>
<div class="line"><span class="lineno">  264</span>    <span class="stringliteral">&quot;&quot;&quot;Yield BM25 scores (weights) of documents in corpus.</span></div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">    Each document has to be weighted with every document in given corpus.</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral">    corpus : list of list of str</span></div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral">        Corpus of documents.</span></div>
<div class="line"><span class="lineno">  271</span><span class="stringliteral">    n_jobs : int</span></div>
<div class="line"><span class="lineno">  272</span><span class="stringliteral">        The number of processes to use for computing bm25.</span></div>
<div class="line"><span class="lineno">  273</span><span class="stringliteral">    k1 : float</span></div>
<div class="line"><span class="lineno">  274</span><span class="stringliteral">        Constant used for influencing the term frequency saturation. After saturation is reached, additional</span></div>
<div class="line"><span class="lineno">  275</span><span class="stringliteral">        presence for the term adds a significantly less additional score. According to [1]_, experiments suggest</span></div>
<div class="line"><span class="lineno">  276</span><span class="stringliteral">        that 1.2 &lt; k1 &lt; 2 yields reasonably good results, although the optimal value depends on factors such as</span></div>
<div class="line"><span class="lineno">  277</span><span class="stringliteral">        the type of documents or queries.</span></div>
<div class="line"><span class="lineno">  278</span><span class="stringliteral">    b : float</span></div>
<div class="line"><span class="lineno">  279</span><span class="stringliteral">        Constant used for influencing the effects of different document lengths relative to average document length.</span></div>
<div class="line"><span class="lineno">  280</span><span class="stringliteral">        When b is bigger, lengthier documents (compared to average) have more impact on its effect. According to</span></div>
<div class="line"><span class="lineno">  281</span><span class="stringliteral">        [1]_, experiments suggest that 0.5 &lt; b &lt; 0.8 yields reasonably good results, although the optimal value</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral">        depends on factors such as the type of documents or queries.</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">    epsilon : float</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral">        Constant used as floor value for idf of a document in the corpus. When epsilon is positive, it restricts</span></div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral">        negative idf values. Negative idf implies that adding a very common term to a document penalize the overall</span></div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral">        score (with &#39;very common&#39; meaning that it is present in more than half of the documents). That can be</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">        undesirable as it means that an identical document would score less than an almost identical one (by</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral">        removing the referred term). Increasing epsilon above 0 raises the sense of how rare a word has to be (among</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral">        different documents) to receive an extra score.</span></div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">    Yields</span></div>
<div class="line"><span class="lineno">  292</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  293</span><span class="stringliteral">    list of (index, float)</span></div>
<div class="line"><span class="lineno">  294</span><span class="stringliteral">        BM25 scores in bag of weights format.</span></div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral">    .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">        &gt;&gt;&gt; from gensim.summarization.bm25 import iter_bm25_weights</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">        &gt;&gt;&gt; corpus = [</span></div>
<div class="line"><span class="lineno">  302</span><span class="stringliteral">        ...     [&quot;black&quot;, &quot;cat&quot;, &quot;white&quot;, &quot;cat&quot;],</span></div>
<div class="line"><span class="lineno">  303</span><span class="stringliteral">        ...     [&quot;cat&quot;, &quot;outer&quot;, &quot;space&quot;],</span></div>
<div class="line"><span class="lineno">  304</span><span class="stringliteral">        ...     [&quot;wag&quot;, &quot;dog&quot;]</span></div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">        ... ]</span></div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral">        &gt;&gt;&gt; result = iter_bm25_weights(corpus, n_jobs=-1)</span></div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  309</span>    bm25 = BM25(corpus, k1, b, epsilon)</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    n_processes = effective_n_jobs(n_jobs)</div>
<div class="line"><span class="lineno">  312</span>    <span class="keywordflow">if</span> n_processes == 1:</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> corpus:</div>
<div class="line"><span class="lineno">  314</span>            <span class="keywordflow">yield</span> bm25.get_scores_bow(doc)</div>
<div class="line"><span class="lineno">  315</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    get_score = partial(_get_scores_bow, bm25)</div>
<div class="line"><span class="lineno">  318</span>    pool = Pool(n_processes)</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    <span class="keywordflow">for</span> bow <span class="keywordflow">in</span> pool.imap(get_score, corpus):</div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">yield</span> bow</div>
<div class="line"><span class="lineno">  322</span>    pool.close()</div>
<div class="line"><span class="lineno">  323</span>    pool.join()</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5602561d68f9be436b6bb8902ed2c030" name="a5602561d68f9be436b6bb8902ed2c030"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5602561d68f9be436b6bb8902ed2c030">&#9670;&#160;</a></span>EPSILON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float gensim.summarization.bm25.EPSILON = 0.25</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aee95334ba0a8a30029bcf8c8b8984815" name="aee95334ba0a8a30029bcf8c8b8984815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee95334ba0a8a30029bcf8c8b8984815">&#9670;&#160;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.logger = logging.getLogger(__name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0f73f114578b2feff700041e8e226f79" name="a0f73f114578b2feff700041e8e226f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f73f114578b2feff700041e8e226f79">&#9670;&#160;</a></span>PARAM_B</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float gensim.summarization.bm25.PARAM_B = 0.75</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a637658c750449c1285525ecc3abab576" name="a637658c750449c1285525ecc3abab576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a637658c750449c1285525ecc3abab576">&#9670;&#160;</a></span>PARAM_K1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float gensim.summarization.bm25.PARAM_K1 = 1.5</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
