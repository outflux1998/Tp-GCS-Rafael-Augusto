<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.models.poincare.PoincareModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models.html">models</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models_1_1poincare.html">poincare</a></li><li class="navelem"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html">PoincareModel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classgensim_1_1models_1_1poincare_1_1_poincare_model-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gensim.models.poincare.PoincareModel Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for gensim.models.poincare.PoincareModel:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgensim_1_1models_1_1poincare_1_1_poincare_model.png" usemap="#gensim.models.poincare.PoincareModel_map" alt=""/>
  <map id="gensim.models.poincare.PoincareModel_map" name="gensim.models.poincare.PoincareModel_map">
<area href="classgensim_1_1utils_1_1_save_load.html" alt="gensim.utils.SaveLoad" shape="rect" coords="0,56,238,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a53c01b3c3622fedc791a7ffe0c4ea93f" id="r_a53c01b3c3622fedc791a7ffe0c4ea93f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a53c01b3c3622fedc791a7ffe0c4ea93f">__init__</a> (self, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#aeaebd30a6d8170e872fbee9d59c22ef9">train_data</a>, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a10d6e26a0cb585a6733e164a0861124a">size</a>=50, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#afab59feae6aff7ec2da3c3daecdb0154">alpha</a>=0.1, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#aa18673cc04ac0b50d86fea48a962e24c">negative</a>=10, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a0f5ebbfb09ea8de34ab7c8a72e7bb980">workers</a>=1, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#aab09b5ebc2d131661bd5251cd787acbf">epsilon</a>=1e-5, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a5aea13c3ad37df638685fad2a6086d93">regularization_coeff</a>=1.0, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a306e2fbdaa4b2c103447c88382eb23cb">burn_in</a>=10, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a54d79a5374da86779ab318786bccbdb2">burn_in_alpha</a>=0.01, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a922366cc35f4c6698e6b0c67bf04ecfb">init_range</a>=(-0.001, 0.001), <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#ab836857ab4c3e255493230831409960d">dtype</a>=np.float64, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a68f300bfe0aaaabe736292fadced6216">seed</a>=0)</td></tr>
<tr class="separator:a53c01b3c3622fedc791a7ffe0c4ea93f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5811e6f58cb0389ff84c92a189ef05d0" id="r_a5811e6f58cb0389ff84c92a189ef05d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a5811e6f58cb0389ff84c92a189ef05d0">build_vocab</a> (self, relations, update=False)</td></tr>
<tr class="separator:a5811e6f58cb0389ff84c92a189ef05d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4b0b02acfec7d465ffcca685e8e0140" id="r_ae4b0b02acfec7d465ffcca685e8e0140"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#ae4b0b02acfec7d465ffcca685e8e0140">save</a> (self, *args, **kwargs)</td></tr>
<tr class="separator:ae4b0b02acfec7d465ffcca685e8e0140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3188139800dbeee4520ee3927bcfe824" id="r_a3188139800dbeee4520ee3927bcfe824"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a3188139800dbeee4520ee3927bcfe824">load</a> (cls, *args, **kwargs)</td></tr>
<tr class="separator:a3188139800dbeee4520ee3927bcfe824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5456974d2837f7d3721b6f953ff3948c" id="r_a5456974d2837f7d3721b6f953ff3948c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a5456974d2837f7d3721b6f953ff3948c">train</a> (self, epochs, batch_size=10, print_every=1000, check_gradients_every=None)</td></tr>
<tr class="separator:a5456974d2837f7d3721b6f953ff3948c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aeaebd30a6d8170e872fbee9d59c22ef9" id="r_aeaebd30a6d8170e872fbee9d59c22ef9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#aeaebd30a6d8170e872fbee9d59c22ef9">train_data</a></td></tr>
<tr class="separator:aeaebd30a6d8170e872fbee9d59c22ef9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac767cf5f62dca78683a4736065a7479e" id="r_ac767cf5f62dca78683a4736065a7479e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#ac767cf5f62dca78683a4736065a7479e">kv</a></td></tr>
<tr class="separator:ac767cf5f62dca78683a4736065a7479e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a86dbd87d913f0e86b6e67a926afec1" id="r_a0a86dbd87d913f0e86b6e67a926afec1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a0a86dbd87d913f0e86b6e67a926afec1">all_relations</a></td></tr>
<tr class="separator:a0a86dbd87d913f0e86b6e67a926afec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade9769cf275bd5c8d0dd24d45558adeb" id="r_ade9769cf275bd5c8d0dd24d45558adeb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#ade9769cf275bd5c8d0dd24d45558adeb">node_relations</a></td></tr>
<tr class="separator:ade9769cf275bd5c8d0dd24d45558adeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10d6e26a0cb585a6733e164a0861124a" id="r_a10d6e26a0cb585a6733e164a0861124a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a10d6e26a0cb585a6733e164a0861124a">size</a></td></tr>
<tr class="separator:a10d6e26a0cb585a6733e164a0861124a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c9464661179359bbd451497b0b963b8" id="r_a1c9464661179359bbd451497b0b963b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a1c9464661179359bbd451497b0b963b8">train_alpha</a></td></tr>
<tr class="separator:a1c9464661179359bbd451497b0b963b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d79a5374da86779ab318786bccbdb2" id="r_a54d79a5374da86779ab318786bccbdb2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a54d79a5374da86779ab318786bccbdb2">burn_in_alpha</a></td></tr>
<tr class="separator:a54d79a5374da86779ab318786bccbdb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afab59feae6aff7ec2da3c3daecdb0154" id="r_afab59feae6aff7ec2da3c3daecdb0154"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#afab59feae6aff7ec2da3c3daecdb0154">alpha</a></td></tr>
<tr class="separator:afab59feae6aff7ec2da3c3daecdb0154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa18673cc04ac0b50d86fea48a962e24c" id="r_aa18673cc04ac0b50d86fea48a962e24c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#aa18673cc04ac0b50d86fea48a962e24c">negative</a></td></tr>
<tr class="separator:aa18673cc04ac0b50d86fea48a962e24c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f5ebbfb09ea8de34ab7c8a72e7bb980" id="r_a0f5ebbfb09ea8de34ab7c8a72e7bb980"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a0f5ebbfb09ea8de34ab7c8a72e7bb980">workers</a></td></tr>
<tr class="separator:a0f5ebbfb09ea8de34ab7c8a72e7bb980"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab09b5ebc2d131661bd5251cd787acbf" id="r_aab09b5ebc2d131661bd5251cd787acbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#aab09b5ebc2d131661bd5251cd787acbf">epsilon</a></td></tr>
<tr class="separator:aab09b5ebc2d131661bd5251cd787acbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5aea13c3ad37df638685fad2a6086d93" id="r_a5aea13c3ad37df638685fad2a6086d93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a5aea13c3ad37df638685fad2a6086d93">regularization_coeff</a></td></tr>
<tr class="separator:a5aea13c3ad37df638685fad2a6086d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306e2fbdaa4b2c103447c88382eb23cb" id="r_a306e2fbdaa4b2c103447c88382eb23cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a306e2fbdaa4b2c103447c88382eb23cb">burn_in</a></td></tr>
<tr class="separator:a306e2fbdaa4b2c103447c88382eb23cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab836857ab4c3e255493230831409960d" id="r_ab836857ab4c3e255493230831409960d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#ab836857ab4c3e255493230831409960d">dtype</a></td></tr>
<tr class="separator:ab836857ab4c3e255493230831409960d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68f300bfe0aaaabe736292fadced6216" id="r_a68f300bfe0aaaabe736292fadced6216"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a68f300bfe0aaaabe736292fadced6216">seed</a></td></tr>
<tr class="separator:a68f300bfe0aaaabe736292fadced6216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a922366cc35f4c6698e6b0c67bf04ecfb" id="r_a922366cc35f4c6698e6b0c67bf04ecfb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a922366cc35f4c6698e6b0c67bf04ecfb">init_range</a></td></tr>
<tr class="separator:a922366cc35f4c6698e6b0c67bf04ecfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b6fdfb17d46122a9679fbc20b378bcc" id="r_a6b6fdfb17d46122a9679fbc20b378bcc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a6b6fdfb17d46122a9679fbc20b378bcc">indices_set</a></td></tr>
<tr class="separator:a6b6fdfb17d46122a9679fbc20b378bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f73b36631ae754a518d60487e778019" id="r_a3f73b36631ae754a518d60487e778019"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a3f73b36631ae754a518d60487e778019">indices_array</a></td></tr>
<tr class="separator:a3f73b36631ae754a518d60487e778019"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4821252f673cc799731783b1f18b9df2" id="r_a4821252f673cc799731783b1f18b9df2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a4821252f673cc799731783b1f18b9df2">_init_embeddings</a> (self)</td></tr>
<tr class="separator:a4821252f673cc799731783b1f18b9df2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac34d7fe290316127e7b6e1984c48a3b8" id="r_ac34d7fe290316127e7b6e1984c48a3b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#ac34d7fe290316127e7b6e1984c48a3b8">_update_embeddings</a> (self, old_index2word_len)</td></tr>
<tr class="separator:ac34d7fe290316127e7b6e1984c48a3b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a371015783077f6836f11cda0fbdaa8db" id="r_a371015783077f6836f11cda0fbdaa8db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a371015783077f6836f11cda0fbdaa8db">_init_node_probabilities</a> (self)</td></tr>
<tr class="separator:a371015783077f6836f11cda0fbdaa8db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46e3e0cd804a6d0e558d4e0062e6fe71" id="r_a46e3e0cd804a6d0e558d4e0062e6fe71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a46e3e0cd804a6d0e558d4e0062e6fe71">_get_candidate_negatives</a> (self)</td></tr>
<tr class="separator:a46e3e0cd804a6d0e558d4e0062e6fe71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5813015215f25fe398a0ba2cedbfe20c" id="r_a5813015215f25fe398a0ba2cedbfe20c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a5813015215f25fe398a0ba2cedbfe20c">_sample_negatives</a> (self, node_index)</td></tr>
<tr class="separator:a5813015215f25fe398a0ba2cedbfe20c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2e60ef2edb8e12e1fb7ccd9ef94828b" id="r_af2e60ef2edb8e12e1fb7ccd9ef94828b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#af2e60ef2edb8e12e1fb7ccd9ef94828b">_prepare_training_batch</a> (self, relations, all_negatives, check_gradients=False)</td></tr>
<tr class="separator:af2e60ef2edb8e12e1fb7ccd9ef94828b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bb1cfd13af0f2cbf3f44be27cecefe6" id="r_a7bb1cfd13af0f2cbf3f44be27cecefe6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a7bb1cfd13af0f2cbf3f44be27cecefe6">_check_gradients</a> (self, relations, all_negatives, batch, <a class="el" href="__lapack__subroutines_8h.html#a0357339a1a1f7b51953875ca01447445">tol</a>=1e-8)</td></tr>
<tr class="separator:a7bb1cfd13af0f2cbf3f44be27cecefe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6bfaa649d830636de7c22e79cb7a19b" id="r_aa6bfaa649d830636de7c22e79cb7a19b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#aa6bfaa649d830636de7c22e79cb7a19b">_sample_negatives_batch</a> (self, nodes)</td></tr>
<tr class="separator:aa6bfaa649d830636de7c22e79cb7a19b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e58ea1bb0cf7d8cb3229a87d055da6" id="r_ae5e58ea1bb0cf7d8cb3229a87d055da6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#ae5e58ea1bb0cf7d8cb3229a87d055da6">_train_on_batch</a> (self, relations, check_gradients=False)</td></tr>
<tr class="separator:ae5e58ea1bb0cf7d8cb3229a87d055da6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad63108cf75833407275065beb9614e4b" id="r_ad63108cf75833407275065beb9614e4b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#ad63108cf75833407275065beb9614e4b">_update_vectors_batch</a> (self, batch)</td></tr>
<tr class="separator:ad63108cf75833407275065beb9614e4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a080a7dbf58a72523c660f58df4622f9a" id="r_a080a7dbf58a72523c660f58df4622f9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a080a7dbf58a72523c660f58df4622f9a">_train_batchwise</a> (self, epochs, batch_size=10, print_every=1000, check_gradients_every=None)</td></tr>
<tr class="separator:a080a7dbf58a72523c660f58df4622f9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_ace7b79d8870c44c2bab0d590a5aca91e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#ace7b79d8870c44c2bab0d590a5aca91e">_load_specials</a> (self, fname, mmap, compress, subname)</td></tr>
<tr class="separator:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_acd9faa42ba3aae8f0a175418889d425c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#acd9faa42ba3aae8f0a175418889d425c">_smart_save</a> (self, fname, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_a4bae38a76fa8264d2c8759b9d40a6f5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a4bae38a76fa8264d2c8759b9d40a6f5c">_save_specials</a> (self, fname, separately, sep_limit, ignore, pickle_protocol, compress, subname)</td></tr>
<tr class="separator:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a62145c2c5b83806f4bd7d172f6eb5c91" id="r_a62145c2c5b83806f4bd7d172f6eb5c91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a62145c2c5b83806f4bd7d172f6eb5c91">_loss_fn</a> (matrix, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a5aea13c3ad37df638685fad2a6086d93">regularization_coeff</a>=1.0)</td></tr>
<tr class="separator:a62145c2c5b83806f4bd7d172f6eb5c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17bdcde0340fd767e1096e28f65e952f" id="r_a17bdcde0340fd767e1096e28f65e952f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a17bdcde0340fd767e1096e28f65e952f">_clip_vectors</a> (vectors, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#aab09b5ebc2d131661bd5251cd787acbf">epsilon</a>)</td></tr>
<tr class="separator:a17bdcde0340fd767e1096e28f65e952f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78a3b071fa3bbee919f5a6a0696a3d28" id="r_a78a3b071fa3bbee919f5a6a0696a3d28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a78a3b071fa3bbee919f5a6a0696a3d28">_handle_duplicates</a> (vector_updates, node_indices)</td></tr>
<tr class="separator:a78a3b071fa3bbee919f5a6a0696a3d28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load" id="r_a6cf051b348407267110444260535d143"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a6cf051b348407267110444260535d143">_adapt_by_suffix</a> (fname)</td></tr>
<tr class="separator:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9e822c22f21a41314cc50e3bd33b19f2" id="r_a9e822c22f21a41314cc50e3bd33b19f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a9e822c22f21a41314cc50e3bd33b19f2">_negatives_buffer</a></td></tr>
<tr class="separator:a9e822c22f21a41314cc50e3bd33b19f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5271f58b0fe8ba96ac97497bd47f31ac" id="r_a5271f58b0fe8ba96ac97497bd47f31ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a5271f58b0fe8ba96ac97497bd47f31ac">_negatives_buffer_size</a></td></tr>
<tr class="separator:a5271f58b0fe8ba96ac97497bd47f31ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacbff213fa692ff9433284c432d68185" id="r_aacbff213fa692ff9433284c432d68185"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#aacbff213fa692ff9433284c432d68185">_burn_in_done</a></td></tr>
<tr class="separator:aacbff213fa692ff9433284c432d68185"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbe762b01ba3a092cede4d9605fa1419" id="r_adbe762b01ba3a092cede4d9605fa1419"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#adbe762b01ba3a092cede4d9605fa1419">_np_random</a></td></tr>
<tr class="separator:adbe762b01ba3a092cede4d9605fa1419"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada233a59d34b1b233b3a2ec860d742cb" id="r_ada233a59d34b1b233b3a2ec860d742cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#ada233a59d34b1b233b3a2ec860d742cb">_loss_grad</a></td></tr>
<tr class="separator:ada233a59d34b1b233b3a2ec860d742cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab8d6986fd7c2b23c3b119f909bcd902" id="r_aab8d6986fd7c2b23c3b119f909bcd902"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#aab8d6986fd7c2b23c3b119f909bcd902">_node_counts_cumsum</a></td></tr>
<tr class="separator:aab8d6986fd7c2b23c3b119f909bcd902"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255b5b013d5fb5922855ce1b592d6f7f" id="r_a255b5b013d5fb5922855ce1b592d6f7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a255b5b013d5fb5922855ce1b592d6f7f">_node_probabilities</a></td></tr>
<tr class="separator:a255b5b013d5fb5922855ce1b592d6f7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Train, use and evaluate Poincare Embeddings.

The model can be stored/loaded via its :meth:`~gensim.models.poincare.PoincareModel.save`
and :meth:`~gensim.models.poincare.PoincareModel.load` methods, or stored/loaded in the word2vec format
via `model.kv.save_word2vec_format` and :meth:`~gensim.models.poincare.PoincareKeyedVectors.load_word2vec_format`.

Notes
-----
Training cannot be resumed from a model loaded via `load_word2vec_format`, if you wish to train further,
use :meth:`~gensim.models.poincare.PoincareModel.save` and :meth:`~gensim.models.poincare.PoincareModel.load`
methods instead.

An important attribute (that provides a lot of additional functionality when directly accessed) are the
keyed vectors:

self.kv : :class:`~gensim.models.poincare.PoincareKeyedVectors`
    This object essentially contains the mapping between nodes and embeddings, as well the vocabulary of the model
    (set of unique nodes seen by the model). After training, it can be used to perform operations on the vectors
    such as vector lookup, distance and similarity calculations etc.
    See the documentation of its class for usage examples.</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a53c01b3c3622fedc791a7ffe0c4ea93f" name="a53c01b3c3622fedc791a7ffe0c4ea93f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53c01b3c3622fedc791a7ffe0c4ea93f">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>train_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em> = <code>50</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>alpha</em> = <code>0.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>negative</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>workers</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code>1e-5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>regularization_coeff</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>burn_in</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>burn_in_alpha</em> = <code>0.01</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>init_range</em> = <code>(-0.001,&#160;0.001)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>np.float64</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>seed</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize and train a Poincare embedding model from an iterable of relations.

Parameters
----------
train_data : {iterable of (str, str), :class:`gensim.models.poincare.PoincareRelations`}
    Iterable of relations, e.g. a list of tuples, or a :class:`gensim.models.poincare.PoincareRelations`
    instance streaming from a file. Note that the relations are treated as ordered pairs,
    i.e. a relation (a, b) does not imply the opposite relation (b, a). In case the relations are symmetric,
    the data should contain both relations (a, b) and (b, a).
size : int, optional
    Number of dimensions of the trained model.
alpha : float, optional
    Learning rate for training.
negative : int, optional
    Number of negative samples to use.
workers : int, optional
    Number of threads to use for training the model.
epsilon : float, optional
    Constant used for clipping embeddings below a norm of one.
regularization_coeff : float, optional
    Coefficient used for l2-regularization while training (0 effectively disables regularization).
burn_in : int, optional
    Number of epochs to use for burn-in initialization (0 means no burn-in).
burn_in_alpha : float, optional
    Learning rate for burn-in initialization, ignored if `burn_in` is 0.
init_range : 2-tuple (float, float)
    Range within which the vectors are randomly initialized.
dtype : numpy.dtype
    The numpy dtype to use for the vectors in the model (numpy.float64, numpy.float32 etc).
    Using lower precision floats may be useful in increasing training speed and reducing memory usage.
seed : int, optional
    Seed for random to ensure reproducibility.

Examples
--------
Initialize a model from a list:

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.models.poincare import PoincareModel
    &gt;&gt;&gt; relations = [('kangaroo', 'marsupial'), ('kangaroo', 'mammal'), ('gib', 'cat')]
    &gt;&gt;&gt; model = PoincareModel(relations, negative=2)

Initialize a model from a file containing one relation per line:

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.models.poincare import PoincareModel, PoincareRelations
    &gt;&gt;&gt; from gensim.test.utils import datapath
    &gt;&gt;&gt; file_path = datapath('poincare_hypernyms.tsv')
    &gt;&gt;&gt; model = PoincareModel(PoincareRelations(file_path), negative=2)

See :class:`~gensim.models.poincare.PoincareRelations` for more options.</pre> <div class="fragment"><div class="line"><span class="lineno">   97</span>                 burn_in=10, burn_in_alpha=0.01, init_range=(-0.001, 0.001), dtype=np.float64, seed=0):</div>
<div class="line"><span class="lineno">   98</span>        <span class="stringliteral">&quot;&quot;&quot;Initialize and train a Poincare embedding model from an iterable of relations.</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral">        train_data : {iterable of (str, str), :class:`gensim.models.poincare.PoincareRelations`}</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">            Iterable of relations, e.g. a list of tuples, or a :class:`gensim.models.poincare.PoincareRelations`</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">            instance streaming from a file. Note that the relations are treated as ordered pairs,</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">            i.e. a relation (a, b) does not imply the opposite relation (b, a). In case the relations are symmetric,</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">            the data should contain both relations (a, b) and (b, a).</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">        size : int, optional</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">            Number of dimensions of the trained model.</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">        alpha : float, optional</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">            Learning rate for training.</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral">        negative : int, optional</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">            Number of negative samples to use.</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">        workers : int, optional</span></div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral">            Number of threads to use for training the model.</span></div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">        epsilon : float, optional</span></div>
<div class="line"><span class="lineno">  116</span><span class="stringliteral">            Constant used for clipping embeddings below a norm of one.</span></div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral">        regularization_coeff : float, optional</span></div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">            Coefficient used for l2-regularization while training (0 effectively disables regularization).</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">        burn_in : int, optional</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">            Number of epochs to use for burn-in initialization (0 means no burn-in).</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">        burn_in_alpha : float, optional</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">            Learning rate for burn-in initialization, ignored if `burn_in` is 0.</span></div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">        init_range : 2-tuple (float, float)</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">            Range within which the vectors are randomly initialized.</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">        dtype : numpy.dtype</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral">            The numpy dtype to use for the vectors in the model (numpy.float64, numpy.float32 etc).</span></div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">            Using lower precision floats may be useful in increasing training speed and reducing memory usage.</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">        seed : int, optional</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">            Seed for random to ensure reproducibility.</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">        Initialize a model from a list:</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  136</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  137</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.models.poincare import PoincareModel</span></div>
<div class="line"><span class="lineno">  138</span><span class="stringliteral">            &gt;&gt;&gt; relations = [(&#39;kangaroo&#39;, &#39;marsupial&#39;), (&#39;kangaroo&#39;, &#39;mammal&#39;), (&#39;gib&#39;, &#39;cat&#39;)]</span></div>
<div class="line"><span class="lineno">  139</span><span class="stringliteral">            &gt;&gt;&gt; model = PoincareModel(relations, negative=2)</span></div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral">        Initialize a model from a file containing one relation per line:</span></div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.models.poincare import PoincareModel, PoincareRelations</span></div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.test.utils import datapath</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">            &gt;&gt;&gt; file_path = datapath(&#39;poincare_hypernyms.tsv&#39;)</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral">            &gt;&gt;&gt; model = PoincareModel(PoincareRelations(file_path), negative=2)</span></div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">        See :class:`~gensim.models.poincare.PoincareRelations` for more options.</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  153</span>        self.train_data = train_data</div>
<div class="line"><span class="lineno">  154</span>        self.kv = PoincareKeyedVectors(size)</div>
<div class="line"><span class="lineno">  155</span>        self.all_relations = []</div>
<div class="line"><span class="lineno">  156</span>        self.node_relations = defaultdict(set)</div>
<div class="line"><span class="lineno">  157</span>        self._negatives_buffer = NegativesBuffer([])</div>
<div class="line"><span class="lineno">  158</span>        self._negatives_buffer_size = 2000</div>
<div class="line"><span class="lineno">  159</span>        self.size = size</div>
<div class="line"><span class="lineno">  160</span>        self.train_alpha = alpha  <span class="comment"># Learning rate for training</span></div>
<div class="line"><span class="lineno">  161</span>        self.burn_in_alpha = burn_in_alpha  <span class="comment"># Learning rate for burn-in</span></div>
<div class="line"><span class="lineno">  162</span>        self.alpha = alpha  <span class="comment"># Current learning rate</span></div>
<div class="line"><span class="lineno">  163</span>        self.negative = negative</div>
<div class="line"><span class="lineno">  164</span>        self.workers = workers</div>
<div class="line"><span class="lineno">  165</span>        self.epsilon = epsilon</div>
<div class="line"><span class="lineno">  166</span>        self.regularization_coeff = regularization_coeff</div>
<div class="line"><span class="lineno">  167</span>        self.burn_in = burn_in</div>
<div class="line"><span class="lineno">  168</span>        self._burn_in_done = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  169</span>        self.dtype = dtype</div>
<div class="line"><span class="lineno">  170</span>        self.seed = seed</div>
<div class="line"><span class="lineno">  171</span>        self._np_random = np_random.RandomState(seed)</div>
<div class="line"><span class="lineno">  172</span>        self.init_range = init_range</div>
<div class="line"><span class="lineno">  173</span>        self._loss_grad = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  174</span>        self.build_vocab(train_data)</div>
<div class="line"><span class="lineno">  175</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7bb1cfd13af0f2cbf3f44be27cecefe6" name="a7bb1cfd13af0f2cbf3f44be27cecefe6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bb1cfd13af0f2cbf3f44be27cecefe6">&#9670;&#160;</a></span>_check_gradients()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._check_gradients </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>relations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>all_negatives</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tol</em> = <code>1e-8</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Compare computed gradients for batch to autograd gradients.

Parameters
----------
relations : list of tuples
    List of tuples of positive examples of the form (node_1_index, node_2_index).
all_negatives : list of lists
    List of lists of negative samples for each node_1 in the positive examples.
batch : :class:`~gensim.models.poincare.PoincareBatch`
    Batch for which computed gradients are to be checked.
tol : float, optional
    The maximum error between our computed gradients and the reference ones from autograd.</pre> <div class="fragment"><div class="line"><span class="lineno">  475</span>    <span class="keyword">def </span>_check_gradients(self, relations, all_negatives, batch, tol=1e-8):</div>
<div class="line"><span class="lineno">  476</span>        <span class="stringliteral">&quot;&quot;&quot;Compare computed gradients for batch to autograd gradients.</span></div>
<div class="line"><span class="lineno">  477</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  478</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  479</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  480</span><span class="stringliteral">        relations : list of tuples</span></div>
<div class="line"><span class="lineno">  481</span><span class="stringliteral">            List of tuples of positive examples of the form (node_1_index, node_2_index).</span></div>
<div class="line"><span class="lineno">  482</span><span class="stringliteral">        all_negatives : list of lists</span></div>
<div class="line"><span class="lineno">  483</span><span class="stringliteral">            List of lists of negative samples for each node_1 in the positive examples.</span></div>
<div class="line"><span class="lineno">  484</span><span class="stringliteral">        batch : :class:`~gensim.models.poincare.PoincareBatch`</span></div>
<div class="line"><span class="lineno">  485</span><span class="stringliteral">            Batch for which computed gradients are to be checked.</span></div>
<div class="line"><span class="lineno">  486</span><span class="stringliteral">        tol : float, optional</span></div>
<div class="line"><span class="lineno">  487</span><span class="stringliteral">            The maximum error between our computed gradients and the reference ones from autograd.</span></div>
<div class="line"><span class="lineno">  488</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  489</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  490</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> AUTOGRAD_PRESENT:</div>
<div class="line"><span class="lineno">  491</span>            logger.warning(<span class="stringliteral">&#39;autograd could not be imported, cannot do gradient checking&#39;</span>)</div>
<div class="line"><span class="lineno">  492</span>            logger.warning(<span class="stringliteral">&#39;please install autograd to enable gradient checking&#39;</span>)</div>
<div class="line"><span class="lineno">  493</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>        <span class="keywordflow">if</span> self._loss_grad <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  496</span>            self._loss_grad = grad(PoincareModel._loss_fn)</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>        max_diff = 0.0</div>
<div class="line"><span class="lineno">  499</span>        <span class="keywordflow">for</span> i, (relation, negatives) <span class="keywordflow">in</span> enumerate(zip(relations, all_negatives)):</div>
<div class="line"><span class="lineno">  500</span>            u, v = relation</div>
<div class="line"><span class="lineno">  501</span>            auto_gradients = self._loss_grad(</div>
<div class="line"><span class="lineno">  502</span>                np.vstack((self.kv.syn0[u], self.kv.syn0[[v] + negatives])), self.regularization_coeff)</div>
<div class="line"><span class="lineno">  503</span>            computed_gradients = np.vstack((batch.gradients_u[:, i], batch.gradients_v[:, :, i]))</div>
<div class="line"><span class="lineno">  504</span>            diff = np.abs(auto_gradients - computed_gradients).max()</div>
<div class="line"><span class="lineno">  505</span>            <span class="keywordflow">if</span> diff &gt; max_diff:</div>
<div class="line"><span class="lineno">  506</span>                max_diff = diff</div>
<div class="line"><span class="lineno">  507</span>        logger.info(<span class="stringliteral">&#39;max difference between computed gradients and autograd gradients: %.10f&#39;</span>, max_diff)</div>
<div class="line"><span class="lineno">  508</span>        <span class="keyword">assert</span> max_diff &lt; tol, (</div>
<div class="line"><span class="lineno">  509</span>            <span class="stringliteral">&#39;Max difference between computed gradients and autograd gradients %.10f, &#39;</span></div>
<div class="line"><span class="lineno">  510</span>            <span class="stringliteral">&#39;greater than tolerance %.10f&#39;</span> % (max_diff, tol))</div>
<div class="line"><span class="lineno">  511</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a17bdcde0340fd767e1096e28f65e952f" name="a17bdcde0340fd767e1096e28f65e952f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17bdcde0340fd767e1096e28f65e952f">&#9670;&#160;</a></span>_clip_vectors()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._clip_vectors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vectors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>epsilon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Clip vectors to have a norm of less than one.

Parameters
----------
vectors : numpy.array
    Can be 1-D, or 2-D (in which case the norm for each row is checked).
epsilon : float
    Parameter for numerical stability, each dimension of the vector is reduced by `epsilon`
    if the norm of the vector is greater than or equal to 1.

Returns
-------
numpy.array
    Array with norms clipped below 1.</pre> <div class="fragment"><div class="line"><span class="lineno">  359</span>    <span class="keyword">def </span>_clip_vectors(vectors, epsilon):</div>
<div class="line"><span class="lineno">  360</span>        <span class="stringliteral">&quot;&quot;&quot;Clip vectors to have a norm of less than one.</span></div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">        vectors : numpy.array</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">            Can be 1-D, or 2-D (in which case the norm for each row is checked).</span></div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral">        epsilon : float</span></div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">            Parameter for numerical stability, each dimension of the vector is reduced by `epsilon`</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral">            if the norm of the vector is greater than or equal to 1.</span></div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  370</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  371</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  372</span><span class="stringliteral">        numpy.array</span></div>
<div class="line"><span class="lineno">  373</span><span class="stringliteral">            Array with norms clipped below 1.</span></div>
<div class="line"><span class="lineno">  374</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  375</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  376</span>        one_d = len(vectors.shape) == 1</div>
<div class="line"><span class="lineno">  377</span>        threshold = 1 - epsilon</div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">if</span> one_d:</div>
<div class="line"><span class="lineno">  379</span>            norm = np.linalg.norm(vectors)</div>
<div class="line"><span class="lineno">  380</span>            <span class="keywordflow">if</span> norm &lt; threshold:</div>
<div class="line"><span class="lineno">  381</span>                <span class="keywordflow">return</span> vectors</div>
<div class="line"><span class="lineno">  382</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  383</span>                <span class="keywordflow">return</span> vectors / norm - (np.sign(vectors) * epsilon)</div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  385</span>            norms = np.linalg.norm(vectors, axis=1)</div>
<div class="line"><span class="lineno">  386</span>            <span class="keywordflow">if</span> (norms &lt; threshold).all():</div>
<div class="line"><span class="lineno">  387</span>                <span class="keywordflow">return</span> vectors</div>
<div class="line"><span class="lineno">  388</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  389</span>                vectors[norms &gt;= threshold] *= (threshold / norms[norms &gt;= threshold])[:, np.newaxis]</div>
<div class="line"><span class="lineno">  390</span>                vectors[norms &gt;= threshold] -= np.sign(vectors[norms &gt;= threshold]) * epsilon</div>
<div class="line"><span class="lineno">  391</span>                <span class="keywordflow">return</span> vectors</div>
<div class="line"><span class="lineno">  392</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a46e3e0cd804a6d0e558d4e0062e6fe71" name="a46e3e0cd804a6d0e558d4e0062e6fe71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46e3e0cd804a6d0e558d4e0062e6fe71">&#9670;&#160;</a></span>_get_candidate_negatives()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._get_candidate_negatives </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get candidate negatives of size `self.negative` from the negative examples buffer.

Returns
-------
numpy.array
    Array of shape (`self.negative`,) containing indices of negative nodes.</pre> <div class="fragment"><div class="line"><span class="lineno">  259</span>    <span class="keyword">def </span>_get_candidate_negatives(self):</div>
<div class="line"><span class="lineno">  260</span>        <span class="stringliteral">&quot;&quot;&quot;Get candidate negatives of size `self.negative` from the negative examples buffer.</span></div>
<div class="line"><span class="lineno">  261</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral">        numpy.array</span></div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">            Array of shape (`self.negative`,) containing indices of negative nodes.</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  268</span>        <span class="keywordflow">if</span> self._negatives_buffer.num_items() &lt; self.negative:</div>
<div class="line"><span class="lineno">  269</span>            <span class="comment"># cumsum table of counts used instead of the standard approach of a probability cumsum table</span></div>
<div class="line"><span class="lineno">  270</span>            <span class="comment"># this is to avoid floating point errors that result when the number of nodes is very high</span></div>
<div class="line"><span class="lineno">  271</span>            <span class="comment"># for reference: https://github.com/RaRe-Technologies/gensim/issues/1917</span></div>
<div class="line"><span class="lineno">  272</span>            max_cumsum_value = self._node_counts_cumsum[-1]</div>
<div class="line"><span class="lineno">  273</span>            uniform_numbers = self._np_random.randint(1, max_cumsum_value + 1, self._negatives_buffer_size)</div>
<div class="line"><span class="lineno">  274</span>            cumsum_table_indices = np.searchsorted(self._node_counts_cumsum, uniform_numbers)</div>
<div class="line"><span class="lineno">  275</span>            self._negatives_buffer = NegativesBuffer(cumsum_table_indices)</div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">return</span> self._negatives_buffer.get_items(self.negative)</div>
<div class="line"><span class="lineno">  277</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a78a3b071fa3bbee919f5a6a0696a3d28" name="a78a3b071fa3bbee919f5a6a0696a3d28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78a3b071fa3bbee919f5a6a0696a3d28">&#9670;&#160;</a></span>_handle_duplicates()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._handle_duplicates </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vector_updates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>node_indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Handle occurrences of multiple updates to the same node in a batch of vector updates.

Parameters
----------
vector_updates : numpy.array
    Array with each row containing updates to be performed on a certain node.
node_indices : list of int
    Node indices on which the above updates are to be performed on.

Notes
-----
Mutates the `vector_updates` array.

Required because vectors[[2, 1, 2]] += np.array([-0.5, 1.0, 0.5]) performs only the last update
on the row at index 2.</pre> <div class="fragment"><div class="line"><span class="lineno">  551</span>    <span class="keyword">def </span>_handle_duplicates(vector_updates, node_indices):</div>
<div class="line"><span class="lineno">  552</span>        <span class="stringliteral">&quot;&quot;&quot;Handle occurrences of multiple updates to the same node in a batch of vector updates.</span></div>
<div class="line"><span class="lineno">  553</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  554</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  555</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  556</span><span class="stringliteral">        vector_updates : numpy.array</span></div>
<div class="line"><span class="lineno">  557</span><span class="stringliteral">            Array with each row containing updates to be performed on a certain node.</span></div>
<div class="line"><span class="lineno">  558</span><span class="stringliteral">        node_indices : list of int</span></div>
<div class="line"><span class="lineno">  559</span><span class="stringliteral">            Node indices on which the above updates are to be performed on.</span></div>
<div class="line"><span class="lineno">  560</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  561</span><span class="stringliteral">        Notes</span></div>
<div class="line"><span class="lineno">  562</span><span class="stringliteral">        -----</span></div>
<div class="line"><span class="lineno">  563</span><span class="stringliteral">        Mutates the `vector_updates` array.</span></div>
<div class="line"><span class="lineno">  564</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  565</span><span class="stringliteral">        Required because vectors[[2, 1, 2]] += np.array([-0.5, 1.0, 0.5]) performs only the last update</span></div>
<div class="line"><span class="lineno">  566</span><span class="stringliteral">        on the row at index 2.</span></div>
<div class="line"><span class="lineno">  567</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  568</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  569</span>        counts = Counter(node_indices)</div>
<div class="line"><span class="lineno">  570</span>        node_dict = defaultdict(list)</div>
<div class="line"><span class="lineno">  571</span>        <span class="keywordflow">for</span> i, node_index <span class="keywordflow">in</span> enumerate(node_indices):</div>
<div class="line"><span class="lineno">  572</span>            node_dict[node_index].append(i)</div>
<div class="line"><span class="lineno">  573</span>        <span class="keywordflow">for</span> node_index, count <span class="keywordflow">in</span> counts.items():</div>
<div class="line"><span class="lineno">  574</span>            <span class="keywordflow">if</span> count == 1:</div>
<div class="line"><span class="lineno">  575</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  576</span>            positions = node_dict[node_index]</div>
<div class="line"><span class="lineno">  577</span>            <span class="comment"># Move all updates to the same node to the last such update, zeroing all the others</span></div>
<div class="line"><span class="lineno">  578</span>            vector_updates[positions[-1]] = vector_updates[positions].sum(axis=0)</div>
<div class="line"><span class="lineno">  579</span>            vector_updates[positions[:-1]] = 0</div>
<div class="line"><span class="lineno">  580</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4821252f673cc799731783b1f18b9df2" name="a4821252f673cc799731783b1f18b9df2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4821252f673cc799731783b1f18b9df2">&#9670;&#160;</a></span>_init_embeddings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._init_embeddings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Randomly initialize vectors for the items in the vocab.</pre> <div class="fragment"><div class="line"><span class="lineno">  238</span>    <span class="keyword">def </span>_init_embeddings(self):</div>
<div class="line"><span class="lineno">  239</span>        <span class="stringliteral">&quot;&quot;&quot;Randomly initialize vectors for the items in the vocab.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  240</span>        shape = (len(self.kv.index2word), self.size)</div>
<div class="line"><span class="lineno">  241</span>        self.kv.syn0 = self._np_random.uniform(self.init_range[0], self.init_range[1], shape).astype(self.dtype)</div>
<div class="line"><span class="lineno">  242</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a371015783077f6836f11cda0fbdaa8db" name="a371015783077f6836f11cda0fbdaa8db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a371015783077f6836f11cda0fbdaa8db">&#9670;&#160;</a></span>_init_node_probabilities()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._init_node_probabilities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Initialize a-priori probabilities.</pre> <div class="fragment"><div class="line"><span class="lineno">  249</span>    <span class="keyword">def </span>_init_node_probabilities(self):</div>
<div class="line"><span class="lineno">  250</span>        <span class="stringliteral">&quot;&quot;&quot;Initialize a-priori probabilities.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  251</span>        counts = np.fromiter((</div>
<div class="line"><span class="lineno">  252</span>                self.kv.vocab[self.kv.index2word[i]].count</div>
<div class="line"><span class="lineno">  253</span>                <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(self.kv.index2word))</div>
<div class="line"><span class="lineno">  254</span>            ),</div>
<div class="line"><span class="lineno">  255</span>            dtype=np.float64, count=len(self.kv.index2word))</div>
<div class="line"><span class="lineno">  256</span>        self._node_counts_cumsum = np.cumsum(counts)</div>
<div class="line"><span class="lineno">  257</span>        self._node_probabilities = counts / counts.sum()</div>
<div class="line"><span class="lineno">  258</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a62145c2c5b83806f4bd7d172f6eb5c91" name="a62145c2c5b83806f4bd7d172f6eb5c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62145c2c5b83806f4bd7d172f6eb5c91">&#9670;&#160;</a></span>_loss_fn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._loss_fn </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>matrix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>regularization_coeff</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Computes loss value.

Parameters
----------
matrix : numpy.array
    Array containing vectors for u, v and negative samples, of shape (2 + negative_size, dim).
regularization_coeff : float, optional
    Coefficient to use for l2-regularization

Returns
-------
float
    Computed loss value.

Warnings
--------
Only used for autograd gradients, since autograd requires a specific function signature.</pre> <div class="fragment"><div class="line"><span class="lineno">  324</span>    <span class="keyword">def </span>_loss_fn(matrix, regularization_coeff=1.0):</div>
<div class="line"><span class="lineno">  325</span>        <span class="stringliteral">&quot;&quot;&quot;Computes loss value.</span></div>
<div class="line"><span class="lineno">  326</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  327</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  328</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral">        matrix : numpy.array</span></div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">            Array containing vectors for u, v and negative samples, of shape (2 + negative_size, dim).</span></div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral">        regularization_coeff : float, optional</span></div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral">            Coefficient to use for l2-regularization</span></div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">        float</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">            Computed loss value.</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral">        Warnings</span></div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral">        Only used for autograd gradients, since autograd requires a specific function signature.</span></div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  344</span>        vector_u = matrix[0]</div>
<div class="line"><span class="lineno">  345</span>        vectors_v = matrix[1:]</div>
<div class="line"><span class="lineno">  346</span>        euclidean_dists = grad_np.linalg.norm(vector_u - vectors_v, axis=1)</div>
<div class="line"><span class="lineno">  347</span>        norm = grad_np.linalg.norm(vector_u)</div>
<div class="line"><span class="lineno">  348</span>        all_norms = grad_np.linalg.norm(vectors_v, axis=1)</div>
<div class="line"><span class="lineno">  349</span>        poincare_dists = grad_np.arccosh(</div>
<div class="line"><span class="lineno">  350</span>            1 + 2 * (</div>
<div class="line"><span class="lineno">  351</span>                (euclidean_dists ** 2) / ((1 - norm ** 2) * (1 - all_norms ** 2))</div>
<div class="line"><span class="lineno">  352</span>            )</div>
<div class="line"><span class="lineno">  353</span>        )</div>
<div class="line"><span class="lineno">  354</span>        exp_negative_distances = grad_np.exp(-poincare_dists)</div>
<div class="line"><span class="lineno">  355</span>        regularization_term = regularization_coeff * grad_np.linalg.norm(vectors_v[0]) ** 2</div>
<div class="line"><span class="lineno">  356</span>        <span class="keywordflow">return</span> -grad_np.log(exp_negative_distances[0] / (exp_negative_distances.sum())) + regularization_term</div>
<div class="line"><span class="lineno">  357</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af2e60ef2edb8e12e1fb7ccd9ef94828b" name="af2e60ef2edb8e12e1fb7ccd9ef94828b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2e60ef2edb8e12e1fb7ccd9ef94828b">&#9670;&#160;</a></span>_prepare_training_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._prepare_training_batch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>relations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>all_negatives</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>check_gradients</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Create a training batch and compute gradients and loss for the batch.

Parameters
----------
relations : list of tuples
    List of tuples of positive examples of the form (node_1_index, node_2_index).
all_negatives : list of lists
    List of lists of negative samples for each node_1 in the positive examples.
check_gradients : bool, optional
    Whether to compare the computed gradients to autograd gradients for this batch.

Returns
-------
:class:`~gensim.models.poincare.PoincareBatch`
    Node indices, computed gradients and loss for the batch.</pre> <div class="fragment"><div class="line"><span class="lineno">  438</span>    <span class="keyword">def </span>_prepare_training_batch(self, relations, all_negatives, check_gradients=False):</div>
<div class="line"><span class="lineno">  439</span>        <span class="stringliteral">&quot;&quot;&quot;Create a training batch and compute gradients and loss for the batch.</span></div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral">        relations : list of tuples</span></div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral">            List of tuples of positive examples of the form (node_1_index, node_2_index).</span></div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral">        all_negatives : list of lists</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">            List of lists of negative samples for each node_1 in the positive examples.</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">        check_gradients : bool, optional</span></div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">            Whether to compare the computed gradients to autograd gradients for this batch.</span></div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">        :class:`~gensim.models.poincare.PoincareBatch`</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">            Node indices, computed gradients and loss for the batch.</span></div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  456</span>        batch_size = len(relations)</div>
<div class="line"><span class="lineno">  457</span>        indices_u, indices_v = [], []</div>
<div class="line"><span class="lineno">  458</span>        <span class="keywordflow">for</span> relation, negatives <span class="keywordflow">in</span> zip(relations, all_negatives):</div>
<div class="line"><span class="lineno">  459</span>            u, v = relation</div>
<div class="line"><span class="lineno">  460</span>            indices_u.append(u)</div>
<div class="line"><span class="lineno">  461</span>            indices_v.append(v)</div>
<div class="line"><span class="lineno">  462</span>            indices_v.extend(negatives)</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>        vectors_u = self.kv.syn0[indices_u]</div>
<div class="line"><span class="lineno">  465</span>        vectors_v = self.kv.syn0[indices_v].reshape((batch_size, 1 + self.negative, self.size))</div>
<div class="line"><span class="lineno">  466</span>        vectors_v = vectors_v.swapaxes(0, 1).swapaxes(1, 2)</div>
<div class="line"><span class="lineno">  467</span>        batch = PoincareBatch(vectors_u, vectors_v, indices_u, indices_v, self.regularization_coeff)</div>
<div class="line"><span class="lineno">  468</span>        batch.compute_all()</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>        <span class="keywordflow">if</span> check_gradients:</div>
<div class="line"><span class="lineno">  471</span>            self._check_gradients(relations, all_negatives, batch)</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>        <span class="keywordflow">return</span> batch</div>
<div class="line"><span class="lineno">  474</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5813015215f25fe398a0ba2cedbfe20c" name="a5813015215f25fe398a0ba2cedbfe20c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5813015215f25fe398a0ba2cedbfe20c">&#9670;&#160;</a></span>_sample_negatives()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._sample_negatives </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>node_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get a sample of negatives for the given node.

Parameters
----------
node_index : int
    Index of the positive node for which negative samples are to be returned.

Returns
-------
numpy.array
    Array of shape (self.negative,) containing indices of negative nodes for the given node index.</pre> <div class="fragment"><div class="line"><span class="lineno">  278</span>    <span class="keyword">def </span>_sample_negatives(self, node_index):</div>
<div class="line"><span class="lineno">  279</span>        <span class="stringliteral">&quot;&quot;&quot;Get a sample of negatives for the given node.</span></div>
<div class="line"><span class="lineno">  280</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  281</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">        node_index : int</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral">            Index of the positive node for which negative samples are to be returned.</span></div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral">        numpy.array</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral">            Array of shape (self.negative,) containing indices of negative nodes for the given node index.</span></div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  292</span>        node_relations = self.node_relations[node_index]</div>
<div class="line"><span class="lineno">  293</span>        num_remaining_nodes = len(self.kv.vocab) - len(node_relations)</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">if</span> num_remaining_nodes &lt; self.negative:</div>
<div class="line"><span class="lineno">  295</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  296</span>                <span class="stringliteral">&#39;Cannot sample %d negative nodes from a set of %d negative nodes for %s&#39;</span> %</div>
<div class="line"><span class="lineno">  297</span>                (self.negative, num_remaining_nodes, self.kv.index2word[node_index])</div>
<div class="line"><span class="lineno">  298</span>            )</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        positive_fraction = float(len(node_relations)) / len(self.kv.vocab)</div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">if</span> positive_fraction &lt; 0.01:</div>
<div class="line"><span class="lineno">  302</span>            <span class="comment"># If number of positive relations is a small fraction of total nodes</span></div>
<div class="line"><span class="lineno">  303</span>            <span class="comment"># re-sample till no positively connected nodes are chosen</span></div>
<div class="line"><span class="lineno">  304</span>            indices = self._get_candidate_negatives()</div>
<div class="line"><span class="lineno">  305</span>            unique_indices = set(indices)</div>
<div class="line"><span class="lineno">  306</span>            times_sampled = 1</div>
<div class="line"><span class="lineno">  307</span>            <span class="keywordflow">while</span> (len(indices) != len(unique_indices)) <span class="keywordflow">or</span> (unique_indices &amp; node_relations):</div>
<div class="line"><span class="lineno">  308</span>                times_sampled += 1</div>
<div class="line"><span class="lineno">  309</span>                indices = self._get_candidate_negatives()</div>
<div class="line"><span class="lineno">  310</span>                unique_indices = set(indices)</div>
<div class="line"><span class="lineno">  311</span>            <span class="keywordflow">if</span> times_sampled &gt; 1:</div>
<div class="line"><span class="lineno">  312</span>                logger.debug(<span class="stringliteral">&#39;sampled %d times, positive fraction %.5f&#39;</span>, times_sampled, positive_fraction)</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  314</span>            <span class="comment"># If number of positive relations is a significant fraction of total nodes</span></div>
<div class="line"><span class="lineno">  315</span>            <span class="comment"># subtract positively connected nodes from set of choices and sample from the remaining</span></div>
<div class="line"><span class="lineno">  316</span>            valid_negatives = np.array(list(self.indices_set - node_relations))</div>
<div class="line"><span class="lineno">  317</span>            probs = self._node_probabilities[valid_negatives]</div>
<div class="line"><span class="lineno">  318</span>            probs /= probs.sum()</div>
<div class="line"><span class="lineno">  319</span>            indices = self._np_random.choice(valid_negatives, size=self.negative, p=probs, replace=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">return</span> list(indices)</div>
<div class="line"><span class="lineno">  322</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6bfaa649d830636de7c22e79cb7a19b" name="aa6bfaa649d830636de7c22e79cb7a19b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6bfaa649d830636de7c22e79cb7a19b">&#9670;&#160;</a></span>_sample_negatives_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._sample_negatives_batch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nodes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get negative examples for each node.

Parameters
----------
nodes : iterable of int
    Iterable of node indices for which negative samples are to be returned.

Returns
-------
list of lists
    Each inner list is a list of negative samples for a single node in the input list.</pre> <div class="fragment"><div class="line"><span class="lineno">  512</span>    <span class="keyword">def </span>_sample_negatives_batch(self, nodes):</div>
<div class="line"><span class="lineno">  513</span>        <span class="stringliteral">&quot;&quot;&quot;Get negative examples for each node.</span></div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral">        nodes : iterable of int</span></div>
<div class="line"><span class="lineno">  518</span><span class="stringliteral">            Iterable of node indices for which negative samples are to be returned.</span></div>
<div class="line"><span class="lineno">  519</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  520</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  521</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  522</span><span class="stringliteral">        list of lists</span></div>
<div class="line"><span class="lineno">  523</span><span class="stringliteral">            Each inner list is a list of negative samples for a single node in the input list.</span></div>
<div class="line"><span class="lineno">  524</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  525</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  526</span>        all_indices = [self._sample_negatives(node) <span class="keywordflow">for</span> node <span class="keywordflow">in</span> nodes]</div>
<div class="line"><span class="lineno">  527</span>        <span class="keywordflow">return</span> all_indices</div>
<div class="line"><span class="lineno">  528</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a080a7dbf58a72523c660f58df4622f9a" name="a080a7dbf58a72523c660f58df4622f9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a080a7dbf58a72523c660f58df4622f9a">&#9670;&#160;</a></span>_train_batchwise()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._train_batchwise </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>epochs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch_size</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>print_every</em> = <code>1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>check_gradients_every</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Train Poincare embeddings using specified parameters.

Parameters
----------
epochs : int
    Number of iterations (epochs) over the corpus.
batch_size : int, optional
    Number of examples to train on in a single batch.
print_every : int, optional
    Prints progress and average loss after every `print_every` batches.
check_gradients_every : int or None, optional
    Compares computed gradients and autograd gradients after every `check_gradients_every` batches.
    Useful for debugging, doesn't compare by default.</pre> <div class="fragment"><div class="line"><span class="lineno">  664</span>    <span class="keyword">def </span>_train_batchwise(self, epochs, batch_size=10, print_every=1000, check_gradients_every=None):</div>
<div class="line"><span class="lineno">  665</span>        <span class="stringliteral">&quot;&quot;&quot;Train Poincare embeddings using specified parameters.</span></div>
<div class="line"><span class="lineno">  666</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  667</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  668</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  669</span><span class="stringliteral">        epochs : int</span></div>
<div class="line"><span class="lineno">  670</span><span class="stringliteral">            Number of iterations (epochs) over the corpus.</span></div>
<div class="line"><span class="lineno">  671</span><span class="stringliteral">        batch_size : int, optional</span></div>
<div class="line"><span class="lineno">  672</span><span class="stringliteral">            Number of examples to train on in a single batch.</span></div>
<div class="line"><span class="lineno">  673</span><span class="stringliteral">        print_every : int, optional</span></div>
<div class="line"><span class="lineno">  674</span><span class="stringliteral">            Prints progress and average loss after every `print_every` batches.</span></div>
<div class="line"><span class="lineno">  675</span><span class="stringliteral">        check_gradients_every : int or None, optional</span></div>
<div class="line"><span class="lineno">  676</span><span class="stringliteral">            Compares computed gradients and autograd gradients after every `check_gradients_every` batches.</span></div>
<div class="line"><span class="lineno">  677</span><span class="stringliteral">            Useful for debugging, doesn&#39;t compare by default.</span></div>
<div class="line"><span class="lineno">  678</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  679</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  680</span>        <span class="keywordflow">if</span> self.workers &gt; 1:</div>
<div class="line"><span class="lineno">  681</span>            <span class="keywordflow">raise</span> NotImplementedError(<span class="stringliteral">&quot;Multi-threaded version not implemented yet&quot;</span>)</div>
<div class="line"><span class="lineno">  682</span>        <span class="keywordflow">for</span> epoch <span class="keywordflow">in</span> range(1, epochs + 1):</div>
<div class="line"><span class="lineno">  683</span>            indices = list(range(len(self.all_relations)))</div>
<div class="line"><span class="lineno">  684</span>            self._np_random.shuffle(indices)</div>
<div class="line"><span class="lineno">  685</span>            avg_loss = 0.0</div>
<div class="line"><span class="lineno">  686</span>            last_time = time.time()</div>
<div class="line"><span class="lineno">  687</span>            <span class="keywordflow">for</span> batch_num, i <span class="keywordflow">in</span> enumerate(range(0, len(indices), batch_size), start=1):</div>
<div class="line"><span class="lineno">  688</span>                should_print = <span class="keywordflow">not</span> (batch_num % print_every)</div>
<div class="line"><span class="lineno">  689</span>                check_gradients = bool(check_gradients_every) <span class="keywordflow">and</span> (batch_num % check_gradients_every) == 0</div>
<div class="line"><span class="lineno">  690</span>                batch_indices = indices[i:i + batch_size]</div>
<div class="line"><span class="lineno">  691</span>                relations = [self.all_relations[idx] <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> batch_indices]</div>
<div class="line"><span class="lineno">  692</span>                result = self._train_on_batch(relations, check_gradients=check_gradients)</div>
<div class="line"><span class="lineno">  693</span>                avg_loss += result.loss</div>
<div class="line"><span class="lineno">  694</span>                <span class="keywordflow">if</span> should_print:</div>
<div class="line"><span class="lineno">  695</span>                    avg_loss /= print_every</div>
<div class="line"><span class="lineno">  696</span>                    time_taken = time.time() - last_time</div>
<div class="line"><span class="lineno">  697</span>                    speed = print_every * batch_size / time_taken</div>
<div class="line"><span class="lineno">  698</span>                    logger.info(</div>
<div class="line"><span class="lineno">  699</span>                        <span class="stringliteral">&#39;training on epoch %d, examples #%d-#%d, loss: %.2f&#39;</span></div>
<div class="line"><span class="lineno">  700</span>                        % (epoch, i, i + batch_size, avg_loss))</div>
<div class="line"><span class="lineno">  701</span>                    logger.info(</div>
<div class="line"><span class="lineno">  702</span>                        <span class="stringliteral">&#39;time taken for %d examples: %.2f s, %.2f examples / s&#39;</span></div>
<div class="line"><span class="lineno">  703</span>                        % (print_every * batch_size, time_taken, speed))</div>
<div class="line"><span class="lineno">  704</span>                    last_time = time.time()</div>
<div class="line"><span class="lineno">  705</span>                    avg_loss = 0.0</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae5e58ea1bb0cf7d8cb3229a87d055da6" name="ae5e58ea1bb0cf7d8cb3229a87d055da6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5e58ea1bb0cf7d8cb3229a87d055da6">&#9670;&#160;</a></span>_train_on_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._train_on_batch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>relations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>check_gradients</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Perform training for a single training batch.

Parameters
----------
relations : list of tuples of (int, int)
    List of tuples of positive examples of the form (node_1_index, node_2_index).
check_gradients : bool, optional
    Whether to compare the computed gradients to autograd gradients for this batch.

Returns
-------
:class:`~gensim.models.poincare.PoincareBatch`
    The batch that was just trained on, contains computed loss for the batch.</pre> <div class="fragment"><div class="line"><span class="lineno">  529</span>    <span class="keyword">def </span>_train_on_batch(self, relations, check_gradients=False):</div>
<div class="line"><span class="lineno">  530</span>        <span class="stringliteral">&quot;&quot;&quot;Perform training for a single training batch.</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  532</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  533</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  534</span><span class="stringliteral">        relations : list of tuples of (int, int)</span></div>
<div class="line"><span class="lineno">  535</span><span class="stringliteral">            List of tuples of positive examples of the form (node_1_index, node_2_index).</span></div>
<div class="line"><span class="lineno">  536</span><span class="stringliteral">        check_gradients : bool, optional</span></div>
<div class="line"><span class="lineno">  537</span><span class="stringliteral">            Whether to compare the computed gradients to autograd gradients for this batch.</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  539</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  540</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  541</span><span class="stringliteral">        :class:`~gensim.models.poincare.PoincareBatch`</span></div>
<div class="line"><span class="lineno">  542</span><span class="stringliteral">            The batch that was just trained on, contains computed loss for the batch.</span></div>
<div class="line"><span class="lineno">  543</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  544</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  545</span>        all_negatives = self._sample_negatives_batch(relation[0] <span class="keywordflow">for</span> relation <span class="keywordflow">in</span> relations)</div>
<div class="line"><span class="lineno">  546</span>        batch = self._prepare_training_batch(relations, all_negatives, check_gradients)</div>
<div class="line"><span class="lineno">  547</span>        self._update_vectors_batch(batch)</div>
<div class="line"><span class="lineno">  548</span>        <span class="keywordflow">return</span> batch</div>
<div class="line"><span class="lineno">  549</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac34d7fe290316127e7b6e1984c48a3b8" name="ac34d7fe290316127e7b6e1984c48a3b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac34d7fe290316127e7b6e1984c48a3b8">&#9670;&#160;</a></span>_update_embeddings()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._update_embeddings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>old_index2word_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Randomly initialize vectors for the items in the additional vocab.</pre> <div class="fragment"><div class="line"><span class="lineno">  243</span>    <span class="keyword">def </span>_update_embeddings(self, old_index2word_len):</div>
<div class="line"><span class="lineno">  244</span>        <span class="stringliteral">&quot;&quot;&quot;Randomly initialize vectors for the items in the additional vocab.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  245</span>        shape = (len(self.kv.index2word) - old_index2word_len, self.size)</div>
<div class="line"><span class="lineno">  246</span>        v = self._np_random.uniform(self.init_range[0], self.init_range[1], shape).astype(self.dtype)</div>
<div class="line"><span class="lineno">  247</span>        self.kv.syn0 = np.concatenate([self.kv.syn0, v])</div>
<div class="line"><span class="lineno">  248</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad63108cf75833407275065beb9614e4b" name="ad63108cf75833407275065beb9614e4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad63108cf75833407275065beb9614e4b">&#9670;&#160;</a></span>_update_vectors_batch()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._update_vectors_batch </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Update vectors for nodes in the given batch.

Parameters
----------
batch : :class:`~gensim.models.poincare.PoincareBatch`
    Batch containing computed gradients and node indices of the batch for which updates are to be done.</pre> <div class="fragment"><div class="line"><span class="lineno">  581</span>    <span class="keyword">def </span>_update_vectors_batch(self, batch):</div>
<div class="line"><span class="lineno">  582</span>        <span class="stringliteral">&quot;&quot;&quot;Update vectors for nodes in the given batch.</span></div>
<div class="line"><span class="lineno">  583</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  584</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  585</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  586</span><span class="stringliteral">        batch : :class:`~gensim.models.poincare.PoincareBatch`</span></div>
<div class="line"><span class="lineno">  587</span><span class="stringliteral">            Batch containing computed gradients and node indices of the batch for which updates are to be done.</span></div>
<div class="line"><span class="lineno">  588</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  589</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  590</span>        grad_u, grad_v = batch.gradients_u, batch.gradients_v</div>
<div class="line"><span class="lineno">  591</span>        indices_u, indices_v = batch.indices_u, batch.indices_v</div>
<div class="line"><span class="lineno">  592</span>        batch_size = len(indices_u)</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>        u_updates = (self.alpha * (batch.alpha ** 2) / 4 * grad_u).T</div>
<div class="line"><span class="lineno">  595</span>        self._handle_duplicates(u_updates, indices_u)</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>        self.kv.syn0[indices_u] -= u_updates</div>
<div class="line"><span class="lineno">  598</span>        self.kv.syn0[indices_u] = self._clip_vectors(self.kv.syn0[indices_u], self.epsilon)</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>        v_updates = self.alpha * (batch.beta ** 2)[:, np.newaxis] / 4 * grad_v</div>
<div class="line"><span class="lineno">  601</span>        v_updates = v_updates.swapaxes(1, 2).swapaxes(0, 1)</div>
<div class="line"><span class="lineno">  602</span>        v_updates = v_updates.reshape(((1 + self.negative) * batch_size, self.size))</div>
<div class="line"><span class="lineno">  603</span>        self._handle_duplicates(v_updates, indices_v)</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>        self.kv.syn0[indices_v] -= v_updates</div>
<div class="line"><span class="lineno">  606</span>        self.kv.syn0[indices_v] = self._clip_vectors(self.kv.syn0[indices_v], self.epsilon)</div>
<div class="line"><span class="lineno">  607</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5811e6f58cb0389ff84c92a189ef05d0" name="a5811e6f58cb0389ff84c92a189ef05d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5811e6f58cb0389ff84c92a189ef05d0">&#9670;&#160;</a></span>build_vocab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.build_vocab </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>relations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>update</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Build the model's vocabulary from known relations.

Parameters
----------
relations : {iterable of (str, str), :class:`gensim.models.poincare.PoincareRelations`}
    Iterable of relations, e.g. a list of tuples, or a :class:`gensim.models.poincare.PoincareRelations`
    instance streaming from a file. Note that the relations are treated as ordered pairs,
    i.e. a relation (a, b) does not imply the opposite relation (b, a). In case the relations are symmetric,
    the data should contain both relations (a, b) and (b, a).
update : bool, optional
    If true, only new nodes's embeddings are initialized.
    Use this when the model already has an existing vocabulary and you want to update it.
    If false, all node's embeddings are initialized.
    Use this when you're creating a new vocabulary from scratch.

Examples
--------
Train a model and update vocab for online training:

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.models.poincare import PoincareModel
    &gt;&gt;&gt;
    &gt;&gt;&gt; # train a new model from initial data
    &gt;&gt;&gt; initial_relations = [('kangaroo', 'marsupial'), ('kangaroo', 'mammal')]
    &gt;&gt;&gt; model = PoincareModel(initial_relations, negative=1)
    &gt;&gt;&gt; model.train(epochs=50)
    &gt;&gt;&gt;
    &gt;&gt;&gt; # online training: update the vocabulary and continue training
    &gt;&gt;&gt; online_relations = [('striped_skunk', 'mammal')]
    &gt;&gt;&gt; model.build_vocab(online_relations, update=True)
    &gt;&gt;&gt; model.train(epochs=50)</pre> <div class="fragment"><div class="line"><span class="lineno">  176</span>    <span class="keyword">def </span>build_vocab(self, relations, update=False):</div>
<div class="line"><span class="lineno">  177</span>        <span class="stringliteral">&quot;&quot;&quot;Build the model&#39;s vocabulary from known relations.</span></div>
<div class="line"><span class="lineno">  178</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral">        relations : {iterable of (str, str), :class:`gensim.models.poincare.PoincareRelations`}</span></div>
<div class="line"><span class="lineno">  182</span><span class="stringliteral">            Iterable of relations, e.g. a list of tuples, or a :class:`gensim.models.poincare.PoincareRelations`</span></div>
<div class="line"><span class="lineno">  183</span><span class="stringliteral">            instance streaming from a file. Note that the relations are treated as ordered pairs,</span></div>
<div class="line"><span class="lineno">  184</span><span class="stringliteral">            i.e. a relation (a, b) does not imply the opposite relation (b, a). In case the relations are symmetric,</span></div>
<div class="line"><span class="lineno">  185</span><span class="stringliteral">            the data should contain both relations (a, b) and (b, a).</span></div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral">        update : bool, optional</span></div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral">            If true, only new nodes&#39;s embeddings are initialized.</span></div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral">            Use this when the model already has an existing vocabulary and you want to update it.</span></div>
<div class="line"><span class="lineno">  189</span><span class="stringliteral">            If false, all node&#39;s embeddings are initialized.</span></div>
<div class="line"><span class="lineno">  190</span><span class="stringliteral">            Use this when you&#39;re creating a new vocabulary from scratch.</span></div>
<div class="line"><span class="lineno">  191</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  192</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral">        Train a model and update vocab for online training:</span></div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  198</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.models.poincare import PoincareModel</span></div>
<div class="line"><span class="lineno">  199</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  200</span><span class="stringliteral">            &gt;&gt;&gt; # train a new model from initial data</span></div>
<div class="line"><span class="lineno">  201</span><span class="stringliteral">            &gt;&gt;&gt; initial_relations = [(&#39;kangaroo&#39;, &#39;marsupial&#39;), (&#39;kangaroo&#39;, &#39;mammal&#39;)]</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral">            &gt;&gt;&gt; model = PoincareModel(initial_relations, negative=1)</span></div>
<div class="line"><span class="lineno">  203</span><span class="stringliteral">            &gt;&gt;&gt; model.train(epochs=50)</span></div>
<div class="line"><span class="lineno">  204</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  205</span><span class="stringliteral">            &gt;&gt;&gt; # online training: update the vocabulary and continue training</span></div>
<div class="line"><span class="lineno">  206</span><span class="stringliteral">            &gt;&gt;&gt; online_relations = [(&#39;striped_skunk&#39;, &#39;mammal&#39;)]</span></div>
<div class="line"><span class="lineno">  207</span><span class="stringliteral">            &gt;&gt;&gt; model.build_vocab(online_relations, update=True)</span></div>
<div class="line"><span class="lineno">  208</span><span class="stringliteral">            &gt;&gt;&gt; model.train(epochs=50)</span></div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  211</span>        old_index2word_len = len(self.kv.index2word)</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>        logger.info(<span class="stringliteral">&quot;loading relations from train data..&quot;</span>)</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">for</span> relation <span class="keywordflow">in</span> relations:</div>
<div class="line"><span class="lineno">  215</span>            <span class="keywordflow">if</span> len(relation) != 2:</div>
<div class="line"><span class="lineno">  216</span>                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Relation pair &quot;%s&quot; should have exactly two items&#39;</span> % repr(relation))</div>
<div class="line"><span class="lineno">  217</span>            <span class="keywordflow">for</span> item <span class="keywordflow">in</span> relation:</div>
<div class="line"><span class="lineno">  218</span>                <span class="keywordflow">if</span> item <span class="keywordflow">in</span> self.kv.vocab:</div>
<div class="line"><span class="lineno">  219</span>                    self.kv.vocab[item].count += 1</div>
<div class="line"><span class="lineno">  220</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  221</span>                    self.kv.vocab[item] = Vocab(count=1, index=len(self.kv.index2word))</div>
<div class="line"><span class="lineno">  222</span>                    self.kv.index2word.append(item)</div>
<div class="line"><span class="lineno">  223</span>            node_1, node_2 = relation</div>
<div class="line"><span class="lineno">  224</span>            node_1_index, node_2_index = self.kv.vocab[node_1].index, self.kv.vocab[node_2].index</div>
<div class="line"><span class="lineno">  225</span>            self.node_relations[node_1_index].add(node_2_index)</div>
<div class="line"><span class="lineno">  226</span>            relation = (node_1_index, node_2_index)</div>
<div class="line"><span class="lineno">  227</span>            self.all_relations.append(relation)</div>
<div class="line"><span class="lineno">  228</span>        logger.info(<span class="stringliteral">&quot;loaded %d relations from train data, %d nodes&quot;</span>, len(self.all_relations), len(self.kv.vocab))</div>
<div class="line"><span class="lineno">  229</span>        self.indices_set = set(range(len(self.kv.index2word)))  <span class="comment"># Set of all node indices</span></div>
<div class="line"><span class="lineno">  230</span>        self.indices_array = np.fromiter(range(len(self.kv.index2word)), dtype=int)  <span class="comment"># Numpy array of all node indices</span></div>
<div class="line"><span class="lineno">  231</span>        self._init_node_probabilities()</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> update:</div>
<div class="line"><span class="lineno">  234</span>            self._init_embeddings()</div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  236</span>            self._update_embeddings(old_index2word_len)</div>
<div class="line"><span class="lineno">  237</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3188139800dbeee4520ee3927bcfe824" name="a3188139800dbeee4520ee3927bcfe824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3188139800dbeee4520ee3927bcfe824">&#9670;&#160;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load model from disk, inherited from :class:`~gensim.utils.SaveLoad`.

See also
--------
:meth:`~gensim.models.poincare.PoincareModel.save`

Parameters
----------
*args
    Positional arguments passed to :meth:`~gensim.utils.SaveLoad.load`.
**kwargs
    Keyword arguments passed to :meth:`~gensim.utils.SaveLoad.load`.

Returns
-------
:class:`~gensim.models.poincare.PoincareModel`
    The loaded model.</pre> 
<p>Reimplemented from <a class="el" href="classgensim_1_1utils_1_1_save_load.html#a70d054bfd9dfd1373fef9e0e691a24b5">gensim.utils.SaveLoad</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  414</span>    <span class="keyword">def </span>load(cls, *args, **kwargs):</div>
<div class="line"><span class="lineno">  415</span>        <span class="stringliteral">&quot;&quot;&quot;Load model from disk, inherited from :class:`~gensim.utils.SaveLoad`.</span></div>
<div class="line"><span class="lineno">  416</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  417</span><span class="stringliteral">        See also</span></div>
<div class="line"><span class="lineno">  418</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  419</span><span class="stringliteral">        :meth:`~gensim.models.poincare.PoincareModel.save`</span></div>
<div class="line"><span class="lineno">  420</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  421</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  422</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  423</span><span class="stringliteral">        *args</span></div>
<div class="line"><span class="lineno">  424</span><span class="stringliteral">            Positional arguments passed to :meth:`~gensim.utils.SaveLoad.load`.</span></div>
<div class="line"><span class="lineno">  425</span><span class="stringliteral">        **kwargs</span></div>
<div class="line"><span class="lineno">  426</span><span class="stringliteral">            Keyword arguments passed to :meth:`~gensim.utils.SaveLoad.load`.</span></div>
<div class="line"><span class="lineno">  427</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  428</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  429</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  430</span><span class="stringliteral">        :class:`~gensim.models.poincare.PoincareModel`</span></div>
<div class="line"><span class="lineno">  431</span><span class="stringliteral">            The loaded model.</span></div>
<div class="line"><span class="lineno">  432</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  433</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  434</span>        model = super(PoincareModel, cls).load(*args, **kwargs)</div>
<div class="line"><span class="lineno">  435</span>        model._init_node_probabilities()</div>
<div class="line"><span class="lineno">  436</span>        <span class="keywordflow">return</span> model</div>
<div class="line"><span class="lineno">  437</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae4b0b02acfec7d465ffcca685e8e0140" name="ae4b0b02acfec7d465ffcca685e8e0140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4b0b02acfec7d465ffcca685e8e0140">&#9670;&#160;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.save </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save complete model to disk, inherited from :class:`~gensim.utils.SaveLoad`.

See also
--------
:meth:`~gensim.models.poincare.PoincareModel.load`

Parameters
----------
*args
    Positional arguments passed to :meth:`~gensim.utils.SaveLoad.save`.
**kwargs
    Keyword arguments passed to :meth:`~gensim.utils.SaveLoad.save`.</pre> 
<p>Reimplemented from <a class="el" href="classgensim_1_1utils_1_1_save_load.html#a0767537a6eb767dfe4fb8cf6d5fc221c">gensim.utils.SaveLoad</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  393</span>    <span class="keyword">def </span>save(self, *args, **kwargs):</div>
<div class="line"><span class="lineno">  394</span>        <span class="stringliteral">&quot;&quot;&quot;Save complete model to disk, inherited from :class:`~gensim.utils.SaveLoad`.</span></div>
<div class="line"><span class="lineno">  395</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  396</span><span class="stringliteral">        See also</span></div>
<div class="line"><span class="lineno">  397</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  398</span><span class="stringliteral">        :meth:`~gensim.models.poincare.PoincareModel.load`</span></div>
<div class="line"><span class="lineno">  399</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  400</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  401</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  402</span><span class="stringliteral">        *args</span></div>
<div class="line"><span class="lineno">  403</span><span class="stringliteral">            Positional arguments passed to :meth:`~gensim.utils.SaveLoad.save`.</span></div>
<div class="line"><span class="lineno">  404</span><span class="stringliteral">        **kwargs</span></div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral">            Keyword arguments passed to :meth:`~gensim.utils.SaveLoad.save`.</span></div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  408</span>        self._loss_grad = <span class="keywordtype">None</span>  <span class="comment"># Can&#39;t pickle autograd fn to disk</span></div>
<div class="line"><span class="lineno">  409</span>        attrs_to_ignore = [<span class="stringliteral">&#39;_node_probabilities&#39;</span>, <span class="stringliteral">&#39;_node_counts_cumsum&#39;</span>]</div>
<div class="line"><span class="lineno">  410</span>        kwargs[<span class="stringliteral">&#39;ignore&#39;</span>] = set(list(kwargs.get(<span class="stringliteral">&#39;ignore&#39;</span>, [])) + attrs_to_ignore)</div>
<div class="line"><span class="lineno">  411</span>        super(PoincareModel, self).save(*args, **kwargs)</div>
<div class="line"><span class="lineno">  412</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5456974d2837f7d3721b6f953ff3948c" name="a5456974d2837f7d3721b6f953ff3948c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5456974d2837f7d3721b6f953ff3948c">&#9670;&#160;</a></span>train()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.train </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>epochs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>batch_size</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>print_every</em> = <code>1000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>check_gradients_every</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Train Poincare embeddings using loaded data and model parameters.

Parameters
----------
epochs : int
    Number of iterations (epochs) over the corpus.
batch_size : int, optional
    Number of examples to train on in a single batch.

print_every : int, optional
    Prints progress and average loss after every `print_every` batches.
check_gradients_every : int or None, optional
    Compares computed gradients and autograd gradients after every `check_gradients_every` batches.
    Useful for debugging, doesn't compare by default.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.models.poincare import PoincareModel
    &gt;&gt;&gt; relations = [('kangaroo', 'marsupial'), ('kangaroo', 'mammal'), ('gib', 'cat')]
    &gt;&gt;&gt; model = PoincareModel(relations, negative=2)
    &gt;&gt;&gt; model.train(epochs=50)</pre> <div class="fragment"><div class="line"><span class="lineno">  608</span>    <span class="keyword">def </span>train(self, epochs, batch_size=10, print_every=1000, check_gradients_every=None):</div>
<div class="line"><span class="lineno">  609</span>        <span class="stringliteral">&quot;&quot;&quot;Train Poincare embeddings using loaded data and model parameters.</span></div>
<div class="line"><span class="lineno">  610</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  611</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  612</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  613</span><span class="stringliteral">        epochs : int</span></div>
<div class="line"><span class="lineno">  614</span><span class="stringliteral">            Number of iterations (epochs) over the corpus.</span></div>
<div class="line"><span class="lineno">  615</span><span class="stringliteral">        batch_size : int, optional</span></div>
<div class="line"><span class="lineno">  616</span><span class="stringliteral">            Number of examples to train on in a single batch.</span></div>
<div class="line"><span class="lineno">  617</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  618</span><span class="stringliteral">        print_every : int, optional</span></div>
<div class="line"><span class="lineno">  619</span><span class="stringliteral">            Prints progress and average loss after every `print_every` batches.</span></div>
<div class="line"><span class="lineno">  620</span><span class="stringliteral">        check_gradients_every : int or None, optional</span></div>
<div class="line"><span class="lineno">  621</span><span class="stringliteral">            Compares computed gradients and autograd gradients after every `check_gradients_every` batches.</span></div>
<div class="line"><span class="lineno">  622</span><span class="stringliteral">            Useful for debugging, doesn&#39;t compare by default.</span></div>
<div class="line"><span class="lineno">  623</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  624</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  625</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  626</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  627</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  628</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.models.poincare import PoincareModel</span></div>
<div class="line"><span class="lineno">  629</span><span class="stringliteral">            &gt;&gt;&gt; relations = [(&#39;kangaroo&#39;, &#39;marsupial&#39;), (&#39;kangaroo&#39;, &#39;mammal&#39;), (&#39;gib&#39;, &#39;cat&#39;)]</span></div>
<div class="line"><span class="lineno">  630</span><span class="stringliteral">            &gt;&gt;&gt; model = PoincareModel(relations, negative=2)</span></div>
<div class="line"><span class="lineno">  631</span><span class="stringliteral">            &gt;&gt;&gt; model.train(epochs=50)</span></div>
<div class="line"><span class="lineno">  632</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  633</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  634</span>        <span class="keywordflow">if</span> self.workers &gt; 1:</div>
<div class="line"><span class="lineno">  635</span>            <span class="keywordflow">raise</span> NotImplementedError(<span class="stringliteral">&quot;Multi-threaded version not implemented yet&quot;</span>)</div>
<div class="line"><span class="lineno">  636</span>        <span class="comment"># Some divide-by-zero results are handled explicitly</span></div>
<div class="line"><span class="lineno">  637</span>        old_settings = np.seterr(divide=<span class="stringliteral">&#39;ignore&#39;</span>, invalid=<span class="stringliteral">&#39;ignore&#39;</span>)</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>        logger.info(</div>
<div class="line"><span class="lineno">  640</span>            <span class="stringliteral">&quot;training model of size %d with %d workers on %d relations for %d epochs and %d burn-in epochs, &quot;</span></div>
<div class="line"><span class="lineno">  641</span>            <span class="stringliteral">&quot;using lr=%.5f burn-in lr=%.5f negative=%d&quot;</span>,</div>
<div class="line"><span class="lineno">  642</span>            self.size, self.workers, len(self.all_relations), epochs, self.burn_in,</div>
<div class="line"><span class="lineno">  643</span>            self.alpha, self.burn_in_alpha, self.negative</div>
<div class="line"><span class="lineno">  644</span>        )</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>        <span class="keywordflow">if</span> self.burn_in &gt; 0 <span class="keywordflow">and</span> <span class="keywordflow">not</span> self._burn_in_done:</div>
<div class="line"><span class="lineno">  647</span>            logger.info(<span class="stringliteral">&quot;starting burn-in (%d epochs)----------------------------------------&quot;</span>, self.burn_in)</div>
<div class="line"><span class="lineno">  648</span>            self.alpha = self.burn_in_alpha</div>
<div class="line"><span class="lineno">  649</span>            self._train_batchwise(</div>
<div class="line"><span class="lineno">  650</span>                epochs=self.burn_in, batch_size=batch_size, print_every=print_every,</div>
<div class="line"><span class="lineno">  651</span>                check_gradients_every=check_gradients_every)</div>
<div class="line"><span class="lineno">  652</span>            self._burn_in_done = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  653</span>            logger.info(<span class="stringliteral">&quot;burn-in finished&quot;</span>)</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>        self.alpha = self.train_alpha</div>
<div class="line"><span class="lineno">  656</span>        logger.info(<span class="stringliteral">&quot;starting training (%d epochs)----------------------------------------&quot;</span>, epochs)</div>
<div class="line"><span class="lineno">  657</span>        self._train_batchwise(</div>
<div class="line"><span class="lineno">  658</span>            epochs=epochs, batch_size=batch_size, print_every=print_every,</div>
<div class="line"><span class="lineno">  659</span>            check_gradients_every=check_gradients_every)</div>
<div class="line"><span class="lineno">  660</span>        logger.info(<span class="stringliteral">&quot;training finished&quot;</span>)</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>        np.seterr(**old_settings)</div>
<div class="line"><span class="lineno">  663</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aacbff213fa692ff9433284c432d68185" name="aacbff213fa692ff9433284c432d68185"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aacbff213fa692ff9433284c432d68185">&#9670;&#160;</a></span>_burn_in_done</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._burn_in_done</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ada233a59d34b1b233b3a2ec860d742cb" name="ada233a59d34b1b233b3a2ec860d742cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada233a59d34b1b233b3a2ec860d742cb">&#9670;&#160;</a></span>_loss_grad</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._loss_grad</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9e822c22f21a41314cc50e3bd33b19f2" name="a9e822c22f21a41314cc50e3bd33b19f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e822c22f21a41314cc50e3bd33b19f2">&#9670;&#160;</a></span>_negatives_buffer</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._negatives_buffer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5271f58b0fe8ba96ac97497bd47f31ac" name="a5271f58b0fe8ba96ac97497bd47f31ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5271f58b0fe8ba96ac97497bd47f31ac">&#9670;&#160;</a></span>_negatives_buffer_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._negatives_buffer_size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aab8d6986fd7c2b23c3b119f909bcd902" name="aab8d6986fd7c2b23c3b119f909bcd902"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab8d6986fd7c2b23c3b119f909bcd902">&#9670;&#160;</a></span>_node_counts_cumsum</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._node_counts_cumsum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a255b5b013d5fb5922855ce1b592d6f7f" name="a255b5b013d5fb5922855ce1b592d6f7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255b5b013d5fb5922855ce1b592d6f7f">&#9670;&#160;</a></span>_node_probabilities</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._node_probabilities</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="adbe762b01ba3a092cede4d9605fa1419" name="adbe762b01ba3a092cede4d9605fa1419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbe762b01ba3a092cede4d9605fa1419">&#9670;&#160;</a></span>_np_random</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel._np_random</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0a86dbd87d913f0e86b6e67a926afec1" name="a0a86dbd87d913f0e86b6e67a926afec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a86dbd87d913f0e86b6e67a926afec1">&#9670;&#160;</a></span>all_relations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.all_relations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afab59feae6aff7ec2da3c3daecdb0154" name="afab59feae6aff7ec2da3c3daecdb0154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afab59feae6aff7ec2da3c3daecdb0154">&#9670;&#160;</a></span>alpha</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.alpha</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a306e2fbdaa4b2c103447c88382eb23cb" name="a306e2fbdaa4b2c103447c88382eb23cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306e2fbdaa4b2c103447c88382eb23cb">&#9670;&#160;</a></span>burn_in</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.burn_in</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a54d79a5374da86779ab318786bccbdb2" name="a54d79a5374da86779ab318786bccbdb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54d79a5374da86779ab318786bccbdb2">&#9670;&#160;</a></span>burn_in_alpha</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.burn_in_alpha</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab836857ab4c3e255493230831409960d" name="ab836857ab4c3e255493230831409960d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab836857ab4c3e255493230831409960d">&#9670;&#160;</a></span>dtype</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.dtype</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aab09b5ebc2d131661bd5251cd787acbf" name="aab09b5ebc2d131661bd5251cd787acbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab09b5ebc2d131661bd5251cd787acbf">&#9670;&#160;</a></span>epsilon</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.epsilon</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3f73b36631ae754a518d60487e778019" name="a3f73b36631ae754a518d60487e778019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f73b36631ae754a518d60487e778019">&#9670;&#160;</a></span>indices_array</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.indices_array</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6b6fdfb17d46122a9679fbc20b378bcc" name="a6b6fdfb17d46122a9679fbc20b378bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b6fdfb17d46122a9679fbc20b378bcc">&#9670;&#160;</a></span>indices_set</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.indices_set</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a922366cc35f4c6698e6b0c67bf04ecfb" name="a922366cc35f4c6698e6b0c67bf04ecfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a922366cc35f4c6698e6b0c67bf04ecfb">&#9670;&#160;</a></span>init_range</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.init_range</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac767cf5f62dca78683a4736065a7479e" name="ac767cf5f62dca78683a4736065a7479e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac767cf5f62dca78683a4736065a7479e">&#9670;&#160;</a></span>kv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.kv</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa18673cc04ac0b50d86fea48a962e24c" name="aa18673cc04ac0b50d86fea48a962e24c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa18673cc04ac0b50d86fea48a962e24c">&#9670;&#160;</a></span>negative</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.negative</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ade9769cf275bd5c8d0dd24d45558adeb" name="ade9769cf275bd5c8d0dd24d45558adeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade9769cf275bd5c8d0dd24d45558adeb">&#9670;&#160;</a></span>node_relations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.node_relations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5aea13c3ad37df638685fad2a6086d93" name="a5aea13c3ad37df638685fad2a6086d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5aea13c3ad37df638685fad2a6086d93">&#9670;&#160;</a></span>regularization_coeff</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.regularization_coeff</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a68f300bfe0aaaabe736292fadced6216" name="a68f300bfe0aaaabe736292fadced6216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68f300bfe0aaaabe736292fadced6216">&#9670;&#160;</a></span>seed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.seed</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a10d6e26a0cb585a6733e164a0861124a" name="a10d6e26a0cb585a6733e164a0861124a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10d6e26a0cb585a6733e164a0861124a">&#9670;&#160;</a></span>size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.size</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1c9464661179359bbd451497b0b963b8" name="a1c9464661179359bbd451497b0b963b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c9464661179359bbd451497b0b963b8">&#9670;&#160;</a></span>train_alpha</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.train_alpha</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aeaebd30a6d8170e872fbee9d59c22ef9" name="aeaebd30a6d8170e872fbee9d59c22ef9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaebd30a6d8170e872fbee9d59c22ef9">&#9670;&#160;</a></span>train_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.train_data</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0f5ebbfb09ea8de34ab7c8a72e7bb980" name="a0f5ebbfb09ea8de34ab7c8a72e7bb980"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f5ebbfb09ea8de34ab7c8a72e7bb980">&#9670;&#160;</a></span>workers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.poincare.PoincareModel.workers</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/gensim/models/<a class="el" href="models_2poincare_8py.html">poincare.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
