<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.linear_model.tests.test_sgd Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1linear__model.html">linear_model</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html">test_sgd</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sklearn.linear_model.tests.test_sgd Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1linear__model_1_1tests_1_1test__sgd_1_1___sparse_s_g_d_classifier.html">_SparseSGDClassifier</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1linear__model_1_1tests_1_1test__sgd_1_1___sparse_s_g_d_one_class_s_v_m.html">_SparseSGDOneClassSVM</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1linear__model_1_1tests_1_1test__sgd_1_1___sparse_s_g_d_regressor.html">_SparseSGDRegressor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeb323956cabd7ffee7f90971a0fe3ca5" id="r_aeb323956cabd7ffee7f90971a0fe3ca5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aeb323956cabd7ffee7f90971a0fe3ca5">_update_kwargs</a> (kwargs)</td></tr>
<tr class="separator:aeb323956cabd7ffee7f90971a0fe3ca5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73f24d3aee9dfda9e281d2f4fc72dfd7" id="r_a73f24d3aee9dfda9e281d2f4fc72dfd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a73f24d3aee9dfda9e281d2f4fc72dfd7">SGDClassifier</a> (**kwargs)</td></tr>
<tr class="separator:a73f24d3aee9dfda9e281d2f4fc72dfd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace7eaac6b290688b8478820507719a34" id="r_ace7eaac6b290688b8478820507719a34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ace7eaac6b290688b8478820507719a34">SGDRegressor</a> (**kwargs)</td></tr>
<tr class="separator:ace7eaac6b290688b8478820507719a34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8417e31e087d89f2982c2a9ac221b24" id="r_ac8417e31e087d89f2982c2a9ac221b24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ac8417e31e087d89f2982c2a9ac221b24">SGDOneClassSVM</a> (**kwargs)</td></tr>
<tr class="separator:ac8417e31e087d89f2982c2a9ac221b24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03296d92069f7725f7fa5edc8786d818" id="r_a03296d92069f7725f7fa5edc8786d818"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a03296d92069f7725f7fa5edc8786d818">SparseSGDClassifier</a> (**kwargs)</td></tr>
<tr class="separator:a03296d92069f7725f7fa5edc8786d818"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97d1237d09c063e5dc002ceb40223fa4" id="r_a97d1237d09c063e5dc002ceb40223fa4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a97d1237d09c063e5dc002ceb40223fa4">SparseSGDRegressor</a> (**kwargs)</td></tr>
<tr class="separator:a97d1237d09c063e5dc002ceb40223fa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9cea119f072636286536dd76bf9c7ce" id="r_ac9cea119f072636286536dd76bf9c7ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ac9cea119f072636286536dd76bf9c7ce">SparseSGDOneClassSVM</a> (**kwargs)</td></tr>
<tr class="separator:ac9cea119f072636286536dd76bf9c7ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab20ec7534385a6c109edac521ab20fb4" id="r_ab20ec7534385a6c109edac521ab20fb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ab20ec7534385a6c109edac521ab20fb4">asgd</a> (klass, <a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a82bc7fdef192a6403cced37d5b5c8a6d">X</a>, y, eta, <a class="el" href="__blas__subroutines_8h.html#a29dda7d0819a860e921db821deb590c9">alpha</a>, weight_init=None, intercept_init=0.0)</td></tr>
<tr class="memdesc:ab20ec7534385a6c109edac521ab20fb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Common Test Case to classification and regression.  <br /></td></tr>
<tr class="separator:ab20ec7534385a6c109edac521ab20fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7965b45937ef5c8458e7f20df477a67e" id="r_a7965b45937ef5c8458e7f20df477a67e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a7965b45937ef5c8458e7f20df477a67e">_test_warm_start</a> (klass, <a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a82bc7fdef192a6403cced37d5b5c8a6d">X</a>, <a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aa55cc9565489139b46fa8ff6a9c1af27">Y</a>, lr)</td></tr>
<tr class="separator:a7965b45937ef5c8458e7f20df477a67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89f172230717c8c4ed27691a62a45cfd" id="r_a89f172230717c8c4ed27691a62a45cfd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a89f172230717c8c4ed27691a62a45cfd">test_warm_start</a> (klass, lr)</td></tr>
<tr class="separator:a89f172230717c8c4ed27691a62a45cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5776789d391428d3fc0f782a9f23fe3d" id="r_a5776789d391428d3fc0f782a9f23fe3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a5776789d391428d3fc0f782a9f23fe3d">test_input_format</a> (klass)</td></tr>
<tr class="separator:a5776789d391428d3fc0f782a9f23fe3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cbb1d8538746f7f5dc30121b90ec661" id="r_a8cbb1d8538746f7f5dc30121b90ec661"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a8cbb1d8538746f7f5dc30121b90ec661">test_clone</a> (klass)</td></tr>
<tr class="separator:a8cbb1d8538746f7f5dc30121b90ec661"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a282859540e5e801b0ff0abd29b293111" id="r_a282859540e5e801b0ff0abd29b293111"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a282859540e5e801b0ff0abd29b293111">test_plain_has_no_average_attr</a> (klass)</td></tr>
<tr class="separator:a282859540e5e801b0ff0abd29b293111"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4698fdab0f6eb0bfb2497c7c7b0780d1" id="r_a4698fdab0f6eb0bfb2497c7c7b0780d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a4698fdab0f6eb0bfb2497c7c7b0780d1">test_late_onset_averaging_not_reached</a> (klass)</td></tr>
<tr class="separator:a4698fdab0f6eb0bfb2497c7c7b0780d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af92d526c57ceda51930d351b42ae138c" id="r_af92d526c57ceda51930d351b42ae138c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#af92d526c57ceda51930d351b42ae138c">test_late_onset_averaging_reached</a> (klass)</td></tr>
<tr class="separator:af92d526c57ceda51930d351b42ae138c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a295eaed2a1a90ef3b58673fd710f7ddc" id="r_a295eaed2a1a90ef3b58673fd710f7ddc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a295eaed2a1a90ef3b58673fd710f7ddc">test_early_stopping</a> (klass)</td></tr>
<tr class="separator:a295eaed2a1a90ef3b58673fd710f7ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021d8be44e9745806e63cd9ffe5adb88" id="r_a021d8be44e9745806e63cd9ffe5adb88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a021d8be44e9745806e63cd9ffe5adb88">test_adaptive_longer_than_constant</a> (klass)</td></tr>
<tr class="separator:a021d8be44e9745806e63cd9ffe5adb88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a293daf1a8bef80903c682d156b05995d" id="r_a293daf1a8bef80903c682d156b05995d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a293daf1a8bef80903c682d156b05995d">test_validation_set_not_used_for_training</a> (klass)</td></tr>
<tr class="separator:a293daf1a8bef80903c682d156b05995d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b12fe6723f2551511a036f42a4ca140" id="r_a3b12fe6723f2551511a036f42a4ca140"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a3b12fe6723f2551511a036f42a4ca140">test_n_iter_no_change</a> (klass)</td></tr>
<tr class="separator:a3b12fe6723f2551511a036f42a4ca140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af3fe02fd46ea00a54414109fe805a7" id="r_a8af3fe02fd46ea00a54414109fe805a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a8af3fe02fd46ea00a54414109fe805a7">test_not_enough_sample_for_early_stopping</a> (klass)</td></tr>
<tr class="separator:a8af3fe02fd46ea00a54414109fe805a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa8fd93db051060abd0f6c270b08ed3" id="r_aeaa8fd93db051060abd0f6c270b08ed3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aeaa8fd93db051060abd0f6c270b08ed3">test_sgd_clf</a> (klass)</td></tr>
<tr class="memdesc:aeaa8fd93db051060abd0f6c270b08ed3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Classification Test Case.  <br /></td></tr>
<tr class="separator:aeaa8fd93db051060abd0f6c270b08ed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a21ff87b3ebaa0820f1b07a27bd2634" id="r_a7a21ff87b3ebaa0820f1b07a27bd2634"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a7a21ff87b3ebaa0820f1b07a27bd2634">test_provide_coef</a> (klass)</td></tr>
<tr class="separator:a7a21ff87b3ebaa0820f1b07a27bd2634"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76bb64bebf3f2d0f909ca16d81735b6c" id="r_a76bb64bebf3f2d0f909ca16d81735b6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a76bb64bebf3f2d0f909ca16d81735b6c">test_set_intercept_offset</a> (klass, fit_params)</td></tr>
<tr class="separator:a76bb64bebf3f2d0f909ca16d81735b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a591851071d4826962b6d554303b53870" id="r_a591851071d4826962b6d554303b53870"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a591851071d4826962b6d554303b53870">test_sgd_early_stopping_with_partial_fit</a> (klass)</td></tr>
<tr class="separator:a591851071d4826962b6d554303b53870"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a5110c3c96df109ef8bfc3dc735a644" id="r_a2a5110c3c96df109ef8bfc3dc735a644"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a2a5110c3c96df109ef8bfc3dc735a644">test_set_intercept_offset_binary</a> (klass, fit_params)</td></tr>
<tr class="separator:a2a5110c3c96df109ef8bfc3dc735a644"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab671b5ec67adf9aacf6a4e64a06bf6f9" id="r_ab671b5ec67adf9aacf6a4e64a06bf6f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ab671b5ec67adf9aacf6a4e64a06bf6f9">test_average_binary_computed_correctly</a> (klass)</td></tr>
<tr class="separator:ab671b5ec67adf9aacf6a4e64a06bf6f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98a6d8c7fcc9020753656c46f51a93cd" id="r_a98a6d8c7fcc9020753656c46f51a93cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a98a6d8c7fcc9020753656c46f51a93cd">test_set_intercept_to_intercept</a> (klass)</td></tr>
<tr class="separator:a98a6d8c7fcc9020753656c46f51a93cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae632822f4ce5405cab2808193f7b8cf3" id="r_ae632822f4ce5405cab2808193f7b8cf3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ae632822f4ce5405cab2808193f7b8cf3">test_sgd_at_least_two_labels</a> (klass)</td></tr>
<tr class="separator:ae632822f4ce5405cab2808193f7b8cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c1c5b31ac91788c3ab28ad65528f97" id="r_ac4c1c5b31ac91788c3ab28ad65528f97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ac4c1c5b31ac91788c3ab28ad65528f97">test_partial_fit_weight_class_balanced</a> (klass)</td></tr>
<tr class="separator:ac4c1c5b31ac91788c3ab28ad65528f97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63dcedfb27a4908e0bb4123ced91da11" id="r_a63dcedfb27a4908e0bb4123ced91da11"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a63dcedfb27a4908e0bb4123ced91da11">test_sgd_multiclass</a> (klass)</td></tr>
<tr class="separator:a63dcedfb27a4908e0bb4123ced91da11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d69166669f729ae21e7076483571402" id="r_a1d69166669f729ae21e7076483571402"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a1d69166669f729ae21e7076483571402">test_sgd_multiclass_average</a> (klass)</td></tr>
<tr class="separator:a1d69166669f729ae21e7076483571402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e0cc496c4c7ba20f360aaa421e18ad8" id="r_a2e0cc496c4c7ba20f360aaa421e18ad8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a2e0cc496c4c7ba20f360aaa421e18ad8">test_sgd_multiclass_with_init_coef</a> (klass)</td></tr>
<tr class="separator:a2e0cc496c4c7ba20f360aaa421e18ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaeb2584f0fb0e4a98d0dae15768fb97" id="r_abaeb2584f0fb0e4a98d0dae15768fb97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#abaeb2584f0fb0e4a98d0dae15768fb97">test_sgd_multiclass_njobs</a> (klass)</td></tr>
<tr class="separator:abaeb2584f0fb0e4a98d0dae15768fb97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d170a60ba69411cf07fd9479598f409" id="r_a8d170a60ba69411cf07fd9479598f409"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a8d170a60ba69411cf07fd9479598f409">test_set_coef_multiclass</a> (klass)</td></tr>
<tr class="separator:a8d170a60ba69411cf07fd9479598f409"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec3c8dfd57fe4df2534fa69dd2ebe052" id="r_aec3c8dfd57fe4df2534fa69dd2ebe052"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aec3c8dfd57fe4df2534fa69dd2ebe052">test_sgd_predict_proba_method_access</a> (klass)</td></tr>
<tr class="separator:aec3c8dfd57fe4df2534fa69dd2ebe052"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ad9a3bd02a0244c8b45643798f7c392" id="r_a7ad9a3bd02a0244c8b45643798f7c392"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a7ad9a3bd02a0244c8b45643798f7c392">test_sgd_proba</a> (klass)</td></tr>
<tr class="separator:a7ad9a3bd02a0244c8b45643798f7c392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bcf94c684c9e70ffb058b5cbd14177b" id="r_a0bcf94c684c9e70ffb058b5cbd14177b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a0bcf94c684c9e70ffb058b5cbd14177b">test_sgd_l1</a> (klass)</td></tr>
<tr class="separator:a0bcf94c684c9e70ffb058b5cbd14177b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea3e93b8bcaf7bae3459ca4ca66e124d" id="r_aea3e93b8bcaf7bae3459ca4ca66e124d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aea3e93b8bcaf7bae3459ca4ca66e124d">test_class_weights</a> (klass)</td></tr>
<tr class="separator:aea3e93b8bcaf7bae3459ca4ca66e124d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c8605969bcd1151c641c0453b65d5a" id="r_a59c8605969bcd1151c641c0453b65d5a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a59c8605969bcd1151c641c0453b65d5a">test_equal_class_weight</a> (klass)</td></tr>
<tr class="separator:a59c8605969bcd1151c641c0453b65d5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb94a3ef296130e6e6a2801d2318b1c4" id="r_acb94a3ef296130e6e6a2801d2318b1c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#acb94a3ef296130e6e6a2801d2318b1c4">test_wrong_class_weight_label</a> (klass)</td></tr>
<tr class="separator:acb94a3ef296130e6e6a2801d2318b1c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83327bba2b52215d40b861875ea1c1bf" id="r_a83327bba2b52215d40b861875ea1c1bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a83327bba2b52215d40b861875ea1c1bf">test_weights_multiplied</a> (klass)</td></tr>
<tr class="separator:a83327bba2b52215d40b861875ea1c1bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53282594d813f0c3c0d8335f33bd486e" id="r_a53282594d813f0c3c0d8335f33bd486e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a53282594d813f0c3c0d8335f33bd486e">test_balanced_weight</a> (klass)</td></tr>
<tr class="separator:a53282594d813f0c3c0d8335f33bd486e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b8184de26fed23f9bad8c862ba3350" id="r_a84b8184de26fed23f9bad8c862ba3350"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a84b8184de26fed23f9bad8c862ba3350">test_sample_weights</a> (klass)</td></tr>
<tr class="separator:a84b8184de26fed23f9bad8c862ba3350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb66efc5664e3af962d934ad0a8c07f" id="r_aebb66efc5664e3af962d934ad0a8c07f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aebb66efc5664e3af962d934ad0a8c07f">test_wrong_sample_weights</a> (klass)</td></tr>
<tr class="separator:aebb66efc5664e3af962d934ad0a8c07f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c258508fc082590cc6d9ac97feecc9e" id="r_a9c258508fc082590cc6d9ac97feecc9e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a9c258508fc082590cc6d9ac97feecc9e">test_partial_fit_exception</a> (klass)</td></tr>
<tr class="separator:a9c258508fc082590cc6d9ac97feecc9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5be8a4b47ec883a7ef6b99fb18980f65" id="r_a5be8a4b47ec883a7ef6b99fb18980f65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a5be8a4b47ec883a7ef6b99fb18980f65">test_partial_fit_binary</a> (klass)</td></tr>
<tr class="separator:a5be8a4b47ec883a7ef6b99fb18980f65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79e300dacf1d7fce5e5b01dcb300e1d5" id="r_a79e300dacf1d7fce5e5b01dcb300e1d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a79e300dacf1d7fce5e5b01dcb300e1d5">test_partial_fit_multiclass</a> (klass)</td></tr>
<tr class="separator:a79e300dacf1d7fce5e5b01dcb300e1d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69f5c768f46d74429b60c1dbd368064e" id="r_a69f5c768f46d74429b60c1dbd368064e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a69f5c768f46d74429b60c1dbd368064e">test_partial_fit_multiclass_average</a> (klass)</td></tr>
<tr class="separator:a69f5c768f46d74429b60c1dbd368064e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a625bf5c24c9a933f58a2e35ff7b2dac5" id="r_a625bf5c24c9a933f58a2e35ff7b2dac5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a625bf5c24c9a933f58a2e35ff7b2dac5">test_fit_then_partial_fit</a> (klass)</td></tr>
<tr class="separator:a625bf5c24c9a933f58a2e35ff7b2dac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab307fa8ad24de000b303011725084b03" id="r_ab307fa8ad24de000b303011725084b03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ab307fa8ad24de000b303011725084b03">test_partial_fit_equal_fit_classif</a> (klass, lr)</td></tr>
<tr class="separator:ab307fa8ad24de000b303011725084b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a634c38b7b0d5a21fdd90e669f57603d8" id="r_a634c38b7b0d5a21fdd90e669f57603d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a634c38b7b0d5a21fdd90e669f57603d8">test_regression_losses</a> (klass)</td></tr>
<tr class="separator:a634c38b7b0d5a21fdd90e669f57603d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45000ce6bd9d9bf030608f73cc017b75" id="r_a45000ce6bd9d9bf030608f73cc017b75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a45000ce6bd9d9bf030608f73cc017b75">test_warm_start_multiclass</a> (klass)</td></tr>
<tr class="separator:a45000ce6bd9d9bf030608f73cc017b75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafed14afd7a58d9292f1dce203adc83e" id="r_aafed14afd7a58d9292f1dce203adc83e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aafed14afd7a58d9292f1dce203adc83e">test_multiple_fit</a> (klass)</td></tr>
<tr class="separator:aafed14afd7a58d9292f1dce203adc83e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a168fa84cb56b6cc23a3177b4f9772eae" id="r_a168fa84cb56b6cc23a3177b4f9772eae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a168fa84cb56b6cc23a3177b4f9772eae">test_sgd_reg</a> (klass)</td></tr>
<tr class="memdesc:a168fa84cb56b6cc23a3177b4f9772eae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Regression Test Case.  <br /></td></tr>
<tr class="separator:a168fa84cb56b6cc23a3177b4f9772eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb44a5d978c625c2c304797171d499d" id="r_a7eb44a5d978c625c2c304797171d499d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a7eb44a5d978c625c2c304797171d499d">test_sgd_averaged_computed_correctly</a> (klass)</td></tr>
<tr class="separator:a7eb44a5d978c625c2c304797171d499d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3aca8a1222a9c4e74fd69a114839e73" id="r_aa3aca8a1222a9c4e74fd69a114839e73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aa3aca8a1222a9c4e74fd69a114839e73">test_sgd_averaged_partial_fit</a> (klass)</td></tr>
<tr class="separator:aa3aca8a1222a9c4e74fd69a114839e73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23832f1d4dd0cf5242fa14618c03d4a" id="r_ad23832f1d4dd0cf5242fa14618c03d4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ad23832f1d4dd0cf5242fa14618c03d4a">test_average_sparse</a> (klass)</td></tr>
<tr class="separator:ad23832f1d4dd0cf5242fa14618c03d4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763280da8ac38495cbbd002a62fbf851" id="r_a763280da8ac38495cbbd002a62fbf851"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a763280da8ac38495cbbd002a62fbf851">test_sgd_least_squares_fit</a> (klass)</td></tr>
<tr class="separator:a763280da8ac38495cbbd002a62fbf851"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa04771814b7b38f85125778497089565" id="r_aa04771814b7b38f85125778497089565"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aa04771814b7b38f85125778497089565">test_sgd_epsilon_insensitive</a> (klass)</td></tr>
<tr class="separator:aa04771814b7b38f85125778497089565"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66f1192285d30ddd2e04abfa0f4665aa" id="r_a66f1192285d30ddd2e04abfa0f4665aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a66f1192285d30ddd2e04abfa0f4665aa">test_sgd_huber_fit</a> (klass)</td></tr>
<tr class="separator:a66f1192285d30ddd2e04abfa0f4665aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cf67046619dc2a9417501763af6f458" id="r_a0cf67046619dc2a9417501763af6f458"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a0cf67046619dc2a9417501763af6f458">test_elasticnet_convergence</a> (klass)</td></tr>
<tr class="separator:a0cf67046619dc2a9417501763af6f458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4bd2071c33ffc5c0381c6b1daa2408f" id="r_ab4bd2071c33ffc5c0381c6b1daa2408f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ab4bd2071c33ffc5c0381c6b1daa2408f">test_partial_fit</a> (klass)</td></tr>
<tr class="separator:ab4bd2071c33ffc5c0381c6b1daa2408f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af48bbc9d1b05c4b02ac622f6ed716d20" id="r_af48bbc9d1b05c4b02ac622f6ed716d20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#af48bbc9d1b05c4b02ac622f6ed716d20">test_partial_fit_equal_fit</a> (klass, lr)</td></tr>
<tr class="separator:af48bbc9d1b05c4b02ac622f6ed716d20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90a7bdef3ab5917ec5db4da8d5cea8e9" id="r_a90a7bdef3ab5917ec5db4da8d5cea8e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a90a7bdef3ab5917ec5db4da8d5cea8e9">test_loss_function_epsilon</a> (klass)</td></tr>
<tr class="separator:a90a7bdef3ab5917ec5db4da8d5cea8e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02af4d01757846fc3af4b55bde99efee" id="r_a02af4d01757846fc3af4b55bde99efee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a02af4d01757846fc3af4b55bde99efee">asgd_oneclass</a> (klass, <a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a82bc7fdef192a6403cced37d5b5c8a6d">X</a>, eta, nu, coef_init=None, offset_init=0.0)</td></tr>
<tr class="memdesc:a02af4d01757846fc3af4b55bde99efee"><td class="mdescLeft">&#160;</td><td class="mdescRight">SGD One Class SVM Test Case.  <br /></td></tr>
<tr class="separator:a02af4d01757846fc3af4b55bde99efee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c57e348eadbfba9830dac5ace39360f" id="r_a1c57e348eadbfba9830dac5ace39360f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a1c57e348eadbfba9830dac5ace39360f">_test_warm_start_oneclass</a> (klass, <a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a82bc7fdef192a6403cced37d5b5c8a6d">X</a>, lr)</td></tr>
<tr class="separator:a1c57e348eadbfba9830dac5ace39360f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e48979de6d898259391afb09ef52ece" id="r_a6e48979de6d898259391afb09ef52ece"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a6e48979de6d898259391afb09ef52ece">test_warm_start_oneclass</a> (klass, lr)</td></tr>
<tr class="separator:a6e48979de6d898259391afb09ef52ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30a796724acfdb6b157bfe20480fc501" id="r_a30a796724acfdb6b157bfe20480fc501"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a30a796724acfdb6b157bfe20480fc501">test_clone_oneclass</a> (klass)</td></tr>
<tr class="separator:a30a796724acfdb6b157bfe20480fc501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a235b399d5eb9389bb2176340f4d3ab" id="r_a7a235b399d5eb9389bb2176340f4d3ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a7a235b399d5eb9389bb2176340f4d3ab">test_partial_fit_oneclass</a> (klass)</td></tr>
<tr class="separator:a7a235b399d5eb9389bb2176340f4d3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8667f9e97c76098c9a0b95b0b9e5b631" id="r_a8667f9e97c76098c9a0b95b0b9e5b631"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a8667f9e97c76098c9a0b95b0b9e5b631">test_partial_fit_equal_fit_oneclass</a> (klass, lr)</td></tr>
<tr class="separator:a8667f9e97c76098c9a0b95b0b9e5b631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d497af37a25d2814053f42c3a7562a4" id="r_a7d497af37a25d2814053f42c3a7562a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a7d497af37a25d2814053f42c3a7562a4">test_late_onset_averaging_reached_oneclass</a> (klass)</td></tr>
<tr class="separator:a7d497af37a25d2814053f42c3a7562a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba2be433318e5f5a066539a30c4d31d" id="r_a3ba2be433318e5f5a066539a30c4d31d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a3ba2be433318e5f5a066539a30c4d31d">test_sgd_averaged_computed_correctly_oneclass</a> (klass)</td></tr>
<tr class="separator:a3ba2be433318e5f5a066539a30c4d31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd2efced7db21c368ae5d22fd42b5e1c" id="r_afd2efced7db21c368ae5d22fd42b5e1c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#afd2efced7db21c368ae5d22fd42b5e1c">test_sgd_averaged_partial_fit_oneclass</a> (klass)</td></tr>
<tr class="separator:afd2efced7db21c368ae5d22fd42b5e1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac975774673aa4fdee661d36a9096189" id="r_aac975774673aa4fdee661d36a9096189"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aac975774673aa4fdee661d36a9096189">test_average_sparse_oneclass</a> (klass)</td></tr>
<tr class="separator:aac975774673aa4fdee661d36a9096189"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad16e1b3ccebb13f395179a2eb10bd790" id="r_ad16e1b3ccebb13f395179a2eb10bd790"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ad16e1b3ccebb13f395179a2eb10bd790">test_sgd_oneclass</a> ()</td></tr>
<tr class="separator:ad16e1b3ccebb13f395179a2eb10bd790"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb6b37ae3f9ff17513147d241baa06c4" id="r_aeb6b37ae3f9ff17513147d241baa06c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aeb6b37ae3f9ff17513147d241baa06c4">test_ocsvm_vs_sgdocsvm</a> ()</td></tr>
<tr class="separator:aeb6b37ae3f9ff17513147d241baa06c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34af8b06dd155a339ef03a25aed93e9c" id="r_a34af8b06dd155a339ef03a25aed93e9c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a34af8b06dd155a339ef03a25aed93e9c">test_l1_ratio</a> ()</td></tr>
<tr class="separator:a34af8b06dd155a339ef03a25aed93e9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3b5faa939fbfbf901b5e1647ed3c25f" id="r_aa3b5faa939fbfbf901b5e1647ed3c25f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aa3b5faa939fbfbf901b5e1647ed3c25f">test_underflow_or_overlow</a> ()</td></tr>
<tr class="separator:aa3b5faa939fbfbf901b5e1647ed3c25f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1835149d4650075759c06ab9920d5122" id="r_a1835149d4650075759c06ab9920d5122"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a1835149d4650075759c06ab9920d5122">test_numerical_stability_large_gradient</a> ()</td></tr>
<tr class="separator:a1835149d4650075759c06ab9920d5122"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdf9b78f91fff6966cac79baaa1b6503" id="r_acdf9b78f91fff6966cac79baaa1b6503"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#acdf9b78f91fff6966cac79baaa1b6503">test_large_regularization</a> (penalty)</td></tr>
<tr class="separator:acdf9b78f91fff6966cac79baaa1b6503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac386228d02e7e9d774509e65ed351c3c" id="r_ac386228d02e7e9d774509e65ed351c3c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ac386228d02e7e9d774509e65ed351c3c">test_tol_parameter</a> ()</td></tr>
<tr class="separator:ac386228d02e7e9d774509e65ed351c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcf13940bd9f6e0ee522462afc5a07e6" id="r_adcf13940bd9f6e0ee522462afc5a07e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#adcf13940bd9f6e0ee522462afc5a07e6">_test_loss_common</a> (loss_function, cases)</td></tr>
<tr class="separator:adcf13940bd9f6e0ee522462afc5a07e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c23cc074fec8b3bfbccd97a1ab8c966" id="r_a8c23cc074fec8b3bfbccd97a1ab8c966"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a8c23cc074fec8b3bfbccd97a1ab8c966">test_loss_hinge</a> ()</td></tr>
<tr class="separator:a8c23cc074fec8b3bfbccd97a1ab8c966"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a08f59541d7a8301ae743aead1a2d1b" id="r_a4a08f59541d7a8301ae743aead1a2d1b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a4a08f59541d7a8301ae743aead1a2d1b">test_gradient_squared_hinge</a> ()</td></tr>
<tr class="separator:a4a08f59541d7a8301ae743aead1a2d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4ab591f8dafcd5e20eaecbb42fdf118" id="r_ab4ab591f8dafcd5e20eaecbb42fdf118"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ab4ab591f8dafcd5e20eaecbb42fdf118">test_loss_log</a> ()</td></tr>
<tr class="separator:ab4ab591f8dafcd5e20eaecbb42fdf118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ff8221be1b14e7bab9e405149d32792" id="r_a1ff8221be1b14e7bab9e405149d32792"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a1ff8221be1b14e7bab9e405149d32792">test_loss_squared_loss</a> ()</td></tr>
<tr class="separator:a1ff8221be1b14e7bab9e405149d32792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cf1ca80ae7110ce141c688e936957ca" id="r_a3cf1ca80ae7110ce141c688e936957ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a3cf1ca80ae7110ce141c688e936957ca">test_loss_huber</a> ()</td></tr>
<tr class="separator:a3cf1ca80ae7110ce141c688e936957ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5ffab95877f0dc5691bde45699f9371" id="r_ae5ffab95877f0dc5691bde45699f9371"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ae5ffab95877f0dc5691bde45699f9371">test_loss_modified_huber</a> ()</td></tr>
<tr class="separator:ae5ffab95877f0dc5691bde45699f9371"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae010e7847893e8ab24d810564afd08d9" id="r_ae010e7847893e8ab24d810564afd08d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ae010e7847893e8ab24d810564afd08d9">test_loss_epsilon_insensitive</a> ()</td></tr>
<tr class="separator:ae010e7847893e8ab24d810564afd08d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21ea27fbe24d078adadae1ed993d5a26" id="r_a21ea27fbe24d078adadae1ed993d5a26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a21ea27fbe24d078adadae1ed993d5a26">test_loss_squared_epsilon_insensitive</a> ()</td></tr>
<tr class="separator:a21ea27fbe24d078adadae1ed993d5a26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69b0f48cd1e05f820cf669b728a3d913" id="r_a69b0f48cd1e05f820cf669b728a3d913"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a69b0f48cd1e05f820cf669b728a3d913">test_multi_thread_multi_class_and_early_stopping</a> ()</td></tr>
<tr class="separator:a69b0f48cd1e05f820cf669b728a3d913"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f786c43a8241fbbde078b9b48566a96" id="r_a3f786c43a8241fbbde078b9b48566a96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a3f786c43a8241fbbde078b9b48566a96">test_multi_core_gridsearch_and_early_stopping</a> ()</td></tr>
<tr class="separator:a3f786c43a8241fbbde078b9b48566a96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3dcbbe7015d784499a97a3ef3939822" id="r_af3dcbbe7015d784499a97a3ef3939822"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#af3dcbbe7015d784499a97a3ef3939822">test_SGDClassifier_fit_for_all_backends</a> (backend)</td></tr>
<tr class="separator:af3dcbbe7015d784499a97a3ef3939822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68202bc8ac7edabb5b2cdb7c90383f53" id="r_a68202bc8ac7edabb5b2cdb7c90383f53"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a68202bc8ac7edabb5b2cdb7c90383f53">test_loss_deprecated</a> (old_loss, new_loss, Estimator)</td></tr>
<tr class="separator:a68202bc8ac7edabb5b2cdb7c90383f53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93bbcc1444989506643245286b7eec84" id="r_a93bbcc1444989506643245286b7eec84"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a93bbcc1444989506643245286b7eec84">test_sgd_random_state</a> (Estimator, global_random_seed)</td></tr>
<tr class="separator:a93bbcc1444989506643245286b7eec84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acc61010c48c2065b9dae2657f20ab0" id="r_a9acc61010c48c2065b9dae2657f20ab0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a9acc61010c48c2065b9dae2657f20ab0">test_validation_mask_correctly_subsets</a> (monkeypatch)</td></tr>
<tr class="separator:a9acc61010c48c2065b9dae2657f20ab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a137369febc694dc19db58ecfdbbf20" id="r_a7a137369febc694dc19db58ecfdbbf20"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a7a137369febc694dc19db58ecfdbbf20">test_sgd_error_on_zero_validation_weight</a> ()</td></tr>
<tr class="separator:a7a137369febc694dc19db58ecfdbbf20"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a82bc7fdef192a6403cced37d5b5c8a6d" id="r_a82bc7fdef192a6403cced37d5b5c8a6d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a82bc7fdef192a6403cced37d5b5c8a6d">X</a> = np.array([[-2, -1], [-1, -1], [-1, -2], [1, 1], [1, 2], [2, 1]])</td></tr>
<tr class="separator:a82bc7fdef192a6403cced37d5b5c8a6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa55cc9565489139b46fa8ff6a9c1af27" id="r_aa55cc9565489139b46fa8ff6a9c1af27"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aa55cc9565489139b46fa8ff6a9c1af27">Y</a> = [1, 1, 1, 2, 2, 2]</td></tr>
<tr class="separator:aa55cc9565489139b46fa8ff6a9c1af27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bb58f2079b00cc8c4d8e7b749f69af3" id="r_a2bb58f2079b00cc8c4d8e7b749f69af3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a2bb58f2079b00cc8c4d8e7b749f69af3">T</a> = np.array([[-1, -1], [2, 2], [3, 2]])</td></tr>
<tr class="separator:a2bb58f2079b00cc8c4d8e7b749f69af3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b6d0340602a97578689d49248462145" id="r_a2b6d0340602a97578689d49248462145"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a2b6d0340602a97578689d49248462145">true_result</a> = [1, 2, 2]</td></tr>
<tr class="separator:a2b6d0340602a97578689d49248462145"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a491134aaa3c2890a1752a9a11ad0ae09" id="r_a491134aaa3c2890a1752a9a11ad0ae09"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a491134aaa3c2890a1752a9a11ad0ae09">X2</a></td></tr>
<tr class="separator:a491134aaa3c2890a1752a9a11ad0ae09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91980922581a881f0716898de385490" id="r_ac91980922581a881f0716898de385490"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ac91980922581a881f0716898de385490">Y2</a> = [&quot;one&quot;] * 3 + [&quot;two&quot;] * 3 + [&quot;three&quot;] * 3</td></tr>
<tr class="separator:ac91980922581a881f0716898de385490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00ff4cf367a00a726e612436edf06a39" id="r_a00ff4cf367a00a726e612436edf06a39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a00ff4cf367a00a726e612436edf06a39">T2</a> = np.array([[-1.5, 0.5], [1, 2], [0, -2]])</td></tr>
<tr class="separator:a00ff4cf367a00a726e612436edf06a39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a412aec78dfaeec22e86cee0c2d5d3efe" id="r_a412aec78dfaeec22e86cee0c2d5d3efe"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a412aec78dfaeec22e86cee0c2d5d3efe">true_result2</a> = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;]</td></tr>
<tr class="separator:a412aec78dfaeec22e86cee0c2d5d3efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40012168ecd0a5753f65c50fc398cbb4" id="r_a40012168ecd0a5753f65c50fc398cbb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a40012168ecd0a5753f65c50fc398cbb4">X3</a></td></tr>
<tr class="separator:a40012168ecd0a5753f65c50fc398cbb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4236e9ce5828b51bd20aa587a7ad0c72" id="r_a4236e9ce5828b51bd20aa587a7ad0c72"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a4236e9ce5828b51bd20aa587a7ad0c72">Y3</a> = np.array([1, 1, 1, 1, 2, 2, 2, 2])</td></tr>
<tr class="separator:a4236e9ce5828b51bd20aa587a7ad0c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ce9249fc346fb4cd6c1ed8ee16b33be" id="r_a4ce9249fc346fb4cd6c1ed8ee16b33be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a4ce9249fc346fb4cd6c1ed8ee16b33be">X4</a></td></tr>
<tr class="separator:a4ce9249fc346fb4cd6c1ed8ee16b33be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a388bf685eb703be460bb42e79fe81dd1" id="r_a388bf685eb703be460bb42e79fe81dd1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a388bf685eb703be460bb42e79fe81dd1">Y4</a> = np.array([1, 1, 1, 1, 2, 2, 2, 2])</td></tr>
<tr class="separator:a388bf685eb703be460bb42e79fe81dd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61c718a139414acd454dddd31d89c55d" id="r_a61c718a139414acd454dddd31d89c55d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#a61c718a139414acd454dddd31d89c55d">iris</a> = datasets.load_iris()</td></tr>
<tr class="separator:a61c718a139414acd454dddd31d89c55d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbc2ca61a582be2d32f3977b45eb58ec" id="r_abbc2ca61a582be2d32f3977b45eb58ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#abbc2ca61a582be2d32f3977b45eb58ec">X5</a> = np.array([[-2, -1], [-1, -1], [-1, -2], [1, 1], [1, 2], [2, 1]])</td></tr>
<tr class="separator:abbc2ca61a582be2d32f3977b45eb58ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5005dc5aee930fd507b2ca4649d4312" id="r_ab5005dc5aee930fd507b2ca4649d4312"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#ab5005dc5aee930fd507b2ca4649d4312">Y5</a> = [1, 1, 1, 2, 2, 2]</td></tr>
<tr class="separator:ab5005dc5aee930fd507b2ca4649d4312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9d365c31a72891f3b1d861e5b66e198" id="r_aa9d365c31a72891f3b1d861e5b66e198"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1linear__model_1_1tests_1_1test__sgd.html#aa9d365c31a72891f3b1d861e5b66e198">true_result5</a> = [0, 1, 1]</td></tr>
<tr class="separator:aa9d365c31a72891f3b1d861e5b66e198"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="adcf13940bd9f6e0ee522462afc5a07e6" name="adcf13940bd9f6e0ee522462afc5a07e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcf13940bd9f6e0ee522462afc5a07e6">&#9670;&#160;</a></span>_test_loss_common()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd._test_loss_common </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>loss_function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cases</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1837</span><span class="keyword">def </span>_test_loss_common(loss_function, cases):</div>
<div class="line"><span class="lineno"> 1838</span>    <span class="comment"># Test the different loss functions</span></div>
<div class="line"><span class="lineno"> 1839</span>    <span class="comment"># cases is a list of (p, y, expected)</span></div>
<div class="line"><span class="lineno"> 1840</span>    <span class="keywordflow">for</span> p, y, expected_loss, expected_dloss <span class="keywordflow">in</span> cases:</div>
<div class="line"><span class="lineno"> 1841</span>        assert_almost_equal(loss_function.py_loss(p, y), expected_loss)</div>
<div class="line"><span class="lineno"> 1842</span>        assert_almost_equal(loss_function.py_dloss(p, y), expected_dloss)</div>
<div class="line"><span class="lineno"> 1843</span> </div>
<div class="line"><span class="lineno"> 1844</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7965b45937ef5c8458e7f20df477a67e" name="a7965b45937ef5c8458e7f20df477a67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7965b45937ef5c8458e7f20df477a67e">&#9670;&#160;</a></span>_test_warm_start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd._test_warm_start </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  219</span><span class="keyword">def </span>_test_warm_start(klass, X, Y, lr):</div>
<div class="line"><span class="lineno">  220</span>    <span class="comment"># Test that explicit warm restart...</span></div>
<div class="line"><span class="lineno">  221</span>    clf = klass(alpha=0.01, eta0=0.01, shuffle=<span class="keyword">False</span>, learning_rate=lr)</div>
<div class="line"><span class="lineno">  222</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>    clf2 = klass(alpha=0.001, eta0=0.01, shuffle=<span class="keyword">False</span>, learning_rate=lr)</div>
<div class="line"><span class="lineno">  225</span>    clf2.fit(X, Y, coef_init=clf.coef_.copy(), intercept_init=clf.intercept_.copy())</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>    <span class="comment"># ... and implicit warm restart are equivalent.</span></div>
<div class="line"><span class="lineno">  228</span>    clf3 = klass(</div>
<div class="line"><span class="lineno">  229</span>        alpha=0.01, eta0=0.01, shuffle=<span class="keyword">False</span>, warm_start=<span class="keyword">True</span>, learning_rate=lr</div>
<div class="line"><span class="lineno">  230</span>    )</div>
<div class="line"><span class="lineno">  231</span>    clf3.fit(X, Y)</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    <span class="keyword">assert</span> clf3.t_ == clf.t_</div>
<div class="line"><span class="lineno">  234</span>    assert_array_almost_equal(clf3.coef_, clf.coef_)</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    clf3.set_params(alpha=0.001)</div>
<div class="line"><span class="lineno">  237</span>    clf3.fit(X, Y)</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>    <span class="keyword">assert</span> clf3.t_ == clf2.t_</div>
<div class="line"><span class="lineno">  240</span>    assert_array_almost_equal(clf3.coef_, clf2.coef_)</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  244</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDRegressor, SparseSGDRegressor]</div>
<div class="line"><span class="lineno">  245</span>)</div>
<div class="line"><span class="lineno">  246</span><span class="preprocessor">@pytest.mark.parametrize(&quot;lr&quot;, [&quot;constant&quot;, &quot;optimal&quot;, &quot;invscaling&quot;, &quot;adaptive&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c57e348eadbfba9830dac5ace39360f" name="a1c57e348eadbfba9830dac5ace39360f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c57e348eadbfba9830dac5ace39360f">&#9670;&#160;</a></span>_test_warm_start_oneclass()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd._test_warm_start_oneclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1437</span><span class="keyword">def </span>_test_warm_start_oneclass(klass, X, lr):</div>
<div class="line"><span class="lineno"> 1438</span>    <span class="comment"># Test that explicit warm restart...</span></div>
<div class="line"><span class="lineno"> 1439</span>    clf = klass(nu=0.5, eta0=0.01, shuffle=<span class="keyword">False</span>, learning_rate=lr)</div>
<div class="line"><span class="lineno"> 1440</span>    clf.fit(X)</div>
<div class="line"><span class="lineno"> 1441</span> </div>
<div class="line"><span class="lineno"> 1442</span>    clf2 = klass(nu=0.1, eta0=0.01, shuffle=<span class="keyword">False</span>, learning_rate=lr)</div>
<div class="line"><span class="lineno"> 1443</span>    clf2.fit(X, coef_init=clf.coef_.copy(), offset_init=clf.offset_.copy())</div>
<div class="line"><span class="lineno"> 1444</span> </div>
<div class="line"><span class="lineno"> 1445</span>    <span class="comment"># ... and implicit warm restart are equivalent.</span></div>
<div class="line"><span class="lineno"> 1446</span>    clf3 = klass(nu=0.5, eta0=0.01, shuffle=<span class="keyword">False</span>, warm_start=<span class="keyword">True</span>, learning_rate=lr)</div>
<div class="line"><span class="lineno"> 1447</span>    clf3.fit(X)</div>
<div class="line"><span class="lineno"> 1448</span> </div>
<div class="line"><span class="lineno"> 1449</span>    <span class="keyword">assert</span> clf3.t_ == clf.t_</div>
<div class="line"><span class="lineno"> 1450</span>    assert_allclose(clf3.coef_, clf.coef_)</div>
<div class="line"><span class="lineno"> 1451</span> </div>
<div class="line"><span class="lineno"> 1452</span>    clf3.set_params(nu=0.1)</div>
<div class="line"><span class="lineno"> 1453</span>    clf3.fit(X)</div>
<div class="line"><span class="lineno"> 1454</span> </div>
<div class="line"><span class="lineno"> 1455</span>    <span class="keyword">assert</span> clf3.t_ == clf2.t_</div>
<div class="line"><span class="lineno"> 1456</span>    assert_allclose(clf3.coef_, clf2.coef_)</div>
<div class="line"><span class="lineno"> 1457</span> </div>
<div class="line"><span class="lineno"> 1458</span> </div>
<div class="line"><span class="lineno"> 1459</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDOneClassSVM, SparseSGDOneClassSVM])</span></div>
<div class="line"><span class="lineno"> 1460</span><span class="preprocessor">@pytest.mark.parametrize(&quot;lr&quot;, [&quot;constant&quot;, &quot;optimal&quot;, &quot;invscaling&quot;, &quot;adaptive&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb323956cabd7ffee7f90971a0fe3ca5" name="aeb323956cabd7ffee7f90971a0fe3ca5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb323956cabd7ffee7f90971a0fe3ca5">&#9670;&#160;</a></span>_update_kwargs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd._update_kwargs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kwargs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   29</span><span class="keyword">def </span>_update_kwargs(kwargs):</div>
<div class="line"><span class="lineno">   30</span>    <span class="keywordflow">if</span> <span class="stringliteral">&quot;random_state&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> kwargs:</div>
<div class="line"><span class="lineno">   31</span>        kwargs[<span class="stringliteral">&quot;random_state&quot;</span>] = 42</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordflow">if</span> <span class="stringliteral">&quot;tol&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> kwargs:</div>
<div class="line"><span class="lineno">   34</span>        kwargs[<span class="stringliteral">&quot;tol&quot;</span>] = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   35</span>    <span class="keywordflow">if</span> <span class="stringliteral">&quot;max_iter&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> kwargs:</div>
<div class="line"><span class="lineno">   36</span>        kwargs[<span class="stringliteral">&quot;max_iter&quot;</span>] = 5</div>
<div class="line"><span class="lineno">   37</span> </div>
<div class="line"><span class="lineno">   38</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab20ec7534385a6c109edac521ab20fb4" name="ab20ec7534385a6c109edac521ab20fb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab20ec7534385a6c109edac521ab20fb4">&#9670;&#160;</a></span>asgd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.asgd </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>weight_init</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>intercept_init</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Common Test Case to classification and regression. </p>
<div class="fragment"><div class="line"><span class="lineno">  185</span><span class="keyword">def </span>asgd(klass, X, y, eta, alpha, weight_init=None, intercept_init=0.0):</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">if</span> weight_init <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  187</span>        weights = np.zeros(X.shape[1])</div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  189</span>        weights = weight_init</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    average_weights = np.zeros(X.shape[1])</div>
<div class="line"><span class="lineno">  192</span>    intercept = intercept_init</div>
<div class="line"><span class="lineno">  193</span>    average_intercept = 0.0</div>
<div class="line"><span class="lineno">  194</span>    decay = 1.0</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>    <span class="comment"># sparse data has a fixed decay of .01</span></div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">if</span> klass <span class="keywordflow">in</span> (SparseSGDClassifier, SparseSGDRegressor):</div>
<div class="line"><span class="lineno">  198</span>        decay = 0.01</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">for</span> i, entry <span class="keywordflow">in</span> enumerate(X):</div>
<div class="line"><span class="lineno">  201</span>        p = np.dot(entry, weights)</div>
<div class="line"><span class="lineno">  202</span>        p += intercept</div>
<div class="line"><span class="lineno">  203</span>        gradient = p - y[i]</div>
<div class="line"><span class="lineno">  204</span>        weights *= 1.0 - (eta * alpha)</div>
<div class="line"><span class="lineno">  205</span>        weights += -(eta * gradient * entry)</div>
<div class="line"><span class="lineno">  206</span>        intercept += -(eta * gradient) * decay</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>        average_weights *= i</div>
<div class="line"><span class="lineno">  209</span>        average_weights += weights</div>
<div class="line"><span class="lineno">  210</span>        average_weights /= i + 1.0</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>        average_intercept *= i</div>
<div class="line"><span class="lineno">  213</span>        average_intercept += intercept</div>
<div class="line"><span class="lineno">  214</span>        average_intercept /= i + 1.0</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">return</span> average_weights, average_intercept</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a02af4d01757846fc3af4b55bde99efee" name="a02af4d01757846fc3af4b55bde99efee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02af4d01757846fc3af4b55bde99efee">&#9670;&#160;</a></span>asgd_oneclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.asgd_oneclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eta</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>coef_init</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>offset_init</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SGD One Class SVM Test Case. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1398</span><span class="keyword">def </span>asgd_oneclass(klass, X, eta, nu, coef_init=None, offset_init=0.0):</div>
<div class="line"><span class="lineno"> 1399</span>    <span class="keywordflow">if</span> coef_init <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1400</span>        coef = np.zeros(X.shape[1])</div>
<div class="line"><span class="lineno"> 1401</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1402</span>        coef = coef_init</div>
<div class="line"><span class="lineno"> 1403</span> </div>
<div class="line"><span class="lineno"> 1404</span>    average_coef = np.zeros(X.shape[1])</div>
<div class="line"><span class="lineno"> 1405</span>    offset = offset_init</div>
<div class="line"><span class="lineno"> 1406</span>    intercept = 1 - offset</div>
<div class="line"><span class="lineno"> 1407</span>    average_intercept = 0.0</div>
<div class="line"><span class="lineno"> 1408</span>    decay = 1.0</div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span>    <span class="comment"># sparse data has a fixed decay of .01</span></div>
<div class="line"><span class="lineno"> 1411</span>    <span class="keywordflow">if</span> klass == SparseSGDOneClassSVM:</div>
<div class="line"><span class="lineno"> 1412</span>        decay = 0.01</div>
<div class="line"><span class="lineno"> 1413</span> </div>
<div class="line"><span class="lineno"> 1414</span>    <span class="keywordflow">for</span> i, entry <span class="keywordflow">in</span> enumerate(X):</div>
<div class="line"><span class="lineno"> 1415</span>        p = np.dot(entry, coef)</div>
<div class="line"><span class="lineno"> 1416</span>        p += intercept</div>
<div class="line"><span class="lineno"> 1417</span>        <span class="keywordflow">if</span> p &lt;= 1.0:</div>
<div class="line"><span class="lineno"> 1418</span>            gradient = -1</div>
<div class="line"><span class="lineno"> 1419</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1420</span>            gradient = 0</div>
<div class="line"><span class="lineno"> 1421</span>        coef *= max(0, 1.0 - (eta * nu / 2))</div>
<div class="line"><span class="lineno"> 1422</span>        coef += -(eta * gradient * entry)</div>
<div class="line"><span class="lineno"> 1423</span>        intercept += -(eta * (nu + gradient)) * decay</div>
<div class="line"><span class="lineno"> 1424</span> </div>
<div class="line"><span class="lineno"> 1425</span>        average_coef *= i</div>
<div class="line"><span class="lineno"> 1426</span>        average_coef += coef</div>
<div class="line"><span class="lineno"> 1427</span>        average_coef /= i + 1.0</div>
<div class="line"><span class="lineno"> 1428</span> </div>
<div class="line"><span class="lineno"> 1429</span>        average_intercept *= i</div>
<div class="line"><span class="lineno"> 1430</span>        average_intercept += intercept</div>
<div class="line"><span class="lineno"> 1431</span>        average_intercept /= i + 1.0</div>
<div class="line"><span class="lineno"> 1432</span> </div>
<div class="line"><span class="lineno"> 1433</span>    <span class="keywordflow">return</span> average_coef, 1 - average_intercept</div>
<div class="line"><span class="lineno"> 1434</span> </div>
<div class="line"><span class="lineno"> 1435</span> </div>
<div class="line"><span class="lineno"> 1436</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDOneClassSVM, SparseSGDOneClassSVM])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a73f24d3aee9dfda9e281d2f4fc72dfd7" name="a73f24d3aee9dfda9e281d2f4fc72dfd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73f24d3aee9dfda9e281d2f4fc72dfd7">&#9670;&#160;</a></span>SGDClassifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.SGDClassifier </td>
          <td>(</td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   86</span><span class="keyword">def </span>SGDClassifier(**kwargs):</div>
<div class="line"><span class="lineno">   87</span>    _update_kwargs(kwargs)</div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordflow">return</span> linear_model.SGDClassifier(**kwargs)</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8417e31e087d89f2982c2a9ac221b24" name="ac8417e31e087d89f2982c2a9ac221b24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8417e31e087d89f2982c2a9ac221b24">&#9670;&#160;</a></span>SGDOneClassSVM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.SGDOneClassSVM </td>
          <td>(</td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   96</span><span class="keyword">def </span>SGDOneClassSVM(**kwargs):</div>
<div class="line"><span class="lineno">   97</span>    _update_kwargs(kwargs)</div>
<div class="line"><span class="lineno">   98</span>    <span class="keywordflow">return</span> linear_model.SGDOneClassSVM(**kwargs)</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ace7eaac6b290688b8478820507719a34" name="ace7eaac6b290688b8478820507719a34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7eaac6b290688b8478820507719a34">&#9670;&#160;</a></span>SGDRegressor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.SGDRegressor </td>
          <td>(</td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   91</span><span class="keyword">def </span>SGDRegressor(**kwargs):</div>
<div class="line"><span class="lineno">   92</span>    _update_kwargs(kwargs)</div>
<div class="line"><span class="lineno">   93</span>    <span class="keywordflow">return</span> linear_model.SGDRegressor(**kwargs)</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a03296d92069f7725f7fa5edc8786d818" name="a03296d92069f7725f7fa5edc8786d818"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03296d92069f7725f7fa5edc8786d818">&#9670;&#160;</a></span>SparseSGDClassifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.SparseSGDClassifier </td>
          <td>(</td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  101</span><span class="keyword">def </span>SparseSGDClassifier(**kwargs):</div>
<div class="line"><span class="lineno">  102</span>    _update_kwargs(kwargs)</div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">return</span> _SparseSGDClassifier(**kwargs)</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9cea119f072636286536dd76bf9c7ce" name="ac9cea119f072636286536dd76bf9c7ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9cea119f072636286536dd76bf9c7ce">&#9670;&#160;</a></span>SparseSGDOneClassSVM()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.SparseSGDOneClassSVM </td>
          <td>(</td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  111</span><span class="keyword">def </span>SparseSGDOneClassSVM(**kwargs):</div>
<div class="line"><span class="lineno">  112</span>    _update_kwargs(kwargs)</div>
<div class="line"><span class="lineno">  113</span>    <span class="keywordflow">return</span> _SparseSGDOneClassSVM(**kwargs)</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span><span class="comment"># Test Data</span></div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span><span class="comment"># test sample 1</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a97d1237d09c063e5dc002ceb40223fa4" name="a97d1237d09c063e5dc002ceb40223fa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97d1237d09c063e5dc002ceb40223fa4">&#9670;&#160;</a></span>SparseSGDRegressor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.SparseSGDRegressor </td>
          <td>(</td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  106</span><span class="keyword">def </span>SparseSGDRegressor(**kwargs):</div>
<div class="line"><span class="lineno">  107</span>    _update_kwargs(kwargs)</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">return</span> _SparseSGDRegressor(**kwargs)</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a021d8be44e9745806e63cd9ffe5adb88" name="a021d8be44e9745806e63cd9ffe5adb88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021d8be44e9745806e63cd9ffe5adb88">&#9670;&#160;</a></span>test_adaptive_longer_than_constant()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_adaptive_longer_than_constant </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  402</span><span class="keyword">def </span>test_adaptive_longer_than_constant(klass):</div>
<div class="line"><span class="lineno">  403</span>    clf1 = klass(learning_rate=<span class="stringliteral">&quot;adaptive&quot;</span>, eta0=0.01, tol=1e-3, max_iter=100)</div>
<div class="line"><span class="lineno">  404</span>    clf1.fit(iris.data, iris.target)</div>
<div class="line"><span class="lineno">  405</span>    clf2 = klass(learning_rate=<span class="stringliteral">&quot;constant&quot;</span>, eta0=0.01, tol=1e-3, max_iter=100)</div>
<div class="line"><span class="lineno">  406</span>    clf2.fit(iris.data, iris.target)</div>
<div class="line"><span class="lineno">  407</span>    <span class="keyword">assert</span> clf1.n_iter_ &gt; clf2.n_iter_</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  411</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDRegressor, SparseSGDRegressor]</div>
<div class="line"><span class="lineno">  412</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab671b5ec67adf9aacf6a4e64a06bf6f9" name="ab671b5ec67adf9aacf6a4e64a06bf6f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab671b5ec67adf9aacf6a4e64a06bf6f9">&#9670;&#160;</a></span>test_average_binary_computed_correctly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_average_binary_computed_correctly </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  560</span><span class="keyword">def </span>test_average_binary_computed_correctly(klass):</div>
<div class="line"><span class="lineno">  561</span>    <span class="comment"># Checks the SGDClassifier correctly computes the average weights</span></div>
<div class="line"><span class="lineno">  562</span>    eta = 0.1</div>
<div class="line"><span class="lineno">  563</span>    alpha = 2.0</div>
<div class="line"><span class="lineno">  564</span>    n_samples = 20</div>
<div class="line"><span class="lineno">  565</span>    n_features = 10</div>
<div class="line"><span class="lineno">  566</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  567</span>    X = rng.normal(size=(n_samples, n_features))</div>
<div class="line"><span class="lineno">  568</span>    w = rng.normal(size=n_features)</div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>    clf = klass(</div>
<div class="line"><span class="lineno">  571</span>        loss=<span class="stringliteral">&quot;squared_error&quot;</span>,</div>
<div class="line"><span class="lineno">  572</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno">  573</span>        eta0=eta,</div>
<div class="line"><span class="lineno">  574</span>        alpha=alpha,</div>
<div class="line"><span class="lineno">  575</span>        fit_intercept=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  576</span>        max_iter=1,</div>
<div class="line"><span class="lineno">  577</span>        average=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  578</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  579</span>    )</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>    <span class="comment"># simple linear function without noise</span></div>
<div class="line"><span class="lineno">  582</span>    y = np.dot(X, w)</div>
<div class="line"><span class="lineno">  583</span>    y = np.sign(y)</div>
<div class="line"><span class="lineno">  584</span> </div>
<div class="line"><span class="lineno">  585</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>    average_weights, average_intercept = asgd(klass, X, y, eta, alpha)</div>
<div class="line"><span class="lineno">  588</span>    average_weights = average_weights.reshape(1, -1)</div>
<div class="line"><span class="lineno">  589</span>    assert_array_almost_equal(clf.coef_, average_weights, decimal=14)</div>
<div class="line"><span class="lineno">  590</span>    assert_almost_equal(clf.intercept_, average_intercept, decimal=14)</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad23832f1d4dd0cf5242fa14618c03d4a" name="ad23832f1d4dd0cf5242fa14618c03d4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23832f1d4dd0cf5242fa14618c03d4a">&#9670;&#160;</a></span>test_average_sparse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_average_sparse </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1208</span><span class="keyword">def </span>test_average_sparse(klass):</div>
<div class="line"><span class="lineno"> 1209</span>    <span class="comment"># Checks the average weights on data with 0s</span></div>
<div class="line"><span class="lineno"> 1210</span> </div>
<div class="line"><span class="lineno"> 1211</span>    eta = 0.001</div>
<div class="line"><span class="lineno"> 1212</span>    alpha = 0.01</div>
<div class="line"><span class="lineno"> 1213</span>    clf = klass(</div>
<div class="line"><span class="lineno"> 1214</span>        loss=<span class="stringliteral">&quot;squared_error&quot;</span>,</div>
<div class="line"><span class="lineno"> 1215</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno"> 1216</span>        eta0=eta,</div>
<div class="line"><span class="lineno"> 1217</span>        alpha=alpha,</div>
<div class="line"><span class="lineno"> 1218</span>        fit_intercept=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1219</span>        max_iter=1,</div>
<div class="line"><span class="lineno"> 1220</span>        average=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1221</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1222</span>    )</div>
<div class="line"><span class="lineno"> 1223</span> </div>
<div class="line"><span class="lineno"> 1224</span>    n_samples = Y3.shape[0]</div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>    clf.partial_fit(X3[: int(n_samples / 2)][:], Y3[: int(n_samples / 2)])</div>
<div class="line"><span class="lineno"> 1227</span>    clf.partial_fit(X3[int(n_samples / 2) :][:], Y3[int(n_samples / 2) :])</div>
<div class="line"><span class="lineno"> 1228</span>    average_weights, average_intercept = asgd(klass, X3, Y3, eta, alpha)</div>
<div class="line"><span class="lineno"> 1229</span> </div>
<div class="line"><span class="lineno"> 1230</span>    assert_array_almost_equal(clf.coef_, average_weights, decimal=16)</div>
<div class="line"><span class="lineno"> 1231</span>    assert_almost_equal(clf.intercept_, average_intercept, decimal=16)</div>
<div class="line"><span class="lineno"> 1232</span> </div>
<div class="line"><span class="lineno"> 1233</span> </div>
<div class="line"><span class="lineno"> 1234</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDRegressor, SparseSGDRegressor])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aac975774673aa4fdee661d36a9096189" name="aac975774673aa4fdee661d36a9096189"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac975774673aa4fdee661d36a9096189">&#9670;&#160;</a></span>test_average_sparse_oneclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_average_sparse_oneclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1604</span><span class="keyword">def </span>test_average_sparse_oneclass(klass):</div>
<div class="line"><span class="lineno"> 1605</span>    <span class="comment"># Checks the average coef on data with 0s</span></div>
<div class="line"><span class="lineno"> 1606</span>    eta = 0.001</div>
<div class="line"><span class="lineno"> 1607</span>    nu = 0.01</div>
<div class="line"><span class="lineno"> 1608</span>    clf = klass(</div>
<div class="line"><span class="lineno"> 1609</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno"> 1610</span>        eta0=eta,</div>
<div class="line"><span class="lineno"> 1611</span>        nu=nu,</div>
<div class="line"><span class="lineno"> 1612</span>        fit_intercept=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1613</span>        max_iter=1,</div>
<div class="line"><span class="lineno"> 1614</span>        average=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1615</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1616</span>    )</div>
<div class="line"><span class="lineno"> 1617</span> </div>
<div class="line"><span class="lineno"> 1618</span>    n_samples = X3.shape[0]</div>
<div class="line"><span class="lineno"> 1619</span> </div>
<div class="line"><span class="lineno"> 1620</span>    clf.partial_fit(X3[: int(n_samples / 2)])</div>
<div class="line"><span class="lineno"> 1621</span>    clf.partial_fit(X3[int(n_samples / 2) :])</div>
<div class="line"><span class="lineno"> 1622</span>    average_coef, average_offset = asgd_oneclass(klass, X3, eta, nu)</div>
<div class="line"><span class="lineno"> 1623</span> </div>
<div class="line"><span class="lineno"> 1624</span>    assert_allclose(clf.coef_, average_coef)</div>
<div class="line"><span class="lineno"> 1625</span>    assert_allclose(clf.offset_, average_offset)</div>
<div class="line"><span class="lineno"> 1626</span> </div>
<div class="line"><span class="lineno"> 1627</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a53282594d813f0c3c0d8335f33bd486e" name="a53282594d813f0c3c0d8335f33bd486e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53282594d813f0c3c0d8335f33bd486e">&#9670;&#160;</a></span>test_balanced_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_balanced_weight </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  905</span><span class="keyword">def </span>test_balanced_weight(klass):</div>
<div class="line"><span class="lineno">  906</span>    <span class="comment"># Test class weights for imbalanced data&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  907</span>    <span class="comment"># compute reference metrics on iris dataset that is quite balanced by</span></div>
<div class="line"><span class="lineno">  908</span>    <span class="comment"># default</span></div>
<div class="line"><span class="lineno">  909</span>    X, y = iris.data, iris.target</div>
<div class="line"><span class="lineno">  910</span>    X = scale(X)</div>
<div class="line"><span class="lineno">  911</span>    idx = np.arange(X.shape[0])</div>
<div class="line"><span class="lineno">  912</span>    rng = np.random.RandomState(6)</div>
<div class="line"><span class="lineno">  913</span>    rng.shuffle(idx)</div>
<div class="line"><span class="lineno">  914</span>    X = X[idx]</div>
<div class="line"><span class="lineno">  915</span>    y = y[idx]</div>
<div class="line"><span class="lineno">  916</span>    clf = klass(alpha=0.0001, max_iter=1000, class_weight=<span class="keywordtype">None</span>, shuffle=<span class="keyword">False</span>).fit(X, y)</div>
<div class="line"><span class="lineno">  917</span>    f1 = metrics.f1_score(y, clf.predict(X), average=<span class="stringliteral">&quot;weighted&quot;</span>)</div>
<div class="line"><span class="lineno">  918</span>    assert_almost_equal(f1, 0.96, decimal=1)</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>    <span class="comment"># make the same prediction using balanced class_weight</span></div>
<div class="line"><span class="lineno">  921</span>    clf_balanced = klass(</div>
<div class="line"><span class="lineno">  922</span>        alpha=0.0001, max_iter=1000, class_weight=<span class="stringliteral">&quot;balanced&quot;</span>, shuffle=<span class="keyword">False</span></div>
<div class="line"><span class="lineno">  923</span>    ).fit(X, y)</div>
<div class="line"><span class="lineno">  924</span>    f1 = metrics.f1_score(y, clf_balanced.predict(X), average=<span class="stringliteral">&quot;weighted&quot;</span>)</div>
<div class="line"><span class="lineno">  925</span>    assert_almost_equal(f1, 0.96, decimal=1)</div>
<div class="line"><span class="lineno">  926</span> </div>
<div class="line"><span class="lineno">  927</span>    <span class="comment"># Make sure that in the balanced case it does not change anything</span></div>
<div class="line"><span class="lineno">  928</span>    <span class="comment"># to use &quot;balanced&quot;</span></div>
<div class="line"><span class="lineno">  929</span>    assert_array_almost_equal(clf.coef_, clf_balanced.coef_, 6)</div>
<div class="line"><span class="lineno">  930</span> </div>
<div class="line"><span class="lineno">  931</span>    <span class="comment"># build an very very imbalanced dataset out of iris data</span></div>
<div class="line"><span class="lineno">  932</span>    X_0 = X[y == 0, :]</div>
<div class="line"><span class="lineno">  933</span>    y_0 = y[y == 0]</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span>    X_imbalanced = np.vstack([X] + [X_0] * 10)</div>
<div class="line"><span class="lineno">  936</span>    y_imbalanced = np.concatenate([y] + [y_0] * 10)</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>    <span class="comment"># fit a model on the imbalanced data without class weight info</span></div>
<div class="line"><span class="lineno">  939</span>    clf = klass(max_iter=1000, class_weight=<span class="keywordtype">None</span>, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  940</span>    clf.fit(X_imbalanced, y_imbalanced)</div>
<div class="line"><span class="lineno">  941</span>    y_pred = clf.predict(X)</div>
<div class="line"><span class="lineno">  942</span>    <span class="keyword">assert</span> metrics.f1_score(y, y_pred, average=<span class="stringliteral">&quot;weighted&quot;</span>) &lt; 0.96</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>    <span class="comment"># fit a model with balanced class_weight enabled</span></div>
<div class="line"><span class="lineno">  945</span>    clf = klass(max_iter=1000, class_weight=<span class="stringliteral">&quot;balanced&quot;</span>, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  946</span>    clf.fit(X_imbalanced, y_imbalanced)</div>
<div class="line"><span class="lineno">  947</span>    y_pred = clf.predict(X)</div>
<div class="line"><span class="lineno">  948</span>    <span class="keyword">assert</span> metrics.f1_score(y, y_pred, average=<span class="stringliteral">&quot;weighted&quot;</span>) &gt; 0.96</div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aea3e93b8bcaf7bae3459ca4ca66e124d" name="aea3e93b8bcaf7bae3459ca4ca66e124d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea3e93b8bcaf7bae3459ca4ca66e124d">&#9670;&#160;</a></span>test_class_weights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_class_weights </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  842</span><span class="keyword">def </span>test_class_weights(klass):</div>
<div class="line"><span class="lineno">  843</span>    <span class="comment"># Test class weights.</span></div>
<div class="line"><span class="lineno">  844</span>    X = np.array([[-1.0, -1.0], [-1.0, 0], [-0.8, -1.0], [1.0, 1.0], [1.0, 0.0]])</div>
<div class="line"><span class="lineno">  845</span>    y = [1, 1, 1, -1, -1]</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>    clf = klass(alpha=0.1, max_iter=1000, fit_intercept=<span class="keyword">False</span>, class_weight=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  848</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno">  849</span>    assert_array_equal(clf.predict([[0.2, -1.0]]), np.array([1]))</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>    <span class="comment"># we give a small weights to class 1</span></div>
<div class="line"><span class="lineno">  852</span>    clf = klass(alpha=0.1, max_iter=1000, fit_intercept=<span class="keyword">False</span>, class_weight={1: 0.001})</div>
<div class="line"><span class="lineno">  853</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>    <span class="comment"># now the hyperplane should rotate clock-wise and</span></div>
<div class="line"><span class="lineno">  856</span>    <span class="comment"># the prediction on this point should shift</span></div>
<div class="line"><span class="lineno">  857</span>    assert_array_equal(clf.predict([[0.2, -1.0]]), np.array([-1]))</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8cbb1d8538746f7f5dc30121b90ec661" name="a8cbb1d8538746f7f5dc30121b90ec661"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cbb1d8538746f7f5dc30121b90ec661">&#9670;&#160;</a></span>test_clone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_clone </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  268</span><span class="keyword">def </span>test_clone(klass):</div>
<div class="line"><span class="lineno">  269</span>    <span class="comment"># Test whether clone works ok.</span></div>
<div class="line"><span class="lineno">  270</span>    clf = klass(alpha=0.01, penalty=<span class="stringliteral">&quot;l1&quot;</span>)</div>
<div class="line"><span class="lineno">  271</span>    clf = clone(clf)</div>
<div class="line"><span class="lineno">  272</span>    clf.set_params(penalty=<span class="stringliteral">&quot;l2&quot;</span>)</div>
<div class="line"><span class="lineno">  273</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>    clf2 = klass(alpha=0.01, penalty=<span class="stringliteral">&quot;l2&quot;</span>)</div>
<div class="line"><span class="lineno">  276</span>    clf2.fit(X, Y)</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    assert_array_equal(clf.coef_, clf2.coef_)</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  282</span>    <span class="stringliteral">&quot;klass&quot;</span>,</div>
<div class="line"><span class="lineno">  283</span>    [</div>
<div class="line"><span class="lineno">  284</span>        SGDClassifier,</div>
<div class="line"><span class="lineno">  285</span>        SparseSGDClassifier,</div>
<div class="line"><span class="lineno">  286</span>        SGDRegressor,</div>
<div class="line"><span class="lineno">  287</span>        SparseSGDRegressor,</div>
<div class="line"><span class="lineno">  288</span>        SGDOneClassSVM,</div>
<div class="line"><span class="lineno">  289</span>        SparseSGDOneClassSVM,</div>
<div class="line"><span class="lineno">  290</span>    ],</div>
<div class="line"><span class="lineno">  291</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a30a796724acfdb6b157bfe20480fc501" name="a30a796724acfdb6b157bfe20480fc501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30a796724acfdb6b157bfe20480fc501">&#9670;&#160;</a></span>test_clone_oneclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_clone_oneclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1466</span><span class="keyword">def </span>test_clone_oneclass(klass):</div>
<div class="line"><span class="lineno"> 1467</span>    <span class="comment"># Test whether clone works ok.</span></div>
<div class="line"><span class="lineno"> 1468</span>    clf = klass(nu=0.5)</div>
<div class="line"><span class="lineno"> 1469</span>    clf = clone(clf)</div>
<div class="line"><span class="lineno"> 1470</span>    clf.set_params(nu=0.1)</div>
<div class="line"><span class="lineno"> 1471</span>    clf.fit(X)</div>
<div class="line"><span class="lineno"> 1472</span> </div>
<div class="line"><span class="lineno"> 1473</span>    clf2 = klass(nu=0.1)</div>
<div class="line"><span class="lineno"> 1474</span>    clf2.fit(X)</div>
<div class="line"><span class="lineno"> 1475</span> </div>
<div class="line"><span class="lineno"> 1476</span>    assert_array_equal(clf.coef_, clf2.coef_)</div>
<div class="line"><span class="lineno"> 1477</span> </div>
<div class="line"><span class="lineno"> 1478</span> </div>
<div class="line"><span class="lineno"> 1479</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDOneClassSVM, SparseSGDOneClassSVM])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a295eaed2a1a90ef3b58673fd710f7ddc" name="a295eaed2a1a90ef3b58673fd710f7ddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a295eaed2a1a90ef3b58673fd710f7ddc">&#9670;&#160;</a></span>test_early_stopping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_early_stopping </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  388</span><span class="keyword">def </span>test_early_stopping(klass):</div>
<div class="line"><span class="lineno">  389</span>    X = iris.data[iris.target &gt; 0]</div>
<div class="line"><span class="lineno">  390</span>    Y = iris.target[iris.target &gt; 0]</div>
<div class="line"><span class="lineno">  391</span>    <span class="keywordflow">for</span> early_stopping <span class="keywordflow">in</span> [<span class="keyword">True</span>, <span class="keyword">False</span>]:</div>
<div class="line"><span class="lineno">  392</span>        max_iter = 1000</div>
<div class="line"><span class="lineno">  393</span>        clf = klass(early_stopping=early_stopping, tol=1e-3, max_iter=max_iter).fit(</div>
<div class="line"><span class="lineno">  394</span>            X, Y</div>
<div class="line"><span class="lineno">  395</span>        )</div>
<div class="line"><span class="lineno">  396</span>        <span class="keyword">assert</span> clf.n_iter_ &lt; max_iter</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  400</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDRegressor, SparseSGDRegressor]</div>
<div class="line"><span class="lineno">  401</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0cf67046619dc2a9417501763af6f458" name="a0cf67046619dc2a9417501763af6f458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cf67046619dc2a9417501763af6f458">&#9670;&#160;</a></span>test_elasticnet_convergence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_elasticnet_convergence </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1319</span><span class="keyword">def </span>test_elasticnet_convergence(klass):</div>
<div class="line"><span class="lineno"> 1320</span>    <span class="comment"># Check that the SGD output is consistent with coordinate descent</span></div>
<div class="line"><span class="lineno"> 1321</span> </div>
<div class="line"><span class="lineno"> 1322</span>    n_samples, n_features = 1000, 5</div>
<div class="line"><span class="lineno"> 1323</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1324</span>    X = rng.randn(n_samples, n_features)</div>
<div class="line"><span class="lineno"> 1325</span>    <span class="comment"># ground_truth linear model that generate y from X and to which the</span></div>
<div class="line"><span class="lineno"> 1326</span>    <span class="comment"># models should converge if the regularizer would be set to 0.0</span></div>
<div class="line"><span class="lineno"> 1327</span>    ground_truth_coef = rng.randn(n_features)</div>
<div class="line"><span class="lineno"> 1328</span>    y = np.dot(X, ground_truth_coef)</div>
<div class="line"><span class="lineno"> 1329</span> </div>
<div class="line"><span class="lineno"> 1330</span>    <span class="comment"># XXX: alpha = 0.1 seems to cause convergence problems</span></div>
<div class="line"><span class="lineno"> 1331</span>    <span class="keywordflow">for</span> alpha <span class="keywordflow">in</span> [0.01, 0.001]:</div>
<div class="line"><span class="lineno"> 1332</span>        <span class="keywordflow">for</span> l1_ratio <span class="keywordflow">in</span> [0.5, 0.8, 1.0]:</div>
<div class="line"><span class="lineno"> 1333</span>            cd = linear_model.ElasticNet(</div>
<div class="line"><span class="lineno"> 1334</span>                alpha=alpha, l1_ratio=l1_ratio, fit_intercept=<span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1335</span>            )</div>
<div class="line"><span class="lineno"> 1336</span>            cd.fit(X, y)</div>
<div class="line"><span class="lineno"> 1337</span>            sgd = klass(</div>
<div class="line"><span class="lineno"> 1338</span>                penalty=<span class="stringliteral">&quot;elasticnet&quot;</span>,</div>
<div class="line"><span class="lineno"> 1339</span>                max_iter=50,</div>
<div class="line"><span class="lineno"> 1340</span>                alpha=alpha,</div>
<div class="line"><span class="lineno"> 1341</span>                l1_ratio=l1_ratio,</div>
<div class="line"><span class="lineno"> 1342</span>                fit_intercept=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1343</span>            )</div>
<div class="line"><span class="lineno"> 1344</span>            sgd.fit(X, y)</div>
<div class="line"><span class="lineno"> 1345</span>            err_msg = (</div>
<div class="line"><span class="lineno"> 1346</span>                <span class="stringliteral">&quot;cd and sgd did not converge to comparable &quot;</span></div>
<div class="line"><span class="lineno"> 1347</span>                <span class="stringliteral">&quot;results for alpha=%f and l1_ratio=%f&quot;</span> % (alpha, l1_ratio)</div>
<div class="line"><span class="lineno"> 1348</span>            )</div>
<div class="line"><span class="lineno"> 1349</span>            assert_almost_equal(cd.coef_, sgd.coef_, decimal=2, err_msg=err_msg)</div>
<div class="line"><span class="lineno"> 1350</span> </div>
<div class="line"><span class="lineno"> 1351</span> </div>
<div class="line"><span class="lineno"> 1352</span><span class="preprocessor">@ignore_warnings</span></div>
<div class="line"><span class="lineno"> 1353</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDRegressor, SparseSGDRegressor])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59c8605969bcd1151c641c0453b65d5a" name="a59c8605969bcd1151c641c0453b65d5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c8605969bcd1151c641c0453b65d5a">&#9670;&#160;</a></span>test_equal_class_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_equal_class_weight </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  861</span><span class="keyword">def </span>test_equal_class_weight(klass):</div>
<div class="line"><span class="lineno">  862</span>    <span class="comment"># Test if equal class weights approx. equals no class weights.</span></div>
<div class="line"><span class="lineno">  863</span>    X = [[1, 0], [1, 0], [0, 1], [0, 1]]</div>
<div class="line"><span class="lineno">  864</span>    y = [0, 0, 1, 1]</div>
<div class="line"><span class="lineno">  865</span>    clf = klass(alpha=0.1, max_iter=1000, class_weight=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  866</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="line"><span class="lineno">  868</span>    X = [[1, 0], [0, 1]]</div>
<div class="line"><span class="lineno">  869</span>    y = [0, 1]</div>
<div class="line"><span class="lineno">  870</span>    clf_weighted = klass(alpha=0.1, max_iter=1000, class_weight={0: 0.5, 1: 0.5})</div>
<div class="line"><span class="lineno">  871</span>    clf_weighted.fit(X, y)</div>
<div class="line"><span class="lineno">  872</span> </div>
<div class="line"><span class="lineno">  873</span>    <span class="comment"># should be similar up to some epsilon due to learning rate schedule</span></div>
<div class="line"><span class="lineno">  874</span>    assert_almost_equal(clf.coef_, clf_weighted.coef_, decimal=2)</div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="line"><span class="lineno">  877</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a625bf5c24c9a933f58a2e35ff7b2dac5" name="a625bf5c24c9a933f58a2e35ff7b2dac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a625bf5c24c9a933f58a2e35ff7b2dac5">&#9670;&#160;</a></span>test_fit_then_partial_fit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_fit_then_partial_fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1046</span><span class="keyword">def </span>test_fit_then_partial_fit(klass):</div>
<div class="line"><span class="lineno"> 1047</span>    <span class="comment"># Partial_fit should work after initial fit in the multiclass case.</span></div>
<div class="line"><span class="lineno"> 1048</span>    <span class="comment"># Non-regression test for #2496; fit would previously produce a</span></div>
<div class="line"><span class="lineno"> 1049</span>    <span class="comment"># Fortran-ordered coef_ that subsequent partial_fit couldn&#39;t handle.</span></div>
<div class="line"><span class="lineno"> 1050</span>    clf = klass()</div>
<div class="line"><span class="lineno"> 1051</span>    clf.fit(X2, Y2)</div>
<div class="line"><span class="lineno"> 1052</span>    clf.partial_fit(X2, Y2)  <span class="comment"># no exception here</span></div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span> </div>
<div class="line"><span class="lineno"> 1055</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
<div class="line"><span class="lineno"> 1056</span><span class="preprocessor">@pytest.mark.parametrize(&quot;lr&quot;, [&quot;constant&quot;, &quot;optimal&quot;, &quot;invscaling&quot;, &quot;adaptive&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a08f59541d7a8301ae743aead1a2d1b" name="a4a08f59541d7a8301ae743aead1a2d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a08f59541d7a8301ae743aead1a2d1b">&#9670;&#160;</a></span>test_gradient_squared_hinge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_gradient_squared_hinge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1878</span><span class="keyword">def </span>test_gradient_squared_hinge():</div>
<div class="line"><span class="lineno"> 1879</span>    <span class="comment"># Test SquaredHinge</span></div>
<div class="line"><span class="lineno"> 1880</span>    loss = sgd_fast.SquaredHinge(1.0)</div>
<div class="line"><span class="lineno"> 1881</span>    cases = [</div>
<div class="line"><span class="lineno"> 1882</span>        <span class="comment"># (p, y, expected_loss, expected_dloss)</span></div>
<div class="line"><span class="lineno"> 1883</span>        (1.0, 1.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1884</span>        (-2.0, -1.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1885</span>        (1.0, -1.0, 4.0, 4.0),</div>
<div class="line"><span class="lineno"> 1886</span>        (-1.0, 1.0, 4.0, -4.0),</div>
<div class="line"><span class="lineno"> 1887</span>        (0.5, 1.0, 0.25, -1.0),</div>
<div class="line"><span class="lineno"> 1888</span>        (0.5, -1.0, 2.25, 3.0),</div>
<div class="line"><span class="lineno"> 1889</span>    ]</div>
<div class="line"><span class="lineno"> 1890</span>    _test_loss_common(loss, cases)</div>
<div class="line"><span class="lineno"> 1891</span> </div>
<div class="line"><span class="lineno"> 1892</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5776789d391428d3fc0f782a9f23fe3d" name="a5776789d391428d3fc0f782a9f23fe3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5776789d391428d3fc0f782a9f23fe3d">&#9670;&#160;</a></span>test_input_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_input_format </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  254</span><span class="keyword">def </span>test_input_format(klass):</div>
<div class="line"><span class="lineno">  255</span>    <span class="comment"># Input format tests.</span></div>
<div class="line"><span class="lineno">  256</span>    clf = klass(alpha=0.01, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  257</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno">  258</span>    Y_ = np.array(Y)[:, np.newaxis]</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>    Y_ = np.c_[Y_, Y_]</div>
<div class="line"><span class="lineno">  261</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  262</span>        clf.fit(X, Y_)</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  266</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDRegressor, SparseSGDRegressor]</div>
<div class="line"><span class="lineno">  267</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a34af8b06dd155a339ef03a25aed93e9c" name="a34af8b06dd155a339ef03a25aed93e9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34af8b06dd155a339ef03a25aed93e9c">&#9670;&#160;</a></span>test_l1_ratio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_l1_ratio </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1691</span><span class="keyword">def </span>test_l1_ratio():</div>
<div class="line"><span class="lineno"> 1692</span>    <span class="comment"># Test if l1 ratio extremes match L1 and L2 penalty settings.</span></div>
<div class="line"><span class="lineno"> 1693</span>    X, y = datasets.make_classification(</div>
<div class="line"><span class="lineno"> 1694</span>        n_samples=1000, n_features=100, n_informative=20, random_state=1234</div>
<div class="line"><span class="lineno"> 1695</span>    )</div>
<div class="line"><span class="lineno"> 1696</span> </div>
<div class="line"><span class="lineno"> 1697</span>    <span class="comment"># test if elasticnet with l1_ratio near 1 gives same result as pure l1</span></div>
<div class="line"><span class="lineno"> 1698</span>    est_en = SGDClassifier(</div>
<div class="line"><span class="lineno"> 1699</span>        alpha=0.001,</div>
<div class="line"><span class="lineno"> 1700</span>        penalty=<span class="stringliteral">&quot;elasticnet&quot;</span>,</div>
<div class="line"><span class="lineno"> 1701</span>        tol=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1702</span>        max_iter=6,</div>
<div class="line"><span class="lineno"> 1703</span>        l1_ratio=0.9999999999,</div>
<div class="line"><span class="lineno"> 1704</span>        random_state=42,</div>
<div class="line"><span class="lineno"> 1705</span>    ).fit(X, y)</div>
<div class="line"><span class="lineno"> 1706</span>    est_l1 = SGDClassifier(</div>
<div class="line"><span class="lineno"> 1707</span>        alpha=0.001, penalty=<span class="stringliteral">&quot;l1&quot;</span>, max_iter=6, random_state=42, tol=<span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1708</span>    ).fit(X, y)</div>
<div class="line"><span class="lineno"> 1709</span>    assert_array_almost_equal(est_en.coef_, est_l1.coef_)</div>
<div class="line"><span class="lineno"> 1710</span> </div>
<div class="line"><span class="lineno"> 1711</span>    <span class="comment"># test if elasticnet with l1_ratio near 0 gives same result as pure l2</span></div>
<div class="line"><span class="lineno"> 1712</span>    est_en = SGDClassifier(</div>
<div class="line"><span class="lineno"> 1713</span>        alpha=0.001,</div>
<div class="line"><span class="lineno"> 1714</span>        penalty=<span class="stringliteral">&quot;elasticnet&quot;</span>,</div>
<div class="line"><span class="lineno"> 1715</span>        tol=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1716</span>        max_iter=6,</div>
<div class="line"><span class="lineno"> 1717</span>        l1_ratio=0.0000000001,</div>
<div class="line"><span class="lineno"> 1718</span>        random_state=42,</div>
<div class="line"><span class="lineno"> 1719</span>    ).fit(X, y)</div>
<div class="line"><span class="lineno"> 1720</span>    est_l2 = SGDClassifier(</div>
<div class="line"><span class="lineno"> 1721</span>        alpha=0.001, penalty=<span class="stringliteral">&quot;l2&quot;</span>, max_iter=6, random_state=42, tol=<span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1722</span>    ).fit(X, y)</div>
<div class="line"><span class="lineno"> 1723</span>    assert_array_almost_equal(est_en.coef_, est_l2.coef_)</div>
<div class="line"><span class="lineno"> 1724</span> </div>
<div class="line"><span class="lineno"> 1725</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acdf9b78f91fff6966cac79baaa1b6503" name="acdf9b78f91fff6966cac79baaa1b6503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdf9b78f91fff6966cac79baaa1b6503">&#9670;&#160;</a></span>test_large_regularization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_large_regularization </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>penalty</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1784</span><span class="keyword">def </span>test_large_regularization(penalty):</div>
<div class="line"><span class="lineno"> 1785</span>    <span class="comment"># Non regression tests for numerical stability issues caused by large</span></div>
<div class="line"><span class="lineno"> 1786</span>    <span class="comment"># regularization parameters</span></div>
<div class="line"><span class="lineno"> 1787</span>    model = SGDClassifier(</div>
<div class="line"><span class="lineno"> 1788</span>        alpha=1e5,</div>
<div class="line"><span class="lineno"> 1789</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno"> 1790</span>        eta0=0.1,</div>
<div class="line"><span class="lineno"> 1791</span>        penalty=penalty,</div>
<div class="line"><span class="lineno"> 1792</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1793</span>        tol=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1794</span>        max_iter=6,</div>
<div class="line"><span class="lineno"> 1795</span>    )</div>
<div class="line"><span class="lineno"> 1796</span>    <span class="keyword">with</span> np.errstate(all=<span class="stringliteral">&quot;raise&quot;</span>):</div>
<div class="line"><span class="lineno"> 1797</span>        model.fit(iris.data, iris.target)</div>
<div class="line"><span class="lineno"> 1798</span>    assert_array_almost_equal(model.coef_, np.zeros_like(model.coef_))</div>
<div class="line"><span class="lineno"> 1799</span> </div>
<div class="line"><span class="lineno"> 1800</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4698fdab0f6eb0bfb2497c7c7b0780d1" name="a4698fdab0f6eb0bfb2497c7c7b0780d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4698fdab0f6eb0bfb2497c7c7b0780d1">&#9670;&#160;</a></span>test_late_onset_averaging_not_reached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_late_onset_averaging_not_reached </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  321</span><span class="keyword">def </span>test_late_onset_averaging_not_reached(klass):</div>
<div class="line"><span class="lineno">  322</span>    clf1 = klass(average=600)</div>
<div class="line"><span class="lineno">  323</span>    clf2 = klass()</div>
<div class="line"><span class="lineno">  324</span>    <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(100):</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">if</span> is_classifier(clf1):</div>
<div class="line"><span class="lineno">  326</span>            clf1.partial_fit(X, Y, classes=np.unique(Y))</div>
<div class="line"><span class="lineno">  327</span>            clf2.partial_fit(X, Y, classes=np.unique(Y))</div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  329</span>            clf1.partial_fit(X, Y)</div>
<div class="line"><span class="lineno">  330</span>            clf2.partial_fit(X, Y)</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>    assert_array_almost_equal(clf1.coef_, clf2.coef_, decimal=16)</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">if</span> klass <span class="keywordflow">in</span> [SGDClassifier, SparseSGDClassifier, SGDRegressor, SparseSGDRegressor]:</div>
<div class="line"><span class="lineno">  334</span>        assert_almost_equal(clf1.intercept_, clf2.intercept_, decimal=16)</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">elif</span> klass <span class="keywordflow">in</span> [SGDOneClassSVM, SparseSGDOneClassSVM]:</div>
<div class="line"><span class="lineno">  336</span>        assert_allclose(clf1.offset_, clf2.offset_)</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  340</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDRegressor, SparseSGDRegressor]</div>
<div class="line"><span class="lineno">  341</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="af92d526c57ceda51930d351b42ae138c" name="af92d526c57ceda51930d351b42ae138c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af92d526c57ceda51930d351b42ae138c">&#9670;&#160;</a></span>test_late_onset_averaging_reached()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_late_onset_averaging_reached </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  342</span><span class="keyword">def </span>test_late_onset_averaging_reached(klass):</div>
<div class="line"><span class="lineno">  343</span>    eta0 = 0.001</div>
<div class="line"><span class="lineno">  344</span>    alpha = 0.0001</div>
<div class="line"><span class="lineno">  345</span>    Y_encode = np.array(Y)</div>
<div class="line"><span class="lineno">  346</span>    Y_encode[Y_encode == 1] = -1.0</div>
<div class="line"><span class="lineno">  347</span>    Y_encode[Y_encode == 2] = 1.0</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>    clf1 = klass(</div>
<div class="line"><span class="lineno">  350</span>        average=7,</div>
<div class="line"><span class="lineno">  351</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno">  352</span>        loss=<span class="stringliteral">&quot;squared_error&quot;</span>,</div>
<div class="line"><span class="lineno">  353</span>        eta0=eta0,</div>
<div class="line"><span class="lineno">  354</span>        alpha=alpha,</div>
<div class="line"><span class="lineno">  355</span>        max_iter=2,</div>
<div class="line"><span class="lineno">  356</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  357</span>    )</div>
<div class="line"><span class="lineno">  358</span>    clf2 = klass(</div>
<div class="line"><span class="lineno">  359</span>        average=0,</div>
<div class="line"><span class="lineno">  360</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno">  361</span>        loss=<span class="stringliteral">&quot;squared_error&quot;</span>,</div>
<div class="line"><span class="lineno">  362</span>        eta0=eta0,</div>
<div class="line"><span class="lineno">  363</span>        alpha=alpha,</div>
<div class="line"><span class="lineno">  364</span>        max_iter=1,</div>
<div class="line"><span class="lineno">  365</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  366</span>    )</div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>    clf1.fit(X, Y_encode)</div>
<div class="line"><span class="lineno">  369</span>    clf2.fit(X, Y_encode)</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>    average_weights, average_intercept = asgd(</div>
<div class="line"><span class="lineno">  372</span>        klass,</div>
<div class="line"><span class="lineno">  373</span>        X,</div>
<div class="line"><span class="lineno">  374</span>        Y_encode,</div>
<div class="line"><span class="lineno">  375</span>        eta0,</div>
<div class="line"><span class="lineno">  376</span>        alpha,</div>
<div class="line"><span class="lineno">  377</span>        weight_init=clf2.coef_.ravel(),</div>
<div class="line"><span class="lineno">  378</span>        intercept_init=clf2.intercept_,</div>
<div class="line"><span class="lineno">  379</span>    )</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>    assert_array_almost_equal(clf1.coef_.ravel(), average_weights.ravel(), decimal=16)</div>
<div class="line"><span class="lineno">  382</span>    assert_almost_equal(clf1.intercept_, average_intercept, decimal=16)</div>
<div class="line"><span class="lineno">  383</span> </div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  386</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDRegressor, SparseSGDRegressor]</div>
<div class="line"><span class="lineno">  387</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d497af37a25d2814053f42c3a7562a4" name="a7d497af37a25d2814053f42c3a7562a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d497af37a25d2814053f42c3a7562a4">&#9670;&#160;</a></span>test_late_onset_averaging_reached_oneclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_late_onset_averaging_reached_oneclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1521</span><span class="keyword">def </span>test_late_onset_averaging_reached_oneclass(klass):</div>
<div class="line"><span class="lineno"> 1522</span>    <span class="comment"># Test average</span></div>
<div class="line"><span class="lineno"> 1523</span>    eta0 = 0.001</div>
<div class="line"><span class="lineno"> 1524</span>    nu = 0.05</div>
<div class="line"><span class="lineno"> 1525</span> </div>
<div class="line"><span class="lineno"> 1526</span>    <span class="comment"># 2 passes over the training set but average only at second pass</span></div>
<div class="line"><span class="lineno"> 1527</span>    clf1 = klass(</div>
<div class="line"><span class="lineno"> 1528</span>        average=7, learning_rate=<span class="stringliteral">&quot;constant&quot;</span>, eta0=eta0, nu=nu, max_iter=2, shuffle=<span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1529</span>    )</div>
<div class="line"><span class="lineno"> 1530</span>    <span class="comment"># 1 pass over the training set with no averaging</span></div>
<div class="line"><span class="lineno"> 1531</span>    clf2 = klass(</div>
<div class="line"><span class="lineno"> 1532</span>        average=0, learning_rate=<span class="stringliteral">&quot;constant&quot;</span>, eta0=eta0, nu=nu, max_iter=1, shuffle=<span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1533</span>    )</div>
<div class="line"><span class="lineno"> 1534</span> </div>
<div class="line"><span class="lineno"> 1535</span>    clf1.fit(X)</div>
<div class="line"><span class="lineno"> 1536</span>    clf2.fit(X)</div>
<div class="line"><span class="lineno"> 1537</span> </div>
<div class="line"><span class="lineno"> 1538</span>    <span class="comment"># Start from clf2 solution, compute averaging using asgd function and</span></div>
<div class="line"><span class="lineno"> 1539</span>    <span class="comment"># compare with clf1 solution</span></div>
<div class="line"><span class="lineno"> 1540</span>    average_coef, average_offset = asgd_oneclass(</div>
<div class="line"><span class="lineno"> 1541</span>        klass, X, eta0, nu, coef_init=clf2.coef_.ravel(), offset_init=clf2.offset_</div>
<div class="line"><span class="lineno"> 1542</span>    )</div>
<div class="line"><span class="lineno"> 1543</span> </div>
<div class="line"><span class="lineno"> 1544</span>    assert_allclose(clf1.coef_.ravel(), average_coef.ravel())</div>
<div class="line"><span class="lineno"> 1545</span>    assert_allclose(clf1.offset_, average_offset)</div>
<div class="line"><span class="lineno"> 1546</span> </div>
<div class="line"><span class="lineno"> 1547</span> </div>
<div class="line"><span class="lineno"> 1548</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDOneClassSVM, SparseSGDOneClassSVM])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a68202bc8ac7edabb5b2cdb7c90383f53" name="a68202bc8ac7edabb5b2cdb7c90383f53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68202bc8ac7edabb5b2cdb7c90383f53">&#9670;&#160;</a></span>test_loss_deprecated()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_loss_deprecated </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>old_loss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new_loss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Estimator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2070</span><span class="keyword">def </span>test_loss_deprecated(old_loss, new_loss, Estimator):</div>
<div class="line"><span class="lineno"> 2071</span> </div>
<div class="line"><span class="lineno"> 2072</span>    <span class="comment"># Note: class BaseSGD calls self._validate_params() in __init__, therefore</span></div>
<div class="line"><span class="lineno"> 2073</span>    <span class="comment"># even instantiation of class raises FutureWarning for deprecated losses.</span></div>
<div class="line"><span class="lineno"> 2074</span>    <span class="keyword">with</span> pytest.warns(FutureWarning, match=f<span class="stringliteral">&quot;The loss &#39;{old_loss}&#39; was deprecated&quot;</span>):</div>
<div class="line"><span class="lineno"> 2075</span>        est1 = Estimator(loss=old_loss, random_state=0)</div>
<div class="line"><span class="lineno"> 2076</span>        est1.fit(X, Y)</div>
<div class="line"><span class="lineno"> 2077</span> </div>
<div class="line"><span class="lineno"> 2078</span>    est2 = Estimator(loss=new_loss, random_state=0)</div>
<div class="line"><span class="lineno"> 2079</span>    est2.fit(X, Y)</div>
<div class="line"><span class="lineno"> 2080</span>    <span class="keywordflow">if</span> hasattr(est1, <span class="stringliteral">&quot;predict_proba&quot;</span>):</div>
<div class="line"><span class="lineno"> 2081</span>        assert_allclose(est1.predict_proba(X), est2.predict_proba(X))</div>
<div class="line"><span class="lineno"> 2082</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2083</span>        assert_allclose(est1.predict(X), est2.predict(X))</div>
<div class="line"><span class="lineno"> 2084</span> </div>
<div class="line"><span class="lineno"> 2085</span> </div>
<div class="line"><span class="lineno"> 2086</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 2087</span>    <span class="stringliteral">&quot;Estimator&quot;</span>, [linear_model.SGDClassifier, linear_model.SGDRegressor]</div>
<div class="line"><span class="lineno"> 2088</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae010e7847893e8ab24d810564afd08d9" name="ae010e7847893e8ab24d810564afd08d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae010e7847893e8ab24d810564afd08d9">&#9670;&#160;</a></span>test_loss_epsilon_insensitive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_loss_epsilon_insensitive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1960</span><span class="keyword">def </span>test_loss_epsilon_insensitive():</div>
<div class="line"><span class="lineno"> 1961</span>    <span class="comment"># Test EpsilonInsensitive</span></div>
<div class="line"><span class="lineno"> 1962</span>    loss = sgd_fast.EpsilonInsensitive(0.1)</div>
<div class="line"><span class="lineno"> 1963</span>    cases = [</div>
<div class="line"><span class="lineno"> 1964</span>        <span class="comment"># (p, y, expected_loss, expected_dloss)</span></div>
<div class="line"><span class="lineno"> 1965</span>        (0.0, 0.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1966</span>        (0.1, 0.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1967</span>        (-2.05, -2.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1968</span>        (3.05, 3.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1969</span>        (2.2, 2.0, 0.1, 1.0),</div>
<div class="line"><span class="lineno"> 1970</span>        (2.0, -1.0, 2.9, 1.0),</div>
<div class="line"><span class="lineno"> 1971</span>        (2.0, 2.2, 0.1, -1.0),</div>
<div class="line"><span class="lineno"> 1972</span>        (-2.0, 1.0, 2.9, -1.0),</div>
<div class="line"><span class="lineno"> 1973</span>    ]</div>
<div class="line"><span class="lineno"> 1974</span>    _test_loss_common(loss, cases)</div>
<div class="line"><span class="lineno"> 1975</span> </div>
<div class="line"><span class="lineno"> 1976</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a90a7bdef3ab5917ec5db4da8d5cea8e9" name="a90a7bdef3ab5917ec5db4da8d5cea8e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90a7bdef3ab5917ec5db4da8d5cea8e9">&#9670;&#160;</a></span>test_loss_function_epsilon()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_loss_function_epsilon </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1388</span><span class="keyword">def </span>test_loss_function_epsilon(klass):</div>
<div class="line"><span class="lineno"> 1389</span>    clf = klass(epsilon=0.9)</div>
<div class="line"><span class="lineno"> 1390</span>    clf.set_params(epsilon=0.1)</div>
<div class="line"><span class="lineno"> 1391</span>    <span class="keyword">assert</span> clf.loss_functions[<span class="stringliteral">&quot;huber&quot;</span>][1] == 0.1</div>
<div class="line"><span class="lineno"> 1392</span> </div>
<div class="line"><span class="lineno"> 1393</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c23cc074fec8b3bfbccd97a1ab8c966" name="a8c23cc074fec8b3bfbccd97a1ab8c966"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c23cc074fec8b3bfbccd97a1ab8c966">&#9670;&#160;</a></span>test_loss_hinge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_loss_hinge </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1845</span><span class="keyword">def </span>test_loss_hinge():</div>
<div class="line"><span class="lineno"> 1846</span>    <span class="comment"># Test Hinge (hinge / perceptron)</span></div>
<div class="line"><span class="lineno"> 1847</span>    <span class="comment"># hinge</span></div>
<div class="line"><span class="lineno"> 1848</span>    loss = sgd_fast.Hinge(1.0)</div>
<div class="line"><span class="lineno"> 1849</span>    cases = [</div>
<div class="line"><span class="lineno"> 1850</span>        <span class="comment"># (p, y, expected_loss, expected_dloss)</span></div>
<div class="line"><span class="lineno"> 1851</span>        (1.1, 1.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1852</span>        (-2.0, -1.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1853</span>        (1.0, 1.0, 0.0, -1.0),</div>
<div class="line"><span class="lineno"> 1854</span>        (-1.0, -1.0, 0.0, 1.0),</div>
<div class="line"><span class="lineno"> 1855</span>        (0.5, 1.0, 0.5, -1.0),</div>
<div class="line"><span class="lineno"> 1856</span>        (2.0, -1.0, 3.0, 1.0),</div>
<div class="line"><span class="lineno"> 1857</span>        (-0.5, -1.0, 0.5, 1.0),</div>
<div class="line"><span class="lineno"> 1858</span>        (0.0, 1.0, 1, -1.0),</div>
<div class="line"><span class="lineno"> 1859</span>    ]</div>
<div class="line"><span class="lineno"> 1860</span>    _test_loss_common(loss, cases)</div>
<div class="line"><span class="lineno"> 1861</span> </div>
<div class="line"><span class="lineno"> 1862</span>    <span class="comment"># perceptron</span></div>
<div class="line"><span class="lineno"> 1863</span>    loss = sgd_fast.Hinge(0.0)</div>
<div class="line"><span class="lineno"> 1864</span>    cases = [</div>
<div class="line"><span class="lineno"> 1865</span>        <span class="comment"># (p, y, expected_loss, expected_dloss)</span></div>
<div class="line"><span class="lineno"> 1866</span>        (1.0, 1.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1867</span>        (-0.1, -1.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1868</span>        (0.0, 1.0, 0.0, -1.0),</div>
<div class="line"><span class="lineno"> 1869</span>        (0.0, -1.0, 0.0, 1.0),</div>
<div class="line"><span class="lineno"> 1870</span>        (0.5, -1.0, 0.5, 1.0),</div>
<div class="line"><span class="lineno"> 1871</span>        (2.0, -1.0, 2.0, 1.0),</div>
<div class="line"><span class="lineno"> 1872</span>        (-0.5, 1.0, 0.5, -1.0),</div>
<div class="line"><span class="lineno"> 1873</span>        (-1.0, 1.0, 1.0, -1.0),</div>
<div class="line"><span class="lineno"> 1874</span>    ]</div>
<div class="line"><span class="lineno"> 1875</span>    _test_loss_common(loss, cases)</div>
<div class="line"><span class="lineno"> 1876</span> </div>
<div class="line"><span class="lineno"> 1877</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3cf1ca80ae7110ce141c688e936957ca" name="a3cf1ca80ae7110ce141c688e936957ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cf1ca80ae7110ce141c688e936957ca">&#9670;&#160;</a></span>test_loss_huber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_loss_huber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1928</span><span class="keyword">def </span>test_loss_huber():</div>
<div class="line"><span class="lineno"> 1929</span>    <span class="comment"># Test Huber</span></div>
<div class="line"><span class="lineno"> 1930</span>    loss = sgd_fast.Huber(0.1)</div>
<div class="line"><span class="lineno"> 1931</span>    cases = [</div>
<div class="line"><span class="lineno"> 1932</span>        <span class="comment"># (p, y, expected_loss, expected_dloss)</span></div>
<div class="line"><span class="lineno"> 1933</span>        (0.0, 0.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1934</span>        (0.1, 0.0, 0.005, 0.1),</div>
<div class="line"><span class="lineno"> 1935</span>        (0.0, 0.1, 0.005, -0.1),</div>
<div class="line"><span class="lineno"> 1936</span>        (3.95, 4.0, 0.00125, -0.05),</div>
<div class="line"><span class="lineno"> 1937</span>        (5.0, 2.0, 0.295, 0.1),</div>
<div class="line"><span class="lineno"> 1938</span>        (-1.0, 5.0, 0.595, -0.1),</div>
<div class="line"><span class="lineno"> 1939</span>    ]</div>
<div class="line"><span class="lineno"> 1940</span>    _test_loss_common(loss, cases)</div>
<div class="line"><span class="lineno"> 1941</span> </div>
<div class="line"><span class="lineno"> 1942</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4ab591f8dafcd5e20eaecbb42fdf118" name="ab4ab591f8dafcd5e20eaecbb42fdf118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4ab591f8dafcd5e20eaecbb42fdf118">&#9670;&#160;</a></span>test_loss_log()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_loss_log </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1893</span><span class="keyword">def </span>test_loss_log():</div>
<div class="line"><span class="lineno"> 1894</span>    <span class="comment"># Test Log (logistic loss)</span></div>
<div class="line"><span class="lineno"> 1895</span>    loss = sgd_fast.Log()</div>
<div class="line"><span class="lineno"> 1896</span>    cases = [</div>
<div class="line"><span class="lineno"> 1897</span>        <span class="comment"># (p, y, expected_loss, expected_dloss)</span></div>
<div class="line"><span class="lineno"> 1898</span>        (1.0, 1.0, np.log(1.0 + np.exp(-1.0)), -1.0 / (np.exp(1.0) + 1.0)),</div>
<div class="line"><span class="lineno"> 1899</span>        (1.0, -1.0, np.log(1.0 + np.exp(1.0)), 1.0 / (np.exp(-1.0) + 1.0)),</div>
<div class="line"><span class="lineno"> 1900</span>        (-1.0, -1.0, np.log(1.0 + np.exp(-1.0)), 1.0 / (np.exp(1.0) + 1.0)),</div>
<div class="line"><span class="lineno"> 1901</span>        (-1.0, 1.0, np.log(1.0 + np.exp(1.0)), -1.0 / (np.exp(-1.0) + 1.0)),</div>
<div class="line"><span class="lineno"> 1902</span>        (0.0, 1.0, np.log(2), -0.5),</div>
<div class="line"><span class="lineno"> 1903</span>        (0.0, -1.0, np.log(2), 0.5),</div>
<div class="line"><span class="lineno"> 1904</span>        (17.9, -1.0, 17.9, 1.0),</div>
<div class="line"><span class="lineno"> 1905</span>        (-17.9, 1.0, 17.9, -1.0),</div>
<div class="line"><span class="lineno"> 1906</span>    ]</div>
<div class="line"><span class="lineno"> 1907</span>    _test_loss_common(loss, cases)</div>
<div class="line"><span class="lineno"> 1908</span>    assert_almost_equal(loss.py_dloss(18.1, 1.0), np.exp(-18.1) * -1.0, 16)</div>
<div class="line"><span class="lineno"> 1909</span>    assert_almost_equal(loss.py_loss(18.1, 1.0), np.exp(-18.1), 16)</div>
<div class="line"><span class="lineno"> 1910</span>    assert_almost_equal(loss.py_dloss(-18.1, -1.0), np.exp(-18.1) * 1.0, 16)</div>
<div class="line"><span class="lineno"> 1911</span>    assert_almost_equal(loss.py_loss(-18.1, 1.0), 18.1, 16)</div>
<div class="line"><span class="lineno"> 1912</span> </div>
<div class="line"><span class="lineno"> 1913</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae5ffab95877f0dc5691bde45699f9371" name="ae5ffab95877f0dc5691bde45699f9371"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5ffab95877f0dc5691bde45699f9371">&#9670;&#160;</a></span>test_loss_modified_huber()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_loss_modified_huber </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1943</span><span class="keyword">def </span>test_loss_modified_huber():</div>
<div class="line"><span class="lineno"> 1944</span>    <span class="comment"># (p, y, expected_loss, expected_dloss)</span></div>
<div class="line"><span class="lineno"> 1945</span>    loss = sgd_fast.ModifiedHuber()</div>
<div class="line"><span class="lineno"> 1946</span>    cases = [</div>
<div class="line"><span class="lineno"> 1947</span>        <span class="comment"># (p, y, expected_loss, expected_dloss)</span></div>
<div class="line"><span class="lineno"> 1948</span>        (1.0, 1.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1949</span>        (-1.0, -1.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1950</span>        (2.0, 1.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1951</span>        (0.0, 1.0, 1.0, -2.0),</div>
<div class="line"><span class="lineno"> 1952</span>        (-1.0, 1.0, 4.0, -4.0),</div>
<div class="line"><span class="lineno"> 1953</span>        (0.5, -1.0, 2.25, 3.0),</div>
<div class="line"><span class="lineno"> 1954</span>        (-2.0, 1.0, 8, -4.0),</div>
<div class="line"><span class="lineno"> 1955</span>        (-3.0, 1.0, 12, -4.0),</div>
<div class="line"><span class="lineno"> 1956</span>    ]</div>
<div class="line"><span class="lineno"> 1957</span>    _test_loss_common(loss, cases)</div>
<div class="line"><span class="lineno"> 1958</span> </div>
<div class="line"><span class="lineno"> 1959</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a21ea27fbe24d078adadae1ed993d5a26" name="a21ea27fbe24d078adadae1ed993d5a26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21ea27fbe24d078adadae1ed993d5a26">&#9670;&#160;</a></span>test_loss_squared_epsilon_insensitive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_loss_squared_epsilon_insensitive </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1977</span><span class="keyword">def </span>test_loss_squared_epsilon_insensitive():</div>
<div class="line"><span class="lineno"> 1978</span>    <span class="comment"># Test SquaredEpsilonInsensitive</span></div>
<div class="line"><span class="lineno"> 1979</span>    loss = sgd_fast.SquaredEpsilonInsensitive(0.1)</div>
<div class="line"><span class="lineno"> 1980</span>    cases = [</div>
<div class="line"><span class="lineno"> 1981</span>        <span class="comment"># (p, y, expected_loss, expected_dloss)</span></div>
<div class="line"><span class="lineno"> 1982</span>        (0.0, 0.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1983</span>        (0.1, 0.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1984</span>        (-2.05, -2.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1985</span>        (3.05, 3.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1986</span>        (2.2, 2.0, 0.01, 0.2),</div>
<div class="line"><span class="lineno"> 1987</span>        (2.0, -1.0, 8.41, 5.8),</div>
<div class="line"><span class="lineno"> 1988</span>        (2.0, 2.2, 0.01, -0.2),</div>
<div class="line"><span class="lineno"> 1989</span>        (-2.0, 1.0, 8.41, -5.8),</div>
<div class="line"><span class="lineno"> 1990</span>    ]</div>
<div class="line"><span class="lineno"> 1991</span>    _test_loss_common(loss, cases)</div>
<div class="line"><span class="lineno"> 1992</span> </div>
<div class="line"><span class="lineno"> 1993</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1ff8221be1b14e7bab9e405149d32792" name="a1ff8221be1b14e7bab9e405149d32792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ff8221be1b14e7bab9e405149d32792">&#9670;&#160;</a></span>test_loss_squared_loss()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_loss_squared_loss </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1914</span><span class="keyword">def </span>test_loss_squared_loss():</div>
<div class="line"><span class="lineno"> 1915</span>    <span class="comment"># Test SquaredLoss</span></div>
<div class="line"><span class="lineno"> 1916</span>    loss = sgd_fast.SquaredLoss()</div>
<div class="line"><span class="lineno"> 1917</span>    cases = [</div>
<div class="line"><span class="lineno"> 1918</span>        <span class="comment"># (p, y, expected_loss, expected_dloss)</span></div>
<div class="line"><span class="lineno"> 1919</span>        (0.0, 0.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1920</span>        (1.0, 1.0, 0.0, 0.0),</div>
<div class="line"><span class="lineno"> 1921</span>        (1.0, 0.0, 0.5, 1.0),</div>
<div class="line"><span class="lineno"> 1922</span>        (0.5, -1.0, 1.125, 1.5),</div>
<div class="line"><span class="lineno"> 1923</span>        (-2.5, 2.0, 10.125, -4.5),</div>
<div class="line"><span class="lineno"> 1924</span>    ]</div>
<div class="line"><span class="lineno"> 1925</span>    _test_loss_common(loss, cases)</div>
<div class="line"><span class="lineno"> 1926</span> </div>
<div class="line"><span class="lineno"> 1927</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3f786c43a8241fbbde078b9b48566a96" name="a3f786c43a8241fbbde078b9b48566a96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f786c43a8241fbbde078b9b48566a96">&#9670;&#160;</a></span>test_multi_core_gridsearch_and_early_stopping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_multi_core_gridsearch_and_early_stopping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2012</span><span class="keyword">def </span>test_multi_core_gridsearch_and_early_stopping():</div>
<div class="line"><span class="lineno"> 2013</span>    <span class="comment"># This is a non-regression test for a bad interaction between</span></div>
<div class="line"><span class="lineno"> 2014</span>    <span class="comment"># early stopping internal attribute and process-based multi-core</span></div>
<div class="line"><span class="lineno"> 2015</span>    <span class="comment"># parallelism.</span></div>
<div class="line"><span class="lineno"> 2016</span>    param_grid = {</div>
<div class="line"><span class="lineno"> 2017</span>        <span class="stringliteral">&quot;alpha&quot;</span>: np.logspace(-4, 4, 9),</div>
<div class="line"><span class="lineno"> 2018</span>        <span class="stringliteral">&quot;n_iter_no_change&quot;</span>: [5, 10, 50],</div>
<div class="line"><span class="lineno"> 2019</span>    }</div>
<div class="line"><span class="lineno"> 2020</span> </div>
<div class="line"><span class="lineno"> 2021</span>    clf = SGDClassifier(tol=1e-2, max_iter=1000, early_stopping=<span class="keyword">True</span>, random_state=0)</div>
<div class="line"><span class="lineno"> 2022</span>    search = RandomizedSearchCV(clf, param_grid, n_iter=5, n_jobs=2, random_state=0)</div>
<div class="line"><span class="lineno"> 2023</span>    search.fit(iris.data, iris.target)</div>
<div class="line"><span class="lineno"> 2024</span>    <span class="keyword">assert</span> search.best_score_ &gt; 0.8</div>
<div class="line"><span class="lineno"> 2025</span> </div>
<div class="line"><span class="lineno"> 2026</span> </div>
<div class="line"><span class="lineno"> 2027</span><span class="preprocessor">@pytest.mark.parametrize(&quot;backend&quot;, [&quot;loky&quot;, &quot;multiprocessing&quot;, &quot;threading&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a69b0f48cd1e05f820cf669b728a3d913" name="a69b0f48cd1e05f820cf669b728a3d913"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69b0f48cd1e05f820cf669b728a3d913">&#9670;&#160;</a></span>test_multi_thread_multi_class_and_early_stopping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_multi_thread_multi_class_and_early_stopping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1994</span><span class="keyword">def </span>test_multi_thread_multi_class_and_early_stopping():</div>
<div class="line"><span class="lineno"> 1995</span>    <span class="comment"># This is a non-regression test for a bad interaction between</span></div>
<div class="line"><span class="lineno"> 1996</span>    <span class="comment"># early stopping internal attribute and thread-based parallelism.</span></div>
<div class="line"><span class="lineno"> 1997</span>    clf = SGDClassifier(</div>
<div class="line"><span class="lineno"> 1998</span>        alpha=1e-3,</div>
<div class="line"><span class="lineno"> 1999</span>        tol=1e-3,</div>
<div class="line"><span class="lineno"> 2000</span>        max_iter=1000,</div>
<div class="line"><span class="lineno"> 2001</span>        early_stopping=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 2002</span>        n_iter_no_change=100,</div>
<div class="line"><span class="lineno"> 2003</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 2004</span>        n_jobs=2,</div>
<div class="line"><span class="lineno"> 2005</span>    )</div>
<div class="line"><span class="lineno"> 2006</span>    clf.fit(iris.data, iris.target)</div>
<div class="line"><span class="lineno"> 2007</span>    <span class="keyword">assert</span> clf.n_iter_ &gt; clf.n_iter_no_change</div>
<div class="line"><span class="lineno"> 2008</span>    <span class="keyword">assert</span> clf.n_iter_ &lt; clf.n_iter_no_change + 20</div>
<div class="line"><span class="lineno"> 2009</span>    <span class="keyword">assert</span> clf.score(iris.data, iris.target) &gt; 0.8</div>
<div class="line"><span class="lineno"> 2010</span> </div>
<div class="line"><span class="lineno"> 2011</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aafed14afd7a58d9292f1dce203adc83e" name="aafed14afd7a58d9292f1dce203adc83e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafed14afd7a58d9292f1dce203adc83e">&#9670;&#160;</a></span>test_multiple_fit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_multiple_fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1118</span><span class="keyword">def </span>test_multiple_fit(klass):</div>
<div class="line"><span class="lineno"> 1119</span>    <span class="comment"># Test multiple calls of fit w/ different shaped inputs.</span></div>
<div class="line"><span class="lineno"> 1120</span>    clf = klass(alpha=0.01, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1121</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno"> 1122</span>    <span class="keyword">assert</span> hasattr(clf, <span class="stringliteral">&quot;coef_&quot;</span>)</div>
<div class="line"><span class="lineno"> 1123</span> </div>
<div class="line"><span class="lineno"> 1124</span>    <span class="comment"># Non-regression test: try fitting with a different label set.</span></div>
<div class="line"><span class="lineno"> 1125</span>    y = [[<span class="stringliteral">&quot;ham&quot;</span>, <span class="stringliteral">&quot;spam&quot;</span>][i] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> LabelEncoder().fit_transform(Y)]</div>
<div class="line"><span class="lineno"> 1126</span>    clf.fit(X[:, :-1], y)</div>
<div class="line"><span class="lineno"> 1127</span> </div>
<div class="line"><span class="lineno"> 1128</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b12fe6723f2551511a036f42a4ca140" name="a3b12fe6723f2551511a036f42a4ca140"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b12fe6723f2551511a036f42a4ca140">&#9670;&#160;</a></span>test_n_iter_no_change()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_n_iter_no_change </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  457</span><span class="keyword">def </span>test_n_iter_no_change(klass):</div>
<div class="line"><span class="lineno">  458</span>    X, Y = iris.data, iris.target</div>
<div class="line"><span class="lineno">  459</span>    <span class="comment"># test that n_iter_ increases monotonically with n_iter_no_change</span></div>
<div class="line"><span class="lineno">  460</span>    <span class="keywordflow">for</span> early_stopping <span class="keywordflow">in</span> [<span class="keyword">True</span>, <span class="keyword">False</span>]:</div>
<div class="line"><span class="lineno">  461</span>        n_iter_list = [</div>
<div class="line"><span class="lineno">  462</span>            klass(</div>
<div class="line"><span class="lineno">  463</span>                early_stopping=early_stopping,</div>
<div class="line"><span class="lineno">  464</span>                n_iter_no_change=n_iter_no_change,</div>
<div class="line"><span class="lineno">  465</span>                tol=1e-4,</div>
<div class="line"><span class="lineno">  466</span>                max_iter=1000,</div>
<div class="line"><span class="lineno">  467</span>            )</div>
<div class="line"><span class="lineno">  468</span>            .fit(X, Y)</div>
<div class="line"><span class="lineno">  469</span>            .n_iter_</div>
<div class="line"><span class="lineno">  470</span>            <span class="keywordflow">for</span> n_iter_no_change <span class="keywordflow">in</span> [2, 3, 10]</div>
<div class="line"><span class="lineno">  471</span>        ]</div>
<div class="line"><span class="lineno">  472</span>        assert_array_equal(n_iter_list, sorted(n_iter_list))</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  476</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDRegressor, SparseSGDRegressor]</div>
<div class="line"><span class="lineno">  477</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8af3fe02fd46ea00a54414109fe805a7" name="a8af3fe02fd46ea00a54414109fe805a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8af3fe02fd46ea00a54414109fe805a7">&#9670;&#160;</a></span>test_not_enough_sample_for_early_stopping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_not_enough_sample_for_early_stopping </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  478</span><span class="keyword">def </span>test_not_enough_sample_for_early_stopping(klass):</div>
<div class="line"><span class="lineno">  479</span>    <span class="comment"># test an error is raised if the training or validation set is empty</span></div>
<div class="line"><span class="lineno">  480</span>    clf = klass(early_stopping=<span class="keyword">True</span>, validation_fraction=0.99)</div>
<div class="line"><span class="lineno">  481</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  482</span>        clf.fit(X3, Y3)</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1835149d4650075759c06ab9920d5122" name="a1835149d4650075759c06ab9920d5122"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1835149d4650075759c06ab9920d5122">&#9670;&#160;</a></span>test_numerical_stability_large_gradient()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_numerical_stability_large_gradient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1764</span><span class="keyword">def </span>test_numerical_stability_large_gradient():</div>
<div class="line"><span class="lineno"> 1765</span>    <span class="comment"># Non regression test case for numerical stability on scaled problems</span></div>
<div class="line"><span class="lineno"> 1766</span>    <span class="comment"># where the gradient can still explode with some losses</span></div>
<div class="line"><span class="lineno"> 1767</span>    model = SGDClassifier(</div>
<div class="line"><span class="lineno"> 1768</span>        loss=<span class="stringliteral">&quot;squared_hinge&quot;</span>,</div>
<div class="line"><span class="lineno"> 1769</span>        max_iter=10,</div>
<div class="line"><span class="lineno"> 1770</span>        shuffle=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1771</span>        penalty=<span class="stringliteral">&quot;elasticnet&quot;</span>,</div>
<div class="line"><span class="lineno"> 1772</span>        l1_ratio=0.3,</div>
<div class="line"><span class="lineno"> 1773</span>        alpha=0.01,</div>
<div class="line"><span class="lineno"> 1774</span>        eta0=0.001,</div>
<div class="line"><span class="lineno"> 1775</span>        random_state=0,</div>
<div class="line"><span class="lineno"> 1776</span>        tol=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1777</span>    )</div>
<div class="line"><span class="lineno"> 1778</span>    <span class="keyword">with</span> np.errstate(all=<span class="stringliteral">&quot;raise&quot;</span>):</div>
<div class="line"><span class="lineno"> 1779</span>        model.fit(iris.data, iris.target)</div>
<div class="line"><span class="lineno"> 1780</span>    <span class="keyword">assert</span> np.isfinite(model.coef_).all()</div>
<div class="line"><span class="lineno"> 1781</span> </div>
<div class="line"><span class="lineno"> 1782</span> </div>
<div class="line"><span class="lineno"> 1783</span><span class="preprocessor">@pytest.mark.parametrize(&quot;penalty&quot;, [&quot;l2&quot;, &quot;l1&quot;, &quot;elasticnet&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb6b37ae3f9ff17513147d241baa06c4" name="aeb6b37ae3f9ff17513147d241baa06c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb6b37ae3f9ff17513147d241baa06c4">&#9670;&#160;</a></span>test_ocsvm_vs_sgdocsvm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_ocsvm_vs_sgdocsvm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1650</span><span class="keyword">def </span>test_ocsvm_vs_sgdocsvm():</div>
<div class="line"><span class="lineno"> 1651</span>    <span class="comment"># Checks SGDOneClass SVM gives a good approximation of kernelized</span></div>
<div class="line"><span class="lineno"> 1652</span>    <span class="comment"># One-Class SVM</span></div>
<div class="line"><span class="lineno"> 1653</span>    nu = 0.05</div>
<div class="line"><span class="lineno"> 1654</span>    gamma = 2.0</div>
<div class="line"><span class="lineno"> 1655</span>    random_state = 42</div>
<div class="line"><span class="lineno"> 1656</span> </div>
<div class="line"><span class="lineno"> 1657</span>    <span class="comment"># Generate train and test data</span></div>
<div class="line"><span class="lineno"> 1658</span>    rng = np.random.RandomState(random_state)</div>
<div class="line"><span class="lineno"> 1659</span>    X = 0.3 * rng.randn(500, 2)</div>
<div class="line"><span class="lineno"> 1660</span>    X_train = np.r_[X + 2, X - 2]</div>
<div class="line"><span class="lineno"> 1661</span>    X = 0.3 * rng.randn(100, 2)</div>
<div class="line"><span class="lineno"> 1662</span>    X_test = np.r_[X + 2, X - 2]</div>
<div class="line"><span class="lineno"> 1663</span> </div>
<div class="line"><span class="lineno"> 1664</span>    <span class="comment"># One-Class SVM</span></div>
<div class="line"><span class="lineno"> 1665</span>    clf = OneClassSVM(gamma=gamma, kernel=<span class="stringliteral">&quot;rbf&quot;</span>, nu=nu)</div>
<div class="line"><span class="lineno"> 1666</span>    clf.fit(X_train)</div>
<div class="line"><span class="lineno"> 1667</span>    y_pred_ocsvm = clf.predict(X_test)</div>
<div class="line"><span class="lineno"> 1668</span>    dec_ocsvm = clf.decision_function(X_test).reshape(1, -1)</div>
<div class="line"><span class="lineno"> 1669</span> </div>
<div class="line"><span class="lineno"> 1670</span>    <span class="comment"># SGDOneClassSVM using kernel approximation</span></div>
<div class="line"><span class="lineno"> 1671</span>    max_iter = 15</div>
<div class="line"><span class="lineno"> 1672</span>    transform = Nystroem(gamma=gamma, random_state=random_state)</div>
<div class="line"><span class="lineno"> 1673</span>    clf_sgd = SGDOneClassSVM(</div>
<div class="line"><span class="lineno"> 1674</span>        nu=nu,</div>
<div class="line"><span class="lineno"> 1675</span>        shuffle=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1676</span>        fit_intercept=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1677</span>        max_iter=max_iter,</div>
<div class="line"><span class="lineno"> 1678</span>        random_state=random_state,</div>
<div class="line"><span class="lineno"> 1679</span>        tol=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1680</span>    )</div>
<div class="line"><span class="lineno"> 1681</span>    pipe_sgd = make_pipeline(transform, clf_sgd)</div>
<div class="line"><span class="lineno"> 1682</span>    pipe_sgd.fit(X_train)</div>
<div class="line"><span class="lineno"> 1683</span>    y_pred_sgdocsvm = pipe_sgd.predict(X_test)</div>
<div class="line"><span class="lineno"> 1684</span>    dec_sgdocsvm = pipe_sgd.decision_function(X_test).reshape(1, -1)</div>
<div class="line"><span class="lineno"> 1685</span> </div>
<div class="line"><span class="lineno"> 1686</span>    <span class="keyword">assert</span> np.mean(y_pred_sgdocsvm == y_pred_ocsvm) &gt;= 0.99</div>
<div class="line"><span class="lineno"> 1687</span>    corrcoef = np.corrcoef(np.concatenate((dec_ocsvm, dec_sgdocsvm)))[0, 1]</div>
<div class="line"><span class="lineno"> 1688</span>    <span class="keyword">assert</span> corrcoef &gt;= 0.9</div>
<div class="line"><span class="lineno"> 1689</span> </div>
<div class="line"><span class="lineno"> 1690</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4bd2071c33ffc5c0381c6b1daa2408f" name="ab4bd2071c33ffc5c0381c6b1daa2408f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4bd2071c33ffc5c0381c6b1daa2408f">&#9670;&#160;</a></span>test_partial_fit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_partial_fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1354</span><span class="keyword">def </span>test_partial_fit(klass):</div>
<div class="line"><span class="lineno"> 1355</span>    third = X.shape[0] // 3</div>
<div class="line"><span class="lineno"> 1356</span>    clf = klass(alpha=0.01)</div>
<div class="line"><span class="lineno"> 1357</span> </div>
<div class="line"><span class="lineno"> 1358</span>    clf.partial_fit(X[:third], Y[:third])</div>
<div class="line"><span class="lineno"> 1359</span>    <span class="keyword">assert</span> clf.coef_.shape == (X.shape[1],)</div>
<div class="line"><span class="lineno"> 1360</span>    <span class="keyword">assert</span> clf.intercept_.shape == (1,)</div>
<div class="line"><span class="lineno"> 1361</span>    <span class="keyword">assert</span> clf.predict([[0, 0]]).shape == (1,)</div>
<div class="line"><span class="lineno"> 1362</span>    id1 = id(clf.coef_.data)</div>
<div class="line"><span class="lineno"> 1363</span> </div>
<div class="line"><span class="lineno"> 1364</span>    clf.partial_fit(X[third:], Y[third:])</div>
<div class="line"><span class="lineno"> 1365</span>    id2 = id(clf.coef_.data)</div>
<div class="line"><span class="lineno"> 1366</span>    <span class="comment"># check that coef_ haven&#39;t been re-allocated</span></div>
<div class="line"><span class="lineno"> 1367</span>    <span class="keyword">assert</span> id1, id2</div>
<div class="line"><span class="lineno"> 1368</span> </div>
<div class="line"><span class="lineno"> 1369</span> </div>
<div class="line"><span class="lineno"> 1370</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDRegressor, SparseSGDRegressor])</span></div>
<div class="line"><span class="lineno"> 1371</span><span class="preprocessor">@pytest.mark.parametrize(&quot;lr&quot;, [&quot;constant&quot;, &quot;optimal&quot;, &quot;invscaling&quot;, &quot;adaptive&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5be8a4b47ec883a7ef6b99fb18980f65" name="a5be8a4b47ec883a7ef6b99fb18980f65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5be8a4b47ec883a7ef6b99fb18980f65">&#9670;&#160;</a></span>test_partial_fit_binary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_partial_fit_binary </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  992</span><span class="keyword">def </span>test_partial_fit_binary(klass):</div>
<div class="line"><span class="lineno">  993</span>    third = X.shape[0] // 3</div>
<div class="line"><span class="lineno">  994</span>    clf = klass(alpha=0.01)</div>
<div class="line"><span class="lineno">  995</span>    classes = np.unique(Y)</div>
<div class="line"><span class="lineno">  996</span> </div>
<div class="line"><span class="lineno">  997</span>    clf.partial_fit(X[:third], Y[:third], classes=classes)</div>
<div class="line"><span class="lineno">  998</span>    <span class="keyword">assert</span> clf.coef_.shape == (1, X.shape[1])</div>
<div class="line"><span class="lineno">  999</span>    <span class="keyword">assert</span> clf.intercept_.shape == (1,)</div>
<div class="line"><span class="lineno"> 1000</span>    <span class="keyword">assert</span> clf.decision_function([[0, 0]]).shape == (1,)</div>
<div class="line"><span class="lineno"> 1001</span>    id1 = id(clf.coef_.data)</div>
<div class="line"><span class="lineno"> 1002</span> </div>
<div class="line"><span class="lineno"> 1003</span>    clf.partial_fit(X[third:], Y[third:])</div>
<div class="line"><span class="lineno"> 1004</span>    id2 = id(clf.coef_.data)</div>
<div class="line"><span class="lineno"> 1005</span>    <span class="comment"># check that coef_ haven&#39;t been re-allocated</span></div>
<div class="line"><span class="lineno"> 1006</span>    <span class="keyword">assert</span> id1, id2</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>    y_pred = clf.predict(T)</div>
<div class="line"><span class="lineno"> 1009</span>    assert_array_equal(y_pred, true_result)</div>
<div class="line"><span class="lineno"> 1010</span> </div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af48bbc9d1b05c4b02ac622f6ed716d20" name="af48bbc9d1b05c4b02ac622f6ed716d20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af48bbc9d1b05c4b02ac622f6ed716d20">&#9670;&#160;</a></span>test_partial_fit_equal_fit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_partial_fit_equal_fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1372</span><span class="keyword">def </span>test_partial_fit_equal_fit(klass, lr):</div>
<div class="line"><span class="lineno"> 1373</span>    clf = klass(alpha=0.01, max_iter=2, eta0=0.01, learning_rate=lr, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1374</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno"> 1375</span>    y_pred = clf.predict(T)</div>
<div class="line"><span class="lineno"> 1376</span>    t = clf.t_</div>
<div class="line"><span class="lineno"> 1377</span> </div>
<div class="line"><span class="lineno"> 1378</span>    clf = klass(alpha=0.01, eta0=0.01, learning_rate=lr, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1379</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 1380</span>        clf.partial_fit(X, Y)</div>
<div class="line"><span class="lineno"> 1381</span>    y_pred2 = clf.predict(T)</div>
<div class="line"><span class="lineno"> 1382</span> </div>
<div class="line"><span class="lineno"> 1383</span>    <span class="keyword">assert</span> clf.t_ == t</div>
<div class="line"><span class="lineno"> 1384</span>    assert_array_almost_equal(y_pred, y_pred2, decimal=2)</div>
<div class="line"><span class="lineno"> 1385</span> </div>
<div class="line"><span class="lineno"> 1386</span> </div>
<div class="line"><span class="lineno"> 1387</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDRegressor, SparseSGDRegressor])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab307fa8ad24de000b303011725084b03" name="ab307fa8ad24de000b303011725084b03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab307fa8ad24de000b303011725084b03">&#9670;&#160;</a></span>test_partial_fit_equal_fit_classif()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_partial_fit_equal_fit_classif </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1057</span><span class="keyword">def </span>test_partial_fit_equal_fit_classif(klass, lr):</div>
<div class="line"><span class="lineno"> 1058</span>    <span class="keywordflow">for</span> X_, Y_, T_ <span class="keywordflow">in</span> ((X, Y, T), (X2, Y2, T2)):</div>
<div class="line"><span class="lineno"> 1059</span>        clf = klass(alpha=0.01, eta0=0.01, max_iter=2, learning_rate=lr, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1060</span>        clf.fit(X_, Y_)</div>
<div class="line"><span class="lineno"> 1061</span>        y_pred = clf.decision_function(T_)</div>
<div class="line"><span class="lineno"> 1062</span>        t = clf.t_</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>        classes = np.unique(Y_)</div>
<div class="line"><span class="lineno"> 1065</span>        clf = klass(alpha=0.01, eta0=0.01, learning_rate=lr, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1066</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 1067</span>            clf.partial_fit(X_, Y_, classes=classes)</div>
<div class="line"><span class="lineno"> 1068</span>        y_pred2 = clf.decision_function(T_)</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>        <span class="keyword">assert</span> clf.t_ == t</div>
<div class="line"><span class="lineno"> 1071</span>        assert_array_almost_equal(y_pred, y_pred2, decimal=2)</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8667f9e97c76098c9a0b95b0b9e5b631" name="a8667f9e97c76098c9a0b95b0b9e5b631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8667f9e97c76098c9a0b95b0b9e5b631">&#9670;&#160;</a></span>test_partial_fit_equal_fit_oneclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_partial_fit_equal_fit_oneclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1501</span><span class="keyword">def </span>test_partial_fit_equal_fit_oneclass(klass, lr):</div>
<div class="line"><span class="lineno"> 1502</span>    clf = klass(nu=0.05, max_iter=2, eta0=0.01, learning_rate=lr, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1503</span>    clf.fit(X)</div>
<div class="line"><span class="lineno"> 1504</span>    y_scores = clf.decision_function(T)</div>
<div class="line"><span class="lineno"> 1505</span>    t = clf.t_</div>
<div class="line"><span class="lineno"> 1506</span>    coef = clf.coef_</div>
<div class="line"><span class="lineno"> 1507</span>    offset = clf.offset_</div>
<div class="line"><span class="lineno"> 1508</span> </div>
<div class="line"><span class="lineno"> 1509</span>    clf = klass(nu=0.05, eta0=0.01, max_iter=1, learning_rate=lr, shuffle=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1510</span>    <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(2):</div>
<div class="line"><span class="lineno"> 1511</span>        clf.partial_fit(X)</div>
<div class="line"><span class="lineno"> 1512</span>    y_scores2 = clf.decision_function(T)</div>
<div class="line"><span class="lineno"> 1513</span> </div>
<div class="line"><span class="lineno"> 1514</span>    <span class="keyword">assert</span> clf.t_ == t</div>
<div class="line"><span class="lineno"> 1515</span>    assert_allclose(y_scores, y_scores2)</div>
<div class="line"><span class="lineno"> 1516</span>    assert_allclose(clf.coef_, coef)</div>
<div class="line"><span class="lineno"> 1517</span>    assert_allclose(clf.offset_, offset)</div>
<div class="line"><span class="lineno"> 1518</span> </div>
<div class="line"><span class="lineno"> 1519</span> </div>
<div class="line"><span class="lineno"> 1520</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDOneClassSVM, SparseSGDOneClassSVM])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c258508fc082590cc6d9ac97feecc9e" name="a9c258508fc082590cc6d9ac97feecc9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c258508fc082590cc6d9ac97feecc9e">&#9670;&#160;</a></span>test_partial_fit_exception()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_partial_fit_exception </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  984</span><span class="keyword">def </span>test_partial_fit_exception(klass):</div>
<div class="line"><span class="lineno">  985</span>    clf = klass(alpha=0.01)</div>
<div class="line"><span class="lineno">  986</span>    <span class="comment"># classes was not specified</span></div>
<div class="line"><span class="lineno">  987</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  988</span>        clf.partial_fit(X3, Y3)</div>
<div class="line"><span class="lineno">  989</span> </div>
<div class="line"><span class="lineno">  990</span> </div>
<div class="line"><span class="lineno">  991</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a79e300dacf1d7fce5e5b01dcb300e1d5" name="a79e300dacf1d7fce5e5b01dcb300e1d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79e300dacf1d7fce5e5b01dcb300e1d5">&#9670;&#160;</a></span>test_partial_fit_multiclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_partial_fit_multiclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1013</span><span class="keyword">def </span>test_partial_fit_multiclass(klass):</div>
<div class="line"><span class="lineno"> 1014</span>    third = X2.shape[0] // 3</div>
<div class="line"><span class="lineno"> 1015</span>    clf = klass(alpha=0.01)</div>
<div class="line"><span class="lineno"> 1016</span>    classes = np.unique(Y2)</div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span>    clf.partial_fit(X2[:third], Y2[:third], classes=classes)</div>
<div class="line"><span class="lineno"> 1019</span>    <span class="keyword">assert</span> clf.coef_.shape == (3, X2.shape[1])</div>
<div class="line"><span class="lineno"> 1020</span>    <span class="keyword">assert</span> clf.intercept_.shape == (3,)</div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keyword">assert</span> clf.decision_function([[0, 0]]).shape == (1, 3)</div>
<div class="line"><span class="lineno"> 1022</span>    id1 = id(clf.coef_.data)</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>    clf.partial_fit(X2[third:], Y2[third:])</div>
<div class="line"><span class="lineno"> 1025</span>    id2 = id(clf.coef_.data)</div>
<div class="line"><span class="lineno"> 1026</span>    <span class="comment"># check that coef_ haven&#39;t been re-allocated</span></div>
<div class="line"><span class="lineno"> 1027</span>    <span class="keyword">assert</span> id1, id2</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span> </div>
<div class="line"><span class="lineno"> 1030</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a69f5c768f46d74429b60c1dbd368064e" name="a69f5c768f46d74429b60c1dbd368064e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69f5c768f46d74429b60c1dbd368064e">&#9670;&#160;</a></span>test_partial_fit_multiclass_average()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_partial_fit_multiclass_average </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1031</span><span class="keyword">def </span>test_partial_fit_multiclass_average(klass):</div>
<div class="line"><span class="lineno"> 1032</span>    third = X2.shape[0] // 3</div>
<div class="line"><span class="lineno"> 1033</span>    clf = klass(alpha=0.01, average=X2.shape[0])</div>
<div class="line"><span class="lineno"> 1034</span>    classes = np.unique(Y2)</div>
<div class="line"><span class="lineno"> 1035</span> </div>
<div class="line"><span class="lineno"> 1036</span>    clf.partial_fit(X2[:third], Y2[:third], classes=classes)</div>
<div class="line"><span class="lineno"> 1037</span>    <span class="keyword">assert</span> clf.coef_.shape == (3, X2.shape[1])</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="keyword">assert</span> clf.intercept_.shape == (3,)</div>
<div class="line"><span class="lineno"> 1039</span> </div>
<div class="line"><span class="lineno"> 1040</span>    clf.partial_fit(X2[third:], Y2[third:])</div>
<div class="line"><span class="lineno"> 1041</span>    <span class="keyword">assert</span> clf.coef_.shape == (3, X2.shape[1])</div>
<div class="line"><span class="lineno"> 1042</span>    <span class="keyword">assert</span> clf.intercept_.shape == (3,)</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span> </div>
<div class="line"><span class="lineno"> 1045</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a235b399d5eb9389bb2176340f4d3ab" name="a7a235b399d5eb9389bb2176340f4d3ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a235b399d5eb9389bb2176340f4d3ab">&#9670;&#160;</a></span>test_partial_fit_oneclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_partial_fit_oneclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1480</span><span class="keyword">def </span>test_partial_fit_oneclass(klass):</div>
<div class="line"><span class="lineno"> 1481</span>    third = X.shape[0] // 3</div>
<div class="line"><span class="lineno"> 1482</span>    clf = klass(nu=0.1)</div>
<div class="line"><span class="lineno"> 1483</span> </div>
<div class="line"><span class="lineno"> 1484</span>    clf.partial_fit(X[:third])</div>
<div class="line"><span class="lineno"> 1485</span>    <span class="keyword">assert</span> clf.coef_.shape == (X.shape[1],)</div>
<div class="line"><span class="lineno"> 1486</span>    <span class="keyword">assert</span> clf.offset_.shape == (1,)</div>
<div class="line"><span class="lineno"> 1487</span>    <span class="keyword">assert</span> clf.predict([[0, 0]]).shape == (1,)</div>
<div class="line"><span class="lineno"> 1488</span>    previous_coefs = clf.coef_</div>
<div class="line"><span class="lineno"> 1489</span> </div>
<div class="line"><span class="lineno"> 1490</span>    clf.partial_fit(X[third:])</div>
<div class="line"><span class="lineno"> 1491</span>    <span class="comment"># check that coef_ haven&#39;t been re-allocated</span></div>
<div class="line"><span class="lineno"> 1492</span>    <span class="keyword">assert</span> clf.coef_ <span class="keywordflow">is</span> previous_coefs</div>
<div class="line"><span class="lineno"> 1493</span> </div>
<div class="line"><span class="lineno"> 1494</span>    <span class="comment"># raises ValueError if number of features does not match previous data</span></div>
<div class="line"><span class="lineno"> 1495</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 1496</span>        clf.partial_fit(X[:, 1])</div>
<div class="line"><span class="lineno"> 1497</span> </div>
<div class="line"><span class="lineno"> 1498</span> </div>
<div class="line"><span class="lineno"> 1499</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDOneClassSVM, SparseSGDOneClassSVM])</span></div>
<div class="line"><span class="lineno"> 1500</span><span class="preprocessor">@pytest.mark.parametrize(&quot;lr&quot;, [&quot;constant&quot;, &quot;optimal&quot;, &quot;invscaling&quot;, &quot;adaptive&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4c1c5b31ac91788c3ab28ad65528f97" name="ac4c1c5b31ac91788c3ab28ad65528f97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c1c5b31ac91788c3ab28ad65528f97">&#9670;&#160;</a></span>test_partial_fit_weight_class_balanced()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_partial_fit_weight_class_balanced </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  612</span><span class="keyword">def </span>test_partial_fit_weight_class_balanced(klass):</div>
<div class="line"><span class="lineno">  613</span>    <span class="comment"># partial_fit with class_weight=&#39;balanced&#39; not supported&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  614</span>    regex = (</div>
<div class="line"><span class="lineno">  615</span>        <span class="stringliteral">r&quot;class_weight &#39;balanced&#39; is not supported for &quot;</span></div>
<div class="line"><span class="lineno">  616</span>        <span class="stringliteral">r&quot;partial_fit\. In order to use &#39;balanced&#39; weights, &quot;</span></div>
<div class="line"><span class="lineno">  617</span>        <span class="stringliteral">r&quot;use compute_class_weight\&zwj;(&#39;balanced&#39;, classes=classes, y=y\&zwj;). &quot;</span></div>
<div class="line"><span class="lineno">  618</span>        <span class="stringliteral">r&quot;In place of y you can use a large enough sample &quot;</span></div>
<div class="line"><span class="lineno">  619</span>        <span class="stringliteral">r&quot;of the full training set target to properly &quot;</span></div>
<div class="line"><span class="lineno">  620</span>        <span class="stringliteral">r&quot;estimate the class frequency distributions\. &quot;</span></div>
<div class="line"><span class="lineno">  621</span>        <span class="stringliteral">r&quot;Pass the resulting weights as the class_weight &quot;</span></div>
<div class="line"><span class="lineno">  622</span>        <span class="stringliteral">r&quot;parameter\.&quot;</span></div>
<div class="line"><span class="lineno">  623</span>    )</div>
<div class="line"><span class="lineno">  624</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=regex):</div>
<div class="line"><span class="lineno">  625</span>        klass(class_weight=<span class="stringliteral">&quot;balanced&quot;</span>).partial_fit(X, Y, classes=np.unique(Y))</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a282859540e5e801b0ff0abd29b293111" name="a282859540e5e801b0ff0abd29b293111"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a282859540e5e801b0ff0abd29b293111">&#9670;&#160;</a></span>test_plain_has_no_average_attr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_plain_has_no_average_attr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  292</span><span class="keyword">def </span>test_plain_has_no_average_attr(klass):</div>
<div class="line"><span class="lineno">  293</span>    clf = klass(average=<span class="keyword">True</span>, eta0=0.01)</div>
<div class="line"><span class="lineno">  294</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    <span class="keyword">assert</span> hasattr(clf, <span class="stringliteral">&quot;_average_coef&quot;</span>)</div>
<div class="line"><span class="lineno">  297</span>    <span class="keyword">assert</span> hasattr(clf, <span class="stringliteral">&quot;_average_intercept&quot;</span>)</div>
<div class="line"><span class="lineno">  298</span>    <span class="keyword">assert</span> hasattr(clf, <span class="stringliteral">&quot;_standard_intercept&quot;</span>)</div>
<div class="line"><span class="lineno">  299</span>    <span class="keyword">assert</span> hasattr(clf, <span class="stringliteral">&quot;_standard_coef&quot;</span>)</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    clf = klass()</div>
<div class="line"><span class="lineno">  302</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> hasattr(clf, <span class="stringliteral">&quot;_average_coef&quot;</span>)</div>
<div class="line"><span class="lineno">  305</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> hasattr(clf, <span class="stringliteral">&quot;_average_intercept&quot;</span>)</div>
<div class="line"><span class="lineno">  306</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> hasattr(clf, <span class="stringliteral">&quot;_standard_intercept&quot;</span>)</div>
<div class="line"><span class="lineno">  307</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> hasattr(clf, <span class="stringliteral">&quot;_standard_coef&quot;</span>)</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  311</span>    <span class="stringliteral">&quot;klass&quot;</span>,</div>
<div class="line"><span class="lineno">  312</span>    [</div>
<div class="line"><span class="lineno">  313</span>        SGDClassifier,</div>
<div class="line"><span class="lineno">  314</span>        SparseSGDClassifier,</div>
<div class="line"><span class="lineno">  315</span>        SGDRegressor,</div>
<div class="line"><span class="lineno">  316</span>        SparseSGDRegressor,</div>
<div class="line"><span class="lineno">  317</span>        SGDOneClassSVM,</div>
<div class="line"><span class="lineno">  318</span>        SparseSGDOneClassSVM,</div>
<div class="line"><span class="lineno">  319</span>    ],</div>
<div class="line"><span class="lineno">  320</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a21ff87b3ebaa0820f1b07a27bd2634" name="a7a21ff87b3ebaa0820f1b07a27bd2634"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a21ff87b3ebaa0820f1b07a27bd2634">&#9670;&#160;</a></span>test_provide_coef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_provide_coef </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that the shape of `coef_init` is validated.</pre> <div class="fragment"><div class="line"><span class="lineno">  510</span><span class="keyword">def </span>test_provide_coef(klass):</div>
<div class="line"><span class="lineno">  511</span>    <span class="stringliteral">&quot;&quot;&quot;Check that the shape of `coef_init` is validated.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  512</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Provided coef_init does not match dataset&quot;</span>):</div>
<div class="line"><span class="lineno">  513</span>        klass().fit(X, Y, coef_init=np.zeros((3,)))</div>
<div class="line"><span class="lineno">  514</span> </div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  517</span>    <span class="stringliteral">&quot;klass, fit_params&quot;</span>,</div>
<div class="line"><span class="lineno">  518</span>    [</div>
<div class="line"><span class="lineno">  519</span>        (SGDClassifier, {<span class="stringliteral">&quot;intercept_init&quot;</span>: np.zeros((3,))}),</div>
<div class="line"><span class="lineno">  520</span>        (SparseSGDClassifier, {<span class="stringliteral">&quot;intercept_init&quot;</span>: np.zeros((3,))}),</div>
<div class="line"><span class="lineno">  521</span>        (SGDOneClassSVM, {<span class="stringliteral">&quot;offset_init&quot;</span>: np.zeros((3,))}),</div>
<div class="line"><span class="lineno">  522</span>        (SparseSGDOneClassSVM, {<span class="stringliteral">&quot;offset_init&quot;</span>: np.zeros((3,))}),</div>
<div class="line"><span class="lineno">  523</span>    ],</div>
<div class="line"><span class="lineno">  524</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a634c38b7b0d5a21fdd90e669f57603d8" name="a634c38b7b0d5a21fdd90e669f57603d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a634c38b7b0d5a21fdd90e669f57603d8">&#9670;&#160;</a></span>test_regression_losses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_regression_losses </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1075</span><span class="keyword">def </span>test_regression_losses(klass):</div>
<div class="line"><span class="lineno"> 1076</span>    random_state = np.random.RandomState(1)</div>
<div class="line"><span class="lineno"> 1077</span>    clf = klass(</div>
<div class="line"><span class="lineno"> 1078</span>        alpha=0.01,</div>
<div class="line"><span class="lineno"> 1079</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno"> 1080</span>        eta0=0.1,</div>
<div class="line"><span class="lineno"> 1081</span>        loss=<span class="stringliteral">&quot;epsilon_insensitive&quot;</span>,</div>
<div class="line"><span class="lineno"> 1082</span>        random_state=random_state,</div>
<div class="line"><span class="lineno"> 1083</span>    )</div>
<div class="line"><span class="lineno"> 1084</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno"> 1085</span>    <span class="keyword">assert</span> 1.0 == np.mean(clf.predict(X) == Y)</div>
<div class="line"><span class="lineno"> 1086</span> </div>
<div class="line"><span class="lineno"> 1087</span>    clf = klass(</div>
<div class="line"><span class="lineno"> 1088</span>        alpha=0.01,</div>
<div class="line"><span class="lineno"> 1089</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno"> 1090</span>        eta0=0.1,</div>
<div class="line"><span class="lineno"> 1091</span>        loss=<span class="stringliteral">&quot;squared_epsilon_insensitive&quot;</span>,</div>
<div class="line"><span class="lineno"> 1092</span>        random_state=random_state,</div>
<div class="line"><span class="lineno"> 1093</span>    )</div>
<div class="line"><span class="lineno"> 1094</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno"> 1095</span>    <span class="keyword">assert</span> 1.0 == np.mean(clf.predict(X) == Y)</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>    clf = klass(alpha=0.01, loss=<span class="stringliteral">&quot;huber&quot;</span>, random_state=random_state)</div>
<div class="line"><span class="lineno"> 1098</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno"> 1099</span>    <span class="keyword">assert</span> 1.0 == np.mean(clf.predict(X) == Y)</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span>    clf = klass(</div>
<div class="line"><span class="lineno"> 1102</span>        alpha=0.01,</div>
<div class="line"><span class="lineno"> 1103</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno"> 1104</span>        eta0=0.01,</div>
<div class="line"><span class="lineno"> 1105</span>        loss=<span class="stringliteral">&quot;squared_error&quot;</span>,</div>
<div class="line"><span class="lineno"> 1106</span>        random_state=random_state,</div>
<div class="line"><span class="lineno"> 1107</span>    )</div>
<div class="line"><span class="lineno"> 1108</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno"> 1109</span>    <span class="keyword">assert</span> 1.0 == np.mean(clf.predict(X) == Y)</div>
<div class="line"><span class="lineno"> 1110</span> </div>
<div class="line"><span class="lineno"> 1111</span> </div>
<div class="line"><span class="lineno"> 1112</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84b8184de26fed23f9bad8c862ba3350" name="a84b8184de26fed23f9bad8c862ba3350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84b8184de26fed23f9bad8c862ba3350">&#9670;&#160;</a></span>test_sample_weights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sample_weights </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  952</span><span class="keyword">def </span>test_sample_weights(klass):</div>
<div class="line"><span class="lineno">  953</span>    <span class="comment"># Test weights on individual samples</span></div>
<div class="line"><span class="lineno">  954</span>    X = np.array([[-1.0, -1.0], [-1.0, 0], [-0.8, -1.0], [1.0, 1.0], [1.0, 0.0]])</div>
<div class="line"><span class="lineno">  955</span>    y = [1, 1, 1, -1, -1]</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span>    clf = klass(alpha=0.1, max_iter=1000, fit_intercept=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  958</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno">  959</span>    assert_array_equal(clf.predict([[0.2, -1.0]]), np.array([1]))</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>    <span class="comment"># we give a small weights to class 1</span></div>
<div class="line"><span class="lineno">  962</span>    clf.fit(X, y, sample_weight=[0.001] * 3 + [1] * 2)</div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>    <span class="comment"># now the hyperplane should rotate clock-wise and</span></div>
<div class="line"><span class="lineno">  965</span>    <span class="comment"># the prediction on this point should shift</span></div>
<div class="line"><span class="lineno">  966</span>    assert_array_equal(clf.predict([[0.2, -1.0]]), np.array([-1]))</div>
<div class="line"><span class="lineno">  967</span> </div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  970</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDOneClassSVM, SparseSGDOneClassSVM]</div>
<div class="line"><span class="lineno">  971</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d170a60ba69411cf07fd9479598f409" name="a8d170a60ba69411cf07fd9479598f409"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d170a60ba69411cf07fd9479598f409">&#9670;&#160;</a></span>test_set_coef_multiclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_set_coef_multiclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  690</span><span class="keyword">def </span>test_set_coef_multiclass(klass):</div>
<div class="line"><span class="lineno">  691</span>    <span class="comment"># Checks coef_init and intercept_init shape for multi-class</span></div>
<div class="line"><span class="lineno">  692</span>    <span class="comment"># problems</span></div>
<div class="line"><span class="lineno">  693</span>    <span class="comment"># Provided coef_ does not match dataset</span></div>
<div class="line"><span class="lineno">  694</span>    clf = klass()</div>
<div class="line"><span class="lineno">  695</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  696</span>        clf.fit(X2, Y2, coef_init=np.zeros((2, 2)))</div>
<div class="line"><span class="lineno">  697</span> </div>
<div class="line"><span class="lineno">  698</span>    <span class="comment"># Provided coef_ does match dataset</span></div>
<div class="line"><span class="lineno">  699</span>    clf = klass().fit(X2, Y2, coef_init=np.zeros((3, 2)))</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>    <span class="comment"># Provided intercept_ does not match dataset</span></div>
<div class="line"><span class="lineno">  702</span>    clf = klass()</div>
<div class="line"><span class="lineno">  703</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  704</span>        clf.fit(X2, Y2, intercept_init=np.zeros((1,)))</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>    <span class="comment"># Provided intercept_ does match dataset.</span></div>
<div class="line"><span class="lineno">  707</span>    clf = klass().fit(X2, Y2, intercept_init=np.zeros((3,)))</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a76bb64bebf3f2d0f909ca16d81735b6c" name="a76bb64bebf3f2d0f909ca16d81735b6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76bb64bebf3f2d0f909ca16d81735b6c">&#9670;&#160;</a></span>test_set_intercept_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_set_intercept_offset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fit_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that `intercept_init` or `offset_init` is validated.</pre> <div class="fragment"><div class="line"><span class="lineno">  525</span><span class="keyword">def </span>test_set_intercept_offset(klass, fit_params):</div>
<div class="line"><span class="lineno">  526</span>    <span class="stringliteral">&quot;&quot;&quot;Check that `intercept_init` or `offset_init` is validated.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  527</span>    sgd_estimator = klass()</div>
<div class="line"><span class="lineno">  528</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;does not match dataset&quot;</span>):</div>
<div class="line"><span class="lineno">  529</span>        sgd_estimator.fit(X, Y, **fit_params)</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  533</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDRegressor, SparseSGDRegressor]</div>
<div class="line"><span class="lineno">  534</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a5110c3c96df109ef8bfc3dc735a644" name="a2a5110c3c96df109ef8bfc3dc735a644"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a5110c3c96df109ef8bfc3dc735a644">&#9670;&#160;</a></span>test_set_intercept_offset_binary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_set_intercept_offset_binary </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fit_params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that we can pass a scaler with binary classification to
`intercept_init` or `offset_init`.</pre> <div class="fragment"><div class="line"><span class="lineno">  553</span><span class="keyword">def </span>test_set_intercept_offset_binary(klass, fit_params):</div>
<div class="line"><span class="lineno">  554</span>    <span class="stringliteral">&quot;&quot;&quot;Check that we can pass a scaler with binary classification to</span></div>
<div class="line"><span class="lineno">  555</span><span class="stringliteral">    `intercept_init` or `offset_init`.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  556</span>    klass().fit(X5, Y5, **fit_params)</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a98a6d8c7fcc9020753656c46f51a93cd" name="a98a6d8c7fcc9020753656c46f51a93cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98a6d8c7fcc9020753656c46f51a93cd">&#9670;&#160;</a></span>test_set_intercept_to_intercept()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_set_intercept_to_intercept </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  594</span><span class="keyword">def </span>test_set_intercept_to_intercept(klass):</div>
<div class="line"><span class="lineno">  595</span>    <span class="comment"># Checks intercept_ shape consistency for the warm starts</span></div>
<div class="line"><span class="lineno">  596</span>    <span class="comment"># Inconsistent intercept_ shape.</span></div>
<div class="line"><span class="lineno">  597</span>    clf = klass().fit(X5, Y5)</div>
<div class="line"><span class="lineno">  598</span>    klass().fit(X5, Y5, intercept_init=clf.intercept_)</div>
<div class="line"><span class="lineno">  599</span>    clf = klass().fit(X, Y)</div>
<div class="line"><span class="lineno">  600</span>    klass().fit(X, Y, intercept_init=clf.intercept_)</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae632822f4ce5405cab2808193f7b8cf3" name="ae632822f4ce5405cab2808193f7b8cf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae632822f4ce5405cab2808193f7b8cf3">&#9670;&#160;</a></span>test_sgd_at_least_two_labels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_at_least_two_labels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  604</span><span class="keyword">def </span>test_sgd_at_least_two_labels(klass):</div>
<div class="line"><span class="lineno">  605</span>    <span class="comment"># Target must have at least two labels</span></div>
<div class="line"><span class="lineno">  606</span>    clf = klass(alpha=0.01, max_iter=20)</div>
<div class="line"><span class="lineno">  607</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  608</span>        clf.fit(X2, np.ones(9))</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7eb44a5d978c625c2c304797171d499d" name="a7eb44a5d978c625c2c304797171d499d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eb44a5d978c625c2c304797171d499d">&#9670;&#160;</a></span>test_sgd_averaged_computed_correctly()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_averaged_computed_correctly </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1142</span><span class="keyword">def </span>test_sgd_averaged_computed_correctly(klass):</div>
<div class="line"><span class="lineno"> 1143</span>    <span class="comment"># Tests the average regressor matches the naive implementation</span></div>
<div class="line"><span class="lineno"> 1144</span> </div>
<div class="line"><span class="lineno"> 1145</span>    eta = 0.001</div>
<div class="line"><span class="lineno"> 1146</span>    alpha = 0.01</div>
<div class="line"><span class="lineno"> 1147</span>    n_samples = 20</div>
<div class="line"><span class="lineno"> 1148</span>    n_features = 10</div>
<div class="line"><span class="lineno"> 1149</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1150</span>    X = rng.normal(size=(n_samples, n_features))</div>
<div class="line"><span class="lineno"> 1151</span>    w = rng.normal(size=n_features)</div>
<div class="line"><span class="lineno"> 1152</span> </div>
<div class="line"><span class="lineno"> 1153</span>    <span class="comment"># simple linear function without noise</span></div>
<div class="line"><span class="lineno"> 1154</span>    y = np.dot(X, w)</div>
<div class="line"><span class="lineno"> 1155</span> </div>
<div class="line"><span class="lineno"> 1156</span>    clf = klass(</div>
<div class="line"><span class="lineno"> 1157</span>        loss=<span class="stringliteral">&quot;squared_error&quot;</span>,</div>
<div class="line"><span class="lineno"> 1158</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno"> 1159</span>        eta0=eta,</div>
<div class="line"><span class="lineno"> 1160</span>        alpha=alpha,</div>
<div class="line"><span class="lineno"> 1161</span>        fit_intercept=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1162</span>        max_iter=1,</div>
<div class="line"><span class="lineno"> 1163</span>        average=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1164</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1165</span>    )</div>
<div class="line"><span class="lineno"> 1166</span> </div>
<div class="line"><span class="lineno"> 1167</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno"> 1168</span>    average_weights, average_intercept = asgd(klass, X, y, eta, alpha)</div>
<div class="line"><span class="lineno"> 1169</span> </div>
<div class="line"><span class="lineno"> 1170</span>    assert_array_almost_equal(clf.coef_, average_weights, decimal=16)</div>
<div class="line"><span class="lineno"> 1171</span>    assert_almost_equal(clf.intercept_, average_intercept, decimal=16)</div>
<div class="line"><span class="lineno"> 1172</span> </div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDRegressor, SparseSGDRegressor])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ba2be433318e5f5a066539a30c4d31d" name="a3ba2be433318e5f5a066539a30c4d31d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ba2be433318e5f5a066539a30c4d31d">&#9670;&#160;</a></span>test_sgd_averaged_computed_correctly_oneclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_averaged_computed_correctly_oneclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1549</span><span class="keyword">def </span>test_sgd_averaged_computed_correctly_oneclass(klass):</div>
<div class="line"><span class="lineno"> 1550</span>    <span class="comment"># Tests the average SGD One-Class SVM matches the naive implementation</span></div>
<div class="line"><span class="lineno"> 1551</span>    eta = 0.001</div>
<div class="line"><span class="lineno"> 1552</span>    nu = 0.05</div>
<div class="line"><span class="lineno"> 1553</span>    n_samples = 20</div>
<div class="line"><span class="lineno"> 1554</span>    n_features = 10</div>
<div class="line"><span class="lineno"> 1555</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1556</span>    X = rng.normal(size=(n_samples, n_features))</div>
<div class="line"><span class="lineno"> 1557</span> </div>
<div class="line"><span class="lineno"> 1558</span>    clf = klass(</div>
<div class="line"><span class="lineno"> 1559</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno"> 1560</span>        eta0=eta,</div>
<div class="line"><span class="lineno"> 1561</span>        nu=nu,</div>
<div class="line"><span class="lineno"> 1562</span>        fit_intercept=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1563</span>        max_iter=1,</div>
<div class="line"><span class="lineno"> 1564</span>        average=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1565</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1566</span>    )</div>
<div class="line"><span class="lineno"> 1567</span> </div>
<div class="line"><span class="lineno"> 1568</span>    clf.fit(X)</div>
<div class="line"><span class="lineno"> 1569</span>    average_coef, average_offset = asgd_oneclass(klass, X, eta, nu)</div>
<div class="line"><span class="lineno"> 1570</span> </div>
<div class="line"><span class="lineno"> 1571</span>    assert_allclose(clf.coef_, average_coef)</div>
<div class="line"><span class="lineno"> 1572</span>    assert_allclose(clf.offset_, average_offset)</div>
<div class="line"><span class="lineno"> 1573</span> </div>
<div class="line"><span class="lineno"> 1574</span> </div>
<div class="line"><span class="lineno"> 1575</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDOneClassSVM, SparseSGDOneClassSVM])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3aca8a1222a9c4e74fd69a114839e73" name="aa3aca8a1222a9c4e74fd69a114839e73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3aca8a1222a9c4e74fd69a114839e73">&#9670;&#160;</a></span>test_sgd_averaged_partial_fit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_averaged_partial_fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1175</span><span class="keyword">def </span>test_sgd_averaged_partial_fit(klass):</div>
<div class="line"><span class="lineno"> 1176</span>    <span class="comment"># Tests whether the partial fit yields the same average as the fit</span></div>
<div class="line"><span class="lineno"> 1177</span>    eta = 0.001</div>
<div class="line"><span class="lineno"> 1178</span>    alpha = 0.01</div>
<div class="line"><span class="lineno"> 1179</span>    n_samples = 20</div>
<div class="line"><span class="lineno"> 1180</span>    n_features = 10</div>
<div class="line"><span class="lineno"> 1181</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1182</span>    X = rng.normal(size=(n_samples, n_features))</div>
<div class="line"><span class="lineno"> 1183</span>    w = rng.normal(size=n_features)</div>
<div class="line"><span class="lineno"> 1184</span> </div>
<div class="line"><span class="lineno"> 1185</span>    <span class="comment"># simple linear function without noise</span></div>
<div class="line"><span class="lineno"> 1186</span>    y = np.dot(X, w)</div>
<div class="line"><span class="lineno"> 1187</span> </div>
<div class="line"><span class="lineno"> 1188</span>    clf = klass(</div>
<div class="line"><span class="lineno"> 1189</span>        loss=<span class="stringliteral">&quot;squared_error&quot;</span>,</div>
<div class="line"><span class="lineno"> 1190</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno"> 1191</span>        eta0=eta,</div>
<div class="line"><span class="lineno"> 1192</span>        alpha=alpha,</div>
<div class="line"><span class="lineno"> 1193</span>        fit_intercept=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1194</span>        max_iter=1,</div>
<div class="line"><span class="lineno"> 1195</span>        average=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1196</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1197</span>    )</div>
<div class="line"><span class="lineno"> 1198</span> </div>
<div class="line"><span class="lineno"> 1199</span>    clf.partial_fit(X[: int(n_samples / 2)][:], y[: int(n_samples / 2)])</div>
<div class="line"><span class="lineno"> 1200</span>    clf.partial_fit(X[int(n_samples / 2) :][:], y[int(n_samples / 2) :])</div>
<div class="line"><span class="lineno"> 1201</span>    average_weights, average_intercept = asgd(klass, X, y, eta, alpha)</div>
<div class="line"><span class="lineno"> 1202</span> </div>
<div class="line"><span class="lineno"> 1203</span>    assert_array_almost_equal(clf.coef_, average_weights, decimal=16)</div>
<div class="line"><span class="lineno"> 1204</span>    assert_almost_equal(clf.intercept_[0], average_intercept, decimal=16)</div>
<div class="line"><span class="lineno"> 1205</span> </div>
<div class="line"><span class="lineno"> 1206</span> </div>
<div class="line"><span class="lineno"> 1207</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDRegressor, SparseSGDRegressor])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="afd2efced7db21c368ae5d22fd42b5e1c" name="afd2efced7db21c368ae5d22fd42b5e1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd2efced7db21c368ae5d22fd42b5e1c">&#9670;&#160;</a></span>test_sgd_averaged_partial_fit_oneclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_averaged_partial_fit_oneclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1576</span><span class="keyword">def </span>test_sgd_averaged_partial_fit_oneclass(klass):</div>
<div class="line"><span class="lineno"> 1577</span>    <span class="comment"># Tests whether the partial fit yields the same average as the fit</span></div>
<div class="line"><span class="lineno"> 1578</span>    eta = 0.001</div>
<div class="line"><span class="lineno"> 1579</span>    nu = 0.05</div>
<div class="line"><span class="lineno"> 1580</span>    n_samples = 20</div>
<div class="line"><span class="lineno"> 1581</span>    n_features = 10</div>
<div class="line"><span class="lineno"> 1582</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1583</span>    X = rng.normal(size=(n_samples, n_features))</div>
<div class="line"><span class="lineno"> 1584</span> </div>
<div class="line"><span class="lineno"> 1585</span>    clf = klass(</div>
<div class="line"><span class="lineno"> 1586</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno"> 1587</span>        eta0=eta,</div>
<div class="line"><span class="lineno"> 1588</span>        nu=nu,</div>
<div class="line"><span class="lineno"> 1589</span>        fit_intercept=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1590</span>        max_iter=1,</div>
<div class="line"><span class="lineno"> 1591</span>        average=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1592</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1593</span>    )</div>
<div class="line"><span class="lineno"> 1594</span> </div>
<div class="line"><span class="lineno"> 1595</span>    clf.partial_fit(X[: int(n_samples / 2)][:])</div>
<div class="line"><span class="lineno"> 1596</span>    clf.partial_fit(X[int(n_samples / 2) :][:])</div>
<div class="line"><span class="lineno"> 1597</span>    average_coef, average_offset = asgd_oneclass(klass, X, eta, nu)</div>
<div class="line"><span class="lineno"> 1598</span> </div>
<div class="line"><span class="lineno"> 1599</span>    assert_allclose(clf.coef_, average_coef)</div>
<div class="line"><span class="lineno"> 1600</span>    assert_allclose(clf.offset_, average_offset)</div>
<div class="line"><span class="lineno"> 1601</span> </div>
<div class="line"><span class="lineno"> 1602</span> </div>
<div class="line"><span class="lineno"> 1603</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDOneClassSVM, SparseSGDOneClassSVM])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeaa8fd93db051060abd0f6c270b08ed3" name="aeaa8fd93db051060abd0f6c270b08ed3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa8fd93db051060abd0f6c270b08ed3">&#9670;&#160;</a></span>test_sgd_clf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_clf </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Classification Test Case. </p>
<div class="fragment"><div class="line"><span class="lineno">  490</span><span class="keyword">def </span>test_sgd_clf(klass):</div>
<div class="line"><span class="lineno">  491</span>    <span class="comment"># Check that SGD gives any results :-)</span></div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>    <span class="keywordflow">for</span> loss <span class="keywordflow">in</span> (<span class="stringliteral">&quot;hinge&quot;</span>, <span class="stringliteral">&quot;squared_hinge&quot;</span>, <span class="stringliteral">&quot;log_loss&quot;</span>, <span class="stringliteral">&quot;modified_huber&quot;</span>):</div>
<div class="line"><span class="lineno">  494</span>        clf = klass(</div>
<div class="line"><span class="lineno">  495</span>            penalty=<span class="stringliteral">&quot;l2&quot;</span>,</div>
<div class="line"><span class="lineno">  496</span>            alpha=0.01,</div>
<div class="line"><span class="lineno">  497</span>            fit_intercept=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  498</span>            loss=loss,</div>
<div class="line"><span class="lineno">  499</span>            max_iter=10,</div>
<div class="line"><span class="lineno">  500</span>            shuffle=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  501</span>        )</div>
<div class="line"><span class="lineno">  502</span>        clf.fit(X, Y)</div>
<div class="line"><span class="lineno">  503</span>        <span class="comment"># assert_almost_equal(clf.coef_[0], clf.coef_[1], decimal=7)</span></div>
<div class="line"><span class="lineno">  504</span>        assert_array_equal(clf.predict(T), true_result)</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  508</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDOneClassSVM, SparseSGDOneClassSVM]</div>
<div class="line"><span class="lineno">  509</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a591851071d4826962b6d554303b53870" name="a591851071d4826962b6d554303b53870"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a591851071d4826962b6d554303b53870">&#9670;&#160;</a></span>test_sgd_early_stopping_with_partial_fit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_early_stopping_with_partial_fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that we raise an error for `early_stopping` used with
`partial_fit`.
</pre> <div class="fragment"><div class="line"><span class="lineno">  535</span><span class="keyword">def </span>test_sgd_early_stopping_with_partial_fit(klass):</div>
<div class="line"><span class="lineno">  536</span>    <span class="stringliteral">&quot;&quot;&quot;Check that we raise an error for `early_stopping` used with</span></div>
<div class="line"><span class="lineno">  537</span><span class="stringliteral">    `partial_fit`.</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  539</span>    err_msg = <span class="stringliteral">&quot;early_stopping should be False with partial_fit&quot;</span></div>
<div class="line"><span class="lineno">  540</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno">  541</span>        klass(early_stopping=<span class="keyword">True</span>).partial_fit(X, Y)</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  545</span>    <span class="stringliteral">&quot;klass, fit_params&quot;</span>,</div>
<div class="line"><span class="lineno">  546</span>    [</div>
<div class="line"><span class="lineno">  547</span>        (SGDClassifier, {<span class="stringliteral">&quot;intercept_init&quot;</span>: 0}),</div>
<div class="line"><span class="lineno">  548</span>        (SparseSGDClassifier, {<span class="stringliteral">&quot;intercept_init&quot;</span>: 0}),</div>
<div class="line"><span class="lineno">  549</span>        (SGDOneClassSVM, {<span class="stringliteral">&quot;offset_init&quot;</span>: 0}),</div>
<div class="line"><span class="lineno">  550</span>        (SparseSGDOneClassSVM, {<span class="stringliteral">&quot;offset_init&quot;</span>: 0}),</div>
<div class="line"><span class="lineno">  551</span>    ],</div>
<div class="line"><span class="lineno">  552</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa04771814b7b38f85125778497089565" name="aa04771814b7b38f85125778497089565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa04771814b7b38f85125778497089565">&#9670;&#160;</a></span>test_sgd_epsilon_insensitive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_epsilon_insensitive </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1259</span><span class="keyword">def </span>test_sgd_epsilon_insensitive(klass):</div>
<div class="line"><span class="lineno"> 1260</span>    xmin, xmax = -5, 5</div>
<div class="line"><span class="lineno"> 1261</span>    n_samples = 100</div>
<div class="line"><span class="lineno"> 1262</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1263</span>    X = np.linspace(xmin, xmax, n_samples).reshape(n_samples, 1)</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>    <span class="comment"># simple linear function without noise</span></div>
<div class="line"><span class="lineno"> 1266</span>    y = 0.5 * X.ravel()</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>    clf = klass(</div>
<div class="line"><span class="lineno"> 1269</span>        loss=<span class="stringliteral">&quot;epsilon_insensitive&quot;</span>,</div>
<div class="line"><span class="lineno"> 1270</span>        epsilon=0.01,</div>
<div class="line"><span class="lineno"> 1271</span>        alpha=0.1,</div>
<div class="line"><span class="lineno"> 1272</span>        max_iter=20,</div>
<div class="line"><span class="lineno"> 1273</span>        fit_intercept=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1274</span>    )</div>
<div class="line"><span class="lineno"> 1275</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno"> 1276</span>    score = clf.score(X, y)</div>
<div class="line"><span class="lineno"> 1277</span>    <span class="keyword">assert</span> score &gt; 0.99</div>
<div class="line"><span class="lineno"> 1278</span> </div>
<div class="line"><span class="lineno"> 1279</span>    <span class="comment"># simple linear function with noise</span></div>
<div class="line"><span class="lineno"> 1280</span>    y = 0.5 * X.ravel() + rng.randn(n_samples, 1).ravel()</div>
<div class="line"><span class="lineno"> 1281</span> </div>
<div class="line"><span class="lineno"> 1282</span>    clf = klass(</div>
<div class="line"><span class="lineno"> 1283</span>        loss=<span class="stringliteral">&quot;epsilon_insensitive&quot;</span>,</div>
<div class="line"><span class="lineno"> 1284</span>        epsilon=0.01,</div>
<div class="line"><span class="lineno"> 1285</span>        alpha=0.1,</div>
<div class="line"><span class="lineno"> 1286</span>        max_iter=20,</div>
<div class="line"><span class="lineno"> 1287</span>        fit_intercept=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1288</span>    )</div>
<div class="line"><span class="lineno"> 1289</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno"> 1290</span>    score = clf.score(X, y)</div>
<div class="line"><span class="lineno"> 1291</span>    <span class="keyword">assert</span> score &gt; 0.5</div>
<div class="line"><span class="lineno"> 1292</span> </div>
<div class="line"><span class="lineno"> 1293</span> </div>
<div class="line"><span class="lineno"> 1294</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDRegressor, SparseSGDRegressor])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a137369febc694dc19db58ecfdbbf20" name="a7a137369febc694dc19db58ecfdbbf20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a137369febc694dc19db58ecfdbbf20">&#9670;&#160;</a></span>test_sgd_error_on_zero_validation_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_error_on_zero_validation_weight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2148</span><span class="keyword">def </span>test_sgd_error_on_zero_validation_weight():</div>
<div class="line"><span class="lineno"> 2149</span>    <span class="comment"># Test that SGDClassifier raises error when all the validation samples</span></div>
<div class="line"><span class="lineno"> 2150</span>    <span class="comment"># have zero sample_weight. Non-regression test for #17229.</span></div>
<div class="line"><span class="lineno"> 2151</span>    X, Y = iris.data, iris.target</div>
<div class="line"><span class="lineno"> 2152</span>    sample_weight = np.zeros_like(Y)</div>
<div class="line"><span class="lineno"> 2153</span>    validation_fraction = 0.4</div>
<div class="line"><span class="lineno"> 2154</span> </div>
<div class="line"><span class="lineno"> 2155</span>    clf = linear_model.SGDClassifier(</div>
<div class="line"><span class="lineno"> 2156</span>        early_stopping=<span class="keyword">True</span>, validation_fraction=validation_fraction, random_state=0</div>
<div class="line"><span class="lineno"> 2157</span>    )</div>
<div class="line"><span class="lineno"> 2158</span> </div>
<div class="line"><span class="lineno"> 2159</span>    error_message = (</div>
<div class="line"><span class="lineno"> 2160</span>        <span class="stringliteral">&quot;The sample weights for validation set are all zero, consider using a&quot;</span></div>
<div class="line"><span class="lineno"> 2161</span>        <span class="stringliteral">&quot; different random state.&quot;</span></div>
<div class="line"><span class="lineno"> 2162</span>    )</div>
<div class="line"><span class="lineno"> 2163</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=error_message):</div>
<div class="line"><span class="lineno"> 2164</span>        clf.fit(X, Y, sample_weight=sample_weight)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a66f1192285d30ddd2e04abfa0f4665aa" name="a66f1192285d30ddd2e04abfa0f4665aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66f1192285d30ddd2e04abfa0f4665aa">&#9670;&#160;</a></span>test_sgd_huber_fit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_huber_fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1295</span><span class="keyword">def </span>test_sgd_huber_fit(klass):</div>
<div class="line"><span class="lineno"> 1296</span>    xmin, xmax = -5, 5</div>
<div class="line"><span class="lineno"> 1297</span>    n_samples = 100</div>
<div class="line"><span class="lineno"> 1298</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1299</span>    X = np.linspace(xmin, xmax, n_samples).reshape(n_samples, 1)</div>
<div class="line"><span class="lineno"> 1300</span> </div>
<div class="line"><span class="lineno"> 1301</span>    <span class="comment"># simple linear function without noise</span></div>
<div class="line"><span class="lineno"> 1302</span>    y = 0.5 * X.ravel()</div>
<div class="line"><span class="lineno"> 1303</span> </div>
<div class="line"><span class="lineno"> 1304</span>    clf = klass(loss=<span class="stringliteral">&quot;huber&quot;</span>, epsilon=0.1, alpha=0.1, max_iter=20, fit_intercept=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1305</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno"> 1306</span>    score = clf.score(X, y)</div>
<div class="line"><span class="lineno"> 1307</span>    <span class="keyword">assert</span> score &gt; 0.99</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span>    <span class="comment"># simple linear function with noise</span></div>
<div class="line"><span class="lineno"> 1310</span>    y = 0.5 * X.ravel() + rng.randn(n_samples, 1).ravel()</div>
<div class="line"><span class="lineno"> 1311</span> </div>
<div class="line"><span class="lineno"> 1312</span>    clf = klass(loss=<span class="stringliteral">&quot;huber&quot;</span>, epsilon=0.1, alpha=0.1, max_iter=20, fit_intercept=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1313</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno"> 1314</span>    score = clf.score(X, y)</div>
<div class="line"><span class="lineno"> 1315</span>    <span class="keyword">assert</span> score &gt; 0.5</div>
<div class="line"><span class="lineno"> 1316</span> </div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDRegressor, SparseSGDRegressor])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0bcf94c684c9e70ffb058b5cbd14177b" name="a0bcf94c684c9e70ffb058b5cbd14177b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bcf94c684c9e70ffb058b5cbd14177b">&#9670;&#160;</a></span>test_sgd_l1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_l1 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  805</span><span class="keyword">def </span>test_sgd_l1(klass):</div>
<div class="line"><span class="lineno">  806</span>    <span class="comment"># Test L1 regularization</span></div>
<div class="line"><span class="lineno">  807</span>    n = len(X4)</div>
<div class="line"><span class="lineno">  808</span>    rng = np.random.RandomState(13)</div>
<div class="line"><span class="lineno">  809</span>    idx = np.arange(n)</div>
<div class="line"><span class="lineno">  810</span>    rng.shuffle(idx)</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>    X = X4[idx, :]</div>
<div class="line"><span class="lineno">  813</span>    Y = Y4[idx]</div>
<div class="line"><span class="lineno">  814</span> </div>
<div class="line"><span class="lineno">  815</span>    clf = klass(</div>
<div class="line"><span class="lineno">  816</span>        penalty=<span class="stringliteral">&quot;l1&quot;</span>,</div>
<div class="line"><span class="lineno">  817</span>        alpha=0.2,</div>
<div class="line"><span class="lineno">  818</span>        fit_intercept=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  819</span>        max_iter=2000,</div>
<div class="line"><span class="lineno">  820</span>        tol=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  821</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  822</span>    )</div>
<div class="line"><span class="lineno">  823</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno">  824</span>    assert_array_equal(clf.coef_[0, 1:-1], np.zeros((4,)))</div>
<div class="line"><span class="lineno">  825</span>    pred = clf.predict(X)</div>
<div class="line"><span class="lineno">  826</span>    assert_array_equal(pred, Y)</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>    <span class="comment"># test sparsify with dense inputs</span></div>
<div class="line"><span class="lineno">  829</span>    clf.sparsify()</div>
<div class="line"><span class="lineno">  830</span>    <span class="keyword">assert</span> sp.issparse(clf.coef_)</div>
<div class="line"><span class="lineno">  831</span>    pred = clf.predict(X)</div>
<div class="line"><span class="lineno">  832</span>    assert_array_equal(pred, Y)</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>    <span class="comment"># pickle and unpickle with sparse coef_</span></div>
<div class="line"><span class="lineno">  835</span>    clf = pickle.loads(pickle.dumps(clf))</div>
<div class="line"><span class="lineno">  836</span>    <span class="keyword">assert</span> sp.issparse(clf.coef_)</div>
<div class="line"><span class="lineno">  837</span>    pred = clf.predict(X)</div>
<div class="line"><span class="lineno">  838</span>    assert_array_equal(pred, Y)</div>
<div class="line"><span class="lineno">  839</span> </div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a763280da8ac38495cbbd002a62fbf851" name="a763280da8ac38495cbbd002a62fbf851"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a763280da8ac38495cbbd002a62fbf851">&#9670;&#160;</a></span>test_sgd_least_squares_fit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_least_squares_fit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1235</span><span class="keyword">def </span>test_sgd_least_squares_fit(klass):</div>
<div class="line"><span class="lineno"> 1236</span>    xmin, xmax = -5, 5</div>
<div class="line"><span class="lineno"> 1237</span>    n_samples = 100</div>
<div class="line"><span class="lineno"> 1238</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1239</span>    X = np.linspace(xmin, xmax, n_samples).reshape(n_samples, 1)</div>
<div class="line"><span class="lineno"> 1240</span> </div>
<div class="line"><span class="lineno"> 1241</span>    <span class="comment"># simple linear function without noise</span></div>
<div class="line"><span class="lineno"> 1242</span>    y = 0.5 * X.ravel()</div>
<div class="line"><span class="lineno"> 1243</span> </div>
<div class="line"><span class="lineno"> 1244</span>    clf = klass(loss=<span class="stringliteral">&quot;squared_error&quot;</span>, alpha=0.1, max_iter=20, fit_intercept=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1245</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno"> 1246</span>    score = clf.score(X, y)</div>
<div class="line"><span class="lineno"> 1247</span>    <span class="keyword">assert</span> score &gt; 0.99</div>
<div class="line"><span class="lineno"> 1248</span> </div>
<div class="line"><span class="lineno"> 1249</span>    <span class="comment"># simple linear function with noise</span></div>
<div class="line"><span class="lineno"> 1250</span>    y = 0.5 * X.ravel() + rng.randn(n_samples, 1).ravel()</div>
<div class="line"><span class="lineno"> 1251</span> </div>
<div class="line"><span class="lineno"> 1252</span>    clf = klass(loss=<span class="stringliteral">&quot;squared_error&quot;</span>, alpha=0.1, max_iter=20, fit_intercept=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1253</span>    clf.fit(X, y)</div>
<div class="line"><span class="lineno"> 1254</span>    score = clf.score(X, y)</div>
<div class="line"><span class="lineno"> 1255</span>    <span class="keyword">assert</span> score &gt; 0.5</div>
<div class="line"><span class="lineno"> 1256</span> </div>
<div class="line"><span class="lineno"> 1257</span> </div>
<div class="line"><span class="lineno"> 1258</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDRegressor, SparseSGDRegressor])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a63dcedfb27a4908e0bb4123ced91da11" name="a63dcedfb27a4908e0bb4123ced91da11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63dcedfb27a4908e0bb4123ced91da11">&#9670;&#160;</a></span>test_sgd_multiclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_multiclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  629</span><span class="keyword">def </span>test_sgd_multiclass(klass):</div>
<div class="line"><span class="lineno">  630</span>    <span class="comment"># Multi-class test case</span></div>
<div class="line"><span class="lineno">  631</span>    clf = klass(alpha=0.01, max_iter=20).fit(X2, Y2)</div>
<div class="line"><span class="lineno">  632</span>    <span class="keyword">assert</span> clf.coef_.shape == (3, 2)</div>
<div class="line"><span class="lineno">  633</span>    <span class="keyword">assert</span> clf.intercept_.shape == (3,)</div>
<div class="line"><span class="lineno">  634</span>    <span class="keyword">assert</span> clf.decision_function([[0, 0]]).shape == (1, 3)</div>
<div class="line"><span class="lineno">  635</span>    pred = clf.predict(T2)</div>
<div class="line"><span class="lineno">  636</span>    assert_array_equal(pred, true_result2)</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d69166669f729ae21e7076483571402" name="a1d69166669f729ae21e7076483571402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d69166669f729ae21e7076483571402">&#9670;&#160;</a></span>test_sgd_multiclass_average()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_multiclass_average </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  640</span><span class="keyword">def </span>test_sgd_multiclass_average(klass):</div>
<div class="line"><span class="lineno">  641</span>    eta = 0.001</div>
<div class="line"><span class="lineno">  642</span>    alpha = 0.01</div>
<div class="line"><span class="lineno">  643</span>    <span class="comment"># Multi-class average test case</span></div>
<div class="line"><span class="lineno">  644</span>    clf = klass(</div>
<div class="line"><span class="lineno">  645</span>        loss=<span class="stringliteral">&quot;squared_error&quot;</span>,</div>
<div class="line"><span class="lineno">  646</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno">  647</span>        eta0=eta,</div>
<div class="line"><span class="lineno">  648</span>        alpha=alpha,</div>
<div class="line"><span class="lineno">  649</span>        fit_intercept=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  650</span>        max_iter=1,</div>
<div class="line"><span class="lineno">  651</span>        average=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  652</span>        shuffle=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  653</span>    )</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>    np_Y2 = np.array(Y2)</div>
<div class="line"><span class="lineno">  656</span>    clf.fit(X2, np_Y2)</div>
<div class="line"><span class="lineno">  657</span>    classes = np.unique(np_Y2)</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>    <span class="keywordflow">for</span> i, cl <span class="keywordflow">in</span> enumerate(classes):</div>
<div class="line"><span class="lineno">  660</span>        y_i = np.ones(np_Y2.shape[0])</div>
<div class="line"><span class="lineno">  661</span>        y_i[np_Y2 != cl] = -1</div>
<div class="line"><span class="lineno">  662</span>        average_coef, average_intercept = asgd(klass, X2, y_i, eta, alpha)</div>
<div class="line"><span class="lineno">  663</span>        assert_array_almost_equal(average_coef, clf.coef_[i], decimal=16)</div>
<div class="line"><span class="lineno">  664</span>        assert_almost_equal(average_intercept, clf.intercept_[i], decimal=16)</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="abaeb2584f0fb0e4a98d0dae15768fb97" name="abaeb2584f0fb0e4a98d0dae15768fb97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaeb2584f0fb0e4a98d0dae15768fb97">&#9670;&#160;</a></span>test_sgd_multiclass_njobs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_multiclass_njobs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  679</span><span class="keyword">def </span>test_sgd_multiclass_njobs(klass):</div>
<div class="line"><span class="lineno">  680</span>    <span class="comment"># Multi-class test case with multi-core support</span></div>
<div class="line"><span class="lineno">  681</span>    clf = klass(alpha=0.01, max_iter=20, n_jobs=2).fit(X2, Y2)</div>
<div class="line"><span class="lineno">  682</span>    <span class="keyword">assert</span> clf.coef_.shape == (3, 2)</div>
<div class="line"><span class="lineno">  683</span>    <span class="keyword">assert</span> clf.intercept_.shape == (3,)</div>
<div class="line"><span class="lineno">  684</span>    <span class="keyword">assert</span> clf.decision_function([[0, 0]]).shape == (1, 3)</div>
<div class="line"><span class="lineno">  685</span>    pred = clf.predict(T2)</div>
<div class="line"><span class="lineno">  686</span>    assert_array_equal(pred, true_result2)</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2e0cc496c4c7ba20f360aaa421e18ad8" name="a2e0cc496c4c7ba20f360aaa421e18ad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e0cc496c4c7ba20f360aaa421e18ad8">&#9670;&#160;</a></span>test_sgd_multiclass_with_init_coef()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_multiclass_with_init_coef </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  668</span><span class="keyword">def </span>test_sgd_multiclass_with_init_coef(klass):</div>
<div class="line"><span class="lineno">  669</span>    <span class="comment"># Multi-class test case</span></div>
<div class="line"><span class="lineno">  670</span>    clf = klass(alpha=0.01, max_iter=20)</div>
<div class="line"><span class="lineno">  671</span>    clf.fit(X2, Y2, coef_init=np.zeros((3, 2)), intercept_init=np.zeros(3))</div>
<div class="line"><span class="lineno">  672</span>    <span class="keyword">assert</span> clf.coef_.shape == (3, 2)</div>
<div class="line"><span class="lineno">  673</span>    <span class="keyword">assert</span> clf.intercept_.shape, (3,)</div>
<div class="line"><span class="lineno">  674</span>    pred = clf.predict(T2)</div>
<div class="line"><span class="lineno">  675</span>    assert_array_equal(pred, true_result2)</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad16e1b3ccebb13f395179a2eb10bd790" name="ad16e1b3ccebb13f395179a2eb10bd790"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad16e1b3ccebb13f395179a2eb10bd790">&#9670;&#160;</a></span>test_sgd_oneclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_oneclass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1628</span><span class="keyword">def </span>test_sgd_oneclass():</div>
<div class="line"><span class="lineno"> 1629</span>    <span class="comment"># Test fit, decision_function, predict and score_samples on a toy</span></div>
<div class="line"><span class="lineno"> 1630</span>    <span class="comment"># dataset</span></div>
<div class="line"><span class="lineno"> 1631</span>    X_train = np.array([[-2, -1], [-1, -1], [1, 1]])</div>
<div class="line"><span class="lineno"> 1632</span>    X_test = np.array([[0.5, -2], [2, 2]])</div>
<div class="line"><span class="lineno"> 1633</span>    clf = SGDOneClassSVM(</div>
<div class="line"><span class="lineno"> 1634</span>        nu=0.5, eta0=1, learning_rate=<span class="stringliteral">&quot;constant&quot;</span>, shuffle=<span class="keyword">False</span>, max_iter=1</div>
<div class="line"><span class="lineno"> 1635</span>    )</div>
<div class="line"><span class="lineno"> 1636</span>    clf.fit(X_train)</div>
<div class="line"><span class="lineno"> 1637</span>    assert_allclose(clf.coef_, np.array([-0.125, 0.4375]))</div>
<div class="line"><span class="lineno"> 1638</span>    <span class="keyword">assert</span> clf.offset_[0] == -0.5</div>
<div class="line"><span class="lineno"> 1639</span> </div>
<div class="line"><span class="lineno"> 1640</span>    scores = clf.score_samples(X_test)</div>
<div class="line"><span class="lineno"> 1641</span>    assert_allclose(scores, np.array([-0.9375, 0.625]))</div>
<div class="line"><span class="lineno"> 1642</span> </div>
<div class="line"><span class="lineno"> 1643</span>    dec = clf.score_samples(X_test) - clf.offset_</div>
<div class="line"><span class="lineno"> 1644</span>    assert_allclose(clf.decision_function(X_test), dec)</div>
<div class="line"><span class="lineno"> 1645</span> </div>
<div class="line"><span class="lineno"> 1646</span>    pred = clf.predict(X_test)</div>
<div class="line"><span class="lineno"> 1647</span>    assert_array_equal(pred, np.array([-1, 1]))</div>
<div class="line"><span class="lineno"> 1648</span> </div>
<div class="line"><span class="lineno"> 1649</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aec3c8dfd57fe4df2534fa69dd2ebe052" name="aec3c8dfd57fe4df2534fa69dd2ebe052"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec3c8dfd57fe4df2534fa69dd2ebe052">&#9670;&#160;</a></span>test_sgd_predict_proba_method_access()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_predict_proba_method_access </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  711</span><span class="keyword">def </span>test_sgd_predict_proba_method_access(klass):</div>
<div class="line"><span class="lineno">  712</span>    <span class="comment"># Checks that SGDClassifier predict_proba and predict_log_proba methods</span></div>
<div class="line"><span class="lineno">  713</span>    <span class="comment"># can either be accessed or raise an appropriate error message</span></div>
<div class="line"><span class="lineno">  714</span>    <span class="comment"># otherwise. See</span></div>
<div class="line"><span class="lineno">  715</span>    <span class="comment"># https://github.com/scikit-learn/scikit-learn/issues/10938 for more</span></div>
<div class="line"><span class="lineno">  716</span>    <span class="comment"># details.</span></div>
<div class="line"><span class="lineno">  717</span>    <span class="keywordflow">for</span> loss <span class="keywordflow">in</span> linear_model.SGDClassifier.loss_functions:</div>
<div class="line"><span class="lineno">  718</span>        clf = SGDClassifier(loss=loss)</div>
<div class="line"><span class="lineno">  719</span>        <span class="comment"># TODO(1.3): Remove &quot;log&quot;</span></div>
<div class="line"><span class="lineno">  720</span>        <span class="keywordflow">if</span> loss <span class="keywordflow">in</span> (<span class="stringliteral">&quot;log_loss&quot;</span>, <span class="stringliteral">&quot;log&quot;</span>, <span class="stringliteral">&quot;modified_huber&quot;</span>):</div>
<div class="line"><span class="lineno">  721</span>            <span class="keyword">assert</span> hasattr(clf, <span class="stringliteral">&quot;predict_proba&quot;</span>)</div>
<div class="line"><span class="lineno">  722</span>            <span class="keyword">assert</span> hasattr(clf, <span class="stringliteral">&quot;predict_log_proba&quot;</span>)</div>
<div class="line"><span class="lineno">  723</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  724</span>            message = <span class="stringliteral">&quot;probability estimates are not available for loss={!r}&quot;</span>.format(</div>
<div class="line"><span class="lineno">  725</span>                loss</div>
<div class="line"><span class="lineno">  726</span>            )</div>
<div class="line"><span class="lineno">  727</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> hasattr(clf, <span class="stringliteral">&quot;predict_proba&quot;</span>)</div>
<div class="line"><span class="lineno">  728</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> hasattr(clf, <span class="stringliteral">&quot;predict_log_proba&quot;</span>)</div>
<div class="line"><span class="lineno">  729</span>            <span class="keyword">with</span> pytest.raises(AttributeError, match=message):</div>
<div class="line"><span class="lineno">  730</span>                clf.predict_proba</div>
<div class="line"><span class="lineno">  731</span>            <span class="keyword">with</span> pytest.raises(AttributeError, match=message):</div>
<div class="line"><span class="lineno">  732</span>                clf.predict_log_proba</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ad9a3bd02a0244c8b45643798f7c392" name="a7ad9a3bd02a0244c8b45643798f7c392"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ad9a3bd02a0244c8b45643798f7c392">&#9670;&#160;</a></span>test_sgd_proba()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_proba </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  736</span><span class="keyword">def </span>test_sgd_proba(klass):</div>
<div class="line"><span class="lineno">  737</span>    <span class="comment"># Check SGD.predict_proba</span></div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>    <span class="comment"># Hinge loss does not allow for conditional prob estimate.</span></div>
<div class="line"><span class="lineno">  740</span>    <span class="comment"># We cannot use the factory here, because it defines predict_proba</span></div>
<div class="line"><span class="lineno">  741</span>    <span class="comment"># anyway.</span></div>
<div class="line"><span class="lineno">  742</span>    clf = SGDClassifier(loss=<span class="stringliteral">&quot;hinge&quot;</span>, alpha=0.01, max_iter=10, tol=<span class="keywordtype">None</span>).fit(X, Y)</div>
<div class="line"><span class="lineno">  743</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> hasattr(clf, <span class="stringliteral">&quot;predict_proba&quot;</span>)</div>
<div class="line"><span class="lineno">  744</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> hasattr(clf, <span class="stringliteral">&quot;predict_log_proba&quot;</span>)</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>    <span class="comment"># log and modified_huber losses can output probability estimates</span></div>
<div class="line"><span class="lineno">  747</span>    <span class="comment"># binary case</span></div>
<div class="line"><span class="lineno">  748</span>    <span class="keywordflow">for</span> loss <span class="keywordflow">in</span> [<span class="stringliteral">&quot;log_loss&quot;</span>, <span class="stringliteral">&quot;modified_huber&quot;</span>]:</div>
<div class="line"><span class="lineno">  749</span>        clf = klass(loss=loss, alpha=0.01, max_iter=10)</div>
<div class="line"><span class="lineno">  750</span>        clf.fit(X, Y)</div>
<div class="line"><span class="lineno">  751</span>        p = clf.predict_proba([[3, 2]])</div>
<div class="line"><span class="lineno">  752</span>        <span class="keyword">assert</span> p[0, 1] &gt; 0.5</div>
<div class="line"><span class="lineno">  753</span>        p = clf.predict_proba([[-1, -1]])</div>
<div class="line"><span class="lineno">  754</span>        <span class="keyword">assert</span> p[0, 1] &lt; 0.5</div>
<div class="line"><span class="lineno">  755</span> </div>
<div class="line"><span class="lineno">  756</span>        p = clf.predict_log_proba([[3, 2]])</div>
<div class="line"><span class="lineno">  757</span>        <span class="keyword">assert</span> p[0, 1] &gt; p[0, 0]</div>
<div class="line"><span class="lineno">  758</span>        p = clf.predict_log_proba([[-1, -1]])</div>
<div class="line"><span class="lineno">  759</span>        <span class="keyword">assert</span> p[0, 1] &lt; p[0, 0]</div>
<div class="line"><span class="lineno">  760</span> </div>
<div class="line"><span class="lineno">  761</span>    <span class="comment"># log loss multiclass probability estimates</span></div>
<div class="line"><span class="lineno">  762</span>    clf = klass(loss=<span class="stringliteral">&quot;log_loss&quot;</span>, alpha=0.01, max_iter=10).fit(X2, Y2)</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>    d = clf.decision_function([[0.1, -0.1], [0.3, 0.2]])</div>
<div class="line"><span class="lineno">  765</span>    p = clf.predict_proba([[0.1, -0.1], [0.3, 0.2]])</div>
<div class="line"><span class="lineno">  766</span>    assert_array_equal(np.argmax(p, axis=1), np.argmax(d, axis=1))</div>
<div class="line"><span class="lineno">  767</span>    assert_almost_equal(p[0].sum(), 1)</div>
<div class="line"><span class="lineno">  768</span>    <span class="keyword">assert</span> np.all(p[0] &gt;= 0)</div>
<div class="line"><span class="lineno">  769</span> </div>
<div class="line"><span class="lineno">  770</span>    p = clf.predict_proba([[-1, -1]])</div>
<div class="line"><span class="lineno">  771</span>    d = clf.decision_function([[-1, -1]])</div>
<div class="line"><span class="lineno">  772</span>    assert_array_equal(np.argsort(p[0]), np.argsort(d[0]))</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    lp = clf.predict_log_proba([[3, 2]])</div>
<div class="line"><span class="lineno">  775</span>    p = clf.predict_proba([[3, 2]])</div>
<div class="line"><span class="lineno">  776</span>    assert_array_almost_equal(np.log(p), lp)</div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span>    lp = clf.predict_log_proba([[-1, -1]])</div>
<div class="line"><span class="lineno">  779</span>    p = clf.predict_proba([[-1, -1]])</div>
<div class="line"><span class="lineno">  780</span>    assert_array_almost_equal(np.log(p), lp)</div>
<div class="line"><span class="lineno">  781</span> </div>
<div class="line"><span class="lineno">  782</span>    <span class="comment"># Modified Huber multiclass probability estimates; requires a separate</span></div>
<div class="line"><span class="lineno">  783</span>    <span class="comment"># test because the hard zero/one probabilities may destroy the</span></div>
<div class="line"><span class="lineno">  784</span>    <span class="comment"># ordering present in decision_function output.</span></div>
<div class="line"><span class="lineno">  785</span>    clf = klass(loss=<span class="stringliteral">&quot;modified_huber&quot;</span>, alpha=0.01, max_iter=10)</div>
<div class="line"><span class="lineno">  786</span>    clf.fit(X2, Y2)</div>
<div class="line"><span class="lineno">  787</span>    d = clf.decision_function([[3, 2]])</div>
<div class="line"><span class="lineno">  788</span>    p = clf.predict_proba([[3, 2]])</div>
<div class="line"><span class="lineno">  789</span>    <span class="keywordflow">if</span> klass != SparseSGDClassifier:</div>
<div class="line"><span class="lineno">  790</span>        <span class="keyword">assert</span> np.argmax(d, axis=1) == np.argmax(p, axis=1)</div>
<div class="line"><span class="lineno">  791</span>    <span class="keywordflow">else</span>:  <span class="comment"># XXX the sparse test gets a different X2 (?)</span></div>
<div class="line"><span class="lineno">  792</span>        <span class="keyword">assert</span> np.argmin(d, axis=1) == np.argmin(p, axis=1)</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>    <span class="comment"># the following sample produces decision_function values &lt; -1,</span></div>
<div class="line"><span class="lineno">  795</span>    <span class="comment"># which would cause naive normalization to fail (see comment</span></div>
<div class="line"><span class="lineno">  796</span>    <span class="comment"># in SGDClassifier.predict_proba)</span></div>
<div class="line"><span class="lineno">  797</span>    x = X.mean(axis=0)</div>
<div class="line"><span class="lineno">  798</span>    d = clf.decision_function([x])</div>
<div class="line"><span class="lineno">  799</span>    <span class="keywordflow">if</span> np.all(d &lt; -1):  <span class="comment"># XXX not true in sparse test case (why?)</span></div>
<div class="line"><span class="lineno">  800</span>        p = clf.predict_proba([x])</div>
<div class="line"><span class="lineno">  801</span>        assert_array_almost_equal(p[0], [1 / 3.0] * 3)</div>
<div class="line"><span class="lineno">  802</span> </div>
<div class="line"><span class="lineno">  803</span> </div>
<div class="line"><span class="lineno">  804</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a93bbcc1444989506643245286b7eec84" name="a93bbcc1444989506643245286b7eec84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93bbcc1444989506643245286b7eec84">&#9670;&#160;</a></span>test_sgd_random_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_random_state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>global_random_seed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2089</span><span class="keyword">def </span>test_sgd_random_state(Estimator, global_random_seed):</div>
<div class="line"><span class="lineno"> 2090</span>    <span class="comment"># Train the same model on the same data without converging and check that we</span></div>
<div class="line"><span class="lineno"> 2091</span>    <span class="comment"># get reproducible results by fixing the random seed.</span></div>
<div class="line"><span class="lineno"> 2092</span>    <span class="keywordflow">if</span> Estimator == linear_model.SGDRegressor:</div>
<div class="line"><span class="lineno"> 2093</span>        X, y = datasets.make_regression(random_state=global_random_seed)</div>
<div class="line"><span class="lineno"> 2094</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2095</span>        X, y = datasets.make_classification(random_state=global_random_seed)</div>
<div class="line"><span class="lineno"> 2096</span> </div>
<div class="line"><span class="lineno"> 2097</span>    <span class="comment"># Fitting twice a model with the same hyper-parameters on the same training</span></div>
<div class="line"><span class="lineno"> 2098</span>    <span class="comment"># set with the same seed leads to the same results deterministically.</span></div>
<div class="line"><span class="lineno"> 2099</span> </div>
<div class="line"><span class="lineno"> 2100</span>    est = Estimator(random_state=global_random_seed, max_iter=1)</div>
<div class="line"><span class="lineno"> 2101</span>    <span class="keyword">with</span> pytest.warns(ConvergenceWarning):</div>
<div class="line"><span class="lineno"> 2102</span>        coef_same_seed_a = est.fit(X, y).coef_</div>
<div class="line"><span class="lineno"> 2103</span>        <span class="keyword">assert</span> est.n_iter_ == 1</div>
<div class="line"><span class="lineno"> 2104</span> </div>
<div class="line"><span class="lineno"> 2105</span>    est = Estimator(random_state=global_random_seed, max_iter=1)</div>
<div class="line"><span class="lineno"> 2106</span>    <span class="keyword">with</span> pytest.warns(ConvergenceWarning):</div>
<div class="line"><span class="lineno"> 2107</span>        coef_same_seed_b = est.fit(X, y).coef_</div>
<div class="line"><span class="lineno"> 2108</span>        <span class="keyword">assert</span> est.n_iter_ == 1</div>
<div class="line"><span class="lineno"> 2109</span> </div>
<div class="line"><span class="lineno"> 2110</span>    assert_allclose(coef_same_seed_a, coef_same_seed_b)</div>
<div class="line"><span class="lineno"> 2111</span> </div>
<div class="line"><span class="lineno"> 2112</span>    <span class="comment"># Fitting twice a model with the same hyper-parameters on the same training</span></div>
<div class="line"><span class="lineno"> 2113</span>    <span class="comment"># set but with different random seed leads to different results after one</span></div>
<div class="line"><span class="lineno"> 2114</span>    <span class="comment"># epoch because of the random shuffling of the dataset.</span></div>
<div class="line"><span class="lineno"> 2115</span> </div>
<div class="line"><span class="lineno"> 2116</span>    est = Estimator(random_state=global_random_seed + 1, max_iter=1)</div>
<div class="line"><span class="lineno"> 2117</span>    <span class="keyword">with</span> pytest.warns(ConvergenceWarning):</div>
<div class="line"><span class="lineno"> 2118</span>        coef_other_seed = est.fit(X, y).coef_</div>
<div class="line"><span class="lineno"> 2119</span>        <span class="keyword">assert</span> est.n_iter_ == 1</div>
<div class="line"><span class="lineno"> 2120</span> </div>
<div class="line"><span class="lineno"> 2121</span>    <span class="keyword">assert</span> np.abs(coef_same_seed_a - coef_other_seed).max() &gt; 1.0</div>
<div class="line"><span class="lineno"> 2122</span> </div>
<div class="line"><span class="lineno"> 2123</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a168fa84cb56b6cc23a3177b4f9772eae" name="a168fa84cb56b6cc23a3177b4f9772eae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a168fa84cb56b6cc23a3177b4f9772eae">&#9670;&#160;</a></span>test_sgd_reg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_sgd_reg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Regression Test Case. </p>
<div class="fragment"><div class="line"><span class="lineno"> 1134</span><span class="keyword">def </span>test_sgd_reg(klass):</div>
<div class="line"><span class="lineno"> 1135</span>    <span class="comment"># Check that SGD gives any results.</span></div>
<div class="line"><span class="lineno"> 1136</span>    clf = klass(alpha=0.1, max_iter=2, fit_intercept=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1137</span>    clf.fit([[0, 0], [1, 1], [2, 2]], [0, 1, 2])</div>
<div class="line"><span class="lineno"> 1138</span>    <span class="keyword">assert</span> clf.coef_[0] == clf.coef_[1]</div>
<div class="line"><span class="lineno"> 1139</span> </div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDRegressor, SparseSGDRegressor])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af3dcbbe7015d784499a97a3ef3939822" name="af3dcbbe7015d784499a97a3ef3939822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3dcbbe7015d784499a97a3ef3939822">&#9670;&#160;</a></span>test_SGDClassifier_fit_for_all_backends()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_SGDClassifier_fit_for_all_backends </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>backend</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2028</span><span class="keyword">def </span>test_SGDClassifier_fit_for_all_backends(backend):</div>
<div class="line"><span class="lineno"> 2029</span>    <span class="comment"># This is a non-regression smoke test. In the multi-class case,</span></div>
<div class="line"><span class="lineno"> 2030</span>    <span class="comment"># SGDClassifier.fit fits each class in a one-versus-all fashion using</span></div>
<div class="line"><span class="lineno"> 2031</span>    <span class="comment"># joblib.Parallel.  However, each OvA step updates the coef_ attribute of</span></div>
<div class="line"><span class="lineno"> 2032</span>    <span class="comment"># the estimator in-place. Internally, SGDClassifier calls Parallel using</span></div>
<div class="line"><span class="lineno"> 2033</span>    <span class="comment"># require=&#39;sharedmem&#39;. This test makes sure SGDClassifier.fit works</span></div>
<div class="line"><span class="lineno"> 2034</span>    <span class="comment"># consistently even when the user asks for a backend that does not provide</span></div>
<div class="line"><span class="lineno"> 2035</span>    <span class="comment"># sharedmem semantics.</span></div>
<div class="line"><span class="lineno"> 2036</span> </div>
<div class="line"><span class="lineno"> 2037</span>    <span class="comment"># We further test a case where memmapping would have been used if</span></div>
<div class="line"><span class="lineno"> 2038</span>    <span class="comment"># SGDClassifier.fit was called from a loky or multiprocessing backend. In</span></div>
<div class="line"><span class="lineno"> 2039</span>    <span class="comment"># this specific case, in-place modification of clf.coef_ would have caused</span></div>
<div class="line"><span class="lineno"> 2040</span>    <span class="comment"># a segmentation fault when trying to write in a readonly memory mapped</span></div>
<div class="line"><span class="lineno"> 2041</span>    <span class="comment"># buffer.</span></div>
<div class="line"><span class="lineno"> 2042</span> </div>
<div class="line"><span class="lineno"> 2043</span>    random_state = np.random.RandomState(42)</div>
<div class="line"><span class="lineno"> 2044</span> </div>
<div class="line"><span class="lineno"> 2045</span>    <span class="comment"># Create a classification problem with 50000 features and 20 classes. Using</span></div>
<div class="line"><span class="lineno"> 2046</span>    <span class="comment"># loky or multiprocessing this make the clf.coef_ exceed the threshold</span></div>
<div class="line"><span class="lineno"> 2047</span>    <span class="comment"># above which memmaping is used in joblib and loky (1MB as of 2018/11/1).</span></div>
<div class="line"><span class="lineno"> 2048</span>    X = sp.random(500, 2000, density=0.02, format=<span class="stringliteral">&quot;csr&quot;</span>, random_state=random_state)</div>
<div class="line"><span class="lineno"> 2049</span>    y = random_state.choice(20, 500)</div>
<div class="line"><span class="lineno"> 2050</span> </div>
<div class="line"><span class="lineno"> 2051</span>    <span class="comment"># Begin by fitting a SGD classifier sequentially</span></div>
<div class="line"><span class="lineno"> 2052</span>    clf_sequential = SGDClassifier(max_iter=1000, n_jobs=1, random_state=42)</div>
<div class="line"><span class="lineno"> 2053</span>    clf_sequential.fit(X, y)</div>
<div class="line"><span class="lineno"> 2054</span> </div>
<div class="line"><span class="lineno"> 2055</span>    <span class="comment"># Fit a SGDClassifier using the specified backend, and make sure the</span></div>
<div class="line"><span class="lineno"> 2056</span>    <span class="comment"># coefficients are equal to those obtained using a sequential fit</span></div>
<div class="line"><span class="lineno"> 2057</span>    clf_parallel = SGDClassifier(max_iter=1000, n_jobs=4, random_state=42)</div>
<div class="line"><span class="lineno"> 2058</span>    <span class="keyword">with</span> <a class="code hl_class" href="classjoblib_1_1parallel_1_1parallel__backend.html">joblib.parallel_backend</a>(backend=backend):</div>
<div class="line"><span class="lineno"> 2059</span>        clf_parallel.fit(X, y)</div>
<div class="line"><span class="lineno"> 2060</span>    assert_array_almost_equal(clf_sequential.coef_, clf_parallel.coef_)</div>
<div class="line"><span class="lineno"> 2061</span> </div>
<div class="line"><span class="lineno"> 2062</span> </div>
<div class="line"><span class="lineno"> 2063</span><span class="comment"># TODO(1.3): Remove</span></div>
<div class="line"><span class="lineno"> 2064</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 2065</span>    <span class="stringliteral">&quot;old_loss, new_loss, Estimator&quot;</span>,</div>
<div class="line"><span class="lineno"> 2066</span>    [</div>
<div class="line"><span class="lineno"> 2067</span>        (<span class="stringliteral">&quot;log&quot;</span>, <span class="stringliteral">&quot;log_loss&quot;</span>, linear_model.SGDClassifier),</div>
<div class="line"><span class="lineno"> 2068</span>    ],</div>
<div class="line"><span class="lineno"> 2069</span>)</div>
<div class="ttc" id="aclassjoblib_1_1parallel_1_1parallel__backend_html"><div class="ttname"><a href="classjoblib_1_1parallel_1_1parallel__backend.html">joblib.parallel.parallel_backend</a></div><div class="ttdef"><b>Definition</b> parallel.py:135</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac386228d02e7e9d774509e65ed351c3c" name="ac386228d02e7e9d774509e65ed351c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac386228d02e7e9d774509e65ed351c3c">&#9670;&#160;</a></span>test_tol_parameter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_tol_parameter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1801</span><span class="keyword">def </span>test_tol_parameter():</div>
<div class="line"><span class="lineno"> 1802</span>    <span class="comment"># Test that the tol parameter behaves as expected</span></div>
<div class="line"><span class="lineno"> 1803</span>    X = StandardScaler().fit_transform(iris.data)</div>
<div class="line"><span class="lineno"> 1804</span>    y = iris.target == 1</div>
<div class="line"><span class="lineno"> 1805</span> </div>
<div class="line"><span class="lineno"> 1806</span>    <span class="comment"># With tol is None, the number of iteration should be equal to max_iter</span></div>
<div class="line"><span class="lineno"> 1807</span>    max_iter = 42</div>
<div class="line"><span class="lineno"> 1808</span>    model_0 = SGDClassifier(tol=<span class="keywordtype">None</span>, random_state=0, max_iter=max_iter)</div>
<div class="line"><span class="lineno"> 1809</span>    model_0.fit(X, y)</div>
<div class="line"><span class="lineno"> 1810</span>    <span class="keyword">assert</span> max_iter == model_0.n_iter_</div>
<div class="line"><span class="lineno"> 1811</span> </div>
<div class="line"><span class="lineno"> 1812</span>    <span class="comment"># If tol is not None, the number of iteration should be less than max_iter</span></div>
<div class="line"><span class="lineno"> 1813</span>    max_iter = 2000</div>
<div class="line"><span class="lineno"> 1814</span>    model_1 = SGDClassifier(tol=0, random_state=0, max_iter=max_iter)</div>
<div class="line"><span class="lineno"> 1815</span>    model_1.fit(X, y)</div>
<div class="line"><span class="lineno"> 1816</span>    <span class="keyword">assert</span> max_iter &gt; model_1.n_iter_</div>
<div class="line"><span class="lineno"> 1817</span>    <span class="keyword">assert</span> model_1.n_iter_ &gt; 5</div>
<div class="line"><span class="lineno"> 1818</span> </div>
<div class="line"><span class="lineno"> 1819</span>    <span class="comment"># A larger tol should yield a smaller number of iteration</span></div>
<div class="line"><span class="lineno"> 1820</span>    model_2 = SGDClassifier(tol=0.1, random_state=0, max_iter=max_iter)</div>
<div class="line"><span class="lineno"> 1821</span>    model_2.fit(X, y)</div>
<div class="line"><span class="lineno"> 1822</span>    <span class="keyword">assert</span> model_1.n_iter_ &gt; model_2.n_iter_</div>
<div class="line"><span class="lineno"> 1823</span>    <span class="keyword">assert</span> model_2.n_iter_ &gt; 3</div>
<div class="line"><span class="lineno"> 1824</span> </div>
<div class="line"><span class="lineno"> 1825</span>    <span class="comment"># Strict tolerance and small max_iter should trigger a warning</span></div>
<div class="line"><span class="lineno"> 1826</span>    model_3 = SGDClassifier(max_iter=3, tol=1e-3, random_state=0)</div>
<div class="line"><span class="lineno"> 1827</span>    warning_message = (</div>
<div class="line"><span class="lineno"> 1828</span>        <span class="stringliteral">&quot;Maximum number of iteration reached before &quot;</span></div>
<div class="line"><span class="lineno"> 1829</span>        <span class="stringliteral">&quot;convergence. Consider increasing max_iter to &quot;</span></div>
<div class="line"><span class="lineno"> 1830</span>        <span class="stringliteral">&quot;improve the fit.&quot;</span></div>
<div class="line"><span class="lineno"> 1831</span>    )</div>
<div class="line"><span class="lineno"> 1832</span>    <span class="keyword">with</span> pytest.warns(ConvergenceWarning, match=warning_message):</div>
<div class="line"><span class="lineno"> 1833</span>        model_3.fit(X, y)</div>
<div class="line"><span class="lineno"> 1834</span>    <span class="keyword">assert</span> model_3.n_iter_ == 3</div>
<div class="line"><span class="lineno"> 1835</span> </div>
<div class="line"><span class="lineno"> 1836</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3b5faa939fbfbf901b5e1647ed3c25f" name="aa3b5faa939fbfbf901b5e1647ed3c25f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3b5faa939fbfbf901b5e1647ed3c25f">&#9670;&#160;</a></span>test_underflow_or_overlow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_underflow_or_overlow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1726</span><span class="keyword">def </span>test_underflow_or_overlow():</div>
<div class="line"><span class="lineno"> 1727</span>    <span class="keyword">with</span> np.errstate(all=<span class="stringliteral">&quot;raise&quot;</span>):</div>
<div class="line"><span class="lineno"> 1728</span>        <span class="comment"># Generate some weird data with hugely unscaled features</span></div>
<div class="line"><span class="lineno"> 1729</span>        rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1730</span>        n_samples = 100</div>
<div class="line"><span class="lineno"> 1731</span>        n_features = 10</div>
<div class="line"><span class="lineno"> 1732</span> </div>
<div class="line"><span class="lineno"> 1733</span>        X = rng.normal(size=(n_samples, n_features))</div>
<div class="line"><span class="lineno"> 1734</span>        X[:, :2] *= 1e300</div>
<div class="line"><span class="lineno"> 1735</span>        <span class="keyword">assert</span> np.isfinite(X).all()</div>
<div class="line"><span class="lineno"> 1736</span> </div>
<div class="line"><span class="lineno"> 1737</span>        <span class="comment"># Use MinMaxScaler to scale the data without introducing a numerical</span></div>
<div class="line"><span class="lineno"> 1738</span>        <span class="comment"># instability (computing the standard deviation naively is not possible</span></div>
<div class="line"><span class="lineno"> 1739</span>        <span class="comment"># on this data)</span></div>
<div class="line"><span class="lineno"> 1740</span>        X_scaled = MinMaxScaler().fit_transform(X)</div>
<div class="line"><span class="lineno"> 1741</span>        <span class="keyword">assert</span> np.isfinite(X_scaled).all()</div>
<div class="line"><span class="lineno"> 1742</span> </div>
<div class="line"><span class="lineno"> 1743</span>        <span class="comment"># Define a ground truth on the scaled data</span></div>
<div class="line"><span class="lineno"> 1744</span>        ground_truth = rng.normal(size=n_features)</div>
<div class="line"><span class="lineno"> 1745</span>        y = (np.dot(X_scaled, ground_truth) &gt; 0.0).astype(np.int32)</div>
<div class="line"><span class="lineno"> 1746</span>        assert_array_equal(np.unique(y), [0, 1])</div>
<div class="line"><span class="lineno"> 1747</span> </div>
<div class="line"><span class="lineno"> 1748</span>        model = SGDClassifier(alpha=0.1, loss=<span class="stringliteral">&quot;squared_hinge&quot;</span>, max_iter=500)</div>
<div class="line"><span class="lineno"> 1749</span> </div>
<div class="line"><span class="lineno"> 1750</span>        <span class="comment"># smoke test: model is stable on scaled data</span></div>
<div class="line"><span class="lineno"> 1751</span>        model.fit(X_scaled, y)</div>
<div class="line"><span class="lineno"> 1752</span>        <span class="keyword">assert</span> np.isfinite(model.coef_).all()</div>
<div class="line"><span class="lineno"> 1753</span> </div>
<div class="line"><span class="lineno"> 1754</span>        <span class="comment"># model is numerically unstable on unscaled data</span></div>
<div class="line"><span class="lineno"> 1755</span>        msg_regxp = (</div>
<div class="line"><span class="lineno"> 1756</span>            <span class="stringliteral">r&quot;Floating-point under-/overflow occurred at epoch #.*&quot;</span></div>
<div class="line"><span class="lineno"> 1757</span>            <span class="stringliteral">&quot; Scaling input data with StandardScaler or MinMaxScaler&quot;</span></div>
<div class="line"><span class="lineno"> 1758</span>            <span class="stringliteral">&quot; might help.&quot;</span></div>
<div class="line"><span class="lineno"> 1759</span>        )</div>
<div class="line"><span class="lineno"> 1760</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg_regxp):</div>
<div class="line"><span class="lineno"> 1761</span>            model.fit(X, y)</div>
<div class="line"><span class="lineno"> 1762</span> </div>
<div class="line"><span class="lineno"> 1763</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9acc61010c48c2065b9dae2657f20ab0" name="a9acc61010c48c2065b9dae2657f20ab0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9acc61010c48c2065b9dae2657f20ab0">&#9670;&#160;</a></span>test_validation_mask_correctly_subsets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_validation_mask_correctly_subsets </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>monkeypatch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that data passed to validation callback correctly subsets.

Non-regression test for #23255.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2124</span><span class="keyword">def </span>test_validation_mask_correctly_subsets(monkeypatch):</div>
<div class="line"><span class="lineno"> 2125</span>    <span class="stringliteral">&quot;&quot;&quot;Test that data passed to validation callback correctly subsets.</span></div>
<div class="line"><span class="lineno"> 2126</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2127</span><span class="stringliteral">    Non-regression test for #23255.</span></div>
<div class="line"><span class="lineno"> 2128</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2129</span>    X, Y = iris.data, iris.target</div>
<div class="line"><span class="lineno"> 2130</span>    n_samples = X.shape[0]</div>
<div class="line"><span class="lineno"> 2131</span>    validation_fraction = 0.2</div>
<div class="line"><span class="lineno"> 2132</span>    clf = linear_model.SGDClassifier(</div>
<div class="line"><span class="lineno"> 2133</span>        early_stopping=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 2134</span>        tol=1e-3,</div>
<div class="line"><span class="lineno"> 2135</span>        max_iter=1000,</div>
<div class="line"><span class="lineno"> 2136</span>        validation_fraction=validation_fraction,</div>
<div class="line"><span class="lineno"> 2137</span>    )</div>
<div class="line"><span class="lineno"> 2138</span> </div>
<div class="line"><span class="lineno"> 2139</span>    mock = Mock(side_effect=_stochastic_gradient._ValidationScoreCallback)</div>
<div class="line"><span class="lineno"> 2140</span>    monkeypatch.setattr(_stochastic_gradient, <span class="stringliteral">&quot;_ValidationScoreCallback&quot;</span>, mock)</div>
<div class="line"><span class="lineno"> 2141</span>    clf.fit(X, Y)</div>
<div class="line"><span class="lineno"> 2142</span> </div>
<div class="line"><span class="lineno"> 2143</span>    X_val, y_val = mock.call_args[0][1:3]</div>
<div class="line"><span class="lineno"> 2144</span>    <span class="keyword">assert</span> X_val.shape[0] == int(n_samples * validation_fraction)</div>
<div class="line"><span class="lineno"> 2145</span>    <span class="keyword">assert</span> y_val.shape[0] == int(n_samples * validation_fraction)</div>
<div class="line"><span class="lineno"> 2146</span> </div>
<div class="line"><span class="lineno"> 2147</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a293daf1a8bef80903c682d156b05995d" name="a293daf1a8bef80903c682d156b05995d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a293daf1a8bef80903c682d156b05995d">&#9670;&#160;</a></span>test_validation_set_not_used_for_training()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_validation_set_not_used_for_training </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  413</span><span class="keyword">def </span>test_validation_set_not_used_for_training(klass):</div>
<div class="line"><span class="lineno">  414</span>    X, Y = iris.data, iris.target</div>
<div class="line"><span class="lineno">  415</span>    validation_fraction = 0.4</div>
<div class="line"><span class="lineno">  416</span>    seed = 42</div>
<div class="line"><span class="lineno">  417</span>    shuffle = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  418</span>    max_iter = 10</div>
<div class="line"><span class="lineno">  419</span>    clf1 = klass(</div>
<div class="line"><span class="lineno">  420</span>        early_stopping=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  421</span>        random_state=np.random.RandomState(seed),</div>
<div class="line"><span class="lineno">  422</span>        validation_fraction=validation_fraction,</div>
<div class="line"><span class="lineno">  423</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno">  424</span>        eta0=0.01,</div>
<div class="line"><span class="lineno">  425</span>        tol=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  426</span>        max_iter=max_iter,</div>
<div class="line"><span class="lineno">  427</span>        shuffle=shuffle,</div>
<div class="line"><span class="lineno">  428</span>    )</div>
<div class="line"><span class="lineno">  429</span>    clf1.fit(X, Y)</div>
<div class="line"><span class="lineno">  430</span>    <span class="keyword">assert</span> clf1.n_iter_ == max_iter</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    clf2 = klass(</div>
<div class="line"><span class="lineno">  433</span>        early_stopping=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  434</span>        random_state=np.random.RandomState(seed),</div>
<div class="line"><span class="lineno">  435</span>        learning_rate=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno">  436</span>        eta0=0.01,</div>
<div class="line"><span class="lineno">  437</span>        tol=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  438</span>        max_iter=max_iter,</div>
<div class="line"><span class="lineno">  439</span>        shuffle=shuffle,</div>
<div class="line"><span class="lineno">  440</span>    )</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    <span class="keywordflow">if</span> is_classifier(clf2):</div>
<div class="line"><span class="lineno">  443</span>        cv = StratifiedShuffleSplit(test_size=validation_fraction, random_state=seed)</div>
<div class="line"><span class="lineno">  444</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  445</span>        cv = ShuffleSplit(test_size=validation_fraction, random_state=seed)</div>
<div class="line"><span class="lineno">  446</span>    idx_train, idx_val = next(cv.split(X, Y))</div>
<div class="line"><span class="lineno">  447</span>    idx_train = np.sort(idx_train)  <span class="comment"># remove shuffling</span></div>
<div class="line"><span class="lineno">  448</span>    clf2.fit(X[idx_train], Y[idx_train])</div>
<div class="line"><span class="lineno">  449</span>    <span class="keyword">assert</span> clf2.n_iter_ == max_iter</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>    assert_array_equal(clf1.coef_, clf2.coef_)</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  455</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDRegressor, SparseSGDRegressor]</div>
<div class="line"><span class="lineno">  456</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a89f172230717c8c4ed27691a62a45cfd" name="a89f172230717c8c4ed27691a62a45cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89f172230717c8c4ed27691a62a45cfd">&#9670;&#160;</a></span>test_warm_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_warm_start </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  247</span><span class="keyword">def </span>test_warm_start(klass, lr):</div>
<div class="line"><span class="lineno">  248</span>    _test_warm_start(klass, X, Y, lr)</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  252</span>    <span class="stringliteral">&quot;klass&quot;</span>, [SGDClassifier, SparseSGDClassifier, SGDRegressor, SparseSGDRegressor]</div>
<div class="line"><span class="lineno">  253</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a45000ce6bd9d9bf030608f73cc017b75" name="a45000ce6bd9d9bf030608f73cc017b75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45000ce6bd9d9bf030608f73cc017b75">&#9670;&#160;</a></span>test_warm_start_multiclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_warm_start_multiclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1113</span><span class="keyword">def </span>test_warm_start_multiclass(klass):</div>
<div class="line"><span class="lineno"> 1114</span>    _test_warm_start(klass, X2, Y2, <span class="stringliteral">&quot;optimal&quot;</span>)</div>
<div class="line"><span class="lineno"> 1115</span> </div>
<div class="line"><span class="lineno"> 1116</span> </div>
<div class="line"><span class="lineno"> 1117</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e48979de6d898259391afb09ef52ece" name="a6e48979de6d898259391afb09ef52ece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e48979de6d898259391afb09ef52ece">&#9670;&#160;</a></span>test_warm_start_oneclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_warm_start_oneclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1461</span><span class="keyword">def </span>test_warm_start_oneclass(klass, lr):</div>
<div class="line"><span class="lineno"> 1462</span>    _test_warm_start_oneclass(klass, X, lr)</div>
<div class="line"><span class="lineno"> 1463</span> </div>
<div class="line"><span class="lineno"> 1464</span> </div>
<div class="line"><span class="lineno"> 1465</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDOneClassSVM, SparseSGDOneClassSVM])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a83327bba2b52215d40b861875ea1c1bf" name="a83327bba2b52215d40b861875ea1c1bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83327bba2b52215d40b861875ea1c1bf">&#9670;&#160;</a></span>test_weights_multiplied()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_weights_multiplied </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  886</span><span class="keyword">def </span>test_weights_multiplied(klass):</div>
<div class="line"><span class="lineno">  887</span>    <span class="comment"># Tests that class_weight and sample_weight are multiplicative</span></div>
<div class="line"><span class="lineno">  888</span>    class_weights = {1: 0.6, 2: 0.3}</div>
<div class="line"><span class="lineno">  889</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  890</span>    sample_weights = rng.random_sample(Y4.shape[0])</div>
<div class="line"><span class="lineno">  891</span>    multiplied_together = np.copy(sample_weights)</div>
<div class="line"><span class="lineno">  892</span>    multiplied_together[Y4 == 1] *= class_weights[1]</div>
<div class="line"><span class="lineno">  893</span>    multiplied_together[Y4 == 2] *= class_weights[2]</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>    clf1 = klass(alpha=0.1, max_iter=20, class_weight=class_weights)</div>
<div class="line"><span class="lineno">  896</span>    clf2 = klass(alpha=0.1, max_iter=20)</div>
<div class="line"><span class="lineno">  897</span> </div>
<div class="line"><span class="lineno">  898</span>    clf1.fit(X4, Y4, sample_weight=sample_weights)</div>
<div class="line"><span class="lineno">  899</span>    clf2.fit(X4, Y4, sample_weight=multiplied_together)</div>
<div class="line"><span class="lineno">  900</span> </div>
<div class="line"><span class="lineno">  901</span>    assert_almost_equal(clf1.coef_, clf2.coef_)</div>
<div class="line"><span class="lineno">  902</span> </div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="acb94a3ef296130e6e6a2801d2318b1c4" name="acb94a3ef296130e6e6a2801d2318b1c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb94a3ef296130e6e6a2801d2318b1c4">&#9670;&#160;</a></span>test_wrong_class_weight_label()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_wrong_class_weight_label </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  878</span><span class="keyword">def </span>test_wrong_class_weight_label(klass):</div>
<div class="line"><span class="lineno">  879</span>    <span class="comment"># ValueError due to not existing class label.</span></div>
<div class="line"><span class="lineno">  880</span>    clf = klass(alpha=0.1, max_iter=1000, class_weight={0: 0.5})</div>
<div class="line"><span class="lineno">  881</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  882</span>        clf.fit(X, Y)</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aebb66efc5664e3af962d934ad0a8c07f" name="aebb66efc5664e3af962d934ad0a8c07f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebb66efc5664e3af962d934ad0a8c07f">&#9670;&#160;</a></span>test_wrong_sample_weights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.test_wrong_sample_weights </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>klass</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  972</span><span class="keyword">def </span>test_wrong_sample_weights(klass):</div>
<div class="line"><span class="lineno">  973</span>    <span class="comment"># Test if ValueError is raised if sample_weight has wrong shape</span></div>
<div class="line"><span class="lineno">  974</span>    <span class="keywordflow">if</span> klass <span class="keywordflow">in</span> [SGDClassifier, SparseSGDClassifier]:</div>
<div class="line"><span class="lineno">  975</span>        clf = klass(alpha=0.1, max_iter=1000, fit_intercept=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  976</span>    <span class="keywordflow">elif</span> klass <span class="keywordflow">in</span> [SGDOneClassSVM, SparseSGDOneClassSVM]:</div>
<div class="line"><span class="lineno">  977</span>        clf = klass(nu=0.1, max_iter=1000, fit_intercept=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  978</span>    <span class="comment"># provided sample_weight too long</span></div>
<div class="line"><span class="lineno">  979</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  980</span>        clf.fit(X, Y, sample_weight=np.arange(7))</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span> </div>
<div class="line"><span class="lineno">  983</span><span class="preprocessor">@pytest.mark.parametrize(&quot;klass&quot;, [SGDClassifier, SparseSGDClassifier])</span></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a61c718a139414acd454dddd31d89c55d" name="a61c718a139414acd454dddd31d89c55d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61c718a139414acd454dddd31d89c55d">&#9670;&#160;</a></span>iris</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.iris = datasets.load_iris()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2bb58f2079b00cc8c4d8e7b749f69af3" name="a2bb58f2079b00cc8c4d8e7b749f69af3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb58f2079b00cc8c4d8e7b749f69af3">&#9670;&#160;</a></span>T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.T = np.array([[-1, -1], [2, 2], [3, 2]])</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a00ff4cf367a00a726e612436edf06a39" name="a00ff4cf367a00a726e612436edf06a39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00ff4cf367a00a726e612436edf06a39">&#9670;&#160;</a></span>T2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.T2 = np.array([[-1.5, 0.5], [1, 2], [0, -2]])</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2b6d0340602a97578689d49248462145" name="a2b6d0340602a97578689d49248462145"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b6d0340602a97578689d49248462145">&#9670;&#160;</a></span>true_result</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list sklearn.linear_model.tests.test_sgd.true_result = [1, 2, 2]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a412aec78dfaeec22e86cee0c2d5d3efe" name="a412aec78dfaeec22e86cee0c2d5d3efe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a412aec78dfaeec22e86cee0c2d5d3efe">&#9670;&#160;</a></span>true_result2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list sklearn.linear_model.tests.test_sgd.true_result2 = [&quot;one&quot;, &quot;two&quot;, &quot;three&quot;]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa9d365c31a72891f3b1d861e5b66e198" name="aa9d365c31a72891f3b1d861e5b66e198"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9d365c31a72891f3b1d861e5b66e198">&#9670;&#160;</a></span>true_result5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list sklearn.linear_model.tests.test_sgd.true_result5 = [0, 1, 1]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a82bc7fdef192a6403cced37d5b5c8a6d" name="a82bc7fdef192a6403cced37d5b5c8a6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82bc7fdef192a6403cced37d5b5c8a6d">&#9670;&#160;</a></span>X</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.X = np.array([[-2, -1], [-1, -1], [-1, -2], [1, 1], [1, 2], [2, 1]])</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a491134aaa3c2890a1752a9a11ad0ae09" name="a491134aaa3c2890a1752a9a11ad0ae09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a491134aaa3c2890a1752a9a11ad0ae09">&#9670;&#160;</a></span>X2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.X2</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  np.array(</div>
<div class="line"><span class="lineno">    2</span>    [</div>
<div class="line"><span class="lineno">    3</span>        [-1, 1],</div>
<div class="line"><span class="lineno">    4</span>        [-0.75, 0.5],</div>
<div class="line"><span class="lineno">    5</span>        [-1.5, 1.5],</div>
<div class="line"><span class="lineno">    6</span>        [1, 1],</div>
<div class="line"><span class="lineno">    7</span>        [0.75, 0.5],</div>
<div class="line"><span class="lineno">    8</span>        [1.5, 1.5],</div>
<div class="line"><span class="lineno">    9</span>        [-1, -1],</div>
<div class="line"><span class="lineno">   10</span>        [0, -0.5],</div>
<div class="line"><span class="lineno">   11</span>        [1, -1],</div>
<div class="line"><span class="lineno">   12</span>    ]</div>
<div class="line"><span class="lineno">   13</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a40012168ecd0a5753f65c50fc398cbb4" name="a40012168ecd0a5753f65c50fc398cbb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40012168ecd0a5753f65c50fc398cbb4">&#9670;&#160;</a></span>X3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.X3</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  np.array(</div>
<div class="line"><span class="lineno">    2</span>    [</div>
<div class="line"><span class="lineno">    3</span>        [1, 1, 0, 0, 0, 0],</div>
<div class="line"><span class="lineno">    4</span>        [1, 1, 0, 0, 0, 0],</div>
<div class="line"><span class="lineno">    5</span>        [0, 0, 1, 0, 0, 0],</div>
<div class="line"><span class="lineno">    6</span>        [0, 0, 1, 0, 0, 0],</div>
<div class="line"><span class="lineno">    7</span>        [0, 0, 0, 0, 1, 1],</div>
<div class="line"><span class="lineno">    8</span>        [0, 0, 0, 0, 1, 1],</div>
<div class="line"><span class="lineno">    9</span>        [0, 0, 0, 1, 0, 0],</div>
<div class="line"><span class="lineno">   10</span>        [0, 0, 0, 1, 0, 0],</div>
<div class="line"><span class="lineno">   11</span>    ]</div>
<div class="line"><span class="lineno">   12</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ce9249fc346fb4cd6c1ed8ee16b33be" name="a4ce9249fc346fb4cd6c1ed8ee16b33be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ce9249fc346fb4cd6c1ed8ee16b33be">&#9670;&#160;</a></span>X4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.X4</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  np.array(</div>
<div class="line"><span class="lineno">    2</span>    [</div>
<div class="line"><span class="lineno">    3</span>        [1, 0.9, 0.8, 0, 0, 0],</div>
<div class="line"><span class="lineno">    4</span>        [1, 0.84, 0.98, 0, 0, 0],</div>
<div class="line"><span class="lineno">    5</span>        [1, 0.96, 0.88, 0, 0, 0],</div>
<div class="line"><span class="lineno">    6</span>        [1, 0.91, 0.99, 0, 0, 0],</div>
<div class="line"><span class="lineno">    7</span>        [0, 0, 0, 0.89, 0.91, 1],</div>
<div class="line"><span class="lineno">    8</span>        [0, 0, 0, 0.79, 0.84, 1],</div>
<div class="line"><span class="lineno">    9</span>        [0, 0, 0, 0.91, 0.95, 1],</div>
<div class="line"><span class="lineno">   10</span>        [0, 0, 0, 0.93, 1, 1],</div>
<div class="line"><span class="lineno">   11</span>    ]</div>
<div class="line"><span class="lineno">   12</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="abbc2ca61a582be2d32f3977b45eb58ec" name="abbc2ca61a582be2d32f3977b45eb58ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbc2ca61a582be2d32f3977b45eb58ec">&#9670;&#160;</a></span>X5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.X5 = np.array([[-2, -1], [-1, -1], [-1, -2], [1, 1], [1, 2], [2, 1]])</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa55cc9565489139b46fa8ff6a9c1af27" name="aa55cc9565489139b46fa8ff6a9c1af27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa55cc9565489139b46fa8ff6a9c1af27">&#9670;&#160;</a></span>Y</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list sklearn.linear_model.tests.test_sgd.Y = [1, 1, 1, 2, 2, 2]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac91980922581a881f0716898de385490" name="ac91980922581a881f0716898de385490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91980922581a881f0716898de385490">&#9670;&#160;</a></span>Y2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list sklearn.linear_model.tests.test_sgd.Y2 = [&quot;one&quot;] * 3 + [&quot;two&quot;] * 3 + [&quot;three&quot;] * 3</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4236e9ce5828b51bd20aa587a7ad0c72" name="a4236e9ce5828b51bd20aa587a7ad0c72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4236e9ce5828b51bd20aa587a7ad0c72">&#9670;&#160;</a></span>Y3</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.Y3 = np.array([1, 1, 1, 1, 2, 2, 2, 2])</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a388bf685eb703be460bb42e79fe81dd1" name="a388bf685eb703be460bb42e79fe81dd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a388bf685eb703be460bb42e79fe81dd1">&#9670;&#160;</a></span>Y4</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.linear_model.tests.test_sgd.Y4 = np.array([1, 1, 1, 1, 2, 2, 2, 2])</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab5005dc5aee930fd507b2ca4649d4312" name="ab5005dc5aee930fd507b2ca4649d4312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5005dc5aee930fd507b2ca4649d4312">&#9670;&#160;</a></span>Y5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list sklearn.linear_model.tests.test_sgd.Y5 = [1, 1, 1, 2, 2, 2]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
