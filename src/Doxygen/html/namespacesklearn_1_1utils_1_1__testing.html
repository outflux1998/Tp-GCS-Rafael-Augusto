<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.utils._testing Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html">_testing</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sklearn.utils._testing Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1utils_1_1__testing_1_1___ignore_warnings.html">_IgnoreWarnings</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1utils_1_1__testing_1_1___raises.html">_Raises</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1utils_1_1__testing_1_1_minimal_classifier.html">MinimalClassifier</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1utils_1_1__testing_1_1_minimal_regressor.html">MinimalRegressor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1utils_1_1__testing_1_1_minimal_transformer.html">MinimalTransformer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1utils_1_1__testing_1_1_temp_memmap.html">TempMemmap</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac029e257279512b34147422c61756bff" id="r_ac029e257279512b34147422c61756bff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#ac029e257279512b34147422c61756bff">assert_no_warnings</a> (<a class="el" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>, *args, **kw)</td></tr>
<tr class="separator:ac029e257279512b34147422c61756bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52e1e95c098de7d732c9c413aa2d8181" id="r_a52e1e95c098de7d732c9c413aa2d8181"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a52e1e95c098de7d732c9c413aa2d8181">ignore_warnings</a> (obj=None, category=Warning)</td></tr>
<tr class="separator:a52e1e95c098de7d732c9c413aa2d8181"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e7173ef536c97817637bf55136bcc81" id="r_a8e7173ef536c97817637bf55136bcc81"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a8e7173ef536c97817637bf55136bcc81">assert_raise_message</a> (exceptions, message, function, *args, **kwargs)</td></tr>
<tr class="separator:a8e7173ef536c97817637bf55136bcc81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a003210fc502cc0971079e20a0460e428" id="r_a003210fc502cc0971079e20a0460e428"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a003210fc502cc0971079e20a0460e428">assert_allclose</a> (actual, desired, <a class="el" href="__lapack__subroutines_8h.html#aa4a017e91ee751f9803a1bdb6caf1c06">rtol</a>=None, atol=0.0, equal_nan=True, err_msg=&quot;&quot;, verbose=True)</td></tr>
<tr class="separator:a003210fc502cc0971079e20a0460e428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61b77b0e15b2a81c9d315478de5cf6e1" id="r_a61b77b0e15b2a81c9d315478de5cf6e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a61b77b0e15b2a81c9d315478de5cf6e1">assert_allclose_dense_sparse</a> (x, y, <a class="el" href="__lapack__subroutines_8h.html#aa4a017e91ee751f9803a1bdb6caf1c06">rtol</a>=1e-07, atol=1e-9, err_msg=&quot;&quot;)</td></tr>
<tr class="separator:a61b77b0e15b2a81c9d315478de5cf6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a80d85306228833bd622253f2b3677d" id="r_a4a80d85306228833bd622253f2b3677d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a4a80d85306228833bd622253f2b3677d">set_random_state</a> (estimator, random_state=0)</td></tr>
<tr class="separator:a4a80d85306228833bd622253f2b3677d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46fb0c58da6e6fb361b3f44d83450b9a" id="r_a46fb0c58da6e6fb361b3f44d83450b9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a46fb0c58da6e6fb361b3f44d83450b9a">check_skip_network</a> ()</td></tr>
<tr class="separator:a46fb0c58da6e6fb361b3f44d83450b9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a281d229b9b77ec1f81cd86bb41156c8b" id="r_a281d229b9b77ec1f81cd86bb41156c8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a281d229b9b77ec1f81cd86bb41156c8b">_delete_folder</a> (folder_path, warn=False)</td></tr>
<tr class="separator:a281d229b9b77ec1f81cd86bb41156c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad02227dc7141112ec89f6b9f94100859" id="r_ad02227dc7141112ec89f6b9f94100859"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#ad02227dc7141112ec89f6b9f94100859">_create_memmap_backed_array</a> (array, filename, mmap_mode)</td></tr>
<tr class="separator:ad02227dc7141112ec89f6b9f94100859"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac06661d53d38ec68febcbc279d89d69f" id="r_ac06661d53d38ec68febcbc279d89d69f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#ac06661d53d38ec68febcbc279d89d69f">_create_aligned_memmap_backed_arrays</a> (data, mmap_mode, folder)</td></tr>
<tr class="separator:ac06661d53d38ec68febcbc279d89d69f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3bb2b703dac85f190951187a1333c3b" id="r_ac3bb2b703dac85f190951187a1333c3b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#ac3bb2b703dac85f190951187a1333c3b">create_memmap_backed_data</a> (data, mmap_mode=&quot;r&quot;, return_folder=False, aligned=False)</td></tr>
<tr class="separator:ac3bb2b703dac85f190951187a1333c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6330f110f84248ed9cc2c36d1a7786f" id="r_ad6330f110f84248ed9cc2c36d1a7786f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#ad6330f110f84248ed9cc2c36d1a7786f">_get_args</a> (function, varargs=False)</td></tr>
<tr class="separator:ad6330f110f84248ed9cc2c36d1a7786f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb013aaa5f2ed224c5a40c806eceafb7" id="r_acb013aaa5f2ed224c5a40c806eceafb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#acb013aaa5f2ed224c5a40c806eceafb7">_get_func_name</a> (<a class="el" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>)</td></tr>
<tr class="separator:acb013aaa5f2ed224c5a40c806eceafb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d5212b78d492949399076fe7bb9875" id="r_a56d5212b78d492949399076fe7bb9875"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a56d5212b78d492949399076fe7bb9875">check_docstring_parameters</a> (<a class="el" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>, doc=None, ignore=None)</td></tr>
<tr class="separator:a56d5212b78d492949399076fe7bb9875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9c859122ed38a66a4342897c2e42b11" id="r_ad9c859122ed38a66a4342897c2e42b11"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#ad9c859122ed38a66a4342897c2e42b11">assert_run_python_script</a> (source_code, timeout=60)</td></tr>
<tr class="separator:ad9c859122ed38a66a4342897c2e42b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1196180f6cce31cd98588f9f807372cc" id="r_a1196180f6cce31cd98588f9f807372cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a1196180f6cce31cd98588f9f807372cc">_convert_container</a> (container, constructor_name, columns_name=None, dtype=None)</td></tr>
<tr class="separator:a1196180f6cce31cd98588f9f807372cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5499cf5aa2aef695bd06eaca83590dd7" id="r_a5499cf5aa2aef695bd06eaca83590dd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a5499cf5aa2aef695bd06eaca83590dd7">raises</a> (expected_exc_type, match=None, may_pass=False, err_msg=None)</td></tr>
<tr class="separator:a5499cf5aa2aef695bd06eaca83590dd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2498f88e96444deb0605b062ecb40384" id="r_a2498f88e96444deb0605b062ecb40384"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a2498f88e96444deb0605b062ecb40384">WindowsError</a> = None</td></tr>
<tr class="separator:a2498f88e96444deb0605b062ecb40384"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d2c00700e2f38d7657f36c8c77ee75" id="r_a49d2c00700e2f38d7657f36c8c77ee75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a49d2c00700e2f38d7657f36c8c77ee75">_dummy</a> = TestCase(&quot;__init__&quot;)</td></tr>
<tr class="separator:a49d2c00700e2f38d7657f36c8c77ee75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa304b45e6ce386381d56c16b35a97750" id="r_aa304b45e6ce386381d56c16b35a97750"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#aa304b45e6ce386381d56c16b35a97750">assert_raises</a> = _dummy.assertRaises</td></tr>
<tr class="separator:aa304b45e6ce386381d56c16b35a97750"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a906f95cca9394d5d50dafec80551d8a3" id="r_a906f95cca9394d5d50dafec80551d8a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a906f95cca9394d5d50dafec80551d8a3">SkipTest</a> = unittest.case.SkipTest</td></tr>
<tr class="separator:a906f95cca9394d5d50dafec80551d8a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff52f062b065310c1eed6473c69311f4" id="r_aff52f062b065310c1eed6473c69311f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#aff52f062b065310c1eed6473c69311f4">assert_dict_equal</a> = _dummy.assertDictEqual</td></tr>
<tr class="separator:aff52f062b065310c1eed6473c69311f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95635557ffacfa42729b34a17c404262" id="r_a95635557ffacfa42729b34a17c404262"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a95635557ffacfa42729b34a17c404262">assert_raises_regex</a> = _dummy.assertRaisesRegex</td></tr>
<tr class="separator:a95635557ffacfa42729b34a17c404262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea144dac5e815e31fdf9eeae5f47a284" id="r_aea144dac5e815e31fdf9eeae5f47a284"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#aea144dac5e815e31fdf9eeae5f47a284">assert_raises_regexp</a> = <a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a95635557ffacfa42729b34a17c404262">assert_raises_regex</a></td></tr>
<tr class="separator:aea144dac5e815e31fdf9eeae5f47a284"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694038e531c68df7fb9d2b433ae86863" id="r_a694038e531c68df7fb9d2b433ae86863"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a694038e531c68df7fb9d2b433ae86863">skip_if_32bit</a> = pytest.mark.skipif(_IS_32BIT, reason=&quot;skipped on 32bit platforms&quot;)</td></tr>
<tr class="separator:a694038e531c68df7fb9d2b433ae86863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ea3e25af4202e3a0deb57c98fc6cc38" id="r_a3ea3e25af4202e3a0deb57c98fc6cc38"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a3ea3e25af4202e3a0deb57c98fc6cc38">skip_travis</a></td></tr>
<tr class="separator:a3ea3e25af4202e3a0deb57c98fc6cc38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb72b86c3ec07d6dbd971cc3649f9033" id="r_abb72b86c3ec07d6dbd971cc3649f9033"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#abb72b86c3ec07d6dbd971cc3649f9033">fails_if_pypy</a> = pytest.mark.xfail(IS_PYPY, reason=&quot;not compatible with PyPy&quot;)</td></tr>
<tr class="separator:abb72b86c3ec07d6dbd971cc3649f9033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a710a38bb663e17ff4211cd147102251d" id="r_a710a38bb663e17ff4211cd147102251d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a710a38bb663e17ff4211cd147102251d">fails_if_unstable_openblas</a></td></tr>
<tr class="separator:a710a38bb663e17ff4211cd147102251d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab06d32a389c04c2e657c8c224ef0784" id="r_aab06d32a389c04c2e657c8c224ef0784"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#aab06d32a389c04c2e657c8c224ef0784">skip_if_no_parallel</a></td></tr>
<tr class="separator:aab06d32a389c04c2e657c8c224ef0784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b4c941a530a0ec33f3cef52a5d1c781" id="r_a4b4c941a530a0ec33f3cef52a5d1c781"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a4b4c941a530a0ec33f3cef52a5d1c781">if_safe_multiprocessing_with_blas</a></td></tr>
<tr class="separator:a4b4c941a530a0ec33f3cef52a5d1c781"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Testing utilities.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a1196180f6cce31cd98588f9f807372cc" name="a1196180f6cce31cd98588f9f807372cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1196180f6cce31cd98588f9f807372cc">&#9670;&#160;</a></span>_convert_container()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing._convert_container </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>constructor_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>columns_name</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Convert a given container to a specific array-like with a dtype.

Parameters
----------
container : array-like
    The container to convert.
constructor_name : {"list", "tuple", "array", "sparse", "dataframe", \
        "series", "index", "slice", "sparse_csr", "sparse_csc"}
    The type of the returned container.
columns_name : index or array-like, default=None
    For pandas container supporting `columns_names`, it will affect
    specific names.
dtype : dtype, default=None
    Force the dtype of the container. Does not apply to `"slice"`
    container.

Returns
-------
converted_container
</pre> <div class="fragment"><div class="line"><span class="lineno">  801</span><span class="keyword">def </span>_convert_container(container, constructor_name, columns_name=None, dtype=None):</div>
<div class="line"><span class="lineno">  802</span>    <span class="stringliteral">&quot;&quot;&quot;Convert a given container to a specific array-like with a dtype.</span></div>
<div class="line"><span class="lineno">  803</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  804</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  805</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  806</span><span class="stringliteral">    container : array-like</span></div>
<div class="line"><span class="lineno">  807</span><span class="stringliteral">        The container to convert.</span></div>
<div class="line"><span class="lineno">  808</span><span class="stringliteral">    constructor_name : {&quot;list&quot;, &quot;tuple&quot;, &quot;array&quot;, &quot;sparse&quot;, &quot;dataframe&quot;, \</span></div>
<div class="line"><span class="lineno">  809</span><span class="stringliteral">            &quot;series&quot;, &quot;index&quot;, &quot;slice&quot;, &quot;sparse_csr&quot;, &quot;sparse_csc&quot;}</span></div>
<div class="line"><span class="lineno">  810</span><span class="stringliteral">        The type of the returned container.</span></div>
<div class="line"><span class="lineno">  811</span><span class="stringliteral">    columns_name : index or array-like, default=None</span></div>
<div class="line"><span class="lineno">  812</span><span class="stringliteral">        For pandas container supporting `columns_names`, it will affect</span></div>
<div class="line"><span class="lineno">  813</span><span class="stringliteral">        specific names.</span></div>
<div class="line"><span class="lineno">  814</span><span class="stringliteral">    dtype : dtype, default=None</span></div>
<div class="line"><span class="lineno">  815</span><span class="stringliteral">        Force the dtype of the container. Does not apply to `&quot;slice&quot;`</span></div>
<div class="line"><span class="lineno">  816</span><span class="stringliteral">        container.</span></div>
<div class="line"><span class="lineno">  817</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  818</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  819</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  820</span><span class="stringliteral">    converted_container</span></div>
<div class="line"><span class="lineno">  821</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  822</span>    <span class="keywordflow">if</span> constructor_name == <span class="stringliteral">&quot;list&quot;</span>:</div>
<div class="line"><span class="lineno">  823</span>        <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  824</span>            <span class="keywordflow">return</span> list(container)</div>
<div class="line"><span class="lineno">  825</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  826</span>            <span class="keywordflow">return</span> np.asarray(container, dtype=dtype).tolist()</div>
<div class="line"><span class="lineno">  827</span>    <span class="keywordflow">elif</span> constructor_name == <span class="stringliteral">&quot;tuple&quot;</span>:</div>
<div class="line"><span class="lineno">  828</span>        <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  829</span>            <span class="keywordflow">return</span> tuple(container)</div>
<div class="line"><span class="lineno">  830</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  831</span>            <span class="keywordflow">return</span> tuple(np.asarray(container, dtype=dtype).tolist())</div>
<div class="line"><span class="lineno">  832</span>    <span class="keywordflow">elif</span> constructor_name == <span class="stringliteral">&quot;array&quot;</span>:</div>
<div class="line"><span class="lineno">  833</span>        <span class="keywordflow">return</span> np.asarray(container, dtype=dtype)</div>
<div class="line"><span class="lineno">  834</span>    <span class="keywordflow">elif</span> constructor_name == <span class="stringliteral">&quot;sparse&quot;</span>:</div>
<div class="line"><span class="lineno">  835</span>        <span class="keywordflow">return</span> sp.sparse.csr_matrix(container, dtype=dtype)</div>
<div class="line"><span class="lineno">  836</span>    <span class="keywordflow">elif</span> constructor_name == <span class="stringliteral">&quot;dataframe&quot;</span>:</div>
<div class="line"><span class="lineno">  837</span>        pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  838</span>        <span class="keywordflow">return</span> pd.DataFrame(container, columns=columns_name, dtype=dtype)</div>
<div class="line"><span class="lineno">  839</span>    <span class="keywordflow">elif</span> constructor_name == <span class="stringliteral">&quot;series&quot;</span>:</div>
<div class="line"><span class="lineno">  840</span>        pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  841</span>        <span class="keywordflow">return</span> pd.Series(container, dtype=dtype)</div>
<div class="line"><span class="lineno">  842</span>    <span class="keywordflow">elif</span> constructor_name == <span class="stringliteral">&quot;index&quot;</span>:</div>
<div class="line"><span class="lineno">  843</span>        pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  844</span>        <span class="keywordflow">return</span> pd.Index(container, dtype=dtype)</div>
<div class="line"><span class="lineno">  845</span>    <span class="keywordflow">elif</span> constructor_name == <span class="stringliteral">&quot;slice&quot;</span>:</div>
<div class="line"><span class="lineno">  846</span>        <span class="keywordflow">return</span> slice(container[0], container[1])</div>
<div class="line"><span class="lineno">  847</span>    <span class="keywordflow">elif</span> constructor_name == <span class="stringliteral">&quot;sparse_csr&quot;</span>:</div>
<div class="line"><span class="lineno">  848</span>        <span class="keywordflow">return</span> sp.sparse.csr_matrix(container, dtype=dtype)</div>
<div class="line"><span class="lineno">  849</span>    <span class="keywordflow">elif</span> constructor_name == <span class="stringliteral">&quot;sparse_csc&quot;</span>:</div>
<div class="line"><span class="lineno">  850</span>        <span class="keywordflow">return</span> sp.sparse.csc_matrix(container, dtype=dtype)</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac06661d53d38ec68febcbc279d89d69f" name="ac06661d53d38ec68febcbc279d89d69f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac06661d53d38ec68febcbc279d89d69f">&#9670;&#160;</a></span>_create_aligned_memmap_backed_arrays()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing._create_aligned_memmap_backed_arrays </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mmap_mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>folder</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  486</span><span class="keyword">def </span>_create_aligned_memmap_backed_arrays(data, mmap_mode, folder):</div>
<div class="line"><span class="lineno">  487</span>    <span class="keywordflow">if</span> isinstance(data, np.ndarray):</div>
<div class="line"><span class="lineno">  488</span>        filename = op.join(folder, <span class="stringliteral">&quot;data.dat&quot;</span>)</div>
<div class="line"><span class="lineno">  489</span>        <span class="keywordflow">return</span> _create_memmap_backed_array(data, filename, mmap_mode)</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>    <span class="keywordflow">if</span> isinstance(data, Sequence) <span class="keywordflow">and</span> all(</div>
<div class="line"><span class="lineno">  492</span>        isinstance(each, np.ndarray) <span class="keywordflow">for</span> each <span class="keywordflow">in</span> data</div>
<div class="line"><span class="lineno">  493</span>    ):</div>
<div class="line"><span class="lineno">  494</span>        <span class="keywordflow">return</span> [</div>
<div class="line"><span class="lineno">  495</span>            _create_memmap_backed_array(</div>
<div class="line"><span class="lineno">  496</span>                array, op.join(folder, f<span class="stringliteral">&quot;data{index}.dat&quot;</span>), mmap_mode</div>
<div class="line"><span class="lineno">  497</span>            )</div>
<div class="line"><span class="lineno">  498</span>            <span class="keywordflow">for</span> index, array <span class="keywordflow">in</span> enumerate(data)</div>
<div class="line"><span class="lineno">  499</span>        ]</div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span>    <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  502</span>        <span class="stringliteral">&quot;When creating aligned memmap-backed arrays, input must be a single array or a&quot;</span></div>
<div class="line"><span class="lineno">  503</span>        <span class="stringliteral">&quot; sequence of arrays&quot;</span></div>
<div class="line"><span class="lineno">  504</span>    )</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad02227dc7141112ec89f6b9f94100859" name="ad02227dc7141112ec89f6b9f94100859"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad02227dc7141112ec89f6b9f94100859">&#9670;&#160;</a></span>_create_memmap_backed_array()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing._create_memmap_backed_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mmap_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  475</span><span class="keyword">def </span>_create_memmap_backed_array(array, filename, mmap_mode):</div>
<div class="line"><span class="lineno">  476</span>    <span class="comment"># https://numpy.org/doc/stable/reference/generated/numpy.memmap.html</span></div>
<div class="line"><span class="lineno">  477</span>    fp = np.memmap(filename, dtype=array.dtype, mode=<span class="stringliteral">&quot;w+&quot;</span>, shape=array.shape)</div>
<div class="line"><span class="lineno">  478</span>    fp[:] = array[:]  <span class="comment"># write array to memmap array</span></div>
<div class="line"><span class="lineno">  479</span>    fp.flush()</div>
<div class="line"><span class="lineno">  480</span>    memmap_backed_array = np.memmap(</div>
<div class="line"><span class="lineno">  481</span>        filename, dtype=array.dtype, mode=mmap_mode, shape=array.shape</div>
<div class="line"><span class="lineno">  482</span>    )</div>
<div class="line"><span class="lineno">  483</span>    <span class="keywordflow">return</span> memmap_backed_array</div>
<div class="line"><span class="lineno">  484</span> </div>
<div class="line"><span class="lineno">  485</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a281d229b9b77ec1f81cd86bb41156c8b" name="a281d229b9b77ec1f81cd86bb41156c8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a281d229b9b77ec1f81cd86bb41156c8b">&#9670;&#160;</a></span>_delete_folder()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing._delete_folder </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>folder_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>warn</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Utility function to cleanup a temporary folder if still existing.

Copy from joblib.pool (for independence).
</pre> <div class="fragment"><div class="line"><span class="lineno">  438</span><span class="keyword">def </span>_delete_folder(folder_path, warn=False):</div>
<div class="line"><span class="lineno">  439</span>    <span class="stringliteral">&quot;&quot;&quot;Utility function to cleanup a temporary folder if still existing.</span></div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral">    Copy from joblib.pool (for independence).</span></div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  443</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  444</span>        <span class="keywordflow">if</span> os.path.exists(folder_path):</div>
<div class="line"><span class="lineno">  445</span>            <span class="comment"># This can fail under windows,</span></div>
<div class="line"><span class="lineno">  446</span>            <span class="comment">#  but will succeed when called by atexit</span></div>
<div class="line"><span class="lineno">  447</span>            shutil.rmtree(folder_path)</div>
<div class="line"><span class="lineno">  448</span>    <span class="keywordflow">except</span> WindowsError:</div>
<div class="line"><span class="lineno">  449</span>        <span class="keywordflow">if</span> warn:</div>
<div class="line"><span class="lineno">  450</span>            warnings.warn(<span class="stringliteral">&quot;Could not delete temporary folder %s&quot;</span> % folder_path)</div>
<div class="line"><span class="lineno">  451</span> </div>
<div class="line"><span class="lineno">  452</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad6330f110f84248ed9cc2c36d1a7786f" name="ad6330f110f84248ed9cc2c36d1a7786f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6330f110f84248ed9cc2c36d1a7786f">&#9670;&#160;</a></span>_get_args()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing._get_args </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>varargs</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper to get function arguments.</pre> <div class="fragment"><div class="line"><span class="lineno">  551</span><span class="keyword">def </span>_get_args(function, varargs=False):</div>
<div class="line"><span class="lineno">  552</span>    <span class="stringliteral">&quot;&quot;&quot;Helper to get function arguments.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  555</span>        params = signature(function).parameters</div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  557</span>        <span class="comment"># Error on builtin C function</span></div>
<div class="line"><span class="lineno">  558</span>        <span class="keywordflow">return</span> []</div>
<div class="line"><span class="lineno">  559</span>    args = [</div>
<div class="line"><span class="lineno">  560</span>        key</div>
<div class="line"><span class="lineno">  561</span>        <span class="keywordflow">for</span> key, param <span class="keywordflow">in</span> params.items()</div>
<div class="line"><span class="lineno">  562</span>        <span class="keywordflow">if</span> param.kind <span class="keywordflow">not</span> <span class="keywordflow">in</span> (param.VAR_POSITIONAL, param.VAR_KEYWORD)</div>
<div class="line"><span class="lineno">  563</span>    ]</div>
<div class="line"><span class="lineno">  564</span>    <span class="keywordflow">if</span> varargs:</div>
<div class="line"><span class="lineno">  565</span>        varargs = [</div>
<div class="line"><span class="lineno">  566</span>            param.name</div>
<div class="line"><span class="lineno">  567</span>            <span class="keywordflow">for</span> param <span class="keywordflow">in</span> params.values()</div>
<div class="line"><span class="lineno">  568</span>            <span class="keywordflow">if</span> param.kind == param.VAR_POSITIONAL</div>
<div class="line"><span class="lineno">  569</span>        ]</div>
<div class="line"><span class="lineno">  570</span>        <span class="keywordflow">if</span> len(varargs) == 0:</div>
<div class="line"><span class="lineno">  571</span>            varargs = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  572</span>        <span class="keywordflow">return</span> args, varargs</div>
<div class="line"><span class="lineno">  573</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  574</span>        <span class="keywordflow">return</span> args</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acb013aaa5f2ed224c5a40c806eceafb7" name="acb013aaa5f2ed224c5a40c806eceafb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb013aaa5f2ed224c5a40c806eceafb7">&#9670;&#160;</a></span>_get_func_name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing._get_func_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get function full name.

Parameters
----------
func : callable
    The function object.

Returns
-------
name : str
    The function name.
</pre> <div class="fragment"><div class="line"><span class="lineno">  577</span><span class="keyword">def </span>_get_func_name(func):</div>
<div class="line"><span class="lineno">  578</span>    <span class="stringliteral">&quot;&quot;&quot;Get function full name.</span></div>
<div class="line"><span class="lineno">  579</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  580</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  581</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  582</span><span class="stringliteral">    func : callable</span></div>
<div class="line"><span class="lineno">  583</span><span class="stringliteral">        The function object.</span></div>
<div class="line"><span class="lineno">  584</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  585</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  586</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  587</span><span class="stringliteral">    name : str</span></div>
<div class="line"><span class="lineno">  588</span><span class="stringliteral">        The function name.</span></div>
<div class="line"><span class="lineno">  589</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  590</span>    parts = []</div>
<div class="line"><span class="lineno">  591</span>    module = inspect.getmodule(func)</div>
<div class="line"><span class="lineno">  592</span>    <span class="keywordflow">if</span> module:</div>
<div class="line"><span class="lineno">  593</span>        parts.append(module.__name__)</div>
<div class="line"><span class="lineno">  594</span> </div>
<div class="line"><span class="lineno">  595</span>    qualname = func.__qualname__</div>
<div class="line"><span class="lineno">  596</span>    <span class="keywordflow">if</span> qualname != func.__name__:</div>
<div class="line"><span class="lineno">  597</span>        parts.append(qualname[: qualname.find(<span class="stringliteral">&quot;.&quot;</span>)])</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    parts.append(func.__name__)</div>
<div class="line"><span class="lineno">  600</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;.&quot;</span>.join(parts)</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="line"><span class="lineno">  602</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a003210fc502cc0971079e20a0460e428" name="a003210fc502cc0971079e20a0460e428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a003210fc502cc0971079e20a0460e428">&#9670;&#160;</a></span>assert_allclose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.assert_allclose </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>desired</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rtol</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>atol</em> = <code>0.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>equal_nan</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em> = <code>&quot;&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">dtype-aware variant of numpy.testing.assert_allclose

This variant introspects the least precise floating point dtype
in the input argument and automatically sets the relative tolerance
parameter to 1e-4 float32 and use 1e-7 otherwise (typically float64
in scikit-learn).

`atol` is always left to 0. by default. It should be adjusted manually
to an assertion-specific value in case there are null values expected
in `desired`.

The aggregate tolerance is `atol + rtol * abs(desired)`.

Parameters
----------
actual : array_like
    Array obtained.
desired : array_like
    Array desired.
rtol : float, optional, default=None
    Relative tolerance.
    If None, it is set based on the provided arrays' dtypes.
atol : float, optional, default=0.
    Absolute tolerance.
equal_nan : bool, optional, default=True
    If True, NaNs will compare equal.
err_msg : str, optional, default=''
    The error message to be printed in case of failure.
verbose : bool, optional, default=True
    If True, the conflicting values are appended to the error message.

Raises
------
AssertionError
    If actual and desired are not equal up to specified precision.

See Also
--------
numpy.testing.assert_allclose

Examples
--------
&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; from sklearn.utils._testing import assert_allclose
&gt;&gt;&gt; x = [1e-5, 1e-3, 1e-1]
&gt;&gt;&gt; y = np.arccos(np.cos(x))
&gt;&gt;&gt; assert_allclose(x, y, rtol=1e-5, atol=0)
&gt;&gt;&gt; a = np.full(shape=10, fill_value=1e-5, dtype=np.float32)
&gt;&gt;&gt; assert_allclose(a, 1e-5)
</pre> <div class="fragment"><div class="line"><span class="lineno">  262</span>):</div>
<div class="line"><span class="lineno">  263</span>    <span class="stringliteral">&quot;&quot;&quot;dtype-aware variant of numpy.testing.assert_allclose</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">    This variant introspects the least precise floating point dtype</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral">    in the input argument and automatically sets the relative tolerance</span></div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">    parameter to 1e-4 float32 and use 1e-7 otherwise (typically float64</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral">    in scikit-learn).</span></div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral">    `atol` is always left to 0. by default. It should be adjusted manually</span></div>
<div class="line"><span class="lineno">  271</span><span class="stringliteral">    to an assertion-specific value in case there are null values expected</span></div>
<div class="line"><span class="lineno">  272</span><span class="stringliteral">    in `desired`.</span></div>
<div class="line"><span class="lineno">  273</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  274</span><span class="stringliteral">    The aggregate tolerance is `atol + rtol * abs(desired)`.</span></div>
<div class="line"><span class="lineno">  275</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  276</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  277</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  278</span><span class="stringliteral">    actual : array_like</span></div>
<div class="line"><span class="lineno">  279</span><span class="stringliteral">        Array obtained.</span></div>
<div class="line"><span class="lineno">  280</span><span class="stringliteral">    desired : array_like</span></div>
<div class="line"><span class="lineno">  281</span><span class="stringliteral">        Array desired.</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral">    rtol : float, optional, default=None</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">        Relative tolerance.</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral">        If None, it is set based on the provided arrays&#39; dtypes.</span></div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral">    atol : float, optional, default=0.</span></div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral">        Absolute tolerance.</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">    equal_nan : bool, optional, default=True</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral">        If True, NaNs will compare equal.</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral">    err_msg : str, optional, default=&#39;&#39;</span></div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral">        The error message to be printed in case of failure.</span></div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">    verbose : bool, optional, default=True</span></div>
<div class="line"><span class="lineno">  292</span><span class="stringliteral">        If True, the conflicting values are appended to the error message.</span></div>
<div class="line"><span class="lineno">  293</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  294</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">    AssertionError</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral">        If actual and desired are not equal up to specified precision.</span></div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">    numpy.testing.assert_allclose</span></div>
<div class="line"><span class="lineno">  302</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  303</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  304</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">    &gt;&gt;&gt; import numpy as np</span></div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral">    &gt;&gt;&gt; from sklearn.utils._testing import assert_allclose</span></div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral">    &gt;&gt;&gt; x = [1e-5, 1e-3, 1e-1]</span></div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">    &gt;&gt;&gt; y = np.arccos(np.cos(x))</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral">    &gt;&gt;&gt; assert_allclose(x, y, rtol=1e-5, atol=0)</span></div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">    &gt;&gt;&gt; a = np.full(shape=10, fill_value=1e-5, dtype=np.float32)</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral">    &gt;&gt;&gt; assert_allclose(a, 1e-5)</span></div>
<div class="line"><span class="lineno">  312</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  313</span>    dtypes = []</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>    actual, desired = np.asanyarray(actual), np.asanyarray(desired)</div>
<div class="line"><span class="lineno">  316</span>    dtypes = [actual.dtype, desired.dtype]</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>    <span class="keywordflow">if</span> rtol <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  319</span>        rtols = [1e-4 <span class="keywordflow">if</span> dtype == np.float32 <span class="keywordflow">else</span> 1e-7 <span class="keywordflow">for</span> dtype <span class="keywordflow">in</span> dtypes]</div>
<div class="line"><span class="lineno">  320</span>        rtol = max(rtols)</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>    np_assert_allclose(</div>
<div class="line"><span class="lineno">  323</span>        actual,</div>
<div class="line"><span class="lineno">  324</span>        desired,</div>
<div class="line"><span class="lineno">  325</span>        rtol=rtol,</div>
<div class="line"><span class="lineno">  326</span>        atol=atol,</div>
<div class="line"><span class="lineno">  327</span>        equal_nan=equal_nan,</div>
<div class="line"><span class="lineno">  328</span>        err_msg=err_msg,</div>
<div class="line"><span class="lineno">  329</span>        verbose=verbose,</div>
<div class="line"><span class="lineno">  330</span>    )</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a61b77b0e15b2a81c9d315478de5cf6e1" name="a61b77b0e15b2a81c9d315478de5cf6e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b77b0e15b2a81c9d315478de5cf6e1">&#9670;&#160;</a></span>assert_allclose_dense_sparse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.assert_allclose_dense_sparse </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rtol</em> = <code>1e-07</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>atol</em> = <code>1e-9</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Assert allclose for sparse and dense data.

Both x and y need to be either sparse or dense, they
can't be mixed.

Parameters
----------
x : {array-like, sparse matrix}
    First array to compare.

y : {array-like, sparse matrix}
    Second array to compare.

rtol : float, default=1e-07
    relative tolerance; see numpy.allclose.

atol : float, default=1e-9
    absolute tolerance; see numpy.allclose. Note that the default here is
    more tolerant than the default for numpy.testing.assert_allclose, where
    atol=0.

err_msg : str, default=''
    Error message to raise.
</pre> <div class="fragment"><div class="line"><span class="lineno">  333</span><span class="keyword">def </span>assert_allclose_dense_sparse(x, y, rtol=1e-07, atol=1e-9, err_msg=&quot;&quot;):</div>
<div class="line"><span class="lineno">  334</span>    <span class="stringliteral">&quot;&quot;&quot;Assert allclose for sparse and dense data.</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">    Both x and y need to be either sparse or dense, they</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">    can&#39;t be mixed.</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral">    x : {array-like, sparse matrix}</span></div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral">        First array to compare.</span></div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  344</span><span class="stringliteral">    y : {array-like, sparse matrix}</span></div>
<div class="line"><span class="lineno">  345</span><span class="stringliteral">        Second array to compare.</span></div>
<div class="line"><span class="lineno">  346</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  347</span><span class="stringliteral">    rtol : float, default=1e-07</span></div>
<div class="line"><span class="lineno">  348</span><span class="stringliteral">        relative tolerance; see numpy.allclose.</span></div>
<div class="line"><span class="lineno">  349</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  350</span><span class="stringliteral">    atol : float, default=1e-9</span></div>
<div class="line"><span class="lineno">  351</span><span class="stringliteral">        absolute tolerance; see numpy.allclose. Note that the default here is</span></div>
<div class="line"><span class="lineno">  352</span><span class="stringliteral">        more tolerant than the default for numpy.testing.assert_allclose, where</span></div>
<div class="line"><span class="lineno">  353</span><span class="stringliteral">        atol=0.</span></div>
<div class="line"><span class="lineno">  354</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  355</span><span class="stringliteral">    err_msg : str, default=&#39;&#39;</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral">        Error message to raise.</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  358</span>    <span class="keywordflow">if</span> sp.sparse.issparse(x) <span class="keywordflow">and</span> sp.sparse.issparse(y):</div>
<div class="line"><span class="lineno">  359</span>        x = x.tocsr()</div>
<div class="line"><span class="lineno">  360</span>        y = y.tocsr()</div>
<div class="line"><span class="lineno">  361</span>        x.sum_duplicates()</div>
<div class="line"><span class="lineno">  362</span>        y.sum_duplicates()</div>
<div class="line"><span class="lineno">  363</span>        assert_array_equal(x.indices, y.indices, err_msg=err_msg)</div>
<div class="line"><span class="lineno">  364</span>        assert_array_equal(x.indptr, y.indptr, err_msg=err_msg)</div>
<div class="line"><span class="lineno">  365</span>        assert_allclose(x.data, y.data, rtol=rtol, atol=atol, err_msg=err_msg)</div>
<div class="line"><span class="lineno">  366</span>    <span class="keywordflow">elif</span> <span class="keywordflow">not</span> sp.sparse.issparse(x) <span class="keywordflow">and</span> <span class="keywordflow">not</span> sp.sparse.issparse(y):</div>
<div class="line"><span class="lineno">  367</span>        <span class="comment"># both dense</span></div>
<div class="line"><span class="lineno">  368</span>        assert_allclose(x, y, rtol=rtol, atol=atol, err_msg=err_msg)</div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  371</span>            <span class="stringliteral">&quot;Can only compare two sparse matrices, not a sparse matrix and an array.&quot;</span></div>
<div class="line"><span class="lineno">  372</span>        )</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac029e257279512b34147422c61756bff" name="ac029e257279512b34147422c61756bff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac029e257279512b34147422c61756bff">&#9670;&#160;</a></span>assert_no_warnings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.assert_no_warnings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parameters
----------
func
*args
**kw
</pre> <div class="fragment"><div class="line"><span class="lineno">   92</span><span class="keyword">def </span>assert_no_warnings(func, *args, **kw):</div>
<div class="line"><span class="lineno">   93</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    func</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">    *args</span></div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">    **kw</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  100</span>    <span class="comment"># very important to avoid uncontrolled state propagation</span></div>
<div class="line"><span class="lineno">  101</span>    <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> w:</div>
<div class="line"><span class="lineno">  102</span>        warnings.simplefilter(<span class="stringliteral">&quot;always&quot;</span>)</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>        result = <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(*args, **kw)</div>
<div class="line"><span class="lineno">  105</span>        <span class="keywordflow">if</span> hasattr(np, <span class="stringliteral">&quot;FutureWarning&quot;</span>):</div>
<div class="line"><span class="lineno">  106</span>            <span class="comment"># Filter out numpy-specific warnings in numpy &gt;= 1.9</span></div>
<div class="line"><span class="lineno">  107</span>            w = [e <span class="keywordflow">for</span> e <span class="keywordflow">in</span> w <span class="keywordflow">if</span> e.category <span class="keywordflow">is</span> <span class="keywordflow">not</span> np.VisibleDeprecationWarning]</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>        <span class="keywordflow">if</span> len(w) &gt; 0:</div>
<div class="line"><span class="lineno">  110</span>            <span class="keywordflow">raise</span> AssertionError(</div>
<div class="line"><span class="lineno">  111</span>                <span class="stringliteral">&quot;Got warnings when calling %s: [%s]&quot;</span></div>
<div class="line"><span class="lineno">  112</span>                % (func.__name__, <span class="stringliteral">&quot;, &quot;</span>.join(str(warning) <span class="keywordflow">for</span> warning <span class="keywordflow">in</span> w))</div>
<div class="line"><span class="lineno">  113</span>            )</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="ttc" id="acallback_2foo_8f_html_a565fe2cc583df102f120752b0011c330"><div class="ttname"><a href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a></div><div class="ttdeci">subroutine func(a)</div><div class="ttdef"><b>Definition</b> foo.f:9</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e7173ef536c97817637bf55136bcc81" name="a8e7173ef536c97817637bf55136bcc81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e7173ef536c97817637bf55136bcc81">&#9670;&#160;</a></span>assert_raise_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.assert_raise_message </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>exceptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>function</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper function to test the message raised in an exception.

Given an exception, a callable to raise the exception, and
a message string, tests that the correct exception is raised and
that the message is a substring of the error thrown. Used to test
that the specific message thrown during an exception is correct.

Parameters
----------
exceptions : exception or tuple of exception
    An Exception object.

message : str
    The error message or a substring of the error message.

function : callable
    Callable object to raise error.

*args : the positional arguments to `function`.

**kwargs : the keyword arguments to `function`.
</pre> <div class="fragment"><div class="line"><span class="lineno">  218</span><span class="keyword">def </span>assert_raise_message(exceptions, message, function, *args, **kwargs):</div>
<div class="line"><span class="lineno">  219</span>    <span class="stringliteral">&quot;&quot;&quot;Helper function to test the message raised in an exception.</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">    Given an exception, a callable to raise the exception, and</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral">    a message string, tests that the correct exception is raised and</span></div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">    that the message is a substring of the error thrown. Used to test</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral">    that the specific message thrown during an exception is correct.</span></div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  226</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  227</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  228</span><span class="stringliteral">    exceptions : exception or tuple of exception</span></div>
<div class="line"><span class="lineno">  229</span><span class="stringliteral">        An Exception object.</span></div>
<div class="line"><span class="lineno">  230</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  231</span><span class="stringliteral">    message : str</span></div>
<div class="line"><span class="lineno">  232</span><span class="stringliteral">        The error message or a substring of the error message.</span></div>
<div class="line"><span class="lineno">  233</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral">    function : callable</span></div>
<div class="line"><span class="lineno">  235</span><span class="stringliteral">        Callable object to raise error.</span></div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">    *args : the positional arguments to `function`.</span></div>
<div class="line"><span class="lineno">  238</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral">    **kwargs : the keyword arguments to `function`.</span></div>
<div class="line"><span class="lineno">  240</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  242</span>        function(*args, **kwargs)</div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">except</span> exceptions <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  244</span>        error_message = str(e)</div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordflow">if</span> message <span class="keywordflow">not</span> <span class="keywordflow">in</span> error_message:</div>
<div class="line"><span class="lineno">  246</span>            <span class="keywordflow">raise</span> AssertionError(</div>
<div class="line"><span class="lineno">  247</span>                <span class="stringliteral">&quot;Error message does not include the expected&quot;</span></div>
<div class="line"><span class="lineno">  248</span>                <span class="stringliteral">&quot; string: %r. Observed error message: %r&quot;</span> % (message, error_message)</div>
<div class="line"><span class="lineno">  249</span>            )</div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  251</span>        <span class="comment"># concatenate exception names</span></div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">if</span> isinstance(exceptions, tuple):</div>
<div class="line"><span class="lineno">  253</span>            names = <span class="stringliteral">&quot; or &quot;</span>.join(e.__name__ <span class="keywordflow">for</span> e <span class="keywordflow">in</span> exceptions)</div>
<div class="line"><span class="lineno">  254</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  255</span>            names = exceptions.__name__</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>        <span class="keywordflow">raise</span> AssertionError(<span class="stringliteral">&quot;%s not raised by %s&quot;</span> % (names, function.__name__))</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad9c859122ed38a66a4342897c2e42b11" name="ad9c859122ed38a66a4342897c2e42b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9c859122ed38a66a4342897c2e42b11">&#9670;&#160;</a></span>assert_run_python_script()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.assert_run_python_script </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>60</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Utility to check assertions in an independent Python subprocess.

The script provided in the source code should return 0 and not print
anything on stderr or stdout.

This is a port from cloudpickle https://github.com/cloudpipe/cloudpickle

Parameters
----------
source_code : str
    The Python source code to execute.
timeout : int, default=60
    Time in seconds before timeout.
</pre> <div class="fragment"><div class="line"><span class="lineno">  750</span><span class="keyword">def </span>assert_run_python_script(source_code, timeout=60):</div>
<div class="line"><span class="lineno">  751</span>    <span class="stringliteral">&quot;&quot;&quot;Utility to check assertions in an independent Python subprocess.</span></div>
<div class="line"><span class="lineno">  752</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  753</span><span class="stringliteral">    The script provided in the source code should return 0 and not print</span></div>
<div class="line"><span class="lineno">  754</span><span class="stringliteral">    anything on stderr or stdout.</span></div>
<div class="line"><span class="lineno">  755</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  756</span><span class="stringliteral">    This is a port from cloudpickle https://github.com/cloudpipe/cloudpickle</span></div>
<div class="line"><span class="lineno">  757</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  758</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  759</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  760</span><span class="stringliteral">    source_code : str</span></div>
<div class="line"><span class="lineno">  761</span><span class="stringliteral">        The Python source code to execute.</span></div>
<div class="line"><span class="lineno">  762</span><span class="stringliteral">    timeout : int, default=60</span></div>
<div class="line"><span class="lineno">  763</span><span class="stringliteral">        Time in seconds before timeout.</span></div>
<div class="line"><span class="lineno">  764</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  765</span>    fd, source_file = tempfile.mkstemp(suffix=<span class="stringliteral">&quot;_src_test_sklearn.py&quot;</span>)</div>
<div class="line"><span class="lineno">  766</span>    os.close(fd)</div>
<div class="line"><span class="lineno">  767</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  768</span>        <span class="keyword">with</span> open(source_file, <span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  769</span>            f.write(source_code.encode(<span class="stringliteral">&quot;utf-8&quot;</span>))</div>
<div class="line"><span class="lineno">  770</span>        cmd = [sys.executable, source_file]</div>
<div class="line"><span class="lineno">  771</span>        cwd = op.normpath(op.join(op.dirname(sklearn.__file__), <span class="stringliteral">&quot;..&quot;</span>))</div>
<div class="line"><span class="lineno">  772</span>        env = os.environ.copy()</div>
<div class="line"><span class="lineno">  773</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  774</span>            env[<span class="stringliteral">&quot;PYTHONPATH&quot;</span>] = os.pathsep.join([cwd, env[<span class="stringliteral">&quot;PYTHONPATH&quot;</span>]])</div>
<div class="line"><span class="lineno">  775</span>        <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><span class="lineno">  776</span>            env[<span class="stringliteral">&quot;PYTHONPATH&quot;</span>] = cwd</div>
<div class="line"><span class="lineno">  777</span>        kwargs = {<span class="stringliteral">&quot;cwd&quot;</span>: cwd, <span class="stringliteral">&quot;stderr&quot;</span>: STDOUT, <span class="stringliteral">&quot;env&quot;</span>: env}</div>
<div class="line"><span class="lineno">  778</span>        <span class="comment"># If coverage is running, pass the config file to the subprocess</span></div>
<div class="line"><span class="lineno">  779</span>        coverage_rc = os.environ.get(<span class="stringliteral">&quot;COVERAGE_PROCESS_START&quot;</span>)</div>
<div class="line"><span class="lineno">  780</span>        <span class="keywordflow">if</span> coverage_rc:</div>
<div class="line"><span class="lineno">  781</span>            kwargs[<span class="stringliteral">&quot;env&quot;</span>][<span class="stringliteral">&quot;COVERAGE_PROCESS_START&quot;</span>] = coverage_rc</div>
<div class="line"><span class="lineno">  782</span> </div>
<div class="line"><span class="lineno">  783</span>        kwargs[<span class="stringliteral">&quot;timeout&quot;</span>] = timeout</div>
<div class="line"><span class="lineno">  784</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  785</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  786</span>                out = check_output(cmd, **kwargs)</div>
<div class="line"><span class="lineno">  787</span>            <span class="keywordflow">except</span> CalledProcessError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  788</span>                <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  789</span>                    <span class="stringliteral">&quot;script errored with output:\n%s&quot;</span> % e.output.decode(<span class="stringliteral">&quot;utf-8&quot;</span>)</div>
<div class="line"><span class="lineno">  790</span>                )</div>
<div class="line"><span class="lineno">  791</span>            <span class="keywordflow">if</span> out != b<span class="stringliteral">&quot;&quot;</span>:</div>
<div class="line"><span class="lineno">  792</span>                <span class="keywordflow">raise</span> AssertionError(out.decode(<span class="stringliteral">&quot;utf-8&quot;</span>))</div>
<div class="line"><span class="lineno">  793</span>        <span class="keywordflow">except</span> TimeoutExpired <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  794</span>            <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  795</span>                <span class="stringliteral">&quot;script timeout, output so far:\n%s&quot;</span> % e.output.decode(<span class="stringliteral">&quot;utf-8&quot;</span>)</div>
<div class="line"><span class="lineno">  796</span>            )</div>
<div class="line"><span class="lineno">  797</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  798</span>        os.unlink(source_file)</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a56d5212b78d492949399076fe7bb9875" name="a56d5212b78d492949399076fe7bb9875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56d5212b78d492949399076fe7bb9875">&#9670;&#160;</a></span>check_docstring_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.check_docstring_parameters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>doc</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ignore</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper to check docstring.

Parameters
----------
func : callable
    The function object to test.
doc : str, default=None
    Docstring if it is passed manually to the test.
ignore : list, default=None
    Parameters to ignore.

Returns
-------
incorrect : list
    A list of string describing the incorrect results.
</pre> <div class="fragment"><div class="line"><span class="lineno">  603</span><span class="keyword">def </span>check_docstring_parameters(func, doc=None, ignore=None):</div>
<div class="line"><span class="lineno">  604</span>    <span class="stringliteral">&quot;&quot;&quot;Helper to check docstring.</span></div>
<div class="line"><span class="lineno">  605</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  606</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  607</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  608</span><span class="stringliteral">    func : callable</span></div>
<div class="line"><span class="lineno">  609</span><span class="stringliteral">        The function object to test.</span></div>
<div class="line"><span class="lineno">  610</span><span class="stringliteral">    doc : str, default=None</span></div>
<div class="line"><span class="lineno">  611</span><span class="stringliteral">        Docstring if it is passed manually to the test.</span></div>
<div class="line"><span class="lineno">  612</span><span class="stringliteral">    ignore : list, default=None</span></div>
<div class="line"><span class="lineno">  613</span><span class="stringliteral">        Parameters to ignore.</span></div>
<div class="line"><span class="lineno">  614</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  615</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  616</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  617</span><span class="stringliteral">    incorrect : list</span></div>
<div class="line"><span class="lineno">  618</span><span class="stringliteral">        A list of string describing the incorrect results.</span></div>
<div class="line"><span class="lineno">  619</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  620</span>    <span class="keyword">from</span> numpydoc <span class="keyword">import</span> docscrape</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>    incorrect = []</div>
<div class="line"><span class="lineno">  623</span>    ignore = [] <span class="keywordflow">if</span> ignore <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> ignore</div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>    func_name = _get_func_name(func)</div>
<div class="line"><span class="lineno">  626</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> func_name.startswith(<span class="stringliteral">&quot;sklearn.&quot;</span>) <span class="keywordflow">or</span> func_name.startswith(</div>
<div class="line"><span class="lineno">  627</span>        <span class="stringliteral">&quot;sklearn.externals&quot;</span></div>
<div class="line"><span class="lineno">  628</span>    ):</div>
<div class="line"><span class="lineno">  629</span>        <span class="keywordflow">return</span> incorrect</div>
<div class="line"><span class="lineno">  630</span>    <span class="comment"># Don&#39;t check docstring for property-functions</span></div>
<div class="line"><span class="lineno">  631</span>    <span class="keywordflow">if</span> inspect.isdatadescriptor(func):</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">return</span> incorrect</div>
<div class="line"><span class="lineno">  633</span>    <span class="comment"># Don&#39;t check docstring for setup / teardown pytest functions</span></div>
<div class="line"><span class="lineno">  634</span>    <span class="keywordflow">if</span> func_name.split(<span class="stringliteral">&quot;.&quot;</span>)[-1] <span class="keywordflow">in</span> (<span class="stringliteral">&quot;setup_module&quot;</span>, <span class="stringliteral">&quot;teardown_module&quot;</span>):</div>
<div class="line"><span class="lineno">  635</span>        <span class="keywordflow">return</span> incorrect</div>
<div class="line"><span class="lineno">  636</span>    <span class="comment"># Dont check estimator_checks module</span></div>
<div class="line"><span class="lineno">  637</span>    <span class="keywordflow">if</span> func_name.split(<span class="stringliteral">&quot;.&quot;</span>)[2] == <span class="stringliteral">&quot;estimator_checks&quot;</span>:</div>
<div class="line"><span class="lineno">  638</span>        <span class="keywordflow">return</span> incorrect</div>
<div class="line"><span class="lineno">  639</span>    <span class="comment"># Get the arguments from the function signature</span></div>
<div class="line"><span class="lineno">  640</span>    param_signature = list(filter(<span class="keyword">lambda</span> x: x <span class="keywordflow">not</span> <span class="keywordflow">in</span> ignore, _get_args(func)))</div>
<div class="line"><span class="lineno">  641</span>    <span class="comment"># drop self</span></div>
<div class="line"><span class="lineno">  642</span>    <span class="keywordflow">if</span> len(param_signature) &gt; 0 <span class="keywordflow">and</span> param_signature[0] == <span class="stringliteral">&quot;self&quot;</span>:</div>
<div class="line"><span class="lineno">  643</span>        param_signature.remove(<span class="stringliteral">&quot;self&quot;</span>)</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>    <span class="comment"># Analyze function&#39;s docstring</span></div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">if</span> doc <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  647</span>        records = []</div>
<div class="line"><span class="lineno">  648</span>        <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno">  649</span>            warnings.simplefilter(<span class="stringliteral">&quot;error&quot;</span>, UserWarning)</div>
<div class="line"><span class="lineno">  650</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  651</span>                doc = docscrape.FunctionDoc(func)</div>
<div class="line"><span class="lineno">  652</span>            <span class="keywordflow">except</span> UserWarning <span class="keyword">as</span> exp:</div>
<div class="line"><span class="lineno">  653</span>                <span class="keywordflow">if</span> <span class="stringliteral">&quot;potentially wrong underline length&quot;</span> <span class="keywordflow">in</span> str(exp):</div>
<div class="line"><span class="lineno">  654</span>                    <span class="comment"># Catch warning raised as of numpydoc 1.2 when</span></div>
<div class="line"><span class="lineno">  655</span>                    <span class="comment"># the underline length for a section of a docstring</span></div>
<div class="line"><span class="lineno">  656</span>                    <span class="comment"># is not consistent.</span></div>
<div class="line"><span class="lineno">  657</span>                    message = str(exp).split(<span class="stringliteral">&quot;\n&quot;</span>)[:3]</div>
<div class="line"><span class="lineno">  658</span>                    incorrect += [f<span class="stringliteral">&quot;In function: {func_name}&quot;</span>] + message</div>
<div class="line"><span class="lineno">  659</span>                    <span class="keywordflow">return</span> incorrect</div>
<div class="line"><span class="lineno">  660</span>                records.append(str(exp))</div>
<div class="line"><span class="lineno">  661</span>            <span class="keywordflow">except</span> Exception <span class="keyword">as</span> exp:</div>
<div class="line"><span class="lineno">  662</span>                incorrect += [func_name + <span class="stringliteral">&quot; parsing error: &quot;</span> + str(exp)]</div>
<div class="line"><span class="lineno">  663</span>                <span class="keywordflow">return</span> incorrect</div>
<div class="line"><span class="lineno">  664</span>        <span class="keywordflow">if</span> len(records):</div>
<div class="line"><span class="lineno">  665</span>            <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&quot;Error for %s:\n%s&quot;</span> % (func_name, records[0]))</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>    param_docs = []</div>
<div class="line"><span class="lineno">  668</span>    <span class="keywordflow">for</span> name, type_definition, param_doc <span class="keywordflow">in</span> doc[<span class="stringliteral">&quot;Parameters&quot;</span>]:</div>
<div class="line"><span class="lineno">  669</span>        <span class="comment"># Type hints are empty only if parameter name ended with :</span></div>
<div class="line"><span class="lineno">  670</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> type_definition.strip():</div>
<div class="line"><span class="lineno">  671</span>            <span class="keywordflow">if</span> <span class="stringliteral">&quot;:&quot;</span> <span class="keywordflow">in</span> name <span class="keywordflow">and</span> name[: name.index(<span class="stringliteral">&quot;:&quot;</span>)][-1:].strip():</div>
<div class="line"><span class="lineno">  672</span>                incorrect += [</div>
<div class="line"><span class="lineno">  673</span>                    func_name</div>
<div class="line"><span class="lineno">  674</span>                    + <span class="stringliteral">&quot; There was no space between the param name and colon (%r)&quot;</span> % name</div>
<div class="line"><span class="lineno">  675</span>                ]</div>
<div class="line"><span class="lineno">  676</span>            <span class="keywordflow">elif</span> name.rstrip().endswith(<span class="stringliteral">&quot;:&quot;</span>):</div>
<div class="line"><span class="lineno">  677</span>                incorrect += [</div>
<div class="line"><span class="lineno">  678</span>                    func_name</div>
<div class="line"><span class="lineno">  679</span>                    + <span class="stringliteral">&quot; Parameter %r has an empty type spec. Remove the colon&quot;</span></div>
<div class="line"><span class="lineno">  680</span>                    % (name.lstrip())</div>
<div class="line"><span class="lineno">  681</span>                ]</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>        <span class="comment"># Create a list of parameters to compare with the parameters gotten</span></div>
<div class="line"><span class="lineno">  684</span>        <span class="comment"># from the func signature</span></div>
<div class="line"><span class="lineno">  685</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;*&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> name:</div>
<div class="line"><span class="lineno">  686</span>            param_docs.append(name.split(<span class="stringliteral">&quot;:&quot;</span>)[0].strip(<span class="stringliteral">&quot;` &quot;</span>))</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>    <span class="comment"># If one of the docstring&#39;s parameters had an error then return that</span></div>
<div class="line"><span class="lineno">  689</span>    <span class="comment"># incorrect message</span></div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">if</span> len(incorrect) &gt; 0:</div>
<div class="line"><span class="lineno">  691</span>        <span class="keywordflow">return</span> incorrect</div>
<div class="line"><span class="lineno">  692</span> </div>
<div class="line"><span class="lineno">  693</span>    <span class="comment"># Remove the parameters that should be ignored from list</span></div>
<div class="line"><span class="lineno">  694</span>    param_docs = list(filter(<span class="keyword">lambda</span> x: x <span class="keywordflow">not</span> <span class="keywordflow">in</span> ignore, param_docs))</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>    <span class="comment"># The following is derived from pytest, Copyright (c) 2004-2017 Holger</span></div>
<div class="line"><span class="lineno">  697</span>    <span class="comment"># Krekel and others, Licensed under MIT License. See</span></div>
<div class="line"><span class="lineno">  698</span>    <span class="comment"># https://github.com/pytest-dev/pytest</span></div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>    message = []</div>
<div class="line"><span class="lineno">  701</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(min(len(param_docs), len(param_signature))):</div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">if</span> param_signature[i] != param_docs[i]:</div>
<div class="line"><span class="lineno">  703</span>            message += [</div>
<div class="line"><span class="lineno">  704</span>                <span class="stringliteral">&quot;There&#39;s a parameter name mismatch in function&quot;</span></div>
<div class="line"><span class="lineno">  705</span>                <span class="stringliteral">&quot; docstring w.r.t. function signature, at index %s&quot;</span></div>
<div class="line"><span class="lineno">  706</span>                <span class="stringliteral">&quot; diff: %r != %r&quot;</span> % (i, param_signature[i], param_docs[i])</div>
<div class="line"><span class="lineno">  707</span>            ]</div>
<div class="line"><span class="lineno">  708</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">if</span> len(param_signature) &gt; len(param_docs):</div>
<div class="line"><span class="lineno">  710</span>        message += [</div>
<div class="line"><span class="lineno">  711</span>            <span class="stringliteral">&quot;Parameters in function docstring have less items w.r.t.&quot;</span></div>
<div class="line"><span class="lineno">  712</span>            <span class="stringliteral">&quot; function signature, first missing item: %s&quot;</span></div>
<div class="line"><span class="lineno">  713</span>            % param_signature[len(param_docs)]</div>
<div class="line"><span class="lineno">  714</span>        ]</div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>    <span class="keywordflow">elif</span> len(param_signature) &lt; len(param_docs):</div>
<div class="line"><span class="lineno">  717</span>        message += [</div>
<div class="line"><span class="lineno">  718</span>            <span class="stringliteral">&quot;Parameters in function docstring have more items w.r.t.&quot;</span></div>
<div class="line"><span class="lineno">  719</span>            <span class="stringliteral">&quot; function signature, first extra item: %s&quot;</span></div>
<div class="line"><span class="lineno">  720</span>            % param_docs[len(param_signature)]</div>
<div class="line"><span class="lineno">  721</span>        ]</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>    <span class="comment"># If there wasn&#39;t any difference in the parameters themselves between</span></div>
<div class="line"><span class="lineno">  724</span>    <span class="comment"># docstring and signature including having the same length then return</span></div>
<div class="line"><span class="lineno">  725</span>    <span class="comment"># empty list</span></div>
<div class="line"><span class="lineno">  726</span>    <span class="keywordflow">if</span> len(message) == 0:</div>
<div class="line"><span class="lineno">  727</span>        <span class="keywordflow">return</span> []</div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>    <span class="keyword">import</span> difflib</div>
<div class="line"><span class="lineno">  730</span>    <span class="keyword">import</span> pprint</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>    param_docs_formatted = pprint.pformat(param_docs).splitlines()</div>
<div class="line"><span class="lineno">  733</span>    param_signature_formatted = pprint.pformat(param_signature).splitlines()</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>    message += [<span class="stringliteral">&quot;Full diff:&quot;</span>]</div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span>    message.extend(</div>
<div class="line"><span class="lineno">  738</span>        line.strip()</div>
<div class="line"><span class="lineno">  739</span>        <span class="keywordflow">for</span> line <span class="keywordflow">in</span> difflib.ndiff(param_signature_formatted, param_docs_formatted)</div>
<div class="line"><span class="lineno">  740</span>    )</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>    incorrect.extend(message)</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>    <span class="comment"># Prepend function name</span></div>
<div class="line"><span class="lineno">  745</span>    incorrect = [<span class="stringliteral">&quot;In function: &quot;</span> + func_name] + incorrect</div>
<div class="line"><span class="lineno">  746</span> </div>
<div class="line"><span class="lineno">  747</span>    <span class="keywordflow">return</span> incorrect</div>
<div class="line"><span class="lineno">  748</span> </div>
<div class="line"><span class="lineno">  749</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a46fb0c58da6e6fb361b3f44d83450b9a" name="a46fb0c58da6e6fb361b3f44d83450b9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46fb0c58da6e6fb361b3f44d83450b9a">&#9670;&#160;</a></span>check_skip_network()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.check_skip_network </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  433</span><span class="keyword">def </span>check_skip_network():</div>
<div class="line"><span class="lineno">  434</span>    <span class="keywordflow">if</span> int(os.environ.get(<span class="stringliteral">&quot;SKLEARN_SKIP_NETWORK_TESTS&quot;</span>, 0)):</div>
<div class="line"><span class="lineno">  435</span>        <span class="keywordflow">raise</span> SkipTest(<span class="stringliteral">&quot;Text tutorial requires large dataset download&quot;</span>)</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3bb2b703dac85f190951187a1333c3b" name="ac3bb2b703dac85f190951187a1333c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3bb2b703dac85f190951187a1333c3b">&#9670;&#160;</a></span>create_memmap_backed_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.create_memmap_backed_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mmap_mode</em> = <code>&quot;r&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>return_folder</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aligned</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parameters
----------
data
mmap_mode : str, default='r'
return_folder :  bool, default=False
aligned : bool, default=False
    If True, if input is a single numpy array and if the input array is aligned,
    the memory mapped array will also be aligned. This is a workaround for
    https://github.com/joblib/joblib/issues/563.
</pre> <div class="fragment"><div class="line"><span class="lineno">  507</span><span class="keyword">def </span>create_memmap_backed_data(data, mmap_mode=&quot;r&quot;, return_folder=False, aligned=False):</div>
<div class="line"><span class="lineno">  508</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral">    data</span></div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral">    mmap_mode : str, default=&#39;r&#39;</span></div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral">    return_folder :  bool, default=False</span></div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral">    aligned : bool, default=False</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral">        If True, if input is a single numpy array and if the input array is aligned,</span></div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">        the memory mapped array will also be aligned. This is a workaround for</span></div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral">        https://github.com/joblib/joblib/issues/563.</span></div>
<div class="line"><span class="lineno">  518</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  519</span>    temp_folder = tempfile.mkdtemp(prefix=<span class="stringliteral">&quot;sklearn_testing_&quot;</span>)</div>
<div class="line"><span class="lineno">  520</span>    atexit.register(functools.partial(_delete_folder, temp_folder, warn=<span class="keyword">True</span>))</div>
<div class="line"><span class="lineno">  521</span>    <span class="comment"># OpenBLAS is known to segfault with unaligned data on the Prescott</span></div>
<div class="line"><span class="lineno">  522</span>    <span class="comment"># architecture so force aligned=True on Prescott. For more details, see:</span></div>
<div class="line"><span class="lineno">  523</span>    <span class="comment"># https://github.com/scipy/scipy/issues/14886</span></div>
<div class="line"><span class="lineno">  524</span>    has_prescott_openblas = any(</div>
<div class="line"><span class="lineno">  525</span>        <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  526</span>        <span class="keywordflow">for</span> info <span class="keywordflow">in</span> threadpool_info()</div>
<div class="line"><span class="lineno">  527</span>        <span class="keywordflow">if</span> info[<span class="stringliteral">&quot;internal_api&quot;</span>] == <span class="stringliteral">&quot;openblas&quot;</span></div>
<div class="line"><span class="lineno">  528</span>        <span class="comment"># Prudently assume Prescott might be the architecture if it is unknown.</span></div>
<div class="line"><span class="lineno">  529</span>        <span class="keywordflow">and</span> info.get(<span class="stringliteral">&quot;architecture&quot;</span>, <span class="stringliteral">&quot;prescott&quot;</span>).lower() == <span class="stringliteral">&quot;prescott&quot;</span></div>
<div class="line"><span class="lineno">  530</span>    )</div>
<div class="line"><span class="lineno">  531</span>    <span class="keywordflow">if</span> has_prescott_openblas:</div>
<div class="line"><span class="lineno">  532</span>        aligned = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>    <span class="keywordflow">if</span> aligned:</div>
<div class="line"><span class="lineno">  535</span>        memmap_backed_data = _create_aligned_memmap_backed_arrays(</div>
<div class="line"><span class="lineno">  536</span>            data, mmap_mode, temp_folder</div>
<div class="line"><span class="lineno">  537</span>        )</div>
<div class="line"><span class="lineno">  538</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  539</span>        filename = op.join(temp_folder, <span class="stringliteral">&quot;data.pkl&quot;</span>)</div>
<div class="line"><span class="lineno">  540</span>        joblib.dump(data, filename)</div>
<div class="line"><span class="lineno">  541</span>        memmap_backed_data = joblib.load(filename, mmap_mode=mmap_mode)</div>
<div class="line"><span class="lineno">  542</span>    result = (</div>
<div class="line"><span class="lineno">  543</span>        memmap_backed_data <span class="keywordflow">if</span> <span class="keywordflow">not</span> return_folder <span class="keywordflow">else</span> (memmap_backed_data, temp_folder)</div>
<div class="line"><span class="lineno">  544</span>    )</div>
<div class="line"><span class="lineno">  545</span>    <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span><span class="comment"># Utils to test docstrings</span></div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a52e1e95c098de7d732c9c413aa2d8181" name="a52e1e95c098de7d732c9c413aa2d8181"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52e1e95c098de7d732c9c413aa2d8181">&#9670;&#160;</a></span>ignore_warnings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.ignore_warnings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>category</em> = <code>Warning</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Context manager and decorator to ignore warnings.

Note: Using this (in both variants) will clear all warnings
from all python modules loaded. In case you need to test
cross-module-warning-logging, this is not your tool of choice.

Parameters
----------
obj : callable, default=None
    callable where you want to ignore the warnings.
category : warning class, default=Warning
    The category to filter. If Warning, all categories will be muted.

Examples
--------
&gt;&gt;&gt; import warnings
&gt;&gt;&gt; from sklearn.utils._testing import ignore_warnings
&gt;&gt;&gt; with ignore_warnings():
...     warnings.warn('buhuhuhu')

&gt;&gt;&gt; def nasty_warn():
...     warnings.warn('buhuhuhu')
...     print(42)

&gt;&gt;&gt; ignore_warnings(nasty_warn)()
42
</pre> <div class="fragment"><div class="line"><span class="lineno">  117</span><span class="keyword">def </span>ignore_warnings(obj=None, category=Warning):</div>
<div class="line"><span class="lineno">  118</span>    <span class="stringliteral">&quot;&quot;&quot;Context manager and decorator to ignore warnings.</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">    Note: Using this (in both variants) will clear all warnings</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">    from all python modules loaded. In case you need to test</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">    cross-module-warning-logging, this is not your tool of choice.</span></div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral">    obj : callable, default=None</span></div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">        callable where you want to ignore the warnings.</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">    category : warning class, default=Warning</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">        The category to filter. If Warning, all categories will be muted.</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">    &gt;&gt;&gt; import warnings</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral">    &gt;&gt;&gt; from sklearn.utils._testing import ignore_warnings</span></div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">    &gt;&gt;&gt; with ignore_warnings():</span></div>
<div class="line"><span class="lineno">  136</span><span class="stringliteral">    ...     warnings.warn(&#39;buhuhuhu&#39;)</span></div>
<div class="line"><span class="lineno">  137</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  138</span><span class="stringliteral">    &gt;&gt;&gt; def nasty_warn():</span></div>
<div class="line"><span class="lineno">  139</span><span class="stringliteral">    ...     warnings.warn(&#39;buhuhuhu&#39;)</span></div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral">    ...     print(42)</span></div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral">    &gt;&gt;&gt; ignore_warnings(nasty_warn)()</span></div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral">    42</span></div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  145</span>    <span class="keywordflow">if</span> isinstance(obj, type) <span class="keywordflow">and</span> issubclass(obj, Warning):</div>
<div class="line"><span class="lineno">  146</span>        <span class="comment"># Avoid common pitfall of passing category as the first positional</span></div>
<div class="line"><span class="lineno">  147</span>        <span class="comment"># argument which result in the test not being run</span></div>
<div class="line"><span class="lineno">  148</span>        warning_name = obj.__name__</div>
<div class="line"><span class="lineno">  149</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  150</span>            <span class="stringliteral">&quot;&#39;obj&#39; should be a callable where you want to ignore warnings. &quot;</span></div>
<div class="line"><span class="lineno">  151</span>            <span class="stringliteral">&quot;You passed a warning class instead: &#39;obj={warning_name}&#39;. &quot;</span></div>
<div class="line"><span class="lineno">  152</span>            <span class="stringliteral">&quot;If you want to pass a warning class to ignore_warnings, &quot;</span></div>
<div class="line"><span class="lineno">  153</span>            <span class="stringliteral">&quot;you should use &#39;category={warning_name}&#39;&quot;</span>.format(warning_name=warning_name)</div>
<div class="line"><span class="lineno">  154</span>        )</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">elif</span> callable(obj):</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">return</span> _IgnoreWarnings(category=category)(obj)</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  158</span>        <span class="keywordflow">return</span> _IgnoreWarnings(category=category)</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5499cf5aa2aef695bd06eaca83590dd7" name="a5499cf5aa2aef695bd06eaca83590dd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5499cf5aa2aef695bd06eaca83590dd7">&#9670;&#160;</a></span>raises()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.raises </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected_exc_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>match</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>may_pass</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Context manager to ensure exceptions are raised within a code block.

This is similar to and inspired from pytest.raises, but supports a few
other cases.

This is only intended to be used in estimator_checks.py where we don't
want to use pytest. In the rest of the code base, just use pytest.raises
instead.

Parameters
----------
excepted_exc_type : Exception or list of Exception
    The exception that should be raised by the block. If a list, the block
    should raise one of the exceptions.
match : str or list of str, default=None
    A regex that the exception message should match. If a list, one of
    the entries must match. If None, match isn't enforced.
may_pass : bool, default=False
    If True, the block is allowed to not raise an exception. Useful in
    cases where some estimators may support a feature but others must
    fail with an appropriate error message. By default, the context
    manager will raise an exception if the block does not raise an
    exception.
err_msg : str, default=None
    If the context manager fails (e.g. the block fails to raise the
    proper exception, or fails to match), then an AssertionError is
    raised with this message. By default, an AssertionError is raised
    with a default error message (depends on the kind of failure). Use
    this to indicate how users should fix their estimators to pass the
    checks.

Attributes
----------
raised_and_matched : bool
    True if an exception was raised and a match was found, False otherwise.
</pre> <div class="fragment"><div class="line"><span class="lineno">  853</span><span class="keyword">def </span>raises(expected_exc_type, match=None, may_pass=False, err_msg=None):</div>
<div class="line"><span class="lineno">  854</span>    <span class="stringliteral">&quot;&quot;&quot;Context manager to ensure exceptions are raised within a code block.</span></div>
<div class="line"><span class="lineno">  855</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  856</span><span class="stringliteral">    This is similar to and inspired from pytest.raises, but supports a few</span></div>
<div class="line"><span class="lineno">  857</span><span class="stringliteral">    other cases.</span></div>
<div class="line"><span class="lineno">  858</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  859</span><span class="stringliteral">    This is only intended to be used in estimator_checks.py where we don&#39;t</span></div>
<div class="line"><span class="lineno">  860</span><span class="stringliteral">    want to use pytest. In the rest of the code base, just use pytest.raises</span></div>
<div class="line"><span class="lineno">  861</span><span class="stringliteral">    instead.</span></div>
<div class="line"><span class="lineno">  862</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  863</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  864</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  865</span><span class="stringliteral">    excepted_exc_type : Exception or list of Exception</span></div>
<div class="line"><span class="lineno">  866</span><span class="stringliteral">        The exception that should be raised by the block. If a list, the block</span></div>
<div class="line"><span class="lineno">  867</span><span class="stringliteral">        should raise one of the exceptions.</span></div>
<div class="line"><span class="lineno">  868</span><span class="stringliteral">    match : str or list of str, default=None</span></div>
<div class="line"><span class="lineno">  869</span><span class="stringliteral">        A regex that the exception message should match. If a list, one of</span></div>
<div class="line"><span class="lineno">  870</span><span class="stringliteral">        the entries must match. If None, match isn&#39;t enforced.</span></div>
<div class="line"><span class="lineno">  871</span><span class="stringliteral">    may_pass : bool, default=False</span></div>
<div class="line"><span class="lineno">  872</span><span class="stringliteral">        If True, the block is allowed to not raise an exception. Useful in</span></div>
<div class="line"><span class="lineno">  873</span><span class="stringliteral">        cases where some estimators may support a feature but others must</span></div>
<div class="line"><span class="lineno">  874</span><span class="stringliteral">        fail with an appropriate error message. By default, the context</span></div>
<div class="line"><span class="lineno">  875</span><span class="stringliteral">        manager will raise an exception if the block does not raise an</span></div>
<div class="line"><span class="lineno">  876</span><span class="stringliteral">        exception.</span></div>
<div class="line"><span class="lineno">  877</span><span class="stringliteral">    err_msg : str, default=None</span></div>
<div class="line"><span class="lineno">  878</span><span class="stringliteral">        If the context manager fails (e.g. the block fails to raise the</span></div>
<div class="line"><span class="lineno">  879</span><span class="stringliteral">        proper exception, or fails to match), then an AssertionError is</span></div>
<div class="line"><span class="lineno">  880</span><span class="stringliteral">        raised with this message. By default, an AssertionError is raised</span></div>
<div class="line"><span class="lineno">  881</span><span class="stringliteral">        with a default error message (depends on the kind of failure). Use</span></div>
<div class="line"><span class="lineno">  882</span><span class="stringliteral">        this to indicate how users should fix their estimators to pass the</span></div>
<div class="line"><span class="lineno">  883</span><span class="stringliteral">        checks.</span></div>
<div class="line"><span class="lineno">  884</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  885</span><span class="stringliteral">    Attributes</span></div>
<div class="line"><span class="lineno">  886</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  887</span><span class="stringliteral">    raised_and_matched : bool</span></div>
<div class="line"><span class="lineno">  888</span><span class="stringliteral">        True if an exception was raised and a match was found, False otherwise.</span></div>
<div class="line"><span class="lineno">  889</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  890</span>    <span class="keywordflow">return</span> _Raises(expected_exc_type, match, may_pass, err_msg)</div>
<div class="line"><span class="lineno">  891</span> </div>
<div class="line"><span class="lineno">  892</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4a80d85306228833bd622253f2b3677d" name="a4a80d85306228833bd622253f2b3677d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a80d85306228833bd622253f2b3677d">&#9670;&#160;</a></span>set_random_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.set_random_state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>random_state</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set random state of an estimator if it has the `random_state` param.

Parameters
----------
estimator : object
    The estimator.
random_state : int, RandomState instance or None, default=0
    Pseudo random number generator state.
    Pass an int for reproducible results across multiple function calls.
    See :term:`Glossary &lt;random_state&gt;`.
</pre> <div class="fragment"><div class="line"><span class="lineno">  375</span><span class="keyword">def </span>set_random_state(estimator, random_state=0):</div>
<div class="line"><span class="lineno">  376</span>    <span class="stringliteral">&quot;&quot;&quot;Set random state of an estimator if it has the `random_state` param.</span></div>
<div class="line"><span class="lineno">  377</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  378</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  379</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  380</span><span class="stringliteral">    estimator : object</span></div>
<div class="line"><span class="lineno">  381</span><span class="stringliteral">        The estimator.</span></div>
<div class="line"><span class="lineno">  382</span><span class="stringliteral">    random_state : int, RandomState instance or None, default=0</span></div>
<div class="line"><span class="lineno">  383</span><span class="stringliteral">        Pseudo random number generator state.</span></div>
<div class="line"><span class="lineno">  384</span><span class="stringliteral">        Pass an int for reproducible results across multiple function calls.</span></div>
<div class="line"><span class="lineno">  385</span><span class="stringliteral">        See :term:`Glossary &lt;random_state&gt;`.</span></div>
<div class="line"><span class="lineno">  386</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  387</span>    <span class="keywordflow">if</span> <span class="stringliteral">&quot;random_state&quot;</span> <span class="keywordflow">in</span> estimator.get_params():</div>
<div class="line"><span class="lineno">  388</span>        estimator.set_params(random_state=random_state)</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a49d2c00700e2f38d7657f36c8c77ee75" name="a49d2c00700e2f38d7657f36c8c77ee75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49d2c00700e2f38d7657f36c8c77ee75">&#9670;&#160;</a></span>_dummy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing._dummy = TestCase(&quot;__init__&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aff52f062b065310c1eed6473c69311f4" name="aff52f062b065310c1eed6473c69311f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff52f062b065310c1eed6473c69311f4">&#9670;&#160;</a></span>assert_dict_equal</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.assert_dict_equal = _dummy.assertDictEqual</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa304b45e6ce386381d56c16b35a97750" name="aa304b45e6ce386381d56c16b35a97750"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa304b45e6ce386381d56c16b35a97750">&#9670;&#160;</a></span>assert_raises</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.assert_raises = _dummy.assertRaises</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a95635557ffacfa42729b34a17c404262" name="a95635557ffacfa42729b34a17c404262"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95635557ffacfa42729b34a17c404262">&#9670;&#160;</a></span>assert_raises_regex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.assert_raises_regex = _dummy.assertRaisesRegex</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aea144dac5e815e31fdf9eeae5f47a284" name="aea144dac5e815e31fdf9eeae5f47a284"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea144dac5e815e31fdf9eeae5f47a284">&#9670;&#160;</a></span>assert_raises_regexp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.assert_raises_regexp = <a class="el" href="namespacesklearn_1_1utils_1_1__testing.html#a95635557ffacfa42729b34a17c404262">assert_raises_regex</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abb72b86c3ec07d6dbd971cc3649f9033" name="abb72b86c3ec07d6dbd971cc3649f9033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb72b86c3ec07d6dbd971cc3649f9033">&#9670;&#160;</a></span>fails_if_pypy</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.fails_if_pypy = pytest.mark.xfail(IS_PYPY, reason=&quot;not compatible with PyPy&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a710a38bb663e17ff4211cd147102251d" name="a710a38bb663e17ff4211cd147102251d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a710a38bb663e17ff4211cd147102251d">&#9670;&#160;</a></span>fails_if_unstable_openblas</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.fails_if_unstable_openblas</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  pytest.mark.xfail(</div>
<div class="line"><span class="lineno">    2</span>        _in_unstable_openblas_configuration(),</div>
<div class="line"><span class="lineno">    3</span>        reason=<span class="stringliteral">&quot;OpenBLAS is unstable for this configuration&quot;</span>,</div>
<div class="line"><span class="lineno">    4</span>    )</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b4c941a530a0ec33f3cef52a5d1c781" name="a4b4c941a530a0ec33f3cef52a5d1c781"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b4c941a530a0ec33f3cef52a5d1c781">&#9670;&#160;</a></span>if_safe_multiprocessing_with_blas</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.if_safe_multiprocessing_with_blas</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  pytest.mark.skipif(</div>
<div class="line"><span class="lineno">    2</span>        sys.platform == <span class="stringliteral">&quot;darwin&quot;</span>, reason=<span class="stringliteral">&quot;Possible multi-process bug with some BLAS&quot;</span></div>
<div class="line"><span class="lineno">    3</span>    )</div>
</div><!-- fragment -->
</div>
</div>
<a id="a694038e531c68df7fb9d2b433ae86863" name="a694038e531c68df7fb9d2b433ae86863"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a694038e531c68df7fb9d2b433ae86863">&#9670;&#160;</a></span>skip_if_32bit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.skip_if_32bit = pytest.mark.skipif(_IS_32BIT, reason=&quot;skipped on 32bit platforms&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aab06d32a389c04c2e657c8c224ef0784" name="aab06d32a389c04c2e657c8c224ef0784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab06d32a389c04c2e657c8c224ef0784">&#9670;&#160;</a></span>skip_if_no_parallel</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.skip_if_no_parallel</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  pytest.mark.skipif(</div>
<div class="line"><span class="lineno">    2</span>        <span class="keywordflow">not</span> joblib.parallel.mp, reason=<span class="stringliteral">&quot;joblib is in serial mode&quot;</span></div>
<div class="line"><span class="lineno">    3</span>    )</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3ea3e25af4202e3a0deb57c98fc6cc38" name="a3ea3e25af4202e3a0deb57c98fc6cc38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3ea3e25af4202e3a0deb57c98fc6cc38">&#9670;&#160;</a></span>skip_travis</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.skip_travis</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  pytest.mark.skipif(</div>
<div class="line"><span class="lineno">    2</span>        os.environ.get(<span class="stringliteral">&quot;TRAVIS&quot;</span>) == <span class="stringliteral">&quot;true&quot;</span>, reason=<span class="stringliteral">&quot;skip on travis&quot;</span></div>
<div class="line"><span class="lineno">    3</span>    )</div>
</div><!-- fragment -->
</div>
</div>
<a id="a906f95cca9394d5d50dafec80551d8a3" name="a906f95cca9394d5d50dafec80551d8a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a906f95cca9394d5d50dafec80551d8a3">&#9670;&#160;</a></span>SkipTest</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.SkipTest = unittest.case.SkipTest</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2498f88e96444deb0605b062ecb40384" name="a2498f88e96444deb0605b062ecb40384"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2498f88e96444deb0605b062ecb40384">&#9670;&#160;</a></span>WindowsError</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._testing.WindowsError = None</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
