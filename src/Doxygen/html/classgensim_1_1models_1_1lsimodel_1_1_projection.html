<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.models.lsimodel.Projection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models.html">models</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models_1_1lsimodel.html">lsimodel</a></li><li class="navelem"><a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html">Projection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classgensim_1_1models_1_1lsimodel_1_1_projection-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gensim.models.lsimodel.Projection Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for gensim.models.lsimodel.Projection:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgensim_1_1models_1_1lsimodel_1_1_projection.png" usemap="#gensim.models.lsimodel.Projection_map" alt=""/>
  <map id="gensim.models.lsimodel.Projection_map" name="gensim.models.lsimodel.Projection_map">
<area href="classgensim_1_1utils_1_1_save_load.html" alt="gensim.utils.SaveLoad" shape="rect" coords="0,56,204,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a772d6193e6b95ece4e98fb32362e0872" id="r_a772d6193e6b95ece4e98fb32362e0872"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a772d6193e6b95ece4e98fb32362e0872">__init__</a> (self, <a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a23b0f18c070c9659d2a9ace196a504e8">m</a>, <a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a98cff77e41da366b60907c30a9e1ab30">k</a>, docs=None, use_svdlibc=False, <a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a4077582d8b8538c77ac9e192c6c295d6">power_iters</a>=<a class="el" href="namespacegensim_1_1models_1_1lsimodel.html#ab7436e9c7b7b08905737494cc54abc6c">P2_EXTRA_ITERS</a>, <a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a0a17cb86f94622e5acfe4614ff21b90b">extra_dims</a>=<a class="el" href="namespacegensim_1_1models_1_1lsimodel.html#a25de68674a3627039de5c4ff2d241d7a">P2_EXTRA_DIMS</a>, dtype=np.float64)</td></tr>
<tr class="separator:a772d6193e6b95ece4e98fb32362e0872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc4a90c6785b98442a7f803c281f66b" id="r_abcc4a90c6785b98442a7f803c281f66b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#abcc4a90c6785b98442a7f803c281f66b">empty_like</a> (self)</td></tr>
<tr class="separator:abcc4a90c6785b98442a7f803c281f66b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d84431903b126620250cfc21f3daab5" id="r_a7d84431903b126620250cfc21f3daab5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a7d84431903b126620250cfc21f3daab5">merge</a> (self, other, decay=1.0)</td></tr>
<tr class="separator:a7d84431903b126620250cfc21f3daab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:a70d054bfd9dfd1373fef9e0e691a24b5 inherit pub_methods_classgensim_1_1utils_1_1_save_load" id="r_a70d054bfd9dfd1373fef9e0e691a24b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a70d054bfd9dfd1373fef9e0e691a24b5">load</a> (cls, fname, mmap=None)</td></tr>
<tr class="separator:a70d054bfd9dfd1373fef9e0e691a24b5 inherit pub_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0767537a6eb767dfe4fb8cf6d5fc221c inherit pub_methods_classgensim_1_1utils_1_1_save_load" id="r_a0767537a6eb767dfe4fb8cf6d5fc221c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a0767537a6eb767dfe4fb8cf6d5fc221c">save</a> (self, fname_or_handle, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:a0767537a6eb767dfe4fb8cf6d5fc221c inherit pub_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a23b0f18c070c9659d2a9ace196a504e8" id="r_a23b0f18c070c9659d2a9ace196a504e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a23b0f18c070c9659d2a9ace196a504e8">m</a></td></tr>
<tr class="separator:a23b0f18c070c9659d2a9ace196a504e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98cff77e41da366b60907c30a9e1ab30" id="r_a98cff77e41da366b60907c30a9e1ab30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a98cff77e41da366b60907c30a9e1ab30">k</a></td></tr>
<tr class="separator:a98cff77e41da366b60907c30a9e1ab30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4077582d8b8538c77ac9e192c6c295d6" id="r_a4077582d8b8538c77ac9e192c6c295d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a4077582d8b8538c77ac9e192c6c295d6">power_iters</a></td></tr>
<tr class="separator:a4077582d8b8538c77ac9e192c6c295d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a17cb86f94622e5acfe4614ff21b90b" id="r_a0a17cb86f94622e5acfe4614ff21b90b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a0a17cb86f94622e5acfe4614ff21b90b">extra_dims</a></td></tr>
<tr class="separator:a0a17cb86f94622e5acfe4614ff21b90b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85cd95bf0cf90d1ebb6aef3b026fbc14" id="r_a85cd95bf0cf90d1ebb6aef3b026fbc14"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a85cd95bf0cf90d1ebb6aef3b026fbc14">u</a></td></tr>
<tr class="separator:a85cd95bf0cf90d1ebb6aef3b026fbc14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5db64bb48ca5f2b20239fa6c40b3e9f6" id="r_a5db64bb48ca5f2b20239fa6c40b3e9f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_projection.html#a5db64bb48ca5f2b20239fa6c40b3e9f6">s</a></td></tr>
<tr class="separator:a5db64bb48ca5f2b20239fa6c40b3e9f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_ace7b79d8870c44c2bab0d590a5aca91e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#ace7b79d8870c44c2bab0d590a5aca91e">_load_specials</a> (self, fname, mmap, compress, subname)</td></tr>
<tr class="separator:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_acd9faa42ba3aae8f0a175418889d425c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#acd9faa42ba3aae8f0a175418889d425c">_smart_save</a> (self, fname, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_a4bae38a76fa8264d2c8759b9d40a6f5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a4bae38a76fa8264d2c8759b9d40a6f5c">_save_specials</a> (self, fname, separately, sep_limit, ignore, pickle_protocol, compress, subname)</td></tr>
<tr class="separator:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load" id="r_a6cf051b348407267110444260535d143"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a6cf051b348407267110444260535d143">_adapt_by_suffix</a> (fname)</td></tr>
<tr class="separator:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Low dimensional projection of a term-document matrix.

This is the class taking care of the 'core math': interfacing with corpora, splitting large corpora into chunks
and merging them etc. This done through the higher-level :class:`~gensim.models.lsimodel.LsiModel` class.

Notes
-----
The projection can be later updated by merging it with another :class:`~gensim.models.lsimodel.Projection`
via  :meth:`~gensim.models.lsimodel.Projection.merge`. This is how incremental training actually happens.</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a772d6193e6b95ece4e98fb32362e0872" name="a772d6193e6b95ece4e98fb32362e0872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a772d6193e6b95ece4e98fb32362e0872">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.lsimodel.Projection.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>docs</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_svdlibc</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>power_iters</em> = <code><a class="el" href="namespacegensim_1_1models_1_1lsimodel.html#ab7436e9c7b7b08905737494cc54abc6c">P2_EXTRA_ITERS</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extra_dims</em> = <code><a class="el" href="namespacegensim_1_1models_1_1lsimodel.html#a25de68674a3627039de5c4ff2d241d7a">P2_EXTRA_DIMS</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>np.float64</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Construct the (U, S) projection from a corpus.

Parameters
----------
m : int
    Number of features (terms) in the corpus.
k : int
    Desired rank of the decomposed matrix.
docs : {iterable of list of (int, float), scipy.sparse.csc}
    Corpus in BoW format or as sparse matrix.
use_svdlibc : bool, optional
    If True - will use `sparsesvd library &lt;https://pypi.python.org/pypi/sparsesvd/&gt;`_,
    otherwise - our own version will be used.
power_iters: int, optional
    Number of power iteration steps to be used. Tune to improve accuracy.
extra_dims : int, optional
    Extra samples to be used besides the rank `k`. Tune to improve accuracy.
dtype : numpy.dtype, optional
    Enforces a type for elements of the decomposed matrix.</pre> <div class="fragment"><div class="line"><span class="lineno">  167</span>                 extra_dims=P2_EXTRA_DIMS, dtype=np.float64):</div>
<div class="line"><span class="lineno">  168</span>        <span class="stringliteral">&quot;&quot;&quot;Construct the (U, S) projection from a corpus.</span></div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">        m : int</span></div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">            Number of features (terms) in the corpus.</span></div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral">        k : int</span></div>
<div class="line"><span class="lineno">  175</span><span class="stringliteral">            Desired rank of the decomposed matrix.</span></div>
<div class="line"><span class="lineno">  176</span><span class="stringliteral">        docs : {iterable of list of (int, float), scipy.sparse.csc}</span></div>
<div class="line"><span class="lineno">  177</span><span class="stringliteral">            Corpus in BoW format or as sparse matrix.</span></div>
<div class="line"><span class="lineno">  178</span><span class="stringliteral">        use_svdlibc : bool, optional</span></div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral">            If True - will use `sparsesvd library &lt;https://pypi.python.org/pypi/sparsesvd/&gt;`_,</span></div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">            otherwise - our own version will be used.</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral">        power_iters: int, optional</span></div>
<div class="line"><span class="lineno">  182</span><span class="stringliteral">            Number of power iteration steps to be used. Tune to improve accuracy.</span></div>
<div class="line"><span class="lineno">  183</span><span class="stringliteral">        extra_dims : int, optional</span></div>
<div class="line"><span class="lineno">  184</span><span class="stringliteral">            Extra samples to be used besides the rank `k`. Tune to improve accuracy.</span></div>
<div class="line"><span class="lineno">  185</span><span class="stringliteral">        dtype : numpy.dtype, optional</span></div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral">            Enforces a type for elements of the decomposed matrix.</span></div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  189</span>        self.m, self.k = m, k</div>
<div class="line"><span class="lineno">  190</span>        self.power_iters = power_iters</div>
<div class="line"><span class="lineno">  191</span>        self.extra_dims = extra_dims</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">if</span> docs <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  193</span>            <span class="comment"># base case decomposition: given a job `docs`, compute its decomposition,</span></div>
<div class="line"><span class="lineno">  194</span>            <span class="comment"># *in-core*.</span></div>
<div class="line"><span class="lineno">  195</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> use_svdlibc:</div>
<div class="line"><span class="lineno">  196</span>                u, s = stochastic_svd(</div>
<div class="line"><span class="lineno">  197</span>                    docs, k, chunksize=sys.maxsize,</div>
<div class="line"><span class="lineno">  198</span>                    num_terms=m, power_iters=self.power_iters,</div>
<div class="line"><span class="lineno">  199</span>                    extra_dims=self.extra_dims, dtype=dtype)</div>
<div class="line"><span class="lineno">  200</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  201</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  202</span>                    <span class="keyword">import</span> sparsesvd</div>
<div class="line"><span class="lineno">  203</span>                <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno">  204</span>                    <span class="keywordflow">raise</span> ImportError(<span class="stringliteral">&quot;`sparsesvd` module requested but not found; run `easy_install sparsesvd`&quot;</span>)</div>
<div class="line"><span class="lineno">  205</span>                logger.info(<span class="stringliteral">&quot;computing sparse SVD of %s matrix&quot;</span>, str(docs.shape))</div>
<div class="line"><span class="lineno">  206</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> scipy.sparse.issparse(docs):</div>
<div class="line"><span class="lineno">  207</span>                    docs = matutils.corpus2csc(docs)</div>
<div class="line"><span class="lineno">  208</span>                <span class="comment"># ask for extra factors, because for some reason SVDLIBC sometimes returns fewer factors than requested</span></div>
<div class="line"><span class="lineno">  209</span>                ut, s, vt = sparsesvd.sparsesvd(docs, k + 30)</div>
<div class="line"><span class="lineno">  210</span>                u = ut.T</div>
<div class="line"><span class="lineno">  211</span>                del ut, vt</div>
<div class="line"><span class="lineno">  212</span>                k = clip_spectrum(s ** 2, self.k)</div>
<div class="line"><span class="lineno">  213</span>            self.u = u[:, :k].copy()</div>
<div class="line"><span class="lineno">  214</span>            self.s = s[:k].copy()</div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  216</span>            self.u, self.s = <span class="keywordtype">None</span>, <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  217</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abcc4a90c6785b98442a7f803c281f66b" name="abcc4a90c6785b98442a7f803c281f66b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcc4a90c6785b98442a7f803c281f66b">&#9670;&#160;</a></span>empty_like()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.lsimodel.Projection.empty_like </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get an empty Projection with the same parameters as the current object.

Returns
-------
:class:`~gensim.models.lsimodel.Projection`
    An empty copy (without corpus) of the current projection.</pre> <div class="fragment"><div class="line"><span class="lineno">  218</span>    <span class="keyword">def </span>empty_like(self):</div>
<div class="line"><span class="lineno">  219</span>        <span class="stringliteral">&quot;&quot;&quot;Get an empty Projection with the same parameters as the current object.</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">        :class:`~gensim.models.lsimodel.Projection`</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral">            An empty copy (without corpus) of the current projection.</span></div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  226</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">return</span> Projection(self.m, self.k, power_iters=self.power_iters, extra_dims=self.extra_dims)</div>
<div class="line"><span class="lineno">  228</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d84431903b126620250cfc21f3daab5" name="a7d84431903b126620250cfc21f3daab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d84431903b126620250cfc21f3daab5">&#9670;&#160;</a></span>merge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.lsimodel.Projection.merge </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>decay</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Merge current :class:`~gensim.models.lsimodel.Projection` instance with another.

Warnings
--------
The content of `other` is destroyed in the process, so pass this function a copy of `other`
if you need it further. The `other` :class:`~gensim.models.lsimodel.Projection` is expected to contain
the same number of features.

Parameters
----------
other : :class:`~gensim.models.lsimodel.Projection`
    The Projection object to be merged into the current one. It will be destroyed after merging.
decay : float, optional
    Weight of existing observations relatively to new ones.
    Setting `decay` &lt; 1.0 causes re-orientation towards new data trends in the input document stream,
    by giving less emphasis to old observations. This allows LSA to gradually "forget" old observations
    (documents) and give more preference to new ones.</pre> <div class="fragment"><div class="line"><span class="lineno">  229</span>    <span class="keyword">def </span>merge(self, other, decay=1.0):</div>
<div class="line"><span class="lineno">  230</span>        <span class="stringliteral">&quot;&quot;&quot;Merge current :class:`~gensim.models.lsimodel.Projection` instance with another.</span></div>
<div class="line"><span class="lineno">  231</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  232</span><span class="stringliteral">        Warnings</span></div>
<div class="line"><span class="lineno">  233</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral">        The content of `other` is destroyed in the process, so pass this function a copy of `other`</span></div>
<div class="line"><span class="lineno">  235</span><span class="stringliteral">        if you need it further. The `other` :class:`~gensim.models.lsimodel.Projection` is expected to contain</span></div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral">        the same number of features.</span></div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  238</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  240</span><span class="stringliteral">        other : :class:`~gensim.models.lsimodel.Projection`</span></div>
<div class="line"><span class="lineno">  241</span><span class="stringliteral">            The Projection object to be merged into the current one. It will be destroyed after merging.</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral">        decay : float, optional</span></div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral">            Weight of existing observations relatively to new ones.</span></div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">            Setting `decay` &lt; 1.0 causes re-orientation towards new data trends in the input document stream,</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral">            by giving less emphasis to old observations. This allows LSA to gradually &quot;forget&quot; old observations</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral">            (documents) and give more preference to new ones.</span></div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">if</span> other.u <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  250</span>            <span class="comment"># the other projection is empty =&gt; do nothing</span></div>
<div class="line"><span class="lineno">  251</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">if</span> self.u <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  253</span>            <span class="comment"># we are empty =&gt; result of merge is the other projection, whatever it is</span></div>
<div class="line"><span class="lineno">  254</span>            self.u = other.u.copy()</div>
<div class="line"><span class="lineno">  255</span>            self.s = other.s.copy()</div>
<div class="line"><span class="lineno">  256</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  257</span>        <span class="keywordflow">if</span> self.m != other.m:</div>
<div class="line"><span class="lineno">  258</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  259</span>                <span class="stringliteral">&quot;vector space mismatch: update is using %s features, expected %s&quot;</span> % (other.m, self.m)</div>
<div class="line"><span class="lineno">  260</span>            )</div>
<div class="line"><span class="lineno">  261</span>        logger.info(<span class="stringliteral">&quot;merging projections: %s + %s&quot;</span>, str(self.u.shape), str(other.u.shape))</div>
<div class="line"><span class="lineno">  262</span>        m, n1, n2 = self.u.shape[0], self.u.shape[1], other.u.shape[1]</div>
<div class="line"><span class="lineno">  263</span>        <span class="comment"># TODO Maybe keep the bases as elementary reflectors, without</span></div>
<div class="line"><span class="lineno">  264</span>        <span class="comment"># forming explicit matrices with ORGQR.</span></div>
<div class="line"><span class="lineno">  265</span>        <span class="comment"># The only operation we ever need is basis^T*basis ond basis*component.</span></div>
<div class="line"><span class="lineno">  266</span>        <span class="comment"># But how to do that in scipy? And is it fast(er)?</span></div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>        <span class="comment"># find component of u2 orthogonal to u1</span></div>
<div class="line"><span class="lineno">  269</span>        logger.debug(<span class="stringliteral">&quot;constructing orthogonal component&quot;</span>)</div>
<div class="line"><span class="lineno">  270</span>        self.u = asfarray(self.u, <span class="stringliteral">&#39;self.u&#39;</span>)</div>
<div class="line"><span class="lineno">  271</span>        c = np.dot(self.u.T, other.u)</div>
<div class="line"><span class="lineno">  272</span>        self.u = ascarray(self.u, <span class="stringliteral">&#39;self.u&#39;</span>)</div>
<div class="line"><span class="lineno">  273</span>        other.u -= np.dot(self.u, c)</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>        other.u = [other.u]  <span class="comment"># do some reference magic and call qr_destroy, to save RAM</span></div>
<div class="line"><span class="lineno">  276</span>        q, r = matutils.qr_destroy(other.u)  <span class="comment"># q, r = QR(component)</span></div>
<div class="line"><span class="lineno">  277</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> other.u</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>        <span class="comment"># find the rotation that diagonalizes r</span></div>
<div class="line"><span class="lineno">  280</span>        k = np.bmat([</div>
<div class="line"><span class="lineno">  281</span>            [np.diag(decay * self.s), np.multiply(c, other.s)],</div>
<div class="line"><span class="lineno">  282</span>            [matutils.pad(np.array([]).reshape(0, 0), min(m, n2), n1), np.multiply(r, other.s)]</div>
<div class="line"><span class="lineno">  283</span>        ])</div>
<div class="line"><span class="lineno">  284</span>        logger.debug(<span class="stringliteral">&quot;computing SVD of %s dense matrix&quot;</span>, k.shape)</div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  286</span>            <span class="comment"># in np &lt; 1.1.0, running SVD sometimes results in &quot;LinAlgError: SVD did not converge&#39;.</span></div>
<div class="line"><span class="lineno">  287</span>            <span class="comment"># for these early versions of np, catch the error and try to compute</span></div>
<div class="line"><span class="lineno">  288</span>            <span class="comment"># SVD again, but over k*k^T.</span></div>
<div class="line"><span class="lineno">  289</span>            <span class="comment"># see http://www.mail-archive.com/np-discussion@scipy.org/msg07224.html and</span></div>
<div class="line"><span class="lineno">  290</span>            <span class="comment"># bug ticket http://projects.scipy.org/np/ticket/706</span></div>
<div class="line"><span class="lineno">  291</span>            <span class="comment"># sdoering: replaced np&#39;s linalg.svd with scipy&#39;s linalg.svd:</span></div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>            <span class="comment"># TODO *ugly overkill*!! only need first self.k SVD factors... but there is no LAPACK wrapper</span></div>
<div class="line"><span class="lineno">  294</span>            <span class="comment"># for partial svd/eigendecomp in np :( //sdoering: maybe there is one in scipy?</span></div>
<div class="line"><span class="lineno">  295</span>            u_k, s_k, _ = scipy.linalg.svd(k, full_matrices=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  296</span>        <span class="keywordflow">except</span> <a class="code hl_class" href="classnumpy_1_1linalg_1_1linalg_1_1_lin_alg_error.html">scipy.linalg.LinAlgError</a>:</div>
<div class="line"><span class="lineno">  297</span>            logger.error(<span class="stringliteral">&quot;SVD(A) failed; trying SVD(A * A^T)&quot;</span>)</div>
<div class="line"><span class="lineno">  298</span>            <span class="comment"># if this fails too, give up with an exception</span></div>
<div class="line"><span class="lineno">  299</span>            u_k, s_k, _ = scipy.linalg.svd(np.dot(k, k.T), full_matrices=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  300</span>            s_k = np.sqrt(s_k)  <span class="comment"># go back from eigen values to singular values</span></div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>        k = clip_spectrum(s_k ** 2, self.k)</div>
<div class="line"><span class="lineno">  303</span>        u1_k, u2_k, s_k = np.array(u_k[:n1, :k]), np.array(u_k[n1:, :k]), s_k[:k]</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>        <span class="comment"># update &amp; rotate current basis U = [U, U&#39;]*[U1_k, U2_k]</span></div>
<div class="line"><span class="lineno">  306</span>        logger.debug(<span class="stringliteral">&quot;updating orthonormal basis U&quot;</span>)</div>
<div class="line"><span class="lineno">  307</span>        self.s = s_k</div>
<div class="line"><span class="lineno">  308</span>        self.u = ascarray(self.u, <span class="stringliteral">&#39;self.u&#39;</span>)</div>
<div class="line"><span class="lineno">  309</span>        self.u = np.dot(self.u, u1_k)</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>        q = ascarray(q, <span class="stringliteral">&#39;q&#39;</span>)</div>
<div class="line"><span class="lineno">  312</span>        q = np.dot(q, u2_k)</div>
<div class="line"><span class="lineno">  313</span>        self.u += q</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>        <span class="comment"># make each column of U start with a non-negative number (to force canonical decomposition)</span></div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">if</span> self.u.shape[0] &gt; 0:</div>
<div class="line"><span class="lineno">  317</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.u.shape[1]):</div>
<div class="line"><span class="lineno">  318</span>                <span class="keywordflow">if</span> self.u[0, i] &lt; 0.0:</div>
<div class="line"><span class="lineno">  319</span>                    self.u[:, i] *= -1.0</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="ttc" id="aclassnumpy_1_1linalg_1_1linalg_1_1_lin_alg_error_html"><div class="ttname"><a href="classnumpy_1_1linalg_1_1linalg_1_1_lin_alg_error.html">numpy.linalg.linalg.LinAlgError</a></div><div class="ttdef"><b>Definition</b> linalg.py:45</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a0a17cb86f94622e5acfe4614ff21b90b" name="a0a17cb86f94622e5acfe4614ff21b90b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a17cb86f94622e5acfe4614ff21b90b">&#9670;&#160;</a></span>extra_dims</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.lsimodel.Projection.extra_dims</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a98cff77e41da366b60907c30a9e1ab30" name="a98cff77e41da366b60907c30a9e1ab30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98cff77e41da366b60907c30a9e1ab30">&#9670;&#160;</a></span>k</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.lsimodel.Projection.k</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a23b0f18c070c9659d2a9ace196a504e8" name="a23b0f18c070c9659d2a9ace196a504e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b0f18c070c9659d2a9ace196a504e8">&#9670;&#160;</a></span>m</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.lsimodel.Projection.m</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4077582d8b8538c77ac9e192c6c295d6" name="a4077582d8b8538c77ac9e192c6c295d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4077582d8b8538c77ac9e192c6c295d6">&#9670;&#160;</a></span>power_iters</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.lsimodel.Projection.power_iters</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5db64bb48ca5f2b20239fa6c40b3e9f6" name="a5db64bb48ca5f2b20239fa6c40b3e9f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5db64bb48ca5f2b20239fa6c40b3e9f6">&#9670;&#160;</a></span>s</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.lsimodel.Projection.s</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a85cd95bf0cf90d1ebb6aef3b026fbc14" name="a85cd95bf0cf90d1ebb6aef3b026fbc14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85cd95bf0cf90d1ebb6aef3b026fbc14">&#9670;&#160;</a></span>u</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.lsimodel.Projection.u</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/gensim/models/<a class="el" href="models_2lsimodel_8py.html">lsimodel.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
