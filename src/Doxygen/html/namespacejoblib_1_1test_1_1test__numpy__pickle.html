<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: joblib.test.test_numpy_pickle Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejoblib.html">joblib</a></li><li class="navelem"><a class="el" href="namespacejoblib_1_1test.html">test</a></li><li class="navelem"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html">test_numpy_pickle</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">joblib.test.test_numpy_pickle Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1test_1_1test__numpy__pickle_1_1__class.html">_class</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1test_1_1test__numpy__pickle_1_1__newclass.html">_newclass</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1test_1_1test__numpy__pickle_1_1_another_zlib_compressor_wrapper.html">AnotherZlibCompressorWrapper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1test_1_1test__numpy__pickle_1_1_complex_test_object.html">ComplexTestObject</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1test_1_1test__numpy__pickle_1_1_standard_lib_gzip_compressor_wrapper.html">StandardLibGzipCompressorWrapper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1test_1_1test__numpy__pickle_1_1_sub_array.html">SubArray</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test dumping array subclasses.  <a href="classjoblib_1_1test_1_1test__numpy__pickle_1_1_sub_array.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab6fc04611b0c1db4c1e366fc5efe4eeb" id="r_ab6fc04611b0c1db4c1e366fc5efe4eeb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#ab6fc04611b0c1db4c1e366fc5efe4eeb">_function</a> (x)</td></tr>
<tr class="separator:ab6fc04611b0c1db4c1e366fc5efe4eeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c296d153af5fd95fa374246dc681db" id="r_a66c296d153af5fd95fa374246dc681db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a66c296d153af5fd95fa374246dc681db">test_standard_types</a> (tmpdir, compress, member)</td></tr>
<tr class="memdesc:a66c296d153af5fd95fa374246dc681db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests.  <br /></td></tr>
<tr class="separator:a66c296d153af5fd95fa374246dc681db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f30ccbff29b0e3d67d8a2e5ec8296d2" id="r_a7f30ccbff29b0e3d67d8a2e5ec8296d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a7f30ccbff29b0e3d67d8a2e5ec8296d2">test_value_error</a> ()</td></tr>
<tr class="separator:a7f30ccbff29b0e3d67d8a2e5ec8296d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62e1fdacf6e940f98809effd480d530b" id="r_a62e1fdacf6e940f98809effd480d530b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a62e1fdacf6e940f98809effd480d530b">test_compress_level_error</a> (wrong_compress)</td></tr>
<tr class="separator:a62e1fdacf6e940f98809effd480d530b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbc77be245cf17c0a282f00a17cc22c5" id="r_abbc77be245cf17c0a282f00a17cc22c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#abbc77be245cf17c0a282f00a17cc22c5">test_numpy_persistence</a> (tmpdir, compress)</td></tr>
<tr class="separator:abbc77be245cf17c0a282f00a17cc22c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cbd5d2d239cbcd3f6e68ad5c70218f2" id="r_a1cbd5d2d239cbcd3f6e68ad5c70218f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a1cbd5d2d239cbcd3f6e68ad5c70218f2">test_numpy_persistence_bufferred_array_compression</a> (tmpdir)</td></tr>
<tr class="separator:a1cbd5d2d239cbcd3f6e68ad5c70218f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79c04937bd81e51b50208c82f810e52b" id="r_a79c04937bd81e51b50208c82f810e52b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a79c04937bd81e51b50208c82f810e52b">test_memmap_persistence</a> (tmpdir)</td></tr>
<tr class="separator:a79c04937bd81e51b50208c82f810e52b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7039cf2a1a50d2642b6097d566e0a9" id="r_a5a7039cf2a1a50d2642b6097d566e0a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a5a7039cf2a1a50d2642b6097d566e0a9">test_memmap_persistence_mixed_dtypes</a> (tmpdir)</td></tr>
<tr class="separator:a5a7039cf2a1a50d2642b6097d566e0a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54e80efc28b469029f32d313f85a01ee" id="r_a54e80efc28b469029f32d313f85a01ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a54e80efc28b469029f32d313f85a01ee">test_masked_array_persistence</a> (tmpdir)</td></tr>
<tr class="separator:a54e80efc28b469029f32d313f85a01ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac938d9fb298b1287df329c3ce361d240" id="r_ac938d9fb298b1287df329c3ce361d240"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#ac938d9fb298b1287df329c3ce361d240">test_compress_mmap_mode_warning</a> (tmpdir)</td></tr>
<tr class="separator:ac938d9fb298b1287df329c3ce361d240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f54c468372d08700bb6a880e22ea89" id="r_a19f54c468372d08700bb6a880e22ea89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a19f54c468372d08700bb6a880e22ea89">test_cache_size_warning</a> (tmpdir, cache_size)</td></tr>
<tr class="separator:a19f54c468372d08700bb6a880e22ea89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71c588623260245a317fc313d60b3150" id="r_a71c588623260245a317fc313d60b3150"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a71c588623260245a317fc313d60b3150">test_memory_usage</a> (tmpdir, compress)</td></tr>
<tr class="separator:a71c588623260245a317fc313d60b3150"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a276bf1c742a7512513dd4566e3a05176" id="r_a276bf1c742a7512513dd4566e3a05176"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a276bf1c742a7512513dd4566e3a05176">test_compressed_pickle_dump_and_load</a> (tmpdir)</td></tr>
<tr class="separator:a276bf1c742a7512513dd4566e3a05176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba7a17e9b0ed3933806ace928e532c1" id="r_aeba7a17e9b0ed3933806ace928e532c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#aeba7a17e9b0ed3933806ace928e532c1">_check_pickle</a> (filename, expected_list, mmap_mode=None)</td></tr>
<tr class="separator:aeba7a17e9b0ed3933806ace928e532c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea11b9883bd41b56fe2e02a50639980c" id="r_aea11b9883bd41b56fe2e02a50639980c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#aea11b9883bd41b56fe2e02a50639980c">test_joblib_pickle_across_python_versions</a> ()</td></tr>
<tr class="separator:aea11b9883bd41b56fe2e02a50639980c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a637e77517e4460751fe5b4f8c4302b79" id="r_a637e77517e4460751fe5b4f8c4302b79"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a637e77517e4460751fe5b4f8c4302b79">test_joblib_pickle_across_python_versions_with_mmap</a> ()</td></tr>
<tr class="separator:a637e77517e4460751fe5b4f8c4302b79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad06a5f21ddc57132d3215af0877bfd4f" id="r_ad06a5f21ddc57132d3215af0877bfd4f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#ad06a5f21ddc57132d3215af0877bfd4f">test_numpy_array_byte_order_mismatch_detection</a> ()</td></tr>
<tr class="separator:ad06a5f21ddc57132d3215af0877bfd4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0137ce1d4fc7ebef04be9eaa204026a" id="r_af0137ce1d4fc7ebef04be9eaa204026a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#af0137ce1d4fc7ebef04be9eaa204026a">test_compress_tuple_argument</a> (tmpdir, compress_tuple)</td></tr>
<tr class="separator:af0137ce1d4fc7ebef04be9eaa204026a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c126a5240334b06c2fccc070fe69a6" id="r_a66c126a5240334b06c2fccc070fe69a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a66c126a5240334b06c2fccc070fe69a6">test_compress_tuple_argument_exception</a> (tmpdir, compress_tuple, message)</td></tr>
<tr class="separator:a66c126a5240334b06c2fccc070fe69a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a1dde393b2527bdc6e41898d8ec46c3" id="r_a0a1dde393b2527bdc6e41898d8ec46c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a0a1dde393b2527bdc6e41898d8ec46c3">test_compress_string_argument</a> (tmpdir, compress_string)</td></tr>
<tr class="separator:a0a1dde393b2527bdc6e41898d8ec46c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a17aa4971243bff8e1d14bad3ab1109" id="r_a7a17aa4971243bff8e1d14bad3ab1109"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a7a17aa4971243bff8e1d14bad3ab1109">test_joblib_compression_formats</a> (tmpdir, compress, cmethod)</td></tr>
<tr class="separator:a7a17aa4971243bff8e1d14bad3ab1109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f70faab8487208da7a3e2445b8bc438" id="r_a1f70faab8487208da7a3e2445b8bc438"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a1f70faab8487208da7a3e2445b8bc438">_gzip_file_decompress</a> (source_filename, target_filename)</td></tr>
<tr class="separator:a1f70faab8487208da7a3e2445b8bc438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca2a92d64cb42e3a75a445b6bda4d4b6" id="r_aca2a92d64cb42e3a75a445b6bda4d4b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#aca2a92d64cb42e3a75a445b6bda4d4b6">_zlib_file_decompress</a> (source_filename, target_filename)</td></tr>
<tr class="separator:aca2a92d64cb42e3a75a445b6bda4d4b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab80a957dca2dfd61cabb145515c940c6" id="r_ab80a957dca2dfd61cabb145515c940c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#ab80a957dca2dfd61cabb145515c940c6">test_load_externally_decompressed_files</a> (tmpdir, extension, decompress)</td></tr>
<tr class="separator:ab80a957dca2dfd61cabb145515c940c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed8b139c8607cdfd28b4656afc6a411a" id="r_aed8b139c8607cdfd28b4656afc6a411a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#aed8b139c8607cdfd28b4656afc6a411a">test_compression_using_file_extension</a> (tmpdir, extension, cmethod)</td></tr>
<tr class="separator:aed8b139c8607cdfd28b4656afc6a411a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac76f69ff93b5844039c88f7a5aeb5c8" id="r_aac76f69ff93b5844039c88f7a5aeb5c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#aac76f69ff93b5844039c88f7a5aeb5c8">test_file_handle_persistence</a> (tmpdir)</td></tr>
<tr class="separator:aac76f69ff93b5844039c88f7a5aeb5c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e2289a0a5c8ba7eb49525ad621747ed" id="r_a9e2289a0a5c8ba7eb49525ad621747ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a9e2289a0a5c8ba7eb49525ad621747ed">test_in_memory_persistence</a> ()</td></tr>
<tr class="separator:a9e2289a0a5c8ba7eb49525ad621747ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa32ff0d625b4f8a3ee332d60b90287db" id="r_aa32ff0d625b4f8a3ee332d60b90287db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#aa32ff0d625b4f8a3ee332d60b90287db">test_file_handle_persistence_mmap</a> (tmpdir)</td></tr>
<tr class="separator:aa32ff0d625b4f8a3ee332d60b90287db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3735e56193b6a1955a678ee87bd9a789" id="r_a3735e56193b6a1955a678ee87bd9a789"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a3735e56193b6a1955a678ee87bd9a789">test_file_handle_persistence_compressed_mmap</a> (tmpdir)</td></tr>
<tr class="separator:a3735e56193b6a1955a678ee87bd9a789"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a085b35f8098fe22a9aed23f8b41fd66c" id="r_a085b35f8098fe22a9aed23f8b41fd66c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a085b35f8098fe22a9aed23f8b41fd66c">test_file_handle_persistence_in_memory_mmap</a> ()</td></tr>
<tr class="separator:a085b35f8098fe22a9aed23f8b41fd66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f395da50ba5847150df8339b93292dc" id="r_a4f395da50ba5847150df8339b93292dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a4f395da50ba5847150df8339b93292dc">test_binary_zlibfile</a> (tmpdir, data, compress_level)</td></tr>
<tr class="separator:a4f395da50ba5847150df8339b93292dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64827cb3051ee500d2a535b5edd2eb39" id="r_a64827cb3051ee500d2a535b5edd2eb39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a64827cb3051ee500d2a535b5edd2eb39">test_binary_zlibfile_bad_compression_levels</a> (tmpdir, bad_value)</td></tr>
<tr class="separator:a64827cb3051ee500d2a535b5edd2eb39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad71a149b012bb2053c31d6da87b4d848" id="r_ad71a149b012bb2053c31d6da87b4d848"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#ad71a149b012bb2053c31d6da87b4d848">test_binary_zlibfile_invalid_modes</a> (tmpdir, bad_mode)</td></tr>
<tr class="separator:ad71a149b012bb2053c31d6da87b4d848"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c35d2a7250e2e4b794f8ebbcd630ecc" id="r_a0c35d2a7250e2e4b794f8ebbcd630ecc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a0c35d2a7250e2e4b794f8ebbcd630ecc">test_binary_zlibfile_invalid_filename_type</a> (bad_file)</td></tr>
<tr class="separator:a0c35d2a7250e2e4b794f8ebbcd630ecc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9dc6c305f4f27edb5679e1e7ca2dc8" id="r_adf9dc6c305f4f27edb5679e1e7ca2dc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#adf9dc6c305f4f27edb5679e1e7ca2dc8">_load_sub_array</a> (arr)</td></tr>
<tr class="separator:adf9dc6c305f4f27edb5679e1e7ca2dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8321c385d608f8278a78db70900a3b6c" id="r_a8321c385d608f8278a78db70900a3b6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a8321c385d608f8278a78db70900a3b6c">test_numpy_subclass</a> (tmpdir)</td></tr>
<tr class="separator:a8321c385d608f8278a78db70900a3b6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bc04756d8be31a1e0638fd12fd543f7" id="r_a2bc04756d8be31a1e0638fd12fd543f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a2bc04756d8be31a1e0638fd12fd543f7">test_pathlib</a> (tmpdir)</td></tr>
<tr class="separator:a2bc04756d8be31a1e0638fd12fd543f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d7465e4b1be36197ffe26c412db172e" id="r_a3d7465e4b1be36197ffe26c412db172e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a3d7465e4b1be36197ffe26c412db172e">test_non_contiguous_array_pickling</a> (tmpdir)</td></tr>
<tr class="separator:a3d7465e4b1be36197ffe26c412db172e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9dc156b90d5d899195d2d0fefb2717c" id="r_ac9dc156b90d5d899195d2d0fefb2717c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#ac9dc156b90d5d899195d2d0fefb2717c">test_pickle_highest_protocol</a> (tmpdir)</td></tr>
<tr class="separator:ac9dc156b90d5d899195d2d0fefb2717c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951643ed82e4e6a7546040fc236e3c70" id="r_a951643ed82e4e6a7546040fc236e3c70"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a951643ed82e4e6a7546040fc236e3c70">test_pickle_in_socket</a> ()</td></tr>
<tr class="separator:a951643ed82e4e6a7546040fc236e3c70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af700dc179f07369fa51ab27188923bcf" id="r_af700dc179f07369fa51ab27188923bcf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#af700dc179f07369fa51ab27188923bcf">test_load_memmap_with_big_offset</a> (tmpdir)</td></tr>
<tr class="separator:af700dc179f07369fa51ab27188923bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36f5287cc0164c3493ab5c7b05b796ee" id="r_a36f5287cc0164c3493ab5c7b05b796ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a36f5287cc0164c3493ab5c7b05b796ee">test_register_compressor</a> (tmpdir)</td></tr>
<tr class="separator:a36f5287cc0164c3493ab5c7b05b796ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a3be5ac51f41823e7542795a1c40e9" id="r_aa3a3be5ac51f41823e7542795a1c40e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#aa3a3be5ac51f41823e7542795a1c40e9">test_register_compressor_invalid_name</a> (invalid_name)</td></tr>
<tr class="separator:aa3a3be5ac51f41823e7542795a1c40e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a767952cb353e6879881dd62de9c854cb" id="r_a767952cb353e6879881dd62de9c854cb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a767952cb353e6879881dd62de9c854cb">test_register_compressor_invalid_fileobj</a> ()</td></tr>
<tr class="separator:a767952cb353e6879881dd62de9c854cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4252cb523b56886777c1b696cf2bc1ee" id="r_a4252cb523b56886777c1b696cf2bc1ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a4252cb523b56886777c1b696cf2bc1ee">test_register_compressor_already_registered</a> ()</td></tr>
<tr class="separator:a4252cb523b56886777c1b696cf2bc1ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52b9de4c91de5486064a6371fd3fb74" id="r_ae52b9de4c91de5486064a6371fd3fb74"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#ae52b9de4c91de5486064a6371fd3fb74">test_lz4_compression</a> (tmpdir)</td></tr>
<tr class="separator:ae52b9de4c91de5486064a6371fd3fb74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b57ea01073a9844a94678a76b2aafbf" id="r_a7b57ea01073a9844a94678a76b2aafbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a7b57ea01073a9844a94678a76b2aafbf">test_lz4_compression_without_lz4</a> (tmpdir)</td></tr>
<tr class="separator:a7b57ea01073a9844a94678a76b2aafbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af221b891b5457f14ede8c4018a1a4676" id="r_af221b891b5457f14ede8c4018a1a4676"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#af221b891b5457f14ede8c4018a1a4676">test_memmap_alignment_padding</a> (tmpdir, protocol)</td></tr>
<tr class="separator:af221b891b5457f14ede8c4018a1a4676"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab36abb4219a14124e1e6fbae23eff695" id="r_ab36abb4219a14124e1e6fbae23eff695"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#ab36abb4219a14124e1e6fbae23eff695">lzma</a> = None</td></tr>
<tr class="separator:ab36abb4219a14124e1e6fbae23eff695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8adc489e959e366c870ad6146160bf19" id="r_a8adc489e959e366c870ad6146160bf19"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a8adc489e959e366c870ad6146160bf19">typelist</a> = []</td></tr>
<tr class="memdesc:a8adc489e959e366c870ad6146160bf19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Define a list of standard types.  <br /></td></tr>
<tr class="separator:a8adc489e959e366c870ad6146160bf19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31a1de8181cb0ed34c79a945d004e721" id="r_a31a1de8181cb0ed34c79a945d004e721"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a31a1de8181cb0ed34c79a945d004e721">_none</a> = None</td></tr>
<tr class="separator:a31a1de8181cb0ed34c79a945d004e721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b34d111bc1fa9f1d750ac4e5c9b41d1" id="r_a0b34d111bc1fa9f1d750ac4e5c9b41d1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a0b34d111bc1fa9f1d750ac4e5c9b41d1">_type</a> = type</td></tr>
<tr class="separator:a0b34d111bc1fa9f1d750ac4e5c9b41d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a164ebd3ac95a4586908f39824a90fe6a" id="r_a164ebd3ac95a4586908f39824a90fe6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a164ebd3ac95a4586908f39824a90fe6a">_bool</a> = bool(1)</td></tr>
<tr class="separator:a164ebd3ac95a4586908f39824a90fe6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5471f7aa9177efc393d6944f64be49bc" id="r_a5471f7aa9177efc393d6944f64be49bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a5471f7aa9177efc393d6944f64be49bc">_int</a> = int(1)</td></tr>
<tr class="separator:a5471f7aa9177efc393d6944f64be49bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af386c7e7c4025daeb86299108d97c855" id="r_af386c7e7c4025daeb86299108d97c855"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#af386c7e7c4025daeb86299108d97c855">_float</a> = float(1)</td></tr>
<tr class="separator:af386c7e7c4025daeb86299108d97c855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f44d92d76cd47750a5a81cc0301c7ad" id="r_a6f44d92d76cd47750a5a81cc0301c7ad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a6f44d92d76cd47750a5a81cc0301c7ad">_complex</a> = complex(1)</td></tr>
<tr class="separator:a6f44d92d76cd47750a5a81cc0301c7ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3feb974b041538167e19e943a06fe0e" id="r_ab3feb974b041538167e19e943a06fe0e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#ab3feb974b041538167e19e943a06fe0e">_string</a> = str(1)</td></tr>
<tr class="separator:ab3feb974b041538167e19e943a06fe0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3270e26addade676f8d9dd6a547a919f" id="r_a3270e26addade676f8d9dd6a547a919f"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a3270e26addade676f8d9dd6a547a919f">_tuple</a> = ()</td></tr>
<tr class="separator:a3270e26addade676f8d9dd6a547a919f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a948bed9914f5f78915b1d65f518616b9" id="r_a948bed9914f5f78915b1d65f518616b9"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a948bed9914f5f78915b1d65f518616b9">_list</a> = []</td></tr>
<tr class="separator:a948bed9914f5f78915b1d65f518616b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22f935892da344ea5ce4f19e57ff1b44" id="r_a22f935892da344ea5ce4f19e57ff1b44"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a22f935892da344ea5ce4f19e57ff1b44">_dict</a> = {}</td></tr>
<tr class="separator:a22f935892da344ea5ce4f19e57ff1b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a377b8729a5d7368abdcc91ddc8f15dd0" id="r_a377b8729a5d7368abdcc91ddc8f15dd0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a377b8729a5d7368abdcc91ddc8f15dd0">_builtin</a> = len</td></tr>
<tr class="separator:a377b8729a5d7368abdcc91ddc8f15dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b08aac1e11695c447bc481d36e97a0" id="r_a52b08aac1e11695c447bc481d36e97a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a52b08aac1e11695c447bc481d36e97a0">_instance</a> = <a class="el" href="classjoblib_1_1test_1_1test__numpy__pickle_1_1__class.html">_class</a>()</td></tr>
<tr class="separator:a52b08aac1e11695c447bc481d36e97a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c7b6b837ec1d679e1e6bd024245d52b" id="r_a4c7b6b837ec1d679e1e6bd024245d52b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#a4c7b6b837ec1d679e1e6bd024245d52b">_object</a> = <a class="el" href="classjoblib_1_1test_1_1test__numpy__pickle_1_1__newclass.html">_newclass</a>()</td></tr>
<tr class="separator:a4c7b6b837ec1d679e1e6bd024245d52b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4ec2f459d2462c38aee2ee2446ca3d7" id="r_aa4ec2f459d2462c38aee2ee2446ca3d7"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1test_1_1test__numpy__pickle.html#aa4ec2f459d2462c38aee2ee2446ca3d7">protocols</a> = [pickle.DEFAULT_PROTOCOL]</td></tr>
<tr class="separator:aa4ec2f459d2462c38aee2ee2446ca3d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Test the numpy pickler as a replacement of the standard pickler.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="aeba7a17e9b0ed3933806ace928e532c1" name="aeba7a17e9b0ed3933806ace928e532c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeba7a17e9b0ed3933806ace928e532c1">&#9670;&#160;</a></span>_check_pickle()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._check_pickle </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mmap_mode</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper function to test joblib pickle content.

Note: currently only pickles containing an iterable are supported
by this function.
</pre> <div class="fragment"><div class="line"><span class="lineno">  364</span><span class="keyword">def </span>_check_pickle(filename, expected_list, mmap_mode=None):</div>
<div class="line"><span class="lineno">  365</span>    <span class="stringliteral">&quot;&quot;&quot;Helper function to test joblib pickle content.</span></div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">    Note: currently only pickles containing an iterable are supported</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral">    by this function.</span></div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  370</span>    version_match = re.match(<span class="stringliteral">r&#39;.+py(\d)(\d).+&#39;</span>, filename)</div>
<div class="line"><span class="lineno">  371</span>    py_version_used_for_writing = int(version_match.group(1))</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>    py_version_to_default_pickle_protocol = {2: 2, 3: 3}</div>
<div class="line"><span class="lineno">  374</span>    pickle_reading_protocol = py_version_to_default_pickle_protocol.get(3, 4)</div>
<div class="line"><span class="lineno">  375</span>    pickle_writing_protocol = py_version_to_default_pickle_protocol.get(</div>
<div class="line"><span class="lineno">  376</span>        py_version_used_for_writing, 4)</div>
<div class="line"><span class="lineno">  377</span>    <span class="keywordflow">if</span> pickle_reading_protocol &gt;= pickle_writing_protocol:</div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  379</span>            <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> warninfo:</div>
<div class="line"><span class="lineno">  380</span>                warnings.simplefilter(<span class="stringliteral">&#39;always&#39;</span>)</div>
<div class="line"><span class="lineno">  381</span>                warnings.filterwarnings(</div>
<div class="line"><span class="lineno">  382</span>                    <span class="stringliteral">&#39;ignore&#39;</span>, module=<span class="stringliteral">&#39;numpy&#39;</span>,</div>
<div class="line"><span class="lineno">  383</span>                    message=<span class="stringliteral">&#39;The compiler package is deprecated&#39;</span>)</div>
<div class="line"><span class="lineno">  384</span>                result_list = numpy_pickle.load(filename, mmap_mode=mmap_mode)</div>
<div class="line"><span class="lineno">  385</span>            filename_base = os.path.basename(filename)</div>
<div class="line"><span class="lineno">  386</span>            expected_nb_deprecation_warnings = 1 <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  387</span>                <span class="stringliteral">&quot;_0.9&quot;</span> <span class="keywordflow">in</span> filename_base <span class="keywordflow">or</span> <span class="stringliteral">&quot;_0.8.4&quot;</span> <span class="keywordflow">in</span> filename_base) <span class="keywordflow">else</span> 0</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>            expected_nb_user_warnings = 3 <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  390</span>                re.search(<span class="stringliteral">&quot;_0.1.+.pkl$&quot;</span>, filename_base) <span class="keywordflow">and</span></div>
<div class="line"><span class="lineno">  391</span>                mmap_mode <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>) <span class="keywordflow">else</span> 0</div>
<div class="line"><span class="lineno">  392</span>            expected_nb_warnings = \</div>
<div class="line"><span class="lineno">  393</span>                expected_nb_deprecation_warnings + expected_nb_user_warnings</div>
<div class="line"><span class="lineno">  394</span>            <span class="keyword">assert</span> len(warninfo) == expected_nb_warnings</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>            deprecation_warnings = [</div>
<div class="line"><span class="lineno">  397</span>                w <span class="keywordflow">for</span> w <span class="keywordflow">in</span> warninfo <span class="keywordflow">if</span> issubclass(</div>
<div class="line"><span class="lineno">  398</span>                    w.category, DeprecationWarning)]</div>
<div class="line"><span class="lineno">  399</span>            user_warnings = [</div>
<div class="line"><span class="lineno">  400</span>                w <span class="keywordflow">for</span> w <span class="keywordflow">in</span> warninfo <span class="keywordflow">if</span> issubclass(</div>
<div class="line"><span class="lineno">  401</span>                    w.category, UserWarning)]</div>
<div class="line"><span class="lineno">  402</span>            <span class="keywordflow">for</span> w <span class="keywordflow">in</span> deprecation_warnings:</div>
<div class="line"><span class="lineno">  403</span>                <span class="keyword">assert</span> (str(w.message) ==</div>
<div class="line"><span class="lineno">  404</span>                        <span class="stringliteral">&quot;The file &#39;{0}&#39; has been generated with a joblib &quot;</span></div>
<div class="line"><span class="lineno">  405</span>                        <span class="stringliteral">&quot;version less than 0.10. Please regenerate this &quot;</span></div>
<div class="line"><span class="lineno">  406</span>                        <span class="stringliteral">&quot;pickle file.&quot;</span>.format(filename))</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>            <span class="keywordflow">for</span> w <span class="keywordflow">in</span> user_warnings:</div>
<div class="line"><span class="lineno">  409</span>                escaped_filename = re.escape(filename)</div>
<div class="line"><span class="lineno">  410</span>                <span class="keyword">assert</span> re.search(</div>
<div class="line"><span class="lineno">  411</span>                    f<span class="stringliteral">&quot;memmapped.+{escaped_filename}.+segmentation fault&quot;</span>,</div>
<div class="line"><span class="lineno">  412</span>                    str(w.message))</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>            <span class="keywordflow">for</span> result, expected <span class="keywordflow">in</span> zip(result_list, expected_list):</div>
<div class="line"><span class="lineno">  415</span>                <span class="keywordflow">if</span> isinstance(expected, np.ndarray):</div>
<div class="line"><span class="lineno">  416</span>                    expected = _ensure_native_byte_order(expected)</div>
<div class="line"><span class="lineno">  417</span>                    <span class="keyword">assert</span> result.dtype == expected.dtype</div>
<div class="line"><span class="lineno">  418</span>                    np.testing.assert_equal(result, expected)</div>
<div class="line"><span class="lineno">  419</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  420</span>                    <span class="keyword">assert</span> result == expected</div>
<div class="line"><span class="lineno">  421</span>        <span class="keywordflow">except</span> Exception <span class="keyword">as</span> exc:</div>
<div class="line"><span class="lineno">  422</span>            <span class="comment"># When trying to read with python 3 a pickle generated</span></div>
<div class="line"><span class="lineno">  423</span>            <span class="comment"># with python 2 we expect a user-friendly error</span></div>
<div class="line"><span class="lineno">  424</span>            <span class="keywordflow">if</span> py_version_used_for_writing == 2:</div>
<div class="line"><span class="lineno">  425</span>                <span class="keyword">assert</span> isinstance(exc, ValueError)</div>
<div class="line"><span class="lineno">  426</span>                message = (<span class="stringliteral">&#39;You may be trying to read with &#39;</span></div>
<div class="line"><span class="lineno">  427</span>                           <span class="stringliteral">&#39;python 3 a joblib pickle generated with python 2.&#39;</span>)</div>
<div class="line"><span class="lineno">  428</span>                <span class="keyword">assert</span> message <span class="keywordflow">in</span> str(exc)</div>
<div class="line"><span class="lineno">  429</span>            <span class="keywordflow">elif</span> filename.endswith(<span class="stringliteral">&#39;.lz4&#39;</span>) <span class="keywordflow">and</span> with_lz4.args[0]:</div>
<div class="line"><span class="lineno">  430</span>                <span class="keyword">assert</span> isinstance(exc, ValueError)</div>
<div class="line"><span class="lineno">  431</span>                <span class="keyword">assert</span> LZ4_NOT_INSTALLED_ERROR <span class="keywordflow">in</span> str(exc)</div>
<div class="line"><span class="lineno">  432</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  433</span>                <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  434</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  435</span>        <span class="comment"># Pickle protocol used for writing is too high. We expect a</span></div>
<div class="line"><span class="lineno">  436</span>        <span class="comment"># &quot;unsupported pickle protocol&quot; error message</span></div>
<div class="line"><span class="lineno">  437</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  438</span>            numpy_pickle.load(filename)</div>
<div class="line"><span class="lineno">  439</span>            <span class="keywordflow">raise</span> AssertionError(<span class="stringliteral">&#39;Numpy pickle loading should &#39;</span></div>
<div class="line"><span class="lineno">  440</span>                                 <span class="stringliteral">&#39;have raised a ValueError exception&#39;</span>)</div>
<div class="line"><span class="lineno">  441</span>        <span class="keywordflow">except</span> ValueError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  442</span>            message = <span class="stringliteral">&#39;unsupported pickle protocol: {0}&#39;</span>.format(</div>
<div class="line"><span class="lineno">  443</span>                pickle_writing_protocol)</div>
<div class="line"><span class="lineno">  444</span>            <span class="keyword">assert</span> message <span class="keywordflow">in</span> str(e.args)</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab6fc04611b0c1db4c1e366fc5efe4eeb" name="ab6fc04611b0c1db4c1e366fc5efe4eeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6fc04611b0c1db4c1e366fc5efe4eeb">&#9670;&#160;</a></span>_function()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._function </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   75</span><span class="keyword">def </span>_function(x):</div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">yield</span> x</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f70faab8487208da7a3e2445b8bc438" name="a1f70faab8487208da7a3e2445b8bc438"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f70faab8487208da7a3e2445b8bc438">&#9670;&#160;</a></span>_gzip_file_decompress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._gzip_file_decompress </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target_filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Decompress a gzip file.</pre> <div class="fragment"><div class="line"><span class="lineno">  611</span><span class="keyword">def </span>_gzip_file_decompress(source_filename, target_filename):</div>
<div class="line"><span class="lineno">  612</span>    <span class="stringliteral">&quot;&quot;&quot;Decompress a gzip file.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  613</span>    <span class="keyword">with</span> closing(gzip.GzipFile(source_filename, <span class="stringliteral">&quot;rb&quot;</span>)) <span class="keyword">as</span> fo:</div>
<div class="line"><span class="lineno">  614</span>        buf = fo.read()</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span>    <span class="keyword">with</span> open(target_filename, <span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> fo:</div>
<div class="line"><span class="lineno">  617</span>        fo.write(buf)</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adf9dc6c305f4f27edb5679e1e7ca2dc8" name="adf9dc6c305f4f27edb5679e1e7ca2dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf9dc6c305f4f27edb5679e1e7ca2dc8">&#9670;&#160;</a></span>_load_sub_array()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._load_sub_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  861</span>    <span class="keyword">def </span>_load_sub_array(arr):</div>
<div class="line"><span class="lineno">  862</span>        d = SubArray(arr.shape)</div>
<div class="line"><span class="lineno">  863</span>        d[:] = arr</div>
<div class="line"><span class="lineno">  864</span>        <span class="keywordflow">return</span> d</div>
<div class="line"><span class="lineno">  865</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aca2a92d64cb42e3a75a445b6bda4d4b6" name="aca2a92d64cb42e3a75a445b6bda4d4b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca2a92d64cb42e3a75a445b6bda4d4b6">&#9670;&#160;</a></span>_zlib_file_decompress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._zlib_file_decompress </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source_filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target_filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Decompress a zlib file.</pre> <div class="fragment"><div class="line"><span class="lineno">  620</span><span class="keyword">def </span>_zlib_file_decompress(source_filename, target_filename):</div>
<div class="line"><span class="lineno">  621</span>    <span class="stringliteral">&quot;&quot;&quot;Decompress a zlib file.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  622</span>    <span class="keyword">with</span> open(source_filename, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> fo:</div>
<div class="line"><span class="lineno">  623</span>        buf = zlib.decompress(fo.read())</div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>    <span class="keyword">with</span> open(target_filename, <span class="stringliteral">&#39;wb&#39;</span>) <span class="keyword">as</span> fo:</div>
<div class="line"><span class="lineno">  626</span>        fo.write(buf)</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span><span class="preprocessor">@parametrize</span>(<span class="stringliteral">&#39;extension,decompress&#39;</span>,</div>
<div class="line"><span class="lineno">  630</span>             [(<span class="stringliteral">&#39;.z&#39;</span>, _zlib_file_decompress),</div>
<div class="line"><span class="lineno">  631</span>              (<span class="stringliteral">&#39;.gz&#39;</span>, _gzip_file_decompress)])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4f395da50ba5847150df8339b93292dc" name="a4f395da50ba5847150df8339b93292dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f395da50ba5847150df8339b93292dc">&#9670;&#160;</a></span>test_binary_zlibfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_binary_zlibfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compress_level</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  775</span><span class="keyword">def </span>test_binary_zlibfile(tmpdir, data, compress_level):</div>
<div class="line"><span class="lineno">  776</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  777</span>    <span class="comment"># Regular cases</span></div>
<div class="line"><span class="lineno">  778</span>    <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;wb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  779</span>        <span class="keyword">with</span> BinaryZlibFile(f, <span class="stringliteral">&#39;wb&#39;</span>,</div>
<div class="line"><span class="lineno">  780</span>                            compresslevel=compress_level) <span class="keyword">as</span> fz:</div>
<div class="line"><span class="lineno">  781</span>            <span class="keyword">assert</span> fz.writable()</div>
<div class="line"><span class="lineno">  782</span>            fz.write(data)</div>
<div class="line"><span class="lineno">  783</span>            <span class="keyword">assert</span> fz.fileno() == f.fileno()</div>
<div class="line"><span class="lineno">  784</span>            <span class="keyword">with</span> raises(io.UnsupportedOperation):</div>
<div class="line"><span class="lineno">  785</span>                fz._check_can_read()</div>
<div class="line"><span class="lineno">  786</span> </div>
<div class="line"><span class="lineno">  787</span>            <span class="keyword">with</span> raises(io.UnsupportedOperation):</div>
<div class="line"><span class="lineno">  788</span>                fz._check_can_seek()</div>
<div class="line"><span class="lineno">  789</span>        <span class="keyword">assert</span> fz.closed</div>
<div class="line"><span class="lineno">  790</span>        <span class="keyword">with</span> raises(ValueError):</div>
<div class="line"><span class="lineno">  791</span>            fz._check_not_closed()</div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>    <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  794</span>        <span class="keyword">with</span> BinaryZlibFile(f) <span class="keyword">as</span> fz:</div>
<div class="line"><span class="lineno">  795</span>            <span class="keyword">assert</span> fz.readable()</div>
<div class="line"><span class="lineno">  796</span>            <span class="keyword">assert</span> fz.seekable()</div>
<div class="line"><span class="lineno">  797</span>            <span class="keyword">assert</span> fz.fileno() == f.fileno()</div>
<div class="line"><span class="lineno">  798</span>            <span class="keyword">assert</span> fz.read() == data</div>
<div class="line"><span class="lineno">  799</span>            <span class="keyword">with</span> raises(io.UnsupportedOperation):</div>
<div class="line"><span class="lineno">  800</span>                fz._check_can_write()</div>
<div class="line"><span class="lineno">  801</span>            <span class="keyword">assert</span> fz.seekable()</div>
<div class="line"><span class="lineno">  802</span>            fz.seek(0)</div>
<div class="line"><span class="lineno">  803</span>            <span class="keyword">assert</span> fz.tell() == 0</div>
<div class="line"><span class="lineno">  804</span>        <span class="keyword">assert</span> fz.closed</div>
<div class="line"><span class="lineno">  805</span> </div>
<div class="line"><span class="lineno">  806</span>    <span class="comment"># Test with a filename as input</span></div>
<div class="line"><span class="lineno">  807</span>    <span class="keyword">with</span> BinaryZlibFile(filename, <span class="stringliteral">&#39;wb&#39;</span>,</div>
<div class="line"><span class="lineno">  808</span>                        compresslevel=compress_level) <span class="keyword">as</span> fz:</div>
<div class="line"><span class="lineno">  809</span>        <span class="keyword">assert</span> fz.writable()</div>
<div class="line"><span class="lineno">  810</span>        fz.write(data)</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>    <span class="keyword">with</span> BinaryZlibFile(filename, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> fz:</div>
<div class="line"><span class="lineno">  813</span>        <span class="keyword">assert</span> fz.read() == data</div>
<div class="line"><span class="lineno">  814</span>        <span class="keyword">assert</span> fz.seekable()</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>    <span class="comment"># Test without context manager</span></div>
<div class="line"><span class="lineno">  817</span>    fz = BinaryZlibFile(filename, <span class="stringliteral">&#39;wb&#39;</span>, compresslevel=compress_level)</div>
<div class="line"><span class="lineno">  818</span>    <span class="keyword">assert</span> fz.writable()</div>
<div class="line"><span class="lineno">  819</span>    fz.write(data)</div>
<div class="line"><span class="lineno">  820</span>    fz.close()</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>    fz = BinaryZlibFile(filename, <span class="stringliteral">&#39;rb&#39;</span>)</div>
<div class="line"><span class="lineno">  823</span>    <span class="keyword">assert</span> fz.read() == data</div>
<div class="line"><span class="lineno">  824</span>    fz.close()</div>
<div class="line"><span class="lineno">  825</span> </div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span><span class="preprocessor">@parametrize(&#39;bad_value&#39;, [-1, 10, 15, &#39;a&#39;, ()</span>, {}])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a64827cb3051ee500d2a535b5edd2eb39" name="a64827cb3051ee500d2a535b5edd2eb39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64827cb3051ee500d2a535b5edd2eb39">&#9670;&#160;</a></span>test_binary_zlibfile_bad_compression_levels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_binary_zlibfile_bad_compression_levels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bad_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  828</span><span class="keyword">def </span>test_binary_zlibfile_bad_compression_levels(tmpdir, bad_value):</div>
<div class="line"><span class="lineno">  829</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  830</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno">  831</span>        BinaryZlibFile(filename, <span class="stringliteral">&#39;wb&#39;</span>, compresslevel=bad_value)</div>
<div class="line"><span class="lineno">  832</span>    pattern = re.escape(<span class="stringliteral">&quot;&#39;compresslevel&#39; must be an integer between 1 and 9. &quot;</span></div>
<div class="line"><span class="lineno">  833</span>                        <span class="stringliteral">&quot;You provided &#39;compresslevel={}&#39;&quot;</span>.format(bad_value))</div>
<div class="line"><span class="lineno">  834</span>    excinfo.match(pattern)</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span> </div>
<div class="line"><span class="lineno">  837</span><span class="preprocessor">@parametrize(&#39;bad_mode&#39;, [&#39;a&#39;, &#39;x&#39;, &#39;r&#39;, &#39;w&#39;, 1, 2])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c35d2a7250e2e4b794f8ebbcd630ecc" name="a0c35d2a7250e2e4b794f8ebbcd630ecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c35d2a7250e2e4b794f8ebbcd630ecc">&#9670;&#160;</a></span>test_binary_zlibfile_invalid_filename_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_binary_zlibfile_invalid_filename_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bad_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  846</span><span class="keyword">def </span>test_binary_zlibfile_invalid_filename_type(bad_file):</div>
<div class="line"><span class="lineno">  847</span>    <span class="keyword">with</span> raises(TypeError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno">  848</span>        BinaryZlibFile(bad_file, <span class="stringliteral">&#39;rb&#39;</span>)</div>
<div class="line"><span class="lineno">  849</span>    excinfo.match(<span class="stringliteral">&quot;filename must be a str or bytes object, or a file&quot;</span>)</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad71a149b012bb2053c31d6da87b4d848" name="ad71a149b012bb2053c31d6da87b4d848"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad71a149b012bb2053c31d6da87b4d848">&#9670;&#160;</a></span>test_binary_zlibfile_invalid_modes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_binary_zlibfile_invalid_modes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bad_mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  838</span><span class="keyword">def </span>test_binary_zlibfile_invalid_modes(tmpdir, bad_mode):</div>
<div class="line"><span class="lineno">  839</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  840</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno">  841</span>        BinaryZlibFile(filename, bad_mode)</div>
<div class="line"><span class="lineno">  842</span>    excinfo.match(<span class="stringliteral">&quot;Invalid mode&quot;</span>)</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span> </div>
<div class="line"><span class="lineno">  845</span><span class="preprocessor">@parametrize(&#39;bad_file&#39;, [1, ()</span>, {}])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a19f54c468372d08700bb6a880e22ea89" name="a19f54c468372d08700bb6a880e22ea89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19f54c468372d08700bb6a880e22ea89">&#9670;&#160;</a></span>test_cache_size_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_cache_size_warning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cache_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  294</span><span class="keyword">def </span>test_cache_size_warning(tmpdir, cache_size):</div>
<div class="line"><span class="lineno">  295</span>    <span class="comment"># Check deprecation warning raised when cache size is not None</span></div>
<div class="line"><span class="lineno">  296</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  297</span>    rnd = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  298</span>    a = rnd.random_sample((10, 2))</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>    warnings.simplefilter(<span class="stringliteral">&quot;always&quot;</span>)</div>
<div class="line"><span class="lineno">  301</span>    <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> warninfo:</div>
<div class="line"><span class="lineno">  302</span>        numpy_pickle.dump(a, filename, cache_size=cache_size)</div>
<div class="line"><span class="lineno">  303</span>    expected_nb_warnings = 1 <span class="keywordflow">if</span> cache_size <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> 0</div>
<div class="line"><span class="lineno">  304</span>    <span class="keyword">assert</span> len(warninfo) == expected_nb_warnings</div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordflow">for</span> w <span class="keywordflow">in</span> warninfo:</div>
<div class="line"><span class="lineno">  306</span>        <span class="keyword">assert</span> w.category == DeprecationWarning</div>
<div class="line"><span class="lineno">  307</span>        <span class="keyword">assert</span> (str(w.message) ==</div>
<div class="line"><span class="lineno">  308</span>                <span class="stringliteral">&quot;Please do not set &#39;cache_size&#39; in joblib.dump, this &quot;</span></div>
<div class="line"><span class="lineno">  309</span>                <span class="stringliteral">&quot;parameter has no effect and will be removed. You &quot;</span></div>
<div class="line"><span class="lineno">  310</span>                <span class="stringliteral">&quot;used &#39;cache_size={0}&#39;&quot;</span>.format(cache_size))</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno">  314</span><span class="preprocessor">@with_memory_profiler</span></div>
<div class="line"><span class="lineno">  315</span><span class="preprocessor">@parametrize(&#39;compress&#39;, [True, False])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a62e1fdacf6e940f98809effd480d530b" name="a62e1fdacf6e940f98809effd480d530b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62e1fdacf6e940f98809effd480d530b">&#9670;&#160;</a></span>test_compress_level_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_compress_level_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>wrong_compress</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  121</span><span class="keyword">def </span>test_compress_level_error(wrong_compress):</div>
<div class="line"><span class="lineno">  122</span>    <span class="comment"># Verify that passing an invalid compress argument raises an error.</span></div>
<div class="line"><span class="lineno">  123</span>    exception_msg = (<span class="stringliteral">&#39;Non valid compress level given: &#39;</span></div>
<div class="line"><span class="lineno">  124</span>                     <span class="stringliteral">&#39;&quot;{0}&quot;&#39;</span>.format(wrong_compress))</div>
<div class="line"><span class="lineno">  125</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno">  126</span>        numpy_pickle.dump(<span class="stringliteral">&#39;dummy&#39;</span>, <span class="stringliteral">&#39;foo&#39;</span>, compress=wrong_compress)</div>
<div class="line"><span class="lineno">  127</span>    excinfo.match(exception_msg)</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno">  131</span><span class="preprocessor">@parametrize(&#39;compress&#39;, [False, True, 0, 3, &#39;zlib&#39;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac938d9fb298b1287df329c3ce361d240" name="ac938d9fb298b1287df329c3ce361d240"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac938d9fb298b1287df329c3ce361d240">&#9670;&#160;</a></span>test_compress_mmap_mode_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_compress_mmap_mode_warning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  275</span><span class="keyword">def </span>test_compress_mmap_mode_warning(tmpdir):</div>
<div class="line"><span class="lineno">  276</span>    <span class="comment"># Test the warning in case of compress + mmap_mode</span></div>
<div class="line"><span class="lineno">  277</span>    rnd = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  278</span>    a = rnd.random_sample(10)</div>
<div class="line"><span class="lineno">  279</span>    this_filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  280</span>    numpy_pickle.dump(a, this_filename, compress=1)</div>
<div class="line"><span class="lineno">  281</span>    <span class="keyword">with</span> warns(UserWarning) <span class="keyword">as</span> warninfo:</div>
<div class="line"><span class="lineno">  282</span>        numpy_pickle.load(this_filename, mmap_mode=<span class="stringliteral">&#39;r+&#39;</span>)</div>
<div class="line"><span class="lineno">  283</span>    warninfo = [w.message <span class="keywordflow">for</span> w <span class="keywordflow">in</span> warninfo]</div>
<div class="line"><span class="lineno">  284</span>    <span class="keyword">assert</span> len(warninfo) == 1</div>
<div class="line"><span class="lineno">  285</span>    <span class="keyword">assert</span> (</div>
<div class="line"><span class="lineno">  286</span>        str(warninfo[0]) ==</div>
<div class="line"><span class="lineno">  287</span>        <span class="stringliteral">&#39;mmap_mode &quot;r+&quot; is not compatible with compressed &#39;</span></div>
<div class="line"><span class="lineno">  288</span>        f<span class="stringliteral">&#39;file {this_filename}. &quot;r+&quot; flag will be ignored.&#39;</span></div>
<div class="line"><span class="lineno">  289</span>    )</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno">  293</span><span class="preprocessor">@parametrize(&#39;cache_size&#39;, [None, 0, 10])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a1dde393b2527bdc6e41898d8ec46c3" name="a0a1dde393b2527bdc6e41898d8ec46c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a1dde393b2527bdc6e41898d8ec46c3">&#9670;&#160;</a></span>test_compress_string_argument()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_compress_string_argument </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compress_string</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  569</span><span class="keyword">def </span>test_compress_string_argument(tmpdir, compress_string):</div>
<div class="line"><span class="lineno">  570</span>    <span class="comment"># Verify the string is correctly taken into account.</span></div>
<div class="line"><span class="lineno">  571</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  572</span>    numpy_pickle.dump(<span class="stringliteral">&quot;dummy&quot;</span>, filename,</div>
<div class="line"><span class="lineno">  573</span>                      compress=compress_string)</div>
<div class="line"><span class="lineno">  574</span>    <span class="comment"># Verify the file contains the right magic number</span></div>
<div class="line"><span class="lineno">  575</span>    <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  576</span>        <span class="keyword">assert</span> _detect_compressor(f) == compress_string</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span><span class="preprocessor">@with_numpy</span></div>
<div class="line"><span class="lineno">  580</span><span class="preprocessor">@parametrize(&#39;compress&#39;, [1, 3, 6])</span></div>
<div class="line"><span class="lineno">  581</span><span class="preprocessor">@parametrize(&#39;cmethod&#39;, _COMPRESSORS)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af0137ce1d4fc7ebef04be9eaa204026a" name="af0137ce1d4fc7ebef04be9eaa204026a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0137ce1d4fc7ebef04be9eaa204026a">&#9670;&#160;</a></span>test_compress_tuple_argument()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_compress_tuple_argument </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compress_tuple</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  543</span><span class="keyword">def </span>test_compress_tuple_argument(tmpdir, compress_tuple):</div>
<div class="line"><span class="lineno">  544</span>    <span class="comment"># Verify the tuple is correctly taken into account.</span></div>
<div class="line"><span class="lineno">  545</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  546</span>    numpy_pickle.dump(<span class="stringliteral">&quot;dummy&quot;</span>, filename,</div>
<div class="line"><span class="lineno">  547</span>                      compress=compress_tuple)</div>
<div class="line"><span class="lineno">  548</span>    <span class="comment"># Verify the file contains the right magic number</span></div>
<div class="line"><span class="lineno">  549</span>    <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  550</span>        <span class="keyword">assert</span> _detect_compressor(f) == compress_tuple[0]</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span><span class="preprocessor">@parametrize</span>(<span class="stringliteral">&#39;compress_tuple,message&#39;</span>,</div>
<div class="line"><span class="lineno">  554</span>             [((<span class="stringliteral">&#39;zlib&#39;</span>, 3, <span class="stringliteral">&#39;extra&#39;</span>),        <span class="comment"># wrong compress tuple</span></div>
<div class="line"><span class="lineno">  555</span>               <span class="stringliteral">&#39;Compress argument tuple should contain exactly 2 elements&#39;</span>),</div>
<div class="line"><span class="lineno">  556</span>              ((<span class="stringliteral">&#39;wrong&#39;</span>, 3),                <span class="comment"># wrong compress method</span></div>
<div class="line"><span class="lineno">  557</span>               <span class="stringliteral">&#39;Non valid compression method given: &quot;{}&quot;&#39;</span>.format(<span class="stringliteral">&#39;wrong&#39;</span>)),</div>
<div class="line"><span class="lineno">  558</span>              ((<span class="stringliteral">&#39;zlib&#39;</span>, <span class="stringliteral">&#39;wrong&#39;</span>),           <span class="comment"># wrong compress level</span></div>
<div class="line"><span class="lineno">  559</span>               <span class="stringliteral">&#39;Non valid compress level given: &quot;{}&quot;&#39;</span>.format(<span class="stringliteral">&#39;wrong&#39;</span>))])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a66c126a5240334b06c2fccc070fe69a6" name="a66c126a5240334b06c2fccc070fe69a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c126a5240334b06c2fccc070fe69a6">&#9670;&#160;</a></span>test_compress_tuple_argument_exception()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_compress_tuple_argument_exception </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compress_tuple</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  560</span><span class="keyword">def </span>test_compress_tuple_argument_exception(tmpdir, compress_tuple, message):</div>
<div class="line"><span class="lineno">  561</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  562</span>    <span class="comment"># Verify setting a wrong compress tuple raises a ValueError.</span></div>
<div class="line"><span class="lineno">  563</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno">  564</span>        numpy_pickle.dump(<span class="stringliteral">&#39;dummy&#39;</span>, filename, compress=compress_tuple)</div>
<div class="line"><span class="lineno">  565</span>    excinfo.match(message)</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span><span class="preprocessor">@parametrize(&#39;compress_string&#39;, [&#39;zlib&#39;, &#39;gzip&#39;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a276bf1c742a7512513dd4566e3a05176" name="a276bf1c742a7512513dd4566e3a05176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a276bf1c742a7512513dd4566e3a05176">&#9670;&#160;</a></span>test_compressed_pickle_dump_and_load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_compressed_pickle_dump_and_load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  341</span><span class="keyword">def </span>test_compressed_pickle_dump_and_load(tmpdir):</div>
<div class="line"><span class="lineno">  342</span>    expected_list = [np.arange(5, dtype=np.dtype(<span class="stringliteral">&#39;&lt;i8&#39;</span>)),</div>
<div class="line"><span class="lineno">  343</span>                     np.arange(5, dtype=np.dtype(<span class="stringliteral">&#39;&gt;i8&#39;</span>)),</div>
<div class="line"><span class="lineno">  344</span>                     np.arange(5, dtype=np.dtype(<span class="stringliteral">&#39;&lt;f8&#39;</span>)),</div>
<div class="line"><span class="lineno">  345</span>                     np.arange(5, dtype=np.dtype(<span class="stringliteral">&#39;&gt;f8&#39;</span>)),</div>
<div class="line"><span class="lineno">  346</span>                     np.array([1, <span class="stringliteral">&#39;abc&#39;</span>, {<span class="stringliteral">&#39;a&#39;</span>: 1, <span class="stringliteral">&#39;b&#39;</span>: 2}], dtype=<span class="stringliteral">&#39;O&#39;</span>),</div>
<div class="line"><span class="lineno">  347</span>                     np.arange(256, dtype=np.uint8).tobytes(),</div>
<div class="line"><span class="lineno">  348</span>                     <span class="stringliteral">u&quot;C&#39;est l&#39;\xe9t\xe9 !&quot;</span>]</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>    fname = tmpdir.join(<span class="stringliteral">&#39;temp.pkl.gz&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    dumped_filenames = numpy_pickle.dump(expected_list, fname, compress=1)</div>
<div class="line"><span class="lineno">  353</span>    <span class="keyword">assert</span> len(dumped_filenames) == 1</div>
<div class="line"><span class="lineno">  354</span>    result_list = numpy_pickle.load(fname)</div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">for</span> result, expected <span class="keywordflow">in</span> zip(result_list, expected_list):</div>
<div class="line"><span class="lineno">  356</span>        <span class="keywordflow">if</span> isinstance(expected, np.ndarray):</div>
<div class="line"><span class="lineno">  357</span>            expected = _ensure_native_byte_order(expected)</div>
<div class="line"><span class="lineno">  358</span>            <span class="keyword">assert</span> result.dtype == expected.dtype</div>
<div class="line"><span class="lineno">  359</span>            np.testing.assert_equal(result, expected)</div>
<div class="line"><span class="lineno">  360</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  361</span>            <span class="keyword">assert</span> result == expected</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aed8b139c8607cdfd28b4656afc6a411a" name="aed8b139c8607cdfd28b4656afc6a411a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed8b139c8607cdfd28b4656afc6a411a">&#9670;&#160;</a></span>test_compression_using_file_extension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_compression_using_file_extension </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cmethod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  660</span><span class="keyword">def </span>test_compression_using_file_extension(tmpdir, extension, cmethod):</div>
<div class="line"><span class="lineno">  661</span>    <span class="keywordflow">if</span> cmethod <span class="keywordflow">in</span> (<span class="stringliteral">&quot;lzma&quot;</span>, <span class="stringliteral">&quot;xz&quot;</span>) <span class="keywordflow">and</span> lzma <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  662</span>        pytest.skip(<span class="stringliteral">&quot;lzma is missing&quot;</span>)</div>
<div class="line"><span class="lineno">  663</span>    <span class="comment"># test that compression method corresponds to the given filename extension.</span></div>
<div class="line"><span class="lineno">  664</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  665</span>    obj = <span class="stringliteral">&quot;object to dump&quot;</span></div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>    dump_fname = filename + extension</div>
<div class="line"><span class="lineno">  668</span>    numpy_pickle.dump(obj, dump_fname)</div>
<div class="line"><span class="lineno">  669</span>    <span class="comment"># Verify the file contains the right magic number</span></div>
<div class="line"><span class="lineno">  670</span>    <span class="keyword">with</span> open(dump_fname, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  671</span>        <span class="keyword">assert</span> _detect_compressor(f) == cmethod</div>
<div class="line"><span class="lineno">  672</span>    <span class="comment"># Verify the reloaded object is correct</span></div>
<div class="line"><span class="lineno">  673</span>    obj_reloaded = numpy_pickle.load(dump_fname)</div>
<div class="line"><span class="lineno">  674</span>    <span class="keyword">assert</span> isinstance(obj_reloaded, type(obj))</div>
<div class="line"><span class="lineno">  675</span>    <span class="keyword">assert</span> obj_reloaded == obj</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aac76f69ff93b5844039c88f7a5aeb5c8" name="aac76f69ff93b5844039c88f7a5aeb5c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac76f69ff93b5844039c88f7a5aeb5c8">&#9670;&#160;</a></span>test_file_handle_persistence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_file_handle_persistence </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  679</span><span class="keyword">def </span>test_file_handle_persistence(tmpdir):</div>
<div class="line"><span class="lineno">  680</span>    objs = [np.random.random((10, 10)), <span class="stringliteral">&quot;some data&quot;</span>]</div>
<div class="line"><span class="lineno">  681</span>    fobjs = [bz2.BZ2File, gzip.GzipFile]</div>
<div class="line"><span class="lineno">  682</span>    <span class="keywordflow">if</span> lzma <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  683</span>        fobjs += [lzma.LZMAFile]</div>
<div class="line"><span class="lineno">  684</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  685</span> </div>
<div class="line"><span class="lineno">  686</span>    <span class="keywordflow">for</span> obj <span class="keywordflow">in</span> objs:</div>
<div class="line"><span class="lineno">  687</span>        <span class="keywordflow">for</span> fobj <span class="keywordflow">in</span> fobjs:</div>
<div class="line"><span class="lineno">  688</span>            <span class="keyword">with</span> fobj(filename, <span class="stringliteral">&#39;wb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  689</span>                numpy_pickle.dump(obj, f)</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>            <span class="comment"># using the same decompressor prevents from internally</span></div>
<div class="line"><span class="lineno">  692</span>            <span class="comment"># decompress again.</span></div>
<div class="line"><span class="lineno">  693</span>            <span class="keyword">with</span> fobj(filename, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  694</span>                obj_reloaded = numpy_pickle.load(f)</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>            <span class="comment"># when needed, the correct decompressor should be used when</span></div>
<div class="line"><span class="lineno">  697</span>            <span class="comment"># passing a raw file handle.</span></div>
<div class="line"><span class="lineno">  698</span>            <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  699</span>                obj_reloaded_2 = numpy_pickle.load(f)</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>            <span class="keywordflow">if</span> isinstance(obj, np.ndarray):</div>
<div class="line"><span class="lineno">  702</span>                np.testing.assert_array_equal(obj_reloaded, obj)</div>
<div class="line"><span class="lineno">  703</span>                np.testing.assert_array_equal(obj_reloaded_2, obj)</div>
<div class="line"><span class="lineno">  704</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  705</span>                <span class="keyword">assert</span> obj_reloaded == obj</div>
<div class="line"><span class="lineno">  706</span>                <span class="keyword">assert</span> obj_reloaded_2 == obj</div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3735e56193b6a1955a678ee87bd9a789" name="a3735e56193b6a1955a678ee87bd9a789"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3735e56193b6a1955a678ee87bd9a789">&#9670;&#160;</a></span>test_file_handle_persistence_compressed_mmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_file_handle_persistence_compressed_mmap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  737</span><span class="keyword">def </span>test_file_handle_persistence_compressed_mmap(tmpdir):</div>
<div class="line"><span class="lineno">  738</span>    obj = np.random.random((10, 10))</div>
<div class="line"><span class="lineno">  739</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span>    <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;wb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  742</span>        numpy_pickle.dump(obj, f, compress=(<span class="stringliteral">&#39;gzip&#39;</span>, 3))</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>    <span class="keyword">with</span> closing(gzip.GzipFile(filename, <span class="stringliteral">&#39;rb&#39;</span>)) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  745</span>        <span class="keyword">with</span> warns(UserWarning) <span class="keyword">as</span> warninfo:</div>
<div class="line"><span class="lineno">  746</span>            numpy_pickle.load(f, mmap_mode=<span class="stringliteral">&#39;r+&#39;</span>)</div>
<div class="line"><span class="lineno">  747</span>        <span class="keyword">assert</span> len(warninfo) == 1</div>
<div class="line"><span class="lineno">  748</span>        <span class="keyword">assert</span> (str(warninfo[0].message) ==</div>
<div class="line"><span class="lineno">  749</span>                <span class="stringliteral">&#39;&quot;%(fileobj)r&quot; is not a raw file, mmap_mode &quot;%(mmap_mode)s&quot; &#39;</span></div>
<div class="line"><span class="lineno">  750</span>                <span class="stringliteral">&#39;flag will be ignored.&#39;</span> % {<span class="stringliteral">&#39;fileobj&#39;</span>: f, <span class="stringliteral">&#39;mmap_mode&#39;</span>: <span class="stringliteral">&#39;r+&#39;</span>})</div>
<div class="line"><span class="lineno">  751</span> </div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a085b35f8098fe22a9aed23f8b41fd66c" name="a085b35f8098fe22a9aed23f8b41fd66c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a085b35f8098fe22a9aed23f8b41fd66c">&#9670;&#160;</a></span>test_file_handle_persistence_in_memory_mmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_file_handle_persistence_in_memory_mmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  754</span><span class="keyword">def </span>test_file_handle_persistence_in_memory_mmap():</div>
<div class="line"><span class="lineno">  755</span>    obj = np.random.random((10, 10))</div>
<div class="line"><span class="lineno">  756</span>    buf = io.BytesIO()</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>    numpy_pickle.dump(obj, buf)</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>    <span class="keyword">with</span> warns(UserWarning) <span class="keyword">as</span> warninfo:</div>
<div class="line"><span class="lineno">  761</span>        numpy_pickle.load(buf, mmap_mode=<span class="stringliteral">&#39;r+&#39;</span>)</div>
<div class="line"><span class="lineno">  762</span>    <span class="keyword">assert</span> len(warninfo) == 1</div>
<div class="line"><span class="lineno">  763</span>    <span class="keyword">assert</span> (str(warninfo[0].message) ==</div>
<div class="line"><span class="lineno">  764</span>            <span class="stringliteral">&#39;In memory persistence is not compatible with mmap_mode &#39;</span></div>
<div class="line"><span class="lineno">  765</span>            <span class="stringliteral">&#39;&quot;%(mmap_mode)s&quot; flag passed. mmap_mode option will be &#39;</span></div>
<div class="line"><span class="lineno">  766</span>            <span class="stringliteral">&#39;ignored.&#39;</span> % {<span class="stringliteral">&#39;mmap_mode&#39;</span>: <span class="stringliteral">&#39;r+&#39;</span>})</div>
<div class="line"><span class="lineno">  767</span> </div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span><span class="preprocessor">@parametrize</span>(<span class="stringliteral">&#39;data&#39;</span>, [b<span class="stringliteral">&#39;a little data as bytes.&#39;</span>,</div>
<div class="line"><span class="lineno">  770</span>                      <span class="comment"># More bytes</span></div>
<div class="line"><span class="lineno">  771</span>                      10000 * <span class="stringliteral">&quot;{}&quot;</span>.format(</div>
<div class="line"><span class="lineno">  772</span>                          random.randint(0, 1000) * 1000).encode(<span class="stringliteral">&#39;latin-1&#39;</span>)],</div>
<div class="line"><span class="lineno">  773</span>             ids=[<span class="stringliteral">&quot;a little data as bytes.&quot;</span>, <span class="stringliteral">&quot;a large data as bytes.&quot;</span>])</div>
<div class="line"><span class="lineno">  774</span><span class="preprocessor">@parametrize(&#39;compress_level&#39;, [1, 3, 9])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa32ff0d625b4f8a3ee332d60b90287db" name="aa32ff0d625b4f8a3ee332d60b90287db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa32ff0d625b4f8a3ee332d60b90287db">&#9670;&#160;</a></span>test_file_handle_persistence_mmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_file_handle_persistence_mmap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  723</span><span class="keyword">def </span>test_file_handle_persistence_mmap(tmpdir):</div>
<div class="line"><span class="lineno">  724</span>    obj = np.random.random((10, 10))</div>
<div class="line"><span class="lineno">  725</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  726</span> </div>
<div class="line"><span class="lineno">  727</span>    <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;wb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  728</span>        numpy_pickle.dump(obj, f)</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>    <span class="keyword">with</span> open(filename, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  731</span>        obj_reloaded = numpy_pickle.load(f, mmap_mode=<span class="stringliteral">&#39;r+&#39;</span>)</div>
<div class="line"><span class="lineno">  732</span> </div>
<div class="line"><span class="lineno">  733</span>    np.testing.assert_array_equal(obj_reloaded, obj)</div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e2289a0a5c8ba7eb49525ad621747ed" name="a9e2289a0a5c8ba7eb49525ad621747ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e2289a0a5c8ba7eb49525ad621747ed">&#9670;&#160;</a></span>test_in_memory_persistence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_in_memory_persistence </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  710</span><span class="keyword">def </span>test_in_memory_persistence():</div>
<div class="line"><span class="lineno">  711</span>    objs = [np.random.random((10, 10)), <span class="stringliteral">&quot;some data&quot;</span>]</div>
<div class="line"><span class="lineno">  712</span>    <span class="keywordflow">for</span> obj <span class="keywordflow">in</span> objs:</div>
<div class="line"><span class="lineno">  713</span>        f = io.BytesIO()</div>
<div class="line"><span class="lineno">  714</span>        numpy_pickle.dump(obj, f)</div>
<div class="line"><span class="lineno">  715</span>        obj_reloaded = numpy_pickle.load(f)</div>
<div class="line"><span class="lineno">  716</span>        <span class="keywordflow">if</span> isinstance(obj, np.ndarray):</div>
<div class="line"><span class="lineno">  717</span>            np.testing.assert_array_equal(obj_reloaded, obj)</div>
<div class="line"><span class="lineno">  718</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  719</span>            <span class="keyword">assert</span> obj_reloaded == obj</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a17aa4971243bff8e1d14bad3ab1109" name="a7a17aa4971243bff8e1d14bad3ab1109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a17aa4971243bff8e1d14bad3ab1109">&#9670;&#160;</a></span>test_joblib_compression_formats()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_joblib_compression_formats </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cmethod</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  582</span><span class="keyword">def </span>test_joblib_compression_formats(tmpdir, compress, cmethod):</div>
<div class="line"><span class="lineno">  583</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  584</span>    objects = (np.ones(shape=(100, 100), dtype=<span class="stringliteral">&#39;f8&#39;</span>),</div>
<div class="line"><span class="lineno">  585</span>               range(10),</div>
<div class="line"><span class="lineno">  586</span>               {<span class="stringliteral">&#39;a&#39;</span>: 1, 2: <span class="stringliteral">&#39;b&#39;</span>}, [], (), {}, 0, 1.0)</div>
<div class="line"><span class="lineno">  587</span> </div>
<div class="line"><span class="lineno">  588</span>    <span class="keywordflow">if</span> cmethod <span class="keywordflow">in</span> (<span class="stringliteral">&quot;lzma&quot;</span>, <span class="stringliteral">&quot;xz&quot;</span>) <span class="keywordflow">and</span> lzma <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  589</span>        pytest.skip(<span class="stringliteral">&quot;lzma is support not available&quot;</span>)</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>    <span class="keywordflow">elif</span> cmethod == <span class="stringliteral">&#39;lz4&#39;</span> <span class="keywordflow">and</span> with_lz4.args[0]:</div>
<div class="line"><span class="lineno">  592</span>        <span class="comment"># Skip the test if lz4 is not installed. We here use the with_lz4</span></div>
<div class="line"><span class="lineno">  593</span>        <span class="comment"># skipif fixture whose argument is True when lz4 is not installed</span></div>
<div class="line"><span class="lineno">  594</span>        pytest.skip(<span class="stringliteral">&quot;lz4 is not installed.&quot;</span>)</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>    dump_filename = filename + <span class="stringliteral">&quot;.&quot;</span> + cmethod</div>
<div class="line"><span class="lineno">  597</span>    <span class="keywordflow">for</span> obj <span class="keywordflow">in</span> objects:</div>
<div class="line"><span class="lineno">  598</span>        numpy_pickle.dump(obj, dump_filename, compress=(cmethod, compress))</div>
<div class="line"><span class="lineno">  599</span>        <span class="comment"># Verify the file contains the right magic number</span></div>
<div class="line"><span class="lineno">  600</span>        <span class="keyword">with</span> open(dump_filename, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  601</span>            <span class="keyword">assert</span> _detect_compressor(f) == cmethod</div>
<div class="line"><span class="lineno">  602</span>        <span class="comment"># Verify the reloaded object is correct</span></div>
<div class="line"><span class="lineno">  603</span>        obj_reloaded = numpy_pickle.load(dump_filename)</div>
<div class="line"><span class="lineno">  604</span>        <span class="keyword">assert</span> isinstance(obj_reloaded, type(obj))</div>
<div class="line"><span class="lineno">  605</span>        <span class="keywordflow">if</span> isinstance(obj, np.ndarray):</div>
<div class="line"><span class="lineno">  606</span>            np.testing.assert_array_equal(obj_reloaded, obj)</div>
<div class="line"><span class="lineno">  607</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  608</span>            <span class="keyword">assert</span> obj_reloaded == obj</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aea11b9883bd41b56fe2e02a50639980c" name="aea11b9883bd41b56fe2e02a50639980c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea11b9883bd41b56fe2e02a50639980c">&#9670;&#160;</a></span>test_joblib_pickle_across_python_versions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_joblib_pickle_across_python_versions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  448</span><span class="keyword">def </span>test_joblib_pickle_across_python_versions():</div>
<div class="line"><span class="lineno">  449</span>    <span class="comment"># We need to be specific about dtypes in particular endianness</span></div>
<div class="line"><span class="lineno">  450</span>    <span class="comment"># because the pickles can be generated on one architecture and</span></div>
<div class="line"><span class="lineno">  451</span>    <span class="comment"># the tests run on another one. See</span></div>
<div class="line"><span class="lineno">  452</span>    <span class="comment"># https://github.com/joblib/joblib/issues/279.</span></div>
<div class="line"><span class="lineno">  453</span>    expected_list = [np.arange(5, dtype=np.dtype(<span class="stringliteral">&#39;&lt;i8&#39;</span>)),</div>
<div class="line"><span class="lineno">  454</span>                     np.arange(5, dtype=np.dtype(<span class="stringliteral">&#39;&lt;f8&#39;</span>)),</div>
<div class="line"><span class="lineno">  455</span>                     np.array([1, <span class="stringliteral">&#39;abc&#39;</span>, {<span class="stringliteral">&#39;a&#39;</span>: 1, <span class="stringliteral">&#39;b&#39;</span>: 2}], dtype=<span class="stringliteral">&#39;O&#39;</span>),</div>
<div class="line"><span class="lineno">  456</span>                     np.arange(256, dtype=np.uint8).tobytes(),</div>
<div class="line"><span class="lineno">  457</span>                     <span class="comment"># np.matrix is a subclass of np.ndarray, here we want</span></div>
<div class="line"><span class="lineno">  458</span>                     <span class="comment"># to verify this type of object is correctly unpickled</span></div>
<div class="line"><span class="lineno">  459</span>                     <span class="comment"># among versions.</span></div>
<div class="line"><span class="lineno">  460</span>                     np.matrix([0, 1, 2], dtype=np.dtype(<span class="stringliteral">&#39;&lt;i8&#39;</span>)),</div>
<div class="line"><span class="lineno">  461</span>                     <span class="stringliteral">u&quot;C&#39;est l&#39;\xe9t\xe9 !&quot;</span>]</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>    <span class="comment"># Testing all the compressed and non compressed</span></div>
<div class="line"><span class="lineno">  464</span>    <span class="comment"># pickles in joblib/test/data. These pickles were generated by</span></div>
<div class="line"><span class="lineno">  465</span>    <span class="comment"># the joblib/test/data/create_numpy_pickle.py script for the</span></div>
<div class="line"><span class="lineno">  466</span>    <span class="comment"># relevant python, joblib and numpy versions.</span></div>
<div class="line"><span class="lineno">  467</span>    test_data_dir = os.path.dirname(os.path.abspath(data.__file__))</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>    pickle_extensions = (<span class="stringliteral">&#39;.pkl&#39;</span>, <span class="stringliteral">&#39;.gz&#39;</span>, <span class="stringliteral">&#39;.gzip&#39;</span>, <span class="stringliteral">&#39;.bz2&#39;</span>, <span class="stringliteral">&#39;lz4&#39;</span>)</div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">if</span> lzma <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  471</span>        pickle_extensions += (<span class="stringliteral">&#39;.xz&#39;</span>, <span class="stringliteral">&#39;.lzma&#39;</span>)</div>
<div class="line"><span class="lineno">  472</span>    pickle_filenames = [os.path.join(test_data_dir, fn)</div>
<div class="line"><span class="lineno">  473</span>                        <span class="keywordflow">for</span> fn <span class="keywordflow">in</span> os.listdir(test_data_dir)</div>
<div class="line"><span class="lineno">  474</span>                        <span class="keywordflow">if</span> any(fn.endswith(ext) <span class="keywordflow">for</span> ext <span class="keywordflow">in</span> pickle_extensions)]</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>    <span class="keywordflow">for</span> fname <span class="keywordflow">in</span> pickle_filenames:</div>
<div class="line"><span class="lineno">  477</span>        _check_pickle(fname, expected_list)</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a637e77517e4460751fe5b4f8c4302b79" name="a637e77517e4460751fe5b4f8c4302b79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a637e77517e4460751fe5b4f8c4302b79">&#9670;&#160;</a></span>test_joblib_pickle_across_python_versions_with_mmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_joblib_pickle_across_python_versions_with_mmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  481</span><span class="keyword">def </span>test_joblib_pickle_across_python_versions_with_mmap():</div>
<div class="line"><span class="lineno">  482</span>    expected_list = [np.arange(5, dtype=np.dtype(<span class="stringliteral">&#39;&lt;i8&#39;</span>)),</div>
<div class="line"><span class="lineno">  483</span>                     np.arange(5, dtype=np.dtype(<span class="stringliteral">&#39;&lt;f8&#39;</span>)),</div>
<div class="line"><span class="lineno">  484</span>                     np.array([1, <span class="stringliteral">&#39;abc&#39;</span>, {<span class="stringliteral">&#39;a&#39;</span>: 1, <span class="stringliteral">&#39;b&#39;</span>: 2}], dtype=<span class="stringliteral">&#39;O&#39;</span>),</div>
<div class="line"><span class="lineno">  485</span>                     np.arange(256, dtype=np.uint8).tobytes(),</div>
<div class="line"><span class="lineno">  486</span>                     <span class="comment"># np.matrix is a subclass of np.ndarray, here we want</span></div>
<div class="line"><span class="lineno">  487</span>                     <span class="comment"># to verify this type of object is correctly unpickled</span></div>
<div class="line"><span class="lineno">  488</span>                     <span class="comment"># among versions.</span></div>
<div class="line"><span class="lineno">  489</span>                     np.matrix([0, 1, 2], dtype=np.dtype(<span class="stringliteral">&#39;&lt;i8&#39;</span>)),</div>
<div class="line"><span class="lineno">  490</span>                     <span class="stringliteral">u&quot;C&#39;est l&#39;\xe9t\xe9 !&quot;</span>]</div>
<div class="line"><span class="lineno">  491</span> </div>
<div class="line"><span class="lineno">  492</span>    test_data_dir = os.path.dirname(os.path.abspath(data.__file__))</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>    pickle_filenames = [</div>
<div class="line"><span class="lineno">  495</span>        os.path.join(test_data_dir, fn)</div>
<div class="line"><span class="lineno">  496</span>        <span class="keywordflow">for</span> fn <span class="keywordflow">in</span> os.listdir(test_data_dir) <span class="keywordflow">if</span> fn.endswith(<span class="stringliteral">&#39;.pkl&#39;</span>)]</div>
<div class="line"><span class="lineno">  497</span>    <span class="keywordflow">for</span> fname <span class="keywordflow">in</span> pickle_filenames:</div>
<div class="line"><span class="lineno">  498</span>        _check_pickle(fname, expected_list, mmap_mode=<span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span> </div>
<div class="line"><span class="lineno">  501</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab80a957dca2dfd61cabb145515c940c6" name="ab80a957dca2dfd61cabb145515c940c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab80a957dca2dfd61cabb145515c940c6">&#9670;&#160;</a></span>test_load_externally_decompressed_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_load_externally_decompressed_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extension</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>decompress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  632</span><span class="keyword">def </span>test_load_externally_decompressed_files(tmpdir, extension, decompress):</div>
<div class="line"><span class="lineno">  633</span>    <span class="comment"># Test that BinaryZlibFile generates valid gzip and zlib compressed files.</span></div>
<div class="line"><span class="lineno">  634</span>    obj = <span class="stringliteral">&quot;a string to persist&quot;</span></div>
<div class="line"><span class="lineno">  635</span>    filename_raw = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  636</span> </div>
<div class="line"><span class="lineno">  637</span>    filename_compressed = filename_raw + extension</div>
<div class="line"><span class="lineno">  638</span>    <span class="comment"># Use automatic extension detection to compress with the right method.</span></div>
<div class="line"><span class="lineno">  639</span>    numpy_pickle.dump(obj, filename_compressed)</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>    <span class="comment"># Decompress with the corresponding method</span></div>
<div class="line"><span class="lineno">  642</span>    decompress(filename_compressed, filename_raw)</div>
<div class="line"><span class="lineno">  643</span> </div>
<div class="line"><span class="lineno">  644</span>    <span class="comment"># Test that the uncompressed pickle can be loaded and</span></div>
<div class="line"><span class="lineno">  645</span>    <span class="comment"># that the result is correct.</span></div>
<div class="line"><span class="lineno">  646</span>    obj_reloaded = numpy_pickle.load(filename_raw)</div>
<div class="line"><span class="lineno">  647</span>    <span class="keyword">assert</span> obj == obj_reloaded</div>
<div class="line"><span class="lineno">  648</span> </div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span><span class="preprocessor">@parametrize</span>(<span class="stringliteral">&#39;extension,cmethod&#39;</span>,</div>
<div class="line"><span class="lineno">  651</span>             <span class="comment"># valid compressor extensions</span></div>
<div class="line"><span class="lineno">  652</span>             [(<span class="stringliteral">&#39;.z&#39;</span>, <span class="stringliteral">&#39;zlib&#39;</span>),</div>
<div class="line"><span class="lineno">  653</span>              (<span class="stringliteral">&#39;.gz&#39;</span>, <span class="stringliteral">&#39;gzip&#39;</span>),</div>
<div class="line"><span class="lineno">  654</span>              (<span class="stringliteral">&#39;.bz2&#39;</span>, <span class="stringliteral">&#39;bz2&#39;</span>),</div>
<div class="line"><span class="lineno">  655</span>              (<span class="stringliteral">&#39;.lzma&#39;</span>, <span class="stringliteral">&#39;lzma&#39;</span>),</div>
<div class="line"><span class="lineno">  656</span>              (<span class="stringliteral">&#39;.xz&#39;</span>, <span class="stringliteral">&#39;xz&#39;</span>),</div>
<div class="line"><span class="lineno">  657</span>              <span class="comment"># invalid compressor extensions</span></div>
<div class="line"><span class="lineno">  658</span>              (<span class="stringliteral">&#39;.pkl&#39;</span>, <span class="stringliteral">&#39;not-compressed&#39;</span>),</div>
<div class="line"><span class="lineno">  659</span>              (<span class="stringliteral">&#39;&#39;</span>, <span class="stringliteral">&#39;not-compressed&#39;</span>)])</div>
</div><!-- fragment -->
</div>
</div>
<a id="af700dc179f07369fa51ab27188923bcf" name="af700dc179f07369fa51ab27188923bcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af700dc179f07369fa51ab27188923bcf">&#9670;&#160;</a></span>test_load_memmap_with_big_offset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_load_memmap_with_big_offset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  959</span><span class="keyword">def </span>test_load_memmap_with_big_offset(tmpdir):</div>
<div class="line"><span class="lineno">  960</span>    <span class="comment"># Test that numpy memmap offset is set correctly if greater than</span></div>
<div class="line"><span class="lineno">  961</span>    <span class="comment"># mmap.ALLOCATIONGRANULARITY, see</span></div>
<div class="line"><span class="lineno">  962</span>    <span class="comment"># https://github.com/joblib/joblib/issues/451 and</span></div>
<div class="line"><span class="lineno">  963</span>    <span class="comment"># https://github.com/numpy/numpy/pull/8443 for more details.</span></div>
<div class="line"><span class="lineno">  964</span>    fname = tmpdir.join(<span class="stringliteral">&#39;test.mmap&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  965</span>    size = mmap.ALLOCATIONGRANULARITY</div>
<div class="line"><span class="lineno">  966</span>    obj = [np.zeros(size, dtype=<span class="stringliteral">&#39;uint8&#39;</span>), np.ones(size, dtype=<span class="stringliteral">&#39;uint8&#39;</span>)]</div>
<div class="line"><span class="lineno">  967</span>    numpy_pickle.dump(obj, fname)</div>
<div class="line"><span class="lineno">  968</span>    memmaps = numpy_pickle.load(fname, mmap_mode=<span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno">  969</span>    <span class="keyword">assert</span> isinstance(memmaps[1], np.memmap)</div>
<div class="line"><span class="lineno">  970</span>    <span class="keyword">assert</span> memmaps[1].offset &gt; size</div>
<div class="line"><span class="lineno">  971</span>    np.testing.assert_array_equal(obj, memmaps)</div>
<div class="line"><span class="lineno">  972</span> </div>
<div class="line"><span class="lineno">  973</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae52b9de4c91de5486064a6371fd3fb74" name="ae52b9de4c91de5486064a6371fd3fb74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae52b9de4c91de5486064a6371fd3fb74">&#9670;&#160;</a></span>test_lz4_compression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_lz4_compression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1062</span><span class="keyword">def </span>test_lz4_compression(tmpdir):</div>
<div class="line"><span class="lineno"> 1063</span>    <span class="comment"># Check that lz4 can be used when dependency is available.</span></div>
<div class="line"><span class="lineno"> 1064</span>    <span class="keyword">import</span> lz4.frame</div>
<div class="line"><span class="lineno"> 1065</span>    compressor = <span class="stringliteral">&#39;lz4&#39;</span></div>
<div class="line"><span class="lineno"> 1066</span>    <span class="keyword">assert</span> compressor <span class="keywordflow">in</span> _COMPRESSORS</div>
<div class="line"><span class="lineno"> 1067</span>    <span class="keyword">assert</span> _COMPRESSORS[compressor].fileobj_factory == lz4.frame.LZ4FrameFile</div>
<div class="line"><span class="lineno"> 1068</span> </div>
<div class="line"><span class="lineno"> 1069</span>    fname = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno"> 1070</span>    data = <span class="stringliteral">&#39;test data&#39;</span></div>
<div class="line"><span class="lineno"> 1071</span>    numpy_pickle.dump(data, fname, compress=compressor)</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span>    <span class="keyword">with</span> open(fname, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno"> 1074</span>        <span class="keyword">assert</span> f.read(len(_LZ4_PREFIX)) == _LZ4_PREFIX</div>
<div class="line"><span class="lineno"> 1075</span>    <span class="keyword">assert</span> numpy_pickle.load(fname) == data</div>
<div class="line"><span class="lineno"> 1076</span> </div>
<div class="line"><span class="lineno"> 1077</span>    <span class="comment"># Test that LZ4 is applied based on file extension</span></div>
<div class="line"><span class="lineno"> 1078</span>    numpy_pickle.dump(data, fname + <span class="stringliteral">&#39;.lz4&#39;</span>)</div>
<div class="line"><span class="lineno"> 1079</span>    <span class="keyword">with</span> open(fname, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno"> 1080</span>        <span class="keyword">assert</span> f.read(len(_LZ4_PREFIX)) == _LZ4_PREFIX</div>
<div class="line"><span class="lineno"> 1081</span>    <span class="keyword">assert</span> numpy_pickle.load(fname) == data</div>
<div class="line"><span class="lineno"> 1082</span> </div>
<div class="line"><span class="lineno"> 1083</span> </div>
<div class="line"><span class="lineno"> 1084</span><span class="preprocessor">@without_lz4</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b57ea01073a9844a94678a76b2aafbf" name="a7b57ea01073a9844a94678a76b2aafbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b57ea01073a9844a94678a76b2aafbf">&#9670;&#160;</a></span>test_lz4_compression_without_lz4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_lz4_compression_without_lz4 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1085</span><span class="keyword">def </span>test_lz4_compression_without_lz4(tmpdir):</div>
<div class="line"><span class="lineno"> 1086</span>    <span class="comment"># Check that lz4 cannot be used when dependency is not available.</span></div>
<div class="line"><span class="lineno"> 1087</span>    fname = tmpdir.join(<span class="stringliteral">&#39;test.nolz4&#39;</span>).strpath</div>
<div class="line"><span class="lineno"> 1088</span>    data = <span class="stringliteral">&#39;test data&#39;</span></div>
<div class="line"><span class="lineno"> 1089</span>    msg = LZ4_NOT_INSTALLED_ERROR</div>
<div class="line"><span class="lineno"> 1090</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno"> 1091</span>        numpy_pickle.dump(data, fname, compress=<span class="stringliteral">&#39;lz4&#39;</span>)</div>
<div class="line"><span class="lineno"> 1092</span>    excinfo.match(msg)</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno"> 1095</span>        numpy_pickle.dump(data, fname + <span class="stringliteral">&#39;.lz4&#39;</span>)</div>
<div class="line"><span class="lineno"> 1096</span>    excinfo.match(msg)</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a54e80efc28b469029f32d313f85a01ee" name="a54e80efc28b469029f32d313f85a01ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54e80efc28b469029f32d313f85a01ee">&#9670;&#160;</a></span>test_masked_array_persistence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_masked_array_persistence </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  262</span><span class="keyword">def </span>test_masked_array_persistence(tmpdir):</div>
<div class="line"><span class="lineno">  263</span>    <span class="comment"># The special-case picker fails, because saving masked_array</span></div>
<div class="line"><span class="lineno">  264</span>    <span class="comment"># not implemented, but it just delegates to the standard pickler.</span></div>
<div class="line"><span class="lineno">  265</span>    rnd = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  266</span>    a = rnd.random_sample(10)</div>
<div class="line"><span class="lineno">  267</span>    a = np.ma.masked_greater(a, 0.5)</div>
<div class="line"><span class="lineno">  268</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  269</span>    numpy_pickle.dump(a, filename)</div>
<div class="line"><span class="lineno">  270</span>    b = numpy_pickle.load(filename, mmap_mode=<span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno">  271</span>    <span class="keyword">assert</span> isinstance(b, np.ma.masked_array)</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af221b891b5457f14ede8c4018a1a4676" name="af221b891b5457f14ede8c4018a1a4676"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af221b891b5457f14ede8c4018a1a4676">&#9670;&#160;</a></span>test_memmap_alignment_padding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_memmap_alignment_padding </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>protocol</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1106</span><span class="keyword">def </span>test_memmap_alignment_padding(tmpdir, protocol):</div>
<div class="line"><span class="lineno"> 1107</span>    <span class="comment"># Test that memmaped arrays returned by numpy.load are correctly aligned</span></div>
<div class="line"><span class="lineno"> 1108</span>    fname = tmpdir.join(<span class="stringliteral">&#39;test.mmap&#39;</span>).strpath</div>
<div class="line"><span class="lineno"> 1109</span> </div>
<div class="line"><span class="lineno"> 1110</span>    a = np.random.randn(2)</div>
<div class="line"><span class="lineno"> 1111</span>    numpy_pickle.dump(a, fname, protocol=protocol)</div>
<div class="line"><span class="lineno"> 1112</span>    memmap = numpy_pickle.load(fname, mmap_mode=<span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno"> 1113</span>    <span class="keyword">assert</span> isinstance(memmap, np.memmap)</div>
<div class="line"><span class="lineno"> 1114</span>    np.testing.assert_array_equal(a, memmap)</div>
<div class="line"><span class="lineno"> 1115</span>    <span class="keyword">assert</span> (</div>
<div class="line"><span class="lineno"> 1116</span>        memmap.ctypes.data % numpy_pickle.NUMPY_ARRAY_ALIGNMENT_BYTES == 0)</div>
<div class="line"><span class="lineno"> 1117</span>    <span class="keyword">assert</span> memmap.flags.aligned</div>
<div class="line"><span class="lineno"> 1118</span> </div>
<div class="line"><span class="lineno"> 1119</span>    array_list = [</div>
<div class="line"><span class="lineno"> 1120</span>        np.random.randn(2), np.random.randn(2),</div>
<div class="line"><span class="lineno"> 1121</span>        np.random.randn(2), np.random.randn(2)</div>
<div class="line"><span class="lineno"> 1122</span>    ]</div>
<div class="line"><span class="lineno"> 1123</span> </div>
<div class="line"><span class="lineno"> 1124</span>    <span class="comment"># On Windows OSError 22 if reusing the same path for memmap ...</span></div>
<div class="line"><span class="lineno"> 1125</span>    fname = tmpdir.join(<span class="stringliteral">&#39;test1.mmap&#39;</span>).strpath</div>
<div class="line"><span class="lineno"> 1126</span>    numpy_pickle.dump(array_list, fname, protocol=protocol)</div>
<div class="line"><span class="lineno"> 1127</span>    l_reloaded = numpy_pickle.load(fname, mmap_mode=<span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>    <span class="keywordflow">for</span> idx, memmap <span class="keywordflow">in</span> enumerate(l_reloaded):</div>
<div class="line"><span class="lineno"> 1130</span>        <span class="keyword">assert</span> isinstance(memmap, np.memmap)</div>
<div class="line"><span class="lineno"> 1131</span>        np.testing.assert_array_equal(array_list[idx], memmap)</div>
<div class="line"><span class="lineno"> 1132</span>        <span class="keyword">assert</span> (</div>
<div class="line"><span class="lineno"> 1133</span>            memmap.ctypes.data % numpy_pickle.NUMPY_ARRAY_ALIGNMENT_BYTES == 0)</div>
<div class="line"><span class="lineno"> 1134</span>        <span class="keyword">assert</span> memmap.flags.aligned</div>
<div class="line"><span class="lineno"> 1135</span> </div>
<div class="line"><span class="lineno"> 1136</span>    array_dict = {</div>
<div class="line"><span class="lineno"> 1137</span>        <span class="stringliteral">&#39;a0&#39;</span>: np.arange(2, dtype=np.uint8),</div>
<div class="line"><span class="lineno"> 1138</span>        <span class="stringliteral">&#39;a1&#39;</span>: np.arange(3, dtype=np.uint8),</div>
<div class="line"><span class="lineno"> 1139</span>        <span class="stringliteral">&#39;a2&#39;</span>: np.arange(5, dtype=np.uint8),</div>
<div class="line"><span class="lineno"> 1140</span>        <span class="stringliteral">&#39;a3&#39;</span>: np.arange(7, dtype=np.uint8),</div>
<div class="line"><span class="lineno"> 1141</span>        <span class="stringliteral">&#39;a4&#39;</span>: np.arange(11, dtype=np.uint8),</div>
<div class="line"><span class="lineno"> 1142</span>        <span class="stringliteral">&#39;a5&#39;</span>: np.arange(13, dtype=np.uint8),</div>
<div class="line"><span class="lineno"> 1143</span>        <span class="stringliteral">&#39;a6&#39;</span>: np.arange(17, dtype=np.uint8),</div>
<div class="line"><span class="lineno"> 1144</span>        <span class="stringliteral">&#39;a7&#39;</span>: np.arange(19, dtype=np.uint8),</div>
<div class="line"><span class="lineno"> 1145</span>        <span class="stringliteral">&#39;a8&#39;</span>: np.arange(23, dtype=np.uint8),</div>
<div class="line"><span class="lineno"> 1146</span>    }</div>
<div class="line"><span class="lineno"> 1147</span> </div>
<div class="line"><span class="lineno"> 1148</span>    <span class="comment"># On Windows OSError 22 if reusing the same path for memmap ...</span></div>
<div class="line"><span class="lineno"> 1149</span>    fname = tmpdir.join(<span class="stringliteral">&#39;test2.mmap&#39;</span>).strpath</div>
<div class="line"><span class="lineno"> 1150</span>    numpy_pickle.dump(array_dict, fname, protocol=protocol)</div>
<div class="line"><span class="lineno"> 1151</span>    d_reloaded = numpy_pickle.load(fname, mmap_mode=<span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno"> 1152</span> </div>
<div class="line"><span class="lineno"> 1153</span>    <span class="keywordflow">for</span> key, memmap <span class="keywordflow">in</span> d_reloaded.items():</div>
<div class="line"><span class="lineno"> 1154</span>        <span class="keyword">assert</span> isinstance(memmap, np.memmap)</div>
<div class="line"><span class="lineno"> 1155</span>        np.testing.assert_array_equal(array_dict[key], memmap)</div>
<div class="line"><span class="lineno"> 1156</span>        <span class="keyword">assert</span> (</div>
<div class="line"><span class="lineno"> 1157</span>            memmap.ctypes.data % numpy_pickle.NUMPY_ARRAY_ALIGNMENT_BYTES == 0)</div>
<div class="line"><span class="lineno"> 1158</span>        <span class="keyword">assert</span> memmap.flags.aligned</div>
</div><!-- fragment -->
</div>
</div>
<a id="a79c04937bd81e51b50208c82f810e52b" name="a79c04937bd81e51b50208c82f810e52b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79c04937bd81e51b50208c82f810e52b">&#9670;&#160;</a></span>test_memmap_persistence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_memmap_persistence </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  193</span><span class="keyword">def </span>test_memmap_persistence(tmpdir):</div>
<div class="line"><span class="lineno">  194</span>    rnd = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  195</span>    a = rnd.random_sample(10)</div>
<div class="line"><span class="lineno">  196</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test1.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  197</span>    numpy_pickle.dump(a, filename)</div>
<div class="line"><span class="lineno">  198</span>    b = numpy_pickle.load(filename, mmap_mode=<span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>    <span class="keyword">assert</span> isinstance(b, np.memmap)</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <span class="comment"># Test with an object containing multiple numpy arrays</span></div>
<div class="line"><span class="lineno">  203</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test2.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  204</span>    obj = ComplexTestObject()</div>
<div class="line"><span class="lineno">  205</span>    numpy_pickle.dump(obj, filename)</div>
<div class="line"><span class="lineno">  206</span>    obj_loaded = numpy_pickle.load(filename, mmap_mode=<span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno">  207</span>    <span class="keyword">assert</span> isinstance(obj_loaded, type(obj))</div>
<div class="line"><span class="lineno">  208</span>    <span class="keyword">assert</span> isinstance(obj_loaded.array_float, np.memmap)</div>
<div class="line"><span class="lineno">  209</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> obj_loaded.array_float.flags.writeable</div>
<div class="line"><span class="lineno">  210</span>    <span class="keyword">assert</span> isinstance(obj_loaded.array_int, np.memmap)</div>
<div class="line"><span class="lineno">  211</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> obj_loaded.array_int.flags.writeable</div>
<div class="line"><span class="lineno">  212</span>    <span class="comment"># Memory map not allowed for numpy object arrays</span></div>
<div class="line"><span class="lineno">  213</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> isinstance(obj_loaded.array_obj, np.memmap)</div>
<div class="line"><span class="lineno">  214</span>    np.testing.assert_array_equal(obj_loaded.array_float,</div>
<div class="line"><span class="lineno">  215</span>                                  obj.array_float)</div>
<div class="line"><span class="lineno">  216</span>    np.testing.assert_array_equal(obj_loaded.array_int,</div>
<div class="line"><span class="lineno">  217</span>                                  obj.array_int)</div>
<div class="line"><span class="lineno">  218</span>    np.testing.assert_array_equal(obj_loaded.array_obj,</div>
<div class="line"><span class="lineno">  219</span>                                  obj.array_obj)</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>    <span class="comment"># Test we can write in memmapped arrays</span></div>
<div class="line"><span class="lineno">  222</span>    obj_loaded = numpy_pickle.load(filename, mmap_mode=<span class="stringliteral">&#39;r+&#39;</span>)</div>
<div class="line"><span class="lineno">  223</span>    <span class="keyword">assert</span> obj_loaded.array_float.flags.writeable</div>
<div class="line"><span class="lineno">  224</span>    obj_loaded.array_float[0:10] = 10.0</div>
<div class="line"><span class="lineno">  225</span>    <span class="keyword">assert</span> obj_loaded.array_int.flags.writeable</div>
<div class="line"><span class="lineno">  226</span>    obj_loaded.array_int[0:10] = 10</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    obj_reloaded = numpy_pickle.load(filename, mmap_mode=<span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno">  229</span>    np.testing.assert_array_equal(obj_reloaded.array_float,</div>
<div class="line"><span class="lineno">  230</span>                                  obj_loaded.array_float)</div>
<div class="line"><span class="lineno">  231</span>    np.testing.assert_array_equal(obj_reloaded.array_int,</div>
<div class="line"><span class="lineno">  232</span>                                  obj_loaded.array_int)</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <span class="comment"># Test w+ mode is caught and the mode has switched to r+</span></div>
<div class="line"><span class="lineno">  235</span>    numpy_pickle.load(filename, mmap_mode=<span class="stringliteral">&#39;w+&#39;</span>)</div>
<div class="line"><span class="lineno">  236</span>    <span class="keyword">assert</span> obj_loaded.array_int.flags.writeable</div>
<div class="line"><span class="lineno">  237</span>    <span class="keyword">assert</span> obj_loaded.array_int.mode == <span class="stringliteral">&#39;r+&#39;</span></div>
<div class="line"><span class="lineno">  238</span>    <span class="keyword">assert</span> obj_loaded.array_float.flags.writeable</div>
<div class="line"><span class="lineno">  239</span>    <span class="keyword">assert</span> obj_loaded.array_float.mode == <span class="stringliteral">&#39;r+&#39;</span></div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a7039cf2a1a50d2642b6097d566e0a9" name="a5a7039cf2a1a50d2642b6097d566e0a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a7039cf2a1a50d2642b6097d566e0a9">&#9670;&#160;</a></span>test_memmap_persistence_mixed_dtypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_memmap_persistence_mixed_dtypes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  243</span><span class="keyword">def </span>test_memmap_persistence_mixed_dtypes(tmpdir):</div>
<div class="line"><span class="lineno">  244</span>    <span class="comment"># loading datastructures that have sub-arrays with dtype=object</span></div>
<div class="line"><span class="lineno">  245</span>    <span class="comment"># should not prevent memmapping on fixed size dtype sub-arrays.</span></div>
<div class="line"><span class="lineno">  246</span>    rnd = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  247</span>    a = rnd.random_sample(10)</div>
<div class="line"><span class="lineno">  248</span>    b = np.array([1, <span class="stringliteral">&#39;b&#39;</span>], dtype=object)</div>
<div class="line"><span class="lineno">  249</span>    construct = (a, b)</div>
<div class="line"><span class="lineno">  250</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  251</span>    numpy_pickle.dump(construct, filename)</div>
<div class="line"><span class="lineno">  252</span>    a_clone, b_clone = numpy_pickle.load(filename, mmap_mode=<span class="stringliteral">&#39;r&#39;</span>)</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="comment"># the floating point array has been memory mapped</span></div>
<div class="line"><span class="lineno">  255</span>    <span class="keyword">assert</span> isinstance(a_clone, np.memmap)</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <span class="comment"># the object-dtype array has been loaded in memory</span></div>
<div class="line"><span class="lineno">  258</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> isinstance(b_clone, np.memmap)</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a71c588623260245a317fc313d60b3150" name="a71c588623260245a317fc313d60b3150"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71c588623260245a317fc313d60b3150">&#9670;&#160;</a></span>test_memory_usage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_memory_usage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  316</span><span class="keyword">def </span>test_memory_usage(tmpdir, compress):</div>
<div class="line"><span class="lineno">  317</span>    <span class="comment"># Verify memory stays within expected bounds.</span></div>
<div class="line"><span class="lineno">  318</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  319</span>    small_array = np.ones((10, 10))</div>
<div class="line"><span class="lineno">  320</span>    big_array = np.ones(shape=100 * int(1e6), dtype=np.uint8)</div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>    <span class="keywordflow">for</span> obj <span class="keywordflow">in</span> (small_array, big_array):</div>
<div class="line"><span class="lineno">  323</span>        size = obj.nbytes / 1e6</div>
<div class="line"><span class="lineno">  324</span>        obj_filename = filename + str(np.random.randint(0, 1000))</div>
<div class="line"><span class="lineno">  325</span>        mem_used = memory_used(numpy_pickle.dump,</div>
<div class="line"><span class="lineno">  326</span>                               obj, obj_filename, compress=compress)</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>        <span class="comment"># The memory used to dump the object shouldn&#39;t exceed the buffer</span></div>
<div class="line"><span class="lineno">  329</span>        <span class="comment"># size used to write array chunks (16MB).</span></div>
<div class="line"><span class="lineno">  330</span>        write_buf_size = _IO_BUFFER_SIZE + 16 * 1024 ** 2 / 1e6</div>
<div class="line"><span class="lineno">  331</span>        <span class="keyword">assert</span> mem_used &lt;= write_buf_size</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>        mem_used = memory_used(numpy_pickle.load, obj_filename)</div>
<div class="line"><span class="lineno">  334</span>        <span class="comment"># memory used should be less than array size + buffer size used to</span></div>
<div class="line"><span class="lineno">  335</span>        <span class="comment"># read the array chunk by chunk.</span></div>
<div class="line"><span class="lineno">  336</span>        read_buf_size = 32 + _IO_BUFFER_SIZE  <span class="comment"># MiB</span></div>
<div class="line"><span class="lineno">  337</span>        <span class="keyword">assert</span> mem_used &lt; size + read_buf_size</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d7465e4b1be36197ffe26c412db172e" name="a3d7465e4b1be36197ffe26c412db172e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d7465e4b1be36197ffe26c412db172e">&#9670;&#160;</a></span>test_non_contiguous_array_pickling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_non_contiguous_array_pickling </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  895</span><span class="keyword">def </span>test_non_contiguous_array_pickling(tmpdir):</div>
<div class="line"><span class="lineno">  896</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  897</span> </div>
<div class="line"><span class="lineno">  898</span>    <span class="keywordflow">for</span> array <span class="keywordflow">in</span> [  <span class="comment"># Array that triggers a contiguousness issue with nditer,</span></div>
<div class="line"><span class="lineno">  899</span>                    <span class="comment"># see https://github.com/joblib/joblib/pull/352 and see</span></div>
<div class="line"><span class="lineno">  900</span>                    <span class="comment"># https://github.com/joblib/joblib/pull/353</span></div>
<div class="line"><span class="lineno">  901</span>                    np.asfortranarray([[1, 2], [3, 4]])[1:],</div>
<div class="line"><span class="lineno">  902</span>                    <span class="comment"># Non contiguous array with works fine with nditer</span></div>
<div class="line"><span class="lineno">  903</span>                    np.ones((10, 50, 20), order=<span class="stringliteral">&#39;F&#39;</span>)[:, :1, :]]:</div>
<div class="line"><span class="lineno">  904</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> array.flags.c_contiguous</div>
<div class="line"><span class="lineno">  905</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> array.flags.f_contiguous</div>
<div class="line"><span class="lineno">  906</span>        numpy_pickle.dump(array, filename)</div>
<div class="line"><span class="lineno">  907</span>        array_reloaded = numpy_pickle.load(filename)</div>
<div class="line"><span class="lineno">  908</span>        np.testing.assert_array_equal(array_reloaded, array)</div>
<div class="line"><span class="lineno">  909</span> </div>
<div class="line"><span class="lineno">  910</span> </div>
<div class="line"><span class="lineno">  911</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad06a5f21ddc57132d3215af0877bfd4f" name="ad06a5f21ddc57132d3215af0877bfd4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad06a5f21ddc57132d3215af0877bfd4f">&#9670;&#160;</a></span>test_numpy_array_byte_order_mismatch_detection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_numpy_array_byte_order_mismatch_detection </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  502</span><span class="keyword">def </span>test_numpy_array_byte_order_mismatch_detection():</div>
<div class="line"><span class="lineno">  503</span>    <span class="comment"># List of numpy arrays with big endian byteorder.</span></div>
<div class="line"><span class="lineno">  504</span>    be_arrays = [np.array([(1, 2.0), (3, 4.0)],</div>
<div class="line"><span class="lineno">  505</span>                          dtype=[(<span class="stringliteral">&#39;&#39;</span>, <span class="stringliteral">&#39;&gt;i8&#39;</span>), (<span class="stringliteral">&#39;&#39;</span>, <span class="stringliteral">&#39;&gt;f8&#39;</span>)]),</div>
<div class="line"><span class="lineno">  506</span>                 np.arange(3, dtype=np.dtype(<span class="stringliteral">&#39;&gt;i8&#39;</span>)),</div>
<div class="line"><span class="lineno">  507</span>                 np.arange(3, dtype=np.dtype(<span class="stringliteral">&#39;&gt;f8&#39;</span>))]</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>    <span class="comment"># Verify the byteorder mismatch is correctly detected.</span></div>
<div class="line"><span class="lineno">  510</span>    <span class="keywordflow">for</span> array <span class="keywordflow">in</span> be_arrays:</div>
<div class="line"><span class="lineno">  511</span>        <span class="keywordflow">if</span> sys.byteorder == <span class="stringliteral">&#39;big&#39;</span>:</div>
<div class="line"><span class="lineno">  512</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> _is_numpy_array_byte_order_mismatch(array)</div>
<div class="line"><span class="lineno">  513</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  514</span>            <span class="keyword">assert</span> _is_numpy_array_byte_order_mismatch(array)</div>
<div class="line"><span class="lineno">  515</span>        converted = _ensure_native_byte_order(array)</div>
<div class="line"><span class="lineno">  516</span>        <span class="keywordflow">if</span> converted.dtype.fields:</div>
<div class="line"><span class="lineno">  517</span>            <span class="keywordflow">for</span> f <span class="keywordflow">in</span> converted.dtype.fields.values():</div>
<div class="line"><span class="lineno">  518</span>                f[0].byteorder == <span class="stringliteral">&#39;=&#39;</span></div>
<div class="line"><span class="lineno">  519</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  520</span>            <span class="keyword">assert</span> converted.dtype.byteorder == <span class="stringliteral">&quot;=&quot;</span></div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>    <span class="comment"># List of numpy arrays with little endian byteorder.</span></div>
<div class="line"><span class="lineno">  523</span>    le_arrays = [np.array([(1, 2.0), (3, 4.0)],</div>
<div class="line"><span class="lineno">  524</span>                          dtype=[(<span class="stringliteral">&#39;&#39;</span>, <span class="stringliteral">&#39;&lt;i8&#39;</span>), (<span class="stringliteral">&#39;&#39;</span>, <span class="stringliteral">&#39;&lt;f8&#39;</span>)]),</div>
<div class="line"><span class="lineno">  525</span>                 np.arange(3, dtype=np.dtype(<span class="stringliteral">&#39;&lt;i8&#39;</span>)),</div>
<div class="line"><span class="lineno">  526</span>                 np.arange(3, dtype=np.dtype(<span class="stringliteral">&#39;&lt;f8&#39;</span>))]</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span>    <span class="comment"># Verify the byteorder mismatch is correctly detected.</span></div>
<div class="line"><span class="lineno">  529</span>    <span class="keywordflow">for</span> array <span class="keywordflow">in</span> le_arrays:</div>
<div class="line"><span class="lineno">  530</span>        <span class="keywordflow">if</span> sys.byteorder == <span class="stringliteral">&#39;little&#39;</span>:</div>
<div class="line"><span class="lineno">  531</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> _is_numpy_array_byte_order_mismatch(array)</div>
<div class="line"><span class="lineno">  532</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  533</span>            <span class="keyword">assert</span> _is_numpy_array_byte_order_mismatch(array)</div>
<div class="line"><span class="lineno">  534</span>        converted = _ensure_native_byte_order(array)</div>
<div class="line"><span class="lineno">  535</span>        <span class="keywordflow">if</span> converted.dtype.fields:</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">for</span> f <span class="keywordflow">in</span> converted.dtype.fields.values():</div>
<div class="line"><span class="lineno">  537</span>                f[0].byteorder == <span class="stringliteral">&#39;=&#39;</span></div>
<div class="line"><span class="lineno">  538</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  539</span>            <span class="keyword">assert</span> converted.dtype.byteorder == <span class="stringliteral">&quot;=&quot;</span></div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span><span class="preprocessor">@parametrize(&#39;compress_tuple&#39;, [(&#39;zlib&#39;, 3)</span>, (<span class="stringliteral">&#39;gzip&#39;</span>, 3)])</div>
</div><!-- fragment -->
</div>
</div>
<a id="abbc77be245cf17c0a282f00a17cc22c5" name="abbc77be245cf17c0a282f00a17cc22c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbc77be245cf17c0a282f00a17cc22c5">&#9670;&#160;</a></span>test_numpy_persistence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_numpy_persistence </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  132</span><span class="keyword">def </span>test_numpy_persistence(tmpdir, compress):</div>
<div class="line"><span class="lineno">  133</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  134</span>    rnd = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  135</span>    a = rnd.random_sample((10, 2))</div>
<div class="line"><span class="lineno">  136</span>    <span class="comment"># We use &#39;a.T&#39; to have a non C-contiguous array.</span></div>
<div class="line"><span class="lineno">  137</span>    <span class="keywordflow">for</span> index, obj <span class="keywordflow">in</span> enumerate(((a,), (a.T,), (a, a), [a, a, a])):</div>
<div class="line"><span class="lineno">  138</span>        filenames = numpy_pickle.dump(obj, filename, compress=compress)</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>        <span class="comment"># All is cached in one file</span></div>
<div class="line"><span class="lineno">  141</span>        <span class="keyword">assert</span> len(filenames) == 1</div>
<div class="line"><span class="lineno">  142</span>        <span class="comment"># Check that only one file was created</span></div>
<div class="line"><span class="lineno">  143</span>        <span class="keyword">assert</span> filenames[0] == filename</div>
<div class="line"><span class="lineno">  144</span>        <span class="comment"># Check that this file does exist</span></div>
<div class="line"><span class="lineno">  145</span>        <span class="keyword">assert</span> os.path.exists(filenames[0])</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>        <span class="comment"># Unpickle the object</span></div>
<div class="line"><span class="lineno">  148</span>        obj_ = numpy_pickle.load(filename)</div>
<div class="line"><span class="lineno">  149</span>        <span class="comment"># Check that the items are indeed arrays</span></div>
<div class="line"><span class="lineno">  150</span>        <span class="keywordflow">for</span> item <span class="keywordflow">in</span> obj_:</div>
<div class="line"><span class="lineno">  151</span>            <span class="keyword">assert</span> isinstance(item, np.ndarray)</div>
<div class="line"><span class="lineno">  152</span>        <span class="comment"># And finally, check that all the values are equal.</span></div>
<div class="line"><span class="lineno">  153</span>        np.testing.assert_array_equal(np.array(obj), np.array(obj_))</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>    <span class="comment"># Now test with an array subclass</span></div>
<div class="line"><span class="lineno">  156</span>    obj = np.memmap(filename + <span class="stringliteral">&#39;mmap&#39;</span>, mode=<span class="stringliteral">&#39;w+&#39;</span>, shape=4, dtype=np.float64)</div>
<div class="line"><span class="lineno">  157</span>    filenames = numpy_pickle.dump(obj, filename, compress=compress)</div>
<div class="line"><span class="lineno">  158</span>    <span class="comment"># All is cached in one file</span></div>
<div class="line"><span class="lineno">  159</span>    <span class="keyword">assert</span> len(filenames) == 1</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>    obj_ = numpy_pickle.load(filename)</div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">if</span> (type(obj) <span class="keywordflow">is</span> <span class="keywordflow">not</span> np.memmap <span class="keywordflow">and</span></div>
<div class="line"><span class="lineno">  163</span>            hasattr(obj, <span class="stringliteral">&#39;__array_prepare__&#39;</span>)):</div>
<div class="line"><span class="lineno">  164</span>        <span class="comment"># We don&#39;t reconstruct memmaps</span></div>
<div class="line"><span class="lineno">  165</span>        <span class="keyword">assert</span> isinstance(obj_, type(obj))</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    np.testing.assert_array_equal(obj_, obj)</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="comment"># Test with an object containing multiple numpy arrays</span></div>
<div class="line"><span class="lineno">  170</span>    obj = ComplexTestObject()</div>
<div class="line"><span class="lineno">  171</span>    filenames = numpy_pickle.dump(obj, filename, compress=compress)</div>
<div class="line"><span class="lineno">  172</span>    <span class="comment"># All is cached in one file</span></div>
<div class="line"><span class="lineno">  173</span>    <span class="keyword">assert</span> len(filenames) == 1</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    obj_loaded = numpy_pickle.load(filename)</div>
<div class="line"><span class="lineno">  176</span>    <span class="keyword">assert</span> isinstance(obj_loaded, type(obj))</div>
<div class="line"><span class="lineno">  177</span>    np.testing.assert_array_equal(obj_loaded.array_float, obj.array_float)</div>
<div class="line"><span class="lineno">  178</span>    np.testing.assert_array_equal(obj_loaded.array_int, obj.array_int)</div>
<div class="line"><span class="lineno">  179</span>    np.testing.assert_array_equal(obj_loaded.array_obj, obj.array_obj)</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1cbd5d2d239cbcd3f6e68ad5c70218f2" name="a1cbd5d2d239cbcd3f6e68ad5c70218f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cbd5d2d239cbcd3f6e68ad5c70218f2">&#9670;&#160;</a></span>test_numpy_persistence_bufferred_array_compression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_numpy_persistence_bufferred_array_compression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  183</span><span class="keyword">def </span>test_numpy_persistence_bufferred_array_compression(tmpdir):</div>
<div class="line"><span class="lineno">  184</span>    big_array = np.ones((_IO_BUFFER_SIZE + 100), dtype=np.uint8)</div>
<div class="line"><span class="lineno">  185</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  186</span>    numpy_pickle.dump(big_array, filename, compress=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  187</span>    arr_reloaded = numpy_pickle.load(filename)</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>    np.testing.assert_array_equal(big_array, arr_reloaded)</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8321c385d608f8278a78db70900a3b6c" name="a8321c385d608f8278a78db70900a3b6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8321c385d608f8278a78db70900a3b6c">&#9670;&#160;</a></span>test_numpy_subclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_numpy_subclass </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  876</span><span class="keyword">def </span>test_numpy_subclass(tmpdir):</div>
<div class="line"><span class="lineno">  877</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  878</span>    a = SubArray((10,))</div>
<div class="line"><span class="lineno">  879</span>    numpy_pickle.dump(a, filename)</div>
<div class="line"><span class="lineno">  880</span>    c = numpy_pickle.load(filename)</div>
<div class="line"><span class="lineno">  881</span>    <span class="keyword">assert</span> isinstance(c, SubArray)</div>
<div class="line"><span class="lineno">  882</span>    np.testing.assert_array_equal(c, a)</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2bc04756d8be31a1e0638fd12fd543f7" name="a2bc04756d8be31a1e0638fd12fd543f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bc04756d8be31a1e0638fd12fd543f7">&#9670;&#160;</a></span>test_pathlib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_pathlib </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  885</span><span class="keyword">def </span>test_pathlib(tmpdir):</div>
<div class="line"><span class="lineno">  886</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  887</span>    value = 123</div>
<div class="line"><span class="lineno">  888</span>    numpy_pickle.dump(value, Path(filename))</div>
<div class="line"><span class="lineno">  889</span>    <span class="keyword">assert</span> numpy_pickle.load(filename) == value</div>
<div class="line"><span class="lineno">  890</span>    numpy_pickle.dump(value, filename)</div>
<div class="line"><span class="lineno">  891</span>    <span class="keyword">assert</span> numpy_pickle.load(Path(filename)) == value</div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span> </div>
<div class="line"><span class="lineno">  894</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9dc156b90d5d899195d2d0fefb2717c" name="ac9dc156b90d5d899195d2d0fefb2717c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9dc156b90d5d899195d2d0fefb2717c">&#9670;&#160;</a></span>test_pickle_highest_protocol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_pickle_highest_protocol </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  912</span><span class="keyword">def </span>test_pickle_highest_protocol(tmpdir):</div>
<div class="line"><span class="lineno">  913</span>    <span class="comment"># ensure persistence of a numpy array is valid even when using</span></div>
<div class="line"><span class="lineno">  914</span>    <span class="comment"># the pickle HIGHEST_PROTOCOL.</span></div>
<div class="line"><span class="lineno">  915</span>    <span class="comment"># see https://github.com/joblib/joblib/issues/362</span></div>
<div class="line"><span class="lineno">  916</span> </div>
<div class="line"><span class="lineno">  917</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  918</span>    test_array = np.zeros(10)</div>
<div class="line"><span class="lineno">  919</span> </div>
<div class="line"><span class="lineno">  920</span>    numpy_pickle.dump(test_array, filename, protocol=pickle.HIGHEST_PROTOCOL)</div>
<div class="line"><span class="lineno">  921</span>    array_reloaded = numpy_pickle.load(filename)</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>    np.testing.assert_array_equal(array_reloaded, test_array)</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span> </div>
<div class="line"><span class="lineno">  926</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a951643ed82e4e6a7546040fc236e3c70" name="a951643ed82e4e6a7546040fc236e3c70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951643ed82e4e6a7546040fc236e3c70">&#9670;&#160;</a></span>test_pickle_in_socket()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_pickle_in_socket </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  927</span><span class="keyword">def </span>test_pickle_in_socket():</div>
<div class="line"><span class="lineno">  928</span>    <span class="comment"># test that joblib can pickle in sockets</span></div>
<div class="line"><span class="lineno">  929</span>    test_array = np.arange(10)</div>
<div class="line"><span class="lineno">  930</span>    _ADDR = (<span class="stringliteral">&quot;localhost&quot;</span>, 12345)</div>
<div class="line"><span class="lineno">  931</span>    listener = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</div>
<div class="line"><span class="lineno">  932</span>    listener.bind(_ADDR)</div>
<div class="line"><span class="lineno">  933</span>    listener.listen(1)</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span>    client = socket.create_connection(_ADDR)</div>
<div class="line"><span class="lineno">  936</span>    server, client_addr = listener.accept()</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>    <span class="keyword">with</span> server.makefile(<span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> sf:</div>
<div class="line"><span class="lineno">  939</span>        numpy_pickle.dump(test_array, sf)</div>
<div class="line"><span class="lineno">  940</span> </div>
<div class="line"><span class="lineno">  941</span>    <span class="keyword">with</span> client.makefile(<span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> cf:</div>
<div class="line"><span class="lineno">  942</span>        array_reloaded = numpy_pickle.load(cf)</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>    np.testing.assert_array_equal(array_reloaded, test_array)</div>
<div class="line"><span class="lineno">  945</span> </div>
<div class="line"><span class="lineno">  946</span>    <span class="comment"># Check that a byte-aligned numpy array written in a file can be send over</span></div>
<div class="line"><span class="lineno">  947</span>    <span class="comment"># a socket and then read on the other side</span></div>
<div class="line"><span class="lineno">  948</span>    bytes_to_send = io.BytesIO()</div>
<div class="line"><span class="lineno">  949</span>    numpy_pickle.dump(test_array, bytes_to_send)</div>
<div class="line"><span class="lineno">  950</span>    server.send(bytes_to_send.getvalue())</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span>    <span class="keyword">with</span> client.makefile(<span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> cf:</div>
<div class="line"><span class="lineno">  953</span>        array_reloaded = numpy_pickle.load(cf)</div>
<div class="line"><span class="lineno">  954</span> </div>
<div class="line"><span class="lineno">  955</span>    np.testing.assert_array_equal(array_reloaded, test_array)</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span> </div>
<div class="line"><span class="lineno">  958</span><span class="preprocessor">@with_numpy</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a36f5287cc0164c3493ab5c7b05b796ee" name="a36f5287cc0164c3493ab5c7b05b796ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36f5287cc0164c3493ab5c7b05b796ee">&#9670;&#160;</a></span>test_register_compressor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_register_compressor </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  974</span><span class="keyword">def </span>test_register_compressor(tmpdir):</div>
<div class="line"><span class="lineno">  975</span>    <span class="comment"># Check that registering compressor file works.</span></div>
<div class="line"><span class="lineno">  976</span>    compressor_name = <span class="stringliteral">&#39;test-name&#39;</span></div>
<div class="line"><span class="lineno">  977</span>    compressor_prefix = <span class="stringliteral">&#39;test-prefix&#39;</span></div>
<div class="line"><span class="lineno">  978</span> </div>
<div class="line"><span class="lineno">  979</span>    <span class="keyword">class </span>BinaryCompressorTestFile(io.BufferedIOBase):</div>
<div class="line"><span class="lineno">  980</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>    <span class="keyword">class </span>BinaryCompressorTestWrapper(CompressorWrapper):</div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span>        <span class="keyword">def </span>__init__(self):</div>
<div class="line"><span class="lineno">  985</span>            CompressorWrapper.__init__(self, obj=BinaryCompressorTestFile,</div>
<div class="line"><span class="lineno">  986</span>                                       prefix=compressor_prefix)</div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span>    register_compressor(compressor_name, BinaryCompressorTestWrapper())</div>
<div class="line"><span class="lineno">  989</span> </div>
<div class="line"><span class="lineno">  990</span>    <span class="keyword">assert</span> (_COMPRESSORS[compressor_name].fileobj_factory ==</div>
<div class="line"><span class="lineno">  991</span>            BinaryCompressorTestFile)</div>
<div class="line"><span class="lineno">  992</span>    <span class="keyword">assert</span> _COMPRESSORS[compressor_name].prefix == compressor_prefix</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>    <span class="comment"># Remove this dummy compressor file from extra compressors because other</span></div>
<div class="line"><span class="lineno">  995</span>    <span class="comment"># tests might fail because of this</span></div>
<div class="line"><span class="lineno">  996</span>    _COMPRESSORS.pop(compressor_name)</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span><span class="preprocessor">@parametrize(&#39;invalid_name&#39;, [1, ()</span>, {}])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4252cb523b56886777c1b696cf2bc1ee" name="a4252cb523b56886777c1b696cf2bc1ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4252cb523b56886777c1b696cf2bc1ee">&#9670;&#160;</a></span>test_register_compressor_already_registered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_register_compressor_already_registered </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1037</span><span class="keyword">def </span>test_register_compressor_already_registered():</div>
<div class="line"><span class="lineno"> 1038</span>    <span class="comment"># Test registration of existing compressor files.</span></div>
<div class="line"><span class="lineno"> 1039</span>    compressor_name = <span class="stringliteral">&#39;test-name&#39;</span></div>
<div class="line"><span class="lineno"> 1040</span> </div>
<div class="line"><span class="lineno"> 1041</span>    <span class="comment"># register a test compressor</span></div>
<div class="line"><span class="lineno"> 1042</span>    register_compressor(compressor_name, AnotherZlibCompressorWrapper())</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno"> 1045</span>        register_compressor(compressor_name,</div>
<div class="line"><span class="lineno"> 1046</span>                            StandardLibGzipCompressorWrapper())</div>
<div class="line"><span class="lineno"> 1047</span>    excinfo.match(<span class="stringliteral">&quot;Compressor &#39;{}&#39; already registered.&quot;</span></div>
<div class="line"><span class="lineno"> 1048</span>                  .format(compressor_name))</div>
<div class="line"><span class="lineno"> 1049</span> </div>
<div class="line"><span class="lineno"> 1050</span>    register_compressor(compressor_name, StandardLibGzipCompressorWrapper(),</div>
<div class="line"><span class="lineno"> 1051</span>                        force=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1052</span> </div>
<div class="line"><span class="lineno"> 1053</span>    <span class="keyword">assert</span> compressor_name <span class="keywordflow">in</span> _COMPRESSORS</div>
<div class="line"><span class="lineno"> 1054</span>    <span class="keyword">assert</span> _COMPRESSORS[compressor_name].fileobj_factory == gzip.GzipFile</div>
<div class="line"><span class="lineno"> 1055</span> </div>
<div class="line"><span class="lineno"> 1056</span>    <span class="comment"># Remove this dummy compressor file from extra compressors because other</span></div>
<div class="line"><span class="lineno"> 1057</span>    <span class="comment"># tests might fail because of this</span></div>
<div class="line"><span class="lineno"> 1058</span>    _COMPRESSORS.pop(compressor_name)</div>
<div class="line"><span class="lineno"> 1059</span> </div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span><span class="preprocessor">@with_lz4</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a767952cb353e6879881dd62de9c854cb" name="a767952cb353e6879881dd62de9c854cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a767952cb353e6879881dd62de9c854cb">&#9670;&#160;</a></span>test_register_compressor_invalid_fileobj()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_register_compressor_invalid_fileobj </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1007</span><span class="keyword">def </span>test_register_compressor_invalid_fileobj():</div>
<div class="line"><span class="lineno"> 1008</span>    <span class="comment"># Test that registering an invalid file object is not allowed.</span></div>
<div class="line"><span class="lineno"> 1009</span> </div>
<div class="line"><span class="lineno"> 1010</span>    <span class="keyword">class </span>InvalidFileObject():</div>
<div class="line"><span class="lineno"> 1011</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1012</span> </div>
<div class="line"><span class="lineno"> 1013</span>    <span class="keyword">class </span>InvalidFileObjectWrapper(CompressorWrapper):</div>
<div class="line"><span class="lineno"> 1014</span>        <span class="keyword">def </span>__init__(self):</div>
<div class="line"><span class="lineno"> 1015</span>            CompressorWrapper.__init__(self, obj=InvalidFileObject,</div>
<div class="line"><span class="lineno"> 1016</span>                                       prefix=b<span class="stringliteral">&#39;prefix&#39;</span>)</div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno"> 1019</span>        register_compressor(<span class="stringliteral">&#39;invalid&#39;</span>, InvalidFileObjectWrapper())</div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span>    excinfo.match(<span class="stringliteral">&quot;Compressor &#39;fileobj_factory&#39; attribute should implement &quot;</span></div>
<div class="line"><span class="lineno"> 1022</span>                  <span class="stringliteral">&quot;the file object interface&quot;</span>)</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3a3be5ac51f41823e7542795a1c40e9" name="aa3a3be5ac51f41823e7542795a1c40e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3a3be5ac51f41823e7542795a1c40e9">&#9670;&#160;</a></span>test_register_compressor_invalid_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_register_compressor_invalid_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>invalid_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1000</span><span class="keyword">def </span>test_register_compressor_invalid_name(invalid_name):</div>
<div class="line"><span class="lineno"> 1001</span>    <span class="comment"># Test that registering an invalid compressor name is not allowed.</span></div>
<div class="line"><span class="lineno"> 1002</span>    <span class="keyword">with</span> raises(ValueError) <span class="keyword">as</span> excinfo:</div>
<div class="line"><span class="lineno"> 1003</span>        register_compressor(invalid_name, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 1004</span>    excinfo.match(<span class="stringliteral">&quot;Compressor name should be a string&quot;</span>)</div>
<div class="line"><span class="lineno"> 1005</span> </div>
<div class="line"><span class="lineno"> 1006</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a66c296d153af5fd95fa374246dc681db" name="a66c296d153af5fd95fa374246dc681db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c296d153af5fd95fa374246dc681db">&#9670;&#160;</a></span>test_standard_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_standard_types </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tmpdir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>member</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tests. </p>
<div class="fragment"><div class="line"><span class="lineno">  103</span><span class="keyword">def </span>test_standard_types(tmpdir, compress, member):</div>
<div class="line"><span class="lineno">  104</span>    <span class="comment"># Test pickling and saving with standard types.</span></div>
<div class="line"><span class="lineno">  105</span>    filename = tmpdir.join(<span class="stringliteral">&#39;test.pkl&#39;</span>).strpath</div>
<div class="line"><span class="lineno">  106</span>    numpy_pickle.dump(member, filename, compress=compress)</div>
<div class="line"><span class="lineno">  107</span>    _member = numpy_pickle.load(filename)</div>
<div class="line"><span class="lineno">  108</span>    <span class="comment"># We compare the pickled instance to the reloaded one only if it</span></div>
<div class="line"><span class="lineno">  109</span>    <span class="comment"># can be compared to a copied one</span></div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">if</span> member == copy.deepcopy(member):</div>
<div class="line"><span class="lineno">  111</span>        <span class="keyword">assert</span> member == _member</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f30ccbff29b0e3d67d8a2e5ec8296d2" name="a7f30ccbff29b0e3d67d8a2e5ec8296d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f30ccbff29b0e3d67d8a2e5ec8296d2">&#9670;&#160;</a></span>test_value_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.test_value_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  114</span><span class="keyword">def </span>test_value_error():</div>
<div class="line"><span class="lineno">  115</span>    <span class="comment"># Test inverting the input arguments to dump</span></div>
<div class="line"><span class="lineno">  116</span>    <span class="keyword">with</span> raises(ValueError):</div>
<div class="line"><span class="lineno">  117</span>        numpy_pickle.dump(<span class="stringliteral">&#39;foo&#39;</span>, dict())</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span><span class="preprocessor">@parametrize(&#39;wrong_compress&#39;, [-1, 10, dict()</span>])</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a164ebd3ac95a4586908f39824a90fe6a" name="a164ebd3ac95a4586908f39824a90fe6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a164ebd3ac95a4586908f39824a90fe6a">&#9670;&#160;</a></span>_bool</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._bool = bool(1)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a377b8729a5d7368abdcc91ddc8f15dd0" name="a377b8729a5d7368abdcc91ddc8f15dd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a377b8729a5d7368abdcc91ddc8f15dd0">&#9670;&#160;</a></span>_builtin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._builtin = len</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6f44d92d76cd47750a5a81cc0301c7ad" name="a6f44d92d76cd47750a5a81cc0301c7ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f44d92d76cd47750a5a81cc0301c7ad">&#9670;&#160;</a></span>_complex</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._complex = complex(1)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a22f935892da344ea5ce4f19e57ff1b44" name="a22f935892da344ea5ce4f19e57ff1b44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22f935892da344ea5ce4f19e57ff1b44">&#9670;&#160;</a></span>_dict</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict joblib.test.test_numpy_pickle._dict = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af386c7e7c4025daeb86299108d97c855" name="af386c7e7c4025daeb86299108d97c855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af386c7e7c4025daeb86299108d97c855">&#9670;&#160;</a></span>_float</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._float = float(1)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a52b08aac1e11695c447bc481d36e97a0" name="a52b08aac1e11695c447bc481d36e97a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52b08aac1e11695c447bc481d36e97a0">&#9670;&#160;</a></span>_instance</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._instance = <a class="el" href="classjoblib_1_1test_1_1test__numpy__pickle_1_1__class.html">_class</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a5471f7aa9177efc393d6944f64be49bc" name="a5471f7aa9177efc393d6944f64be49bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5471f7aa9177efc393d6944f64be49bc">&#9670;&#160;</a></span>_int</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._int = int(1)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a948bed9914f5f78915b1d65f518616b9" name="a948bed9914f5f78915b1d65f518616b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a948bed9914f5f78915b1d65f518616b9">&#9670;&#160;</a></span>_list</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list joblib.test.test_numpy_pickle._list = []</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a31a1de8181cb0ed34c79a945d004e721" name="a31a1de8181cb0ed34c79a945d004e721"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31a1de8181cb0ed34c79a945d004e721">&#9670;&#160;</a></span>_none</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._none = None</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4c7b6b837ec1d679e1e6bd024245d52b" name="a4c7b6b837ec1d679e1e6bd024245d52b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c7b6b837ec1d679e1e6bd024245d52b">&#9670;&#160;</a></span>_object</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._object = <a class="el" href="classjoblib_1_1test_1_1test__numpy__pickle_1_1__newclass.html">_newclass</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab3feb974b041538167e19e943a06fe0e" name="ab3feb974b041538167e19e943a06fe0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3feb974b041538167e19e943a06fe0e">&#9670;&#160;</a></span>_string</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._string = str(1)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a3270e26addade676f8d9dd6a547a919f" name="a3270e26addade676f8d9dd6a547a919f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3270e26addade676f8d9dd6a547a919f">&#9670;&#160;</a></span>_tuple</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">tuple joblib.test.test_numpy_pickle._tuple = ()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0b34d111bc1fa9f1d750ac4e5c9b41d1" name="a0b34d111bc1fa9f1d750ac4e5c9b41d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b34d111bc1fa9f1d750ac4e5c9b41d1">&#9670;&#160;</a></span>_type</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle._type = type</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab36abb4219a14124e1e6fbae23eff695" name="ab36abb4219a14124e1e6fbae23eff695"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab36abb4219a14124e1e6fbae23eff695">&#9670;&#160;</a></span>lzma</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.test.test_numpy_pickle.lzma = None</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa4ec2f459d2462c38aee2ee2446ca3d7" name="aa4ec2f459d2462c38aee2ee2446ca3d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4ec2f459d2462c38aee2ee2446ca3d7">&#9670;&#160;</a></span>protocols</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list joblib.test.test_numpy_pickle.protocols = [pickle.DEFAULT_PROTOCOL]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8adc489e959e366c870ad6146160bf19" name="a8adc489e959e366c870ad6146160bf19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8adc489e959e366c870ad6146160bf19">&#9670;&#160;</a></span>typelist</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list joblib.test.test_numpy_pickle.typelist = []</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Define a list of standard types. </p>
<p>Borrowed from dill, initial author: Micheal McKerns: <a href="http://dev.danse.us/trac/pathos/browser/dill/dill_test2.py">http://dev.danse.us/trac/pathos/browser/dill/dill_test2.py</a> </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
