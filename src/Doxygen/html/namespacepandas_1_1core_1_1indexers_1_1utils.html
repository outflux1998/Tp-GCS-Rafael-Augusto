<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.core.indexers.utils Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core_1_1indexers.html">indexers</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pandas.core.indexers.utils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a46bc73e92f965e3eb1cb1424a7dfa59e" id="r_a46bc73e92f965e3eb1cb1424a7dfa59e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#a46bc73e92f965e3eb1cb1424a7dfa59e">is_valid_positional_slice</a> (slice slc)</td></tr>
<tr class="separator:a46bc73e92f965e3eb1cb1424a7dfa59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac10df1fd36898bad05b18ec26c04edd4" id="r_ac10df1fd36898bad05b18ec26c04edd4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#ac10df1fd36898bad05b18ec26c04edd4">is_list_like_indexer</a> (key)</td></tr>
<tr class="separator:ac10df1fd36898bad05b18ec26c04edd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a417bddbd175c975132e78441c954ec5d" id="r_a417bddbd175c975132e78441c954ec5d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#a417bddbd175c975132e78441c954ec5d">is_scalar_indexer</a> (indexer, int ndim)</td></tr>
<tr class="separator:a417bddbd175c975132e78441c954ec5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63d56c3a993e7140cceccac6ed45c501" id="r_a63d56c3a993e7140cceccac6ed45c501"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#a63d56c3a993e7140cceccac6ed45c501">is_empty_indexer</a> (indexer)</td></tr>
<tr class="separator:a63d56c3a993e7140cceccac6ed45c501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabf91bf1190dfbb31c28a39a22b4f28f" id="r_aabf91bf1190dfbb31c28a39a22b4f28f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#aabf91bf1190dfbb31c28a39a22b4f28f">check_setitem_lengths</a> (indexer, value, values)</td></tr>
<tr class="separator:aabf91bf1190dfbb31c28a39a22b4f28f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbdc5b28552aae34a9361337cc6723a2" id="r_acbdc5b28552aae34a9361337cc6723a2"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#acbdc5b28552aae34a9361337cc6723a2">validate_indices</a> (np.ndarray indices, int <a class="el" href="__blas__subroutines_8h.html#a25eafceb38c8e75bc60701fea6623f71">n</a>)</td></tr>
<tr class="separator:acbdc5b28552aae34a9361337cc6723a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a540118c71a1ab490b77df0e5f6e99a1e" id="r_a540118c71a1ab490b77df0e5f6e99a1e"><td class="memItemLeft" align="right" valign="top">np.ndarray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#a540118c71a1ab490b77df0e5f6e99a1e">maybe_convert_indices</a> (indices, int <a class="el" href="__blas__subroutines_8h.html#a25eafceb38c8e75bc60701fea6623f71">n</a>, bool verify=True)</td></tr>
<tr class="separator:a540118c71a1ab490b77df0e5f6e99a1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad156cdfb095b995b961370cb175bc5b7" id="r_ad156cdfb095b995b961370cb175bc5b7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#ad156cdfb095b995b961370cb175bc5b7">length_of_indexer</a> (indexer, target=None)</td></tr>
<tr class="separator:ad156cdfb095b995b961370cb175bc5b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeac22288961e8f1cba8fcb161aec7f75" id="r_aeac22288961e8f1cba8fcb161aec7f75"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#aeac22288961e8f1cba8fcb161aec7f75">deprecate_ndim_indexing</a> (result, int stacklevel=3)</td></tr>
<tr class="separator:aeac22288961e8f1cba8fcb161aec7f75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a546426aaa0231691b7b860853f116bbe" id="r_a546426aaa0231691b7b860853f116bbe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#a546426aaa0231691b7b860853f116bbe">unpack_1tuple</a> (tup)</td></tr>
<tr class="separator:a546426aaa0231691b7b860853f116bbe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9cbcf33039becc0f93ce78bd23a743e" id="r_ac9cbcf33039becc0f93ce78bd23a743e"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#ac9cbcf33039becc0f93ce78bd23a743e">check_key_length</a> (<a class="el" href="classpandas_1_1core_1_1indexes_1_1base_1_1_index.html">Index</a> columns, key, <a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a> value)</td></tr>
<tr class="separator:ac9cbcf33039becc0f93ce78bd23a743e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28f9f2d389852e02c1abb1010d0b93fb" id="r_a28f9f2d389852e02c1abb1010d0b93fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#a28f9f2d389852e02c1abb1010d0b93fb">unpack_tuple_and_ellipses</a> (tuple item)</td></tr>
<tr class="separator:a28f9f2d389852e02c1abb1010d0b93fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd7dbc92c848b6aa5af7cbbef2b4fbaa" id="r_afd7dbc92c848b6aa5af7cbbef2b4fbaa"><td class="memItemLeft" align="right" valign="top">Any&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1indexers_1_1utils.html#afd7dbc92c848b6aa5af7cbbef2b4fbaa">check_array_indexer</a> (AnyArrayLike array, Any indexer)</td></tr>
<tr class="separator:afd7dbc92c848b6aa5af7cbbef2b4fbaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Low-dependency indexing utilities.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="afd7dbc92c848b6aa5af7cbbef2b4fbaa" name="afd7dbc92c848b6aa5af7cbbef2b4fbaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd7dbc92c848b6aa5af7cbbef2b4fbaa">&#9670;&#160;</a></span>check_array_indexer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Any pandas.core.indexers.utils.check_array_indexer </td>
          <td>(</td>
          <td class="paramtype">AnyArrayLike&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Any&#160;</td>
          <td class="paramname"><em>indexer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check if `indexer` is a valid array indexer for `array`.

For a boolean mask, `array` and `indexer` are checked to have the same
length. The dtype is validated, and if it is an integer or boolean
ExtensionArray, it is checked if there are missing values present, and
it is converted to the appropriate numpy array. Other dtypes will raise
an error.

Non-array indexers (integer, slice, Ellipsis, tuples, ..) are passed
through as is.

.. versionadded:: 1.0.0

Parameters
----------
array : array-like
    The array that is being indexed (only used for the length).
indexer : array-like or list-like
    The array-like that's used to index. List-like input that is not yet
    a numpy array or an ExtensionArray is converted to one. Other input
    types are passed through as is.

Returns
-------
numpy.ndarray
    The validated indexer as a numpy array that can be used to index.

Raises
------
IndexError
    When the lengths don't match.
ValueError
    When `indexer` cannot be converted to a numpy ndarray to index
    (e.g. presence of missing values).

See Also
--------
api.types.is_bool_dtype : Check if `key` is of boolean dtype.

Examples
--------
When checking a boolean mask, a boolean ndarray is returned when the
arguments are all valid.

&gt;&gt;&gt; mask = pd.array([True, False])
&gt;&gt;&gt; arr = pd.array([1, 2])
&gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, mask)
array([ True, False])

An IndexError is raised when the lengths don't match.

&gt;&gt;&gt; mask = pd.array([True, False, True])
&gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, mask)
Traceback (most recent call last):
...
IndexError: Boolean index has wrong length: 3 instead of 2.

NA values in a boolean array are treated as False.

&gt;&gt;&gt; mask = pd.array([True, pd.NA])
&gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, mask)
array([ True, False])

A numpy boolean mask will get passed through (if the length is correct):

&gt;&gt;&gt; mask = np.array([True, False])
&gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, mask)
array([ True, False])

Similarly for integer indexers, an integer ndarray is returned when it is
a valid indexer, otherwise an error is  (for integer indexers, a matching
length is not required):

&gt;&gt;&gt; indexer = pd.array([0, 2], dtype="Int64")
&gt;&gt;&gt; arr = pd.array([1, 2, 3])
&gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, indexer)
array([0, 2])

&gt;&gt;&gt; indexer = pd.array([0, pd.NA], dtype="Int64")
&gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, indexer)
Traceback (most recent call last):
...
ValueError: Cannot index with an integer indexer containing NA values

For non-integer/boolean dtypes, an appropriate error is raised:

&gt;&gt;&gt; indexer = np.array([0., 2.], dtype="float64")
&gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, indexer)
Traceback (most recent call last):
...
IndexError: arrays used as indices must be of integer or boolean type
</pre> <div class="fragment"><div class="line"><span class="lineno">  430</span><span class="keyword">def </span>check_array_indexer(array: AnyArrayLike, indexer: Any) -&gt; Any:</div>
<div class="line"><span class="lineno">  431</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  432</span><span class="stringliteral">    Check if `indexer` is a valid array indexer for `array`.</span></div>
<div class="line"><span class="lineno">  433</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  434</span><span class="stringliteral">    For a boolean mask, `array` and `indexer` are checked to have the same</span></div>
<div class="line"><span class="lineno">  435</span><span class="stringliteral">    length. The dtype is validated, and if it is an integer or boolean</span></div>
<div class="line"><span class="lineno">  436</span><span class="stringliteral">    ExtensionArray, it is checked if there are missing values present, and</span></div>
<div class="line"><span class="lineno">  437</span><span class="stringliteral">    it is converted to the appropriate numpy array. Other dtypes will raise</span></div>
<div class="line"><span class="lineno">  438</span><span class="stringliteral">    an error.</span></div>
<div class="line"><span class="lineno">  439</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral">    Non-array indexers (integer, slice, Ellipsis, tuples, ..) are passed</span></div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral">    through as is.</span></div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral">    .. versionadded:: 1.0.0</span></div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">    array : array-like</span></div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">        The array that is being indexed (only used for the length).</span></div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral">    indexer : array-like or list-like</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">        The array-like that&#39;s used to index. List-like input that is not yet</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">        a numpy array or an ExtensionArray is converted to one. Other input</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">        types are passed through as is.</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral">    numpy.ndarray</span></div>
<div class="line"><span class="lineno">  457</span><span class="stringliteral">        The validated indexer as a numpy array that can be used to index.</span></div>
<div class="line"><span class="lineno">  458</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  459</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  460</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  461</span><span class="stringliteral">    IndexError</span></div>
<div class="line"><span class="lineno">  462</span><span class="stringliteral">        When the lengths don&#39;t match.</span></div>
<div class="line"><span class="lineno">  463</span><span class="stringliteral">    ValueError</span></div>
<div class="line"><span class="lineno">  464</span><span class="stringliteral">        When `indexer` cannot be converted to a numpy ndarray to index</span></div>
<div class="line"><span class="lineno">  465</span><span class="stringliteral">        (e.g. presence of missing values).</span></div>
<div class="line"><span class="lineno">  466</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  467</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  468</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral">    api.types.is_bool_dtype : Check if `key` is of boolean dtype.</span></div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  471</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  472</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  473</span><span class="stringliteral">    When checking a boolean mask, a boolean ndarray is returned when the</span></div>
<div class="line"><span class="lineno">  474</span><span class="stringliteral">    arguments are all valid.</span></div>
<div class="line"><span class="lineno">  475</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  476</span><span class="stringliteral">    &gt;&gt;&gt; mask = pd.array([True, False])</span></div>
<div class="line"><span class="lineno">  477</span><span class="stringliteral">    &gt;&gt;&gt; arr = pd.array([1, 2])</span></div>
<div class="line"><span class="lineno">  478</span><span class="stringliteral">    &gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, mask)</span></div>
<div class="line"><span class="lineno">  479</span><span class="stringliteral">    array([ True, False])</span></div>
<div class="line"><span class="lineno">  480</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  481</span><span class="stringliteral">    An IndexError is raised when the lengths don&#39;t match.</span></div>
<div class="line"><span class="lineno">  482</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  483</span><span class="stringliteral">    &gt;&gt;&gt; mask = pd.array([True, False, True])</span></div>
<div class="line"><span class="lineno">  484</span><span class="stringliteral">    &gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, mask)</span></div>
<div class="line"><span class="lineno">  485</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  486</span><span class="stringliteral">    ...</span></div>
<div class="line"><span class="lineno">  487</span><span class="stringliteral">    IndexError: Boolean index has wrong length: 3 instead of 2.</span></div>
<div class="line"><span class="lineno">  488</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  489</span><span class="stringliteral">    NA values in a boolean array are treated as False.</span></div>
<div class="line"><span class="lineno">  490</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  491</span><span class="stringliteral">    &gt;&gt;&gt; mask = pd.array([True, pd.NA])</span></div>
<div class="line"><span class="lineno">  492</span><span class="stringliteral">    &gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, mask)</span></div>
<div class="line"><span class="lineno">  493</span><span class="stringliteral">    array([ True, False])</span></div>
<div class="line"><span class="lineno">  494</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  495</span><span class="stringliteral">    A numpy boolean mask will get passed through (if the length is correct):</span></div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral">    &gt;&gt;&gt; mask = np.array([True, False])</span></div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">    &gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, mask)</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral">    array([ True, False])</span></div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">    Similarly for integer indexers, an integer ndarray is returned when it is</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">    a valid indexer, otherwise an error is  (for integer indexers, a matching</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">    length is not required):</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral">    &gt;&gt;&gt; indexer = pd.array([0, 2], dtype=&quot;Int64&quot;)</span></div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">    &gt;&gt;&gt; arr = pd.array([1, 2, 3])</span></div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral">    &gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, indexer)</span></div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral">    array([0, 2])</span></div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">    &gt;&gt;&gt; indexer = pd.array([0, pd.NA], dtype=&quot;Int64&quot;)</span></div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral">    &gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, indexer)</span></div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral">    ...</span></div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral">    ValueError: Cannot index with an integer indexer containing NA values</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">    For non-integer/boolean dtypes, an appropriate error is raised:</span></div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  518</span><span class="stringliteral">    &gt;&gt;&gt; indexer = np.array([0., 2.], dtype=&quot;float64&quot;)</span></div>
<div class="line"><span class="lineno">  519</span><span class="stringliteral">    &gt;&gt;&gt; pd.api.indexers.check_array_indexer(arr, indexer)</span></div>
<div class="line"><span class="lineno">  520</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  521</span><span class="stringliteral">    ...</span></div>
<div class="line"><span class="lineno">  522</span><span class="stringliteral">    IndexError: arrays used as indices must be of integer or boolean type</span></div>
<div class="line"><span class="lineno">  523</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  524</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacepandas_1_1core_1_1construction.html">pandas.core.construction</a> <span class="keyword">import</span> array <span class="keyword">as</span> pd_array</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>    <span class="comment"># whatever is not an array-like is returned as-is (possible valid array</span></div>
<div class="line"><span class="lineno">  527</span>    <span class="comment"># indexers that are not array-like: integer, slice, Ellipsis, None)</span></div>
<div class="line"><span class="lineno">  528</span>    <span class="comment"># In this context, tuples are not considered as array-like, as they have</span></div>
<div class="line"><span class="lineno">  529</span>    <span class="comment"># a specific meaning in indexing (multi-dimensional indexing)</span></div>
<div class="line"><span class="lineno">  530</span>    <span class="keywordflow">if</span> is_list_like(indexer):</div>
<div class="line"><span class="lineno">  531</span>        <span class="keywordflow">if</span> isinstance(indexer, tuple):</div>
<div class="line"><span class="lineno">  532</span>            <span class="keywordflow">return</span> indexer</div>
<div class="line"><span class="lineno">  533</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  534</span>        <span class="keywordflow">return</span> indexer</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>    <span class="comment"># convert list-likes to array</span></div>
<div class="line"><span class="lineno">  537</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> is_array_like(indexer):</div>
<div class="line"><span class="lineno">  538</span>        indexer = pd_array(indexer)</div>
<div class="line"><span class="lineno">  539</span>        <span class="keywordflow">if</span> len(indexer) == 0:</div>
<div class="line"><span class="lineno">  540</span>            <span class="comment"># empty list is converted to float array by pd.array</span></div>
<div class="line"><span class="lineno">  541</span>            indexer = np.array([], dtype=np.intp)</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>    dtype = indexer.dtype</div>
<div class="line"><span class="lineno">  544</span>    <span class="keywordflow">if</span> is_bool_dtype(dtype):</div>
<div class="line"><span class="lineno">  545</span>        <span class="keywordflow">if</span> is_extension_array_dtype(dtype):</div>
<div class="line"><span class="lineno">  546</span>            indexer = indexer.to_numpy(dtype=bool, na_value=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  548</span>            indexer = np.asarray(indexer, dtype=bool)</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>        <span class="comment"># GH26658</span></div>
<div class="line"><span class="lineno">  551</span>        <span class="keywordflow">if</span> len(indexer) != len(array):</div>
<div class="line"><span class="lineno">  552</span>            <span class="keywordflow">raise</span> IndexError(</div>
<div class="line"><span class="lineno">  553</span>                f<span class="stringliteral">&quot;Boolean index has wrong length: &quot;</span></div>
<div class="line"><span class="lineno">  554</span>                f<span class="stringliteral">&quot;{len(indexer)} instead of {len(array)}&quot;</span></div>
<div class="line"><span class="lineno">  555</span>            )</div>
<div class="line"><span class="lineno">  556</span>    <span class="keywordflow">elif</span> is_integer_dtype(dtype):</div>
<div class="line"><span class="lineno">  557</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  558</span>            indexer = np.asarray(indexer, dtype=np.intp)</div>
<div class="line"><span class="lineno">  559</span>        <span class="keywordflow">except</span> ValueError <span class="keyword">as</span> err:</div>
<div class="line"><span class="lineno">  560</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  561</span>                <span class="stringliteral">&quot;Cannot index with an integer indexer containing NA values&quot;</span></div>
<div class="line"><span class="lineno">  562</span>            ) <span class="keyword">from</span> err</div>
<div class="line"><span class="lineno">  563</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">raise</span> IndexError(<span class="stringliteral">&quot;arrays used as indices must be of integer or boolean type&quot;</span>)</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>    <span class="keywordflow">return</span> indexer</div>
<div class="ttc" id="anamespacepandas_1_1core_1_1construction_html"><div class="ttname"><a href="namespacepandas_1_1core_1_1construction.html">pandas.core.construction</a></div><div class="ttdef"><b>Definition</b> construction.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9cbcf33039becc0f93ce78bd23a743e" name="ac9cbcf33039becc0f93ce78bd23a743e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9cbcf33039becc0f93ce78bd23a743e">&#9670;&#160;</a></span>check_key_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None pandas.core.indexers.utils.check_key_length </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpandas_1_1core_1_1indexes_1_1base_1_1_index.html">Index</a>&#160;</td>
          <td class="paramname"><em>columns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpandas_1_1core_1_1frame_1_1_data_frame.html">DataFrame</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Checks if a key used as indexer has the same length as the columns it is
associated with.

Parameters
----------
columns : Index The columns of the DataFrame to index.
key : A list-like of keys to index with.
value : DataFrame The value to set for the keys.

Raises
------
ValueError: If the length of key is not equal to the number of columns in value
            or if the number of columns referenced by key is not equal to number
            of columns.
</pre> <div class="fragment"><div class="line"><span class="lineno">  382</span><span class="keyword">def </span>check_key_length(columns: Index, key, value: DataFrame) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  383</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  384</span><span class="stringliteral">    Checks if a key used as indexer has the same length as the columns it is</span></div>
<div class="line"><span class="lineno">  385</span><span class="stringliteral">    associated with.</span></div>
<div class="line"><span class="lineno">  386</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  387</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  388</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  389</span><span class="stringliteral">    columns : Index The columns of the DataFrame to index.</span></div>
<div class="line"><span class="lineno">  390</span><span class="stringliteral">    key : A list-like of keys to index with.</span></div>
<div class="line"><span class="lineno">  391</span><span class="stringliteral">    value : DataFrame The value to set for the keys.</span></div>
<div class="line"><span class="lineno">  392</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  393</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  394</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  395</span><span class="stringliteral">    ValueError: If the length of key is not equal to the number of columns in value</span></div>
<div class="line"><span class="lineno">  396</span><span class="stringliteral">                or if the number of columns referenced by key is not equal to number</span></div>
<div class="line"><span class="lineno">  397</span><span class="stringliteral">                of columns.</span></div>
<div class="line"><span class="lineno">  398</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  399</span>    <span class="keywordflow">if</span> columns.is_unique:</div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordflow">if</span> len(value.columns) != len(key):</div>
<div class="line"><span class="lineno">  401</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Columns must be same length as key&quot;</span>)</div>
<div class="line"><span class="lineno">  402</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  403</span>        <span class="comment"># Missing keys in columns are represented as -1</span></div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">if</span> len(columns.get_indexer_non_unique(key)[0]) != len(value.columns):</div>
<div class="line"><span class="lineno">  405</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Columns must be same length as key&quot;</span>)</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aabf91bf1190dfbb31c28a39a22b4f28f" name="aabf91bf1190dfbb31c28a39a22b4f28f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabf91bf1190dfbb31c28a39a22b4f28f">&#9670;&#160;</a></span>check_setitem_lengths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool pandas.core.indexers.utils.check_setitem_lengths </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indexer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Validate that value and indexer are the same length.

An special-case is allowed for when the indexer is a boolean array
and the number of true values equals the length of ``value``. In
this case, no exception is raised.

Parameters
----------
indexer : sequence
    Key for the setitem.
value : array-like
    Value for the setitem.
values : array-like
    Values being set into.

Returns
-------
bool
    Whether this is an empty listlike setting which is a no-op.

Raises
------
ValueError
    When the indexer is an ndarray or list and the lengths don't match.
</pre> <div class="fragment"><div class="line"><span class="lineno">  127</span><span class="keyword">def </span>check_setitem_lengths(indexer, value, values) -&gt; bool:</div>
<div class="line"><span class="lineno">  128</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">    Validate that value and indexer are the same length.</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">    An special-case is allowed for when the indexer is a boolean array</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">    and the number of true values equals the length of ``value``. In</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">    this case, no exception is raised.</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  136</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  137</span><span class="stringliteral">    indexer : sequence</span></div>
<div class="line"><span class="lineno">  138</span><span class="stringliteral">        Key for the setitem.</span></div>
<div class="line"><span class="lineno">  139</span><span class="stringliteral">    value : array-like</span></div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral">        Value for the setitem.</span></div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral">    values : array-like</span></div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral">        Values being set into.</span></div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral">    bool</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">        Whether this is an empty listlike setting which is a no-op.</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">    ValueError</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">        When the indexer is an ndarray or list and the lengths don&#39;t match.</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  154</span>    no_op = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">if</span> isinstance(indexer, (np.ndarray, list)):</div>
<div class="line"><span class="lineno">  157</span>        <span class="comment"># We can ignore other listlikes because they are either</span></div>
<div class="line"><span class="lineno">  158</span>        <span class="comment">#  a) not necessarily 1-D indexers, e.g. tuple</span></div>
<div class="line"><span class="lineno">  159</span>        <span class="comment">#  b) boolean indexers e.g. BoolArray</span></div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">if</span> is_list_like(value):</div>
<div class="line"><span class="lineno">  161</span>            <span class="keywordflow">if</span> len(indexer) != len(value) <span class="keywordflow">and</span> values.ndim == 1:</div>
<div class="line"><span class="lineno">  162</span>                <span class="comment"># boolean with truth values == len of the value is ok too</span></div>
<div class="line"><span class="lineno">  163</span>                <span class="keywordflow">if</span> isinstance(indexer, list):</div>
<div class="line"><span class="lineno">  164</span>                    indexer = np.array(indexer)</div>
<div class="line"><span class="lineno">  165</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> (</div>
<div class="line"><span class="lineno">  166</span>                    isinstance(indexer, np.ndarray)</div>
<div class="line"><span class="lineno">  167</span>                    <span class="keywordflow">and</span> indexer.dtype == np.bool_</div>
<div class="line"><span class="lineno">  168</span>                    <span class="keywordflow">and</span> indexer.sum() == len(value)</div>
<div class="line"><span class="lineno">  169</span>                ):</div>
<div class="line"><span class="lineno">  170</span>                    <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  171</span>                        <span class="stringliteral">&quot;cannot set using a list-like indexer &quot;</span></div>
<div class="line"><span class="lineno">  172</span>                        <span class="stringliteral">&quot;with a different length than the value&quot;</span></div>
<div class="line"><span class="lineno">  173</span>                    )</div>
<div class="line"><span class="lineno">  174</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> len(indexer):</div>
<div class="line"><span class="lineno">  175</span>                no_op = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">elif</span> isinstance(indexer, slice):</div>
<div class="line"><span class="lineno">  178</span>        <span class="keywordflow">if</span> is_list_like(value):</div>
<div class="line"><span class="lineno">  179</span>            <span class="keywordflow">if</span> len(value) != length_of_indexer(indexer, values) <span class="keywordflow">and</span> values.ndim == 1:</div>
<div class="line"><span class="lineno">  180</span>                <span class="comment"># In case of two dimensional value is used row-wise and broadcasted</span></div>
<div class="line"><span class="lineno">  181</span>                <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  182</span>                    <span class="stringliteral">&quot;cannot set using a slice indexer with a &quot;</span></div>
<div class="line"><span class="lineno">  183</span>                    <span class="stringliteral">&quot;different length than the value&quot;</span></div>
<div class="line"><span class="lineno">  184</span>                )</div>
<div class="line"><span class="lineno">  185</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> len(value):</div>
<div class="line"><span class="lineno">  186</span>                no_op = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">return</span> no_op</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aeac22288961e8f1cba8fcb161aec7f75" name="aeac22288961e8f1cba8fcb161aec7f75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeac22288961e8f1cba8fcb161aec7f75">&#9670;&#160;</a></span>deprecate_ndim_indexing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None pandas.core.indexers.utils.deprecate_ndim_indexing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>stacklevel</em> = <code>3</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Helper function to raise the deprecation warning for multi-dimensional
indexing on 1D Series/Index.

GH#27125 indexer like idx[:, None] expands dim, but we cannot do that
and keep an index, so we currently return ndarray, which is deprecated
(Deprecation GH#30588).
</pre> <div class="fragment"><div class="line"><span class="lineno">  336</span><span class="keyword">def </span>deprecate_ndim_indexing(result, stacklevel: int = 3) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  337</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral">    Helper function to raise the deprecation warning for multi-dimensional</span></div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral">    indexing on 1D Series/Index.</span></div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral">    GH#27125 indexer like idx[:, None] expands dim, but we cannot do that</span></div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral">    and keep an index, so we currently return ndarray, which is deprecated</span></div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral">    (Deprecation GH#30588).</span></div>
<div class="line"><span class="lineno">  344</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">if</span> np.ndim(result) &gt; 1:</div>
<div class="line"><span class="lineno">  346</span>        warnings.warn(</div>
<div class="line"><span class="lineno">  347</span>            <span class="stringliteral">&quot;Support for multi-dimensional indexing (e.g. `obj[:, None]`) &quot;</span></div>
<div class="line"><span class="lineno">  348</span>            <span class="stringliteral">&quot;is deprecated and will be removed in a future &quot;</span></div>
<div class="line"><span class="lineno">  349</span>            <span class="stringliteral">&quot;version.  Convert to a numpy array before indexing instead.&quot;</span>,</div>
<div class="line"><span class="lineno">  350</span>            FutureWarning,</div>
<div class="line"><span class="lineno">  351</span>            stacklevel=find_stack_level(),</div>
<div class="line"><span class="lineno">  352</span>        )</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a63d56c3a993e7140cceccac6ed45c501" name="a63d56c3a993e7140cceccac6ed45c501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63d56c3a993e7140cceccac6ed45c501">&#9670;&#160;</a></span>is_empty_indexer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool pandas.core.indexers.utils.is_empty_indexer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indexer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check if we have an empty indexer.

Parameters
----------
indexer : object

Returns
-------
bool
</pre> <div class="fragment"><div class="line"><span class="lineno">  104</span><span class="keyword">def </span>is_empty_indexer(indexer) -&gt; bool:</div>
<div class="line"><span class="lineno">  105</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">    Check if we have an empty indexer.</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">    indexer : object</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral">    bool</span></div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  116</span>    <span class="keywordflow">if</span> is_list_like(indexer) <span class="keywordflow">and</span> <span class="keywordflow">not</span> len(indexer):</div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  118</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(indexer, tuple):</div>
<div class="line"><span class="lineno">  119</span>        indexer = (indexer,)</div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">return</span> any(isinstance(idx, np.ndarray) <span class="keywordflow">and</span> len(idx) == 0 <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> indexer)</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span><span class="comment"># -----------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  124</span><span class="comment"># Indexer Validation</span></div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac10df1fd36898bad05b18ec26c04edd4" name="ac10df1fd36898bad05b18ec26c04edd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac10df1fd36898bad05b18ec26c04edd4">&#9670;&#160;</a></span>is_list_like_indexer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool pandas.core.indexers.utils.is_list_like_indexer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check if we have a list-like indexer that is *not* a NamedTuple.

Parameters
----------
key : object

Returns
-------
bool
</pre> <div class="fragment"><div class="line"><span class="lineno">   66</span><span class="keyword">def </span>is_list_like_indexer(key) -&gt; bool:</div>
<div class="line"><span class="lineno">   67</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">    Check if we have a list-like indexer that is *not* a NamedTuple.</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">    key : object</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">    bool</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   78</span>    <span class="comment"># allow a list_like, but exclude NamedTuples which can be indexers</span></div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">return</span> is_list_like(key) <span class="keywordflow">and</span> <span class="keywordflow">not</span> (isinstance(key, tuple) <span class="keywordflow">and</span> type(key) <span class="keywordflow">is</span> <span class="keywordflow">not</span> tuple)</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a417bddbd175c975132e78441c954ec5d" name="a417bddbd175c975132e78441c954ec5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a417bddbd175c975132e78441c954ec5d">&#9670;&#160;</a></span>is_scalar_indexer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool pandas.core.indexers.utils.is_scalar_indexer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indexer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ndim</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return True if we are all scalar indexers.

Parameters
----------
indexer : object
ndim : int
    Number of dimensions in the object being indexed.

Returns
-------
bool
</pre> <div class="fragment"><div class="line"><span class="lineno">   82</span><span class="keyword">def </span>is_scalar_indexer(indexer, ndim: int) -&gt; bool:</div>
<div class="line"><span class="lineno">   83</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   84</span><span class="stringliteral">    Return True if we are all scalar indexers.</span></div>
<div class="line"><span class="lineno">   85</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   86</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   87</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   88</span><span class="stringliteral">    indexer : object</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral">    ndim : int</span></div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral">        Number of dimensions in the object being indexed.</span></div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">    bool</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> ndim == 1 <span class="keywordflow">and</span> is_integer(indexer):</div>
<div class="line"><span class="lineno">   97</span>        <span class="comment"># GH37748: allow indexer to be an integer for Series</span></div>
<div class="line"><span class="lineno">   98</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">if</span> isinstance(indexer, tuple) <span class="keywordflow">and</span> len(indexer) == ndim:</div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordflow">return</span> all(is_integer(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> indexer)</div>
<div class="line"><span class="lineno">  101</span>    <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a46bc73e92f965e3eb1cb1424a7dfa59e" name="a46bc73e92f965e3eb1cb1424a7dfa59e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46bc73e92f965e3eb1cb1424a7dfa59e">&#9670;&#160;</a></span>is_valid_positional_slice()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool pandas.core.indexers.utils.is_valid_positional_slice </td>
          <td>(</td>
          <td class="paramtype">slice&#160;</td>
          <td class="paramname"><em>slc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check if a slice object can be interpreted as a positional indexer.

Parameters
----------
slc : slice

Returns
-------
bool

Notes
-----
A valid positional slice may also be interpreted as a label-based slice
depending on the index being sliced.
</pre> <div class="fragment"><div class="line"><span class="lineno">   38</span><span class="keyword">def </span>is_valid_positional_slice(slc: slice) -&gt; bool:</div>
<div class="line"><span class="lineno">   39</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   40</span><span class="stringliteral">    Check if a slice object can be interpreted as a positional indexer.</span></div>
<div class="line"><span class="lineno">   41</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   42</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   43</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   44</span><span class="stringliteral">    slc : slice</span></div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral">    bool</span></div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">   52</span><span class="stringliteral">    A valid positional slice may also be interpreted as a label-based slice</span></div>
<div class="line"><span class="lineno">   53</span><span class="stringliteral">    depending on the index being sliced.</span></div>
<div class="line"><span class="lineno">   54</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>    <span class="keyword">def </span>is_int_or_none(val):</div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordflow">return</span> val <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> is_integer(val)</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno">   60</span>        is_int_or_none(slc.start)</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">and</span> is_int_or_none(slc.stop)</div>
<div class="line"><span class="lineno">   62</span>        <span class="keywordflow">and</span> is_int_or_none(slc.step)</div>
<div class="line"><span class="lineno">   63</span>    )</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad156cdfb095b995b961370cb175bc5b7" name="ad156cdfb095b995b961370cb175bc5b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad156cdfb095b995b961370cb175bc5b7">&#9670;&#160;</a></span>length_of_indexer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> int pandas.core.indexers.utils.length_of_indexer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indexer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the expected length of target[indexer]

Returns
-------
int
</pre> <div class="fragment"><div class="line"><span class="lineno">  294</span><span class="keyword">def </span>length_of_indexer(indexer, target=None) -&gt; int:</div>
<div class="line"><span class="lineno">  295</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">    Return the expected length of target[indexer]</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">    int</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  302</span>    <span class="keywordflow">if</span> target <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> isinstance(indexer, slice):</div>
<div class="line"><span class="lineno">  303</span>        target_len = len(target)</div>
<div class="line"><span class="lineno">  304</span>        start = indexer.start</div>
<div class="line"><span class="lineno">  305</span>        stop = indexer.stop</div>
<div class="line"><span class="lineno">  306</span>        step = indexer.step</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">if</span> start <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  308</span>            start = 0</div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">elif</span> start &lt; 0:</div>
<div class="line"><span class="lineno">  310</span>            start += target_len</div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">if</span> stop <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> stop &gt; target_len:</div>
<div class="line"><span class="lineno">  312</span>            stop = target_len</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">elif</span> stop &lt; 0:</div>
<div class="line"><span class="lineno">  314</span>            stop += target_len</div>
<div class="line"><span class="lineno">  315</span>        <span class="keywordflow">if</span> step <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  316</span>            step = 1</div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">elif</span> step &lt; 0:</div>
<div class="line"><span class="lineno">  318</span>            start, stop = stop + 1, start + 1</div>
<div class="line"><span class="lineno">  319</span>            step = -step</div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordflow">return</span> (stop - start + step - 1) // step</div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">elif</span> isinstance(indexer, (ABCSeries, ABCIndex, np.ndarray, list)):</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">if</span> isinstance(indexer, list):</div>
<div class="line"><span class="lineno">  323</span>            indexer = np.array(indexer)</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">if</span> indexer.dtype == bool:</div>
<div class="line"><span class="lineno">  326</span>            <span class="comment"># GH#25774</span></div>
<div class="line"><span class="lineno">  327</span>            <span class="keywordflow">return</span> indexer.sum()</div>
<div class="line"><span class="lineno">  328</span>        <span class="keywordflow">return</span> len(indexer)</div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">elif</span> isinstance(indexer, range):</div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">return</span> (indexer.stop - indexer.start) // indexer.step</div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordflow">elif</span> <span class="keywordflow">not</span> is_list_like_indexer(indexer):</div>
<div class="line"><span class="lineno">  332</span>        <span class="keywordflow">return</span> 1</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">raise</span> AssertionError(<span class="stringliteral">&quot;cannot find the length of the indexer&quot;</span>)</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a540118c71a1ab490b77df0e5f6e99a1e" name="a540118c71a1ab490b77df0e5f6e99a1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a540118c71a1ab490b77df0e5f6e99a1e">&#9670;&#160;</a></span>maybe_convert_indices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> np.ndarray pandas.core.indexers.utils.maybe_convert_indices </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>verify</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Attempt to convert indices into valid, positive indices.

If we have negative indices, translate to positive here.
If we have indices that are out-of-bounds, raise an IndexError.

Parameters
----------
indices : array-like
    Array of indices that we are to convert.
n : int
    Number of elements in the array that we are indexing.
verify : bool, default True
    Check that all entries are between 0 and n - 1, inclusive.

Returns
-------
array-like
    An array-like of positive indices that correspond to the ones
    that were passed in initially to this function.

Raises
------
IndexError
    One of the converted indices either exceeded the number of,
    elements (specified by `n`), or was still negative.
</pre> <div class="fragment"><div class="line"><span class="lineno">  243</span><span class="keyword">def </span>maybe_convert_indices(indices, n: int, verify: bool = <span class="keyword">True</span>) -&gt; np.ndarray:</div>
<div class="line"><span class="lineno">  244</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral">    Attempt to convert indices into valid, positive indices.</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral">    If we have negative indices, translate to positive here.</span></div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">    If we have indices that are out-of-bounds, raise an IndexError.</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  252</span><span class="stringliteral">    indices : array-like</span></div>
<div class="line"><span class="lineno">  253</span><span class="stringliteral">        Array of indices that we are to convert.</span></div>
<div class="line"><span class="lineno">  254</span><span class="stringliteral">    n : int</span></div>
<div class="line"><span class="lineno">  255</span><span class="stringliteral">        Number of elements in the array that we are indexing.</span></div>
<div class="line"><span class="lineno">  256</span><span class="stringliteral">    verify : bool, default True</span></div>
<div class="line"><span class="lineno">  257</span><span class="stringliteral">        Check that all entries are between 0 and n - 1, inclusive.</span></div>
<div class="line"><span class="lineno">  258</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  259</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  260</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  261</span><span class="stringliteral">    array-like</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">        An array-like of positive indices that correspond to the ones</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">        that were passed in initially to this function.</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">    IndexError</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral">        One of the converted indices either exceeded the number of,</span></div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral">        elements (specified by `n`), or was still negative.</span></div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">if</span> isinstance(indices, list):</div>
<div class="line"><span class="lineno">  272</span>        indices = np.array(indices)</div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordflow">if</span> len(indices) == 0:</div>
<div class="line"><span class="lineno">  274</span>            <span class="comment"># If `indices` is empty, np.array will return a float,</span></div>
<div class="line"><span class="lineno">  275</span>            <span class="comment"># and will cause indexing errors.</span></div>
<div class="line"><span class="lineno">  276</span>            <span class="keywordflow">return</span> np.empty(0, dtype=np.intp)</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    mask = indices &lt; 0</div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">if</span> mask.any():</div>
<div class="line"><span class="lineno">  280</span>        indices = indices.copy()</div>
<div class="line"><span class="lineno">  281</span>        indices[mask] += n</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordflow">if</span> verify:</div>
<div class="line"><span class="lineno">  284</span>        mask = (indices &gt;= n) | (indices &lt; 0)</div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordflow">if</span> mask.any():</div>
<div class="line"><span class="lineno">  286</span>            <span class="keywordflow">raise</span> IndexError(<span class="stringliteral">&quot;indices are out-of-bounds&quot;</span>)</div>
<div class="line"><span class="lineno">  287</span>    <span class="keywordflow">return</span> indices</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span><span class="comment"># -----------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  291</span><span class="comment"># Unsorted</span></div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a546426aaa0231691b7b860853f116bbe" name="a546426aaa0231691b7b860853f116bbe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a546426aaa0231691b7b860853f116bbe">&#9670;&#160;</a></span>unpack_1tuple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.indexers.utils.unpack_1tuple </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tup</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">If we have a length-1 tuple/list that contains a slice, unpack to just
the slice.

Notes
-----
The list case is deprecated.
</pre> <div class="fragment"><div class="line"><span class="lineno">  355</span><span class="keyword">def </span>unpack_1tuple(tup):</div>
<div class="line"><span class="lineno">  356</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">    If we have a length-1 tuple/list that contains a slice, unpack to just</span></div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral">    the slice.</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">    The list case is deprecated.</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  364</span>    <span class="keywordflow">if</span> len(tup) == 1 <span class="keywordflow">and</span> isinstance(tup[0], slice):</div>
<div class="line"><span class="lineno">  365</span>        <span class="comment"># if we don&#39;t have a MultiIndex, we may still be able to handle</span></div>
<div class="line"><span class="lineno">  366</span>        <span class="comment">#  a 1-tuple.  see test_1tuple_without_multiindex</span></div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span>        <span class="keywordflow">if</span> isinstance(tup, list):</div>
<div class="line"><span class="lineno">  369</span>            <span class="comment"># GH#31299</span></div>
<div class="line"><span class="lineno">  370</span>            warnings.warn(</div>
<div class="line"><span class="lineno">  371</span>                <span class="stringliteral">&quot;Indexing with a single-item list containing a &quot;</span></div>
<div class="line"><span class="lineno">  372</span>                <span class="stringliteral">&quot;slice is deprecated and will raise in a future &quot;</span></div>
<div class="line"><span class="lineno">  373</span>                <span class="stringliteral">&quot;version.  Pass a tuple instead.&quot;</span>,</div>
<div class="line"><span class="lineno">  374</span>                FutureWarning,</div>
<div class="line"><span class="lineno">  375</span>                stacklevel=find_stack_level(),</div>
<div class="line"><span class="lineno">  376</span>            )</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">return</span> tup[0]</div>
<div class="line"><span class="lineno">  379</span>    <span class="keywordflow">return</span> tup</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a28f9f2d389852e02c1abb1010d0b93fb" name="a28f9f2d389852e02c1abb1010d0b93fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28f9f2d389852e02c1abb1010d0b93fb">&#9670;&#160;</a></span>unpack_tuple_and_ellipses()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.indexers.utils.unpack_tuple_and_ellipses </td>
          <td>(</td>
          <td class="paramtype">tuple&#160;</td>
          <td class="paramname"><em>item</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Possibly unpack arr[..., n] to arr[n]
</pre> <div class="fragment"><div class="line"><span class="lineno">  408</span><span class="keyword">def </span>unpack_tuple_and_ellipses(item: tuple):</div>
<div class="line"><span class="lineno">  409</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">    Possibly unpack arr[..., n] to arr[n]</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  412</span>    <span class="keywordflow">if</span> len(item) &gt; 1:</div>
<div class="line"><span class="lineno">  413</span>        <span class="comment"># Note: we are assuming this indexing is being done on a 1D arraylike</span></div>
<div class="line"><span class="lineno">  414</span>        <span class="keywordflow">if</span> item[0] <span class="keywordflow">is</span> Ellipsis:</div>
<div class="line"><span class="lineno">  415</span>            item = item[1:]</div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">elif</span> item[-1] <span class="keywordflow">is</span> Ellipsis:</div>
<div class="line"><span class="lineno">  417</span>            item = item[:-1]</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">if</span> len(item) &gt; 1:</div>
<div class="line"><span class="lineno">  420</span>        <span class="keywordflow">raise</span> IndexError(<span class="stringliteral">&quot;too many indices for array.&quot;</span>)</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>    item = item[0]</div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">return</span> item</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span><span class="comment"># -----------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  427</span><span class="comment"># Public indexer validation</span></div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acbdc5b28552aae34a9361337cc6723a2" name="acbdc5b28552aae34a9361337cc6723a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbdc5b28552aae34a9361337cc6723a2">&#9670;&#160;</a></span>validate_indices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None pandas.core.indexers.utils.validate_indices </td>
          <td>(</td>
          <td class="paramtype">np.ndarray&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform bounds-checking for an indexer.

-1 is allowed for indicating missing values.

Parameters
----------
indices : ndarray
n : int
    Length of the array being indexed.

Raises
------
ValueError

Examples
--------
&gt;&gt;&gt; validate_indices(np.array([1, 2]), 3) # OK

&gt;&gt;&gt; validate_indices(np.array([1, -2]), 3)
Traceback (most recent call last):
    ...
ValueError: negative dimensions are not allowed

&gt;&gt;&gt; validate_indices(np.array([1, 2, 3]), 3)
Traceback (most recent call last):
    ...
IndexError: indices are out-of-bounds

&gt;&gt;&gt; validate_indices(np.array([-1, -1]), 0) # OK

&gt;&gt;&gt; validate_indices(np.array([0, 1]), 0)
Traceback (most recent call last):
    ...
IndexError: indices are out-of-bounds
</pre> <div class="fragment"><div class="line"><span class="lineno">  191</span><span class="keyword">def </span>validate_indices(indices: np.ndarray, n: int) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  192</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral">    Perform bounds-checking for an indexer.</span></div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral">    -1 is allowed for indicating missing values.</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  198</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  199</span><span class="stringliteral">    indices : ndarray</span></div>
<div class="line"><span class="lineno">  200</span><span class="stringliteral">    n : int</span></div>
<div class="line"><span class="lineno">  201</span><span class="stringliteral">        Length of the array being indexed.</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  203</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  204</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  205</span><span class="stringliteral">    ValueError</span></div>
<div class="line"><span class="lineno">  206</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  207</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  208</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral">    &gt;&gt;&gt; validate_indices(np.array([1, 2]), 3) # OK</span></div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral">    &gt;&gt;&gt; validate_indices(np.array([1, -2]), 3)</span></div>
<div class="line"><span class="lineno">  212</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">    ValueError: negative dimensions are not allowed</span></div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  216</span><span class="stringliteral">    &gt;&gt;&gt; validate_indices(np.array([1, 2, 3]), 3)</span></div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  218</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">  219</span><span class="stringliteral">    IndexError: indices are out-of-bounds</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">    &gt;&gt;&gt; validate_indices(np.array([-1, -1]), 0) # OK</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">    &gt;&gt;&gt; validate_indices(np.array([0, 1]), 0)</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">  226</span><span class="stringliteral">    IndexError: indices are out-of-bounds</span></div>
<div class="line"><span class="lineno">  227</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">if</span> len(indices):</div>
<div class="line"><span class="lineno">  229</span>        min_idx = indices.min()</div>
<div class="line"><span class="lineno">  230</span>        <span class="keywordflow">if</span> min_idx &lt; -1:</div>
<div class="line"><span class="lineno">  231</span>            msg = f<span class="stringliteral">&quot;&#39;indices&#39; contains values less than allowed ({min_idx} &lt; -1)&quot;</span></div>
<div class="line"><span class="lineno">  232</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>        max_idx = indices.max()</div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">if</span> max_idx &gt;= n:</div>
<div class="line"><span class="lineno">  236</span>            <span class="keywordflow">raise</span> IndexError(<span class="stringliteral">&quot;indices are out-of-bounds&quot;</span>)</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span><span class="comment"># -----------------------------------------------------------</span></div>
<div class="line"><span class="lineno">  240</span><span class="comment"># Indexer Conversion</span></div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span> </div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
