<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.metrics.cluster._bicluster Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1metrics.html">metrics</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1metrics_1_1cluster.html">cluster</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1metrics_1_1cluster_1_1__bicluster.html">_bicluster</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sklearn.metrics.cluster._bicluster Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af193688608ba5b968f0b91fb98bcdeed" id="r_af193688608ba5b968f0b91fb98bcdeed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1metrics_1_1cluster_1_1__bicluster.html#af193688608ba5b968f0b91fb98bcdeed">_check_rows_and_columns</a> (<a class="el" href="__blas__subroutines_8h.html#a4da0a64c77789ca4c8115aef76120fd2">a</a>, b)</td></tr>
<tr class="separator:af193688608ba5b968f0b91fb98bcdeed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b7f9de6f779685054719989fa6f1a70" id="r_a4b7f9de6f779685054719989fa6f1a70"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1metrics_1_1cluster_1_1__bicluster.html#a4b7f9de6f779685054719989fa6f1a70">_jaccard</a> (a_rows, a_cols, b_rows, b_cols)</td></tr>
<tr class="separator:a4b7f9de6f779685054719989fa6f1a70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff2b4a3f77d43c584f29d22d859c9d3" id="r_aaff2b4a3f77d43c584f29d22d859c9d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1metrics_1_1cluster_1_1__bicluster.html#aaff2b4a3f77d43c584f29d22d859c9d3">_pairwise_similarity</a> (<a class="el" href="__blas__subroutines_8h.html#a4da0a64c77789ca4c8115aef76120fd2">a</a>, b, similarity)</td></tr>
<tr class="separator:aaff2b4a3f77d43c584f29d22d859c9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb73491dc9a939798308582ce85d2aa1" id="r_acb73491dc9a939798308582ce85d2aa1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1metrics_1_1cluster_1_1__bicluster.html#acb73491dc9a939798308582ce85d2aa1">consensus_score</a> (<a class="el" href="__blas__subroutines_8h.html#a4da0a64c77789ca4c8115aef76120fd2">a</a>, b, *similarity=&quot;jaccard&quot;)</td></tr>
<tr class="separator:acb73491dc9a939798308582ce85d2aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af193688608ba5b968f0b91fb98bcdeed" name="af193688608ba5b968f0b91fb98bcdeed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af193688608ba5b968f0b91fb98bcdeed">&#9670;&#160;</a></span>_check_rows_and_columns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.metrics.cluster._bicluster._check_rows_and_columns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Unpacks the row and column arrays and checks their shape.</pre> <div class="fragment"><div class="line"><span class="lineno">    9</span><span class="keyword">def </span>_check_rows_and_columns(a, b):</div>
<div class="line"><span class="lineno">   10</span>    <span class="stringliteral">&quot;&quot;&quot;Unpacks the row and column arrays and checks their shape.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   11</span>    check_consistent_length(*a)</div>
<div class="line"><span class="lineno">   12</span>    check_consistent_length(*b)</div>
<div class="line"><span class="lineno">   13</span>    checks = <span class="keyword">lambda</span> x: check_array(x, ensure_2d=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">   14</span>    a_rows, a_cols = map(checks, a)</div>
<div class="line"><span class="lineno">   15</span>    b_rows, b_cols = map(checks, b)</div>
<div class="line"><span class="lineno">   16</span>    <span class="keywordflow">return</span> a_rows, a_cols, b_rows, b_cols</div>
<div class="line"><span class="lineno">   17</span> </div>
<div class="line"><span class="lineno">   18</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b7f9de6f779685054719989fa6f1a70" name="a4b7f9de6f779685054719989fa6f1a70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b7f9de6f779685054719989fa6f1a70">&#9670;&#160;</a></span>_jaccard()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.metrics.cluster._bicluster._jaccard </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a_rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b_rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b_cols</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Jaccard coefficient on the elements of the two biclusters.</pre> <div class="fragment"><div class="line"><span class="lineno">   19</span><span class="keyword">def </span>_jaccard(a_rows, a_cols, b_rows, b_cols):</div>
<div class="line"><span class="lineno">   20</span>    <span class="stringliteral">&quot;&quot;&quot;Jaccard coefficient on the elements of the two biclusters.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   21</span>    intersection = (a_rows * b_rows).sum() * (a_cols * b_cols).sum()</div>
<div class="line"><span class="lineno">   22</span> </div>
<div class="line"><span class="lineno">   23</span>    a_size = a_rows.sum() * a_cols.sum()</div>
<div class="line"><span class="lineno">   24</span>    b_size = b_rows.sum() * b_cols.sum()</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>    <span class="keywordflow">return</span> intersection / (a_size + b_size - intersection)</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaff2b4a3f77d43c584f29d22d859c9d3" name="aaff2b4a3f77d43c584f29d22d859c9d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaff2b4a3f77d43c584f29d22d859c9d3">&#9670;&#160;</a></span>_pairwise_similarity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.metrics.cluster._bicluster._pairwise_similarity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>similarity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Computes pairwise similarity matrix.

result[i, j] is the Jaccard coefficient of a's bicluster i and b's
bicluster j.</pre> <div class="fragment"><div class="line"><span class="lineno">   29</span><span class="keyword">def </span>_pairwise_similarity(a, b, similarity):</div>
<div class="line"><span class="lineno">   30</span>    <span class="stringliteral">&quot;&quot;&quot;Computes pairwise similarity matrix.</span></div>
<div class="line"><span class="lineno">   31</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   32</span><span class="stringliteral">    result[i, j] is the Jaccard coefficient of a&#39;s bicluster i and b&#39;s</span></div>
<div class="line"><span class="lineno">   33</span><span class="stringliteral">    bicluster j.</span></div>
<div class="line"><span class="lineno">   34</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   35</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   36</span>    a_rows, a_cols, b_rows, b_cols = _check_rows_and_columns(a, b)</div>
<div class="line"><span class="lineno">   37</span>    n_a = a_rows.shape[0]</div>
<div class="line"><span class="lineno">   38</span>    n_b = b_rows.shape[0]</div>
<div class="line"><span class="lineno">   39</span>    result = np.array(</div>
<div class="line"><span class="lineno">   40</span>        [</div>
<div class="line"><span class="lineno">   41</span>            [similarity(a_rows[i], a_cols[i], b_rows[j], b_cols[j]) <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(n_b)]</div>
<div class="line"><span class="lineno">   42</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(n_a)</div>
<div class="line"><span class="lineno">   43</span>        ]</div>
<div class="line"><span class="lineno">   44</span>    )</div>
<div class="line"><span class="lineno">   45</span>    <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">   46</span> </div>
<div class="line"><span class="lineno">   47</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acb73491dc9a939798308582ce85d2aa1" name="acb73491dc9a939798308582ce85d2aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb73491dc9a939798308582ce85d2aa1">&#9670;&#160;</a></span>consensus_score()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.metrics.cluster._bicluster.consensus_score </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>similarity</em> = <code>&quot;jaccard&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The similarity of two sets of biclusters.

Similarity between individual biclusters is computed. Then the
best matching between sets is found using the Hungarian algorithm.
The final score is the sum of similarities divided by the size of
the larger set.

Read more in the :ref:`User Guide &lt;biclustering&gt;`.

Parameters
----------
a : (rows, columns)
    Tuple of row and column indicators for a set of biclusters.

b : (rows, columns)
    Another set of biclusters like ``a``.

similarity : 'jaccard' or callable, default='jaccard'
    May be the string "jaccard" to use the Jaccard coefficient, or
    any function that takes four arguments, each of which is a 1d
    indicator vector: (a_rows, a_columns, b_rows, b_columns).

Returns
-------
consensus_score : float
   Consensus score, a non-negative value, sum of similarities
   divided by size of larger set.

References
----------

* Hochreiter, Bodenhofer, et. al., 2010. `FABIA: factor analysis
  for bicluster acquisition
  &lt;https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2881408/&gt;`__.
</pre> <div class="fragment"><div class="line"><span class="lineno">   48</span><span class="keyword">def </span>consensus_score(a, b, *, similarity=&quot;jaccard&quot;):</div>
<div class="line"><span class="lineno">   49</span>    <span class="stringliteral">&quot;&quot;&quot;The similarity of two sets of biclusters.</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">    Similarity between individual biclusters is computed. Then the</span></div>
<div class="line"><span class="lineno">   52</span><span class="stringliteral">    best matching between sets is found using the Hungarian algorithm.</span></div>
<div class="line"><span class="lineno">   53</span><span class="stringliteral">    The final score is the sum of similarities divided by the size of</span></div>
<div class="line"><span class="lineno">   54</span><span class="stringliteral">    the larger set.</span></div>
<div class="line"><span class="lineno">   55</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   56</span><span class="stringliteral">    Read more in the :ref:`User Guide &lt;biclustering&gt;`.</span></div>
<div class="line"><span class="lineno">   57</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   58</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   59</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral">    a : (rows, columns)</span></div>
<div class="line"><span class="lineno">   61</span><span class="stringliteral">        Tuple of row and column indicators for a set of biclusters.</span></div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">    b : (rows, columns)</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral">        Another set of biclusters like ``a``.</span></div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral">    similarity : &#39;jaccard&#39; or callable, default=&#39;jaccard&#39;</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral">        May be the string &quot;jaccard&quot; to use the Jaccard coefficient, or</span></div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">        any function that takes four arguments, each of which is a 1d</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral">        indicator vector: (a_rows, a_columns, b_rows, b_columns).</span></div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">    consensus_score : float</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">       Consensus score, a non-negative value, sum of similarities</span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">       divided by size of larger set.</span></div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">    References</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   80</span><span class="stringliteral">    * Hochreiter, Bodenhofer, et. al., 2010. `FABIA: factor analysis</span></div>
<div class="line"><span class="lineno">   81</span><span class="stringliteral">      for bicluster acquisition</span></div>
<div class="line"><span class="lineno">   82</span><span class="stringliteral">      &lt;https://www.ncbi.nlm.nih.gov/pmc/articles/PMC2881408/&gt;`__.</span></div>
<div class="line"><span class="lineno">   83</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordflow">if</span> similarity == <span class="stringliteral">&quot;jaccard&quot;</span>:</div>
<div class="line"><span class="lineno">   85</span>        similarity = _jaccard</div>
<div class="line"><span class="lineno">   86</span>    matrix = _pairwise_similarity(a, b, similarity)</div>
<div class="line"><span class="lineno">   87</span>    row_indices, col_indices = linear_sum_assignment(1.0 - matrix)</div>
<div class="line"><span class="lineno">   88</span>    n_a = len(a[0])</div>
<div class="line"><span class="lineno">   89</span>    n_b = len(b[0])</div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">return</span> matrix[row_indices, col_indices].sum() / max(n_a, n_b)</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
