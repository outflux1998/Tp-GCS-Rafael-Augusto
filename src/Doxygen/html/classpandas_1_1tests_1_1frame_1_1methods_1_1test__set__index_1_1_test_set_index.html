<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.tests.frame.methods.test_set_index.TestSetIndex Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1frame.html">frame</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1frame_1_1methods.html">methods</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1frame_1_1methods_1_1test__set__index.html">test_set_index</a></li><li class="navelem"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html">TestSetIndex</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">pandas.tests.frame.methods.test_set_index.TestSetIndex Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a106bd1220527bb2cf9853d954efb7f7e" id="r_a106bd1220527bb2cf9853d954efb7f7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a106bd1220527bb2cf9853d954efb7f7e">test_set_index_multiindex</a> (self)</td></tr>
<tr class="separator:a106bd1220527bb2cf9853d954efb7f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab171ff70821c4f399679f63bc9e93bcf" id="r_ab171ff70821c4f399679f63bc9e93bcf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#ab171ff70821c4f399679f63bc9e93bcf">test_set_index_empty_column</a> (self)</td></tr>
<tr class="separator:ab171ff70821c4f399679f63bc9e93bcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef112accc0bb9f7323692d3f7299a5f" id="r_aaef112accc0bb9f7323692d3f7299a5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#aaef112accc0bb9f7323692d3f7299a5f">test_set_index_empty_dataframe</a> (self)</td></tr>
<tr class="separator:aaef112accc0bb9f7323692d3f7299a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae62fb28b60911dcc0c7bb2a17e681662" id="r_ae62fb28b60911dcc0c7bb2a17e681662"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#ae62fb28b60911dcc0c7bb2a17e681662">test_set_index_multiindexcolumns</a> (self)</td></tr>
<tr class="separator:ae62fb28b60911dcc0c7bb2a17e681662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17c26a95344a0bf72ccb629653e4d654" id="r_a17c26a95344a0bf72ccb629653e4d654"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a17c26a95344a0bf72ccb629653e4d654">test_set_index_timezone</a> (self)</td></tr>
<tr class="separator:a17c26a95344a0bf72ccb629653e4d654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0130f694e3d0b33d9056a86f59c3328a" id="r_a0130f694e3d0b33d9056a86f59c3328a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a0130f694e3d0b33d9056a86f59c3328a">test_set_index_cast_datetimeindex</a> (self)</td></tr>
<tr class="separator:a0130f694e3d0b33d9056a86f59c3328a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c1a473f486427fc3d6202b00f7a3e85" id="r_a3c1a473f486427fc3d6202b00f7a3e85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a3c1a473f486427fc3d6202b00f7a3e85">test_set_index_dst</a> (self)</td></tr>
<tr class="separator:a3c1a473f486427fc3d6202b00f7a3e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace3c406570c4971e1205b406467021e0" id="r_ace3c406570c4971e1205b406467021e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#ace3c406570c4971e1205b406467021e0">test_set_index</a> (self, float_string_frame)</td></tr>
<tr class="separator:ace3c406570c4971e1205b406467021e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e645d8f017828005b610350131d732" id="r_a35e645d8f017828005b610350131d732"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a35e645d8f017828005b610350131d732">test_set_index_names</a> (self)</td></tr>
<tr class="separator:a35e645d8f017828005b610350131d732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e29d45e57aab45cc28ec328de98f72d" id="r_a9e29d45e57aab45cc28ec328de98f72d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a9e29d45e57aab45cc28ec328de98f72d">test_set_index_cast</a> (self)</td></tr>
<tr class="separator:a9e29d45e57aab45cc28ec328de98f72d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61b7395e40bf2d513094f2c295835dbf" id="r_a61b7395e40bf2d513094f2c295835dbf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a61b7395e40bf2d513094f2c295835dbf">test_set_index_drop_inplace</a> (self, frame_of_index_cols, drop, inplace, keys)</td></tr>
<tr class="separator:a61b7395e40bf2d513094f2c295835dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a103030f1aa8a9032ea6d768069dd04f6" id="r_a103030f1aa8a9032ea6d768069dd04f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a103030f1aa8a9032ea6d768069dd04f6">test_set_index_append</a> (self, frame_of_index_cols, drop, keys)</td></tr>
<tr class="separator:a103030f1aa8a9032ea6d768069dd04f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d452f5134bc41d27785d21894607893" id="r_a9d452f5134bc41d27785d21894607893"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a9d452f5134bc41d27785d21894607893">test_set_index_append_to_multiindex</a> (self, frame_of_index_cols, drop, keys)</td></tr>
<tr class="separator:a9d452f5134bc41d27785d21894607893"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fdeb74f52fff71c1283dd8ab90180ce" id="r_a7fdeb74f52fff71c1283dd8ab90180ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a7fdeb74f52fff71c1283dd8ab90180ce">test_set_index_after_mutation</a> (self)</td></tr>
<tr class="separator:a7fdeb74f52fff71c1283dd8ab90180ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3648dd50e3a0acd03699cd25a21b26c2" id="r_a3648dd50e3a0acd03699cd25a21b26c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a3648dd50e3a0acd03699cd25a21b26c2">test_set_index_pass_single_array</a> (self, frame_of_index_cols, drop, append, index_name, box)</td></tr>
<tr class="separator:a3648dd50e3a0acd03699cd25a21b26c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229f6d03be088ca19c801cfe72fe2ee8" id="r_a229f6d03be088ca19c801cfe72fe2ee8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a229f6d03be088ca19c801cfe72fe2ee8">test_set_index_pass_arrays</a> (self, frame_of_index_cols, drop, append, index_name, box)</td></tr>
<tr class="separator:a229f6d03be088ca19c801cfe72fe2ee8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a177d6d1a0c9f8d2db4e9385db03b5cea" id="r_a177d6d1a0c9f8d2db4e9385db03b5cea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a177d6d1a0c9f8d2db4e9385db03b5cea">test_set_index_pass_arrays_duplicate</a> (self, frame_of_index_cols, drop, append, index_name, box1, box2)</td></tr>
<tr class="separator:a177d6d1a0c9f8d2db4e9385db03b5cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c16987d0fb15db831d1e17241622668" id="r_a7c16987d0fb15db831d1e17241622668"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a7c16987d0fb15db831d1e17241622668">test_set_index_pass_multiindex</a> (self, frame_of_index_cols, drop, append)</td></tr>
<tr class="separator:a7c16987d0fb15db831d1e17241622668"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb6cfd36c504cca818f4ca66a43e9965" id="r_acb6cfd36c504cca818f4ca66a43e9965"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#acb6cfd36c504cca818f4ca66a43e9965">test_construction_with_categorical_index</a> (self)</td></tr>
<tr class="separator:acb6cfd36c504cca818f4ca66a43e9965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cfd14c1b4ac3b5131906f0755f0d860" id="r_a7cfd14c1b4ac3b5131906f0755f0d860"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a7cfd14c1b4ac3b5131906f0755f0d860">test_set_index_preserve_categorical_dtype</a> (self)</td></tr>
<tr class="separator:a7cfd14c1b4ac3b5131906f0755f0d860"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4cfa9f655bd8bbdce86d8db3f1e4a3a" id="r_aa4cfa9f655bd8bbdce86d8db3f1e4a3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#aa4cfa9f655bd8bbdce86d8db3f1e4a3a">test_set_index_datetime</a> (self)</td></tr>
<tr class="separator:aa4cfa9f655bd8bbdce86d8db3f1e4a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1494fbb551aa5614a940cffc8e9bb671" id="r_a1494fbb551aa5614a940cffc8e9bb671"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1frame_1_1methods_1_1test__set__index_1_1_test_set_index.html#a1494fbb551aa5614a940cffc8e9bb671">test_set_index_period</a> (self)</td></tr>
<tr class="separator:a1494fbb551aa5614a940cffc8e9bb671"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acb6cfd36c504cca818f4ca66a43e9965" name="acb6cfd36c504cca818f4ca66a43e9965"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb6cfd36c504cca818f4ca66a43e9965">&#9670;&#160;</a></span>test_construction_with_categorical_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_construction_with_categorical_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  378</span>    <span class="keyword">def </span>test_construction_with_categorical_index(self):</div>
<div class="line"><span class="lineno">  379</span>        ci = tm.makeCategoricalIndex(10)</div>
<div class="line"><span class="lineno">  380</span>        ci.name = <span class="stringliteral">&quot;B&quot;</span></div>
<div class="line"><span class="lineno">  381</span> </div>
<div class="line"><span class="lineno">  382</span>        <span class="comment"># with Categorical</span></div>
<div class="line"><span class="lineno">  383</span>        df = DataFrame({<span class="stringliteral">&quot;A&quot;</span>: np.random.randn(10), <span class="stringliteral">&quot;B&quot;</span>: ci.values})</div>
<div class="line"><span class="lineno">  384</span>        idf = df.set_index(<span class="stringliteral">&quot;B&quot;</span>)</div>
<div class="line"><span class="lineno">  385</span>        tm.assert_index_equal(idf.index, ci)</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>        <span class="comment"># from a CategoricalIndex</span></div>
<div class="line"><span class="lineno">  388</span>        df = DataFrame({<span class="stringliteral">&quot;A&quot;</span>: np.random.randn(10), <span class="stringliteral">&quot;B&quot;</span>: ci})</div>
<div class="line"><span class="lineno">  389</span>        idf = df.set_index(<span class="stringliteral">&quot;B&quot;</span>)</div>
<div class="line"><span class="lineno">  390</span>        tm.assert_index_equal(idf.index, ci)</div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span>        <span class="comment"># round-trip</span></div>
<div class="line"><span class="lineno">  393</span>        idf = idf.reset_index().set_index(<span class="stringliteral">&quot;B&quot;</span>)</div>
<div class="line"><span class="lineno">  394</span>        tm.assert_index_equal(idf.index, ci)</div>
<div class="line"><span class="lineno">  395</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ace3c406570c4971e1205b406467021e0" name="ace3c406570c4971e1205b406467021e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace3c406570c4971e1205b406467021e0">&#9670;&#160;</a></span>test_set_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>float_string_frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  118</span>    <span class="keyword">def </span>test_set_index(self, float_string_frame):</div>
<div class="line"><span class="lineno">  119</span>        df = float_string_frame</div>
<div class="line"><span class="lineno">  120</span>        idx = Index(np.arange(len(df))[::-1])</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>        df = df.set_index(idx)</div>
<div class="line"><span class="lineno">  123</span>        tm.assert_index_equal(df.index, idx)</div>
<div class="line"><span class="lineno">  124</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Length mismatch&quot;</span>):</div>
<div class="line"><span class="lineno">  125</span>            df.set_index(idx[::2])</div>
<div class="line"><span class="lineno">  126</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7fdeb74f52fff71c1283dd8ab90180ce" name="a7fdeb74f52fff71c1283dd8ab90180ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fdeb74f52fff71c1283dd8ab90180ce">&#9670;&#160;</a></span>test_set_index_after_mutation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_after_mutation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  219</span>    <span class="keyword">def </span>test_set_index_after_mutation(self):</div>
<div class="line"><span class="lineno">  220</span>        <span class="comment"># GH#1590</span></div>
<div class="line"><span class="lineno">  221</span>        df = DataFrame({<span class="stringliteral">&quot;val&quot;</span>: [0, 1, 2], <span class="stringliteral">&quot;key&quot;</span>: [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>]})</div>
<div class="line"><span class="lineno">  222</span>        expected = DataFrame({<span class="stringliteral">&quot;val&quot;</span>: [1, 2]}, Index([<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>], name=<span class="stringliteral">&quot;key&quot;</span>))</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>        df2 = df.loc[df.index.map(<span class="keyword">lambda</span> indx: indx &gt;= 1)]</div>
<div class="line"><span class="lineno">  225</span>        result = df2.set_index(<span class="stringliteral">&quot;key&quot;</span>)</div>
<div class="line"><span class="lineno">  226</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  227</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a103030f1aa8a9032ea6d768069dd04f6" name="a103030f1aa8a9032ea6d768069dd04f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a103030f1aa8a9032ea6d768069dd04f6">&#9670;&#160;</a></span>test_set_index_append()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_append </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_of_index_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  191</span>    <span class="keyword">def </span>test_set_index_append(self, frame_of_index_cols, drop, keys):</div>
<div class="line"><span class="lineno">  192</span>        df = frame_of_index_cols</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>        keys = keys <span class="keywordflow">if</span> isinstance(keys, list) <span class="keywordflow">else</span> [keys]</div>
<div class="line"><span class="lineno">  195</span>        idx = MultiIndex.from_arrays(</div>
<div class="line"><span class="lineno">  196</span>            [df.index] + [df[x] <span class="keywordflow">for</span> x <span class="keywordflow">in</span> keys], names=[<span class="keywordtype">None</span>] + keys</div>
<div class="line"><span class="lineno">  197</span>        )</div>
<div class="line"><span class="lineno">  198</span>        expected = df.drop(keys, axis=1) <span class="keywordflow">if</span> drop <span class="keywordflow">else</span> df.copy()</div>
<div class="line"><span class="lineno">  199</span>        expected.index = idx</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>        result = df.set_index(keys, drop=drop, append=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  204</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d452f5134bc41d27785d21894607893" name="a9d452f5134bc41d27785d21894607893"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d452f5134bc41d27785d21894607893">&#9670;&#160;</a></span>test_set_index_append_to_multiindex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_append_to_multiindex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_of_index_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  208</span>    <span class="keyword">def </span>test_set_index_append_to_multiindex(self, frame_of_index_cols, drop, keys):</div>
<div class="line"><span class="lineno">  209</span>        <span class="comment"># append to existing multiindex</span></div>
<div class="line"><span class="lineno">  210</span>        df = frame_of_index_cols.set_index([<span class="stringliteral">&quot;D&quot;</span>], drop=drop, append=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>        keys = keys <span class="keywordflow">if</span> isinstance(keys, list) <span class="keywordflow">else</span> [keys]</div>
<div class="line"><span class="lineno">  213</span>        expected = frame_of_index_cols.set_index([<span class="stringliteral">&quot;D&quot;</span>] + keys, drop=drop, append=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>        result = df.set_index(keys, drop=drop, append=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  218</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e29d45e57aab45cc28ec328de98f72d" name="a9e29d45e57aab45cc28ec328de98f72d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e29d45e57aab45cc28ec328de98f72d">&#9670;&#160;</a></span>test_set_index_cast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_cast </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  157</span>    <span class="keyword">def </span>test_set_index_cast(self):</div>
<div class="line"><span class="lineno">  158</span>        <span class="comment"># issue casting an index then set_index</span></div>
<div class="line"><span class="lineno">  159</span>        df = DataFrame(</div>
<div class="line"><span class="lineno">  160</span>            {<span class="stringliteral">&quot;A&quot;</span>: [1.1, 2.2, 3.3], <span class="stringliteral">&quot;B&quot;</span>: [5.0, 6.1, 7.2]}, index=[2010, 2011, 2012]</div>
<div class="line"><span class="lineno">  161</span>        )</div>
<div class="line"><span class="lineno">  162</span>        df2 = df.set_index(df.index.astype(np.int32))</div>
<div class="line"><span class="lineno">  163</span>        tm.assert_frame_equal(df, df2)</div>
<div class="line"><span class="lineno">  164</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0130f694e3d0b33d9056a86f59c3328a" name="a0130f694e3d0b33d9056a86f59c3328a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0130f694e3d0b33d9056a86f59c3328a">&#9670;&#160;</a></span>test_set_index_cast_datetimeindex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_cast_datetimeindex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   88</span>    <span class="keyword">def </span>test_set_index_cast_datetimeindex(self):</div>
<div class="line"><span class="lineno">   89</span>        df = DataFrame(</div>
<div class="line"><span class="lineno">   90</span>            {</div>
<div class="line"><span class="lineno">   91</span>                <span class="stringliteral">&quot;A&quot;</span>: [<a class="code hl_namespace" href="namespacedatetime.html">datetime</a>(2000, 1, 1) + <a class="code hl_define" href="noprefix_8h.html#ae6feacec25f59b525f6e0c442ef75ff7">timedelta</a>(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1000)],</div>
<div class="line"><span class="lineno">   92</span>                <span class="stringliteral">&quot;B&quot;</span>: np.random.randn(1000),</div>
<div class="line"><span class="lineno">   93</span>            }</div>
<div class="line"><span class="lineno">   94</span>        )</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>        idf = df.set_index(<span class="stringliteral">&quot;A&quot;</span>)</div>
<div class="line"><span class="lineno">   97</span>        <span class="keyword">assert</span> isinstance(idf.index, DatetimeIndex)</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="ttc" id="anamespacedatetime_html"><div class="ttname"><a href="namespacedatetime.html">datetime</a></div></div>
<div class="ttc" id="anoprefix_8h_html_ae6feacec25f59b525f6e0c442ef75ff7"><div class="ttname"><a href="noprefix_8h.html#ae6feacec25f59b525f6e0c442ef75ff7">timedelta</a></div><div class="ttdeci">#define timedelta</div><div class="ttdef"><b>Definition</b> noprefix.h:65</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4cfa9f655bd8bbdce86d8db3f1e4a3a" name="aa4cfa9f655bd8bbdce86d8db3f1e4a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4cfa9f655bd8bbdce86d8db3f1e4a3a">&#9670;&#160;</a></span>test_set_index_datetime()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_datetime </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  411</span>    <span class="keyword">def </span>test_set_index_datetime(self):</div>
<div class="line"><span class="lineno">  412</span>        <span class="comment"># GH#3950</span></div>
<div class="line"><span class="lineno">  413</span>        df = DataFrame(</div>
<div class="line"><span class="lineno">  414</span>            {</div>
<div class="line"><span class="lineno">  415</span>                <span class="stringliteral">&quot;label&quot;</span>: [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>],</div>
<div class="line"><span class="lineno">  416</span>                <span class="stringliteral">&quot;datetime&quot;</span>: [</div>
<div class="line"><span class="lineno">  417</span>                    <span class="stringliteral">&quot;2011-07-19 07:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  418</span>                    <span class="stringliteral">&quot;2011-07-19 08:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  419</span>                    <span class="stringliteral">&quot;2011-07-19 09:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  420</span>                    <span class="stringliteral">&quot;2011-07-19 07:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  421</span>                    <span class="stringliteral">&quot;2011-07-19 08:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  422</span>                    <span class="stringliteral">&quot;2011-07-19 09:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  423</span>                ],</div>
<div class="line"><span class="lineno">  424</span>                <span class="stringliteral">&quot;value&quot;</span>: range(6),</div>
<div class="line"><span class="lineno">  425</span>            }</div>
<div class="line"><span class="lineno">  426</span>        )</div>
<div class="line"><span class="lineno">  427</span>        df.index = to_datetime(df.pop(<span class="stringliteral">&quot;datetime&quot;</span>), utc=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  428</span>        df.index = df.index.tz_convert(<span class="stringliteral">&quot;US/Pacific&quot;</span>)</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>        expected = DatetimeIndex(</div>
<div class="line"><span class="lineno">  431</span>            [<span class="stringliteral">&quot;2011-07-19 07:00:00&quot;</span>, <span class="stringliteral">&quot;2011-07-19 08:00:00&quot;</span>, <span class="stringliteral">&quot;2011-07-19 09:00:00&quot;</span>],</div>
<div class="line"><span class="lineno">  432</span>            name=<span class="stringliteral">&quot;datetime&quot;</span>,</div>
<div class="line"><span class="lineno">  433</span>        )</div>
<div class="line"><span class="lineno">  434</span>        expected = expected.tz_localize(<span class="stringliteral">&quot;UTC&quot;</span>).tz_convert(<span class="stringliteral">&quot;US/Pacific&quot;</span>)</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>        df = df.set_index(<span class="stringliteral">&quot;label&quot;</span>, append=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  437</span>        tm.assert_index_equal(df.index.levels[0], expected)</div>
<div class="line"><span class="lineno">  438</span>        tm.assert_index_equal(df.index.levels[1], Index([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>], name=<span class="stringliteral">&quot;label&quot;</span>))</div>
<div class="line"><span class="lineno">  439</span>        <span class="keyword">assert</span> df.index.names == [<span class="stringliteral">&quot;datetime&quot;</span>, <span class="stringliteral">&quot;label&quot;</span>]</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>        df = df.swaplevel(0, 1)</div>
<div class="line"><span class="lineno">  442</span>        tm.assert_index_equal(df.index.levels[0], Index([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>], name=<span class="stringliteral">&quot;label&quot;</span>))</div>
<div class="line"><span class="lineno">  443</span>        tm.assert_index_equal(df.index.levels[1], expected)</div>
<div class="line"><span class="lineno">  444</span>        <span class="keyword">assert</span> df.index.names == [<span class="stringliteral">&quot;label&quot;</span>, <span class="stringliteral">&quot;datetime&quot;</span>]</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>        df = DataFrame(np.random.random(6))</div>
<div class="line"><span class="lineno">  447</span>        idx1 = DatetimeIndex(</div>
<div class="line"><span class="lineno">  448</span>            [</div>
<div class="line"><span class="lineno">  449</span>                <span class="stringliteral">&quot;2011-07-19 07:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  450</span>                <span class="stringliteral">&quot;2011-07-19 08:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  451</span>                <span class="stringliteral">&quot;2011-07-19 09:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  452</span>                <span class="stringliteral">&quot;2011-07-19 07:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  453</span>                <span class="stringliteral">&quot;2011-07-19 08:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  454</span>                <span class="stringliteral">&quot;2011-07-19 09:00:00&quot;</span>,</div>
<div class="line"><span class="lineno">  455</span>            ],</div>
<div class="line"><span class="lineno">  456</span>            tz=<span class="stringliteral">&quot;US/Eastern&quot;</span>,</div>
<div class="line"><span class="lineno">  457</span>        )</div>
<div class="line"><span class="lineno">  458</span>        idx2 = DatetimeIndex(</div>
<div class="line"><span class="lineno">  459</span>            [</div>
<div class="line"><span class="lineno">  460</span>                <span class="stringliteral">&quot;2012-04-01 09:00&quot;</span>,</div>
<div class="line"><span class="lineno">  461</span>                <span class="stringliteral">&quot;2012-04-01 09:00&quot;</span>,</div>
<div class="line"><span class="lineno">  462</span>                <span class="stringliteral">&quot;2012-04-01 09:00&quot;</span>,</div>
<div class="line"><span class="lineno">  463</span>                <span class="stringliteral">&quot;2012-04-02 09:00&quot;</span>,</div>
<div class="line"><span class="lineno">  464</span>                <span class="stringliteral">&quot;2012-04-02 09:00&quot;</span>,</div>
<div class="line"><span class="lineno">  465</span>                <span class="stringliteral">&quot;2012-04-02 09:00&quot;</span>,</div>
<div class="line"><span class="lineno">  466</span>            ],</div>
<div class="line"><span class="lineno">  467</span>            tz=<span class="stringliteral">&quot;US/Eastern&quot;</span>,</div>
<div class="line"><span class="lineno">  468</span>        )</div>
<div class="line"><span class="lineno">  469</span>        idx3 = date_range(<span class="stringliteral">&quot;2011-01-01 09:00&quot;</span>, periods=6, tz=<span class="stringliteral">&quot;Asia/Tokyo&quot;</span>)</div>
<div class="line"><span class="lineno">  470</span>        idx3 = idx3._with_freq(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>        df = df.set_index(idx1)</div>
<div class="line"><span class="lineno">  473</span>        df = df.set_index(idx2, append=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  474</span>        df = df.set_index(idx3, append=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>        expected1 = DatetimeIndex(</div>
<div class="line"><span class="lineno">  477</span>            [<span class="stringliteral">&quot;2011-07-19 07:00:00&quot;</span>, <span class="stringliteral">&quot;2011-07-19 08:00:00&quot;</span>, <span class="stringliteral">&quot;2011-07-19 09:00:00&quot;</span>],</div>
<div class="line"><span class="lineno">  478</span>            tz=<span class="stringliteral">&quot;US/Eastern&quot;</span>,</div>
<div class="line"><span class="lineno">  479</span>        )</div>
<div class="line"><span class="lineno">  480</span>        expected2 = DatetimeIndex(</div>
<div class="line"><span class="lineno">  481</span>            [<span class="stringliteral">&quot;2012-04-01 09:00&quot;</span>, <span class="stringliteral">&quot;2012-04-02 09:00&quot;</span>], tz=<span class="stringliteral">&quot;US/Eastern&quot;</span></div>
<div class="line"><span class="lineno">  482</span>        )</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>        tm.assert_index_equal(df.index.levels[0], expected1)</div>
<div class="line"><span class="lineno">  485</span>        tm.assert_index_equal(df.index.levels[1], expected2)</div>
<div class="line"><span class="lineno">  486</span>        tm.assert_index_equal(df.index.levels[2], idx3)</div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>        <span class="comment"># GH#7092</span></div>
<div class="line"><span class="lineno">  489</span>        tm.assert_index_equal(df.index.get_level_values(0), idx1)</div>
<div class="line"><span class="lineno">  490</span>        tm.assert_index_equal(df.index.get_level_values(1), idx2)</div>
<div class="line"><span class="lineno">  491</span>        tm.assert_index_equal(df.index.get_level_values(2), idx3)</div>
<div class="line"><span class="lineno">  492</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a61b7395e40bf2d513094f2c295835dbf" name="a61b7395e40bf2d513094f2c295835dbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61b7395e40bf2d513094f2c295835dbf">&#9670;&#160;</a></span>test_set_index_drop_inplace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_drop_inplace </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_of_index_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inplace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keys</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  169</span>    <span class="keyword">def </span>test_set_index_drop_inplace(self, frame_of_index_cols, drop, inplace, keys):</div>
<div class="line"><span class="lineno">  170</span>        df = frame_of_index_cols</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>        <span class="keywordflow">if</span> isinstance(keys, list):</div>
<div class="line"><span class="lineno">  173</span>            idx = MultiIndex.from_arrays([df[x] <span class="keywordflow">for</span> x <span class="keywordflow">in</span> keys], names=keys)</div>
<div class="line"><span class="lineno">  174</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  175</span>            idx = Index(df[keys], name=keys)</div>
<div class="line"><span class="lineno">  176</span>        expected = df.drop(keys, axis=1) <span class="keywordflow">if</span> drop <span class="keywordflow">else</span> df</div>
<div class="line"><span class="lineno">  177</span>        expected.index = idx</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">if</span> inplace:</div>
<div class="line"><span class="lineno">  180</span>            result = df.copy()</div>
<div class="line"><span class="lineno">  181</span>            return_value = result.set_index(keys, drop=drop, inplace=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  182</span>            <span class="keyword">assert</span> return_value <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  183</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  184</span>            result = df.set_index(keys, drop=drop)</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  187</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c1a473f486427fc3d6202b00f7a3e85" name="a3c1a473f486427fc3d6202b00f7a3e85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c1a473f486427fc3d6202b00f7a3e85">&#9670;&#160;</a></span>test_set_index_dst()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_dst </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   99</span>    <span class="keyword">def </span>test_set_index_dst(self):</div>
<div class="line"><span class="lineno">  100</span>        di = date_range(<span class="stringliteral">&quot;2006-10-29 00:00:00&quot;</span>, periods=3, freq=<span class="stringliteral">&quot;H&quot;</span>, tz=<span class="stringliteral">&quot;US/Pacific&quot;</span>)</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>        df = DataFrame(data={<span class="stringliteral">&quot;a&quot;</span>: [0, 1, 2], <span class="stringliteral">&quot;b&quot;</span>: [3, 4, 5]}, index=di).reset_index()</div>
<div class="line"><span class="lineno">  103</span>        <span class="comment"># single level</span></div>
<div class="line"><span class="lineno">  104</span>        res = df.set_index(<span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno">  105</span>        exp = DataFrame(</div>
<div class="line"><span class="lineno">  106</span>            data={<span class="stringliteral">&quot;a&quot;</span>: [0, 1, 2], <span class="stringliteral">&quot;b&quot;</span>: [3, 4, 5]},</div>
<div class="line"><span class="lineno">  107</span>            index=Index(di, name=<span class="stringliteral">&quot;index&quot;</span>),</div>
<div class="line"><span class="lineno">  108</span>        )</div>
<div class="line"><span class="lineno">  109</span>        exp.index = exp.index._with_freq(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  110</span>        tm.assert_frame_equal(res, exp)</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>        <span class="comment"># GH#12920</span></div>
<div class="line"><span class="lineno">  113</span>        res = df.set_index([<span class="stringliteral">&quot;index&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>])</div>
<div class="line"><span class="lineno">  114</span>        exp_index = MultiIndex.from_arrays([di, [0, 1, 2]], names=[<span class="stringliteral">&quot;index&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>])</div>
<div class="line"><span class="lineno">  115</span>        exp = DataFrame({<span class="stringliteral">&quot;b&quot;</span>: [3, 4, 5]}, index=exp_index)</div>
<div class="line"><span class="lineno">  116</span>        tm.assert_frame_equal(res, exp)</div>
<div class="line"><span class="lineno">  117</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab171ff70821c4f399679f63bc9e93bcf" name="ab171ff70821c4f399679f63bc9e93bcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab171ff70821c4f399679f63bc9e93bcf">&#9670;&#160;</a></span>test_set_index_empty_column()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_empty_column </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   39</span>    <span class="keyword">def </span>test_set_index_empty_column(self):</div>
<div class="line"><span class="lineno">   40</span>        <span class="comment"># GH#1971</span></div>
<div class="line"><span class="lineno">   41</span>        df = DataFrame(</div>
<div class="line"><span class="lineno">   42</span>            [</div>
<div class="line"><span class="lineno">   43</span>                {<span class="stringliteral">&quot;a&quot;</span>: 1, <span class="stringliteral">&quot;p&quot;</span>: 0},</div>
<div class="line"><span class="lineno">   44</span>                {<span class="stringliteral">&quot;a&quot;</span>: 2, <span class="stringliteral">&quot;m&quot;</span>: 10},</div>
<div class="line"><span class="lineno">   45</span>                {<span class="stringliteral">&quot;a&quot;</span>: 3, <span class="stringliteral">&quot;m&quot;</span>: 11, <span class="stringliteral">&quot;p&quot;</span>: 20},</div>
<div class="line"><span class="lineno">   46</span>                {<span class="stringliteral">&quot;a&quot;</span>: 4, <span class="stringliteral">&quot;m&quot;</span>: 12, <span class="stringliteral">&quot;p&quot;</span>: 21},</div>
<div class="line"><span class="lineno">   47</span>            ],</div>
<div class="line"><span class="lineno">   48</span>            columns=[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;m&quot;</span>, <span class="stringliteral">&quot;p&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>],</div>
<div class="line"><span class="lineno">   49</span>        )</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>        result = df.set_index([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>])</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>        expected = df[[<span class="stringliteral">&quot;m&quot;</span>, <span class="stringliteral">&quot;p&quot;</span>]]</div>
<div class="line"><span class="lineno">   54</span>        expected.index = MultiIndex.from_arrays([df[<span class="stringliteral">&quot;a&quot;</span>], df[<span class="stringliteral">&quot;x&quot;</span>]], names=[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>])</div>
<div class="line"><span class="lineno">   55</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">   56</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaef112accc0bb9f7323692d3f7299a5f" name="aaef112accc0bb9f7323692d3f7299a5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaef112accc0bb9f7323692d3f7299a5f">&#9670;&#160;</a></span>test_set_index_empty_dataframe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_empty_dataframe </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   57</span>    <span class="keyword">def </span>test_set_index_empty_dataframe(self):</div>
<div class="line"><span class="lineno">   58</span>        <span class="comment"># GH#38419</span></div>
<div class="line"><span class="lineno">   59</span>        df1 = DataFrame(</div>
<div class="line"><span class="lineno">   60</span>            {<span class="stringliteral">&quot;a&quot;</span>: Series(dtype=<span class="stringliteral">&quot;datetime64[ns]&quot;</span>), <span class="stringliteral">&quot;b&quot;</span>: Series(dtype=<span class="stringliteral">&quot;int64&quot;</span>), <span class="stringliteral">&quot;c&quot;</span>: []}</div>
<div class="line"><span class="lineno">   61</span>        )</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>        df2 = df1.set_index([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>])</div>
<div class="line"><span class="lineno">   64</span>        result = df2.index.to_frame().dtypes</div>
<div class="line"><span class="lineno">   65</span>        expected = df1[[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>]].dtypes</div>
<div class="line"><span class="lineno">   66</span>        tm.assert_series_equal(result, expected)</div>
<div class="line"><span class="lineno">   67</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a106bd1220527bb2cf9853d954efb7f7e" name="a106bd1220527bb2cf9853d954efb7f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a106bd1220527bb2cf9853d954efb7f7e">&#9670;&#160;</a></span>test_set_index_multiindex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_multiindex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   28</span>    <span class="keyword">def </span>test_set_index_multiindex(self):</div>
<div class="line"><span class="lineno">   29</span>        <span class="comment"># segfault in GH#3308</span></div>
<div class="line"><span class="lineno">   30</span>        d = {<span class="stringliteral">&quot;t1&quot;</span>: [2, 2.5, 3], <span class="stringliteral">&quot;t2&quot;</span>: [4, 5, 6]}</div>
<div class="line"><span class="lineno">   31</span>        df = DataFrame(d)</div>
<div class="line"><span class="lineno">   32</span>        tuples = [(0, 1), (0, 2), (1, 2)]</div>
<div class="line"><span class="lineno">   33</span>        df[<span class="stringliteral">&quot;tuples&quot;</span>] = tuples</div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>        index = MultiIndex.from_tuples(df[<span class="stringliteral">&quot;tuples&quot;</span>])</div>
<div class="line"><span class="lineno">   36</span>        <span class="comment"># it works!</span></div>
<div class="line"><span class="lineno">   37</span>        df.set_index(index)</div>
<div class="line"><span class="lineno">   38</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae62fb28b60911dcc0c7bb2a17e681662" name="ae62fb28b60911dcc0c7bb2a17e681662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae62fb28b60911dcc0c7bb2a17e681662">&#9670;&#160;</a></span>test_set_index_multiindexcolumns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_multiindexcolumns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   68</span>    <span class="keyword">def </span>test_set_index_multiindexcolumns(self):</div>
<div class="line"><span class="lineno">   69</span>        columns = MultiIndex.from_tuples([(<span class="stringliteral">&quot;foo&quot;</span>, 1), (<span class="stringliteral">&quot;foo&quot;</span>, 2), (<span class="stringliteral">&quot;bar&quot;</span>, 1)])</div>
<div class="line"><span class="lineno">   70</span>        df = DataFrame(np.random.randn(3, 3), columns=columns)</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>        result = df.set_index(df.columns[0])</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>        expected = df.iloc[:, 1:]</div>
<div class="line"><span class="lineno">   75</span>        expected.index = df.iloc[:, 0].values</div>
<div class="line"><span class="lineno">   76</span>        expected.index.names = [df.columns[0]]</div>
<div class="line"><span class="lineno">   77</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">   78</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a35e645d8f017828005b610350131d732" name="a35e645d8f017828005b610350131d732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e645d8f017828005b610350131d732">&#9670;&#160;</a></span>test_set_index_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_names </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  127</span>    <span class="keyword">def </span>test_set_index_names(self):</div>
<div class="line"><span class="lineno">  128</span>        df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno">  129</span>        df.index.name = <span class="stringliteral">&quot;name&quot;</span></div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>        <span class="keyword">assert</span> df.set_index(df.index).index.names == [<span class="stringliteral">&quot;name&quot;</span>]</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>        mi = MultiIndex.from_arrays(df[[<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>]].T.values, names=[<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>])</div>
<div class="line"><span class="lineno">  134</span>        mi2 = MultiIndex.from_arrays(</div>
<div class="line"><span class="lineno">  135</span>            df[[<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>, <span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>]].T.values, names=[<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>, <span class="stringliteral">&quot;C&quot;</span>, <span class="stringliteral">&quot;D&quot;</span>]</div>
<div class="line"><span class="lineno">  136</span>        )</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>        df = df.set_index([<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>])</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>        <span class="keyword">assert</span> df.set_index(df.index).index.names == [<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>]</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>        <span class="comment"># Check that set_index isn&#39;t converting a MultiIndex into an Index</span></div>
<div class="line"><span class="lineno">  143</span>        <span class="keyword">assert</span> isinstance(df.set_index(df.index).index, MultiIndex)</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>        <span class="comment"># Check actual equality</span></div>
<div class="line"><span class="lineno">  146</span>        tm.assert_index_equal(df.set_index(df.index).index, mi)</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>        idx2 = df.index.rename([<span class="stringliteral">&quot;C&quot;</span>, <span class="stringliteral">&quot;D&quot;</span>])</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>        <span class="comment"># Check that [MultiIndex, MultiIndex] yields a MultiIndex rather</span></div>
<div class="line"><span class="lineno">  151</span>        <span class="comment"># than a pair of tuples</span></div>
<div class="line"><span class="lineno">  152</span>        <span class="keyword">assert</span> isinstance(df.set_index([df.index, idx2]).index, MultiIndex)</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>        <span class="comment"># Check equality</span></div>
<div class="line"><span class="lineno">  155</span>        tm.assert_index_equal(df.set_index([df.index, idx2]).index, mi2)</div>
<div class="line"><span class="lineno">  156</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a229f6d03be088ca19c801cfe72fe2ee8" name="a229f6d03be088ca19c801cfe72fe2ee8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a229f6d03be088ca19c801cfe72fe2ee8">&#9670;&#160;</a></span>test_set_index_pass_arrays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_pass_arrays </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_of_index_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>append</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  284</span>    ):</div>
<div class="line"><span class="lineno">  285</span>        df = frame_of_index_cols</div>
<div class="line"><span class="lineno">  286</span>        df.index.name = index_name</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>        keys = [<span class="stringliteral">&quot;A&quot;</span>, box(df[<span class="stringliteral">&quot;B&quot;</span>])]</div>
<div class="line"><span class="lineno">  289</span>        <span class="comment"># np.array/list &quot;forget&quot; the name of B</span></div>
<div class="line"><span class="lineno">  290</span>        names = [<span class="stringliteral">&quot;A&quot;</span>, <span class="keywordtype">None</span> <span class="keywordflow">if</span> box <span class="keywordflow">in</span> [np.array, list, tuple, iter] <span class="keywordflow">else</span> <span class="stringliteral">&quot;B&quot;</span>]</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>        result = df.set_index(keys, drop=drop, append=append)</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>        <span class="comment"># only valid column keys are dropped</span></div>
<div class="line"><span class="lineno">  295</span>        <span class="comment"># since B is always passed as array above, only A is dropped, if at all</span></div>
<div class="line"><span class="lineno">  296</span>        expected = df.set_index([<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>], drop=<span class="keyword">False</span>, append=append)</div>
<div class="line"><span class="lineno">  297</span>        expected = expected.drop(<span class="stringliteral">&quot;A&quot;</span>, axis=1) <span class="keywordflow">if</span> drop <span class="keywordflow">else</span> expected</div>
<div class="line"><span class="lineno">  298</span>        expected.index.names = [index_name] + names <span class="keywordflow">if</span> append <span class="keywordflow">else</span> names</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  301</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a177d6d1a0c9f8d2db4e9385db03b5cea" name="a177d6d1a0c9f8d2db4e9385db03b5cea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a177d6d1a0c9f8d2db4e9385db03b5cea">&#9670;&#160;</a></span>test_set_index_pass_arrays_duplicate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_pass_arrays_duplicate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_of_index_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>append</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  335</span>    ):</div>
<div class="line"><span class="lineno">  336</span>        df = frame_of_index_cols</div>
<div class="line"><span class="lineno">  337</span>        df.index.name = index_name</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span>        keys = [box1(df[<span class="stringliteral">&quot;A&quot;</span>]), box2(df[<span class="stringliteral">&quot;A&quot;</span>])]</div>
<div class="line"><span class="lineno">  340</span>        result = df.set_index(keys, drop=drop, append=append)</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>        <span class="comment"># if either box is iter, it has been consumed; re-read</span></div>
<div class="line"><span class="lineno">  343</span>        keys = [box1(df[<span class="stringliteral">&quot;A&quot;</span>]), box2(df[<span class="stringliteral">&quot;A&quot;</span>])]</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>        <span class="comment"># need to adapt first drop for case that both keys are &#39;A&#39; --</span></div>
<div class="line"><span class="lineno">  346</span>        <span class="comment"># cannot drop the same column twice;</span></div>
<div class="line"><span class="lineno">  347</span>        <span class="comment"># plain == would give ambiguous Boolean error for containers</span></div>
<div class="line"><span class="lineno">  348</span>        first_drop = (</div>
<div class="line"><span class="lineno">  349</span>            <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  350</span>            <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  351</span>                isinstance(keys[0], str)</div>
<div class="line"><span class="lineno">  352</span>                <span class="keywordflow">and</span> keys[0] == <span class="stringliteral">&quot;A&quot;</span></div>
<div class="line"><span class="lineno">  353</span>                <span class="keywordflow">and</span> isinstance(keys[1], str)</div>
<div class="line"><span class="lineno">  354</span>                <span class="keywordflow">and</span> keys[1] == <span class="stringliteral">&quot;A&quot;</span></div>
<div class="line"><span class="lineno">  355</span>            )</div>
<div class="line"><span class="lineno">  356</span>            <span class="keywordflow">else</span> drop</div>
<div class="line"><span class="lineno">  357</span>        )</div>
<div class="line"><span class="lineno">  358</span>        <span class="comment"># to test against already-tested behaviour, we add sequentially,</span></div>
<div class="line"><span class="lineno">  359</span>        <span class="comment"># hence second append always True; must wrap keys in list, otherwise</span></div>
<div class="line"><span class="lineno">  360</span>        <span class="comment"># box = list would be interpreted as keys</span></div>
<div class="line"><span class="lineno">  361</span>        expected = df.set_index([keys[0]], drop=first_drop, append=append)</div>
<div class="line"><span class="lineno">  362</span>        expected = expected.set_index([keys[1]], drop=drop, append=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  363</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  364</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c16987d0fb15db831d1e17241622668" name="a7c16987d0fb15db831d1e17241622668"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c16987d0fb15db831d1e17241622668">&#9670;&#160;</a></span>test_set_index_pass_multiindex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_pass_multiindex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_of_index_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>append</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  367</span>    <span class="keyword">def </span>test_set_index_pass_multiindex(self, frame_of_index_cols, drop, append):</div>
<div class="line"><span class="lineno">  368</span>        df = frame_of_index_cols</div>
<div class="line"><span class="lineno">  369</span>        keys = MultiIndex.from_arrays([df[<span class="stringliteral">&quot;A&quot;</span>], df[<span class="stringliteral">&quot;B&quot;</span>]], names=[<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>])</div>
<div class="line"><span class="lineno">  370</span> </div>
<div class="line"><span class="lineno">  371</span>        result = df.set_index(keys, drop=drop, append=append)</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>        <span class="comment"># setting with a MultiIndex will never drop columns</span></div>
<div class="line"><span class="lineno">  374</span>        expected = df.set_index([<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>], drop=<span class="keyword">False</span>, append=append)</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  377</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3648dd50e3a0acd03699cd25a21b26c2" name="a3648dd50e3a0acd03699cd25a21b26c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3648dd50e3a0acd03699cd25a21b26c2">&#9670;&#160;</a></span>test_set_index_pass_single_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_pass_single_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_of_index_cols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>drop</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>append</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  248</span>    ):</div>
<div class="line"><span class="lineno">  249</span>        df = frame_of_index_cols</div>
<div class="line"><span class="lineno">  250</span>        df.index.name = index_name</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>        key = box(df[<span class="stringliteral">&quot;B&quot;</span>])</div>
<div class="line"><span class="lineno">  253</span>        <span class="keywordflow">if</span> box == list:</div>
<div class="line"><span class="lineno">  254</span>            <span class="comment"># list of strings gets interpreted as list of keys</span></div>
<div class="line"><span class="lineno">  255</span>            msg = <span class="stringliteral">&quot;[&#39;one&#39;, &#39;two&#39;, &#39;three&#39;, &#39;one&#39;, &#39;two&#39;]&quot;</span></div>
<div class="line"><span class="lineno">  256</span>            <span class="keyword">with</span> pytest.raises(KeyError, match=msg):</div>
<div class="line"><span class="lineno">  257</span>                df.set_index(key, drop=drop, append=append)</div>
<div class="line"><span class="lineno">  258</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  259</span>            <span class="comment"># np.array/list-of-list &quot;forget&quot; the name of B</span></div>
<div class="line"><span class="lineno">  260</span>            name_mi = getattr(key, <span class="stringliteral">&quot;names&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  261</span>            name = [getattr(key, <span class="stringliteral">&quot;name&quot;</span>, <span class="keywordtype">None</span>)] <span class="keywordflow">if</span> name_mi <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> name_mi</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>            result = df.set_index(key, drop=drop, append=append)</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>            <span class="comment"># only valid column keys are dropped</span></div>
<div class="line"><span class="lineno">  266</span>            <span class="comment"># since B is always passed as array above, nothing is dropped</span></div>
<div class="line"><span class="lineno">  267</span>            expected = df.set_index([<span class="stringliteral">&quot;B&quot;</span>], drop=<span class="keyword">False</span>, append=append)</div>
<div class="line"><span class="lineno">  268</span>            expected.index.names = [index_name] + name <span class="keywordflow">if</span> append <span class="keywordflow">else</span> name</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>            tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  271</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1494fbb551aa5614a940cffc8e9bb671" name="a1494fbb551aa5614a940cffc8e9bb671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1494fbb551aa5614a940cffc8e9bb671">&#9670;&#160;</a></span>test_set_index_period()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_period </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  493</span>    <span class="keyword">def </span>test_set_index_period(self):</div>
<div class="line"><span class="lineno">  494</span>        <span class="comment"># GH#6631</span></div>
<div class="line"><span class="lineno">  495</span>        df = DataFrame(np.random.random(6))</div>
<div class="line"><span class="lineno">  496</span>        idx1 = period_range(<span class="stringliteral">&quot;2011-01-01&quot;</span>, periods=3, freq=<span class="stringliteral">&quot;M&quot;</span>)</div>
<div class="line"><span class="lineno">  497</span>        idx1 = idx1.append(idx1)</div>
<div class="line"><span class="lineno">  498</span>        idx2 = period_range(<span class="stringliteral">&quot;2013-01-01 09:00&quot;</span>, periods=2, freq=<span class="stringliteral">&quot;H&quot;</span>)</div>
<div class="line"><span class="lineno">  499</span>        idx2 = idx2.append(idx2).append(idx2)</div>
<div class="line"><span class="lineno">  500</span>        idx3 = period_range(<span class="stringliteral">&quot;2005&quot;</span>, periods=6, freq=<span class="stringliteral">&quot;A&quot;</span>)</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>        df = df.set_index(idx1)</div>
<div class="line"><span class="lineno">  503</span>        df = df.set_index(idx2, append=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  504</span>        df = df.set_index(idx3, append=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>        expected1 = period_range(<span class="stringliteral">&quot;2011-01-01&quot;</span>, periods=3, freq=<span class="stringliteral">&quot;M&quot;</span>)</div>
<div class="line"><span class="lineno">  507</span>        expected2 = period_range(<span class="stringliteral">&quot;2013-01-01 09:00&quot;</span>, periods=2, freq=<span class="stringliteral">&quot;H&quot;</span>)</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>        tm.assert_index_equal(df.index.levels[0], expected1)</div>
<div class="line"><span class="lineno">  510</span>        tm.assert_index_equal(df.index.levels[1], expected2)</div>
<div class="line"><span class="lineno">  511</span>        tm.assert_index_equal(df.index.levels[2], idx3)</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>        tm.assert_index_equal(df.index.get_level_values(0), idx1)</div>
<div class="line"><span class="lineno">  514</span>        tm.assert_index_equal(df.index.get_level_values(1), idx2)</div>
<div class="line"><span class="lineno">  515</span>        tm.assert_index_equal(df.index.get_level_values(2), idx3)</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7cfd14c1b4ac3b5131906f0755f0d860" name="a7cfd14c1b4ac3b5131906f0755f0d860"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cfd14c1b4ac3b5131906f0755f0d860">&#9670;&#160;</a></span>test_set_index_preserve_categorical_dtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_preserve_categorical_dtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  396</span>    <span class="keyword">def </span>test_set_index_preserve_categorical_dtype(self):</div>
<div class="line"><span class="lineno">  397</span>        <span class="comment"># GH#13743, GH#13854</span></div>
<div class="line"><span class="lineno">  398</span>        df = DataFrame(</div>
<div class="line"><span class="lineno">  399</span>            {</div>
<div class="line"><span class="lineno">  400</span>                <span class="stringliteral">&quot;A&quot;</span>: [1, 2, 1, 1, 2],</div>
<div class="line"><span class="lineno">  401</span>                <span class="stringliteral">&quot;B&quot;</span>: [10, 16, 22, 28, 34],</div>
<div class="line"><span class="lineno">  402</span>                <span class="stringliteral">&quot;C1&quot;</span>: Categorical(list(<span class="stringliteral">&quot;abaab&quot;</span>), categories=list(<span class="stringliteral">&quot;bac&quot;</span>), ordered=<span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">  403</span>                <span class="stringliteral">&quot;C2&quot;</span>: Categorical(list(<span class="stringliteral">&quot;abaab&quot;</span>), categories=list(<span class="stringliteral">&quot;bac&quot;</span>), ordered=<span class="keyword">True</span>),</div>
<div class="line"><span class="lineno">  404</span>            }</div>
<div class="line"><span class="lineno">  405</span>        )</div>
<div class="line"><span class="lineno">  406</span>        <span class="keywordflow">for</span> cols <span class="keywordflow">in</span> [<span class="stringliteral">&quot;C1&quot;</span>, <span class="stringliteral">&quot;C2&quot;</span>, [<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;C1&quot;</span>], [<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;C2&quot;</span>], [<span class="stringliteral">&quot;C1&quot;</span>, <span class="stringliteral">&quot;C2&quot;</span>]]:</div>
<div class="line"><span class="lineno">  407</span>            result = df.set_index(cols).reset_index()</div>
<div class="line"><span class="lineno">  408</span>            result = result.reindex(columns=df.columns)</div>
<div class="line"><span class="lineno">  409</span>            tm.assert_frame_equal(result, df)</div>
<div class="line"><span class="lineno">  410</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a17c26a95344a0bf72ccb629653e4d654" name="a17c26a95344a0bf72ccb629653e4d654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17c26a95344a0bf72ccb629653e4d654">&#9670;&#160;</a></span>test_set_index_timezone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.frame.methods.test_set_index.TestSetIndex.test_set_index_timezone </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   79</span>    <span class="keyword">def </span>test_set_index_timezone(self):</div>
<div class="line"><span class="lineno">   80</span>        <span class="comment"># GH#12358</span></div>
<div class="line"><span class="lineno">   81</span>        <span class="comment"># tz-aware Series should retain the tz</span></div>
<div class="line"><span class="lineno">   82</span>        idx = DatetimeIndex([<span class="stringliteral">&quot;2014-01-01 10:10:10&quot;</span>], tz=<span class="stringliteral">&quot;UTC&quot;</span>).tz_convert(<span class="stringliteral">&quot;Europe/Rome&quot;</span>)</div>
<div class="line"><span class="lineno">   83</span>        df = DataFrame({<span class="stringliteral">&quot;A&quot;</span>: idx})</div>
<div class="line"><span class="lineno">   84</span>        <span class="keyword">assert</span> df.set_index(idx).index[0].hour == 11</div>
<div class="line"><span class="lineno">   85</span>        <span class="keyword">assert</span> DatetimeIndex(Series(df.A))[0].hour == 11</div>
<div class="line"><span class="lineno">   86</span>        <span class="keyword">assert</span> df.set_index(df.A).index[0].hour == 11</div>
<div class="line"><span class="lineno">   87</span> </div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/pandas/tests/frame/methods/<a class="el" href="test__set__index_8py.html">test_set_index.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
