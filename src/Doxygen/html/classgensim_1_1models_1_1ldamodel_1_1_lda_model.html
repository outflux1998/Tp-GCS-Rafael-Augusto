<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.models.ldamodel.LdaModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models.html">models</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models_1_1ldamodel.html">ldamodel</a></li><li class="navelem"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html">LdaModel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classgensim_1_1models_1_1ldamodel_1_1_lda_model-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gensim.models.ldamodel.LdaModel Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for gensim.models.ldamodel.LdaModel:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgensim_1_1models_1_1ldamodel_1_1_lda_model.png" usemap="#gensim.models.ldamodel.LdaModel_map" alt=""/>
  <map id="gensim.models.ldamodel.LdaModel_map" name="gensim.models.ldamodel.LdaModel_map">
<area href="classgensim_1_1interfaces_1_1_transformation_a_b_c.html" alt="gensim.interfaces.TransformationABC" shape="rect" coords="0,112,256,136"/>
<area href="classgensim_1_1models_1_1basemodel_1_1_base_topic_model.html" alt="gensim.models.basemodel.BaseTopicModel" shape="rect" coords="266,112,522,136"/>
<area href="classgensim_1_1utils_1_1_save_load.html" alt="gensim.utils.SaveLoad" shape="rect" coords="0,56,256,80"/>
<area href="classgensim_1_1models_1_1atmodel_1_1_author_topic_model.html" alt="gensim.models.atmodel.AuthorTopicModel" shape="rect" coords="0,224,256,248"/>
<area href="classgensim_1_1models_1_1ldamulticore_1_1_lda_multicore.html" alt="gensim.models.ldamulticore.LdaMulticore" shape="rect" coords="266,224,522,248"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3084056917d2ebc2bef9a19fe5c5d2f8" id="r_a3084056917d2ebc2bef9a19fe5c5d2f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a3084056917d2ebc2bef9a19fe5c5d2f8">__init__</a> (self, corpus=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a05efdd512a2be436ed5196c0cfa56ad5">num_topics</a>=100, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#af8778f4d997b0842be0242ea6a02aecb">id2word</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a7bd7005c29e41a40eef699860f165c96">distributed</a>=False, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#aedc8fddb01cce509697df294109a3f9f">chunksize</a>=2000, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a89d050bf0d0b6c99a62310448e980c39">passes</a>=1, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#affafd76308ced3446bcac82ded9f4a4a">update_every</a>=1, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#adb0b8f26b159cf8d5617ca9d574f27a8">alpha</a>='symmetric', <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a49d89e536f3fed92d885ed615bd50e63">eta</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#aae061f0de1f1eef2236874cbf3a88c72">decay</a>=0.5, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a3863b03fcb8b88b4d269cc34de14d163">offset</a>=1.0, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ac16f3197419566047a2bb268a3a626db">eval_every</a>=10, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a33401f17747f4ec5f5656230566a10f9">iterations</a>=50, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a0326fe4cce3bea84fc565a36e4266f05">gamma_threshold</a>=0.001, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a742eead984d3261d2c5ce444b6e1ed71">minimum_probability</a>=0.01, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a1c6eb264a5a0d4f5782878d88fffa91f">random_state</a>=None, ns_conf=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a3154fe7fb2729847fd8992ecd1e177d3">minimum_phi_value</a>=0.01, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ababfcf7931d6cd0381cb0d759f8a74c9">per_word_topics</a>=False, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a8c7ce8d08b34835e01a8f7ab9d3d8662">callbacks</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a3cf8b022d2c0487d1a10bb5ec1337f07">dtype</a>=np.float32)</td></tr>
<tr class="separator:a3084056917d2ebc2bef9a19fe5c5d2f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cbd4ef15d6f0433740d10b81bfb57ce" id="r_a2cbd4ef15d6f0433740d10b81bfb57ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a2cbd4ef15d6f0433740d10b81bfb57ce">init_dir_prior</a> (self, prior, name)</td></tr>
<tr class="separator:a2cbd4ef15d6f0433740d10b81bfb57ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf21bf79906a73bc4aee4a7d10259408" id="r_aaf21bf79906a73bc4aee4a7d10259408"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#aaf21bf79906a73bc4aee4a7d10259408">__str__</a> (self)</td></tr>
<tr class="separator:aaf21bf79906a73bc4aee4a7d10259408"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e7478769fad59baa345252ca30ea512" id="r_a7e7478769fad59baa345252ca30ea512"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a7e7478769fad59baa345252ca30ea512">sync_state</a> (self, current_Elogbeta=None)</td></tr>
<tr class="separator:a7e7478769fad59baa345252ca30ea512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a443a32549e184ee051e5d0c8bf15a453" id="r_a443a32549e184ee051e5d0c8bf15a453"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a443a32549e184ee051e5d0c8bf15a453">clear</a> (self)</td></tr>
<tr class="separator:a443a32549e184ee051e5d0c8bf15a453"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d678ae8bc969fa19e25c93b5d0a4e4a" id="r_a6d678ae8bc969fa19e25c93b5d0a4e4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a6d678ae8bc969fa19e25c93b5d0a4e4a">inference</a> (self, chunk, collect_sstats=False)</td></tr>
<tr class="separator:a6d678ae8bc969fa19e25c93b5d0a4e4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976af0506468efb7312ea182ef38cb0b" id="r_a976af0506468efb7312ea182ef38cb0b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a976af0506468efb7312ea182ef38cb0b">do_estep</a> (self, chunk, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a6c4a14825f0b4c643fb361ecbb3b08cc">state</a>=None)</td></tr>
<tr class="separator:a976af0506468efb7312ea182ef38cb0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad8aec91902bce435bb9bd5d206ffd27" id="r_aad8aec91902bce435bb9bd5d206ffd27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#aad8aec91902bce435bb9bd5d206ffd27">update_alpha</a> (self, gammat, <a class="el" href="__lapack__subroutines_8h.html#a9bb256f5d273cef048eb659e4ee52fe2">rho</a>)</td></tr>
<tr class="separator:aad8aec91902bce435bb9bd5d206ffd27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb99b265d6442b5e93b687c0ef3e5d2c" id="r_acb99b265d6442b5e93b687c0ef3e5d2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#acb99b265d6442b5e93b687c0ef3e5d2c">update_eta</a> (self, lambdat, <a class="el" href="__lapack__subroutines_8h.html#a9bb256f5d273cef048eb659e4ee52fe2">rho</a>)</td></tr>
<tr class="separator:acb99b265d6442b5e93b687c0ef3e5d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0ae0ee089be0a925bf33841d4e9d650" id="r_ac0ae0ee089be0a925bf33841d4e9d650"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ac0ae0ee089be0a925bf33841d4e9d650">log_perplexity</a> (self, chunk, total_docs=None)</td></tr>
<tr class="separator:ac0ae0ee089be0a925bf33841d4e9d650"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ed5b650e3aa623d9bbabd1d3f0f708a" id="r_a5ed5b650e3aa623d9bbabd1d3f0f708a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a5ed5b650e3aa623d9bbabd1d3f0f708a">update</a> (self, corpus, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#aedc8fddb01cce509697df294109a3f9f">chunksize</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#aae061f0de1f1eef2236874cbf3a88c72">decay</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a3863b03fcb8b88b4d269cc34de14d163">offset</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a89d050bf0d0b6c99a62310448e980c39">passes</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#affafd76308ced3446bcac82ded9f4a4a">update_every</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ac16f3197419566047a2bb268a3a626db">eval_every</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a33401f17747f4ec5f5656230566a10f9">iterations</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a0326fe4cce3bea84fc565a36e4266f05">gamma_threshold</a>=None, chunks_as_numpy=False)</td></tr>
<tr class="separator:a5ed5b650e3aa623d9bbabd1d3f0f708a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff8c31b5cfbc8efa2d9a3a174e5cdd2" id="r_abff8c31b5cfbc8efa2d9a3a174e5cdd2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#abff8c31b5cfbc8efa2d9a3a174e5cdd2">do_mstep</a> (self, <a class="el" href="__lapack__subroutines_8h.html#a9bb256f5d273cef048eb659e4ee52fe2">rho</a>, other, extra_pass=False)</td></tr>
<tr class="separator:abff8c31b5cfbc8efa2d9a3a174e5cdd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ca00d403dcae7877c27c6d830216d8" id="r_a45ca00d403dcae7877c27c6d830216d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a45ca00d403dcae7877c27c6d830216d8">bound</a> (self, corpus, gamma=None, subsample_ratio=1.0)</td></tr>
<tr class="separator:a45ca00d403dcae7877c27c6d830216d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3105d06ba0eaae275708400a942b1d46" id="r_a3105d06ba0eaae275708400a942b1d46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a3105d06ba0eaae275708400a942b1d46">show_topics</a> (self, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a05efdd512a2be436ed5196c0cfa56ad5">num_topics</a>=10, num_words=10, log=False, formatted=True)</td></tr>
<tr class="separator:a3105d06ba0eaae275708400a942b1d46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7c4cb1c7a7493ad6361235ba7ef73ba" id="r_ab7c4cb1c7a7493ad6361235ba7ef73ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ab7c4cb1c7a7493ad6361235ba7ef73ba">show_topic</a> (self, topicid, topn=10)</td></tr>
<tr class="separator:ab7c4cb1c7a7493ad6361235ba7ef73ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a851c05d7748018487462a8231f784761" id="r_a851c05d7748018487462a8231f784761"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a851c05d7748018487462a8231f784761">get_topics</a> (self)</td></tr>
<tr class="separator:a851c05d7748018487462a8231f784761"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade59261f7221558cd84f0fccd4aa30c7" id="r_ade59261f7221558cd84f0fccd4aa30c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ade59261f7221558cd84f0fccd4aa30c7">get_topic_terms</a> (self, topicid, topn=10)</td></tr>
<tr class="separator:ade59261f7221558cd84f0fccd4aa30c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0b41b0a07b6bbd7a5a1d6ac3ccebfb5" id="r_ab0b41b0a07b6bbd7a5a1d6ac3ccebfb5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ab0b41b0a07b6bbd7a5a1d6ac3ccebfb5">top_topics</a> (self, corpus=None, texts=None, dictionary=None, window_size=None, coherence='u_mass', topn=20, processes=-1)</td></tr>
<tr class="separator:ab0b41b0a07b6bbd7a5a1d6ac3ccebfb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292a1258f4cec1d9fa154626cd01150b" id="r_a292a1258f4cec1d9fa154626cd01150b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a292a1258f4cec1d9fa154626cd01150b">get_document_topics</a> (self, bow, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a742eead984d3261d2c5ce444b6e1ed71">minimum_probability</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a3154fe7fb2729847fd8992ecd1e177d3">minimum_phi_value</a>=None, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ababfcf7931d6cd0381cb0d759f8a74c9">per_word_topics</a>=False)</td></tr>
<tr class="separator:a292a1258f4cec1d9fa154626cd01150b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac782912895700bff863d433ad4b793ae" id="r_ac782912895700bff863d433ad4b793ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ac782912895700bff863d433ad4b793ae">get_term_topics</a> (self, word_id, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a742eead984d3261d2c5ce444b6e1ed71">minimum_probability</a>=None)</td></tr>
<tr class="separator:ac782912895700bff863d433ad4b793ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae3ed963490e75e737adaa2b4c187096" id="r_aae3ed963490e75e737adaa2b4c187096"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#aae3ed963490e75e737adaa2b4c187096">diff</a> (self, other, distance=&quot;kullback_leibler&quot;, num_words=100, n_ann_terms=10, diagonal=False, annotation=True, normed=True)</td></tr>
<tr class="separator:aae3ed963490e75e737adaa2b4c187096"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab093100f5f1a440bdca940d05c69981e" id="r_ab093100f5f1a440bdca940d05c69981e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ab093100f5f1a440bdca940d05c69981e">__getitem__</a> (self, bow, <a class="el" href="__lapack__subroutines_8h.html#a57833d05f43fd1408080af6eec88fc43">eps</a>=None)</td></tr>
<tr class="separator:ab093100f5f1a440bdca940d05c69981e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4afe326af84974dede9ed3bc99e5c44e" id="r_a4afe326af84974dede9ed3bc99e5c44e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a4afe326af84974dede9ed3bc99e5c44e">save</a> (self, fname, ignore=('<a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a6c4a14825f0b4c643fb361ecbb3b08cc">state</a>', '<a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ad55b7079099988743beb8a10c7f164e4">dispatcher</a>'), separately=None, *args, **kwargs)</td></tr>
<tr class="separator:a4afe326af84974dede9ed3bc99e5c44e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb2c0102d7d08304beab89f72406109c" id="r_aeb2c0102d7d08304beab89f72406109c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#aeb2c0102d7d08304beab89f72406109c">load</a> (cls, fname, *args, **kwargs)</td></tr>
<tr class="separator:aeb2c0102d7d08304beab89f72406109c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgensim_1_1models_1_1basemodel_1_1_base_topic_model.html">gensim.models.basemodel.BaseTopicModel</a></td></tr>
<tr class="memitem:a71d947d24825c0d71b475f239974f19c inherit pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model" id="r_a71d947d24825c0d71b475f239974f19c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1basemodel_1_1_base_topic_model.html#a71d947d24825c0d71b475f239974f19c">print_topic</a> (self, topicno, topn=10)</td></tr>
<tr class="separator:a71d947d24825c0d71b475f239974f19c inherit pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88657c69ea5499f3d32466ca9321ca6f inherit pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model" id="r_a88657c69ea5499f3d32466ca9321ca6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1basemodel_1_1_base_topic_model.html#a88657c69ea5499f3d32466ca9321ca6f">print_topics</a> (self, num_topics=20, num_words=10)</td></tr>
<tr class="separator:a88657c69ea5499f3d32466ca9321ca6f inherit pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a3cf8b022d2c0487d1a10bb5ec1337f07" id="r_a3cf8b022d2c0487d1a10bb5ec1337f07"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a3cf8b022d2c0487d1a10bb5ec1337f07">dtype</a></td></tr>
<tr class="separator:a3cf8b022d2c0487d1a10bb5ec1337f07"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8778f4d997b0842be0242ea6a02aecb" id="r_af8778f4d997b0842be0242ea6a02aecb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#af8778f4d997b0842be0242ea6a02aecb">id2word</a></td></tr>
<tr class="separator:af8778f4d997b0842be0242ea6a02aecb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29bc7570913961cbb36d8b8680cfbe4f" id="r_a29bc7570913961cbb36d8b8680cfbe4f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a29bc7570913961cbb36d8b8680cfbe4f">num_terms</a></td></tr>
<tr class="separator:a29bc7570913961cbb36d8b8680cfbe4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7bd7005c29e41a40eef699860f165c96" id="r_a7bd7005c29e41a40eef699860f165c96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a7bd7005c29e41a40eef699860f165c96">distributed</a></td></tr>
<tr class="separator:a7bd7005c29e41a40eef699860f165c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05efdd512a2be436ed5196c0cfa56ad5" id="r_a05efdd512a2be436ed5196c0cfa56ad5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a05efdd512a2be436ed5196c0cfa56ad5">num_topics</a></td></tr>
<tr class="separator:a05efdd512a2be436ed5196c0cfa56ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedc8fddb01cce509697df294109a3f9f" id="r_aedc8fddb01cce509697df294109a3f9f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#aedc8fddb01cce509697df294109a3f9f">chunksize</a></td></tr>
<tr class="separator:aedc8fddb01cce509697df294109a3f9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae061f0de1f1eef2236874cbf3a88c72" id="r_aae061f0de1f1eef2236874cbf3a88c72"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#aae061f0de1f1eef2236874cbf3a88c72">decay</a></td></tr>
<tr class="separator:aae061f0de1f1eef2236874cbf3a88c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3863b03fcb8b88b4d269cc34de14d163" id="r_a3863b03fcb8b88b4d269cc34de14d163"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a3863b03fcb8b88b4d269cc34de14d163">offset</a></td></tr>
<tr class="separator:a3863b03fcb8b88b4d269cc34de14d163"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a742eead984d3261d2c5ce444b6e1ed71" id="r_a742eead984d3261d2c5ce444b6e1ed71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a742eead984d3261d2c5ce444b6e1ed71">minimum_probability</a></td></tr>
<tr class="separator:a742eead984d3261d2c5ce444b6e1ed71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34a059da51c1a1ea5e4fc8a24da8b6a0" id="r_a34a059da51c1a1ea5e4fc8a24da8b6a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a34a059da51c1a1ea5e4fc8a24da8b6a0">num_updates</a></td></tr>
<tr class="separator:a34a059da51c1a1ea5e4fc8a24da8b6a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89d050bf0d0b6c99a62310448e980c39" id="r_a89d050bf0d0b6c99a62310448e980c39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a89d050bf0d0b6c99a62310448e980c39">passes</a></td></tr>
<tr class="separator:a89d050bf0d0b6c99a62310448e980c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affafd76308ced3446bcac82ded9f4a4a" id="r_affafd76308ced3446bcac82ded9f4a4a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#affafd76308ced3446bcac82ded9f4a4a">update_every</a></td></tr>
<tr class="separator:affafd76308ced3446bcac82ded9f4a4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac16f3197419566047a2bb268a3a626db" id="r_ac16f3197419566047a2bb268a3a626db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ac16f3197419566047a2bb268a3a626db">eval_every</a></td></tr>
<tr class="separator:ac16f3197419566047a2bb268a3a626db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3154fe7fb2729847fd8992ecd1e177d3" id="r_a3154fe7fb2729847fd8992ecd1e177d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a3154fe7fb2729847fd8992ecd1e177d3">minimum_phi_value</a></td></tr>
<tr class="separator:a3154fe7fb2729847fd8992ecd1e177d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ababfcf7931d6cd0381cb0d759f8a74c9" id="r_ababfcf7931d6cd0381cb0d759f8a74c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ababfcf7931d6cd0381cb0d759f8a74c9">per_word_topics</a></td></tr>
<tr class="separator:ababfcf7931d6cd0381cb0d759f8a74c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7ce8d08b34835e01a8f7ab9d3d8662" id="r_a8c7ce8d08b34835e01a8f7ab9d3d8662"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a8c7ce8d08b34835e01a8f7ab9d3d8662">callbacks</a></td></tr>
<tr class="separator:a8c7ce8d08b34835e01a8f7ab9d3d8662"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb0b8f26b159cf8d5617ca9d574f27a8" id="r_adb0b8f26b159cf8d5617ca9d574f27a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#adb0b8f26b159cf8d5617ca9d574f27a8">alpha</a></td></tr>
<tr class="separator:adb0b8f26b159cf8d5617ca9d574f27a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02a7edde3b3196a41e461294c621c5b3" id="r_a02a7edde3b3196a41e461294c621c5b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a02a7edde3b3196a41e461294c621c5b3">optimize_alpha</a></td></tr>
<tr class="separator:a02a7edde3b3196a41e461294c621c5b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49d89e536f3fed92d885ed615bd50e63" id="r_a49d89e536f3fed92d885ed615bd50e63"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a49d89e536f3fed92d885ed615bd50e63">eta</a></td></tr>
<tr class="separator:a49d89e536f3fed92d885ed615bd50e63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2f43e4613011aaac28db7dbb18c763" id="r_afe2f43e4613011aaac28db7dbb18c763"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#afe2f43e4613011aaac28db7dbb18c763">optimize_eta</a></td></tr>
<tr class="separator:afe2f43e4613011aaac28db7dbb18c763"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c6eb264a5a0d4f5782878d88fffa91f" id="r_a1c6eb264a5a0d4f5782878d88fffa91f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a1c6eb264a5a0d4f5782878d88fffa91f">random_state</a></td></tr>
<tr class="separator:a1c6eb264a5a0d4f5782878d88fffa91f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33401f17747f4ec5f5656230566a10f9" id="r_a33401f17747f4ec5f5656230566a10f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a33401f17747f4ec5f5656230566a10f9">iterations</a></td></tr>
<tr class="separator:a33401f17747f4ec5f5656230566a10f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0326fe4cce3bea84fc565a36e4266f05" id="r_a0326fe4cce3bea84fc565a36e4266f05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a0326fe4cce3bea84fc565a36e4266f05">gamma_threshold</a></td></tr>
<tr class="separator:a0326fe4cce3bea84fc565a36e4266f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55b7079099988743beb8a10c7f164e4" id="r_ad55b7079099988743beb8a10c7f164e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ad55b7079099988743beb8a10c7f164e4">dispatcher</a></td></tr>
<tr class="separator:ad55b7079099988743beb8a10c7f164e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9defc71d9104109445be50559d1d70be" id="r_a9defc71d9104109445be50559d1d70be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a9defc71d9104109445be50559d1d70be">numworkers</a></td></tr>
<tr class="separator:a9defc71d9104109445be50559d1d70be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c4a14825f0b4c643fb361ecbb3b08cc" id="r_a6c4a14825f0b4c643fb361ecbb3b08cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a6c4a14825f0b4c643fb361ecbb3b08cc">state</a></td></tr>
<tr class="separator:a6c4a14825f0b4c643fb361ecbb3b08cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc948057d9678d894707b0281717672" id="r_a4fc948057d9678d894707b0281717672"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a4fc948057d9678d894707b0281717672">expElogbeta</a></td></tr>
<tr class="separator:a4fc948057d9678d894707b0281717672"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1753b58c1f7bff6d42233f0935ef5068" id="r_a1753b58c1f7bff6d42233f0935ef5068"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a1753b58c1f7bff6d42233f0935ef5068">Elogbeta</a></td></tr>
<tr class="separator:a1753b58c1f7bff6d42233f0935ef5068"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46dbf98091f42a2494fdbdaaf57c904a" id="r_a46dbf98091f42a2494fdbdaaf57c904a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a46dbf98091f42a2494fdbdaaf57c904a">metrics</a></td></tr>
<tr class="separator:a46dbf98091f42a2494fdbdaaf57c904a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classgensim_1_1interfaces_1_1_transformation_a_b_c"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classgensim_1_1interfaces_1_1_transformation_a_b_c')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classgensim_1_1interfaces_1_1_transformation_a_b_c.html">gensim.interfaces.TransformationABC</a></td></tr>
<tr class="memitem:a193db73b4b89d49f8b8f832c8b6875bd inherit pro_methods_classgensim_1_1interfaces_1_1_transformation_a_b_c" id="r_a193db73b4b89d49f8b8f832c8b6875bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1interfaces_1_1_transformation_a_b_c.html#a193db73b4b89d49f8b8f832c8b6875bd">_apply</a> (self, corpus, chunksize=None, **kwargs)</td></tr>
<tr class="separator:a193db73b4b89d49f8b8f832c8b6875bd inherit pro_methods_classgensim_1_1interfaces_1_1_transformation_a_b_c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_ace7b79d8870c44c2bab0d590a5aca91e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#ace7b79d8870c44c2bab0d590a5aca91e">_load_specials</a> (self, fname, mmap, compress, subname)</td></tr>
<tr class="separator:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_acd9faa42ba3aae8f0a175418889d425c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#acd9faa42ba3aae8f0a175418889d425c">_smart_save</a> (self, fname, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_a4bae38a76fa8264d2c8759b9d40a6f5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a4bae38a76fa8264d2c8759b9d40a6f5c">_save_specials</a> (self, fname, separately, sep_limit, ignore, pickle_protocol, compress, subname)</td></tr>
<tr class="separator:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load" id="r_a6cf051b348407267110444260535d143"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a6cf051b348407267110444260535d143">_adapt_by_suffix</a> (fname)</td></tr>
<tr class="separator:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Train and use Online Latent Dirichlet Allocation (OLDA) models as presented in
`Hoffman et al. :"Online Learning for Latent Dirichlet Allocation" &lt;https://www.di.ens.fr/~fbach/mdhnips2010.pdf&gt;`_.

Examples
-------
Initialize a model using a Gensim corpus

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.test.utils import common_corpus
    &gt;&gt;&gt;
    &gt;&gt;&gt; lda = LdaModel(common_corpus, num_topics=10)

You can then infer topic distributions on new, unseen documents.

.. sourcecode:: pycon

    &gt;&gt;&gt; doc_bow = [(1, 0.3), (2, 0.1), (0, 0.09)]
    &gt;&gt;&gt; doc_lda = lda[doc_bow]

The model can be updated (trained) with new documents.

.. sourcecode:: pycon

    &gt;&gt;&gt; # In practice (corpus =/= initial training corpus), but we use the same here for simplicity.
    &gt;&gt;&gt; other_corpus = common_corpus
    &gt;&gt;&gt;
    &gt;&gt;&gt; lda.update(other_corpus)

Model persistency is achieved through :meth:`~gensim.models.ldamodel.LdaModel.load` and
:meth:`~gensim.models.ldamodel.LdaModel.save` methods.</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3084056917d2ebc2bef9a19fe5c5d2f8" name="a3084056917d2ebc2bef9a19fe5c5d2f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3084056917d2ebc2bef9a19fe5c5d2f8">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_topics</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>id2word</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>distributed</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunksize</em> = <code>2000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>passes</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>update_every</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>alpha</em> = <code>'symmetric'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eta</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>decay</em> = <code>0.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>offset</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eval_every</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iterations</em> = <code>50</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gamma_threshold</em> = <code>0.001</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>minimum_probability</em> = <code>0.01</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>random_state</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ns_conf</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>minimum_phi_value</em> = <code>0.01</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>per_word_topics</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>callbacks</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>np.float32</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parameters
----------
corpus : {iterable of list of (int, float), scipy.sparse.csc}, optional
    Stream of document vectors or sparse matrix of shape (`num_documents`, `num_terms`).
    If not given, the model is left untrained (presumably because you want to call
    :meth:`~gensim.models.ldamodel.LdaModel.update` manually).
num_topics : int, optional
    The number of requested latent topics to be extracted from the training corpus.
id2word : {dict of (int, str), :class:`gensim.corpora.dictionary.Dictionary`}
    Mapping from word IDs to words. It is used to determine the vocabulary size, as well as for
    debugging and topic printing.
distributed : bool, optional
    Whether distributed computing should be used to accelerate training.
chunksize :  int, optional
    Number of documents to be used in each training chunk.
passes : int, optional
    Number of passes through the corpus during training.
update_every : int, optional
    Number of documents to be iterated through for each update.
    Set to 0 for batch learning, &gt; 1 for online iterative learning.
alpha : {numpy.ndarray, str}, optional
    Can be set to an 1D array of length equal to the number of expected topics that expresses
    our a-priori belief for the each topics' probability.
    Alternatively default prior selecting strategies can be employed by supplying a string:

        * 'asymmetric': Uses a fixed normalized asymmetric prior of `1.0 / topicno`.
        * 'auto': Learns an asymmetric prior from the corpus (not available if `distributed==True`).
eta : {float, np.array, str}, optional
    A-priori belief on word probability, this can be:

        * scalar for a symmetric prior over topic/word probability,
        * vector of length num_words to denote an asymmetric user defined probability for each word,
        * matrix of shape (num_topics, num_words) to assign a probability for each word-topic combination,
        * the string 'auto' to learn the asymmetric prior from the data.
decay : float, optional
    A number between (0.5, 1] to weight what percentage of the previous lambda value is forgotten
    when each new document is examined. Corresponds to Kappa from
    `Matthew D. Hoffman, David M. Blei, Francis Bach:
    "Online Learning for Latent Dirichlet Allocation NIPS'10" &lt;https://www.di.ens.fr/~fbach/mdhnips2010.pdf&gt;`_.
offset : float, optional
    Hyper-parameter that controls how much we will slow down the first steps the first few iterations.
    Corresponds to Tau_0 from `Matthew D. Hoffman, David M. Blei, Francis Bach:
    "Online Learning for Latent Dirichlet Allocation NIPS'10" &lt;https://www.di.ens.fr/~fbach/mdhnips2010.pdf&gt;`_.
eval_every : int, optional
    Log perplexity is estimated every that many updates. Setting this to one slows down training by ~2x.
iterations : int, optional
    Maximum number of iterations through the corpus when inferring the topic distribution of a corpus.
gamma_threshold : float, optional
    Minimum change in the value of the gamma parameters to continue iterating.
minimum_probability : float, optional
    Topics with a probability lower than this threshold will be filtered out.
random_state : {np.random.RandomState, int}, optional
    Either a randomState object or a seed to generate one. Useful for reproducibility.
ns_conf : dict of (str, object), optional
    Key word parameters propagated to :func:`gensim.utils.getNS` to get a Pyro4 Nameserved.
    Only used if `distributed` is set to True.
minimum_phi_value : float, optional
    if `per_word_topics` is True, this represents a lower bound on the term probabilities.
per_word_topics : bool
    If True, the model also computes a list of topics, sorted in descending order of most likely topics for
    each word, along with their phi values multiplied by the feature length (i.e. word count).
callbacks : list of :class:`~gensim.models.callbacks.Callback`
    Metric callbacks to log and visualize evaluation metrics of the model during training.
dtype : {numpy.float16, numpy.float32, numpy.float64}, optional
    Data-type to use during calculations inside model. All inputs are also converted.</pre> 
<p>Reimplemented in <a class="el" href="classgensim_1_1models_1_1atmodel_1_1_author_topic_model.html#a0d476d5fa1e809514d8352fa88091e40">gensim.models.atmodel.AuthorTopicModel</a>, and <a class="el" href="classgensim_1_1models_1_1ldamulticore_1_1_lda_multicore.html#a94f83ae479020cac7404ec490067e61e">gensim.models.ldamulticore.LdaMulticore</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  352</span>                 per_word_topics=<span class="keyword">False</span>, callbacks=<span class="keywordtype">None</span>, dtype=np.float32):</div>
<div class="line"><span class="lineno">  353</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  354</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  355</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">        corpus : {iterable of list of (int, float), scipy.sparse.csc}, optional</span></div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral">            Stream of document vectors or sparse matrix of shape (`num_documents`, `num_terms`).</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">            If not given, the model is left untrained (presumably because you want to call</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">            :meth:`~gensim.models.ldamodel.LdaModel.update` manually).</span></div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">        num_topics : int, optional</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">            The number of requested latent topics to be extracted from the training corpus.</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">        id2word : {dict of (int, str), :class:`gensim.corpora.dictionary.Dictionary`}</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">            Mapping from word IDs to words. It is used to determine the vocabulary size, as well as for</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">            debugging and topic printing.</span></div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral">        distributed : bool, optional</span></div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">            Whether distributed computing should be used to accelerate training.</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral">        chunksize :  int, optional</span></div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral">            Number of documents to be used in each training chunk.</span></div>
<div class="line"><span class="lineno">  370</span><span class="stringliteral">        passes : int, optional</span></div>
<div class="line"><span class="lineno">  371</span><span class="stringliteral">            Number of passes through the corpus during training.</span></div>
<div class="line"><span class="lineno">  372</span><span class="stringliteral">        update_every : int, optional</span></div>
<div class="line"><span class="lineno">  373</span><span class="stringliteral">            Number of documents to be iterated through for each update.</span></div>
<div class="line"><span class="lineno">  374</span><span class="stringliteral">            Set to 0 for batch learning, &gt; 1 for online iterative learning.</span></div>
<div class="line"><span class="lineno">  375</span><span class="stringliteral">        alpha : {numpy.ndarray, str}, optional</span></div>
<div class="line"><span class="lineno">  376</span><span class="stringliteral">            Can be set to an 1D array of length equal to the number of expected topics that expresses</span></div>
<div class="line"><span class="lineno">  377</span><span class="stringliteral">            our a-priori belief for the each topics&#39; probability.</span></div>
<div class="line"><span class="lineno">  378</span><span class="stringliteral">            Alternatively default prior selecting strategies can be employed by supplying a string:</span></div>
<div class="line"><span class="lineno">  379</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  380</span><span class="stringliteral">                * &#39;asymmetric&#39;: Uses a fixed normalized asymmetric prior of `1.0 / topicno`.</span></div>
<div class="line"><span class="lineno">  381</span><span class="stringliteral">                * &#39;auto&#39;: Learns an asymmetric prior from the corpus (not available if `distributed==True`).</span></div>
<div class="line"><span class="lineno">  382</span><span class="stringliteral">        eta : {float, np.array, str}, optional</span></div>
<div class="line"><span class="lineno">  383</span><span class="stringliteral">            A-priori belief on word probability, this can be:</span></div>
<div class="line"><span class="lineno">  384</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  385</span><span class="stringliteral">                * scalar for a symmetric prior over topic/word probability,</span></div>
<div class="line"><span class="lineno">  386</span><span class="stringliteral">                * vector of length num_words to denote an asymmetric user defined probability for each word,</span></div>
<div class="line"><span class="lineno">  387</span><span class="stringliteral">                * matrix of shape (num_topics, num_words) to assign a probability for each word-topic combination,</span></div>
<div class="line"><span class="lineno">  388</span><span class="stringliteral">                * the string &#39;auto&#39; to learn the asymmetric prior from the data.</span></div>
<div class="line"><span class="lineno">  389</span><span class="stringliteral">        decay : float, optional</span></div>
<div class="line"><span class="lineno">  390</span><span class="stringliteral">            A number between (0.5, 1] to weight what percentage of the previous lambda value is forgotten</span></div>
<div class="line"><span class="lineno">  391</span><span class="stringliteral">            when each new document is examined. Corresponds to Kappa from</span></div>
<div class="line"><span class="lineno">  392</span><span class="stringliteral">            `Matthew D. Hoffman, David M. Blei, Francis Bach:</span></div>
<div class="line"><span class="lineno">  393</span><span class="stringliteral">            &quot;Online Learning for Latent Dirichlet Allocation NIPS&#39;10&quot; &lt;https://www.di.ens.fr/~fbach/mdhnips2010.pdf&gt;`_.</span></div>
<div class="line"><span class="lineno">  394</span><span class="stringliteral">        offset : float, optional</span></div>
<div class="line"><span class="lineno">  395</span><span class="stringliteral">            Hyper-parameter that controls how much we will slow down the first steps the first few iterations.</span></div>
<div class="line"><span class="lineno">  396</span><span class="stringliteral">            Corresponds to Tau_0 from `Matthew D. Hoffman, David M. Blei, Francis Bach:</span></div>
<div class="line"><span class="lineno">  397</span><span class="stringliteral">            &quot;Online Learning for Latent Dirichlet Allocation NIPS&#39;10&quot; &lt;https://www.di.ens.fr/~fbach/mdhnips2010.pdf&gt;`_.</span></div>
<div class="line"><span class="lineno">  398</span><span class="stringliteral">        eval_every : int, optional</span></div>
<div class="line"><span class="lineno">  399</span><span class="stringliteral">            Log perplexity is estimated every that many updates. Setting this to one slows down training by ~2x.</span></div>
<div class="line"><span class="lineno">  400</span><span class="stringliteral">        iterations : int, optional</span></div>
<div class="line"><span class="lineno">  401</span><span class="stringliteral">            Maximum number of iterations through the corpus when inferring the topic distribution of a corpus.</span></div>
<div class="line"><span class="lineno">  402</span><span class="stringliteral">        gamma_threshold : float, optional</span></div>
<div class="line"><span class="lineno">  403</span><span class="stringliteral">            Minimum change in the value of the gamma parameters to continue iterating.</span></div>
<div class="line"><span class="lineno">  404</span><span class="stringliteral">        minimum_probability : float, optional</span></div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral">            Topics with a probability lower than this threshold will be filtered out.</span></div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral">        random_state : {np.random.RandomState, int}, optional</span></div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral">            Either a randomState object or a seed to generate one. Useful for reproducibility.</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral">        ns_conf : dict of (str, object), optional</span></div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">            Key word parameters propagated to :func:`gensim.utils.getNS` to get a Pyro4 Nameserved.</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">            Only used if `distributed` is set to True.</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral">        minimum_phi_value : float, optional</span></div>
<div class="line"><span class="lineno">  412</span><span class="stringliteral">            if `per_word_topics` is True, this represents a lower bound on the term probabilities.</span></div>
<div class="line"><span class="lineno">  413</span><span class="stringliteral">        per_word_topics : bool</span></div>
<div class="line"><span class="lineno">  414</span><span class="stringliteral">            If True, the model also computes a list of topics, sorted in descending order of most likely topics for</span></div>
<div class="line"><span class="lineno">  415</span><span class="stringliteral">            each word, along with their phi values multiplied by the feature length (i.e. word count).</span></div>
<div class="line"><span class="lineno">  416</span><span class="stringliteral">        callbacks : list of :class:`~gensim.models.callbacks.Callback`</span></div>
<div class="line"><span class="lineno">  417</span><span class="stringliteral">            Metric callbacks to log and visualize evaluation metrics of the model during training.</span></div>
<div class="line"><span class="lineno">  418</span><span class="stringliteral">        dtype : {numpy.float16, numpy.float32, numpy.float64}, optional</span></div>
<div class="line"><span class="lineno">  419</span><span class="stringliteral">            Data-type to use during calculations inside model. All inputs are also converted.</span></div>
<div class="line"><span class="lineno">  420</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  421</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  422</span>        self.dtype = np.finfo(dtype).dtype</div>
<div class="line"><span class="lineno">  423</span> </div>
<div class="line"><span class="lineno">  424</span>        <span class="comment"># store user-supplied parameters</span></div>
<div class="line"><span class="lineno">  425</span>        self.id2word = id2word</div>
<div class="line"><span class="lineno">  426</span>        <span class="keywordflow">if</span> corpus <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> self.id2word <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  427</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  428</span>                <span class="stringliteral">&#39;at least one of corpus/id2word must be specified, to establish input space dimensionality&#39;</span></div>
<div class="line"><span class="lineno">  429</span>            )</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>        <span class="keywordflow">if</span> self.id2word <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  432</span>            logger.warning(<span class="stringliteral">&quot;no word id mapping provided; initializing from corpus, assuming identity&quot;</span>)</div>
<div class="line"><span class="lineno">  433</span>            self.id2word = utils.dict_from_corpus(corpus)</div>
<div class="line"><span class="lineno">  434</span>            self.num_terms = len(self.id2word)</div>
<div class="line"><span class="lineno">  435</span>        <span class="keywordflow">elif</span> len(self.id2word) &gt; 0:</div>
<div class="line"><span class="lineno">  436</span>            self.num_terms = 1 + max(self.id2word.keys())</div>
<div class="line"><span class="lineno">  437</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  438</span>            self.num_terms = 0</div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>        <span class="keywordflow">if</span> self.num_terms == 0:</div>
<div class="line"><span class="lineno">  441</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;cannot compute LDA over an empty collection (no terms)&quot;</span>)</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>        self.distributed = bool(distributed)</div>
<div class="line"><span class="lineno">  444</span>        self.num_topics = int(num_topics)</div>
<div class="line"><span class="lineno">  445</span>        self.chunksize = chunksize</div>
<div class="line"><span class="lineno">  446</span>        self.decay = decay</div>
<div class="line"><span class="lineno">  447</span>        self.offset = offset</div>
<div class="line"><span class="lineno">  448</span>        self.minimum_probability = minimum_probability</div>
<div class="line"><span class="lineno">  449</span>        self.num_updates = 0</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>        self.passes = passes</div>
<div class="line"><span class="lineno">  452</span>        self.update_every = update_every</div>
<div class="line"><span class="lineno">  453</span>        self.eval_every = eval_every</div>
<div class="line"><span class="lineno">  454</span>        self.minimum_phi_value = minimum_phi_value</div>
<div class="line"><span class="lineno">  455</span>        self.per_word_topics = per_word_topics</div>
<div class="line"><span class="lineno">  456</span>        self.callbacks = callbacks</div>
<div class="line"><span class="lineno">  457</span> </div>
<div class="line"><span class="lineno">  458</span>        self.alpha, self.optimize_alpha = self.init_dir_prior(alpha, <span class="stringliteral">&#39;alpha&#39;</span>)</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>        <span class="keyword">assert</span> self.alpha.shape == (self.num_topics,), \</div>
<div class="line"><span class="lineno">  461</span>            <span class="stringliteral">&quot;Invalid alpha shape. Got shape %s, but expected (%d, )&quot;</span> % (str(self.alpha.shape), self.num_topics)</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">if</span> isinstance(eta, six.string_types):</div>
<div class="line"><span class="lineno">  464</span>            <span class="keywordflow">if</span> eta == <span class="stringliteral">&#39;asymmetric&#39;</span>:</div>
<div class="line"><span class="lineno">  465</span>                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;The &#39;asymmetric&#39; option cannot be used for eta&quot;</span>)</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>        self.eta, self.optimize_eta = self.init_dir_prior(eta, <span class="stringliteral">&#39;eta&#39;</span>)</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>        self.random_state = utils.get_random_state(random_state)</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>        <span class="keyword">assert</span> self.eta.shape == (self.num_terms,) <span class="keywordflow">or</span> self.eta.shape == (self.num_topics, self.num_terms), (</div>
<div class="line"><span class="lineno">  472</span>            <span class="stringliteral">&quot;Invalid eta shape. Got shape %s, but expected (%d, 1) or (%d, %d)&quot;</span> %</div>
<div class="line"><span class="lineno">  473</span>            (str(self.eta.shape), self.num_terms, self.num_topics, self.num_terms))</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>        <span class="comment"># VB constants</span></div>
<div class="line"><span class="lineno">  476</span>        self.iterations = iterations</div>
<div class="line"><span class="lineno">  477</span>        self.gamma_threshold = gamma_threshold</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>        <span class="comment"># set up distributed environment if necessary</span></div>
<div class="line"><span class="lineno">  480</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> distributed:</div>
<div class="line"><span class="lineno">  481</span>            logger.info(<span class="stringliteral">&quot;using serial LDA version on this node&quot;</span>)</div>
<div class="line"><span class="lineno">  482</span>            self.dispatcher = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  483</span>            self.numworkers = 1</div>
<div class="line"><span class="lineno">  484</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  485</span>            <span class="keywordflow">if</span> self.optimize_alpha:</div>
<div class="line"><span class="lineno">  486</span>                <span class="keywordflow">raise</span> NotImplementedError(<span class="stringliteral">&quot;auto-optimizing alpha not implemented in distributed LDA&quot;</span>)</div>
<div class="line"><span class="lineno">  487</span>            <span class="comment"># set up distributed version</span></div>
<div class="line"><span class="lineno">  488</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  489</span>                <span class="keyword">import</span> Pyro4</div>
<div class="line"><span class="lineno">  490</span>                <span class="keywordflow">if</span> ns_conf <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  491</span>                    ns_conf = {}</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>                <span class="keyword">with</span> utils.getNS(**ns_conf) <span class="keyword">as</span> ns:</div>
<div class="line"><span class="lineno">  494</span>                    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacegensim_1_1models_1_1lda__dispatcher.html">gensim.models.lda_dispatcher</a> <span class="keyword">import</span> LDA_DISPATCHER_PREFIX</div>
<div class="line"><span class="lineno">  495</span>                    self.dispatcher = Pyro4.Proxy(ns.list(prefix=LDA_DISPATCHER_PREFIX)[LDA_DISPATCHER_PREFIX])</div>
<div class="line"><span class="lineno">  496</span>                    logger.debug(<span class="stringliteral">&quot;looking for dispatcher at %s&quot;</span> % str(self.dispatcher._pyroUri))</div>
<div class="line"><span class="lineno">  497</span>                    self.dispatcher.initialize(</div>
<div class="line"><span class="lineno">  498</span>                        id2word=self.id2word, num_topics=self.num_topics, chunksize=chunksize,</div>
<div class="line"><span class="lineno">  499</span>                        alpha=alpha, eta=eta, distributed=<span class="keyword">False</span></div>
<div class="line"><span class="lineno">  500</span>                    )</div>
<div class="line"><span class="lineno">  501</span>                    self.numworkers = len(self.dispatcher.getworkers())</div>
<div class="line"><span class="lineno">  502</span>                    logger.info(<span class="stringliteral">&quot;using distributed version with %i workers&quot;</span>, self.numworkers)</div>
<div class="line"><span class="lineno">  503</span>            <span class="keywordflow">except</span> Exception <span class="keyword">as</span> err:</div>
<div class="line"><span class="lineno">  504</span>                logger.error(<span class="stringliteral">&quot;failed to initialize distributed LDA (%s)&quot;</span>, err)</div>
<div class="line"><span class="lineno">  505</span>                <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&quot;failed to initialize distributed LDA (%s)&quot;</span> % err)</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>        <span class="comment"># Initialize the variational distribution q(beta|lambda)</span></div>
<div class="line"><span class="lineno">  508</span>        self.state = LdaState(self.eta, (self.num_topics, self.num_terms), dtype=self.dtype)</div>
<div class="line"><span class="lineno">  509</span>        self.state.sstats[...] = self.random_state.gamma(100., 1. / 100., (self.num_topics, self.num_terms))</div>
<div class="line"><span class="lineno">  510</span>        self.expElogbeta = np.exp(dirichlet_expectation(self.state.sstats))</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>        <span class="comment"># Check that we haven&#39;t accidentally fallen back to np.float64</span></div>
<div class="line"><span class="lineno">  513</span>        <span class="keyword">assert</span> self.eta.dtype == self.dtype</div>
<div class="line"><span class="lineno">  514</span>        <span class="keyword">assert</span> self.expElogbeta.dtype == self.dtype</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>        <span class="comment"># if a training corpus was provided, start estimating the model right away</span></div>
<div class="line"><span class="lineno">  517</span>        <span class="keywordflow">if</span> corpus <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  518</span>            use_numpy = self.dispatcher <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  519</span>            self.update(corpus, chunks_as_numpy=use_numpy)</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="ttc" id="anamespacegensim_1_1models_1_1lda__dispatcher_html"><div class="ttname"><a href="namespacegensim_1_1models_1_1lda__dispatcher.html">gensim.models.lda_dispatcher</a></div><div class="ttdef"><b>Definition</b> lda_dispatcher.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab093100f5f1a440bdca940d05c69981e" name="ab093100f5f1a440bdca940d05c69981e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab093100f5f1a440bdca940d05c69981e">&#9670;&#160;</a></span>__getitem__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.__getitem__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eps</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the topic distribution for the given document.

Wraps :meth:`~gensim.models.ldamodel.LdaModel.get_document_topics` to support an operator style call.
Uses the model's current state (set using constructor arguments) to fill in the additional arguments of the
wrapper method.

Parameters
---------
bow : list of (int, float)
    The document in BOW format.
eps : float, optional
    Topics with an assigned probability lower than this threshold will be discarded.

Returns
-------
list of (int, float)
    Topic distribution for the given document. Each topic is represented as a pair of its ID and the probability
    assigned to it.</pre> 
<p>Reimplemented from <a class="el" href="classgensim_1_1interfaces_1_1_transformation_a_b_c.html#adb68598690297440f346cbe91d4f40e7">gensim.interfaces.TransformationABC</a>.</p>

<p>Reimplemented in <a class="el" href="classgensim_1_1models_1_1atmodel_1_1_author_topic_model.html#a0d834b00d3370e044e1700ccb3f9c6c8">gensim.models.atmodel.AuthorTopicModel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1503</span>    <span class="keyword">def </span>__getitem__(self, bow, eps=None):</div>
<div class="line"><span class="lineno"> 1504</span>        <span class="stringliteral">&quot;&quot;&quot;Get the topic distribution for the given document.</span></div>
<div class="line"><span class="lineno"> 1505</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1506</span><span class="stringliteral">        Wraps :meth:`~gensim.models.ldamodel.LdaModel.get_document_topics` to support an operator style call.</span></div>
<div class="line"><span class="lineno"> 1507</span><span class="stringliteral">        Uses the model&#39;s current state (set using constructor arguments) to fill in the additional arguments of the</span></div>
<div class="line"><span class="lineno"> 1508</span><span class="stringliteral">        wrapper method.</span></div>
<div class="line"><span class="lineno"> 1509</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1510</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1511</span><span class="stringliteral">        ---------</span></div>
<div class="line"><span class="lineno"> 1512</span><span class="stringliteral">        bow : list of (int, float)</span></div>
<div class="line"><span class="lineno"> 1513</span><span class="stringliteral">            The document in BOW format.</span></div>
<div class="line"><span class="lineno"> 1514</span><span class="stringliteral">        eps : float, optional</span></div>
<div class="line"><span class="lineno"> 1515</span><span class="stringliteral">            Topics with an assigned probability lower than this threshold will be discarded.</span></div>
<div class="line"><span class="lineno"> 1516</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1517</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1518</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1519</span><span class="stringliteral">        list of (int, float)</span></div>
<div class="line"><span class="lineno"> 1520</span><span class="stringliteral">            Topic distribution for the given document. Each topic is represented as a pair of its ID and the probability</span></div>
<div class="line"><span class="lineno"> 1521</span><span class="stringliteral">            assigned to it.</span></div>
<div class="line"><span class="lineno"> 1522</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1523</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1524</span>        <span class="keywordflow">return</span> self.get_document_topics(bow, eps, self.minimum_phi_value, self.per_word_topics)</div>
<div class="line"><span class="lineno"> 1525</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf21bf79906a73bc4aee4a7d10259408" name="aaf21bf79906a73bc4aee4a7d10259408"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf21bf79906a73bc4aee4a7d10259408">&#9670;&#160;</a></span>__str__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.__str__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get a string representation of the current object.

Returns
-------
str
    Human readable representation of the most important model parameters.</pre> 
<p>Reimplemented in <a class="el" href="classgensim_1_1models_1_1atmodel_1_1_author_topic_model.html#acfa811197a977c75cb3fd3509b435223">gensim.models.atmodel.AuthorTopicModel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  584</span>    <span class="keyword">def </span>__str__(self):</div>
<div class="line"><span class="lineno">  585</span>        <span class="stringliteral">&quot;&quot;&quot;Get a string representation of the current object.</span></div>
<div class="line"><span class="lineno">  586</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  587</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  588</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  589</span><span class="stringliteral">        str</span></div>
<div class="line"><span class="lineno">  590</span><span class="stringliteral">            Human readable representation of the most important model parameters.</span></div>
<div class="line"><span class="lineno">  591</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  592</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  593</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;LdaModel(num_terms=%s, num_topics=%s, decay=%s, chunksize=%s)&quot;</span> % (</div>
<div class="line"><span class="lineno">  594</span>            self.num_terms, self.num_topics, self.decay, self.chunksize</div>
<div class="line"><span class="lineno">  595</span>        )</div>
<div class="line"><span class="lineno">  596</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a45ca00d403dcae7877c27c6d830216d8" name="a45ca00d403dcae7877c27c6d830216d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45ca00d403dcae7877c27c6d830216d8">&#9670;&#160;</a></span>bound()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.bound </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gamma</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subsample_ratio</em> = <code>1.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Estimate the variational bound of documents from the corpus as E_q[log p(corpus)] - E_q[log q(corpus)].

Parameters
----------
corpus : {iterable of list of (int, float), scipy.sparse.csc}, optional
    Stream of document vectors or sparse matrix of shape (`num_documents`, `num_terms`) used to estimate the
    variational bounds.
gamma : numpy.ndarray, optional
    Topic weight variational parameters for each document. If not supplied, it will be inferred from the model.
subsample_ratio : float, optional
    Percentage of the whole corpus represented by the passed `corpus` argument (in case this was a sample).
    Set to 1.0 if the whole corpus was passed.This is used as a multiplicative factor to scale the likelihood
    appropriately.

Returns
-------
numpy.ndarray
    The variational bound score calculated for each document.</pre> 
<p>Reimplemented in <a class="el" href="classgensim_1_1models_1_1atmodel_1_1_author_topic_model.html#ac6d8d5467f669eb549516534ee016d78">gensim.models.atmodel.AuthorTopicModel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1058</span>    <span class="keyword">def </span>bound(self, corpus, gamma=None, subsample_ratio=1.0):</div>
<div class="line"><span class="lineno"> 1059</span>        <span class="stringliteral">&quot;&quot;&quot;Estimate the variational bound of documents from the corpus as E_q[log p(corpus)] - E_q[log q(corpus)].</span></div>
<div class="line"><span class="lineno"> 1060</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1061</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1062</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1063</span><span class="stringliteral">        corpus : {iterable of list of (int, float), scipy.sparse.csc}, optional</span></div>
<div class="line"><span class="lineno"> 1064</span><span class="stringliteral">            Stream of document vectors or sparse matrix of shape (`num_documents`, `num_terms`) used to estimate the</span></div>
<div class="line"><span class="lineno"> 1065</span><span class="stringliteral">            variational bounds.</span></div>
<div class="line"><span class="lineno"> 1066</span><span class="stringliteral">        gamma : numpy.ndarray, optional</span></div>
<div class="line"><span class="lineno"> 1067</span><span class="stringliteral">            Topic weight variational parameters for each document. If not supplied, it will be inferred from the model.</span></div>
<div class="line"><span class="lineno"> 1068</span><span class="stringliteral">        subsample_ratio : float, optional</span></div>
<div class="line"><span class="lineno"> 1069</span><span class="stringliteral">            Percentage of the whole corpus represented by the passed `corpus` argument (in case this was a sample).</span></div>
<div class="line"><span class="lineno"> 1070</span><span class="stringliteral">            Set to 1.0 if the whole corpus was passed.This is used as a multiplicative factor to scale the likelihood</span></div>
<div class="line"><span class="lineno"> 1071</span><span class="stringliteral">            appropriately.</span></div>
<div class="line"><span class="lineno"> 1072</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1073</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1074</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1075</span><span class="stringliteral">        numpy.ndarray</span></div>
<div class="line"><span class="lineno"> 1076</span><span class="stringliteral">            The variational bound score calculated for each document.</span></div>
<div class="line"><span class="lineno"> 1077</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1078</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1079</span>        score = 0.0</div>
<div class="line"><span class="lineno"> 1080</span>        _lambda = self.state.get_lambda()</div>
<div class="line"><span class="lineno"> 1081</span>        Elogbeta = dirichlet_expectation(_lambda)</div>
<div class="line"><span class="lineno"> 1082</span> </div>
<div class="line"><span class="lineno"> 1083</span>        <span class="keywordflow">for</span> d, doc <span class="keywordflow">in</span> enumerate(corpus):  <span class="comment"># stream the input doc-by-doc, in case it&#39;s too large to fit in RAM</span></div>
<div class="line"><span class="lineno"> 1084</span>            <span class="keywordflow">if</span> d % self.chunksize == 0:</div>
<div class="line"><span class="lineno"> 1085</span>                logger.debug(<span class="stringliteral">&quot;bound: at document #%i&quot;</span>, d)</div>
<div class="line"><span class="lineno"> 1086</span>            <span class="keywordflow">if</span> gamma <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1087</span>                gammad, _ = self.inference([doc])</div>
<div class="line"><span class="lineno"> 1088</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1089</span>                gammad = gamma[d]</div>
<div class="line"><span class="lineno"> 1090</span>            Elogthetad = dirichlet_expectation(gammad)</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>            <span class="keyword">assert</span> gammad.dtype == self.dtype</div>
<div class="line"><span class="lineno"> 1093</span>            <span class="keyword">assert</span> Elogthetad.dtype == self.dtype</div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span>            <span class="comment"># E[log p(doc | theta, beta)]</span></div>
<div class="line"><span class="lineno"> 1096</span>            score += sum(cnt * logsumexp(Elogthetad + Elogbeta[:, int(id)]) <span class="keywordflow">for</span> id, cnt <span class="keywordflow">in</span> doc)</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>            <span class="comment"># E[log p(theta | alpha) - log q(theta | gamma)]; assumes alpha is a vector</span></div>
<div class="line"><span class="lineno"> 1099</span>            score += np.sum((self.alpha - gammad) * Elogthetad)</div>
<div class="line"><span class="lineno"> 1100</span>            score += np.sum(gammaln(gammad) - gammaln(self.alpha))</div>
<div class="line"><span class="lineno"> 1101</span>            score += gammaln(np.sum(self.alpha)) - gammaln(np.sum(gammad))</div>
<div class="line"><span class="lineno"> 1102</span> </div>
<div class="line"><span class="lineno"> 1103</span>        <span class="comment"># Compensate likelihood for when `corpus` above is only a sample of the whole corpus. This ensures</span></div>
<div class="line"><span class="lineno"> 1104</span>        <span class="comment"># that the likelihood is always roughly on the same scale.</span></div>
<div class="line"><span class="lineno"> 1105</span>        score *= subsample_ratio</div>
<div class="line"><span class="lineno"> 1106</span> </div>
<div class="line"><span class="lineno"> 1107</span>        <span class="comment"># E[log p(beta | eta) - log q (beta | lambda)]; assumes eta is a scalar</span></div>
<div class="line"><span class="lineno"> 1108</span>        score += np.sum((self.eta - _lambda) * Elogbeta)</div>
<div class="line"><span class="lineno"> 1109</span>        score += np.sum(gammaln(_lambda) - gammaln(self.eta))</div>
<div class="line"><span class="lineno"> 1110</span> </div>
<div class="line"><span class="lineno"> 1111</span>        <span class="keywordflow">if</span> np.ndim(self.eta) == 0:</div>
<div class="line"><span class="lineno"> 1112</span>            sum_eta = self.eta * self.num_terms</div>
<div class="line"><span class="lineno"> 1113</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1114</span>            sum_eta = np.sum(self.eta)</div>
<div class="line"><span class="lineno"> 1115</span> </div>
<div class="line"><span class="lineno"> 1116</span>        score += np.sum(gammaln(sum_eta) - gammaln(np.sum(_lambda, 1)))</div>
<div class="line"><span class="lineno"> 1117</span> </div>
<div class="line"><span class="lineno"> 1118</span>        <span class="keywordflow">return</span> score</div>
<div class="line"><span class="lineno"> 1119</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a443a32549e184ee051e5d0c8bf15a453" name="a443a32549e184ee051e5d0c8bf15a453"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a443a32549e184ee051e5d0c8bf15a453">&#9670;&#160;</a></span>clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.clear </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Clear the model's state to free some memory. Used in the distributed implementation.</pre> <div class="fragment"><div class="line"><span class="lineno">  612</span>    <span class="keyword">def </span>clear(self):</div>
<div class="line"><span class="lineno">  613</span>        <span class="stringliteral">&quot;&quot;&quot;Clear the model&#39;s state to free some memory. Used in the distributed implementation.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  614</span>        self.state = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  615</span>        self.Elogbeta = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  616</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aae3ed963490e75e737adaa2b4c187096" name="aae3ed963490e75e737adaa2b4c187096"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae3ed963490e75e737adaa2b4c187096">&#9670;&#160;</a></span>diff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.diff </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>distance</em> = <code>&quot;kullback_leibler&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_words</em> = <code>100</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_ann_terms</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>diagonal</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>annotation</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>normed</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculate the difference in topic distributions between two models: `self` and `other`.

Parameters
----------
other : :class:`~gensim.models.ldamodel.LdaModel`
    The model which will be compared against the current object.
distance : {'kullback_leibler', 'hellinger', 'jaccard', 'jensen_shannon'}
    The distance metric to calculate the difference with.
num_words : int, optional
    The number of most relevant words used if `distance == 'jaccard'`. Also used for annotating topics.
n_ann_terms : int, optional
    Max number of words in intersection/symmetric difference between topics. Used for annotation.
diagonal : bool, optional
    Whether we need the difference between identical topics (the diagonal of the difference matrix).
annotation : bool, optional
    Whether the intersection or difference of words between two topics should be returned.
normed : bool, optional
    Whether the matrix should be normalized or not.

Returns
-------
numpy.ndarray
    A difference matrix. Each element corresponds to the difference between the two topics,
    shape (`self.num_topics`, `other.num_topics`)
numpy.ndarray, optional
    Annotation matrix where for each pair we include the word from the intersection of the two topics,
    and the word from the symmetric difference of the two topics. Only included if `annotation == True`.
    Shape (`self.num_topics`, `other_model.num_topics`, 2).

Examples
--------
Get the differences between each pair of topics inferred by two models

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.models.ldamulticore import LdaMulticore
    &gt;&gt;&gt; from gensim.test.utils import datapath
    &gt;&gt;&gt;
    &gt;&gt;&gt; m1 = LdaMulticore.load(datapath("lda_3_0_1_model"))
    &gt;&gt;&gt; m2 = LdaMulticore.load(datapath("ldamodel_python_3_5"))
    &gt;&gt;&gt; mdiff, annotation = m1.diff(m2)
    &gt;&gt;&gt; topic_diff = mdiff  # get matrix with difference for each topic pair from `m1` and `m2`</pre> <div class="fragment"><div class="line"><span class="lineno"> 1395</span>             n_ann_terms=10, diagonal=<span class="keyword">False</span>, annotation=<span class="keyword">True</span>, normed=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno"> 1396</span>        <span class="stringliteral">&quot;&quot;&quot;Calculate the difference in topic distributions between two models: `self` and `other`.</span></div>
<div class="line"><span class="lineno"> 1397</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1398</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1399</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1400</span><span class="stringliteral">        other : :class:`~gensim.models.ldamodel.LdaModel`</span></div>
<div class="line"><span class="lineno"> 1401</span><span class="stringliteral">            The model which will be compared against the current object.</span></div>
<div class="line"><span class="lineno"> 1402</span><span class="stringliteral">        distance : {&#39;kullback_leibler&#39;, &#39;hellinger&#39;, &#39;jaccard&#39;, &#39;jensen_shannon&#39;}</span></div>
<div class="line"><span class="lineno"> 1403</span><span class="stringliteral">            The distance metric to calculate the difference with.</span></div>
<div class="line"><span class="lineno"> 1404</span><span class="stringliteral">        num_words : int, optional</span></div>
<div class="line"><span class="lineno"> 1405</span><span class="stringliteral">            The number of most relevant words used if `distance == &#39;jaccard&#39;`. Also used for annotating topics.</span></div>
<div class="line"><span class="lineno"> 1406</span><span class="stringliteral">        n_ann_terms : int, optional</span></div>
<div class="line"><span class="lineno"> 1407</span><span class="stringliteral">            Max number of words in intersection/symmetric difference between topics. Used for annotation.</span></div>
<div class="line"><span class="lineno"> 1408</span><span class="stringliteral">        diagonal : bool, optional</span></div>
<div class="line"><span class="lineno"> 1409</span><span class="stringliteral">            Whether we need the difference between identical topics (the diagonal of the difference matrix).</span></div>
<div class="line"><span class="lineno"> 1410</span><span class="stringliteral">        annotation : bool, optional</span></div>
<div class="line"><span class="lineno"> 1411</span><span class="stringliteral">            Whether the intersection or difference of words between two topics should be returned.</span></div>
<div class="line"><span class="lineno"> 1412</span><span class="stringliteral">        normed : bool, optional</span></div>
<div class="line"><span class="lineno"> 1413</span><span class="stringliteral">            Whether the matrix should be normalized or not.</span></div>
<div class="line"><span class="lineno"> 1414</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1415</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1416</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1417</span><span class="stringliteral">        numpy.ndarray</span></div>
<div class="line"><span class="lineno"> 1418</span><span class="stringliteral">            A difference matrix. Each element corresponds to the difference between the two topics,</span></div>
<div class="line"><span class="lineno"> 1419</span><span class="stringliteral">            shape (`self.num_topics`, `other.num_topics`)</span></div>
<div class="line"><span class="lineno"> 1420</span><span class="stringliteral">        numpy.ndarray, optional</span></div>
<div class="line"><span class="lineno"> 1421</span><span class="stringliteral">            Annotation matrix where for each pair we include the word from the intersection of the two topics,</span></div>
<div class="line"><span class="lineno"> 1422</span><span class="stringliteral">            and the word from the symmetric difference of the two topics. Only included if `annotation == True`.</span></div>
<div class="line"><span class="lineno"> 1423</span><span class="stringliteral">            Shape (`self.num_topics`, `other_model.num_topics`, 2).</span></div>
<div class="line"><span class="lineno"> 1424</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1425</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno"> 1426</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno"> 1427</span><span class="stringliteral">        Get the differences between each pair of topics inferred by two models</span></div>
<div class="line"><span class="lineno"> 1428</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1429</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno"> 1430</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1431</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.models.ldamulticore import LdaMulticore</span></div>
<div class="line"><span class="lineno"> 1432</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.test.utils import datapath</span></div>
<div class="line"><span class="lineno"> 1433</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno"> 1434</span><span class="stringliteral">            &gt;&gt;&gt; m1 = LdaMulticore.load(datapath(&quot;lda_3_0_1_model&quot;))</span></div>
<div class="line"><span class="lineno"> 1435</span><span class="stringliteral">            &gt;&gt;&gt; m2 = LdaMulticore.load(datapath(&quot;ldamodel_python_3_5&quot;))</span></div>
<div class="line"><span class="lineno"> 1436</span><span class="stringliteral">            &gt;&gt;&gt; mdiff, annotation = m1.diff(m2)</span></div>
<div class="line"><span class="lineno"> 1437</span><span class="stringliteral">            &gt;&gt;&gt; topic_diff = mdiff  # get matrix with difference for each topic pair from `m1` and `m2`</span></div>
<div class="line"><span class="lineno"> 1438</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1439</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1440</span>        distances = {</div>
<div class="line"><span class="lineno"> 1441</span>            <span class="stringliteral">&quot;kullback_leibler&quot;</span>: kullback_leibler,</div>
<div class="line"><span class="lineno"> 1442</span>            <span class="stringliteral">&quot;hellinger&quot;</span>: hellinger,</div>
<div class="line"><span class="lineno"> 1443</span>            <span class="stringliteral">&quot;jaccard&quot;</span>: jaccard_distance,</div>
<div class="line"><span class="lineno"> 1444</span>            <span class="stringliteral">&quot;jensen_shannon&quot;</span>: jensen_shannon</div>
<div class="line"><span class="lineno"> 1445</span>        }</div>
<div class="line"><span class="lineno"> 1446</span> </div>
<div class="line"><span class="lineno"> 1447</span>        <span class="keywordflow">if</span> distance <span class="keywordflow">not</span> <span class="keywordflow">in</span> distances:</div>
<div class="line"><span class="lineno"> 1448</span>            valid_keys = <span class="stringliteral">&quot;, &quot;</span>.join(<span class="stringliteral">&quot;`{}`&quot;</span>.format(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> distances.keys())</div>
<div class="line"><span class="lineno"> 1449</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Incorrect distance, valid only {}&quot;</span>.format(valid_keys))</div>
<div class="line"><span class="lineno"> 1450</span> </div>
<div class="line"><span class="lineno"> 1451</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(other, self.__class__):</div>
<div class="line"><span class="lineno"> 1452</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;The parameter `other` must be of type `{}`&quot;</span>.format(self.__name__))</div>
<div class="line"><span class="lineno"> 1453</span> </div>
<div class="line"><span class="lineno"> 1454</span>        distance_func = distances[distance]</div>
<div class="line"><span class="lineno"> 1455</span>        d1, d2 = self.get_topics(), other.get_topics()</div>
<div class="line"><span class="lineno"> 1456</span>        t1_size, t2_size = d1.shape[0], d2.shape[0]</div>
<div class="line"><span class="lineno"> 1457</span>        annotation_terms = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1458</span> </div>
<div class="line"><span class="lineno"> 1459</span>        fst_topics = [{w <span class="keywordflow">for</span> (w, _) <span class="keywordflow">in</span> self.show_topic(topic, topn=num_words)} <span class="keywordflow">for</span> topic <span class="keywordflow">in</span> range(t1_size)]</div>
<div class="line"><span class="lineno"> 1460</span>        snd_topics = [{w <span class="keywordflow">for</span> (w, _) <span class="keywordflow">in</span> other.show_topic(topic, topn=num_words)} <span class="keywordflow">for</span> topic <span class="keywordflow">in</span> range(t2_size)]</div>
<div class="line"><span class="lineno"> 1461</span> </div>
<div class="line"><span class="lineno"> 1462</span>        <span class="keywordflow">if</span> distance == <span class="stringliteral">&quot;jaccard&quot;</span>:</div>
<div class="line"><span class="lineno"> 1463</span>            d1, d2 = fst_topics, snd_topics</div>
<div class="line"><span class="lineno"> 1464</span> </div>
<div class="line"><span class="lineno"> 1465</span>        <span class="keywordflow">if</span> diagonal:</div>
<div class="line"><span class="lineno"> 1466</span>            <span class="keyword">assert</span> t1_size == t2_size, \</div>
<div class="line"><span class="lineno"> 1467</span>                <span class="stringliteral">&quot;Both input models should have same no. of topics, &quot;</span> \</div>
<div class="line"><span class="lineno"> 1468</span>                <span class="stringliteral">&quot;as the diagonal will only be valid in a square matrix&quot;</span></div>
<div class="line"><span class="lineno"> 1469</span>            <span class="comment"># initialize z and annotation array</span></div>
<div class="line"><span class="lineno"> 1470</span>            z = np.zeros(t1_size)</div>
<div class="line"><span class="lineno"> 1471</span>            <span class="keywordflow">if</span> annotation:</div>
<div class="line"><span class="lineno"> 1472</span>                annotation_terms = np.zeros(t1_size, dtype=list)</div>
<div class="line"><span class="lineno"> 1473</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1474</span>            <span class="comment"># initialize z and annotation matrix</span></div>
<div class="line"><span class="lineno"> 1475</span>            z = np.zeros((t1_size, t2_size))</div>
<div class="line"><span class="lineno"> 1476</span>            <span class="keywordflow">if</span> annotation:</div>
<div class="line"><span class="lineno"> 1477</span>                annotation_terms = np.zeros((t1_size, t2_size), dtype=list)</div>
<div class="line"><span class="lineno"> 1478</span> </div>
<div class="line"><span class="lineno"> 1479</span>        <span class="comment"># iterate over each cell in the initialized z and annotation</span></div>
<div class="line"><span class="lineno"> 1480</span>        <span class="keywordflow">for</span> topic <span class="keywordflow">in</span> np.ndindex(z.shape):</div>
<div class="line"><span class="lineno"> 1481</span>            topic1 = topic[0]</div>
<div class="line"><span class="lineno"> 1482</span>            <span class="keywordflow">if</span> diagonal:</div>
<div class="line"><span class="lineno"> 1483</span>                topic2 = topic1</div>
<div class="line"><span class="lineno"> 1484</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1485</span>                topic2 = topic[1]</div>
<div class="line"><span class="lineno"> 1486</span> </div>
<div class="line"><span class="lineno"> 1487</span>            z[topic] = distance_func(d1[topic1], d2[topic2])</div>
<div class="line"><span class="lineno"> 1488</span>            <span class="keywordflow">if</span> annotation:</div>
<div class="line"><span class="lineno"> 1489</span>                pos_tokens = fst_topics[topic1] &amp; snd_topics[topic2]</div>
<div class="line"><span class="lineno"> 1490</span>                neg_tokens = fst_topics[topic1].symmetric_difference(snd_topics[topic2])</div>
<div class="line"><span class="lineno"> 1491</span> </div>
<div class="line"><span class="lineno"> 1492</span>                pos_tokens = list(pos_tokens)[:min(len(pos_tokens), n_ann_terms)]</div>
<div class="line"><span class="lineno"> 1493</span>                neg_tokens = list(neg_tokens)[:min(len(neg_tokens), n_ann_terms)]</div>
<div class="line"><span class="lineno"> 1494</span> </div>
<div class="line"><span class="lineno"> 1495</span>                annotation_terms[topic] = [pos_tokens, neg_tokens]</div>
<div class="line"><span class="lineno"> 1496</span> </div>
<div class="line"><span class="lineno"> 1497</span>        <span class="keywordflow">if</span> normed:</div>
<div class="line"><span class="lineno"> 1498</span>            <span class="keywordflow">if</span> np.abs(np.max(z)) &gt; 1e-8:</div>
<div class="line"><span class="lineno"> 1499</span>                z /= np.max(z)</div>
<div class="line"><span class="lineno"> 1500</span> </div>
<div class="line"><span class="lineno"> 1501</span>        <span class="keywordflow">return</span> z, annotation_terms</div>
<div class="line"><span class="lineno"> 1502</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a976af0506468efb7312ea182ef38cb0b" name="a976af0506468efb7312ea182ef38cb0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a976af0506468efb7312ea182ef38cb0b">&#9670;&#160;</a></span>do_estep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.do_estep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>state</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Perform inference on a chunk of documents, and accumulate the collected sufficient statistics.

Parameters
----------
chunk : {list of list of (int, float), scipy.sparse.csc}
    The corpus chunk on which the inference step will be performed.
state : :class:`~gensim.models.ldamodel.LdaState`, optional
    The state to be updated with the newly accumulated sufficient statistics. If none, the models
    `self.state` is updated.

Returns
-------
numpy.ndarray
    Gamma parameters controlling the topic weights, shape (`len(chunk)`, `self.num_topics`).</pre> 
<p>Reimplemented in <a class="el" href="classgensim_1_1models_1_1atmodel_1_1_author_topic_model.html#aa7871c6870799efce08aeef5fdf5b60a">gensim.models.atmodel.AuthorTopicModel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  723</span>    <span class="keyword">def </span>do_estep(self, chunk, state=None):</div>
<div class="line"><span class="lineno">  724</span>        <span class="stringliteral">&quot;&quot;&quot;Perform inference on a chunk of documents, and accumulate the collected sufficient statistics.</span></div>
<div class="line"><span class="lineno">  725</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  726</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  727</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  728</span><span class="stringliteral">        chunk : {list of list of (int, float), scipy.sparse.csc}</span></div>
<div class="line"><span class="lineno">  729</span><span class="stringliteral">            The corpus chunk on which the inference step will be performed.</span></div>
<div class="line"><span class="lineno">  730</span><span class="stringliteral">        state : :class:`~gensim.models.ldamodel.LdaState`, optional</span></div>
<div class="line"><span class="lineno">  731</span><span class="stringliteral">            The state to be updated with the newly accumulated sufficient statistics. If none, the models</span></div>
<div class="line"><span class="lineno">  732</span><span class="stringliteral">            `self.state` is updated.</span></div>
<div class="line"><span class="lineno">  733</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  734</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  735</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  736</span><span class="stringliteral">        numpy.ndarray</span></div>
<div class="line"><span class="lineno">  737</span><span class="stringliteral">            Gamma parameters controlling the topic weights, shape (`len(chunk)`, `self.num_topics`).</span></div>
<div class="line"><span class="lineno">  738</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  739</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  740</span>        <span class="keywordflow">if</span> state <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  741</span>            state = self.state</div>
<div class="line"><span class="lineno">  742</span>        gamma, sstats = self.inference(chunk, collect_sstats=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  743</span>        state.sstats += sstats</div>
<div class="line"><span class="lineno">  744</span>        state.numdocs += gamma.shape[0]  <span class="comment"># avoids calling len(chunk) on a generator</span></div>
<div class="line"><span class="lineno">  745</span>        <span class="keyword">assert</span> gamma.dtype == self.dtype</div>
<div class="line"><span class="lineno">  746</span>        <span class="keywordflow">return</span> gamma</div>
<div class="line"><span class="lineno">  747</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abff8c31b5cfbc8efa2d9a3a174e5cdd2" name="abff8c31b5cfbc8efa2d9a3a174e5cdd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abff8c31b5cfbc8efa2d9a3a174e5cdd2">&#9670;&#160;</a></span>do_mstep()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.do_mstep </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rho</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extra_pass</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Maximization step: use linear interpolation between the existing topics and
collected sufficient statistics in `other` to update the topics.

Parameters
----------
rho : float
    Learning rate.
other : :class:`~gensim.models.ldamodel.LdaModel`
    The model whose sufficient statistics will be used to update the topics.
extra_pass : bool, optional
    Whether this step required an additional pass over the corpus.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1023</span>    <span class="keyword">def </span>do_mstep(self, rho, other, extra_pass=False):</div>
<div class="line"><span class="lineno"> 1024</span>        <span class="stringliteral">&quot;&quot;&quot;Maximization step: use linear interpolation between the existing topics and</span></div>
<div class="line"><span class="lineno"> 1025</span><span class="stringliteral">        collected sufficient statistics in `other` to update the topics.</span></div>
<div class="line"><span class="lineno"> 1026</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1027</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1028</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1029</span><span class="stringliteral">        rho : float</span></div>
<div class="line"><span class="lineno"> 1030</span><span class="stringliteral">            Learning rate.</span></div>
<div class="line"><span class="lineno"> 1031</span><span class="stringliteral">        other : :class:`~gensim.models.ldamodel.LdaModel`</span></div>
<div class="line"><span class="lineno"> 1032</span><span class="stringliteral">            The model whose sufficient statistics will be used to update the topics.</span></div>
<div class="line"><span class="lineno"> 1033</span><span class="stringliteral">        extra_pass : bool, optional</span></div>
<div class="line"><span class="lineno"> 1034</span><span class="stringliteral">            Whether this step required an additional pass over the corpus.</span></div>
<div class="line"><span class="lineno"> 1035</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1036</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1037</span>        logger.debug(<span class="stringliteral">&quot;updating topics&quot;</span>)</div>
<div class="line"><span class="lineno"> 1038</span>        <span class="comment"># update self with the new blend; also keep track of how much did</span></div>
<div class="line"><span class="lineno"> 1039</span>        <span class="comment"># the topics change through this update, to assess convergence</span></div>
<div class="line"><span class="lineno"> 1040</span>        previous_Elogbeta = self.state.get_Elogbeta()</div>
<div class="line"><span class="lineno"> 1041</span>        self.state.blend(rho, other)</div>
<div class="line"><span class="lineno"> 1042</span> </div>
<div class="line"><span class="lineno"> 1043</span>        current_Elogbeta = self.state.get_Elogbeta()</div>
<div class="line"><span class="lineno"> 1044</span>        self.sync_state(current_Elogbeta)</div>
<div class="line"><span class="lineno"> 1045</span> </div>
<div class="line"><span class="lineno"> 1046</span>        <span class="comment"># print out some debug info at the end of each EM iteration</span></div>
<div class="line"><span class="lineno"> 1047</span>        self.print_topics(5)</div>
<div class="line"><span class="lineno"> 1048</span>        diff = mean_absolute_difference(previous_Elogbeta.ravel(), current_Elogbeta.ravel())</div>
<div class="line"><span class="lineno"> 1049</span>        logger.info(<span class="stringliteral">&quot;topic diff=%f, rho=%f&quot;</span>, diff, rho)</div>
<div class="line"><span class="lineno"> 1050</span> </div>
<div class="line"><span class="lineno"> 1051</span>        <span class="keywordflow">if</span> self.optimize_eta:</div>
<div class="line"><span class="lineno"> 1052</span>            self.update_eta(self.state.get_lambda(), rho)</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> extra_pass:</div>
<div class="line"><span class="lineno"> 1055</span>            <span class="comment"># only update if this isn&#39;t an additional pass</span></div>
<div class="line"><span class="lineno"> 1056</span>            self.num_updates += other.numdocs</div>
<div class="line"><span class="lineno"> 1057</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a292a1258f4cec1d9fa154626cd01150b" name="a292a1258f4cec1d9fa154626cd01150b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a292a1258f4cec1d9fa154626cd01150b">&#9670;&#160;</a></span>get_document_topics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.get_document_topics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>minimum_probability</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>minimum_phi_value</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>per_word_topics</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the topic distribution for the given document.

Parameters
----------
bow : corpus : list of (int, float)
    The document in BOW format.
minimum_probability : float
    Topics with an assigned probability lower than this threshold will be discarded.
minimum_phi_value : float
    If `per_word_topics` is True, this represents a lower bound on the term probabilities that are included.
     If set to None, a value of 1e-8 is used to prevent 0s.
per_word_topics : bool
    If True, this function will also return two extra lists as explained in the "Returns" section.

Returns
-------
list of (int, float)
    Topic distribution for the whole document. Each element in the list is a pair of a topic's id, and
    the probability that was assigned to it.
list of (int, list of (int, float), optional
    Most probable topics per word. Each element in the list is a pair of a word's id, and a list of
    topics sorted by their relevance to this word. Only returned if `per_word_topics` was set to True.
list of (int, list of float), optional
    Phi relevance values, multiplied by the feature length, for each word-topic combination.
    Each element in the list is a pair of a word's id and a list of the phi values between this word and
    each topic. Only returned if `per_word_topics` was set to True.</pre> 
<p>Reimplemented in <a class="el" href="classgensim_1_1models_1_1atmodel_1_1_author_topic_model.html#abe7295d918b2dbc635cfddea09e9232b">gensim.models.atmodel.AuthorTopicModel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1282</span>                            per_word_topics=<span class="keyword">False</span>):</div>
<div class="line"><span class="lineno"> 1283</span>        <span class="stringliteral">&quot;&quot;&quot;Get the topic distribution for the given document.</span></div>
<div class="line"><span class="lineno"> 1284</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1285</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1286</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1287</span><span class="stringliteral">        bow : corpus : list of (int, float)</span></div>
<div class="line"><span class="lineno"> 1288</span><span class="stringliteral">            The document in BOW format.</span></div>
<div class="line"><span class="lineno"> 1289</span><span class="stringliteral">        minimum_probability : float</span></div>
<div class="line"><span class="lineno"> 1290</span><span class="stringliteral">            Topics with an assigned probability lower than this threshold will be discarded.</span></div>
<div class="line"><span class="lineno"> 1291</span><span class="stringliteral">        minimum_phi_value : float</span></div>
<div class="line"><span class="lineno"> 1292</span><span class="stringliteral">            If `per_word_topics` is True, this represents a lower bound on the term probabilities that are included.</span></div>
<div class="line"><span class="lineno"> 1293</span><span class="stringliteral">             If set to None, a value of 1e-8 is used to prevent 0s.</span></div>
<div class="line"><span class="lineno"> 1294</span><span class="stringliteral">        per_word_topics : bool</span></div>
<div class="line"><span class="lineno"> 1295</span><span class="stringliteral">            If True, this function will also return two extra lists as explained in the &quot;Returns&quot; section.</span></div>
<div class="line"><span class="lineno"> 1296</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1297</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1298</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1299</span><span class="stringliteral">        list of (int, float)</span></div>
<div class="line"><span class="lineno"> 1300</span><span class="stringliteral">            Topic distribution for the whole document. Each element in the list is a pair of a topic&#39;s id, and</span></div>
<div class="line"><span class="lineno"> 1301</span><span class="stringliteral">            the probability that was assigned to it.</span></div>
<div class="line"><span class="lineno"> 1302</span><span class="stringliteral">        list of (int, list of (int, float), optional</span></div>
<div class="line"><span class="lineno"> 1303</span><span class="stringliteral">            Most probable topics per word. Each element in the list is a pair of a word&#39;s id, and a list of</span></div>
<div class="line"><span class="lineno"> 1304</span><span class="stringliteral">            topics sorted by their relevance to this word. Only returned if `per_word_topics` was set to True.</span></div>
<div class="line"><span class="lineno"> 1305</span><span class="stringliteral">        list of (int, list of float), optional</span></div>
<div class="line"><span class="lineno"> 1306</span><span class="stringliteral">            Phi relevance values, multiplied by the feature length, for each word-topic combination.</span></div>
<div class="line"><span class="lineno"> 1307</span><span class="stringliteral">            Each element in the list is a pair of a word&#39;s id and a list of the phi values between this word and</span></div>
<div class="line"><span class="lineno"> 1308</span><span class="stringliteral">            each topic. Only returned if `per_word_topics` was set to True.</span></div>
<div class="line"><span class="lineno"> 1309</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1310</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1311</span>        <span class="keywordflow">if</span> minimum_probability <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1312</span>            minimum_probability = self.minimum_probability</div>
<div class="line"><span class="lineno"> 1313</span>        minimum_probability = max(minimum_probability, 1e-8)  <span class="comment"># never allow zero values in sparse output</span></div>
<div class="line"><span class="lineno"> 1314</span> </div>
<div class="line"><span class="lineno"> 1315</span>        <span class="keywordflow">if</span> minimum_phi_value <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1316</span>            minimum_phi_value = self.minimum_probability</div>
<div class="line"><span class="lineno"> 1317</span>        minimum_phi_value = max(minimum_phi_value, 1e-8)  <span class="comment"># never allow zero values in sparse output</span></div>
<div class="line"><span class="lineno"> 1318</span> </div>
<div class="line"><span class="lineno"> 1319</span>        <span class="comment"># if the input vector is a corpus, return a transformed corpus</span></div>
<div class="line"><span class="lineno"> 1320</span>        is_corpus, corpus = utils.is_corpus(bow)</div>
<div class="line"><span class="lineno"> 1321</span>        <span class="keywordflow">if</span> is_corpus:</div>
<div class="line"><span class="lineno"> 1322</span>            kwargs = dict(</div>
<div class="line"><span class="lineno"> 1323</span>                per_word_topics=per_word_topics,</div>
<div class="line"><span class="lineno"> 1324</span>                minimum_probability=minimum_probability,</div>
<div class="line"><span class="lineno"> 1325</span>                minimum_phi_value=minimum_phi_value</div>
<div class="line"><span class="lineno"> 1326</span>            )</div>
<div class="line"><span class="lineno"> 1327</span>            <span class="keywordflow">return</span> self._apply(corpus, **kwargs)</div>
<div class="line"><span class="lineno"> 1328</span> </div>
<div class="line"><span class="lineno"> 1329</span>        gamma, phis = self.inference([bow], collect_sstats=per_word_topics)</div>
<div class="line"><span class="lineno"> 1330</span>        topic_dist = gamma[0] / sum(gamma[0])  <span class="comment"># normalize distribution</span></div>
<div class="line"><span class="lineno"> 1331</span> </div>
<div class="line"><span class="lineno"> 1332</span>        document_topics = [</div>
<div class="line"><span class="lineno"> 1333</span>            (topicid, topicvalue) <span class="keywordflow">for</span> topicid, topicvalue <span class="keywordflow">in</span> enumerate(topic_dist)</div>
<div class="line"><span class="lineno"> 1334</span>            <span class="keywordflow">if</span> topicvalue &gt;= minimum_probability</div>
<div class="line"><span class="lineno"> 1335</span>        ]</div>
<div class="line"><span class="lineno"> 1336</span> </div>
<div class="line"><span class="lineno"> 1337</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> per_word_topics:</div>
<div class="line"><span class="lineno"> 1338</span>            <span class="keywordflow">return</span> document_topics</div>
<div class="line"><span class="lineno"> 1339</span> </div>
<div class="line"><span class="lineno"> 1340</span>        word_topic = []  <span class="comment"># contains word and corresponding topic</span></div>
<div class="line"><span class="lineno"> 1341</span>        word_phi = []  <span class="comment"># contains word and phi values</span></div>
<div class="line"><span class="lineno"> 1342</span>        <span class="keywordflow">for</span> word_type, weight <span class="keywordflow">in</span> bow:</div>
<div class="line"><span class="lineno"> 1343</span>            phi_values = []  <span class="comment"># contains (phi_value, topic) pairing to later be sorted</span></div>
<div class="line"><span class="lineno"> 1344</span>            phi_topic = []  <span class="comment"># contains topic and corresponding phi value to be returned &#39;raw&#39; to user</span></div>
<div class="line"><span class="lineno"> 1345</span>            <span class="keywordflow">for</span> topic_id <span class="keywordflow">in</span> range(0, self.num_topics):</div>
<div class="line"><span class="lineno"> 1346</span>                <span class="keywordflow">if</span> phis[topic_id][word_type] &gt;= minimum_phi_value:</div>
<div class="line"><span class="lineno"> 1347</span>                    <span class="comment"># appends phi values for each topic for that word</span></div>
<div class="line"><span class="lineno"> 1348</span>                    <span class="comment"># these phi values are scaled by feature length</span></div>
<div class="line"><span class="lineno"> 1349</span>                    phi_values.append((phis[topic_id][word_type], topic_id))</div>
<div class="line"><span class="lineno"> 1350</span>                    phi_topic.append((topic_id, phis[topic_id][word_type]))</div>
<div class="line"><span class="lineno"> 1351</span> </div>
<div class="line"><span class="lineno"> 1352</span>            <span class="comment"># list with ({word_id =&gt; [(topic_0, phi_value), (topic_1, phi_value) ...]).</span></div>
<div class="line"><span class="lineno"> 1353</span>            word_phi.append((word_type, phi_topic))</div>
<div class="line"><span class="lineno"> 1354</span>            <span class="comment"># sorts the topics based on most likely topic</span></div>
<div class="line"><span class="lineno"> 1355</span>            <span class="comment"># returns a list like ({word_id =&gt; [topic_id_most_probable, topic_id_second_most_probable, ...]).</span></div>
<div class="line"><span class="lineno"> 1356</span>            sorted_phi_values = sorted(phi_values, reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1357</span>            topics_sorted = [x[1] <span class="keywordflow">for</span> x <span class="keywordflow">in</span> sorted_phi_values]</div>
<div class="line"><span class="lineno"> 1358</span>            word_topic.append((word_type, topics_sorted))</div>
<div class="line"><span class="lineno"> 1359</span> </div>
<div class="line"><span class="lineno"> 1360</span>        <span class="keywordflow">return</span> document_topics, word_topic, word_phi  <span class="comment"># returns 2-tuple</span></div>
<div class="line"><span class="lineno"> 1361</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac782912895700bff863d433ad4b793ae" name="ac782912895700bff863d433ad4b793ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac782912895700bff863d433ad4b793ae">&#9670;&#160;</a></span>get_term_topics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.get_term_topics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>word_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>minimum_probability</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the most relevant topics to the given word.

Parameters
----------
word_id : int
    The word for which the topic distribution will be computed.
minimum_probability : float, optional
    Topics with an assigned probability below this threshold will be discarded.

Returns
-------
list of (int, float)
    The relevant topics represented as pairs of their ID and their assigned probability, sorted
    by relevance to the given word.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1362</span>    <span class="keyword">def </span>get_term_topics(self, word_id, minimum_probability=None):</div>
<div class="line"><span class="lineno"> 1363</span>        <span class="stringliteral">&quot;&quot;&quot;Get the most relevant topics to the given word.</span></div>
<div class="line"><span class="lineno"> 1364</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1365</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1366</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1367</span><span class="stringliteral">        word_id : int</span></div>
<div class="line"><span class="lineno"> 1368</span><span class="stringliteral">            The word for which the topic distribution will be computed.</span></div>
<div class="line"><span class="lineno"> 1369</span><span class="stringliteral">        minimum_probability : float, optional</span></div>
<div class="line"><span class="lineno"> 1370</span><span class="stringliteral">            Topics with an assigned probability below this threshold will be discarded.</span></div>
<div class="line"><span class="lineno"> 1371</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1372</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1373</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1374</span><span class="stringliteral">        list of (int, float)</span></div>
<div class="line"><span class="lineno"> 1375</span><span class="stringliteral">            The relevant topics represented as pairs of their ID and their assigned probability, sorted</span></div>
<div class="line"><span class="lineno"> 1376</span><span class="stringliteral">            by relevance to the given word.</span></div>
<div class="line"><span class="lineno"> 1377</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1378</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1379</span>        <span class="keywordflow">if</span> minimum_probability <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1380</span>            minimum_probability = self.minimum_probability</div>
<div class="line"><span class="lineno"> 1381</span>        minimum_probability = max(minimum_probability, 1e-8)  <span class="comment"># never allow zero values in sparse output</span></div>
<div class="line"><span class="lineno"> 1382</span> </div>
<div class="line"><span class="lineno"> 1383</span>        <span class="comment"># if user enters word instead of id in vocab, change to get id</span></div>
<div class="line"><span class="lineno"> 1384</span>        <span class="keywordflow">if</span> isinstance(word_id, str):</div>
<div class="line"><span class="lineno"> 1385</span>            word_id = self.id2word.doc2bow([word_id])[0][0]</div>
<div class="line"><span class="lineno"> 1386</span> </div>
<div class="line"><span class="lineno"> 1387</span>        values = []</div>
<div class="line"><span class="lineno"> 1388</span>        <span class="keywordflow">for</span> topic_id <span class="keywordflow">in</span> range(0, self.num_topics):</div>
<div class="line"><span class="lineno"> 1389</span>            <span class="keywordflow">if</span> self.expElogbeta[topic_id][word_id] &gt;= minimum_probability:</div>
<div class="line"><span class="lineno"> 1390</span>                values.append((topic_id, self.expElogbeta[topic_id][word_id]))</div>
<div class="line"><span class="lineno"> 1391</span> </div>
<div class="line"><span class="lineno"> 1392</span>        <span class="keywordflow">return</span> values</div>
<div class="line"><span class="lineno"> 1393</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ade59261f7221558cd84f0fccd4aa30c7" name="ade59261f7221558cd84f0fccd4aa30c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade59261f7221558cd84f0fccd4aa30c7">&#9670;&#160;</a></span>get_topic_terms()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.get_topic_terms </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>topicid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>topn</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the representation for a single topic. Words the integer IDs, in constrast to
:meth:`~gensim.models.ldamodel.LdaModel.show_topic` that represents words by the actual strings.

Parameters
----------
topicid : int
    The ID of the topic to be returned
topn : int, optional
    Number of the most significant words that are associated with the topic.

Returns
-------
list of (int, float)
    Word ID - probability pairs for the most relevant words generated by the topic.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1207</span>    <span class="keyword">def </span>get_topic_terms(self, topicid, topn=10):</div>
<div class="line"><span class="lineno"> 1208</span>        <span class="stringliteral">&quot;&quot;&quot;Get the representation for a single topic. Words the integer IDs, in constrast to</span></div>
<div class="line"><span class="lineno"> 1209</span><span class="stringliteral">        :meth:`~gensim.models.ldamodel.LdaModel.show_topic` that represents words by the actual strings.</span></div>
<div class="line"><span class="lineno"> 1210</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1211</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1212</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1213</span><span class="stringliteral">        topicid : int</span></div>
<div class="line"><span class="lineno"> 1214</span><span class="stringliteral">            The ID of the topic to be returned</span></div>
<div class="line"><span class="lineno"> 1215</span><span class="stringliteral">        topn : int, optional</span></div>
<div class="line"><span class="lineno"> 1216</span><span class="stringliteral">            Number of the most significant words that are associated with the topic.</span></div>
<div class="line"><span class="lineno"> 1217</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1218</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1219</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1220</span><span class="stringliteral">        list of (int, float)</span></div>
<div class="line"><span class="lineno"> 1221</span><span class="stringliteral">            Word ID - probability pairs for the most relevant words generated by the topic.</span></div>
<div class="line"><span class="lineno"> 1222</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1223</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1224</span>        topic = self.get_topics()[topicid]</div>
<div class="line"><span class="lineno"> 1225</span>        topic = topic / topic.sum()  <span class="comment"># normalize to probability distribution</span></div>
<div class="line"><span class="lineno"> 1226</span>        bestn = matutils.argsort(topic, topn, reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1227</span>        <span class="keywordflow">return</span> [(idx, topic[idx]) <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> bestn]</div>
<div class="line"><span class="lineno"> 1228</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a851c05d7748018487462a8231f784761" name="a851c05d7748018487462a8231f784761"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a851c05d7748018487462a8231f784761">&#9670;&#160;</a></span>get_topics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.get_topics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the term-topic matrix learned during inference.


Returns
-------
numpy.ndarray
    The probability for each word in each topic, shape (`num_topics`, `vocabulary_size`).</pre> 
<p>Reimplemented from <a class="el" href="classgensim_1_1models_1_1basemodel_1_1_base_topic_model.html#a9e68b5ca46f431be2891630f06fa8d2d">gensim.models.basemodel.BaseTopicModel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1194</span>    <span class="keyword">def </span>get_topics(self):</div>
<div class="line"><span class="lineno"> 1195</span>        <span class="stringliteral">&quot;&quot;&quot;Get the term-topic matrix learned during inference.</span></div>
<div class="line"><span class="lineno"> 1196</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1197</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1198</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1199</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1200</span><span class="stringliteral">        numpy.ndarray</span></div>
<div class="line"><span class="lineno"> 1201</span><span class="stringliteral">            The probability for each word in each topic, shape (`num_topics`, `vocabulary_size`).</span></div>
<div class="line"><span class="lineno"> 1202</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1203</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1204</span>        topics = self.state.get_lambda()</div>
<div class="line"><span class="lineno"> 1205</span>        <span class="keywordflow">return</span> topics / topics.sum(axis=1)[:, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno"> 1206</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d678ae8bc969fa19e25c93b5d0a4e4a" name="a6d678ae8bc969fa19e25c93b5d0a4e4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d678ae8bc969fa19e25c93b5d0a4e4a">&#9670;&#160;</a></span>inference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.inference </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>collect_sstats</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Given a chunk of sparse document vectors, estimate gamma (parameters controlling the topic weights)
for each document in the chunk.

This function does not modify the model The whole input chunk of document is assumed to fit in RAM;
chunking of a large corpus must be done earlier in the pipeline. Avoids computing the `phi` variational
parameter directly using the optimization presented in
`Lee, Seung: Algorithms for non-negative matrix factorization"
&lt;https://papers.nips.cc/paper/1861-algorithms-for-non-negative-matrix-factorization.pdf&gt;`_.

Parameters
----------
chunk : {list of list of (int, float), scipy.sparse.csc}
    The corpus chunk on which the inference step will be performed.
collect_sstats : bool, optional
    If set to True, also collect (and return) sufficient statistics needed to update the model's topic-word
    distributions.

Returns
-------
(numpy.ndarray, {numpy.ndarray, None})
    The first element is always returned and it corresponds to the states gamma matrix. The second element is
    only returned if `collect_sstats` == True and corresponds to the sufficient statistics for the M step.</pre> 
<p>Reimplemented in <a class="el" href="classgensim_1_1models_1_1atmodel_1_1_author_topic_model.html#ab82f5b130fa700d169ec7dde21c76450">gensim.models.atmodel.AuthorTopicModel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  617</span>    <span class="keyword">def </span>inference(self, chunk, collect_sstats=False):</div>
<div class="line"><span class="lineno">  618</span>        <span class="stringliteral">&quot;&quot;&quot;Given a chunk of sparse document vectors, estimate gamma (parameters controlling the topic weights)</span></div>
<div class="line"><span class="lineno">  619</span><span class="stringliteral">        for each document in the chunk.</span></div>
<div class="line"><span class="lineno">  620</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  621</span><span class="stringliteral">        This function does not modify the model The whole input chunk of document is assumed to fit in RAM;</span></div>
<div class="line"><span class="lineno">  622</span><span class="stringliteral">        chunking of a large corpus must be done earlier in the pipeline. Avoids computing the `phi` variational</span></div>
<div class="line"><span class="lineno">  623</span><span class="stringliteral">        parameter directly using the optimization presented in</span></div>
<div class="line"><span class="lineno">  624</span><span class="stringliteral">        `Lee, Seung: Algorithms for non-negative matrix factorization&quot;</span></div>
<div class="line"><span class="lineno">  625</span><span class="stringliteral">        &lt;https://papers.nips.cc/paper/1861-algorithms-for-non-negative-matrix-factorization.pdf&gt;`_.</span></div>
<div class="line"><span class="lineno">  626</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  627</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  628</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  629</span><span class="stringliteral">        chunk : {list of list of (int, float), scipy.sparse.csc}</span></div>
<div class="line"><span class="lineno">  630</span><span class="stringliteral">            The corpus chunk on which the inference step will be performed.</span></div>
<div class="line"><span class="lineno">  631</span><span class="stringliteral">        collect_sstats : bool, optional</span></div>
<div class="line"><span class="lineno">  632</span><span class="stringliteral">            If set to True, also collect (and return) sufficient statistics needed to update the model&#39;s topic-word</span></div>
<div class="line"><span class="lineno">  633</span><span class="stringliteral">            distributions.</span></div>
<div class="line"><span class="lineno">  634</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  635</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  636</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  637</span><span class="stringliteral">        (numpy.ndarray, {numpy.ndarray, None})</span></div>
<div class="line"><span class="lineno">  638</span><span class="stringliteral">            The first element is always returned and it corresponds to the states gamma matrix. The second element is</span></div>
<div class="line"><span class="lineno">  639</span><span class="stringliteral">            only returned if `collect_sstats` == True and corresponds to the sufficient statistics for the M step.</span></div>
<div class="line"><span class="lineno">  640</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  641</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  642</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  643</span>            len(chunk)</div>
<div class="line"><span class="lineno">  644</span>        <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno">  645</span>            <span class="comment"># convert iterators/generators to plain list, so we have len() etc.</span></div>
<div class="line"><span class="lineno">  646</span>            chunk = list(chunk)</div>
<div class="line"><span class="lineno">  647</span>        <span class="keywordflow">if</span> len(chunk) &gt; 1:</div>
<div class="line"><span class="lineno">  648</span>            logger.debug(<span class="stringliteral">&quot;performing inference on a chunk of %i documents&quot;</span>, len(chunk))</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>        <span class="comment"># Initialize the variational distribution q(theta|gamma) for the chunk</span></div>
<div class="line"><span class="lineno">  651</span>        gamma = self.random_state.gamma(100., 1. / 100., (len(chunk), self.num_topics)).astype(self.dtype, copy=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  652</span>        Elogtheta = dirichlet_expectation(gamma)</div>
<div class="line"><span class="lineno">  653</span>        expElogtheta = np.exp(Elogtheta)</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>        <span class="keyword">assert</span> Elogtheta.dtype == self.dtype</div>
<div class="line"><span class="lineno">  656</span>        <span class="keyword">assert</span> expElogtheta.dtype == self.dtype</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>        <span class="keywordflow">if</span> collect_sstats:</div>
<div class="line"><span class="lineno">  659</span>            sstats = np.zeros_like(self.expElogbeta, dtype=self.dtype)</div>
<div class="line"><span class="lineno">  660</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  661</span>            sstats = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  662</span>        converged = 0</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>        <span class="comment"># Now, for each document d update that document&#39;s gamma and phi</span></div>
<div class="line"><span class="lineno">  665</span>        <span class="comment"># Inference code copied from Hoffman&#39;s `onlineldavb.py` (esp. the</span></div>
<div class="line"><span class="lineno">  666</span>        <span class="comment"># Lee&amp;Seung trick which speeds things up by an order of magnitude, compared</span></div>
<div class="line"><span class="lineno">  667</span>        <span class="comment"># to Blei&#39;s original LDA-C code, cool!).</span></div>
<div class="line"><span class="lineno">  668</span>        integer_types = six.integer_types + (np.integer,)</div>
<div class="line"><span class="lineno">  669</span>        epsilon = np.finfo(self.dtype).eps</div>
<div class="line"><span class="lineno">  670</span>        <span class="keywordflow">for</span> d, doc <span class="keywordflow">in</span> enumerate(chunk):</div>
<div class="line"><span class="lineno">  671</span>            <span class="keywordflow">if</span> len(doc) &gt; 0 <span class="keywordflow">and</span> <span class="keywordflow">not</span> isinstance(doc[0][0], integer_types):</div>
<div class="line"><span class="lineno">  672</span>                <span class="comment"># make sure the term IDs are ints, otherwise np will get upset</span></div>
<div class="line"><span class="lineno">  673</span>                ids = [int(idx) <span class="keywordflow">for</span> idx, _ <span class="keywordflow">in</span> doc]</div>
<div class="line"><span class="lineno">  674</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  675</span>                ids = [idx <span class="keywordflow">for</span> idx, _ <span class="keywordflow">in</span> doc]</div>
<div class="line"><span class="lineno">  676</span>            cts = np.fromiter((cnt <span class="keywordflow">for</span> _, cnt <span class="keywordflow">in</span> doc), dtype=self.dtype, count=len(doc))</div>
<div class="line"><span class="lineno">  677</span>            gammad = gamma[d, :]</div>
<div class="line"><span class="lineno">  678</span>            Elogthetad = Elogtheta[d, :]</div>
<div class="line"><span class="lineno">  679</span>            expElogthetad = expElogtheta[d, :]</div>
<div class="line"><span class="lineno">  680</span>            expElogbetad = self.expElogbeta[:, ids]</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>            <span class="comment"># The optimal phi_{dwk} is proportional to expElogthetad_k * expElogbetad_w.</span></div>
<div class="line"><span class="lineno">  683</span>            <span class="comment"># phinorm is the normalizer.</span></div>
<div class="line"><span class="lineno">  684</span>            <span class="comment"># TODO treat zeros explicitly, instead of adding epsilon?</span></div>
<div class="line"><span class="lineno">  685</span>            phinorm = np.dot(expElogthetad, expElogbetad) + epsilon</div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>            <span class="comment"># Iterate between gamma and phi until convergence</span></div>
<div class="line"><span class="lineno">  688</span>            <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(self.iterations):</div>
<div class="line"><span class="lineno">  689</span>                lastgamma = gammad</div>
<div class="line"><span class="lineno">  690</span>                <span class="comment"># We represent phi implicitly to save memory and time.</span></div>
<div class="line"><span class="lineno">  691</span>                <span class="comment"># Substituting the value of the optimal phi back into</span></div>
<div class="line"><span class="lineno">  692</span>                <span class="comment"># the update for gamma gives this update. Cf. Lee&amp;Seung 2001.</span></div>
<div class="line"><span class="lineno">  693</span>                gammad = self.alpha + expElogthetad * np.dot(cts / phinorm, expElogbetad.T)</div>
<div class="line"><span class="lineno">  694</span>                Elogthetad = dirichlet_expectation(gammad)</div>
<div class="line"><span class="lineno">  695</span>                expElogthetad = np.exp(Elogthetad)</div>
<div class="line"><span class="lineno">  696</span>                phinorm = np.dot(expElogthetad, expElogbetad) + epsilon</div>
<div class="line"><span class="lineno">  697</span>                <span class="comment"># If gamma hasn&#39;t changed much, we&#39;re done.</span></div>
<div class="line"><span class="lineno">  698</span>                meanchange = mean_absolute_difference(gammad, lastgamma)</div>
<div class="line"><span class="lineno">  699</span>                <span class="keywordflow">if</span> meanchange &lt; self.gamma_threshold:</div>
<div class="line"><span class="lineno">  700</span>                    converged += 1</div>
<div class="line"><span class="lineno">  701</span>                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  702</span>            gamma[d, :] = gammad</div>
<div class="line"><span class="lineno">  703</span>            <span class="keyword">assert</span> gammad.dtype == self.dtype</div>
<div class="line"><span class="lineno">  704</span>            <span class="keywordflow">if</span> collect_sstats:</div>
<div class="line"><span class="lineno">  705</span>                <span class="comment"># Contribution of document d to the expected sufficient</span></div>
<div class="line"><span class="lineno">  706</span>                <span class="comment"># statistics for the M step.</span></div>
<div class="line"><span class="lineno">  707</span>                sstats[:, ids] += np.outer(expElogthetad.T, cts / phinorm)</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>        <span class="keywordflow">if</span> len(chunk) &gt; 1:</div>
<div class="line"><span class="lineno">  710</span>            logger.debug(<span class="stringliteral">&quot;%i/%i documents converged within %i iterations&quot;</span>, converged, len(chunk), self.iterations)</div>
<div class="line"><span class="lineno">  711</span> </div>
<div class="line"><span class="lineno">  712</span>        <span class="keywordflow">if</span> collect_sstats:</div>
<div class="line"><span class="lineno">  713</span>            <span class="comment"># This step finishes computing the sufficient statistics for the</span></div>
<div class="line"><span class="lineno">  714</span>            <span class="comment"># M step, so that</span></div>
<div class="line"><span class="lineno">  715</span>            <span class="comment"># sstats[k, w] = \sum_d n_{dw} * phi_{dwk}</span></div>
<div class="line"><span class="lineno">  716</span>            <span class="comment"># = \sum_d n_{dw} * exp{Elogtheta_{dk} + Elogbeta_{kw}} / phinorm_{dw}.</span></div>
<div class="line"><span class="lineno">  717</span>            sstats *= self.expElogbeta</div>
<div class="line"><span class="lineno">  718</span>            <span class="keyword">assert</span> sstats.dtype == self.dtype</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>        <span class="keyword">assert</span> gamma.dtype == self.dtype</div>
<div class="line"><span class="lineno">  721</span>        <span class="keywordflow">return</span> gamma, sstats</div>
<div class="line"><span class="lineno">  722</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cbd4ef15d6f0433740d10b81bfb57ce" name="a2cbd4ef15d6f0433740d10b81bfb57ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cbd4ef15d6f0433740d10b81bfb57ce">&#9670;&#160;</a></span>init_dir_prior()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.init_dir_prior </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prior</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Initialize priors for the Dirichlet distribution.

Parameters
----------
prior : {str, list of float, numpy.ndarray of float, float}
    A-priori belief on word probability. If `name` == 'eta' then the prior can be:

        * scalar for a symmetric prior over topic/word probability,
        * vector of length num_words to denote an asymmetric user defined probability for each word,
        * matrix of shape (num_topics, num_words) to assign a probability for each word-topic combination,
        * the string 'auto' to learn the asymmetric prior from the data.

    If `name` == 'alpha', then the prior can be:

        * an 1D array of length equal to the number of expected topics,
        * 'asymmetric': Uses a fixed normalized asymmetric prior of `1.0 / topicno`.
        * 'auto': Learns an asymmetric prior from the corpus.
name : {'alpha', 'eta'}
    Whether the `prior` is parameterized by the alpha vector (1 parameter per topic)
    or by the eta (1 parameter per unique term in the vocabulary).
</pre> <div class="fragment"><div class="line"><span class="lineno">  521</span>    <span class="keyword">def </span>init_dir_prior(self, prior, name):</div>
<div class="line"><span class="lineno">  522</span>        <span class="stringliteral">&quot;&quot;&quot;Initialize priors for the Dirichlet distribution.</span></div>
<div class="line"><span class="lineno">  523</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  524</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  525</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  526</span><span class="stringliteral">        prior : {str, list of float, numpy.ndarray of float, float}</span></div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral">            A-priori belief on word probability. If `name` == &#39;eta&#39; then the prior can be:</span></div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral">                * scalar for a symmetric prior over topic/word probability,</span></div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">                * vector of length num_words to denote an asymmetric user defined probability for each word,</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral">                * matrix of shape (num_topics, num_words) to assign a probability for each word-topic combination,</span></div>
<div class="line"><span class="lineno">  532</span><span class="stringliteral">                * the string &#39;auto&#39; to learn the asymmetric prior from the data.</span></div>
<div class="line"><span class="lineno">  533</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  534</span><span class="stringliteral">            If `name` == &#39;alpha&#39;, then the prior can be:</span></div>
<div class="line"><span class="lineno">  535</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  536</span><span class="stringliteral">                * an 1D array of length equal to the number of expected topics,</span></div>
<div class="line"><span class="lineno">  537</span><span class="stringliteral">                * &#39;asymmetric&#39;: Uses a fixed normalized asymmetric prior of `1.0 / topicno`.</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral">                * &#39;auto&#39;: Learns an asymmetric prior from the corpus.</span></div>
<div class="line"><span class="lineno">  539</span><span class="stringliteral">        name : {&#39;alpha&#39;, &#39;eta&#39;}</span></div>
<div class="line"><span class="lineno">  540</span><span class="stringliteral">            Whether the `prior` is parameterized by the alpha vector (1 parameter per topic)</span></div>
<div class="line"><span class="lineno">  541</span><span class="stringliteral">            or by the eta (1 parameter per unique term in the vocabulary).</span></div>
<div class="line"><span class="lineno">  542</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  543</span>        <span class="keywordflow">if</span> prior <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  544</span>            prior = <span class="stringliteral">&#39;symmetric&#39;</span></div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>        <span class="keywordflow">if</span> name == <span class="stringliteral">&#39;alpha&#39;</span>:</div>
<div class="line"><span class="lineno">  547</span>            prior_shape = self.num_topics</div>
<div class="line"><span class="lineno">  548</span>        <span class="keywordflow">elif</span> name == <span class="stringliteral">&#39;eta&#39;</span>:</div>
<div class="line"><span class="lineno">  549</span>            prior_shape = self.num_terms</div>
<div class="line"><span class="lineno">  550</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  551</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;&#39;name&#39; must be &#39;alpha&#39; or &#39;eta&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>        is_auto = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>        <span class="keywordflow">if</span> isinstance(prior, six.string_types):</div>
<div class="line"><span class="lineno">  556</span>            <span class="keywordflow">if</span> prior == <span class="stringliteral">&#39;symmetric&#39;</span>:</div>
<div class="line"><span class="lineno">  557</span>                logger.info(<span class="stringliteral">&quot;using symmetric %s at %s&quot;</span>, name, 1.0 / self.num_topics)</div>
<div class="line"><span class="lineno">  558</span>                init_prior = np.fromiter((1.0 / self.num_topics <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(prior_shape)),</div>
<div class="line"><span class="lineno">  559</span>                    dtype=self.dtype, count=prior_shape)</div>
<div class="line"><span class="lineno">  560</span>            <span class="keywordflow">elif</span> prior == <span class="stringliteral">&#39;asymmetric&#39;</span>:</div>
<div class="line"><span class="lineno">  561</span>                init_prior = np.fromiter((1.0 / (i + np.sqrt(prior_shape)) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(prior_shape)),</div>
<div class="line"><span class="lineno">  562</span>                    dtype=self.dtype, count=prior_shape)</div>
<div class="line"><span class="lineno">  563</span>                init_prior /= init_prior.sum()</div>
<div class="line"><span class="lineno">  564</span>                logger.info(<span class="stringliteral">&quot;using asymmetric %s %s&quot;</span>, name, list(init_prior))</div>
<div class="line"><span class="lineno">  565</span>            <span class="keywordflow">elif</span> prior == <span class="stringliteral">&#39;auto&#39;</span>:</div>
<div class="line"><span class="lineno">  566</span>                is_auto = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  567</span>                init_prior = np.fromiter((1.0 / self.num_topics <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(prior_shape)),</div>
<div class="line"><span class="lineno">  568</span>                    dtype=self.dtype, count=prior_shape)</div>
<div class="line"><span class="lineno">  569</span>                <span class="keywordflow">if</span> name == <span class="stringliteral">&#39;alpha&#39;</span>:</div>
<div class="line"><span class="lineno">  570</span>                    logger.info(<span class="stringliteral">&quot;using autotuned %s, starting with %s&quot;</span>, name, list(init_prior))</div>
<div class="line"><span class="lineno">  571</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  572</span>                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Unable to determine proper %s value given &#39;%s&#39;&quot;</span> % (name, prior))</div>
<div class="line"><span class="lineno">  573</span>        <span class="keywordflow">elif</span> isinstance(prior, list):</div>
<div class="line"><span class="lineno">  574</span>            init_prior = np.asarray(prior, dtype=self.dtype)</div>
<div class="line"><span class="lineno">  575</span>        <span class="keywordflow">elif</span> isinstance(prior, np.ndarray):</div>
<div class="line"><span class="lineno">  576</span>            init_prior = prior.astype(self.dtype, copy=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  577</span>        <span class="keywordflow">elif</span> isinstance(prior, (np.number, numbers.Real)):</div>
<div class="line"><span class="lineno">  578</span>            init_prior = np.fromiter((prior <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(prior_shape)), dtype=self.dtype)</div>
<div class="line"><span class="lineno">  579</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  580</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;%s must be either a np array of scalars, list of scalars, or scalar&quot;</span> % name)</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>        <span class="keywordflow">return</span> init_prior, is_auto</div>
<div class="line"><span class="lineno">  583</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aeb2c0102d7d08304beab89f72406109c" name="aeb2c0102d7d08304beab89f72406109c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb2c0102d7d08304beab89f72406109c">&#9670;&#160;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load a previously saved :class:`gensim.models.ldamodel.LdaModel` from file.

See Also
--------
:meth:`~gensim.models.ldamodel.LdaModel.save`
    Save model.

Parameters
----------
fname : str
    Path to the file where the model is stored.
*args
    Positional arguments propagated to :meth:`~gensim.utils.SaveLoad.load`.
**kwargs
    Key word arguments propagated to :meth:`~gensim.utils.SaveLoad.load`.

Examples
--------
Large arrays can be memmap'ed back as read-only (shared memory) by setting `mmap='r'`:

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.test.utils import datapath
    &gt;&gt;&gt;
    &gt;&gt;&gt; fname = datapath("lda_3_0_1_model")
    &gt;&gt;&gt; lda = LdaModel.load(fname, mmap='r')</pre> 
<p>Reimplemented from <a class="el" href="classgensim_1_1utils_1_1_save_load.html#a70d054bfd9dfd1373fef9e0e691a24b5">gensim.utils.SaveLoad</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1608</span>    <span class="keyword">def </span>load(cls, fname, *args, **kwargs):</div>
<div class="line"><span class="lineno"> 1609</span>        <span class="stringliteral">&quot;&quot;&quot;Load a previously saved :class:`gensim.models.ldamodel.LdaModel` from file.</span></div>
<div class="line"><span class="lineno"> 1610</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1611</span><span class="stringliteral">        See Also</span></div>
<div class="line"><span class="lineno"> 1612</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno"> 1613</span><span class="stringliteral">        :meth:`~gensim.models.ldamodel.LdaModel.save`</span></div>
<div class="line"><span class="lineno"> 1614</span><span class="stringliteral">            Save model.</span></div>
<div class="line"><span class="lineno"> 1615</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1616</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1617</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1618</span><span class="stringliteral">        fname : str</span></div>
<div class="line"><span class="lineno"> 1619</span><span class="stringliteral">            Path to the file where the model is stored.</span></div>
<div class="line"><span class="lineno"> 1620</span><span class="stringliteral">        *args</span></div>
<div class="line"><span class="lineno"> 1621</span><span class="stringliteral">            Positional arguments propagated to :meth:`~gensim.utils.SaveLoad.load`.</span></div>
<div class="line"><span class="lineno"> 1622</span><span class="stringliteral">        **kwargs</span></div>
<div class="line"><span class="lineno"> 1623</span><span class="stringliteral">            Key word arguments propagated to :meth:`~gensim.utils.SaveLoad.load`.</span></div>
<div class="line"><span class="lineno"> 1624</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1625</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno"> 1626</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno"> 1627</span><span class="stringliteral">        Large arrays can be memmap&#39;ed back as read-only (shared memory) by setting `mmap=&#39;r&#39;`:</span></div>
<div class="line"><span class="lineno"> 1628</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1629</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno"> 1630</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1631</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.test.utils import datapath</span></div>
<div class="line"><span class="lineno"> 1632</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno"> 1633</span><span class="stringliteral">            &gt;&gt;&gt; fname = datapath(&quot;lda_3_0_1_model&quot;)</span></div>
<div class="line"><span class="lineno"> 1634</span><span class="stringliteral">            &gt;&gt;&gt; lda = LdaModel.load(fname, mmap=&#39;r&#39;)</span></div>
<div class="line"><span class="lineno"> 1635</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1636</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1637</span>        kwargs[<span class="stringliteral">&#39;mmap&#39;</span>] = kwargs.get(<span class="stringliteral">&#39;mmap&#39;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 1638</span>        result = super(LdaModel, cls).load(fname, *args, **kwargs)</div>
<div class="line"><span class="lineno"> 1639</span> </div>
<div class="line"><span class="lineno"> 1640</span>        <span class="comment"># check if `random_state` attribute has been set after main pickle load</span></div>
<div class="line"><span class="lineno"> 1641</span>        <span class="comment"># if set -&gt; the model to be loaded was saved using a &gt;= 0.13.2 version of Gensim</span></div>
<div class="line"><span class="lineno"> 1642</span>        <span class="comment"># if not set -&gt; the model to be loaded was saved using a &lt; 0.13.2 version of Gensim,</span></div>
<div class="line"><span class="lineno"> 1643</span>        <span class="comment"># so set `random_state` as the default value</span></div>
<div class="line"><span class="lineno"> 1644</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(result, <span class="stringliteral">&#39;random_state&#39;</span>):</div>
<div class="line"><span class="lineno"> 1645</span>            result.random_state = utils.get_random_state(<span class="keywordtype">None</span>)  <span class="comment"># using default value `get_random_state(None)`</span></div>
<div class="line"><span class="lineno"> 1646</span>            logging.warning(<span class="stringliteral">&quot;random_state not set so using default value&quot;</span>)</div>
<div class="line"><span class="lineno"> 1647</span> </div>
<div class="line"><span class="lineno"> 1648</span>        <span class="comment"># dtype could be absent in old models</span></div>
<div class="line"><span class="lineno"> 1649</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(result, <span class="stringliteral">&#39;dtype&#39;</span>):</div>
<div class="line"><span class="lineno"> 1650</span>            result.dtype = np.float64  <span class="comment"># float64 was implicitly used before (cause it&#39;s default in numpy)</span></div>
<div class="line"><span class="lineno"> 1651</span>            logging.info(<span class="stringliteral">&quot;dtype was not set in saved %s file %s, assuming np.float64&quot;</span>, result.__class__.__name__, fname)</div>
<div class="line"><span class="lineno"> 1652</span> </div>
<div class="line"><span class="lineno"> 1653</span>        state_fname = utils.smart_extension(fname, <span class="stringliteral">&#39;.state&#39;</span>)</div>
<div class="line"><span class="lineno"> 1654</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1655</span>            result.state = LdaState.load(state_fname, *args, **kwargs)</div>
<div class="line"><span class="lineno"> 1656</span>        <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno"> 1657</span>            logging.warning(<span class="stringliteral">&quot;failed to load state from %s: %s&quot;</span>, state_fname, e)</div>
<div class="line"><span class="lineno"> 1658</span> </div>
<div class="line"><span class="lineno"> 1659</span>        id2word_fname = utils.smart_extension(fname, <span class="stringliteral">&#39;.id2word&#39;</span>)</div>
<div class="line"><span class="lineno"> 1660</span>        <span class="comment"># check if `id2word_fname` file is present on disk</span></div>
<div class="line"><span class="lineno"> 1661</span>        <span class="comment"># if present -&gt; the model to be loaded was saved using a &gt;= 0.13.2 version of Gensim,</span></div>
<div class="line"><span class="lineno"> 1662</span>        <span class="comment"># so set `result.id2word` using the `id2word_fname` file</span></div>
<div class="line"><span class="lineno"> 1663</span>        <span class="comment"># if not present -&gt; the model to be loaded was saved using a &lt; 0.13.2 version of Gensim,</span></div>
<div class="line"><span class="lineno"> 1664</span>        <span class="comment"># so `result.id2word` already set after the main pickle load</span></div>
<div class="line"><span class="lineno"> 1665</span>        <span class="keywordflow">if</span> os.path.isfile(id2word_fname):</div>
<div class="line"><span class="lineno"> 1666</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1667</span>                result.id2word = utils.unpickle(id2word_fname)</div>
<div class="line"><span class="lineno"> 1668</span>            <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno"> 1669</span>                logging.warning(<span class="stringliteral">&quot;failed to load id2word dictionary from %s: %s&quot;</span>, id2word_fname, e)</div>
<div class="line"><span class="lineno"> 1670</span>        <span class="keywordflow">return</span> result</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0ae0ee089be0a925bf33841d4e9d650" name="ac0ae0ee089be0a925bf33841d4e9d650"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0ae0ee089be0a925bf33841d4e9d650">&#9670;&#160;</a></span>log_perplexity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.log_perplexity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>total_docs</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculate and return per-word likelihood bound, using a chunk of documents as evaluation corpus.

Also output the calculated statistics, including the perplexity=2^(-bound), to log at INFO level.

Parameters
----------
chunk : {list of list of (int, float), scipy.sparse.csc}
    The corpus chunk on which the inference step will be performed.
total_docs : int, optional
    Number of docs used for evaluation of the perplexity.

Returns
-------
numpy.ndarray
    The variational bound score calculated for each word.</pre> 
<p>Reimplemented in <a class="el" href="classgensim_1_1models_1_1atmodel_1_1_author_topic_model.html#a0229cba4720baed120f19bc12a8b675f">gensim.models.atmodel.AuthorTopicModel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  799</span>    <span class="keyword">def </span>log_perplexity(self, chunk, total_docs=None):</div>
<div class="line"><span class="lineno">  800</span>        <span class="stringliteral">&quot;&quot;&quot;Calculate and return per-word likelihood bound, using a chunk of documents as evaluation corpus.</span></div>
<div class="line"><span class="lineno">  801</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  802</span><span class="stringliteral">        Also output the calculated statistics, including the perplexity=2^(-bound), to log at INFO level.</span></div>
<div class="line"><span class="lineno">  803</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  804</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  805</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  806</span><span class="stringliteral">        chunk : {list of list of (int, float), scipy.sparse.csc}</span></div>
<div class="line"><span class="lineno">  807</span><span class="stringliteral">            The corpus chunk on which the inference step will be performed.</span></div>
<div class="line"><span class="lineno">  808</span><span class="stringliteral">        total_docs : int, optional</span></div>
<div class="line"><span class="lineno">  809</span><span class="stringliteral">            Number of docs used for evaluation of the perplexity.</span></div>
<div class="line"><span class="lineno">  810</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  811</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  812</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  813</span><span class="stringliteral">        numpy.ndarray</span></div>
<div class="line"><span class="lineno">  814</span><span class="stringliteral">            The variational bound score calculated for each word.</span></div>
<div class="line"><span class="lineno">  815</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  816</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  817</span>        <span class="keywordflow">if</span> total_docs <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  818</span>            total_docs = len(chunk)</div>
<div class="line"><span class="lineno">  819</span>        corpus_words = sum(cnt <span class="keywordflow">for</span> document <span class="keywordflow">in</span> chunk <span class="keywordflow">for</span> _, cnt <span class="keywordflow">in</span> document)</div>
<div class="line"><span class="lineno">  820</span>        subsample_ratio = 1.0 * total_docs / len(chunk)</div>
<div class="line"><span class="lineno">  821</span>        perwordbound = self.bound(chunk, subsample_ratio=subsample_ratio) / (subsample_ratio * corpus_words)</div>
<div class="line"><span class="lineno">  822</span>        logger.info(</div>
<div class="line"><span class="lineno">  823</span>            <span class="stringliteral">&quot;%.3f per-word bound, %.1f perplexity estimate based on a held-out corpus of %i documents with %i words&quot;</span>,</div>
<div class="line"><span class="lineno">  824</span>            perwordbound, np.exp2(-perwordbound), len(chunk), corpus_words</div>
<div class="line"><span class="lineno">  825</span>        )</div>
<div class="line"><span class="lineno">  826</span>        <span class="keywordflow">return</span> perwordbound</div>
<div class="line"><span class="lineno">  827</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4afe326af84974dede9ed3bc99e5c44e" name="a4afe326af84974dede9ed3bc99e5c44e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4afe326af84974dede9ed3bc99e5c44e">&#9670;&#160;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.save </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ignore</em> = <code>('<a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a6c4a14825f0b4c643fb361ecbb3b08cc">state</a>',&#160;'<a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#ad55b7079099988743beb8a10c7f164e4">dispatcher</a>')</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>separately</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save the model to a file.

Large internal arrays may be stored into separate files, with `fname` as prefix.

Notes
-----
If you intend to use models across Python 2/3 versions there are a few things to
keep in mind:

  1. The pickled Python dictionaries will not work across Python versions
  2. The `save` method does not automatically save all numpy arrays separately, only
     those ones that exceed `sep_limit` set in :meth:`~gensim.utils.SaveLoad.save`. The main
     concern here is the `alpha` array if for instance using `alpha='auto'`.

Please refer to the `wiki recipes section
&lt;https://github.com/RaRe-Technologies/gensim/wiki/
Recipes-&amp;-FAQ#q9-how-do-i-load-a-model-in-python-3-that-was-trained-and-saved-using-python-2&gt;`_
for an example on how to work around these issues.

See Also
--------
:meth:`~gensim.models.ldamodel.LdaModel.load`
    Load model.

Parameters
----------
fname : str
    Path to the system file where the model will be persisted.
ignore : tuple of str, optional
    The named attributes in the tuple will be left out of the pickled model. The reason why
    the internal `state` is ignored by default is that it uses its own serialisation rather than the one
    provided by this method.
separately : {list of str, None}, optional
    If None -  automatically detect large numpy/scipy.sparse arrays in the object being stored, and store
    them into separate files. This avoids pickle memory errors and allows `mmap`'ing large arrays
    back on load efficiently. If list of str - this attributes will be stored in separate files,
    the automatic check is not performed in this case.
*args
    Positional arguments propagated to :meth:`~gensim.utils.SaveLoad.save`.
**kwargs
    Key word arguments propagated to :meth:`~gensim.utils.SaveLoad.save`.</pre> 
<p>Reimplemented from <a class="el" href="classgensim_1_1utils_1_1_save_load.html#a0767537a6eb767dfe4fb8cf6d5fc221c">gensim.utils.SaveLoad</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1526</span>    <span class="keyword">def </span>save(self, fname, ignore=(<span class="stringliteral">&#39;state&#39;</span>, <span class="stringliteral">&#39;dispatcher&#39;</span>), separately=<span class="keywordtype">None</span>, *args, **kwargs):</div>
<div class="line"><span class="lineno"> 1527</span>        <span class="stringliteral">&quot;&quot;&quot;Save the model to a file.</span></div>
<div class="line"><span class="lineno"> 1528</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1529</span><span class="stringliteral">        Large internal arrays may be stored into separate files, with `fname` as prefix.</span></div>
<div class="line"><span class="lineno"> 1530</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1531</span><span class="stringliteral">        Notes</span></div>
<div class="line"><span class="lineno"> 1532</span><span class="stringliteral">        -----</span></div>
<div class="line"><span class="lineno"> 1533</span><span class="stringliteral">        If you intend to use models across Python 2/3 versions there are a few things to</span></div>
<div class="line"><span class="lineno"> 1534</span><span class="stringliteral">        keep in mind:</span></div>
<div class="line"><span class="lineno"> 1535</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1536</span><span class="stringliteral">          1. The pickled Python dictionaries will not work across Python versions</span></div>
<div class="line"><span class="lineno"> 1537</span><span class="stringliteral">          2. The `save` method does not automatically save all numpy arrays separately, only</span></div>
<div class="line"><span class="lineno"> 1538</span><span class="stringliteral">             those ones that exceed `sep_limit` set in :meth:`~gensim.utils.SaveLoad.save`. The main</span></div>
<div class="line"><span class="lineno"> 1539</span><span class="stringliteral">             concern here is the `alpha` array if for instance using `alpha=&#39;auto&#39;`.</span></div>
<div class="line"><span class="lineno"> 1540</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1541</span><span class="stringliteral">        Please refer to the `wiki recipes section</span></div>
<div class="line"><span class="lineno"> 1542</span><span class="stringliteral">        &lt;https://github.com/RaRe-Technologies/gensim/wiki/</span></div>
<div class="line"><span class="lineno"> 1543</span><span class="stringliteral">        Recipes-&amp;-FAQ#q9-how-do-i-load-a-model-in-python-3-that-was-trained-and-saved-using-python-2&gt;`_</span></div>
<div class="line"><span class="lineno"> 1544</span><span class="stringliteral">        for an example on how to work around these issues.</span></div>
<div class="line"><span class="lineno"> 1545</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1546</span><span class="stringliteral">        See Also</span></div>
<div class="line"><span class="lineno"> 1547</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno"> 1548</span><span class="stringliteral">        :meth:`~gensim.models.ldamodel.LdaModel.load`</span></div>
<div class="line"><span class="lineno"> 1549</span><span class="stringliteral">            Load model.</span></div>
<div class="line"><span class="lineno"> 1550</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1551</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1552</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1553</span><span class="stringliteral">        fname : str</span></div>
<div class="line"><span class="lineno"> 1554</span><span class="stringliteral">            Path to the system file where the model will be persisted.</span></div>
<div class="line"><span class="lineno"> 1555</span><span class="stringliteral">        ignore : tuple of str, optional</span></div>
<div class="line"><span class="lineno"> 1556</span><span class="stringliteral">            The named attributes in the tuple will be left out of the pickled model. The reason why</span></div>
<div class="line"><span class="lineno"> 1557</span><span class="stringliteral">            the internal `state` is ignored by default is that it uses its own serialisation rather than the one</span></div>
<div class="line"><span class="lineno"> 1558</span><span class="stringliteral">            provided by this method.</span></div>
<div class="line"><span class="lineno"> 1559</span><span class="stringliteral">        separately : {list of str, None}, optional</span></div>
<div class="line"><span class="lineno"> 1560</span><span class="stringliteral">            If None -  automatically detect large numpy/scipy.sparse arrays in the object being stored, and store</span></div>
<div class="line"><span class="lineno"> 1561</span><span class="stringliteral">            them into separate files. This avoids pickle memory errors and allows `mmap`&#39;ing large arrays</span></div>
<div class="line"><span class="lineno"> 1562</span><span class="stringliteral">            back on load efficiently. If list of str - this attributes will be stored in separate files,</span></div>
<div class="line"><span class="lineno"> 1563</span><span class="stringliteral">            the automatic check is not performed in this case.</span></div>
<div class="line"><span class="lineno"> 1564</span><span class="stringliteral">        *args</span></div>
<div class="line"><span class="lineno"> 1565</span><span class="stringliteral">            Positional arguments propagated to :meth:`~gensim.utils.SaveLoad.save`.</span></div>
<div class="line"><span class="lineno"> 1566</span><span class="stringliteral">        **kwargs</span></div>
<div class="line"><span class="lineno"> 1567</span><span class="stringliteral">            Key word arguments propagated to :meth:`~gensim.utils.SaveLoad.save`.</span></div>
<div class="line"><span class="lineno"> 1568</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1569</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1570</span>        <span class="keywordflow">if</span> self.state <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1571</span>            self.state.save(utils.smart_extension(fname, <span class="stringliteral">&#39;.state&#39;</span>), *args, **kwargs)</div>
<div class="line"><span class="lineno"> 1572</span>        <span class="comment"># Save the dictionary separately if not in &#39;ignore&#39;.</span></div>
<div class="line"><span class="lineno"> 1573</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;id2word&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> ignore:</div>
<div class="line"><span class="lineno"> 1574</span>            utils.pickle(self.id2word, utils.smart_extension(fname, <span class="stringliteral">&#39;.id2word&#39;</span>))</div>
<div class="line"><span class="lineno"> 1575</span> </div>
<div class="line"><span class="lineno"> 1576</span>        <span class="comment"># make sure &#39;state&#39;, &#39;id2word&#39; and &#39;dispatcher&#39; are ignored from the pickled object, even if</span></div>
<div class="line"><span class="lineno"> 1577</span>        <span class="comment"># someone sets the ignore list themselves</span></div>
<div class="line"><span class="lineno"> 1578</span>        <span class="keywordflow">if</span> ignore <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> ignore:</div>
<div class="line"><span class="lineno"> 1579</span>            <span class="keywordflow">if</span> isinstance(ignore, six.string_types):</div>
<div class="line"><span class="lineno"> 1580</span>                ignore = [ignore]</div>
<div class="line"><span class="lineno"> 1581</span>            ignore = [e <span class="keywordflow">for</span> e <span class="keywordflow">in</span> ignore <span class="keywordflow">if</span> e]  <span class="comment"># make sure None and &#39;&#39; are not in the list</span></div>
<div class="line"><span class="lineno"> 1582</span>            ignore = list({<span class="stringliteral">&#39;state&#39;</span>, <span class="stringliteral">&#39;dispatcher&#39;</span>, <span class="stringliteral">&#39;id2word&#39;</span>} | set(ignore))</div>
<div class="line"><span class="lineno"> 1583</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1584</span>            ignore = [<span class="stringliteral">&#39;state&#39;</span>, <span class="stringliteral">&#39;dispatcher&#39;</span>, <span class="stringliteral">&#39;id2word&#39;</span>]</div>
<div class="line"><span class="lineno"> 1585</span> </div>
<div class="line"><span class="lineno"> 1586</span>        <span class="comment"># make sure &#39;expElogbeta&#39; and &#39;sstats&#39; are ignored from the pickled object, even if</span></div>
<div class="line"><span class="lineno"> 1587</span>        <span class="comment"># someone sets the separately list themselves.</span></div>
<div class="line"><span class="lineno"> 1588</span>        separately_explicit = [<span class="stringliteral">&#39;expElogbeta&#39;</span>, <span class="stringliteral">&#39;sstats&#39;</span>]</div>
<div class="line"><span class="lineno"> 1589</span>        <span class="comment"># Also add &#39;alpha&#39; and &#39;eta&#39; to separately list if they are set &#39;auto&#39; or some</span></div>
<div class="line"><span class="lineno"> 1590</span>        <span class="comment"># array manually.</span></div>
<div class="line"><span class="lineno"> 1591</span>        <span class="keywordflow">if</span> (isinstance(self.alpha, six.string_types) <span class="keywordflow">and</span> self.alpha == <span class="stringliteral">&#39;auto&#39;</span>) <span class="keywordflow">or</span> \</div>
<div class="line"><span class="lineno"> 1592</span>                (isinstance(self.alpha, np.ndarray) <span class="keywordflow">and</span> len(self.alpha.shape) != 1):</div>
<div class="line"><span class="lineno"> 1593</span>            separately_explicit.append(<span class="stringliteral">&#39;alpha&#39;</span>)</div>
<div class="line"><span class="lineno"> 1594</span>        <span class="keywordflow">if</span> (isinstance(self.eta, six.string_types) <span class="keywordflow">and</span> self.eta == <span class="stringliteral">&#39;auto&#39;</span>) <span class="keywordflow">or</span> \</div>
<div class="line"><span class="lineno"> 1595</span>                (isinstance(self.eta, np.ndarray) <span class="keywordflow">and</span> len(self.eta.shape) != 1):</div>
<div class="line"><span class="lineno"> 1596</span>            separately_explicit.append(<span class="stringliteral">&#39;eta&#39;</span>)</div>
<div class="line"><span class="lineno"> 1597</span>        <span class="comment"># Merge separately_explicit with separately.</span></div>
<div class="line"><span class="lineno"> 1598</span>        <span class="keywordflow">if</span> separately:</div>
<div class="line"><span class="lineno"> 1599</span>            <span class="keywordflow">if</span> isinstance(separately, six.string_types):</div>
<div class="line"><span class="lineno"> 1600</span>                separately = [separately]</div>
<div class="line"><span class="lineno"> 1601</span>            separately = [e <span class="keywordflow">for</span> e <span class="keywordflow">in</span> separately <span class="keywordflow">if</span> e]  <span class="comment"># make sure None and &#39;&#39; are not in the list</span></div>
<div class="line"><span class="lineno"> 1602</span>            separately = list(set(separately_explicit) | set(separately))</div>
<div class="line"><span class="lineno"> 1603</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1604</span>            separately = separately_explicit</div>
<div class="line"><span class="lineno"> 1605</span>        super(LdaModel, self).save(fname, ignore=ignore, separately=separately, *args, **kwargs)</div>
<div class="line"><span class="lineno"> 1606</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab7c4cb1c7a7493ad6361235ba7ef73ba" name="ab7c4cb1c7a7493ad6361235ba7ef73ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7c4cb1c7a7493ad6361235ba7ef73ba">&#9670;&#160;</a></span>show_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.show_topic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>topicid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>topn</em> = <code>10</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the representation for a single topic. Words here are the actual strings, in constrast to
:meth:`~gensim.models.ldamodel.LdaModel.get_topic_terms` that represents words by their vocabulary ID.

Parameters
----------
topicid : int
    The ID of the topic to be returned
topn : int, optional
    Number of the most significant words that are associated with the topic.

Returns
-------
list of (str, float)
    Word - probability pairs for the most relevant words generated by the topic.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1175</span>    <span class="keyword">def </span>show_topic(self, topicid, topn=10):</div>
<div class="line"><span class="lineno"> 1176</span>        <span class="stringliteral">&quot;&quot;&quot;Get the representation for a single topic. Words here are the actual strings, in constrast to</span></div>
<div class="line"><span class="lineno"> 1177</span><span class="stringliteral">        :meth:`~gensim.models.ldamodel.LdaModel.get_topic_terms` that represents words by their vocabulary ID.</span></div>
<div class="line"><span class="lineno"> 1178</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1179</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1180</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1181</span><span class="stringliteral">        topicid : int</span></div>
<div class="line"><span class="lineno"> 1182</span><span class="stringliteral">            The ID of the topic to be returned</span></div>
<div class="line"><span class="lineno"> 1183</span><span class="stringliteral">        topn : int, optional</span></div>
<div class="line"><span class="lineno"> 1184</span><span class="stringliteral">            Number of the most significant words that are associated with the topic.</span></div>
<div class="line"><span class="lineno"> 1185</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1186</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1187</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1188</span><span class="stringliteral">        list of (str, float)</span></div>
<div class="line"><span class="lineno"> 1189</span><span class="stringliteral">            Word - probability pairs for the most relevant words generated by the topic.</span></div>
<div class="line"><span class="lineno"> 1190</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1191</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1192</span>        <span class="keywordflow">return</span> [(self.id2word[id], value) <span class="keywordflow">for</span> id, value <span class="keywordflow">in</span> self.get_topic_terms(topicid, topn)]</div>
<div class="line"><span class="lineno"> 1193</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3105d06ba0eaae275708400a942b1d46" name="a3105d06ba0eaae275708400a942b1d46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3105d06ba0eaae275708400a942b1d46">&#9670;&#160;</a></span>show_topics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.show_topics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_topics</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_words</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>log</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>formatted</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get a representation for selected topics.

Parameters
----------
num_topics : int, optional
    Number of topics to be returned. Unlike LSA, there is no natural ordering between the topics in LDA.
    The returned topics subset of all topics is therefore arbitrary and may change between two LDA
    training runs.
num_words : int, optional
    Number of words to be presented for each topic. These will be the most relevant words (assigned the highest
    probability for each topic).
log : bool, optional
    Whether the output is also logged, besides being returned.
formatted : bool, optional
    Whether the topic representations should be formatted as strings. If False, they are returned as
    2 tuples of (word, probability).

Returns
-------
list of {str, tuple of (str, float)}
    a list of topics, each represented either as a string (when `formatted` == True) or word-probability
    pairs.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1120</span>    <span class="keyword">def </span>show_topics(self, num_topics=10, num_words=10, log=False, formatted=True):</div>
<div class="line"><span class="lineno"> 1121</span>        <span class="stringliteral">&quot;&quot;&quot;Get a representation for selected topics.</span></div>
<div class="line"><span class="lineno"> 1122</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1123</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1124</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1125</span><span class="stringliteral">        num_topics : int, optional</span></div>
<div class="line"><span class="lineno"> 1126</span><span class="stringliteral">            Number of topics to be returned. Unlike LSA, there is no natural ordering between the topics in LDA.</span></div>
<div class="line"><span class="lineno"> 1127</span><span class="stringliteral">            The returned topics subset of all topics is therefore arbitrary and may change between two LDA</span></div>
<div class="line"><span class="lineno"> 1128</span><span class="stringliteral">            training runs.</span></div>
<div class="line"><span class="lineno"> 1129</span><span class="stringliteral">        num_words : int, optional</span></div>
<div class="line"><span class="lineno"> 1130</span><span class="stringliteral">            Number of words to be presented for each topic. These will be the most relevant words (assigned the highest</span></div>
<div class="line"><span class="lineno"> 1131</span><span class="stringliteral">            probability for each topic).</span></div>
<div class="line"><span class="lineno"> 1132</span><span class="stringliteral">        log : bool, optional</span></div>
<div class="line"><span class="lineno"> 1133</span><span class="stringliteral">            Whether the output is also logged, besides being returned.</span></div>
<div class="line"><span class="lineno"> 1134</span><span class="stringliteral">        formatted : bool, optional</span></div>
<div class="line"><span class="lineno"> 1135</span><span class="stringliteral">            Whether the topic representations should be formatted as strings. If False, they are returned as</span></div>
<div class="line"><span class="lineno"> 1136</span><span class="stringliteral">            2 tuples of (word, probability).</span></div>
<div class="line"><span class="lineno"> 1137</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1138</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1139</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1140</span><span class="stringliteral">        list of {str, tuple of (str, float)}</span></div>
<div class="line"><span class="lineno"> 1141</span><span class="stringliteral">            a list of topics, each represented either as a string (when `formatted` == True) or word-probability</span></div>
<div class="line"><span class="lineno"> 1142</span><span class="stringliteral">            pairs.</span></div>
<div class="line"><span class="lineno"> 1143</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1144</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1145</span>        <span class="keywordflow">if</span> num_topics &lt; 0 <span class="keywordflow">or</span> num_topics &gt;= self.num_topics:</div>
<div class="line"><span class="lineno"> 1146</span>            num_topics = self.num_topics</div>
<div class="line"><span class="lineno"> 1147</span>            chosen_topics = range(num_topics)</div>
<div class="line"><span class="lineno"> 1148</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1149</span>            num_topics = min(num_topics, self.num_topics)</div>
<div class="line"><span class="lineno"> 1150</span> </div>
<div class="line"><span class="lineno"> 1151</span>            <span class="comment"># add a little random jitter, to randomize results around the same alpha</span></div>
<div class="line"><span class="lineno"> 1152</span>            sort_alpha = self.alpha + 0.0001 * self.random_state.rand(len(self.alpha))</div>
<div class="line"><span class="lineno"> 1153</span>            <span class="comment"># random_state.rand returns float64, but converting back to dtype won&#39;t speed up anything</span></div>
<div class="line"><span class="lineno"> 1154</span> </div>
<div class="line"><span class="lineno"> 1155</span>            sorted_topics = list(matutils.argsort(sort_alpha))</div>
<div class="line"><span class="lineno"> 1156</span>            chosen_topics = sorted_topics[:num_topics // 2] + sorted_topics[-num_topics // 2:]</div>
<div class="line"><span class="lineno"> 1157</span> </div>
<div class="line"><span class="lineno"> 1158</span>        shown = []</div>
<div class="line"><span class="lineno"> 1159</span> </div>
<div class="line"><span class="lineno"> 1160</span>        topic = self.state.get_lambda()</div>
<div class="line"><span class="lineno"> 1161</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> chosen_topics:</div>
<div class="line"><span class="lineno"> 1162</span>            topic_ = topic[i]</div>
<div class="line"><span class="lineno"> 1163</span>            topic_ = topic_ / topic_.sum()  <span class="comment"># normalize to probability distribution</span></div>
<div class="line"><span class="lineno"> 1164</span>            bestn = matutils.argsort(topic_, num_words, reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1165</span>            topic_ = [(self.id2word[id], topic_[id]) <span class="keywordflow">for</span> id <span class="keywordflow">in</span> bestn]</div>
<div class="line"><span class="lineno"> 1166</span>            <span class="keywordflow">if</span> formatted:</div>
<div class="line"><span class="lineno"> 1167</span>                topic_ = <span class="stringliteral">&#39; + &#39;</span>.join(<span class="stringliteral">&#39;%.3f*&quot;%s&quot;&#39;</span> % (v, k) <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> topic_)</div>
<div class="line"><span class="lineno"> 1168</span> </div>
<div class="line"><span class="lineno"> 1169</span>            shown.append((i, topic_))</div>
<div class="line"><span class="lineno"> 1170</span>            <span class="keywordflow">if</span> log:</div>
<div class="line"><span class="lineno"> 1171</span>                logger.info(<span class="stringliteral">&quot;topic #%i (%.3f): %s&quot;</span>, i, self.alpha[i], topic_)</div>
<div class="line"><span class="lineno"> 1172</span> </div>
<div class="line"><span class="lineno"> 1173</span>        <span class="keywordflow">return</span> shown</div>
<div class="line"><span class="lineno"> 1174</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e7478769fad59baa345252ca30ea512" name="a7e7478769fad59baa345252ca30ea512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e7478769fad59baa345252ca30ea512">&#9670;&#160;</a></span>sync_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.sync_state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>current_Elogbeta</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Propagate the states topic probabilities to the inner object's attribute.

Parameters
----------
current_Elogbeta: numpy.ndarray
    Posterior probabilities for each topic, optional.
    If omitted, it will get Elogbeta from state.
</pre> <div class="fragment"><div class="line"><span class="lineno">  597</span>    <span class="keyword">def </span>sync_state(self, current_Elogbeta=None):</div>
<div class="line"><span class="lineno">  598</span>        <span class="stringliteral">&quot;&quot;&quot;Propagate the states topic probabilities to the inner object&#39;s attribute.</span></div>
<div class="line"><span class="lineno">  599</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  600</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  601</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  602</span><span class="stringliteral">        current_Elogbeta: numpy.ndarray</span></div>
<div class="line"><span class="lineno">  603</span><span class="stringliteral">            Posterior probabilities for each topic, optional.</span></div>
<div class="line"><span class="lineno">  604</span><span class="stringliteral">            If omitted, it will get Elogbeta from state.</span></div>
<div class="line"><span class="lineno">  605</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>        <span class="keywordflow">if</span> current_Elogbeta <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  608</span>            current_Elogbeta = self.state.get_Elogbeta()</div>
<div class="line"><span class="lineno">  609</span>        self.expElogbeta = np.exp(current_Elogbeta)</div>
<div class="line"><span class="lineno">  610</span>        <span class="keyword">assert</span> self.expElogbeta.dtype == self.dtype</div>
<div class="line"><span class="lineno">  611</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0b41b0a07b6bbd7a5a1d6ac3ccebfb5" name="ab0b41b0a07b6bbd7a5a1d6ac3ccebfb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0b41b0a07b6bbd7a5a1d6ac3ccebfb5">&#9670;&#160;</a></span>top_topics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.top_topics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>texts</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dictionary</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>window_size</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>coherence</em> = <code>'u_mass'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>topn</em> = <code>20</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>processes</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the topics with the highest coherence score the coherence for each topic.

Parameters
----------
corpus : iterable of list of (int, float), optional
    Corpus in BoW format.
texts : list of list of str, optional
    Tokenized texts, needed for coherence models that use sliding window based (i.e. coherence=`c_something`)
    probability estimator .
dictionary : :class:`~gensim.corpora.dictionary.Dictionary`, optional
    Gensim dictionary mapping of id word to create corpus.
    If `model.id2word` is present, this is not needed. If both are provided, passed `dictionary` will be used.
window_size : int, optional
    Is the size of the window to be used for coherence measures using boolean sliding window as their
    probability estimator. For 'u_mass' this doesn't matter.
    If None - the default window sizes are used which are: 'c_v' - 110, 'c_uci' - 10, 'c_npmi' - 10.
coherence : {'u_mass', 'c_v', 'c_uci', 'c_npmi'}, optional
    Coherence measure to be used.
    Fastest method - 'u_mass', 'c_uci' also known as `c_pmi`.
    For 'u_mass' corpus should be provided, if texts is provided, it will be converted to corpus
    using the dictionary. For 'c_v', 'c_uci' and 'c_npmi' `texts` should be provided (`corpus` isn't needed)
topn : int, optional
    Integer corresponding to the number of top words to be extracted from each topic.
processes : int, optional
    Number of processes to use for probability estimation phase, any value less than 1 will be interpreted as
    num_cpus - 1.

Returns
-------
list of (list of (int, str), float)
    Each element in the list is a pair of a topic representation and its coherence score. Topic representations
    are distributions of words, represented as a list of pairs of word IDs and their probabilities.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1230</span>                   coherence=<span class="stringliteral">&#39;u_mass&#39;</span>, topn=20, processes=-1):</div>
<div class="line"><span class="lineno"> 1231</span>        <span class="stringliteral">&quot;&quot;&quot;Get the topics with the highest coherence score the coherence for each topic.</span></div>
<div class="line"><span class="lineno"> 1232</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1233</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1234</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1235</span><span class="stringliteral">        corpus : iterable of list of (int, float), optional</span></div>
<div class="line"><span class="lineno"> 1236</span><span class="stringliteral">            Corpus in BoW format.</span></div>
<div class="line"><span class="lineno"> 1237</span><span class="stringliteral">        texts : list of list of str, optional</span></div>
<div class="line"><span class="lineno"> 1238</span><span class="stringliteral">            Tokenized texts, needed for coherence models that use sliding window based (i.e. coherence=`c_something`)</span></div>
<div class="line"><span class="lineno"> 1239</span><span class="stringliteral">            probability estimator .</span></div>
<div class="line"><span class="lineno"> 1240</span><span class="stringliteral">        dictionary : :class:`~gensim.corpora.dictionary.Dictionary`, optional</span></div>
<div class="line"><span class="lineno"> 1241</span><span class="stringliteral">            Gensim dictionary mapping of id word to create corpus.</span></div>
<div class="line"><span class="lineno"> 1242</span><span class="stringliteral">            If `model.id2word` is present, this is not needed. If both are provided, passed `dictionary` will be used.</span></div>
<div class="line"><span class="lineno"> 1243</span><span class="stringliteral">        window_size : int, optional</span></div>
<div class="line"><span class="lineno"> 1244</span><span class="stringliteral">            Is the size of the window to be used for coherence measures using boolean sliding window as their</span></div>
<div class="line"><span class="lineno"> 1245</span><span class="stringliteral">            probability estimator. For &#39;u_mass&#39; this doesn&#39;t matter.</span></div>
<div class="line"><span class="lineno"> 1246</span><span class="stringliteral">            If None - the default window sizes are used which are: &#39;c_v&#39; - 110, &#39;c_uci&#39; - 10, &#39;c_npmi&#39; - 10.</span></div>
<div class="line"><span class="lineno"> 1247</span><span class="stringliteral">        coherence : {&#39;u_mass&#39;, &#39;c_v&#39;, &#39;c_uci&#39;, &#39;c_npmi&#39;}, optional</span></div>
<div class="line"><span class="lineno"> 1248</span><span class="stringliteral">            Coherence measure to be used.</span></div>
<div class="line"><span class="lineno"> 1249</span><span class="stringliteral">            Fastest method - &#39;u_mass&#39;, &#39;c_uci&#39; also known as `c_pmi`.</span></div>
<div class="line"><span class="lineno"> 1250</span><span class="stringliteral">            For &#39;u_mass&#39; corpus should be provided, if texts is provided, it will be converted to corpus</span></div>
<div class="line"><span class="lineno"> 1251</span><span class="stringliteral">            using the dictionary. For &#39;c_v&#39;, &#39;c_uci&#39; and &#39;c_npmi&#39; `texts` should be provided (`corpus` isn&#39;t needed)</span></div>
<div class="line"><span class="lineno"> 1252</span><span class="stringliteral">        topn : int, optional</span></div>
<div class="line"><span class="lineno"> 1253</span><span class="stringliteral">            Integer corresponding to the number of top words to be extracted from each topic.</span></div>
<div class="line"><span class="lineno"> 1254</span><span class="stringliteral">        processes : int, optional</span></div>
<div class="line"><span class="lineno"> 1255</span><span class="stringliteral">            Number of processes to use for probability estimation phase, any value less than 1 will be interpreted as</span></div>
<div class="line"><span class="lineno"> 1256</span><span class="stringliteral">            num_cpus - 1.</span></div>
<div class="line"><span class="lineno"> 1257</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1258</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1259</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1260</span><span class="stringliteral">        list of (list of (int, str), float)</span></div>
<div class="line"><span class="lineno"> 1261</span><span class="stringliteral">            Each element in the list is a pair of a topic representation and its coherence score. Topic representations</span></div>
<div class="line"><span class="lineno"> 1262</span><span class="stringliteral">            are distributions of words, represented as a list of pairs of word IDs and their probabilities.</span></div>
<div class="line"><span class="lineno"> 1263</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1264</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1265</span>        cm = CoherenceModel(</div>
<div class="line"><span class="lineno"> 1266</span>            model=self, corpus=corpus, texts=texts, dictionary=dictionary,</div>
<div class="line"><span class="lineno"> 1267</span>            window_size=window_size, coherence=coherence, topn=topn,</div>
<div class="line"><span class="lineno"> 1268</span>            processes=processes</div>
<div class="line"><span class="lineno"> 1269</span>        )</div>
<div class="line"><span class="lineno"> 1270</span>        coherence_scores = cm.get_coherence_per_topic()</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>        str_topics = []</div>
<div class="line"><span class="lineno"> 1273</span>        <span class="keywordflow">for</span> topic <span class="keywordflow">in</span> self.get_topics():  <span class="comment"># topic = array of vocab_size floats, one per term</span></div>
<div class="line"><span class="lineno"> 1274</span>            bestn = matutils.argsort(topic, topn=topn, reverse=<span class="keyword">True</span>)  <span class="comment"># top terms for topic</span></div>
<div class="line"><span class="lineno"> 1275</span>            beststr = [(topic[_id], self.id2word[_id]) <span class="keywordflow">for</span> _id <span class="keywordflow">in</span> bestn]  <span class="comment"># membership, token</span></div>
<div class="line"><span class="lineno"> 1276</span>            str_topics.append(beststr)  <span class="comment"># list of topn (float membership, token) tuples</span></div>
<div class="line"><span class="lineno"> 1277</span> </div>
<div class="line"><span class="lineno"> 1278</span>        scored_topics = zip(str_topics, coherence_scores)</div>
<div class="line"><span class="lineno"> 1279</span>        <span class="keywordflow">return</span> sorted(scored_topics, key=<span class="keyword">lambda</span> tup: tup[1], reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1280</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ed5b650e3aa623d9bbabd1d3f0f708a" name="a5ed5b650e3aa623d9bbabd1d3f0f708a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ed5b650e3aa623d9bbabd1d3f0f708a">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.update </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunksize</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>decay</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>offset</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>passes</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>update_every</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eval_every</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iterations</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gamma_threshold</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunks_as_numpy</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Train the model with new documents, by EM-iterating over the corpus until the topics converge, or until
the maximum number of allowed iterations is reached. `corpus` must be an iterable.

In distributed mode, the E step is distributed over a cluster of machines.

Notes
-----
This update also supports updating an already trained model with new documents; the two models are then merged
in proportion to the number of old vs. new documents. This feature is still experimental for non-stationary
input streams. For stationary input (no topic drift in new documents), on the other hand, this equals the
online update of `Matthew D. Hoffman, David M. Blei, Francis Bach:
"Online Learning for Latent Dirichlet Allocation NIPS'10" &lt;https://www.di.ens.fr/~fbach/mdhnips2010.pdf&gt;`_.
and is guaranteed to converge for any `decay` in (0.5, 1.0). Additionally, for smaller corpus sizes, an
increasing `offset` may be beneficial (see Table 1 in the same paper).

Parameters
----------
corpus : {iterable of list of (int, float), scipy.sparse.csc}, optional
    Stream of document vectors or sparse matrix of shape (`num_documents`, `num_terms`) used to update the
    model.
chunksize :  int, optional
    Number of documents to be used in each training chunk.
decay : float, optional
    A number between (0.5, 1] to weight what percentage of the previous lambda value is forgotten
    when each new document is examined. Corresponds to Kappa from
    `Matthew D. Hoffman, David M. Blei, Francis Bach:
    "Online Learning for Latent Dirichlet Allocation NIPS'10" &lt;https://www.di.ens.fr/~fbach/mdhnips2010.pdf&gt;`_.
offset : float, optional
    Hyper-parameter that controls how much we will slow down the first steps the first few iterations.
    Corresponds to Tau_0 from `Matthew D. Hoffman, David M. Blei, Francis Bach:
    "Online Learning for Latent Dirichlet Allocation NIPS'10" &lt;https://www.di.ens.fr/~fbach/mdhnips2010.pdf&gt;`_.
passes : int, optional
    Number of passes through the corpus during training.
update_every : int, optional
    Number of documents to be iterated through for each update.
    Set to 0 for batch learning, &gt; 1 for online iterative learning.
eval_every : int, optional
    Log perplexity is estimated every that many updates. Setting this to one slows down training by ~2x.
iterations : int, optional
    Maximum number of iterations through the corpus when inferring the topic distribution of a corpus.
gamma_threshold : float, optional
    Minimum change in the value of the gamma parameters to continue iterating.
chunks_as_numpy : bool, optional
    Whether each chunk passed to the inference step should be a numpy.ndarray or not. Numpy can in some settings
    turn the term IDs into floats, these will be converted back into integers in inference, which incurs a
    performance hit. For distributed computing it may be desirable to keep the chunks as `numpy.ndarray`.</pre> 
<p>Reimplemented in <a class="el" href="classgensim_1_1models_1_1ldamulticore_1_1_lda_multicore.html#acb90ecd8158d7cd395c2244ce2aa94d5">gensim.models.ldamulticore.LdaMulticore</a>, and <a class="el" href="classgensim_1_1models_1_1atmodel_1_1_author_topic_model.html#a5315d8b2d9c84473bc7448068a4aa438">gensim.models.atmodel.AuthorTopicModel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  830</span>               gamma_threshold=<span class="keywordtype">None</span>, chunks_as_numpy=<span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  831</span>        <span class="stringliteral">&quot;&quot;&quot;Train the model with new documents, by EM-iterating over the corpus until the topics converge, or until</span></div>
<div class="line"><span class="lineno">  832</span><span class="stringliteral">        the maximum number of allowed iterations is reached. `corpus` must be an iterable.</span></div>
<div class="line"><span class="lineno">  833</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  834</span><span class="stringliteral">        In distributed mode, the E step is distributed over a cluster of machines.</span></div>
<div class="line"><span class="lineno">  835</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  836</span><span class="stringliteral">        Notes</span></div>
<div class="line"><span class="lineno">  837</span><span class="stringliteral">        -----</span></div>
<div class="line"><span class="lineno">  838</span><span class="stringliteral">        This update also supports updating an already trained model with new documents; the two models are then merged</span></div>
<div class="line"><span class="lineno">  839</span><span class="stringliteral">        in proportion to the number of old vs. new documents. This feature is still experimental for non-stationary</span></div>
<div class="line"><span class="lineno">  840</span><span class="stringliteral">        input streams. For stationary input (no topic drift in new documents), on the other hand, this equals the</span></div>
<div class="line"><span class="lineno">  841</span><span class="stringliteral">        online update of `Matthew D. Hoffman, David M. Blei, Francis Bach:</span></div>
<div class="line"><span class="lineno">  842</span><span class="stringliteral">        &quot;Online Learning for Latent Dirichlet Allocation NIPS&#39;10&quot; &lt;https://www.di.ens.fr/~fbach/mdhnips2010.pdf&gt;`_.</span></div>
<div class="line"><span class="lineno">  843</span><span class="stringliteral">        and is guaranteed to converge for any `decay` in (0.5, 1.0). Additionally, for smaller corpus sizes, an</span></div>
<div class="line"><span class="lineno">  844</span><span class="stringliteral">        increasing `offset` may be beneficial (see Table 1 in the same paper).</span></div>
<div class="line"><span class="lineno">  845</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  846</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  847</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  848</span><span class="stringliteral">        corpus : {iterable of list of (int, float), scipy.sparse.csc}, optional</span></div>
<div class="line"><span class="lineno">  849</span><span class="stringliteral">            Stream of document vectors or sparse matrix of shape (`num_documents`, `num_terms`) used to update the</span></div>
<div class="line"><span class="lineno">  850</span><span class="stringliteral">            model.</span></div>
<div class="line"><span class="lineno">  851</span><span class="stringliteral">        chunksize :  int, optional</span></div>
<div class="line"><span class="lineno">  852</span><span class="stringliteral">            Number of documents to be used in each training chunk.</span></div>
<div class="line"><span class="lineno">  853</span><span class="stringliteral">        decay : float, optional</span></div>
<div class="line"><span class="lineno">  854</span><span class="stringliteral">            A number between (0.5, 1] to weight what percentage of the previous lambda value is forgotten</span></div>
<div class="line"><span class="lineno">  855</span><span class="stringliteral">            when each new document is examined. Corresponds to Kappa from</span></div>
<div class="line"><span class="lineno">  856</span><span class="stringliteral">            `Matthew D. Hoffman, David M. Blei, Francis Bach:</span></div>
<div class="line"><span class="lineno">  857</span><span class="stringliteral">            &quot;Online Learning for Latent Dirichlet Allocation NIPS&#39;10&quot; &lt;https://www.di.ens.fr/~fbach/mdhnips2010.pdf&gt;`_.</span></div>
<div class="line"><span class="lineno">  858</span><span class="stringliteral">        offset : float, optional</span></div>
<div class="line"><span class="lineno">  859</span><span class="stringliteral">            Hyper-parameter that controls how much we will slow down the first steps the first few iterations.</span></div>
<div class="line"><span class="lineno">  860</span><span class="stringliteral">            Corresponds to Tau_0 from `Matthew D. Hoffman, David M. Blei, Francis Bach:</span></div>
<div class="line"><span class="lineno">  861</span><span class="stringliteral">            &quot;Online Learning for Latent Dirichlet Allocation NIPS&#39;10&quot; &lt;https://www.di.ens.fr/~fbach/mdhnips2010.pdf&gt;`_.</span></div>
<div class="line"><span class="lineno">  862</span><span class="stringliteral">        passes : int, optional</span></div>
<div class="line"><span class="lineno">  863</span><span class="stringliteral">            Number of passes through the corpus during training.</span></div>
<div class="line"><span class="lineno">  864</span><span class="stringliteral">        update_every : int, optional</span></div>
<div class="line"><span class="lineno">  865</span><span class="stringliteral">            Number of documents to be iterated through for each update.</span></div>
<div class="line"><span class="lineno">  866</span><span class="stringliteral">            Set to 0 for batch learning, &gt; 1 for online iterative learning.</span></div>
<div class="line"><span class="lineno">  867</span><span class="stringliteral">        eval_every : int, optional</span></div>
<div class="line"><span class="lineno">  868</span><span class="stringliteral">            Log perplexity is estimated every that many updates. Setting this to one slows down training by ~2x.</span></div>
<div class="line"><span class="lineno">  869</span><span class="stringliteral">        iterations : int, optional</span></div>
<div class="line"><span class="lineno">  870</span><span class="stringliteral">            Maximum number of iterations through the corpus when inferring the topic distribution of a corpus.</span></div>
<div class="line"><span class="lineno">  871</span><span class="stringliteral">        gamma_threshold : float, optional</span></div>
<div class="line"><span class="lineno">  872</span><span class="stringliteral">            Minimum change in the value of the gamma parameters to continue iterating.</span></div>
<div class="line"><span class="lineno">  873</span><span class="stringliteral">        chunks_as_numpy : bool, optional</span></div>
<div class="line"><span class="lineno">  874</span><span class="stringliteral">            Whether each chunk passed to the inference step should be a numpy.ndarray or not. Numpy can in some settings</span></div>
<div class="line"><span class="lineno">  875</span><span class="stringliteral">            turn the term IDs into floats, these will be converted back into integers in inference, which incurs a</span></div>
<div class="line"><span class="lineno">  876</span><span class="stringliteral">            performance hit. For distributed computing it may be desirable to keep the chunks as `numpy.ndarray`.</span></div>
<div class="line"><span class="lineno">  877</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  878</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  879</span>        <span class="comment"># use parameters given in constructor, unless user explicitly overrode them</span></div>
<div class="line"><span class="lineno">  880</span>        <span class="keywordflow">if</span> decay <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  881</span>            decay = self.decay</div>
<div class="line"><span class="lineno">  882</span>        <span class="keywordflow">if</span> offset <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  883</span>            offset = self.offset</div>
<div class="line"><span class="lineno">  884</span>        <span class="keywordflow">if</span> passes <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  885</span>            passes = self.passes</div>
<div class="line"><span class="lineno">  886</span>        <span class="keywordflow">if</span> update_every <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  887</span>            update_every = self.update_every</div>
<div class="line"><span class="lineno">  888</span>        <span class="keywordflow">if</span> eval_every <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  889</span>            eval_every = self.eval_every</div>
<div class="line"><span class="lineno">  890</span>        <span class="keywordflow">if</span> iterations <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  891</span>            iterations = self.iterations</div>
<div class="line"><span class="lineno">  892</span>        <span class="keywordflow">if</span> gamma_threshold <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  893</span>            gamma_threshold = self.gamma_threshold</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  896</span>            lencorpus = len(corpus)</div>
<div class="line"><span class="lineno">  897</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  898</span>            logger.warning(<span class="stringliteral">&quot;input corpus stream has no len(); counting documents&quot;</span>)</div>
<div class="line"><span class="lineno">  899</span>            lencorpus = sum(1 <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> corpus)</div>
<div class="line"><span class="lineno">  900</span>        <span class="keywordflow">if</span> lencorpus == 0:</div>
<div class="line"><span class="lineno">  901</span>            logger.warning(<span class="stringliteral">&quot;LdaModel.update() called with an empty corpus&quot;</span>)</div>
<div class="line"><span class="lineno">  902</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span>        <span class="keywordflow">if</span> chunksize <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  905</span>            chunksize = min(lencorpus, self.chunksize)</div>
<div class="line"><span class="lineno">  906</span> </div>
<div class="line"><span class="lineno">  907</span>        self.state.numdocs += lencorpus</div>
<div class="line"><span class="lineno">  908</span> </div>
<div class="line"><span class="lineno">  909</span>        <span class="keywordflow">if</span> update_every:</div>
<div class="line"><span class="lineno">  910</span>            updatetype = <span class="stringliteral">&quot;online&quot;</span></div>
<div class="line"><span class="lineno">  911</span>            <span class="keywordflow">if</span> passes == 1:</div>
<div class="line"><span class="lineno">  912</span>                updatetype += <span class="stringliteral">&quot; (single-pass)&quot;</span></div>
<div class="line"><span class="lineno">  913</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  914</span>                updatetype += <span class="stringliteral">&quot; (multi-pass)&quot;</span></div>
<div class="line"><span class="lineno">  915</span>            updateafter = min(lencorpus, update_every * self.numworkers * chunksize)</div>
<div class="line"><span class="lineno">  916</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  917</span>            updatetype = <span class="stringliteral">&quot;batch&quot;</span></div>
<div class="line"><span class="lineno">  918</span>            updateafter = lencorpus</div>
<div class="line"><span class="lineno">  919</span>        evalafter = min(lencorpus, (eval_every <span class="keywordflow">or</span> 0) * self.numworkers * chunksize)</div>
<div class="line"><span class="lineno">  920</span> </div>
<div class="line"><span class="lineno">  921</span>        updates_per_pass = max(1, lencorpus / updateafter)</div>
<div class="line"><span class="lineno">  922</span>        logger.info(</div>
<div class="line"><span class="lineno">  923</span>            <span class="stringliteral">&quot;running %s LDA training, %s topics, %i passes over &quot;</span></div>
<div class="line"><span class="lineno">  924</span>            <span class="stringliteral">&quot;the supplied corpus of %i documents, updating model once &quot;</span></div>
<div class="line"><span class="lineno">  925</span>            <span class="stringliteral">&quot;every %i documents, evaluating perplexity every %i documents, &quot;</span></div>
<div class="line"><span class="lineno">  926</span>            <span class="stringliteral">&quot;iterating %ix with a convergence threshold of %f&quot;</span>,</div>
<div class="line"><span class="lineno">  927</span>            updatetype, self.num_topics, passes, lencorpus,</div>
<div class="line"><span class="lineno">  928</span>            updateafter, evalafter, iterations,</div>
<div class="line"><span class="lineno">  929</span>            gamma_threshold</div>
<div class="line"><span class="lineno">  930</span>        )</div>
<div class="line"><span class="lineno">  931</span> </div>
<div class="line"><span class="lineno">  932</span>        <span class="keywordflow">if</span> updates_per_pass * passes &lt; 10:</div>
<div class="line"><span class="lineno">  933</span>            logger.warning(</div>
<div class="line"><span class="lineno">  934</span>                <span class="stringliteral">&quot;too few updates, training might not converge; &quot;</span></div>
<div class="line"><span class="lineno">  935</span>                <span class="stringliteral">&quot;consider increasing the number of passes or iterations to improve accuracy&quot;</span></div>
<div class="line"><span class="lineno">  936</span>            )</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>        <span class="comment"># rho is the &quot;speed&quot; of updating; TODO try other fncs</span></div>
<div class="line"><span class="lineno">  939</span>        <span class="comment"># pass_ + num_updates handles increasing the starting t for each pass,</span></div>
<div class="line"><span class="lineno">  940</span>        <span class="comment"># while allowing it to &quot;reset&quot; on the first pass of each update</span></div>
<div class="line"><span class="lineno">  941</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#a9bb256f5d273cef048eb659e4ee52fe2">rho</a>():</div>
<div class="line"><span class="lineno">  942</span>            <span class="keywordflow">return</span> pow(offset + pass_ + (self.num_updates / chunksize), -decay)</div>
<div class="line"><span class="lineno">  943</span> </div>
<div class="line"><span class="lineno">  944</span>        <span class="keywordflow">if</span> self.callbacks:</div>
<div class="line"><span class="lineno">  945</span>            <span class="comment"># pass the list of input callbacks to Callback class</span></div>
<div class="line"><span class="lineno">  946</span>            callback = Callback(self.callbacks)</div>
<div class="line"><span class="lineno">  947</span>            callback.set_model(self)</div>
<div class="line"><span class="lineno">  948</span>            <span class="comment"># initialize metrics list to store metric values after every epoch</span></div>
<div class="line"><span class="lineno">  949</span>            self.metrics = defaultdict(list)</div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span>        <span class="keywordflow">for</span> pass_ <span class="keywordflow">in</span> range(passes):</div>
<div class="line"><span class="lineno">  952</span>            <span class="keywordflow">if</span> self.dispatcher:</div>
<div class="line"><span class="lineno">  953</span>                logger.info(<span class="stringliteral">&#39;initializing %s workers&#39;</span>, self.numworkers)</div>
<div class="line"><span class="lineno">  954</span>                self.dispatcher.reset(self.state)</div>
<div class="line"><span class="lineno">  955</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  956</span>                other = LdaState(self.eta, self.state.sstats.shape, self.dtype)</div>
<div class="line"><span class="lineno">  957</span>            dirty = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>            reallen = 0</div>
<div class="line"><span class="lineno">  960</span>            chunks = utils.grouper(corpus, chunksize, as_numpy=chunks_as_numpy, dtype=self.dtype)</div>
<div class="line"><span class="lineno">  961</span>            <span class="keywordflow">for</span> chunk_no, chunk <span class="keywordflow">in</span> enumerate(chunks):</div>
<div class="line"><span class="lineno">  962</span>                reallen += len(chunk)  <span class="comment"># keep track of how many documents we&#39;ve processed so far</span></div>
<div class="line"><span class="lineno">  963</span> </div>
<div class="line"><span class="lineno">  964</span>                <span class="keywordflow">if</span> eval_every <span class="keywordflow">and</span> ((reallen == lencorpus) <span class="keywordflow">or</span> ((chunk_no + 1) % (eval_every * self.numworkers) == 0)):</div>
<div class="line"><span class="lineno">  965</span>                    self.log_perplexity(chunk, total_docs=lencorpus)</div>
<div class="line"><span class="lineno">  966</span> </div>
<div class="line"><span class="lineno">  967</span>                <span class="keywordflow">if</span> self.dispatcher:</div>
<div class="line"><span class="lineno">  968</span>                    <span class="comment"># add the chunk to dispatcher&#39;s job queue, so workers can munch on it</span></div>
<div class="line"><span class="lineno">  969</span>                    logger.info(</div>
<div class="line"><span class="lineno">  970</span>                        <span class="stringliteral">&quot;PROGRESS: pass %i, dispatching documents up to #%i/%i&quot;</span>,</div>
<div class="line"><span class="lineno">  971</span>                        pass_, chunk_no * chunksize + len(chunk), lencorpus</div>
<div class="line"><span class="lineno">  972</span>                    )</div>
<div class="line"><span class="lineno">  973</span>                    <span class="comment"># this will eventually block until some jobs finish, because the queue has a small finite length</span></div>
<div class="line"><span class="lineno">  974</span>                    self.dispatcher.putjob(chunk)</div>
<div class="line"><span class="lineno">  975</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  976</span>                    logger.info(</div>
<div class="line"><span class="lineno">  977</span>                        <span class="stringliteral">&quot;PROGRESS: pass %i, at document #%i/%i&quot;</span>,</div>
<div class="line"><span class="lineno">  978</span>                        pass_, chunk_no * chunksize + len(chunk), lencorpus</div>
<div class="line"><span class="lineno">  979</span>                    )</div>
<div class="line"><span class="lineno">  980</span>                    gammat = self.do_estep(chunk, other)</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>                    <span class="keywordflow">if</span> self.optimize_alpha:</div>
<div class="line"><span class="lineno">  983</span>                        self.update_alpha(gammat, <a class="code hl_variable" href="__lapack__subroutines_8h.html#a9bb256f5d273cef048eb659e4ee52fe2">rho</a>())</div>
<div class="line"><span class="lineno">  984</span> </div>
<div class="line"><span class="lineno">  985</span>                dirty = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  986</span>                del chunk</div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span>                <span class="comment"># perform an M step. determine when based on update_every, don&#39;t do this after every chunk</span></div>
<div class="line"><span class="lineno">  989</span>                <span class="keywordflow">if</span> update_every <span class="keywordflow">and</span> (chunk_no + 1) % (update_every * self.numworkers) == 0:</div>
<div class="line"><span class="lineno">  990</span>                    <span class="keywordflow">if</span> self.dispatcher:</div>
<div class="line"><span class="lineno">  991</span>                        <span class="comment"># distributed mode: wait for all workers to finish</span></div>
<div class="line"><span class="lineno">  992</span>                        logger.info(<span class="stringliteral">&quot;reached the end of input; now waiting for all remaining jobs to finish&quot;</span>)</div>
<div class="line"><span class="lineno">  993</span>                        other = self.dispatcher.getstate()</div>
<div class="line"><span class="lineno">  994</span>                    self.do_mstep(<a class="code hl_variable" href="__lapack__subroutines_8h.html#a9bb256f5d273cef048eb659e4ee52fe2">rho</a>(), other, pass_ &gt; 0)</div>
<div class="line"><span class="lineno">  995</span>                    del other  <span class="comment"># frees up memory</span></div>
<div class="line"><span class="lineno">  996</span> </div>
<div class="line"><span class="lineno">  997</span>                    <span class="keywordflow">if</span> self.dispatcher:</div>
<div class="line"><span class="lineno">  998</span>                        logger.info(<span class="stringliteral">&#39;initializing workers&#39;</span>)</div>
<div class="line"><span class="lineno">  999</span>                        self.dispatcher.reset(self.state)</div>
<div class="line"><span class="lineno"> 1000</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1001</span>                        other = LdaState(self.eta, self.state.sstats.shape, self.dtype)</div>
<div class="line"><span class="lineno"> 1002</span>                    dirty = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1003</span> </div>
<div class="line"><span class="lineno"> 1004</span>            <span class="keywordflow">if</span> reallen != lencorpus:</div>
<div class="line"><span class="lineno"> 1005</span>                <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&quot;input corpus size changed during training (don&#39;t use generators as input)&quot;</span>)</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>            <span class="comment"># append current epoch&#39;s metric values</span></div>
<div class="line"><span class="lineno"> 1008</span>            <span class="keywordflow">if</span> self.callbacks:</div>
<div class="line"><span class="lineno"> 1009</span>                current_metrics = callback.on_epoch_end(pass_)</div>
<div class="line"><span class="lineno"> 1010</span>                <span class="keywordflow">for</span> metric, value <span class="keywordflow">in</span> current_metrics.items():</div>
<div class="line"><span class="lineno"> 1011</span>                    self.metrics[metric].append(value)</div>
<div class="line"><span class="lineno"> 1012</span> </div>
<div class="line"><span class="lineno"> 1013</span>            <span class="keywordflow">if</span> dirty:</div>
<div class="line"><span class="lineno"> 1014</span>                <span class="comment"># finish any remaining updates</span></div>
<div class="line"><span class="lineno"> 1015</span>                <span class="keywordflow">if</span> self.dispatcher:</div>
<div class="line"><span class="lineno"> 1016</span>                    <span class="comment"># distributed mode: wait for all workers to finish</span></div>
<div class="line"><span class="lineno"> 1017</span>                    logger.info(<span class="stringliteral">&quot;reached the end of input; now waiting for all remaining jobs to finish&quot;</span>)</div>
<div class="line"><span class="lineno"> 1018</span>                    other = self.dispatcher.getstate()</div>
<div class="line"><span class="lineno"> 1019</span>                self.do_mstep(<a class="code hl_variable" href="__lapack__subroutines_8h.html#a9bb256f5d273cef048eb659e4ee52fe2">rho</a>(), other, pass_ &gt; 0)</div>
<div class="line"><span class="lineno"> 1020</span>                del other</div>
<div class="line"><span class="lineno"> 1021</span>                dirty = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1022</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_a9bb256f5d273cef048eb659e4ee52fe2"><div class="ttname"><a href="__lapack__subroutines_8h.html#a9bb256f5d273cef048eb659e4ee52fe2">rho</a></div><div class="ttdeci">void int int int int int float npy_complex64 int float * rho</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:238</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aad8aec91902bce435bb9bd5d206ffd27" name="aad8aec91902bce435bb9bd5d206ffd27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad8aec91902bce435bb9bd5d206ffd27">&#9670;&#160;</a></span>update_alpha()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.update_alpha </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gammat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rho</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Update parameters for the Dirichlet prior on the per-document topic weights.

Parameters
----------
gammat : numpy.ndarray
    Previous topic weight parameters.
rho : float
    Learning rate.

Returns
-------
numpy.ndarray
    Sequence of alpha parameters.</pre> <div class="fragment"><div class="line"><span class="lineno">  748</span>    <span class="keyword">def </span>update_alpha(self, gammat, rho):</div>
<div class="line"><span class="lineno">  749</span>        <span class="stringliteral">&quot;&quot;&quot;Update parameters for the Dirichlet prior on the per-document topic weights.</span></div>
<div class="line"><span class="lineno">  750</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  751</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  752</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  753</span><span class="stringliteral">        gammat : numpy.ndarray</span></div>
<div class="line"><span class="lineno">  754</span><span class="stringliteral">            Previous topic weight parameters.</span></div>
<div class="line"><span class="lineno">  755</span><span class="stringliteral">        rho : float</span></div>
<div class="line"><span class="lineno">  756</span><span class="stringliteral">            Learning rate.</span></div>
<div class="line"><span class="lineno">  757</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  758</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  759</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  760</span><span class="stringliteral">        numpy.ndarray</span></div>
<div class="line"><span class="lineno">  761</span><span class="stringliteral">            Sequence of alpha parameters.</span></div>
<div class="line"><span class="lineno">  762</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  763</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  764</span>        N = float(len(gammat))</div>
<div class="line"><span class="lineno">  765</span>        logphat = sum(dirichlet_expectation(gamma) <span class="keywordflow">for</span> gamma <span class="keywordflow">in</span> gammat) / N</div>
<div class="line"><span class="lineno">  766</span>        <span class="keyword">assert</span> logphat.dtype == self.dtype</div>
<div class="line"><span class="lineno">  767</span> </div>
<div class="line"><span class="lineno">  768</span>        self.alpha = update_dir_prior(self.alpha, N, logphat, rho)</div>
<div class="line"><span class="lineno">  769</span>        logger.info(<span class="stringliteral">&quot;optimized alpha %s&quot;</span>, list(self.alpha))</div>
<div class="line"><span class="lineno">  770</span> </div>
<div class="line"><span class="lineno">  771</span>        <span class="keyword">assert</span> self.alpha.dtype == self.dtype</div>
<div class="line"><span class="lineno">  772</span>        <span class="keywordflow">return</span> self.alpha</div>
<div class="line"><span class="lineno">  773</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acb99b265d6442b5e93b687c0ef3e5d2c" name="acb99b265d6442b5e93b687c0ef3e5d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb99b265d6442b5e93b687c0ef3e5d2c">&#9670;&#160;</a></span>update_eta()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.update_eta </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lambdat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rho</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Update parameters for the Dirichlet prior on the per-topic word weights.

Parameters
----------
lambdat : numpy.ndarray
    Previous lambda parameters.
rho : float
    Learning rate.

Returns
-------
numpy.ndarray
    The updated eta parameters.</pre> <div class="fragment"><div class="line"><span class="lineno">  774</span>    <span class="keyword">def </span>update_eta(self, lambdat, rho):</div>
<div class="line"><span class="lineno">  775</span>        <span class="stringliteral">&quot;&quot;&quot;Update parameters for the Dirichlet prior on the per-topic word weights.</span></div>
<div class="line"><span class="lineno">  776</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  777</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  778</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  779</span><span class="stringliteral">        lambdat : numpy.ndarray</span></div>
<div class="line"><span class="lineno">  780</span><span class="stringliteral">            Previous lambda parameters.</span></div>
<div class="line"><span class="lineno">  781</span><span class="stringliteral">        rho : float</span></div>
<div class="line"><span class="lineno">  782</span><span class="stringliteral">            Learning rate.</span></div>
<div class="line"><span class="lineno">  783</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  784</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  785</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  786</span><span class="stringliteral">        numpy.ndarray</span></div>
<div class="line"><span class="lineno">  787</span><span class="stringliteral">            The updated eta parameters.</span></div>
<div class="line"><span class="lineno">  788</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  789</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  790</span>        N = float(lambdat.shape[0])</div>
<div class="line"><span class="lineno">  791</span>        logphat = (sum(dirichlet_expectation(lambda_) <span class="keywordflow">for</span> lambda_ <span class="keywordflow">in</span> lambdat) / N).reshape((self.num_terms,))</div>
<div class="line"><span class="lineno">  792</span>        <span class="keyword">assert</span> logphat.dtype == self.dtype</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>        self.eta = update_dir_prior(self.eta, N, logphat, rho)</div>
<div class="line"><span class="lineno">  795</span> </div>
<div class="line"><span class="lineno">  796</span>        <span class="keyword">assert</span> self.eta.dtype == self.dtype</div>
<div class="line"><span class="lineno">  797</span>        <span class="keywordflow">return</span> self.eta</div>
<div class="line"><span class="lineno">  798</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="adb0b8f26b159cf8d5617ca9d574f27a8" name="adb0b8f26b159cf8d5617ca9d574f27a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb0b8f26b159cf8d5617ca9d574f27a8">&#9670;&#160;</a></span>alpha</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.alpha</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8c7ce8d08b34835e01a8f7ab9d3d8662" name="a8c7ce8d08b34835e01a8f7ab9d3d8662"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c7ce8d08b34835e01a8f7ab9d3d8662">&#9670;&#160;</a></span>callbacks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.callbacks</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aedc8fddb01cce509697df294109a3f9f" name="aedc8fddb01cce509697df294109a3f9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedc8fddb01cce509697df294109a3f9f">&#9670;&#160;</a></span>chunksize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.chunksize</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aae061f0de1f1eef2236874cbf3a88c72" name="aae061f0de1f1eef2236874cbf3a88c72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae061f0de1f1eef2236874cbf3a88c72">&#9670;&#160;</a></span>decay</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.decay</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad55b7079099988743beb8a10c7f164e4" name="ad55b7079099988743beb8a10c7f164e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad55b7079099988743beb8a10c7f164e4">&#9670;&#160;</a></span>dispatcher</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.dispatcher</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7bd7005c29e41a40eef699860f165c96" name="a7bd7005c29e41a40eef699860f165c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7bd7005c29e41a40eef699860f165c96">&#9670;&#160;</a></span>distributed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.distributed</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3cf8b022d2c0487d1a10bb5ec1337f07" name="a3cf8b022d2c0487d1a10bb5ec1337f07"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cf8b022d2c0487d1a10bb5ec1337f07">&#9670;&#160;</a></span>dtype</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.dtype</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1753b58c1f7bff6d42233f0935ef5068" name="a1753b58c1f7bff6d42233f0935ef5068"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1753b58c1f7bff6d42233f0935ef5068">&#9670;&#160;</a></span>Elogbeta</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.Elogbeta</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a49d89e536f3fed92d885ed615bd50e63" name="a49d89e536f3fed92d885ed615bd50e63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49d89e536f3fed92d885ed615bd50e63">&#9670;&#160;</a></span>eta</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.eta</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ac16f3197419566047a2bb268a3a626db" name="ac16f3197419566047a2bb268a3a626db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac16f3197419566047a2bb268a3a626db">&#9670;&#160;</a></span>eval_every</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.eval_every</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4fc948057d9678d894707b0281717672" name="a4fc948057d9678d894707b0281717672"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc948057d9678d894707b0281717672">&#9670;&#160;</a></span>expElogbeta</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.expElogbeta</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0326fe4cce3bea84fc565a36e4266f05" name="a0326fe4cce3bea84fc565a36e4266f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0326fe4cce3bea84fc565a36e4266f05">&#9670;&#160;</a></span>gamma_threshold</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.gamma_threshold</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af8778f4d997b0842be0242ea6a02aecb" name="af8778f4d997b0842be0242ea6a02aecb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8778f4d997b0842be0242ea6a02aecb">&#9670;&#160;</a></span>id2word</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.id2word</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a33401f17747f4ec5f5656230566a10f9" name="a33401f17747f4ec5f5656230566a10f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33401f17747f4ec5f5656230566a10f9">&#9670;&#160;</a></span>iterations</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.iterations</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a46dbf98091f42a2494fdbdaaf57c904a" name="a46dbf98091f42a2494fdbdaaf57c904a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46dbf98091f42a2494fdbdaaf57c904a">&#9670;&#160;</a></span>metrics</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.metrics</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3154fe7fb2729847fd8992ecd1e177d3" name="a3154fe7fb2729847fd8992ecd1e177d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3154fe7fb2729847fd8992ecd1e177d3">&#9670;&#160;</a></span>minimum_phi_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.minimum_phi_value</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a742eead984d3261d2c5ce444b6e1ed71" name="a742eead984d3261d2c5ce444b6e1ed71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a742eead984d3261d2c5ce444b6e1ed71">&#9670;&#160;</a></span>minimum_probability</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.minimum_probability</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a29bc7570913961cbb36d8b8680cfbe4f" name="a29bc7570913961cbb36d8b8680cfbe4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29bc7570913961cbb36d8b8680cfbe4f">&#9670;&#160;</a></span>num_terms</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.num_terms</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a05efdd512a2be436ed5196c0cfa56ad5" name="a05efdd512a2be436ed5196c0cfa56ad5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05efdd512a2be436ed5196c0cfa56ad5">&#9670;&#160;</a></span>num_topics</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.num_topics</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a34a059da51c1a1ea5e4fc8a24da8b6a0" name="a34a059da51c1a1ea5e4fc8a24da8b6a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34a059da51c1a1ea5e4fc8a24da8b6a0">&#9670;&#160;</a></span>num_updates</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.num_updates</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9defc71d9104109445be50559d1d70be" name="a9defc71d9104109445be50559d1d70be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9defc71d9104109445be50559d1d70be">&#9670;&#160;</a></span>numworkers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.numworkers</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3863b03fcb8b88b4d269cc34de14d163" name="a3863b03fcb8b88b4d269cc34de14d163"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3863b03fcb8b88b4d269cc34de14d163">&#9670;&#160;</a></span>offset</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.offset</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a02a7edde3b3196a41e461294c621c5b3" name="a02a7edde3b3196a41e461294c621c5b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02a7edde3b3196a41e461294c621c5b3">&#9670;&#160;</a></span>optimize_alpha</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.optimize_alpha</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="afe2f43e4613011aaac28db7dbb18c763" name="afe2f43e4613011aaac28db7dbb18c763"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2f43e4613011aaac28db7dbb18c763">&#9670;&#160;</a></span>optimize_eta</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.optimize_eta</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a89d050bf0d0b6c99a62310448e980c39" name="a89d050bf0d0b6c99a62310448e980c39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89d050bf0d0b6c99a62310448e980c39">&#9670;&#160;</a></span>passes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.passes</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ababfcf7931d6cd0381cb0d759f8a74c9" name="ababfcf7931d6cd0381cb0d759f8a74c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ababfcf7931d6cd0381cb0d759f8a74c9">&#9670;&#160;</a></span>per_word_topics</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.per_word_topics</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1c6eb264a5a0d4f5782878d88fffa91f" name="a1c6eb264a5a0d4f5782878d88fffa91f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c6eb264a5a0d4f5782878d88fffa91f">&#9670;&#160;</a></span>random_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.random_state</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6c4a14825f0b4c643fb361ecbb3b08cc" name="a6c4a14825f0b4c643fb361ecbb3b08cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c4a14825f0b4c643fb361ecbb3b08cc">&#9670;&#160;</a></span>state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.state</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="affafd76308ced3446bcac82ded9f4a4a" name="affafd76308ced3446bcac82ded9f4a4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affafd76308ced3446bcac82ded9f4a4a">&#9670;&#160;</a></span>update_every</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.LdaModel.update_every</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/gensim/models/<a class="el" href="models_2ldamodel_8py.html">ldamodel.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
