<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: numpy.ctypeslib Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenumpy.html">numpy</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1ctypeslib.html">ctypeslib</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">numpy.ctypeslib Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1ctypeslib_1_1__concrete__ndptr.html">_concrete_ndptr</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1ctypeslib_1_1__ndptr.html">_ndptr</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a66795fa6831483e5357ed1e60afc2ab9" id="r_a66795fa6831483e5357ed1e60afc2ab9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a66795fa6831483e5357ed1e60afc2ab9">_dummy</a> (*args, **kwds)</td></tr>
<tr class="separator:a66795fa6831483e5357ed1e60afc2ab9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae580425161827c78cc47b4cbbd0691fb" id="r_ae580425161827c78cc47b4cbbd0691fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#ae580425161827c78cc47b4cbbd0691fb">load_library</a> (libname, loader_path)</td></tr>
<tr class="separator:ae580425161827c78cc47b4cbbd0691fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084fdda332255998853fa0be9f0be0b7" id="r_a084fdda332255998853fa0be9f0be0b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a084fdda332255998853fa0be9f0be0b7">_num_fromflags</a> (flaglist)</td></tr>
<tr class="separator:a084fdda332255998853fa0be9f0be0b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab183c587068531be1ad9c09c50bd9778" id="r_ab183c587068531be1ad9c09c50bd9778"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#ab183c587068531be1ad9c09c50bd9778">_flags_fromnum</a> (num)</td></tr>
<tr class="separator:ab183c587068531be1ad9c09c50bd9778"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acddb43ffe86889eea3b6e8ccccd8af5c" id="r_acddb43ffe86889eea3b6e8ccccd8af5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#acddb43ffe86889eea3b6e8ccccd8af5c">ndpointer</a> (dtype=None, ndim=None, <a class="el" href="namespacenumpy_1_1core_1_1fromnumeric.html#aa22b69964320c5aabb55d909c8780c9f">shape</a>=None, flags=None)</td></tr>
<tr class="separator:acddb43ffe86889eea3b6e8ccccd8af5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee450dedba5ae127d60b0de9eaba92be" id="r_aee450dedba5ae127d60b0de9eaba92be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#aee450dedba5ae127d60b0de9eaba92be">_ctype_ndarray</a> (element_type, <a class="el" href="namespacenumpy_1_1core_1_1fromnumeric.html#aa22b69964320c5aabb55d909c8780c9f">shape</a>)</td></tr>
<tr class="separator:aee450dedba5ae127d60b0de9eaba92be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa472f33eb3a32097725b1b8c4e53ef56" id="r_aa472f33eb3a32097725b1b8c4e53ef56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#aa472f33eb3a32097725b1b8c4e53ef56">_get_scalar_type_map</a> ()</td></tr>
<tr class="separator:aa472f33eb3a32097725b1b8c4e53ef56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a6c2a3ba97e57c5a0d055471db7bf8" id="r_a09a6c2a3ba97e57c5a0d055471db7bf8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a09a6c2a3ba97e57c5a0d055471db7bf8">_ctype_from_dtype_scalar</a> (dtype)</td></tr>
<tr class="separator:a09a6c2a3ba97e57c5a0d055471db7bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8703c13b7fab294d02d42f382311aa28" id="r_a8703c13b7fab294d02d42f382311aa28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a8703c13b7fab294d02d42f382311aa28">_ctype_from_dtype_subarray</a> (dtype)</td></tr>
<tr class="separator:a8703c13b7fab294d02d42f382311aa28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9145a69ed46461fed10a24e9320d521" id="r_af9145a69ed46461fed10a24e9320d521"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#af9145a69ed46461fed10a24e9320d521">_ctype_from_dtype_structured</a> (dtype)</td></tr>
<tr class="separator:af9145a69ed46461fed10a24e9320d521"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595264132abaa1930239d1139629dbdc" id="r_a595264132abaa1930239d1139629dbdc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a595264132abaa1930239d1139629dbdc">_ctype_from_dtype</a> (dtype)</td></tr>
<tr class="separator:a595264132abaa1930239d1139629dbdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ac0da24ae5e7a55787bfd1b16395c59" id="r_a9ac0da24ae5e7a55787bfd1b16395c59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a9ac0da24ae5e7a55787bfd1b16395c59">as_ctypes_type</a> (dtype)</td></tr>
<tr class="separator:a9ac0da24ae5e7a55787bfd1b16395c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e89a66152d9c8f86fb94c7f3656b678" id="r_a3e89a66152d9c8f86fb94c7f3656b678"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a3e89a66152d9c8f86fb94c7f3656b678">as_array</a> (obj, <a class="el" href="namespacenumpy_1_1core_1_1fromnumeric.html#aa22b69964320c5aabb55d909c8780c9f">shape</a>=None)</td></tr>
<tr class="separator:a3e89a66152d9c8f86fb94c7f3656b678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0149684bcc12cf099976e8540f0ead1" id="r_ac0149684bcc12cf099976e8540f0ead1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#ac0149684bcc12cf099976e8540f0ead1">as_ctypes</a> (obj)</td></tr>
<tr class="separator:ac0149684bcc12cf099976e8540f0ead1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aa55fe1323acc4dfaa148b7bd00a6adca" id="r_aa55fe1323acc4dfaa148b7bd00a6adca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#aa55fe1323acc4dfaa148b7bd00a6adca">ctypes</a> = None</td></tr>
<tr class="separator:aa55fe1323acc4dfaa148b7bd00a6adca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af364318398d59bd06954479e2c83ee9a" id="r_af364318398d59bd06954479e2c83ee9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#af364318398d59bd06954479e2c83ee9a">load_library</a> = <a class="el" href="namespacenumpy_1_1ctypeslib.html#a66795fa6831483e5357ed1e60afc2ab9">_dummy</a></td></tr>
<tr class="separator:af364318398d59bd06954479e2c83ee9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa55c56be70202333cc5f4e003adfda" id="r_a4fa55c56be70202333cc5f4e003adfda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a4fa55c56be70202333cc5f4e003adfda">as_ctypes</a> = <a class="el" href="namespacenumpy_1_1ctypeslib.html#a66795fa6831483e5357ed1e60afc2ab9">_dummy</a></td></tr>
<tr class="separator:a4fa55c56be70202333cc5f4e003adfda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16d8dda8b2f58d1a497661b229f3cbad" id="r_a16d8dda8b2f58d1a497661b229f3cbad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a16d8dda8b2f58d1a497661b229f3cbad">as_array</a> = <a class="el" href="namespacenumpy_1_1ctypeslib.html#a66795fa6831483e5357ed1e60afc2ab9">_dummy</a></td></tr>
<tr class="separator:a16d8dda8b2f58d1a497661b229f3cbad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6210a4e464c785a8bc56d8b7635c60b7" id="r_a6210a4e464c785a8bc56d8b7635c60b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a6210a4e464c785a8bc56d8b7635c60b7">_ndptr_base</a> = object</td></tr>
<tr class="separator:a6210a4e464c785a8bc56d8b7635c60b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84046f05997c7f2e140e53fd4ae130bf" id="r_a84046f05997c7f2e140e53fd4ae130bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a84046f05997c7f2e140e53fd4ae130bf">c_intp</a> = nic._getintp_ctype()</td></tr>
<tr class="separator:a84046f05997c7f2e140e53fd4ae130bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fdec1cad79b4dbe8ced9b074d1912b4" id="r_a5fdec1cad79b4dbe8ced9b074d1912b4"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a5fdec1cad79b4dbe8ced9b074d1912b4">_flagnames</a></td></tr>
<tr class="separator:a5fdec1cad79b4dbe8ced9b074d1912b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a8690098059aded63a0e4d74313114a" id="r_a7a8690098059aded63a0e4d74313114a"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#a7a8690098059aded63a0e4d74313114a">_pointer_type_cache</a> = {}</td></tr>
<tr class="separator:a7a8690098059aded63a0e4d74313114a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac68e247cd60d56a5f3be32f16cdd9265" id="r_ac68e247cd60d56a5f3be32f16cdd9265"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ctypeslib.html#ac68e247cd60d56a5f3be32f16cdd9265">_scalar_type_map</a> = <a class="el" href="namespacenumpy_1_1ctypeslib.html#aa472f33eb3a32097725b1b8c4e53ef56">_get_scalar_type_map</a>()</td></tr>
<tr class="separator:ac68e247cd60d56a5f3be32f16cdd9265"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">============================
``ctypes`` Utility Functions
============================

See Also
--------
load_library : Load a C library.
ndpointer : Array restype/argtype with verification.
as_ctypes : Create a ctypes array from an ndarray.
as_array : Create an ndarray from a ctypes array.

References
----------
.. [1] "SciPy Cookbook: ctypes", https://scipy-cookbook.readthedocs.io/items/Ctypes.html

Examples
--------
Load the C library:

&gt;&gt;&gt; _lib = np.ctypeslib.load_library('libmystuff', '.')     #doctest: +SKIP

Our result type, an ndarray that must be of type double, be 1-dimensional
and is C-contiguous in memory:

&gt;&gt;&gt; array_1d_double = np.ctypeslib.ndpointer(
...                          dtype=np.double,
...                          ndim=1, flags='CONTIGUOUS')    #doctest: +SKIP

Our C-function typically takes an array and updates its values
in-place.  For example::

    void foo_func(double* x, int length)
    {
        int i;
        for (i = 0; i &lt; length; i++) {
            x[i] = i*i;
        }
    }

We wrap it using:

&gt;&gt;&gt; _lib.foo_func.restype = None                      #doctest: +SKIP
&gt;&gt;&gt; _lib.foo_func.argtypes = [array_1d_double, c_int] #doctest: +SKIP

Then, we're ready to call ``foo_func``:

&gt;&gt;&gt; out = np.empty(15, dtype=np.double)
&gt;&gt;&gt; _lib.foo_func(out, len(out))                #doctest: +SKIP</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a595264132abaa1930239d1139629dbdc" name="a595264132abaa1930239d1139629dbdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595264132abaa1930239d1139629dbdc">&#9670;&#160;</a></span>_ctype_from_dtype()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib._ctype_from_dtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  458</span>    <span class="keyword">def </span>_ctype_from_dtype(dtype):</div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">if</span> dtype.fields <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  460</span>            <span class="keywordflow">return</span> _ctype_from_dtype_structured(dtype)</div>
<div class="line"><span class="lineno">  461</span>        <span class="keywordflow">elif</span> dtype.subdtype <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  462</span>            <span class="keywordflow">return</span> _ctype_from_dtype_subarray(dtype)</div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  464</span>            <span class="keywordflow">return</span> _ctype_from_dtype_scalar(dtype)</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a09a6c2a3ba97e57c5a0d055471db7bf8" name="a09a6c2a3ba97e57c5a0d055471db7bf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a6c2a3ba97e57c5a0d055471db7bf8">&#9670;&#160;</a></span>_ctype_from_dtype_scalar()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib._ctype_from_dtype_scalar </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  379</span>    <span class="keyword">def </span>_ctype_from_dtype_scalar(dtype):</div>
<div class="line"><span class="lineno">  380</span>        <span class="comment"># swapping twice ensure that `=` is promoted to &lt;, &gt;, or |</span></div>
<div class="line"><span class="lineno">  381</span>        dtype_with_endian = dtype.newbyteorder(<span class="stringliteral">&#39;S&#39;</span>).newbyteorder(<span class="stringliteral">&#39;S&#39;</span>)</div>
<div class="line"><span class="lineno">  382</span>        dtype_native = dtype.newbyteorder(<span class="stringliteral">&#39;=&#39;</span>)</div>
<div class="line"><span class="lineno">  383</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  384</span>            ctype = _scalar_type_map[dtype_native]</div>
<div class="line"><span class="lineno">  385</span>        <span class="keywordflow">except</span> KeyError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  386</span>            <span class="keywordflow">raise</span> NotImplementedError(</div>
<div class="line"><span class="lineno">  387</span>                <span class="stringliteral">&quot;Converting {!r} to a ctypes type&quot;</span>.format(dtype)</div>
<div class="line"><span class="lineno">  388</span>            ) <span class="keyword">from</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordflow">if</span> dtype_with_endian.byteorder == <span class="stringliteral">&#39;&gt;&#39;</span>:</div>
<div class="line"><span class="lineno">  391</span>            ctype = ctype.__ctype_be__</div>
<div class="line"><span class="lineno">  392</span>        <span class="keywordflow">elif</span> dtype_with_endian.byteorder == <span class="stringliteral">&#39;&lt;&#39;</span>:</div>
<div class="line"><span class="lineno">  393</span>            ctype = ctype.__ctype_le__</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>        <span class="keywordflow">return</span> ctype</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af9145a69ed46461fed10a24e9320d521" name="af9145a69ed46461fed10a24e9320d521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9145a69ed46461fed10a24e9320d521">&#9670;&#160;</a></span>_ctype_from_dtype_structured()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib._ctype_from_dtype_structured </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  404</span>    <span class="keyword">def </span>_ctype_from_dtype_structured(dtype):</div>
<div class="line"><span class="lineno">  405</span>        <span class="comment"># extract offsets of each field</span></div>
<div class="line"><span class="lineno">  406</span>        field_data = []</div>
<div class="line"><span class="lineno">  407</span>        <span class="keywordflow">for</span> name <span class="keywordflow">in</span> dtype.names:</div>
<div class="line"><span class="lineno">  408</span>            field_dtype, offset = dtype.fields[name][:2]</div>
<div class="line"><span class="lineno">  409</span>            field_data.append((offset, name, _ctype_from_dtype(field_dtype)))</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>        <span class="comment"># ctypes doesn&#39;t care about field order</span></div>
<div class="line"><span class="lineno">  412</span>        field_data = sorted(field_data, key=<span class="keyword">lambda</span> f: f[0])</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>        <span class="keywordflow">if</span> len(field_data) &gt; 1 <span class="keywordflow">and</span> all(offset == 0 <span class="keywordflow">for</span> offset, name, ctype <span class="keywordflow">in</span> field_data):</div>
<div class="line"><span class="lineno">  415</span>            <span class="comment"># union, if multiple fields all at address 0</span></div>
<div class="line"><span class="lineno">  416</span>            size = 0</div>
<div class="line"><span class="lineno">  417</span>            _fields_ = []</div>
<div class="line"><span class="lineno">  418</span>            <span class="keywordflow">for</span> offset, name, ctype <span class="keywordflow">in</span> field_data:</div>
<div class="line"><span class="lineno">  419</span>                _fields_.append((name, ctype))</div>
<div class="line"><span class="lineno">  420</span>                size = max(size, ctypes.sizeof(ctype))</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>            <span class="comment"># pad to the right size</span></div>
<div class="line"><span class="lineno">  423</span>            <span class="keywordflow">if</span> dtype.itemsize != size:</div>
<div class="line"><span class="lineno">  424</span>                _fields_.append((<span class="stringliteral">&#39;&#39;</span>, ctypes.c_char * dtype.itemsize))</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>            <span class="comment"># we inserted manual padding, so always `_pack_`</span></div>
<div class="line"><span class="lineno">  427</span>            <span class="keywordflow">return</span> type(<span class="stringliteral">&#39;union&#39;</span>, (ctypes.Union,), dict(</div>
<div class="line"><span class="lineno">  428</span>                _fields_=_fields_,</div>
<div class="line"><span class="lineno">  429</span>                _pack_=1,</div>
<div class="line"><span class="lineno">  430</span>                __module__=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  431</span>            ))</div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  433</span>            last_offset = 0</div>
<div class="line"><span class="lineno">  434</span>            _fields_ = []</div>
<div class="line"><span class="lineno">  435</span>            <span class="keywordflow">for</span> offset, name, ctype <span class="keywordflow">in</span> field_data:</div>
<div class="line"><span class="lineno">  436</span>                padding = offset - last_offset</div>
<div class="line"><span class="lineno">  437</span>                <span class="keywordflow">if</span> padding &lt; 0:</div>
<div class="line"><span class="lineno">  438</span>                    <span class="keywordflow">raise</span> NotImplementedError(<span class="stringliteral">&quot;Overlapping fields&quot;</span>)</div>
<div class="line"><span class="lineno">  439</span>                <span class="keywordflow">if</span> padding &gt; 0:</div>
<div class="line"><span class="lineno">  440</span>                    _fields_.append((<span class="stringliteral">&#39;&#39;</span>, ctypes.c_char * padding))</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>                _fields_.append((name, ctype))</div>
<div class="line"><span class="lineno">  443</span>                last_offset = offset + ctypes.sizeof(ctype)</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>            padding = dtype.itemsize - last_offset</div>
<div class="line"><span class="lineno">  447</span>            <span class="keywordflow">if</span> padding &gt; 0:</div>
<div class="line"><span class="lineno">  448</span>                _fields_.append((<span class="stringliteral">&#39;&#39;</span>, ctypes.c_char * padding))</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>            <span class="comment"># we inserted manual padding, so always `_pack_`</span></div>
<div class="line"><span class="lineno">  451</span>            <span class="keywordflow">return</span> type(<span class="stringliteral">&#39;struct&#39;</span>, (ctypes.Structure,), dict(</div>
<div class="line"><span class="lineno">  452</span>                _fields_=_fields_,</div>
<div class="line"><span class="lineno">  453</span>                _pack_=1,</div>
<div class="line"><span class="lineno">  454</span>                __module__=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  455</span>            ))</div>
<div class="line"><span class="lineno">  456</span> </div>
<div class="line"><span class="lineno">  457</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8703c13b7fab294d02d42f382311aa28" name="a8703c13b7fab294d02d42f382311aa28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8703c13b7fab294d02d42f382311aa28">&#9670;&#160;</a></span>_ctype_from_dtype_subarray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib._ctype_from_dtype_subarray </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  398</span>    <span class="keyword">def </span>_ctype_from_dtype_subarray(dtype):</div>
<div class="line"><span class="lineno">  399</span>        element_dtype, shape = dtype.subdtype</div>
<div class="line"><span class="lineno">  400</span>        ctype = _ctype_from_dtype(element_dtype)</div>
<div class="line"><span class="lineno">  401</span>        <span class="keywordflow">return</span> _ctype_ndarray(ctype, shape)</div>
<div class="line"><span class="lineno">  402</span> </div>
<div class="line"><span class="lineno">  403</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aee450dedba5ae127d60b0de9eaba92be" name="aee450dedba5ae127d60b0de9eaba92be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee450dedba5ae127d60b0de9eaba92be">&#9670;&#160;</a></span>_ctype_ndarray()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib._ctype_ndarray </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>element_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment"> Create an ndarray of the given element type and shape </pre> <div class="fragment"><div class="line"><span class="lineno">  353</span>    <span class="keyword">def </span>_ctype_ndarray(element_type, shape):</div>
<div class="line"><span class="lineno">  354</span>        <span class="stringliteral">&quot;&quot;&quot; Create an ndarray of the given element type and shape &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  355</span>        <span class="keywordflow">for</span> dim <span class="keywordflow">in</span> shape[::-1]:</div>
<div class="line"><span class="lineno">  356</span>            element_type = dim * element_type</div>
<div class="line"><span class="lineno">  357</span>            <span class="comment"># prevent the type name include np.ctypeslib</span></div>
<div class="line"><span class="lineno">  358</span>            element_type.__module__ = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">return</span> element_type</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a66795fa6831483e5357ed1e60afc2ab9" name="a66795fa6831483e5357ed1e60afc2ab9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66795fa6831483e5357ed1e60afc2ab9">&#9670;&#160;</a></span>_dummy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib._dummy </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Dummy object that raises an ImportError if ctypes is not available.

Raises
------
ImportError
    If ctypes is not available.</pre> <div class="fragment"><div class="line"><span class="lineno">   67</span>    <span class="keyword">def </span>_dummy(*args, **kwds):</div>
<div class="line"><span class="lineno">   68</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral">        Dummy object that raises an ImportError if ctypes is not available.</span></div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">        Raises</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">        ------</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">        ImportError</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">            If ctypes is not available.</span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   77</span>        <span class="keywordflow">raise</span> ImportError(<span class="stringliteral">&quot;ctypes is not available.&quot;</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab183c587068531be1ad9c09c50bd9778" name="ab183c587068531be1ad9c09c50bd9778"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab183c587068531be1ad9c09c50bd9778">&#9670;&#160;</a></span>_flags_fromnum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib._flags_fromnum </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  174</span><span class="keyword">def </span>_flags_fromnum(num):</div>
<div class="line"><span class="lineno">  175</span>    res = []</div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordflow">for</span> key <span class="keywordflow">in</span> _flagnames:</div>
<div class="line"><span class="lineno">  177</span>        value = _flagdict[key]</div>
<div class="line"><span class="lineno">  178</span>        <span class="keywordflow">if</span> (num &amp; value):</div>
<div class="line"><span class="lineno">  179</span>            res.append(key)</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">return</span> res</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa472f33eb3a32097725b1b8c4e53ef56" name="aa472f33eb3a32097725b1b8c4e53ef56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa472f33eb3a32097725b1b8c4e53ef56">&#9670;&#160;</a></span>_get_scalar_type_map()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib._get_scalar_type_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return a dictionary mapping native endian scalar dtype to ctypes types
</pre> <div class="fragment"><div class="line"><span class="lineno">  362</span>    <span class="keyword">def </span>_get_scalar_type_map():</div>
<div class="line"><span class="lineno">  363</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">        Return a dictionary mapping native endian scalar dtype to ctypes types</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  366</span>        ct = ctypes</div>
<div class="line"><span class="lineno">  367</span>        simple_types = [</div>
<div class="line"><span class="lineno">  368</span>            ct.c_byte, ct.c_short, ct.c_int, ct.c_long, ct.c_longlong,</div>
<div class="line"><span class="lineno">  369</span>            ct.c_ubyte, ct.c_ushort, ct.c_uint, ct.c_ulong, ct.c_ulonglong,</div>
<div class="line"><span class="lineno">  370</span>            ct.c_float, ct.c_double,</div>
<div class="line"><span class="lineno">  371</span>            ct.c_bool,</div>
<div class="line"><span class="lineno">  372</span>        ]</div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordflow">return</span> {_dtype(ctype): ctype <span class="keywordflow">for</span> ctype <span class="keywordflow">in</span> simple_types}</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a084fdda332255998853fa0be9f0be0b7" name="a084fdda332255998853fa0be9f0be0b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a084fdda332255998853fa0be9f0be0b7">&#9670;&#160;</a></span>_num_fromflags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib._num_fromflags </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>flaglist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  166</span><span class="keyword">def </span>_num_fromflags(flaglist):</div>
<div class="line"><span class="lineno">  167</span>    num = 0</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">for</span> val <span class="keywordflow">in</span> flaglist:</div>
<div class="line"><span class="lineno">  169</span>        num += _flagdict[val]</div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">return</span> num</div>
<div class="line"><span class="lineno">  171</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e89a66152d9c8f86fb94c7f3656b678" name="a3e89a66152d9c8f86fb94c7f3656b678"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e89a66152d9c8f86fb94c7f3656b678">&#9670;&#160;</a></span>as_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib.as_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shape</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a numpy array from a ctypes array or POINTER.

The numpy array shares the memory with the ctypes object.

The shape parameter must be given if converting from a ctypes POINTER.
The shape parameter is ignored if converting from a ctypes array
</pre> <div class="fragment"><div class="line"><span class="lineno">  508</span>    <span class="keyword">def </span>as_array(obj, shape=None):</div>
<div class="line"><span class="lineno">  509</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">        Create a numpy array from a ctypes array or POINTER.</span></div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral">        The numpy array shares the memory with the ctypes object.</span></div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral">        The shape parameter must be given if converting from a ctypes POINTER.</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral">        The shape parameter is ignored if converting from a ctypes array</span></div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  517</span>        <span class="keywordflow">if</span> isinstance(obj, ctypes._Pointer):</div>
<div class="line"><span class="lineno">  518</span>            <span class="comment"># convert pointers to an array of the desired shape</span></div>
<div class="line"><span class="lineno">  519</span>            <span class="keywordflow">if</span> shape <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  520</span>                <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">  521</span>                    <span class="stringliteral">&#39;as_array() requires a shape argument when called on a &#39;</span></div>
<div class="line"><span class="lineno">  522</span>                    <span class="stringliteral">&#39;pointer&#39;</span>)</div>
<div class="line"><span class="lineno">  523</span>            p_arr_type = ctypes.POINTER(_ctype_ndarray(obj._type_, shape))</div>
<div class="line"><span class="lineno">  524</span>            obj = ctypes.cast(obj, p_arr_type).contents</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>        <span class="keywordflow">return</span> asarray(obj)</div>
<div class="line"><span class="lineno">  527</span> </div>
<div class="line"><span class="lineno">  528</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0149684bcc12cf099976e8540f0ead1" name="ac0149684bcc12cf099976e8540f0ead1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0149684bcc12cf099976e8540f0ead1">&#9670;&#160;</a></span>as_ctypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib.as_ctypes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create and return a ctypes object from a numpy array.  Actually
anything that exposes the __array_interface__ is accepted.</pre> <div class="fragment"><div class="line"><span class="lineno">  529</span>    <span class="keyword">def </span>as_ctypes(obj):</div>
<div class="line"><span class="lineno">  530</span>        <span class="stringliteral">&quot;&quot;&quot;Create and return a ctypes object from a numpy array.  Actually</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral">        anything that exposes the __array_interface__ is accepted.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  532</span>        ai = obj.__array_interface__</div>
<div class="line"><span class="lineno">  533</span>        <span class="keywordflow">if</span> ai[<span class="stringliteral">&quot;strides&quot;</span>]:</div>
<div class="line"><span class="lineno">  534</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;strided arrays not supported&quot;</span>)</div>
<div class="line"><span class="lineno">  535</span>        <span class="keywordflow">if</span> ai[<span class="stringliteral">&quot;version&quot;</span>] != 3:</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;only __array_interface__ version 3 supported&quot;</span>)</div>
<div class="line"><span class="lineno">  537</span>        addr, readonly = ai[<span class="stringliteral">&quot;data&quot;</span>]</div>
<div class="line"><span class="lineno">  538</span>        <span class="keywordflow">if</span> readonly:</div>
<div class="line"><span class="lineno">  539</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;readonly arrays unsupported&quot;</span>)</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>        <span class="comment"># can&#39;t use `_dtype((ai[&quot;typestr&quot;], ai[&quot;shape&quot;]))` here, as it overflows</span></div>
<div class="line"><span class="lineno">  542</span>        <span class="comment"># dtype.itemsize (gh-14214)</span></div>
<div class="line"><span class="lineno">  543</span>        ctype_scalar = as_ctypes_type(ai[<span class="stringliteral">&quot;typestr&quot;</span>])</div>
<div class="line"><span class="lineno">  544</span>        result_type = _ctype_ndarray(ctype_scalar, ai[<span class="stringliteral">&quot;shape&quot;</span>])</div>
<div class="line"><span class="lineno">  545</span>        result = result_type.from_address(addr)</div>
<div class="line"><span class="lineno">  546</span>        result.__keep = obj</div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">return</span> result</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ac0da24ae5e7a55787bfd1b16395c59" name="a9ac0da24ae5e7a55787bfd1b16395c59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ac0da24ae5e7a55787bfd1b16395c59">&#9670;&#160;</a></span>as_ctypes_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib.as_ctypes_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert a dtype into a ctypes type.

Parameters
----------
dtype : dtype
The dtype to convert

Returns
-------
ctype
A ctype scalar, union, array, or struct

Raises
------
NotImplementedError
If the conversion is not possible

Notes
-----
This function does not losslessly round-trip in either direction.

``np.dtype(as_ctypes_type(dt))`` will:

- insert padding fields
- reorder fields to be sorted by offset
- discard field titles

``as_ctypes_type(np.dtype(ctype))`` will:

- discard the class names of `ctypes.Structure`\ s and
`ctypes.Union`\ s
- convert single-element `ctypes.Union`\ s into single-element
`ctypes.Structure`\ s
- insert padding fields</pre> <div class="fragment"><div class="line"><span class="lineno">  467</span>    <span class="keyword">def </span>as_ctypes_type(dtype):</div>
<div class="line"><span class="lineno">  468</span>        <span class="stringliteral">r&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral">        Convert a dtype into a ctypes type.</span></div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  471</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  472</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  473</span><span class="stringliteral">        dtype : dtype</span></div>
<div class="line"><span class="lineno">  474</span><span class="stringliteral">            The dtype to convert</span></div>
<div class="line"><span class="lineno">  475</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  476</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  477</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  478</span><span class="stringliteral">        ctype</span></div>
<div class="line"><span class="lineno">  479</span><span class="stringliteral">            A ctype scalar, union, array, or struct</span></div>
<div class="line"><span class="lineno">  480</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  481</span><span class="stringliteral">        Raises</span></div>
<div class="line"><span class="lineno">  482</span><span class="stringliteral">        ------</span></div>
<div class="line"><span class="lineno">  483</span><span class="stringliteral">        NotImplementedError</span></div>
<div class="line"><span class="lineno">  484</span><span class="stringliteral">            If the conversion is not possible</span></div>
<div class="line"><span class="lineno">  485</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  486</span><span class="stringliteral">        Notes</span></div>
<div class="line"><span class="lineno">  487</span><span class="stringliteral">        -----</span></div>
<div class="line"><span class="lineno">  488</span><span class="stringliteral">        This function does not losslessly round-trip in either direction.</span></div>
<div class="line"><span class="lineno">  489</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  490</span><span class="stringliteral">        ``np.dtype(as_ctypes_type(dt))`` will:</span></div>
<div class="line"><span class="lineno">  491</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  492</span><span class="stringliteral">         - insert padding fields</span></div>
<div class="line"><span class="lineno">  493</span><span class="stringliteral">         - reorder fields to be sorted by offset</span></div>
<div class="line"><span class="lineno">  494</span><span class="stringliteral">         - discard field titles</span></div>
<div class="line"><span class="lineno">  495</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral">        ``as_ctypes_type(np.dtype(ctype))`` will:</span></div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">         - discard the class names of `ctypes.Structure`\ s and</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral">           `ctypes.Union`\ s</span></div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral">         - convert single-element `ctypes.Union`\ s into single-element</span></div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">           `ctypes.Structure`\ s</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">         - insert padding fields</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  505</span>        <span class="keywordflow">return</span> _ctype_from_dtype(_dtype(dtype))</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae580425161827c78cc47b4cbbd0691fb" name="ae580425161827c78cc47b4cbbd0691fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae580425161827c78cc47b4cbbd0691fb">&#9670;&#160;</a></span>load_library()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib.load_library </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>libname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>loader_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">It is possible to load a library using

&gt;&gt;&gt; lib = ctypes.cdll[&lt;full_path_name&gt;] # doctest: +SKIP

But there are cross-platform considerations, such as library file extensions,
plus the fact Windows will just load the first library it finds with that name.
NumPy supplies the load_library function as a convenience.

.. versionchanged:: 1.20.0
    Allow libname and loader_path to take any
    :term:`python:path-like object`.

Parameters
----------
libname : path-like
    Name of the library, which can have 'lib' as a prefix,
    but without an extension.
loader_path : path-like
    Where the library can be found.

Returns
-------
ctypes.cdll[libpath] : library object
   A ctypes library object

Raises
------
OSError
    If there is no library with the expected extension, or the
    library is defective and cannot be loaded.
</pre> <div class="fragment"><div class="line"><span class="lineno">   90</span>    <span class="keyword">def </span>load_library(libname, loader_path):</div>
<div class="line"><span class="lineno">   91</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">        It is possible to load a library using</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">        &gt;&gt;&gt; lib = ctypes.cdll[&lt;full_path_name&gt;] # doctest: +SKIP</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">        But there are cross-platform considerations, such as library file extensions,</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">        plus the fact Windows will just load the first library it finds with that name.</span></div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">        NumPy supplies the load_library function as a convenience.</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">        .. versionchanged:: 1.20.0</span></div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">            Allow libname and loader_path to take any</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral">            :term:`python:path-like object`.</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">        libname : path-like</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">            Name of the library, which can have &#39;lib&#39; as a prefix,</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">            but without an extension.</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">        loader_path : path-like</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">            Where the library can be found.</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral">        ctypes.cdll[libpath] : library object</span></div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">           A ctypes library object</span></div>
<div class="line"><span class="lineno">  116</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral">        Raises</span></div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">        ------</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">        OSError</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">            If there is no library with the expected extension, or the</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">            library is defective and cannot be loaded.</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordflow">if</span> ctypes.__version__ &lt; <span class="stringliteral">&#39;1.0.1&#39;</span>:</div>
<div class="line"><span class="lineno">  124</span>            <span class="keyword">import</span> warnings</div>
<div class="line"><span class="lineno">  125</span>            warnings.warn(<span class="stringliteral">&quot;All features of ctypes interface may not work &quot;</span></div>
<div class="line"><span class="lineno">  126</span>                          <span class="stringliteral">&quot;with ctypes &lt; 1.0.1&quot;</span>, stacklevel=2)</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>        <span class="comment"># Convert path-like objects into strings</span></div>
<div class="line"><span class="lineno">  129</span>        libname = os.fsdecode(libname)</div>
<div class="line"><span class="lineno">  130</span>        loader_path = os.fsdecode(loader_path)</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>        ext = os.path.splitext(libname)[1]</div>
<div class="line"><span class="lineno">  133</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> ext:</div>
<div class="line"><span class="lineno">  134</span>            <span class="comment"># Try to load library with platform-specific name, otherwise</span></div>
<div class="line"><span class="lineno">  135</span>            <span class="comment"># default to libname.[so|pyd].  Sometimes, these files are built</span></div>
<div class="line"><span class="lineno">  136</span>            <span class="comment"># erroneously on non-linux platforms.</span></div>
<div class="line"><span class="lineno">  137</span>            <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1distutils_1_1misc__util.html">numpy.distutils.misc_util</a> <span class="keyword">import</span> get_shared_lib_extension</div>
<div class="line"><span class="lineno">  138</span>            so_ext = get_shared_lib_extension()</div>
<div class="line"><span class="lineno">  139</span>            libname_ext = [libname + so_ext]</div>
<div class="line"><span class="lineno">  140</span>            <span class="comment"># mac, windows and linux &gt;= py3.2 shared library and loadable</span></div>
<div class="line"><span class="lineno">  141</span>            <span class="comment"># module have different extensions so try both</span></div>
<div class="line"><span class="lineno">  142</span>            so_ext2 = get_shared_lib_extension(is_python_ext=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  143</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> so_ext2 == so_ext:</div>
<div class="line"><span class="lineno">  144</span>                libname_ext.insert(0, libname + so_ext2)</div>
<div class="line"><span class="lineno">  145</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  146</span>            libname_ext = [libname]</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>        loader_path = os.path.abspath(loader_path)</div>
<div class="line"><span class="lineno">  149</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isdir(loader_path):</div>
<div class="line"><span class="lineno">  150</span>            libdir = os.path.dirname(loader_path)</div>
<div class="line"><span class="lineno">  151</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  152</span>            libdir = loader_path</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">for</span> ln <span class="keywordflow">in</span> libname_ext:</div>
<div class="line"><span class="lineno">  155</span>            libpath = os.path.join(libdir, ln)</div>
<div class="line"><span class="lineno">  156</span>            <span class="keywordflow">if</span> os.path.exists(libpath):</div>
<div class="line"><span class="lineno">  157</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  158</span>                    <span class="keywordflow">return</span> ctypes.cdll[libpath]</div>
<div class="line"><span class="lineno">  159</span>                <span class="keywordflow">except</span> OSError:</div>
<div class="line"><span class="lineno">  160</span>                    </div>
<div class="line"><span class="lineno">  161</span>                    <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  162</span>        </div>
<div class="line"><span class="lineno">  163</span>        <span class="keywordflow">raise</span> OSError(<span class="stringliteral">&quot;no file with expected extension&quot;</span>)</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="ttc" id="anamespacenumpy_1_1distutils_1_1misc__util_html"><div class="ttname"><a href="namespacenumpy_1_1distutils_1_1misc__util.html">numpy.distutils.misc_util</a></div><div class="ttdef"><b>Definition</b> misc_util.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acddb43ffe86889eea3b6e8ccccd8af5c" name="acddb43ffe86889eea3b6e8ccccd8af5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acddb43ffe86889eea3b6e8ccccd8af5c">&#9670;&#160;</a></span>ndpointer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib.ndpointer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ndim</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shape</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>flags</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Array-checking restype/argtypes.

An ndpointer instance is used to describe an ndarray in restypes
and argtypes specifications.  This approach is more flexible than
using, for example, ``POINTER(c_double)``, since several restrictions
can be specified, which are verified upon calling the ctypes function.
These include data type, number of dimensions, shape and flags.  If a
given array does not satisfy the specified restrictions,
a ``TypeError`` is raised.

Parameters
----------
dtype : data-type, optional
    Array data-type.
ndim : int, optional
    Number of array dimensions.
shape : tuple of ints, optional
    Array shape.
flags : str or tuple of str
    Array flags; may be one or more of:

      - C_CONTIGUOUS / C / CONTIGUOUS
      - F_CONTIGUOUS / F / FORTRAN
      - OWNDATA / O
      - WRITEABLE / W
      - ALIGNED / A
      - WRITEBACKIFCOPY / X

Returns
-------
klass : ndpointer type object
    A type object, which is an ``_ndtpr`` instance containing
    dtype, ndim, shape and flags information.

Raises
------
TypeError
    If a given array does not satisfy the specified restrictions.

Examples
--------
&gt;&gt;&gt; clib.somefunc.argtypes = [np.ctypeslib.ndpointer(dtype=np.float64,
...                                                  ndim=1,
...                                                  flags='C_CONTIGUOUS')]
... #doctest: +SKIP
&gt;&gt;&gt; clib.somefunc(np.array([1, 2, 3], dtype=np.float64))
... #doctest: +SKIP</pre> <div class="fragment"><div class="line"><span class="lineno">  235</span><span class="keyword">def </span>ndpointer(dtype=None, ndim=None, shape=None, flags=None):</div>
<div class="line"><span class="lineno">  236</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">    Array-checking restype/argtypes.</span></div>
<div class="line"><span class="lineno">  238</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral">    An ndpointer instance is used to describe an ndarray in restypes</span></div>
<div class="line"><span class="lineno">  240</span><span class="stringliteral">    and argtypes specifications.  This approach is more flexible than</span></div>
<div class="line"><span class="lineno">  241</span><span class="stringliteral">    using, for example, ``POINTER(c_double)``, since several restrictions</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral">    can be specified, which are verified upon calling the ctypes function.</span></div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral">    These include data type, number of dimensions, shape and flags.  If a</span></div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">    given array does not satisfy the specified restrictions,</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral">    a ``TypeError`` is raised.</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral">    dtype : data-type, optional</span></div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral">        Array data-type.</span></div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">    ndim : int, optional</span></div>
<div class="line"><span class="lineno">  252</span><span class="stringliteral">        Number of array dimensions.</span></div>
<div class="line"><span class="lineno">  253</span><span class="stringliteral">    shape : tuple of ints, optional</span></div>
<div class="line"><span class="lineno">  254</span><span class="stringliteral">        Array shape.</span></div>
<div class="line"><span class="lineno">  255</span><span class="stringliteral">    flags : str or tuple of str</span></div>
<div class="line"><span class="lineno">  256</span><span class="stringliteral">        Array flags; may be one or more of:</span></div>
<div class="line"><span class="lineno">  257</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  258</span><span class="stringliteral">          - C_CONTIGUOUS / C / CONTIGUOUS</span></div>
<div class="line"><span class="lineno">  259</span><span class="stringliteral">          - F_CONTIGUOUS / F / FORTRAN</span></div>
<div class="line"><span class="lineno">  260</span><span class="stringliteral">          - OWNDATA / O</span></div>
<div class="line"><span class="lineno">  261</span><span class="stringliteral">          - WRITEABLE / W</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">          - ALIGNED / A</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">          - WRITEBACKIFCOPY / X</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">    klass : ndpointer type object</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral">        A type object, which is an ``_ndtpr`` instance containing</span></div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral">        dtype, ndim, shape and flags information.</span></div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  271</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  272</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  273</span><span class="stringliteral">    TypeError</span></div>
<div class="line"><span class="lineno">  274</span><span class="stringliteral">        If a given array does not satisfy the specified restrictions.</span></div>
<div class="line"><span class="lineno">  275</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  276</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  277</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  278</span><span class="stringliteral">    &gt;&gt;&gt; clib.somefunc.argtypes = [np.ctypeslib.ndpointer(dtype=np.float64,</span></div>
<div class="line"><span class="lineno">  279</span><span class="stringliteral">    ...                                                  ndim=1,</span></div>
<div class="line"><span class="lineno">  280</span><span class="stringliteral">    ...                                                  flags=&#39;C_CONTIGUOUS&#39;)]</span></div>
<div class="line"><span class="lineno">  281</span><span class="stringliteral">    ... #doctest: +SKIP</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral">    &gt;&gt;&gt; clib.somefunc(np.array([1, 2, 3], dtype=np.float64))</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">    ... #doctest: +SKIP</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>    <span class="comment"># normalize dtype to an Optional[dtype]</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  289</span>        dtype = _dtype(dtype)</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>    <span class="comment"># normalize flags to an Optional[int]</span></div>
<div class="line"><span class="lineno">  292</span>    num = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordflow">if</span> flags <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">if</span> isinstance(flags, str):</div>
<div class="line"><span class="lineno">  295</span>            flags = flags.split(<span class="stringliteral">&#39;,&#39;</span>)</div>
<div class="line"><span class="lineno">  296</span>        <span class="keywordflow">elif</span> isinstance(flags, (int, integer)):</div>
<div class="line"><span class="lineno">  297</span>            num = flags</div>
<div class="line"><span class="lineno">  298</span>            flags = _flags_fromnum(num)</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">elif</span> isinstance(flags, flagsobj):</div>
<div class="line"><span class="lineno">  300</span>            num = flags.num</div>
<div class="line"><span class="lineno">  301</span>            flags = _flags_fromnum(num)</div>
<div class="line"><span class="lineno">  302</span>        <span class="keywordflow">if</span> num <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  303</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  304</span>                flags = [x.strip().upper() <span class="keywordflow">for</span> x <span class="keywordflow">in</span> flags]</div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  306</span>                <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;invalid flags specification&quot;</span>) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno">  307</span>            num = _num_fromflags(flags)</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>    <span class="comment"># normalize shape to an Optional[tuple]</span></div>
<div class="line"><span class="lineno">  310</span>    <span class="keywordflow">if</span> shape <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  312</span>            shape = tuple(shape)</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno">  314</span>            <span class="comment"># single integer -&gt; 1-tuple</span></div>
<div class="line"><span class="lineno">  315</span>            shape = (shape,)</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    cache_key = (dtype, ndim, shape, num)</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordflow">return</span> _pointer_type_cache[cache_key]</div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <span class="comment"># produce a name for the new type</span></div>
<div class="line"><span class="lineno">  325</span>    <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  326</span>        name = <span class="stringliteral">&#39;any&#39;</span></div>
<div class="line"><span class="lineno">  327</span>    <span class="keywordflow">elif</span> dtype.names <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  328</span>        name = str(id(dtype))</div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  330</span>        name = dtype.str</div>
<div class="line"><span class="lineno">  331</span>    <span class="keywordflow">if</span> ndim <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  332</span>        name += <span class="stringliteral">&quot;_%dd&quot;</span> % ndim</div>
<div class="line"><span class="lineno">  333</span>    <span class="keywordflow">if</span> shape <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  334</span>        name += <span class="stringliteral">&quot;_&quot;</span>+<span class="stringliteral">&quot;x&quot;</span>.join(str(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> shape)</div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">if</span> flags <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  336</span>        name += <span class="stringliteral">&quot;_&quot;</span>+<span class="stringliteral">&quot;_&quot;</span>.join(flags)</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> shape <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  339</span>        base = _concrete_ndptr</div>
<div class="line"><span class="lineno">  340</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  341</span>        base = _ndptr</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>    klass = type(<span class="stringliteral">&quot;ndpointer_%s&quot;</span>%name, (base,),</div>
<div class="line"><span class="lineno">  344</span>                 {<span class="stringliteral">&quot;_dtype_&quot;</span>: dtype,</div>
<div class="line"><span class="lineno">  345</span>                  <span class="stringliteral">&quot;_shape_&quot;</span> : shape,</div>
<div class="line"><span class="lineno">  346</span>                  <span class="stringliteral">&quot;_ndim_&quot;</span> : ndim,</div>
<div class="line"><span class="lineno">  347</span>                  <span class="stringliteral">&quot;_flags_&quot;</span> : num})</div>
<div class="line"><span class="lineno">  348</span>    _pointer_type_cache[cache_key] = klass</div>
<div class="line"><span class="lineno">  349</span>    <span class="keywordflow">return</span> klass</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5fdec1cad79b4dbe8ced9b074d1912b4" name="a5fdec1cad79b4dbe8ced9b074d1912b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fdec1cad79b4dbe8ced9b074d1912b4">&#9670;&#160;</a></span>_flagnames</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list numpy.ctypeslib._flagnames</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  [<span class="stringliteral">&#39;C_CONTIGUOUS&#39;</span>, <span class="stringliteral">&#39;F_CONTIGUOUS&#39;</span>, <span class="stringliteral">&#39;ALIGNED&#39;</span>, <span class="stringliteral">&#39;WRITEABLE&#39;</span>,</div>
<div class="line"><span class="lineno">    2</span>              <span class="stringliteral">&#39;OWNDATA&#39;</span>, <span class="stringliteral">&#39;WRITEBACKIFCOPY&#39;</span>]</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6210a4e464c785a8bc56d8b7635c60b7" name="a6210a4e464c785a8bc56d8b7635c60b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6210a4e464c785a8bc56d8b7635c60b7">&#9670;&#160;</a></span>_ndptr_base</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib._ndptr_base = object</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7a8690098059aded63a0e4d74313114a" name="a7a8690098059aded63a0e4d74313114a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a8690098059aded63a0e4d74313114a">&#9670;&#160;</a></span>_pointer_type_cache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict numpy.ctypeslib._pointer_type_cache = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac68e247cd60d56a5f3be32f16cdd9265" name="ac68e247cd60d56a5f3be32f16cdd9265"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac68e247cd60d56a5f3be32f16cdd9265">&#9670;&#160;</a></span>_scalar_type_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib._scalar_type_map = <a class="el" href="namespacenumpy_1_1ctypeslib.html#aa472f33eb3a32097725b1b8c4e53ef56">_get_scalar_type_map</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a16d8dda8b2f58d1a497661b229f3cbad" name="a16d8dda8b2f58d1a497661b229f3cbad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16d8dda8b2f58d1a497661b229f3cbad">&#9670;&#160;</a></span>as_array</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib.as_array = <a class="el" href="namespacenumpy_1_1ctypeslib.html#a66795fa6831483e5357ed1e60afc2ab9">_dummy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4fa55c56be70202333cc5f4e003adfda" name="a4fa55c56be70202333cc5f4e003adfda"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fa55c56be70202333cc5f4e003adfda">&#9670;&#160;</a></span>as_ctypes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib.as_ctypes = <a class="el" href="namespacenumpy_1_1ctypeslib.html#a66795fa6831483e5357ed1e60afc2ab9">_dummy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a84046f05997c7f2e140e53fd4ae130bf" name="a84046f05997c7f2e140e53fd4ae130bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84046f05997c7f2e140e53fd4ae130bf">&#9670;&#160;</a></span>c_intp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib.c_intp = nic._getintp_ctype()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa55fe1323acc4dfaa148b7bd00a6adca" name="aa55fe1323acc4dfaa148b7bd00a6adca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa55fe1323acc4dfaa148b7bd00a6adca">&#9670;&#160;</a></span>ctypes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib.ctypes = None</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af364318398d59bd06954479e2c83ee9a" name="af364318398d59bd06954479e2c83ee9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af364318398d59bd06954479e2c83ee9a">&#9670;&#160;</a></span>load_library</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ctypeslib.load_library = <a class="el" href="namespacenumpy_1_1ctypeslib.html#a66795fa6831483e5357ed1e60afc2ab9">_dummy</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
