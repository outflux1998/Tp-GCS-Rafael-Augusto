<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: numpy.testing._private.utils Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenumpy.html">numpy</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1testing.html">testing</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1testing_1_1__private.html">_private</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html">utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">numpy.testing._private.utils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1testing_1_1__private_1_1utils_1_1___dummy.html">_Dummy</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1testing_1_1__private_1_1utils_1_1clear__and__catch__warnings.html">clear_and_catch_warnings</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1testing_1_1__private_1_1utils_1_1_ignore_exception.html">IgnoreException</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1testing_1_1__private_1_1utils_1_1_known_failure_exception.html">KnownFailureException</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1testing_1_1__private_1_1utils_1_1suppress__warnings.html">suppress_warnings</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a8ea8e92bb1acd8b1cb920ff7050f137c" id="r_a8ea8e92bb1acd8b1cb920ff7050f137c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a8ea8e92bb1acd8b1cb920ff7050f137c">import_nose</a> ()</td></tr>
<tr class="separator:a8ea8e92bb1acd8b1cb920ff7050f137c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7710e5ba2101f048762f782b94eec34" id="r_ab7710e5ba2101f048762f782b94eec34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#ab7710e5ba2101f048762f782b94eec34">assert_</a> (val, <a class="el" href="namespacenumpy.html#a0c3cf746f0b31f14abc440a931f14957">msg</a>='')</td></tr>
<tr class="separator:ab7710e5ba2101f048762f782b94eec34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ef85814c41cb14cd8f689028790930" id="r_a42ef85814c41cb14cd8f689028790930"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a42ef85814c41cb14cd8f689028790930">gisnan</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>)</td></tr>
<tr class="separator:a42ef85814c41cb14cd8f689028790930"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc981fecbcb6f2ce2e82b4d268a17512" id="r_adc981fecbcb6f2ce2e82b4d268a17512"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#adc981fecbcb6f2ce2e82b4d268a17512">gisfinite</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>)</td></tr>
<tr class="separator:adc981fecbcb6f2ce2e82b4d268a17512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e30560e6aba3cc9bdd3adf78fcfade1" id="r_a0e30560e6aba3cc9bdd3adf78fcfade1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a0e30560e6aba3cc9bdd3adf78fcfade1">gisinf</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>)</td></tr>
<tr class="separator:a0e30560e6aba3cc9bdd3adf78fcfade1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb7fbcb9bc6c38fbb31bed2ef159357d" id="r_afb7fbcb9bc6c38fbb31bed2ef159357d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#afb7fbcb9bc6c38fbb31bed2ef159357d">GetPerformanceAttributes</a> (object, counter, instance=None, inum=-1, format=None, machine=None)</td></tr>
<tr class="separator:afb7fbcb9bc6c38fbb31bed2ef159357d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a122740d7559185d6e3e97c51058bf7eb" id="r_a122740d7559185d6e3e97c51058bf7eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a122740d7559185d6e3e97c51058bf7eb">memusage</a> (processName=&quot;python&quot;, instance=0)</td></tr>
<tr class="separator:a122740d7559185d6e3e97c51058bf7eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6be5fc88d2acbfae58c715b2814fa6c4" id="r_a6be5fc88d2acbfae58c715b2814fa6c4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a6be5fc88d2acbfae58c715b2814fa6c4">memusage</a> (_proc_pid_stat=<a class="el" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>'/proc/{os.getpid()}/stat')</td></tr>
<tr class="separator:a6be5fc88d2acbfae58c715b2814fa6c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cdbf4b956c228ed4f3f9c76f1e9a501" id="r_a7cdbf4b956c228ed4f3f9c76f1e9a501"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a7cdbf4b956c228ed4f3f9c76f1e9a501">memusage</a> ()</td></tr>
<tr class="separator:a7cdbf4b956c228ed4f3f9c76f1e9a501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dd5f107fede087efca734d21250bfa9" id="r_a3dd5f107fede087efca734d21250bfa9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a3dd5f107fede087efca734d21250bfa9">jiffies</a> (_proc_pid_stat=<a class="el" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>'/proc/{os.getpid()}/stat', _load_time=[])</td></tr>
<tr class="separator:a3dd5f107fede087efca734d21250bfa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf8585c49ced121ee3f42954d15b9490" id="r_abf8585c49ced121ee3f42954d15b9490"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#abf8585c49ced121ee3f42954d15b9490">jiffies</a> (_load_time=[])</td></tr>
<tr class="separator:abf8585c49ced121ee3f42954d15b9490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1915a5d41addb30910dbef7c685f327f" id="r_a1915a5d41addb30910dbef7c685f327f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a1915a5d41addb30910dbef7c685f327f">build_err_msg</a> (arrays, err_msg, header='Items are not equal:', <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a5fdc21323b7ff6d57a97e2a9ad60be4a">verbose</a>=True, names=('ACTUAL', 'DESIRED'), precision=8)</td></tr>
<tr class="separator:a1915a5d41addb30910dbef7c685f327f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adda02f1a87cfb63984ce04fff20abca1" id="r_adda02f1a87cfb63984ce04fff20abca1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#adda02f1a87cfb63984ce04fff20abca1">assert_equal</a> (actual, desired, err_msg='', <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a5fdc21323b7ff6d57a97e2a9ad60be4a">verbose</a>=True)</td></tr>
<tr class="separator:adda02f1a87cfb63984ce04fff20abca1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77b2d66ebe066f5e0f11d1d66c54080f" id="r_a77b2d66ebe066f5e0f11d1d66c54080f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a77b2d66ebe066f5e0f11d1d66c54080f">print_assert_equal</a> (test_string, actual, desired)</td></tr>
<tr class="separator:a77b2d66ebe066f5e0f11d1d66c54080f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69f87fdf384aad36ee1bd1a98250e39b" id="r_a69f87fdf384aad36ee1bd1a98250e39b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a69f87fdf384aad36ee1bd1a98250e39b">assert_almost_equal</a> (actual, desired, decimal=7, err_msg='', <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a5fdc21323b7ff6d57a97e2a9ad60be4a">verbose</a>=True)</td></tr>
<tr class="separator:a69f87fdf384aad36ee1bd1a98250e39b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f967aa1c3b45b38a9b3ed64da5479a" id="r_a53f967aa1c3b45b38a9b3ed64da5479a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a53f967aa1c3b45b38a9b3ed64da5479a">assert_approx_equal</a> (actual, desired, significant=7, err_msg='', <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a5fdc21323b7ff6d57a97e2a9ad60be4a">verbose</a>=True)</td></tr>
<tr class="separator:a53f967aa1c3b45b38a9b3ed64da5479a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7ebd3485c6f71817a9880b3ce1d2c56" id="r_ad7ebd3485c6f71817a9880b3ce1d2c56"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#ad7ebd3485c6f71817a9880b3ce1d2c56">assert_array_compare</a> (comparison, <a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>, y, err_msg='', <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a5fdc21323b7ff6d57a97e2a9ad60be4a">verbose</a>=True, header='', precision=6, equal_nan=True, equal_inf=True, *strict=False)</td></tr>
<tr class="separator:ad7ebd3485c6f71817a9880b3ce1d2c56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3dce04bc6c57ab77d58ce533b505f16" id="r_ad3dce04bc6c57ab77d58ce533b505f16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#ad3dce04bc6c57ab77d58ce533b505f16">assert_array_equal</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>, y, err_msg='', <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a5fdc21323b7ff6d57a97e2a9ad60be4a">verbose</a>=True, *strict=False)</td></tr>
<tr class="separator:ad3dce04bc6c57ab77d58ce533b505f16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a574fa0e9fb74b9e2e8fba88d818c58c3" id="r_a574fa0e9fb74b9e2e8fba88d818c58c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a574fa0e9fb74b9e2e8fba88d818c58c3">assert_array_almost_equal</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>, y, decimal=6, err_msg='', <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a5fdc21323b7ff6d57a97e2a9ad60be4a">verbose</a>=True)</td></tr>
<tr class="separator:a574fa0e9fb74b9e2e8fba88d818c58c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4129707efd779fdc20887c1177dbc55" id="r_af4129707efd779fdc20887c1177dbc55"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#af4129707efd779fdc20887c1177dbc55">assert_array_less</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>, y, err_msg='', <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a5fdc21323b7ff6d57a97e2a9ad60be4a">verbose</a>=True)</td></tr>
<tr class="separator:af4129707efd779fdc20887c1177dbc55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b93ef0e18653142d51efe2b50bbaa87" id="r_a2b93ef0e18653142d51efe2b50bbaa87"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a2b93ef0e18653142d51efe2b50bbaa87">runstring</a> (astr, dict)</td></tr>
<tr class="separator:a2b93ef0e18653142d51efe2b50bbaa87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5204508d892146edd97523fd370426f9" id="r_a5204508d892146edd97523fd370426f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a5204508d892146edd97523fd370426f9">assert_string_equal</a> (actual, desired)</td></tr>
<tr class="separator:a5204508d892146edd97523fd370426f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15894cd9904e887fe34ff51363fccbe2" id="r_a15894cd9904e887fe34ff51363fccbe2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a15894cd9904e887fe34ff51363fccbe2">rundocs</a> (filename=None, raise_on_error=True)</td></tr>
<tr class="separator:a15894cd9904e887fe34ff51363fccbe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41f2c0cfb959b95ab970e4a650877099" id="r_a41f2c0cfb959b95ab970e4a650877099"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a41f2c0cfb959b95ab970e4a650877099">raises</a> (*args)</td></tr>
<tr class="separator:a41f2c0cfb959b95ab970e4a650877099"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fe63d005ef1dd1b423171a910652da2" id="r_a3fe63d005ef1dd1b423171a910652da2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a3fe63d005ef1dd1b423171a910652da2">assert_raises</a> (*args, **kwargs)</td></tr>
<tr class="separator:a3fe63d005ef1dd1b423171a910652da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e9faa6467bbc686e1434ea2d671b87c" id="r_a3e9faa6467bbc686e1434ea2d671b87c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a3e9faa6467bbc686e1434ea2d671b87c">assert_raises_regex</a> (exception_class, expected_regexp, *args, **kwargs)</td></tr>
<tr class="separator:a3e9faa6467bbc686e1434ea2d671b87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a284d47df645b31df5448cb69233bc6b7" id="r_a284d47df645b31df5448cb69233bc6b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a284d47df645b31df5448cb69233bc6b7">decorate_methods</a> (cls, decorator, testmatch=None)</td></tr>
<tr class="separator:a284d47df645b31df5448cb69233bc6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8c7e4e08f615746b697a7b0f032ce6b" id="r_ae8c7e4e08f615746b697a7b0f032ce6b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#ae8c7e4e08f615746b697a7b0f032ce6b">measure</a> (code_str, times=1, label=None)</td></tr>
<tr class="separator:ae8c7e4e08f615746b697a7b0f032ce6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a038da82d88851873731703b5c673dcbd" id="r_a038da82d88851873731703b5c673dcbd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a038da82d88851873731703b5c673dcbd">_assert_valid_refcount</a> (op)</td></tr>
<tr class="separator:a038da82d88851873731703b5c673dcbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1335da467991f22725c0f2dd1b2dfe91" id="r_a1335da467991f22725c0f2dd1b2dfe91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a1335da467991f22725c0f2dd1b2dfe91">assert_allclose</a> (actual, desired, <a class="el" href="__lapack__subroutines_8h.html#aa4a017e91ee751f9803a1bdb6caf1c06">rtol</a>=1e-7, atol=0, equal_nan=True, err_msg='', <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a5fdc21323b7ff6d57a97e2a9ad60be4a">verbose</a>=True)</td></tr>
<tr class="separator:a1335da467991f22725c0f2dd1b2dfe91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d0136c3457a6f54814195b3659c3a3f" id="r_a8d0136c3457a6f54814195b3659c3a3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a8d0136c3457a6f54814195b3659c3a3f">assert_array_almost_equal_nulp</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>, y, nulp=1)</td></tr>
<tr class="separator:a8d0136c3457a6f54814195b3659c3a3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a464e6b0d8057777912e21aaef1ec8eb3" id="r_a464e6b0d8057777912e21aaef1ec8eb3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a464e6b0d8057777912e21aaef1ec8eb3">assert_array_max_ulp</a> (<a class="el" href="__blas__subroutines_8h.html#a4da0a64c77789ca4c8115aef76120fd2">a</a>, b, maxulp=1, dtype=None)</td></tr>
<tr class="separator:a464e6b0d8057777912e21aaef1ec8eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91b9cfceac3de718823391f01b4e187e" id="r_a91b9cfceac3de718823391f01b4e187e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a91b9cfceac3de718823391f01b4e187e">nulp_diff</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>, y, dtype=None)</td></tr>
<tr class="separator:a91b9cfceac3de718823391f01b4e187e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fcb11b6b308d331323cff9752d27a15" id="r_a4fcb11b6b308d331323cff9752d27a15"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a4fcb11b6b308d331323cff9752d27a15">_integer_repr</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>, vdt, comp)</td></tr>
<tr class="separator:a4fcb11b6b308d331323cff9752d27a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab746e9af2472eb292483a33f750dedb8" id="r_ab746e9af2472eb292483a33f750dedb8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#ab746e9af2472eb292483a33f750dedb8">integer_repr</a> (<a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>)</td></tr>
<tr class="separator:ab746e9af2472eb292483a33f750dedb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a004cbeb89eef8d23accf8c0e6dcda1c3" id="r_a004cbeb89eef8d23accf8c0e6dcda1c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a004cbeb89eef8d23accf8c0e6dcda1c3">_assert_warns_context</a> (warning_class, name=None)</td></tr>
<tr class="separator:a004cbeb89eef8d23accf8c0e6dcda1c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a437b7b8fb775a0d264669ade49fa588a" id="r_a437b7b8fb775a0d264669ade49fa588a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a437b7b8fb775a0d264669ade49fa588a">assert_warns</a> (warning_class, *args, **kwargs)</td></tr>
<tr class="separator:a437b7b8fb775a0d264669ade49fa588a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a760bc97f170580d0b14ac5857598f727" id="r_a760bc97f170580d0b14ac5857598f727"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a760bc97f170580d0b14ac5857598f727">_assert_no_warnings_context</a> (name=None)</td></tr>
<tr class="separator:a760bc97f170580d0b14ac5857598f727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67752544d45d4bfd0a17525ed1bb702f" id="r_a67752544d45d4bfd0a17525ed1bb702f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a67752544d45d4bfd0a17525ed1bb702f">assert_no_warnings</a> (*args, **kwargs)</td></tr>
<tr class="separator:a67752544d45d4bfd0a17525ed1bb702f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cb38518806412133ca62ae47255c8c1" id="r_a9cb38518806412133ca62ae47255c8c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a9cb38518806412133ca62ae47255c8c1">_gen_alignment_data</a> (dtype=float32, type='binary', max_size=24)</td></tr>
<tr class="separator:a9cb38518806412133ca62ae47255c8c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca687197d35855f9f92af0869dbaccb4" id="r_aca687197d35855f9f92af0869dbaccb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#aca687197d35855f9f92af0869dbaccb4">tempdir</a> (*args, **kwargs)</td></tr>
<tr class="separator:aca687197d35855f9f92af0869dbaccb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50c0b297ff2f68ff553136f2937eddf6" id="r_a50c0b297ff2f68ff553136f2937eddf6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a50c0b297ff2f68ff553136f2937eddf6">temppath</a> (*args, **kwargs)</td></tr>
<tr class="separator:a50c0b297ff2f68ff553136f2937eddf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f6d2e0961e89b73098268f9c423cc5a" id="r_a2f6d2e0961e89b73098268f9c423cc5a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a2f6d2e0961e89b73098268f9c423cc5a">_assert_no_gc_cycles_context</a> (name=None)</td></tr>
<tr class="separator:a2f6d2e0961e89b73098268f9c423cc5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a173f2e317efd119e32b77ad84513a88d" id="r_a173f2e317efd119e32b77ad84513a88d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a173f2e317efd119e32b77ad84513a88d">assert_no_gc_cycles</a> (*args, **kwargs)</td></tr>
<tr class="separator:a173f2e317efd119e32b77ad84513a88d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf4fabcc1d720a36a9eb3fe38dfa4d7b" id="r_adf4fabcc1d720a36a9eb3fe38dfa4d7b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#adf4fabcc1d720a36a9eb3fe38dfa4d7b">break_cycles</a> ()</td></tr>
<tr class="separator:adf4fabcc1d720a36a9eb3fe38dfa4d7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c91aca24ff221b6feb7f65bf66cca94" id="r_a0c91aca24ff221b6feb7f65bf66cca94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a0c91aca24ff221b6feb7f65bf66cca94">requires_memory</a> (free_bytes)</td></tr>
<tr class="separator:a0c91aca24ff221b6feb7f65bf66cca94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f8680bcce202976575e30570eda3eac" id="r_a4f8680bcce202976575e30570eda3eac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a4f8680bcce202976575e30570eda3eac">check_free_memory</a> (free_bytes)</td></tr>
<tr class="separator:a4f8680bcce202976575e30570eda3eac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a285c59c2be570ba8a66addf4deb22e22" id="r_a285c59c2be570ba8a66addf4deb22e22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a285c59c2be570ba8a66addf4deb22e22">_parse_size</a> (size_str)</td></tr>
<tr class="separator:a285c59c2be570ba8a66addf4deb22e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf305e1e5887a1cfeac206f096e1c08" id="r_abcf305e1e5887a1cfeac206f096e1c08"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#abcf305e1e5887a1cfeac206f096e1c08">_get_mem_available</a> ()</td></tr>
<tr class="separator:abcf305e1e5887a1cfeac206f096e1c08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc771513479aa044b1725195bbe1e07a" id="r_adc771513479aa044b1725195bbe1e07a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#adc771513479aa044b1725195bbe1e07a">_no_tracing</a> (<a class="el" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>)</td></tr>
<tr class="separator:adc771513479aa044b1725195bbe1e07a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e69f854951319e1fcde7bea779bd86" id="r_a35e69f854951319e1fcde7bea779bd86"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a35e69f854951319e1fcde7bea779bd86">_get_glibc_version</a> ()</td></tr>
<tr class="separator:a35e69f854951319e1fcde7bea779bd86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae212763dc9bbd2fb87944cc9b09d5325" id="r_ae212763dc9bbd2fb87944cc9b09d5325"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#ae212763dc9bbd2fb87944cc9b09d5325">KnownFailureTest</a> = <a class="el" href="classnumpy_1_1testing_1_1__private_1_1utils_1_1_known_failure_exception.html">KnownFailureException</a></td></tr>
<tr class="separator:ae212763dc9bbd2fb87944cc9b09d5325"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fdc21323b7ff6d57a97e2a9ad60be4a" id="r_a5fdc21323b7ff6d57a97e2a9ad60be4a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a5fdc21323b7ff6d57a97e2a9ad60be4a">verbose</a> = 0</td></tr>
<tr class="separator:a5fdc21323b7ff6d57a97e2a9ad60be4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5eb99dc2ec7b08971d4a7b97552946d" id="r_ad5eb99dc2ec7b08971d4a7b97552946d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#ad5eb99dc2ec7b08971d4a7b97552946d">IS_WASM</a> = platform.machine() <a class="el" href="__lapack__subroutines_8h.html#aa83d4778c28341ab79b01b2371f666fe">in</a> [&quot;wasm32&quot;, &quot;wasm64&quot;]</td></tr>
<tr class="separator:ad5eb99dc2ec7b08971d4a7b97552946d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7923b2bdde8a4ce8d6af0385631f4cee" id="r_a7923b2bdde8a4ce8d6af0385631f4cee"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a7923b2bdde8a4ce8d6af0385631f4cee">IS_PYPY</a> = 'pypy'</td></tr>
<tr class="separator:a7923b2bdde8a4ce8d6af0385631f4cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19ccf14a09ff7e2b03a47197284e7f57" id="r_a19ccf14a09ff7e2b03a47197284e7f57"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a19ccf14a09ff7e2b03a47197284e7f57">IS_PYSTON</a> = hasattr(sys, &quot;pyston_version_info&quot;)</td></tr>
<tr class="separator:a19ccf14a09ff7e2b03a47197284e7f57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a796c1e504358d9515dbb96695bbde581" id="r_a796c1e504358d9515dbb96695bbde581"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a796c1e504358d9515dbb96695bbde581">HAS_REFCOUNT</a> = getattr(sys, 'getrefcount', None) is not None and not <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a19ccf14a09ff7e2b03a47197284e7f57">IS_PYSTON</a></td></tr>
<tr class="separator:a796c1e504358d9515dbb96695bbde581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa751740baa9c3ecdb67319506a3002bd" id="r_aa751740baa9c3ecdb67319506a3002bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#aa751740baa9c3ecdb67319506a3002bd">HAS_LAPACK64</a> = numpy.linalg.lapack_lite._ilp64</td></tr>
<tr class="separator:aa751740baa9c3ecdb67319506a3002bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a721491e387500169a5297da624620341" id="r_a721491e387500169a5297da624620341"><td class="memItemLeft" align="right" valign="top">np&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a721491e387500169a5297da624620341">_OLD_PROMOTION</a> = 'legacy'</td></tr>
<tr class="separator:a721491e387500169a5297da624620341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3af71397c528347d3f7c7de9941a0824" id="r_a3af71397c528347d3f7c7de9941a0824"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a3af71397c528347d3f7c7de9941a0824">_d</a> = <a class="el" href="classnumpy_1_1testing_1_1__private_1_1utils_1_1___dummy.html">_Dummy</a>('nop')</td></tr>
<tr class="separator:a3af71397c528347d3f7c7de9941a0824"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a716703d4534a3428a3b50f14d9feadd4" id="r_a716703d4534a3428a3b50f14d9feadd4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a716703d4534a3428a3b50f14d9feadd4">_glibcver</a> = <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a35e69f854951319e1fcde7bea779bd86">_get_glibc_version</a>()</td></tr>
<tr class="separator:a716703d4534a3428a3b50f14d9feadd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70fc8619c5361413ef01e2679d272565" id="r_a70fc8619c5361413ef01e2679d272565"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a70fc8619c5361413ef01e2679d272565">_glibc_older_than</a> = <a class="el" href="__lapack__subroutines_8h.html#a76093d20ca2e1c5d5216168f26f73e19">lambda</a> x: (<a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a716703d4534a3428a3b50f14d9feadd4">_glibcver</a> != '0.0' and <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a716703d4534a3428a3b50f14d9feadd4">_glibcver</a> &lt; <a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>)</td></tr>
<tr class="separator:a70fc8619c5361413ef01e2679d272565"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Utility function to facilitate testing.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a2f6d2e0961e89b73098268f9c423cc5a" name="a2f6d2e0961e89b73098268f9c423cc5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f6d2e0961e89b73098268f9c423cc5a">&#9670;&#160;</a></span>_assert_no_gc_cycles_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._assert_no_gc_cycles_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>None</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2369</span><span class="keyword">def </span>_assert_no_gc_cycles_context(name=None):</div>
<div class="line"><span class="lineno"> 2370</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno"> 2371</span> </div>
<div class="line"><span class="lineno"> 2372</span>    <span class="comment"># not meaningful to test if there is no refcounting</span></div>
<div class="line"><span class="lineno"> 2373</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> HAS_REFCOUNT:</div>
<div class="line"><span class="lineno"> 2374</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno"> 2375</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 2376</span> </div>
<div class="line"><span class="lineno"> 2377</span>    assert_(gc.isenabled())</div>
<div class="line"><span class="lineno"> 2378</span>    gc.disable()</div>
<div class="line"><span class="lineno"> 2379</span>    gc_debug = gc.get_debug()</div>
<div class="line"><span class="lineno"> 2380</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2381</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(100):</div>
<div class="line"><span class="lineno"> 2382</span>            <span class="keywordflow">if</span> gc.collect() == 0:</div>
<div class="line"><span class="lineno"> 2383</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 2384</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2385</span>            <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno"> 2386</span>                <span class="stringliteral">&quot;Unable to fully collect garbage - perhaps a __del__ method &quot;</span></div>
<div class="line"><span class="lineno"> 2387</span>                <span class="stringliteral">&quot;is creating more reference cycles?&quot;</span>)</div>
<div class="line"><span class="lineno"> 2388</span> </div>
<div class="line"><span class="lineno"> 2389</span>        gc.set_debug(gc.DEBUG_SAVEALL)</div>
<div class="line"><span class="lineno"> 2390</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno"> 2391</span>        <span class="comment"># gc.collect returns the number of unreachable objects in cycles that</span></div>
<div class="line"><span class="lineno"> 2392</span>        <span class="comment"># were found -- we are checking that no cycles were created in the context</span></div>
<div class="line"><span class="lineno"> 2393</span>        n_objects_in_cycles = gc.collect()</div>
<div class="line"><span class="lineno"> 2394</span>        objects_in_cycles = gc.garbage[:]</div>
<div class="line"><span class="lineno"> 2395</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno"> 2396</span>        del gc.garbage[:]</div>
<div class="line"><span class="lineno"> 2397</span>        gc.set_debug(gc_debug)</div>
<div class="line"><span class="lineno"> 2398</span>        gc.enable()</div>
<div class="line"><span class="lineno"> 2399</span> </div>
<div class="line"><span class="lineno"> 2400</span>    <span class="keywordflow">if</span> n_objects_in_cycles:</div>
<div class="line"><span class="lineno"> 2401</span>        name_str = f<span class="stringliteral">&#39; when calling {name}&#39;</span> <span class="keywordflow">if</span> name <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 2402</span>        <span class="keywordflow">raise</span> AssertionError(</div>
<div class="line"><span class="lineno"> 2403</span>            <span class="stringliteral">&quot;Reference cycles were found{}: {} objects were collected, &quot;</span></div>
<div class="line"><span class="lineno"> 2404</span>            <span class="stringliteral">&quot;of which {} are shown below:{}&quot;</span></div>
<div class="line"><span class="lineno"> 2405</span>            .format(</div>
<div class="line"><span class="lineno"> 2406</span>                name_str,</div>
<div class="line"><span class="lineno"> 2407</span>                n_objects_in_cycles,</div>
<div class="line"><span class="lineno"> 2408</span>                len(objects_in_cycles),</div>
<div class="line"><span class="lineno"> 2409</span>                <span class="stringliteral">&#39;&#39;</span>.join(</div>
<div class="line"><span class="lineno"> 2410</span>                    <span class="stringliteral">&quot;\n  {} object with id={}:\n    {}&quot;</span>.format(</div>
<div class="line"><span class="lineno"> 2411</span>                        type(o).__name__,</div>
<div class="line"><span class="lineno"> 2412</span>                        id(o),</div>
<div class="line"><span class="lineno"> 2413</span>                        pprint.pformat(o).replace(<span class="stringliteral">&#39;\n&#39;</span>, <span class="stringliteral">&#39;\n    &#39;</span>)</div>
<div class="line"><span class="lineno"> 2414</span>                    ) <span class="keywordflow">for</span> o <span class="keywordflow">in</span> objects_in_cycles</div>
<div class="line"><span class="lineno"> 2415</span>                )</div>
<div class="line"><span class="lineno"> 2416</span>            )</div>
<div class="line"><span class="lineno"> 2417</span>        )</div>
<div class="line"><span class="lineno"> 2418</span> </div>
<div class="line"><span class="lineno"> 2419</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a760bc97f170580d0b14ac5857598f727" name="a760bc97f170580d0b14ac5857598f727"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a760bc97f170580d0b14ac5857598f727">&#9670;&#160;</a></span>_assert_no_warnings_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._assert_no_warnings_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>None</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1867</span><span class="keyword">def </span>_assert_no_warnings_context(name=None):</div>
<div class="line"><span class="lineno"> 1868</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno"> 1869</span>    <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>) <span class="keyword">as</span> l:</div>
<div class="line"><span class="lineno"> 1870</span>        warnings.simplefilter(<span class="stringliteral">&#39;always&#39;</span>)</div>
<div class="line"><span class="lineno"> 1871</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno"> 1872</span>        <span class="keywordflow">if</span> len(l) &gt; 0:</div>
<div class="line"><span class="lineno"> 1873</span>            name_str = f<span class="stringliteral">&#39; when calling {name}&#39;</span> <span class="keywordflow">if</span> name <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 1874</span>            <span class="keywordflow">raise</span> AssertionError(f<span class="stringliteral">&#39;Got warnings{name_str}: {l}&#39;</span>)</div>
<div class="line"><span class="lineno"> 1875</span> </div>
<div class="line"><span class="lineno"> 1876</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a038da82d88851873731703b5c673dcbd" name="a038da82d88851873731703b5c673dcbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a038da82d88851873731703b5c673dcbd">&#9670;&#160;</a></span>_assert_valid_refcount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._assert_valid_refcount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>op</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Check that ufuncs don't mishandle refcount of object `1`.
Used in a few regression tests.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1498</span><span class="keyword">def </span>_assert_valid_refcount(op):</div>
<div class="line"><span class="lineno"> 1499</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1500</span><span class="stringliteral">    Check that ufuncs don&#39;t mishandle refcount of object `1`.</span></div>
<div class="line"><span class="lineno"> 1501</span><span class="stringliteral">    Used in a few regression tests.</span></div>
<div class="line"><span class="lineno"> 1502</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1503</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> HAS_REFCOUNT:</div>
<div class="line"><span class="lineno"> 1504</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1505</span> </div>
<div class="line"><span class="lineno"> 1506</span>    <span class="keyword">import</span> gc</div>
<div class="line"><span class="lineno"> 1507</span>    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="lineno"> 1508</span> </div>
<div class="line"><span class="lineno"> 1509</span>    b = np.arange(100*100).reshape(100, 100)</div>
<div class="line"><span class="lineno"> 1510</span>    c = b</div>
<div class="line"><span class="lineno"> 1511</span>    i = 1</div>
<div class="line"><span class="lineno"> 1512</span> </div>
<div class="line"><span class="lineno"> 1513</span>    gc.disable()</div>
<div class="line"><span class="lineno"> 1514</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1515</span>        rc = sys.getrefcount(i)</div>
<div class="line"><span class="lineno"> 1516</span>        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(15):</div>
<div class="line"><span class="lineno"> 1517</span>            d = op(b, c)</div>
<div class="line"><span class="lineno"> 1518</span>        assert_(sys.getrefcount(i) &gt;= rc)</div>
<div class="line"><span class="lineno"> 1519</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno"> 1520</span>        gc.enable()</div>
<div class="line"><span class="lineno"> 1521</span>    del d  <span class="comment"># for pyflakes</span></div>
<div class="line"><span class="lineno"> 1522</span> </div>
<div class="line"><span class="lineno"> 1523</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a004cbeb89eef8d23accf8c0e6dcda1c3" name="a004cbeb89eef8d23accf8c0e6dcda1c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a004cbeb89eef8d23accf8c0e6dcda1c3">&#9670;&#160;</a></span>_assert_warns_context()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._assert_warns_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>warning_class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1802</span><span class="keyword">def </span>_assert_warns_context(warning_class, name=None):</div>
<div class="line"><span class="lineno"> 1803</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno"> 1804</span>    <span class="keyword">with</span> suppress_warnings() <span class="keyword">as</span> sup:</div>
<div class="line"><span class="lineno"> 1805</span>        l = sup.record(warning_class)</div>
<div class="line"><span class="lineno"> 1806</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno"> 1807</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> len(l) &gt; 0:</div>
<div class="line"><span class="lineno"> 1808</span>            name_str = f<span class="stringliteral">&#39; when calling {name}&#39;</span> <span class="keywordflow">if</span> name <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> <span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 1809</span>            <span class="keywordflow">raise</span> AssertionError(<span class="stringliteral">&quot;No warning raised&quot;</span> + name_str)</div>
<div class="line"><span class="lineno"> 1810</span> </div>
<div class="line"><span class="lineno"> 1811</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9cb38518806412133ca62ae47255c8c1" name="a9cb38518806412133ca62ae47255c8c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cb38518806412133ca62ae47255c8c1">&#9670;&#160;</a></span>_gen_alignment_data()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._gen_alignment_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>float32</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>type</em> = <code>'binary'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_size</em> = <code>24</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">generator producing data with different alignment and offsets
to test simd vectorization

Parameters
----------
dtype : dtype
    data type to produce
type : string
    'unary': create data for unary operations, creates one input
             and output array
    'binary': create data for unary operations, creates two input
             and output array
max_size : integer
    maximum size of data to produce

Returns
-------
if type is 'unary' yields one output, one input array and a message
containing information on the data
if type is 'binary' yields one output array, two input array and a message
containing information on the data</pre> <div class="fragment"><div class="line"><span class="lineno"> 1913</span><span class="keyword">def </span>_gen_alignment_data(dtype=float32, type=&#39;binary&#39;, max_size=24):</div>
<div class="line"><span class="lineno"> 1914</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1915</span><span class="stringliteral">    generator producing data with different alignment and offsets</span></div>
<div class="line"><span class="lineno"> 1916</span><span class="stringliteral">    to test simd vectorization</span></div>
<div class="line"><span class="lineno"> 1917</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1918</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1919</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1920</span><span class="stringliteral">    dtype : dtype</span></div>
<div class="line"><span class="lineno"> 1921</span><span class="stringliteral">        data type to produce</span></div>
<div class="line"><span class="lineno"> 1922</span><span class="stringliteral">    type : string</span></div>
<div class="line"><span class="lineno"> 1923</span><span class="stringliteral">        &#39;unary&#39;: create data for unary operations, creates one input</span></div>
<div class="line"><span class="lineno"> 1924</span><span class="stringliteral">                 and output array</span></div>
<div class="line"><span class="lineno"> 1925</span><span class="stringliteral">        &#39;binary&#39;: create data for unary operations, creates two input</span></div>
<div class="line"><span class="lineno"> 1926</span><span class="stringliteral">                 and output array</span></div>
<div class="line"><span class="lineno"> 1927</span><span class="stringliteral">    max_size : integer</span></div>
<div class="line"><span class="lineno"> 1928</span><span class="stringliteral">        maximum size of data to produce</span></div>
<div class="line"><span class="lineno"> 1929</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1930</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1931</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1932</span><span class="stringliteral">    if type is &#39;unary&#39; yields one output, one input array and a message</span></div>
<div class="line"><span class="lineno"> 1933</span><span class="stringliteral">    containing information on the data</span></div>
<div class="line"><span class="lineno"> 1934</span><span class="stringliteral">    if type is &#39;binary&#39; yields one output array, two input array and a message</span></div>
<div class="line"><span class="lineno"> 1935</span><span class="stringliteral">    containing information on the data</span></div>
<div class="line"><span class="lineno"> 1936</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1937</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1938</span>    ufmt = <span class="stringliteral">&#39;unary offset=(%d, %d), size=%d, dtype=%r, %s&#39;</span></div>
<div class="line"><span class="lineno"> 1939</span>    bfmt = <span class="stringliteral">&#39;binary offset=(%d, %d, %d), size=%d, dtype=%r, %s&#39;</span></div>
<div class="line"><span class="lineno"> 1940</span>    <span class="keywordflow">for</span> o <span class="keywordflow">in</span> range(3):</div>
<div class="line"><span class="lineno"> 1941</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> range(o + 2, max(o + 3, max_size)):</div>
<div class="line"><span class="lineno"> 1942</span>            <span class="keywordflow">if</span> type == <span class="stringliteral">&#39;unary&#39;</span>:</div>
<div class="line"><span class="lineno"> 1943</span>                inp = <span class="keyword">lambda</span>: arange(s, dtype=dtype)[o:]</div>
<div class="line"><span class="lineno"> 1944</span>                out = empty((s,), dtype=dtype)[o:]</div>
<div class="line"><span class="lineno"> 1945</span>                <span class="keywordflow">yield</span> out, inp(), ufmt % (o, o, s, dtype, <span class="stringliteral">&#39;out of place&#39;</span>)</div>
<div class="line"><span class="lineno"> 1946</span>                d = inp()</div>
<div class="line"><span class="lineno"> 1947</span>                <span class="keywordflow">yield</span> d, d, ufmt % (o, o, s, dtype, <span class="stringliteral">&#39;in place&#39;</span>)</div>
<div class="line"><span class="lineno"> 1948</span>                <span class="keywordflow">yield</span> out[1:], inp()[:-1], ufmt % \</div>
<div class="line"><span class="lineno"> 1949</span>                    (o + 1, o, s - 1, dtype, <span class="stringliteral">&#39;out of place&#39;</span>)</div>
<div class="line"><span class="lineno"> 1950</span>                <span class="keywordflow">yield</span> out[:-1], inp()[1:], ufmt % \</div>
<div class="line"><span class="lineno"> 1951</span>                    (o, o + 1, s - 1, dtype, <span class="stringliteral">&#39;out of place&#39;</span>)</div>
<div class="line"><span class="lineno"> 1952</span>                <span class="keywordflow">yield</span> inp()[:-1], inp()[1:], ufmt % \</div>
<div class="line"><span class="lineno"> 1953</span>                    (o, o + 1, s - 1, dtype, <span class="stringliteral">&#39;aliased&#39;</span>)</div>
<div class="line"><span class="lineno"> 1954</span>                <span class="keywordflow">yield</span> inp()[1:], inp()[:-1], ufmt % \</div>
<div class="line"><span class="lineno"> 1955</span>                    (o + 1, o, s - 1, dtype, <span class="stringliteral">&#39;aliased&#39;</span>)</div>
<div class="line"><span class="lineno"> 1956</span>            <span class="keywordflow">if</span> type == <span class="stringliteral">&#39;binary&#39;</span>:</div>
<div class="line"><span class="lineno"> 1957</span>                inp1 = <span class="keyword">lambda</span>: arange(s, dtype=dtype)[o:]</div>
<div class="line"><span class="lineno"> 1958</span>                inp2 = <span class="keyword">lambda</span>: arange(s, dtype=dtype)[o:]</div>
<div class="line"><span class="lineno"> 1959</span>                out = empty((s,), dtype=dtype)[o:]</div>
<div class="line"><span class="lineno"> 1960</span>                <span class="keywordflow">yield</span> out, inp1(), inp2(),  bfmt % \</div>
<div class="line"><span class="lineno"> 1961</span>                    (o, o, o, s, dtype, <span class="stringliteral">&#39;out of place&#39;</span>)</div>
<div class="line"><span class="lineno"> 1962</span>                d = inp1()</div>
<div class="line"><span class="lineno"> 1963</span>                <span class="keywordflow">yield</span> d, d, inp2(), bfmt % \</div>
<div class="line"><span class="lineno"> 1964</span>                    (o, o, o, s, dtype, <span class="stringliteral">&#39;in place1&#39;</span>)</div>
<div class="line"><span class="lineno"> 1965</span>                d = inp2()</div>
<div class="line"><span class="lineno"> 1966</span>                <span class="keywordflow">yield</span> d, inp1(), d, bfmt % \</div>
<div class="line"><span class="lineno"> 1967</span>                    (o, o, o, s, dtype, <span class="stringliteral">&#39;in place2&#39;</span>)</div>
<div class="line"><span class="lineno"> 1968</span>                <span class="keywordflow">yield</span> out[1:], inp1()[:-1], inp2()[:-1], bfmt % \</div>
<div class="line"><span class="lineno"> 1969</span>                    (o + 1, o, o, s - 1, dtype, <span class="stringliteral">&#39;out of place&#39;</span>)</div>
<div class="line"><span class="lineno"> 1970</span>                <span class="keywordflow">yield</span> out[:-1], inp1()[1:], inp2()[:-1], bfmt % \</div>
<div class="line"><span class="lineno"> 1971</span>                    (o, o + 1, o, s - 1, dtype, <span class="stringliteral">&#39;out of place&#39;</span>)</div>
<div class="line"><span class="lineno"> 1972</span>                <span class="keywordflow">yield</span> out[:-1], inp1()[:-1], inp2()[1:], bfmt % \</div>
<div class="line"><span class="lineno"> 1973</span>                    (o, o, o + 1, s - 1, dtype, <span class="stringliteral">&#39;out of place&#39;</span>)</div>
<div class="line"><span class="lineno"> 1974</span>                <span class="keywordflow">yield</span> inp1()[1:], inp1()[:-1], inp2()[:-1], bfmt % \</div>
<div class="line"><span class="lineno"> 1975</span>                    (o + 1, o, o, s - 1, dtype, <span class="stringliteral">&#39;aliased&#39;</span>)</div>
<div class="line"><span class="lineno"> 1976</span>                <span class="keywordflow">yield</span> inp1()[:-1], inp1()[1:], inp2()[:-1], bfmt % \</div>
<div class="line"><span class="lineno"> 1977</span>                    (o, o + 1, o, s - 1, dtype, <span class="stringliteral">&#39;aliased&#39;</span>)</div>
<div class="line"><span class="lineno"> 1978</span>                <span class="keywordflow">yield</span> inp1()[:-1], inp1()[:-1], inp2()[1:], bfmt % \</div>
<div class="line"><span class="lineno"> 1979</span>                    (o, o, o + 1, s - 1, dtype, <span class="stringliteral">&#39;aliased&#39;</span>)</div>
<div class="line"><span class="lineno"> 1980</span> </div>
<div class="line"><span class="lineno"> 1981</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a35e69f854951319e1fcde7bea779bd86" name="a35e69f854951319e1fcde7bea779bd86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35e69f854951319e1fcde7bea779bd86">&#9670;&#160;</a></span>_get_glibc_version()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._get_glibc_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2583</span><span class="keyword">def </span>_get_glibc_version():</div>
<div class="line"><span class="lineno"> 2584</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2585</span>        ver = os.confstr(<span class="stringliteral">&#39;CS_GNU_LIBC_VERSION&#39;</span>).rsplit(<span class="stringliteral">&#39; &#39;</span>)[1]</div>
<div class="line"><span class="lineno"> 2586</span>    <span class="keywordflow">except</span> Exception <span class="keyword">as</span> inst:</div>
<div class="line"><span class="lineno"> 2587</span>        ver = <span class="stringliteral">&#39;0.0&#39;</span></div>
<div class="line"><span class="lineno"> 2588</span> </div>
<div class="line"><span class="lineno"> 2589</span>    <span class="keywordflow">return</span> ver</div>
<div class="line"><span class="lineno"> 2590</span> </div>
<div class="line"><span class="lineno"> 2591</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abcf305e1e5887a1cfeac206f096e1c08" name="abcf305e1e5887a1cfeac206f096e1c08"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcf305e1e5887a1cfeac206f096e1c08">&#9670;&#160;</a></span>_get_mem_available()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._get_mem_available </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return available memory in bytes, or None if unknown.</pre> <div class="fragment"><div class="line"><span class="lineno"> 2539</span><span class="keyword">def </span>_get_mem_available():</div>
<div class="line"><span class="lineno"> 2540</span>    <span class="stringliteral">&quot;&quot;&quot;Return available memory in bytes, or None if unknown.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2541</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2542</span>        <span class="keyword">import</span> psutil</div>
<div class="line"><span class="lineno"> 2543</span>        <span class="keywordflow">return</span> psutil.virtual_memory().available</div>
<div class="line"><span class="lineno"> 2544</span>    <span class="keywordflow">except</span> (ImportError, AttributeError):</div>
<div class="line"><span class="lineno"> 2545</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 2546</span> </div>
<div class="line"><span class="lineno"> 2547</span>    <span class="keywordflow">if</span> sys.platform.startswith(<span class="stringliteral">&#39;linux&#39;</span>):</div>
<div class="line"><span class="lineno"> 2548</span>        info = {}</div>
<div class="line"><span class="lineno"> 2549</span>        <span class="keyword">with</span> open(<span class="stringliteral">&#39;/proc/meminfo&#39;</span>, <span class="stringliteral">&#39;r&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno"> 2550</span>            <span class="keywordflow">for</span> line <span class="keywordflow">in</span> f:</div>
<div class="line"><span class="lineno"> 2551</span>                p = line.split()</div>
<div class="line"><span class="lineno"> 2552</span>                info[p[0].strip(<span class="stringliteral">&#39;:&#39;</span>).lower()] = int(p[1]) * 1024</div>
<div class="line"><span class="lineno"> 2553</span> </div>
<div class="line"><span class="lineno"> 2554</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;memavailable&#39;</span> <span class="keywordflow">in</span> info:</div>
<div class="line"><span class="lineno"> 2555</span>            <span class="comment"># Linux &gt;= 3.14</span></div>
<div class="line"><span class="lineno"> 2556</span>            <span class="keywordflow">return</span> info[<span class="stringliteral">&#39;memavailable&#39;</span>]</div>
<div class="line"><span class="lineno"> 2557</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2558</span>            <span class="keywordflow">return</span> info[<span class="stringliteral">&#39;memfree&#39;</span>] + info[<span class="stringliteral">&#39;cached&#39;</span>]</div>
<div class="line"><span class="lineno"> 2559</span> </div>
<div class="line"><span class="lineno"> 2560</span>    <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2561</span> </div>
<div class="line"><span class="lineno"> 2562</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fcb11b6b308d331323cff9752d27a15" name="a4fcb11b6b308d331323cff9752d27a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fcb11b6b308d331323cff9752d27a15">&#9670;&#160;</a></span>_integer_repr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._integer_repr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vdt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>comp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1772</span><span class="keyword">def </span>_integer_repr(x, vdt, comp):</div>
<div class="line"><span class="lineno"> 1773</span>    <span class="comment"># Reinterpret binary representation of the float as sign-magnitude:</span></div>
<div class="line"><span class="lineno"> 1774</span>    <span class="comment"># take into account two-complement representation</span></div>
<div class="line"><span class="lineno"> 1775</span>    <span class="comment"># See also</span></div>
<div class="line"><span class="lineno"> 1776</span>    <span class="comment"># https://randomascii.wordpress.com/2012/02/25/comparing-floating-point-numbers-2012-edition/</span></div>
<div class="line"><span class="lineno"> 1777</span>    rx = x.view(vdt)</div>
<div class="line"><span class="lineno"> 1778</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> (rx.size == 1):</div>
<div class="line"><span class="lineno"> 1779</span>        rx[rx &lt; 0] = comp - rx[rx &lt; 0]</div>
<div class="line"><span class="lineno"> 1780</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1781</span>        <span class="keywordflow">if</span> rx &lt; 0:</div>
<div class="line"><span class="lineno"> 1782</span>            rx = comp - rx</div>
<div class="line"><span class="lineno"> 1783</span> </div>
<div class="line"><span class="lineno"> 1784</span>    <span class="keywordflow">return</span> rx</div>
<div class="line"><span class="lineno"> 1785</span> </div>
<div class="line"><span class="lineno"> 1786</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adc771513479aa044b1725195bbe1e07a" name="adc771513479aa044b1725195bbe1e07a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc771513479aa044b1725195bbe1e07a">&#9670;&#160;</a></span>_no_tracing()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._no_tracing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Decorator to temporarily turn off tracing for the duration of a test.
Needed in tests that check refcounting, otherwise the tracing itself
influences the refcounts
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2563</span><span class="keyword">def </span>_no_tracing(func):</div>
<div class="line"><span class="lineno"> 2564</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2565</span><span class="stringliteral">    Decorator to temporarily turn off tracing for the duration of a test.</span></div>
<div class="line"><span class="lineno"> 2566</span><span class="stringliteral">    Needed in tests that check refcounting, otherwise the tracing itself</span></div>
<div class="line"><span class="lineno"> 2567</span><span class="stringliteral">    influences the refcounts</span></div>
<div class="line"><span class="lineno"> 2568</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2569</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(sys, <span class="stringliteral">&#39;gettrace&#39;</span>):</div>
<div class="line"><span class="lineno"> 2570</span>        <span class="keywordflow">return</span> func</div>
<div class="line"><span class="lineno"> 2571</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2572</span>        <span class="preprocessor">@wraps(func)</span></div>
<div class="line"><span class="lineno"> 2573</span>        <span class="keyword">def </span>wrapper(*args, **kwargs):</div>
<div class="line"><span class="lineno"> 2574</span>            original_trace = sys.gettrace()</div>
<div class="line"><span class="lineno"> 2575</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2576</span>                sys.settrace(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 2577</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(*args, **kwargs)</div>
<div class="line"><span class="lineno"> 2578</span>            <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno"> 2579</span>                sys.settrace(original_trace)</div>
<div class="line"><span class="lineno"> 2580</span>        <span class="keywordflow">return</span> wrapper</div>
<div class="line"><span class="lineno"> 2581</span> </div>
<div class="line"><span class="lineno"> 2582</span> </div>
<div class="ttc" id="acallback_2foo_8f_html_a565fe2cc583df102f120752b0011c330"><div class="ttname"><a href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a></div><div class="ttdeci">subroutine func(a)</div><div class="ttdef"><b>Definition</b> foo.f:9</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a285c59c2be570ba8a66addf4deb22e22" name="a285c59c2be570ba8a66addf4deb22e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a285c59c2be570ba8a66addf4deb22e22">&#9670;&#160;</a></span>_parse_size()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._parse_size </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size_str</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Convert memory size strings ('12 GB' etc.) to float</pre> <div class="fragment"><div class="line"><span class="lineno"> 2523</span><span class="keyword">def </span>_parse_size(size_str):</div>
<div class="line"><span class="lineno"> 2524</span>    <span class="stringliteral">&quot;&quot;&quot;Convert memory size strings (&#39;12 GB&#39; etc.) to float&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2525</span>    suffixes = {<span class="stringliteral">&#39;&#39;</span>: 1, <span class="stringliteral">&#39;b&#39;</span>: 1,</div>
<div class="line"><span class="lineno"> 2526</span>                <span class="stringliteral">&#39;k&#39;</span>: 1000, <span class="stringliteral">&#39;m&#39;</span>: 1000**2, <span class="stringliteral">&#39;g&#39;</span>: 1000**3, <span class="stringliteral">&#39;t&#39;</span>: 1000**4,</div>
<div class="line"><span class="lineno"> 2527</span>                <span class="stringliteral">&#39;kb&#39;</span>: 1000, <span class="stringliteral">&#39;mb&#39;</span>: 1000**2, <span class="stringliteral">&#39;gb&#39;</span>: 1000**3, <span class="stringliteral">&#39;tb&#39;</span>: 1000**4,</div>
<div class="line"><span class="lineno"> 2528</span>                <span class="stringliteral">&#39;kib&#39;</span>: 1024, <span class="stringliteral">&#39;mib&#39;</span>: 1024**2, <span class="stringliteral">&#39;gib&#39;</span>: 1024**3, <span class="stringliteral">&#39;tib&#39;</span>: 1024**4}</div>
<div class="line"><span class="lineno"> 2529</span> </div>
<div class="line"><span class="lineno"> 2530</span>    size_re = re.compile(<span class="stringliteral">r&#39;^\s*(\d+|\d+\.\d+)\s*({0})\s*$&#39;</span>.format(</div>
<div class="line"><span class="lineno"> 2531</span>        <span class="stringliteral">&#39;|&#39;</span>.join(suffixes.keys())), re.I)</div>
<div class="line"><span class="lineno"> 2532</span> </div>
<div class="line"><span class="lineno"> 2533</span>    m = size_re.match(size_str.lower())</div>
<div class="line"><span class="lineno"> 2534</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> m <span class="keywordflow">or</span> m.group(2) <span class="keywordflow">not</span> <span class="keywordflow">in</span> suffixes:</div>
<div class="line"><span class="lineno"> 2535</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&#39;value {size_str!r} not a valid size&#39;</span>)</div>
<div class="line"><span class="lineno"> 2536</span>    <span class="keywordflow">return</span> int(float(m.group(1)) * suffixes[m.group(2)])</div>
<div class="line"><span class="lineno"> 2537</span> </div>
<div class="line"><span class="lineno"> 2538</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab7710e5ba2101f048762f782b94eec34" name="ab7710e5ba2101f048762f782b94eec34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7710e5ba2101f048762f782b94eec34">&#9670;&#160;</a></span>assert_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em> = <code>''</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Assert that works in release mode.
Accepts callable msg to allow deferring evaluation until failure.

The Python built-in ``assert`` does not work when executing code in
optimized mode (the ``-O`` flag) - no byte-code is generated for it.

For documentation on usage, refer to the Python documentation.</pre> <div class="fragment"><div class="line"><span class="lineno">   82</span><span class="keyword">def </span>assert_(val, msg=&#39;&#39;):</div>
<div class="line"><span class="lineno">   83</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   84</span><span class="stringliteral">    Assert that works in release mode.</span></div>
<div class="line"><span class="lineno">   85</span><span class="stringliteral">    Accepts callable msg to allow deferring evaluation until failure.</span></div>
<div class="line"><span class="lineno">   86</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   87</span><span class="stringliteral">    The Python built-in ``assert`` does not work when executing code in</span></div>
<div class="line"><span class="lineno">   88</span><span class="stringliteral">    optimized mode (the ``-O`` flag) - no byte-code is generated for it.</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral">    For documentation on usage, refer to the Python documentation.</span></div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   93</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno">   94</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> val:</div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   96</span>            smsg = msg()</div>
<div class="line"><span class="lineno">   97</span>        <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno">   98</span>            smsg = msg</div>
<div class="line"><span class="lineno">   99</span>        <span class="keywordflow">raise</span> AssertionError(smsg)</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1335da467991f22725c0f2dd1b2dfe91" name="a1335da467991f22725c0f2dd1b2dfe91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1335da467991f22725c0f2dd1b2dfe91">&#9670;&#160;</a></span>assert_allclose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_allclose </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>desired</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rtol</em> = <code>1e-7</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>atol</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>equal_nan</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Raises an AssertionError if two objects are not equal up to desired
tolerance.

Given two array_like objects, check that their shapes and all elements
are equal (but see the Notes for the special handling of a scalar). An
exception is raised if the shapes mismatch or any values conflict. In 
contrast to the standard usage in numpy, NaNs are compared like numbers,
no assertion is raised if both objects have NaNs in the same positions.

The test is equivalent to ``allclose(actual, desired, rtol, atol)`` (note
that ``allclose`` has different default values). It compares the difference
between `actual` and `desired` to ``atol + rtol * abs(desired)``.

.. versionadded:: 1.5.0

Parameters
----------
actual : array_like
    Array obtained.
desired : array_like
    Array desired.
rtol : float, optional
    Relative tolerance.
atol : float, optional
    Absolute tolerance.
equal_nan : bool, optional.
    If True, NaNs will compare equal.
err_msg : str, optional
    The error message to be printed in case of failure.
verbose : bool, optional
    If True, the conflicting values are appended to the error message.

Raises
------
AssertionError
    If actual and desired are not equal up to specified precision.

See Also
--------
assert_array_almost_equal_nulp, assert_array_max_ulp

Notes
-----
When one of `actual` and `desired` is a scalar and the other is
array_like, the function checks that each element of the array_like
object is equal to the scalar.

Examples
--------
&gt;&gt;&gt; x = [1e-5, 1e-3, 1e-1]
&gt;&gt;&gt; y = np.arccos(np.cos(x))
&gt;&gt;&gt; np.testing.assert_allclose(x, y, rtol=1e-5, atol=0)</pre> <div class="fragment"><div class="line"><span class="lineno"> 1525</span>                    err_msg=<span class="stringliteral">&#39;&#39;</span>, verbose=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno"> 1526</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1527</span><span class="stringliteral">    Raises an AssertionError if two objects are not equal up to desired</span></div>
<div class="line"><span class="lineno"> 1528</span><span class="stringliteral">    tolerance.</span></div>
<div class="line"><span class="lineno"> 1529</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1530</span><span class="stringliteral">    Given two array_like objects, check that their shapes and all elements</span></div>
<div class="line"><span class="lineno"> 1531</span><span class="stringliteral">    are equal (but see the Notes for the special handling of a scalar). An</span></div>
<div class="line"><span class="lineno"> 1532</span><span class="stringliteral">    exception is raised if the shapes mismatch or any values conflict. In </span></div>
<div class="line"><span class="lineno"> 1533</span><span class="stringliteral">    contrast to the standard usage in numpy, NaNs are compared like numbers,</span></div>
<div class="line"><span class="lineno"> 1534</span><span class="stringliteral">    no assertion is raised if both objects have NaNs in the same positions.</span></div>
<div class="line"><span class="lineno"> 1535</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1536</span><span class="stringliteral">    The test is equivalent to ``allclose(actual, desired, rtol, atol)`` (note</span></div>
<div class="line"><span class="lineno"> 1537</span><span class="stringliteral">    that ``allclose`` has different default values). It compares the difference</span></div>
<div class="line"><span class="lineno"> 1538</span><span class="stringliteral">    between `actual` and `desired` to ``atol + rtol * abs(desired)``.</span></div>
<div class="line"><span class="lineno"> 1539</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1540</span><span class="stringliteral">    .. versionadded:: 1.5.0</span></div>
<div class="line"><span class="lineno"> 1541</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1542</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1543</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1544</span><span class="stringliteral">    actual : array_like</span></div>
<div class="line"><span class="lineno"> 1545</span><span class="stringliteral">        Array obtained.</span></div>
<div class="line"><span class="lineno"> 1546</span><span class="stringliteral">    desired : array_like</span></div>
<div class="line"><span class="lineno"> 1547</span><span class="stringliteral">        Array desired.</span></div>
<div class="line"><span class="lineno"> 1548</span><span class="stringliteral">    rtol : float, optional</span></div>
<div class="line"><span class="lineno"> 1549</span><span class="stringliteral">        Relative tolerance.</span></div>
<div class="line"><span class="lineno"> 1550</span><span class="stringliteral">    atol : float, optional</span></div>
<div class="line"><span class="lineno"> 1551</span><span class="stringliteral">        Absolute tolerance.</span></div>
<div class="line"><span class="lineno"> 1552</span><span class="stringliteral">    equal_nan : bool, optional.</span></div>
<div class="line"><span class="lineno"> 1553</span><span class="stringliteral">        If True, NaNs will compare equal.</span></div>
<div class="line"><span class="lineno"> 1554</span><span class="stringliteral">    err_msg : str, optional</span></div>
<div class="line"><span class="lineno"> 1555</span><span class="stringliteral">        The error message to be printed in case of failure.</span></div>
<div class="line"><span class="lineno"> 1556</span><span class="stringliteral">    verbose : bool, optional</span></div>
<div class="line"><span class="lineno"> 1557</span><span class="stringliteral">        If True, the conflicting values are appended to the error message.</span></div>
<div class="line"><span class="lineno"> 1558</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1559</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 1560</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1561</span><span class="stringliteral">    AssertionError</span></div>
<div class="line"><span class="lineno"> 1562</span><span class="stringliteral">        If actual and desired are not equal up to specified precision.</span></div>
<div class="line"><span class="lineno"> 1563</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1564</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno"> 1565</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1566</span><span class="stringliteral">    assert_array_almost_equal_nulp, assert_array_max_ulp</span></div>
<div class="line"><span class="lineno"> 1567</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1568</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 1569</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno"> 1570</span><span class="stringliteral">    When one of `actual` and `desired` is a scalar and the other is</span></div>
<div class="line"><span class="lineno"> 1571</span><span class="stringliteral">    array_like, the function checks that each element of the array_like</span></div>
<div class="line"><span class="lineno"> 1572</span><span class="stringliteral">    object is equal to the scalar.</span></div>
<div class="line"><span class="lineno"> 1573</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1574</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1575</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1576</span><span class="stringliteral">    &gt;&gt;&gt; x = [1e-5, 1e-3, 1e-1]</span></div>
<div class="line"><span class="lineno"> 1577</span><span class="stringliteral">    &gt;&gt;&gt; y = np.arccos(np.cos(x))</span></div>
<div class="line"><span class="lineno"> 1578</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_allclose(x, y, rtol=1e-5, atol=0)</span></div>
<div class="line"><span class="lineno"> 1579</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1580</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1581</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno"> 1582</span>    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="lineno"> 1583</span> </div>
<div class="line"><span class="lineno"> 1584</span>    <span class="keyword">def </span>compare(x, y):</div>
<div class="line"><span class="lineno"> 1585</span>        <span class="keywordflow">return</span> np.core.numeric.isclose(x, y, rtol=rtol, atol=atol,</div>
<div class="line"><span class="lineno"> 1586</span>                                       equal_nan=equal_nan)</div>
<div class="line"><span class="lineno"> 1587</span> </div>
<div class="line"><span class="lineno"> 1588</span>    actual, desired = np.asanyarray(actual), np.asanyarray(desired)</div>
<div class="line"><span class="lineno"> 1589</span>    header = f<span class="stringliteral">&#39;Not equal to tolerance rtol={rtol:g}, atol={atol:g}&#39;</span></div>
<div class="line"><span class="lineno"> 1590</span>    assert_array_compare(compare, actual, desired, err_msg=str(err_msg),</div>
<div class="line"><span class="lineno"> 1591</span>                         verbose=verbose, header=header, equal_nan=equal_nan)</div>
<div class="line"><span class="lineno"> 1592</span> </div>
<div class="line"><span class="lineno"> 1593</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a69f87fdf384aad36ee1bd1a98250e39b" name="a69f87fdf384aad36ee1bd1a98250e39b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69f87fdf384aad36ee1bd1a98250e39b">&#9670;&#160;</a></span>assert_almost_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_almost_equal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>desired</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>decimal</em> = <code>7</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Raises an AssertionError if two items are not equal up to desired
precision.

.. note:: It is recommended to use one of `assert_allclose`,
          `assert_array_almost_equal_nulp` or `assert_array_max_ulp`
          instead of this function for more consistent floating point
          comparisons.

The test verifies that the elements of `actual` and `desired` satisfy.

    ``abs(desired-actual) &lt; float64(1.5 * 10**(-decimal))``

That is a looser test than originally documented, but agrees with what the
actual implementation in `assert_array_almost_equal` did up to rounding
vagaries. An exception is raised at conflicting values. For ndarrays this
delegates to assert_array_almost_equal

Parameters
----------
actual : array_like
    The object to check.
desired : array_like
    The expected object.
decimal : int, optional
    Desired precision, default is 7.
err_msg : str, optional
    The error message to be printed in case of failure.
verbose : bool, optional
    If True, the conflicting values are appended to the error message.

Raises
------
AssertionError
  If actual and desired are not equal up to specified precision.

See Also
--------
assert_allclose: Compare two array_like objects for equality with desired
                 relative and/or absolute precision.
assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal

Examples
--------
&gt;&gt;&gt; from numpy.testing import assert_almost_equal
&gt;&gt;&gt; assert_almost_equal(2.3333333333333, 2.33333334)
&gt;&gt;&gt; assert_almost_equal(2.3333333333333, 2.33333334, decimal=10)
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not almost equal to 10 decimals
 ACTUAL: 2.3333333333333
 DESIRED: 2.33333334

&gt;&gt;&gt; assert_almost_equal(np.array([1.0,2.3333333333333]),
...                     np.array([1.0,2.33333334]), decimal=9)
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not almost equal to 9 decimals
&lt;BLANKLINE&gt;
Mismatched elements: 1 / 2 (50%)
Max absolute difference: 6.66669964e-09
Max relative difference: 2.85715698e-09
 x: array([1.         , 2.333333333])
 y: array([1.        , 2.33333334])</pre> <div class="fragment"><div class="line"><span class="lineno">  481</span><span class="keyword">def </span>assert_almost_equal(actual,desired,decimal=7,err_msg=&#39;&#39;,verbose=True):</div>
<div class="line"><span class="lineno">  482</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  483</span><span class="stringliteral">    Raises an AssertionError if two items are not equal up to desired</span></div>
<div class="line"><span class="lineno">  484</span><span class="stringliteral">    precision.</span></div>
<div class="line"><span class="lineno">  485</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  486</span><span class="stringliteral">    .. note:: It is recommended to use one of `assert_allclose`,</span></div>
<div class="line"><span class="lineno">  487</span><span class="stringliteral">              `assert_array_almost_equal_nulp` or `assert_array_max_ulp`</span></div>
<div class="line"><span class="lineno">  488</span><span class="stringliteral">              instead of this function for more consistent floating point</span></div>
<div class="line"><span class="lineno">  489</span><span class="stringliteral">              comparisons.</span></div>
<div class="line"><span class="lineno">  490</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  491</span><span class="stringliteral">    The test verifies that the elements of `actual` and `desired` satisfy.</span></div>
<div class="line"><span class="lineno">  492</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  493</span><span class="stringliteral">        ``abs(desired-actual) &lt; float64(1.5 * 10**(-decimal))``</span></div>
<div class="line"><span class="lineno">  494</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  495</span><span class="stringliteral">    That is a looser test than originally documented, but agrees with what the</span></div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral">    actual implementation in `assert_array_almost_equal` did up to rounding</span></div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral">    vagaries. An exception is raised at conflicting values. For ndarrays this</span></div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">    delegates to assert_array_almost_equal</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">    actual : array_like</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">        The object to check.</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">    desired : array_like</span></div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral">        The expected object.</span></div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">    decimal : int, optional</span></div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral">        Desired precision, default is 7.</span></div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral">    err_msg : str, optional</span></div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral">        The error message to be printed in case of failure.</span></div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">    verbose : bool, optional</span></div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral">        If True, the conflicting values are appended to the error message.</span></div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral">    AssertionError</span></div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">      If actual and desired are not equal up to specified precision.</span></div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  518</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  519</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  520</span><span class="stringliteral">    assert_allclose: Compare two array_like objects for equality with desired</span></div>
<div class="line"><span class="lineno">  521</span><span class="stringliteral">                     relative and/or absolute precision.</span></div>
<div class="line"><span class="lineno">  522</span><span class="stringliteral">    assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal</span></div>
<div class="line"><span class="lineno">  523</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  524</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  525</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  526</span><span class="stringliteral">    &gt;&gt;&gt; from numpy.testing import assert_almost_equal</span></div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral">    &gt;&gt;&gt; assert_almost_equal(2.3333333333333, 2.33333334)</span></div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral">    &gt;&gt;&gt; assert_almost_equal(2.3333333333333, 2.33333334, decimal=10)</span></div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno">  532</span><span class="stringliteral">    Arrays are not almost equal to 10 decimals</span></div>
<div class="line"><span class="lineno">  533</span><span class="stringliteral">     ACTUAL: 2.3333333333333</span></div>
<div class="line"><span class="lineno">  534</span><span class="stringliteral">     DESIRED: 2.33333334</span></div>
<div class="line"><span class="lineno">  535</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  536</span><span class="stringliteral">    &gt;&gt;&gt; assert_almost_equal(np.array([1.0,2.3333333333333]),</span></div>
<div class="line"><span class="lineno">  537</span><span class="stringliteral">    ...                     np.array([1.0,2.33333334]), decimal=9)</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  539</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">  540</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno">  541</span><span class="stringliteral">    Arrays are not almost equal to 9 decimals</span></div>
<div class="line"><span class="lineno">  542</span><span class="stringliteral">    &lt;BLANKLINE&gt;</span></div>
<div class="line"><span class="lineno">  543</span><span class="stringliteral">    Mismatched elements: 1 / 2 (50%)</span></div>
<div class="line"><span class="lineno">  544</span><span class="stringliteral">    Max absolute difference: 6.66669964e-09</span></div>
<div class="line"><span class="lineno">  545</span><span class="stringliteral">    Max relative difference: 2.85715698e-09</span></div>
<div class="line"><span class="lineno">  546</span><span class="stringliteral">     x: array([1.         , 2.333333333])</span></div>
<div class="line"><span class="lineno">  547</span><span class="stringliteral">     y: array([1.        , 2.33333334])</span></div>
<div class="line"><span class="lineno">  548</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  549</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  550</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno">  551</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1core.html">numpy.core</a> <span class="keyword">import</span> ndarray</div>
<div class="line"><span class="lineno">  552</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1lib.html">numpy.lib</a> <span class="keyword">import</span> iscomplexobj, real, imag</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>    <span class="comment"># Handle complex numbers: separate into real/imag to handle</span></div>
<div class="line"><span class="lineno">  555</span>    <span class="comment"># nan/inf/negative zero correctly</span></div>
<div class="line"><span class="lineno">  556</span>    <span class="comment"># XXX: catch ValueError for subclasses of ndarray where iscomplex fail</span></div>
<div class="line"><span class="lineno">  557</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  558</span>        usecomplex = iscomplexobj(actual) <span class="keywordflow">or</span> iscomplexobj(desired)</div>
<div class="line"><span class="lineno">  559</span>    <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  560</span>        usecomplex = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>    <span class="keyword">def </span>_build_err_msg():</div>
<div class="line"><span class="lineno">  563</span>        header = (<span class="stringliteral">&#39;Arrays are not almost equal to %d decimals&#39;</span> % decimal)</div>
<div class="line"><span class="lineno">  564</span>        <span class="keywordflow">return</span> build_err_msg([actual, desired], err_msg, verbose=verbose,</div>
<div class="line"><span class="lineno">  565</span>                             header=header)</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    <span class="keywordflow">if</span> usecomplex:</div>
<div class="line"><span class="lineno">  568</span>        <span class="keywordflow">if</span> iscomplexobj(actual):</div>
<div class="line"><span class="lineno">  569</span>            actualr = real(actual)</div>
<div class="line"><span class="lineno">  570</span>            actuali = imag(actual)</div>
<div class="line"><span class="lineno">  571</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  572</span>            actualr = actual</div>
<div class="line"><span class="lineno">  573</span>            actuali = 0</div>
<div class="line"><span class="lineno">  574</span>        <span class="keywordflow">if</span> iscomplexobj(desired):</div>
<div class="line"><span class="lineno">  575</span>            desiredr = real(desired)</div>
<div class="line"><span class="lineno">  576</span>            desiredi = imag(desired)</div>
<div class="line"><span class="lineno">  577</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  578</span>            desiredr = desired</div>
<div class="line"><span class="lineno">  579</span>            desiredi = 0</div>
<div class="line"><span class="lineno">  580</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  581</span>            assert_almost_equal(actualr, desiredr, decimal=decimal)</div>
<div class="line"><span class="lineno">  582</span>            assert_almost_equal(actuali, desiredi, decimal=decimal)</div>
<div class="line"><span class="lineno">  583</span>        <span class="keywordflow">except</span> AssertionError:</div>
<div class="line"><span class="lineno">  584</span>            <span class="keywordflow">raise</span> AssertionError(_build_err_msg())</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>    <span class="keywordflow">if</span> isinstance(actual, (ndarray, tuple, list)) \</div>
<div class="line"><span class="lineno">  587</span>            <span class="keywordflow">or</span> isinstance(desired, (ndarray, tuple, list)):</div>
<div class="line"><span class="lineno">  588</span>        <span class="keywordflow">return</span> assert_array_almost_equal(actual, desired, decimal, err_msg)</div>
<div class="line"><span class="lineno">  589</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  590</span>        <span class="comment"># If one of desired/actual is not finite, handle it specially here:</span></div>
<div class="line"><span class="lineno">  591</span>        <span class="comment"># check that both are nan if any is a nan, and test for equality</span></div>
<div class="line"><span class="lineno">  592</span>        <span class="comment"># otherwise</span></div>
<div class="line"><span class="lineno">  593</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> (gisfinite(desired) <span class="keywordflow">and</span> gisfinite(actual)):</div>
<div class="line"><span class="lineno">  594</span>            <span class="keywordflow">if</span> gisnan(desired) <span class="keywordflow">or</span> gisnan(actual):</div>
<div class="line"><span class="lineno">  595</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> (gisnan(desired) <span class="keywordflow">and</span> gisnan(actual)):</div>
<div class="line"><span class="lineno">  596</span>                    <span class="keywordflow">raise</span> AssertionError(_build_err_msg())</div>
<div class="line"><span class="lineno">  597</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  598</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> desired == actual:</div>
<div class="line"><span class="lineno">  599</span>                    <span class="keywordflow">raise</span> AssertionError(_build_err_msg())</div>
<div class="line"><span class="lineno">  600</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  601</span>    <span class="keywordflow">except</span> (NotImplementedError, TypeError):</div>
<div class="line"><span class="lineno">  602</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  603</span>    <span class="keywordflow">if</span> abs(desired - actual) &gt;= np.float64(1.5 * 10.0**(-decimal)):</div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">raise</span> AssertionError(_build_err_msg())</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span><span class="preprocessor">@np._no_nep50_warning()</span></div>
<div class="ttc" id="anamespacenumpy_1_1core_html"><div class="ttname"><a href="namespacenumpy_1_1core.html">numpy.core</a></div><div class="ttdef"><b>Definition</b> __init__.py:1</div></div>
<div class="ttc" id="anamespacenumpy_1_1lib_html"><div class="ttname"><a href="namespacenumpy_1_1lib.html">numpy.lib</a></div><div class="ttdef"><b>Definition</b> __init__.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a53f967aa1c3b45b38a9b3ed64da5479a" name="a53f967aa1c3b45b38a9b3ed64da5479a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f967aa1c3b45b38a9b3ed64da5479a">&#9670;&#160;</a></span>assert_approx_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_approx_equal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>desired</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>significant</em> = <code>7</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Raises an AssertionError if two items are not equal up to significant
digits.

.. note:: It is recommended to use one of `assert_allclose`,
          `assert_array_almost_equal_nulp` or `assert_array_max_ulp`
          instead of this function for more consistent floating point
          comparisons.

Given two numbers, check that they are approximately equal.
Approximately equal is defined as the number of significant digits
that agree.

Parameters
----------
actual : scalar
    The object to check.
desired : scalar
    The expected object.
significant : int, optional
    Desired precision, default is 7.
err_msg : str, optional
    The error message to be printed in case of failure.
verbose : bool, optional
    If True, the conflicting values are appended to the error message.

Raises
------
AssertionError
  If actual and desired are not equal up to specified precision.

See Also
--------
assert_allclose: Compare two array_like objects for equality with desired
                 relative and/or absolute precision.
assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal

Examples
--------
&gt;&gt;&gt; np.testing.assert_approx_equal(0.12345677777777e-20, 0.1234567e-20)
&gt;&gt;&gt; np.testing.assert_approx_equal(0.12345670e-20, 0.12345671e-20,
...                                significant=8)
&gt;&gt;&gt; np.testing.assert_approx_equal(0.12345670e-20, 0.12345672e-20,
...                                significant=8)
Traceback (most recent call last):
    ...
AssertionError:
Items are not equal to 8 significant digits:
 ACTUAL: 1.234567e-21
 DESIRED: 1.2345672e-21

the evaluated condition that raises the exception is

&gt;&gt;&gt; abs(0.12345670e-20/1e-21 - 0.12345672e-20/1e-21) &gt;= 10**-(8-1)
True</pre> <div class="fragment"><div class="line"><span class="lineno">  608</span><span class="keyword">def </span>assert_approx_equal(actual,desired,significant=7,err_msg=&#39;&#39;,verbose=True):</div>
<div class="line"><span class="lineno">  609</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  610</span><span class="stringliteral">    Raises an AssertionError if two items are not equal up to significant</span></div>
<div class="line"><span class="lineno">  611</span><span class="stringliteral">    digits.</span></div>
<div class="line"><span class="lineno">  612</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  613</span><span class="stringliteral">    .. note:: It is recommended to use one of `assert_allclose`,</span></div>
<div class="line"><span class="lineno">  614</span><span class="stringliteral">              `assert_array_almost_equal_nulp` or `assert_array_max_ulp`</span></div>
<div class="line"><span class="lineno">  615</span><span class="stringliteral">              instead of this function for more consistent floating point</span></div>
<div class="line"><span class="lineno">  616</span><span class="stringliteral">              comparisons.</span></div>
<div class="line"><span class="lineno">  617</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  618</span><span class="stringliteral">    Given two numbers, check that they are approximately equal.</span></div>
<div class="line"><span class="lineno">  619</span><span class="stringliteral">    Approximately equal is defined as the number of significant digits</span></div>
<div class="line"><span class="lineno">  620</span><span class="stringliteral">    that agree.</span></div>
<div class="line"><span class="lineno">  621</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  622</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  623</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  624</span><span class="stringliteral">    actual : scalar</span></div>
<div class="line"><span class="lineno">  625</span><span class="stringliteral">        The object to check.</span></div>
<div class="line"><span class="lineno">  626</span><span class="stringliteral">    desired : scalar</span></div>
<div class="line"><span class="lineno">  627</span><span class="stringliteral">        The expected object.</span></div>
<div class="line"><span class="lineno">  628</span><span class="stringliteral">    significant : int, optional</span></div>
<div class="line"><span class="lineno">  629</span><span class="stringliteral">        Desired precision, default is 7.</span></div>
<div class="line"><span class="lineno">  630</span><span class="stringliteral">    err_msg : str, optional</span></div>
<div class="line"><span class="lineno">  631</span><span class="stringliteral">        The error message to be printed in case of failure.</span></div>
<div class="line"><span class="lineno">  632</span><span class="stringliteral">    verbose : bool, optional</span></div>
<div class="line"><span class="lineno">  633</span><span class="stringliteral">        If True, the conflicting values are appended to the error message.</span></div>
<div class="line"><span class="lineno">  634</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  635</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  636</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  637</span><span class="stringliteral">    AssertionError</span></div>
<div class="line"><span class="lineno">  638</span><span class="stringliteral">      If actual and desired are not equal up to specified precision.</span></div>
<div class="line"><span class="lineno">  639</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  640</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  641</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  642</span><span class="stringliteral">    assert_allclose: Compare two array_like objects for equality with desired</span></div>
<div class="line"><span class="lineno">  643</span><span class="stringliteral">                     relative and/or absolute precision.</span></div>
<div class="line"><span class="lineno">  644</span><span class="stringliteral">    assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal</span></div>
<div class="line"><span class="lineno">  645</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  646</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  647</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  648</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_approx_equal(0.12345677777777e-20, 0.1234567e-20)</span></div>
<div class="line"><span class="lineno">  649</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_approx_equal(0.12345670e-20, 0.12345671e-20,</span></div>
<div class="line"><span class="lineno">  650</span><span class="stringliteral">    ...                                significant=8)</span></div>
<div class="line"><span class="lineno">  651</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_approx_equal(0.12345670e-20, 0.12345672e-20,</span></div>
<div class="line"><span class="lineno">  652</span><span class="stringliteral">    ...                                significant=8)</span></div>
<div class="line"><span class="lineno">  653</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  654</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">  655</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno">  656</span><span class="stringliteral">    Items are not equal to 8 significant digits:</span></div>
<div class="line"><span class="lineno">  657</span><span class="stringliteral">     ACTUAL: 1.234567e-21</span></div>
<div class="line"><span class="lineno">  658</span><span class="stringliteral">     DESIRED: 1.2345672e-21</span></div>
<div class="line"><span class="lineno">  659</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  660</span><span class="stringliteral">    the evaluated condition that raises the exception is</span></div>
<div class="line"><span class="lineno">  661</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  662</span><span class="stringliteral">    &gt;&gt;&gt; abs(0.12345670e-20/1e-21 - 0.12345672e-20/1e-21) &gt;= 10**-(8-1)</span></div>
<div class="line"><span class="lineno">  663</span><span class="stringliteral">    True</span></div>
<div class="line"><span class="lineno">  664</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  665</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  666</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno">  667</span>    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>    (actual, desired) = map(float, (actual, desired))</div>
<div class="line"><span class="lineno">  670</span>    <span class="keywordflow">if</span> desired == actual:</div>
<div class="line"><span class="lineno">  671</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  672</span>    <span class="comment"># Normalized the numbers to be in range (-10.0,10.0)</span></div>
<div class="line"><span class="lineno">  673</span>    <span class="comment"># scale = float(pow(10,math.floor(math.log10(0.5*(abs(desired)+abs(actual))))))</span></div>
<div class="line"><span class="lineno">  674</span>    <span class="keyword">with</span> np.errstate(invalid=<span class="stringliteral">&#39;ignore&#39;</span>):</div>
<div class="line"><span class="lineno">  675</span>        scale = 0.5*(np.abs(desired) + np.abs(actual))</div>
<div class="line"><span class="lineno">  676</span>        scale = np.power(10, np.floor(np.log10(scale)))</div>
<div class="line"><span class="lineno">  677</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  678</span>        sc_desired = desired/scale</div>
<div class="line"><span class="lineno">  679</span>    <span class="keywordflow">except</span> ZeroDivisionError:</div>
<div class="line"><span class="lineno">  680</span>        sc_desired = 0.0</div>
<div class="line"><span class="lineno">  681</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  682</span>        sc_actual = actual/scale</div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">except</span> ZeroDivisionError:</div>
<div class="line"><span class="lineno">  684</span>        sc_actual = 0.0</div>
<div class="line"><span class="lineno">  685</span>    msg = build_err_msg(</div>
<div class="line"><span class="lineno">  686</span>        [actual, desired], err_msg,</div>
<div class="line"><span class="lineno">  687</span>        header=<span class="stringliteral">&#39;Items are not equal to %d significant digits:&#39;</span> % significant,</div>
<div class="line"><span class="lineno">  688</span>        verbose=verbose)</div>
<div class="line"><span class="lineno">  689</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  690</span>        <span class="comment"># If one of desired/actual is not finite, handle it specially here:</span></div>
<div class="line"><span class="lineno">  691</span>        <span class="comment"># check that both are nan if any is a nan, and test for equality</span></div>
<div class="line"><span class="lineno">  692</span>        <span class="comment"># otherwise</span></div>
<div class="line"><span class="lineno">  693</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> (gisfinite(desired) <span class="keywordflow">and</span> gisfinite(actual)):</div>
<div class="line"><span class="lineno">  694</span>            <span class="keywordflow">if</span> gisnan(desired) <span class="keywordflow">or</span> gisnan(actual):</div>
<div class="line"><span class="lineno">  695</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> (gisnan(desired) <span class="keywordflow">and</span> gisnan(actual)):</div>
<div class="line"><span class="lineno">  696</span>                    <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  697</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  698</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> desired == actual:</div>
<div class="line"><span class="lineno">  699</span>                    <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  700</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  701</span>    <span class="keywordflow">except</span> (TypeError, NotImplementedError):</div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  703</span>    <span class="keywordflow">if</span> np.abs(sc_desired - sc_actual) &gt;= np.power(10., -(significant-1)):</div>
<div class="line"><span class="lineno">  704</span>        <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span><span class="preprocessor">@np._no_nep50_warning()</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a574fa0e9fb74b9e2e8fba88d818c58c3" name="a574fa0e9fb74b9e2e8fba88d818c58c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a574fa0e9fb74b9e2e8fba88d818c58c3">&#9670;&#160;</a></span>assert_array_almost_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_array_almost_equal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>decimal</em> = <code>6</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Raises an AssertionError if two objects are not equal up to desired
precision.

.. note:: It is recommended to use one of `assert_allclose`,
          `assert_array_almost_equal_nulp` or `assert_array_max_ulp`
          instead of this function for more consistent floating point
          comparisons.

The test verifies identical shapes and that the elements of ``actual`` and
``desired`` satisfy.

    ``abs(desired-actual) &lt; 1.5 * 10**(-decimal)``

That is a looser test than originally documented, but agrees with what the
actual implementation did up to rounding vagaries. An exception is raised
at shape mismatch or conflicting values. In contrast to the standard usage
in numpy, NaNs are compared like numbers, no assertion is raised if both
objects have NaNs in the same positions.

Parameters
----------
x : array_like
    The actual object to check.
y : array_like
    The desired, expected object.
decimal : int, optional
    Desired precision, default is 6.
err_msg : str, optional
  The error message to be printed in case of failure.
verbose : bool, optional
    If True, the conflicting values are appended to the error message.

Raises
------
AssertionError
    If actual and desired are not equal up to specified precision.

See Also
--------
assert_allclose: Compare two array_like objects for equality with desired
                 relative and/or absolute precision.
assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal

Examples
--------
the first assert does not raise an exception

&gt;&gt;&gt; np.testing.assert_array_almost_equal([1.0,2.333,np.nan],
...                                      [1.0,2.333,np.nan])

&gt;&gt;&gt; np.testing.assert_array_almost_equal([1.0,2.33333,np.nan],
...                                      [1.0,2.33339,np.nan], decimal=5)
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not almost equal to 5 decimals
&lt;BLANKLINE&gt;
Mismatched elements: 1 / 3 (33.3%)
Max absolute difference: 6.e-05
Max relative difference: 2.57136612e-05
 x: array([1.     , 2.33333,     nan])
 y: array([1.     , 2.33339,     nan])

&gt;&gt;&gt; np.testing.assert_array_almost_equal([1.0,2.33333,np.nan],
...                                      [1.0,2.33333, 5], decimal=5)
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not almost equal to 5 decimals
&lt;BLANKLINE&gt;
x and y nan location mismatch:
 x: array([1.     , 2.33333,     nan])
 y: array([1.     , 2.33333, 5.     ])</pre> <div class="fragment"><div class="line"><span class="lineno">  989</span><span class="keyword">def </span>assert_array_almost_equal(x, y, decimal=6, err_msg=&#39;&#39;, verbose=True):</div>
<div class="line"><span class="lineno">  990</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  991</span><span class="stringliteral">    Raises an AssertionError if two objects are not equal up to desired</span></div>
<div class="line"><span class="lineno">  992</span><span class="stringliteral">    precision.</span></div>
<div class="line"><span class="lineno">  993</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  994</span><span class="stringliteral">    .. note:: It is recommended to use one of `assert_allclose`,</span></div>
<div class="line"><span class="lineno">  995</span><span class="stringliteral">              `assert_array_almost_equal_nulp` or `assert_array_max_ulp`</span></div>
<div class="line"><span class="lineno">  996</span><span class="stringliteral">              instead of this function for more consistent floating point</span></div>
<div class="line"><span class="lineno">  997</span><span class="stringliteral">              comparisons.</span></div>
<div class="line"><span class="lineno">  998</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  999</span><span class="stringliteral">    The test verifies identical shapes and that the elements of ``actual`` and</span></div>
<div class="line"><span class="lineno"> 1000</span><span class="stringliteral">    ``desired`` satisfy.</span></div>
<div class="line"><span class="lineno"> 1001</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1002</span><span class="stringliteral">        ``abs(desired-actual) &lt; 1.5 * 10**(-decimal)``</span></div>
<div class="line"><span class="lineno"> 1003</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1004</span><span class="stringliteral">    That is a looser test than originally documented, but agrees with what the</span></div>
<div class="line"><span class="lineno"> 1005</span><span class="stringliteral">    actual implementation did up to rounding vagaries. An exception is raised</span></div>
<div class="line"><span class="lineno"> 1006</span><span class="stringliteral">    at shape mismatch or conflicting values. In contrast to the standard usage</span></div>
<div class="line"><span class="lineno"> 1007</span><span class="stringliteral">    in numpy, NaNs are compared like numbers, no assertion is raised if both</span></div>
<div class="line"><span class="lineno"> 1008</span><span class="stringliteral">    objects have NaNs in the same positions.</span></div>
<div class="line"><span class="lineno"> 1009</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1010</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1011</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1012</span><span class="stringliteral">    x : array_like</span></div>
<div class="line"><span class="lineno"> 1013</span><span class="stringliteral">        The actual object to check.</span></div>
<div class="line"><span class="lineno"> 1014</span><span class="stringliteral">    y : array_like</span></div>
<div class="line"><span class="lineno"> 1015</span><span class="stringliteral">        The desired, expected object.</span></div>
<div class="line"><span class="lineno"> 1016</span><span class="stringliteral">    decimal : int, optional</span></div>
<div class="line"><span class="lineno"> 1017</span><span class="stringliteral">        Desired precision, default is 6.</span></div>
<div class="line"><span class="lineno"> 1018</span><span class="stringliteral">    err_msg : str, optional</span></div>
<div class="line"><span class="lineno"> 1019</span><span class="stringliteral">      The error message to be printed in case of failure.</span></div>
<div class="line"><span class="lineno"> 1020</span><span class="stringliteral">    verbose : bool, optional</span></div>
<div class="line"><span class="lineno"> 1021</span><span class="stringliteral">        If True, the conflicting values are appended to the error message.</span></div>
<div class="line"><span class="lineno"> 1022</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1023</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 1024</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1025</span><span class="stringliteral">    AssertionError</span></div>
<div class="line"><span class="lineno"> 1026</span><span class="stringliteral">        If actual and desired are not equal up to specified precision.</span></div>
<div class="line"><span class="lineno"> 1027</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1028</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno"> 1029</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1030</span><span class="stringliteral">    assert_allclose: Compare two array_like objects for equality with desired</span></div>
<div class="line"><span class="lineno"> 1031</span><span class="stringliteral">                     relative and/or absolute precision.</span></div>
<div class="line"><span class="lineno"> 1032</span><span class="stringliteral">    assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal</span></div>
<div class="line"><span class="lineno"> 1033</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1034</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1035</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1036</span><span class="stringliteral">    the first assert does not raise an exception</span></div>
<div class="line"><span class="lineno"> 1037</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1038</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_almost_equal([1.0,2.333,np.nan],</span></div>
<div class="line"><span class="lineno"> 1039</span><span class="stringliteral">    ...                                      [1.0,2.333,np.nan])</span></div>
<div class="line"><span class="lineno"> 1040</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1041</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_almost_equal([1.0,2.33333,np.nan],</span></div>
<div class="line"><span class="lineno"> 1042</span><span class="stringliteral">    ...                                      [1.0,2.33339,np.nan], decimal=5)</span></div>
<div class="line"><span class="lineno"> 1043</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno"> 1044</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno"> 1045</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno"> 1046</span><span class="stringliteral">    Arrays are not almost equal to 5 decimals</span></div>
<div class="line"><span class="lineno"> 1047</span><span class="stringliteral">    &lt;BLANKLINE&gt;</span></div>
<div class="line"><span class="lineno"> 1048</span><span class="stringliteral">    Mismatched elements: 1 / 3 (33.3%)</span></div>
<div class="line"><span class="lineno"> 1049</span><span class="stringliteral">    Max absolute difference: 6.e-05</span></div>
<div class="line"><span class="lineno"> 1050</span><span class="stringliteral">    Max relative difference: 2.57136612e-05</span></div>
<div class="line"><span class="lineno"> 1051</span><span class="stringliteral">     x: array([1.     , 2.33333,     nan])</span></div>
<div class="line"><span class="lineno"> 1052</span><span class="stringliteral">     y: array([1.     , 2.33339,     nan])</span></div>
<div class="line"><span class="lineno"> 1053</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1054</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_almost_equal([1.0,2.33333,np.nan],</span></div>
<div class="line"><span class="lineno"> 1055</span><span class="stringliteral">    ...                                      [1.0,2.33333, 5], decimal=5)</span></div>
<div class="line"><span class="lineno"> 1056</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno"> 1057</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno"> 1058</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno"> 1059</span><span class="stringliteral">    Arrays are not almost equal to 5 decimals</span></div>
<div class="line"><span class="lineno"> 1060</span><span class="stringliteral">    &lt;BLANKLINE&gt;</span></div>
<div class="line"><span class="lineno"> 1061</span><span class="stringliteral">    x and y nan location mismatch:</span></div>
<div class="line"><span class="lineno"> 1062</span><span class="stringliteral">     x: array([1.     , 2.33333,     nan])</span></div>
<div class="line"><span class="lineno"> 1063</span><span class="stringliteral">     y: array([1.     , 2.33333, 5.     ])</span></div>
<div class="line"><span class="lineno"> 1064</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1065</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1066</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno"> 1067</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1core.html">numpy.core</a> <span class="keyword">import</span> number, float_, result_type, array</div>
<div class="line"><span class="lineno"> 1068</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1core_1_1numerictypes.html">numpy.core.numerictypes</a> <span class="keyword">import</span> issubdtype</div>
<div class="line"><span class="lineno"> 1069</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1core_1_1fromnumeric.html">numpy.core.fromnumeric</a> <span class="keyword">import</span> any <span class="keyword">as</span> npany</div>
<div class="line"><span class="lineno"> 1070</span> </div>
<div class="line"><span class="lineno"> 1071</span>    <span class="keyword">def </span>compare(x, y):</div>
<div class="line"><span class="lineno"> 1072</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1073</span>            <span class="keywordflow">if</span> npany(gisinf(x)) <span class="keywordflow">or</span> npany( gisinf(y)):</div>
<div class="line"><span class="lineno"> 1074</span>                xinfid = gisinf(x)</div>
<div class="line"><span class="lineno"> 1075</span>                yinfid = gisinf(y)</div>
<div class="line"><span class="lineno"> 1076</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> (xinfid == yinfid).all():</div>
<div class="line"><span class="lineno"> 1077</span>                    <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1078</span>                <span class="comment"># if one item, x and y is +- inf</span></div>
<div class="line"><span class="lineno"> 1079</span>                <span class="keywordflow">if</span> x.size == y.size == 1:</div>
<div class="line"><span class="lineno"> 1080</span>                    <span class="keywordflow">return</span> x == y</div>
<div class="line"><span class="lineno"> 1081</span>                x = x[~xinfid]</div>
<div class="line"><span class="lineno"> 1082</span>                y = y[~yinfid]</div>
<div class="line"><span class="lineno"> 1083</span>        <span class="keywordflow">except</span> (TypeError, NotImplementedError):</div>
<div class="line"><span class="lineno"> 1084</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1085</span> </div>
<div class="line"><span class="lineno"> 1086</span>        <span class="comment"># make sure y is an inexact type to avoid abs(MIN_INT); will cause</span></div>
<div class="line"><span class="lineno"> 1087</span>        <span class="comment"># casting of x later.</span></div>
<div class="line"><span class="lineno"> 1088</span>        dtype = result_type(y, 1.)</div>
<div class="line"><span class="lineno"> 1089</span>        y = np.asanyarray(y, dtype)</div>
<div class="line"><span class="lineno"> 1090</span>        z = abs(x - y)</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> issubdtype(z.dtype, number):</div>
<div class="line"><span class="lineno"> 1093</span>            z = z.astype(float_)  <span class="comment"># handle object arrays</span></div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span>        <span class="keywordflow">return</span> z &lt; 1.5 * 10.0**(-decimal)</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>    assert_array_compare(compare, x, y, err_msg=err_msg, verbose=verbose,</div>
<div class="line"><span class="lineno"> 1098</span>             header=(<span class="stringliteral">&#39;Arrays are not almost equal to %d decimals&#39;</span> % decimal),</div>
<div class="line"><span class="lineno"> 1099</span>             precision=decimal)</div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="ttc" id="anamespacenumpy_1_1core_1_1fromnumeric_html"><div class="ttname"><a href="namespacenumpy_1_1core_1_1fromnumeric.html">numpy.core.fromnumeric</a></div><div class="ttdef"><b>Definition</b> fromnumeric.py:1</div></div>
<div class="ttc" id="anamespacenumpy_1_1core_1_1numerictypes_html"><div class="ttname"><a href="namespacenumpy_1_1core_1_1numerictypes.html">numpy.core.numerictypes</a></div><div class="ttdef"><b>Definition</b> numerictypes.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8d0136c3457a6f54814195b3659c3a3f" name="a8d0136c3457a6f54814195b3659c3a3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d0136c3457a6f54814195b3659c3a3f">&#9670;&#160;</a></span>assert_array_almost_equal_nulp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_array_almost_equal_nulp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nulp</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compare two arrays relatively to their spacing.

This is a relatively robust method to compare two arrays whose amplitude
is variable.

Parameters
----------
x, y : array_like
    Input arrays.
nulp : int, optional
    The maximum number of unit in the last place for tolerance (see Notes).
    Default is 1.

Returns
-------
None

Raises
------
AssertionError
    If the spacing between `x` and `y` for one or more elements is larger
    than `nulp`.

See Also
--------
assert_array_max_ulp : Check that all items of arrays differ in at most
    N Units in the Last Place.
spacing : Return the distance between x and the nearest adjacent number.

Notes
-----
An assertion is raised if the following condition is not met::

    abs(x - y) &lt;= nulp * spacing(maximum(abs(x), abs(y)))

Examples
--------
&gt;&gt;&gt; x = np.array([1., 1e-10, 1e-20])
&gt;&gt;&gt; eps = np.finfo(x.dtype).eps
&gt;&gt;&gt; np.testing.assert_array_almost_equal_nulp(x, x*eps/2 + x)

&gt;&gt;&gt; np.testing.assert_array_almost_equal_nulp(x, x*eps + x)
Traceback (most recent call last):
  ...
AssertionError: X and Y are not equal to 1 ULP (max is 2)</pre> <div class="fragment"><div class="line"><span class="lineno"> 1594</span><span class="keyword">def </span>assert_array_almost_equal_nulp(x, y, nulp=1):</div>
<div class="line"><span class="lineno"> 1595</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1596</span><span class="stringliteral">    Compare two arrays relatively to their spacing.</span></div>
<div class="line"><span class="lineno"> 1597</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1598</span><span class="stringliteral">    This is a relatively robust method to compare two arrays whose amplitude</span></div>
<div class="line"><span class="lineno"> 1599</span><span class="stringliteral">    is variable.</span></div>
<div class="line"><span class="lineno"> 1600</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1601</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1602</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1603</span><span class="stringliteral">    x, y : array_like</span></div>
<div class="line"><span class="lineno"> 1604</span><span class="stringliteral">        Input arrays.</span></div>
<div class="line"><span class="lineno"> 1605</span><span class="stringliteral">    nulp : int, optional</span></div>
<div class="line"><span class="lineno"> 1606</span><span class="stringliteral">        The maximum number of unit in the last place for tolerance (see Notes).</span></div>
<div class="line"><span class="lineno"> 1607</span><span class="stringliteral">        Default is 1.</span></div>
<div class="line"><span class="lineno"> 1608</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1609</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1610</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1611</span><span class="stringliteral">    None</span></div>
<div class="line"><span class="lineno"> 1612</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1613</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 1614</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1615</span><span class="stringliteral">    AssertionError</span></div>
<div class="line"><span class="lineno"> 1616</span><span class="stringliteral">        If the spacing between `x` and `y` for one or more elements is larger</span></div>
<div class="line"><span class="lineno"> 1617</span><span class="stringliteral">        than `nulp`.</span></div>
<div class="line"><span class="lineno"> 1618</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1619</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno"> 1620</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1621</span><span class="stringliteral">    assert_array_max_ulp : Check that all items of arrays differ in at most</span></div>
<div class="line"><span class="lineno"> 1622</span><span class="stringliteral">        N Units in the Last Place.</span></div>
<div class="line"><span class="lineno"> 1623</span><span class="stringliteral">    spacing : Return the distance between x and the nearest adjacent number.</span></div>
<div class="line"><span class="lineno"> 1624</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1625</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 1626</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno"> 1627</span><span class="stringliteral">    An assertion is raised if the following condition is not met::</span></div>
<div class="line"><span class="lineno"> 1628</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1629</span><span class="stringliteral">        abs(x - y) &lt;= nulp * spacing(maximum(abs(x), abs(y)))</span></div>
<div class="line"><span class="lineno"> 1630</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1631</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1632</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1633</span><span class="stringliteral">    &gt;&gt;&gt; x = np.array([1., 1e-10, 1e-20])</span></div>
<div class="line"><span class="lineno"> 1634</span><span class="stringliteral">    &gt;&gt;&gt; eps = np.finfo(x.dtype).eps</span></div>
<div class="line"><span class="lineno"> 1635</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_almost_equal_nulp(x, x*eps/2 + x)</span></div>
<div class="line"><span class="lineno"> 1636</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1637</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_almost_equal_nulp(x, x*eps + x)</span></div>
<div class="line"><span class="lineno"> 1638</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno"> 1639</span><span class="stringliteral">      ...</span></div>
<div class="line"><span class="lineno"> 1640</span><span class="stringliteral">    AssertionError: X and Y are not equal to 1 ULP (max is 2)</span></div>
<div class="line"><span class="lineno"> 1641</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1642</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1643</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno"> 1644</span>    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="lineno"> 1645</span>    ax = np.abs(x)</div>
<div class="line"><span class="lineno"> 1646</span>    ay = np.abs(y)</div>
<div class="line"><span class="lineno"> 1647</span>    ref = nulp * np.spacing(np.where(ax &gt; ay, ax, ay))</div>
<div class="line"><span class="lineno"> 1648</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> np.all(np.abs(x-y) &lt;= ref):</div>
<div class="line"><span class="lineno"> 1649</span>        <span class="keywordflow">if</span> np.iscomplexobj(x) <span class="keywordflow">or</span> np.iscomplexobj(y):</div>
<div class="line"><span class="lineno"> 1650</span>            msg = <span class="stringliteral">&quot;X and Y are not equal to %d ULP&quot;</span> % nulp</div>
<div class="line"><span class="lineno"> 1651</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1652</span>            max_nulp = np.max(nulp_diff(x, y))</div>
<div class="line"><span class="lineno"> 1653</span>            msg = <span class="stringliteral">&quot;X and Y are not equal to %d ULP (max is %g)&quot;</span> % (nulp, max_nulp)</div>
<div class="line"><span class="lineno"> 1654</span>        <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno"> 1655</span> </div>
<div class="line"><span class="lineno"> 1656</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7ebd3485c6f71817a9880b3ce1d2c56" name="ad7ebd3485c6f71817a9880b3ce1d2c56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7ebd3485c6f71817a9880b3ce1d2c56">&#9670;&#160;</a></span>assert_array_compare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_array_compare </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>comparison</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>header</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>precision</em> = <code>6</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>equal_nan</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>equal_inf</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>strict</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  710</span>                         *, strict=<span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  711</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno">  712</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1core.html">numpy.core</a> <span class="keyword">import</span> array, array2string, isnan, inf, bool_, errstate, all, max, object_</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span>    x = np.asanyarray(x)</div>
<div class="line"><span class="lineno">  715</span>    y = np.asanyarray(y)</div>
<div class="line"><span class="lineno">  716</span> </div>
<div class="line"><span class="lineno">  717</span>    <span class="comment"># original array for output formatting</span></div>
<div class="line"><span class="lineno">  718</span>    ox, oy = x, y</div>
<div class="line"><span class="lineno">  719</span> </div>
<div class="line"><span class="lineno">  720</span>    <span class="keyword">def </span>isnumber(x):</div>
<div class="line"><span class="lineno">  721</span>        <span class="keywordflow">return</span> x.dtype.char <span class="keywordflow">in</span> <span class="stringliteral">&#39;?bhilqpBHILQPefdgFDG&#39;</span></div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>    <span class="keyword">def </span>istime(x):</div>
<div class="line"><span class="lineno">  724</span>        <span class="keywordflow">return</span> x.dtype.char <span class="keywordflow">in</span> <span class="stringliteral">&quot;Mm&quot;</span></div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>    <span class="keyword">def </span>func_assert_same_pos(x, y, func=isnan, hasval=&#39;nan&#39;):</div>
<div class="line"><span class="lineno">  727</span>        <span class="stringliteral">&quot;&quot;&quot;Handling nan/inf.</span></div>
<div class="line"><span class="lineno">  728</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  729</span><span class="stringliteral">        Combine results of running func on x and y, checking that they are True</span></div>
<div class="line"><span class="lineno">  730</span><span class="stringliteral">        at the same locations.</span></div>
<div class="line"><span class="lineno">  731</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  732</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  733</span>        __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>        x_id = <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(x)</div>
<div class="line"><span class="lineno">  736</span>        y_id = <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(y)</div>
<div class="line"><span class="lineno">  737</span>        <span class="comment"># We include work-arounds here to handle three types of slightly</span></div>
<div class="line"><span class="lineno">  738</span>        <span class="comment"># pathological ndarray subclasses:</span></div>
<div class="line"><span class="lineno">  739</span>        <span class="comment"># (1) all() on `masked` array scalars can return masked arrays, so we</span></div>
<div class="line"><span class="lineno">  740</span>        <span class="comment">#     use != True</span></div>
<div class="line"><span class="lineno">  741</span>        <span class="comment"># (2) __eq__ on some ndarray subclasses returns Python booleans</span></div>
<div class="line"><span class="lineno">  742</span>        <span class="comment">#     instead of element-wise comparisons, so we cast to bool_() and</span></div>
<div class="line"><span class="lineno">  743</span>        <span class="comment">#     use isinstance(..., bool) checks</span></div>
<div class="line"><span class="lineno">  744</span>        <span class="comment"># (3) subclasses with bare-bones __array_function__ implementations may</span></div>
<div class="line"><span class="lineno">  745</span>        <span class="comment">#     not implement np.all(), so favor using the .all() method</span></div>
<div class="line"><span class="lineno">  746</span>        <span class="comment"># We are not committed to supporting such subclasses, but it&#39;s nice to</span></div>
<div class="line"><span class="lineno">  747</span>        <span class="comment"># support them if possible.</span></div>
<div class="line"><span class="lineno">  748</span>        <span class="keywordflow">if</span> bool_(x_id == y_id).all() != <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  749</span>            msg = build_err_msg([x, y],</div>
<div class="line"><span class="lineno">  750</span>                                err_msg + <span class="stringliteral">&#39;\nx and y %s location mismatch:&#39;</span></div>
<div class="line"><span class="lineno">  751</span>                                % (hasval), verbose=verbose, header=header,</div>
<div class="line"><span class="lineno">  752</span>                                names=(<span class="stringliteral">&#39;x&#39;</span>, <span class="stringliteral">&#39;y&#39;</span>), precision=precision)</div>
<div class="line"><span class="lineno">  753</span>            <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  754</span>        <span class="comment"># If there is a scalar, then here we know the array has the same</span></div>
<div class="line"><span class="lineno">  755</span>        <span class="comment"># flag as it everywhere, so we should return the scalar flag.</span></div>
<div class="line"><span class="lineno">  756</span>        <span class="keywordflow">if</span> isinstance(x_id, bool) <span class="keywordflow">or</span> x_id.ndim == 0:</div>
<div class="line"><span class="lineno">  757</span>            <span class="keywordflow">return</span> bool_(x_id)</div>
<div class="line"><span class="lineno">  758</span>        <span class="keywordflow">elif</span> isinstance(y_id, bool) <span class="keywordflow">or</span> y_id.ndim == 0:</div>
<div class="line"><span class="lineno">  759</span>            <span class="keywordflow">return</span> bool_(y_id)</div>
<div class="line"><span class="lineno">  760</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  761</span>            <span class="keywordflow">return</span> y_id</div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  764</span>        <span class="keywordflow">if</span> strict:</div>
<div class="line"><span class="lineno">  765</span>            cond = x.shape == y.shape <span class="keywordflow">and</span> x.dtype == y.dtype</div>
<div class="line"><span class="lineno">  766</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  767</span>            cond = (x.shape == () <span class="keywordflow">or</span> y.shape == ()) <span class="keywordflow">or</span> x.shape == y.shape</div>
<div class="line"><span class="lineno">  768</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> cond:</div>
<div class="line"><span class="lineno">  769</span>            <span class="keywordflow">if</span> x.shape != y.shape:</div>
<div class="line"><span class="lineno">  770</span>                reason = f<span class="stringliteral">&#39;\n(shapes {x.shape}, {y.shape} mismatch)&#39;</span></div>
<div class="line"><span class="lineno">  771</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  772</span>                reason = f<span class="stringliteral">&#39;\n(dtypes {x.dtype}, {y.dtype} mismatch)&#39;</span></div>
<div class="line"><span class="lineno">  773</span>            msg = build_err_msg([x, y],</div>
<div class="line"><span class="lineno">  774</span>                                err_msg</div>
<div class="line"><span class="lineno">  775</span>                                + reason,</div>
<div class="line"><span class="lineno">  776</span>                                verbose=verbose, header=header,</div>
<div class="line"><span class="lineno">  777</span>                                names=(<span class="stringliteral">&#39;x&#39;</span>, <span class="stringliteral">&#39;y&#39;</span>), precision=precision)</div>
<div class="line"><span class="lineno">  778</span>            <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span>        flagged = bool_(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  781</span>        <span class="keywordflow">if</span> isnumber(x) <span class="keywordflow">and</span> isnumber(y):</div>
<div class="line"><span class="lineno">  782</span>            <span class="keywordflow">if</span> equal_nan:</div>
<div class="line"><span class="lineno">  783</span>                flagged = func_assert_same_pos(x, y, func=isnan, hasval=<span class="stringliteral">&#39;nan&#39;</span>)</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>            <span class="keywordflow">if</span> equal_inf:</div>
<div class="line"><span class="lineno">  786</span>                flagged |= func_assert_same_pos(x, y,</div>
<div class="line"><span class="lineno">  787</span>                                                func=<span class="keyword">lambda</span> xy: xy == +inf,</div>
<div class="line"><span class="lineno">  788</span>                                                hasval=<span class="stringliteral">&#39;+inf&#39;</span>)</div>
<div class="line"><span class="lineno">  789</span>                flagged |= func_assert_same_pos(x, y,</div>
<div class="line"><span class="lineno">  790</span>                                                func=<span class="keyword">lambda</span> xy: xy == -inf,</div>
<div class="line"><span class="lineno">  791</span>                                                hasval=<span class="stringliteral">&#39;-inf&#39;</span>)</div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>        <span class="keywordflow">elif</span> istime(x) <span class="keywordflow">and</span> istime(y):</div>
<div class="line"><span class="lineno">  794</span>            <span class="comment"># If one is datetime64 and the other timedelta64 there is no point</span></div>
<div class="line"><span class="lineno">  795</span>            <span class="keywordflow">if</span> equal_nan <span class="keywordflow">and</span> x.dtype.type == y.dtype.type:</div>
<div class="line"><span class="lineno">  796</span>                flagged = func_assert_same_pos(x, y, func=isnat, hasval=<span class="stringliteral">&quot;NaT&quot;</span>)</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>        <span class="keywordflow">if</span> flagged.ndim &gt; 0:</div>
<div class="line"><span class="lineno">  799</span>            x, y = x[~flagged], y[~flagged]</div>
<div class="line"><span class="lineno">  800</span>            <span class="comment"># Only do the comparison if actual values are left</span></div>
<div class="line"><span class="lineno">  801</span>            <span class="keywordflow">if</span> x.size == 0:</div>
<div class="line"><span class="lineno">  802</span>                <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  803</span>        <span class="keywordflow">elif</span> flagged:</div>
<div class="line"><span class="lineno">  804</span>            <span class="comment"># no sense doing comparison if everything is flagged.</span></div>
<div class="line"><span class="lineno">  805</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>        val = comparison(x, y)</div>
<div class="line"><span class="lineno">  808</span> </div>
<div class="line"><span class="lineno">  809</span>        <span class="keywordflow">if</span> isinstance(val, bool):</div>
<div class="line"><span class="lineno">  810</span>            cond = val</div>
<div class="line"><span class="lineno">  811</span>            reduced = array([val])</div>
<div class="line"><span class="lineno">  812</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  813</span>            reduced = val.ravel()</div>
<div class="line"><span class="lineno">  814</span>            cond = reduced.all()</div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>        <span class="comment"># The below comparison is a hack to ensure that fully masked</span></div>
<div class="line"><span class="lineno">  817</span>        <span class="comment"># results, for which val.ravel().all() returns np.ma.masked,</span></div>
<div class="line"><span class="lineno">  818</span>        <span class="comment"># do not trigger a failure (np.ma.masked != True evaluates as</span></div>
<div class="line"><span class="lineno">  819</span>        <span class="comment"># np.ma.masked, which is falsy).</span></div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">if</span> cond != <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  821</span>            n_mismatch = reduced.size - reduced.sum(dtype=intp)</div>
<div class="line"><span class="lineno">  822</span>            n_elements = flagged.size <span class="keywordflow">if</span> flagged.ndim != 0 <span class="keywordflow">else</span> reduced.size</div>
<div class="line"><span class="lineno">  823</span>            percent_mismatch = 100 * n_mismatch / n_elements</div>
<div class="line"><span class="lineno">  824</span>            remarks = [</div>
<div class="line"><span class="lineno">  825</span>                <span class="stringliteral">&#39;Mismatched elements: {} / {} ({:.3g}%)&#39;</span>.format(</div>
<div class="line"><span class="lineno">  826</span>                    n_mismatch, n_elements, percent_mismatch)]</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>            <span class="keyword">with</span> errstate(all=<span class="stringliteral">&#39;ignore&#39;</span>):</div>
<div class="line"><span class="lineno">  829</span>                <span class="comment"># ignore errors for non-numeric types</span></div>
<div class="line"><span class="lineno">  830</span>                <span class="keyword">with</span> contextlib.suppress(TypeError):</div>
<div class="line"><span class="lineno">  831</span>                    error = abs(x - y)</div>
<div class="line"><span class="lineno">  832</span>                    <span class="keywordflow">if</span> np.issubdtype(x.dtype, np.unsignedinteger):</div>
<div class="line"><span class="lineno">  833</span>                        error2 = abs(y - x)</div>
<div class="line"><span class="lineno">  834</span>                        np.minimum(error, error2, out=error)</div>
<div class="line"><span class="lineno">  835</span>                    max_abs_error = max(error)</div>
<div class="line"><span class="lineno">  836</span>                    <span class="keywordflow">if</span> getattr(error, <span class="stringliteral">&#39;dtype&#39;</span>, object_) == object_:</div>
<div class="line"><span class="lineno">  837</span>                        remarks.append(<span class="stringliteral">&#39;Max absolute difference: &#39;</span></div>
<div class="line"><span class="lineno">  838</span>                                        + str(max_abs_error))</div>
<div class="line"><span class="lineno">  839</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  840</span>                        remarks.append(<span class="stringliteral">&#39;Max absolute difference: &#39;</span></div>
<div class="line"><span class="lineno">  841</span>                                        + array2string(max_abs_error))</div>
<div class="line"><span class="lineno">  842</span> </div>
<div class="line"><span class="lineno">  843</span>                    <span class="comment"># note: this definition of relative error matches that one</span></div>
<div class="line"><span class="lineno">  844</span>                    <span class="comment"># used by assert_allclose (found in np.isclose)</span></div>
<div class="line"><span class="lineno">  845</span>                    <span class="comment"># Filter values where the divisor would be zero</span></div>
<div class="line"><span class="lineno">  846</span>                    nonzero = bool_(y != 0)</div>
<div class="line"><span class="lineno">  847</span>                    <span class="keywordflow">if</span> all(~nonzero):</div>
<div class="line"><span class="lineno">  848</span>                        max_rel_error = array(inf)</div>
<div class="line"><span class="lineno">  849</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  850</span>                        max_rel_error = max(error[nonzero] / abs(y[nonzero]))</div>
<div class="line"><span class="lineno">  851</span>                    <span class="keywordflow">if</span> getattr(error, <span class="stringliteral">&#39;dtype&#39;</span>, object_) == object_:</div>
<div class="line"><span class="lineno">  852</span>                        remarks.append(<span class="stringliteral">&#39;Max relative difference: &#39;</span></div>
<div class="line"><span class="lineno">  853</span>                                        + str(max_rel_error))</div>
<div class="line"><span class="lineno">  854</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  855</span>                        remarks.append(<span class="stringliteral">&#39;Max relative difference: &#39;</span></div>
<div class="line"><span class="lineno">  856</span>                                        + array2string(max_rel_error))</div>
<div class="line"><span class="lineno">  857</span> </div>
<div class="line"><span class="lineno">  858</span>            err_msg += <span class="stringliteral">&#39;\n&#39;</span> + <span class="stringliteral">&#39;\n&#39;</span>.join(remarks)</div>
<div class="line"><span class="lineno">  859</span>            msg = build_err_msg([ox, oy], err_msg,</div>
<div class="line"><span class="lineno">  860</span>                                verbose=verbose, header=header,</div>
<div class="line"><span class="lineno">  861</span>                                names=(<span class="stringliteral">&#39;x&#39;</span>, <span class="stringliteral">&#39;y&#39;</span>), precision=precision)</div>
<div class="line"><span class="lineno">  862</span>            <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  863</span>    <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  864</span>        <span class="keyword">import</span> traceback</div>
<div class="line"><span class="lineno">  865</span>        efmt = traceback.format_exc()</div>
<div class="line"><span class="lineno">  866</span>        header = f<span class="stringliteral">&#39;error during assertion:\n\n{efmt}\n\n{header}&#39;</span></div>
<div class="line"><span class="lineno">  867</span> </div>
<div class="line"><span class="lineno">  868</span>        msg = build_err_msg([x, y], err_msg, verbose=verbose, header=header,</div>
<div class="line"><span class="lineno">  869</span>                            names=(<span class="stringliteral">&#39;x&#39;</span>, <span class="stringliteral">&#39;y&#39;</span>), precision=precision)</div>
<div class="line"><span class="lineno">  870</span>        <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3dce04bc6c57ab77d58ce533b505f16" name="ad3dce04bc6c57ab77d58ce533b505f16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3dce04bc6c57ab77d58ce533b505f16">&#9670;&#160;</a></span>assert_array_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_array_equal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>strict</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Raises an AssertionError if two array_like objects are not equal.

Given two array_like objects, check that the shape is equal and all
elements of these objects are equal (but see the Notes for the special
handling of a scalar). An exception is raised at shape mismatch or
conflicting values. In contrast to the standard usage in numpy, NaNs
are compared like numbers, no assertion is raised if both objects have
NaNs in the same positions.

The usual caution for verifying equality with floating point numbers is
advised.

Parameters
----------
x : array_like
    The actual object to check.
y : array_like
    The desired, expected object.
err_msg : str, optional
    The error message to be printed in case of failure.
verbose : bool, optional
    If True, the conflicting values are appended to the error message.
strict : bool, optional
    If True, raise an AssertionError when either the shape or the data
    type of the array_like objects does not match. The special
    handling for scalars mentioned in the Notes section is disabled.

Raises
------
AssertionError
    If actual and desired objects are not equal.

See Also
--------
assert_allclose: Compare two array_like objects for equality with desired
                 relative and/or absolute precision.
assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal

Notes
-----
When one of `x` and `y` is a scalar and the other is array_like, the
function checks that each element of the array_like object is equal to
the scalar. This behaviour can be disabled with the `strict` parameter.

Examples
--------
The first assert does not raise an exception:

&gt;&gt;&gt; np.testing.assert_array_equal([1.0,2.33333,np.nan],
...                               [np.exp(0),2.33333, np.nan])

Assert fails with numerical imprecision with floats:

&gt;&gt;&gt; np.testing.assert_array_equal([1.0,np.pi,np.nan],
...                               [1, np.sqrt(np.pi)**2, np.nan])
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not equal
&lt;BLANKLINE&gt;
Mismatched elements: 1 / 3 (33.3%)
Max absolute difference: 4.4408921e-16
Max relative difference: 1.41357986e-16
 x: array([1.      , 3.141593,      nan])
 y: array([1.      , 3.141593,      nan])

Use `assert_allclose` or one of the nulp (number of floating point values)
functions for these cases instead:

&gt;&gt;&gt; np.testing.assert_allclose([1.0,np.pi,np.nan],
...                            [1, np.sqrt(np.pi)**2, np.nan],
...                            rtol=1e-10, atol=0)

As mentioned in the Notes section, `assert_array_equal` has special
handling for scalars. Here the test checks that each value in `x` is 3:

&gt;&gt;&gt; x = np.full((2, 5), fill_value=3)
&gt;&gt;&gt; np.testing.assert_array_equal(x, 3)

Use `strict` to raise an AssertionError when comparing a scalar with an
array:

&gt;&gt;&gt; np.testing.assert_array_equal(x, 3, strict=True)
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not equal
&lt;BLANKLINE&gt;
(shapes (2, 5), () mismatch)
 x: array([[3, 3, 3, 3, 3],
       [3, 3, 3, 3, 3]])
 y: array(3)

The `strict` parameter also ensures that the array data types match:

&gt;&gt;&gt; x = np.array([2, 2, 2])
&gt;&gt;&gt; y = np.array([2., 2., 2.], dtype=np.float32)
&gt;&gt;&gt; np.testing.assert_array_equal(x, y, strict=True)
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not equal
&lt;BLANKLINE&gt;
(dtypes int64, float32 mismatch)
 x: array([2, 2, 2])
 y: array([2., 2., 2.], dtype=float32)
</pre> <div class="fragment"><div class="line"><span class="lineno">  873</span><span class="keyword">def </span>assert_array_equal(x, y, err_msg=&#39;&#39;, verbose=True, *, strict=False):</div>
<div class="line"><span class="lineno">  874</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  875</span><span class="stringliteral">    Raises an AssertionError if two array_like objects are not equal.</span></div>
<div class="line"><span class="lineno">  876</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  877</span><span class="stringliteral">    Given two array_like objects, check that the shape is equal and all</span></div>
<div class="line"><span class="lineno">  878</span><span class="stringliteral">    elements of these objects are equal (but see the Notes for the special</span></div>
<div class="line"><span class="lineno">  879</span><span class="stringliteral">    handling of a scalar). An exception is raised at shape mismatch or</span></div>
<div class="line"><span class="lineno">  880</span><span class="stringliteral">    conflicting values. In contrast to the standard usage in numpy, NaNs</span></div>
<div class="line"><span class="lineno">  881</span><span class="stringliteral">    are compared like numbers, no assertion is raised if both objects have</span></div>
<div class="line"><span class="lineno">  882</span><span class="stringliteral">    NaNs in the same positions.</span></div>
<div class="line"><span class="lineno">  883</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  884</span><span class="stringliteral">    The usual caution for verifying equality with floating point numbers is</span></div>
<div class="line"><span class="lineno">  885</span><span class="stringliteral">    advised.</span></div>
<div class="line"><span class="lineno">  886</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  887</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  888</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  889</span><span class="stringliteral">    x : array_like</span></div>
<div class="line"><span class="lineno">  890</span><span class="stringliteral">        The actual object to check.</span></div>
<div class="line"><span class="lineno">  891</span><span class="stringliteral">    y : array_like</span></div>
<div class="line"><span class="lineno">  892</span><span class="stringliteral">        The desired, expected object.</span></div>
<div class="line"><span class="lineno">  893</span><span class="stringliteral">    err_msg : str, optional</span></div>
<div class="line"><span class="lineno">  894</span><span class="stringliteral">        The error message to be printed in case of failure.</span></div>
<div class="line"><span class="lineno">  895</span><span class="stringliteral">    verbose : bool, optional</span></div>
<div class="line"><span class="lineno">  896</span><span class="stringliteral">        If True, the conflicting values are appended to the error message.</span></div>
<div class="line"><span class="lineno">  897</span><span class="stringliteral">    strict : bool, optional</span></div>
<div class="line"><span class="lineno">  898</span><span class="stringliteral">        If True, raise an AssertionError when either the shape or the data</span></div>
<div class="line"><span class="lineno">  899</span><span class="stringliteral">        type of the array_like objects does not match. The special</span></div>
<div class="line"><span class="lineno">  900</span><span class="stringliteral">        handling for scalars mentioned in the Notes section is disabled.</span></div>
<div class="line"><span class="lineno">  901</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  902</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  903</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  904</span><span class="stringliteral">    AssertionError</span></div>
<div class="line"><span class="lineno">  905</span><span class="stringliteral">        If actual and desired objects are not equal.</span></div>
<div class="line"><span class="lineno">  906</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  907</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">  908</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  909</span><span class="stringliteral">    assert_allclose: Compare two array_like objects for equality with desired</span></div>
<div class="line"><span class="lineno">  910</span><span class="stringliteral">                     relative and/or absolute precision.</span></div>
<div class="line"><span class="lineno">  911</span><span class="stringliteral">    assert_array_almost_equal_nulp, assert_array_max_ulp, assert_equal</span></div>
<div class="line"><span class="lineno">  912</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  913</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  914</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  915</span><span class="stringliteral">    When one of `x` and `y` is a scalar and the other is array_like, the</span></div>
<div class="line"><span class="lineno">  916</span><span class="stringliteral">    function checks that each element of the array_like object is equal to</span></div>
<div class="line"><span class="lineno">  917</span><span class="stringliteral">    the scalar. This behaviour can be disabled with the `strict` parameter.</span></div>
<div class="line"><span class="lineno">  918</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  919</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  920</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  921</span><span class="stringliteral">    The first assert does not raise an exception:</span></div>
<div class="line"><span class="lineno">  922</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  923</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_equal([1.0,2.33333,np.nan],</span></div>
<div class="line"><span class="lineno">  924</span><span class="stringliteral">    ...                               [np.exp(0),2.33333, np.nan])</span></div>
<div class="line"><span class="lineno">  925</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  926</span><span class="stringliteral">    Assert fails with numerical imprecision with floats:</span></div>
<div class="line"><span class="lineno">  927</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  928</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_equal([1.0,np.pi,np.nan],</span></div>
<div class="line"><span class="lineno">  929</span><span class="stringliteral">    ...                               [1, np.sqrt(np.pi)**2, np.nan])</span></div>
<div class="line"><span class="lineno">  930</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  931</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">  932</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno">  933</span><span class="stringliteral">    Arrays are not equal</span></div>
<div class="line"><span class="lineno">  934</span><span class="stringliteral">    &lt;BLANKLINE&gt;</span></div>
<div class="line"><span class="lineno">  935</span><span class="stringliteral">    Mismatched elements: 1 / 3 (33.3%)</span></div>
<div class="line"><span class="lineno">  936</span><span class="stringliteral">    Max absolute difference: 4.4408921e-16</span></div>
<div class="line"><span class="lineno">  937</span><span class="stringliteral">    Max relative difference: 1.41357986e-16</span></div>
<div class="line"><span class="lineno">  938</span><span class="stringliteral">     x: array([1.      , 3.141593,      nan])</span></div>
<div class="line"><span class="lineno">  939</span><span class="stringliteral">     y: array([1.      , 3.141593,      nan])</span></div>
<div class="line"><span class="lineno">  940</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  941</span><span class="stringliteral">    Use `assert_allclose` or one of the nulp (number of floating point values)</span></div>
<div class="line"><span class="lineno">  942</span><span class="stringliteral">    functions for these cases instead:</span></div>
<div class="line"><span class="lineno">  943</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  944</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_allclose([1.0,np.pi,np.nan],</span></div>
<div class="line"><span class="lineno">  945</span><span class="stringliteral">    ...                            [1, np.sqrt(np.pi)**2, np.nan],</span></div>
<div class="line"><span class="lineno">  946</span><span class="stringliteral">    ...                            rtol=1e-10, atol=0)</span></div>
<div class="line"><span class="lineno">  947</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  948</span><span class="stringliteral">    As mentioned in the Notes section, `assert_array_equal` has special</span></div>
<div class="line"><span class="lineno">  949</span><span class="stringliteral">    handling for scalars. Here the test checks that each value in `x` is 3:</span></div>
<div class="line"><span class="lineno">  950</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  951</span><span class="stringliteral">    &gt;&gt;&gt; x = np.full((2, 5), fill_value=3)</span></div>
<div class="line"><span class="lineno">  952</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_equal(x, 3)</span></div>
<div class="line"><span class="lineno">  953</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  954</span><span class="stringliteral">    Use `strict` to raise an AssertionError when comparing a scalar with an</span></div>
<div class="line"><span class="lineno">  955</span><span class="stringliteral">    array:</span></div>
<div class="line"><span class="lineno">  956</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  957</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_equal(x, 3, strict=True)</span></div>
<div class="line"><span class="lineno">  958</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  959</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">  960</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno">  961</span><span class="stringliteral">    Arrays are not equal</span></div>
<div class="line"><span class="lineno">  962</span><span class="stringliteral">    &lt;BLANKLINE&gt;</span></div>
<div class="line"><span class="lineno">  963</span><span class="stringliteral">    (shapes (2, 5), () mismatch)</span></div>
<div class="line"><span class="lineno">  964</span><span class="stringliteral">     x: array([[3, 3, 3, 3, 3],</span></div>
<div class="line"><span class="lineno">  965</span><span class="stringliteral">           [3, 3, 3, 3, 3]])</span></div>
<div class="line"><span class="lineno">  966</span><span class="stringliteral">     y: array(3)</span></div>
<div class="line"><span class="lineno">  967</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  968</span><span class="stringliteral">    The `strict` parameter also ensures that the array data types match:</span></div>
<div class="line"><span class="lineno">  969</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  970</span><span class="stringliteral">    &gt;&gt;&gt; x = np.array([2, 2, 2])</span></div>
<div class="line"><span class="lineno">  971</span><span class="stringliteral">    &gt;&gt;&gt; y = np.array([2., 2., 2.], dtype=np.float32)</span></div>
<div class="line"><span class="lineno">  972</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_equal(x, y, strict=True)</span></div>
<div class="line"><span class="lineno">  973</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  974</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">  975</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno">  976</span><span class="stringliteral">    Arrays are not equal</span></div>
<div class="line"><span class="lineno">  977</span><span class="stringliteral">    &lt;BLANKLINE&gt;</span></div>
<div class="line"><span class="lineno">  978</span><span class="stringliteral">    (dtypes int64, float32 mismatch)</span></div>
<div class="line"><span class="lineno">  979</span><span class="stringliteral">     x: array([2, 2, 2])</span></div>
<div class="line"><span class="lineno">  980</span><span class="stringliteral">     y: array([2., 2., 2.], dtype=float32)</span></div>
<div class="line"><span class="lineno">  981</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  982</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno">  983</span>    assert_array_compare(operator.__eq__, x, y, err_msg=err_msg,</div>
<div class="line"><span class="lineno">  984</span>                         verbose=verbose, header=<span class="stringliteral">&#39;Arrays are not equal&#39;</span>,</div>
<div class="line"><span class="lineno">  985</span>                         strict=strict)</div>
<div class="line"><span class="lineno">  986</span> </div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span><span class="preprocessor">@np._no_nep50_warning()</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af4129707efd779fdc20887c1177dbc55" name="af4129707efd779fdc20887c1177dbc55"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4129707efd779fdc20887c1177dbc55">&#9670;&#160;</a></span>assert_array_less()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_array_less </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Raises an AssertionError if two array_like objects are not ordered by less
than.

Given two array_like objects, check that the shape is equal and all
elements of the first object are strictly smaller than those of the
second object. An exception is raised at shape mismatch or incorrectly
ordered values. Shape mismatch does not raise if an object has zero
dimension. In contrast to the standard usage in numpy, NaNs are
compared, no assertion is raised if both objects have NaNs in the same
positions.



Parameters
----------
x : array_like
  The smaller object to check.
y : array_like
  The larger object to compare.
err_msg : string
  The error message to be printed in case of failure.
verbose : bool
    If True, the conflicting values are appended to the error message.

Raises
------
AssertionError
  If actual and desired objects are not equal.

See Also
--------
assert_array_equal: tests objects for equality
assert_array_almost_equal: test objects for equality up to precision



Examples
--------
&gt;&gt;&gt; np.testing.assert_array_less([1.0, 1.0, np.nan], [1.1, 2.0, np.nan])
&gt;&gt;&gt; np.testing.assert_array_less([1.0, 1.0, np.nan], [1, 2.0, np.nan])
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not less-ordered
&lt;BLANKLINE&gt;
Mismatched elements: 1 / 3 (33.3%)
Max absolute difference: 1.
Max relative difference: 0.5
 x: array([ 1.,  1., nan])
 y: array([ 1.,  2., nan])

&gt;&gt;&gt; np.testing.assert_array_less([1.0, 4.0], 3)
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not less-ordered
&lt;BLANKLINE&gt;
Mismatched elements: 1 / 2 (50%)
Max absolute difference: 2.
Max relative difference: 0.66666667
 x: array([1., 4.])
 y: array(3)

&gt;&gt;&gt; np.testing.assert_array_less([1.0, 2.0, 3.0], [4])
Traceback (most recent call last):
    ...
AssertionError:
Arrays are not less-ordered
&lt;BLANKLINE&gt;
(shapes (3,), (1,) mismatch)
 x: array([1., 2., 3.])
 y: array([4])</pre> <div class="fragment"><div class="line"><span class="lineno"> 1102</span><span class="keyword">def </span>assert_array_less(x, y, err_msg=&#39;&#39;, verbose=True):</div>
<div class="line"><span class="lineno"> 1103</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1104</span><span class="stringliteral">    Raises an AssertionError if two array_like objects are not ordered by less</span></div>
<div class="line"><span class="lineno"> 1105</span><span class="stringliteral">    than.</span></div>
<div class="line"><span class="lineno"> 1106</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1107</span><span class="stringliteral">    Given two array_like objects, check that the shape is equal and all</span></div>
<div class="line"><span class="lineno"> 1108</span><span class="stringliteral">    elements of the first object are strictly smaller than those of the</span></div>
<div class="line"><span class="lineno"> 1109</span><span class="stringliteral">    second object. An exception is raised at shape mismatch or incorrectly</span></div>
<div class="line"><span class="lineno"> 1110</span><span class="stringliteral">    ordered values. Shape mismatch does not raise if an object has zero</span></div>
<div class="line"><span class="lineno"> 1111</span><span class="stringliteral">    dimension. In contrast to the standard usage in numpy, NaNs are</span></div>
<div class="line"><span class="lineno"> 1112</span><span class="stringliteral">    compared, no assertion is raised if both objects have NaNs in the same</span></div>
<div class="line"><span class="lineno"> 1113</span><span class="stringliteral">    positions.</span></div>
<div class="line"><span class="lineno"> 1114</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1115</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1116</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1117</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1118</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1119</span><span class="stringliteral">    x : array_like</span></div>
<div class="line"><span class="lineno"> 1120</span><span class="stringliteral">      The smaller object to check.</span></div>
<div class="line"><span class="lineno"> 1121</span><span class="stringliteral">    y : array_like</span></div>
<div class="line"><span class="lineno"> 1122</span><span class="stringliteral">      The larger object to compare.</span></div>
<div class="line"><span class="lineno"> 1123</span><span class="stringliteral">    err_msg : string</span></div>
<div class="line"><span class="lineno"> 1124</span><span class="stringliteral">      The error message to be printed in case of failure.</span></div>
<div class="line"><span class="lineno"> 1125</span><span class="stringliteral">    verbose : bool</span></div>
<div class="line"><span class="lineno"> 1126</span><span class="stringliteral">        If True, the conflicting values are appended to the error message.</span></div>
<div class="line"><span class="lineno"> 1127</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1128</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 1129</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1130</span><span class="stringliteral">    AssertionError</span></div>
<div class="line"><span class="lineno"> 1131</span><span class="stringliteral">      If actual and desired objects are not equal.</span></div>
<div class="line"><span class="lineno"> 1132</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1133</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno"> 1134</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1135</span><span class="stringliteral">    assert_array_equal: tests objects for equality</span></div>
<div class="line"><span class="lineno"> 1136</span><span class="stringliteral">    assert_array_almost_equal: test objects for equality up to precision</span></div>
<div class="line"><span class="lineno"> 1137</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1138</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1139</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1140</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1141</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1142</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_less([1.0, 1.0, np.nan], [1.1, 2.0, np.nan])</span></div>
<div class="line"><span class="lineno"> 1143</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_less([1.0, 1.0, np.nan], [1, 2.0, np.nan])</span></div>
<div class="line"><span class="lineno"> 1144</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno"> 1145</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno"> 1146</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno"> 1147</span><span class="stringliteral">    Arrays are not less-ordered</span></div>
<div class="line"><span class="lineno"> 1148</span><span class="stringliteral">    &lt;BLANKLINE&gt;</span></div>
<div class="line"><span class="lineno"> 1149</span><span class="stringliteral">    Mismatched elements: 1 / 3 (33.3%)</span></div>
<div class="line"><span class="lineno"> 1150</span><span class="stringliteral">    Max absolute difference: 1.</span></div>
<div class="line"><span class="lineno"> 1151</span><span class="stringliteral">    Max relative difference: 0.5</span></div>
<div class="line"><span class="lineno"> 1152</span><span class="stringliteral">     x: array([ 1.,  1., nan])</span></div>
<div class="line"><span class="lineno"> 1153</span><span class="stringliteral">     y: array([ 1.,  2., nan])</span></div>
<div class="line"><span class="lineno"> 1154</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1155</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_less([1.0, 4.0], 3)</span></div>
<div class="line"><span class="lineno"> 1156</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno"> 1157</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno"> 1158</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno"> 1159</span><span class="stringliteral">    Arrays are not less-ordered</span></div>
<div class="line"><span class="lineno"> 1160</span><span class="stringliteral">    &lt;BLANKLINE&gt;</span></div>
<div class="line"><span class="lineno"> 1161</span><span class="stringliteral">    Mismatched elements: 1 / 2 (50%)</span></div>
<div class="line"><span class="lineno"> 1162</span><span class="stringliteral">    Max absolute difference: 2.</span></div>
<div class="line"><span class="lineno"> 1163</span><span class="stringliteral">    Max relative difference: 0.66666667</span></div>
<div class="line"><span class="lineno"> 1164</span><span class="stringliteral">     x: array([1., 4.])</span></div>
<div class="line"><span class="lineno"> 1165</span><span class="stringliteral">     y: array(3)</span></div>
<div class="line"><span class="lineno"> 1166</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1167</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_array_less([1.0, 2.0, 3.0], [4])</span></div>
<div class="line"><span class="lineno"> 1168</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno"> 1169</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno"> 1170</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno"> 1171</span><span class="stringliteral">    Arrays are not less-ordered</span></div>
<div class="line"><span class="lineno"> 1172</span><span class="stringliteral">    &lt;BLANKLINE&gt;</span></div>
<div class="line"><span class="lineno"> 1173</span><span class="stringliteral">    (shapes (3,), (1,) mismatch)</span></div>
<div class="line"><span class="lineno"> 1174</span><span class="stringliteral">     x: array([1., 2., 3.])</span></div>
<div class="line"><span class="lineno"> 1175</span><span class="stringliteral">     y: array([4])</span></div>
<div class="line"><span class="lineno"> 1176</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1177</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1178</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno"> 1179</span>    assert_array_compare(operator.__lt__, x, y, err_msg=err_msg,</div>
<div class="line"><span class="lineno"> 1180</span>                         verbose=verbose,</div>
<div class="line"><span class="lineno"> 1181</span>                         header=<span class="stringliteral">&#39;Arrays are not less-ordered&#39;</span>,</div>
<div class="line"><span class="lineno"> 1182</span>                         equal_inf=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1183</span> </div>
<div class="line"><span class="lineno"> 1184</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a464e6b0d8057777912e21aaef1ec8eb3" name="a464e6b0d8057777912e21aaef1ec8eb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a464e6b0d8057777912e21aaef1ec8eb3">&#9670;&#160;</a></span>assert_array_max_ulp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_array_max_ulp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxulp</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that all items of arrays differ in at most N Units in the Last Place.

Parameters
----------
a, b : array_like
    Input arrays to be compared.
maxulp : int, optional
    The maximum number of units in the last place that elements of `a` and
    `b` can differ. Default is 1.
dtype : dtype, optional
    Data-type to convert `a` and `b` to if given. Default is None.

Returns
-------
ret : ndarray
    Array containing number of representable floating point numbers between
    items in `a` and `b`.

Raises
------
AssertionError
    If one or more elements differ by more than `maxulp`.

Notes
-----
For computing the ULP difference, this API does not differentiate between
various representations of NAN (ULP difference between 0x7fc00000 and 0xffc00000
is zero).

See Also
--------
assert_array_almost_equal_nulp : Compare two arrays relatively to their
    spacing.

Examples
--------
&gt;&gt;&gt; a = np.linspace(0., 1., 100)
&gt;&gt;&gt; res = np.testing.assert_array_max_ulp(a, np.arcsin(np.sin(a)))</pre> <div class="fragment"><div class="line"><span class="lineno"> 1657</span><span class="keyword">def </span>assert_array_max_ulp(a, b, maxulp=1, dtype=None):</div>
<div class="line"><span class="lineno"> 1658</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1659</span><span class="stringliteral">    Check that all items of arrays differ in at most N Units in the Last Place.</span></div>
<div class="line"><span class="lineno"> 1660</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1661</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1662</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1663</span><span class="stringliteral">    a, b : array_like</span></div>
<div class="line"><span class="lineno"> 1664</span><span class="stringliteral">        Input arrays to be compared.</span></div>
<div class="line"><span class="lineno"> 1665</span><span class="stringliteral">    maxulp : int, optional</span></div>
<div class="line"><span class="lineno"> 1666</span><span class="stringliteral">        The maximum number of units in the last place that elements of `a` and</span></div>
<div class="line"><span class="lineno"> 1667</span><span class="stringliteral">        `b` can differ. Default is 1.</span></div>
<div class="line"><span class="lineno"> 1668</span><span class="stringliteral">    dtype : dtype, optional</span></div>
<div class="line"><span class="lineno"> 1669</span><span class="stringliteral">        Data-type to convert `a` and `b` to if given. Default is None.</span></div>
<div class="line"><span class="lineno"> 1670</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1671</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1672</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1673</span><span class="stringliteral">    ret : ndarray</span></div>
<div class="line"><span class="lineno"> 1674</span><span class="stringliteral">        Array containing number of representable floating point numbers between</span></div>
<div class="line"><span class="lineno"> 1675</span><span class="stringliteral">        items in `a` and `b`.</span></div>
<div class="line"><span class="lineno"> 1676</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1677</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 1678</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1679</span><span class="stringliteral">    AssertionError</span></div>
<div class="line"><span class="lineno"> 1680</span><span class="stringliteral">        If one or more elements differ by more than `maxulp`.</span></div>
<div class="line"><span class="lineno"> 1681</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1682</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 1683</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno"> 1684</span><span class="stringliteral">    For computing the ULP difference, this API does not differentiate between</span></div>
<div class="line"><span class="lineno"> 1685</span><span class="stringliteral">    various representations of NAN (ULP difference between 0x7fc00000 and 0xffc00000</span></div>
<div class="line"><span class="lineno"> 1686</span><span class="stringliteral">    is zero).</span></div>
<div class="line"><span class="lineno"> 1687</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1688</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno"> 1689</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1690</span><span class="stringliteral">    assert_array_almost_equal_nulp : Compare two arrays relatively to their</span></div>
<div class="line"><span class="lineno"> 1691</span><span class="stringliteral">        spacing.</span></div>
<div class="line"><span class="lineno"> 1692</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1693</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1694</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1695</span><span class="stringliteral">    &gt;&gt;&gt; a = np.linspace(0., 1., 100)</span></div>
<div class="line"><span class="lineno"> 1696</span><span class="stringliteral">    &gt;&gt;&gt; res = np.testing.assert_array_max_ulp(a, np.arcsin(np.sin(a)))</span></div>
<div class="line"><span class="lineno"> 1697</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1698</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1699</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno"> 1700</span>    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="lineno"> 1701</span>    ret = nulp_diff(a, b, dtype)</div>
<div class="line"><span class="lineno"> 1702</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> np.all(ret &lt;= maxulp):</div>
<div class="line"><span class="lineno"> 1703</span>        <span class="keywordflow">raise</span> AssertionError(<span class="stringliteral">&quot;Arrays are not almost equal up to %g &quot;</span></div>
<div class="line"><span class="lineno"> 1704</span>                             <span class="stringliteral">&quot;ULP (max difference is %g ULP)&quot;</span> %</div>
<div class="line"><span class="lineno"> 1705</span>                             (maxulp, np.max(ret)))</div>
<div class="line"><span class="lineno"> 1706</span>    <span class="keywordflow">return</span> ret</div>
<div class="line"><span class="lineno"> 1707</span> </div>
<div class="line"><span class="lineno"> 1708</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adda02f1a87cfb63984ce04fff20abca1" name="adda02f1a87cfb63984ce04fff20abca1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adda02f1a87cfb63984ce04fff20abca1">&#9670;&#160;</a></span>assert_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_equal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>desired</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Raises an AssertionError if two objects are not equal.

Given two objects (scalars, lists, tuples, dictionaries or numpy arrays),
check that all elements of these objects are equal. An exception is raised
at the first conflicting values.

When one of `actual` and `desired` is a scalar and the other is array_like,
the function checks that each element of the array_like object is equal to
the scalar.

This function handles NaN comparisons as if NaN was a "normal" number.
That is, AssertionError is not raised if both objects have NaNs in the same
positions.  This is in contrast to the IEEE standard on NaNs, which says
that NaN compared to anything must return False.

Parameters
----------
actual : array_like
    The object to check.
desired : array_like
    The expected object.
err_msg : str, optional
    The error message to be printed in case of failure.
verbose : bool, optional
    If True, the conflicting values are appended to the error message.

Raises
------
AssertionError
    If actual and desired are not equal.

Examples
--------
&gt;&gt;&gt; np.testing.assert_equal([4,5], [4,6])
Traceback (most recent call last):
    ...
AssertionError:
Items are not equal:
item=1
 ACTUAL: 5
 DESIRED: 6

The following comparison does not raise an exception.  There are NaNs
in the inputs, but they are in the same positions.

&gt;&gt;&gt; np.testing.assert_equal(np.array([1.0, 2.0, np.nan]), [1, 2, np.nan])</pre> <div class="fragment"><div class="line"><span class="lineno">  279</span><span class="keyword">def </span>assert_equal(actual, desired, err_msg=&#39;&#39;, verbose=True):</div>
<div class="line"><span class="lineno">  280</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  281</span><span class="stringliteral">    Raises an AssertionError if two objects are not equal.</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">    Given two objects (scalars, lists, tuples, dictionaries or numpy arrays),</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral">    check that all elements of these objects are equal. An exception is raised</span></div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral">    at the first conflicting values.</span></div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">    When one of `actual` and `desired` is a scalar and the other is array_like,</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral">    the function checks that each element of the array_like object is equal to</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral">    the scalar.</span></div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">    This function handles NaN comparisons as if NaN was a &quot;normal&quot; number.</span></div>
<div class="line"><span class="lineno">  292</span><span class="stringliteral">    That is, AssertionError is not raised if both objects have NaNs in the same</span></div>
<div class="line"><span class="lineno">  293</span><span class="stringliteral">    positions.  This is in contrast to the IEEE standard on NaNs, which says</span></div>
<div class="line"><span class="lineno">  294</span><span class="stringliteral">    that NaN compared to anything must return False.</span></div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral">    actual : array_like</span></div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral">        The object to check.</span></div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">    desired : array_like</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">        The expected object.</span></div>
<div class="line"><span class="lineno">  302</span><span class="stringliteral">    err_msg : str, optional</span></div>
<div class="line"><span class="lineno">  303</span><span class="stringliteral">        The error message to be printed in case of failure.</span></div>
<div class="line"><span class="lineno">  304</span><span class="stringliteral">    verbose : bool, optional</span></div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">        If True, the conflicting values are appended to the error message.</span></div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral">    AssertionError</span></div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">        If actual and desired are not equal.</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  312</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  313</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  314</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_equal([4,5], [4,6])</span></div>
<div class="line"><span class="lineno">  315</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  316</span><span class="stringliteral">        ...</span></div>
<div class="line"><span class="lineno">  317</span><span class="stringliteral">    AssertionError:</span></div>
<div class="line"><span class="lineno">  318</span><span class="stringliteral">    Items are not equal:</span></div>
<div class="line"><span class="lineno">  319</span><span class="stringliteral">    item=1</span></div>
<div class="line"><span class="lineno">  320</span><span class="stringliteral">     ACTUAL: 5</span></div>
<div class="line"><span class="lineno">  321</span><span class="stringliteral">     DESIRED: 6</span></div>
<div class="line"><span class="lineno">  322</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  323</span><span class="stringliteral">    The following comparison does not raise an exception.  There are NaNs</span></div>
<div class="line"><span class="lineno">  324</span><span class="stringliteral">    in the inputs, but they are in the same positions.</span></div>
<div class="line"><span class="lineno">  325</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  326</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_equal(np.array([1.0, 2.0, np.nan]), [1, 2, np.nan])</span></div>
<div class="line"><span class="lineno">  327</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  328</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  329</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordflow">if</span> isinstance(desired, dict):</div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(actual, dict):</div>
<div class="line"><span class="lineno">  332</span>            <span class="keywordflow">raise</span> AssertionError(repr(type(actual)))</div>
<div class="line"><span class="lineno">  333</span>        assert_equal(len(actual), len(desired), err_msg, verbose)</div>
<div class="line"><span class="lineno">  334</span>        <span class="keywordflow">for</span> k, i <span class="keywordflow">in</span> desired.items():</div>
<div class="line"><span class="lineno">  335</span>            <span class="keywordflow">if</span> k <span class="keywordflow">not</span> <span class="keywordflow">in</span> actual:</div>
<div class="line"><span class="lineno">  336</span>                <span class="keywordflow">raise</span> AssertionError(repr(k))</div>
<div class="line"><span class="lineno">  337</span>            assert_equal(actual[k], desired[k], f<span class="stringliteral">&#39;key={k!r}\n{err_msg}&#39;</span>,</div>
<div class="line"><span class="lineno">  338</span>                         verbose)</div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  340</span>    <span class="keywordflow">if</span> isinstance(desired, (list, tuple)) <span class="keywordflow">and</span> isinstance(actual, (list, tuple)):</div>
<div class="line"><span class="lineno">  341</span>        assert_equal(len(actual), len(desired), err_msg, verbose)</div>
<div class="line"><span class="lineno">  342</span>        <span class="keywordflow">for</span> k <span class="keywordflow">in</span> range(len(desired)):</div>
<div class="line"><span class="lineno">  343</span>            assert_equal(actual[k], desired[k], f<span class="stringliteral">&#39;item={k!r}\n{err_msg}&#39;</span>,</div>
<div class="line"><span class="lineno">  344</span>                         verbose)</div>
<div class="line"><span class="lineno">  345</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  346</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1core.html">numpy.core</a> <span class="keyword">import</span> ndarray, isscalar, signbit</div>
<div class="line"><span class="lineno">  347</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1lib.html">numpy.lib</a> <span class="keyword">import</span> iscomplexobj, real, imag</div>
<div class="line"><span class="lineno">  348</span>    <span class="keywordflow">if</span> isinstance(actual, ndarray) <span class="keywordflow">or</span> isinstance(desired, ndarray):</div>
<div class="line"><span class="lineno">  349</span>        <span class="keywordflow">return</span> assert_array_equal(actual, desired, err_msg, verbose)</div>
<div class="line"><span class="lineno">  350</span>    msg = build_err_msg([actual, desired], err_msg, verbose=verbose)</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>    <span class="comment"># Handle complex numbers: separate into real/imag to handle</span></div>
<div class="line"><span class="lineno">  353</span>    <span class="comment"># nan/inf/negative zero correctly</span></div>
<div class="line"><span class="lineno">  354</span>    <span class="comment"># XXX: catch ValueError for subclasses of ndarray where iscomplex fail</span></div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  356</span>        usecomplex = iscomplexobj(actual) <span class="keywordflow">or</span> iscomplexobj(desired)</div>
<div class="line"><span class="lineno">  357</span>    <span class="keywordflow">except</span> (ValueError, TypeError):</div>
<div class="line"><span class="lineno">  358</span>        usecomplex = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    <span class="keywordflow">if</span> usecomplex:</div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">if</span> iscomplexobj(actual):</div>
<div class="line"><span class="lineno">  362</span>            actualr = real(actual)</div>
<div class="line"><span class="lineno">  363</span>            actuali = imag(actual)</div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  365</span>            actualr = actual</div>
<div class="line"><span class="lineno">  366</span>            actuali = 0</div>
<div class="line"><span class="lineno">  367</span>        <span class="keywordflow">if</span> iscomplexobj(desired):</div>
<div class="line"><span class="lineno">  368</span>            desiredr = real(desired)</div>
<div class="line"><span class="lineno">  369</span>            desiredi = imag(desired)</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  371</span>            desiredr = desired</div>
<div class="line"><span class="lineno">  372</span>            desiredi = 0</div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  374</span>            assert_equal(actualr, desiredr)</div>
<div class="line"><span class="lineno">  375</span>            assert_equal(actuali, desiredi)</div>
<div class="line"><span class="lineno">  376</span>        <span class="keywordflow">except</span> AssertionError:</div>
<div class="line"><span class="lineno">  377</span>            <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    <span class="comment"># isscalar test to check cases such as [np.nan] != np.nan</span></div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">if</span> isscalar(desired) != isscalar(actual):</div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  384</span>        isdesnat = isnat(desired)</div>
<div class="line"><span class="lineno">  385</span>        isactnat = isnat(actual)</div>
<div class="line"><span class="lineno">  386</span>        dtypes_match = (np.asarray(desired).dtype.type ==</div>
<div class="line"><span class="lineno">  387</span>                        np.asarray(actual).dtype.type)</div>
<div class="line"><span class="lineno">  388</span>        <span class="keywordflow">if</span> isdesnat <span class="keywordflow">and</span> isactnat:</div>
<div class="line"><span class="lineno">  389</span>            <span class="comment"># If both are NaT (and have the same dtype -- datetime or</span></div>
<div class="line"><span class="lineno">  390</span>            <span class="comment"># timedelta) they are considered equal.</span></div>
<div class="line"><span class="lineno">  391</span>            <span class="keywordflow">if</span> dtypes_match:</div>
<div class="line"><span class="lineno">  392</span>                <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  393</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  394</span>                <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  395</span> </div>
<div class="line"><span class="lineno">  396</span>    <span class="keywordflow">except</span> (TypeError, ValueError, NotImplementedError):</div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  398</span> </div>
<div class="line"><span class="lineno">  399</span>    <span class="comment"># Inf/nan/negative zero handling</span></div>
<div class="line"><span class="lineno">  400</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  401</span>        isdesnan = gisnan(desired)</div>
<div class="line"><span class="lineno">  402</span>        isactnan = gisnan(actual)</div>
<div class="line"><span class="lineno">  403</span>        <span class="keywordflow">if</span> isdesnan <span class="keywordflow">and</span> isactnan:</div>
<div class="line"><span class="lineno">  404</span>            <span class="keywordflow">return</span>  <span class="comment"># both nan, so equal</span></div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>        <span class="comment"># handle signed zero specially for floats</span></div>
<div class="line"><span class="lineno">  407</span>        array_actual = np.asarray(actual)</div>
<div class="line"><span class="lineno">  408</span>        array_desired = np.asarray(desired)</div>
<div class="line"><span class="lineno">  409</span>        <span class="keywordflow">if</span> (array_actual.dtype.char <span class="keywordflow">in</span> <span class="stringliteral">&#39;Mm&#39;</span> <span class="keywordflow">or</span></div>
<div class="line"><span class="lineno">  410</span>                array_desired.dtype.char <span class="keywordflow">in</span> <span class="stringliteral">&#39;Mm&#39;</span>):</div>
<div class="line"><span class="lineno">  411</span>            <span class="comment"># version 1.18</span></div>
<div class="line"><span class="lineno">  412</span>            <span class="comment"># until this version, gisnan failed for datetime64 and timedelta64.</span></div>
<div class="line"><span class="lineno">  413</span>            <span class="comment"># Now it succeeds but comparison to scalar with a different type</span></div>
<div class="line"><span class="lineno">  414</span>            <span class="comment"># emits a DeprecationWarning.</span></div>
<div class="line"><span class="lineno">  415</span>            <span class="comment"># Avoid that by skipping the next check</span></div>
<div class="line"><span class="lineno">  416</span>            <span class="keywordflow">raise</span> NotImplementedError(<span class="stringliteral">&#39;cannot compare to a scalar &#39;</span></div>
<div class="line"><span class="lineno">  417</span>                                      <span class="stringliteral">&#39;with a different type&#39;</span>)</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>        <span class="keywordflow">if</span> desired == 0 <span class="keywordflow">and</span> actual == 0:</div>
<div class="line"><span class="lineno">  420</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> signbit(desired) == signbit(actual):</div>
<div class="line"><span class="lineno">  421</span>                <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>    <span class="keywordflow">except</span> (TypeError, ValueError, NotImplementedError):</div>
<div class="line"><span class="lineno">  424</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  427</span>        <span class="comment"># Explicitly use __eq__ for comparison, gh-2552</span></div>
<div class="line"><span class="lineno">  428</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> (desired == actual):</div>
<div class="line"><span class="lineno">  429</span>            <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>    <span class="keywordflow">except</span> (DeprecationWarning, FutureWarning) <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  432</span>        <span class="comment"># this handles the case when the two types are not even comparable</span></div>
<div class="line"><span class="lineno">  433</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;elementwise == comparison&#39;</span> <span class="keywordflow">in</span> e.args[0]:</div>
<div class="line"><span class="lineno">  434</span>            <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno">  435</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  436</span>            <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  437</span> </div>
<div class="line"><span class="lineno">  438</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a173f2e317efd119e32b77ad84513a88d" name="a173f2e317efd119e32b77ad84513a88d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a173f2e317efd119e32b77ad84513a88d">&#9670;&#160;</a></span>assert_no_gc_cycles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_no_gc_cycles </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fail if the given callable produces any reference cycles.

If called with all arguments omitted, may be used as a context manager:

    with assert_no_gc_cycles():
        do_something()

.. versionadded:: 1.15.0

Parameters
----------
func : callable
    The callable to test.
\\*args : Arguments
    Arguments passed to `func`.
\\*\\*kwargs : Kwargs
    Keyword arguments passed to `func`.

Returns
-------
Nothing. The result is deliberately discarded to ensure that all cycles
are found.</pre> <div class="fragment"><div class="line"><span class="lineno"> 2420</span><span class="keyword">def </span>assert_no_gc_cycles(*args, **kwargs):</div>
<div class="line"><span class="lineno"> 2421</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2422</span><span class="stringliteral">    Fail if the given callable produces any reference cycles.</span></div>
<div class="line"><span class="lineno"> 2423</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2424</span><span class="stringliteral">    If called with all arguments omitted, may be used as a context manager:</span></div>
<div class="line"><span class="lineno"> 2425</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2426</span><span class="stringliteral">        with assert_no_gc_cycles():</span></div>
<div class="line"><span class="lineno"> 2427</span><span class="stringliteral">            do_something()</span></div>
<div class="line"><span class="lineno"> 2428</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2429</span><span class="stringliteral">    .. versionadded:: 1.15.0</span></div>
<div class="line"><span class="lineno"> 2430</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2431</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2432</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2433</span><span class="stringliteral">    func : callable</span></div>
<div class="line"><span class="lineno"> 2434</span><span class="stringliteral">        The callable to test.</span></div>
<div class="line"><span class="lineno"> 2435</span><span class="stringliteral">    \\*args : Arguments</span></div>
<div class="line"><span class="lineno"> 2436</span><span class="stringliteral">        Arguments passed to `func`.</span></div>
<div class="line"><span class="lineno"> 2437</span><span class="stringliteral">    \\*\\*kwargs : Kwargs</span></div>
<div class="line"><span class="lineno"> 2438</span><span class="stringliteral">        Keyword arguments passed to `func`.</span></div>
<div class="line"><span class="lineno"> 2439</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2440</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2441</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2442</span><span class="stringliteral">    Nothing. The result is deliberately discarded to ensure that all cycles</span></div>
<div class="line"><span class="lineno"> 2443</span><span class="stringliteral">    are found.</span></div>
<div class="line"><span class="lineno"> 2444</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2445</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2446</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> args:</div>
<div class="line"><span class="lineno"> 2447</span>        <span class="keywordflow">return</span> _assert_no_gc_cycles_context()</div>
<div class="line"><span class="lineno"> 2448</span> </div>
<div class="line"><span class="lineno"> 2449</span>    func = args[0]</div>
<div class="line"><span class="lineno"> 2450</span>    args = args[1:]</div>
<div class="line"><span class="lineno"> 2451</span>    <span class="keyword">with</span> _assert_no_gc_cycles_context(name=func.__name__):</div>
<div class="line"><span class="lineno"> 2452</span>        <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(*args, **kwargs)</div>
<div class="line"><span class="lineno"> 2453</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a67752544d45d4bfd0a17525ed1bb702f" name="a67752544d45d4bfd0a17525ed1bb702f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67752544d45d4bfd0a17525ed1bb702f">&#9670;&#160;</a></span>assert_no_warnings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_no_warnings </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fail if the given callable produces any warnings.

If called with all arguments omitted, may be used as a context manager:

    with assert_no_warnings():
        do_something()

The ability to be used as a context manager is new in NumPy v1.11.0.

.. versionadded:: 1.7.0

Parameters
----------
func : callable
    The callable to test.
\\*args : Arguments
    Arguments passed to `func`.
\\*\\*kwargs : Kwargs
    Keyword arguments passed to `func`.

Returns
-------
The value returned by `func`.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1877</span><span class="keyword">def </span>assert_no_warnings(*args, **kwargs):</div>
<div class="line"><span class="lineno"> 1878</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1879</span><span class="stringliteral">    Fail if the given callable produces any warnings.</span></div>
<div class="line"><span class="lineno"> 1880</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1881</span><span class="stringliteral">    If called with all arguments omitted, may be used as a context manager:</span></div>
<div class="line"><span class="lineno"> 1882</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1883</span><span class="stringliteral">        with assert_no_warnings():</span></div>
<div class="line"><span class="lineno"> 1884</span><span class="stringliteral">            do_something()</span></div>
<div class="line"><span class="lineno"> 1885</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1886</span><span class="stringliteral">    The ability to be used as a context manager is new in NumPy v1.11.0.</span></div>
<div class="line"><span class="lineno"> 1887</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1888</span><span class="stringliteral">    .. versionadded:: 1.7.0</span></div>
<div class="line"><span class="lineno"> 1889</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1890</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1891</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1892</span><span class="stringliteral">    func : callable</span></div>
<div class="line"><span class="lineno"> 1893</span><span class="stringliteral">        The callable to test.</span></div>
<div class="line"><span class="lineno"> 1894</span><span class="stringliteral">    \\*args : Arguments</span></div>
<div class="line"><span class="lineno"> 1895</span><span class="stringliteral">        Arguments passed to `func`.</span></div>
<div class="line"><span class="lineno"> 1896</span><span class="stringliteral">    \\*\\*kwargs : Kwargs</span></div>
<div class="line"><span class="lineno"> 1897</span><span class="stringliteral">        Keyword arguments passed to `func`.</span></div>
<div class="line"><span class="lineno"> 1898</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1899</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1900</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1901</span><span class="stringliteral">    The value returned by `func`.</span></div>
<div class="line"><span class="lineno"> 1902</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1903</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1904</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> args:</div>
<div class="line"><span class="lineno"> 1905</span>        <span class="keywordflow">return</span> _assert_no_warnings_context()</div>
<div class="line"><span class="lineno"> 1906</span> </div>
<div class="line"><span class="lineno"> 1907</span>    func = args[0]</div>
<div class="line"><span class="lineno"> 1908</span>    args = args[1:]</div>
<div class="line"><span class="lineno"> 1909</span>    <span class="keyword">with</span> _assert_no_warnings_context(name=func.__name__):</div>
<div class="line"><span class="lineno"> 1910</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(*args, **kwargs)</div>
<div class="line"><span class="lineno"> 1911</span> </div>
<div class="line"><span class="lineno"> 1912</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fe63d005ef1dd1b423171a910652da2" name="a3fe63d005ef1dd1b423171a910652da2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fe63d005ef1dd1b423171a910652da2">&#9670;&#160;</a></span>assert_raises()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_raises </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">assert_raises(exception_class, callable, *args, **kwargs)
assert_raises(exception_class)

Fail unless an exception of class exception_class is thrown
by callable when invoked with arguments args and keyword
arguments kwargs. If a different type of exception is
thrown, it will not be caught, and the test case will be
deemed to have suffered an error, exactly as for an
unexpected exception.

Alternatively, `assert_raises` can be used as a context manager:

&gt;&gt;&gt; from numpy.testing import assert_raises
&gt;&gt;&gt; with assert_raises(ZeroDivisionError):
...     1 / 0

is equivalent to

&gt;&gt;&gt; def div(x, y):
...     return x / y
&gt;&gt;&gt; assert_raises(ZeroDivisionError, div, 1, 0)</pre> <div class="fragment"><div class="line"><span class="lineno"> 1355</span><span class="keyword">def </span>assert_raises(*args, **kwargs):</div>
<div class="line"><span class="lineno"> 1356</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1357</span><span class="stringliteral">    assert_raises(exception_class, callable, *args, **kwargs)</span></div>
<div class="line"><span class="lineno"> 1358</span><span class="stringliteral">    assert_raises(exception_class)</span></div>
<div class="line"><span class="lineno"> 1359</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1360</span><span class="stringliteral">    Fail unless an exception of class exception_class is thrown</span></div>
<div class="line"><span class="lineno"> 1361</span><span class="stringliteral">    by callable when invoked with arguments args and keyword</span></div>
<div class="line"><span class="lineno"> 1362</span><span class="stringliteral">    arguments kwargs. If a different type of exception is</span></div>
<div class="line"><span class="lineno"> 1363</span><span class="stringliteral">    thrown, it will not be caught, and the test case will be</span></div>
<div class="line"><span class="lineno"> 1364</span><span class="stringliteral">    deemed to have suffered an error, exactly as for an</span></div>
<div class="line"><span class="lineno"> 1365</span><span class="stringliteral">    unexpected exception.</span></div>
<div class="line"><span class="lineno"> 1366</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1367</span><span class="stringliteral">    Alternatively, `assert_raises` can be used as a context manager:</span></div>
<div class="line"><span class="lineno"> 1368</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1369</span><span class="stringliteral">    &gt;&gt;&gt; from numpy.testing import assert_raises</span></div>
<div class="line"><span class="lineno"> 1370</span><span class="stringliteral">    &gt;&gt;&gt; with assert_raises(ZeroDivisionError):</span></div>
<div class="line"><span class="lineno"> 1371</span><span class="stringliteral">    ...     1 / 0</span></div>
<div class="line"><span class="lineno"> 1372</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1373</span><span class="stringliteral">    is equivalent to</span></div>
<div class="line"><span class="lineno"> 1374</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1375</span><span class="stringliteral">    &gt;&gt;&gt; def div(x, y):</span></div>
<div class="line"><span class="lineno"> 1376</span><span class="stringliteral">    ...     return x / y</span></div>
<div class="line"><span class="lineno"> 1377</span><span class="stringliteral">    &gt;&gt;&gt; assert_raises(ZeroDivisionError, div, 1, 0)</span></div>
<div class="line"><span class="lineno"> 1378</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1379</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1380</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno"> 1381</span>    <span class="keywordflow">return</span> _d.assertRaises(*args,**kwargs)</div>
<div class="line"><span class="lineno"> 1382</span> </div>
<div class="line"><span class="lineno"> 1383</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e9faa6467bbc686e1434ea2d671b87c" name="a3e9faa6467bbc686e1434ea2d671b87c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e9faa6467bbc686e1434ea2d671b87c">&#9670;&#160;</a></span>assert_raises_regex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_raises_regex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>exception_class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected_regexp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">assert_raises_regex(exception_class, expected_regexp, callable, *args,
                    **kwargs)
assert_raises_regex(exception_class, expected_regexp)

Fail unless an exception of class exception_class and with message that
matches expected_regexp is thrown by callable when invoked with arguments
args and keyword arguments kwargs.

Alternatively, can be used as a context manager like `assert_raises`.

Notes
-----
.. versionadded:: 1.9.0</pre> <div class="fragment"><div class="line"><span class="lineno"> 1384</span><span class="keyword">def </span>assert_raises_regex(exception_class, expected_regexp, *args, **kwargs):</div>
<div class="line"><span class="lineno"> 1385</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1386</span><span class="stringliteral">    assert_raises_regex(exception_class, expected_regexp, callable, *args,</span></div>
<div class="line"><span class="lineno"> 1387</span><span class="stringliteral">                        **kwargs)</span></div>
<div class="line"><span class="lineno"> 1388</span><span class="stringliteral">    assert_raises_regex(exception_class, expected_regexp)</span></div>
<div class="line"><span class="lineno"> 1389</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1390</span><span class="stringliteral">    Fail unless an exception of class exception_class and with message that</span></div>
<div class="line"><span class="lineno"> 1391</span><span class="stringliteral">    matches expected_regexp is thrown by callable when invoked with arguments</span></div>
<div class="line"><span class="lineno"> 1392</span><span class="stringliteral">    args and keyword arguments kwargs.</span></div>
<div class="line"><span class="lineno"> 1393</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1394</span><span class="stringliteral">    Alternatively, can be used as a context manager like `assert_raises`.</span></div>
<div class="line"><span class="lineno"> 1395</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1396</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 1397</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno"> 1398</span><span class="stringliteral">    .. versionadded:: 1.9.0</span></div>
<div class="line"><span class="lineno"> 1399</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1400</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1401</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno"> 1402</span>    <span class="keywordflow">return</span> _d.assertRaisesRegex(exception_class, expected_regexp, *args, **kwargs)</div>
<div class="line"><span class="lineno"> 1403</span> </div>
<div class="line"><span class="lineno"> 1404</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5204508d892146edd97523fd370426f9" name="a5204508d892146edd97523fd370426f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5204508d892146edd97523fd370426f9">&#9670;&#160;</a></span>assert_string_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_string_equal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>desired</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test if two strings are equal.

If the given strings are equal, `assert_string_equal` does nothing.
If they are not equal, an AssertionError is raised, and the diff
between the strings is shown.

Parameters
----------
actual : str
    The string to test for equality against the expected string.
desired : str
    The expected string.

Examples
--------
&gt;&gt;&gt; np.testing.assert_string_equal('abc', 'abc')
&gt;&gt;&gt; np.testing.assert_string_equal('abc', 'abcd')
Traceback (most recent call last):
  File "&lt;stdin&gt;", line 1, in &lt;module&gt;
...
AssertionError: Differences in strings:
- abc+ abcd?    +</pre> <div class="fragment"><div class="line"><span class="lineno"> 1189</span><span class="keyword">def </span>assert_string_equal(actual, desired):</div>
<div class="line"><span class="lineno"> 1190</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1191</span><span class="stringliteral">    Test if two strings are equal.</span></div>
<div class="line"><span class="lineno"> 1192</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1193</span><span class="stringliteral">    If the given strings are equal, `assert_string_equal` does nothing.</span></div>
<div class="line"><span class="lineno"> 1194</span><span class="stringliteral">    If they are not equal, an AssertionError is raised, and the diff</span></div>
<div class="line"><span class="lineno"> 1195</span><span class="stringliteral">    between the strings is shown.</span></div>
<div class="line"><span class="lineno"> 1196</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1197</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1198</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1199</span><span class="stringliteral">    actual : str</span></div>
<div class="line"><span class="lineno"> 1200</span><span class="stringliteral">        The string to test for equality against the expected string.</span></div>
<div class="line"><span class="lineno"> 1201</span><span class="stringliteral">    desired : str</span></div>
<div class="line"><span class="lineno"> 1202</span><span class="stringliteral">        The expected string.</span></div>
<div class="line"><span class="lineno"> 1203</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1204</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1205</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1206</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_string_equal(&#39;abc&#39;, &#39;abc&#39;)</span></div>
<div class="line"><span class="lineno"> 1207</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.assert_string_equal(&#39;abc&#39;, &#39;abcd&#39;)</span></div>
<div class="line"><span class="lineno"> 1208</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno"> 1209</span><span class="stringliteral">      File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;</span></div>
<div class="line"><span class="lineno"> 1210</span><span class="stringliteral">    ...</span></div>
<div class="line"><span class="lineno"> 1211</span><span class="stringliteral">    AssertionError: Differences in strings:</span></div>
<div class="line"><span class="lineno"> 1212</span><span class="stringliteral">    - abc+ abcd?    +</span></div>
<div class="line"><span class="lineno"> 1213</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1214</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1215</span>    <span class="comment"># delay import of difflib to reduce startup time</span></div>
<div class="line"><span class="lineno"> 1216</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno"> 1217</span>    <span class="keyword">import</span> difflib</div>
<div class="line"><span class="lineno"> 1218</span> </div>
<div class="line"><span class="lineno"> 1219</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(actual, str):</div>
<div class="line"><span class="lineno"> 1220</span>        <span class="keywordflow">raise</span> AssertionError(repr(type(actual)))</div>
<div class="line"><span class="lineno"> 1221</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(desired, str):</div>
<div class="line"><span class="lineno"> 1222</span>        <span class="keywordflow">raise</span> AssertionError(repr(type(desired)))</div>
<div class="line"><span class="lineno"> 1223</span>    <span class="keywordflow">if</span> desired == actual:</div>
<div class="line"><span class="lineno"> 1224</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>    diff = list(difflib.Differ().compare(actual.splitlines(<span class="keyword">True</span>),</div>
<div class="line"><span class="lineno"> 1227</span>                desired.splitlines(<span class="keyword">True</span>)))</div>
<div class="line"><span class="lineno"> 1228</span>    diff_list = []</div>
<div class="line"><span class="lineno"> 1229</span>    <span class="keywordflow">while</span> diff:</div>
<div class="line"><span class="lineno"> 1230</span>        d1 = diff.pop(0)</div>
<div class="line"><span class="lineno"> 1231</span>        <span class="keywordflow">if</span> d1.startswith(<span class="stringliteral">&#39;  &#39;</span>):</div>
<div class="line"><span class="lineno"> 1232</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1233</span>        <span class="keywordflow">if</span> d1.startswith(<span class="stringliteral">&#39;- &#39;</span>):</div>
<div class="line"><span class="lineno"> 1234</span>            l = [d1]</div>
<div class="line"><span class="lineno"> 1235</span>            d2 = diff.pop(0)</div>
<div class="line"><span class="lineno"> 1236</span>            <span class="keywordflow">if</span> d2.startswith(<span class="stringliteral">&#39;? &#39;</span>):</div>
<div class="line"><span class="lineno"> 1237</span>                l.append(d2)</div>
<div class="line"><span class="lineno"> 1238</span>                d2 = diff.pop(0)</div>
<div class="line"><span class="lineno"> 1239</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> d2.startswith(<span class="stringliteral">&#39;+ &#39;</span>):</div>
<div class="line"><span class="lineno"> 1240</span>                <span class="keywordflow">raise</span> AssertionError(repr(d2))</div>
<div class="line"><span class="lineno"> 1241</span>            l.append(d2)</div>
<div class="line"><span class="lineno"> 1242</span>            <span class="keywordflow">if</span> diff:</div>
<div class="line"><span class="lineno"> 1243</span>                d3 = diff.pop(0)</div>
<div class="line"><span class="lineno"> 1244</span>                <span class="keywordflow">if</span> d3.startswith(<span class="stringliteral">&#39;? &#39;</span>):</div>
<div class="line"><span class="lineno"> 1245</span>                    l.append(d3)</div>
<div class="line"><span class="lineno"> 1246</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1247</span>                    diff.insert(0, d3)</div>
<div class="line"><span class="lineno"> 1248</span>            <span class="keywordflow">if</span> d2[2:] == d1[2:]:</div>
<div class="line"><span class="lineno"> 1249</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1250</span>            diff_list.extend(l)</div>
<div class="line"><span class="lineno"> 1251</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1252</span>        <span class="keywordflow">raise</span> AssertionError(repr(d1))</div>
<div class="line"><span class="lineno"> 1253</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> diff_list:</div>
<div class="line"><span class="lineno"> 1254</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 1255</span>    msg = f<span class="stringliteral">&quot;Differences in strings:\n{&#39;&#39;.join(diff_list).rstrip()}&quot;</span></div>
<div class="line"><span class="lineno"> 1256</span>    <span class="keywordflow">if</span> actual != desired:</div>
<div class="line"><span class="lineno"> 1257</span>        <span class="keywordflow">raise</span> AssertionError(msg)</div>
<div class="line"><span class="lineno"> 1258</span> </div>
<div class="line"><span class="lineno"> 1259</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a437b7b8fb775a0d264669ade49fa588a" name="a437b7b8fb775a0d264669ade49fa588a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a437b7b8fb775a0d264669ade49fa588a">&#9670;&#160;</a></span>assert_warns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.assert_warns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>warning_class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Fail unless the given callable throws the specified warning.

A warning of class warning_class should be thrown by the callable when
invoked with arguments args and keyword arguments kwargs.
If a different type of warning is thrown, it will not be caught.

If called with all arguments other than the warning class omitted, may be
used as a context manager:

    with assert_warns(SomeWarning):
        do_something()

The ability to be used as a context manager is new in NumPy v1.11.0.

.. versionadded:: 1.4.0

Parameters
----------
warning_class : class
    The class defining the warning that `func` is expected to throw.
func : callable, optional
    Callable to test
*args : Arguments
    Arguments for `func`.
**kwargs : Kwargs
    Keyword arguments for `func`.

Returns
-------
The value returned by `func`.

Examples
--------
&gt;&gt;&gt; import warnings
&gt;&gt;&gt; def deprecated_func(num):
...     warnings.warn("Please upgrade", DeprecationWarning)
...     return num*num
&gt;&gt;&gt; with np.testing.assert_warns(DeprecationWarning):
...     assert deprecated_func(4) == 16
&gt;&gt;&gt; # or passing a func
&gt;&gt;&gt; ret = np.testing.assert_warns(DeprecationWarning, deprecated_func, 4)
&gt;&gt;&gt; assert ret == 16
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1812</span><span class="keyword">def </span>assert_warns(warning_class, *args, **kwargs):</div>
<div class="line"><span class="lineno"> 1813</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1814</span><span class="stringliteral">    Fail unless the given callable throws the specified warning.</span></div>
<div class="line"><span class="lineno"> 1815</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1816</span><span class="stringliteral">    A warning of class warning_class should be thrown by the callable when</span></div>
<div class="line"><span class="lineno"> 1817</span><span class="stringliteral">    invoked with arguments args and keyword arguments kwargs.</span></div>
<div class="line"><span class="lineno"> 1818</span><span class="stringliteral">    If a different type of warning is thrown, it will not be caught.</span></div>
<div class="line"><span class="lineno"> 1819</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1820</span><span class="stringliteral">    If called with all arguments other than the warning class omitted, may be</span></div>
<div class="line"><span class="lineno"> 1821</span><span class="stringliteral">    used as a context manager:</span></div>
<div class="line"><span class="lineno"> 1822</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1823</span><span class="stringliteral">        with assert_warns(SomeWarning):</span></div>
<div class="line"><span class="lineno"> 1824</span><span class="stringliteral">            do_something()</span></div>
<div class="line"><span class="lineno"> 1825</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1826</span><span class="stringliteral">    The ability to be used as a context manager is new in NumPy v1.11.0.</span></div>
<div class="line"><span class="lineno"> 1827</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1828</span><span class="stringliteral">    .. versionadded:: 1.4.0</span></div>
<div class="line"><span class="lineno"> 1829</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1830</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1831</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1832</span><span class="stringliteral">    warning_class : class</span></div>
<div class="line"><span class="lineno"> 1833</span><span class="stringliteral">        The class defining the warning that `func` is expected to throw.</span></div>
<div class="line"><span class="lineno"> 1834</span><span class="stringliteral">    func : callable, optional</span></div>
<div class="line"><span class="lineno"> 1835</span><span class="stringliteral">        Callable to test</span></div>
<div class="line"><span class="lineno"> 1836</span><span class="stringliteral">    *args : Arguments</span></div>
<div class="line"><span class="lineno"> 1837</span><span class="stringliteral">        Arguments for `func`.</span></div>
<div class="line"><span class="lineno"> 1838</span><span class="stringliteral">    **kwargs : Kwargs</span></div>
<div class="line"><span class="lineno"> 1839</span><span class="stringliteral">        Keyword arguments for `func`.</span></div>
<div class="line"><span class="lineno"> 1840</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1841</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1842</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1843</span><span class="stringliteral">    The value returned by `func`.</span></div>
<div class="line"><span class="lineno"> 1844</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1845</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1846</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1847</span><span class="stringliteral">    &gt;&gt;&gt; import warnings</span></div>
<div class="line"><span class="lineno"> 1848</span><span class="stringliteral">    &gt;&gt;&gt; def deprecated_func(num):</span></div>
<div class="line"><span class="lineno"> 1849</span><span class="stringliteral">    ...     warnings.warn(&quot;Please upgrade&quot;, DeprecationWarning)</span></div>
<div class="line"><span class="lineno"> 1850</span><span class="stringliteral">    ...     return num*num</span></div>
<div class="line"><span class="lineno"> 1851</span><span class="stringliteral">    &gt;&gt;&gt; with np.testing.assert_warns(DeprecationWarning):</span></div>
<div class="line"><span class="lineno"> 1852</span><span class="stringliteral">    ...     assert deprecated_func(4) == 16</span></div>
<div class="line"><span class="lineno"> 1853</span><span class="stringliteral">    &gt;&gt;&gt; # or passing a func</span></div>
<div class="line"><span class="lineno"> 1854</span><span class="stringliteral">    &gt;&gt;&gt; ret = np.testing.assert_warns(DeprecationWarning, deprecated_func, 4)</span></div>
<div class="line"><span class="lineno"> 1855</span><span class="stringliteral">    &gt;&gt;&gt; assert ret == 16</span></div>
<div class="line"><span class="lineno"> 1856</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1857</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> args:</div>
<div class="line"><span class="lineno"> 1858</span>        <span class="keywordflow">return</span> _assert_warns_context(warning_class)</div>
<div class="line"><span class="lineno"> 1859</span> </div>
<div class="line"><span class="lineno"> 1860</span>    func = args[0]</div>
<div class="line"><span class="lineno"> 1861</span>    args = args[1:]</div>
<div class="line"><span class="lineno"> 1862</span>    <span class="keyword">with</span> _assert_warns_context(warning_class, name=func.__name__):</div>
<div class="line"><span class="lineno"> 1863</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(*args, **kwargs)</div>
<div class="line"><span class="lineno"> 1864</span> </div>
<div class="line"><span class="lineno"> 1865</span> </div>
<div class="line"><span class="lineno"> 1866</span><span class="preprocessor">@contextlib.contextmanager</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="adf4fabcc1d720a36a9eb3fe38dfa4d7b" name="adf4fabcc1d720a36a9eb3fe38dfa4d7b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf4fabcc1d720a36a9eb3fe38dfa4d7b">&#9670;&#160;</a></span>break_cycles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.break_cycles </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Break reference cycles by calling gc.collect
Objects can call other objects' methods (for instance, another object's
 __del__) inside their own __del__. On PyPy, the interpreter only runs
between calls to gc.collect, so multiple calls are needed to completely
release all cycles.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2454</span><span class="keyword">def </span>break_cycles():</div>
<div class="line"><span class="lineno"> 2455</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2456</span><span class="stringliteral">    Break reference cycles by calling gc.collect</span></div>
<div class="line"><span class="lineno"> 2457</span><span class="stringliteral">    Objects can call other objects&#39; methods (for instance, another object&#39;s</span></div>
<div class="line"><span class="lineno"> 2458</span><span class="stringliteral">     __del__) inside their own __del__. On PyPy, the interpreter only runs</span></div>
<div class="line"><span class="lineno"> 2459</span><span class="stringliteral">    between calls to gc.collect, so multiple calls are needed to completely</span></div>
<div class="line"><span class="lineno"> 2460</span><span class="stringliteral">    release all cycles.</span></div>
<div class="line"><span class="lineno"> 2461</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2462</span> </div>
<div class="line"><span class="lineno"> 2463</span>    gc.collect()</div>
<div class="line"><span class="lineno"> 2464</span>    <span class="keywordflow">if</span> IS_PYPY:</div>
<div class="line"><span class="lineno"> 2465</span>        <span class="comment"># a few more, just to make sure all the finalizers are called</span></div>
<div class="line"><span class="lineno"> 2466</span>        gc.collect()</div>
<div class="line"><span class="lineno"> 2467</span>        gc.collect()</div>
<div class="line"><span class="lineno"> 2468</span>        gc.collect()</div>
<div class="line"><span class="lineno"> 2469</span>        gc.collect()</div>
<div class="line"><span class="lineno"> 2470</span> </div>
<div class="line"><span class="lineno"> 2471</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1915a5d41addb30910dbef7c685f327f" name="a1915a5d41addb30910dbef7c685f327f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1915a5d41addb30910dbef7c685f327f">&#9670;&#160;</a></span>build_err_msg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.build_err_msg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arrays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>header</em> = <code>'Items&#160;are&#160;not&#160;equal:'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>names</em> = <code>('ACTUAL',&#160;'DESIRED')</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>precision</em> = <code>8</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  252</span>                  verbose=<span class="keyword">True</span>, names=(<span class="stringliteral">&#39;ACTUAL&#39;</span>, <span class="stringliteral">&#39;DESIRED&#39;</span>), precision=8):</div>
<div class="line"><span class="lineno">  253</span>    msg = [<span class="stringliteral">&#39;\n&#39;</span> + header]</div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">if</span> err_msg:</div>
<div class="line"><span class="lineno">  255</span>        <span class="keywordflow">if</span> err_msg.find(<span class="stringliteral">&#39;\n&#39;</span>) == -1 <span class="keywordflow">and</span> len(err_msg) &lt; 79-len(header):</div>
<div class="line"><span class="lineno">  256</span>            msg = [msg[0] + <span class="stringliteral">&#39; &#39;</span> + err_msg]</div>
<div class="line"><span class="lineno">  257</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  258</span>            msg.append(err_msg)</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">for</span> i, a <span class="keywordflow">in</span> enumerate(arrays):</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>            <span class="keywordflow">if</span> isinstance(a, ndarray):</div>
<div class="line"><span class="lineno">  263</span>                <span class="comment"># precision argument is only needed if the objects are ndarrays</span></div>
<div class="line"><span class="lineno">  264</span>                r_func = partial(array_repr, precision=precision)</div>
<div class="line"><span class="lineno">  265</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  266</span>                r_func = repr</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  269</span>                r = r_func(a)</div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordflow">except</span> Exception <span class="keyword">as</span> exc:</div>
<div class="line"><span class="lineno">  271</span>                r = f<span class="stringliteral">&#39;[repr failed for &lt;{type(a).__name__}&gt;: {exc}]&#39;</span></div>
<div class="line"><span class="lineno">  272</span>            <span class="keywordflow">if</span> r.count(<span class="stringliteral">&#39;\n&#39;</span>) &gt; 3:</div>
<div class="line"><span class="lineno">  273</span>                r = <span class="stringliteral">&#39;\n&#39;</span>.join(r.splitlines()[:3])</div>
<div class="line"><span class="lineno">  274</span>                r += <span class="stringliteral">&#39;...&#39;</span></div>
<div class="line"><span class="lineno">  275</span>            msg.append(f<span class="stringliteral">&#39; {names[i]}: {r}&#39;</span>)</div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordflow">return</span> <span class="stringliteral">&#39;\n&#39;</span>.join(msg)</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4f8680bcce202976575e30570eda3eac" name="a4f8680bcce202976575e30570eda3eac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f8680bcce202976575e30570eda3eac">&#9670;&#160;</a></span>check_free_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.check_free_memory </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>free_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check whether `free_bytes` amount of memory is currently free.
Returns: None if enough memory available, otherwise error message
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2494</span><span class="keyword">def </span>check_free_memory(free_bytes):</div>
<div class="line"><span class="lineno"> 2495</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2496</span><span class="stringliteral">    Check whether `free_bytes` amount of memory is currently free.</span></div>
<div class="line"><span class="lineno"> 2497</span><span class="stringliteral">    Returns: None if enough memory available, otherwise error message</span></div>
<div class="line"><span class="lineno"> 2498</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2499</span>    env_var = <span class="stringliteral">&#39;NPY_AVAILABLE_MEM&#39;</span></div>
<div class="line"><span class="lineno"> 2500</span>    env_value = os.environ.get(env_var)</div>
<div class="line"><span class="lineno"> 2501</span>    <span class="keywordflow">if</span> env_value <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2502</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2503</span>            mem_free = _parse_size(env_value)</div>
<div class="line"><span class="lineno"> 2504</span>        <span class="keywordflow">except</span> ValueError <span class="keyword">as</span> exc:</div>
<div class="line"><span class="lineno"> 2505</span>            <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&#39;Invalid environment variable {env_var}: {exc}&#39;</span>)</div>
<div class="line"><span class="lineno"> 2506</span> </div>
<div class="line"><span class="lineno"> 2507</span>        msg = (f<span class="stringliteral">&#39;{free_bytes/1e9} GB memory required, but environment variable &#39;</span></div>
<div class="line"><span class="lineno"> 2508</span>               f<span class="stringliteral">&#39;NPY_AVAILABLE_MEM={env_value} set&#39;</span>)</div>
<div class="line"><span class="lineno"> 2509</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2510</span>        mem_free = _get_mem_available()</div>
<div class="line"><span class="lineno"> 2511</span> </div>
<div class="line"><span class="lineno"> 2512</span>        <span class="keywordflow">if</span> mem_free <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2513</span>            msg = (<span class="stringliteral">&quot;Could not determine available memory; set NPY_AVAILABLE_MEM &quot;</span></div>
<div class="line"><span class="lineno"> 2514</span>                   <span class="stringliteral">&quot;environment variable (e.g. NPY_AVAILABLE_MEM=16GB) to run &quot;</span></div>
<div class="line"><span class="lineno"> 2515</span>                   <span class="stringliteral">&quot;the test.&quot;</span>)</div>
<div class="line"><span class="lineno"> 2516</span>            mem_free = -1</div>
<div class="line"><span class="lineno"> 2517</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2518</span>            msg = f<span class="stringliteral">&#39;{free_bytes/1e9} GB memory required, but {mem_free/1e9} GB available&#39;</span></div>
<div class="line"><span class="lineno"> 2519</span> </div>
<div class="line"><span class="lineno"> 2520</span>    <span class="keywordflow">return</span> msg <span class="keywordflow">if</span> mem_free &lt; free_bytes <span class="keywordflow">else</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2521</span> </div>
<div class="line"><span class="lineno"> 2522</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a284d47df645b31df5448cb69233bc6b7" name="a284d47df645b31df5448cb69233bc6b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a284d47df645b31df5448cb69233bc6b7">&#9670;&#160;</a></span>decorate_methods()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.decorate_methods </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>decorator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>testmatch</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply a decorator to all methods in a class matching a regular expression.

The given decorator is applied to all public methods of `cls` that are
matched by the regular expression `testmatch`
(``testmatch.search(methodname)``). Methods that are private, i.e. start
with an underscore, are ignored.

Parameters
----------
cls : class
    Class whose methods to decorate.
decorator : function
    Decorator to apply to methods
testmatch : compiled regexp or str, optional
    The regular expression. Default value is None, in which case the
    nose default (``re.compile(r'(?:^|[\\b_\\.%s-])[Tt]est' % os.sep)``)
    is used.
    If `testmatch` is a string, it is compiled to a regular expression
    first.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1405</span><span class="keyword">def </span>decorate_methods(cls, decorator, testmatch=None):</div>
<div class="line"><span class="lineno"> 1406</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1407</span><span class="stringliteral">    Apply a decorator to all methods in a class matching a regular expression.</span></div>
<div class="line"><span class="lineno"> 1408</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1409</span><span class="stringliteral">    The given decorator is applied to all public methods of `cls` that are</span></div>
<div class="line"><span class="lineno"> 1410</span><span class="stringliteral">    matched by the regular expression `testmatch`</span></div>
<div class="line"><span class="lineno"> 1411</span><span class="stringliteral">    (``testmatch.search(methodname)``). Methods that are private, i.e. start</span></div>
<div class="line"><span class="lineno"> 1412</span><span class="stringliteral">    with an underscore, are ignored.</span></div>
<div class="line"><span class="lineno"> 1413</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1414</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1415</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1416</span><span class="stringliteral">    cls : class</span></div>
<div class="line"><span class="lineno"> 1417</span><span class="stringliteral">        Class whose methods to decorate.</span></div>
<div class="line"><span class="lineno"> 1418</span><span class="stringliteral">    decorator : function</span></div>
<div class="line"><span class="lineno"> 1419</span><span class="stringliteral">        Decorator to apply to methods</span></div>
<div class="line"><span class="lineno"> 1420</span><span class="stringliteral">    testmatch : compiled regexp or str, optional</span></div>
<div class="line"><span class="lineno"> 1421</span><span class="stringliteral">        The regular expression. Default value is None, in which case the</span></div>
<div class="line"><span class="lineno"> 1422</span><span class="stringliteral">        nose default (``re.compile(r&#39;(?:^|[\\b_\\.%s-])[Tt]est&#39; % os.sep)``)</span></div>
<div class="line"><span class="lineno"> 1423</span><span class="stringliteral">        is used.</span></div>
<div class="line"><span class="lineno"> 1424</span><span class="stringliteral">        If `testmatch` is a string, it is compiled to a regular expression</span></div>
<div class="line"><span class="lineno"> 1425</span><span class="stringliteral">        first.</span></div>
<div class="line"><span class="lineno"> 1426</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1427</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1428</span>    <span class="keywordflow">if</span> testmatch <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1429</span>        testmatch = re.compile(<span class="stringliteral">r&#39;(?:^|[\\b_\\.%s-])[Tt]est&#39;</span> % os.sep)</div>
<div class="line"><span class="lineno"> 1430</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1431</span>        testmatch = re.compile(testmatch)</div>
<div class="line"><span class="lineno"> 1432</span>    cls_attr = cls.__dict__</div>
<div class="line"><span class="lineno"> 1433</span> </div>
<div class="line"><span class="lineno"> 1434</span>    <span class="comment"># delayed import to reduce startup time</span></div>
<div class="line"><span class="lineno"> 1435</span>    <span class="keyword">from</span> inspect <span class="keyword">import</span> isfunction</div>
<div class="line"><span class="lineno"> 1436</span> </div>
<div class="line"><span class="lineno"> 1437</span>    methods = [_m <span class="keywordflow">for</span> _m <span class="keywordflow">in</span> cls_attr.values() <span class="keywordflow">if</span> isfunction(_m)]</div>
<div class="line"><span class="lineno"> 1438</span>    <span class="keywordflow">for</span> function <span class="keywordflow">in</span> methods:</div>
<div class="line"><span class="lineno"> 1439</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1440</span>            <span class="keywordflow">if</span> hasattr(function, <span class="stringliteral">&#39;compat_func_name&#39;</span>):</div>
<div class="line"><span class="lineno"> 1441</span>                funcname = function.compat_func_name</div>
<div class="line"><span class="lineno"> 1442</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1443</span>                funcname = function.__name__</div>
<div class="line"><span class="lineno"> 1444</span>        <span class="keywordflow">except</span> AttributeError:</div>
<div class="line"><span class="lineno"> 1445</span>            <span class="comment"># not a function</span></div>
<div class="line"><span class="lineno"> 1446</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1447</span>        <span class="keywordflow">if</span> testmatch.search(funcname) <span class="keywordflow">and</span> <span class="keywordflow">not</span> funcname.startswith(<span class="stringliteral">&#39;_&#39;</span>):</div>
<div class="line"><span class="lineno"> 1448</span>            setattr(cls, funcname, decorator(function))</div>
<div class="line"><span class="lineno"> 1449</span>    <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 1450</span> </div>
<div class="line"><span class="lineno"> 1451</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afb7fbcb9bc6c38fbb31bed2ef159357d" name="afb7fbcb9bc6c38fbb31bed2ef159357d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb7fbcb9bc6c38fbb31bed2ef159357d">&#9670;&#160;</a></span>GetPerformanceAttributes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.GetPerformanceAttributes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>object</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>counter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>instance</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>inum</em> = <code>-1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>format</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>machine</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  161</span>                                 inum=-1, format=<span class="keywordtype">None</span>, machine=<span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno">  162</span>        <span class="comment"># NOTE: Many counters require 2 samples to give accurate results,</span></div>
<div class="line"><span class="lineno">  163</span>        <span class="comment"># including &quot;% Processor Time&quot; (as by definition, at any instant, a</span></div>
<div class="line"><span class="lineno">  164</span>        <span class="comment"># thread&#39;s CPU usage is either 0 or 100).  To read counters like this,</span></div>
<div class="line"><span class="lineno">  165</span>        <span class="comment"># you should copy this function, but keep the counter open, and call</span></div>
<div class="line"><span class="lineno">  166</span>        <span class="comment"># CollectQueryData() each time you need to know.</span></div>
<div class="line"><span class="lineno">  167</span>        <span class="comment"># See http://msdn.microsoft.com/library/en-us/dnperfmo/html/perfmonpt2.asp (dead link)</span></div>
<div class="line"><span class="lineno">  168</span>        <span class="comment"># My older explanation for this was that the &quot;AddCounter&quot; process</span></div>
<div class="line"><span class="lineno">  169</span>        <span class="comment"># forced the CPU to 100%, but the above makes more sense :)</span></div>
<div class="line"><span class="lineno">  170</span>        <span class="keyword">import</span> win32pdh</div>
<div class="line"><span class="lineno">  171</span>        <span class="keywordflow">if</span> format <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  172</span>            format = win32pdh.PDH_FMT_LONG</div>
<div class="line"><span class="lineno">  173</span>        path = win32pdh.MakeCounterPath( (machine, object, instance, <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  174</span>                                          inum, counter))</div>
<div class="line"><span class="lineno">  175</span>        hq = win32pdh.OpenQuery()</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  177</span>            hc = win32pdh.AddCounter(hq, path)</div>
<div class="line"><span class="lineno">  178</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  179</span>                win32pdh.CollectQueryData(hq)</div>
<div class="line"><span class="lineno">  180</span>                type, val = win32pdh.GetFormattedCounterValue(hc, format)</div>
<div class="line"><span class="lineno">  181</span>                <span class="keywordflow">return</span> val</div>
<div class="line"><span class="lineno">  182</span>            <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  183</span>                win32pdh.RemoveCounter(hc)</div>
<div class="line"><span class="lineno">  184</span>        <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  185</span>            win32pdh.CloseQuery(hq)</div>
<div class="line"><span class="lineno">  186</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adc981fecbcb6f2ce2e82b4d268a17512" name="adc981fecbcb6f2ce2e82b4d268a17512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc981fecbcb6f2ce2e82b4d268a17512">&#9670;&#160;</a></span>gisfinite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.gisfinite </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">like isfinite, but always raise an error if type not supported instead
of returning a TypeError object.

Notes
-----
isfinite and other ufunc sometimes return a NotImplementedType object
instead of raising any exception. This function is a wrapper to make sure
an exception is always raised.

This should be removed once this problem is solved at the Ufunc level.</pre> <div class="fragment"><div class="line"><span class="lineno">  120</span><span class="keyword">def </span>gisfinite(x):</div>
<div class="line"><span class="lineno">  121</span>    <span class="stringliteral">&quot;&quot;&quot;like isfinite, but always raise an error if type not supported instead</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">    of returning a TypeError object.</span></div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral">    isfinite and other ufunc sometimes return a NotImplementedType object</span></div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">    instead of raising any exception. This function is a wrapper to make sure</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">    an exception is always raised.</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral">    This should be removed once this problem is solved at the Ufunc level.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  131</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1core.html">numpy.core</a> <span class="keyword">import</span> isfinite, errstate</div>
<div class="line"><span class="lineno">  132</span>    <span class="keyword">with</span> errstate(invalid=<span class="stringliteral">&#39;ignore&#39;</span>):</div>
<div class="line"><span class="lineno">  133</span>        st = isfinite(x)</div>
<div class="line"><span class="lineno">  134</span>        <span class="keywordflow">if</span> isinstance(st, type(NotImplemented)):</div>
<div class="line"><span class="lineno">  135</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;isfinite not supported for this type&quot;</span>)</div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordflow">return</span> st</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e30560e6aba3cc9bdd3adf78fcfade1" name="a0e30560e6aba3cc9bdd3adf78fcfade1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e30560e6aba3cc9bdd3adf78fcfade1">&#9670;&#160;</a></span>gisinf()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.gisinf </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">like isinf, but always raise an error if type not supported instead of
returning a TypeError object.

Notes
-----
isinf and other ufunc sometimes return a NotImplementedType object instead
of raising any exception. This function is a wrapper to make sure an
exception is always raised.

This should be removed once this problem is solved at the Ufunc level.</pre> <div class="fragment"><div class="line"><span class="lineno">  139</span><span class="keyword">def </span>gisinf(x):</div>
<div class="line"><span class="lineno">  140</span>    <span class="stringliteral">&quot;&quot;&quot;like isinf, but always raise an error if type not supported instead of</span></div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral">    returning a TypeError object.</span></div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral">    isinf and other ufunc sometimes return a NotImplementedType object instead</span></div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral">    of raising any exception. This function is a wrapper to make sure an</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">    exception is always raised.</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">    This should be removed once this problem is solved at the Ufunc level.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  150</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1core.html">numpy.core</a> <span class="keyword">import</span> isinf, errstate</div>
<div class="line"><span class="lineno">  151</span>    <span class="keyword">with</span> errstate(invalid=<span class="stringliteral">&#39;ignore&#39;</span>):</div>
<div class="line"><span class="lineno">  152</span>        st = isinf(x)</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordflow">if</span> isinstance(st, type(NotImplemented)):</div>
<div class="line"><span class="lineno">  154</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;isinf not supported for this type&quot;</span>)</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">return</span> st</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a42ef85814c41cb14cd8f689028790930" name="a42ef85814c41cb14cd8f689028790930"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ef85814c41cb14cd8f689028790930">&#9670;&#160;</a></span>gisnan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.gisnan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">like isnan, but always raise an error if type not supported instead of
returning a TypeError object.

Notes
-----
isnan and other ufunc sometimes return a NotImplementedType object instead
of raising any exception. This function is a wrapper to make sure an
exception is always raised.

This should be removed once this problem is solved at the Ufunc level.</pre> <div class="fragment"><div class="line"><span class="lineno">  102</span><span class="keyword">def </span>gisnan(x):</div>
<div class="line"><span class="lineno">  103</span>    <span class="stringliteral">&quot;&quot;&quot;like isnan, but always raise an error if type not supported instead of</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">    returning a TypeError object.</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">    isnan and other ufunc sometimes return a NotImplementedType object instead</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    of raising any exception. This function is a wrapper to make sure an</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">    exception is always raised.</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">    This should be removed once this problem is solved at the Ufunc level.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  113</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1core.html">numpy.core</a> <span class="keyword">import</span> isnan</div>
<div class="line"><span class="lineno">  114</span>    st = isnan(x)</div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">if</span> isinstance(st, type(NotImplemented)):</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;isnan not supported for this type&quot;</span>)</div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">return</span> st</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ea8e92bb1acd8b1cb920ff7050f137c" name="a8ea8e92bb1acd8b1cb920ff7050f137c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ea8e92bb1acd8b1cb920ff7050f137c">&#9670;&#160;</a></span>import_nose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.import_nose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment"> Import nose only when needed.
</pre> <div class="fragment"><div class="line"><span class="lineno">   60</span><span class="keyword">def </span>import_nose():</div>
<div class="line"><span class="lineno">   61</span>    <span class="stringliteral">&quot;&quot;&quot; Import nose only when needed.</span></div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   63</span>    nose_is_good = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   64</span>    minimum_nose_version = (1, 0, 0)</div>
<div class="line"><span class="lineno">   65</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   66</span>        <span class="keyword">import</span> nose</div>
<div class="line"><span class="lineno">   67</span>    <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno">   68</span>        nose_is_good = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   70</span>        <span class="keywordflow">if</span> nose.__versioninfo__ &lt; minimum_nose_version:</div>
<div class="line"><span class="lineno">   71</span>            nose_is_good = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> nose_is_good:</div>
<div class="line"><span class="lineno">   74</span>        msg = (<span class="stringliteral">&#39;Need nose &gt;= %d.%d.%d for tests - see &#39;</span></div>
<div class="line"><span class="lineno">   75</span>               <span class="stringliteral">&#39;https://nose.readthedocs.io&#39;</span> %</div>
<div class="line"><span class="lineno">   76</span>               minimum_nose_version)</div>
<div class="line"><span class="lineno">   77</span>        <span class="keywordflow">raise</span> ImportError(msg)</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">return</span> nose</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab746e9af2472eb292483a33f750dedb8" name="ab746e9af2472eb292483a33f750dedb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab746e9af2472eb292483a33f750dedb8">&#9670;&#160;</a></span>integer_repr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.integer_repr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return the signed-magnitude interpretation of the binary representation
of x.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1787</span><span class="keyword">def </span>integer_repr(x):</div>
<div class="line"><span class="lineno"> 1788</span>    <span class="stringliteral">&quot;&quot;&quot;Return the signed-magnitude interpretation of the binary representation</span></div>
<div class="line"><span class="lineno"> 1789</span><span class="stringliteral">    of x.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1790</span>    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="lineno"> 1791</span>    <span class="keywordflow">if</span> x.dtype == np.float16:</div>
<div class="line"><span class="lineno"> 1792</span>        <span class="keywordflow">return</span> _integer_repr(x, np.int16, np.int16(-2**15))</div>
<div class="line"><span class="lineno"> 1793</span>    <span class="keywordflow">elif</span> x.dtype == np.float32:</div>
<div class="line"><span class="lineno"> 1794</span>        <span class="keywordflow">return</span> _integer_repr(x, np.int32, np.int32(-2**31))</div>
<div class="line"><span class="lineno"> 1795</span>    <span class="keywordflow">elif</span> x.dtype == np.float64:</div>
<div class="line"><span class="lineno"> 1796</span>        <span class="keywordflow">return</span> _integer_repr(x, np.int64, np.int64(-2**63))</div>
<div class="line"><span class="lineno"> 1797</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1798</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&#39;Unsupported dtype {x.dtype}&#39;</span>)</div>
<div class="line"><span class="lineno"> 1799</span> </div>
<div class="line"><span class="lineno"> 1800</span> </div>
<div class="line"><span class="lineno"> 1801</span><span class="preprocessor">@contextlib.contextmanager</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf8585c49ced121ee3f42954d15b9490" name="abf8585c49ced121ee3f42954d15b9490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf8585c49ced121ee3f42954d15b9490">&#9670;&#160;</a></span>jiffies() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.jiffies </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_load_time</em> = <code>[]</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return number of jiffies elapsed.

Return number of jiffies (1/100ths of a second) that this
process has been scheduled in user mode. See man 5 proc.</pre> <div class="fragment"><div class="line"><span class="lineno">  237</span>    <span class="keyword">def </span>jiffies(_load_time=[]):</div>
<div class="line"><span class="lineno">  238</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral">        Return number of jiffies elapsed.</span></div>
<div class="line"><span class="lineno">  240</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  241</span><span class="stringliteral">        Return number of jiffies (1/100ths of a second) that this</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral">        process has been scheduled in user mode. See man 5 proc.</span></div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  245</span>        <span class="keyword">import</span> time</div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> _load_time:</div>
<div class="line"><span class="lineno">  247</span>            _load_time.append(time.time())</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">return</span> int(100*(time.time()-_load_time[0]))</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3dd5f107fede087efca734d21250bfa9" name="a3dd5f107fede087efca734d21250bfa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3dd5f107fede087efca734d21250bfa9">&#9670;&#160;</a></span>jiffies() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.jiffies </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_proc_pid_stat</em> = <code><a class="el" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>'/proc/{os.getpid()}/stat'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_load_time</em> = <code>[]</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return number of jiffies elapsed.

Return number of jiffies (1/100ths of a second) that this
process has been scheduled in user mode. See man 5 proc.</pre> <div class="fragment"><div class="line"><span class="lineno">  216</span>    <span class="keyword">def </span>jiffies(_proc_pid_stat=f&#39;/proc/{os.getpid()}/stat<span class="stringliteral">&#39;, _load_time=[]):</span></div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  218</span><span class="stringliteral">        Return number of jiffies elapsed.</span></div>
<div class="line"><span class="lineno">  219</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral">        Return number of jiffies (1/100ths of a second) that this</span></div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">        process has been scheduled in user mode. See man 5 proc.</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  224</span>        <span class="keyword">import</span> time</div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> _load_time:</div>
<div class="line"><span class="lineno">  226</span>            _load_time.append(time.time())</div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  228</span>            <span class="keyword">with</span> open(_proc_pid_stat, <span class="stringliteral">&#39;r&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  229</span>                l = f.readline().split(<span class="stringliteral">&#39; &#39;</span>)</div>
<div class="line"><span class="lineno">  230</span>            <span class="keywordflow">return</span> int(l[13])</div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  232</span>            <span class="keywordflow">return</span> int(100*(time.time()-_load_time[0]))</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae8c7e4e08f615746b697a7b0f032ce6b" name="ae8c7e4e08f615746b697a7b0f032ce6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8c7e4e08f615746b697a7b0f032ce6b">&#9670;&#160;</a></span>measure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.measure </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>code_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>times</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>label</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return elapsed time for executing code in the namespace of the caller.

The supplied code string is compiled with the Python builtin ``compile``.
The precision of the timing is 10 milli-seconds. If the code will execute
fast on this timescale, it can be executed many times to get reasonable
timing accuracy.

Parameters
----------
code_str : str
    The code to be timed.
times : int, optional
    The number of times the code is executed. Default is 1. The code is
    only compiled once.
label : str, optional
    A label to identify `code_str` with. This is passed into ``compile``
    as the second argument (for run-time error messages).

Returns
-------
elapsed : float
    Total elapsed time in seconds for executing `code_str` `times` times.

Examples
--------
&gt;&gt;&gt; times = 10
&gt;&gt;&gt; etime = np.testing.measure('for i in range(1000): np.sqrt(i**2)', times=times)
&gt;&gt;&gt; print("Time for a single execution : ", etime / times, "s")  # doctest: +SKIP
Time for a single execution :  0.005 s</pre> <div class="fragment"><div class="line"><span class="lineno"> 1452</span><span class="keyword">def </span>measure(code_str, times=1, label=None):</div>
<div class="line"><span class="lineno"> 1453</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1454</span><span class="stringliteral">    Return elapsed time for executing code in the namespace of the caller.</span></div>
<div class="line"><span class="lineno"> 1455</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1456</span><span class="stringliteral">    The supplied code string is compiled with the Python builtin ``compile``.</span></div>
<div class="line"><span class="lineno"> 1457</span><span class="stringliteral">    The precision of the timing is 10 milli-seconds. If the code will execute</span></div>
<div class="line"><span class="lineno"> 1458</span><span class="stringliteral">    fast on this timescale, it can be executed many times to get reasonable</span></div>
<div class="line"><span class="lineno"> 1459</span><span class="stringliteral">    timing accuracy.</span></div>
<div class="line"><span class="lineno"> 1460</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1461</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1462</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1463</span><span class="stringliteral">    code_str : str</span></div>
<div class="line"><span class="lineno"> 1464</span><span class="stringliteral">        The code to be timed.</span></div>
<div class="line"><span class="lineno"> 1465</span><span class="stringliteral">    times : int, optional</span></div>
<div class="line"><span class="lineno"> 1466</span><span class="stringliteral">        The number of times the code is executed. Default is 1. The code is</span></div>
<div class="line"><span class="lineno"> 1467</span><span class="stringliteral">        only compiled once.</span></div>
<div class="line"><span class="lineno"> 1468</span><span class="stringliteral">    label : str, optional</span></div>
<div class="line"><span class="lineno"> 1469</span><span class="stringliteral">        A label to identify `code_str` with. This is passed into ``compile``</span></div>
<div class="line"><span class="lineno"> 1470</span><span class="stringliteral">        as the second argument (for run-time error messages).</span></div>
<div class="line"><span class="lineno"> 1471</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1472</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1473</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1474</span><span class="stringliteral">    elapsed : float</span></div>
<div class="line"><span class="lineno"> 1475</span><span class="stringliteral">        Total elapsed time in seconds for executing `code_str` `times` times.</span></div>
<div class="line"><span class="lineno"> 1476</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1477</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1478</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1479</span><span class="stringliteral">    &gt;&gt;&gt; times = 10</span></div>
<div class="line"><span class="lineno"> 1480</span><span class="stringliteral">    &gt;&gt;&gt; etime = np.testing.measure(&#39;for i in range(1000): np.sqrt(i**2)&#39;, times=times)</span></div>
<div class="line"><span class="lineno"> 1481</span><span class="stringliteral">    &gt;&gt;&gt; print(&quot;Time for a single execution : &quot;, etime / times, &quot;s&quot;)  # doctest: +SKIP</span></div>
<div class="line"><span class="lineno"> 1482</span><span class="stringliteral">    Time for a single execution :  0.005 s</span></div>
<div class="line"><span class="lineno"> 1483</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1484</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1485</span>    frame = sys._getframe(1)</div>
<div class="line"><span class="lineno"> 1486</span>    locs, globs = frame.f_locals, frame.f_globals</div>
<div class="line"><span class="lineno"> 1487</span> </div>
<div class="line"><span class="lineno"> 1488</span>    code = compile(code_str, f<span class="stringliteral">&#39;Test name: {label} &#39;</span>, <span class="stringliteral">&#39;exec&#39;</span>)</div>
<div class="line"><span class="lineno"> 1489</span>    i = 0</div>
<div class="line"><span class="lineno"> 1490</span>    elapsed = jiffies()</div>
<div class="line"><span class="lineno"> 1491</span>    <span class="keywordflow">while</span> i &lt; times:</div>
<div class="line"><span class="lineno"> 1492</span>        i += 1</div>
<div class="line"><span class="lineno"> 1493</span>        exec(code, globs, locs)</div>
<div class="line"><span class="lineno"> 1494</span>    elapsed = jiffies() - elapsed</div>
<div class="line"><span class="lineno"> 1495</span>    <span class="keywordflow">return</span> 0.01*elapsed</div>
<div class="line"><span class="lineno"> 1496</span> </div>
<div class="line"><span class="lineno"> 1497</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7cdbf4b956c228ed4f3f9c76f1e9a501" name="a7cdbf4b956c228ed4f3f9c76f1e9a501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cdbf4b956c228ed4f3f9c76f1e9a501">&#9670;&#160;</a></span>memusage() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.memusage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return memory usage of running python. [Not implemented]</pre> <div class="fragment"><div class="line"><span class="lineno">  207</span>    <span class="keyword">def </span>memusage():</div>
<div class="line"><span class="lineno">  208</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral">        Return memory usage of running python. [Not implemented]</span></div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  212</span>        <span class="keywordflow">raise</span> NotImplementedError</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6be5fc88d2acbfae58c715b2814fa6c4" name="a6be5fc88d2acbfae58c715b2814fa6c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6be5fc88d2acbfae58c715b2814fa6c4">&#9670;&#160;</a></span>memusage() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.memusage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>_proc_pid_stat</em> = <code><a class="el" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>'/proc/{os.getpid()}/stat'</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return virtual memory size in bytes of the running python.</pre> <div class="fragment"><div class="line"><span class="lineno">  195</span>    <span class="keyword">def </span>memusage(_proc_pid_stat=f&#39;/proc/{os.getpid()}/stat<span class="stringliteral">&#39;):</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral">        Return virtual memory size in bytes of the running python.</span></div>
<div class="line"><span class="lineno">  198</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  199</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  201</span>            <span class="keyword">with</span> open(_proc_pid_stat, <span class="stringliteral">&#39;r&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  202</span>                l = f.readline().split(<span class="stringliteral">&#39; &#39;</span>)</div>
<div class="line"><span class="lineno">  203</span>            <span class="keywordflow">return</span> int(l[22])</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  205</span>            <span class="keywordflow">return</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a122740d7559185d6e3e97c51058bf7eb" name="a122740d7559185d6e3e97c51058bf7eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a122740d7559185d6e3e97c51058bf7eb">&#9670;&#160;</a></span>memusage() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.memusage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>processName</em> = <code>&quot;python&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>instance</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  187</span>    <span class="keyword">def </span>memusage(processName=&quot;python&quot;, instance=0):</div>
<div class="line"><span class="lineno">  188</span>        <span class="comment"># from win32pdhutil, part of the win32all package</span></div>
<div class="line"><span class="lineno">  189</span>        <span class="keyword">import</span> win32pdh</div>
<div class="line"><span class="lineno">  190</span>        <span class="keywordflow">return</span> GetPerformanceAttributes(<span class="stringliteral">&quot;Process&quot;</span>, <span class="stringliteral">&quot;Virtual Bytes&quot;</span>,</div>
<div class="line"><span class="lineno">  191</span>                                        processName, instance,</div>
<div class="line"><span class="lineno">  192</span>                                        win32pdh.PDH_FMT_LONG, <span class="keywordtype">None</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a91b9cfceac3de718823391f01b4e187e" name="a91b9cfceac3de718823391f01b4e187e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91b9cfceac3de718823391f01b4e187e">&#9670;&#160;</a></span>nulp_diff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.nulp_diff </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">For each item in x and y, return the number of representable floating
points between them.

Parameters
----------
x : array_like
    first input array
y : array_like
    second input array
dtype : dtype, optional
    Data-type to convert `x` and `y` to if given. Default is None.

Returns
-------
nulp : array_like
    number of representable floating point numbers between each item in x
    and y.

Notes
-----
For computing the ULP difference, this API does not differentiate between
various representations of NAN (ULP difference between 0x7fc00000 and 0xffc00000
is zero).

Examples
--------
# By definition, epsilon is the smallest number such as 1 + eps != 1, so
# there should be exactly one ULP between 1 and 1 + eps
&gt;&gt;&gt; nulp_diff(1, 1 + np.finfo(x.dtype).eps)
1.0
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1709</span><span class="keyword">def </span>nulp_diff(x, y, dtype=None):</div>
<div class="line"><span class="lineno"> 1710</span>    <span class="stringliteral">&quot;&quot;&quot;For each item in x and y, return the number of representable floating</span></div>
<div class="line"><span class="lineno"> 1711</span><span class="stringliteral">    points between them.</span></div>
<div class="line"><span class="lineno"> 1712</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1713</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1714</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1715</span><span class="stringliteral">    x : array_like</span></div>
<div class="line"><span class="lineno"> 1716</span><span class="stringliteral">        first input array</span></div>
<div class="line"><span class="lineno"> 1717</span><span class="stringliteral">    y : array_like</span></div>
<div class="line"><span class="lineno"> 1718</span><span class="stringliteral">        second input array</span></div>
<div class="line"><span class="lineno"> 1719</span><span class="stringliteral">    dtype : dtype, optional</span></div>
<div class="line"><span class="lineno"> 1720</span><span class="stringliteral">        Data-type to convert `x` and `y` to if given. Default is None.</span></div>
<div class="line"><span class="lineno"> 1721</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1722</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 1723</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 1724</span><span class="stringliteral">    nulp : array_like</span></div>
<div class="line"><span class="lineno"> 1725</span><span class="stringliteral">        number of representable floating point numbers between each item in x</span></div>
<div class="line"><span class="lineno"> 1726</span><span class="stringliteral">        and y.</span></div>
<div class="line"><span class="lineno"> 1727</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1728</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 1729</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno"> 1730</span><span class="stringliteral">    For computing the ULP difference, this API does not differentiate between</span></div>
<div class="line"><span class="lineno"> 1731</span><span class="stringliteral">    various representations of NAN (ULP difference between 0x7fc00000 and 0xffc00000</span></div>
<div class="line"><span class="lineno"> 1732</span><span class="stringliteral">    is zero).</span></div>
<div class="line"><span class="lineno"> 1733</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1734</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1735</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1736</span><span class="stringliteral">    # By definition, epsilon is the smallest number such as 1 + eps != 1, so</span></div>
<div class="line"><span class="lineno"> 1737</span><span class="stringliteral">    # there should be exactly one ULP between 1 and 1 + eps</span></div>
<div class="line"><span class="lineno"> 1738</span><span class="stringliteral">    &gt;&gt;&gt; nulp_diff(1, 1 + np.finfo(x.dtype).eps)</span></div>
<div class="line"><span class="lineno"> 1739</span><span class="stringliteral">    1.0</span></div>
<div class="line"><span class="lineno"> 1740</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1741</span>    <span class="keyword">import</span> numpy <span class="keyword">as</span> np</div>
<div class="line"><span class="lineno"> 1742</span>    <span class="keywordflow">if</span> dtype:</div>
<div class="line"><span class="lineno"> 1743</span>        x = np.asarray(x, dtype=dtype)</div>
<div class="line"><span class="lineno"> 1744</span>        y = np.asarray(y, dtype=dtype)</div>
<div class="line"><span class="lineno"> 1745</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1746</span>        x = np.asarray(x)</div>
<div class="line"><span class="lineno"> 1747</span>        y = np.asarray(y)</div>
<div class="line"><span class="lineno"> 1748</span> </div>
<div class="line"><span class="lineno"> 1749</span>    t = np.common_type(x, y)</div>
<div class="line"><span class="lineno"> 1750</span>    <span class="keywordflow">if</span> np.iscomplexobj(x) <span class="keywordflow">or</span> np.iscomplexobj(y):</div>
<div class="line"><span class="lineno"> 1751</span>        <span class="keywordflow">raise</span> NotImplementedError(<span class="stringliteral">&quot;_nulp not implemented for complex array&quot;</span>)</div>
<div class="line"><span class="lineno"> 1752</span> </div>
<div class="line"><span class="lineno"> 1753</span>    x = np.array([x], dtype=t)</div>
<div class="line"><span class="lineno"> 1754</span>    y = np.array([y], dtype=t)</div>
<div class="line"><span class="lineno"> 1755</span> </div>
<div class="line"><span class="lineno"> 1756</span>    x[np.isnan(x)] = np.nan</div>
<div class="line"><span class="lineno"> 1757</span>    y[np.isnan(y)] = np.nan</div>
<div class="line"><span class="lineno"> 1758</span> </div>
<div class="line"><span class="lineno"> 1759</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> x.shape == y.shape:</div>
<div class="line"><span class="lineno"> 1760</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;x and y do not have the same shape: %s - %s&quot;</span> %</div>
<div class="line"><span class="lineno"> 1761</span>                         (x.shape, y.shape))</div>
<div class="line"><span class="lineno"> 1762</span> </div>
<div class="line"><span class="lineno"> 1763</span>    <span class="keyword">def </span>_diff(rx, ry, vdt):</div>
<div class="line"><span class="lineno"> 1764</span>        diff = np.asarray(rx-ry, dtype=vdt)</div>
<div class="line"><span class="lineno"> 1765</span>        <span class="keywordflow">return</span> np.abs(diff)</div>
<div class="line"><span class="lineno"> 1766</span> </div>
<div class="line"><span class="lineno"> 1767</span>    rx = integer_repr(x)</div>
<div class="line"><span class="lineno"> 1768</span>    ry = integer_repr(y)</div>
<div class="line"><span class="lineno"> 1769</span>    <span class="keywordflow">return</span> _diff(rx, ry, t)</div>
<div class="line"><span class="lineno"> 1770</span> </div>
<div class="line"><span class="lineno"> 1771</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a77b2d66ebe066f5e0f11d1d66c54080f" name="a77b2d66ebe066f5e0f11d1d66c54080f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77b2d66ebe066f5e0f11d1d66c54080f">&#9670;&#160;</a></span>print_assert_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.print_assert_equal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>test_string</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>desired</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test if two objects are equal, and print an error message if test fails.

The test is performed with ``actual == desired``.

Parameters
----------
test_string : str
    The message supplied to AssertionError.
actual : object
    The object to test for equality against `desired`.
desired : object
    The expected result.

Examples
--------
&gt;&gt;&gt; np.testing.print_assert_equal('Test XYZ of func xyz', [0, 1], [0, 1])
&gt;&gt;&gt; np.testing.print_assert_equal('Test XYZ of func xyz', [0, 1], [0, 2])
Traceback (most recent call last):
...
AssertionError: Test XYZ of func xyz failed
ACTUAL:
[0, 1]
DESIRED:
[0, 2]</pre> <div class="fragment"><div class="line"><span class="lineno">  439</span><span class="keyword">def </span>print_assert_equal(test_string, actual, desired):</div>
<div class="line"><span class="lineno">  440</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral">    Test if two objects are equal, and print an error message if test fails.</span></div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral">    The test is performed with ``actual == desired``.</span></div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">    test_string : str</span></div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">        The message supplied to AssertionError.</span></div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral">    actual : object</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">        The object to test for equality against `desired`.</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">    desired : object</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">        The expected result.</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.print_assert_equal(&#39;Test XYZ of func xyz&#39;, [0, 1], [0, 1])</span></div>
<div class="line"><span class="lineno">  457</span><span class="stringliteral">    &gt;&gt;&gt; np.testing.print_assert_equal(&#39;Test XYZ of func xyz&#39;, [0, 1], [0, 2])</span></div>
<div class="line"><span class="lineno">  458</span><span class="stringliteral">    Traceback (most recent call last):</span></div>
<div class="line"><span class="lineno">  459</span><span class="stringliteral">    ...</span></div>
<div class="line"><span class="lineno">  460</span><span class="stringliteral">    AssertionError: Test XYZ of func xyz failed</span></div>
<div class="line"><span class="lineno">  461</span><span class="stringliteral">    ACTUAL:</span></div>
<div class="line"><span class="lineno">  462</span><span class="stringliteral">    [0, 1]</span></div>
<div class="line"><span class="lineno">  463</span><span class="stringliteral">    DESIRED:</span></div>
<div class="line"><span class="lineno">  464</span><span class="stringliteral">    [0, 2]</span></div>
<div class="line"><span class="lineno">  465</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  466</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  467</span>    __tracebackhide__ = <span class="keyword">True</span>  <span class="comment"># Hide traceback for py.test</span></div>
<div class="line"><span class="lineno">  468</span>    <span class="keyword">import</span> pprint</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> (actual == desired):</div>
<div class="line"><span class="lineno">  471</span>        msg = StringIO()</div>
<div class="line"><span class="lineno">  472</span>        msg.write(test_string)</div>
<div class="line"><span class="lineno">  473</span>        msg.write(<span class="stringliteral">&#39; failed\nACTUAL: \n&#39;</span>)</div>
<div class="line"><span class="lineno">  474</span>        pprint.pprint(actual, msg)</div>
<div class="line"><span class="lineno">  475</span>        msg.write(<span class="stringliteral">&#39;DESIRED: \n&#39;</span>)</div>
<div class="line"><span class="lineno">  476</span>        pprint.pprint(desired, msg)</div>
<div class="line"><span class="lineno">  477</span>        <span class="keywordflow">raise</span> AssertionError(msg.getvalue())</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span><span class="preprocessor">@np._no_nep50_warning()</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a41f2c0cfb959b95ab970e4a650877099" name="a41f2c0cfb959b95ab970e4a650877099"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41f2c0cfb959b95ab970e4a650877099">&#9670;&#160;</a></span>raises()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.raises </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Decorator to check for raised exceptions.

The decorated test function must raise one of the passed exceptions to
pass.  If you want to test many assertions about exceptions in a single
test, you may want to use `assert_raises` instead.

.. warning::
   This decorator is nose specific, do not use it if you are using a
   different test framework.

Parameters
----------
args : exceptions
    The test passes if any of the passed exceptions is raised.

Raises
------
AssertionError

Examples
--------

Usage::

    @raises(TypeError, ValueError)
    def test_raises_type_error():
        raise TypeError("This test passes")

    @raises(Exception)
    def test_that_fails_by_passing():
        pass</pre> <div class="fragment"><div class="line"><span class="lineno"> 1306</span><span class="keyword">def </span>raises(*args):</div>
<div class="line"><span class="lineno"> 1307</span>    <span class="stringliteral">&quot;&quot;&quot;Decorator to check for raised exceptions.</span></div>
<div class="line"><span class="lineno"> 1308</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1309</span><span class="stringliteral">    The decorated test function must raise one of the passed exceptions to</span></div>
<div class="line"><span class="lineno"> 1310</span><span class="stringliteral">    pass.  If you want to test many assertions about exceptions in a single</span></div>
<div class="line"><span class="lineno"> 1311</span><span class="stringliteral">    test, you may want to use `assert_raises` instead.</span></div>
<div class="line"><span class="lineno"> 1312</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1313</span><span class="stringliteral">    .. warning::</span></div>
<div class="line"><span class="lineno"> 1314</span><span class="stringliteral">       This decorator is nose specific, do not use it if you are using a</span></div>
<div class="line"><span class="lineno"> 1315</span><span class="stringliteral">       different test framework.</span></div>
<div class="line"><span class="lineno"> 1316</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1317</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1318</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1319</span><span class="stringliteral">    args : exceptions</span></div>
<div class="line"><span class="lineno"> 1320</span><span class="stringliteral">        The test passes if any of the passed exceptions is raised.</span></div>
<div class="line"><span class="lineno"> 1321</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1322</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 1323</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 1324</span><span class="stringliteral">    AssertionError</span></div>
<div class="line"><span class="lineno"> 1325</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1326</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno"> 1327</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno"> 1328</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1329</span><span class="stringliteral">    Usage::</span></div>
<div class="line"><span class="lineno"> 1330</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1331</span><span class="stringliteral">        @raises(TypeError, ValueError)</span></div>
<div class="line"><span class="lineno"> 1332</span><span class="stringliteral">        def test_raises_type_error():</span></div>
<div class="line"><span class="lineno"> 1333</span><span class="stringliteral">            raise TypeError(&quot;This test passes&quot;)</span></div>
<div class="line"><span class="lineno"> 1334</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1335</span><span class="stringliteral">        @raises(Exception)</span></div>
<div class="line"><span class="lineno"> 1336</span><span class="stringliteral">        def test_that_fails_by_passing():</span></div>
<div class="line"><span class="lineno"> 1337</span><span class="stringliteral">            pass</span></div>
<div class="line"><span class="lineno"> 1338</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1339</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1340</span>    nose = import_nose()</div>
<div class="line"><span class="lineno"> 1341</span>    <span class="keywordflow">return</span> nose.tools.raises(*args)</div>
<div class="line"><span class="lineno"> 1342</span> </div>
<div class="line"><span class="lineno"> 1343</span><span class="comment">#</span></div>
<div class="line"><span class="lineno"> 1344</span><span class="comment"># assert_raises and assert_raises_regex are taken from unittest.</span></div>
<div class="line"><span class="lineno"> 1345</span><span class="comment">#</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c91aca24ff221b6feb7f65bf66cca94" name="a0c91aca24ff221b6feb7f65bf66cca94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c91aca24ff221b6feb7f65bf66cca94">&#9670;&#160;</a></span>requires_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.requires_memory </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>free_bytes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Decorator to skip a test if not enough memory is available</pre> <div class="fragment"><div class="line"><span class="lineno"> 2472</span><span class="keyword">def </span>requires_memory(free_bytes):</div>
<div class="line"><span class="lineno"> 2473</span>    <span class="stringliteral">&quot;&quot;&quot;Decorator to skip a test if not enough memory is available&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2474</span>    <span class="keyword">import</span> pytest</div>
<div class="line"><span class="lineno"> 2475</span> </div>
<div class="line"><span class="lineno"> 2476</span>    <span class="keyword">def </span>decorator(func):</div>
<div class="line"><span class="lineno"> 2477</span>        <span class="preprocessor">@wraps(func)</span></div>
<div class="line"><span class="lineno"> 2478</span>        <span class="keyword">def </span>wrapper(*a, **kw):</div>
<div class="line"><span class="lineno"> 2479</span>            msg = check_free_memory(free_bytes)</div>
<div class="line"><span class="lineno"> 2480</span>            <span class="keywordflow">if</span> msg <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2481</span>                pytest.skip(msg)</div>
<div class="line"><span class="lineno"> 2482</span> </div>
<div class="line"><span class="lineno"> 2483</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2484</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(*a, **kw)</div>
<div class="line"><span class="lineno"> 2485</span>            <span class="keywordflow">except</span> MemoryError:</div>
<div class="line"><span class="lineno"> 2486</span>                <span class="comment"># Probably ran out of memory regardless: don&#39;t regard as failure</span></div>
<div class="line"><span class="lineno"> 2487</span>                pytest.xfail(<span class="stringliteral">&quot;MemoryError raised&quot;</span>)</div>
<div class="line"><span class="lineno"> 2488</span> </div>
<div class="line"><span class="lineno"> 2489</span>        <span class="keywordflow">return</span> wrapper</div>
<div class="line"><span class="lineno"> 2490</span> </div>
<div class="line"><span class="lineno"> 2491</span>    <span class="keywordflow">return</span> decorator</div>
<div class="line"><span class="lineno"> 2492</span> </div>
<div class="line"><span class="lineno"> 2493</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a15894cd9904e887fe34ff51363fccbe2" name="a15894cd9904e887fe34ff51363fccbe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15894cd9904e887fe34ff51363fccbe2">&#9670;&#160;</a></span>rundocs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.rundocs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>raise_on_error</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Run doctests found in the given file.

By default `rundocs` raises an AssertionError on failure.

Parameters
----------
filename : str
    The path to the file for which the doctests are run.
raise_on_error : bool
    Whether to raise an AssertionError when a doctest fails. Default is
    True.

Notes
-----
The doctests can be run by the user/developer by adding the ``doctests``
argument to the ``test()`` call. For example, to run all tests (including
doctests) for `numpy.lib`:

&gt;&gt;&gt; np.lib.test(doctests=True)  # doctest: +SKIP
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1260</span><span class="keyword">def </span>rundocs(filename=None, raise_on_error=True):</div>
<div class="line"><span class="lineno"> 1261</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1262</span><span class="stringliteral">    Run doctests found in the given file.</span></div>
<div class="line"><span class="lineno"> 1263</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1264</span><span class="stringliteral">    By default `rundocs` raises an AssertionError on failure.</span></div>
<div class="line"><span class="lineno"> 1265</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1266</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1267</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1268</span><span class="stringliteral">    filename : str</span></div>
<div class="line"><span class="lineno"> 1269</span><span class="stringliteral">        The path to the file for which the doctests are run.</span></div>
<div class="line"><span class="lineno"> 1270</span><span class="stringliteral">    raise_on_error : bool</span></div>
<div class="line"><span class="lineno"> 1271</span><span class="stringliteral">        Whether to raise an AssertionError when a doctest fails. Default is</span></div>
<div class="line"><span class="lineno"> 1272</span><span class="stringliteral">        True.</span></div>
<div class="line"><span class="lineno"> 1273</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1274</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 1275</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno"> 1276</span><span class="stringliteral">    The doctests can be run by the user/developer by adding the ``doctests``</span></div>
<div class="line"><span class="lineno"> 1277</span><span class="stringliteral">    argument to the ``test()`` call. For example, to run all tests (including</span></div>
<div class="line"><span class="lineno"> 1278</span><span class="stringliteral">    doctests) for `numpy.lib`:</span></div>
<div class="line"><span class="lineno"> 1279</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1280</span><span class="stringliteral">    &gt;&gt;&gt; np.lib.test(doctests=True)  # doctest: +SKIP</span></div>
<div class="line"><span class="lineno"> 1281</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1282</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacenumpy_1_1distutils_1_1misc__util.html">numpy.distutils.misc_util</a> <span class="keyword">import</span> exec_mod_from_location</div>
<div class="line"><span class="lineno"> 1283</span>    <span class="keyword">import</span> doctest</div>
<div class="line"><span class="lineno"> 1284</span>    <span class="keywordflow">if</span> filename <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1285</span>        f = sys._getframe(1)</div>
<div class="line"><span class="lineno"> 1286</span>        filename = f.f_globals[<span class="stringliteral">&#39;__file__&#39;</span>]</div>
<div class="line"><span class="lineno"> 1287</span>    name = os.path.splitext(os.path.basename(filename))[0]</div>
<div class="line"><span class="lineno"> 1288</span>    m = exec_mod_from_location(name, filename)</div>
<div class="line"><span class="lineno"> 1289</span> </div>
<div class="line"><span class="lineno"> 1290</span>    tests = doctest.DocTestFinder().find(m)</div>
<div class="line"><span class="lineno"> 1291</span>    runner = doctest.DocTestRunner(verbose=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1292</span> </div>
<div class="line"><span class="lineno"> 1293</span>    msg = []</div>
<div class="line"><span class="lineno"> 1294</span>    <span class="keywordflow">if</span> raise_on_error:</div>
<div class="line"><span class="lineno"> 1295</span>        out = <span class="keyword">lambda</span> s: msg.append(s)</div>
<div class="line"><span class="lineno"> 1296</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1297</span>        out = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1298</span> </div>
<div class="line"><span class="lineno"> 1299</span>    <span class="keywordflow">for</span> test <span class="keywordflow">in</span> tests:</div>
<div class="line"><span class="lineno"> 1300</span>        runner.run(test, out=out)</div>
<div class="line"><span class="lineno"> 1301</span> </div>
<div class="line"><span class="lineno"> 1302</span>    <span class="keywordflow">if</span> runner.failures &gt; 0 <span class="keywordflow">and</span> raise_on_error:</div>
<div class="line"><span class="lineno"> 1303</span>        <span class="keywordflow">raise</span> AssertionError(<span class="stringliteral">&quot;Some doctests failed:\n%s&quot;</span> % <span class="stringliteral">&quot;\n&quot;</span>.join(msg))</div>
<div class="line"><span class="lineno"> 1304</span> </div>
<div class="line"><span class="lineno"> 1305</span> </div>
<div class="ttc" id="anamespacenumpy_1_1distutils_1_1misc__util_html"><div class="ttname"><a href="namespacenumpy_1_1distutils_1_1misc__util.html">numpy.distutils.misc_util</a></div><div class="ttdef"><b>Definition</b> misc_util.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b93ef0e18653142d51efe2b50bbaa87" name="a2b93ef0e18653142d51efe2b50bbaa87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b93ef0e18653142d51efe2b50bbaa87">&#9670;&#160;</a></span>runstring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.runstring </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>astr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1185</span><span class="keyword">def </span>runstring(astr, dict):</div>
<div class="line"><span class="lineno"> 1186</span>    exec(astr, dict)</div>
<div class="line"><span class="lineno"> 1187</span> </div>
<div class="line"><span class="lineno"> 1188</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aca687197d35855f9f92af0869dbaccb4" name="aca687197d35855f9f92af0869dbaccb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca687197d35855f9f92af0869dbaccb4">&#9670;&#160;</a></span>tempdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.tempdir </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Context manager to provide a temporary test folder.

All arguments are passed as this to the underlying tempfile.mkdtemp
function.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1988</span><span class="keyword">def </span>tempdir(*args, **kwargs):</div>
<div class="line"><span class="lineno"> 1989</span>    <span class="stringliteral">&quot;&quot;&quot;Context manager to provide a temporary test folder.</span></div>
<div class="line"><span class="lineno"> 1990</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1991</span><span class="stringliteral">    All arguments are passed as this to the underlying tempfile.mkdtemp</span></div>
<div class="line"><span class="lineno"> 1992</span><span class="stringliteral">    function.</span></div>
<div class="line"><span class="lineno"> 1993</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1994</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1995</span>    tmpdir = mkdtemp(*args, **kwargs)</div>
<div class="line"><span class="lineno"> 1996</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1997</span>        <span class="keywordflow">yield</span> tmpdir</div>
<div class="line"><span class="lineno"> 1998</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno"> 1999</span>        shutil.rmtree(tmpdir)</div>
<div class="line"><span class="lineno"> 2000</span> </div>
<div class="line"><span class="lineno"> 2001</span> </div>
<div class="line"><span class="lineno"> 2002</span><span class="preprocessor">@contextlib.contextmanager</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a50c0b297ff2f68ff553136f2937eddf6" name="a50c0b297ff2f68ff553136f2937eddf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50c0b297ff2f68ff553136f2937eddf6">&#9670;&#160;</a></span>temppath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.temppath </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Context manager for temporary files.

Context manager that returns the path to a closed temporary file. Its
parameters are the same as for tempfile.mkstemp and are passed directly
to that function. The underlying file is removed when the context is
exited, so it should be closed at that time.

Windows does not allow a temporary file to be opened if it is already
open, so the underlying file must be closed after opening before it
can be opened again.</pre> <div class="fragment"><div class="line"><span class="lineno"> 2003</span><span class="keyword">def </span>temppath(*args, **kwargs):</div>
<div class="line"><span class="lineno"> 2004</span>    <span class="stringliteral">&quot;&quot;&quot;Context manager for temporary files.</span></div>
<div class="line"><span class="lineno"> 2005</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2006</span><span class="stringliteral">    Context manager that returns the path to a closed temporary file. Its</span></div>
<div class="line"><span class="lineno"> 2007</span><span class="stringliteral">    parameters are the same as for tempfile.mkstemp and are passed directly</span></div>
<div class="line"><span class="lineno"> 2008</span><span class="stringliteral">    to that function. The underlying file is removed when the context is</span></div>
<div class="line"><span class="lineno"> 2009</span><span class="stringliteral">    exited, so it should be closed at that time.</span></div>
<div class="line"><span class="lineno"> 2010</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2011</span><span class="stringliteral">    Windows does not allow a temporary file to be opened if it is already</span></div>
<div class="line"><span class="lineno"> 2012</span><span class="stringliteral">    open, so the underlying file must be closed after opening before it</span></div>
<div class="line"><span class="lineno"> 2013</span><span class="stringliteral">    can be opened again.</span></div>
<div class="line"><span class="lineno"> 2014</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2015</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2016</span>    fd, path = mkstemp(*args, **kwargs)</div>
<div class="line"><span class="lineno"> 2017</span>    os.close(fd)</div>
<div class="line"><span class="lineno"> 2018</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2019</span>        <span class="keywordflow">yield</span> path</div>
<div class="line"><span class="lineno"> 2020</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno"> 2021</span>        os.remove(path)</div>
<div class="line"><span class="lineno"> 2022</span> </div>
<div class="line"><span class="lineno"> 2023</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3af71397c528347d3f7c7de9941a0824" name="a3af71397c528347d3f7c7de9941a0824"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3af71397c528347d3f7c7de9941a0824">&#9670;&#160;</a></span>_d</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._d = <a class="el" href="classnumpy_1_1testing_1_1__private_1_1utils_1_1___dummy.html">_Dummy</a>('nop')</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a70fc8619c5361413ef01e2679d272565" name="a70fc8619c5361413ef01e2679d272565"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70fc8619c5361413ef01e2679d272565">&#9670;&#160;</a></span>_glibc_older_than</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._glibc_older_than = <a class="el" href="__lapack__subroutines_8h.html#a76093d20ca2e1c5d5216168f26f73e19">lambda</a> x: (<a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a716703d4534a3428a3b50f14d9feadd4">_glibcver</a> != '0.0' and <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a716703d4534a3428a3b50f14d9feadd4">_glibcver</a> &lt; <a class="el" href="namespacenumpy_1_1core_1_1numerictypes.html#af7a40df6735224194004fe9d7a2b80d4">x</a>)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a716703d4534a3428a3b50f14d9feadd4" name="a716703d4534a3428a3b50f14d9feadd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a716703d4534a3428a3b50f14d9feadd4">&#9670;&#160;</a></span>_glibcver</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils._glibcver = <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a35e69f854951319e1fcde7bea779bd86">_get_glibc_version</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a721491e387500169a5297da624620341" name="a721491e387500169a5297da624620341"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a721491e387500169a5297da624620341">&#9670;&#160;</a></span>_OLD_PROMOTION</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">np numpy.testing._private.utils._OLD_PROMOTION = 'legacy'</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa751740baa9c3ecdb67319506a3002bd" name="aa751740baa9c3ecdb67319506a3002bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa751740baa9c3ecdb67319506a3002bd">&#9670;&#160;</a></span>HAS_LAPACK64</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.HAS_LAPACK64 = numpy.linalg.lapack_lite._ilp64</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a796c1e504358d9515dbb96695bbde581" name="a796c1e504358d9515dbb96695bbde581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a796c1e504358d9515dbb96695bbde581">&#9670;&#160;</a></span>HAS_REFCOUNT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.HAS_REFCOUNT = getattr(sys, 'getrefcount', None) is not None and not <a class="el" href="namespacenumpy_1_1testing_1_1__private_1_1utils.html#a19ccf14a09ff7e2b03a47197284e7f57">IS_PYSTON</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7923b2bdde8a4ce8d6af0385631f4cee" name="a7923b2bdde8a4ce8d6af0385631f4cee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7923b2bdde8a4ce8d6af0385631f4cee">&#9670;&#160;</a></span>IS_PYPY</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str numpy.testing._private.utils.IS_PYPY = 'pypy'</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a19ccf14a09ff7e2b03a47197284e7f57" name="a19ccf14a09ff7e2b03a47197284e7f57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19ccf14a09ff7e2b03a47197284e7f57">&#9670;&#160;</a></span>IS_PYSTON</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.IS_PYSTON = hasattr(sys, &quot;pyston_version_info&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad5eb99dc2ec7b08971d4a7b97552946d" name="ad5eb99dc2ec7b08971d4a7b97552946d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5eb99dc2ec7b08971d4a7b97552946d">&#9670;&#160;</a></span>IS_WASM</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.IS_WASM = platform.machine() <a class="el" href="__lapack__subroutines_8h.html#aa83d4778c28341ab79b01b2371f666fe">in</a> [&quot;wasm32&quot;, &quot;wasm64&quot;]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae212763dc9bbd2fb87944cc9b09d5325" name="ae212763dc9bbd2fb87944cc9b09d5325"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae212763dc9bbd2fb87944cc9b09d5325">&#9670;&#160;</a></span>KnownFailureTest</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.testing._private.utils.KnownFailureTest = <a class="el" href="classnumpy_1_1testing_1_1__private_1_1utils_1_1_known_failure_exception.html">KnownFailureException</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5fdc21323b7ff6d57a97e2a9ad60be4a" name="a5fdc21323b7ff6d57a97e2a9ad60be4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fdc21323b7ff6d57a97e2a9ad60be4a">&#9670;&#160;</a></span>verbose</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int numpy.testing._private.utils.verbose = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
