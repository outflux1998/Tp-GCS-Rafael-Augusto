<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.core.arrays.datetimes Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core_1_1arrays.html">arrays</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html">datetimes</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pandas.core.arrays.datetimes Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1core_1_1arrays_1_1datetimes_1_1_datetime_array.html">DatetimeArray</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac1286de6657d34134100e5d4b721e71b" id="r_ac1286de6657d34134100e5d4b721e71b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#ac1286de6657d34134100e5d4b721e71b">tz_to_dtype</a> (tzinfo|None tz, str unit=&quot;ns&quot;)</td></tr>
<tr class="separator:ac1286de6657d34134100e5d4b721e71b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16ea55230285651b47ccc437bd97c8ac" id="r_a16ea55230285651b47ccc437bd97c8ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#a16ea55230285651b47ccc437bd97c8ac">_field_accessor</a> (str name, str field, docstring=None)</td></tr>
<tr class="separator:a16ea55230285651b47ccc437bd97c8ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6811f9bad585197046cc0946946ede4" id="r_aa6811f9bad585197046cc0946946ede4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpandas_1_1core_1_1arrays_1_1datetimes_1_1_datetime_array.html">DatetimeArray</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#aa6811f9bad585197046cc0946946ede4">sequence_to_datetimes</a> (data, bool require_iso8601=False)</td></tr>
<tr class="separator:aa6811f9bad585197046cc0946946ede4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b2ce8280f0638bb6cc011c959c7cc3f" id="r_a0b2ce8280f0638bb6cc011c959c7cc3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#a0b2ce8280f0638bb6cc011c959c7cc3f">_sequence_to_dt64ns</a> (data, dtype=None, bool copy=False, tz=None, bool dayfirst=False, bool yearfirst=False, ambiguous=&quot;raise&quot;, *bool allow_mixed=False, bool require_iso8601=False)</td></tr>
<tr class="separator:a0b2ce8280f0638bb6cc011c959c7cc3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5632518b24b437432eccaa9c51e72264" id="r_a5632518b24b437432eccaa9c51e72264"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#a5632518b24b437432eccaa9c51e72264">objects_to_datetime64ns</a> (np.ndarray data, dayfirst, yearfirst, utc=False, errors=&quot;raise&quot;, bool require_iso8601=False, bool allow_object=False, bool allow_mixed=False)</td></tr>
<tr class="separator:a5632518b24b437432eccaa9c51e72264"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea7984264d56f7de7770fa4323610c68" id="r_aea7984264d56f7de7770fa4323610c68"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#aea7984264d56f7de7770fa4323610c68">maybe_convert_dtype</a> (data, bool copy, tzinfo|None tz=None)</td></tr>
<tr class="separator:aea7984264d56f7de7770fa4323610c68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae42b068b132987c35e479bf71ed33b8b" id="r_ae42b068b132987c35e479bf71ed33b8b"><td class="memItemLeft" align="right" valign="top">tzinfo|None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#ae42b068b132987c35e479bf71ed33b8b">_maybe_infer_tz</a> (tzinfo|None tz, tzinfo|None inferred_tz)</td></tr>
<tr class="separator:ae42b068b132987c35e479bf71ed33b8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a5a3e16faaa16207f520b8203645686" id="r_a0a5a3e16faaa16207f520b8203645686"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#a0a5a3e16faaa16207f520b8203645686">_validate_dt64_dtype</a> (dtype)</td></tr>
<tr class="separator:a0a5a3e16faaa16207f520b8203645686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab87eee1fd22d8d8524a33207462d3ba4" id="r_ab87eee1fd22d8d8524a33207462d3ba4"><td class="memItemLeft" align="right" valign="top">tzinfo|None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#ab87eee1fd22d8d8524a33207462d3ba4">validate_tz_from_dtype</a> (dtype, tzinfo|None tz)</td></tr>
<tr class="separator:ab87eee1fd22d8d8524a33207462d3ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6a23cd596d03220ef8ca3990d09fbf4" id="r_aa6a23cd596d03220ef8ca3990d09fbf4"><td class="memItemLeft" align="right" valign="top">tzinfo|None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#aa6a23cd596d03220ef8ca3990d09fbf4">_infer_tz_from_endpoints</a> (Timestamp start, Timestamp end, tzinfo|None tz)</td></tr>
<tr class="separator:aa6a23cd596d03220ef8ca3990d09fbf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a52d9a515a06ef8233bdaed498bf9af" id="r_a2a52d9a515a06ef8233bdaed498bf9af"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#a2a52d9a515a06ef8233bdaed498bf9af">_maybe_normalize_endpoints</a> (Timestamp|None start, Timestamp|None end, bool normalize)</td></tr>
<tr class="separator:a2a52d9a515a06ef8233bdaed498bf9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0aca2ec4b2977fe5d7e9c884a2630f" id="r_afe0aca2ec4b2977fe5d7e9c884a2630f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#afe0aca2ec4b2977fe5d7e9c884a2630f">_maybe_localize_point</a> (<a class="el" href="return__character_2foo77_8f.html#a0c928a851187b93eecc7b1066de4df74">ts</a>, is_none, is_not_none, freq, tz, ambiguous, nonexistent)</td></tr>
<tr class="separator:afe0aca2ec4b2977fe5d7e9c884a2630f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9779d9f5d339ea637a75a448c142ba0a" id="r_a9779d9f5d339ea637a75a448c142ba0a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#a9779d9f5d339ea637a75a448c142ba0a">generate_range</a> (start=None, end=None, periods=None, <a class="el" href="__lapack__subroutines_8h.html#ac5c1dfc0f77d6570b83bf10cfe850d4e">offset</a>=BDay())</td></tr>
<tr class="separator:a9779d9f5d339ea637a75a448c142ba0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7477c3a0faba11d857417da03b2e69ad" id="r_a7477c3a0faba11d857417da03b2e69ad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#a7477c3a0faba11d857417da03b2e69ad">_midnight</a> = time(0, 0)</td></tr>
<tr class="separator:a7477c3a0faba11d857417da03b2e69ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070f95db08af35ac2b966b0e3b741e31" id="r_a070f95db08af35ac2b966b0e3b741e31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1arrays_1_1datetimes.html#a070f95db08af35ac2b966b0e3b741e31">freqstr</a></td></tr>
<tr class="separator:a070f95db08af35ac2b966b0e3b741e31"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a16ea55230285651b47ccc437bd97c8ac" name="a16ea55230285651b47ccc437bd97c8ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16ea55230285651b47ccc437bd97c8ac">&#9670;&#160;</a></span>_field_accessor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.arrays.datetimes._field_accessor </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>docstring</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  113</span><span class="keyword">def </span>_field_accessor(name: str, field: str, docstring=<span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno">  114</span>    <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(self):</div>
<div class="line"><span class="lineno">  115</span>        values = self._local_timestamps()</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">if</span> field <span class="keywordflow">in</span> self._bool_ops:</div>
<div class="line"><span class="lineno">  118</span>            result: np.ndarray</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>            <span class="keywordflow">if</span> field.endswith((<span class="stringliteral">&quot;start&quot;</span>, <span class="stringliteral">&quot;end&quot;</span>)):</div>
<div class="line"><span class="lineno">  121</span>                freq = self.freq</div>
<div class="line"><span class="lineno">  122</span>                month_kw = 12</div>
<div class="line"><span class="lineno">  123</span>                <span class="keywordflow">if</span> freq:</div>
<div class="line"><span class="lineno">  124</span>                    kwds = freq.kwds</div>
<div class="line"><span class="lineno">  125</span>                    month_kw = kwds.get(<span class="stringliteral">&quot;startingMonth&quot;</span>, kwds.get(<span class="stringliteral">&quot;month&quot;</span>, 12))</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>                result = fields.get_start_end_field(</div>
<div class="line"><span class="lineno">  128</span>                    values, field, self.freqstr, month_kw, reso=self._reso</div>
<div class="line"><span class="lineno">  129</span>                )</div>
<div class="line"><span class="lineno">  130</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  131</span>                result = fields.get_date_field(values, field, reso=self._reso)</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>            <span class="comment"># these return a boolean by-definition</span></div>
<div class="line"><span class="lineno">  134</span>            <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">if</span> field <span class="keywordflow">in</span> self._object_ops:</div>
<div class="line"><span class="lineno">  137</span>            result = fields.get_date_name_field(values, field, reso=self._reso)</div>
<div class="line"><span class="lineno">  138</span>            result = self._maybe_mask_results(result, fill_value=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  141</span>            result = fields.get_date_field(values, field, reso=self._reso)</div>
<div class="line"><span class="lineno">  142</span>            result = self._maybe_mask_results(</div>
<div class="line"><span class="lineno">  143</span>                result, fill_value=<span class="keywordtype">None</span>, convert=<span class="stringliteral">&quot;float64&quot;</span></div>
<div class="line"><span class="lineno">  144</span>            )</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>        <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    f.__name__ = name</div>
<div class="line"><span class="lineno">  149</span>    f.__doc__ = docstring</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">return</span> property(f)</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_af01a903df7bdb7a494f5827e45bf3a2a"><div class="ttname"><a href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a></div><div class="ttdeci">void int int int int npy_complex64 int int npy_complex64 float float npy_complex64 npy_complex64 * f</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:262</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6a23cd596d03220ef8ca3990d09fbf4" name="aa6a23cd596d03220ef8ca3990d09fbf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6a23cd596d03220ef8ca3990d09fbf4">&#9670;&#160;</a></span>_infer_tz_from_endpoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> tzinfo | None pandas.core.arrays.datetimes._infer_tz_from_endpoints </td>
          <td>(</td>
          <td class="paramtype">Timestamp&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Timestamp&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tzinfo | None
&#160;</td>
          <td class="paramname"><em>tz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">If a timezone is not explicitly given via `tz`, see if one can
be inferred from the `start` and `end` endpoints.  If more than one
of these inputs provides a timezone, require that they all agree.

Parameters
----------
start : Timestamp
end : Timestamp
tz : tzinfo or None

Returns
-------
tz : tzinfo or None

Raises
------
TypeError : if start and end timezones do not agree
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2415</span>) -&gt; tzinfo | <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2416</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2417</span><span class="stringliteral">    If a timezone is not explicitly given via `tz`, see if one can</span></div>
<div class="line"><span class="lineno"> 2418</span><span class="stringliteral">    be inferred from the `start` and `end` endpoints.  If more than one</span></div>
<div class="line"><span class="lineno"> 2419</span><span class="stringliteral">    of these inputs provides a timezone, require that they all agree.</span></div>
<div class="line"><span class="lineno"> 2420</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2421</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2422</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2423</span><span class="stringliteral">    start : Timestamp</span></div>
<div class="line"><span class="lineno"> 2424</span><span class="stringliteral">    end : Timestamp</span></div>
<div class="line"><span class="lineno"> 2425</span><span class="stringliteral">    tz : tzinfo or None</span></div>
<div class="line"><span class="lineno"> 2426</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2427</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2428</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2429</span><span class="stringliteral">    tz : tzinfo or None</span></div>
<div class="line"><span class="lineno"> 2430</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2431</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 2432</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 2433</span><span class="stringliteral">    TypeError : if start and end timezones do not agree</span></div>
<div class="line"><span class="lineno"> 2434</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2435</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2436</span>        inferred_tz = timezones.infer_tzinfo(start, end)</div>
<div class="line"><span class="lineno"> 2437</span>    <span class="keywordflow">except</span> AssertionError <span class="keyword">as</span> err:</div>
<div class="line"><span class="lineno"> 2438</span>        <span class="comment"># infer_tzinfo raises AssertionError if passed mismatched timezones</span></div>
<div class="line"><span class="lineno"> 2439</span>        <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno"> 2440</span>            <span class="stringliteral">&quot;Start and end cannot both be tz-aware with different timezones&quot;</span></div>
<div class="line"><span class="lineno"> 2441</span>        ) <span class="keyword">from</span> err</div>
<div class="line"><span class="lineno"> 2442</span> </div>
<div class="line"><span class="lineno"> 2443</span>    inferred_tz = timezones.maybe_get_tz(inferred_tz)</div>
<div class="line"><span class="lineno"> 2444</span>    tz = timezones.maybe_get_tz(tz)</div>
<div class="line"><span class="lineno"> 2445</span> </div>
<div class="line"><span class="lineno"> 2446</span>    <span class="keywordflow">if</span> tz <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> inferred_tz <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2447</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> timezones.tz_compare(inferred_tz, tz):</div>
<div class="line"><span class="lineno"> 2448</span>            <span class="keywordflow">raise</span> AssertionError(<span class="stringliteral">&quot;Inferred time zone not equal to passed time zone&quot;</span>)</div>
<div class="line"><span class="lineno"> 2449</span> </div>
<div class="line"><span class="lineno"> 2450</span>    <span class="keywordflow">elif</span> inferred_tz <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2451</span>        tz = inferred_tz</div>
<div class="line"><span class="lineno"> 2452</span> </div>
<div class="line"><span class="lineno"> 2453</span>    <span class="keywordflow">return</span> tz</div>
<div class="line"><span class="lineno"> 2454</span> </div>
<div class="line"><span class="lineno"> 2455</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae42b068b132987c35e479bf71ed33b8b" name="ae42b068b132987c35e479bf71ed33b8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae42b068b132987c35e479bf71ed33b8b">&#9670;&#160;</a></span>_maybe_infer_tz()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> tzinfo | None pandas.core.arrays.datetimes._maybe_infer_tz </td>
          <td>(</td>
          <td class="paramtype">tzinfo | None&#160;</td>
          <td class="paramname"><em>tz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tzinfo | None&#160;</td>
          <td class="paramname"><em>inferred_tz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">If a timezone is inferred from data, check that it is compatible with
the user-provided timezone, if any.

Parameters
----------
tz : tzinfo or None
inferred_tz : tzinfo or None

Returns
-------
tz : tzinfo or None

Raises
------
TypeError : if both timezones are present but do not match
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2284</span><span class="keyword">def </span>_maybe_infer_tz(tz: tzinfo | <span class="keywordtype">None</span>, inferred_tz: tzinfo | <span class="keywordtype">None</span>) -&gt; tzinfo | <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2285</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2286</span><span class="stringliteral">    If a timezone is inferred from data, check that it is compatible with</span></div>
<div class="line"><span class="lineno"> 2287</span><span class="stringliteral">    the user-provided timezone, if any.</span></div>
<div class="line"><span class="lineno"> 2288</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2289</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2290</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2291</span><span class="stringliteral">    tz : tzinfo or None</span></div>
<div class="line"><span class="lineno"> 2292</span><span class="stringliteral">    inferred_tz : tzinfo or None</span></div>
<div class="line"><span class="lineno"> 2293</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2294</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2295</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2296</span><span class="stringliteral">    tz : tzinfo or None</span></div>
<div class="line"><span class="lineno"> 2297</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2298</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 2299</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 2300</span><span class="stringliteral">    TypeError : if both timezones are present but do not match</span></div>
<div class="line"><span class="lineno"> 2301</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2302</span>    <span class="keywordflow">if</span> tz <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2303</span>        tz = inferred_tz</div>
<div class="line"><span class="lineno"> 2304</span>    <span class="keywordflow">elif</span> inferred_tz <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2305</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 2306</span>    <span class="keywordflow">elif</span> <span class="keywordflow">not</span> timezones.tz_compare(tz, inferred_tz):</div>
<div class="line"><span class="lineno"> 2307</span>        <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno"> 2308</span>            f<span class="stringliteral">&quot;data is already tz-aware {inferred_tz}, unable to &quot;</span></div>
<div class="line"><span class="lineno"> 2309</span>            f<span class="stringliteral">&quot;set specified tz: {tz}&quot;</span></div>
<div class="line"><span class="lineno"> 2310</span>        )</div>
<div class="line"><span class="lineno"> 2311</span>    <span class="keywordflow">return</span> tz</div>
<div class="line"><span class="lineno"> 2312</span> </div>
<div class="line"><span class="lineno"> 2313</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afe0aca2ec4b2977fe5d7e9c884a2630f" name="afe0aca2ec4b2977fe5d7e9c884a2630f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe0aca2ec4b2977fe5d7e9c884a2630f">&#9670;&#160;</a></span>_maybe_localize_point()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.arrays.datetimes._maybe_localize_point </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>is_none</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>is_not_none</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>freq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ambiguous</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nonexistent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Localize a start or end Timestamp to the timezone of the corresponding
start or end Timestamp

Parameters
----------
ts : start or end Timestamp to potentially localize
is_none : argument that should be None
is_not_none : argument that should not be None
freq : Tick, DateOffset, or None
tz : str, timezone object or None
ambiguous: str, localization behavior for ambiguous times
nonexistent: str, localization behavior for nonexistent times

Returns
-------
ts : Timestamp
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2478</span><span class="keyword">def </span>_maybe_localize_point(ts, is_none, is_not_none, freq, tz, ambiguous, nonexistent):</div>
<div class="line"><span class="lineno"> 2479</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2480</span><span class="stringliteral">    Localize a start or end Timestamp to the timezone of the corresponding</span></div>
<div class="line"><span class="lineno"> 2481</span><span class="stringliteral">    start or end Timestamp</span></div>
<div class="line"><span class="lineno"> 2482</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2483</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2484</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2485</span><span class="stringliteral">    ts : start or end Timestamp to potentially localize</span></div>
<div class="line"><span class="lineno"> 2486</span><span class="stringliteral">    is_none : argument that should be None</span></div>
<div class="line"><span class="lineno"> 2487</span><span class="stringliteral">    is_not_none : argument that should not be None</span></div>
<div class="line"><span class="lineno"> 2488</span><span class="stringliteral">    freq : Tick, DateOffset, or None</span></div>
<div class="line"><span class="lineno"> 2489</span><span class="stringliteral">    tz : str, timezone object or None</span></div>
<div class="line"><span class="lineno"> 2490</span><span class="stringliteral">    ambiguous: str, localization behavior for ambiguous times</span></div>
<div class="line"><span class="lineno"> 2491</span><span class="stringliteral">    nonexistent: str, localization behavior for nonexistent times</span></div>
<div class="line"><span class="lineno"> 2492</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2493</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2494</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2495</span><span class="stringliteral">    ts : Timestamp</span></div>
<div class="line"><span class="lineno"> 2496</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2497</span>    <span class="comment"># Make sure start and end are timezone localized if:</span></div>
<div class="line"><span class="lineno"> 2498</span>    <span class="comment"># 1) freq = a Timedelta-like frequency (Tick)</span></div>
<div class="line"><span class="lineno"> 2499</span>    <span class="comment"># 2) freq = None i.e. generating a linspaced range</span></div>
<div class="line"><span class="lineno"> 2500</span>    <span class="keywordflow">if</span> is_none <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> is_not_none <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2501</span>        <span class="comment"># Note: We can&#39;t ambiguous=&#39;infer&#39; a singular ambiguous time; however,</span></div>
<div class="line"><span class="lineno"> 2502</span>        <span class="comment"># we have historically defaulted ambiguous=False</span></div>
<div class="line"><span class="lineno"> 2503</span>        ambiguous = ambiguous <span class="keywordflow">if</span> ambiguous != <span class="stringliteral">&quot;infer&quot;</span> <span class="keywordflow">else</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2504</span>        localize_args = {<span class="stringliteral">&quot;ambiguous&quot;</span>: ambiguous, <span class="stringliteral">&quot;nonexistent&quot;</span>: nonexistent, <span class="stringliteral">&quot;tz&quot;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><span class="lineno"> 2505</span>        <span class="keywordflow">if</span> isinstance(freq, Tick) <span class="keywordflow">or</span> freq <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2506</span>            localize_args[<span class="stringliteral">&quot;tz&quot;</span>] = tz</div>
<div class="line"><span class="lineno"> 2507</span>        ts = ts.tz_localize(**localize_args)</div>
<div class="line"><span class="lineno"> 2508</span>    <span class="keywordflow">return</span> ts</div>
<div class="line"><span class="lineno"> 2509</span> </div>
<div class="line"><span class="lineno"> 2510</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a52d9a515a06ef8233bdaed498bf9af" name="a2a52d9a515a06ef8233bdaed498bf9af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a52d9a515a06ef8233bdaed498bf9af">&#9670;&#160;</a></span>_maybe_normalize_endpoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.arrays.datetimes._maybe_normalize_endpoints </td>
          <td>(</td>
          <td class="paramtype">Timestamp | None&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Timestamp | None&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool
&#160;</td>
          <td class="paramname"><em>normalize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2458</span>):</div>
<div class="line"><span class="lineno"> 2459</span>    _normalized = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2460</span> </div>
<div class="line"><span class="lineno"> 2461</span>    <span class="keywordflow">if</span> start <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2462</span>        <span class="keywordflow">if</span> normalize:</div>
<div class="line"><span class="lineno"> 2463</span>            start = start.normalize()</div>
<div class="line"><span class="lineno"> 2464</span>            _normalized = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2465</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2466</span>            _normalized = _normalized <span class="keywordflow">and</span> start.time() == _midnight</div>
<div class="line"><span class="lineno"> 2467</span> </div>
<div class="line"><span class="lineno"> 2468</span>    <span class="keywordflow">if</span> end <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2469</span>        <span class="keywordflow">if</span> normalize:</div>
<div class="line"><span class="lineno"> 2470</span>            end = end.normalize()</div>
<div class="line"><span class="lineno"> 2471</span>            _normalized = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2472</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2473</span>            _normalized = _normalized <span class="keywordflow">and</span> end.time() == _midnight</div>
<div class="line"><span class="lineno"> 2474</span> </div>
<div class="line"><span class="lineno"> 2475</span>    <span class="keywordflow">return</span> start, end, _normalized</div>
<div class="line"><span class="lineno"> 2476</span> </div>
<div class="line"><span class="lineno"> 2477</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b2ce8280f0638bb6cc011c959c7cc3f" name="a0b2ce8280f0638bb6cc011c959c7cc3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b2ce8280f0638bb6cc011c959c7cc3f">&#9670;&#160;</a></span>_sequence_to_dt64ns()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.arrays.datetimes._sequence_to_dt64ns </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>copy</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>dayfirst</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>yearfirst</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ambiguous</em> = <code>&quot;raise&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*bool &#160;</td>
          <td class="paramname"><em>allow_mixed</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>require_iso8601</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Parameters
----------
data : list-like
dtype : dtype, str, or None, default None
copy : bool, default False
tz : tzinfo, str, or None, default None
dayfirst : bool, default False
yearfirst : bool, default False
ambiguous : str, bool, or arraylike, default 'raise'
    See pandas._libs.tslibs.tzconversion.tz_localize_to_utc.
allow_mixed : bool, default False
    Interpret integers as timestamps when datetime objects are also present.
require_iso8601 : bool, default False
    Only consider ISO-8601 formats when parsing strings.

Returns
-------
result : numpy.ndarray
    The sequence converted to a numpy array with dtype ``datetime64[ns]``.
tz : tzinfo or None
    Either the user-provided tzinfo or one inferred from the data.
inferred_freq : Tick or None
    The inferred frequency of the sequence.

Raises
------
TypeError : PeriodDType data is passed
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1991</span>):</div>
<div class="line"><span class="lineno"> 1992</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1993</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 1994</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 1995</span><span class="stringliteral">    data : list-like</span></div>
<div class="line"><span class="lineno"> 1996</span><span class="stringliteral">    dtype : dtype, str, or None, default None</span></div>
<div class="line"><span class="lineno"> 1997</span><span class="stringliteral">    copy : bool, default False</span></div>
<div class="line"><span class="lineno"> 1998</span><span class="stringliteral">    tz : tzinfo, str, or None, default None</span></div>
<div class="line"><span class="lineno"> 1999</span><span class="stringliteral">    dayfirst : bool, default False</span></div>
<div class="line"><span class="lineno"> 2000</span><span class="stringliteral">    yearfirst : bool, default False</span></div>
<div class="line"><span class="lineno"> 2001</span><span class="stringliteral">    ambiguous : str, bool, or arraylike, default &#39;raise&#39;</span></div>
<div class="line"><span class="lineno"> 2002</span><span class="stringliteral">        See pandas._libs.tslibs.tzconversion.tz_localize_to_utc.</span></div>
<div class="line"><span class="lineno"> 2003</span><span class="stringliteral">    allow_mixed : bool, default False</span></div>
<div class="line"><span class="lineno"> 2004</span><span class="stringliteral">        Interpret integers as timestamps when datetime objects are also present.</span></div>
<div class="line"><span class="lineno"> 2005</span><span class="stringliteral">    require_iso8601 : bool, default False</span></div>
<div class="line"><span class="lineno"> 2006</span><span class="stringliteral">        Only consider ISO-8601 formats when parsing strings.</span></div>
<div class="line"><span class="lineno"> 2007</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2008</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2009</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2010</span><span class="stringliteral">    result : numpy.ndarray</span></div>
<div class="line"><span class="lineno"> 2011</span><span class="stringliteral">        The sequence converted to a numpy array with dtype ``datetime64[ns]``.</span></div>
<div class="line"><span class="lineno"> 2012</span><span class="stringliteral">    tz : tzinfo or None</span></div>
<div class="line"><span class="lineno"> 2013</span><span class="stringliteral">        Either the user-provided tzinfo or one inferred from the data.</span></div>
<div class="line"><span class="lineno"> 2014</span><span class="stringliteral">    inferred_freq : Tick or None</span></div>
<div class="line"><span class="lineno"> 2015</span><span class="stringliteral">        The inferred frequency of the sequence.</span></div>
<div class="line"><span class="lineno"> 2016</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2017</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 2018</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 2019</span><span class="stringliteral">    TypeError : PeriodDType data is passed</span></div>
<div class="line"><span class="lineno"> 2020</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2021</span> </div>
<div class="line"><span class="lineno"> 2022</span>    inferred_freq = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2023</span> </div>
<div class="line"><span class="lineno"> 2024</span>    dtype = _validate_dt64_dtype(dtype)</div>
<div class="line"><span class="lineno"> 2025</span>    tz = timezones.maybe_get_tz(tz)</div>
<div class="line"><span class="lineno"> 2026</span> </div>
<div class="line"><span class="lineno"> 2027</span>    <span class="comment"># if dtype has an embedded tz, capture it</span></div>
<div class="line"><span class="lineno"> 2028</span>    tz = validate_tz_from_dtype(dtype, tz)</div>
<div class="line"><span class="lineno"> 2029</span> </div>
<div class="line"><span class="lineno"> 2030</span>    data, copy = dtl.ensure_arraylike_for_datetimelike(</div>
<div class="line"><span class="lineno"> 2031</span>        data, copy, cls_name=<span class="stringliteral">&quot;DatetimeArray&quot;</span></div>
<div class="line"><span class="lineno"> 2032</span>    )</div>
<div class="line"><span class="lineno"> 2033</span> </div>
<div class="line"><span class="lineno"> 2034</span>    <span class="keywordflow">if</span> isinstance(data, DatetimeArray):</div>
<div class="line"><span class="lineno"> 2035</span>        inferred_freq = data.freq</div>
<div class="line"><span class="lineno"> 2036</span> </div>
<div class="line"><span class="lineno"> 2037</span>    <span class="comment"># By this point we are assured to have either a numpy array or Index</span></div>
<div class="line"><span class="lineno"> 2038</span>    data, copy = maybe_convert_dtype(data, copy, tz=tz)</div>
<div class="line"><span class="lineno"> 2039</span>    data_dtype = getattr(data, <span class="stringliteral">&quot;dtype&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 2040</span> </div>
<div class="line"><span class="lineno"> 2041</span>    <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno"> 2042</span>        is_object_dtype(data_dtype)</div>
<div class="line"><span class="lineno"> 2043</span>        <span class="keywordflow">or</span> is_string_dtype(data_dtype)</div>
<div class="line"><span class="lineno"> 2044</span>        <span class="keywordflow">or</span> is_sparse(data_dtype)</div>
<div class="line"><span class="lineno"> 2045</span>    ):</div>
<div class="line"><span class="lineno"> 2046</span>        <span class="comment"># TODO: We do not have tests specific to string-dtypes,</span></div>
<div class="line"><span class="lineno"> 2047</span>        <span class="comment">#  also complex or categorical or other extension</span></div>
<div class="line"><span class="lineno"> 2048</span>        copy = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2049</span>        <span class="keywordflow">if</span> lib.infer_dtype(data, skipna=<span class="keyword">False</span>) == <span class="stringliteral">&quot;integer&quot;</span>:</div>
<div class="line"><span class="lineno"> 2050</span>            data = data.astype(np.int64)</div>
<div class="line"><span class="lineno"> 2051</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2052</span>            <span class="comment"># data comes back here as either i8 to denote UTC timestamps</span></div>
<div class="line"><span class="lineno"> 2053</span>            <span class="comment">#  or M8[ns] to denote wall times</span></div>
<div class="line"><span class="lineno"> 2054</span>            data, inferred_tz = objects_to_datetime64ns(</div>
<div class="line"><span class="lineno"> 2055</span>                data,</div>
<div class="line"><span class="lineno"> 2056</span>                dayfirst=dayfirst,</div>
<div class="line"><span class="lineno"> 2057</span>                yearfirst=yearfirst,</div>
<div class="line"><span class="lineno"> 2058</span>                allow_object=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 2059</span>                allow_mixed=allow_mixed,</div>
<div class="line"><span class="lineno"> 2060</span>                require_iso8601=require_iso8601,</div>
<div class="line"><span class="lineno"> 2061</span>            )</div>
<div class="line"><span class="lineno"> 2062</span>            <span class="keywordflow">if</span> tz <span class="keywordflow">and</span> inferred_tz:</div>
<div class="line"><span class="lineno"> 2063</span>                <span class="comment">#  two timezones: convert to intended from base UTC repr</span></div>
<div class="line"><span class="lineno"> 2064</span>                <span class="keywordflow">if</span> data.dtype == <span class="stringliteral">&quot;i8&quot;</span>:</div>
<div class="line"><span class="lineno"> 2065</span>                    <span class="comment"># GH#42505</span></div>
<div class="line"><span class="lineno"> 2066</span>                    <span class="comment"># by convention, these are _already_ UTC, e.g</span></div>
<div class="line"><span class="lineno"> 2067</span>                    <span class="keywordflow">return</span> data.view(DT64NS_DTYPE), tz, <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2068</span> </div>
<div class="line"><span class="lineno"> 2069</span>                <span class="keywordflow">if</span> timezones.is_utc(tz):</div>
<div class="line"><span class="lineno"> 2070</span>                    <span class="comment"># Fastpath, avoid copy made in tzconversion</span></div>
<div class="line"><span class="lineno"> 2071</span>                    utc_vals = data.view(<span class="stringliteral">&quot;i8&quot;</span>)</div>
<div class="line"><span class="lineno"> 2072</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2073</span>                    utc_vals = tz_convert_from_utc(data.view(<span class="stringliteral">&quot;i8&quot;</span>), tz)</div>
<div class="line"><span class="lineno"> 2074</span>                data = utc_vals.view(DT64NS_DTYPE)</div>
<div class="line"><span class="lineno"> 2075</span>            <span class="keywordflow">elif</span> inferred_tz:</div>
<div class="line"><span class="lineno"> 2076</span>                tz = inferred_tz</div>
<div class="line"><span class="lineno"> 2077</span> </div>
<div class="line"><span class="lineno"> 2078</span>        data_dtype = data.dtype</div>
<div class="line"><span class="lineno"> 2079</span> </div>
<div class="line"><span class="lineno"> 2080</span>    <span class="comment"># `data` may have originally been a Categorical[datetime64[ns, tz]],</span></div>
<div class="line"><span class="lineno"> 2081</span>    <span class="comment"># so we need to handle these types.</span></div>
<div class="line"><span class="lineno"> 2082</span>    <span class="keywordflow">if</span> is_datetime64tz_dtype(data_dtype):</div>
<div class="line"><span class="lineno"> 2083</span>        <span class="comment"># DatetimeArray -&gt; ndarray</span></div>
<div class="line"><span class="lineno"> 2084</span>        tz = _maybe_infer_tz(tz, data.tz)</div>
<div class="line"><span class="lineno"> 2085</span>        result = data._ndarray</div>
<div class="line"><span class="lineno"> 2086</span> </div>
<div class="line"><span class="lineno"> 2087</span>    <span class="keywordflow">elif</span> is_datetime64_dtype(data_dtype):</div>
<div class="line"><span class="lineno"> 2088</span>        <span class="comment"># tz-naive DatetimeArray or ndarray[datetime64]</span></div>
<div class="line"><span class="lineno"> 2089</span>        data = getattr(data, <span class="stringliteral">&quot;_ndarray&quot;</span>, data)</div>
<div class="line"><span class="lineno"> 2090</span>        <span class="keywordflow">if</span> data.dtype != DT64NS_DTYPE:</div>
<div class="line"><span class="lineno"> 2091</span>            data = astype_overflowsafe(data, dtype=DT64NS_DTYPE)</div>
<div class="line"><span class="lineno"> 2092</span>            copy = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2093</span> </div>
<div class="line"><span class="lineno"> 2094</span>        <span class="keywordflow">if</span> tz <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2095</span>            <span class="comment"># Convert tz-naive to UTC</span></div>
<div class="line"><span class="lineno"> 2096</span>            tz = timezones.maybe_get_tz(tz)</div>
<div class="line"><span class="lineno"> 2097</span>            <span class="comment"># TODO: if tz is UTC, are there situations where we *don&#39;t* want a</span></div>
<div class="line"><span class="lineno"> 2098</span>            <span class="comment">#  copy?  tz_localize_to_utc always makes one.</span></div>
<div class="line"><span class="lineno"> 2099</span>            data = tzconversion.tz_localize_to_utc(</div>
<div class="line"><span class="lineno"> 2100</span>                data.view(<span class="stringliteral">&quot;i8&quot;</span>), tz, ambiguous=ambiguous</div>
<div class="line"><span class="lineno"> 2101</span>            )</div>
<div class="line"><span class="lineno"> 2102</span>            data = data.view(DT64NS_DTYPE)</div>
<div class="line"><span class="lineno"> 2103</span> </div>
<div class="line"><span class="lineno"> 2104</span>        <span class="keyword">assert</span> data.dtype == DT64NS_DTYPE, data.dtype</div>
<div class="line"><span class="lineno"> 2105</span>        result = data</div>
<div class="line"><span class="lineno"> 2106</span> </div>
<div class="line"><span class="lineno"> 2107</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2108</span>        <span class="comment"># must be integer dtype otherwise</span></div>
<div class="line"><span class="lineno"> 2109</span>        <span class="comment"># assume this data are epoch timestamps</span></div>
<div class="line"><span class="lineno"> 2110</span>        <span class="keywordflow">if</span> tz:</div>
<div class="line"><span class="lineno"> 2111</span>            tz = timezones.maybe_get_tz(tz)</div>
<div class="line"><span class="lineno"> 2112</span> </div>
<div class="line"><span class="lineno"> 2113</span>        <span class="keywordflow">if</span> data.dtype != INT64_DTYPE:</div>
<div class="line"><span class="lineno"> 2114</span>            data = data.astype(np.int64, copy=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 2115</span>        result = data.view(DT64NS_DTYPE)</div>
<div class="line"><span class="lineno"> 2116</span> </div>
<div class="line"><span class="lineno"> 2117</span>    <span class="keywordflow">if</span> copy:</div>
<div class="line"><span class="lineno"> 2118</span>        result = result.copy()</div>
<div class="line"><span class="lineno"> 2119</span> </div>
<div class="line"><span class="lineno"> 2120</span>    <span class="keyword">assert</span> isinstance(result, np.ndarray), type(result)</div>
<div class="line"><span class="lineno"> 2121</span>    <span class="keyword">assert</span> result.dtype == <span class="stringliteral">&quot;M8[ns]&quot;</span>, result.dtype</div>
<div class="line"><span class="lineno"> 2122</span> </div>
<div class="line"><span class="lineno"> 2123</span>    <span class="comment"># We have to call this again after possibly inferring a tz above</span></div>
<div class="line"><span class="lineno"> 2124</span>    validate_tz_from_dtype(dtype, tz)</div>
<div class="line"><span class="lineno"> 2125</span> </div>
<div class="line"><span class="lineno"> 2126</span>    <span class="keywordflow">return</span> result, tz, inferred_freq</div>
<div class="line"><span class="lineno"> 2127</span> </div>
<div class="line"><span class="lineno"> 2128</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a5a3e16faaa16207f520b8203645686" name="a0a5a3e16faaa16207f520b8203645686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a5a3e16faaa16207f520b8203645686">&#9670;&#160;</a></span>_validate_dt64_dtype()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.arrays.datetimes._validate_dt64_dtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Check that a dtype, if passed, represents either a numpy datetime64[ns]
dtype or a pandas DatetimeTZDtype.

Parameters
----------
dtype : object

Returns
-------
dtype : None, numpy.dtype, or DatetimeTZDtype

Raises
------
ValueError : invalid dtype

Notes
-----
Unlike validate_tz_from_dtype, this does _not_ allow non-existent
tz errors to go through
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2314</span><span class="keyword">def </span>_validate_dt64_dtype(dtype):</div>
<div class="line"><span class="lineno"> 2315</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2316</span><span class="stringliteral">    Check that a dtype, if passed, represents either a numpy datetime64[ns]</span></div>
<div class="line"><span class="lineno"> 2317</span><span class="stringliteral">    dtype or a pandas DatetimeTZDtype.</span></div>
<div class="line"><span class="lineno"> 2318</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2319</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2320</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2321</span><span class="stringliteral">    dtype : object</span></div>
<div class="line"><span class="lineno"> 2322</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2323</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2324</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2325</span><span class="stringliteral">    dtype : None, numpy.dtype, or DatetimeTZDtype</span></div>
<div class="line"><span class="lineno"> 2326</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2327</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 2328</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 2329</span><span class="stringliteral">    ValueError : invalid dtype</span></div>
<div class="line"><span class="lineno"> 2330</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2331</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 2332</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno"> 2333</span><span class="stringliteral">    Unlike validate_tz_from_dtype, this does _not_ allow non-existent</span></div>
<div class="line"><span class="lineno"> 2334</span><span class="stringliteral">    tz errors to go through</span></div>
<div class="line"><span class="lineno"> 2335</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2336</span>    <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2337</span>        dtype = pandas_dtype(dtype)</div>
<div class="line"><span class="lineno"> 2338</span>        <span class="keywordflow">if</span> is_dtype_equal(dtype, np.dtype(<span class="stringliteral">&quot;M8&quot;</span>)):</div>
<div class="line"><span class="lineno"> 2339</span>            <span class="comment"># no precision, disallowed GH#24806</span></div>
<div class="line"><span class="lineno"> 2340</span>            msg = (</div>
<div class="line"><span class="lineno"> 2341</span>                <span class="stringliteral">&quot;Passing in &#39;datetime64&#39; dtype with no precision is not allowed. &quot;</span></div>
<div class="line"><span class="lineno"> 2342</span>                <span class="stringliteral">&quot;Please pass in &#39;datetime64[ns]&#39; instead.&quot;</span></div>
<div class="line"><span class="lineno"> 2343</span>            )</div>
<div class="line"><span class="lineno"> 2344</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 2345</span> </div>
<div class="line"><span class="lineno"> 2346</span>        <span class="keywordflow">if</span> (isinstance(dtype, np.dtype) <span class="keywordflow">and</span> dtype != DT64NS_DTYPE) <span class="keywordflow">or</span> <span class="keywordflow">not</span> isinstance(</div>
<div class="line"><span class="lineno"> 2347</span>            dtype, (np.dtype, DatetimeTZDtype)</div>
<div class="line"><span class="lineno"> 2348</span>        ):</div>
<div class="line"><span class="lineno"> 2349</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno"> 2350</span>                f<span class="stringliteral">&quot;Unexpected value for &#39;dtype&#39;: &#39;{dtype}&#39;. &quot;</span></div>
<div class="line"><span class="lineno"> 2351</span>                <span class="stringliteral">&quot;Must be &#39;datetime64[ns]&#39; or DatetimeTZDtype&#39;.&quot;</span></div>
<div class="line"><span class="lineno"> 2352</span>            )</div>
<div class="line"><span class="lineno"> 2353</span> </div>
<div class="line"><span class="lineno"> 2354</span>        <span class="keywordflow">if</span> getattr(dtype, <span class="stringliteral">&quot;tz&quot;</span>, <span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno"> 2355</span>            <span class="comment"># https://github.com/pandas-dev/pandas/issues/18595</span></div>
<div class="line"><span class="lineno"> 2356</span>            <span class="comment"># Ensure that we have a standard timezone for pytz objects.</span></div>
<div class="line"><span class="lineno"> 2357</span>            <span class="comment"># Without this, things like adding an array of timedeltas and</span></div>
<div class="line"><span class="lineno"> 2358</span>            <span class="comment"># a  tz-aware Timestamp (with a tz specific to its datetime) will</span></div>
<div class="line"><span class="lineno"> 2359</span>            <span class="comment"># be incorrect(ish?) for the array as a whole</span></div>
<div class="line"><span class="lineno"> 2360</span>            dtype = cast(DatetimeTZDtype, dtype)</div>
<div class="line"><span class="lineno"> 2361</span>            dtype = DatetimeTZDtype(tz=timezones.tz_standardize(dtype.tz))</div>
<div class="line"><span class="lineno"> 2362</span> </div>
<div class="line"><span class="lineno"> 2363</span>    <span class="keywordflow">return</span> dtype</div>
<div class="line"><span class="lineno"> 2364</span> </div>
<div class="line"><span class="lineno"> 2365</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9779d9f5d339ea637a75a448c142ba0a" name="a9779d9f5d339ea637a75a448c142ba0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9779d9f5d339ea637a75a448c142ba0a">&#9670;&#160;</a></span>generate_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.arrays.datetimes.generate_range </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>end</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>periods</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>offset</em> = <code>BDay()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generates a sequence of dates corresponding to the specified time
offset. Similar to dateutil.rrule except uses pandas DateOffset
objects to represent time increments.

Parameters
----------
start : datetime, (default None)
end : datetime, (default None)
periods : int, (default None)
offset : DateOffset, (default BDay())

Notes
-----
* This method is faster for generating weekdays than dateutil.rrule
* At least two of (start, end, periods) must be specified.
* If both start and end are specified, the returned dates will
satisfy start &lt;= date &lt;= end.

Returns
-------
dates : generator object
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2511</span><span class="keyword">def </span>generate_range(start=None, end=None, periods=None, offset=BDay()):</div>
<div class="line"><span class="lineno"> 2512</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2513</span><span class="stringliteral">    Generates a sequence of dates corresponding to the specified time</span></div>
<div class="line"><span class="lineno"> 2514</span><span class="stringliteral">    offset. Similar to dateutil.rrule except uses pandas DateOffset</span></div>
<div class="line"><span class="lineno"> 2515</span><span class="stringliteral">    objects to represent time increments.</span></div>
<div class="line"><span class="lineno"> 2516</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2517</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2518</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2519</span><span class="stringliteral">    start : datetime, (default None)</span></div>
<div class="line"><span class="lineno"> 2520</span><span class="stringliteral">    end : datetime, (default None)</span></div>
<div class="line"><span class="lineno"> 2521</span><span class="stringliteral">    periods : int, (default None)</span></div>
<div class="line"><span class="lineno"> 2522</span><span class="stringliteral">    offset : DateOffset, (default BDay())</span></div>
<div class="line"><span class="lineno"> 2523</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2524</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno"> 2525</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno"> 2526</span><span class="stringliteral">    * This method is faster for generating weekdays than dateutil.rrule</span></div>
<div class="line"><span class="lineno"> 2527</span><span class="stringliteral">    * At least two of (start, end, periods) must be specified.</span></div>
<div class="line"><span class="lineno"> 2528</span><span class="stringliteral">    * If both start and end are specified, the returned dates will</span></div>
<div class="line"><span class="lineno"> 2529</span><span class="stringliteral">    satisfy start &lt;= date &lt;= end.</span></div>
<div class="line"><span class="lineno"> 2530</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2531</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2532</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2533</span><span class="stringliteral">    dates : generator object</span></div>
<div class="line"><span class="lineno"> 2534</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2535</span>    offset = to_offset(offset)</div>
<div class="line"><span class="lineno"> 2536</span> </div>
<div class="line"><span class="lineno"> 2537</span>    start = Timestamp(start)</div>
<div class="line"><span class="lineno"> 2538</span>    start = start <span class="keywordflow">if</span> start <span class="keywordflow">is</span> <span class="keywordflow">not</span> NaT <span class="keywordflow">else</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2539</span>    end = Timestamp(end)</div>
<div class="line"><span class="lineno"> 2540</span>    end = end <span class="keywordflow">if</span> end <span class="keywordflow">is</span> <span class="keywordflow">not</span> NaT <span class="keywordflow">else</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2541</span> </div>
<div class="line"><span class="lineno"> 2542</span>    <span class="keywordflow">if</span> start <span class="keywordflow">and</span> <span class="keywordflow">not</span> offset.is_on_offset(start):</div>
<div class="line"><span class="lineno"> 2543</span>        start = offset.rollforward(start)</div>
<div class="line"><span class="lineno"> 2544</span> </div>
<div class="line"><span class="lineno"> 2545</span>    <span class="keywordflow">elif</span> end <span class="keywordflow">and</span> <span class="keywordflow">not</span> offset.is_on_offset(end):</div>
<div class="line"><span class="lineno"> 2546</span>        end = offset.rollback(end)</div>
<div class="line"><span class="lineno"> 2547</span> </div>
<div class="line"><span class="lineno"> 2548</span>    <span class="keywordflow">if</span> periods <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> end &lt; start <span class="keywordflow">and</span> offset.n &gt;= 0:</div>
<div class="line"><span class="lineno"> 2549</span>        end = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2550</span>        periods = 0</div>
<div class="line"><span class="lineno"> 2551</span> </div>
<div class="line"><span class="lineno"> 2552</span>    <span class="keywordflow">if</span> end <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2553</span>        end = start + (periods - 1) * offset</div>
<div class="line"><span class="lineno"> 2554</span> </div>
<div class="line"><span class="lineno"> 2555</span>    <span class="keywordflow">if</span> start <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2556</span>        start = end - (periods - 1) * offset</div>
<div class="line"><span class="lineno"> 2557</span> </div>
<div class="line"><span class="lineno"> 2558</span>    cur = start</div>
<div class="line"><span class="lineno"> 2559</span>    <span class="keywordflow">if</span> offset.n &gt;= 0:</div>
<div class="line"><span class="lineno"> 2560</span>        <span class="keywordflow">while</span> cur &lt;= end:</div>
<div class="line"><span class="lineno"> 2561</span>            <span class="keywordflow">yield</span> cur</div>
<div class="line"><span class="lineno"> 2562</span> </div>
<div class="line"><span class="lineno"> 2563</span>            <span class="keywordflow">if</span> cur == end:</div>
<div class="line"><span class="lineno"> 2564</span>                <span class="comment"># GH#24252 avoid overflows by not performing the addition</span></div>
<div class="line"><span class="lineno"> 2565</span>                <span class="comment"># in offset.apply unless we have to</span></div>
<div class="line"><span class="lineno"> 2566</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 2567</span> </div>
<div class="line"><span class="lineno"> 2568</span>            <span class="comment"># faster than cur + offset</span></div>
<div class="line"><span class="lineno"> 2569</span>            next_date = offset._apply(cur)</div>
<div class="line"><span class="lineno"> 2570</span>            <span class="keywordflow">if</span> next_date &lt;= cur:</div>
<div class="line"><span class="lineno"> 2571</span>                <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Offset {offset} did not increment date&quot;</span>)</div>
<div class="line"><span class="lineno"> 2572</span>            cur = next_date</div>
<div class="line"><span class="lineno"> 2573</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2574</span>        <span class="keywordflow">while</span> cur &gt;= end:</div>
<div class="line"><span class="lineno"> 2575</span>            <span class="keywordflow">yield</span> cur</div>
<div class="line"><span class="lineno"> 2576</span> </div>
<div class="line"><span class="lineno"> 2577</span>            <span class="keywordflow">if</span> cur == end:</div>
<div class="line"><span class="lineno"> 2578</span>                <span class="comment"># GH#24252 avoid overflows by not performing the addition</span></div>
<div class="line"><span class="lineno"> 2579</span>                <span class="comment"># in offset.apply unless we have to</span></div>
<div class="line"><span class="lineno"> 2580</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 2581</span> </div>
<div class="line"><span class="lineno"> 2582</span>            <span class="comment"># faster than cur + offset</span></div>
<div class="line"><span class="lineno"> 2583</span>            next_date = offset._apply(cur)</div>
<div class="line"><span class="lineno"> 2584</span>            <span class="keywordflow">if</span> next_date &gt;= cur:</div>
<div class="line"><span class="lineno"> 2585</span>                <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Offset {offset} did not decrement date&quot;</span>)</div>
<div class="line"><span class="lineno"> 2586</span>            cur = next_date</div>
</div><!-- fragment -->
</div>
</div>
<a id="aea7984264d56f7de7770fa4323610c68" name="aea7984264d56f7de7770fa4323610c68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea7984264d56f7de7770fa4323610c68">&#9670;&#160;</a></span>maybe_convert_dtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.arrays.datetimes.maybe_convert_dtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>copy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tzinfo | None &#160;</td>
          <td class="paramname"><em>tz</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert data based on dtype conventions, issuing deprecation warnings
or errors where appropriate.

Parameters
----------
data : np.ndarray or pd.Index
copy : bool
tz : tzinfo or None, default None

Returns
-------
data : np.ndarray or pd.Index
copy : bool

Raises
------
TypeError : PeriodDType data is passed
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2215</span><span class="keyword">def </span>maybe_convert_dtype(data, copy: bool, tz: tzinfo | <span class="keywordtype">None</span> = <span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno"> 2216</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2217</span><span class="stringliteral">    Convert data based on dtype conventions, issuing deprecation warnings</span></div>
<div class="line"><span class="lineno"> 2218</span><span class="stringliteral">    or errors where appropriate.</span></div>
<div class="line"><span class="lineno"> 2219</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2220</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2221</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2222</span><span class="stringliteral">    data : np.ndarray or pd.Index</span></div>
<div class="line"><span class="lineno"> 2223</span><span class="stringliteral">    copy : bool</span></div>
<div class="line"><span class="lineno"> 2224</span><span class="stringliteral">    tz : tzinfo or None, default None</span></div>
<div class="line"><span class="lineno"> 2225</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2226</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2227</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2228</span><span class="stringliteral">    data : np.ndarray or pd.Index</span></div>
<div class="line"><span class="lineno"> 2229</span><span class="stringliteral">    copy : bool</span></div>
<div class="line"><span class="lineno"> 2230</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2231</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 2232</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 2233</span><span class="stringliteral">    TypeError : PeriodDType data is passed</span></div>
<div class="line"><span class="lineno"> 2234</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2235</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(data, <span class="stringliteral">&quot;dtype&quot;</span>):</div>
<div class="line"><span class="lineno"> 2236</span>        <span class="comment"># e.g. collections.deque</span></div>
<div class="line"><span class="lineno"> 2237</span>        <span class="keywordflow">return</span> data, copy</div>
<div class="line"><span class="lineno"> 2238</span> </div>
<div class="line"><span class="lineno"> 2239</span>    <span class="keywordflow">if</span> is_float_dtype(data.dtype):</div>
<div class="line"><span class="lineno"> 2240</span>        <span class="comment"># Note: we must cast to datetime64[ns] here in order to treat these</span></div>
<div class="line"><span class="lineno"> 2241</span>        <span class="comment">#  as wall-times instead of UTC timestamps.</span></div>
<div class="line"><span class="lineno"> 2242</span>        data = data.astype(DT64NS_DTYPE)</div>
<div class="line"><span class="lineno"> 2243</span>        copy = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2244</span>        <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno"> 2245</span>            tz <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2246</span>            <span class="keywordflow">and</span> len(data) &gt; 0</div>
<div class="line"><span class="lineno"> 2247</span>            <span class="keywordflow">and</span> <span class="keywordflow">not</span> timezones.is_utc(timezones.maybe_get_tz(tz))</div>
<div class="line"><span class="lineno"> 2248</span>        ):</div>
<div class="line"><span class="lineno"> 2249</span>            <span class="comment"># GH#23675, GH#45573 deprecate to treat symmetrically with integer dtypes</span></div>
<div class="line"><span class="lineno"> 2250</span>            warnings.warn(</div>
<div class="line"><span class="lineno"> 2251</span>                <span class="stringliteral">&quot;The behavior of DatetimeArray._from_sequence with a timezone-aware &quot;</span></div>
<div class="line"><span class="lineno"> 2252</span>                <span class="stringliteral">&quot;dtype and floating-dtype data is deprecated. In a future version, &quot;</span></div>
<div class="line"><span class="lineno"> 2253</span>                <span class="stringliteral">&quot;this data will be interpreted as nanosecond UTC timestamps &quot;</span></div>
<div class="line"><span class="lineno"> 2254</span>                <span class="stringliteral">&quot;instead of wall-times, matching the behavior with integer dtypes. &quot;</span></div>
<div class="line"><span class="lineno"> 2255</span>                <span class="stringliteral">&quot;To retain the old behavior, explicitly cast to &#39;datetime64[ns]&#39; &quot;</span></div>
<div class="line"><span class="lineno"> 2256</span>                <span class="stringliteral">&quot;before passing the data to pandas. To get the future behavior, &quot;</span></div>
<div class="line"><span class="lineno"> 2257</span>                <span class="stringliteral">&quot;first cast to &#39;int64&#39;.&quot;</span>,</div>
<div class="line"><span class="lineno"> 2258</span>                FutureWarning,</div>
<div class="line"><span class="lineno"> 2259</span>                stacklevel=find_stack_level(),</div>
<div class="line"><span class="lineno"> 2260</span>            )</div>
<div class="line"><span class="lineno"> 2261</span> </div>
<div class="line"><span class="lineno"> 2262</span>    <span class="keywordflow">elif</span> is_timedelta64_dtype(data.dtype) <span class="keywordflow">or</span> is_bool_dtype(data.dtype):</div>
<div class="line"><span class="lineno"> 2263</span>        <span class="comment"># GH#29794 enforcing deprecation introduced in GH#23539</span></div>
<div class="line"><span class="lineno"> 2264</span>        <span class="keywordflow">raise</span> TypeError(f<span class="stringliteral">&quot;dtype {data.dtype} cannot be converted to datetime64[ns]&quot;</span>)</div>
<div class="line"><span class="lineno"> 2265</span>    <span class="keywordflow">elif</span> is_period_dtype(data.dtype):</div>
<div class="line"><span class="lineno"> 2266</span>        <span class="comment"># Note: without explicitly raising here, PeriodIndex</span></div>
<div class="line"><span class="lineno"> 2267</span>        <span class="comment">#  test_setops.test_join_does_not_recur fails</span></div>
<div class="line"><span class="lineno"> 2268</span>        <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno"> 2269</span>            <span class="stringliteral">&quot;Passing PeriodDtype data is invalid. Use `data.to_timestamp()` instead&quot;</span></div>
<div class="line"><span class="lineno"> 2270</span>        )</div>
<div class="line"><span class="lineno"> 2271</span> </div>
<div class="line"><span class="lineno"> 2272</span>    <span class="keywordflow">elif</span> is_extension_array_dtype(data.dtype) <span class="keywordflow">and</span> <span class="keywordflow">not</span> is_datetime64tz_dtype(data.dtype):</div>
<div class="line"><span class="lineno"> 2273</span>        <span class="comment"># TODO: We have no tests for these</span></div>
<div class="line"><span class="lineno"> 2274</span>        data = np.array(data, dtype=np.object_)</div>
<div class="line"><span class="lineno"> 2275</span>        copy = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2276</span> </div>
<div class="line"><span class="lineno"> 2277</span>    <span class="keywordflow">return</span> data, copy</div>
<div class="line"><span class="lineno"> 2278</span> </div>
<div class="line"><span class="lineno"> 2279</span> </div>
<div class="line"><span class="lineno"> 2280</span><span class="comment"># -------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 2281</span><span class="comment"># Validation and Inference</span></div>
<div class="line"><span class="lineno"> 2282</span> </div>
<div class="line"><span class="lineno"> 2283</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5632518b24b437432eccaa9c51e72264" name="a5632518b24b437432eccaa9c51e72264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5632518b24b437432eccaa9c51e72264">&#9670;&#160;</a></span>objects_to_datetime64ns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.arrays.datetimes.objects_to_datetime64ns </td>
          <td>(</td>
          <td class="paramtype">np.ndarray&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dayfirst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>yearfirst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>utc</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>errors</em> = <code>&quot;raise&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>require_iso8601</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>allow_object</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>allow_mixed</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert data to array of timestamps.

Parameters
----------
data : np.ndarray[object]
dayfirst : bool
yearfirst : bool
utc : bool, default False
    Whether to convert timezone-aware timestamps to UTC.
errors : {'raise', 'ignore', 'coerce'}
require_iso8601 : bool, default False
allow_object : bool
    Whether to return an object-dtype ndarray instead of raising if the
    data contains more than one timezone.
allow_mixed : bool, default False
    Interpret integers as timestamps when datetime objects are also present.

Returns
-------
result : ndarray
    np.int64 dtype if returned values represent UTC timestamps
    np.datetime64[ns] if returned values represent wall times
    object if mixed timezones
inferred_tz : tzinfo or None

Raises
------
ValueError : if data cannot be converted to datetimes
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2138</span>):</div>
<div class="line"><span class="lineno"> 2139</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2140</span><span class="stringliteral">    Convert data to array of timestamps.</span></div>
<div class="line"><span class="lineno"> 2141</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2142</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2143</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2144</span><span class="stringliteral">    data : np.ndarray[object]</span></div>
<div class="line"><span class="lineno"> 2145</span><span class="stringliteral">    dayfirst : bool</span></div>
<div class="line"><span class="lineno"> 2146</span><span class="stringliteral">    yearfirst : bool</span></div>
<div class="line"><span class="lineno"> 2147</span><span class="stringliteral">    utc : bool, default False</span></div>
<div class="line"><span class="lineno"> 2148</span><span class="stringliteral">        Whether to convert timezone-aware timestamps to UTC.</span></div>
<div class="line"><span class="lineno"> 2149</span><span class="stringliteral">    errors : {&#39;raise&#39;, &#39;ignore&#39;, &#39;coerce&#39;}</span></div>
<div class="line"><span class="lineno"> 2150</span><span class="stringliteral">    require_iso8601 : bool, default False</span></div>
<div class="line"><span class="lineno"> 2151</span><span class="stringliteral">    allow_object : bool</span></div>
<div class="line"><span class="lineno"> 2152</span><span class="stringliteral">        Whether to return an object-dtype ndarray instead of raising if the</span></div>
<div class="line"><span class="lineno"> 2153</span><span class="stringliteral">        data contains more than one timezone.</span></div>
<div class="line"><span class="lineno"> 2154</span><span class="stringliteral">    allow_mixed : bool, default False</span></div>
<div class="line"><span class="lineno"> 2155</span><span class="stringliteral">        Interpret integers as timestamps when datetime objects are also present.</span></div>
<div class="line"><span class="lineno"> 2156</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2157</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2158</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2159</span><span class="stringliteral">    result : ndarray</span></div>
<div class="line"><span class="lineno"> 2160</span><span class="stringliteral">        np.int64 dtype if returned values represent UTC timestamps</span></div>
<div class="line"><span class="lineno"> 2161</span><span class="stringliteral">        np.datetime64[ns] if returned values represent wall times</span></div>
<div class="line"><span class="lineno"> 2162</span><span class="stringliteral">        object if mixed timezones</span></div>
<div class="line"><span class="lineno"> 2163</span><span class="stringliteral">    inferred_tz : tzinfo or None</span></div>
<div class="line"><span class="lineno"> 2164</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2165</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 2166</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 2167</span><span class="stringliteral">    ValueError : if data cannot be converted to datetimes</span></div>
<div class="line"><span class="lineno"> 2168</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2169</span>    <span class="keyword">assert</span> errors <span class="keywordflow">in</span> [<span class="stringliteral">&quot;raise&quot;</span>, <span class="stringliteral">&quot;ignore&quot;</span>, <span class="stringliteral">&quot;coerce&quot;</span>]</div>
<div class="line"><span class="lineno"> 2170</span> </div>
<div class="line"><span class="lineno"> 2171</span>    <span class="comment"># if str-dtype, convert</span></div>
<div class="line"><span class="lineno"> 2172</span>    data = np.array(data, copy=<span class="keyword">False</span>, dtype=np.object_)</div>
<div class="line"><span class="lineno"> 2173</span> </div>
<div class="line"><span class="lineno"> 2174</span>    flags = data.flags</div>
<div class="line"><span class="lineno"> 2175</span>    order: Literal[<span class="stringliteral">&quot;F&quot;</span>, <span class="stringliteral">&quot;C&quot;</span>] = <span class="stringliteral">&quot;F&quot;</span> <span class="keywordflow">if</span> flags.f_contiguous <span class="keywordflow">else</span> <span class="stringliteral">&quot;C&quot;</span></div>
<div class="line"><span class="lineno"> 2176</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2177</span>        result, tz_parsed = tslib.array_to_datetime(</div>
<div class="line"><span class="lineno"> 2178</span>            data.ravel(<span class="stringliteral">&quot;K&quot;</span>),</div>
<div class="line"><span class="lineno"> 2179</span>            errors=errors,</div>
<div class="line"><span class="lineno"> 2180</span>            utc=utc,</div>
<div class="line"><span class="lineno"> 2181</span>            dayfirst=dayfirst,</div>
<div class="line"><span class="lineno"> 2182</span>            yearfirst=yearfirst,</div>
<div class="line"><span class="lineno"> 2183</span>            require_iso8601=require_iso8601,</div>
<div class="line"><span class="lineno"> 2184</span>            allow_mixed=allow_mixed,</div>
<div class="line"><span class="lineno"> 2185</span>        )</div>
<div class="line"><span class="lineno"> 2186</span>        result = result.reshape(data.shape, order=order)</div>
<div class="line"><span class="lineno"> 2187</span>    <span class="keywordflow">except</span> OverflowError <span class="keyword">as</span> err:</div>
<div class="line"><span class="lineno"> 2188</span>        <span class="comment"># Exception is raised when a part of date is greater than 32 bit signed int</span></div>
<div class="line"><span class="lineno"> 2189</span>        <span class="keywordflow">raise</span> OutOfBoundsDatetime(<span class="stringliteral">&quot;Out of bounds nanosecond timestamp&quot;</span>) <span class="keyword">from</span> err</div>
<div class="line"><span class="lineno"> 2190</span> </div>
<div class="line"><span class="lineno"> 2191</span>    <span class="keywordflow">if</span> tz_parsed <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2192</span>        <span class="comment"># We can take a shortcut since the datetime64 numpy array</span></div>
<div class="line"><span class="lineno"> 2193</span>        <span class="comment">#  is in UTC</span></div>
<div class="line"><span class="lineno"> 2194</span>        <span class="comment"># Return i8 values to denote unix timestamps</span></div>
<div class="line"><span class="lineno"> 2195</span>        <span class="keywordflow">return</span> result.view(<span class="stringliteral">&quot;i8&quot;</span>), tz_parsed</div>
<div class="line"><span class="lineno"> 2196</span>    <span class="keywordflow">elif</span> is_datetime64_dtype(result):</div>
<div class="line"><span class="lineno"> 2197</span>        <span class="comment"># returning M8[ns] denotes wall-times; since tz is None</span></div>
<div class="line"><span class="lineno"> 2198</span>        <span class="comment">#  the distinction is a thin one</span></div>
<div class="line"><span class="lineno"> 2199</span>        <span class="keywordflow">return</span> result, tz_parsed</div>
<div class="line"><span class="lineno"> 2200</span>    <span class="keywordflow">elif</span> is_object_dtype(result):</div>
<div class="line"><span class="lineno"> 2201</span>        <span class="comment"># GH#23675 when called via `pd.to_datetime`, returning an object-dtype</span></div>
<div class="line"><span class="lineno"> 2202</span>        <span class="comment">#  array is allowed.  When called via `pd.DatetimeIndex`, we can</span></div>
<div class="line"><span class="lineno"> 2203</span>        <span class="comment">#  only accept datetime64 dtype, so raise TypeError if object-dtype</span></div>
<div class="line"><span class="lineno"> 2204</span>        <span class="comment">#  is returned, as that indicates the values can be recognized as</span></div>
<div class="line"><span class="lineno"> 2205</span>        <span class="comment">#  datetimes but they have conflicting timezones/awareness</span></div>
<div class="line"><span class="lineno"> 2206</span>        <span class="keywordflow">if</span> allow_object:</div>
<div class="line"><span class="lineno"> 2207</span>            <span class="keywordflow">return</span> result, tz_parsed</div>
<div class="line"><span class="lineno"> 2208</span>        <span class="keywordflow">raise</span> TypeError(result)</div>
<div class="line"><span class="lineno"> 2209</span>    <span class="keywordflow">else</span>:  <span class="comment"># pragma: no cover</span></div>
<div class="line"><span class="lineno"> 2210</span>        <span class="comment"># GH#23675 this TypeError should never be hit, whereas the TypeError</span></div>
<div class="line"><span class="lineno"> 2211</span>        <span class="comment">#  in the object-dtype branch above is reachable.</span></div>
<div class="line"><span class="lineno"> 2212</span>        <span class="keywordflow">raise</span> TypeError(result)</div>
<div class="line"><span class="lineno"> 2213</span> </div>
<div class="line"><span class="lineno"> 2214</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6811f9bad585197046cc0946946ede4" name="aa6811f9bad585197046cc0946946ede4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6811f9bad585197046cc0946946ede4">&#9670;&#160;</a></span>sequence_to_datetimes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classpandas_1_1core_1_1arrays_1_1datetimes_1_1_datetime_array.html">DatetimeArray</a> pandas.core.arrays.datetimes.sequence_to_datetimes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>require_iso8601</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parse/convert the passed data to either DatetimeArray or np.ndarray[object].
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1965</span><span class="keyword">def </span>sequence_to_datetimes(data, require_iso8601: bool = <span class="keyword">False</span>) -&gt; DatetimeArray:</div>
<div class="line"><span class="lineno"> 1966</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1967</span><span class="stringliteral">    Parse/convert the passed data to either DatetimeArray or np.ndarray[object].</span></div>
<div class="line"><span class="lineno"> 1968</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1969</span>    result, tz, freq = _sequence_to_dt64ns(</div>
<div class="line"><span class="lineno"> 1970</span>        data,</div>
<div class="line"><span class="lineno"> 1971</span>        allow_mixed=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1972</span>        require_iso8601=require_iso8601,</div>
<div class="line"><span class="lineno"> 1973</span>    )</div>
<div class="line"><span class="lineno"> 1974</span> </div>
<div class="line"><span class="lineno"> 1975</span>    dtype = tz_to_dtype(tz)</div>
<div class="line"><span class="lineno"> 1976</span>    dta = DatetimeArray._simple_new(result, freq=freq, dtype=dtype)</div>
<div class="line"><span class="lineno"> 1977</span>    <span class="keywordflow">return</span> dta</div>
<div class="line"><span class="lineno"> 1978</span> </div>
<div class="line"><span class="lineno"> 1979</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1286de6657d34134100e5d4b721e71b" name="ac1286de6657d34134100e5d4b721e71b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1286de6657d34134100e5d4b721e71b">&#9670;&#160;</a></span>tz_to_dtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.arrays.datetimes.tz_to_dtype </td>
          <td>(</td>
          <td class="paramtype">tzinfo | None&#160;</td>
          <td class="paramname"><em>tz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>unit</em> = <code>&quot;ns&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a datetime64[ns] dtype appropriate for the given timezone.

Parameters
----------
tz : tzinfo or None
unit : str, default "ns"

Returns
-------
np.dtype or Datetime64TZDType
</pre> <div class="fragment"><div class="line"><span class="lineno">   94</span><span class="keyword">def </span>tz_to_dtype(tz: tzinfo | <span class="keywordtype">None</span>, unit: str = <span class="stringliteral">&quot;ns&quot;</span>):</div>
<div class="line"><span class="lineno">   95</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    Return a datetime64[ns] dtype appropriate for the given timezone.</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">    tz : tzinfo or None</span></div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">    unit : str, default &quot;ns&quot;</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">    np.dtype or Datetime64TZDType</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">if</span> tz <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  108</span>        <span class="keywordflow">return</span> np.dtype(f<span class="stringliteral">&quot;M8[{unit}]&quot;</span>)</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">return</span> DatetimeTZDtype(tz=tz, unit=unit)</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab87eee1fd22d8d8524a33207462d3ba4" name="ab87eee1fd22d8d8524a33207462d3ba4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab87eee1fd22d8d8524a33207462d3ba4">&#9670;&#160;</a></span>validate_tz_from_dtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> tzinfo | None pandas.core.arrays.datetimes.validate_tz_from_dtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">tzinfo | None&#160;</td>
          <td class="paramname"><em>tz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">If the given dtype is a DatetimeTZDtype, extract the implied
tzinfo object from it and check that it does not conflict with the given
tz.

Parameters
----------
dtype : dtype, str
tz : None, tzinfo

Returns
-------
tz : consensus tzinfo

Raises
------
ValueError : on tzinfo mismatch
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2366</span><span class="keyword">def </span>validate_tz_from_dtype(dtype, tz: tzinfo | <span class="keywordtype">None</span>) -&gt; tzinfo | <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2367</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2368</span><span class="stringliteral">    If the given dtype is a DatetimeTZDtype, extract the implied</span></div>
<div class="line"><span class="lineno"> 2369</span><span class="stringliteral">    tzinfo object from it and check that it does not conflict with the given</span></div>
<div class="line"><span class="lineno"> 2370</span><span class="stringliteral">    tz.</span></div>
<div class="line"><span class="lineno"> 2371</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2372</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno"> 2373</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno"> 2374</span><span class="stringliteral">    dtype : dtype, str</span></div>
<div class="line"><span class="lineno"> 2375</span><span class="stringliteral">    tz : None, tzinfo</span></div>
<div class="line"><span class="lineno"> 2376</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2377</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno"> 2378</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno"> 2379</span><span class="stringliteral">    tz : consensus tzinfo</span></div>
<div class="line"><span class="lineno"> 2380</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2381</span><span class="stringliteral">    Raises</span></div>
<div class="line"><span class="lineno"> 2382</span><span class="stringliteral">    ------</span></div>
<div class="line"><span class="lineno"> 2383</span><span class="stringliteral">    ValueError : on tzinfo mismatch</span></div>
<div class="line"><span class="lineno"> 2384</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2385</span>    <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2386</span>        <span class="keywordflow">if</span> isinstance(dtype, str):</div>
<div class="line"><span class="lineno"> 2387</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2388</span>                dtype = DatetimeTZDtype.construct_from_string(dtype)</div>
<div class="line"><span class="lineno"> 2389</span>            <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno"> 2390</span>                <span class="comment"># Things like `datetime64[ns]`, which is OK for the</span></div>
<div class="line"><span class="lineno"> 2391</span>                <span class="comment"># constructors, but also nonsense, which should be validated</span></div>
<div class="line"><span class="lineno"> 2392</span>                <span class="comment"># but not by us. We *do* allow non-existent tz errors to</span></div>
<div class="line"><span class="lineno"> 2393</span>                <span class="comment"># go through</span></div>
<div class="line"><span class="lineno"> 2394</span>                <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 2395</span>        dtz = getattr(dtype, <span class="stringliteral">&quot;tz&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 2396</span>        <span class="keywordflow">if</span> dtz <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2397</span>            <span class="keywordflow">if</span> tz <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> timezones.tz_compare(tz, dtz):</div>
<div class="line"><span class="lineno"> 2398</span>                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;cannot supply both a tz and a dtype with a tz&quot;</span>)</div>
<div class="line"><span class="lineno"> 2399</span>            tz = dtz</div>
<div class="line"><span class="lineno"> 2400</span> </div>
<div class="line"><span class="lineno"> 2401</span>        <span class="keywordflow">if</span> tz <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> is_datetime64_dtype(dtype):</div>
<div class="line"><span class="lineno"> 2402</span>            <span class="comment"># We also need to check for the case where the user passed a</span></div>
<div class="line"><span class="lineno"> 2403</span>            <span class="comment">#  tz-naive dtype (i.e. datetime64[ns])</span></div>
<div class="line"><span class="lineno"> 2404</span>            <span class="keywordflow">if</span> tz <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> timezones.tz_compare(tz, dtz):</div>
<div class="line"><span class="lineno"> 2405</span>                <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno"> 2406</span>                    <span class="stringliteral">&quot;cannot supply both a tz and a &quot;</span></div>
<div class="line"><span class="lineno"> 2407</span>                    <span class="stringliteral">&quot;timezone-naive dtype (i.e. datetime64[ns])&quot;</span></div>
<div class="line"><span class="lineno"> 2408</span>                )</div>
<div class="line"><span class="lineno"> 2409</span> </div>
<div class="line"><span class="lineno"> 2410</span>    <span class="keywordflow">return</span> tz</div>
<div class="line"><span class="lineno"> 2411</span> </div>
<div class="line"><span class="lineno"> 2412</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7477c3a0faba11d857417da03b2e69ad" name="a7477c3a0faba11d857417da03b2e69ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7477c3a0faba11d857417da03b2e69ad">&#9670;&#160;</a></span>_midnight</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.arrays.datetimes._midnight = time(0, 0)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a070f95db08af35ac2b966b0e3b741e31" name="a070f95db08af35ac2b966b0e3b741e31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070f95db08af35ac2b966b0e3b741e31">&#9670;&#160;</a></span>freqstr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.arrays.datetimes.freqstr</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
