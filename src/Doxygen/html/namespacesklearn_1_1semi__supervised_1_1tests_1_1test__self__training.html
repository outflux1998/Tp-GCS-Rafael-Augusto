<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.semi_supervised.tests.test_self_training Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1semi__supervised.html">semi_supervised</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html">test_self_training</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sklearn.semi_supervised.tests.test_self_training Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aeae33121d7d6d1934ccd55e5879a212c" id="r_aeae33121d7d6d1934ccd55e5879a212c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#aeae33121d7d6d1934ccd55e5879a212c">test_warns_k_best</a> ()</td></tr>
<tr class="separator:aeae33121d7d6d1934ccd55e5879a212c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf872a155d39111435db4fbf82edfa22" id="r_acf872a155d39111435db4fbf82edfa22"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#acf872a155d39111435db4fbf82edfa22">test_classification</a> (base_estimator, selection_crit)</td></tr>
<tr class="separator:acf872a155d39111435db4fbf82edfa22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07b479cb59972dfff85b5346ce51ad52" id="r_a07b479cb59972dfff85b5346ce51ad52"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a07b479cb59972dfff85b5346ce51ad52">test_k_best</a> ()</td></tr>
<tr class="separator:a07b479cb59972dfff85b5346ce51ad52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2b6ca211be52790649696f1ea175088" id="r_af2b6ca211be52790649696f1ea175088"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#af2b6ca211be52790649696f1ea175088">test_sanity_classification</a> ()</td></tr>
<tr class="separator:af2b6ca211be52790649696f1ea175088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bd6a4e5be9304ad89cf33304b8aef34" id="r_a4bd6a4e5be9304ad89cf33304b8aef34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a4bd6a4e5be9304ad89cf33304b8aef34">test_none_iter</a> ()</td></tr>
<tr class="separator:a4bd6a4e5be9304ad89cf33304b8aef34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37efe40b0ce0694c247d8b6dd722e176" id="r_a37efe40b0ce0694c247d8b6dd722e176"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a37efe40b0ce0694c247d8b6dd722e176">test_zero_iterations</a> (base_estimator, y)</td></tr>
<tr class="separator:a37efe40b0ce0694c247d8b6dd722e176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157c9c0da589090979b10e0c61ecd39f" id="r_a157c9c0da589090979b10e0c61ecd39f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a157c9c0da589090979b10e0c61ecd39f">test_prefitted_throws_error</a> ()</td></tr>
<tr class="separator:a157c9c0da589090979b10e0c61ecd39f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cbda8c8ff953fdfd36c59f1d58215b6" id="r_a9cbda8c8ff953fdfd36c59f1d58215b6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a9cbda8c8ff953fdfd36c59f1d58215b6">test_labeled_iter</a> (max_iter)</td></tr>
<tr class="separator:a9cbda8c8ff953fdfd36c59f1d58215b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e9aca52ee83cacf2d5346ab0b4dbfb1" id="r_a5e9aca52ee83cacf2d5346ab0b4dbfb1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a5e9aca52ee83cacf2d5346ab0b4dbfb1">test_no_unlabeled</a> ()</td></tr>
<tr class="separator:a5e9aca52ee83cacf2d5346ab0b4dbfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a874488280911d24aae0eeb616180f204" id="r_a874488280911d24aae0eeb616180f204"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a874488280911d24aae0eeb616180f204">test_early_stopping</a> ()</td></tr>
<tr class="separator:a874488280911d24aae0eeb616180f204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7f3e5cf163974a06e7a6e4d3e232fa9" id="r_af7f3e5cf163974a06e7a6e4d3e232fa9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#af7f3e5cf163974a06e7a6e4d3e232fa9">test_strings_dtype</a> ()</td></tr>
<tr class="separator:af7f3e5cf163974a06e7a6e4d3e232fa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65c741b1c34dc8161d82a81e88aab19b" id="r_a65c741b1c34dc8161d82a81e88aab19b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a65c741b1c34dc8161d82a81e88aab19b">test_verbose</a> (capsys, verbose)</td></tr>
<tr class="separator:a65c741b1c34dc8161d82a81e88aab19b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a5bb5941141f87fd9f35ddb25af78b" id="r_a00a5bb5941141f87fd9f35ddb25af78b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a00a5bb5941141f87fd9f35ddb25af78b">test_verbose_k_best</a> (capsys)</td></tr>
<tr class="separator:a00a5bb5941141f87fd9f35ddb25af78b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaef40f12006f95fa54f4e45205b166b4" id="r_aaef40f12006f95fa54f4e45205b166b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#aaef40f12006f95fa54f4e45205b166b4">test_k_best_selects_best</a> ()</td></tr>
<tr class="separator:aaef40f12006f95fa54f4e45205b166b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc6680d51d6afdfd88d2726cbf2725f7" id="r_acc6680d51d6afdfd88d2726cbf2725f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#acc6680d51d6afdfd88d2726cbf2725f7">test_base_estimator_meta_estimator</a> ()</td></tr>
<tr class="separator:acc6680d51d6afdfd88d2726cbf2725f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae792516b73d6a2b9d1ff94d0d0f012ee" id="r_ae792516b73d6a2b9d1ff94d0d0f012ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#ae792516b73d6a2b9d1ff94d0d0f012ee">test_missing_predict_proba</a> ()</td></tr>
<tr class="separator:ae792516b73d6a2b9d1ff94d0d0f012ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a12317776bddb101252cf0a51c8c26a69" id="r_a12317776bddb101252cf0a51c8c26a69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a12317776bddb101252cf0a51c8c26a69">iris</a> = load_iris()</td></tr>
<tr class="separator:a12317776bddb101252cf0a51c8c26a69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaecb1028964bb4913fc01709efb335aa" id="r_aaecb1028964bb4913fc01709efb335aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#aaecb1028964bb4913fc01709efb335aa">X_train</a></td></tr>
<tr class="separator:aaecb1028964bb4913fc01709efb335aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a454edfb198fa0f613373c98715efd93a" id="r_a454edfb198fa0f613373c98715efd93a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a454edfb198fa0f613373c98715efd93a">X_test</a></td></tr>
<tr class="separator:a454edfb198fa0f613373c98715efd93a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b3acfe269ece75039c888670e00582e" id="r_a9b3acfe269ece75039c888670e00582e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a9b3acfe269ece75039c888670e00582e">y_train</a></td></tr>
<tr class="separator:a9b3acfe269ece75039c888670e00582e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20a4f06f6bad0243bcd5e16431b2cd31" id="r_a20a4f06f6bad0243bcd5e16431b2cd31"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a20a4f06f6bad0243bcd5e16431b2cd31">y_test</a></td></tr>
<tr class="separator:a20a4f06f6bad0243bcd5e16431b2cd31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a302f31715498a374c7e4834210a083" id="r_a9a302f31715498a374c7e4834210a083"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a9a302f31715498a374c7e4834210a083">target</a></td></tr>
<tr class="separator:a9a302f31715498a374c7e4834210a083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6809339fbf282d6141dd1e4c6d53ac8b" id="r_a6809339fbf282d6141dd1e4c6d53ac8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a6809339fbf282d6141dd1e4c6d53ac8b">random_state</a></td></tr>
<tr class="separator:a6809339fbf282d6141dd1e4c6d53ac8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a296c1e58cd949ea6020785273c139f72" id="r_a296c1e58cd949ea6020785273c139f72"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a296c1e58cd949ea6020785273c139f72">n_labeled_samples</a> = 50</td></tr>
<tr class="separator:a296c1e58cd949ea6020785273c139f72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58174b0773a9dfbdfcdaf99daa37213e" id="r_a58174b0773a9dfbdfcdaf99daa37213e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a58174b0773a9dfbdfcdaf99daa37213e">y_train_missing_labels</a> = y_train.copy()</td></tr>
<tr class="separator:a58174b0773a9dfbdfcdaf99daa37213e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbd6a75e8b737a911246fad46d96f7df" id="r_abbd6a75e8b737a911246fad46d96f7df"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#abbd6a75e8b737a911246fad46d96f7df">mapping</a> = {0: &quot;A&quot;, 1: &quot;B&quot;, 2: &quot;C&quot;, -1: &quot;-1&quot;}</td></tr>
<tr class="separator:abbd6a75e8b737a911246fad46d96f7df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e59c106f5bdbcd4824af49cba206551" id="r_a6e59c106f5bdbcd4824af49cba206551"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1semi__supervised_1_1tests_1_1test__self__training.html#a6e59c106f5bdbcd4824af49cba206551">y_train_missing_strings</a></td></tr>
<tr class="separator:a6e59c106f5bdbcd4824af49cba206551"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="acc6680d51d6afdfd88d2726cbf2725f7" name="acc6680d51d6afdfd88d2726cbf2725f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc6680d51d6afdfd88d2726cbf2725f7">&#9670;&#160;</a></span>test_base_estimator_meta_estimator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_base_estimator_meta_estimator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  283</span><span class="keyword">def </span>test_base_estimator_meta_estimator():</div>
<div class="line"><span class="lineno">  284</span>    <span class="comment"># Check that a meta-estimator relying on an estimator implementing</span></div>
<div class="line"><span class="lineno">  285</span>    <span class="comment"># `predict_proba` will work even if it does not expose this method before being</span></div>
<div class="line"><span class="lineno">  286</span>    <span class="comment"># fitted.</span></div>
<div class="line"><span class="lineno">  287</span>    <span class="comment"># Non-regression test for:</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="comment"># https://github.com/scikit-learn/scikit-learn/issues/19119</span></div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span>    base_estimator = StackingClassifier(</div>
<div class="line"><span class="lineno">  291</span>        estimators=[</div>
<div class="line"><span class="lineno">  292</span>            (<span class="stringliteral">&quot;svc_1&quot;</span>, SVC(probability=<span class="keyword">True</span>)),</div>
<div class="line"><span class="lineno">  293</span>            (<span class="stringliteral">&quot;svc_2&quot;</span>, SVC(probability=<span class="keyword">True</span>)),</div>
<div class="line"><span class="lineno">  294</span>        ],</div>
<div class="line"><span class="lineno">  295</span>        final_estimator=SVC(probability=<span class="keyword">True</span>),</div>
<div class="line"><span class="lineno">  296</span>        cv=2,</div>
<div class="line"><span class="lineno">  297</span>    )</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    <span class="keyword">assert</span> hasattr(base_estimator, <span class="stringliteral">&quot;predict_proba&quot;</span>)</div>
<div class="line"><span class="lineno">  300</span>    clf = SelfTrainingClassifier(base_estimator=base_estimator)</div>
<div class="line"><span class="lineno">  301</span>    clf.fit(X_train, y_train_missing_labels)</div>
<div class="line"><span class="lineno">  302</span>    clf.predict_proba(X_test)</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    base_estimator = StackingClassifier(</div>
<div class="line"><span class="lineno">  305</span>        estimators=[</div>
<div class="line"><span class="lineno">  306</span>            (<span class="stringliteral">&quot;svc_1&quot;</span>, SVC(probability=<span class="keyword">False</span>)),</div>
<div class="line"><span class="lineno">  307</span>            (<span class="stringliteral">&quot;svc_2&quot;</span>, SVC(probability=<span class="keyword">False</span>)),</div>
<div class="line"><span class="lineno">  308</span>        ],</div>
<div class="line"><span class="lineno">  309</span>        final_estimator=SVC(probability=<span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">  310</span>        cv=2,</div>
<div class="line"><span class="lineno">  311</span>    )</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> hasattr(base_estimator, <span class="stringliteral">&quot;predict_proba&quot;</span>)</div>
<div class="line"><span class="lineno">  314</span>    clf = SelfTrainingClassifier(base_estimator=base_estimator)</div>
<div class="line"><span class="lineno">  315</span>    <span class="keyword">with</span> pytest.raises(AttributeError):</div>
<div class="line"><span class="lineno">  316</span>        clf.fit(X_train, y_train_missing_labels)</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acf872a155d39111435db4fbf82edfa22" name="acf872a155d39111435db4fbf82edfa22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf872a155d39111435db4fbf82edfa22">&#9670;&#160;</a></span>test_classification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_classification </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base_estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>selection_crit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   50</span><span class="keyword">def </span>test_classification(base_estimator, selection_crit):</div>
<div class="line"><span class="lineno">   51</span>    <span class="comment"># Check classification for various parameter settings.</span></div>
<div class="line"><span class="lineno">   52</span>    <span class="comment"># Also assert that predictions for strings and numerical labels are equal.</span></div>
<div class="line"><span class="lineno">   53</span>    <span class="comment"># Also test for multioutput classification</span></div>
<div class="line"><span class="lineno">   54</span>    threshold = 0.75</div>
<div class="line"><span class="lineno">   55</span>    max_iter = 10</div>
<div class="line"><span class="lineno">   56</span>    st = SelfTrainingClassifier(</div>
<div class="line"><span class="lineno">   57</span>        base_estimator, max_iter=max_iter, threshold=threshold, criterion=selection_crit</div>
<div class="line"><span class="lineno">   58</span>    )</div>
<div class="line"><span class="lineno">   59</span>    st.fit(X_train, y_train_missing_labels)</div>
<div class="line"><span class="lineno">   60</span>    pred = st.predict(X_test)</div>
<div class="line"><span class="lineno">   61</span>    proba = st.predict_proba(X_test)</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span>    st_string = SelfTrainingClassifier(</div>
<div class="line"><span class="lineno">   64</span>        base_estimator, max_iter=max_iter, criterion=selection_crit, threshold=threshold</div>
<div class="line"><span class="lineno">   65</span>    )</div>
<div class="line"><span class="lineno">   66</span>    st_string.fit(X_train, y_train_missing_strings)</div>
<div class="line"><span class="lineno">   67</span>    pred_string = st_string.predict(X_test)</div>
<div class="line"><span class="lineno">   68</span>    proba_string = st_string.predict_proba(X_test)</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    assert_array_equal(np.vectorize(mapping.get)(pred), pred_string)</div>
<div class="line"><span class="lineno">   71</span>    assert_array_equal(proba, proba_string)</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>    <span class="keyword">assert</span> st.termination_condition_ == st_string.termination_condition_</div>
<div class="line"><span class="lineno">   74</span>    <span class="comment"># Check consistency between labeled_iter, n_iter and max_iter</span></div>
<div class="line"><span class="lineno">   75</span>    labeled = y_train_missing_labels != -1</div>
<div class="line"><span class="lineno">   76</span>    <span class="comment"># assert that labeled samples have labeled_iter = 0</span></div>
<div class="line"><span class="lineno">   77</span>    assert_array_equal(st.labeled_iter_ == 0, labeled)</div>
<div class="line"><span class="lineno">   78</span>    <span class="comment"># assert that labeled samples do not change label during training</span></div>
<div class="line"><span class="lineno">   79</span>    assert_array_equal(y_train_missing_labels[labeled], st.transduction_[labeled])</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>    <span class="comment"># assert that the max of the iterations is less than the total amount of</span></div>
<div class="line"><span class="lineno">   82</span>    <span class="comment"># iterations</span></div>
<div class="line"><span class="lineno">   83</span>    <span class="keyword">assert</span> np.max(st.labeled_iter_) &lt;= st.n_iter_ &lt;= max_iter</div>
<div class="line"><span class="lineno">   84</span>    <span class="keyword">assert</span> np.max(st_string.labeled_iter_) &lt;= st_string.n_iter_ &lt;= max_iter</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>    <span class="comment"># check shapes</span></div>
<div class="line"><span class="lineno">   87</span>    <span class="keyword">assert</span> st.labeled_iter_.shape == st.transduction_.shape</div>
<div class="line"><span class="lineno">   88</span>    <span class="keyword">assert</span> st_string.labeled_iter_.shape == st_string.transduction_.shape</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a874488280911d24aae0eeb616180f204" name="a874488280911d24aae0eeb616180f204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a874488280911d24aae0eeb616180f204">&#9670;&#160;</a></span>test_early_stopping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_early_stopping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  202</span><span class="keyword">def </span>test_early_stopping():</div>
<div class="line"><span class="lineno">  203</span>    svc = SVC(gamma=<span class="stringliteral">&quot;scale&quot;</span>, probability=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  204</span>    st = SelfTrainingClassifier(svc)</div>
<div class="line"><span class="lineno">  205</span>    X_train_easy = [[1], [0], [1], [0.5]]</div>
<div class="line"><span class="lineno">  206</span>    y_train_easy = [1, 0, -1, -1]</div>
<div class="line"><span class="lineno">  207</span>    <span class="comment"># X = [[0.5]] cannot be predicted on with a high confidence, so training</span></div>
<div class="line"><span class="lineno">  208</span>    <span class="comment"># stops early</span></div>
<div class="line"><span class="lineno">  209</span>    st.fit(X_train_easy, y_train_easy)</div>
<div class="line"><span class="lineno">  210</span>    <span class="keyword">assert</span> st.n_iter_ == 1</div>
<div class="line"><span class="lineno">  211</span>    <span class="keyword">assert</span> st.termination_condition_ == <span class="stringliteral">&quot;no_change&quot;</span></div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a07b479cb59972dfff85b5346ce51ad52" name="a07b479cb59972dfff85b5346ce51ad52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07b479cb59972dfff85b5346ce51ad52">&#9670;&#160;</a></span>test_k_best()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_k_best </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   91</span><span class="keyword">def </span>test_k_best():</div>
<div class="line"><span class="lineno">   92</span>    st = SelfTrainingClassifier(</div>
<div class="line"><span class="lineno">   93</span>        KNeighborsClassifier(n_neighbors=1),</div>
<div class="line"><span class="lineno">   94</span>        criterion=<span class="stringliteral">&quot;k_best&quot;</span>,</div>
<div class="line"><span class="lineno">   95</span>        k_best=10,</div>
<div class="line"><span class="lineno">   96</span>        max_iter=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">   97</span>    )</div>
<div class="line"><span class="lineno">   98</span>    y_train_only_one_label = np.copy(y_train)</div>
<div class="line"><span class="lineno">   99</span>    y_train_only_one_label[1:] = -1</div>
<div class="line"><span class="lineno">  100</span>    n_samples = y_train.shape[0]</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    n_expected_iter = ceil((n_samples - 1) / 10)</div>
<div class="line"><span class="lineno">  103</span>    st.fit(X_train, y_train_only_one_label)</div>
<div class="line"><span class="lineno">  104</span>    <span class="keyword">assert</span> st.n_iter_ == n_expected_iter</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    <span class="comment"># Check labeled_iter_</span></div>
<div class="line"><span class="lineno">  107</span>    <span class="keyword">assert</span> np.sum(st.labeled_iter_ == 0) == 1</div>
<div class="line"><span class="lineno">  108</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, n_expected_iter):</div>
<div class="line"><span class="lineno">  109</span>        <span class="keyword">assert</span> np.sum(st.labeled_iter_ == i) == 10</div>
<div class="line"><span class="lineno">  110</span>    <span class="keyword">assert</span> np.sum(st.labeled_iter_ == n_expected_iter) == (n_samples - 1) % 10</div>
<div class="line"><span class="lineno">  111</span>    <span class="keyword">assert</span> st.termination_condition_ == <span class="stringliteral">&quot;all_labeled&quot;</span></div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaef40f12006f95fa54f4e45205b166b4" name="aaef40f12006f95fa54f4e45205b166b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaef40f12006f95fa54f4e45205b166b4">&#9670;&#160;</a></span>test_k_best_selects_best()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_k_best_selects_best </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  263</span><span class="keyword">def </span>test_k_best_selects_best():</div>
<div class="line"><span class="lineno">  264</span>    <span class="comment"># Tests that the labels added by st really are the 10 best labels.</span></div>
<div class="line"><span class="lineno">  265</span>    svc = SVC(gamma=<span class="stringliteral">&quot;scale&quot;</span>, probability=<span class="keyword">True</span>, random_state=0)</div>
<div class="line"><span class="lineno">  266</span>    st = SelfTrainingClassifier(svc, criterion=<span class="stringliteral">&quot;k_best&quot;</span>, max_iter=1, k_best=10)</div>
<div class="line"><span class="lineno">  267</span>    has_label = y_train_missing_labels != -1</div>
<div class="line"><span class="lineno">  268</span>    st.fit(X_train, y_train_missing_labels)</div>
<div class="line"><span class="lineno">  269</span> </div>
<div class="line"><span class="lineno">  270</span>    got_label = ~has_label &amp; (st.transduction_ != -1)</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    svc.fit(X_train[has_label], y_train_missing_labels[has_label])</div>
<div class="line"><span class="lineno">  273</span>    pred = svc.predict_proba(X_train[~has_label])</div>
<div class="line"><span class="lineno">  274</span>    max_proba = np.max(pred, axis=1)</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    most_confident_svc = X_train[~has_label][np.argsort(max_proba)[-10:]]</div>
<div class="line"><span class="lineno">  277</span>    added_by_st = X_train[np.where(got_label)].tolist()</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">for</span> row <span class="keywordflow">in</span> most_confident_svc.tolist():</div>
<div class="line"><span class="lineno">  280</span>        <span class="keyword">assert</span> row <span class="keywordflow">in</span> added_by_st</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9cbda8c8ff953fdfd36c59f1d58215b6" name="a9cbda8c8ff953fdfd36c59f1d58215b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cbda8c8ff953fdfd36c59f1d58215b6">&#9670;&#160;</a></span>test_labeled_iter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_labeled_iter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_iter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  174</span><span class="keyword">def </span>test_labeled_iter(max_iter):</div>
<div class="line"><span class="lineno">  175</span>    <span class="comment"># Check that the amount of datapoints labeled in iteration 0 is equal to</span></div>
<div class="line"><span class="lineno">  176</span>    <span class="comment"># the amount of labeled datapoints we passed.</span></div>
<div class="line"><span class="lineno">  177</span>    st = SelfTrainingClassifier(KNeighborsClassifier(), max_iter=max_iter)</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    st.fit(X_train, y_train_missing_labels)</div>
<div class="line"><span class="lineno">  180</span>    amount_iter_0 = len(st.labeled_iter_[st.labeled_iter_ == 0])</div>
<div class="line"><span class="lineno">  181</span>    <span class="keyword">assert</span> amount_iter_0 == n_labeled_samples</div>
<div class="line"><span class="lineno">  182</span>    <span class="comment"># Check that the max of the iterations is less than the total amount of</span></div>
<div class="line"><span class="lineno">  183</span>    <span class="comment"># iterations</span></div>
<div class="line"><span class="lineno">  184</span>    <span class="keyword">assert</span> np.max(st.labeled_iter_) &lt;= st.n_iter_ &lt;= max_iter</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae792516b73d6a2b9d1ff94d0d0f012ee" name="ae792516b73d6a2b9d1ff94d0d0f012ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae792516b73d6a2b9d1ff94d0d0f012ee">&#9670;&#160;</a></span>test_missing_predict_proba()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_missing_predict_proba </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  319</span><span class="keyword">def </span>test_missing_predict_proba():</div>
<div class="line"><span class="lineno">  320</span>    <span class="comment"># Check that an error is thrown if predict_proba is not implemented</span></div>
<div class="line"><span class="lineno">  321</span>    base_estimator = SVC(probability=<span class="keyword">False</span>, gamma=<span class="stringliteral">&quot;scale&quot;</span>)</div>
<div class="line"><span class="lineno">  322</span>    self_training = SelfTrainingClassifier(base_estimator)</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    <span class="keyword">with</span> pytest.raises(AttributeError, match=<span class="stringliteral">&quot;predict_proba is not available&quot;</span>):</div>
<div class="line"><span class="lineno">  325</span>        self_training.fit(X_train, y_train_missing_labels)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e9aca52ee83cacf2d5346ab0b4dbfb1" name="a5e9aca52ee83cacf2d5346ab0b4dbfb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e9aca52ee83cacf2d5346ab0b4dbfb1">&#9670;&#160;</a></span>test_no_unlabeled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_no_unlabeled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  187</span><span class="keyword">def </span>test_no_unlabeled():</div>
<div class="line"><span class="lineno">  188</span>    <span class="comment"># Test that training on a fully labeled dataset produces the same results</span></div>
<div class="line"><span class="lineno">  189</span>    <span class="comment"># as training the classifier by itself.</span></div>
<div class="line"><span class="lineno">  190</span>    knn = KNeighborsClassifier()</div>
<div class="line"><span class="lineno">  191</span>    knn.fit(X_train, y_train)</div>
<div class="line"><span class="lineno">  192</span>    st = SelfTrainingClassifier(knn)</div>
<div class="line"><span class="lineno">  193</span>    <span class="keyword">with</span> pytest.warns(UserWarning, match=<span class="stringliteral">&quot;y contains no unlabeled samples&quot;</span>):</div>
<div class="line"><span class="lineno">  194</span>        st.fit(X_train, y_train)</div>
<div class="line"><span class="lineno">  195</span>    assert_array_equal(knn.predict(X_test), st.predict(X_test))</div>
<div class="line"><span class="lineno">  196</span>    <span class="comment"># Assert that all samples were labeled in iteration 0 (since there were no</span></div>
<div class="line"><span class="lineno">  197</span>    <span class="comment"># unlabeled samples).</span></div>
<div class="line"><span class="lineno">  198</span>    <span class="keyword">assert</span> np.all(st.labeled_iter_ == 0)</div>
<div class="line"><span class="lineno">  199</span>    <span class="keyword">assert</span> st.termination_condition_ == <span class="stringliteral">&quot;all_labeled&quot;</span></div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4bd6a4e5be9304ad89cf33304b8aef34" name="a4bd6a4e5be9304ad89cf33304b8aef34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bd6a4e5be9304ad89cf33304b8aef34">&#9670;&#160;</a></span>test_none_iter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_none_iter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  129</span><span class="keyword">def </span>test_none_iter():</div>
<div class="line"><span class="lineno">  130</span>    <span class="comment"># Check that the all samples were labeled after a &#39;reasonable&#39; number of</span></div>
<div class="line"><span class="lineno">  131</span>    <span class="comment"># iterations.</span></div>
<div class="line"><span class="lineno">  132</span>    st = SelfTrainingClassifier(KNeighborsClassifier(), threshold=0.55, max_iter=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  133</span>    st.fit(X_train, y_train_missing_labels)</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    <span class="keyword">assert</span> st.n_iter_ &lt; 10</div>
<div class="line"><span class="lineno">  136</span>    <span class="keyword">assert</span> st.termination_condition_ == <span class="stringliteral">&quot;all_labeled&quot;</span></div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  140</span>    <span class="stringliteral">&quot;base_estimator&quot;</span>,</div>
<div class="line"><span class="lineno">  141</span>    [KNeighborsClassifier(), SVC(gamma=<span class="stringliteral">&quot;scale&quot;</span>, probability=<span class="keyword">True</span>, random_state=0)],</div>
<div class="line"><span class="lineno">  142</span>)</div>
<div class="line"><span class="lineno">  143</span><span class="preprocessor">@pytest.mark.parametrize(&quot;y&quot;, [y_train_missing_labels, y_train_missing_strings])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a157c9c0da589090979b10e0c61ecd39f" name="a157c9c0da589090979b10e0c61ecd39f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157c9c0da589090979b10e0c61ecd39f">&#9670;&#160;</a></span>test_prefitted_throws_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_prefitted_throws_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  160</span><span class="keyword">def </span>test_prefitted_throws_error():</div>
<div class="line"><span class="lineno">  161</span>    <span class="comment"># Test that passing a pre-fitted classifier and calling predict throws an</span></div>
<div class="line"><span class="lineno">  162</span>    <span class="comment"># error</span></div>
<div class="line"><span class="lineno">  163</span>    knn = KNeighborsClassifier()</div>
<div class="line"><span class="lineno">  164</span>    knn.fit(X_train, y_train)</div>
<div class="line"><span class="lineno">  165</span>    st = SelfTrainingClassifier(knn)</div>
<div class="line"><span class="lineno">  166</span>    <span class="keyword">with</span> pytest.raises(</div>
<div class="line"><span class="lineno">  167</span>        NotFittedError,</div>
<div class="line"><span class="lineno">  168</span>        match=<span class="stringliteral">&quot;This SelfTrainingClassifier instance is not fitted yet&quot;</span>,</div>
<div class="line"><span class="lineno">  169</span>    ):</div>
<div class="line"><span class="lineno">  170</span>        st.predict(X_train)</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span><span class="preprocessor">@pytest.mark.parametrize(&quot;max_iter&quot;, range(1, 5)</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="af2b6ca211be52790649696f1ea175088" name="af2b6ca211be52790649696f1ea175088"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2b6ca211be52790649696f1ea175088">&#9670;&#160;</a></span>test_sanity_classification()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_sanity_classification </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  114</span><span class="keyword">def </span>test_sanity_classification():</div>
<div class="line"><span class="lineno">  115</span>    base_estimator = SVC(gamma=<span class="stringliteral">&quot;scale&quot;</span>, probability=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  116</span>    base_estimator.fit(X_train[n_labeled_samples:], y_train[n_labeled_samples:])</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>    st = SelfTrainingClassifier(base_estimator)</div>
<div class="line"><span class="lineno">  119</span>    st.fit(X_train, y_train_missing_labels)</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    pred1, pred2 = base_estimator.predict(X_test), st.predict(X_test)</div>
<div class="line"><span class="lineno">  122</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> np.array_equal(pred1, pred2)</div>
<div class="line"><span class="lineno">  123</span>    score_supervised = accuracy_score(base_estimator.predict(X_test), y_test)</div>
<div class="line"><span class="lineno">  124</span>    score_self_training = accuracy_score(st.predict(X_test), y_test)</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>    <span class="keyword">assert</span> score_self_training &gt; score_supervised</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af7f3e5cf163974a06e7a6e4d3e232fa9" name="af7f3e5cf163974a06e7a6e4d3e232fa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7f3e5cf163974a06e7a6e4d3e232fa9">&#9670;&#160;</a></span>test_strings_dtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_strings_dtype </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  214</span><span class="keyword">def </span>test_strings_dtype():</div>
<div class="line"><span class="lineno">  215</span>    clf = SelfTrainingClassifier(KNeighborsClassifier())</div>
<div class="line"><span class="lineno">  216</span>    X, y = make_blobs(n_samples=30, random_state=0, cluster_std=0.1)</div>
<div class="line"><span class="lineno">  217</span>    labels_multiclass = [<span class="stringliteral">&quot;one&quot;</span>, <span class="stringliteral">&quot;two&quot;</span>, <span class="stringliteral">&quot;three&quot;</span>]</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>    y_strings = np.take(labels_multiclass, y)</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;dtype&quot;</span>):</div>
<div class="line"><span class="lineno">  222</span>        clf.fit(X, y_strings)</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span><span class="preprocessor">@pytest.mark.parametrize(&quot;verbose&quot;, [True, False])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a65c741b1c34dc8161d82a81e88aab19b" name="a65c741b1c34dc8161d82a81e88aab19b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65c741b1c34dc8161d82a81e88aab19b">&#9670;&#160;</a></span>test_verbose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_verbose </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>capsys</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  226</span><span class="keyword">def </span>test_verbose(capsys, verbose):</div>
<div class="line"><span class="lineno">  227</span>    clf = SelfTrainingClassifier(KNeighborsClassifier(), verbose=verbose)</div>
<div class="line"><span class="lineno">  228</span>    clf.fit(X_train, y_train_missing_labels)</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>    captured = capsys.readouterr()</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">if</span> verbose:</div>
<div class="line"><span class="lineno">  233</span>        <span class="keyword">assert</span> <span class="stringliteral">&quot;iteration&quot;</span> <span class="keywordflow">in</span> captured.out</div>
<div class="line"><span class="lineno">  234</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  235</span>        <span class="keyword">assert</span> <span class="stringliteral">&quot;iteration&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> captured.out</div>
<div class="line"><span class="lineno">  236</span> </div>
<div class="line"><span class="lineno">  237</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a00a5bb5941141f87fd9f35ddb25af78b" name="a00a5bb5941141f87fd9f35ddb25af78b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00a5bb5941141f87fd9f35ddb25af78b">&#9670;&#160;</a></span>test_verbose_k_best()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_verbose_k_best </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>capsys</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  238</span><span class="keyword">def </span>test_verbose_k_best(capsys):</div>
<div class="line"><span class="lineno">  239</span>    st = SelfTrainingClassifier(</div>
<div class="line"><span class="lineno">  240</span>        KNeighborsClassifier(n_neighbors=1),</div>
<div class="line"><span class="lineno">  241</span>        criterion=<span class="stringliteral">&quot;k_best&quot;</span>,</div>
<div class="line"><span class="lineno">  242</span>        k_best=10,</div>
<div class="line"><span class="lineno">  243</span>        verbose=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  244</span>        max_iter=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  245</span>    )</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    y_train_only_one_label = np.copy(y_train)</div>
<div class="line"><span class="lineno">  248</span>    y_train_only_one_label[1:] = -1</div>
<div class="line"><span class="lineno">  249</span>    n_samples = y_train.shape[0]</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span>    n_expected_iter = ceil((n_samples - 1) / 10)</div>
<div class="line"><span class="lineno">  252</span>    st.fit(X_train, y_train_only_one_label)</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    captured = capsys.readouterr()</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    msg = <span class="stringliteral">&quot;End of iteration {}, added {} new labels.&quot;</span></div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, n_expected_iter):</div>
<div class="line"><span class="lineno">  258</span>        <span class="keyword">assert</span> msg.format(i, 10) <span class="keywordflow">in</span> captured.out</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>    <span class="keyword">assert</span> msg.format(n_expected_iter, (n_samples - 1) % 10) <span class="keywordflow">in</span> captured.out</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aeae33121d7d6d1934ccd55e5879a212c" name="aeae33121d7d6d1934ccd55e5879a212c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeae33121d7d6d1934ccd55e5879a212c">&#9670;&#160;</a></span>test_warns_k_best()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_warns_k_best </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   37</span><span class="keyword">def </span>test_warns_k_best():</div>
<div class="line"><span class="lineno">   38</span>    st = SelfTrainingClassifier(KNeighborsClassifier(), criterion=<span class="stringliteral">&quot;k_best&quot;</span>, k_best=1000)</div>
<div class="line"><span class="lineno">   39</span>    <span class="keyword">with</span> pytest.warns(UserWarning, match=<span class="stringliteral">&quot;k_best is larger than&quot;</span>):</div>
<div class="line"><span class="lineno">   40</span>        st.fit(X_train, y_train_missing_labels)</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <span class="keyword">assert</span> st.termination_condition_ == <span class="stringliteral">&quot;all_labeled&quot;</span></div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">   46</span>    <span class="stringliteral">&quot;base_estimator&quot;</span>,</div>
<div class="line"><span class="lineno">   47</span>    [KNeighborsClassifier(), SVC(gamma=<span class="stringliteral">&quot;scale&quot;</span>, probability=<span class="keyword">True</span>, random_state=0)],</div>
<div class="line"><span class="lineno">   48</span>)</div>
<div class="line"><span class="lineno">   49</span><span class="preprocessor">@pytest.mark.parametrize(&quot;selection_crit&quot;, [&quot;threshold&quot;, &quot;k_best&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a37efe40b0ce0694c247d8b6dd722e176" name="a37efe40b0ce0694c247d8b6dd722e176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37efe40b0ce0694c247d8b6dd722e176">&#9670;&#160;</a></span>test_zero_iterations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.test_zero_iterations </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>base_estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  144</span><span class="keyword">def </span>test_zero_iterations(base_estimator, y):</div>
<div class="line"><span class="lineno">  145</span>    <span class="comment"># Check classification for zero iterations.</span></div>
<div class="line"><span class="lineno">  146</span>    <span class="comment"># Fitting a SelfTrainingClassifier with zero iterations should give the</span></div>
<div class="line"><span class="lineno">  147</span>    <span class="comment"># same results as fitting a supervised classifier.</span></div>
<div class="line"><span class="lineno">  148</span>    <span class="comment"># This also asserts that string arrays work as expected.</span></div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    clf1 = SelfTrainingClassifier(base_estimator, max_iter=0)</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    clf1.fit(X_train, y)</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    clf2 = base_estimator.fit(X_train[:n_labeled_samples], y[:n_labeled_samples])</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    assert_array_equal(clf1.predict(X_test), clf2.predict(X_test))</div>
<div class="line"><span class="lineno">  157</span>    <span class="keyword">assert</span> clf1.termination_condition_ == <span class="stringliteral">&quot;max_iter&quot;</span></div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a12317776bddb101252cf0a51c8c26a69" name="a12317776bddb101252cf0a51c8c26a69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12317776bddb101252cf0a51c8c26a69">&#9670;&#160;</a></span>iris</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.iris = load_iris()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abbd6a75e8b737a911246fad46d96f7df" name="abbd6a75e8b737a911246fad46d96f7df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbd6a75e8b737a911246fad46d96f7df">&#9670;&#160;</a></span>mapping</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict sklearn.semi_supervised.tests.test_self_training.mapping = {0: &quot;A&quot;, 1: &quot;B&quot;, 2: &quot;C&quot;, -1: &quot;-1&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a296c1e58cd949ea6020785273c139f72" name="a296c1e58cd949ea6020785273c139f72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a296c1e58cd949ea6020785273c139f72">&#9670;&#160;</a></span>n_labeled_samples</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int sklearn.semi_supervised.tests.test_self_training.n_labeled_samples = 50</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6809339fbf282d6141dd1e4c6d53ac8b" name="a6809339fbf282d6141dd1e4c6d53ac8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6809339fbf282d6141dd1e4c6d53ac8b">&#9670;&#160;</a></span>random_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.random_state</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a302f31715498a374c7e4834210a083" name="a9a302f31715498a374c7e4834210a083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a302f31715498a374c7e4834210a083">&#9670;&#160;</a></span>target</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.target</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a454edfb198fa0f613373c98715efd93a" name="a454edfb198fa0f613373c98715efd93a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a454edfb198fa0f613373c98715efd93a">&#9670;&#160;</a></span>X_test</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.X_test</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaecb1028964bb4913fc01709efb335aa" name="aaecb1028964bb4913fc01709efb335aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaecb1028964bb4913fc01709efb335aa">&#9670;&#160;</a></span>X_train</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.X_train</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a20a4f06f6bad0243bcd5e16431b2cd31" name="a20a4f06f6bad0243bcd5e16431b2cd31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20a4f06f6bad0243bcd5e16431b2cd31">&#9670;&#160;</a></span>y_test</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.y_test</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9b3acfe269ece75039c888670e00582e" name="a9b3acfe269ece75039c888670e00582e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b3acfe269ece75039c888670e00582e">&#9670;&#160;</a></span>y_train</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.y_train</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a58174b0773a9dfbdfcdaf99daa37213e" name="a58174b0773a9dfbdfcdaf99daa37213e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58174b0773a9dfbdfcdaf99daa37213e">&#9670;&#160;</a></span>y_train_missing_labels</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.y_train_missing_labels = y_train.copy()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6e59c106f5bdbcd4824af49cba206551" name="a6e59c106f5bdbcd4824af49cba206551"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e59c106f5bdbcd4824af49cba206551">&#9670;&#160;</a></span>y_train_missing_strings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.semi_supervised.tests.test_self_training.y_train_missing_strings</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  np.vectorize(mapping.get)(y_train_missing_labels).astype(</div>
<div class="line"><span class="lineno">    2</span>    object</div>
<div class="line"><span class="lineno">    3</span>)</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
