<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.models.hdpmodel.HdpModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models.html">models</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models_1_1hdpmodel.html">hdpmodel</a></li><li class="navelem"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html">HdpModel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gensim.models.hdpmodel.HdpModel Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for gensim.models.hdpmodel.HdpModel:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.png" usemap="#gensim.models.hdpmodel.HdpModel_map" alt=""/>
  <map id="gensim.models.hdpmodel.HdpModel_map" name="gensim.models.hdpmodel.HdpModel_map">
<area href="classgensim_1_1interfaces_1_1_transformation_a_b_c.html" alt="gensim.interfaces.TransformationABC" shape="rect" coords="0,112,256,136"/>
<area href="classgensim_1_1models_1_1basemodel_1_1_base_topic_model.html" alt="gensim.models.basemodel.BaseTopicModel" shape="rect" coords="266,112,522,136"/>
<area href="classgensim_1_1utils_1_1_save_load.html" alt="gensim.utils.SaveLoad" shape="rect" coords="0,56,256,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac96c1feb2f843e95bbc9f99a995e600c" id="r_ac96c1feb2f843e95bbc9f99a995e600c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#ac96c1feb2f843e95bbc9f99a995e600c">__init__</a> (self, <a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a5f16376f629ace43febf316baccab085">corpus</a>, <a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#aad813501d2bcf42eae36cac67bb99e8e">id2word</a>, <a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a0ff488757d5fb08d9da5307fd2f3779f">max_chunks</a>=None, <a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a268552d6579b7dfddfe6bb178fd2a4da">max_time</a>=None, <a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#af0e4ab5c94496617c2552d57ed3ab872">chunksize</a>=256, kappa=1.0, <a class="el" href="__lapack__subroutines_8h.html#af0c5a889e1121fdd1acf62bec776a634">tau</a>=64.0, K=15, T=150, <a class="el" href="__blas__subroutines_8h.html#a29dda7d0819a860e921db821deb590c9">alpha</a>=1, gamma=1, eta=0.01, scale=1.0, var_converge=0.0001, <a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#ae47556d4383bad11edfd376bff541e3f">outputdir</a>=None, <a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#af1625e104af38cf46efd2c59a6141d80">random_state</a>=None)</td></tr>
<tr class="separator:ac96c1feb2f843e95bbc9f99a995e600c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a077d320ce79b1afb028364179c7c0ed7" id="r_a077d320ce79b1afb028364179c7c0ed7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a077d320ce79b1afb028364179c7c0ed7">inference</a> (self, chunk)</td></tr>
<tr class="separator:a077d320ce79b1afb028364179c7c0ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81caefb6928d16991fb5c0527870c03b" id="r_a81caefb6928d16991fb5c0527870c03b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a81caefb6928d16991fb5c0527870c03b">__getitem__</a> (self, bow, <a class="el" href="__lapack__subroutines_8h.html#a57833d05f43fd1408080af6eec88fc43">eps</a>=0.01)</td></tr>
<tr class="separator:a81caefb6928d16991fb5c0527870c03b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2195f02acde5a1017bdeebc1c4286f3" id="r_af2195f02acde5a1017bdeebc1c4286f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#af2195f02acde5a1017bdeebc1c4286f3">update</a> (self, <a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a5f16376f629ace43febf316baccab085">corpus</a>)</td></tr>
<tr class="separator:af2195f02acde5a1017bdeebc1c4286f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6acac198442719664905eeddcff57b4e" id="r_a6acac198442719664905eeddcff57b4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a6acac198442719664905eeddcff57b4e">update_finished</a> (self, start_time, chunks_processed, docs_processed)</td></tr>
<tr class="separator:a6acac198442719664905eeddcff57b4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78f74bbe77e1914907925991b3450241" id="r_a78f74bbe77e1914907925991b3450241"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a78f74bbe77e1914907925991b3450241">update_chunk</a> (self, chunk, <a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#af2195f02acde5a1017bdeebc1c4286f3">update</a>=True, opt_o=True)</td></tr>
<tr class="separator:a78f74bbe77e1914907925991b3450241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17dcddf51b92ae2209c7a39cfa3bc932" id="r_a17dcddf51b92ae2209c7a39cfa3bc932"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a17dcddf51b92ae2209c7a39cfa3bc932">doc_e_step</a> (self, <a class="el" href="return__character_2foo77_8f.html#a67572f61f6cfe1702b5aba8e77d63eb3">ss</a>, Elogsticks_1st, unique_words, doc_word_ids, doc_word_counts, var_converge)</td></tr>
<tr class="separator:a17dcddf51b92ae2209c7a39cfa3bc932"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f591dd54a483901cca93248938d04b" id="r_a57f591dd54a483901cca93248938d04b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a57f591dd54a483901cca93248938d04b">update_lambda</a> (self, sstats, word_list, opt_o)</td></tr>
<tr class="separator:a57f591dd54a483901cca93248938d04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1398040ad304f3f6481581e45bb774f4" id="r_a1398040ad304f3f6481581e45bb774f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a1398040ad304f3f6481581e45bb774f4">optimal_ordering</a> (self)</td></tr>
<tr class="separator:a1398040ad304f3f6481581e45bb774f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab60e8a4a524ced5f717e031370929c8b" id="r_ab60e8a4a524ced5f717e031370929c8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#ab60e8a4a524ced5f717e031370929c8b">update_expectations</a> (self)</td></tr>
<tr class="separator:ab60e8a4a524ced5f717e031370929c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d4020dd00e76f93d31704c43d26ea52" id="r_a9d4020dd00e76f93d31704c43d26ea52"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a9d4020dd00e76f93d31704c43d26ea52">show_topic</a> (self, topic_id, topn=20, log=False, formatted=False, num_words=None)</td></tr>
<tr class="separator:a9d4020dd00e76f93d31704c43d26ea52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab66df207b89c0fc3e67f1854adf51219" id="r_ab66df207b89c0fc3e67f1854adf51219"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#ab66df207b89c0fc3e67f1854adf51219">get_topics</a> (self)</td></tr>
<tr class="separator:ab66df207b89c0fc3e67f1854adf51219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed232273377f73da4599af4145d8d459" id="r_aed232273377f73da4599af4145d8d459"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#aed232273377f73da4599af4145d8d459">show_topics</a> (self, num_topics=20, num_words=20, log=False, formatted=True)</td></tr>
<tr class="separator:aed232273377f73da4599af4145d8d459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a5c347cb0ce621f0f5b8c62f98abbaa" id="r_a0a5c347cb0ce621f0f5b8c62f98abbaa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a0a5c347cb0ce621f0f5b8c62f98abbaa">save_topics</a> (self, doc_count=None)</td></tr>
<tr class="separator:a0a5c347cb0ce621f0f5b8c62f98abbaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ffe2cfc4a07b297357485d09d199cd" id="r_a98ffe2cfc4a07b297357485d09d199cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a98ffe2cfc4a07b297357485d09d199cd">save_options</a> (self)</td></tr>
<tr class="separator:a98ffe2cfc4a07b297357485d09d199cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a722ac49a901a58e69adad9b35832c7bc" id="r_a722ac49a901a58e69adad9b35832c7bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a722ac49a901a58e69adad9b35832c7bc">hdp_to_lda</a> (self)</td></tr>
<tr class="separator:a722ac49a901a58e69adad9b35832c7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dba3bbfded3e193fccc1d5819f3d6cc" id="r_a5dba3bbfded3e193fccc1d5819f3d6cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a5dba3bbfded3e193fccc1d5819f3d6cc">suggested_lda_model</a> (self)</td></tr>
<tr class="separator:a5dba3bbfded3e193fccc1d5819f3d6cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3397a86637f0e6eda81d60aa8fb909b" id="r_ac3397a86637f0e6eda81d60aa8fb909b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#ac3397a86637f0e6eda81d60aa8fb909b">evaluate_test_corpus</a> (self, <a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a5f16376f629ace43febf316baccab085">corpus</a>)</td></tr>
<tr class="separator:ac3397a86637f0e6eda81d60aa8fb909b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:a70d054bfd9dfd1373fef9e0e691a24b5 inherit pub_methods_classgensim_1_1utils_1_1_save_load" id="r_a70d054bfd9dfd1373fef9e0e691a24b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a70d054bfd9dfd1373fef9e0e691a24b5">load</a> (cls, fname, mmap=None)</td></tr>
<tr class="separator:a70d054bfd9dfd1373fef9e0e691a24b5 inherit pub_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0767537a6eb767dfe4fb8cf6d5fc221c inherit pub_methods_classgensim_1_1utils_1_1_save_load" id="r_a0767537a6eb767dfe4fb8cf6d5fc221c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a0767537a6eb767dfe4fb8cf6d5fc221c">save</a> (self, fname_or_handle, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:a0767537a6eb767dfe4fb8cf6d5fc221c inherit pub_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgensim_1_1models_1_1basemodel_1_1_base_topic_model.html">gensim.models.basemodel.BaseTopicModel</a></td></tr>
<tr class="memitem:a71d947d24825c0d71b475f239974f19c inherit pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model" id="r_a71d947d24825c0d71b475f239974f19c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1basemodel_1_1_base_topic_model.html#a71d947d24825c0d71b475f239974f19c">print_topic</a> (self, topicno, topn=10)</td></tr>
<tr class="separator:a71d947d24825c0d71b475f239974f19c inherit pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88657c69ea5499f3d32466ca9321ca6f inherit pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model" id="r_a88657c69ea5499f3d32466ca9321ca6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1basemodel_1_1_base_topic_model.html#a88657c69ea5499f3d32466ca9321ca6f">print_topics</a> (self, num_topics=20, num_words=10)</td></tr>
<tr class="separator:a88657c69ea5499f3d32466ca9321ca6f inherit pub_methods_classgensim_1_1models_1_1basemodel_1_1_base_topic_model"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5f16376f629ace43febf316baccab085" id="r_a5f16376f629ace43febf316baccab085"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a5f16376f629ace43febf316baccab085">corpus</a></td></tr>
<tr class="separator:a5f16376f629ace43febf316baccab085"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad813501d2bcf42eae36cac67bb99e8e" id="r_aad813501d2bcf42eae36cac67bb99e8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#aad813501d2bcf42eae36cac67bb99e8e">id2word</a></td></tr>
<tr class="separator:aad813501d2bcf42eae36cac67bb99e8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0e4ab5c94496617c2552d57ed3ab872" id="r_af0e4ab5c94496617c2552d57ed3ab872"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#af0e4ab5c94496617c2552d57ed3ab872">chunksize</a></td></tr>
<tr class="separator:af0e4ab5c94496617c2552d57ed3ab872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff488757d5fb08d9da5307fd2f3779f" id="r_a0ff488757d5fb08d9da5307fd2f3779f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a0ff488757d5fb08d9da5307fd2f3779f">max_chunks</a></td></tr>
<tr class="separator:a0ff488757d5fb08d9da5307fd2f3779f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268552d6579b7dfddfe6bb178fd2a4da" id="r_a268552d6579b7dfddfe6bb178fd2a4da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a268552d6579b7dfddfe6bb178fd2a4da">max_time</a></td></tr>
<tr class="separator:a268552d6579b7dfddfe6bb178fd2a4da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae47556d4383bad11edfd376bff541e3f" id="r_ae47556d4383bad11edfd376bff541e3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#ae47556d4383bad11edfd376bff541e3f">outputdir</a></td></tr>
<tr class="separator:ae47556d4383bad11edfd376bff541e3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1625e104af38cf46efd2c59a6141d80" id="r_af1625e104af38cf46efd2c59a6141d80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#af1625e104af38cf46efd2c59a6141d80">random_state</a></td></tr>
<tr class="separator:af1625e104af38cf46efd2c59a6141d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d2fe9117946648fd9b22b897f94ca44" id="r_a1d2fe9117946648fd9b22b897f94ca44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a1d2fe9117946648fd9b22b897f94ca44">lda_alpha</a></td></tr>
<tr class="separator:a1d2fe9117946648fd9b22b897f94ca44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae99ad45cd73945f0ebb70178b2c5fbdc" id="r_ae99ad45cd73945f0ebb70178b2c5fbdc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#ae99ad45cd73945f0ebb70178b2c5fbdc">lda_beta</a></td></tr>
<tr class="separator:ae99ad45cd73945f0ebb70178b2c5fbdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af90421339c37af3d020b590994ba4f05" id="r_af90421339c37af3d020b590994ba4f05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#af90421339c37af3d020b590994ba4f05">m_W</a></td></tr>
<tr class="separator:af90421339c37af3d020b590994ba4f05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9abf13649df3f7f56c33a05277850a64" id="r_a9abf13649df3f7f56c33a05277850a64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a9abf13649df3f7f56c33a05277850a64">m_D</a></td></tr>
<tr class="separator:a9abf13649df3f7f56c33a05277850a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd9bb8fbe915cd2db0c8871ccb3b2840" id="r_abd9bb8fbe915cd2db0c8871ccb3b2840"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#abd9bb8fbe915cd2db0c8871ccb3b2840">m_T</a></td></tr>
<tr class="separator:abd9bb8fbe915cd2db0c8871ccb3b2840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187d8686da23c9a46ff50d26bfc24a30" id="r_a187d8686da23c9a46ff50d26bfc24a30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a187d8686da23c9a46ff50d26bfc24a30">m_K</a></td></tr>
<tr class="separator:a187d8686da23c9a46ff50d26bfc24a30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef41314862d76cd8ba2ad64066b255e" id="r_a1ef41314862d76cd8ba2ad64066b255e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a1ef41314862d76cd8ba2ad64066b255e">m_alpha</a></td></tr>
<tr class="separator:a1ef41314862d76cd8ba2ad64066b255e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f77a46a414e98bc439022f2b00402c8" id="r_a2f77a46a414e98bc439022f2b00402c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a2f77a46a414e98bc439022f2b00402c8">m_gamma</a></td></tr>
<tr class="separator:a2f77a46a414e98bc439022f2b00402c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaea003dad0756288d95235580ea8d127" id="r_aaea003dad0756288d95235580ea8d127"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#aaea003dad0756288d95235580ea8d127">m_var_sticks</a></td></tr>
<tr class="separator:aaea003dad0756288d95235580ea8d127"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea2d5ec36ab258d38f7d41fe3e655236" id="r_aea2d5ec36ab258d38f7d41fe3e655236"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#aea2d5ec36ab258d38f7d41fe3e655236">m_varphi_ss</a></td></tr>
<tr class="separator:aea2d5ec36ab258d38f7d41fe3e655236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3340f2db12a30885c617665f706c8b" id="r_a5d3340f2db12a30885c617665f706c8b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a5d3340f2db12a30885c617665f706c8b">m_lambda</a></td></tr>
<tr class="separator:a5d3340f2db12a30885c617665f706c8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01ce86c4fa7bf46703f2fbed44e9e780" id="r_a01ce86c4fa7bf46703f2fbed44e9e780"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a01ce86c4fa7bf46703f2fbed44e9e780">m_eta</a></td></tr>
<tr class="separator:a01ce86c4fa7bf46703f2fbed44e9e780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c6bb78cbea379a35466b4dcb4ffc99e" id="r_a6c6bb78cbea379a35466b4dcb4ffc99e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a6c6bb78cbea379a35466b4dcb4ffc99e">m_Elogbeta</a></td></tr>
<tr class="separator:a6c6bb78cbea379a35466b4dcb4ffc99e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2affb211214ce951a2d2666737a973e" id="r_af2affb211214ce951a2d2666737a973e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#af2affb211214ce951a2d2666737a973e">m_tau</a></td></tr>
<tr class="separator:af2affb211214ce951a2d2666737a973e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74380219492e135cc94b52ba9702536e" id="r_a74380219492e135cc94b52ba9702536e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a74380219492e135cc94b52ba9702536e">m_kappa</a></td></tr>
<tr class="separator:a74380219492e135cc94b52ba9702536e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcabf806ab5331f49f7e2431fd24d6c2" id="r_adcabf806ab5331f49f7e2431fd24d6c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#adcabf806ab5331f49f7e2431fd24d6c2">m_scale</a></td></tr>
<tr class="separator:adcabf806ab5331f49f7e2431fd24d6c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abebce09b56c3ec49c275860d03e2bc62" id="r_abebce09b56c3ec49c275860d03e2bc62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#abebce09b56c3ec49c275860d03e2bc62">m_updatect</a></td></tr>
<tr class="separator:abebce09b56c3ec49c275860d03e2bc62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcd3b534cc6ee2f3331fd1703ada6847" id="r_abcd3b534cc6ee2f3331fd1703ada6847"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#abcd3b534cc6ee2f3331fd1703ada6847">m_status_up_to_date</a></td></tr>
<tr class="separator:abcd3b534cc6ee2f3331fd1703ada6847"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9f015e73a9d81b64f1cf7a436a36f5e" id="r_ae9f015e73a9d81b64f1cf7a436a36f5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#ae9f015e73a9d81b64f1cf7a436a36f5e">m_num_docs_processed</a></td></tr>
<tr class="separator:ae9f015e73a9d81b64f1cf7a436a36f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a253dbaa9d44682e8e52c86d5775e9edd" id="r_a253dbaa9d44682e8e52c86d5775e9edd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a253dbaa9d44682e8e52c86d5775e9edd">m_timestamp</a></td></tr>
<tr class="separator:a253dbaa9d44682e8e52c86d5775e9edd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7aab40fabd85d6f98e834085805ea4" id="r_a8f7aab40fabd85d6f98e834085805ea4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a8f7aab40fabd85d6f98e834085805ea4">m_r</a></td></tr>
<tr class="separator:a8f7aab40fabd85d6f98e834085805ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a2d08aec7dc4ee915c4d8efc3d5223c" id="r_a1a2d08aec7dc4ee915c4d8efc3d5223c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a1a2d08aec7dc4ee915c4d8efc3d5223c">m_lambda_sum</a></td></tr>
<tr class="separator:a1a2d08aec7dc4ee915c4d8efc3d5223c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e85ee6dbe0db7085453840829ceefb" id="r_ad0e85ee6dbe0db7085453840829ceefb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#ad0e85ee6dbe0db7085453840829ceefb">m_var_converge</a></td></tr>
<tr class="separator:ad0e85ee6dbe0db7085453840829ceefb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b0460087ea473c0b5e74464899c0f9" id="r_a66b0460087ea473c0b5e74464899c0f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1hdpmodel_1_1_hdp_model.html#a66b0460087ea473c0b5e74464899c0f9">m_rhot</a></td></tr>
<tr class="separator:a66b0460087ea473c0b5e74464899c0f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classgensim_1_1interfaces_1_1_transformation_a_b_c"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classgensim_1_1interfaces_1_1_transformation_a_b_c')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classgensim_1_1interfaces_1_1_transformation_a_b_c.html">gensim.interfaces.TransformationABC</a></td></tr>
<tr class="memitem:a193db73b4b89d49f8b8f832c8b6875bd inherit pro_methods_classgensim_1_1interfaces_1_1_transformation_a_b_c" id="r_a193db73b4b89d49f8b8f832c8b6875bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1interfaces_1_1_transformation_a_b_c.html#a193db73b4b89d49f8b8f832c8b6875bd">_apply</a> (self, corpus, chunksize=None, **kwargs)</td></tr>
<tr class="separator:a193db73b4b89d49f8b8f832c8b6875bd inherit pro_methods_classgensim_1_1interfaces_1_1_transformation_a_b_c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_ace7b79d8870c44c2bab0d590a5aca91e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#ace7b79d8870c44c2bab0d590a5aca91e">_load_specials</a> (self, fname, mmap, compress, subname)</td></tr>
<tr class="separator:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_acd9faa42ba3aae8f0a175418889d425c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#acd9faa42ba3aae8f0a175418889d425c">_smart_save</a> (self, fname, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_a4bae38a76fa8264d2c8759b9d40a6f5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a4bae38a76fa8264d2c8759b9d40a6f5c">_save_specials</a> (self, fname, separately, sep_limit, ignore, pickle_protocol, compress, subname)</td></tr>
<tr class="separator:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load" id="r_a6cf051b348407267110444260535d143"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a6cf051b348407267110444260535d143">_adapt_by_suffix</a> (fname)</td></tr>
<tr class="separator:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">`Hierarchical Dirichlet Process model &lt;http://jmlr.csail.mit.edu/proceedings/papers/v15/wang11a/wang11a.pdf&gt;`_

Topic models promise to help summarize and organize large archives of texts that cannot be easily analyzed by hand.
Hierarchical Dirichlet process (HDP) is a powerful mixed-membership model for the unsupervised analysis of grouped
data. Unlike its finite counterpart, latent Dirichlet allocation, the HDP topic model infers the number of topics
from the data. Here we have used Online HDP, which provides the speed of online variational Bayes with the modeling
flexibility of the HDP. The idea behind Online variational Bayes in general is to optimize the variational
objective function  with stochastic optimization.The challenge we face is that the existing coordinate ascent
variational Bayes algorithms for the HDP require complicated approximation methods or numerical optimization. This
model utilises stick breaking construction of Hdp which enables it to allow for coordinate-ascent variational Bayes
without numerical approximation.

**Stick breaking construction**

To understand the HDP model we need to understand how it is modelled using the stick breaking construction. A very
good analogy to understand the stick breaking construction is `chinese restaurant franchise
&lt;https://www.cs.princeton.edu/courses/archive/fall07/cos597C/scribe/20070921.pdf&gt;`_.


For this assume that there is a restaurant franchise (`corpus`) which has a large number of restaurants
(`documents`, `j`) under it. They have a global menu of dishes (`topics`, :math:`\Phi_{k}`) which they serve.
Also, a single dish (`topic`, :math:`\Phi_{k}`) is only served at a single table `t` for all the customers
(`words`, :math:`\theta_{j,i}`) who sit at that table.
So, when a customer enters the restaurant he/she has the choice to make where he/she wants to sit.
He/she can choose to sit at a table where some customers are already sitting , or he/she can choose to sit
at a new table. Here the probability of choosing each option is not same.

Now, in this the global menu of dishes correspond to the global atoms  :math:`\Phi_{k}`, and each restaurant
correspond to a single document `j`. So the number of dishes served in a particular restaurant correspond to the
number of topics in a particular document. And the number of people sitting at each table correspond to the number
of words belonging to each topic inside the document `j`.

Now, coming on to the stick breaking construction, the concept understood from the chinese restaurant franchise is
easily carried over to the stick breaking construction for hdp (`"Figure 1" from "Online Variational Inference
for the Hierarchical Dirichlet Process" &lt;http://proceedings.mlr.press/v15/wang11a/wang11a.pdf&gt;`_).

A two level hierarchical dirichlet process is a collection of dirichlet processes :math:`G_{j}` , one for each
group, which share a base distribution :math:`G_{0}`, which is also a dirichlet process. Also, all :math:`G_{j}`
share the same set of atoms, :math:`\Phi_{k}`, and only the atom weights :math:`\pi _{jt}` differs.

There will be multiple document-level atoms :math:`\psi_{jt}` which map to the same corpus-level atom
:math:`\Phi_{k}`. Here, the :math:`\beta` signify the weights given to each of the topics globally. Also, each
factor :math:`\theta_{j,i}` is distributed according to :math:`G_{j}`, i.e., it takes on the value of
:math:`\Phi_{k}` with probability :math:`\pi _{jt}`. :math:`C_{j,t}` is an indicator variable whose value `k`
signifies the index of :math:`\Phi`. This helps to map :math:`\psi_{jt}` to :math:`\Phi_{k}`.

The top level (`corpus` level) stick proportions correspond the values of :math:`\beta`,
bottom level (`document` level) stick proportions correspond to the values of :math:`\pi`.
The truncation level for the corpus (`K`) and document (`T`) corresponds to the number of :math:`\beta`
and :math:`\pi` which are in existence.

Now, whenever coordinate ascent updates are to be performed, they happen at two level. The document level as well
as corpus level.

At document level, we update the following:

#. The parameters to the document level sticks, i.e, a and b parameters of :math:`\beta` distribution of the
   variable :math:`\pi _{jt}`.
#. The parameters to per word topic indicators, :math:`Z_{j,n}`. Here :math:`Z_{j,n}` selects topic parameter
   :math:`\psi_{jt}`.
#. The parameters to per document topic indices :math:`\Phi_{jtk}`.

At corpus level, we update the following:

#. The parameters to the top level sticks, i.e., the parameters of the :math:`\beta` distribution for the
   corpus level :math:`\beta`, which signify the topic distribution at corpus level.
#. The parameters to the topics :math:`\Phi_{k}`.

Now coming on to the steps involved, procedure for online variational inference for the Hdp model is as follows:

1. We initialise the corpus level parameters, topic parameters randomly and set current time to 1.
2. Fetch a random document j from the corpus.
3. Compute all the parameters required for document level updates.
4. Compute natural gradients of corpus level parameters.
5. Initialise the learning rate as a function of kappa, tau and current time. Also, increment current time by 1
   each time it reaches this step.
6. Update corpus level parameters.

Repeat 2 to 6 until stopping condition is not met.

Here the stopping condition corresponds to

* time limit expired
* chunk limit reached
* whole corpus processed

Attributes
----------
lda_alpha : numpy.ndarray
    Same as :math:`\alpha` from :class:`gensim.models.ldamodel.LdaModel`.
lda_beta : numpy.ndarray
    Same as :math:`\beta` from from :class:`gensim.models.ldamodel.LdaModel`.
m_D : int
    Number of documents in the corpus.
m_Elogbeta : numpy.ndarray:
    Stores value of dirichlet expectation, i.e., compute :math:`E[log \theta]` for a vector
    :math:`\theta \sim Dir(\alpha)`.
m_lambda : {numpy.ndarray, float}
    Drawn samples from the parameterized gamma distribution.
m_lambda_sum : {numpy.ndarray, float}
    An array with the same shape as `m_lambda`, with the specified axis (1) removed.
m_num_docs_processed : int
    Number of documents finished processing.This is incremented in size of chunks.
m_r : list
    Acts as normaliser in lazy updating of `m_lambda` attribute.
m_rhot : float
    Assigns weight to the information obtained from the mini-chunk and its value it between 0 and 1.
m_status_up_to_date : bool
    Flag to indicate whether `lambda `and :math:`E[log \theta]` have been updated if True, otherwise - not.
m_timestamp : numpy.ndarray
    Helps to keep track and perform lazy updates on lambda.
m_updatect : int
    Keeps track of current time and is incremented every time :meth:`~gensim.models.hdpmodel.HdpModel.update_lambda`
    is called.
m_var_sticks : numpy.ndarray
    Array of values for stick.
m_varphi_ss : numpy.ndarray
    Used to update top level sticks.
m_W : int
    Length of dictionary for the input corpus.</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac96c1feb2f843e95bbc9f99a995e600c" name="ac96c1feb2f843e95bbc9f99a995e600c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96c1feb2f843e95bbc9f99a995e600c">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>id2word</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_chunks</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_time</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunksize</em> = <code>256</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kappa</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tau</em> = <code>64.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>K</em> = <code>15</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>T</em> = <code>150</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>alpha</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gamma</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eta</em> = <code>0.01</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scale</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>var_converge</em> = <code>0.0001</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>outputdir</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>random_state</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parameters
----------
corpus : iterable of list of (int, float)
    Corpus in BoW format.
id2word : :class:`~gensim.corpora.dictionary.Dictionary`
    Dictionary for the input corpus.
max_chunks : int, optional
    Upper bound on how many chunks to process. It wraps around corpus beginning in another corpus pass,
    if there are not enough chunks in the corpus.
max_time : int, optional
    Upper bound on time (in seconds) for which model will be trained.
chunksize : int, optional
    Number of documents in one chuck.
kappa: float,optional
    Learning parameter which acts as exponential decay factor to influence extent of learning from each batch.
tau: float, optional
    Learning parameter which down-weights early iterations of documents.
K : int, optional
    Second level truncation level
T : int, optional
    Top level truncation level
alpha : int, optional
    Second level concentration
gamma : int, optional
    First level concentration
eta : float, optional
    The topic Dirichlet
scale : float, optional
    Weights information from the mini-chunk of corpus to calculate rhot.
var_converge : float, optional
    Lower bound on the right side of convergence. Used when updating variational parameters for a
    single document.
outputdir : str, optional
    Stores topic and options information in the specified directory.
random_state : {None, int, array_like, :class:`~np.random.RandomState`, optional}
    Adds a little random jitter to randomize results around same alpha when trying to fetch a closest
    corresponding lda model from :meth:`~gensim.models.hdpmodel.HdpModel.suggested_lda_model`</pre> <div class="fragment"><div class="line"><span class="lineno">  305</span>                 outputdir=<span class="keywordtype">None</span>, random_state=<span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno">  306</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">        corpus : iterable of list of (int, float)</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral">            Corpus in BoW format.</span></div>
<div class="line"><span class="lineno">  312</span><span class="stringliteral">        id2word : :class:`~gensim.corpora.dictionary.Dictionary`</span></div>
<div class="line"><span class="lineno">  313</span><span class="stringliteral">            Dictionary for the input corpus.</span></div>
<div class="line"><span class="lineno">  314</span><span class="stringliteral">        max_chunks : int, optional</span></div>
<div class="line"><span class="lineno">  315</span><span class="stringliteral">            Upper bound on how many chunks to process. It wraps around corpus beginning in another corpus pass,</span></div>
<div class="line"><span class="lineno">  316</span><span class="stringliteral">            if there are not enough chunks in the corpus.</span></div>
<div class="line"><span class="lineno">  317</span><span class="stringliteral">        max_time : int, optional</span></div>
<div class="line"><span class="lineno">  318</span><span class="stringliteral">            Upper bound on time (in seconds) for which model will be trained.</span></div>
<div class="line"><span class="lineno">  319</span><span class="stringliteral">        chunksize : int, optional</span></div>
<div class="line"><span class="lineno">  320</span><span class="stringliteral">            Number of documents in one chuck.</span></div>
<div class="line"><span class="lineno">  321</span><span class="stringliteral">        kappa: float,optional</span></div>
<div class="line"><span class="lineno">  322</span><span class="stringliteral">            Learning parameter which acts as exponential decay factor to influence extent of learning from each batch.</span></div>
<div class="line"><span class="lineno">  323</span><span class="stringliteral">        tau: float, optional</span></div>
<div class="line"><span class="lineno">  324</span><span class="stringliteral">            Learning parameter which down-weights early iterations of documents.</span></div>
<div class="line"><span class="lineno">  325</span><span class="stringliteral">        K : int, optional</span></div>
<div class="line"><span class="lineno">  326</span><span class="stringliteral">            Second level truncation level</span></div>
<div class="line"><span class="lineno">  327</span><span class="stringliteral">        T : int, optional</span></div>
<div class="line"><span class="lineno">  328</span><span class="stringliteral">            Top level truncation level</span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral">        alpha : int, optional</span></div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">            Second level concentration</span></div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral">        gamma : int, optional</span></div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral">            First level concentration</span></div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral">        eta : float, optional</span></div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">            The topic Dirichlet</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral">        scale : float, optional</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">            Weights information from the mini-chunk of corpus to calculate rhot.</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">        var_converge : float, optional</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral">            Lower bound on the right side of convergence. Used when updating variational parameters for a</span></div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral">            single document.</span></div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral">        outputdir : str, optional</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral">            Stores topic and options information in the specified directory.</span></div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral">        random_state : {None, int, array_like, :class:`~np.random.RandomState`, optional}</span></div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral">            Adds a little random jitter to randomize results around same alpha when trying to fetch a closest</span></div>
<div class="line"><span class="lineno">  344</span><span class="stringliteral">            corresponding lda model from :meth:`~gensim.models.hdpmodel.HdpModel.suggested_lda_model`</span></div>
<div class="line"><span class="lineno">  345</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  346</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  347</span>        self.corpus = corpus</div>
<div class="line"><span class="lineno">  348</span>        self.id2word = id2word</div>
<div class="line"><span class="lineno">  349</span>        self.chunksize = chunksize</div>
<div class="line"><span class="lineno">  350</span>        self.max_chunks = max_chunks</div>
<div class="line"><span class="lineno">  351</span>        self.max_time = max_time</div>
<div class="line"><span class="lineno">  352</span>        self.outputdir = outputdir</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>        self.random_state = utils.get_random_state(random_state)</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>        self.lda_alpha = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  357</span>        self.lda_beta = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>        self.m_W = len(id2word)</div>
<div class="line"><span class="lineno">  360</span>        self.m_D = 0</div>
<div class="line"><span class="lineno">  361</span>        <span class="keywordflow">if</span> corpus:</div>
<div class="line"><span class="lineno">  362</span>            self.m_D = len(corpus)</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>        self.m_T = T</div>
<div class="line"><span class="lineno">  365</span>        self.m_K = K</div>
<div class="line"><span class="lineno">  366</span>        self.m_alpha = alpha</div>
<div class="line"><span class="lineno">  367</span>        self.m_gamma = gamma</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>        self.m_var_sticks = np.zeros((2, T - 1))</div>
<div class="line"><span class="lineno">  370</span>        self.m_var_sticks[0] = 1.0</div>
<div class="line"><span class="lineno">  371</span>        self.m_var_sticks[1] = range(T - 1, 0, -1)</div>
<div class="line"><span class="lineno">  372</span>        self.m_varphi_ss = np.zeros(T)</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>        self.m_lambda = self.random_state.gamma(1.0, 1.0, (T, self.m_W)) * self.m_D * 100 / (T * self.m_W) - eta</div>
<div class="line"><span class="lineno">  375</span>        self.m_eta = eta</div>
<div class="line"><span class="lineno">  376</span>        self.m_Elogbeta = dirichlet_expectation(self.m_eta + self.m_lambda)</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>        self.m_tau = tau + 1</div>
<div class="line"><span class="lineno">  379</span>        self.m_kappa = kappa</div>
<div class="line"><span class="lineno">  380</span>        self.m_scale = scale</div>
<div class="line"><span class="lineno">  381</span>        self.m_updatect = 0</div>
<div class="line"><span class="lineno">  382</span>        self.m_status_up_to_date = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  383</span>        self.m_num_docs_processed = 0</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>        self.m_timestamp = np.zeros(self.m_W, dtype=int)</div>
<div class="line"><span class="lineno">  386</span>        self.m_r = [0]</div>
<div class="line"><span class="lineno">  387</span>        self.m_lambda_sum = np.sum(self.m_lambda, axis=1)</div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>        self.m_var_converge = var_converge</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">if</span> self.outputdir:</div>
<div class="line"><span class="lineno">  392</span>            self.save_options()</div>
<div class="line"><span class="lineno">  393</span> </div>
<div class="line"><span class="lineno">  394</span>        <span class="comment"># if a training corpus was provided, start estimating the model right away</span></div>
<div class="line"><span class="lineno">  395</span>        <span class="keywordflow">if</span> corpus <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  396</span>            self.update(corpus)</div>
<div class="line"><span class="lineno">  397</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a81caefb6928d16991fb5c0527870c03b" name="a81caefb6928d16991fb5c0527870c03b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81caefb6928d16991fb5c0527870c03b">&#9670;&#160;</a></span>__getitem__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.__getitem__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>eps</em> = <code>0.01</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Accessor method for generating topic distribution of given document.

Parameters
----------
bow : {iterable of list of (int, float), list of (int, float)
    BoW representation of the document/corpus to get topics for.
eps : float, optional
    Ignore topics with probability below `eps`.

Returns
-------
list of (int, float) **or** :class:`gensim.interfaces.TransformedCorpus`
    Topic distribution for the given document/corpus `bow`, as a list of `(topic_id, topic_probability)` or
    transformed corpus</pre> 
<p>Reimplemented from <a class="el" href="classgensim_1_1interfaces_1_1_transformation_a_b_c.html#adb68598690297440f346cbe91d4f40e7">gensim.interfaces.TransformationABC</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  432</span>    <span class="keyword">def </span>__getitem__(self, bow, eps=0.01):</div>
<div class="line"><span class="lineno">  433</span>        <span class="stringliteral">&quot;&quot;&quot;Accessor method for generating topic distribution of given document.</span></div>
<div class="line"><span class="lineno">  434</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  435</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  436</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  437</span><span class="stringliteral">        bow : {iterable of list of (int, float), list of (int, float)</span></div>
<div class="line"><span class="lineno">  438</span><span class="stringliteral">            BoW representation of the document/corpus to get topics for.</span></div>
<div class="line"><span class="lineno">  439</span><span class="stringliteral">        eps : float, optional</span></div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral">            Ignore topics with probability below `eps`.</span></div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral">        list of (int, float) **or** :class:`gensim.interfaces.TransformedCorpus`</span></div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral">            Topic distribution for the given document/corpus `bow`, as a list of `(topic_id, topic_probability)` or</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">            transformed corpus</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  449</span>        is_corpus, corpus = utils.is_corpus(bow)</div>
<div class="line"><span class="lineno">  450</span>        <span class="keywordflow">if</span> is_corpus:</div>
<div class="line"><span class="lineno">  451</span>            <span class="keywordflow">return</span> self._apply(corpus)</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>        gamma = self.inference([bow])[0]</div>
<div class="line"><span class="lineno">  454</span>        topic_dist = gamma / sum(gamma) <span class="keywordflow">if</span> sum(gamma) != 0 <span class="keywordflow">else</span> []</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">return</span> [(topicid, topicvalue) <span class="keywordflow">for</span> topicid, topicvalue <span class="keywordflow">in</span> enumerate(topic_dist) <span class="keywordflow">if</span> topicvalue &gt;= eps]</div>
<div class="line"><span class="lineno">  456</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a17dcddf51b92ae2209c7a39cfa3bc932" name="a17dcddf51b92ae2209c7a39cfa3bc932"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17dcddf51b92ae2209c7a39cfa3bc932">&#9670;&#160;</a></span>doc_e_step()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.doc_e_step </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Elogsticks_1st</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>unique_words</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>doc_word_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>doc_word_counts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>var_converge</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Performs E step for a single doc.

Parameters
----------
ss : :class:`~gensim.models.hdpmodel.SuffStats`
    Stats for all document(s) in the chunk.
Elogsticks_1st : numpy.ndarray
    Computed Elogsticks value by stick-breaking process.
unique_words : dict of (int, int)
    Number of unique words in the chunk.
doc_word_ids : iterable of int
    Word ids of for a single document.
doc_word_counts : iterable of int
    Word counts of all words in a single document.
var_converge : float
    Lower bound on the right side of convergence. Used when updating variational parameters for a single
    document.

Returns
-------
float
    Computed value of likelihood for a single document.</pre> <div class="fragment"><div class="line"><span class="lineno">  586</span>    <span class="keyword">def </span>doc_e_step(self, ss, Elogsticks_1st, unique_words, doc_word_ids, doc_word_counts, var_converge):</div>
<div class="line"><span class="lineno">  587</span>        <span class="stringliteral">&quot;&quot;&quot;Performs E step for a single doc.</span></div>
<div class="line"><span class="lineno">  588</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  589</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  590</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  591</span><span class="stringliteral">        ss : :class:`~gensim.models.hdpmodel.SuffStats`</span></div>
<div class="line"><span class="lineno">  592</span><span class="stringliteral">            Stats for all document(s) in the chunk.</span></div>
<div class="line"><span class="lineno">  593</span><span class="stringliteral">        Elogsticks_1st : numpy.ndarray</span></div>
<div class="line"><span class="lineno">  594</span><span class="stringliteral">            Computed Elogsticks value by stick-breaking process.</span></div>
<div class="line"><span class="lineno">  595</span><span class="stringliteral">        unique_words : dict of (int, int)</span></div>
<div class="line"><span class="lineno">  596</span><span class="stringliteral">            Number of unique words in the chunk.</span></div>
<div class="line"><span class="lineno">  597</span><span class="stringliteral">        doc_word_ids : iterable of int</span></div>
<div class="line"><span class="lineno">  598</span><span class="stringliteral">            Word ids of for a single document.</span></div>
<div class="line"><span class="lineno">  599</span><span class="stringliteral">        doc_word_counts : iterable of int</span></div>
<div class="line"><span class="lineno">  600</span><span class="stringliteral">            Word counts of all words in a single document.</span></div>
<div class="line"><span class="lineno">  601</span><span class="stringliteral">        var_converge : float</span></div>
<div class="line"><span class="lineno">  602</span><span class="stringliteral">            Lower bound on the right side of convergence. Used when updating variational parameters for a single</span></div>
<div class="line"><span class="lineno">  603</span><span class="stringliteral">            document.</span></div>
<div class="line"><span class="lineno">  604</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  605</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  606</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  607</span><span class="stringliteral">        float</span></div>
<div class="line"><span class="lineno">  608</span><span class="stringliteral">            Computed value of likelihood for a single document.</span></div>
<div class="line"><span class="lineno">  609</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  610</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  611</span>        chunkids = [unique_words[id] <span class="keywordflow">for</span> id <span class="keywordflow">in</span> doc_word_ids]</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>        Elogbeta_doc = self.m_Elogbeta[:, doc_word_ids]</div>
<div class="line"><span class="lineno">  614</span>        <span class="comment"># very similar to the hdp equations</span></div>
<div class="line"><span class="lineno">  615</span>        v = np.zeros((2, self.m_K - 1))</div>
<div class="line"><span class="lineno">  616</span>        v[0] = 1.0</div>
<div class="line"><span class="lineno">  617</span>        v[1] = self.m_alpha</div>
<div class="line"><span class="lineno">  618</span> </div>
<div class="line"><span class="lineno">  619</span>        <span class="comment"># back to the uniform</span></div>
<div class="line"><span class="lineno">  620</span>        phi = np.ones((len(doc_word_ids), self.m_K)) * 1.0 / self.m_K</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span>        likelihood = 0.0</div>
<div class="line"><span class="lineno">  623</span>        old_likelihood = -1e200</div>
<div class="line"><span class="lineno">  624</span>        converge = 1.0</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>        iter = 0</div>
<div class="line"><span class="lineno">  627</span>        max_iter = 100</div>
<div class="line"><span class="lineno">  628</span>        <span class="comment"># not yet support second level optimization yet, to be done in the future</span></div>
<div class="line"><span class="lineno">  629</span>        <span class="keywordflow">while</span> iter &lt; max_iter <span class="keywordflow">and</span> (converge &lt; 0.0 <span class="keywordflow">or</span> converge &gt; var_converge):</div>
<div class="line"><span class="lineno">  630</span>            <span class="comment"># update variational parameters</span></div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>            <span class="comment"># var_phi</span></div>
<div class="line"><span class="lineno">  633</span>            <span class="keywordflow">if</span> iter &lt; 3:</div>
<div class="line"><span class="lineno">  634</span>                var_phi = np.dot(phi.T, (Elogbeta_doc * doc_word_counts).T)</div>
<div class="line"><span class="lineno">  635</span>                (log_var_phi, log_norm) = matutils.ret_log_normalize_vec(var_phi)</div>
<div class="line"><span class="lineno">  636</span>                var_phi = np.exp(log_var_phi)</div>
<div class="line"><span class="lineno">  637</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  638</span>                var_phi = np.dot(phi.T, (Elogbeta_doc * doc_word_counts).T) + Elogsticks_1st</div>
<div class="line"><span class="lineno">  639</span>                (log_var_phi, log_norm) = matutils.ret_log_normalize_vec(var_phi)</div>
<div class="line"><span class="lineno">  640</span>                var_phi = np.exp(log_var_phi)</div>
<div class="line"><span class="lineno">  641</span> </div>
<div class="line"><span class="lineno">  642</span>            <span class="comment"># phi</span></div>
<div class="line"><span class="lineno">  643</span>            <span class="keywordflow">if</span> iter &lt; 3:</div>
<div class="line"><span class="lineno">  644</span>                phi = np.dot(var_phi, Elogbeta_doc).T</div>
<div class="line"><span class="lineno">  645</span>                (log_phi, log_norm) = matutils.ret_log_normalize_vec(phi)</div>
<div class="line"><span class="lineno">  646</span>                phi = np.exp(log_phi)</div>
<div class="line"><span class="lineno">  647</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  648</span>                phi = np.dot(var_phi, Elogbeta_doc).T + Elogsticks_2nd  <span class="comment"># noqa:F821</span></div>
<div class="line"><span class="lineno">  649</span>                (log_phi, log_norm) = matutils.ret_log_normalize_vec(phi)</div>
<div class="line"><span class="lineno">  650</span>                phi = np.exp(log_phi)</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>            <span class="comment"># v</span></div>
<div class="line"><span class="lineno">  653</span>            phi_all = phi * np.array(doc_word_counts)[:, np.newaxis]</div>
<div class="line"><span class="lineno">  654</span>            v[0] = 1.0 + np.sum(phi_all[:, :self.m_K - 1], 0)</div>
<div class="line"><span class="lineno">  655</span>            phi_cum = np.flipud(np.sum(phi_all[:, 1:], 0))</div>
<div class="line"><span class="lineno">  656</span>            v[1] = self.m_alpha + np.flipud(np.cumsum(phi_cum))</div>
<div class="line"><span class="lineno">  657</span>            Elogsticks_2nd = expect_log_sticks(v)</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>            likelihood = 0.0</div>
<div class="line"><span class="lineno">  660</span>            <span class="comment"># compute likelihood</span></div>
<div class="line"><span class="lineno">  661</span>            <span class="comment"># var_phi part/ C in john&#39;s notation</span></div>
<div class="line"><span class="lineno">  662</span>            likelihood += np.sum((Elogsticks_1st - log_var_phi) * var_phi)</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>            <span class="comment"># v part/ v in john&#39;s notation, john&#39;s beta is alpha here</span></div>
<div class="line"><span class="lineno">  665</span>            log_alpha = np.log(self.m_alpha)</div>
<div class="line"><span class="lineno">  666</span>            likelihood += (self.m_K - 1) * log_alpha</div>
<div class="line"><span class="lineno">  667</span>            dig_sum = psi(np.sum(v, 0))</div>
<div class="line"><span class="lineno">  668</span>            likelihood += np.sum((np.array([1.0, self.m_alpha])[:, np.newaxis] - v) * (psi(v) - dig_sum))</div>
<div class="line"><span class="lineno">  669</span>            likelihood -= np.sum(gammaln(np.sum(v, 0))) - np.sum(gammaln(v))</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>            <span class="comment"># Z part</span></div>
<div class="line"><span class="lineno">  672</span>            likelihood += np.sum((Elogsticks_2nd - log_phi) * phi)</div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span>            <span class="comment"># X part, the data part</span></div>
<div class="line"><span class="lineno">  675</span>            likelihood += np.sum(phi.T * np.dot(var_phi, Elogbeta_doc * doc_word_counts))</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>            converge = (likelihood - old_likelihood) / abs(old_likelihood)</div>
<div class="line"><span class="lineno">  678</span>            old_likelihood = likelihood</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>            <span class="keywordflow">if</span> converge &lt; -0.000001:</div>
<div class="line"><span class="lineno">  681</span>                logger.warning(<span class="stringliteral">&#39;likelihood is decreasing!&#39;</span>)</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>            iter += 1</div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>        <span class="comment"># update the suff_stat ss</span></div>
<div class="line"><span class="lineno">  686</span>        <span class="comment"># this time it only contains information from one doc</span></div>
<div class="line"><span class="lineno">  687</span>        ss.m_var_sticks_ss += np.sum(var_phi, 0)</div>
<div class="line"><span class="lineno">  688</span>        ss.m_var_beta_ss[:, chunkids] += np.dot(var_phi.T, phi.T * doc_word_counts)</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>        <span class="keywordflow">return</span> likelihood</div>
<div class="line"><span class="lineno">  691</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3397a86637f0e6eda81d60aa8fb909b" name="ac3397a86637f0e6eda81d60aa8fb909b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3397a86637f0e6eda81d60aa8fb909b">&#9670;&#160;</a></span>evaluate_test_corpus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.evaluate_test_corpus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Evaluates the model on test corpus.

Parameters
----------
corpus : iterable of list of (int, float)
    Test corpus in BoW format.

Returns
-------
float
    The value of total likelihood obtained by evaluating the model for all documents in the test corpus.</pre> <div class="fragment"><div class="line"><span class="lineno">  926</span>    <span class="keyword">def </span>evaluate_test_corpus(self, corpus):</div>
<div class="line"><span class="lineno">  927</span>        <span class="stringliteral">&quot;&quot;&quot;Evaluates the model on test corpus.</span></div>
<div class="line"><span class="lineno">  928</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  929</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  930</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  931</span><span class="stringliteral">        corpus : iterable of list of (int, float)</span></div>
<div class="line"><span class="lineno">  932</span><span class="stringliteral">            Test corpus in BoW format.</span></div>
<div class="line"><span class="lineno">  933</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  934</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  935</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  936</span><span class="stringliteral">        float</span></div>
<div class="line"><span class="lineno">  937</span><span class="stringliteral">            The value of total likelihood obtained by evaluating the model for all documents in the test corpus.</span></div>
<div class="line"><span class="lineno">  938</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  939</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  940</span>        logger.info(<span class="stringliteral">&#39;TEST: evaluating test corpus&#39;</span>)</div>
<div class="line"><span class="lineno">  941</span>        <span class="keywordflow">if</span> self.lda_alpha <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> self.lda_beta <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  942</span>            self.lda_alpha, self.lda_beta = self.hdp_to_lda()</div>
<div class="line"><span class="lineno">  943</span>        score = 0.0</div>
<div class="line"><span class="lineno">  944</span>        total_words = 0</div>
<div class="line"><span class="lineno">  945</span>        <span class="keywordflow">for</span> i, doc <span class="keywordflow">in</span> enumerate(corpus):</div>
<div class="line"><span class="lineno">  946</span>            <span class="keywordflow">if</span> len(doc) &gt; 0:</div>
<div class="line"><span class="lineno">  947</span>                doc_word_ids, doc_word_counts = zip(*doc)</div>
<div class="line"><span class="lineno">  948</span>                likelihood, gamma = lda_e_step(doc_word_ids, doc_word_counts, self.lda_alpha, self.lda_beta)</div>
<div class="line"><span class="lineno">  949</span>                theta = gamma / np.sum(gamma)</div>
<div class="line"><span class="lineno">  950</span>                lda_betad = self.lda_beta[:, doc_word_ids]</div>
<div class="line"><span class="lineno">  951</span>                log_predicts = np.log(np.dot(theta, lda_betad))</div>
<div class="line"><span class="lineno">  952</span>                doc_score = sum(log_predicts) / len(doc)</div>
<div class="line"><span class="lineno">  953</span>                logger.info(<span class="stringliteral">&#39;TEST: %6d    %.5f&#39;</span>, i, doc_score)</div>
<div class="line"><span class="lineno">  954</span>                score += likelihood</div>
<div class="line"><span class="lineno">  955</span>                total_words += sum(doc_word_counts)</div>
<div class="line"><span class="lineno">  956</span>        logger.info(</div>
<div class="line"><span class="lineno">  957</span>            <span class="stringliteral">&quot;TEST: average score: %.5f, total score: %.5f,  test docs: %d&quot;</span>,</div>
<div class="line"><span class="lineno">  958</span>            score / total_words, score, len(corpus)</div>
<div class="line"><span class="lineno">  959</span>        )</div>
<div class="line"><span class="lineno">  960</span>        <span class="keywordflow">return</span> score</div>
<div class="line"><span class="lineno">  961</span> </div>
<div class="line"><span class="lineno">  962</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab66df207b89c0fc3e67f1854adf51219" name="ab66df207b89c0fc3e67f1854adf51219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab66df207b89c0fc3e67f1854adf51219">&#9670;&#160;</a></span>get_topics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.get_topics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the term topic matrix learned during inference.

Returns
-------
np.ndarray
    `num_topics` x `vocabulary_size` array of floats</pre> 
<p>Reimplemented from <a class="el" href="classgensim_1_1models_1_1basemodel_1_1_base_topic_model.html#a9e68b5ca46f431be2891630f06fa8d2d">gensim.models.basemodel.BaseTopicModel</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  794</span>    <span class="keyword">def </span>get_topics(self):</div>
<div class="line"><span class="lineno">  795</span>        <span class="stringliteral">&quot;&quot;&quot;Get the term topic matrix learned during inference.</span></div>
<div class="line"><span class="lineno">  796</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  797</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  798</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  799</span><span class="stringliteral">        np.ndarray</span></div>
<div class="line"><span class="lineno">  800</span><span class="stringliteral">            `num_topics` x `vocabulary_size` array of floats</span></div>
<div class="line"><span class="lineno">  801</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  802</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  803</span>        topics = self.m_lambda + self.m_eta</div>
<div class="line"><span class="lineno">  804</span>        <span class="keywordflow">return</span> topics / topics.sum(axis=1)[:, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno">  805</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a722ac49a901a58e69adad9b35832c7bc" name="a722ac49a901a58e69adad9b35832c7bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a722ac49a901a58e69adad9b35832c7bc">&#9670;&#160;</a></span>hdp_to_lda()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.hdp_to_lda </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get corresponding alpha and beta values of a LDA almost equivalent to current HDP.

Returns
-------
(numpy.ndarray, numpy.ndarray)
    Alpha and Beta arrays.</pre> <div class="fragment"><div class="line"><span class="lineno">  884</span>    <span class="keyword">def </span>hdp_to_lda(self):</div>
<div class="line"><span class="lineno">  885</span>        <span class="stringliteral">&quot;&quot;&quot;Get corresponding alpha and beta values of a LDA almost equivalent to current HDP.</span></div>
<div class="line"><span class="lineno">  886</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  887</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  888</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  889</span><span class="stringliteral">        (numpy.ndarray, numpy.ndarray)</span></div>
<div class="line"><span class="lineno">  890</span><span class="stringliteral">            Alpha and Beta arrays.</span></div>
<div class="line"><span class="lineno">  891</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  892</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  893</span>        <span class="comment"># alpha</span></div>
<div class="line"><span class="lineno">  894</span>        sticks = self.m_var_sticks[0] / (self.m_var_sticks[0] + self.m_var_sticks[1])</div>
<div class="line"><span class="lineno">  895</span>        alpha = np.zeros(self.m_T)</div>
<div class="line"><span class="lineno">  896</span>        left = 1.0</div>
<div class="line"><span class="lineno">  897</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(0, self.m_T - 1):</div>
<div class="line"><span class="lineno">  898</span>            alpha[i] = sticks[i] * left</div>
<div class="line"><span class="lineno">  899</span>            left = left - alpha[i]</div>
<div class="line"><span class="lineno">  900</span>        alpha[self.m_T - 1] = left</div>
<div class="line"><span class="lineno">  901</span>        alpha *= self.m_alpha</div>
<div class="line"><span class="lineno">  902</span> </div>
<div class="line"><span class="lineno">  903</span>        <span class="comment"># beta</span></div>
<div class="line"><span class="lineno">  904</span>        beta = (self.m_lambda + self.m_eta) / (self.m_W * self.m_eta + self.m_lambda_sum[:, np.newaxis])</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>        <span class="keywordflow">return</span> alpha, beta</div>
<div class="line"><span class="lineno">  907</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a077d320ce79b1afb028364179c7c0ed7" name="a077d320ce79b1afb028364179c7c0ed7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a077d320ce79b1afb028364179c7c0ed7">&#9670;&#160;</a></span>inference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.inference </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Infers the gamma value based for `chunk`.

Parameters
----------
chunk : iterable of list of (int, float)
    Corpus in BoW format.

Returns
-------
numpy.ndarray
    First level concentration, i.e., Gamma value.

Raises
------
RuntimeError
    If model doesn't trained yet.</pre> <div class="fragment"><div class="line"><span class="lineno">  398</span>    <span class="keyword">def </span>inference(self, chunk):</div>
<div class="line"><span class="lineno">  399</span>        <span class="stringliteral">&quot;&quot;&quot;Infers the gamma value based for `chunk`.</span></div>
<div class="line"><span class="lineno">  400</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  401</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  402</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  403</span><span class="stringliteral">        chunk : iterable of list of (int, float)</span></div>
<div class="line"><span class="lineno">  404</span><span class="stringliteral">            Corpus in BoW format.</span></div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral">        numpy.ndarray</span></div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">            First level concentration, i.e., Gamma value.</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral">        Raises</span></div>
<div class="line"><span class="lineno">  412</span><span class="stringliteral">        ------</span></div>
<div class="line"><span class="lineno">  413</span><span class="stringliteral">        RuntimeError</span></div>
<div class="line"><span class="lineno">  414</span><span class="stringliteral">            If model doesn&#39;t trained yet.</span></div>
<div class="line"><span class="lineno">  415</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  416</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  417</span>        <span class="keywordflow">if</span> self.lda_alpha <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> self.lda_beta <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  418</span>            <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&quot;model must be trained to perform inference&quot;</span>)</div>
<div class="line"><span class="lineno">  419</span>        chunk = list(chunk)</div>
<div class="line"><span class="lineno">  420</span>        <span class="keywordflow">if</span> len(chunk) &gt; 1:</div>
<div class="line"><span class="lineno">  421</span>            logger.debug(<span class="stringliteral">&quot;performing inference on a chunk of %i documents&quot;</span>, len(chunk))</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>        gamma = np.zeros((len(chunk), self.lda_beta.shape[0]))</div>
<div class="line"><span class="lineno">  424</span>        <span class="keywordflow">for</span> d, doc <span class="keywordflow">in</span> enumerate(chunk):</div>
<div class="line"><span class="lineno">  425</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> doc:  <span class="comment"># leave gamma at zero for empty documents</span></div>
<div class="line"><span class="lineno">  426</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  427</span>            ids, counts = zip(*doc)</div>
<div class="line"><span class="lineno">  428</span>            _, gammad = lda_e_step(ids, counts, self.lda_alpha, self.lda_beta)</div>
<div class="line"><span class="lineno">  429</span>            gamma[d, :] = gammad</div>
<div class="line"><span class="lineno">  430</span>        <span class="keywordflow">return</span> gamma</div>
<div class="line"><span class="lineno">  431</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1398040ad304f3f6481581e45bb774f4" name="a1398040ad304f3f6481581e45bb774f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1398040ad304f3f6481581e45bb774f4">&#9670;&#160;</a></span>optimal_ordering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.optimal_ordering </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Performs ordering on the topics.</pre> <div class="fragment"><div class="line"><span class="lineno">  734</span>    <span class="keyword">def </span>optimal_ordering(self):</div>
<div class="line"><span class="lineno">  735</span>        <span class="stringliteral">&quot;&quot;&quot;Performs ordering on the topics.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  736</span>        idx = matutils.argsort(self.m_lambda_sum, reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  737</span>        self.m_varphi_ss = self.m_varphi_ss[idx]</div>
<div class="line"><span class="lineno">  738</span>        self.m_lambda = self.m_lambda[idx, :]</div>
<div class="line"><span class="lineno">  739</span>        self.m_lambda_sum = self.m_lambda_sum[idx]</div>
<div class="line"><span class="lineno">  740</span>        self.m_Elogbeta = self.m_Elogbeta[idx, :]</div>
<div class="line"><span class="lineno">  741</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a98ffe2cfc4a07b297357485d09d199cd" name="a98ffe2cfc4a07b297357485d09d199cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ffe2cfc4a07b297357485d09d199cd">&#9670;&#160;</a></span>save_options()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.save_options </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Writes all the values of the attributes for the current model in "options.dat" file.

Warnings
--------
This method is deprecated, use :meth:`~gensim.models.hdpmodel.HdpModel.save` instead.</pre> <div class="fragment"><div class="line"><span class="lineno">  859</span>    <span class="keyword">def </span>save_options(self):</div>
<div class="line"><span class="lineno">  860</span>        <span class="stringliteral">&quot;&quot;&quot;Writes all the values of the attributes for the current model in &quot;options.dat&quot; file.</span></div>
<div class="line"><span class="lineno">  861</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  862</span><span class="stringliteral">        Warnings</span></div>
<div class="line"><span class="lineno">  863</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  864</span><span class="stringliteral">        This method is deprecated, use :meth:`~gensim.models.hdpmodel.HdpModel.save` instead.</span></div>
<div class="line"><span class="lineno">  865</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  866</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  867</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.outputdir:</div>
<div class="line"><span class="lineno">  868</span>            logger.error(<span class="stringliteral">&quot;cannot store options without having specified an output directory&quot;</span>)</div>
<div class="line"><span class="lineno">  869</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  870</span>        fname = <span class="stringliteral">&#39;%s/options.dat&#39;</span> % self.outputdir</div>
<div class="line"><span class="lineno">  871</span>        <span class="keyword">with</span> utils.open(fname, <span class="stringliteral">&#39;wb&#39;</span>) <span class="keyword">as</span> fout:</div>
<div class="line"><span class="lineno">  872</span>            fout.write(<span class="stringliteral">&#39;tau: %s\n&#39;</span> % str(self.m_tau - 1))</div>
<div class="line"><span class="lineno">  873</span>            fout.write(<span class="stringliteral">&#39;chunksize: %s\n&#39;</span> % str(self.chunksize))</div>
<div class="line"><span class="lineno">  874</span>            fout.write(<span class="stringliteral">&#39;var_converge: %s\n&#39;</span> % str(self.m_var_converge))</div>
<div class="line"><span class="lineno">  875</span>            fout.write(<span class="stringliteral">&#39;D: %s\n&#39;</span> % str(self.m_D))</div>
<div class="line"><span class="lineno">  876</span>            fout.write(<span class="stringliteral">&#39;K: %s\n&#39;</span> % str(self.m_K))</div>
<div class="line"><span class="lineno">  877</span>            fout.write(<span class="stringliteral">&#39;T: %s\n&#39;</span> % str(self.m_T))</div>
<div class="line"><span class="lineno">  878</span>            fout.write(<span class="stringliteral">&#39;W: %s\n&#39;</span> % str(self.m_W))</div>
<div class="line"><span class="lineno">  879</span>            fout.write(<span class="stringliteral">&#39;alpha: %s\n&#39;</span> % str(self.m_alpha))</div>
<div class="line"><span class="lineno">  880</span>            fout.write(<span class="stringliteral">&#39;kappa: %s\n&#39;</span> % str(self.m_kappa))</div>
<div class="line"><span class="lineno">  881</span>            fout.write(<span class="stringliteral">&#39;eta: %s\n&#39;</span> % str(self.m_eta))</div>
<div class="line"><span class="lineno">  882</span>            fout.write(<span class="stringliteral">&#39;gamma: %s\n&#39;</span> % str(self.m_gamma))</div>
<div class="line"><span class="lineno">  883</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a5c347cb0ce621f0f5b8c62f98abbaa" name="a0a5c347cb0ce621f0f5b8c62f98abbaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a5c347cb0ce621f0f5b8c62f98abbaa">&#9670;&#160;</a></span>save_topics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.save_topics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>doc_count</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save discovered topics.

Warnings
--------
This method is deprecated, use :meth:`~gensim.models.hdpmodel.HdpModel.save` instead.

Parameters
----------
doc_count : int, optional
    Indicates number of documents finished processing and are to be saved.</pre> <div class="fragment"><div class="line"><span class="lineno">  833</span>    <span class="keyword">def </span>save_topics(self, doc_count=None):</div>
<div class="line"><span class="lineno">  834</span>        <span class="stringliteral">&quot;&quot;&quot;Save discovered topics.</span></div>
<div class="line"><span class="lineno">  835</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  836</span><span class="stringliteral">        Warnings</span></div>
<div class="line"><span class="lineno">  837</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  838</span><span class="stringliteral">        This method is deprecated, use :meth:`~gensim.models.hdpmodel.HdpModel.save` instead.</span></div>
<div class="line"><span class="lineno">  839</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  840</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  841</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  842</span><span class="stringliteral">        doc_count : int, optional</span></div>
<div class="line"><span class="lineno">  843</span><span class="stringliteral">            Indicates number of documents finished processing and are to be saved.</span></div>
<div class="line"><span class="lineno">  844</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  845</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  846</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.outputdir:</div>
<div class="line"><span class="lineno">  847</span>            logger.error(<span class="stringliteral">&quot;cannot store topics without having specified an output directory&quot;</span>)</div>
<div class="line"><span class="lineno">  848</span> </div>
<div class="line"><span class="lineno">  849</span>        <span class="keywordflow">if</span> doc_count <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  850</span>            fname = <span class="stringliteral">&#39;final&#39;</span></div>
<div class="line"><span class="lineno">  851</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  852</span>            fname = <span class="stringliteral">&#39;doc-%i&#39;</span> % doc_count</div>
<div class="line"><span class="lineno">  853</span>        fname = <span class="stringliteral">&#39;%s/%s.topics&#39;</span> % (self.outputdir, fname)</div>
<div class="line"><span class="lineno">  854</span>        logger.info(<span class="stringliteral">&quot;saving topics to %s&quot;</span>, fname)</div>
<div class="line"><span class="lineno">  855</span>        betas = self.m_lambda + self.m_eta</div>
<div class="line"><span class="lineno">  856</span>        np.savetxt(fname, betas)</div>
<div class="line"><span class="lineno">  857</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d4020dd00e76f93d31704c43d26ea52" name="a9d4020dd00e76f93d31704c43d26ea52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d4020dd00e76f93d31704c43d26ea52">&#9670;&#160;</a></span>show_topic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.show_topic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>topic_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>topn</em> = <code>20</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>log</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>formatted</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_words</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Print the `num_words` most probable words for topic `topic_id`.

Parameters
----------
topic_id : int
    Acts as a representative index for a particular topic.
topn : int, optional
    Number of most probable words to show from given `topic_id`.
log : bool, optional
    If True - logs a message with level INFO on the logger object.
formatted : bool, optional
    If True - get the topics as a list of strings, otherwise - get the topics as lists of (weight, word) pairs.
num_words : int, optional
    DEPRECATED, USE `topn` INSTEAD.

Warnings
--------
The parameter `num_words` is deprecated, will be removed in 4.0.0, please use `topn` instead.

Returns
-------
list of (str, numpy.float) **or** list of str
    Topic terms output displayed whose format depends on `formatted` parameter.</pre> <div class="fragment"><div class="line"><span class="lineno">  756</span>    <span class="keyword">def </span>show_topic(self, topic_id, topn=20, log=False, formatted=False, num_words=None):</div>
<div class="line"><span class="lineno">  757</span>        <span class="stringliteral">&quot;&quot;&quot;Print the `num_words` most probable words for topic `topic_id`.</span></div>
<div class="line"><span class="lineno">  758</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  759</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  760</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  761</span><span class="stringliteral">        topic_id : int</span></div>
<div class="line"><span class="lineno">  762</span><span class="stringliteral">            Acts as a representative index for a particular topic.</span></div>
<div class="line"><span class="lineno">  763</span><span class="stringliteral">        topn : int, optional</span></div>
<div class="line"><span class="lineno">  764</span><span class="stringliteral">            Number of most probable words to show from given `topic_id`.</span></div>
<div class="line"><span class="lineno">  765</span><span class="stringliteral">        log : bool, optional</span></div>
<div class="line"><span class="lineno">  766</span><span class="stringliteral">            If True - logs a message with level INFO on the logger object.</span></div>
<div class="line"><span class="lineno">  767</span><span class="stringliteral">        formatted : bool, optional</span></div>
<div class="line"><span class="lineno">  768</span><span class="stringliteral">            If True - get the topics as a list of strings, otherwise - get the topics as lists of (weight, word) pairs.</span></div>
<div class="line"><span class="lineno">  769</span><span class="stringliteral">        num_words : int, optional</span></div>
<div class="line"><span class="lineno">  770</span><span class="stringliteral">            DEPRECATED, USE `topn` INSTEAD.</span></div>
<div class="line"><span class="lineno">  771</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  772</span><span class="stringliteral">        Warnings</span></div>
<div class="line"><span class="lineno">  773</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  774</span><span class="stringliteral">        The parameter `num_words` is deprecated, will be removed in 4.0.0, please use `topn` instead.</span></div>
<div class="line"><span class="lineno">  775</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  776</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  777</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  778</span><span class="stringliteral">        list of (str, numpy.float) **or** list of str</span></div>
<div class="line"><span class="lineno">  779</span><span class="stringliteral">            Topic terms output displayed whose format depends on `formatted` parameter.</span></div>
<div class="line"><span class="lineno">  780</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  781</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  782</span>        <span class="keywordflow">if</span> num_words <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:  <span class="comment"># deprecated num_words is used</span></div>
<div class="line"><span class="lineno">  783</span>            warnings.warn(</div>
<div class="line"><span class="lineno">  784</span>                <span class="stringliteral">&quot;The parameter `num_words` is deprecated, will be removed in 4.0.0, please use `topn` instead.&quot;</span></div>
<div class="line"><span class="lineno">  785</span>            )</div>
<div class="line"><span class="lineno">  786</span>            topn = num_words</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.m_status_up_to_date:</div>
<div class="line"><span class="lineno">  789</span>            self.update_expectations()</div>
<div class="line"><span class="lineno">  790</span>        betas = self.m_lambda + self.m_eta</div>
<div class="line"><span class="lineno">  791</span>        hdp_formatter = HdpTopicFormatter(self.id2word, betas)</div>
<div class="line"><span class="lineno">  792</span>        <span class="keywordflow">return</span> hdp_formatter.show_topic(topic_id, topn, log, formatted)</div>
<div class="line"><span class="lineno">  793</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aed232273377f73da4599af4145d8d459" name="aed232273377f73da4599af4145d8d459"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed232273377f73da4599af4145d8d459">&#9670;&#160;</a></span>show_topics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.show_topics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_topics</em> = <code>20</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num_words</em> = <code>20</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>log</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>formatted</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Print the `num_words` most probable words for `num_topics` number of topics.

Parameters
----------
num_topics : int, optional
    Number of topics for which most probable `num_words` words will be fetched, if -1 - print all topics.
num_words :  int, optional
    Number of most probable words to show from `num_topics` number of topics.
log : bool, optional
    If True - log a message with level INFO on the logger object.
formatted : bool, optional
    If True - get the topics as a list of strings, otherwise - get the topics as lists of (weight, word) pairs.

Returns
-------
list of (str, numpy.float) **or** list of str
    Output format for topic terms depends on the value of `formatted` parameter.</pre> <div class="fragment"><div class="line"><span class="lineno">  806</span>    <span class="keyword">def </span>show_topics(self, num_topics=20, num_words=20, log=False, formatted=True):</div>
<div class="line"><span class="lineno">  807</span>        <span class="stringliteral">&quot;&quot;&quot;Print the `num_words` most probable words for `num_topics` number of topics.</span></div>
<div class="line"><span class="lineno">  808</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  809</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  810</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  811</span><span class="stringliteral">        num_topics : int, optional</span></div>
<div class="line"><span class="lineno">  812</span><span class="stringliteral">            Number of topics for which most probable `num_words` words will be fetched, if -1 - print all topics.</span></div>
<div class="line"><span class="lineno">  813</span><span class="stringliteral">        num_words :  int, optional</span></div>
<div class="line"><span class="lineno">  814</span><span class="stringliteral">            Number of most probable words to show from `num_topics` number of topics.</span></div>
<div class="line"><span class="lineno">  815</span><span class="stringliteral">        log : bool, optional</span></div>
<div class="line"><span class="lineno">  816</span><span class="stringliteral">            If True - log a message with level INFO on the logger object.</span></div>
<div class="line"><span class="lineno">  817</span><span class="stringliteral">        formatted : bool, optional</span></div>
<div class="line"><span class="lineno">  818</span><span class="stringliteral">            If True - get the topics as a list of strings, otherwise - get the topics as lists of (weight, word) pairs.</span></div>
<div class="line"><span class="lineno">  819</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  820</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  821</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  822</span><span class="stringliteral">        list of (str, numpy.float) **or** list of str</span></div>
<div class="line"><span class="lineno">  823</span><span class="stringliteral">            Output format for topic terms depends on the value of `formatted` parameter.</span></div>
<div class="line"><span class="lineno">  824</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  825</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  826</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.m_status_up_to_date:</div>
<div class="line"><span class="lineno">  827</span>            self.update_expectations()</div>
<div class="line"><span class="lineno">  828</span>        betas = self.m_lambda + self.m_eta</div>
<div class="line"><span class="lineno">  829</span>        hdp_formatter = HdpTopicFormatter(self.id2word, betas)</div>
<div class="line"><span class="lineno">  830</span>        <span class="keywordflow">return</span> hdp_formatter.show_topics(num_topics, num_words, log, formatted)</div>
<div class="line"><span class="lineno">  831</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5dba3bbfded3e193fccc1d5819f3d6cc" name="a5dba3bbfded3e193fccc1d5819f3d6cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dba3bbfded3e193fccc1d5819f3d6cc">&#9670;&#160;</a></span>suggested_lda_model()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.suggested_lda_model </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get a trained ldamodel object which is closest to the current hdp model.

The `num_topics=m_T`, so as to preserve the matrices shapes when we assign alpha and beta.

Returns
-------
:class:`~gensim.models.ldamodel.LdaModel`
    Closest corresponding LdaModel to current HdpModel.</pre> <div class="fragment"><div class="line"><span class="lineno">  908</span>    <span class="keyword">def </span>suggested_lda_model(self):</div>
<div class="line"><span class="lineno">  909</span>        <span class="stringliteral">&quot;&quot;&quot;Get a trained ldamodel object which is closest to the current hdp model.</span></div>
<div class="line"><span class="lineno">  910</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  911</span><span class="stringliteral">        The `num_topics=m_T`, so as to preserve the matrices shapes when we assign alpha and beta.</span></div>
<div class="line"><span class="lineno">  912</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  913</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  914</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  915</span><span class="stringliteral">        :class:`~gensim.models.ldamodel.LdaModel`</span></div>
<div class="line"><span class="lineno">  916</span><span class="stringliteral">            Closest corresponding LdaModel to current HdpModel.</span></div>
<div class="line"><span class="lineno">  917</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  918</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  919</span>        alpha, beta = self.hdp_to_lda()</div>
<div class="line"><span class="lineno">  920</span>        ldam = ldamodel.LdaModel(</div>
<div class="line"><span class="lineno">  921</span>            num_topics=self.m_T, alpha=alpha, id2word=self.id2word, random_state=self.random_state, dtype=np.float64</div>
<div class="line"><span class="lineno">  922</span>        )</div>
<div class="line"><span class="lineno">  923</span>        ldam.expElogbeta[:] = beta</div>
<div class="line"><span class="lineno">  924</span>        <span class="keywordflow">return</span> ldam</div>
<div class="line"><span class="lineno">  925</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af2195f02acde5a1017bdeebc1c4286f3" name="af2195f02acde5a1017bdeebc1c4286f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2195f02acde5a1017bdeebc1c4286f3">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.update </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Train the model with new documents, by EM-iterating over `corpus` until any of the conditions is satisfied.

* time limit expired
* chunk limit reached
* whole corpus processed

Parameters
----------
corpus : iterable of list of (int, float)
    Corpus in BoW format.</pre> <div class="fragment"><div class="line"><span class="lineno">  457</span>    <span class="keyword">def </span>update(self, corpus):</div>
<div class="line"><span class="lineno">  458</span>        <span class="stringliteral">&quot;&quot;&quot;Train the model with new documents, by EM-iterating over `corpus` until any of the conditions is satisfied.</span></div>
<div class="line"><span class="lineno">  459</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  460</span><span class="stringliteral">        * time limit expired</span></div>
<div class="line"><span class="lineno">  461</span><span class="stringliteral">        * chunk limit reached</span></div>
<div class="line"><span class="lineno">  462</span><span class="stringliteral">        * whole corpus processed</span></div>
<div class="line"><span class="lineno">  463</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  464</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  465</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  466</span><span class="stringliteral">        corpus : iterable of list of (int, float)</span></div>
<div class="line"><span class="lineno">  467</span><span class="stringliteral">            Corpus in BoW format.</span></div>
<div class="line"><span class="lineno">  468</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  470</span>        save_freq = max(1, int(10000 / self.chunksize))  <span class="comment"># save every 10k docs, roughly</span></div>
<div class="line"><span class="lineno">  471</span>        chunks_processed = 0</div>
<div class="line"><span class="lineno">  472</span>        start_time = perf_counter()</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span>        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  475</span>            <span class="keywordflow">for</span> chunk <span class="keywordflow">in</span> utils.grouper(corpus, self.chunksize):</div>
<div class="line"><span class="lineno">  476</span>                self.update_chunk(chunk)</div>
<div class="line"><span class="lineno">  477</span>                self.m_num_docs_processed += len(chunk)</div>
<div class="line"><span class="lineno">  478</span>                chunks_processed += 1</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>                <span class="keywordflow">if</span> self.update_finished(start_time, chunks_processed, self.m_num_docs_processed):</div>
<div class="line"><span class="lineno">  481</span>                    self.update_expectations()</div>
<div class="line"><span class="lineno">  482</span>                    alpha, beta = self.hdp_to_lda()</div>
<div class="line"><span class="lineno">  483</span>                    self.lda_alpha = alpha</div>
<div class="line"><span class="lineno">  484</span>                    self.lda_beta = beta</div>
<div class="line"><span class="lineno">  485</span>                    self.print_topics(20)</div>
<div class="line"><span class="lineno">  486</span>                    <span class="keywordflow">if</span> self.outputdir:</div>
<div class="line"><span class="lineno">  487</span>                        self.save_topics()</div>
<div class="line"><span class="lineno">  488</span>                    <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>                <span class="keywordflow">elif</span> chunks_processed % save_freq == 0:</div>
<div class="line"><span class="lineno">  491</span>                    self.update_expectations()</div>
<div class="line"><span class="lineno">  492</span>                    <span class="comment"># self.save_topics(self.m_num_docs_processed)</span></div>
<div class="line"><span class="lineno">  493</span>                    self.print_topics(20)</div>
<div class="line"><span class="lineno">  494</span>                    logger.info(<span class="stringliteral">&#39;PROGRESS: finished document %i of %i&#39;</span>, self.m_num_docs_processed, self.m_D)</div>
<div class="line"><span class="lineno">  495</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a78f74bbe77e1914907925991b3450241" name="a78f74bbe77e1914907925991b3450241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78f74bbe77e1914907925991b3450241">&#9670;&#160;</a></span>update_chunk()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.update_chunk </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunk</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>update</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt_o</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Performs lazy update on necessary columns of lambda and variational inference for documents in the chunk.

Parameters
----------
chunk : iterable of list of (int, float)
    Corpus in BoW format.
update : bool, optional
    If True - call :meth:`~gensim.models.hdpmodel.HdpModel.update_lambda`.
opt_o : bool, optional
    Passed as argument to :meth:`~gensim.models.hdpmodel.HdpModel.update_lambda`.
    If True then the topics will be ordered, False otherwise.

Returns
-------
(float, int)
    A tuple of likelihood and sum of all the word counts from each document in the corpus.</pre> <div class="fragment"><div class="line"><span class="lineno">  526</span>    <span class="keyword">def </span>update_chunk(self, chunk, update=True, opt_o=True):</div>
<div class="line"><span class="lineno">  527</span>        <span class="stringliteral">&quot;&quot;&quot;Performs lazy update on necessary columns of lambda and variational inference for documents in the chunk.</span></div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral">        chunk : iterable of list of (int, float)</span></div>
<div class="line"><span class="lineno">  532</span><span class="stringliteral">            Corpus in BoW format.</span></div>
<div class="line"><span class="lineno">  533</span><span class="stringliteral">        update : bool, optional</span></div>
<div class="line"><span class="lineno">  534</span><span class="stringliteral">            If True - call :meth:`~gensim.models.hdpmodel.HdpModel.update_lambda`.</span></div>
<div class="line"><span class="lineno">  535</span><span class="stringliteral">        opt_o : bool, optional</span></div>
<div class="line"><span class="lineno">  536</span><span class="stringliteral">            Passed as argument to :meth:`~gensim.models.hdpmodel.HdpModel.update_lambda`.</span></div>
<div class="line"><span class="lineno">  537</span><span class="stringliteral">            If True then the topics will be ordered, False otherwise.</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  539</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  540</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  541</span><span class="stringliteral">        (float, int)</span></div>
<div class="line"><span class="lineno">  542</span><span class="stringliteral">            A tuple of likelihood and sum of all the word counts from each document in the corpus.</span></div>
<div class="line"><span class="lineno">  543</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  544</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  545</span>        <span class="comment"># Find the unique words in this chunk...</span></div>
<div class="line"><span class="lineno">  546</span>        unique_words = dict()</div>
<div class="line"><span class="lineno">  547</span>        word_list = []</div>
<div class="line"><span class="lineno">  548</span>        <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> chunk:</div>
<div class="line"><span class="lineno">  549</span>            <span class="keywordflow">for</span> word_id, _ <span class="keywordflow">in</span> doc:</div>
<div class="line"><span class="lineno">  550</span>                <span class="keywordflow">if</span> word_id <span class="keywordflow">not</span> <span class="keywordflow">in</span> unique_words:</div>
<div class="line"><span class="lineno">  551</span>                    unique_words[word_id] = len(unique_words)</div>
<div class="line"><span class="lineno">  552</span>                    word_list.append(word_id)</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>        wt = len(word_list)  <span class="comment"># length of words in these documents</span></div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>        <span class="comment"># ...and do the lazy updates on the necessary columns of lambda</span></div>
<div class="line"><span class="lineno">  557</span>        rw = np.array([self.m_r[t] <span class="keywordflow">for</span> t <span class="keywordflow">in</span> self.m_timestamp[word_list]])</div>
<div class="line"><span class="lineno">  558</span>        self.m_lambda[:, word_list] *= np.exp(self.m_r[-1] - rw)</div>
<div class="line"><span class="lineno">  559</span>        self.m_Elogbeta[:, word_list] = \</div>
<div class="line"><span class="lineno">  560</span>            psi(self.m_eta + self.m_lambda[:, word_list]) - \</div>
<div class="line"><span class="lineno">  561</span>            psi(self.m_W * self.m_eta + self.m_lambda_sum[:, np.newaxis])</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>        ss = SuffStats(self.m_T, wt, len(chunk))</div>
<div class="line"><span class="lineno">  564</span> </div>
<div class="line"><span class="lineno">  565</span>        Elogsticks_1st = expect_log_sticks(self.m_var_sticks)  <span class="comment"># global sticks</span></div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>        <span class="comment"># run variational inference on some new docs</span></div>
<div class="line"><span class="lineno">  568</span>        score = 0.0</div>
<div class="line"><span class="lineno">  569</span>        count = 0</div>
<div class="line"><span class="lineno">  570</span>        <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> chunk:</div>
<div class="line"><span class="lineno">  571</span>            <span class="keywordflow">if</span> len(doc) &gt; 0:</div>
<div class="line"><span class="lineno">  572</span>                doc_word_ids, doc_word_counts = zip(*doc)</div>
<div class="line"><span class="lineno">  573</span>                doc_score = self.doc_e_step(</div>
<div class="line"><span class="lineno">  574</span>                    ss, Elogsticks_1st,</div>
<div class="line"><span class="lineno">  575</span>                    unique_words, doc_word_ids,</div>
<div class="line"><span class="lineno">  576</span>                    doc_word_counts, self.m_var_converge</div>
<div class="line"><span class="lineno">  577</span>                )</div>
<div class="line"><span class="lineno">  578</span>                count += sum(doc_word_counts)</div>
<div class="line"><span class="lineno">  579</span>                score += doc_score</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>        <span class="keywordflow">if</span> update:</div>
<div class="line"><span class="lineno">  582</span>            self.update_lambda(ss, word_list, opt_o)</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>        <span class="keywordflow">return</span> score, count</div>
<div class="line"><span class="lineno">  585</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab60e8a4a524ced5f717e031370929c8b" name="ab60e8a4a524ced5f717e031370929c8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab60e8a4a524ced5f717e031370929c8b">&#9670;&#160;</a></span>update_expectations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.update_expectations </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Since we're doing lazy updates on lambda, at any given moment the current state of lambda may not be
accurate. This function updates all of the elements of lambda and Elogbeta so that if (for example) we want to
print out the topics we've learned we'll get the correct behavior.</pre> <div class="fragment"><div class="line"><span class="lineno">  742</span>    <span class="keyword">def </span>update_expectations(self):</div>
<div class="line"><span class="lineno">  743</span>        <span class="stringliteral">&quot;&quot;&quot;Since we&#39;re doing lazy updates on lambda, at any given moment the current state of lambda may not be</span></div>
<div class="line"><span class="lineno">  744</span><span class="stringliteral">        accurate. This function updates all of the elements of lambda and Elogbeta so that if (for example) we want to</span></div>
<div class="line"><span class="lineno">  745</span><span class="stringliteral">        print out the topics we&#39;ve learned we&#39;ll get the correct behavior.</span></div>
<div class="line"><span class="lineno">  746</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  747</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  748</span>        <span class="keywordflow">for</span> w <span class="keywordflow">in</span> range(self.m_W):</div>
<div class="line"><span class="lineno">  749</span>            self.m_lambda[:, w] *= np.exp(self.m_r[-1] - self.m_r[self.m_timestamp[w]])</div>
<div class="line"><span class="lineno">  750</span>        self.m_Elogbeta = \</div>
<div class="line"><span class="lineno">  751</span>            psi(self.m_eta + self.m_lambda) - psi(self.m_W * self.m_eta + self.m_lambda_sum[:, np.newaxis])</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>        self.m_timestamp[:] = self.m_updatect</div>
<div class="line"><span class="lineno">  754</span>        self.m_status_up_to_date = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  755</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6acac198442719664905eeddcff57b4e" name="a6acac198442719664905eeddcff57b4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6acac198442719664905eeddcff57b4e">&#9670;&#160;</a></span>update_finished()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.update_finished </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunks_processed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>docs_processed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Flag to determine whether the model has been updated with the new corpus or not.

Parameters
----------
start_time : float
    Indicates the current processor time as a floating point number expressed in seconds.
    The resolution is typically better on Windows than on Unix by one microsecond due to differing
    implementation of underlying function calls.
chunks_processed : int
    Indicates progress of the update in terms of the number of chunks processed.
docs_processed : int
    Indicates number of documents finished processing.This is incremented in size of chunks.

Returns
-------
bool
    If True - model is updated, False otherwise.</pre> <div class="fragment"><div class="line"><span class="lineno">  496</span>    <span class="keyword">def </span>update_finished(self, start_time, chunks_processed, docs_processed):</div>
<div class="line"><span class="lineno">  497</span>        <span class="stringliteral">&quot;&quot;&quot;Flag to determine whether the model has been updated with the new corpus or not.</span></div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">        start_time : float</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">            Indicates the current processor time as a floating point number expressed in seconds.</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">            The resolution is typically better on Windows than on Unix by one microsecond due to differing</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">            implementation of underlying function calls.</span></div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral">        chunks_processed : int</span></div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">            Indicates progress of the update in terms of the number of chunks processed.</span></div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral">        docs_processed : int</span></div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral">            Indicates number of documents finished processing.This is incremented in size of chunks.</span></div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral">        bool</span></div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral">            If True - model is updated, False otherwise.</span></div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  516</span>        <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno">  517</span>            <span class="comment"># chunk limit reached</span></div>
<div class="line"><span class="lineno">  518</span>            (self.max_chunks <span class="keywordflow">and</span> chunks_processed == self.max_chunks)</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>            <span class="comment"># time limit reached</span></div>
<div class="line"><span class="lineno">  521</span>            <span class="keywordflow">or</span> (self.max_time <span class="keywordflow">and</span> perf_counter() - start_time &gt; self.max_time)</div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span>            <span class="comment"># no limits and whole corpus has been processed once</span></div>
<div class="line"><span class="lineno">  524</span>            <span class="keywordflow">or</span> (<span class="keywordflow">not</span> self.max_chunks <span class="keywordflow">and</span> <span class="keywordflow">not</span> self.max_time <span class="keywordflow">and</span> docs_processed &gt;= self.m_D))</div>
<div class="line"><span class="lineno">  525</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a57f591dd54a483901cca93248938d04b" name="a57f591dd54a483901cca93248938d04b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57f591dd54a483901cca93248938d04b">&#9670;&#160;</a></span>update_lambda()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.update_lambda </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sstats</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>word_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt_o</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Update appropriate columns of lambda and top level sticks based on documents.

Parameters
----------
sstats : :class:`~gensim.models.hdpmodel.SuffStats`
    Statistic for all document(s) in the chunk.
word_list : list of int
    Contains word id of all the unique words in the chunk of documents on which update is being performed.
opt_o : bool, optional
    If True - invokes a call to :meth:`~gensim.models.hdpmodel.HdpModel.optimal_ordering` to order the topics.</pre> <div class="fragment"><div class="line"><span class="lineno">  692</span>    <span class="keyword">def </span>update_lambda(self, sstats, word_list, opt_o):</div>
<div class="line"><span class="lineno">  693</span>        <span class="stringliteral">&quot;&quot;&quot;Update appropriate columns of lambda and top level sticks based on documents.</span></div>
<div class="line"><span class="lineno">  694</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  695</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  696</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  697</span><span class="stringliteral">        sstats : :class:`~gensim.models.hdpmodel.SuffStats`</span></div>
<div class="line"><span class="lineno">  698</span><span class="stringliteral">            Statistic for all document(s) in the chunk.</span></div>
<div class="line"><span class="lineno">  699</span><span class="stringliteral">        word_list : list of int</span></div>
<div class="line"><span class="lineno">  700</span><span class="stringliteral">            Contains word id of all the unique words in the chunk of documents on which update is being performed.</span></div>
<div class="line"><span class="lineno">  701</span><span class="stringliteral">        opt_o : bool, optional</span></div>
<div class="line"><span class="lineno">  702</span><span class="stringliteral">            If True - invokes a call to :meth:`~gensim.models.hdpmodel.HdpModel.optimal_ordering` to order the topics.</span></div>
<div class="line"><span class="lineno">  703</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  704</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  705</span>        self.m_status_up_to_date = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  706</span>        <span class="comment"># rhot will be between 0 and 1, and says how much to weight</span></div>
<div class="line"><span class="lineno">  707</span>        <span class="comment"># the information we got from this mini-chunk.</span></div>
<div class="line"><span class="lineno">  708</span>        rhot = self.m_scale * pow(self.m_tau + self.m_updatect, -self.m_kappa)</div>
<div class="line"><span class="lineno">  709</span>        <span class="keywordflow">if</span> rhot &lt; rhot_bound:</div>
<div class="line"><span class="lineno">  710</span>            rhot = rhot_bound</div>
<div class="line"><span class="lineno">  711</span>        self.m_rhot = rhot</div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>        <span class="comment"># Update appropriate columns of lambda based on documents.</span></div>
<div class="line"><span class="lineno">  714</span>        self.m_lambda[:, word_list] = \</div>
<div class="line"><span class="lineno">  715</span>            self.m_lambda[:, word_list] * (1 - rhot) + rhot * self.m_D * sstats.m_var_beta_ss / sstats.m_chunksize</div>
<div class="line"><span class="lineno">  716</span>        self.m_lambda_sum = (1 - rhot) * self.m_lambda_sum + \</div>
<div class="line"><span class="lineno">  717</span>            rhot * self.m_D * np.sum(sstats.m_var_beta_ss, axis=1) / sstats.m_chunksize</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>        self.m_updatect += 1</div>
<div class="line"><span class="lineno">  720</span>        self.m_timestamp[word_list] = self.m_updatect</div>
<div class="line"><span class="lineno">  721</span>        self.m_r.append(self.m_r[-1] + np.log(1 - rhot))</div>
<div class="line"><span class="lineno">  722</span> </div>
<div class="line"><span class="lineno">  723</span>        self.m_varphi_ss = \</div>
<div class="line"><span class="lineno">  724</span>            (1.0 - rhot) * self.m_varphi_ss + rhot * sstats.m_var_sticks_ss * self.m_D / sstats.m_chunksize</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>        <span class="keywordflow">if</span> opt_o:</div>
<div class="line"><span class="lineno">  727</span>            self.optimal_ordering()</div>
<div class="line"><span class="lineno">  728</span> </div>
<div class="line"><span class="lineno">  729</span>        <span class="comment"># update top level sticks</span></div>
<div class="line"><span class="lineno">  730</span>        self.m_var_sticks[0] = self.m_varphi_ss[:self.m_T - 1] + 1.0</div>
<div class="line"><span class="lineno">  731</span>        var_phi_sum = np.flipud(self.m_varphi_ss[1:])</div>
<div class="line"><span class="lineno">  732</span>        self.m_var_sticks[1] = np.flipud(np.cumsum(var_phi_sum)) + self.m_gamma</div>
<div class="line"><span class="lineno">  733</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="af0e4ab5c94496617c2552d57ed3ab872" name="af0e4ab5c94496617c2552d57ed3ab872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0e4ab5c94496617c2552d57ed3ab872">&#9670;&#160;</a></span>chunksize</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.chunksize</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5f16376f629ace43febf316baccab085" name="a5f16376f629ace43febf316baccab085"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f16376f629ace43febf316baccab085">&#9670;&#160;</a></span>corpus</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.corpus</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aad813501d2bcf42eae36cac67bb99e8e" name="aad813501d2bcf42eae36cac67bb99e8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad813501d2bcf42eae36cac67bb99e8e">&#9670;&#160;</a></span>id2word</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.id2word</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1d2fe9117946648fd9b22b897f94ca44" name="a1d2fe9117946648fd9b22b897f94ca44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d2fe9117946648fd9b22b897f94ca44">&#9670;&#160;</a></span>lda_alpha</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.lda_alpha</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae99ad45cd73945f0ebb70178b2c5fbdc" name="ae99ad45cd73945f0ebb70178b2c5fbdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae99ad45cd73945f0ebb70178b2c5fbdc">&#9670;&#160;</a></span>lda_beta</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.lda_beta</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1ef41314862d76cd8ba2ad64066b255e" name="a1ef41314862d76cd8ba2ad64066b255e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ef41314862d76cd8ba2ad64066b255e">&#9670;&#160;</a></span>m_alpha</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_alpha</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9abf13649df3f7f56c33a05277850a64" name="a9abf13649df3f7f56c33a05277850a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9abf13649df3f7f56c33a05277850a64">&#9670;&#160;</a></span>m_D</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_D</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6c6bb78cbea379a35466b4dcb4ffc99e" name="a6c6bb78cbea379a35466b4dcb4ffc99e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c6bb78cbea379a35466b4dcb4ffc99e">&#9670;&#160;</a></span>m_Elogbeta</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_Elogbeta</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a01ce86c4fa7bf46703f2fbed44e9e780" name="a01ce86c4fa7bf46703f2fbed44e9e780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01ce86c4fa7bf46703f2fbed44e9e780">&#9670;&#160;</a></span>m_eta</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_eta</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2f77a46a414e98bc439022f2b00402c8" name="a2f77a46a414e98bc439022f2b00402c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f77a46a414e98bc439022f2b00402c8">&#9670;&#160;</a></span>m_gamma</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_gamma</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a187d8686da23c9a46ff50d26bfc24a30" name="a187d8686da23c9a46ff50d26bfc24a30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a187d8686da23c9a46ff50d26bfc24a30">&#9670;&#160;</a></span>m_K</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_K</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a74380219492e135cc94b52ba9702536e" name="a74380219492e135cc94b52ba9702536e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74380219492e135cc94b52ba9702536e">&#9670;&#160;</a></span>m_kappa</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_kappa</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5d3340f2db12a30885c617665f706c8b" name="a5d3340f2db12a30885c617665f706c8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3340f2db12a30885c617665f706c8b">&#9670;&#160;</a></span>m_lambda</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_lambda</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1a2d08aec7dc4ee915c4d8efc3d5223c" name="a1a2d08aec7dc4ee915c4d8efc3d5223c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a2d08aec7dc4ee915c4d8efc3d5223c">&#9670;&#160;</a></span>m_lambda_sum</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_lambda_sum</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae9f015e73a9d81b64f1cf7a436a36f5e" name="ae9f015e73a9d81b64f1cf7a436a36f5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9f015e73a9d81b64f1cf7a436a36f5e">&#9670;&#160;</a></span>m_num_docs_processed</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_num_docs_processed</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8f7aab40fabd85d6f98e834085805ea4" name="a8f7aab40fabd85d6f98e834085805ea4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7aab40fabd85d6f98e834085805ea4">&#9670;&#160;</a></span>m_r</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_r</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a66b0460087ea473c0b5e74464899c0f9" name="a66b0460087ea473c0b5e74464899c0f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66b0460087ea473c0b5e74464899c0f9">&#9670;&#160;</a></span>m_rhot</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_rhot</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="adcabf806ab5331f49f7e2431fd24d6c2" name="adcabf806ab5331f49f7e2431fd24d6c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcabf806ab5331f49f7e2431fd24d6c2">&#9670;&#160;</a></span>m_scale</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_scale</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abcd3b534cc6ee2f3331fd1703ada6847" name="abcd3b534cc6ee2f3331fd1703ada6847"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcd3b534cc6ee2f3331fd1703ada6847">&#9670;&#160;</a></span>m_status_up_to_date</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_status_up_to_date</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abd9bb8fbe915cd2db0c8871ccb3b2840" name="abd9bb8fbe915cd2db0c8871ccb3b2840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd9bb8fbe915cd2db0c8871ccb3b2840">&#9670;&#160;</a></span>m_T</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_T</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af2affb211214ce951a2d2666737a973e" name="af2affb211214ce951a2d2666737a973e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2affb211214ce951a2d2666737a973e">&#9670;&#160;</a></span>m_tau</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_tau</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a253dbaa9d44682e8e52c86d5775e9edd" name="a253dbaa9d44682e8e52c86d5775e9edd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a253dbaa9d44682e8e52c86d5775e9edd">&#9670;&#160;</a></span>m_timestamp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_timestamp</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abebce09b56c3ec49c275860d03e2bc62" name="abebce09b56c3ec49c275860d03e2bc62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abebce09b56c3ec49c275860d03e2bc62">&#9670;&#160;</a></span>m_updatect</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_updatect</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad0e85ee6dbe0db7085453840829ceefb" name="ad0e85ee6dbe0db7085453840829ceefb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0e85ee6dbe0db7085453840829ceefb">&#9670;&#160;</a></span>m_var_converge</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_var_converge</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aaea003dad0756288d95235580ea8d127" name="aaea003dad0756288d95235580ea8d127"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaea003dad0756288d95235580ea8d127">&#9670;&#160;</a></span>m_var_sticks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_var_sticks</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aea2d5ec36ab258d38f7d41fe3e655236" name="aea2d5ec36ab258d38f7d41fe3e655236"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea2d5ec36ab258d38f7d41fe3e655236">&#9670;&#160;</a></span>m_varphi_ss</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_varphi_ss</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af90421339c37af3d020b590994ba4f05" name="af90421339c37af3d020b590994ba4f05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af90421339c37af3d020b590994ba4f05">&#9670;&#160;</a></span>m_W</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.m_W</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0ff488757d5fb08d9da5307fd2f3779f" name="a0ff488757d5fb08d9da5307fd2f3779f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ff488757d5fb08d9da5307fd2f3779f">&#9670;&#160;</a></span>max_chunks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.max_chunks</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a268552d6579b7dfddfe6bb178fd2a4da" name="a268552d6579b7dfddfe6bb178fd2a4da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a268552d6579b7dfddfe6bb178fd2a4da">&#9670;&#160;</a></span>max_time</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.max_time</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae47556d4383bad11edfd376bff541e3f" name="ae47556d4383bad11edfd376bff541e3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae47556d4383bad11edfd376bff541e3f">&#9670;&#160;</a></span>outputdir</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.outputdir</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af1625e104af38cf46efd2c59a6141d80" name="af1625e104af38cf46efd2c59a6141d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1625e104af38cf46efd2c59a6141d80">&#9670;&#160;</a></span>random_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.hdpmodel.HdpModel.random_state</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/gensim/models/<a class="el" href="hdpmodel_8py.html">hdpmodel.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
