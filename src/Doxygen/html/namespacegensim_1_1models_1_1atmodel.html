<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.models.atmodel Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models.html">models</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models_1_1atmodel.html">atmodel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">gensim.models.atmodel Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1atmodel_1_1_author_topic_model.html">AuthorTopicModel</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1atmodel_1_1_author_topic_state.html">AuthorTopicState</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aaf7871c9171ab12f346f9cf28d7d162a" id="r_aaf7871c9171ab12f346f9cf28d7d162a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1atmodel.html#aaf7871c9171ab12f346f9cf28d7d162a">construct_doc2author</a> (corpus, author2doc)</td></tr>
<tr class="separator:aaf7871c9171ab12f346f9cf28d7d162a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2510e600df3cd2bbe773ca8a41fda2d4" id="r_a2510e600df3cd2bbe773ca8a41fda2d4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1atmodel.html#a2510e600df3cd2bbe773ca8a41fda2d4">construct_author2doc</a> (doc2author)</td></tr>
<tr class="separator:a2510e600df3cd2bbe773ca8a41fda2d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a4a03f0b4d528eff5b795b6694e1c03dc" id="r_a4a03f0b4d528eff5b795b6694e1c03dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1atmodel.html#a4a03f0b4d528eff5b795b6694e1c03dc">logger</a> = logging.getLogger(__name__)</td></tr>
<tr class="separator:a4a03f0b4d528eff5b795b6694e1c03dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Author-topic model.

This module trains the author-topic model on documents and corresponding author-document dictionaries.
The training is online and is constant in memory w.r.t. the number of documents.
The model is *not* constant in memory w.r.t. the number of authors.

The model can be updated with additional documents after training has been completed. It is
also possible to continue training on the existing data.

The model is closely related to :class:`~gensim.models.ldamodel.LdaModel`.
The :class:`~gensim.models.atmodel.AuthorTopicModel` class inherits  :class:`~gensim.models.ldamodel.LdaModel`,
and its usage is thus similar.

The model was introduced by  `Rosen-Zvi and co-authors: "The Author-Topic Model for Authors and Documents"
&lt;https://arxiv.org/abs/1207.4169&gt;`_. The model correlates the authorship information with the topics to give a better
insight on the subject knowledge of an author.

Example
-------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.models import AuthorTopicModel
    &gt;&gt;&gt; from gensim.corpora import mmcorpus
    &gt;&gt;&gt; from gensim.test.utils import common_dictionary, datapath, temporary_file

    &gt;&gt;&gt; author2doc = {
    ...     'john': [0, 1, 2, 3, 4, 5, 6],
    ...     'jane': [2, 3, 4, 5, 6, 7, 8],
    ...     'jack': [0, 2, 4, 6, 8]
    ... }
    &gt;&gt;&gt;
    &gt;&gt;&gt; corpus = mmcorpus.MmCorpus(datapath('testcorpus.mm'))
    &gt;&gt;&gt;
    &gt;&gt;&gt; with temporary_file("serialized") as s_path:
    ...     model = AuthorTopicModel(
    ...         corpus, author2doc=author2doc, id2word=common_dictionary, num_topics=4,
    ...         serialized=True, serialization_path=s_path
    ...     )
    ...
    ...     model.update(corpus, author2doc)  # update the author-topic model with additional documents
    &gt;&gt;&gt;
    &gt;&gt;&gt; # construct vectors for authors
    &gt;&gt;&gt; author_vecs = [model.get_author_topics(author) for author in model.id2author.values()]</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a2510e600df3cd2bbe773ca8a41fda2d4" name="a2510e600df3cd2bbe773ca8a41fda2d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2510e600df3cd2bbe773ca8a41fda2d4">&#9670;&#160;</a></span>construct_author2doc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.atmodel.construct_author2doc </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>doc2author</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Make a mapping from author IDs to document IDs.

Parameters
----------
doc2author: dict of (int, list of str)
    Mapping of document id to authors.

Returns
-------
dict of (str, list of int)
    Mapping of authors to document ids.</pre> <div class="fragment"><div class="line"><span class="lineno">  128</span><span class="keyword">def </span>construct_author2doc(doc2author):</div>
<div class="line"><span class="lineno">  129</span>    <span class="stringliteral">&quot;&quot;&quot;Make a mapping from author IDs to document IDs.</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">    doc2author: dict of (int, list of str)</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral">        Mapping of document id to authors.</span></div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  136</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  137</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  138</span><span class="stringliteral">    dict of (str, list of int)</span></div>
<div class="line"><span class="lineno">  139</span><span class="stringliteral">        Mapping of authors to document ids.</span></div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  142</span>    <span class="comment"># First get a set of all authors.</span></div>
<div class="line"><span class="lineno">  143</span>    authors_ids = set()</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">for</span> d, a_doc_ids <span class="keywordflow">in</span> doc2author.items():</div>
<div class="line"><span class="lineno">  145</span>        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> a_doc_ids:</div>
<div class="line"><span class="lineno">  146</span>            authors_ids.add(a)</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    <span class="comment"># Now construct the dictionary.</span></div>
<div class="line"><span class="lineno">  149</span>    author2doc = {}</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">for</span> a <span class="keywordflow">in</span> authors_ids:</div>
<div class="line"><span class="lineno">  151</span>        author2doc[a] = []</div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordflow">for</span> d, a_ids <span class="keywordflow">in</span> doc2author.items():</div>
<div class="line"><span class="lineno">  153</span>            <span class="keywordflow">if</span> a <span class="keywordflow">in</span> a_ids:</div>
<div class="line"><span class="lineno">  154</span>                author2doc[a].append(d)</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">return</span> author2doc</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaf7871c9171ab12f346f9cf28d7d162a" name="aaf7871c9171ab12f346f9cf28d7d162a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaf7871c9171ab12f346f9cf28d7d162a">&#9670;&#160;</a></span>construct_doc2author()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.atmodel.construct_doc2author </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>author2doc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a mapping from document IDs to author IDs.

Parameters
----------
corpus: iterable of list of (int, float)
    Corpus in BoW format.
author2doc: dict of (str, list of int)
    Mapping of authors to documents.

Returns
-------
dict of (int, list of str)
    Document to Author mapping.</pre> <div class="fragment"><div class="line"><span class="lineno">  102</span><span class="keyword">def </span>construct_doc2author(corpus, author2doc):</div>
<div class="line"><span class="lineno">  103</span>    <span class="stringliteral">&quot;&quot;&quot;Create a mapping from document IDs to author IDs.</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">    corpus: iterable of list of (int, float)</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">        Corpus in BoW format.</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    author2doc: dict of (str, list of int)</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">        Mapping of authors to documents.</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral">    dict of (int, list of str)</span></div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">        Document to Author mapping.</span></div>
<div class="line"><span class="lineno">  116</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  118</span>    doc2author = {}</div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">for</span> d, _ <span class="keywordflow">in</span> enumerate(corpus):</div>
<div class="line"><span class="lineno">  120</span>        author_ids = []</div>
<div class="line"><span class="lineno">  121</span>        <span class="keywordflow">for</span> a, a_doc_ids <span class="keywordflow">in</span> author2doc.items():</div>
<div class="line"><span class="lineno">  122</span>            <span class="keywordflow">if</span> d <span class="keywordflow">in</span> a_doc_ids:</div>
<div class="line"><span class="lineno">  123</span>                author_ids.append(a)</div>
<div class="line"><span class="lineno">  124</span>        doc2author[d] = author_ids</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordflow">return</span> doc2author</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a4a03f0b4d528eff5b795b6694e1c03dc" name="a4a03f0b4d528eff5b795b6694e1c03dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a03f0b4d528eff5b795b6694e1c03dc">&#9670;&#160;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.atmodel.logger = logging.getLogger(__name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
