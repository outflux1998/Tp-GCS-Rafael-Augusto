<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.models.deprecated.doc2vec.DocvecsArray Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models.html">models</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models_1_1deprecated.html">deprecated</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models_1_1deprecated_1_1doc2vec.html">doc2vec</a></li><li class="navelem"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html">DocvecsArray</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gensim.models.deprecated.doc2vec.DocvecsArray Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for gensim.models.deprecated.doc2vec.DocvecsArray:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.png" usemap="#gensim.models.deprecated.doc2vec.DocvecsArray_map" alt=""/>
  <map id="gensim.models.deprecated.doc2vec.DocvecsArray_map" name="gensim.models.deprecated.doc2vec.DocvecsArray_map">
<area href="classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load.html" alt="gensim.models.deprecated.old_saveload.SaveLoad" shape="rect" coords="0,56,302,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a59a99458a8fa758a2fc56a7bebd78204" id="r_a59a99458a8fa758a2fc56a7bebd78204"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a59a99458a8fa758a2fc56a7bebd78204">__init__</a> (self, <a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a9d6acff8baabb85b13c55f467497dc6b">mapfile_path</a>=None)</td></tr>
<tr class="separator:a59a99458a8fa758a2fc56a7bebd78204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf9dda7e1e563decf181c5c30c300a5e" id="r_adf9dda7e1e563decf181c5c30c300a5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#adf9dda7e1e563decf181c5c30c300a5e">note_doctag</a> (self, key, document_no, document_length)</td></tr>
<tr class="separator:adf9dda7e1e563decf181c5c30c300a5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e88f49078ca7723b4f4d108fe3544f" id="r_a20e88f49078ca7723b4f4d108fe3544f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a20e88f49078ca7723b4f4d108fe3544f">indexed_doctags</a> (self, doctag_tokens)</td></tr>
<tr class="separator:a20e88f49078ca7723b4f4d108fe3544f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8df921f655f73e8387202263c82c2822" id="r_a8df921f655f73e8387202263c82c2822"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a8df921f655f73e8387202263c82c2822">trained_item</a> (self, indexed_tuple)</td></tr>
<tr class="separator:a8df921f655f73e8387202263c82c2822"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c0ef08b84b90eb29b837e9381e12204" id="r_a1c0ef08b84b90eb29b837e9381e12204"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a1c0ef08b84b90eb29b837e9381e12204">index_to_doctag</a> (self, i_index)</td></tr>
<tr class="separator:a1c0ef08b84b90eb29b837e9381e12204"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ac30aa7e283640a5a0c88d81286f50" id="r_a57ac30aa7e283640a5a0c88d81286f50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a57ac30aa7e283640a5a0c88d81286f50">__getitem__</a> (self, index)</td></tr>
<tr class="separator:a57ac30aa7e283640a5a0c88d81286f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d90aa13f88c6a4aee57b2df6966b50" id="r_ab3d90aa13f88c6a4aee57b2df6966b50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#ab3d90aa13f88c6a4aee57b2df6966b50">__len__</a> (self)</td></tr>
<tr class="separator:ab3d90aa13f88c6a4aee57b2df6966b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa844dadf0724fc1511c1e319c0b4eca9" id="r_aa844dadf0724fc1511c1e319c0b4eca9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#aa844dadf0724fc1511c1e319c0b4eca9">__contains__</a> (self, index)</td></tr>
<tr class="separator:aa844dadf0724fc1511c1e319c0b4eca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdf2696628d2581b9b3e06cb5efa1072" id="r_afdf2696628d2581b9b3e06cb5efa1072"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#afdf2696628d2581b9b3e06cb5efa1072">save</a> (self, *args, **kwargs)</td></tr>
<tr class="separator:afdf2696628d2581b9b3e06cb5efa1072"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef4a42a40dbeadd56c5131c206521de1" id="r_aef4a42a40dbeadd56c5131c206521de1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#aef4a42a40dbeadd56c5131c206521de1">borrow_from</a> (self, other_docvecs)</td></tr>
<tr class="separator:aef4a42a40dbeadd56c5131c206521de1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e103040c71d2732820773f5be6ee65f" id="r_a8e103040c71d2732820773f5be6ee65f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a8e103040c71d2732820773f5be6ee65f">clear_sims</a> (self)</td></tr>
<tr class="separator:a8e103040c71d2732820773f5be6ee65f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a388f90e321287478242c1d7403edecc5" id="r_a388f90e321287478242c1d7403edecc5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a388f90e321287478242c1d7403edecc5">estimated_lookup_memory</a> (self)</td></tr>
<tr class="separator:a388f90e321287478242c1d7403edecc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a680181f15b4c9e7df8fd503ee1a0c39d" id="r_a680181f15b4c9e7df8fd503ee1a0c39d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a680181f15b4c9e7df8fd503ee1a0c39d">reset_weights</a> (self, model)</td></tr>
<tr class="separator:a680181f15b4c9e7df8fd503ee1a0c39d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace2160a74cb39682f0745f508e1a70a7" id="r_ace2160a74cb39682f0745f508e1a70a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#ace2160a74cb39682f0745f508e1a70a7">init_sims</a> (self, replace=False)</td></tr>
<tr class="separator:ace2160a74cb39682f0745f508e1a70a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a717899feab3dbc985cb043b469259467" id="r_a717899feab3dbc985cb043b469259467"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a717899feab3dbc985cb043b469259467">most_similar</a> (self, positive=None, negative=None, topn=10, clip_start=0, clip_end=None, indexer=None)</td></tr>
<tr class="separator:a717899feab3dbc985cb043b469259467"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea0b3d7dfa4210774830c04d0ea80af8" id="r_aea0b3d7dfa4210774830c04d0ea80af8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#aea0b3d7dfa4210774830c04d0ea80af8">doesnt_match</a> (self, docs)</td></tr>
<tr class="separator:aea0b3d7dfa4210774830c04d0ea80af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d2b0c7c6bfeec0dfba3cdfc1e40f46" id="r_a11d2b0c7c6bfeec0dfba3cdfc1e40f46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a11d2b0c7c6bfeec0dfba3cdfc1e40f46">similarity</a> (self, <a class="el" href="__lapack__subroutines_8h.html#a2b925362405fa9a6d18ed6ee40fca5e6">d1</a>, <a class="el" href="__lapack__subroutines_8h.html#aa0eb6a5759e915fb14ebf87116ebfaf8">d2</a>)</td></tr>
<tr class="separator:a11d2b0c7c6bfeec0dfba3cdfc1e40f46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cfcf40c645159405ecef4b88a85dca8" id="r_a4cfcf40c645159405ecef4b88a85dca8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a4cfcf40c645159405ecef4b88a85dca8">n_similarity</a> (self, ds1, ds2)</td></tr>
<tr class="separator:a4cfcf40c645159405ecef4b88a85dca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ff54bcf0302ebdf5def4d83d42653ee" id="r_a2ff54bcf0302ebdf5def4d83d42653ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a2ff54bcf0302ebdf5def4d83d42653ee">similarity_unseen_docs</a> (self, model, doc_words1, doc_words2, <a class="el" href="__blas__subroutines_8h.html#a29dda7d0819a860e921db821deb590c9">alpha</a>=0.1, min_alpha=0.0001, steps=5)</td></tr>
<tr class="separator:a2ff54bcf0302ebdf5def4d83d42653ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load.html">gensim.models.deprecated.old_saveload.SaveLoad</a></td></tr>
<tr class="memitem:afdf30c017c94754b927bc74f6985c500 inherit pub_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load" id="r_afdf30c017c94754b927bc74f6985c500"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load.html#afdf30c017c94754b927bc74f6985c500">load</a> (cls, fname, mmap=None)</td></tr>
<tr class="separator:afdf30c017c94754b927bc74f6985c500 inherit pub_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a5d8171516f3dc7a11204f53c4ff41d58" id="r_a5d8171516f3dc7a11204f53c4ff41d58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a5d8171516f3dc7a11204f53c4ff41d58">doctags</a></td></tr>
<tr class="separator:a5d8171516f3dc7a11204f53c4ff41d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76f4a3a492063bb5127dee558eba57c6" id="r_a76f4a3a492063bb5127dee558eba57c6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a76f4a3a492063bb5127dee558eba57c6">max_rawint</a></td></tr>
<tr class="separator:a76f4a3a492063bb5127dee558eba57c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a216f680544ebae2bb961a3fa2965f07c" id="r_a216f680544ebae2bb961a3fa2965f07c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a216f680544ebae2bb961a3fa2965f07c">offset2doctag</a></td></tr>
<tr class="separator:a216f680544ebae2bb961a3fa2965f07c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d030a4bf0018745081635e6f08eb410" id="r_a0d030a4bf0018745081635e6f08eb410"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a0d030a4bf0018745081635e6f08eb410">count</a></td></tr>
<tr class="separator:a0d030a4bf0018745081635e6f08eb410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d6acff8baabb85b13c55f467497dc6b" id="r_a9d6acff8baabb85b13c55f467497dc6b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a9d6acff8baabb85b13c55f467497dc6b">mapfile_path</a></td></tr>
<tr class="separator:a9d6acff8baabb85b13c55f467497dc6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d2d72b19ee7e46bc709c63885b2a88f" id="r_a4d2d72b19ee7e46bc709c63885b2a88f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a4d2d72b19ee7e46bc709c63885b2a88f">doctag_syn0</a></td></tr>
<tr class="separator:a4d2d72b19ee7e46bc709c63885b2a88f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a195e473d9d384727d9a17526472c9380" id="r_a195e473d9d384727d9a17526472c9380"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a195e473d9d384727d9a17526472c9380">doctag_syn0_lockf</a></td></tr>
<tr class="separator:a195e473d9d384727d9a17526472c9380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ccdf8a3dac7efa7bc5a1994f4268039" id="r_a2ccdf8a3dac7efa7bc5a1994f4268039"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a2ccdf8a3dac7efa7bc5a1994f4268039">doctag_syn0norm</a></td></tr>
<tr class="separator:a2ccdf8a3dac7efa7bc5a1994f4268039"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a69046fe494eb11844c46551f73d4ce09" id="r_a69046fe494eb11844c46551f73d4ce09"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#a69046fe494eb11844c46551f73d4ce09">_int_index</a> (self, index)</td></tr>
<tr class="separator:a69046fe494eb11844c46551f73d4ce09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2f759c0079f2827da5b7f1057cac972" id="r_aa2f759c0079f2827da5b7f1057cac972"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1doc2vec_1_1_docvecs_array.html#aa2f759c0079f2827da5b7f1057cac972">_key_index</a> (self, i_index, missing=None)</td></tr>
<tr class="separator:aa2f759c0079f2827da5b7f1057cac972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load.html">gensim.models.deprecated.old_saveload.SaveLoad</a></td></tr>
<tr class="memitem:ac940f2c59f223025c4020e3e3917bc2b inherit pro_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load" id="r_ac940f2c59f223025c4020e3e3917bc2b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load.html#ac940f2c59f223025c4020e3e3917bc2b">_load_specials</a> (self, fname, mmap, compress, subname)</td></tr>
<tr class="separator:ac940f2c59f223025c4020e3e3917bc2b inherit pro_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8796e653965511e42898ab920a09b3a3 inherit pro_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load" id="r_a8796e653965511e42898ab920a09b3a3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load.html#a8796e653965511e42898ab920a09b3a3">_smart_save</a> (self, fname, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:a8796e653965511e42898ab920a09b3a3 inherit pro_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0c92e3f3769517c1e1138aca821d6fb inherit pro_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load" id="r_aa0c92e3f3769517c1e1138aca821d6fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load.html#aa0c92e3f3769517c1e1138aca821d6fb">_save_specials</a> (self, fname, separately, sep_limit, ignore, pickle_protocol, compress, subname)</td></tr>
<tr class="separator:aa0c92e3f3769517c1e1138aca821d6fb inherit pro_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_static_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load.html">gensim.models.deprecated.old_saveload.SaveLoad</a></td></tr>
<tr class="memitem:a66482d68804bf9af505bf15ca28a2422 inherit pro_static_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load" id="r_a66482d68804bf9af505bf15ca28a2422"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load.html#a66482d68804bf9af505bf15ca28a2422">_adapt_by_suffix</a> (fname)</td></tr>
<tr class="separator:a66482d68804bf9af505bf15ca28a2422 inherit pro_static_methods_classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Default storage of doc vectors during/after training, in a numpy array.

As the 'docvecs' property of a Doc2Vec model, allows access and
comparison of document vectors.

.. sourcecode:: pycon

    &gt;&gt;&gt; docvec = d2v_model.docvecs[99]
    &gt;&gt;&gt; docvec = d2v_model.docvecs['SENT_99']  # if string tag used in training
    &gt;&gt;&gt; sims = d2v_model.docvecs.most_similar(99)
    &gt;&gt;&gt; sims = d2v_model.docvecs.most_similar('SENT_99')
    &gt;&gt;&gt; sims = d2v_model.docvecs.most_similar(docvec)

If only plain int tags are presented during training, the dict (of
string tag -&gt; index) and list (of index -&gt; string tag) stay empty,
saving memory.

Supplying a mapfile_path (as by initializing a Doc2Vec model with a
'docvecs_mapfile' value) will use a pair of memory-mapped
files as the array backing for doctag_syn0/doctag_syn0_lockf values.

The Doc2Vec model automatically uses this class, but a future alternative
implementation, based on another persistence mechanism like LMDB, LevelDB,
or SQLite, should also be possible.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a59a99458a8fa758a2fc56a7bebd78204" name="a59a99458a8fa758a2fc56a7bebd78204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59a99458a8fa758a2fc56a7bebd78204">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mapfile_path</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  389</span>    <span class="keyword">def </span>__init__(self, mapfile_path=None):</div>
<div class="line"><span class="lineno">  390</span>        self.doctags = {}  <span class="comment"># string -&gt; Doctag (only filled if necessary)</span></div>
<div class="line"><span class="lineno">  391</span>        self.max_rawint = -1  <span class="comment"># highest rawint-indexed doctag</span></div>
<div class="line"><span class="lineno">  392</span>        self.offset2doctag = []  <span class="comment"># int offset-past-(max_rawint+1) -&gt; String (only filled if necessary)</span></div>
<div class="line"><span class="lineno">  393</span>        self.count = 0</div>
<div class="line"><span class="lineno">  394</span>        self.mapfile_path = mapfile_path</div>
<div class="line"><span class="lineno">  395</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa844dadf0724fc1511c1e319c0b4eca9" name="aa844dadf0724fc1511c1e319c0b4eca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa844dadf0724fc1511c1e319c0b4eca9">&#9670;&#160;</a></span>__contains__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.__contains__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  456</span>    <span class="keyword">def </span>__contains__(self, index):</div>
<div class="line"><span class="lineno">  457</span>        <span class="keywordflow">if</span> isinstance(index, integer_types + (integer,)):</div>
<div class="line"><span class="lineno">  458</span>            <span class="keywordflow">return</span> index &lt; self.count</div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  460</span>            <span class="keywordflow">return</span> index <span class="keywordflow">in</span> self.doctags</div>
<div class="line"><span class="lineno">  461</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a57ac30aa7e283640a5a0c88d81286f50" name="a57ac30aa7e283640a5a0c88d81286f50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57ac30aa7e283640a5a0c88d81286f50">&#9670;&#160;</a></span>__getitem__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.__getitem__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Accept a single key (int or string tag) or list of keys as input.

If a single string or int, return designated tag's vector
representation, as a 1D numpy array.

If a list, return designated tags' vector representations as a
2D numpy array: #tags x #vector_size.
</pre> <div class="fragment"><div class="line"><span class="lineno">  438</span>    <span class="keyword">def </span>__getitem__(self, index):</div>
<div class="line"><span class="lineno">  439</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral">        Accept a single key (int or string tag) or list of keys as input.</span></div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral">        If a single string or int, return designated tag&#39;s vector</span></div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral">        representation, as a 1D numpy array.</span></div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral">        If a list, return designated tags&#39; vector representations as a</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">        2D numpy array: #tags x #vector_size.</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">if</span> isinstance(index, string_types + integer_types + (integer,)):</div>
<div class="line"><span class="lineno">  449</span>            <span class="keywordflow">return</span> self.doctag_syn0[self._int_index(index)]</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>        <span class="keywordflow">return</span> vstack([self[i] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> index])</div>
<div class="line"><span class="lineno">  452</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3d90aa13f88c6a4aee57b2df6966b50" name="ab3d90aa13f88c6a4aee57b2df6966b50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d90aa13f88c6a4aee57b2df6966b50">&#9670;&#160;</a></span>__len__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.__len__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  453</span>    <span class="keyword">def </span>__len__(self):</div>
<div class="line"><span class="lineno">  454</span>        <span class="keywordflow">return</span> self.count</div>
<div class="line"><span class="lineno">  455</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a69046fe494eb11844c46551f73d4ce09" name="a69046fe494eb11844c46551f73d4ce09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a69046fe494eb11844c46551f73d4ce09">&#9670;&#160;</a></span>_int_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray._int_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return int index for either string or int index</pre> <div class="fragment"><div class="line"><span class="lineno">  418</span>    <span class="keyword">def </span>_int_index(self, index):</div>
<div class="line"><span class="lineno">  419</span>        <span class="stringliteral">&quot;&quot;&quot;Return int index for either string or int index&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  420</span>        <span class="keywordflow">if</span> isinstance(index, integer_types + (integer,)):</div>
<div class="line"><span class="lineno">  421</span>            <span class="keywordflow">return</span> index</div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  423</span>            <span class="keywordflow">return</span> self.max_rawint + 1 + self.doctags[index].offset</div>
<div class="line"><span class="lineno">  424</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2f759c0079f2827da5b7f1057cac972" name="aa2f759c0079f2827da5b7f1057cac972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f759c0079f2827da5b7f1057cac972">&#9670;&#160;</a></span>_key_index()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray._key_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>missing</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return string index for given int index, if available</pre> <div class="fragment"><div class="line"><span class="lineno">  426</span>    <span class="keyword">def </span>_key_index(self, i_index, missing=None):</div>
<div class="line"><span class="lineno">  427</span>        <span class="stringliteral">&quot;&quot;&quot;Return string index for given int index, if available&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  428</span>        <span class="keywordflow">return</span> self.index_to_doctag(i_index)</div>
<div class="line"><span class="lineno">  429</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aef4a42a40dbeadd56c5131c206521de1" name="aef4a42a40dbeadd56c5131c206521de1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef4a42a40dbeadd56c5131c206521de1">&#9670;&#160;</a></span>borrow_from()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.borrow_from </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other_docvecs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  467</span>    <span class="keyword">def </span>borrow_from(self, other_docvecs):</div>
<div class="line"><span class="lineno">  468</span>        self.count = other_docvecs.count</div>
<div class="line"><span class="lineno">  469</span>        self.doctags = other_docvecs.doctags</div>
<div class="line"><span class="lineno">  470</span>        self.offset2doctag = other_docvecs.offset2doctag</div>
<div class="line"><span class="lineno">  471</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e103040c71d2732820773f5be6ee65f" name="a8e103040c71d2732820773f5be6ee65f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e103040c71d2732820773f5be6ee65f">&#9670;&#160;</a></span>clear_sims()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.clear_sims </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  472</span>    <span class="keyword">def </span>clear_sims(self):</div>
<div class="line"><span class="lineno">  473</span>        self.doctag_syn0norm = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  474</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aea0b3d7dfa4210774830c04d0ea80af8" name="aea0b3d7dfa4210774830c04d0ea80af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea0b3d7dfa4210774830c04d0ea80af8">&#9670;&#160;</a></span>doesnt_match()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.doesnt_match </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>docs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Which doc from the given list doesn't go with the others?

(TODO: Accept vectors of out-of-training-set docs, as if from inference.)</pre> <div class="fragment"><div class="line"><span class="lineno">  590</span>    <span class="keyword">def </span>doesnt_match(self, docs):</div>
<div class="line"><span class="lineno">  591</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  592</span><span class="stringliteral">        Which doc from the given list doesn&#39;t go with the others?</span></div>
<div class="line"><span class="lineno">  593</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  594</span><span class="stringliteral">        (TODO: Accept vectors of out-of-training-set docs, as if from inference.)</span></div>
<div class="line"><span class="lineno">  595</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  596</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  597</span>        self.init_sims()</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>        docs = [doc <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> docs <span class="keywordflow">if</span> doc <span class="keywordflow">in</span> self.doctags <span class="keywordflow">or</span> 0 &lt;= doc &lt; self.count]  <span class="comment"># filter out unknowns</span></div>
<div class="line"><span class="lineno">  600</span>        logger.debug(<span class="stringliteral">&quot;using docs %s&quot;</span>, docs)</div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> docs:</div>
<div class="line"><span class="lineno">  602</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;cannot select a doc from an empty list&quot;</span>)</div>
<div class="line"><span class="lineno">  603</span>        vectors = vstack(self.doctag_syn0norm[self._int_index(doc)] <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> docs).astype(REAL)</div>
<div class="line"><span class="lineno">  604</span>        mean = matutils.unitvec(vectors.mean(axis=0)).astype(REAL)</div>
<div class="line"><span class="lineno">  605</span>        dists = dot(vectors, mean)</div>
<div class="line"><span class="lineno">  606</span>        <span class="keywordflow">return</span> sorted(zip(dists, docs))[0][1]</div>
<div class="line"><span class="lineno">  607</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a388f90e321287478242c1d7403edecc5" name="a388f90e321287478242c1d7403edecc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a388f90e321287478242c1d7403edecc5">&#9670;&#160;</a></span>estimated_lookup_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.estimated_lookup_memory </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Estimated memory for tag lookup; 0 if using pure int tags.</pre> <div class="fragment"><div class="line"><span class="lineno">  475</span>    <span class="keyword">def </span>estimated_lookup_memory(self):</div>
<div class="line"><span class="lineno">  476</span>        <span class="stringliteral">&quot;&quot;&quot;Estimated memory for tag lookup; 0 if using pure int tags.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  477</span>        <span class="keywordflow">return</span> 60 * len(self.offset2doctag) + 140 * len(self.doctags)</div>
<div class="line"><span class="lineno">  478</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c0ef08b84b90eb29b837e9381e12204" name="a1c0ef08b84b90eb29b837e9381e12204"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c0ef08b84b90eb29b837e9381e12204">&#9670;&#160;</a></span>index_to_doctag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.index_to_doctag </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>i_index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return string key for given i_index, if available. Otherwise return raw int doctag (same int).</pre> <div class="fragment"><div class="line"><span class="lineno">  430</span>    <span class="keyword">def </span>index_to_doctag(self, i_index):</div>
<div class="line"><span class="lineno">  431</span>        <span class="stringliteral">&quot;&quot;&quot;Return string key for given i_index, if available. Otherwise return raw int doctag (same int).&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  432</span>        candidate_offset = i_index - self.max_rawint - 1</div>
<div class="line"><span class="lineno">  433</span>        <span class="keywordflow">if</span> 0 &lt;= candidate_offset &lt; len(self.offset2doctag):</div>
<div class="line"><span class="lineno">  434</span>            <span class="keywordflow">return</span> self.offset2doctag[candidate_offset]</div>
<div class="line"><span class="lineno">  435</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  436</span>            <span class="keywordflow">return</span> i_index</div>
<div class="line"><span class="lineno">  437</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a20e88f49078ca7723b4f4d108fe3544f" name="a20e88f49078ca7723b4f4d108fe3544f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20e88f49078ca7723b4f4d108fe3544f">&#9670;&#160;</a></span>indexed_doctags()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.indexed_doctags </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>doctag_tokens</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return indexes and backing-arrays used in training examples.</pre> <div class="fragment"><div class="line"><span class="lineno">  408</span>    <span class="keyword">def </span>indexed_doctags(self, doctag_tokens):</div>
<div class="line"><span class="lineno">  409</span>        <span class="stringliteral">&quot;&quot;&quot;Return indexes and backing-arrays used in training examples.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  410</span>        <span class="keywordflow">return</span> ([self._int_index(index) <span class="keywordflow">for</span> index <span class="keywordflow">in</span> doctag_tokens <span class="keywordflow">if</span> index <span class="keywordflow">in</span> self],</div>
<div class="line"><span class="lineno">  411</span>                self.doctag_syn0, self.doctag_syn0_lockf, doctag_tokens)</div>
<div class="line"><span class="lineno">  412</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ace2160a74cb39682f0745f508e1a70a7" name="ace2160a74cb39682f0745f508e1a70a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace2160a74cb39682f0745f508e1a70a7">&#9670;&#160;</a></span>init_sims()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.init_sims </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Precompute L2-normalized vectors.

If `replace` is set, forget the original vectors and only keep the normalized
ones = saves lots of memory!

Note that you **cannot continue training or inference** after doing a replace.
The model becomes effectively read-only = you can call `most_similar`, `similarity`
etc., but not `train` or `infer_vector`.</pre> <div class="fragment"><div class="line"><span class="lineno">  498</span>    <span class="keyword">def </span>init_sims(self, replace=False):</div>
<div class="line"><span class="lineno">  499</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral">        Precompute L2-normalized vectors.</span></div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">        If `replace` is set, forget the original vectors and only keep the normalized</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">        ones = saves lots of memory!</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral">        Note that you **cannot continue training or inference** after doing a replace.</span></div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">        The model becomes effectively read-only = you can call `most_similar`, `similarity`</span></div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral">        etc., but not `train` or `infer_vector`.</span></div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  510</span>        <span class="keywordflow">if</span> getattr(self, <span class="stringliteral">&#39;doctag_syn0norm&#39;</span>, <span class="keywordtype">None</span>) <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> replace:</div>
<div class="line"><span class="lineno">  511</span>            logger.info(<span class="stringliteral">&quot;precomputing L2-norms of doc weight vectors&quot;</span>)</div>
<div class="line"><span class="lineno">  512</span>            <span class="keywordflow">if</span> replace:</div>
<div class="line"><span class="lineno">  513</span>                <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.doctag_syn0.shape[0]):</div>
<div class="line"><span class="lineno">  514</span>                    self.doctag_syn0[i, :] /= sqrt((self.doctag_syn0[i, :] ** 2).sum(-1))</div>
<div class="line"><span class="lineno">  515</span>                self.doctag_syn0norm = self.doctag_syn0</div>
<div class="line"><span class="lineno">  516</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  517</span>                <span class="keywordflow">if</span> self.mapfile_path:</div>
<div class="line"><span class="lineno">  518</span>                    self.doctag_syn0norm = np_memmap(</div>
<div class="line"><span class="lineno">  519</span>                        self.mapfile_path + <span class="stringliteral">&#39;.doctag_syn0norm&#39;</span>, dtype=REAL,</div>
<div class="line"><span class="lineno">  520</span>                        mode=<span class="stringliteral">&#39;w+&#39;</span>, shape=self.doctag_syn0.shape)</div>
<div class="line"><span class="lineno">  521</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  522</span>                    self.doctag_syn0norm = empty(self.doctag_syn0.shape, dtype=REAL)</div>
<div class="line"><span class="lineno">  523</span>                np_divide(self.doctag_syn0, sqrt((self.doctag_syn0 ** 2).sum(-1))[..., newaxis], self.doctag_syn0norm)</div>
<div class="line"><span class="lineno">  524</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a717899feab3dbc985cb043b469259467" name="a717899feab3dbc985cb043b469259467"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a717899feab3dbc985cb043b469259467">&#9670;&#160;</a></span>most_similar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.most_similar </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>positive</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>negative</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>topn</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clip_start</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clip_end</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indexer</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Find the top-N most similar docvecs known from training. Positive docs contribute
positively towards the similarity, negative docs negatively.

This method computes cosine similarity between a simple mean of the projection
weight vectors of the given docs. Docs may be specified as vectors, integer indexes
of trained docvecs, or if the documents were originally presented with string tags,
by the corresponding tags.

The 'clip_start' and 'clip_end' allow limiting results to a particular contiguous
range of the underlying doctag_syn0norm vectors. (This may be useful if the ordering
there was chosen to be significant, such as more popular tag IDs in lower indexes.)
</pre> <div class="fragment"><div class="line"><span class="lineno">  525</span>    <span class="keyword">def </span>most_similar(self, positive=None, negative=None, topn=10, clip_start=0, clip_end=None, indexer=None):</div>
<div class="line"><span class="lineno">  526</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral">        Find the top-N most similar docvecs known from training. Positive docs contribute</span></div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral">        positively towards the similarity, negative docs negatively.</span></div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">        This method computes cosine similarity between a simple mean of the projection</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral">        weight vectors of the given docs. Docs may be specified as vectors, integer indexes</span></div>
<div class="line"><span class="lineno">  532</span><span class="stringliteral">        of trained docvecs, or if the documents were originally presented with string tags,</span></div>
<div class="line"><span class="lineno">  533</span><span class="stringliteral">        by the corresponding tags.</span></div>
<div class="line"><span class="lineno">  534</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  535</span><span class="stringliteral">        The &#39;clip_start&#39; and &#39;clip_end&#39; allow limiting results to a particular contiguous</span></div>
<div class="line"><span class="lineno">  536</span><span class="stringliteral">        range of the underlying doctag_syn0norm vectors. (This may be useful if the ordering</span></div>
<div class="line"><span class="lineno">  537</span><span class="stringliteral">        there was chosen to be significant, such as more popular tag IDs in lower indexes.)</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  539</span>        <span class="keywordflow">if</span> positive <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  540</span>            positive = []</div>
<div class="line"><span class="lineno">  541</span>        <span class="keywordflow">if</span> negative <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  542</span>            negative = []</div>
<div class="line"><span class="lineno">  543</span> </div>
<div class="line"><span class="lineno">  544</span>        self.init_sims()</div>
<div class="line"><span class="lineno">  545</span>        clip_end = clip_end <span class="keywordflow">or</span> len(self.doctag_syn0norm)</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">if</span> isinstance(positive, string_types + integer_types + (integer,)) <span class="keywordflow">and</span> <span class="keywordflow">not</span> negative:</div>
<div class="line"><span class="lineno">  548</span>            <span class="comment"># allow calls like most_similar(&#39;dog&#39;), as a shorthand for most_similar([&#39;dog&#39;])</span></div>
<div class="line"><span class="lineno">  549</span>            positive = [positive]</div>
<div class="line"><span class="lineno">  550</span> </div>
<div class="line"><span class="lineno">  551</span>        <span class="comment"># add weights for each doc, if not already present; default to 1.0 for positive and -1.0 for negative docs</span></div>
<div class="line"><span class="lineno">  552</span>        positive = [</div>
<div class="line"><span class="lineno">  553</span>            (doc, 1.0) <span class="keywordflow">if</span> isinstance(doc, string_types + integer_types + (ndarray, integer))</div>
<div class="line"><span class="lineno">  554</span>            <span class="keywordflow">else</span> doc <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> positive</div>
<div class="line"><span class="lineno">  555</span>        ]</div>
<div class="line"><span class="lineno">  556</span>        negative = [</div>
<div class="line"><span class="lineno">  557</span>            (doc, -1.0) <span class="keywordflow">if</span> isinstance(doc, string_types + integer_types + (ndarray, integer))</div>
<div class="line"><span class="lineno">  558</span>            <span class="keywordflow">else</span> doc <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> negative</div>
<div class="line"><span class="lineno">  559</span>        ]</div>
<div class="line"><span class="lineno">  560</span> </div>
<div class="line"><span class="lineno">  561</span>        <span class="comment"># compute the weighted average of all docs</span></div>
<div class="line"><span class="lineno">  562</span>        all_docs, mean = set(), []</div>
<div class="line"><span class="lineno">  563</span>        <span class="keywordflow">for</span> doc, weight <span class="keywordflow">in</span> positive + negative:</div>
<div class="line"><span class="lineno">  564</span>            <span class="keywordflow">if</span> isinstance(doc, ndarray):</div>
<div class="line"><span class="lineno">  565</span>                mean.append(weight * doc)</div>
<div class="line"><span class="lineno">  566</span>            <span class="keywordflow">elif</span> doc <span class="keywordflow">in</span> self.doctags <span class="keywordflow">or</span> doc &lt; self.count:</div>
<div class="line"><span class="lineno">  567</span>                mean.append(weight * self.doctag_syn0norm[self._int_index(doc)])</div>
<div class="line"><span class="lineno">  568</span>                all_docs.add(self._int_index(doc))</div>
<div class="line"><span class="lineno">  569</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  570</span>                <span class="keywordflow">raise</span> KeyError(<span class="stringliteral">&quot;doc &#39;%s&#39; not in trained set&quot;</span> % doc)</div>
<div class="line"><span class="lineno">  571</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> mean:</div>
<div class="line"><span class="lineno">  572</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;cannot compute similarity with no input&quot;</span>)</div>
<div class="line"><span class="lineno">  573</span>        mean = matutils.unitvec(array(mean).mean(axis=0)).astype(REAL)</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>        <span class="keywordflow">if</span> indexer <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  576</span>            <span class="keywordflow">return</span> indexer.most_similar(mean, topn)</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>        dists = dot(self.doctag_syn0norm[clip_start:clip_end], mean)</div>
<div class="line"><span class="lineno">  579</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> topn:</div>
<div class="line"><span class="lineno">  580</span>            <span class="keywordflow">return</span> dists</div>
<div class="line"><span class="lineno">  581</span>        best = matutils.argsort(dists, topn=topn + len(all_docs), reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  582</span>        <span class="comment"># ignore (don&#39;t return) docs from the input</span></div>
<div class="line"><span class="lineno">  583</span>        result = [</div>
<div class="line"><span class="lineno">  584</span>            (self.index_to_doctag(sim + clip_start), float(dists[sim]))</div>
<div class="line"><span class="lineno">  585</span>            <span class="keywordflow">for</span> sim <span class="keywordflow">in</span> best</div>
<div class="line"><span class="lineno">  586</span>            <span class="keywordflow">if</span> (sim + clip_start) <span class="keywordflow">not</span> <span class="keywordflow">in</span> all_docs</div>
<div class="line"><span class="lineno">  587</span>        ]</div>
<div class="line"><span class="lineno">  588</span>        <span class="keywordflow">return</span> result[:topn]</div>
<div class="line"><span class="lineno">  589</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4cfcf40c645159405ecef4b88a85dca8" name="a4cfcf40c645159405ecef4b88a85dca8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cfcf40c645159405ecef4b88a85dca8">&#9670;&#160;</a></span>n_similarity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.n_similarity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ds1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ds2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compute cosine similarity between two sets of docvecs from the trained set, specified by int
index or string tag. (TODO: Accept vectors of out-of-training-set docs, as if from inference.)</pre> <div class="fragment"><div class="line"><span class="lineno">  616</span>    <span class="keyword">def </span>n_similarity(self, ds1, ds2):</div>
<div class="line"><span class="lineno">  617</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  618</span><span class="stringliteral">        Compute cosine similarity between two sets of docvecs from the trained set, specified by int</span></div>
<div class="line"><span class="lineno">  619</span><span class="stringliteral">        index or string tag. (TODO: Accept vectors of out-of-training-set docs, as if from inference.)</span></div>
<div class="line"><span class="lineno">  620</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  621</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  622</span>        v1 = [self[doc] <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> ds1]</div>
<div class="line"><span class="lineno">  623</span>        v2 = [self[doc] <span class="keywordflow">for</span> doc <span class="keywordflow">in</span> ds2]</div>
<div class="line"><span class="lineno">  624</span>        <span class="keywordflow">return</span> dot(matutils.unitvec(array(v1).mean(axis=0)), matutils.unitvec(array(v2).mean(axis=0)))</div>
<div class="line"><span class="lineno">  625</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adf9dda7e1e563decf181c5c30c300a5e" name="adf9dda7e1e563decf181c5c30c300a5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf9dda7e1e563decf181c5c30c300a5e">&#9670;&#160;</a></span>note_doctag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.note_doctag </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>document_no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>document_length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Note a document tag during initial corpus scan, for structure sizing.</pre> <div class="fragment"><div class="line"><span class="lineno">  396</span>    <span class="keyword">def </span>note_doctag(self, key, document_no, document_length):</div>
<div class="line"><span class="lineno">  397</span>        <span class="stringliteral">&quot;&quot;&quot;Note a document tag during initial corpus scan, for structure sizing.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordflow">if</span> isinstance(key, integer_types + (integer,)):</div>
<div class="line"><span class="lineno">  399</span>            self.max_rawint = max(self.max_rawint, key)</div>
<div class="line"><span class="lineno">  400</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  401</span>            <span class="keywordflow">if</span> key <span class="keywordflow">in</span> self.doctags:</div>
<div class="line"><span class="lineno">  402</span>                self.doctags[key] = self.doctags[key].repeat(document_length)</div>
<div class="line"><span class="lineno">  403</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  404</span>                self.doctags[key] = Doctag(len(self.offset2doctag), document_length, 1)</div>
<div class="line"><span class="lineno">  405</span>                self.offset2doctag.append(key)</div>
<div class="line"><span class="lineno">  406</span>        self.count = self.max_rawint + 1 + len(self.offset2doctag)</div>
<div class="line"><span class="lineno">  407</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a680181f15b4c9e7df8fd503ee1a0c39d" name="a680181f15b4c9e7df8fd503ee1a0c39d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a680181f15b4c9e7df8fd503ee1a0c39d">&#9670;&#160;</a></span>reset_weights()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.reset_weights </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  479</span>    <span class="keyword">def </span>reset_weights(self, model):</div>
<div class="line"><span class="lineno">  480</span>        length = max(len(self.doctags), self.count)</div>
<div class="line"><span class="lineno">  481</span>        <span class="keywordflow">if</span> self.mapfile_path:</div>
<div class="line"><span class="lineno">  482</span>            self.doctag_syn0 = np_memmap(</div>
<div class="line"><span class="lineno">  483</span>                self.mapfile_path + <span class="stringliteral">&#39;.doctag_syn0&#39;</span>, dtype=REAL, mode=<span class="stringliteral">&#39;w+&#39;</span>, shape=(length, model.vector_size)</div>
<div class="line"><span class="lineno">  484</span>            )</div>
<div class="line"><span class="lineno">  485</span>            self.doctag_syn0_lockf = np_memmap(</div>
<div class="line"><span class="lineno">  486</span>                self.mapfile_path + <span class="stringliteral">&#39;.doctag_syn0_lockf&#39;</span>, dtype=REAL, mode=<span class="stringliteral">&#39;w+&#39;</span>, shape=(length,)</div>
<div class="line"><span class="lineno">  487</span>            )</div>
<div class="line"><span class="lineno">  488</span>            self.doctag_syn0_lockf.fill(1.0)</div>
<div class="line"><span class="lineno">  489</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  490</span>            self.doctag_syn0 = empty((length, model.vector_size), dtype=REAL)</div>
<div class="line"><span class="lineno">  491</span>            self.doctag_syn0_lockf = ones((length,), dtype=REAL)  <span class="comment"># zeros suppress learning</span></div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(length):</div>
<div class="line"><span class="lineno">  494</span>            <span class="comment"># construct deterministic seed from index AND model seed</span></div>
<div class="line"><span class="lineno">  495</span>            seed = <span class="stringliteral">&quot;%d %s&quot;</span> % (model.seed, self.index_to_doctag(i))</div>
<div class="line"><span class="lineno">  496</span>            self.doctag_syn0[i] = model.seeded_vector(seed)</div>
<div class="line"><span class="lineno">  497</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afdf2696628d2581b9b3e06cb5efa1072" name="afdf2696628d2581b9b3e06cb5efa1072"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdf2696628d2581b9b3e06cb5efa1072">&#9670;&#160;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.save </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>fname_or_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>separately</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save the object to file.

Parameters
----------
fname_or_handle : str or file-like
    Path to output file or already opened file-like object. If the object is a file handle,
    no special array handling will be performed, all attributes will be saved to the same file.
separately : list of str or None, optional
    If None -  automatically detect large numpy/scipy.sparse arrays in the object being stored, and store
    them into separate files. This avoids pickle memory errors and allows mmap'ing large arrays
    back on load efficiently.
    If list of str - this attributes will be stored in separate files, the automatic check
    is not performed in this case.
sep_limit : int
    Limit for automatic separation.
ignore : frozenset of str
    Attributes that shouldn't be serialize/store.
pickle_protocol : int
    Protocol number for pickle.

See Also
--------
:meth:`~gensim.utils.SaveLoad.load`</pre> 
<p>Reimplemented from <a class="el" href="classgensim_1_1models_1_1deprecated_1_1old__saveload_1_1_save_load.html#a2148ec8529f86755a637070c910c0276">gensim.models.deprecated.old_saveload.SaveLoad</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  462</span>    <span class="keyword">def </span>save(self, *args, **kwargs):</div>
<div class="line"><span class="lineno">  463</span>        <span class="comment"># don&#39;t bother storing the cached normalized vectors</span></div>
<div class="line"><span class="lineno">  464</span>        kwargs[<span class="stringliteral">&#39;ignore&#39;</span>] = kwargs.get(<span class="stringliteral">&#39;ignore&#39;</span>, [<span class="stringliteral">&#39;syn0norm&#39;</span>])</div>
<div class="line"><span class="lineno">  465</span>        super(DocvecsArray, self).save(*args, **kwargs)</div>
<div class="line"><span class="lineno">  466</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a11d2b0c7c6bfeec0dfba3cdfc1e40f46" name="a11d2b0c7c6bfeec0dfba3cdfc1e40f46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d2b0c7c6bfeec0dfba3cdfc1e40f46">&#9670;&#160;</a></span>similarity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.similarity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>d1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>d2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compute cosine similarity between two docvecs in the trained set, specified by int index or
string tag. (TODO: Accept vectors of out-of-training-set docs, as if from inference.)</pre> <div class="fragment"><div class="line"><span class="lineno">  608</span>    <span class="keyword">def </span>similarity(self, d1, d2):</div>
<div class="line"><span class="lineno">  609</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  610</span><span class="stringliteral">        Compute cosine similarity between two docvecs in the trained set, specified by int index or</span></div>
<div class="line"><span class="lineno">  611</span><span class="stringliteral">        string tag. (TODO: Accept vectors of out-of-training-set docs, as if from inference.)</span></div>
<div class="line"><span class="lineno">  612</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  613</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  614</span>        <span class="keywordflow">return</span> dot(matutils.unitvec(self[d1]), matutils.unitvec(self[d2]))</div>
<div class="line"><span class="lineno">  615</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ff54bcf0302ebdf5def4d83d42653ee" name="a2ff54bcf0302ebdf5def4d83d42653ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ff54bcf0302ebdf5def4d83d42653ee">&#9670;&#160;</a></span>similarity_unseen_docs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.similarity_unseen_docs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>doc_words1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>doc_words2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>alpha</em> = <code>0.1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_alpha</em> = <code>0.0001</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>steps</em> = <code>5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compute cosine similarity between two post-bulk out of training documents.

Document should be a list of (word) tokens.
</pre> <div class="fragment"><div class="line"><span class="lineno">  626</span>    <span class="keyword">def </span>similarity_unseen_docs(self, model, doc_words1, doc_words2, alpha=0.1, min_alpha=0.0001, steps=5):</div>
<div class="line"><span class="lineno">  627</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  628</span><span class="stringliteral">        Compute cosine similarity between two post-bulk out of training documents.</span></div>
<div class="line"><span class="lineno">  629</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  630</span><span class="stringliteral">        Document should be a list of (word) tokens.</span></div>
<div class="line"><span class="lineno">  631</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  632</span>        d1 = model.infer_vector(doc_words=doc_words1, alpha=alpha, min_alpha=min_alpha, steps=steps)</div>
<div class="line"><span class="lineno">  633</span>        d2 = model.infer_vector(doc_words=doc_words2, alpha=alpha, min_alpha=min_alpha, steps=steps)</div>
<div class="line"><span class="lineno">  634</span>        <span class="keywordflow">return</span> dot(matutils.unitvec(d1), matutils.unitvec(d2))</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8df921f655f73e8387202263c82c2822" name="a8df921f655f73e8387202263c82c2822"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8df921f655f73e8387202263c82c2822">&#9670;&#160;</a></span>trained_item()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.trained_item </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indexed_tuple</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Persist any changes made to the given indexes (matching tuple previously
returned by indexed_doctags()); a no-op for this implementation</pre> <div class="fragment"><div class="line"><span class="lineno">  413</span>    <span class="keyword">def </span>trained_item(self, indexed_tuple):</div>
<div class="line"><span class="lineno">  414</span>        <span class="stringliteral">&quot;&quot;&quot;Persist any changes made to the given indexes (matching tuple previously</span></div>
<div class="line"><span class="lineno">  415</span><span class="stringliteral">        returned by indexed_doctags()); a no-op for this implementation&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  417</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a0d030a4bf0018745081635e6f08eb410" name="a0d030a4bf0018745081635e6f08eb410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d030a4bf0018745081635e6f08eb410">&#9670;&#160;</a></span>count</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.count</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4d2d72b19ee7e46bc709c63885b2a88f" name="a4d2d72b19ee7e46bc709c63885b2a88f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d2d72b19ee7e46bc709c63885b2a88f">&#9670;&#160;</a></span>doctag_syn0</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.doctag_syn0</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a195e473d9d384727d9a17526472c9380" name="a195e473d9d384727d9a17526472c9380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a195e473d9d384727d9a17526472c9380">&#9670;&#160;</a></span>doctag_syn0_lockf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.doctag_syn0_lockf</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2ccdf8a3dac7efa7bc5a1994f4268039" name="a2ccdf8a3dac7efa7bc5a1994f4268039"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ccdf8a3dac7efa7bc5a1994f4268039">&#9670;&#160;</a></span>doctag_syn0norm</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.doctag_syn0norm</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5d8171516f3dc7a11204f53c4ff41d58" name="a5d8171516f3dc7a11204f53c4ff41d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d8171516f3dc7a11204f53c4ff41d58">&#9670;&#160;</a></span>doctags</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.doctags</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9d6acff8baabb85b13c55f467497dc6b" name="a9d6acff8baabb85b13c55f467497dc6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d6acff8baabb85b13c55f467497dc6b">&#9670;&#160;</a></span>mapfile_path</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.mapfile_path</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a76f4a3a492063bb5127dee558eba57c6" name="a76f4a3a492063bb5127dee558eba57c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76f4a3a492063bb5127dee558eba57c6">&#9670;&#160;</a></span>max_rawint</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.max_rawint</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a216f680544ebae2bb961a3fa2965f07c" name="a216f680544ebae2bb961a3fa2965f07c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a216f680544ebae2bb961a3fa2965f07c">&#9670;&#160;</a></span>offset2doctag</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.deprecated.doc2vec.DocvecsArray.offset2doctag</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/gensim/models/deprecated/<a class="el" href="deprecated_2doc2vec_8py.html">doc2vec.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
