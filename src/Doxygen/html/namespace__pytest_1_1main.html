<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: _pytest.main Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace__pytest.html">_pytest</a></li><li class="navelem"><a class="el" href="namespace__pytest_1_1main.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">_pytest.main Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1main_1_1__bestrelpath__cache.html">_bestrelpath_cache</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1main_1_1_failed.html">Failed</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1main_1_1_f_s_hook_proxy.html">FSHookProxy</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1main_1_1_interrupted.html">Interrupted</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1main_1_1_session.html">Session</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a6f49a7319d73b35b63a53b81443a7fb4" id="r_a6f49a7319d73b35b63a53b81443a7fb4"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#a6f49a7319d73b35b63a53b81443a7fb4">pytest_addoption</a> (<a class="el" href="class__pytest_1_1config_1_1argparsing_1_1_parser.html">Parser</a> parser)</td></tr>
<tr class="separator:a6f49a7319d73b35b63a53b81443a7fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65fd8be38d01875e9def6983d749a85f" id="r_a65fd8be38d01875e9def6983d749a85f"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#a65fd8be38d01875e9def6983d749a85f">validate_basetemp</a> (str path)</td></tr>
<tr class="separator:a65fd8be38d01875e9def6983d749a85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa85f3fc591695968adcfd6834c6851a" id="r_afa85f3fc591695968adcfd6834c6851a"><td class="memItemLeft" align="right" valign="top">Union[int, <a class="el" href="class__pytest_1_1config_1_1_exit_code.html">ExitCode</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#afa85f3fc591695968adcfd6834c6851a">wrap_session</a> (<a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a> config, Callable[[<a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a>, &quot;Session&quot;], Optional[Union[int, <a class="el" href="class__pytest_1_1config_1_1_exit_code.html">ExitCode</a>]]] doit)</td></tr>
<tr class="separator:afa85f3fc591695968adcfd6834c6851a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f0fe0275caff6d7479f635c34ff741" id="r_aa3f0fe0275caff6d7479f635c34ff741"><td class="memItemLeft" align="right" valign="top">Union[int, <a class="el" href="class__pytest_1_1config_1_1_exit_code.html">ExitCode</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#aa3f0fe0275caff6d7479f635c34ff741">pytest_cmdline_main</a> (<a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a> config)</td></tr>
<tr class="separator:aa3f0fe0275caff6d7479f635c34ff741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada3e5231673158c07e320bdae62aa990" id="r_ada3e5231673158c07e320bdae62aa990"><td class="memItemLeft" align="right" valign="top">Optional[Union[int, <a class="el" href="class__pytest_1_1config_1_1_exit_code.html">ExitCode</a>]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#ada3e5231673158c07e320bdae62aa990">_main</a> (<a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a> config, &quot;Session&quot; session)</td></tr>
<tr class="separator:ada3e5231673158c07e320bdae62aa990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae55f4bbbcac8eab0df869f493ab29556" id="r_ae55f4bbbcac8eab0df869f493ab29556"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#ae55f4bbbcac8eab0df869f493ab29556">pytest_collection</a> (&quot;Session&quot; session)</td></tr>
<tr class="separator:ae55f4bbbcac8eab0df869f493ab29556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab70d40f0d7ec0d536fdc17c465d902e7" id="r_ab70d40f0d7ec0d536fdc17c465d902e7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#ab70d40f0d7ec0d536fdc17c465d902e7">pytest_runtestloop</a> (&quot;Session&quot; session)</td></tr>
<tr class="separator:ab70d40f0d7ec0d536fdc17c465d902e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7a4a6c35ceab913a5b745e00a1324d9" id="r_ac7a4a6c35ceab913a5b745e00a1324d9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#ac7a4a6c35ceab913a5b745e00a1324d9">_in_venv</a> (Path path)</td></tr>
<tr class="separator:ac7a4a6c35ceab913a5b745e00a1324d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5982c3e1d769ff5212511f9ab5657a3c" id="r_a5982c3e1d769ff5212511f9ab5657a3c"><td class="memItemLeft" align="right" valign="top">Optional[bool]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#a5982c3e1d769ff5212511f9ab5657a3c">pytest_ignore_collect</a> (Path collection_path, <a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a> config)</td></tr>
<tr class="separator:a5982c3e1d769ff5212511f9ab5657a3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0a02195166c4533998674ce4750313b" id="r_ac0a02195166c4533998674ce4750313b"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#ac0a02195166c4533998674ce4750313b">pytest_collection_modifyitems</a> (List[<a class="el" href="class__pytest_1_1nodes_1_1_item.html">nodes.Item</a>] items, <a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a> config)</td></tr>
<tr class="separator:ac0a02195166c4533998674ce4750313b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabe5ba398bae0fcf09cb22d38cb8863e" id="r_aabe5ba398bae0fcf09cb22d38cb8863e"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#aabe5ba398bae0fcf09cb22d38cb8863e">search_pypath</a> (str module_name)</td></tr>
<tr class="separator:aabe5ba398bae0fcf09cb22d38cb8863e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaace0efaa34fc3d96c1ea4a6cfbf8419" id="r_aaace0efaa34fc3d96c1ea4a6cfbf8419"><td class="memItemLeft" align="right" valign="top">Tuple[Path, List[str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace__pytest_1_1main.html#aaace0efaa34fc3d96c1ea4a6cfbf8419">resolve_collection_argument</a> (Path invocation_path, str arg, *bool as_pypath=False)</td></tr>
<tr class="separator:aaace0efaa34fc3d96c1ea4a6cfbf8419"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Core implementation of the testing process: init, session, runtest loop.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="ac7a4a6c35ceab913a5b745e00a1324d9" name="ac7a4a6c35ceab913a5b745e00a1324d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7a4a6c35ceab913a5b745e00a1324d9">&#9670;&#160;</a></span>_in_venv()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> bool _pytest.main._in_venv </td>
          <td>(</td>
          <td class="paramtype">Path&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Attempt to detect if ``path`` is the root of a Virtual Environment by
checking for the existence of the appropriate activate script.</pre> <div class="fragment"><div class="line"><span class="lineno">  357</span><span class="keyword">def </span>_in_venv(path: Path) -&gt; bool:</div>
<div class="line"><span class="lineno">  358</span>    <span class="stringliteral">&quot;&quot;&quot;Attempt to detect if ``path`` is the root of a Virtual Environment by</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">    checking for the existence of the appropriate activate script.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  360</span>    bindir = path.joinpath(<span class="stringliteral">&quot;Scripts&quot;</span> <span class="keywordflow">if</span> sys.platform.startswith(<span class="stringliteral">&quot;win&quot;</span>) <span class="keywordflow">else</span> <span class="stringliteral">&quot;bin&quot;</span>)</div>
<div class="line"><span class="lineno">  361</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> bindir.is_dir():</div>
<div class="line"><span class="lineno">  363</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  364</span>    <span class="keywordflow">except</span> OSError:</div>
<div class="line"><span class="lineno">  365</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  366</span>    activates = (</div>
<div class="line"><span class="lineno">  367</span>        <span class="stringliteral">&quot;activate&quot;</span>,</div>
<div class="line"><span class="lineno">  368</span>        <span class="stringliteral">&quot;activate.csh&quot;</span>,</div>
<div class="line"><span class="lineno">  369</span>        <span class="stringliteral">&quot;activate.fish&quot;</span>,</div>
<div class="line"><span class="lineno">  370</span>        <span class="stringliteral">&quot;Activate&quot;</span>,</div>
<div class="line"><span class="lineno">  371</span>        <span class="stringliteral">&quot;Activate.bat&quot;</span>,</div>
<div class="line"><span class="lineno">  372</span>        <span class="stringliteral">&quot;Activate.ps1&quot;</span>,</div>
<div class="line"><span class="lineno">  373</span>    )</div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordflow">return</span> any(fname.name <span class="keywordflow">in</span> activates <span class="keywordflow">for</span> fname <span class="keywordflow">in</span> bindir.iterdir())</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ada3e5231673158c07e320bdae62aa990" name="ada3e5231673158c07e320bdae62aa990"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada3e5231673158c07e320bdae62aa990">&#9670;&#160;</a></span>_main()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[Union[int, <a class="el" href="class__pytest_1_1config_1_1_exit_code.html">ExitCode</a>]] _pytest.main._main </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a>&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Session&quot;&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Default command line protocol for initialization, session,
running tests and reporting.</pre> <div class="fragment"><div class="line"><span class="lineno">  320</span><span class="keyword">def </span>_main(config: Config, session: <span class="stringliteral">&quot;Session&quot;</span>) -&gt; Optional[Union[int, ExitCode]]:</div>
<div class="line"><span class="lineno">  321</span>    <span class="stringliteral">&quot;&quot;&quot;Default command line protocol for initialization, session,</span></div>
<div class="line"><span class="lineno">  322</span><span class="stringliteral">    running tests and reporting.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  323</span>    config.hook.pytest_collection(session=session)</div>
<div class="line"><span class="lineno">  324</span>    config.hook.pytest_runtestloop(session=session)</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>    <span class="keywordflow">if</span> session.testsfailed:</div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">return</span> ExitCode.TESTS_FAILED</div>
<div class="line"><span class="lineno">  328</span>    <span class="keywordflow">elif</span> session.testscollected == 0:</div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">return</span> ExitCode.NO_TESTS_COLLECTED</div>
<div class="line"><span class="lineno">  330</span>    <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f49a7319d73b35b63a53b81443a7fb4" name="a6f49a7319d73b35b63a53b81443a7fb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f49a7319d73b35b63a53b81443a7fb4">&#9670;&#160;</a></span>pytest_addoption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.main.pytest_addoption </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class__pytest_1_1config_1_1argparsing_1_1_parser.html">Parser</a>&#160;</td>
          <td class="paramname"><em>parser</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   51</span><span class="keyword">def </span>pytest_addoption(parser: Parser) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   52</span>    parser.addini(</div>
<div class="line"><span class="lineno">   53</span>        <span class="stringliteral">&quot;norecursedirs&quot;</span>,</div>
<div class="line"><span class="lineno">   54</span>        <span class="stringliteral">&quot;Directory patterns to avoid for recursion&quot;</span>,</div>
<div class="line"><span class="lineno">   55</span>        type=<span class="stringliteral">&quot;args&quot;</span>,</div>
<div class="line"><span class="lineno">   56</span>        default=[</div>
<div class="line"><span class="lineno">   57</span>            <span class="stringliteral">&quot;*.egg&quot;</span>,</div>
<div class="line"><span class="lineno">   58</span>            <span class="stringliteral">&quot;.*&quot;</span>,</div>
<div class="line"><span class="lineno">   59</span>            <span class="stringliteral">&quot;_darcs&quot;</span>,</div>
<div class="line"><span class="lineno">   60</span>            <span class="stringliteral">&quot;build&quot;</span>,</div>
<div class="line"><span class="lineno">   61</span>            <span class="stringliteral">&quot;CVS&quot;</span>,</div>
<div class="line"><span class="lineno">   62</span>            <span class="stringliteral">&quot;dist&quot;</span>,</div>
<div class="line"><span class="lineno">   63</span>            <span class="stringliteral">&quot;node_modules&quot;</span>,</div>
<div class="line"><span class="lineno">   64</span>            <span class="stringliteral">&quot;venv&quot;</span>,</div>
<div class="line"><span class="lineno">   65</span>            <span class="stringliteral">&quot;{arch}&quot;</span>,</div>
<div class="line"><span class="lineno">   66</span>        ],</div>
<div class="line"><span class="lineno">   67</span>    )</div>
<div class="line"><span class="lineno">   68</span>    parser.addini(</div>
<div class="line"><span class="lineno">   69</span>        <span class="stringliteral">&quot;testpaths&quot;</span>,</div>
<div class="line"><span class="lineno">   70</span>        <span class="stringliteral">&quot;Directories to search for tests when no files or directories are given on the &quot;</span></div>
<div class="line"><span class="lineno">   71</span>        <span class="stringliteral">&quot;command line&quot;</span>,</div>
<div class="line"><span class="lineno">   72</span>        type=<span class="stringliteral">&quot;args&quot;</span>,</div>
<div class="line"><span class="lineno">   73</span>        default=[],</div>
<div class="line"><span class="lineno">   74</span>    )</div>
<div class="line"><span class="lineno">   75</span>    group = parser.getgroup(<span class="stringliteral">&quot;general&quot;</span>, <span class="stringliteral">&quot;Running and selection options&quot;</span>)</div>
<div class="line"><span class="lineno">   76</span>    group._addoption(</div>
<div class="line"><span class="lineno">   77</span>        <span class="stringliteral">&quot;-x&quot;</span>,</div>
<div class="line"><span class="lineno">   78</span>        <span class="stringliteral">&quot;--exitfirst&quot;</span>,</div>
<div class="line"><span class="lineno">   79</span>        action=<span class="stringliteral">&quot;store_const&quot;</span>,</div>
<div class="line"><span class="lineno">   80</span>        dest=<span class="stringliteral">&quot;maxfail&quot;</span>,</div>
<div class="line"><span class="lineno">   81</span>        const=1,</div>
<div class="line"><span class="lineno">   82</span>        help=<span class="stringliteral">&quot;Exit instantly on first error or failed test&quot;</span>,</div>
<div class="line"><span class="lineno">   83</span>    )</div>
<div class="line"><span class="lineno">   84</span>    group = parser.getgroup(<span class="stringliteral">&quot;pytest-warnings&quot;</span>)</div>
<div class="line"><span class="lineno">   85</span>    group.addoption(</div>
<div class="line"><span class="lineno">   86</span>        <span class="stringliteral">&quot;-W&quot;</span>,</div>
<div class="line"><span class="lineno">   87</span>        <span class="stringliteral">&quot;--pythonwarnings&quot;</span>,</div>
<div class="line"><span class="lineno">   88</span>        action=<span class="stringliteral">&quot;append&quot;</span>,</div>
<div class="line"><span class="lineno">   89</span>        help=<span class="stringliteral">&quot;Set which warnings to report, see -W option of Python itself&quot;</span>,</div>
<div class="line"><span class="lineno">   90</span>    )</div>
<div class="line"><span class="lineno">   91</span>    parser.addini(</div>
<div class="line"><span class="lineno">   92</span>        <span class="stringliteral">&quot;filterwarnings&quot;</span>,</div>
<div class="line"><span class="lineno">   93</span>        type=<span class="stringliteral">&quot;linelist&quot;</span>,</div>
<div class="line"><span class="lineno">   94</span>        help=<span class="stringliteral">&quot;Each line specifies a pattern for &quot;</span></div>
<div class="line"><span class="lineno">   95</span>        <span class="stringliteral">&quot;warnings.filterwarnings. &quot;</span></div>
<div class="line"><span class="lineno">   96</span>        <span class="stringliteral">&quot;Processed after -W/--pythonwarnings.&quot;</span>,</div>
<div class="line"><span class="lineno">   97</span>    )</div>
<div class="line"><span class="lineno">   98</span>    group._addoption(</div>
<div class="line"><span class="lineno">   99</span>        <span class="stringliteral">&quot;--maxfail&quot;</span>,</div>
<div class="line"><span class="lineno">  100</span>        metavar=<span class="stringliteral">&quot;num&quot;</span>,</div>
<div class="line"><span class="lineno">  101</span>        action=<span class="stringliteral">&quot;store&quot;</span>,</div>
<div class="line"><span class="lineno">  102</span>        type=int,</div>
<div class="line"><span class="lineno">  103</span>        dest=<span class="stringliteral">&quot;maxfail&quot;</span>,</div>
<div class="line"><span class="lineno">  104</span>        default=0,</div>
<div class="line"><span class="lineno">  105</span>        help=<span class="stringliteral">&quot;Exit after first num failures or errors&quot;</span>,</div>
<div class="line"><span class="lineno">  106</span>    )</div>
<div class="line"><span class="lineno">  107</span>    group._addoption(</div>
<div class="line"><span class="lineno">  108</span>        <span class="stringliteral">&quot;--strict-config&quot;</span>,</div>
<div class="line"><span class="lineno">  109</span>        action=<span class="stringliteral">&quot;store_true&quot;</span>,</div>
<div class="line"><span class="lineno">  110</span>        help=<span class="stringliteral">&quot;Any warnings encountered while parsing the `pytest` section of the &quot;</span></div>
<div class="line"><span class="lineno">  111</span>        <span class="stringliteral">&quot;configuration file raise errors&quot;</span>,</div>
<div class="line"><span class="lineno">  112</span>    )</div>
<div class="line"><span class="lineno">  113</span>    group._addoption(</div>
<div class="line"><span class="lineno">  114</span>        <span class="stringliteral">&quot;--strict-markers&quot;</span>,</div>
<div class="line"><span class="lineno">  115</span>        action=<span class="stringliteral">&quot;store_true&quot;</span>,</div>
<div class="line"><span class="lineno">  116</span>        help=<span class="stringliteral">&quot;Markers not registered in the `markers` section of the configuration &quot;</span></div>
<div class="line"><span class="lineno">  117</span>        <span class="stringliteral">&quot;file raise errors&quot;</span>,</div>
<div class="line"><span class="lineno">  118</span>    )</div>
<div class="line"><span class="lineno">  119</span>    group._addoption(</div>
<div class="line"><span class="lineno">  120</span>        <span class="stringliteral">&quot;--strict&quot;</span>,</div>
<div class="line"><span class="lineno">  121</span>        action=<span class="stringliteral">&quot;store_true&quot;</span>,</div>
<div class="line"><span class="lineno">  122</span>        help=<span class="stringliteral">&quot;(Deprecated) alias to --strict-markers&quot;</span>,</div>
<div class="line"><span class="lineno">  123</span>    )</div>
<div class="line"><span class="lineno">  124</span>    group._addoption(</div>
<div class="line"><span class="lineno">  125</span>        <span class="stringliteral">&quot;-c&quot;</span>,</div>
<div class="line"><span class="lineno">  126</span>        metavar=<span class="stringliteral">&quot;file&quot;</span>,</div>
<div class="line"><span class="lineno">  127</span>        type=str,</div>
<div class="line"><span class="lineno">  128</span>        dest=<span class="stringliteral">&quot;inifilename&quot;</span>,</div>
<div class="line"><span class="lineno">  129</span>        help=<span class="stringliteral">&quot;Load configuration from `file` instead of trying to locate one of the &quot;</span></div>
<div class="line"><span class="lineno">  130</span>        <span class="stringliteral">&quot;implicit configuration files&quot;</span>,</div>
<div class="line"><span class="lineno">  131</span>    )</div>
<div class="line"><span class="lineno">  132</span>    group._addoption(</div>
<div class="line"><span class="lineno">  133</span>        <span class="stringliteral">&quot;--continue-on-collection-errors&quot;</span>,</div>
<div class="line"><span class="lineno">  134</span>        action=<span class="stringliteral">&quot;store_true&quot;</span>,</div>
<div class="line"><span class="lineno">  135</span>        default=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  136</span>        dest=<span class="stringliteral">&quot;continue_on_collection_errors&quot;</span>,</div>
<div class="line"><span class="lineno">  137</span>        help=<span class="stringliteral">&quot;Force test execution even if collection errors occur&quot;</span>,</div>
<div class="line"><span class="lineno">  138</span>    )</div>
<div class="line"><span class="lineno">  139</span>    group._addoption(</div>
<div class="line"><span class="lineno">  140</span>        <span class="stringliteral">&quot;--rootdir&quot;</span>,</div>
<div class="line"><span class="lineno">  141</span>        action=<span class="stringliteral">&quot;store&quot;</span>,</div>
<div class="line"><span class="lineno">  142</span>        dest=<span class="stringliteral">&quot;rootdir&quot;</span>,</div>
<div class="line"><span class="lineno">  143</span>        help=<span class="stringliteral">&quot;Define root directory for tests. Can be relative path: &#39;root_dir&#39;, &#39;./root_dir&#39;, &quot;</span></div>
<div class="line"><span class="lineno">  144</span>        <span class="stringliteral">&quot;&#39;root_dir/another_dir/&#39;; absolute path: &#39;/home/user/root_dir&#39;; path with variables: &quot;</span></div>
<div class="line"><span class="lineno">  145</span>        <span class="stringliteral">&quot;&#39;$HOME/root_dir&#39;.&quot;</span>,</div>
<div class="line"><span class="lineno">  146</span>    )</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>    group = parser.getgroup(<span class="stringliteral">&quot;collect&quot;</span>, <span class="stringliteral">&quot;collection&quot;</span>)</div>
<div class="line"><span class="lineno">  149</span>    group.addoption(</div>
<div class="line"><span class="lineno">  150</span>        <span class="stringliteral">&quot;--collectonly&quot;</span>,</div>
<div class="line"><span class="lineno">  151</span>        <span class="stringliteral">&quot;--collect-only&quot;</span>,</div>
<div class="line"><span class="lineno">  152</span>        <span class="stringliteral">&quot;--co&quot;</span>,</div>
<div class="line"><span class="lineno">  153</span>        action=<span class="stringliteral">&quot;store_true&quot;</span>,</div>
<div class="line"><span class="lineno">  154</span>        help=<span class="stringliteral">&quot;Only collect tests, don&#39;t execute them&quot;</span>,</div>
<div class="line"><span class="lineno">  155</span>    )</div>
<div class="line"><span class="lineno">  156</span>    group.addoption(</div>
<div class="line"><span class="lineno">  157</span>        <span class="stringliteral">&quot;--pyargs&quot;</span>,</div>
<div class="line"><span class="lineno">  158</span>        action=<span class="stringliteral">&quot;store_true&quot;</span>,</div>
<div class="line"><span class="lineno">  159</span>        help=<span class="stringliteral">&quot;Try to interpret all arguments as Python packages&quot;</span>,</div>
<div class="line"><span class="lineno">  160</span>    )</div>
<div class="line"><span class="lineno">  161</span>    group.addoption(</div>
<div class="line"><span class="lineno">  162</span>        <span class="stringliteral">&quot;--ignore&quot;</span>,</div>
<div class="line"><span class="lineno">  163</span>        action=<span class="stringliteral">&quot;append&quot;</span>,</div>
<div class="line"><span class="lineno">  164</span>        metavar=<span class="stringliteral">&quot;path&quot;</span>,</div>
<div class="line"><span class="lineno">  165</span>        help=<span class="stringliteral">&quot;Ignore path during collection (multi-allowed)&quot;</span>,</div>
<div class="line"><span class="lineno">  166</span>    )</div>
<div class="line"><span class="lineno">  167</span>    group.addoption(</div>
<div class="line"><span class="lineno">  168</span>        <span class="stringliteral">&quot;--ignore-glob&quot;</span>,</div>
<div class="line"><span class="lineno">  169</span>        action=<span class="stringliteral">&quot;append&quot;</span>,</div>
<div class="line"><span class="lineno">  170</span>        metavar=<span class="stringliteral">&quot;path&quot;</span>,</div>
<div class="line"><span class="lineno">  171</span>        help=<span class="stringliteral">&quot;Ignore path pattern during collection (multi-allowed)&quot;</span>,</div>
<div class="line"><span class="lineno">  172</span>    )</div>
<div class="line"><span class="lineno">  173</span>    group.addoption(</div>
<div class="line"><span class="lineno">  174</span>        <span class="stringliteral">&quot;--deselect&quot;</span>,</div>
<div class="line"><span class="lineno">  175</span>        action=<span class="stringliteral">&quot;append&quot;</span>,</div>
<div class="line"><span class="lineno">  176</span>        metavar=<span class="stringliteral">&quot;nodeid_prefix&quot;</span>,</div>
<div class="line"><span class="lineno">  177</span>        help=<span class="stringliteral">&quot;Deselect item (via node id prefix) during collection (multi-allowed)&quot;</span>,</div>
<div class="line"><span class="lineno">  178</span>    )</div>
<div class="line"><span class="lineno">  179</span>    group.addoption(</div>
<div class="line"><span class="lineno">  180</span>        <span class="stringliteral">&quot;--confcutdir&quot;</span>,</div>
<div class="line"><span class="lineno">  181</span>        dest=<span class="stringliteral">&quot;confcutdir&quot;</span>,</div>
<div class="line"><span class="lineno">  182</span>        default=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  183</span>        metavar=<span class="stringliteral">&quot;dir&quot;</span>,</div>
<div class="line"><span class="lineno">  184</span>        type=functools.partial(directory_arg, optname=<span class="stringliteral">&quot;--confcutdir&quot;</span>),</div>
<div class="line"><span class="lineno">  185</span>        help=<span class="stringliteral">&quot;Only load conftest.py&#39;s relative to specified dir&quot;</span>,</div>
<div class="line"><span class="lineno">  186</span>    )</div>
<div class="line"><span class="lineno">  187</span>    group.addoption(</div>
<div class="line"><span class="lineno">  188</span>        <span class="stringliteral">&quot;--noconftest&quot;</span>,</div>
<div class="line"><span class="lineno">  189</span>        action=<span class="stringliteral">&quot;store_true&quot;</span>,</div>
<div class="line"><span class="lineno">  190</span>        dest=<span class="stringliteral">&quot;noconftest&quot;</span>,</div>
<div class="line"><span class="lineno">  191</span>        default=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  192</span>        help=<span class="stringliteral">&quot;Don&#39;t load any conftest.py files&quot;</span>,</div>
<div class="line"><span class="lineno">  193</span>    )</div>
<div class="line"><span class="lineno">  194</span>    group.addoption(</div>
<div class="line"><span class="lineno">  195</span>        <span class="stringliteral">&quot;--keepduplicates&quot;</span>,</div>
<div class="line"><span class="lineno">  196</span>        <span class="stringliteral">&quot;--keep-duplicates&quot;</span>,</div>
<div class="line"><span class="lineno">  197</span>        action=<span class="stringliteral">&quot;store_true&quot;</span>,</div>
<div class="line"><span class="lineno">  198</span>        dest=<span class="stringliteral">&quot;keepduplicates&quot;</span>,</div>
<div class="line"><span class="lineno">  199</span>        default=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  200</span>        help=<span class="stringliteral">&quot;Keep duplicate tests&quot;</span>,</div>
<div class="line"><span class="lineno">  201</span>    )</div>
<div class="line"><span class="lineno">  202</span>    group.addoption(</div>
<div class="line"><span class="lineno">  203</span>        <span class="stringliteral">&quot;--collect-in-virtualenv&quot;</span>,</div>
<div class="line"><span class="lineno">  204</span>        action=<span class="stringliteral">&quot;store_true&quot;</span>,</div>
<div class="line"><span class="lineno">  205</span>        dest=<span class="stringliteral">&quot;collect_in_virtualenv&quot;</span>,</div>
<div class="line"><span class="lineno">  206</span>        default=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  207</span>        help=<span class="stringliteral">&quot;Don&#39;t ignore tests in a local virtualenv directory&quot;</span>,</div>
<div class="line"><span class="lineno">  208</span>    )</div>
<div class="line"><span class="lineno">  209</span>    group.addoption(</div>
<div class="line"><span class="lineno">  210</span>        <span class="stringliteral">&quot;--import-mode&quot;</span>,</div>
<div class="line"><span class="lineno">  211</span>        default=<span class="stringliteral">&quot;prepend&quot;</span>,</div>
<div class="line"><span class="lineno">  212</span>        choices=[<span class="stringliteral">&quot;prepend&quot;</span>, <span class="stringliteral">&quot;append&quot;</span>, <span class="stringliteral">&quot;importlib&quot;</span>],</div>
<div class="line"><span class="lineno">  213</span>        dest=<span class="stringliteral">&quot;importmode&quot;</span>,</div>
<div class="line"><span class="lineno">  214</span>        help=<span class="stringliteral">&quot;Prepend/append to sys.path when importing test modules and conftest &quot;</span></div>
<div class="line"><span class="lineno">  215</span>        <span class="stringliteral">&quot;files. Default: prepend.&quot;</span>,</div>
<div class="line"><span class="lineno">  216</span>    )</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>    group = parser.getgroup(<span class="stringliteral">&quot;debugconfig&quot;</span>, <span class="stringliteral">&quot;test session debugging and configuration&quot;</span>)</div>
<div class="line"><span class="lineno">  219</span>    group.addoption(</div>
<div class="line"><span class="lineno">  220</span>        <span class="stringliteral">&quot;--basetemp&quot;</span>,</div>
<div class="line"><span class="lineno">  221</span>        dest=<span class="stringliteral">&quot;basetemp&quot;</span>,</div>
<div class="line"><span class="lineno">  222</span>        default=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  223</span>        type=validate_basetemp,</div>
<div class="line"><span class="lineno">  224</span>        metavar=<span class="stringliteral">&quot;dir&quot;</span>,</div>
<div class="line"><span class="lineno">  225</span>        help=(</div>
<div class="line"><span class="lineno">  226</span>            <span class="stringliteral">&quot;Base temporary directory for this test run. &quot;</span></div>
<div class="line"><span class="lineno">  227</span>            <span class="stringliteral">&quot;(Warning: this directory is removed if it exists.)&quot;</span></div>
<div class="line"><span class="lineno">  228</span>        ),</div>
<div class="line"><span class="lineno">  229</span>    )</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3f0fe0275caff6d7479f635c34ff741" name="aa3f0fe0275caff6d7479f635c34ff741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f0fe0275caff6d7479f635c34ff741">&#9670;&#160;</a></span>pytest_cmdline_main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Union[int, <a class="el" href="class__pytest_1_1config_1_1_exit_code.html">ExitCode</a>] _pytest.main.pytest_cmdline_main </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a>&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  316</span><span class="keyword">def </span>pytest_cmdline_main(config: Config) -&gt; Union[int, ExitCode]:</div>
<div class="line"><span class="lineno">  317</span>    <span class="keywordflow">return</span> wrap_session(config, _main)</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae55f4bbbcac8eab0df869f493ab29556" name="ae55f4bbbcac8eab0df869f493ab29556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae55f4bbbcac8eab0df869f493ab29556">&#9670;&#160;</a></span>pytest_collection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.main.pytest_collection </td>
          <td>(</td>
          <td class="paramtype">&quot;Session&quot;&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  333</span><span class="keyword">def </span>pytest_collection(session: <span class="stringliteral">&quot;Session&quot;</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  334</span>    session.perform_collect()</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0a02195166c4533998674ce4750313b" name="ac0a02195166c4533998674ce4750313b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0a02195166c4533998674ce4750313b">&#9670;&#160;</a></span>pytest_collection_modifyitems()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.main.pytest_collection_modifyitems </td>
          <td>(</td>
          <td class="paramtype">List[<a class="el" href="class__pytest_1_1nodes_1_1_item.html">nodes.Item</a>]&#160;</td>
          <td class="paramname"><em>items</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a>&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  406</span><span class="keyword">def </span>pytest_collection_modifyitems(items: List[nodes.Item], config: Config) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  407</span>    deselect_prefixes = tuple(config.getoption(<span class="stringliteral">&quot;deselect&quot;</span>) <span class="keywordflow">or</span> [])</div>
<div class="line"><span class="lineno">  408</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> deselect_prefixes:</div>
<div class="line"><span class="lineno">  409</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>    remaining = []</div>
<div class="line"><span class="lineno">  412</span>    deselected = []</div>
<div class="line"><span class="lineno">  413</span>    <span class="keywordflow">for</span> colitem <span class="keywordflow">in</span> items:</div>
<div class="line"><span class="lineno">  414</span>        <span class="keywordflow">if</span> colitem.nodeid.startswith(deselect_prefixes):</div>
<div class="line"><span class="lineno">  415</span>            deselected.append(colitem)</div>
<div class="line"><span class="lineno">  416</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  417</span>            remaining.append(colitem)</div>
<div class="line"><span class="lineno">  418</span> </div>
<div class="line"><span class="lineno">  419</span>    <span class="keywordflow">if</span> deselected:</div>
<div class="line"><span class="lineno">  420</span>        config.hook.pytest_deselected(items=deselected)</div>
<div class="line"><span class="lineno">  421</span>        items[:] = remaining</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5982c3e1d769ff5212511f9ab5657a3c" name="a5982c3e1d769ff5212511f9ab5657a3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5982c3e1d769ff5212511f9ab5657a3c">&#9670;&#160;</a></span>pytest_ignore_collect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[bool] _pytest.main.pytest_ignore_collect </td>
          <td>(</td>
          <td class="paramtype">Path&#160;</td>
          <td class="paramname"><em>collection_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a>&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  377</span><span class="keyword">def </span>pytest_ignore_collect(collection_path: Path, config: Config) -&gt; Optional[bool]:</div>
<div class="line"><span class="lineno">  378</span>    ignore_paths = config._getconftest_pathlist(</div>
<div class="line"><span class="lineno">  379</span>        <span class="stringliteral">&quot;collect_ignore&quot;</span>, path=collection_path.parent, rootpath=config.rootpath</div>
<div class="line"><span class="lineno">  380</span>    )</div>
<div class="line"><span class="lineno">  381</span>    ignore_paths = ignore_paths <span class="keywordflow">or</span> []</div>
<div class="line"><span class="lineno">  382</span>    excludeopt = config.getoption(<span class="stringliteral">&quot;ignore&quot;</span>)</div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordflow">if</span> excludeopt:</div>
<div class="line"><span class="lineno">  384</span>        ignore_paths.extend(absolutepath(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> excludeopt)</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <span class="keywordflow">if</span> collection_path <span class="keywordflow">in</span> ignore_paths:</div>
<div class="line"><span class="lineno">  387</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span>    ignore_globs = config._getconftest_pathlist(</div>
<div class="line"><span class="lineno">  390</span>        <span class="stringliteral">&quot;collect_ignore_glob&quot;</span>, path=collection_path.parent, rootpath=config.rootpath</div>
<div class="line"><span class="lineno">  391</span>    )</div>
<div class="line"><span class="lineno">  392</span>    ignore_globs = ignore_globs <span class="keywordflow">or</span> []</div>
<div class="line"><span class="lineno">  393</span>    excludeglobopt = config.getoption(<span class="stringliteral">&quot;ignore_glob&quot;</span>)</div>
<div class="line"><span class="lineno">  394</span>    <span class="keywordflow">if</span> excludeglobopt:</div>
<div class="line"><span class="lineno">  395</span>        ignore_globs.extend(absolutepath(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> excludeglobopt)</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>    <span class="keywordflow">if</span> any(fnmatch.fnmatch(str(collection_path), str(glob)) <span class="keywordflow">for</span> glob <span class="keywordflow">in</span> ignore_globs):</div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>    allow_in_venv = config.getoption(<span class="stringliteral">&quot;collect_in_virtualenv&quot;</span>)</div>
<div class="line"><span class="lineno">  401</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> allow_in_venv <span class="keywordflow">and</span> _in_venv(collection_path):</div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  403</span>    <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab70d40f0d7ec0d536fdc17c465d902e7" name="ab70d40f0d7ec0d536fdc17c465d902e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab70d40f0d7ec0d536fdc17c465d902e7">&#9670;&#160;</a></span>pytest_runtestloop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool _pytest.main.pytest_runtestloop </td>
          <td>(</td>
          <td class="paramtype">&quot;Session&quot;&#160;</td>
          <td class="paramname"><em>session</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  337</span><span class="keyword">def </span>pytest_runtestloop(session: <span class="stringliteral">&quot;Session&quot;</span>) -&gt; bool:</div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">if</span> session.testsfailed <span class="keywordflow">and</span> <span class="keywordflow">not</span> session.config.option.continue_on_collection_errors:</div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">raise</span> session.Interrupted(</div>
<div class="line"><span class="lineno">  340</span>            <span class="stringliteral">&quot;%d error%s during collection&quot;</span></div>
<div class="line"><span class="lineno">  341</span>            % (session.testsfailed, <span class="stringliteral">&quot;s&quot;</span> <span class="keywordflow">if</span> session.testsfailed != 1 <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  342</span>        )</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    <span class="keywordflow">if</span> session.config.option.collectonly:</div>
<div class="line"><span class="lineno">  345</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>    <span class="keywordflow">for</span> i, item <span class="keywordflow">in</span> enumerate(session.items):</div>
<div class="line"><span class="lineno">  348</span>        nextitem = session.items[i + 1] <span class="keywordflow">if</span> i + 1 &lt; len(session.items) <span class="keywordflow">else</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  349</span>        item.config.hook.pytest_runtest_protocol(item=item, nextitem=nextitem)</div>
<div class="line"><span class="lineno">  350</span>        <span class="keywordflow">if</span> session.shouldfail:</div>
<div class="line"><span class="lineno">  351</span>            <span class="keywordflow">raise</span> session.Failed(session.shouldfail)</div>
<div class="line"><span class="lineno">  352</span>        <span class="keywordflow">if</span> session.shouldstop:</div>
<div class="line"><span class="lineno">  353</span>            <span class="keywordflow">raise</span> session.Interrupted(session.shouldstop)</div>
<div class="line"><span class="lineno">  354</span>    <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaace0efaa34fc3d96c1ea4a6cfbf8419" name="aaace0efaa34fc3d96c1ea4a6cfbf8419"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaace0efaa34fc3d96c1ea4a6cfbf8419">&#9670;&#160;</a></span>resolve_collection_argument()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Tuple[Path, List[str]] _pytest.main.resolve_collection_argument </td>
          <td>(</td>
          <td class="paramtype">Path&#160;</td>
          <td class="paramname"><em>invocation_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*bool &#160;</td>
          <td class="paramname"><em>as_pypath</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parse path arguments optionally containing selection parts and return (fspath, names).

Command-line arguments can point to files and/or directories, and optionally contain
parts for specific tests selection, for example:

    "pkg/tests/test_foo.py::TestClass::test_foo"

This function ensures the path exists, and returns a tuple:

    (Path("/full/path/to/pkg/tests/test_foo.py"), ["TestClass", "test_foo"])

When as_pypath is True, expects that the command-line argument actually contains
module paths instead of file-system paths:

    "pkg.tests.test_foo::TestClass::test_foo"

In which case we search sys.path for a matching module, and then return the *path* to the
found module.

If the path doesn't exist, raise UsageError.
If the path is a directory and selection parts are present, raise UsageError.
</pre> <div class="fragment"><div class="line"><span class="lineno">  857</span>) -&gt; Tuple[Path, List[str]]:</div>
<div class="line"><span class="lineno">  858</span>    <span class="stringliteral">&quot;&quot;&quot;Parse path arguments optionally containing selection parts and return (fspath, names).</span></div>
<div class="line"><span class="lineno">  859</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  860</span><span class="stringliteral">    Command-line arguments can point to files and/or directories, and optionally contain</span></div>
<div class="line"><span class="lineno">  861</span><span class="stringliteral">    parts for specific tests selection, for example:</span></div>
<div class="line"><span class="lineno">  862</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  863</span><span class="stringliteral">        &quot;pkg/tests/test_foo.py::TestClass::test_foo&quot;</span></div>
<div class="line"><span class="lineno">  864</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  865</span><span class="stringliteral">    This function ensures the path exists, and returns a tuple:</span></div>
<div class="line"><span class="lineno">  866</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  867</span><span class="stringliteral">        (Path(&quot;/full/path/to/pkg/tests/test_foo.py&quot;), [&quot;TestClass&quot;, &quot;test_foo&quot;])</span></div>
<div class="line"><span class="lineno">  868</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  869</span><span class="stringliteral">    When as_pypath is True, expects that the command-line argument actually contains</span></div>
<div class="line"><span class="lineno">  870</span><span class="stringliteral">    module paths instead of file-system paths:</span></div>
<div class="line"><span class="lineno">  871</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  872</span><span class="stringliteral">        &quot;pkg.tests.test_foo::TestClass::test_foo&quot;</span></div>
<div class="line"><span class="lineno">  873</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  874</span><span class="stringliteral">    In which case we search sys.path for a matching module, and then return the *path* to the</span></div>
<div class="line"><span class="lineno">  875</span><span class="stringliteral">    found module.</span></div>
<div class="line"><span class="lineno">  876</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  877</span><span class="stringliteral">    If the path doesn&#39;t exist, raise UsageError.</span></div>
<div class="line"><span class="lineno">  878</span><span class="stringliteral">    If the path is a directory and selection parts are present, raise UsageError.</span></div>
<div class="line"><span class="lineno">  879</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  880</span>    base, squacket, rest = str(arg).partition(<span class="stringliteral">&quot;[&quot;</span>)</div>
<div class="line"><span class="lineno">  881</span>    strpath, *parts = base.split(<span class="stringliteral">&quot;::&quot;</span>)</div>
<div class="line"><span class="lineno">  882</span>    <span class="keywordflow">if</span> parts:</div>
<div class="line"><span class="lineno">  883</span>        parts[-1] = f<span class="stringliteral">&quot;{parts[-1]}{squacket}{rest}&quot;</span></div>
<div class="line"><span class="lineno">  884</span>    <span class="keywordflow">if</span> as_pypath:</div>
<div class="line"><span class="lineno">  885</span>        strpath = search_pypath(strpath)</div>
<div class="line"><span class="lineno">  886</span>    fspath = invocation_path / strpath</div>
<div class="line"><span class="lineno">  887</span>    fspath = absolutepath(fspath)</div>
<div class="line"><span class="lineno">  888</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> fspath.exists():</div>
<div class="line"><span class="lineno">  889</span>        msg = (</div>
<div class="line"><span class="lineno">  890</span>            <span class="stringliteral">&quot;module or package not found: {arg} (missing __init__.py?)&quot;</span></div>
<div class="line"><span class="lineno">  891</span>            <span class="keywordflow">if</span> as_pypath</div>
<div class="line"><span class="lineno">  892</span>            <span class="keywordflow">else</span> <span class="stringliteral">&quot;file or directory not found: {arg}&quot;</span></div>
<div class="line"><span class="lineno">  893</span>        )</div>
<div class="line"><span class="lineno">  894</span>        <span class="keywordflow">raise</span> UsageError(msg.format(arg=arg))</div>
<div class="line"><span class="lineno">  895</span>    <span class="keywordflow">if</span> parts <span class="keywordflow">and</span> fspath.is_dir():</div>
<div class="line"><span class="lineno">  896</span>        msg = (</div>
<div class="line"><span class="lineno">  897</span>            <span class="stringliteral">&quot;package argument cannot contain :: selection parts: {arg}&quot;</span></div>
<div class="line"><span class="lineno">  898</span>            <span class="keywordflow">if</span> as_pypath</div>
<div class="line"><span class="lineno">  899</span>            <span class="keywordflow">else</span> <span class="stringliteral">&quot;directory argument cannot contain :: selection parts: {arg}&quot;</span></div>
<div class="line"><span class="lineno">  900</span>        )</div>
<div class="line"><span class="lineno">  901</span>        <span class="keywordflow">raise</span> UsageError(msg.format(arg=arg))</div>
<div class="line"><span class="lineno">  902</span>    <span class="keywordflow">return</span> fspath, parts</div>
</div><!-- fragment -->
</div>
</div>
<a id="aabe5ba398bae0fcf09cb22d38cb8863e" name="aabe5ba398bae0fcf09cb22d38cb8863e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabe5ba398bae0fcf09cb22d38cb8863e">&#9670;&#160;</a></span>search_pypath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str _pytest.main.search_pypath </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>module_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Search sys.path for the given a dotted module name, and return its file system path.</pre> <div class="fragment"><div class="line"><span class="lineno">  838</span><span class="keyword">def </span>search_pypath(module_name: str) -&gt; str:</div>
<div class="line"><span class="lineno">  839</span>    <span class="stringliteral">&quot;&quot;&quot;Search sys.path for the given a dotted module name, and return its file system path.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  840</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  841</span>        spec = importlib.util.find_spec(module_name)</div>
<div class="line"><span class="lineno">  842</span>    <span class="comment"># AttributeError: looks like package module, but actually filename</span></div>
<div class="line"><span class="lineno">  843</span>    <span class="comment"># ImportError: module does not exist</span></div>
<div class="line"><span class="lineno">  844</span>    <span class="comment"># ValueError: not a module name</span></div>
<div class="line"><span class="lineno">  845</span>    <span class="keywordflow">except</span> (AttributeError, ImportError, ValueError):</div>
<div class="line"><span class="lineno">  846</span>        <span class="keywordflow">return</span> module_name</div>
<div class="line"><span class="lineno">  847</span>    <span class="keywordflow">if</span> spec <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> spec.origin <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> spec.origin == <span class="stringliteral">&quot;namespace&quot;</span>:</div>
<div class="line"><span class="lineno">  848</span>        <span class="keywordflow">return</span> module_name</div>
<div class="line"><span class="lineno">  849</span>    <span class="keywordflow">elif</span> spec.submodule_search_locations:</div>
<div class="line"><span class="lineno">  850</span>        <span class="keywordflow">return</span> os.path.dirname(spec.origin)</div>
<div class="line"><span class="lineno">  851</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  852</span>        <span class="keywordflow">return</span> spec.origin</div>
<div class="line"><span class="lineno">  853</span> </div>
<div class="line"><span class="lineno">  854</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a65fd8be38d01875e9def6983d749a85f" name="a65fd8be38d01875e9def6983d749a85f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65fd8be38d01875e9def6983d749a85f">&#9670;&#160;</a></span>validate_basetemp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str _pytest.main.validate_basetemp </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  232</span><span class="keyword">def </span>validate_basetemp(path: str) -&gt; str:</div>
<div class="line"><span class="lineno">  233</span>    <span class="comment"># GH 7119</span></div>
<div class="line"><span class="lineno">  234</span>    msg = <span class="stringliteral">&quot;basetemp must not be empty, the current working directory or any parent directory of it&quot;</span></div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="comment"># empty path</span></div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> path:</div>
<div class="line"><span class="lineno">  238</span>        <span class="keywordflow">raise</span> argparse.ArgumentTypeError(msg)</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>    <span class="keyword">def </span>is_ancestor(base: Path, query: Path) -&gt; bool:</div>
<div class="line"><span class="lineno">  241</span>        <span class="stringliteral">&quot;&quot;&quot;Return whether query is an ancestor of base.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">if</span> base == query:</div>
<div class="line"><span class="lineno">  243</span>            <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  244</span>        <span class="keywordflow">return</span> query <span class="keywordflow">in</span> base.parents</div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span>    <span class="comment"># check if path is an ancestor of cwd</span></div>
<div class="line"><span class="lineno">  247</span>    <span class="keywordflow">if</span> is_ancestor(Path.cwd(), Path(path).absolute()):</div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordflow">raise</span> argparse.ArgumentTypeError(msg)</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    <span class="comment"># check symlinks for ancestors</span></div>
<div class="line"><span class="lineno">  251</span>    <span class="keywordflow">if</span> is_ancestor(Path.cwd().resolve(), Path(path).resolve()):</div>
<div class="line"><span class="lineno">  252</span>        <span class="keywordflow">raise</span> argparse.ArgumentTypeError(msg)</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">return</span> path</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afa85f3fc591695968adcfd6834c6851a" name="afa85f3fc591695968adcfd6834c6851a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa85f3fc591695968adcfd6834c6851a">&#9670;&#160;</a></span>wrap_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Union[int, <a class="el" href="class__pytest_1_1config_1_1_exit_code.html">ExitCode</a>] _pytest.main.wrap_session </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a>&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Callable[[<a class="el" href="class__pytest_1_1config_1_1_config.html">Config</a>, &quot;Session&quot;], Optional[Union[int, <a class="el" href="class__pytest_1_1config_1_1_exit_code.html">ExitCode</a>]]]
&#160;</td>
          <td class="paramname"><em>doit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Skeleton command line program.</pre> <div class="fragment"><div class="line"><span class="lineno">  259</span>) -&gt; Union[int, ExitCode]:</div>
<div class="line"><span class="lineno">  260</span>    <span class="stringliteral">&quot;&quot;&quot;Skeleton command line program.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  261</span>    session = Session.from_config(config)</div>
<div class="line"><span class="lineno">  262</span>    session.exitstatus = ExitCode.OK</div>
<div class="line"><span class="lineno">  263</span>    initstate = 0</div>
<div class="line"><span class="lineno">  264</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  266</span>            config._do_configure()</div>
<div class="line"><span class="lineno">  267</span>            initstate = 1</div>
<div class="line"><span class="lineno">  268</span>            config.hook.pytest_sessionstart(session=session)</div>
<div class="line"><span class="lineno">  269</span>            initstate = 2</div>
<div class="line"><span class="lineno">  270</span>            session.exitstatus = doit(config, session) <span class="keywordflow">or</span> 0</div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">except</span> UsageError:</div>
<div class="line"><span class="lineno">  272</span>            session.exitstatus = ExitCode.USAGE_ERROR</div>
<div class="line"><span class="lineno">  273</span>            <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">except</span> Failed:</div>
<div class="line"><span class="lineno">  275</span>            session.exitstatus = ExitCode.TESTS_FAILED</div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">except</span> (KeyboardInterrupt, exit.Exception):</div>
<div class="line"><span class="lineno">  277</span>            excinfo = _pytest._code.ExceptionInfo.from_current()</div>
<div class="line"><span class="lineno">  278</span>            exitstatus: Union[int, ExitCode] = ExitCode.INTERRUPTED</div>
<div class="line"><span class="lineno">  279</span>            <span class="keywordflow">if</span> isinstance(excinfo.value, exit.Exception):</div>
<div class="line"><span class="lineno">  280</span>                <span class="keywordflow">if</span> excinfo.value.returncode <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  281</span>                    exitstatus = excinfo.value.returncode</div>
<div class="line"><span class="lineno">  282</span>                <span class="keywordflow">if</span> initstate &lt; 2:</div>
<div class="line"><span class="lineno">  283</span>                    sys.stderr.write(f<span class="stringliteral">&quot;{excinfo.typename}: {excinfo.value.msg}\n&quot;</span>)</div>
<div class="line"><span class="lineno">  284</span>            config.hook.pytest_keyboard_interrupt(excinfo=excinfo)</div>
<div class="line"><span class="lineno">  285</span>            session.exitstatus = exitstatus</div>
<div class="line"><span class="lineno">  286</span>        <span class="keywordflow">except</span> BaseException:</div>
<div class="line"><span class="lineno">  287</span>            session.exitstatus = ExitCode.INTERNAL_ERROR</div>
<div class="line"><span class="lineno">  288</span>            excinfo = _pytest._code.ExceptionInfo.from_current()</div>
<div class="line"><span class="lineno">  289</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  290</span>                config.notify_exception(excinfo, config.option)</div>
<div class="line"><span class="lineno">  291</span>            <span class="keywordflow">except</span> exit.Exception <span class="keyword">as</span> exc:</div>
<div class="line"><span class="lineno">  292</span>                <span class="keywordflow">if</span> exc.returncode <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  293</span>                    session.exitstatus = exc.returncode</div>
<div class="line"><span class="lineno">  294</span>                sys.stderr.write(f<span class="stringliteral">&quot;{type(exc).__name__}: {exc}\n&quot;</span>)</div>
<div class="line"><span class="lineno">  295</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  296</span>                <span class="keywordflow">if</span> isinstance(excinfo.value, SystemExit):</div>
<div class="line"><span class="lineno">  297</span>                    sys.stderr.write(<span class="stringliteral">&quot;mainloop: caught unexpected SystemExit!\n&quot;</span>)</div>
<div class="line"><span class="lineno">  298</span> </div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  300</span>        <span class="comment"># Explicitly break reference cycle.</span></div>
<div class="line"><span class="lineno">  301</span>        excinfo = <span class="keywordtype">None</span>  <span class="comment"># type: ignore</span></div>
<div class="line"><span class="lineno">  302</span>        os.chdir(session.startpath)</div>
<div class="line"><span class="lineno">  303</span>        <span class="keywordflow">if</span> initstate &gt;= 2:</div>
<div class="line"><span class="lineno">  304</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  305</span>                config.hook.pytest_sessionfinish(</div>
<div class="line"><span class="lineno">  306</span>                    session=session, exitstatus=session.exitstatus</div>
<div class="line"><span class="lineno">  307</span>                )</div>
<div class="line"><span class="lineno">  308</span>            <span class="keywordflow">except</span> exit.Exception <span class="keyword">as</span> exc:</div>
<div class="line"><span class="lineno">  309</span>                <span class="keywordflow">if</span> exc.returncode <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  310</span>                    session.exitstatus = exc.returncode</div>
<div class="line"><span class="lineno">  311</span>                sys.stderr.write(f<span class="stringliteral">&quot;{type(exc).__name__}: {exc}\n&quot;</span>)</div>
<div class="line"><span class="lineno">  312</span>        config._ensure_unconfigure()</div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">return</span> session.exitstatus</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span> </div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
