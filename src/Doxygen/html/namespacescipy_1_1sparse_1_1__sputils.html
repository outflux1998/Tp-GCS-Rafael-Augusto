<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: scipy.sparse._sputils Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacescipy.html">scipy</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1sparse.html">sparse</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html">_sputils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">scipy.sparse._sputils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9d3ca1bcb27df27d0d0dc30042065f16" id="r_a9d3ca1bcb27df27d0d0dc30042065f16"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a9d3ca1bcb27df27d0d0dc30042065f16">upcast</a> (*args)</td></tr>
<tr class="separator:a9d3ca1bcb27df27d0d0dc30042065f16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1842633b6b8b6e6412d965d94322b1df" id="r_a1842633b6b8b6e6412d965d94322b1df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a1842633b6b8b6e6412d965d94322b1df">upcast_char</a> (*args)</td></tr>
<tr class="separator:a1842633b6b8b6e6412d965d94322b1df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0ecb05c6a7ae5784093daebc2eafa2b" id="r_ab0ecb05c6a7ae5784093daebc2eafa2b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#ab0ecb05c6a7ae5784093daebc2eafa2b">upcast_scalar</a> (dtype, scalar)</td></tr>
<tr class="separator:ab0ecb05c6a7ae5784093daebc2eafa2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac995435e530e674c6a2858d8c2e10aea" id="r_ac995435e530e674c6a2858d8c2e10aea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#ac995435e530e674c6a2858d8c2e10aea">downcast_intp_index</a> (arr)</td></tr>
<tr class="separator:ac995435e530e674c6a2858d8c2e10aea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab812e3f4c09e860b1c5e9b3602983df3" id="r_ab812e3f4c09e860b1c5e9b3602983df3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#ab812e3f4c09e860b1c5e9b3602983df3">to_native</a> (A)</td></tr>
<tr class="separator:ab812e3f4c09e860b1c5e9b3602983df3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07ae472707150fe2aac735a11a1a4506" id="r_a07ae472707150fe2aac735a11a1a4506"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a07ae472707150fe2aac735a11a1a4506">getdtype</a> (dtype, <a class="el" href="__blas__subroutines_8h.html#a4da0a64c77789ca4c8115aef76120fd2">a</a>=None, default=None)</td></tr>
<tr class="separator:a07ae472707150fe2aac735a11a1a4506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a31903b85b1ec955dede24658ddbac1" id="r_a9a31903b85b1ec955dede24658ddbac1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a9a31903b85b1ec955dede24658ddbac1">getdata</a> (obj, dtype=None, copy=False)</td></tr>
<tr class="separator:a9a31903b85b1ec955dede24658ddbac1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae877cbd030574a59b76c9bfb3fee61b0" id="r_ae877cbd030574a59b76c9bfb3fee61b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#ae877cbd030574a59b76c9bfb3fee61b0">get_index_dtype</a> (arrays=(), maxval=None, check_contents=False)</td></tr>
<tr class="separator:ae877cbd030574a59b76c9bfb3fee61b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c0447fa4beb165e05bc6a7c9f480d2b" id="r_a6c0447fa4beb165e05bc6a7c9f480d2b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a6c0447fa4beb165e05bc6a7c9f480d2b">get_sum_dtype</a> (dtype)</td></tr>
<tr class="separator:a6c0447fa4beb165e05bc6a7c9f480d2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae63bac00144b8034ff4875cfb603a911" id="r_ae63bac00144b8034ff4875cfb603a911"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#ae63bac00144b8034ff4875cfb603a911">isscalarlike</a> (x)</td></tr>
<tr class="separator:ae63bac00144b8034ff4875cfb603a911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b13a7c64f8d0799b79ac3942f593691" id="r_a2b13a7c64f8d0799b79ac3942f593691"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a2b13a7c64f8d0799b79ac3942f593691">isintlike</a> (x)</td></tr>
<tr class="separator:a2b13a7c64f8d0799b79ac3942f593691"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11cfaf6c4e30d60cae526a0e57978c91" id="r_a11cfaf6c4e30d60cae526a0e57978c91"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a11cfaf6c4e30d60cae526a0e57978c91">isshape</a> (x, nonneg=False)</td></tr>
<tr class="separator:a11cfaf6c4e30d60cae526a0e57978c91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29cf4e99cdea4dab4fa85d4d108ef1e" id="r_aa29cf4e99cdea4dab4fa85d4d108ef1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#aa29cf4e99cdea4dab4fa85d4d108ef1e">issequence</a> (t)</td></tr>
<tr class="separator:aa29cf4e99cdea4dab4fa85d4d108ef1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d8b7ba0686c7a4afe188ce0314277ef" id="r_a6d8b7ba0686c7a4afe188ce0314277ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a6d8b7ba0686c7a4afe188ce0314277ef">ismatrix</a> (t)</td></tr>
<tr class="separator:a6d8b7ba0686c7a4afe188ce0314277ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd2a901250187188f8226dbab6173b0" id="r_a9dd2a901250187188f8226dbab6173b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a9dd2a901250187188f8226dbab6173b0">isdense</a> (x)</td></tr>
<tr class="separator:a9dd2a901250187188f8226dbab6173b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae497c5da227e0767a47aee751f73d2bf" id="r_ae497c5da227e0767a47aee751f73d2bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#ae497c5da227e0767a47aee751f73d2bf">validateaxis</a> (axis)</td></tr>
<tr class="separator:ae497c5da227e0767a47aee751f73d2bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1409bae8e651ffcd0c3c5206f8202b60" id="r_a1409bae8e651ffcd0c3c5206f8202b60"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a1409bae8e651ffcd0c3c5206f8202b60">check_shape</a> (args, current_shape=None)</td></tr>
<tr class="separator:a1409bae8e651ffcd0c3c5206f8202b60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa24521c762e593b68eebda2df4bde412" id="r_aa24521c762e593b68eebda2df4bde412"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#aa24521c762e593b68eebda2df4bde412">check_reshape_kwargs</a> (kwargs)</td></tr>
<tr class="separator:aa24521c762e593b68eebda2df4bde412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15d089b71c87f75bcb22f59134b6dd4e" id="r_a15d089b71c87f75bcb22f59134b6dd4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a15d089b71c87f75bcb22f59134b6dd4e">is_pydata_spmatrix</a> (m)</td></tr>
<tr class="separator:a15d089b71c87f75bcb22f59134b6dd4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71a732d30835dd32f5fc172ab28f5a61" id="r_a71a732d30835dd32f5fc172ab28f5a61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#a71a732d30835dd32f5fc172ab28f5a61">matrix</a> (*args, **kwargs)</td></tr>
<tr class="memdesc:a71a732d30835dd32f5fc172ab28f5a61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrappers for NumPy types that are deprecated.  <br /></td></tr>
<tr class="separator:a71a732d30835dd32f5fc172ab28f5a61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb9e1b53941fea77b61940768d5e7d88" id="r_aeb9e1b53941fea77b61940768d5e7d88"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#aeb9e1b53941fea77b61940768d5e7d88">asmatrix</a> (data, dtype=None)</td></tr>
<tr class="separator:aeb9e1b53941fea77b61940768d5e7d88"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac5a724543f396f0710fff0707ec58ade" id="r_ac5a724543f396f0710fff0707ec58ade"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#ac5a724543f396f0710fff0707ec58ade">supported_dtypes</a></td></tr>
<tr class="separator:ac5a724543f396f0710fff0707ec58ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb5b61df67254bfb43b393ce00e77d5c" id="r_aeb5b61df67254bfb43b393ce00e77d5c"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1sparse_1_1__sputils.html#aeb5b61df67254bfb43b393ce00e77d5c">_upcast_memo</a> = {}</td></tr>
<tr class="separator:aeb5b61df67254bfb43b393ce00e77d5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment"> Utility functions for sparse matrix module
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="aeb9e1b53941fea77b61940768d5e7d88" name="aeb9e1b53941fea77b61940768d5e7d88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb9e1b53941fea77b61940768d5e7d88">&#9670;&#160;</a></span>asmatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.asmatrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  377</span><span class="keyword">def </span>asmatrix(data, dtype=None):</div>
<div class="line"><span class="lineno">  378</span>    <span class="keywordflow">if</span> isinstance(data, np.matrix) <span class="keywordflow">and</span> (dtype <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> data.dtype == dtype):</div>
<div class="line"><span class="lineno">  379</span>        <span class="keywordflow">return</span> data</div>
<div class="line"><span class="lineno">  380</span>    <span class="keywordflow">return</span> np.asarray(data, dtype=dtype).view(np.matrix)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa24521c762e593b68eebda2df4bde412" name="aa24521c762e593b68eebda2df4bde412"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa24521c762e593b68eebda2df4bde412">&#9670;&#160;</a></span>check_reshape_kwargs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.check_reshape_kwargs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kwargs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Unpack keyword arguments for reshape function.

This is useful because keyword arguments after star arguments are not
allowed in Python 2, but star keyword arguments are. This function unpacks
'order' and 'copy' from the star keyword arguments (with defaults) and
throws an error for any remaining.
</pre> <div class="fragment"><div class="line"><span class="lineno">  341</span><span class="keyword">def </span>check_reshape_kwargs(kwargs):</div>
<div class="line"><span class="lineno">  342</span>    <span class="stringliteral">&quot;&quot;&quot;Unpack keyword arguments for reshape function.</span></div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  344</span><span class="stringliteral">    This is useful because keyword arguments after star arguments are not</span></div>
<div class="line"><span class="lineno">  345</span><span class="stringliteral">    allowed in Python 2, but star keyword arguments are. This function unpacks</span></div>
<div class="line"><span class="lineno">  346</span><span class="stringliteral">    &#39;order&#39; and &#39;copy&#39; from the star keyword arguments (with defaults) and</span></div>
<div class="line"><span class="lineno">  347</span><span class="stringliteral">    throws an error for any remaining.</span></div>
<div class="line"><span class="lineno">  348</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>    order = kwargs.pop(<span class="stringliteral">&#39;order&#39;</span>, <span class="stringliteral">&#39;C&#39;</span>)</div>
<div class="line"><span class="lineno">  351</span>    copy = kwargs.pop(<span class="stringliteral">&#39;copy&#39;</span>, <span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  352</span>    <span class="keywordflow">if</span> kwargs:  <span class="comment"># Some unused kwargs remain</span></div>
<div class="line"><span class="lineno">  353</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;reshape() got unexpected keywords arguments: {}&#39;</span></div>
<div class="line"><span class="lineno">  354</span>                        .format(<span class="stringliteral">&#39;, &#39;</span>.join(kwargs.keys())))</div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">return</span> order, copy</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1409bae8e651ffcd0c3c5206f8202b60" name="a1409bae8e651ffcd0c3c5206f8202b60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1409bae8e651ffcd0c3c5206f8202b60">&#9670;&#160;</a></span>check_shape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.check_shape </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>current_shape</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Imitate numpy.matrix handling of shape arguments</pre> <div class="fragment"><div class="line"><span class="lineno">  291</span><span class="keyword">def </span>check_shape(args, current_shape=None):</div>
<div class="line"><span class="lineno">  292</span>    <span class="stringliteral">&quot;&quot;&quot;Imitate numpy.matrix handling of shape arguments&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  293</span>    <span class="keywordflow">if</span> len(args) == 0:</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;function missing 1 required positional argument: &quot;</span></div>
<div class="line"><span class="lineno">  295</span>                        <span class="stringliteral">&quot;&#39;shape&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordflow">elif</span> len(args) == 1:</div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  298</span>            shape_iter = <a class="code hl_variable" href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a>(args[0])</div>
<div class="line"><span class="lineno">  299</span>        <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno">  300</span>            new_shape = (operator.index(args[0]), )</div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  302</span>            new_shape = tuple(operator.index(arg) <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> shape_iter)</div>
<div class="line"><span class="lineno">  303</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  304</span>        new_shape = tuple(operator.index(arg) <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> args)</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>    <span class="keywordflow">if</span> current_shape <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">if</span> len(new_shape) != 2:</div>
<div class="line"><span class="lineno">  308</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;shape must be a 2-tuple of positive integers&#39;</span>)</div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">elif</span> any(d &lt; 0 <span class="keywordflow">for</span> d <span class="keywordflow">in</span> new_shape):</div>
<div class="line"><span class="lineno">  310</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;&#39;shape&#39; elements cannot be negative&quot;</span>)</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  313</span>        <span class="comment"># Check the current size only if needed</span></div>
<div class="line"><span class="lineno">  314</span>        current_size = prod(current_shape)</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>        <span class="comment"># Check for negatives</span></div>
<div class="line"><span class="lineno">  317</span>        negative_indexes = [i <span class="keywordflow">for</span> i, x <span class="keywordflow">in</span> enumerate(new_shape) <span class="keywordflow">if</span> x &lt; 0]</div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">if</span> len(negative_indexes) == 0:</div>
<div class="line"><span class="lineno">  319</span>            new_size = prod(new_shape)</div>
<div class="line"><span class="lineno">  320</span>            <span class="keywordflow">if</span> new_size != current_size:</div>
<div class="line"><span class="lineno">  321</span>                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;cannot reshape array of size {} into shape {}&#39;</span></div>
<div class="line"><span class="lineno">  322</span>                                 .format(current_size, new_shape))</div>
<div class="line"><span class="lineno">  323</span>        <span class="keywordflow">elif</span> len(negative_indexes) == 1:</div>
<div class="line"><span class="lineno">  324</span>            skip = negative_indexes[0]</div>
<div class="line"><span class="lineno">  325</span>            specified = prod(new_shape[0:skip] + new_shape[skip+1:])</div>
<div class="line"><span class="lineno">  326</span>            unspecified, remainder = divmod(current_size, specified)</div>
<div class="line"><span class="lineno">  327</span>            <span class="keywordflow">if</span> remainder != 0:</div>
<div class="line"><span class="lineno">  328</span>                err_shape = tuple(<span class="stringliteral">&#39;newshape&#39;</span> <span class="keywordflow">if</span> x &lt; 0 <span class="keywordflow">else</span> x <span class="keywordflow">for</span> x <span class="keywordflow">in</span> new_shape)</div>
<div class="line"><span class="lineno">  329</span>                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;cannot reshape array of size {} into shape {}&#39;</span></div>
<div class="line"><span class="lineno">  330</span>                                 <span class="stringliteral">&#39;&#39;</span>.format(current_size, err_shape))</div>
<div class="line"><span class="lineno">  331</span>            new_shape = new_shape[0:skip] + (unspecified,) + new_shape[skip+1:]</div>
<div class="line"><span class="lineno">  332</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  333</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;can only specify one unknown dimension&#39;</span>)</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>    <span class="keywordflow">if</span> len(new_shape) != 2:</div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;matrix shape must be two-dimensional&#39;</span>)</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <span class="keywordflow">return</span> new_shape</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_a60590d91febfcb54d88443940cd5f23e"><div class="ttname"><a href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a></div><div class="ttdeci">void int double int double double double double int int * iter</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:623</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac995435e530e674c6a2858d8c2e10aea" name="ac995435e530e674c6a2858d8c2e10aea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac995435e530e674c6a2858d8c2e10aea">&#9670;&#160;</a></span>downcast_intp_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.downcast_intp_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Down-cast index array to np.intp dtype if it is of a larger dtype.

Raise an error if the array contains a value that is too large for
intp.
</pre> <div class="fragment"><div class="line"><span class="lineno">   71</span><span class="keyword">def </span>downcast_intp_index(arr):</div>
<div class="line"><span class="lineno">   72</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">    Down-cast index array to np.intp dtype if it is of a larger dtype.</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">    Raise an error if the array contains a value that is too large for</span></div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">    intp.</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">if</span> arr.dtype.itemsize &gt; np.dtype(np.intp).itemsize:</div>
<div class="line"><span class="lineno">   79</span>        <span class="keywordflow">if</span> arr.size == 0:</div>
<div class="line"><span class="lineno">   80</span>            <span class="keywordflow">return</span> arr.astype(np.intp)</div>
<div class="line"><span class="lineno">   81</span>        maxval = arr.max()</div>
<div class="line"><span class="lineno">   82</span>        minval = arr.min()</div>
<div class="line"><span class="lineno">   83</span>        <span class="keywordflow">if</span> maxval &gt; np.iinfo(np.intp).max <span class="keywordflow">or</span> minval &lt; np.iinfo(np.intp).min:</div>
<div class="line"><span class="lineno">   84</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Cannot deal with arrays with indices larger &quot;</span></div>
<div class="line"><span class="lineno">   85</span>                             <span class="stringliteral">&quot;than the machine maximum address size &quot;</span></div>
<div class="line"><span class="lineno">   86</span>                             <span class="stringliteral">&quot;(e.g. 64-bit indices on 32-bit machine).&quot;</span>)</div>
<div class="line"><span class="lineno">   87</span>        <span class="keywordflow">return</span> arr.astype(np.intp)</div>
<div class="line"><span class="lineno">   88</span>    <span class="keywordflow">return</span> arr</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae877cbd030574a59b76c9bfb3fee61b0" name="ae877cbd030574a59b76c9bfb3fee61b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae877cbd030574a59b76c9bfb3fee61b0">&#9670;&#160;</a></span>get_index_dtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.get_index_dtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arrays</em> = <code>()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxval</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>check_contents</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Based on input (integer) arrays `a`, determine a suitable index data
type that can hold the data in the arrays.

Parameters
----------
arrays : tuple of array_like
    Input arrays whose types/contents to check
maxval : float, optional
    Maximum value needed
check_contents : bool, optional
    Whether to check the values in the arrays and not just their types.
    Default: False (check only the types)

Returns
-------
dtype : dtype
    Suitable index data type (int32 or int64)</pre> <div class="fragment"><div class="line"><span class="lineno">  145</span><span class="keyword">def </span>get_index_dtype(arrays=(), maxval=<span class="keywordtype">None</span>, check_contents=<span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  146</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">    Based on input (integer) arrays `a`, determine a suitable index data</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral">    type that can hold the data in the arrays.</span></div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">    arrays : tuple of array_like</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">        Input arrays whose types/contents to check</span></div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">    maxval : float, optional</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral">        Maximum value needed</span></div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">    check_contents : bool, optional</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral">        Whether to check the values in the arrays and not just their types.</span></div>
<div class="line"><span class="lineno">  158</span><span class="stringliteral">        Default: False (check only the types)</span></div>
<div class="line"><span class="lineno">  159</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  160</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  162</span><span class="stringliteral">    dtype : dtype</span></div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral">        Suitable index data type (int32 or int64)</span></div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span>    int32min = np.iinfo(np.int32).min</div>
<div class="line"><span class="lineno">  168</span>    int32max = np.iinfo(np.int32).max</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>    dtype = np.intc</div>
<div class="line"><span class="lineno">  171</span>    <span class="keywordflow">if</span> maxval <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  172</span>        <span class="keywordflow">if</span> maxval &gt; int32max:</div>
<div class="line"><span class="lineno">  173</span>            dtype = np.int64</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    <span class="keywordflow">if</span> isinstance(arrays, np.ndarray):</div>
<div class="line"><span class="lineno">  176</span>        arrays = (arrays,)</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>    <span class="keywordflow">for</span> arr <span class="keywordflow">in</span> arrays:</div>
<div class="line"><span class="lineno">  179</span>        arr = np.asarray(arr)</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> np.can_cast(arr.dtype, np.int32):</div>
<div class="line"><span class="lineno">  181</span>            <span class="keywordflow">if</span> check_contents:</div>
<div class="line"><span class="lineno">  182</span>                <span class="keywordflow">if</span> arr.size == 0:</div>
<div class="line"><span class="lineno">  183</span>                    <span class="comment"># a bigger type not needed</span></div>
<div class="line"><span class="lineno">  184</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  185</span>                <span class="keywordflow">elif</span> np.issubdtype(arr.dtype, np.integer):</div>
<div class="line"><span class="lineno">  186</span>                    maxval = arr.max()</div>
<div class="line"><span class="lineno">  187</span>                    minval = arr.min()</div>
<div class="line"><span class="lineno">  188</span>                    <span class="keywordflow">if</span> minval &gt;= int32min <span class="keywordflow">and</span> maxval &lt;= int32max:</div>
<div class="line"><span class="lineno">  189</span>                        <span class="comment"># a bigger type not needed</span></div>
<div class="line"><span class="lineno">  190</span>                        <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>            dtype = np.int64</div>
<div class="line"><span class="lineno">  193</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">return</span> dtype</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c0447fa4beb165e05bc6a7c9f480d2b" name="a6c0447fa4beb165e05bc6a7c9f480d2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c0447fa4beb165e05bc6a7c9f480d2b">&#9670;&#160;</a></span>get_sum_dtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.get_sum_dtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Mimic numpy's casting for np.sum</pre> <div class="fragment"><div class="line"><span class="lineno">  198</span><span class="keyword">def </span>get_sum_dtype(dtype):</div>
<div class="line"><span class="lineno">  199</span>    <span class="stringliteral">&quot;&quot;&quot;Mimic numpy&#39;s casting for np.sum&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">if</span> dtype.kind == <span class="stringliteral">&#39;u&#39;</span> <span class="keywordflow">and</span> np.can_cast(dtype, np.uint):</div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">return</span> np.uint</div>
<div class="line"><span class="lineno">  202</span>    <span class="keywordflow">if</span> np.can_cast(dtype, np.int_):</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">return</span> np.int_</div>
<div class="line"><span class="lineno">  204</span>    <span class="keywordflow">return</span> dtype</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a31903b85b1ec955dede24658ddbac1" name="a9a31903b85b1ec955dede24658ddbac1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a31903b85b1ec955dede24658ddbac1">&#9670;&#160;</a></span>getdata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.getdata </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>copy</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This is a wrapper of `np.array(obj, dtype=dtype, copy=copy)`
that will generate a warning if the result is an object array.
</pre> <div class="fragment"><div class="line"><span class="lineno">  133</span><span class="keyword">def </span>getdata(obj, dtype=None, copy=False):</div>
<div class="line"><span class="lineno">  134</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">    This is a wrapper of `np.array(obj, dtype=dtype, copy=copy)`</span></div>
<div class="line"><span class="lineno">  136</span><span class="stringliteral">    that will generate a warning if the result is an object array.</span></div>
<div class="line"><span class="lineno">  137</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  138</span>    data = np.array(obj, dtype=dtype, copy=copy)</div>
<div class="line"><span class="lineno">  139</span>    <span class="comment"># Defer to getdtype for checking that the dtype is OK.</span></div>
<div class="line"><span class="lineno">  140</span>    <span class="comment"># This is called for the validation only; we don&#39;t need the return value.</span></div>
<div class="line"><span class="lineno">  141</span>    getdtype(data.dtype)</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">return</span> data</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a07ae472707150fe2aac735a11a1a4506" name="a07ae472707150fe2aac735a11a1a4506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07ae472707150fe2aac735a11a1a4506">&#9670;&#160;</a></span>getdtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.getdtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>default</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function used to simplify argument processing. If 'dtype' is not
specified (is None), returns a.dtype; otherwise returns a np.dtype
object created from the specified dtype argument. If 'dtype' and 'a'
are both None, construct a data type out of the 'default' parameter.
Furthermore, 'dtype' must be in 'allowed' set.
</pre> <div class="fragment"><div class="line"><span class="lineno">  107</span><span class="keyword">def </span>getdtype(dtype, a=None, default=None):</div>
<div class="line"><span class="lineno">  108</span>    <span class="stringliteral">&quot;&quot;&quot;Function used to simplify argument processing. If &#39;dtype&#39; is not</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    specified (is None), returns a.dtype; otherwise returns a np.dtype</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">    object created from the specified dtype argument. If &#39;dtype&#39; and &#39;a&#39;</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral">    are both None, construct a data type out of the &#39;default&#39; parameter.</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">    Furthermore, &#39;dtype&#39; must be in &#39;allowed&#39; set.</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  114</span>    <span class="comment"># TODO is this really what we want?</span></div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  117</span>            newdtype = a.dtype</div>
<div class="line"><span class="lineno">  118</span>        <span class="keywordflow">except</span> AttributeError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  119</span>            <span class="keywordflow">if</span> default <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  120</span>                newdtype = np.dtype(default)</div>
<div class="line"><span class="lineno">  121</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  122</span>                <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;could not interpret data type&quot;</span>) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  124</span>        newdtype = np.dtype(dtype)</div>
<div class="line"><span class="lineno">  125</span>        <span class="keywordflow">if</span> newdtype == np.object_:</div>
<div class="line"><span class="lineno">  126</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  127</span>                <span class="stringliteral">&quot;object dtype is not supported by sparse matrices&quot;</span></div>
<div class="line"><span class="lineno">  128</span>            )</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <span class="keywordflow">return</span> newdtype</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a15d089b71c87f75bcb22f59134b6dd4e" name="a15d089b71c87f75bcb22f59134b6dd4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15d089b71c87f75bcb22f59134b6dd4e">&#9670;&#160;</a></span>is_pydata_spmatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.is_pydata_spmatrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check whether object is pydata/sparse matrix, avoiding importing the module.
</pre> <div class="fragment"><div class="line"><span class="lineno">  358</span><span class="keyword">def </span>is_pydata_spmatrix(m):</div>
<div class="line"><span class="lineno">  359</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">    Check whether object is pydata/sparse matrix, avoiding importing the module.</span></div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  362</span>    base_cls = getattr(sys.modules.get(<span class="stringliteral">&#39;sparse&#39;</span>), <span class="stringliteral">&#39;SparseArray&#39;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  363</span>    <span class="keywordflow">return</span> base_cls <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> isinstance(m, base_cls)</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9dd2a901250187188f8226dbab6173b0" name="a9dd2a901250187188f8226dbab6173b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dd2a901250187188f8226dbab6173b0">&#9670;&#160;</a></span>isdense()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.isdense </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  264</span><span class="keyword">def </span>isdense(x):</div>
<div class="line"><span class="lineno">  265</span>    <span class="keywordflow">return</span> isinstance(x, np.ndarray)</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b13a7c64f8d0799b79ac3942f593691" name="a2b13a7c64f8d0799b79ac3942f593691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b13a7c64f8d0799b79ac3942f593691">&#9670;&#160;</a></span>isintlike()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.isintlike </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Is x appropriate as an index into a sparse matrix? Returns True
if it can be cast safely to a machine int.
</pre> <div class="fragment"><div class="line"><span class="lineno">  212</span><span class="keyword">def </span>isintlike(x):</div>
<div class="line"><span class="lineno">  213</span>    <span class="stringliteral">&quot;&quot;&quot;Is x appropriate as an index into a sparse matrix? Returns True</span></div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">    if it can be cast safely to a machine int.</span></div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  216</span>    <span class="comment"># Fast-path check to eliminate non-scalar values. operator.index would</span></div>
<div class="line"><span class="lineno">  217</span>    <span class="comment"># catch this case too, but the exception catching is slow.</span></div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">if</span> np.ndim(x) != 0:</div>
<div class="line"><span class="lineno">  219</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  220</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  221</span>        operator.index(x)</div>
<div class="line"><span class="lineno">  222</span>    <span class="keywordflow">except</span> (TypeError, ValueError):</div>
<div class="line"><span class="lineno">  223</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  224</span>            loose_int = bool(int(x) == x)</div>
<div class="line"><span class="lineno">  225</span>        <span class="keywordflow">except</span> (TypeError, ValueError):</div>
<div class="line"><span class="lineno">  226</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">if</span> loose_int:</div>
<div class="line"><span class="lineno">  228</span>            msg = <span class="stringliteral">&quot;Inexact indices into sparse matrices are not allowed&quot;</span></div>
<div class="line"><span class="lineno">  229</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno">  230</span>        <span class="keywordflow">return</span> loose_int</div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d8b7ba0686c7a4afe188ce0314277ef" name="a6d8b7ba0686c7a4afe188ce0314277ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d8b7ba0686c7a4afe188ce0314277ef">&#9670;&#160;</a></span>ismatrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.ismatrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  258</span><span class="keyword">def </span>ismatrix(t):</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">return</span> ((isinstance(t, (list, tuple)) <span class="keywordflow">and</span></div>
<div class="line"><span class="lineno">  260</span>             len(t) &gt; 0 <span class="keywordflow">and</span> issequence(t[0])) <span class="keywordflow">or</span></div>
<div class="line"><span class="lineno">  261</span>            (isinstance(t, np.ndarray) <span class="keywordflow">and</span> t.ndim == 2))</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae63bac00144b8034ff4875cfb603a911" name="ae63bac00144b8034ff4875cfb603a911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae63bac00144b8034ff4875cfb603a911">&#9670;&#160;</a></span>isscalarlike()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.isscalarlike </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Is x either a scalar, an array scalar, or a 0-dim array?</pre> <div class="fragment"><div class="line"><span class="lineno">  207</span><span class="keyword">def </span>isscalarlike(x):</div>
<div class="line"><span class="lineno">  208</span>    <span class="stringliteral">&quot;&quot;&quot;Is x either a scalar, an array scalar, or a 0-dim array?&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  209</span>    <span class="keywordflow">return</span> np.isscalar(x) <span class="keywordflow">or</span> (isdense(x) <span class="keywordflow">and</span> x.ndim == 0)</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa29cf4e99cdea4dab4fa85d4d108ef1e" name="aa29cf4e99cdea4dab4fa85d4d108ef1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa29cf4e99cdea4dab4fa85d4d108ef1e">&#9670;&#160;</a></span>issequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.issequence </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>t</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  252</span><span class="keyword">def </span>issequence(t):</div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordflow">return</span> ((isinstance(t, (list, tuple)) <span class="keywordflow">and</span></div>
<div class="line"><span class="lineno">  254</span>            (len(t) == 0 <span class="keywordflow">or</span> np.isscalar(t[0]))) <span class="keywordflow">or</span></div>
<div class="line"><span class="lineno">  255</span>            (isinstance(t, np.ndarray) <span class="keywordflow">and</span> (t.ndim == 1)))</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a11cfaf6c4e30d60cae526a0e57978c91" name="a11cfaf6c4e30d60cae526a0e57978c91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11cfaf6c4e30d60cae526a0e57978c91">&#9670;&#160;</a></span>isshape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.isshape </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nonneg</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Is x a valid 2-tuple of dimensions?

If nonneg, also checks that the dimensions are non-negative.
</pre> <div class="fragment"><div class="line"><span class="lineno">  234</span><span class="keyword">def </span>isshape(x, nonneg=False):</div>
<div class="line"><span class="lineno">  235</span>    <span class="stringliteral">&quot;&quot;&quot;Is x a valid 2-tuple of dimensions?</span></div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">    If nonneg, also checks that the dimensions are non-negative.</span></div>
<div class="line"><span class="lineno">  238</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  239</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  240</span>        <span class="comment"># Assume it&#39;s a tuple of matrix dimensions (M, N)</span></div>
<div class="line"><span class="lineno">  241</span>        (M, N) = x</div>
<div class="line"><span class="lineno">  242</span>    <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  243</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordflow">if</span> isintlike(M) <span class="keywordflow">and</span> isintlike(N):</div>
<div class="line"><span class="lineno">  246</span>            <span class="keywordflow">if</span> np.ndim(M) == 0 <span class="keywordflow">and</span> np.ndim(N) == 0:</div>
<div class="line"><span class="lineno">  247</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> nonneg <span class="keywordflow">or</span> (M &gt;= 0 <span class="keywordflow">and</span> N &gt;= 0):</div>
<div class="line"><span class="lineno">  248</span>                    <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a71a732d30835dd32f5fc172ab28f5a61" name="a71a732d30835dd32f5fc172ab28f5a61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71a732d30835dd32f5fc172ab28f5a61">&#9670;&#160;</a></span>matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.matrix </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrappers for NumPy types that are deprecated. </p>
<div class="fragment"><div class="line"><span class="lineno">  373</span><span class="keyword">def </span>matrix(*args, **kwargs):</div>
<div class="line"><span class="lineno">  374</span>    <span class="keywordflow">return</span> np.array(*args, **kwargs).view(np.matrix)</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab812e3f4c09e860b1c5e9b3602983df3" name="ab812e3f4c09e860b1c5e9b3602983df3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab812e3f4c09e860b1c5e9b3602983df3">&#9670;&#160;</a></span>to_native()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.to_native </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>A</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Ensure that the data type of the NumPy array `A` has native byte order.

`A` must be a NumPy array.  If the data type of `A` does not have native
byte order, a copy of `A` with a native byte order is returned. Otherwise
`A` is returned.
</pre> <div class="fragment"><div class="line"><span class="lineno">   91</span><span class="keyword">def </span>to_native(A):</div>
<div class="line"><span class="lineno">   92</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">    Ensure that the data type of the NumPy array `A` has native byte order.</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">    `A` must be a NumPy array.  If the data type of `A` does not have native</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    byte order, a copy of `A` with a native byte order is returned. Otherwise</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">    `A` is returned.</span></div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   99</span>    dt = A.dtype</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">if</span> dt.isnative:</div>
<div class="line"><span class="lineno">  101</span>        <span class="comment"># Don&#39;t call `asarray()` if A is already native, to avoid unnecessarily</span></div>
<div class="line"><span class="lineno">  102</span>        <span class="comment"># creating a view of the input array.</span></div>
<div class="line"><span class="lineno">  103</span>        <span class="keywordflow">return</span> A</div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">return</span> np.asarray(A, dtype=dt.newbyteorder(<span class="stringliteral">&#39;native&#39;</span>))</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9d3ca1bcb27df27d0d0dc30042065f16" name="a9d3ca1bcb27df27d0d0dc30042065f16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d3ca1bcb27df27d0d0dc30042065f16">&#9670;&#160;</a></span>upcast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.upcast </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the nearest supported sparse dtype for the
combination of one or more types.

upcast(t0, t1, ..., tn) -&gt; T  where T is a supported dtype

Examples
--------

&gt;&gt;&gt; upcast('int32')
&lt;type 'numpy.int32'&gt;
&gt;&gt;&gt; upcast('bool')
&lt;type 'numpy.bool_'&gt;
&gt;&gt;&gt; upcast('int32','float32')
&lt;type 'numpy.float64'&gt;
&gt;&gt;&gt; upcast('bool',complex,float)
&lt;type 'numpy.complex128'&gt;</pre> <div class="fragment"><div class="line"><span class="lineno">   20</span><span class="keyword">def </span>upcast(*args):</div>
<div class="line"><span class="lineno">   21</span>    <span class="stringliteral">&quot;&quot;&quot;Returns the nearest supported sparse dtype for the</span></div>
<div class="line"><span class="lineno">   22</span><span class="stringliteral">    combination of one or more types.</span></div>
<div class="line"><span class="lineno">   23</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   24</span><span class="stringliteral">    upcast(t0, t1, ..., tn) -&gt; T  where T is a supported dtype</span></div>
<div class="line"><span class="lineno">   25</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   26</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">   27</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">   28</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   29</span><span class="stringliteral">    &gt;&gt;&gt; upcast(&#39;int32&#39;)</span></div>
<div class="line"><span class="lineno">   30</span><span class="stringliteral">    &lt;type &#39;numpy.int32&#39;&gt;</span></div>
<div class="line"><span class="lineno">   31</span><span class="stringliteral">    &gt;&gt;&gt; upcast(&#39;bool&#39;)</span></div>
<div class="line"><span class="lineno">   32</span><span class="stringliteral">    &lt;type &#39;numpy.bool_&#39;&gt;</span></div>
<div class="line"><span class="lineno">   33</span><span class="stringliteral">    &gt;&gt;&gt; upcast(&#39;int32&#39;,&#39;float32&#39;)</span></div>
<div class="line"><span class="lineno">   34</span><span class="stringliteral">    &lt;type &#39;numpy.float64&#39;&gt;</span></div>
<div class="line"><span class="lineno">   35</span><span class="stringliteral">    &gt;&gt;&gt; upcast(&#39;bool&#39;,complex,float)</span></div>
<div class="line"><span class="lineno">   36</span><span class="stringliteral">    &lt;type &#39;numpy.complex128&#39;&gt;</span></div>
<div class="line"><span class="lineno">   37</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   38</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span>    t = _upcast_memo.get(hash(args))</div>
<div class="line"><span class="lineno">   41</span>    <span class="keywordflow">if</span> t <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   42</span>        <span class="keywordflow">return</span> t</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>    upcast = np.find_common_type(args, [])</div>
<div class="line"><span class="lineno">   45</span> </div>
<div class="line"><span class="lineno">   46</span>    <span class="keywordflow">for</span> t <span class="keywordflow">in</span> supported_dtypes:</div>
<div class="line"><span class="lineno">   47</span>        <span class="keywordflow">if</span> np.can_cast(upcast, t):</div>
<div class="line"><span class="lineno">   48</span>            _upcast_memo[hash(args)] = t</div>
<div class="line"><span class="lineno">   49</span>            <span class="keywordflow">return</span> t</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>    <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&#39;no supported conversion for types: %r&#39;</span> % (args,))</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1842633b6b8b6e6412d965d94322b1df" name="a1842633b6b8b6e6412d965d94322b1df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1842633b6b8b6e6412d965d94322b1df">&#9670;&#160;</a></span>upcast_char()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.upcast_char </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Same as `upcast` but taking dtype.char as input (faster).</pre> <div class="fragment"><div class="line"><span class="lineno">   54</span><span class="keyword">def </span>upcast_char(*args):</div>
<div class="line"><span class="lineno">   55</span>    <span class="stringliteral">&quot;&quot;&quot;Same as `upcast` but taking dtype.char as input (faster).&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   56</span>    t = _upcast_memo.get(args)</div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">if</span> t <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">return</span> t</div>
<div class="line"><span class="lineno">   59</span>    t = upcast(*map(np.dtype, args))</div>
<div class="line"><span class="lineno">   60</span>    _upcast_memo[args] = t</div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordflow">return</span> t</div>
<div class="line"><span class="lineno">   62</span> </div>
<div class="line"><span class="lineno">   63</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0ecb05c6a7ae5784093daebc2eafa2b" name="ab0ecb05c6a7ae5784093daebc2eafa2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0ecb05c6a7ae5784093daebc2eafa2b">&#9670;&#160;</a></span>upcast_scalar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.upcast_scalar </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scalar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Determine data type for binary operation between an array of
type `dtype` and a scalar.
</pre> <div class="fragment"><div class="line"><span class="lineno">   64</span><span class="keyword">def </span>upcast_scalar(dtype, scalar):</div>
<div class="line"><span class="lineno">   65</span>    <span class="stringliteral">&quot;&quot;&quot;Determine data type for binary operation between an array of</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral">    type `dtype` and a scalar.</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">return</span> (np.array([0], dtype=dtype) * scalar).dtype</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae497c5da227e0767a47aee751f73d2bf" name="ae497c5da227e0767a47aee751f73d2bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae497c5da227e0767a47aee751f73d2bf">&#9670;&#160;</a></span>validateaxis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.sparse._sputils.validateaxis </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>axis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  268</span><span class="keyword">def </span>validateaxis(axis):</div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">if</span> axis <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  270</span>        axis_type = type(axis)</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>        <span class="comment"># In NumPy, you can pass in tuples for &#39;axis&#39;, but they are</span></div>
<div class="line"><span class="lineno">  273</span>        <span class="comment"># not very useful for sparse matrices given their limited</span></div>
<div class="line"><span class="lineno">  274</span>        <span class="comment"># dimensions, so let&#39;s make it explicit that they are not</span></div>
<div class="line"><span class="lineno">  275</span>        <span class="comment"># allowed to be passed in</span></div>
<div class="line"><span class="lineno">  276</span>        <span class="keywordflow">if</span> axis_type == tuple:</div>
<div class="line"><span class="lineno">  277</span>            <span class="keywordflow">raise</span> TypeError((<span class="stringliteral">&quot;Tuples are not accepted for the &#39;axis&#39; &quot;</span></div>
<div class="line"><span class="lineno">  278</span>                             <span class="stringliteral">&quot;parameter. Please pass in one of the &quot;</span></div>
<div class="line"><span class="lineno">  279</span>                             <span class="stringliteral">&quot;following: {-2, -1, 0, 1, None}.&quot;</span>))</div>
<div class="line"><span class="lineno">  280</span> </div>
<div class="line"><span class="lineno">  281</span>        <span class="comment"># If not a tuple, check that the provided axis is actually</span></div>
<div class="line"><span class="lineno">  282</span>        <span class="comment"># an integer and raise a TypeError similar to NumPy&#39;s</span></div>
<div class="line"><span class="lineno">  283</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> np.issubdtype(np.dtype(axis_type), np.integer):</div>
<div class="line"><span class="lineno">  284</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;axis must be an integer, not {name}&quot;</span></div>
<div class="line"><span class="lineno">  285</span>                            .format(name=axis_type.__name__))</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> (-2 &lt;= axis &lt;= 1):</div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;axis out of range&quot;</span>)</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aeb5b61df67254bfb43b393ce00e77d5c" name="aeb5b61df67254bfb43b393ce00e77d5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb5b61df67254bfb43b393ce00e77d5c">&#9670;&#160;</a></span>_upcast_memo</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict scipy.sparse._sputils._upcast_memo = {}</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac5a724543f396f0710fff0707ec58ade" name="ac5a724543f396f0710fff0707ec58ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5a724543f396f0710fff0707ec58ade">&#9670;&#160;</a></span>supported_dtypes</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list scipy.sparse._sputils.supported_dtypes</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  [np.bool_, np.byte, np.ubyte, np.short, np.ushort, np.intc,</div>
<div class="line"><span class="lineno">    2</span>                    np.uintc, np.int_, np.uint, np.longlong, np.ulonglong,</div>
<div class="line"><span class="lineno">    3</span>                    np.single, np.double,</div>
<div class="line"><span class="lineno">    4</span>                    np.longdouble, np.csingle, np.cdouble, np.clongdouble]</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
