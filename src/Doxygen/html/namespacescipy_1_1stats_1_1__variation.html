<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: scipy.stats._variation Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacescipy.html">scipy</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1stats.html">stats</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1stats_1_1__variation.html">_variation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">scipy.stats._variation Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af0bdf05c48f5516d7c59a218e988880f" id="r_af0bdf05c48f5516d7c59a218e988880f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1stats_1_1__variation.html#af0bdf05c48f5516d7c59a218e988880f">_nanvariation</a> (<a class="el" href="__blas__subroutines_8h.html#a4da0a64c77789ca4c8115aef76120fd2">a</a>, *axis=0, ddof=0, keepdims=False)</td></tr>
<tr class="separator:af0bdf05c48f5516d7c59a218e988880f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad31e307eb39763195d980270ebebe1a8" id="r_ad31e307eb39763195d980270ebebe1a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacescipy_1_1stats_1_1__variation.html#ad31e307eb39763195d980270ebebe1a8">variation</a> (<a class="el" href="__blas__subroutines_8h.html#a4da0a64c77789ca4c8115aef76120fd2">a</a>, axis=0, nan_policy='propagate', ddof=0, *keepdims=False)</td></tr>
<tr class="separator:ad31e307eb39763195d980270ebebe1a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="af0bdf05c48f5516d7c59a218e988880f" name="af0bdf05c48f5516d7c59a218e988880f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0bdf05c48f5516d7c59a218e988880f">&#9670;&#160;</a></span>_nanvariation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.stats._variation._nanvariation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>axis</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ddof</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keepdims</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Private version of `variation` that ignores nan.

`a` must be a numpy array.
`axis` is assumed to be normalized, i.e. 0 &lt;= axis &lt; a.ndim.
</pre> <div class="fragment"><div class="line"><span class="lineno">    8</span><span class="keyword">def </span>_nanvariation(a, *, axis=0, ddof=0, keepdims=False):</div>
<div class="line"><span class="lineno">    9</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   10</span><span class="stringliteral">    Private version of `variation` that ignores nan.</span></div>
<div class="line"><span class="lineno">   11</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   12</span><span class="stringliteral">    `a` must be a numpy array.</span></div>
<div class="line"><span class="lineno">   13</span><span class="stringliteral">    `axis` is assumed to be normalized, i.e. 0 &lt;= axis &lt; a.ndim.</span></div>
<div class="line"><span class="lineno">   14</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   15</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno">   16</span>    <span class="comment"># In theory, this should be as simple as something like</span></div>
<div class="line"><span class="lineno">   17</span>    <span class="comment">#     nanstd(a, ddof=ddof, axis=axis, keepdims=keepdims) /</span></div>
<div class="line"><span class="lineno">   18</span>    <span class="comment">#     nanmean(a, axis=axis, keepdims=keepdims)</span></div>
<div class="line"><span class="lineno">   19</span>    <span class="comment"># In practice, annoying issues arise.  Specifically, numpy</span></div>
<div class="line"><span class="lineno">   20</span>    <span class="comment"># generates warnings in certain edge cases that we don&#39;t want</span></div>
<div class="line"><span class="lineno">   21</span>    <span class="comment"># to propagate to the user.  Unfortunately, there does not</span></div>
<div class="line"><span class="lineno">   22</span>    <span class="comment"># appear to be a thread-safe way to filter out the warnings,</span></div>
<div class="line"><span class="lineno">   23</span>    <span class="comment"># so we have to do the calculation in a way that doesn&#39;t</span></div>
<div class="line"><span class="lineno">   24</span>    <span class="comment"># generate numpy warnings.</span></div>
<div class="line"><span class="lineno">   25</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno">   26</span>    <span class="comment"># Let N be the number of non-nan inputs in a slice.</span></div>
<div class="line"><span class="lineno">   27</span>    <span class="comment"># Conditions that generate nan:</span></div>
<div class="line"><span class="lineno">   28</span>    <span class="comment">#   * empty input (i.e. N = 0)</span></div>
<div class="line"><span class="lineno">   29</span>    <span class="comment">#   * All non-nan values 0</span></div>
<div class="line"><span class="lineno">   30</span>    <span class="comment">#   * N &lt; ddof</span></div>
<div class="line"><span class="lineno">   31</span>    <span class="comment">#   * N == ddof and the input is constant</span></div>
<div class="line"><span class="lineno">   32</span>    <span class="comment"># Conditions that generate inf:</span></div>
<div class="line"><span class="lineno">   33</span>    <span class="comment">#   * non-constant input and either</span></div>
<div class="line"><span class="lineno">   34</span>    <span class="comment">#       * the mean is 0, or</span></div>
<div class="line"><span class="lineno">   35</span>    <span class="comment">#       * N == ddof</span></div>
<div class="line"><span class="lineno">   36</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno">   37</span>    a_isnan = np.isnan(a)</div>
<div class="line"><span class="lineno">   38</span>    all_nan = a_isnan.all(axis=axis, keepdims=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   39</span>    all_nan_full = np.broadcast_to(all_nan, a.shape)</div>
<div class="line"><span class="lineno">   40</span>    all_zero = (a_isnan | (a == 0)).all(axis=axis, keepdims=<span class="keyword">True</span>) &amp; ~all_nan</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>    <span class="comment"># ngood is the number of non-nan values in each slice.</span></div>
<div class="line"><span class="lineno">   43</span>    ngood = (a.shape[axis] -</div>
<div class="line"><span class="lineno">   44</span>             np.expand_dims(np.count_nonzero(a_isnan, axis=axis), axis))</div>
<div class="line"><span class="lineno">   45</span>    <span class="comment"># The return value is nan where ddof &gt; ngood.</span></div>
<div class="line"><span class="lineno">   46</span>    ddof_too_big = ddof &gt; ngood</div>
<div class="line"><span class="lineno">   47</span>    <span class="comment"># If ddof == ngood, the return value is nan where the input is constant and</span></div>
<div class="line"><span class="lineno">   48</span>    <span class="comment"># inf otherwise.</span></div>
<div class="line"><span class="lineno">   49</span>    ddof_equal_n = ddof == ngood</div>
<div class="line"><span class="lineno">   50</span> </div>
<div class="line"><span class="lineno">   51</span>    is_const = _nan_allsame(a, axis=axis, keepdims=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>    a2 = a.copy()</div>
<div class="line"><span class="lineno">   54</span>    <span class="comment"># If an entire slice is nan, `np.nanmean` will generate a warning,</span></div>
<div class="line"><span class="lineno">   55</span>    <span class="comment"># so we replace those nan&#39;s with 1.0 before computing the mean.</span></div>
<div class="line"><span class="lineno">   56</span>    <span class="comment"># We&#39;ll fix the corresponding output later.</span></div>
<div class="line"><span class="lineno">   57</span>    a2[all_nan_full] = 1.0</div>
<div class="line"><span class="lineno">   58</span>    mean_a = np.nanmean(a2, axis=axis, keepdims=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>    <span class="comment"># If ddof &gt;= ngood (the number of non-nan values in the slice), `np.nanstd`</span></div>
<div class="line"><span class="lineno">   61</span>    <span class="comment"># will generate a warning, so set all the values in such a slice to 1.0.</span></div>
<div class="line"><span class="lineno">   62</span>    <span class="comment"># We&#39;ll fix the corresponding output later.</span></div>
<div class="line"><span class="lineno">   63</span>    a2[np.broadcast_to(ddof_too_big, a2.shape) | ddof_equal_n] = 1.0</div>
<div class="line"><span class="lineno">   64</span>    <span class="keyword">with</span> np.errstate(invalid=<span class="stringliteral">&#39;ignore&#39;</span>):</div>
<div class="line"><span class="lineno">   65</span>        std_a = np.nanstd(a2, axis=axis, ddof=ddof, keepdims=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   66</span>    del a2</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    sum_zero = np.nansum(a, axis=axis, keepdims=<span class="keyword">True</span>) == 0</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>    <span class="comment"># Where the sum along the axis is 0, replace mean_a with 1.  This avoids</span></div>
<div class="line"><span class="lineno">   71</span>    <span class="comment"># division by zero.  We&#39;ll fix the the corresponding output later.</span></div>
<div class="line"><span class="lineno">   72</span>    mean_a[sum_zero] = 1.0</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>    <span class="comment"># Here--finally!--is the calculation of the variation.</span></div>
<div class="line"><span class="lineno">   75</span>    result = std_a / mean_a</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>    <span class="comment"># Now fix the values that were given fake data to avoid warnings.</span></div>
<div class="line"><span class="lineno">   78</span>    result[~is_const &amp; sum_zero] = np.inf</div>
<div class="line"><span class="lineno">   79</span>    signed_inf_mask = ~is_const &amp; ddof_equal_n</div>
<div class="line"><span class="lineno">   80</span>    result[signed_inf_mask] = np.sign(mean_a[signed_inf_mask]) * np.inf</div>
<div class="line"><span class="lineno">   81</span>    nan_mask = all_zero | all_nan | ddof_too_big | (ddof_equal_n &amp; is_const)</div>
<div class="line"><span class="lineno">   82</span>    result[nan_mask] = np.nan</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> keepdims:</div>
<div class="line"><span class="lineno">   85</span>        result = np.squeeze(result, axis=axis)</div>
<div class="line"><span class="lineno">   86</span>        <span class="keywordflow">if</span> result.shape == ():</div>
<div class="line"><span class="lineno">   87</span>            result = result[()]</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad31e307eb39763195d980270ebebe1a8" name="ad31e307eb39763195d980270ebebe1a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad31e307eb39763195d980270ebebe1a8">&#9670;&#160;</a></span>variation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.stats._variation.variation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>axis</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nan_policy</em> = <code>'propagate'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ddof</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>keepdims</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compute the coefficient of variation.

The coefficient of variation is the standard deviation divided by the
mean.  This function is equivalent to::

    np.std(x, axis=axis, ddof=ddof) / np.mean(x)

The default for ``ddof`` is 0, but many definitions of the coefficient
of variation use the square root of the unbiased sample variance
for the sample standard deviation, which corresponds to ``ddof=1``.

The function does not take the absolute value of the mean of the data,
so the return value is negative if the mean is negative.

Parameters
----------
a : array_like
    Input array.
axis : int or None, optional
    Axis along which to calculate the coefficient of variation.
    Default is 0. If None, compute over the whole array `a`.
nan_policy : {'propagate', 'raise', 'omit'}, optional
    Defines how to handle when input contains ``nan``.
    The following options are available:

      * 'propagate': return ``nan``
      * 'raise': raise an exception
      * 'omit': perform the calculation with ``nan`` values omitted

    The default is 'propagate'.
ddof : int, optional
    Gives the "Delta Degrees Of Freedom" used when computing the
    standard deviation.  The divisor used in the calculation of the
    standard deviation is ``N - ddof``, where ``N`` is the number of
    elements.  `ddof` must be less than ``N``; if it isn't, the result
    will be ``nan`` or ``inf``, depending on ``N`` and the values in
    the array.  By default `ddof` is zero for backwards compatibility,
    but it is recommended to use ``ddof=1`` to ensure that the sample
    standard deviation is computed as the square root of the unbiased
    sample variance.
keepdims : bool, optional
    If this is set to True, the axes which are reduced are left in the
    result as dimensions with size one. With this option, the result
    will broadcast correctly against the input array.

Returns
-------
variation : ndarray
    The calculated variation along the requested axis.

Notes
-----
There are several edge cases that are handled without generating a
warning:

* If both the mean and the standard deviation are zero, ``nan``
  is returned.
* If the mean is zero and the standard deviation is nonzero, ``inf``
  is returned.
* If the input has length zero (either because the array has zero
  length, or all the input values are ``nan`` and ``nan_policy`` is
  ``'omit'``), ``nan`` is returned.
* If the input contains ``inf``, ``nan`` is returned.

References
----------
.. [1] Zwillinger, D. and Kokoska, S. (2000). CRC Standard
   Probability and Statistics Tables and Formulae. Chapman &amp; Hall: New
   York. 2000.

Examples
--------
&gt;&gt;&gt; from scipy.stats import variation
&gt;&gt;&gt; variation([1, 2, 3, 4, 5], ddof=1)
0.5270462766947299

Compute the variation along a given dimension of an array that contains
a few ``nan`` values:

&gt;&gt;&gt; x = np.array([[  10.0, np.nan, 11.0, 19.0, 23.0, 29.0, 98.0],
...               [  29.0,   30.0, 32.0, 33.0, 35.0, 56.0, 57.0],
...               [np.nan, np.nan, 12.0, 13.0, 16.0, 16.0, 17.0]])
&gt;&gt;&gt; variation(x, axis=1, ddof=1, nan_policy='omit')
array([1.05109361, 0.31428986, 0.146483  ])</pre> <div class="fragment"><div class="line"><span class="lineno">   92</span><span class="keyword">def </span>variation(a, axis=0, nan_policy=&#39;propagate&#39;, ddof=0, *, keepdims=False):</div>
<div class="line"><span class="lineno">   93</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">    Compute the coefficient of variation.</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    The coefficient of variation is the standard deviation divided by the</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">    mean.  This function is equivalent to::</span></div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">        np.std(x, axis=axis, ddof=ddof) / np.mean(x)</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">    The default for ``ddof`` is 0, but many definitions of the coefficient</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral">    of variation use the square root of the unbiased sample variance</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">    for the sample standard deviation, which corresponds to ``ddof=1``.</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">    The function does not take the absolute value of the mean of the data,</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">    so the return value is negative if the mean is negative.</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">    a : array_like</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral">        Input array.</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">    axis : int or None, optional</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">        Axis along which to calculate the coefficient of variation.</span></div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral">        Default is 0. If None, compute over the whole array `a`.</span></div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">    nan_policy : {&#39;propagate&#39;, &#39;raise&#39;, &#39;omit&#39;}, optional</span></div>
<div class="line"><span class="lineno">  116</span><span class="stringliteral">        Defines how to handle when input contains ``nan``.</span></div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral">        The following options are available:</span></div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">          * &#39;propagate&#39;: return ``nan``</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">          * &#39;raise&#39;: raise an exception</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">          * &#39;omit&#39;: perform the calculation with ``nan`` values omitted</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">        The default is &#39;propagate&#39;.</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">    ddof : int, optional</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">        Gives the &quot;Delta Degrees Of Freedom&quot; used when computing the</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral">        standard deviation.  The divisor used in the calculation of the</span></div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">        standard deviation is ``N - ddof``, where ``N`` is the number of</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">        elements.  `ddof` must be less than ``N``; if it isn&#39;t, the result</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">        will be ``nan`` or ``inf``, depending on ``N`` and the values in</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral">        the array.  By default `ddof` is zero for backwards compatibility,</span></div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">        but it is recommended to use ``ddof=1`` to ensure that the sample</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">        standard deviation is computed as the square root of the unbiased</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">        sample variance.</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral">    keepdims : bool, optional</span></div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">        If this is set to True, the axes which are reduced are left in the</span></div>
<div class="line"><span class="lineno">  136</span><span class="stringliteral">        result as dimensions with size one. With this option, the result</span></div>
<div class="line"><span class="lineno">  137</span><span class="stringliteral">        will broadcast correctly against the input array.</span></div>
<div class="line"><span class="lineno">  138</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  139</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral">    variation : ndarray</span></div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral">        The calculated variation along the requested axis.</span></div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral">    There are several edge cases that are handled without generating a</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">    warning:</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">    * If both the mean and the standard deviation are zero, ``nan``</span></div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">      is returned.</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">    * If the mean is zero and the standard deviation is nonzero, ``inf``</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">      is returned.</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">    * If the input has length zero (either because the array has zero</span></div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">      length, or all the input values are ``nan`` and ``nan_policy`` is</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral">      ``&#39;omit&#39;``), ``nan`` is returned.</span></div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">    * If the input contains ``inf``, ``nan`` is returned.</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  158</span><span class="stringliteral">    References</span></div>
<div class="line"><span class="lineno">  159</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  160</span><span class="stringliteral">    .. [1] Zwillinger, D. and Kokoska, S. (2000). CRC Standard</span></div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral">       Probability and Statistics Tables and Formulae. Chapman &amp; Hall: New</span></div>
<div class="line"><span class="lineno">  162</span><span class="stringliteral">       York. 2000.</span></div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  166</span><span class="stringliteral">    &gt;&gt;&gt; from scipy.stats import variation</span></div>
<div class="line"><span class="lineno">  167</span><span class="stringliteral">    &gt;&gt;&gt; variation([1, 2, 3, 4, 5], ddof=1)</span></div>
<div class="line"><span class="lineno">  168</span><span class="stringliteral">    0.5270462766947299</span></div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral">    Compute the variation along a given dimension of an array that contains</span></div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">    a few ``nan`` values:</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">    &gt;&gt;&gt; x = np.array([[  10.0, np.nan, 11.0, 19.0, 23.0, 29.0, 98.0],</span></div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral">    ...               [  29.0,   30.0, 32.0, 33.0, 35.0, 56.0, 57.0],</span></div>
<div class="line"><span class="lineno">  175</span><span class="stringliteral">    ...               [np.nan, np.nan, 12.0, 13.0, 16.0, 16.0, 17.0]])</span></div>
<div class="line"><span class="lineno">  176</span><span class="stringliteral">    &gt;&gt;&gt; variation(x, axis=1, ddof=1, nan_policy=&#39;omit&#39;)</span></div>
<div class="line"><span class="lineno">  177</span><span class="stringliteral">    array([1.05109361, 0.31428986, 0.146483  ])</span></div>
<div class="line"><span class="lineno">  178</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  180</span>    a, axis = _chk_asarray(a, axis)</div>
<div class="line"><span class="lineno">  181</span>    axis = normalize_axis_index(axis, ndim=a.ndim)</div>
<div class="line"><span class="lineno">  182</span>    n = a.shape[axis]</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>    contains_nan, nan_policy = _contains_nan(a, nan_policy)</div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordflow">if</span> contains_nan <span class="keywordflow">and</span> nan_policy == <span class="stringliteral">&#39;omit&#39;</span>:</div>
<div class="line"><span class="lineno">  186</span>        <span class="keywordflow">return</span> _nanvariation(a, axis=axis, ddof=ddof, keepdims=keepdims)</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">if</span> a.size == 0 <span class="keywordflow">or</span> ddof &gt; n:</div>
<div class="line"><span class="lineno">  189</span>        <span class="comment"># Handle as a special case to avoid spurious warnings.</span></div>
<div class="line"><span class="lineno">  190</span>        <span class="comment"># The return values, if any, are all nan.</span></div>
<div class="line"><span class="lineno">  191</span>        shp = list(a.shape)</div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">if</span> keepdims:</div>
<div class="line"><span class="lineno">  193</span>            shp[axis] = 1</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  195</span>            del shp[axis]</div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">if</span> len(shp) == 0:</div>
<div class="line"><span class="lineno">  197</span>            result = np.nan</div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  199</span>            result = np.full(shp, fill_value=np.nan)</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>    mean_a = a.mean(axis, keepdims=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">if</span> ddof == n:</div>
<div class="line"><span class="lineno">  206</span>        <span class="comment"># Another special case.  Result is either inf or nan.</span></div>
<div class="line"><span class="lineno">  207</span>        std_a = a.std(axis=axis, ddof=0, keepdims=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  208</span>        result = np.full_like(std_a, fill_value=np.nan)</div>
<div class="line"><span class="lineno">  209</span>        result.flat[std_a.flat &gt; 0] = (np.sign(mean_a) * np.inf).flat</div>
<div class="line"><span class="lineno">  210</span>        <span class="keywordflow">if</span> result.shape == ():</div>
<div class="line"><span class="lineno">  211</span>            result = result[()]</div>
<div class="line"><span class="lineno">  212</span>        <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>    <span class="keyword">with</span> np.errstate(divide=<span class="stringliteral">&#39;ignore&#39;</span>, invalid=<span class="stringliteral">&#39;ignore&#39;</span>):</div>
<div class="line"><span class="lineno">  215</span>        std_a = a.std(axis, ddof=ddof, keepdims=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  216</span>        result = std_a / mean_a</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> keepdims:</div>
<div class="line"><span class="lineno">  219</span>        result = np.squeeze(result, axis=axis)</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordflow">if</span> result.shape == ():</div>
<div class="line"><span class="lineno">  221</span>            result = result[()]</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">return</span> result</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
