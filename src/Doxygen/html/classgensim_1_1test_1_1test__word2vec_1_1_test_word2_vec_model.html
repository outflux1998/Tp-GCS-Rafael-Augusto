<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.test.test_word2vec.TestWord2VecModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1test.html">test</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1test_1_1test__word2vec.html">test_word2vec</a></li><li class="navelem"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html">TestWord2VecModel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gensim.test.test_word2vec.TestWord2VecModel Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for gensim.test.test_word2vec.TestWord2VecModel:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ace73eb034edbf17316b4f938291d0b01" id="r_ace73eb034edbf17316b4f938291d0b01"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#ace73eb034edbf17316b4f938291d0b01">testBuildVocabFromFreq</a> (self)</td></tr>
<tr class="separator:ace73eb034edbf17316b4f938291d0b01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d2774ad8a8997599f766d9190b15c5d" id="r_a5d2774ad8a8997599f766d9190b15c5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a5d2774ad8a8997599f766d9190b15c5d">testPruneVocab</a> (self)</td></tr>
<tr class="separator:a5d2774ad8a8997599f766d9190b15c5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c2be8d80df3198bf82436278e925329" id="r_a3c2be8d80df3198bf82436278e925329"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a3c2be8d80df3198bf82436278e925329">testTotalWordCount</a> (self)</td></tr>
<tr class="separator:a3c2be8d80df3198bf82436278e925329"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7a771d3d5f18b29cf599f638f5871cc" id="r_ae7a771d3d5f18b29cf599f638f5871cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#ae7a771d3d5f18b29cf599f638f5871cc">testMaxFinalVocab</a> (self)</td></tr>
<tr class="separator:ae7a771d3d5f18b29cf599f638f5871cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38d5b9c03c4121ed2a6c53cd5f0ecaa4" id="r_a38d5b9c03c4121ed2a6c53cd5f0ecaa4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a38d5b9c03c4121ed2a6c53cd5f0ecaa4">testOnlineLearning</a> (self)</td></tr>
<tr class="separator:a38d5b9c03c4121ed2a6c53cd5f0ecaa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b61124b6eb3e432db93b140f3df8042" id="r_a5b61124b6eb3e432db93b140f3df8042"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a5b61124b6eb3e432db93b140f3df8042">testOnlineLearningAfterSave</a> (self)</td></tr>
<tr class="separator:a5b61124b6eb3e432db93b140f3df8042"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dbe6dd787f763674d242395f08df75a" id="r_a8dbe6dd787f763674d242395f08df75a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a8dbe6dd787f763674d242395f08df75a">testOnlineLearningFromFile</a> (self)</td></tr>
<tr class="separator:a8dbe6dd787f763674d242395f08df75a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa29b3fe080cc193b8d50e80122401c9f" id="r_aa29b3fe080cc193b8d50e80122401c9f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#aa29b3fe080cc193b8d50e80122401c9f">testOnlineLearningAfterSaveFromFile</a> (self)</td></tr>
<tr class="separator:aa29b3fe080cc193b8d50e80122401c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff697fb3dee2c5608b98c9004445d72a" id="r_aff697fb3dee2c5608b98c9004445d72a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#aff697fb3dee2c5608b98c9004445d72a">onlineSanity</a> (self, model, trained_model=False)</td></tr>
<tr class="separator:aff697fb3dee2c5608b98c9004445d72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a967a09b31fe873e71cd42f9b6c0c5133" id="r_a967a09b31fe873e71cd42f9b6c0c5133"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a967a09b31fe873e71cd42f9b6c0c5133">test_sg_hs_online</a> (self)</td></tr>
<tr class="separator:a967a09b31fe873e71cd42f9b6c0c5133"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31732a958c13998b93d79ad8c5edada8" id="r_a31732a958c13998b93d79ad8c5edada8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a31732a958c13998b93d79ad8c5edada8">test_sg_neg_online</a> (self)</td></tr>
<tr class="separator:a31732a958c13998b93d79ad8c5edada8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d2dfb2e11946008254844f07254e4c" id="r_ac3d2dfb2e11946008254844f07254e4c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#ac3d2dfb2e11946008254844f07254e4c">test_cbow_hs_online</a> (self)</td></tr>
<tr class="separator:ac3d2dfb2e11946008254844f07254e4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e823084a6b607977d050c59005506fe" id="r_a0e823084a6b607977d050c59005506fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a0e823084a6b607977d050c59005506fe">test_cbow_neg_online</a> (self)</td></tr>
<tr class="separator:a0e823084a6b607977d050c59005506fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeec3036e7102466c7e5ea191b76092ca" id="r_aeec3036e7102466c7e5ea191b76092ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#aeec3036e7102466c7e5ea191b76092ca">testPersistence</a> (self)</td></tr>
<tr class="separator:aeec3036e7102466c7e5ea191b76092ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a718a689010b42445cd4380874381a511" id="r_a718a689010b42445cd4380874381a511"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a718a689010b42445cd4380874381a511">testPersistenceFromFile</a> (self)</td></tr>
<tr class="separator:a718a689010b42445cd4380874381a511"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b4385c9e23b5b4e0ec28c43bb1fb8dc" id="r_a0b4385c9e23b5b4e0ec28c43bb1fb8dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a0b4385c9e23b5b4e0ec28c43bb1fb8dc">testPersistenceWithConstructorRule</a> (self)</td></tr>
<tr class="separator:a0b4385c9e23b5b4e0ec28c43bb1fb8dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5fef3dc4a4377c30d60a73127f4e83" id="r_a1b5fef3dc4a4377c30d60a73127f4e83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a1b5fef3dc4a4377c30d60a73127f4e83">testRuleWithMinCount</a> (self)</td></tr>
<tr class="separator:a1b5fef3dc4a4377c30d60a73127f4e83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb5082b8ab91e23152b2744c299006e" id="r_a8fb5082b8ab91e23152b2744c299006e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a8fb5082b8ab91e23152b2744c299006e">testRule</a> (self)</td></tr>
<tr class="separator:a8fb5082b8ab91e23152b2744c299006e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a644184fdb33dd096c0967854d67acb1f" id="r_a644184fdb33dd096c0967854d67acb1f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a644184fdb33dd096c0967854d67acb1f">testLambdaRule</a> (self)</td></tr>
<tr class="separator:a644184fdb33dd096c0967854d67acb1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39c35abe2a3d71da048cf0fcddab2578" id="r_a39c35abe2a3d71da048cf0fcddab2578"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a39c35abe2a3d71da048cf0fcddab2578">testSyn0NormNotSaved</a> (self)</td></tr>
<tr class="separator:a39c35abe2a3d71da048cf0fcddab2578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1905d1ff1a667bdd69dfcdb452518f3" id="r_ad1905d1ff1a667bdd69dfcdb452518f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#ad1905d1ff1a667bdd69dfcdb452518f3">testLoadPreKeyedVectorModel</a> (self)</td></tr>
<tr class="separator:ad1905d1ff1a667bdd69dfcdb452518f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad338798ebba37483a898c485f6bc38c1" id="r_ad338798ebba37483a898c485f6bc38c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#ad338798ebba37483a898c485f6bc38c1">testLoadPreKeyedVectorModelCFormat</a> (self)</td></tr>
<tr class="separator:ad338798ebba37483a898c485f6bc38c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b25d98d2dccc0498777448fe3b7103e" id="r_a6b25d98d2dccc0498777448fe3b7103e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a6b25d98d2dccc0498777448fe3b7103e">testPersistenceWord2VecFormat</a> (self)</td></tr>
<tr class="separator:a6b25d98d2dccc0498777448fe3b7103e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61f61d5d6b7024d0f2582062ef1ee7bc" id="r_a61f61d5d6b7024d0f2582062ef1ee7bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a61f61d5d6b7024d0f2582062ef1ee7bc">testNoTrainingCFormat</a> (self)</td></tr>
<tr class="separator:a61f61d5d6b7024d0f2582062ef1ee7bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1bfe09d222f423b143ab328ee07ff1" id="r_abd1bfe09d222f423b143ab328ee07ff1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#abd1bfe09d222f423b143ab328ee07ff1">testTooShortBinaryWord2VecFormat</a> (self)</td></tr>
<tr class="separator:abd1bfe09d222f423b143ab328ee07ff1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3f92799cb9dbe2374926ce6f9c01b5d" id="r_ab3f92799cb9dbe2374926ce6f9c01b5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#ab3f92799cb9dbe2374926ce6f9c01b5d">testTooShortTextWord2VecFormat</a> (self)</td></tr>
<tr class="separator:ab3f92799cb9dbe2374926ce6f9c01b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e12a643560e50a03cd7e06f90899788" id="r_a7e12a643560e50a03cd7e06f90899788"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a7e12a643560e50a03cd7e06f90899788">testPersistenceWord2VecFormatNonBinary</a> (self)</td></tr>
<tr class="separator:a7e12a643560e50a03cd7e06f90899788"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e9da1e403e2d7cb22c9a64728620da0" id="r_a9e9da1e403e2d7cb22c9a64728620da0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a9e9da1e403e2d7cb22c9a64728620da0">testPersistenceWord2VecFormatWithVocab</a> (self)</td></tr>
<tr class="separator:a9e9da1e403e2d7cb22c9a64728620da0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc9e05034f1e04cb7be71f3432b27f64" id="r_adc9e05034f1e04cb7be71f3432b27f64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#adc9e05034f1e04cb7be71f3432b27f64">testPersistenceKeyedVectorsFormatWithVocab</a> (self)</td></tr>
<tr class="separator:adc9e05034f1e04cb7be71f3432b27f64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3729e5f979a165a70a3074030656b320" id="r_a3729e5f979a165a70a3074030656b320"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a3729e5f979a165a70a3074030656b320">testPersistenceWord2VecFormatCombinationWithStandardPersistence</a> (self)</td></tr>
<tr class="separator:a3729e5f979a165a70a3074030656b320"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bc2a02c5119f727e7988f4e53e1fb9d" id="r_a6bc2a02c5119f727e7988f4e53e1fb9d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a6bc2a02c5119f727e7988f4e53e1fb9d">testLargeMmap</a> (self)</td></tr>
<tr class="separator:a6bc2a02c5119f727e7988f4e53e1fb9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cad5ee8ecf6f9c0ea405e7cc205b8dc" id="r_a1cad5ee8ecf6f9c0ea405e7cc205b8dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a1cad5ee8ecf6f9c0ea405e7cc205b8dc">testVocab</a> (self)</td></tr>
<tr class="separator:a1cad5ee8ecf6f9c0ea405e7cc205b8dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0550110ad77e79be263200d1450abef" id="r_ac0550110ad77e79be263200d1450abef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#ac0550110ad77e79be263200d1450abef">testTraining</a> (self)</td></tr>
<tr class="separator:ac0550110ad77e79be263200d1450abef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4a926d7ff1cfa5acfe58ba639efefc" id="r_aab4a926d7ff1cfa5acfe58ba639efefc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#aab4a926d7ff1cfa5acfe58ba639efefc">testTrainingFromFile</a> (self)</td></tr>
<tr class="separator:aab4a926d7ff1cfa5acfe58ba639efefc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a027b0b712b37012c94353f0674ff82e3" id="r_a027b0b712b37012c94353f0674ff82e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a027b0b712b37012c94353f0674ff82e3">testScoring</a> (self)</td></tr>
<tr class="separator:a027b0b712b37012c94353f0674ff82e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33f9294fcaf8e264b0f83541e0603090" id="r_a33f9294fcaf8e264b0f83541e0603090"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a33f9294fcaf8e264b0f83541e0603090">testLocking</a> (self)</td></tr>
<tr class="separator:a33f9294fcaf8e264b0f83541e0603090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ecfeb1181d072eb8542361be65295d8" id="r_a8ecfeb1181d072eb8542361be65295d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a8ecfeb1181d072eb8542361be65295d8">testEvaluateWordAnalogies</a> (self)</td></tr>
<tr class="separator:a8ecfeb1181d072eb8542361be65295d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf89cef94079427e291111912e898d26" id="r_adf89cef94079427e291111912e898d26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#adf89cef94079427e291111912e898d26">testEvaluateWordPairs</a> (self)</td></tr>
<tr class="separator:adf89cef94079427e291111912e898d26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35142c9c01e1ec93f49308e1796cd19" id="r_ac35142c9c01e1ec93f49308e1796cd19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#ac35142c9c01e1ec93f49308e1796cd19">testEvaluateWordPairsFromFile</a> (self)</td></tr>
<tr class="separator:ac35142c9c01e1ec93f49308e1796cd19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6c0bc6ead32e821c188bc2fa2298c3c" id="r_ac6c0bc6ead32e821c188bc2fa2298c3c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#ac6c0bc6ead32e821c188bc2fa2298c3c">model_sanity</a> (self, model, train=True, with_corpus_file=False)</td></tr>
<tr class="separator:ac6c0bc6ead32e821c188bc2fa2298c3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cf5dd4f1e122de2092e7ac988ece6ea" id="r_a2cf5dd4f1e122de2092e7ac988ece6ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a2cf5dd4f1e122de2092e7ac988ece6ea">test_sg_hs</a> (self)</td></tr>
<tr class="separator:a2cf5dd4f1e122de2092e7ac988ece6ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8355f0040fb9a4c63e74225a7a9eff59" id="r_a8355f0040fb9a4c63e74225a7a9eff59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a8355f0040fb9a4c63e74225a7a9eff59">test_sg_hs_fromfile</a> (self)</td></tr>
<tr class="separator:a8355f0040fb9a4c63e74225a7a9eff59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfe4b4afd8b47c5695f6b515b7f4644b" id="r_adfe4b4afd8b47c5695f6b515b7f4644b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#adfe4b4afd8b47c5695f6b515b7f4644b">test_sg_neg</a> (self)</td></tr>
<tr class="separator:adfe4b4afd8b47c5695f6b515b7f4644b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b48e45de0ae7b29e62bef35726ee86d" id="r_a4b48e45de0ae7b29e62bef35726ee86d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a4b48e45de0ae7b29e62bef35726ee86d">test_sg_neg_fromfile</a> (self)</td></tr>
<tr class="separator:a4b48e45de0ae7b29e62bef35726ee86d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99260c8d593cf5762c0eb11b6158b0d0" id="r_a99260c8d593cf5762c0eb11b6158b0d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a99260c8d593cf5762c0eb11b6158b0d0">test_cbow_hs</a> (self)</td></tr>
<tr class="separator:a99260c8d593cf5762c0eb11b6158b0d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acba96d0a9fba069798935c2ccafee904" id="r_acba96d0a9fba069798935c2ccafee904"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#acba96d0a9fba069798935c2ccafee904">test_cbow_hs_fromfile</a> (self)</td></tr>
<tr class="separator:acba96d0a9fba069798935c2ccafee904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a531a19f237fbe9d868a5b5dc923ccf37" id="r_a531a19f237fbe9d868a5b5dc923ccf37"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a531a19f237fbe9d868a5b5dc923ccf37">test_cbow_neg</a> (self)</td></tr>
<tr class="separator:a531a19f237fbe9d868a5b5dc923ccf37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b91b27c55a5910d81ef0a6fdf54a5c5" id="r_a8b91b27c55a5910d81ef0a6fdf54a5c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a8b91b27c55a5910d81ef0a6fdf54a5c5">test_cbow_neg_fromfile</a> (self)</td></tr>
<tr class="separator:a8b91b27c55a5910d81ef0a6fdf54a5c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af73f0f279a3e1d1c7cfc93631ac3c3cf" id="r_af73f0f279a3e1d1c7cfc93631ac3c3cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#af73f0f279a3e1d1c7cfc93631ac3c3cf">test_cosmul</a> (self)</td></tr>
<tr class="separator:af73f0f279a3e1d1c7cfc93631ac3c3cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f9dc62ab8c81db0b7b4fe647e3707db" id="r_a6f9dc62ab8c81db0b7b4fe647e3707db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a6f9dc62ab8c81db0b7b4fe647e3707db">testTrainingCbow</a> (self)</td></tr>
<tr class="separator:a6f9dc62ab8c81db0b7b4fe647e3707db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa36f76ee4b02d5efb4e60f269b6bdd" id="r_a8fa36f76ee4b02d5efb4e60f269b6bdd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a8fa36f76ee4b02d5efb4e60f269b6bdd">testTrainingSgNegative</a> (self)</td></tr>
<tr class="separator:a8fa36f76ee4b02d5efb4e60f269b6bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42c0b06fc14ff9b32b99333baa7694b1" id="r_a42c0b06fc14ff9b32b99333baa7694b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a42c0b06fc14ff9b32b99333baa7694b1">testTrainingCbowNegative</a> (self)</td></tr>
<tr class="separator:a42c0b06fc14ff9b32b99333baa7694b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bb7770bdeb354b4298b03f6cedc288e" id="r_a8bb7770bdeb354b4298b03f6cedc288e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a8bb7770bdeb354b4298b03f6cedc288e">testSimilarities</a> (self)</td></tr>
<tr class="separator:a8bb7770bdeb354b4298b03f6cedc288e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a483167f0e6f6218cdcb2a0d51c480776" id="r_a483167f0e6f6218cdcb2a0d51c480776"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a483167f0e6f6218cdcb2a0d51c480776">testSimilarBy</a> (self)</td></tr>
<tr class="separator:a483167f0e6f6218cdcb2a0d51c480776"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9afa0ad1753a9cb3810afa9a1fac01a6" id="r_a9afa0ad1753a9cb3810afa9a1fac01a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a9afa0ad1753a9cb3810afa9a1fac01a6">testParallel</a> (self)</td></tr>
<tr class="separator:a9afa0ad1753a9cb3810afa9a1fac01a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c54e2433128d61ab49d115eb01ea7f0" id="r_a1c54e2433128d61ab49d115eb01ea7f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a1c54e2433128d61ab49d115eb01ea7f0">testRNG</a> (self)</td></tr>
<tr class="separator:a1c54e2433128d61ab49d115eb01ea7f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac779d41d3327b1ecc16caf7721e00322" id="r_ac779d41d3327b1ecc16caf7721e00322"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#ac779d41d3327b1ecc16caf7721e00322">models_equal</a> (self, model, model2)</td></tr>
<tr class="separator:ac779d41d3327b1ecc16caf7721e00322"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c5c842adbdcde41fb1ff7882a126b6b" id="r_a9c5c842adbdcde41fb1ff7882a126b6b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a9c5c842adbdcde41fb1ff7882a126b6b">testDeleteTemporaryTrainingData</a> (self)</td></tr>
<tr class="separator:a9c5c842adbdcde41fb1ff7882a126b6b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a398a2422aeffe58a78f8628da3a16537" id="r_a398a2422aeffe58a78f8628da3a16537"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a398a2422aeffe58a78f8628da3a16537">testNormalizeAfterTrainingData</a> (self)</td></tr>
<tr class="separator:a398a2422aeffe58a78f8628da3a16537"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1536abc1d274bf65c7f0adfe6915d088" id="r_a1536abc1d274bf65c7f0adfe6915d088"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a1536abc1d274bf65c7f0adfe6915d088">testPredictOutputWord</a> (self)</td></tr>
<tr class="separator:a1536abc1d274bf65c7f0adfe6915d088"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43d68ac38d3947b8675998388693c512" id="r_a43d68ac38d3947b8675998388693c512"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a43d68ac38d3947b8675998388693c512">testLoadOldModel</a> (self)</td></tr>
<tr class="separator:a43d68ac38d3947b8675998388693c512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a991d957622768552a84e6eacd6203c95" id="r_a991d957622768552a84e6eacd6203c95"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a991d957622768552a84e6eacd6203c95">testBuildVocabWarning</a> (self, l)</td></tr>
<tr class="separator:a991d957622768552a84e6eacd6203c95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf8b255ba2f915ca788b0842fbd213c1" id="r_adf8b255ba2f915ca788b0842fbd213c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#adf8b255ba2f915ca788b0842fbd213c1">testTrainWarning</a> (self, l)</td></tr>
<tr class="separator:adf8b255ba2f915ca788b0842fbd213c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06a461aab9589964459dbc70a650ea3a" id="r_a06a461aab9589964459dbc70a650ea3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a06a461aab9589964459dbc70a650ea3a">test_train_with_explicit_param</a> (self)</td></tr>
<tr class="separator:a06a461aab9589964459dbc70a650ea3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc65ba6a2e5594903f50f25e1b4ee8c" id="r_abdc65ba6a2e5594903f50f25e1b4ee8c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#abdc65ba6a2e5594903f50f25e1b4ee8c">test_sentences_should_not_be_a_generator</a> (self)</td></tr>
<tr class="separator:abdc65ba6a2e5594903f50f25e1b4ee8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5decc94de4f81b74e2f9269bd73ff674" id="r_a5decc94de4f81b74e2f9269bd73ff674"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#a5decc94de4f81b74e2f9269bd73ff674">testLoadOnClassError</a> (self)</td></tr>
<tr class="separator:a5decc94de4f81b74e2f9269bd73ff674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada2efbbe1f030d37b37e10cc3ae9d99" id="r_aada2efbbe1f030d37b37e10cc3ae9d99"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#aada2efbbe1f030d37b37e10cc3ae9d99">test_reset_from</a> (self)</td></tr>
<tr class="separator:aada2efbbe1f030d37b37e10cc3ae9d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab020f4060770c2d4686e891ce82b2bf" id="r_aab020f4060770c2d4686e891ce82b2bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1test_1_1test__word2vec_1_1_test_word2_vec_model.html#aab020f4060770c2d4686e891ce82b2bf">test_compute_training_loss</a> (self)</td></tr>
<tr class="separator:aab020f4060770c2d4686e891ce82b2bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac6c0bc6ead32e821c188bc2fa2298c3c" name="ac6c0bc6ead32e821c188bc2fa2298c3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6c0bc6ead32e821c188bc2fa2298c3c">&#9670;&#160;</a></span>model_sanity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.model_sanity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>train</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>with_corpus_file</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Even tiny models trained on LeeCorpus should pass these sanity checks</pre> <div class="fragment"><div class="line"><span class="lineno">  636</span>    <span class="keyword">def </span>model_sanity(self, model, train=True, with_corpus_file=False):</div>
<div class="line"><span class="lineno">  637</span>        <span class="stringliteral">&quot;&quot;&quot;Even tiny models trained on LeeCorpus should pass these sanity checks&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  638</span>        <span class="comment"># run extra before/after training tests if train=True</span></div>
<div class="line"><span class="lineno">  639</span>        <span class="keywordflow">if</span> train:</div>
<div class="line"><span class="lineno">  640</span>            model.build_vocab(list_corpus)</div>
<div class="line"><span class="lineno">  641</span>            orig0 = np.copy(model.wv.vectors[0])</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>            <span class="keywordflow">if</span> with_corpus_file:</div>
<div class="line"><span class="lineno">  644</span>                tmpfile = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  645</span>                utils.save_as_line_sentence(list_corpus, tmpfile)</div>
<div class="line"><span class="lineno">  646</span>                model.train(corpus_file=tmpfile, total_words=model.corpus_total_words, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  647</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  648</span>                model.train(list_corpus, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  649</span>            self.assertFalse((orig0 == model.wv.vectors[1]).all())  <span class="comment"># vector should vary after training</span></div>
<div class="line"><span class="lineno">  650</span>        sims = model.wv.most_similar(<span class="stringliteral">&#39;war&#39;</span>, topn=len(model.wv.index2word))</div>
<div class="line"><span class="lineno">  651</span>        t_rank = [word <span class="keywordflow">for</span> word, score <span class="keywordflow">in</span> sims].index(<span class="stringliteral">&#39;terrorism&#39;</span>)</div>
<div class="line"><span class="lineno">  652</span>        <span class="comment"># in &gt;200 calibration runs w/ calling parameters, &#39;terrorism&#39; in 50-most_sim for &#39;war&#39;</span></div>
<div class="line"><span class="lineno">  653</span>        self.assertLess(t_rank, 50)</div>
<div class="line"><span class="lineno">  654</span>        war_vec = model.wv[<span class="stringliteral">&#39;war&#39;</span>]</div>
<div class="line"><span class="lineno">  655</span>        sims2 = model.wv.most_similar([war_vec], topn=51)</div>
<div class="line"><span class="lineno">  656</span>        self.assertTrue(<span class="stringliteral">&#39;war&#39;</span> <span class="keywordflow">in</span> [word <span class="keywordflow">for</span> word, score <span class="keywordflow">in</span> sims2])</div>
<div class="line"><span class="lineno">  657</span>        self.assertTrue(<span class="stringliteral">&#39;terrorism&#39;</span> <span class="keywordflow">in</span> [word <span class="keywordflow">for</span> word, score <span class="keywordflow">in</span> sims2])</div>
<div class="line"><span class="lineno">  658</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac779d41d3327b1ecc16caf7721e00322" name="ac779d41d3327b1ecc16caf7721e00322"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac779d41d3327b1ecc16caf7721e00322">&#9670;&#160;</a></span>models_equal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.models_equal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  832</span>    <span class="keyword">def </span>models_equal(self, model, model2):</div>
<div class="line"><span class="lineno">  833</span>        self.assertEqual(len(model.wv.vocab), len(model2.wv.vocab))</div>
<div class="line"><span class="lineno">  834</span>        self.assertTrue(np.allclose(model.wv.vectors, model2.wv.vectors))</div>
<div class="line"><span class="lineno">  835</span>        <span class="keywordflow">if</span> model.hs:</div>
<div class="line"><span class="lineno">  836</span>            self.assertTrue(np.allclose(model.trainables.syn1, model2.trainables.syn1))</div>
<div class="line"><span class="lineno">  837</span>        <span class="keywordflow">if</span> model.negative:</div>
<div class="line"><span class="lineno">  838</span>            self.assertTrue(np.allclose(model.trainables.syn1neg, model2.trainables.syn1neg))</div>
<div class="line"><span class="lineno">  839</span>        most_common_word = max(model.wv.vocab.items(), key=<span class="keyword">lambda</span> item: item[1].count)[0]</div>
<div class="line"><span class="lineno">  840</span>        self.assertTrue(np.allclose(model.wv[most_common_word], model2.wv[most_common_word]))</div>
<div class="line"><span class="lineno">  841</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aff697fb3dee2c5608b98c9004445d72a" name="aff697fb3dee2c5608b98c9004445d72a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff697fb3dee2c5608b98c9004445d72a">&#9670;&#160;</a></span>onlineSanity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.onlineSanity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>trained_model</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  242</span>    <span class="keyword">def </span>onlineSanity(self, model, trained_model=False):</div>
<div class="line"><span class="lineno">  243</span>        terro, others = [], []</div>
<div class="line"><span class="lineno">  244</span>        <span class="keywordflow">for</span> l <span class="keywordflow">in</span> list_corpus:</div>
<div class="line"><span class="lineno">  245</span>            <span class="keywordflow">if</span> <span class="stringliteral">&#39;terrorism&#39;</span> <span class="keywordflow">in</span> l:</div>
<div class="line"><span class="lineno">  246</span>                terro.append(l)</div>
<div class="line"><span class="lineno">  247</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  248</span>                others.append(l)</div>
<div class="line"><span class="lineno">  249</span>        self.assertTrue(all(<span class="stringliteral">&#39;terrorism&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> l <span class="keywordflow">for</span> l <span class="keywordflow">in</span> others))</div>
<div class="line"><span class="lineno">  250</span>        model.build_vocab(others, update=trained_model)</div>
<div class="line"><span class="lineno">  251</span>        model.train(others, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  252</span>        self.assertFalse(<span class="stringliteral">&#39;terrorism&#39;</span> <span class="keywordflow">in</span> model.wv.vocab)</div>
<div class="line"><span class="lineno">  253</span>        model.build_vocab(terro, update=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  254</span>        self.assertTrue(<span class="stringliteral">&#39;terrorism&#39;</span> <span class="keywordflow">in</span> model.wv.vocab)</div>
<div class="line"><span class="lineno">  255</span>        orig0 = np.copy(model.wv.vectors)</div>
<div class="line"><span class="lineno">  256</span>        model.train(terro, total_examples=len(terro), epochs=model.epochs)</div>
<div class="line"><span class="lineno">  257</span>        self.assertFalse(np.allclose(model.wv.vectors, orig0))</div>
<div class="line"><span class="lineno">  258</span>        sim = model.wv.n_similarity([<span class="stringliteral">&#39;war&#39;</span>], [<span class="stringliteral">&#39;terrorism&#39;</span>])</div>
<div class="line"><span class="lineno">  259</span>        self.assertLess(0., sim)</div>
<div class="line"><span class="lineno">  260</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a99260c8d593cf5762c0eb11b6158b0d0" name="a99260c8d593cf5762c0eb11b6158b0d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99260c8d593cf5762c0eb11b6158b0d0">&#9670;&#160;</a></span>test_cbow_hs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_cbow_hs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test CBOW w/ hierarchical softmax</pre> <div class="fragment"><div class="line"><span class="lineno">  679</span>    <span class="keyword">def </span>test_cbow_hs(self):</div>
<div class="line"><span class="lineno">  680</span>        <span class="stringliteral">&quot;&quot;&quot;Test CBOW w/ hierarchical softmax&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  681</span>        model = word2vec.Word2Vec(</div>
<div class="line"><span class="lineno">  682</span>            sg=0, cbow_mean=1, alpha=0.05, window=8, hs=1, negative=0,</div>
<div class="line"><span class="lineno">  683</span>            min_count=5, iter=10, workers=2, batch_words=1000</div>
<div class="line"><span class="lineno">  684</span>        )</div>
<div class="line"><span class="lineno">  685</span>        self.model_sanity(model)</div>
<div class="line"><span class="lineno">  686</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acba96d0a9fba069798935c2ccafee904" name="acba96d0a9fba069798935c2ccafee904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acba96d0a9fba069798935c2ccafee904">&#9670;&#160;</a></span>test_cbow_hs_fromfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_cbow_hs_fromfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  688</span>    <span class="keyword">def </span>test_cbow_hs_fromfile(self):</div>
<div class="line"><span class="lineno">  689</span>        model = word2vec.Word2Vec(</div>
<div class="line"><span class="lineno">  690</span>            sg=0, cbow_mean=1, alpha=0.05, window=8, hs=1, negative=0,</div>
<div class="line"><span class="lineno">  691</span>            min_count=5, iter=10, workers=2, batch_words=1000</div>
<div class="line"><span class="lineno">  692</span>        )</div>
<div class="line"><span class="lineno">  693</span>        self.model_sanity(model, with_corpus_file=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  694</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3d2dfb2e11946008254844f07254e4c" name="ac3d2dfb2e11946008254844f07254e4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3d2dfb2e11946008254844f07254e4c">&#9670;&#160;</a></span>test_cbow_hs_online()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_cbow_hs_online </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test CBOW w/ hierarchical softmax</pre> <div class="fragment"><div class="line"><span class="lineno">  271</span>    <span class="keyword">def </span>test_cbow_hs_online(self):</div>
<div class="line"><span class="lineno">  272</span>        <span class="stringliteral">&quot;&quot;&quot;Test CBOW w/ hierarchical softmax&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  273</span>        model = word2vec.Word2Vec(</div>
<div class="line"><span class="lineno">  274</span>            sg=0, cbow_mean=1, alpha=0.05, window=5, hs=1, negative=0,</div>
<div class="line"><span class="lineno">  275</span>            min_count=3, iter=10, seed=42, workers=2</div>
<div class="line"><span class="lineno">  276</span>        )</div>
<div class="line"><span class="lineno">  277</span>        self.onlineSanity(model)</div>
<div class="line"><span class="lineno">  278</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a531a19f237fbe9d868a5b5dc923ccf37" name="a531a19f237fbe9d868a5b5dc923ccf37"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a531a19f237fbe9d868a5b5dc923ccf37">&#9670;&#160;</a></span>test_cbow_neg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_cbow_neg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test CBOW w/ negative sampling</pre> <div class="fragment"><div class="line"><span class="lineno">  695</span>    <span class="keyword">def </span>test_cbow_neg(self):</div>
<div class="line"><span class="lineno">  696</span>        <span class="stringliteral">&quot;&quot;&quot;Test CBOW w/ negative sampling&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  697</span>        model = word2vec.Word2Vec(</div>
<div class="line"><span class="lineno">  698</span>            sg=0, cbow_mean=1, alpha=0.05, window=5, hs=0, negative=15,</div>
<div class="line"><span class="lineno">  699</span>            min_count=5, iter=10, workers=2, sample=0</div>
<div class="line"><span class="lineno">  700</span>        )</div>
<div class="line"><span class="lineno">  701</span>        self.model_sanity(model)</div>
<div class="line"><span class="lineno">  702</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8b91b27c55a5910d81ef0a6fdf54a5c5" name="a8b91b27c55a5910d81ef0a6fdf54a5c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b91b27c55a5910d81ef0a6fdf54a5c5">&#9670;&#160;</a></span>test_cbow_neg_fromfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_cbow_neg_fromfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  704</span>    <span class="keyword">def </span>test_cbow_neg_fromfile(self):</div>
<div class="line"><span class="lineno">  705</span>        model = word2vec.Word2Vec(</div>
<div class="line"><span class="lineno">  706</span>            sg=0, cbow_mean=1, alpha=0.05, window=5, hs=0, negative=15,</div>
<div class="line"><span class="lineno">  707</span>            min_count=5, iter=10, workers=2, sample=0</div>
<div class="line"><span class="lineno">  708</span>        )</div>
<div class="line"><span class="lineno">  709</span>        self.model_sanity(model, with_corpus_file=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  710</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e823084a6b607977d050c59005506fe" name="a0e823084a6b607977d050c59005506fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e823084a6b607977d050c59005506fe">&#9670;&#160;</a></span>test_cbow_neg_online()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_cbow_neg_online </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test CBOW w/ negative sampling</pre> <div class="fragment"><div class="line"><span class="lineno">  279</span>    <span class="keyword">def </span>test_cbow_neg_online(self):</div>
<div class="line"><span class="lineno">  280</span>        <span class="stringliteral">&quot;&quot;&quot;Test CBOW w/ negative sampling&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  281</span>        model = word2vec.Word2Vec(</div>
<div class="line"><span class="lineno">  282</span>            sg=0, cbow_mean=1, alpha=0.05, window=5, hs=0, negative=15,</div>
<div class="line"><span class="lineno">  283</span>            min_count=5, iter=10, seed=42, workers=2, sample=0</div>
<div class="line"><span class="lineno">  284</span>        )</div>
<div class="line"><span class="lineno">  285</span>        self.onlineSanity(model)</div>
<div class="line"><span class="lineno">  286</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aab020f4060770c2d4686e891ce82b2bf" name="aab020f4060770c2d4686e891ce82b2bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab020f4060770c2d4686e891ce82b2bf">&#9670;&#160;</a></span>test_compute_training_loss()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_compute_training_loss </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1012</span>    <span class="keyword">def </span>test_compute_training_loss(self):</div>
<div class="line"><span class="lineno"> 1013</span>        model = word2vec.Word2Vec(min_count=1, sg=1, negative=5, hs=1)</div>
<div class="line"><span class="lineno"> 1014</span>        model.build_vocab(sentences)</div>
<div class="line"><span class="lineno"> 1015</span>        model.train(sentences, compute_loss=<span class="keyword">True</span>, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno"> 1016</span>        training_loss_val = model.get_latest_training_loss()</div>
<div class="line"><span class="lineno"> 1017</span>        self.assertTrue(training_loss_val &gt; 0.0)</div>
<div class="line"><span class="lineno"> 1018</span> </div>
<div class="line"><span class="lineno"> 1019</span> </div>
<div class="line"><span class="lineno"> 1020</span><span class="comment"># endclass TestWord2VecModel</span></div>
<div class="line"><span class="lineno"> 1021</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af73f0f279a3e1d1c7cfc93631ac3c3cf" name="af73f0f279a3e1d1c7cfc93631ac3c3cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af73f0f279a3e1d1c7cfc93631ac3c3cf">&#9670;&#160;</a></span>test_cosmul()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_cosmul </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  711</span>    <span class="keyword">def </span>test_cosmul(self):</div>
<div class="line"><span class="lineno">  712</span>        model = word2vec.Word2Vec(sentences, size=2, min_count=1, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  713</span>        sims = model.wv.most_similar_cosmul(<span class="stringliteral">&#39;graph&#39;</span>, topn=10)</div>
<div class="line"><span class="lineno">  714</span>        <span class="comment"># self.assertTrue(sims[0][0] == &#39;trees&#39;, sims)  # most similar</span></div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>        <span class="comment"># test querying for &quot;most similar&quot; by vector</span></div>
<div class="line"><span class="lineno">  717</span>        graph_vector = model.wv.vectors_norm[model.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].index]</div>
<div class="line"><span class="lineno">  718</span>        sims2 = model.wv.most_similar_cosmul(positive=[graph_vector], topn=11)</div>
<div class="line"><span class="lineno">  719</span>        sims2 = [(w, sim) <span class="keywordflow">for</span> w, sim <span class="keywordflow">in</span> sims2 <span class="keywordflow">if</span> w != <span class="stringliteral">&#39;graph&#39;</span>]  <span class="comment"># ignore &#39;graph&#39; itself</span></div>
<div class="line"><span class="lineno">  720</span>        self.assertEqual(sims, sims2)</div>
<div class="line"><span class="lineno">  721</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aada2efbbe1f030d37b37e10cc3ae9d99" name="aada2efbbe1f030d37b37e10cc3ae9d99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aada2efbbe1f030d37b37e10cc3ae9d99">&#9670;&#160;</a></span>test_reset_from()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_reset_from </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test if reset_from() uses pre-built structures from other model</pre> <div class="fragment"><div class="line"><span class="lineno"> 1004</span>    <span class="keyword">def </span>test_reset_from(self):</div>
<div class="line"><span class="lineno"> 1005</span>        <span class="stringliteral">&quot;&quot;&quot;Test if reset_from() uses pre-built structures from other model&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1006</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno"> 1007</span>        other_model = word2vec.Word2Vec(new_sentences, min_count=1)</div>
<div class="line"><span class="lineno"> 1008</span>        other_vocab = other_model.wv.vocab</div>
<div class="line"><span class="lineno"> 1009</span>        model.reset_from(other_model)</div>
<div class="line"><span class="lineno"> 1010</span>        self.assertEqual(model.wv.vocab, other_vocab)</div>
<div class="line"><span class="lineno"> 1011</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abdc65ba6a2e5594903f50f25e1b4ee8c" name="abdc65ba6a2e5594903f50f25e1b4ee8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc65ba6a2e5594903f50f25e1b4ee8c">&#9670;&#160;</a></span>test_sentences_should_not_be_a_generator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_sentences_should_not_be_a_generator </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Is sentences a generator object?
</pre> <div class="fragment"><div class="line"><span class="lineno">  993</span>    <span class="keyword">def </span>test_sentences_should_not_be_a_generator(self):</div>
<div class="line"><span class="lineno">  994</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  995</span><span class="stringliteral">        Is sentences a generator object?</span></div>
<div class="line"><span class="lineno">  996</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  997</span>        gen = (s <span class="keywordflow">for</span> s <span class="keywordflow">in</span> sentences)</div>
<div class="line"><span class="lineno">  998</span>        self.assertRaises(TypeError, word2vec.Word2Vec, (gen,))</div>
<div class="line"><span class="lineno">  999</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cf5dd4f1e122de2092e7ac988ece6ea" name="a2cf5dd4f1e122de2092e7ac988ece6ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cf5dd4f1e122de2092e7ac988ece6ea">&#9670;&#160;</a></span>test_sg_hs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_sg_hs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test skipgram w/ hierarchical softmax</pre> <div class="fragment"><div class="line"><span class="lineno">  659</span>    <span class="keyword">def </span>test_sg_hs(self):</div>
<div class="line"><span class="lineno">  660</span>        <span class="stringliteral">&quot;&quot;&quot;Test skipgram w/ hierarchical softmax&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  661</span>        model = word2vec.Word2Vec(sg=1, window=4, hs=1, negative=0, min_count=5, iter=10, workers=2)</div>
<div class="line"><span class="lineno">  662</span>        self.model_sanity(model)</div>
<div class="line"><span class="lineno">  663</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8355f0040fb9a4c63e74225a7a9eff59" name="a8355f0040fb9a4c63e74225a7a9eff59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8355f0040fb9a4c63e74225a7a9eff59">&#9670;&#160;</a></span>test_sg_hs_fromfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_sg_hs_fromfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  665</span>    <span class="keyword">def </span>test_sg_hs_fromfile(self):</div>
<div class="line"><span class="lineno">  666</span>        model = word2vec.Word2Vec(sg=1, window=4, hs=1, negative=0, min_count=5, iter=10, workers=2)</div>
<div class="line"><span class="lineno">  667</span>        self.model_sanity(model, with_corpus_file=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  668</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a967a09b31fe873e71cd42f9b6c0c5133" name="a967a09b31fe873e71cd42f9b6c0c5133"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a967a09b31fe873e71cd42f9b6c0c5133">&#9670;&#160;</a></span>test_sg_hs_online()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_sg_hs_online </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test skipgram w/ hierarchical softmax</pre> <div class="fragment"><div class="line"><span class="lineno">  261</span>    <span class="keyword">def </span>test_sg_hs_online(self):</div>
<div class="line"><span class="lineno">  262</span>        <span class="stringliteral">&quot;&quot;&quot;Test skipgram w/ hierarchical softmax&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  263</span>        model = word2vec.Word2Vec(sg=1, window=5, hs=1, negative=0, min_count=3, iter=10, seed=42, workers=2)</div>
<div class="line"><span class="lineno">  264</span>        self.onlineSanity(model)</div>
<div class="line"><span class="lineno">  265</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adfe4b4afd8b47c5695f6b515b7f4644b" name="adfe4b4afd8b47c5695f6b515b7f4644b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfe4b4afd8b47c5695f6b515b7f4644b">&#9670;&#160;</a></span>test_sg_neg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_sg_neg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test skipgram w/ negative sampling</pre> <div class="fragment"><div class="line"><span class="lineno">  669</span>    <span class="keyword">def </span>test_sg_neg(self):</div>
<div class="line"><span class="lineno">  670</span>        <span class="stringliteral">&quot;&quot;&quot;Test skipgram w/ negative sampling&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  671</span>        model = word2vec.Word2Vec(sg=1, window=4, hs=0, negative=15, min_count=5, iter=10, workers=2)</div>
<div class="line"><span class="lineno">  672</span>        self.model_sanity(model)</div>
<div class="line"><span class="lineno">  673</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b48e45de0ae7b29e62bef35726ee86d" name="a4b48e45de0ae7b29e62bef35726ee86d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b48e45de0ae7b29e62bef35726ee86d">&#9670;&#160;</a></span>test_sg_neg_fromfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_sg_neg_fromfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  675</span>    <span class="keyword">def </span>test_sg_neg_fromfile(self):</div>
<div class="line"><span class="lineno">  676</span>        model = word2vec.Word2Vec(sg=1, window=4, hs=0, negative=15, min_count=5, iter=10, workers=2)</div>
<div class="line"><span class="lineno">  677</span>        self.model_sanity(model, with_corpus_file=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  678</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a31732a958c13998b93d79ad8c5edada8" name="a31732a958c13998b93d79ad8c5edada8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31732a958c13998b93d79ad8c5edada8">&#9670;&#160;</a></span>test_sg_neg_online()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_sg_neg_online </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test skipgram w/ negative sampling</pre> <div class="fragment"><div class="line"><span class="lineno">  266</span>    <span class="keyword">def </span>test_sg_neg_online(self):</div>
<div class="line"><span class="lineno">  267</span>        <span class="stringliteral">&quot;&quot;&quot;Test skipgram w/ negative sampling&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  268</span>        model = word2vec.Word2Vec(sg=1, window=4, hs=0, negative=15, min_count=3, iter=10, seed=42, workers=2)</div>
<div class="line"><span class="lineno">  269</span>        self.onlineSanity(model)</div>
<div class="line"><span class="lineno">  270</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a06a461aab9589964459dbc70a650ea3a" name="a06a461aab9589964459dbc70a650ea3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06a461aab9589964459dbc70a650ea3a">&#9670;&#160;</a></span>test_train_with_explicit_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.test_train_with_explicit_param </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  981</span>    <span class="keyword">def </span>test_train_with_explicit_param(self):</div>
<div class="line"><span class="lineno">  982</span>        model = word2vec.Word2Vec(size=2, min_count=1, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  983</span>        model.build_vocab(sentences)</div>
<div class="line"><span class="lineno">  984</span>        <span class="keyword">with</span> self.assertRaises(ValueError):</div>
<div class="line"><span class="lineno">  985</span>            model.train(sentences, total_examples=model.corpus_count)</div>
<div class="line"><span class="lineno">  986</span> </div>
<div class="line"><span class="lineno">  987</span>        <span class="keyword">with</span> self.assertRaises(ValueError):</div>
<div class="line"><span class="lineno">  988</span>            model.train(sentences, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  989</span> </div>
<div class="line"><span class="lineno">  990</span>        <span class="keyword">with</span> self.assertRaises(ValueError):</div>
<div class="line"><span class="lineno">  991</span>            model.train(sentences)</div>
<div class="line"><span class="lineno">  992</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ace73eb034edbf17316b4f938291d0b01" name="ace73eb034edbf17316b4f938291d0b01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace73eb034edbf17316b4f938291d0b01">&#9670;&#160;</a></span>testBuildVocabFromFreq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testBuildVocabFromFreq </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that the algorithm is able to build vocabulary from given
frequency table</pre> <div class="fragment"><div class="line"><span class="lineno">   69</span>    <span class="keyword">def </span>testBuildVocabFromFreq(self):</div>
<div class="line"><span class="lineno">   70</span>        <span class="stringliteral">&quot;&quot;&quot;Test that the algorithm is able to build vocabulary from given</span></div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">        frequency table&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   72</span>        freq_dict = {</div>
<div class="line"><span class="lineno">   73</span>        <span class="stringliteral">&#39;minors&#39;</span>: 2, <span class="stringliteral">&#39;graph&#39;</span>: 3, <span class="stringliteral">&#39;system&#39;</span>: 4,</div>
<div class="line"><span class="lineno">   74</span>        <span class="stringliteral">&#39;trees&#39;</span>: 3, <span class="stringliteral">&#39;eps&#39;</span>: 2, <span class="stringliteral">&#39;computer&#39;</span>: 2,</div>
<div class="line"><span class="lineno">   75</span>        <span class="stringliteral">&#39;survey&#39;</span>: 2, <span class="stringliteral">&#39;user&#39;</span>: 3, <span class="stringliteral">&#39;human&#39;</span>: 2,</div>
<div class="line"><span class="lineno">   76</span>        <span class="stringliteral">&#39;time&#39;</span>: 2, <span class="stringliteral">&#39;interface&#39;</span>: 2, <span class="stringliteral">&#39;response&#39;</span>: 2</div>
<div class="line"><span class="lineno">   77</span>        }</div>
<div class="line"><span class="lineno">   78</span>        model_hs = word2vec.Word2Vec(size=10, min_count=0, seed=42, hs=1, negative=0)</div>
<div class="line"><span class="lineno">   79</span>        model_neg = word2vec.Word2Vec(size=10, min_count=0, seed=42, hs=0, negative=5)</div>
<div class="line"><span class="lineno">   80</span>        model_hs.build_vocab_from_freq(freq_dict)</div>
<div class="line"><span class="lineno">   81</span>        model_neg.build_vocab_from_freq(freq_dict)</div>
<div class="line"><span class="lineno">   82</span>        self.assertEqual(len(model_hs.wv.vocab), 12)</div>
<div class="line"><span class="lineno">   83</span>        self.assertEqual(len(model_neg.wv.vocab), 12)</div>
<div class="line"><span class="lineno">   84</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;minors&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">   85</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">   86</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;system&#39;</span>].count, 4)</div>
<div class="line"><span class="lineno">   87</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;trees&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">   88</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;eps&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">   89</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;computer&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">   90</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;survey&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">   91</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;user&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">   92</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;human&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">   93</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;time&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">   94</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;interface&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">   95</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;response&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">   96</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;minors&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">   97</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">   98</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;system&#39;</span>].count, 4)</div>
<div class="line"><span class="lineno">   99</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;trees&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">  100</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;eps&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">  101</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;computer&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">  102</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;survey&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">  103</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;user&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">  104</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;human&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">  105</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;time&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">  106</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;interface&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">  107</span>        self.assertEqual(model_neg.wv.vocab[<span class="stringliteral">&#39;response&#39;</span>].count, 2)</div>
<div class="line"><span class="lineno">  108</span>        new_freq_dict = {</div>
<div class="line"><span class="lineno">  109</span>            <span class="stringliteral">&#39;computer&#39;</span>: 1, <span class="stringliteral">&#39;artificial&#39;</span>: 4, <span class="stringliteral">&#39;human&#39;</span>: 1, <span class="stringliteral">&#39;graph&#39;</span>: 1, <span class="stringliteral">&#39;intelligence&#39;</span>: 4, <span class="stringliteral">&#39;system&#39;</span>: 1, <span class="stringliteral">&#39;trees&#39;</span>: 1</div>
<div class="line"><span class="lineno">  110</span>        }</div>
<div class="line"><span class="lineno">  111</span>        model_hs.build_vocab_from_freq(new_freq_dict, update=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  112</span>        model_neg.build_vocab_from_freq(new_freq_dict, update=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  113</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].count, 4)</div>
<div class="line"><span class="lineno">  114</span>        self.assertEqual(model_hs.wv.vocab[<span class="stringliteral">&#39;artificial&#39;</span>].count, 4)</div>
<div class="line"><span class="lineno">  115</span>        self.assertEqual(len(model_hs.wv.vocab), 14)</div>
<div class="line"><span class="lineno">  116</span>        self.assertEqual(len(model_neg.wv.vocab), 14)</div>
<div class="line"><span class="lineno">  117</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a991d957622768552a84e6eacd6203c95" name="a991d957622768552a84e6eacd6203c95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a991d957622768552a84e6eacd6203c95">&#9670;&#160;</a></span>testBuildVocabWarning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testBuildVocabWarning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>l</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test if warning is raised on non-ideal input to a word2vec model</pre> <div class="fragment"><div class="line"><span class="lineno">  955</span>    <span class="keyword">def </span>testBuildVocabWarning(self, l):</div>
<div class="line"><span class="lineno">  956</span>        <span class="stringliteral">&quot;&quot;&quot;Test if warning is raised on non-ideal input to a word2vec model&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  957</span>        sentences = [<span class="stringliteral">&#39;human&#39;</span>, <span class="stringliteral">&#39;machine&#39;</span>]</div>
<div class="line"><span class="lineno">  958</span>        model = word2vec.Word2Vec()</div>
<div class="line"><span class="lineno">  959</span>        model.build_vocab(sentences)</div>
<div class="line"><span class="lineno">  960</span>        warning = <span class="stringliteral">&quot;Each &#39;sentences&#39; item should be a list of words (usually unicode strings).&quot;</span></div>
<div class="line"><span class="lineno">  961</span>        self.assertTrue(warning <span class="keywordflow">in</span> str(l))</div>
<div class="line"><span class="lineno">  962</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9c5c842adbdcde41fb1ff7882a126b6b" name="a9c5c842adbdcde41fb1ff7882a126b6b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c5c842adbdcde41fb1ff7882a126b6b">&#9670;&#160;</a></span>testDeleteTemporaryTrainingData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testDeleteTemporaryTrainingData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test word2vec model after delete_temporary_training_data</pre> <div class="fragment"><div class="line"><span class="lineno">  842</span>    <span class="keyword">def </span>testDeleteTemporaryTrainingData(self):</div>
<div class="line"><span class="lineno">  843</span>        <span class="stringliteral">&quot;&quot;&quot;Test word2vec model after delete_temporary_training_data&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  844</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [0, 1]:</div>
<div class="line"><span class="lineno">  845</span>            <span class="keywordflow">for</span> j <span class="keywordflow">in</span> [0, 1]:</div>
<div class="line"><span class="lineno">  846</span>                model = word2vec.Word2Vec(sentences, size=10, min_count=0, seed=42, hs=i, negative=j)</div>
<div class="line"><span class="lineno">  847</span>                <span class="keywordflow">if</span> i:</div>
<div class="line"><span class="lineno">  848</span>                    self.assertTrue(hasattr(model.trainables, <span class="stringliteral">&#39;syn1&#39;</span>))</div>
<div class="line"><span class="lineno">  849</span>                <span class="keywordflow">if</span> j:</div>
<div class="line"><span class="lineno">  850</span>                    self.assertTrue(hasattr(model, <span class="stringliteral">&#39;syn1neg&#39;</span>))</div>
<div class="line"><span class="lineno">  851</span>                self.assertTrue(hasattr(model, <span class="stringliteral">&#39;syn0_lockf&#39;</span>))</div>
<div class="line"><span class="lineno">  852</span>                model.delete_temporary_training_data(replace_word_vectors_with_normalized=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  853</span>                self.assertTrue(len(model.wv[<span class="stringliteral">&#39;human&#39;</span>]), 10)</div>
<div class="line"><span class="lineno">  854</span>                self.assertTrue(len(model.wv.vocab), 12)</div>
<div class="line"><span class="lineno">  855</span>                self.assertTrue(model.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">  856</span>                self.assertTrue(<span class="keywordflow">not</span> hasattr(model.trainables, <span class="stringliteral">&#39;syn1&#39;</span>))</div>
<div class="line"><span class="lineno">  857</span>                self.assertTrue(<span class="keywordflow">not</span> hasattr(model.trainables, <span class="stringliteral">&#39;syn1neg&#39;</span>))</div>
<div class="line"><span class="lineno">  858</span>                self.assertTrue(<span class="keywordflow">not</span> hasattr(model.trainables, <span class="stringliteral">&#39;syn0_lockf&#39;</span>))</div>
<div class="line"><span class="lineno">  859</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ecfeb1181d072eb8542361be65295d8" name="a8ecfeb1181d072eb8542361be65295d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ecfeb1181d072eb8542361be65295d8">&#9670;&#160;</a></span>testEvaluateWordAnalogies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testEvaluateWordAnalogies </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that evaluating analogies on KeyedVectors give sane results</pre> <div class="fragment"><div class="line"><span class="lineno">  596</span>    <span class="keyword">def </span>testEvaluateWordAnalogies(self):</div>
<div class="line"><span class="lineno">  597</span>        <span class="stringliteral">&quot;&quot;&quot;Test that evaluating analogies on KeyedVectors give sane results&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  598</span>        model = word2vec.Word2Vec(LeeCorpus())</div>
<div class="line"><span class="lineno">  599</span>        score, sections = model.wv.evaluate_word_analogies(datapath(<span class="stringliteral">&#39;questions-words.txt&#39;</span>))</div>
<div class="line"><span class="lineno">  600</span>        self.assertGreaterEqual(score, 0.0)</div>
<div class="line"><span class="lineno">  601</span>        self.assertLessEqual(score, 1.0)</div>
<div class="line"><span class="lineno">  602</span>        self.assertGreater(len(sections), 0)</div>
<div class="line"><span class="lineno">  603</span>        <span class="comment"># Check that dict contains the right keys</span></div>
<div class="line"><span class="lineno">  604</span>        first_section = sections[0]</div>
<div class="line"><span class="lineno">  605</span>        self.assertIn(<span class="stringliteral">&#39;section&#39;</span>, first_section)</div>
<div class="line"><span class="lineno">  606</span>        self.assertIn(<span class="stringliteral">&#39;correct&#39;</span>, first_section)</div>
<div class="line"><span class="lineno">  607</span>        self.assertIn(<span class="stringliteral">&#39;incorrect&#39;</span>, first_section)</div>
<div class="line"><span class="lineno">  608</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adf89cef94079427e291111912e898d26" name="adf89cef94079427e291111912e898d26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf89cef94079427e291111912e898d26">&#9670;&#160;</a></span>testEvaluateWordPairs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testEvaluateWordPairs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test Spearman and Pearson correlation coefficients give sane results on similarity datasets</pre> <div class="fragment"><div class="line"><span class="lineno">  609</span>    <span class="keyword">def </span>testEvaluateWordPairs(self):</div>
<div class="line"><span class="lineno">  610</span>        <span class="stringliteral">&quot;&quot;&quot;Test Spearman and Pearson correlation coefficients give sane results on similarity datasets&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  611</span>        corpus = word2vec.LineSentence(datapath(<span class="stringliteral">&#39;head500.noblanks.cor.bz2&#39;</span>))</div>
<div class="line"><span class="lineno">  612</span>        model = word2vec.Word2Vec(corpus, min_count=3, iter=10)</div>
<div class="line"><span class="lineno">  613</span>        correlation = model.wv.evaluate_word_pairs(datapath(<span class="stringliteral">&#39;wordsim353.tsv&#39;</span>))</div>
<div class="line"><span class="lineno">  614</span>        pearson = correlation[0][0]</div>
<div class="line"><span class="lineno">  615</span>        spearman = correlation[1][0]</div>
<div class="line"><span class="lineno">  616</span>        oov = correlation[2]</div>
<div class="line"><span class="lineno">  617</span>        self.assertTrue(0.1 &lt; pearson &lt; 1.0)</div>
<div class="line"><span class="lineno">  618</span>        self.assertTrue(0.1 &lt; spearman &lt; 1.0)</div>
<div class="line"><span class="lineno">  619</span>        self.assertTrue(0.0 &lt;= oov &lt; 90.0)</div>
<div class="line"><span class="lineno">  620</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac35142c9c01e1ec93f49308e1796cd19" name="ac35142c9c01e1ec93f49308e1796cd19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac35142c9c01e1ec93f49308e1796cd19">&#9670;&#160;</a></span>testEvaluateWordPairsFromFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testEvaluateWordPairsFromFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test Spearman and Pearson correlation coefficients give sane results on similarity datasets</pre> <div class="fragment"><div class="line"><span class="lineno">  622</span>    <span class="keyword">def </span>testEvaluateWordPairsFromFile(self):</div>
<div class="line"><span class="lineno">  623</span>        <span class="stringliteral">&quot;&quot;&quot;Test Spearman and Pearson correlation coefficients give sane results on similarity datasets&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  624</span>        <span class="keyword">with</span> temporary_file(get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)) <span class="keyword">as</span> tf:</div>
<div class="line"><span class="lineno">  625</span>            utils.save_as_line_sentence(word2vec.LineSentence(datapath(<span class="stringliteral">&#39;head500.noblanks.cor.bz2&#39;</span>)), tf)</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>            model = word2vec.Word2Vec(corpus_file=tf, min_count=3, iter=10)</div>
<div class="line"><span class="lineno">  628</span>            correlation = model.wv.evaluate_word_pairs(datapath(<span class="stringliteral">&#39;wordsim353.tsv&#39;</span>))</div>
<div class="line"><span class="lineno">  629</span>            pearson = correlation[0][0]</div>
<div class="line"><span class="lineno">  630</span>            spearman = correlation[1][0]</div>
<div class="line"><span class="lineno">  631</span>            oov = correlation[2]</div>
<div class="line"><span class="lineno">  632</span>            self.assertTrue(0.1 &lt; pearson &lt; 1.0)</div>
<div class="line"><span class="lineno">  633</span>            self.assertTrue(0.1 &lt; spearman &lt; 1.0)</div>
<div class="line"><span class="lineno">  634</span>            self.assertTrue(0.0 &lt;= oov &lt; 90.0)</div>
<div class="line"><span class="lineno">  635</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a644184fdb33dd096c0967854d67acb1f" name="a644184fdb33dd096c0967854d67acb1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a644184fdb33dd096c0967854d67acb1f">&#9670;&#160;</a></span>testLambdaRule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testLambdaRule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that lambda trim_rule works.</pre> <div class="fragment"><div class="line"><span class="lineno">  337</span>    <span class="keyword">def </span>testLambdaRule(self):</div>
<div class="line"><span class="lineno">  338</span>        <span class="stringliteral">&quot;&quot;&quot;Test that lambda trim_rule works.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  339</span>        <span class="keyword">def </span>rule(word, count, min_count):</div>
<div class="line"><span class="lineno">  340</span>            <span class="keywordflow">return</span> utils.RULE_DISCARD <span class="keywordflow">if</span> word == <span class="stringliteral">&quot;human&quot;</span> <span class="keywordflow">else</span> utils.RULE_DEFAULT</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>        model = word2vec.Word2Vec(sentences, min_count=1, trim_rule=rule)</div>
<div class="line"><span class="lineno">  343</span>        self.assertTrue(<span class="stringliteral">&quot;human&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> model.wv.vocab)</div>
<div class="line"><span class="lineno">  344</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6bc2a02c5119f727e7988f4e53e1fb9d" name="a6bc2a02c5119f727e7988f4e53e1fb9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bc2a02c5119f727e7988f4e53e1fb9d">&#9670;&#160;</a></span>testLargeMmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testLargeMmap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test storing/loading the entire model.</pre> <div class="fragment"><div class="line"><span class="lineno">  485</span>    <span class="keyword">def </span>testLargeMmap(self):</div>
<div class="line"><span class="lineno">  486</span>        <span class="stringliteral">&quot;&quot;&quot;Test storing/loading the entire model.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  487</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  488</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>        <span class="comment"># test storing the internal arrays into separate files</span></div>
<div class="line"><span class="lineno">  491</span>        model.save(tmpf, sep_limit=0)</div>
<div class="line"><span class="lineno">  492</span>        self.models_equal(model, word2vec.Word2Vec.load(tmpf))</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>        <span class="comment"># make sure mmaping the arrays back works, too</span></div>
<div class="line"><span class="lineno">  495</span>        self.models_equal(model, word2vec.Word2Vec.load(tmpf, mmap=<span class="stringliteral">&#39;r&#39;</span>))</div>
<div class="line"><span class="lineno">  496</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a43d68ac38d3947b8675998388693c512" name="a43d68ac38d3947b8675998388693c512"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a43d68ac38d3947b8675998388693c512">&#9670;&#160;</a></span>testLoadOldModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testLoadOldModel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test loading word2vec models from previous version</pre> <div class="fragment"><div class="line"><span class="lineno">  892</span>    <span class="keyword">def </span>testLoadOldModel(self):</div>
<div class="line"><span class="lineno">  893</span>        <span class="stringliteral">&quot;&quot;&quot;Test loading word2vec models from previous version&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>        model_file = <span class="stringliteral">&#39;word2vec_old&#39;</span></div>
<div class="line"><span class="lineno">  896</span>        model = word2vec.Word2Vec.load(datapath(model_file))</div>
<div class="line"><span class="lineno">  897</span>        self.assertTrue(model.wv.vectors.shape == (12, 100))</div>
<div class="line"><span class="lineno">  898</span>        self.assertTrue(len(model.wv.vocab) == 12)</div>
<div class="line"><span class="lineno">  899</span>        self.assertTrue(len(model.wv.index2word) == 12)</div>
<div class="line"><span class="lineno">  900</span>        self.assertTrue(model.trainables.syn1neg.shape == (len(model.wv.vocab), model.wv.vector_size))</div>
<div class="line"><span class="lineno">  901</span>        self.assertTrue(model.trainables.vectors_lockf.shape == (12,))</div>
<div class="line"><span class="lineno">  902</span>        self.assertTrue(model.vocabulary.cum_table.shape == (12,))</div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span>        self.onlineSanity(model, trained_model=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>        <span class="comment"># Model stored in multiple files</span></div>
<div class="line"><span class="lineno">  907</span>        model_file = <span class="stringliteral">&#39;word2vec_old_sep&#39;</span></div>
<div class="line"><span class="lineno">  908</span>        model = word2vec.Word2Vec.load(datapath(model_file))</div>
<div class="line"><span class="lineno">  909</span>        self.assertTrue(model.wv.vectors.shape == (12, 100))</div>
<div class="line"><span class="lineno">  910</span>        self.assertTrue(len(model.wv.vocab) == 12)</div>
<div class="line"><span class="lineno">  911</span>        self.assertTrue(len(model.wv.index2word) == 12)</div>
<div class="line"><span class="lineno">  912</span>        self.assertTrue(model.trainables.syn1neg.shape == (len(model.wv.vocab), model.wv.vector_size))</div>
<div class="line"><span class="lineno">  913</span>        self.assertTrue(model.trainables.vectors_lockf.shape == (12,))</div>
<div class="line"><span class="lineno">  914</span>        self.assertTrue(model.vocabulary.cum_table.shape == (12,))</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>        self.onlineSanity(model, trained_model=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>        <span class="comment"># load really old model</span></div>
<div class="line"><span class="lineno">  919</span>        model_file = <span class="stringliteral">&#39;w2v-lee-v0.12.0&#39;</span></div>
<div class="line"><span class="lineno">  920</span>        model = word2vec.Word2Vec.load(datapath(model_file))</div>
<div class="line"><span class="lineno">  921</span>        self.onlineSanity(model, trained_model=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span>        <span class="comment"># test for max_final_vocab for model saved in 3.3</span></div>
<div class="line"><span class="lineno">  924</span>        model_file = <span class="stringliteral">&#39;word2vec_3.3&#39;</span></div>
<div class="line"><span class="lineno">  925</span>        model = word2vec.Word2Vec.load(datapath(model_file))</div>
<div class="line"><span class="lineno">  926</span>        self.assertEqual(model.max_final_vocab, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  927</span>        self.assertEqual(model.vocabulary.max_final_vocab, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  928</span> </div>
<div class="line"><span class="lineno">  929</span>        <span class="comment"># Test loading word2vec models from all previous versions</span></div>
<div class="line"><span class="lineno">  930</span>        old_versions = [</div>
<div class="line"><span class="lineno">  931</span>            <span class="stringliteral">&#39;0.12.0&#39;</span>, <span class="stringliteral">&#39;0.12.1&#39;</span>, <span class="stringliteral">&#39;0.12.2&#39;</span>, <span class="stringliteral">&#39;0.12.3&#39;</span>, <span class="stringliteral">&#39;0.12.4&#39;</span>,</div>
<div class="line"><span class="lineno">  932</span>            <span class="stringliteral">&#39;0.13.0&#39;</span>, <span class="stringliteral">&#39;0.13.1&#39;</span>, <span class="stringliteral">&#39;0.13.2&#39;</span>, <span class="stringliteral">&#39;0.13.3&#39;</span>, <span class="stringliteral">&#39;0.13.4&#39;</span>,</div>
<div class="line"><span class="lineno">  933</span>            <span class="stringliteral">&#39;1.0.0&#39;</span>, <span class="stringliteral">&#39;1.0.1&#39;</span>, <span class="stringliteral">&#39;2.0.0&#39;</span>, <span class="stringliteral">&#39;2.1.0&#39;</span>, <span class="stringliteral">&#39;2.2.0&#39;</span>, <span class="stringliteral">&#39;2.3.0&#39;</span>,</div>
<div class="line"><span class="lineno">  934</span>            <span class="stringliteral">&#39;3.0.0&#39;</span>, <span class="stringliteral">&#39;3.1.0&#39;</span>, <span class="stringliteral">&#39;3.2.0&#39;</span>, <span class="stringliteral">&#39;3.3.0&#39;</span>, <span class="stringliteral">&#39;3.4.0&#39;</span></div>
<div class="line"><span class="lineno">  935</span>        ]</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>        saved_models_dir = datapath(<span class="stringliteral">&#39;old_w2v_models/w2v_{}.mdl&#39;</span>)</div>
<div class="line"><span class="lineno">  938</span>        <span class="keywordflow">for</span> old_version <span class="keywordflow">in</span> old_versions:</div>
<div class="line"><span class="lineno">  939</span>            model = word2vec.Word2Vec.load(saved_models_dir.format(old_version))</div>
<div class="line"><span class="lineno">  940</span>            self.assertIsNone(model.corpus_total_words)</div>
<div class="line"><span class="lineno">  941</span>            self.assertTrue(len(model.wv.vocab) == 3)</div>
<div class="line"><span class="lineno">  942</span>            self.assertTrue(model.wv.vectors.shape == (3, 4))</div>
<div class="line"><span class="lineno">  943</span>            <span class="comment"># check if similarity search and online training works.</span></div>
<div class="line"><span class="lineno">  944</span>            self.assertTrue(len(model.wv.most_similar(<span class="stringliteral">&#39;sentence&#39;</span>)) == 2)</div>
<div class="line"><span class="lineno">  945</span>            model.build_vocab(list_corpus, update=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  946</span>            model.train(list_corpus, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  947</span>            <span class="comment"># check if similarity search and online training works after saving and loading back the model.</span></div>
<div class="line"><span class="lineno">  948</span>            tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  949</span>            model.save(tmpf)</div>
<div class="line"><span class="lineno">  950</span>            loaded_model = word2vec.Word2Vec.load(tmpf)</div>
<div class="line"><span class="lineno">  951</span>            loaded_model.build_vocab(list_corpus, update=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  952</span>            loaded_model.train(list_corpus, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  953</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5decc94de4f81b74e2f9269bd73ff674" name="a5decc94de4f81b74e2f9269bd73ff674"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5decc94de4f81b74e2f9269bd73ff674">&#9670;&#160;</a></span>testLoadOnClassError()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testLoadOnClassError </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test if exception is raised when loading word2vec model on instance</pre> <div class="fragment"><div class="line"><span class="lineno"> 1000</span>    <span class="keyword">def </span>testLoadOnClassError(self):</div>
<div class="line"><span class="lineno"> 1001</span>        <span class="stringliteral">&quot;&quot;&quot;Test if exception is raised when loading word2vec model on instance&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1002</span>        self.assertRaises(AttributeError, load_on_instance)</div>
<div class="line"><span class="lineno"> 1003</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1905d1ff1a667bdd69dfcdb452518f3" name="ad1905d1ff1a667bdd69dfcdb452518f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1905d1ff1a667bdd69dfcdb452518f3">&#9670;&#160;</a></span>testLoadPreKeyedVectorModel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testLoadPreKeyedVectorModel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test loading pre-KeyedVectors word2vec model</pre> <div class="fragment"><div class="line"><span class="lineno">  359</span>    <span class="keyword">def </span>testLoadPreKeyedVectorModel(self):</div>
<div class="line"><span class="lineno">  360</span>        <span class="stringliteral">&quot;&quot;&quot;Test loading pre-KeyedVectors word2vec model&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">if</span> sys.version_info[:2] == (3, 4):</div>
<div class="line"><span class="lineno">  363</span>            model_file_suffix = <span class="stringliteral">&#39;_py3_4&#39;</span></div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">elif</span> sys.version_info &lt; (3,):</div>
<div class="line"><span class="lineno">  365</span>            model_file_suffix = <span class="stringliteral">&#39;_py2&#39;</span></div>
<div class="line"><span class="lineno">  366</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  367</span>            model_file_suffix = <span class="stringliteral">&#39;_py3&#39;</span></div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>        <span class="comment"># Model stored in one file</span></div>
<div class="line"><span class="lineno">  370</span>        model_file = <span class="stringliteral">&#39;word2vec_pre_kv%s&#39;</span> % model_file_suffix</div>
<div class="line"><span class="lineno">  371</span>        model = word2vec.Word2Vec.load(datapath(model_file))</div>
<div class="line"><span class="lineno">  372</span>        self.assertTrue(model.wv.vectors.shape == (len(model.wv.vocab), model.vector_size))</div>
<div class="line"><span class="lineno">  373</span>        self.assertTrue(model.trainables.syn1neg.shape == (len(model.wv.vocab), model.vector_size))</div>
<div class="line"><span class="lineno">  374</span> </div>
<div class="line"><span class="lineno">  375</span>        <span class="comment"># Model stored in multiple files</span></div>
<div class="line"><span class="lineno">  376</span>        model_file = <span class="stringliteral">&#39;word2vec_pre_kv_sep%s&#39;</span> % model_file_suffix</div>
<div class="line"><span class="lineno">  377</span>        model = word2vec.Word2Vec.load(datapath(model_file))</div>
<div class="line"><span class="lineno">  378</span>        self.assertTrue(model.wv.vectors.shape == (len(model.wv.vocab), model.vector_size))</div>
<div class="line"><span class="lineno">  379</span>        self.assertTrue(model.trainables.syn1neg.shape == (len(model.wv.vocab), model.vector_size))</div>
<div class="line"><span class="lineno">  380</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad338798ebba37483a898c485f6bc38c1" name="ad338798ebba37483a898c485f6bc38c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad338798ebba37483a898c485f6bc38c1">&#9670;&#160;</a></span>testLoadPreKeyedVectorModelCFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testLoadPreKeyedVectorModelCFormat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test loading pre-KeyedVectors word2vec model saved in word2vec format</pre> <div class="fragment"><div class="line"><span class="lineno">  381</span>    <span class="keyword">def </span>testLoadPreKeyedVectorModelCFormat(self):</div>
<div class="line"><span class="lineno">  382</span>        <span class="stringliteral">&quot;&quot;&quot;Test loading pre-KeyedVectors word2vec model saved in word2vec format&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  383</span>        model = keyedvectors.KeyedVectors.load_word2vec_format(datapath(<span class="stringliteral">&#39;word2vec_pre_kv_c&#39;</span>))</div>
<div class="line"><span class="lineno">  384</span>        self.assertTrue(model.vectors.shape[0] == len(model.vocab))</div>
<div class="line"><span class="lineno">  385</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a33f9294fcaf8e264b0f83541e0603090" name="a33f9294fcaf8e264b0f83541e0603090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33f9294fcaf8e264b0f83541e0603090">&#9670;&#160;</a></span>testLocking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testLocking </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test word2vec training doesn't change locked vectors.</pre> <div class="fragment"><div class="line"><span class="lineno">  578</span>    <span class="keyword">def </span>testLocking(self):</div>
<div class="line"><span class="lineno">  579</span>        <span class="stringliteral">&quot;&quot;&quot;Test word2vec training doesn&#39;t change locked vectors.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  580</span>        corpus = LeeCorpus()</div>
<div class="line"><span class="lineno">  581</span>        <span class="comment"># build vocabulary, don&#39;t train yet</span></div>
<div class="line"><span class="lineno">  582</span>        <span class="keywordflow">for</span> sg <span class="keywordflow">in</span> range(2):  <span class="comment"># test both cbow and sg</span></div>
<div class="line"><span class="lineno">  583</span>            model = word2vec.Word2Vec(size=4, hs=1, negative=5, min_count=1, sg=sg, window=5)</div>
<div class="line"><span class="lineno">  584</span>            model.build_vocab(corpus)</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>            <span class="comment"># remember two vectors</span></div>
<div class="line"><span class="lineno">  587</span>            locked0 = np.copy(model.wv.vectors[0])</div>
<div class="line"><span class="lineno">  588</span>            unlocked1 = np.copy(model.wv.vectors[1])</div>
<div class="line"><span class="lineno">  589</span>            <span class="comment"># lock the vector in slot 0 against change</span></div>
<div class="line"><span class="lineno">  590</span>            model.trainables.vectors_lockf[0] = 0.0</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span>            model.train(corpus, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  593</span>            self.assertFalse((unlocked1 == model.wv.vectors[1]).all())  <span class="comment"># unlocked vector should vary</span></div>
<div class="line"><span class="lineno">  594</span>            self.assertTrue((locked0 == model.wv.vectors[0]).all())  <span class="comment"># locked vector should not vary</span></div>
<div class="line"><span class="lineno">  595</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7a771d3d5f18b29cf599f638f5871cc" name="ae7a771d3d5f18b29cf599f638f5871cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7a771d3d5f18b29cf599f638f5871cc">&#9670;&#160;</a></span>testMaxFinalVocab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testMaxFinalVocab </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  149</span>    <span class="keyword">def </span>testMaxFinalVocab(self):</div>
<div class="line"><span class="lineno">  150</span>        <span class="comment"># Test for less restricting effect of max_final_vocab</span></div>
<div class="line"><span class="lineno">  151</span>        <span class="comment"># max_final_vocab is specified but has no effect</span></div>
<div class="line"><span class="lineno">  152</span>        model = word2vec.Word2Vec(size=10, max_final_vocab=4, min_count=4, sample=0)</div>
<div class="line"><span class="lineno">  153</span>        model.vocabulary.scan_vocab(sentences)</div>
<div class="line"><span class="lineno">  154</span>        reported_values = model.vocabulary.prepare_vocab(wv=model.wv, hs=0, negative=0)</div>
<div class="line"><span class="lineno">  155</span>        self.assertEqual(reported_values[<span class="stringliteral">&#39;drop_unique&#39;</span>], 11)</div>
<div class="line"><span class="lineno">  156</span>        self.assertEqual(reported_values[<span class="stringliteral">&#39;retain_total&#39;</span>], 4)</div>
<div class="line"><span class="lineno">  157</span>        self.assertEqual(reported_values[<span class="stringliteral">&#39;num_retained_words&#39;</span>], 1)</div>
<div class="line"><span class="lineno">  158</span>        self.assertEqual(model.vocabulary.effective_min_count, 4)</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>        <span class="comment"># Test for more restricting effect of max_final_vocab</span></div>
<div class="line"><span class="lineno">  161</span>        <span class="comment"># results in setting a min_count more restricting than specified min_count</span></div>
<div class="line"><span class="lineno">  162</span>        model = word2vec.Word2Vec(size=10, max_final_vocab=4, min_count=2, sample=0)</div>
<div class="line"><span class="lineno">  163</span>        model.vocabulary.scan_vocab(sentences)</div>
<div class="line"><span class="lineno">  164</span>        reported_values = model.vocabulary.prepare_vocab(wv=model.wv, hs=0, negative=0)</div>
<div class="line"><span class="lineno">  165</span>        self.assertEqual(reported_values[<span class="stringliteral">&#39;drop_unique&#39;</span>], 8)</div>
<div class="line"><span class="lineno">  166</span>        self.assertEqual(reported_values[<span class="stringliteral">&#39;retain_total&#39;</span>], 13)</div>
<div class="line"><span class="lineno">  167</span>        self.assertEqual(reported_values[<span class="stringliteral">&#39;num_retained_words&#39;</span>], 4)</div>
<div class="line"><span class="lineno">  168</span>        self.assertEqual(model.vocabulary.effective_min_count, 3)</div>
<div class="line"><span class="lineno">  169</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a398a2422aeffe58a78f8628da3a16537" name="a398a2422aeffe58a78f8628da3a16537"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a398a2422aeffe58a78f8628da3a16537">&#9670;&#160;</a></span>testNormalizeAfterTrainingData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testNormalizeAfterTrainingData </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  860</span>    <span class="keyword">def </span>testNormalizeAfterTrainingData(self):</div>
<div class="line"><span class="lineno">  861</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  862</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  863</span>        model.save(tmpf)</div>
<div class="line"><span class="lineno">  864</span>        norm_only_model = word2vec.Word2Vec.load(tmpf)</div>
<div class="line"><span class="lineno">  865</span>        norm_only_model.delete_temporary_training_data(replace_word_vectors_with_normalized=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  866</span>        self.assertFalse(np.allclose(model.wv[<span class="stringliteral">&#39;human&#39;</span>], norm_only_model.wv[<span class="stringliteral">&#39;human&#39;</span>]))</div>
<div class="line"><span class="lineno">  867</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a61f61d5d6b7024d0f2582062ef1ee7bc" name="a61f61d5d6b7024d0f2582062ef1ee7bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61f61d5d6b7024d0f2582062ef1ee7bc">&#9670;&#160;</a></span>testNoTrainingCFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testNoTrainingCFormat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  406</span>    <span class="keyword">def </span>testNoTrainingCFormat(self):</div>
<div class="line"><span class="lineno">  407</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  408</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  409</span>        model.init_sims()</div>
<div class="line"><span class="lineno">  410</span>        model.wv.save_word2vec_format(tmpf, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  411</span>        kv = keyedvectors.KeyedVectors.load_word2vec_format(tmpf, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  412</span>        binary_model = word2vec.Word2Vec()</div>
<div class="line"><span class="lineno">  413</span>        binary_model.wv = kv</div>
<div class="line"><span class="lineno">  414</span>        self.assertRaises(ValueError, binary_model.train, sentences)</div>
<div class="line"><span class="lineno">  415</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a38d5b9c03c4121ed2a6c53cd5f0ecaa4" name="a38d5b9c03c4121ed2a6c53cd5f0ecaa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38d5b9c03c4121ed2a6c53cd5f0ecaa4">&#9670;&#160;</a></span>testOnlineLearning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testOnlineLearning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that the algorithm is able to add new words to the
vocabulary and to a trained model when using a sorted vocabulary</pre> <div class="fragment"><div class="line"><span class="lineno">  170</span>    <span class="keyword">def </span>testOnlineLearning(self):</div>
<div class="line"><span class="lineno">  171</span>        <span class="stringliteral">&quot;&quot;&quot;Test that the algorithm is able to add new words to the</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">        vocabulary and to a trained model when using a sorted vocabulary&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  173</span>        model_hs = word2vec.Word2Vec(sentences, size=10, min_count=0, seed=42, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  174</span>        model_neg = word2vec.Word2Vec(sentences, size=10, min_count=0, seed=42, hs=0, negative=5)</div>
<div class="line"><span class="lineno">  175</span>        self.assertTrue(len(model_hs.wv.vocab), 12)</div>
<div class="line"><span class="lineno">  176</span>        self.assertTrue(model_hs.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">  177</span>        model_hs.build_vocab(new_sentences, update=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  178</span>        model_neg.build_vocab(new_sentences, update=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  179</span>        self.assertTrue(model_hs.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].count, 4)</div>
<div class="line"><span class="lineno">  180</span>        self.assertTrue(model_hs.wv.vocab[<span class="stringliteral">&#39;artificial&#39;</span>].count, 4)</div>
<div class="line"><span class="lineno">  181</span>        self.assertEqual(len(model_hs.wv.vocab), 14)</div>
<div class="line"><span class="lineno">  182</span>        self.assertEqual(len(model_neg.wv.vocab), 14)</div>
<div class="line"><span class="lineno">  183</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5b61124b6eb3e432db93b140f3df8042" name="a5b61124b6eb3e432db93b140f3df8042"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b61124b6eb3e432db93b140f3df8042">&#9670;&#160;</a></span>testOnlineLearningAfterSave()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testOnlineLearningAfterSave </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that the algorithm is able to add new words to the
vocabulary and to a trained model when using a sorted vocabulary</pre> <div class="fragment"><div class="line"><span class="lineno">  184</span>    <span class="keyword">def </span>testOnlineLearningAfterSave(self):</div>
<div class="line"><span class="lineno">  185</span>        <span class="stringliteral">&quot;&quot;&quot;Test that the algorithm is able to add new words to the</span></div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral">        vocabulary and to a trained model when using a sorted vocabulary&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  187</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  188</span>        model_neg = word2vec.Word2Vec(sentences, size=10, min_count=0, seed=42, hs=0, negative=5)</div>
<div class="line"><span class="lineno">  189</span>        model_neg.save(tmpf)</div>
<div class="line"><span class="lineno">  190</span>        model_neg = word2vec.Word2Vec.load(tmpf)</div>
<div class="line"><span class="lineno">  191</span>        self.assertTrue(len(model_neg.wv.vocab), 12)</div>
<div class="line"><span class="lineno">  192</span>        model_neg.build_vocab(new_sentences, update=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  193</span>        model_neg.train(new_sentences, total_examples=model_neg.corpus_count, epochs=model_neg.epochs)</div>
<div class="line"><span class="lineno">  194</span>        self.assertEqual(len(model_neg.wv.vocab), 14)</div>
<div class="line"><span class="lineno">  195</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa29b3fe080cc193b8d50e80122401c9f" name="aa29b3fe080cc193b8d50e80122401c9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa29b3fe080cc193b8d50e80122401c9f">&#9670;&#160;</a></span>testOnlineLearningAfterSaveFromFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testOnlineLearningAfterSaveFromFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that the algorithm is able to add new words to the
vocabulary and to a trained model when using a sorted vocabulary</pre> <div class="fragment"><div class="line"><span class="lineno">  221</span>    <span class="keyword">def </span>testOnlineLearningAfterSaveFromFile(self):</div>
<div class="line"><span class="lineno">  222</span>        <span class="stringliteral">&quot;&quot;&quot;Test that the algorithm is able to add new words to the</span></div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">        vocabulary and to a trained model when using a sorted vocabulary&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  224</span>        <span class="keyword">with</span> temporary_file(get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec1.tst&#39;</span>)) <span class="keyword">as</span> corpus_file,\</div>
<div class="line"><span class="lineno">  225</span>                temporary_file(get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec2.tst&#39;</span>)) <span class="keyword">as</span> new_corpus_file:</div>
<div class="line"><span class="lineno">  226</span>            utils.save_as_line_sentence(sentences, corpus_file)</div>
<div class="line"><span class="lineno">  227</span>            utils.save_as_line_sentence(new_sentences, new_corpus_file)</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>            tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  230</span>            model_neg = word2vec.Word2Vec(corpus_file=corpus_file, size=10, min_count=0, seed=42, hs=0, negative=5)</div>
<div class="line"><span class="lineno">  231</span>            model_neg.save(tmpf)</div>
<div class="line"><span class="lineno">  232</span>            model_neg = word2vec.Word2Vec.load(tmpf)</div>
<div class="line"><span class="lineno">  233</span>            self.assertTrue(len(model_neg.wv.vocab), 12)</div>
<div class="line"><span class="lineno">  234</span>            <span class="comment"># Check that training works on the same data after load without calling build_vocab</span></div>
<div class="line"><span class="lineno">  235</span>            model_neg.train(corpus_file=corpus_file, total_words=model_neg.corpus_total_words, epochs=model_neg.epochs)</div>
<div class="line"><span class="lineno">  236</span>            <span class="comment"># Train on new corpus file</span></div>
<div class="line"><span class="lineno">  237</span>            model_neg.build_vocab(corpus_file=new_corpus_file, update=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  238</span>            model_neg.train(corpus_file=new_corpus_file, total_words=model_neg.corpus_total_words,</div>
<div class="line"><span class="lineno">  239</span>                            epochs=model_neg.epochs)</div>
<div class="line"><span class="lineno">  240</span>            self.assertEqual(len(model_neg.wv.vocab), 14)</div>
<div class="line"><span class="lineno">  241</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dbe6dd787f763674d242395f08df75a" name="a8dbe6dd787f763674d242395f08df75a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbe6dd787f763674d242395f08df75a">&#9670;&#160;</a></span>testOnlineLearningFromFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testOnlineLearningFromFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that the algorithm is able to add new words to the
vocabulary and to a trained model when using a sorted vocabulary</pre> <div class="fragment"><div class="line"><span class="lineno">  197</span>    <span class="keyword">def </span>testOnlineLearningFromFile(self):</div>
<div class="line"><span class="lineno">  198</span>        <span class="stringliteral">&quot;&quot;&quot;Test that the algorithm is able to add new words to the</span></div>
<div class="line"><span class="lineno">  199</span><span class="stringliteral">        vocabulary and to a trained model when using a sorted vocabulary&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  200</span>        <span class="keyword">with</span> temporary_file(get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec1.tst&#39;</span>)) <span class="keyword">as</span> corpus_file,\</div>
<div class="line"><span class="lineno">  201</span>                temporary_file(get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec2.tst&#39;</span>)) <span class="keyword">as</span> new_corpus_file:</div>
<div class="line"><span class="lineno">  202</span>            utils.save_as_line_sentence(sentences, corpus_file)</div>
<div class="line"><span class="lineno">  203</span>            utils.save_as_line_sentence(new_sentences, new_corpus_file)</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>            model_hs = word2vec.Word2Vec(corpus_file=corpus_file, size=10, min_count=0, seed=42, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  206</span>            model_neg = word2vec.Word2Vec(corpus_file=corpus_file, size=10, min_count=0, seed=42, hs=0, negative=5)</div>
<div class="line"><span class="lineno">  207</span>            self.assertTrue(len(model_hs.wv.vocab), 12)</div>
<div class="line"><span class="lineno">  208</span>            self.assertTrue(model_hs.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">  209</span>            model_hs.build_vocab(corpus_file=new_corpus_file, update=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  210</span>            model_hs.train(corpus_file=new_corpus_file, total_words=model_hs.corpus_total_words, epochs=model_hs.epochs)</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>            model_neg.build_vocab(corpus_file=new_corpus_file, update=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  213</span>            model_neg.train(</div>
<div class="line"><span class="lineno">  214</span>                corpus_file=new_corpus_file, total_words=model_hs.corpus_total_words, epochs=model_hs.epochs)</div>
<div class="line"><span class="lineno">  215</span>            self.assertTrue(model_hs.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].count, 4)</div>
<div class="line"><span class="lineno">  216</span>            self.assertTrue(model_hs.wv.vocab[<span class="stringliteral">&#39;artificial&#39;</span>].count, 4)</div>
<div class="line"><span class="lineno">  217</span>            self.assertEqual(len(model_hs.wv.vocab), 14)</div>
<div class="line"><span class="lineno">  218</span>            self.assertEqual(len(model_neg.wv.vocab), 14)</div>
<div class="line"><span class="lineno">  219</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9afa0ad1753a9cb3810afa9a1fac01a6" name="a9afa0ad1753a9cb3810afa9a1fac01a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9afa0ad1753a9cb3810afa9a1fac01a6">&#9670;&#160;</a></span>testParallel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testParallel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test word2vec parallel training.</pre> <div class="fragment"><div class="line"><span class="lineno">  814</span>    <span class="keyword">def </span>testParallel(self):</div>
<div class="line"><span class="lineno">  815</span>        <span class="stringliteral">&quot;&quot;&quot;Test word2vec parallel training.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  816</span>        corpus = utils.RepeatCorpus(LeeCorpus(), 10000)</div>
<div class="line"><span class="lineno">  817</span> </div>
<div class="line"><span class="lineno">  818</span>        <span class="keywordflow">for</span> workers <span class="keywordflow">in</span> [2, 4]:</div>
<div class="line"><span class="lineno">  819</span>            model = word2vec.Word2Vec(corpus, workers=workers)</div>
<div class="line"><span class="lineno">  820</span>            sims = model.wv.most_similar(<span class="stringliteral">&#39;israeli&#39;</span>)  <span class="comment"># noqa:F841</span></div>
<div class="line"><span class="lineno">  821</span>            <span class="comment"># the exact vectors and therefore similarities may differ, due to different thread collisions/randomization</span></div>
<div class="line"><span class="lineno">  822</span>            <span class="comment"># so let&#39;s test only for top3</span></div>
<div class="line"><span class="lineno">  823</span>            <span class="comment"># TODO: commented out for now; find a more robust way to compare against &quot;gold standard&quot;</span></div>
<div class="line"><span class="lineno">  824</span>            <span class="comment"># self.assertTrue(&#39;palestinian&#39; in [sims[i][0] for i in range(3)])</span></div>
<div class="line"><span class="lineno">  825</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aeec3036e7102466c7e5ea191b76092ca" name="aeec3036e7102466c7e5ea191b76092ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeec3036e7102466c7e5ea191b76092ca">&#9670;&#160;</a></span>testPersistence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testPersistence </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test storing/loading the entire model.</pre> <div class="fragment"><div class="line"><span class="lineno">  287</span>    <span class="keyword">def </span>testPersistence(self):</div>
<div class="line"><span class="lineno">  288</span>        <span class="stringliteral">&quot;&quot;&quot;Test storing/loading the entire model.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  289</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  290</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  291</span>        model.save(tmpf)</div>
<div class="line"><span class="lineno">  292</span>        self.models_equal(model, word2vec.Word2Vec.load(tmpf))</div>
<div class="line"><span class="lineno">  293</span>        <span class="comment">#  test persistence of the KeyedVectors of a model</span></div>
<div class="line"><span class="lineno">  294</span>        wv = model.wv</div>
<div class="line"><span class="lineno">  295</span>        wv.save(tmpf)</div>
<div class="line"><span class="lineno">  296</span>        loaded_wv = keyedvectors.KeyedVectors.load(tmpf)</div>
<div class="line"><span class="lineno">  297</span>        self.assertTrue(np.allclose(wv.vectors, loaded_wv.vectors))</div>
<div class="line"><span class="lineno">  298</span>        self.assertEqual(len(wv.vocab), len(loaded_wv.vocab))</div>
<div class="line"><span class="lineno">  299</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a718a689010b42445cd4380874381a511" name="a718a689010b42445cd4380874381a511"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a718a689010b42445cd4380874381a511">&#9670;&#160;</a></span>testPersistenceFromFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testPersistenceFromFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test storing/loading the entire model trained with corpus_file argument.</pre> <div class="fragment"><div class="line"><span class="lineno">  301</span>    <span class="keyword">def </span>testPersistenceFromFile(self):</div>
<div class="line"><span class="lineno">  302</span>        <span class="stringliteral">&quot;&quot;&quot;Test storing/loading the entire model trained with corpus_file argument.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  303</span>        <span class="keyword">with</span> temporary_file(get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)) <span class="keyword">as</span> corpus_file:</div>
<div class="line"><span class="lineno">  304</span>            utils.save_as_line_sentence(sentences, corpus_file)</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>            tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  307</span>            model = word2vec.Word2Vec(corpus_file=corpus_file, min_count=1)</div>
<div class="line"><span class="lineno">  308</span>            model.save(tmpf)</div>
<div class="line"><span class="lineno">  309</span>            self.models_equal(model, word2vec.Word2Vec.load(tmpf))</div>
<div class="line"><span class="lineno">  310</span>            <span class="comment">#  test persistence of the KeyedVectors of a model</span></div>
<div class="line"><span class="lineno">  311</span>            wv = model.wv</div>
<div class="line"><span class="lineno">  312</span>            wv.save(tmpf)</div>
<div class="line"><span class="lineno">  313</span>            loaded_wv = keyedvectors.KeyedVectors.load(tmpf)</div>
<div class="line"><span class="lineno">  314</span>            self.assertTrue(np.allclose(wv.vectors, loaded_wv.vectors))</div>
<div class="line"><span class="lineno">  315</span>            self.assertEqual(len(wv.vocab), len(loaded_wv.vocab))</div>
<div class="line"><span class="lineno">  316</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adc9e05034f1e04cb7be71f3432b27f64" name="adc9e05034f1e04cb7be71f3432b27f64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc9e05034f1e04cb7be71f3432b27f64">&#9670;&#160;</a></span>testPersistenceKeyedVectorsFormatWithVocab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testPersistenceKeyedVectorsFormatWithVocab </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test storing/loading the entire model and vocabulary in word2vec format.</pre> <div class="fragment"><div class="line"><span class="lineno">  462</span>    <span class="keyword">def </span>testPersistenceKeyedVectorsFormatWithVocab(self):</div>
<div class="line"><span class="lineno">  463</span>        <span class="stringliteral">&quot;&quot;&quot;Test storing/loading the entire model and vocabulary in word2vec format.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  464</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  465</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  466</span>        model.init_sims()</div>
<div class="line"><span class="lineno">  467</span>        testvocab = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.vocab&#39;</span>)</div>
<div class="line"><span class="lineno">  468</span>        model.wv.save_word2vec_format(tmpf, testvocab, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  469</span>        kv_binary_model_with_vocab = keyedvectors.KeyedVectors.load_word2vec_format(tmpf, testvocab, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  470</span>        self.assertEqual(model.wv.vocab[<span class="stringliteral">&#39;human&#39;</span>].count, kv_binary_model_with_vocab.vocab[<span class="stringliteral">&#39;human&#39;</span>].count)</div>
<div class="line"><span class="lineno">  471</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b4385c9e23b5b4e0ec28c43bb1fb8dc" name="a0b4385c9e23b5b4e0ec28c43bb1fb8dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b4385c9e23b5b4e0ec28c43bb1fb8dc">&#9670;&#160;</a></span>testPersistenceWithConstructorRule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testPersistenceWithConstructorRule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test storing/loading the entire model with a vocab trimming rule passed in the constructor.</pre> <div class="fragment"><div class="line"><span class="lineno">  317</span>    <span class="keyword">def </span>testPersistenceWithConstructorRule(self):</div>
<div class="line"><span class="lineno">  318</span>        <span class="stringliteral">&quot;&quot;&quot;Test storing/loading the entire model with a vocab trimming rule passed in the constructor.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  319</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  320</span>        model = word2vec.Word2Vec(sentences, min_count=1, trim_rule=_rule)</div>
<div class="line"><span class="lineno">  321</span>        model.save(tmpf)</div>
<div class="line"><span class="lineno">  322</span>        self.models_equal(model, word2vec.Word2Vec.load(tmpf))</div>
<div class="line"><span class="lineno">  323</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6b25d98d2dccc0498777448fe3b7103e" name="a6b25d98d2dccc0498777448fe3b7103e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b25d98d2dccc0498777448fe3b7103e">&#9670;&#160;</a></span>testPersistenceWord2VecFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testPersistenceWord2VecFormat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test storing/loading the entire model in word2vec format.</pre> <div class="fragment"><div class="line"><span class="lineno">  386</span>    <span class="keyword">def </span>testPersistenceWord2VecFormat(self):</div>
<div class="line"><span class="lineno">  387</span>        <span class="stringliteral">&quot;&quot;&quot;Test storing/loading the entire model in word2vec format.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  388</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  389</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  390</span>        model.init_sims()</div>
<div class="line"><span class="lineno">  391</span>        model.wv.save_word2vec_format(tmpf, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  392</span>        binary_model_kv = keyedvectors.KeyedVectors.load_word2vec_format(tmpf, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  393</span>        binary_model_kv.init_sims(replace=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  394</span>        self.assertTrue(np.allclose(model.wv[<span class="stringliteral">&#39;human&#39;</span>], binary_model_kv[<span class="stringliteral">&#39;human&#39;</span>]))</div>
<div class="line"><span class="lineno">  395</span>        norm_only_model = keyedvectors.KeyedVectors.load_word2vec_format(tmpf, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  396</span>        norm_only_model.init_sims(replace=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  397</span>        self.assertFalse(np.allclose(model.wv[<span class="stringliteral">&#39;human&#39;</span>], norm_only_model[<span class="stringliteral">&#39;human&#39;</span>]))</div>
<div class="line"><span class="lineno">  398</span>        self.assertTrue(np.allclose(model.wv.vectors_norm[model.wv.vocab[<span class="stringliteral">&#39;human&#39;</span>].index], norm_only_model[<span class="stringliteral">&#39;human&#39;</span>]))</div>
<div class="line"><span class="lineno">  399</span>        limited_model_kv = keyedvectors.KeyedVectors.load_word2vec_format(tmpf, binary=<span class="keyword">True</span>, limit=3)</div>
<div class="line"><span class="lineno">  400</span>        self.assertEqual(len(limited_model_kv.vectors), 3)</div>
<div class="line"><span class="lineno">  401</span>        half_precision_model_kv = keyedvectors.KeyedVectors.load_word2vec_format(</div>
<div class="line"><span class="lineno">  402</span>            tmpf, binary=<span class="keyword">True</span>, datatype=np.float16</div>
<div class="line"><span class="lineno">  403</span>        )</div>
<div class="line"><span class="lineno">  404</span>        self.assertEqual(binary_model_kv.vectors.nbytes, half_precision_model_kv.vectors.nbytes * 2)</div>
<div class="line"><span class="lineno">  405</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3729e5f979a165a70a3074030656b320" name="a3729e5f979a165a70a3074030656b320"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3729e5f979a165a70a3074030656b320">&#9670;&#160;</a></span>testPersistenceWord2VecFormatCombinationWithStandardPersistence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testPersistenceWord2VecFormatCombinationWithStandardPersistence </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test storing/loading the entire model and vocabulary in word2vec format chained with
 saving and loading via `save` and `load` methods`.
 It was possible prior to 1.0.0 release, now raises Exception</pre> <div class="fragment"><div class="line"><span class="lineno">  472</span>    <span class="keyword">def </span>testPersistenceWord2VecFormatCombinationWithStandardPersistence(self):</div>
<div class="line"><span class="lineno">  473</span>        <span class="stringliteral">&quot;&quot;&quot;Test storing/loading the entire model and vocabulary in word2vec format chained with</span></div>
<div class="line"><span class="lineno">  474</span><span class="stringliteral">         saving and loading via `save` and `load` methods`.</span></div>
<div class="line"><span class="lineno">  475</span><span class="stringliteral">         It was possible prior to 1.0.0 release, now raises Exception&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  476</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  477</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  478</span>        model.init_sims()</div>
<div class="line"><span class="lineno">  479</span>        testvocab = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.vocab&#39;</span>)</div>
<div class="line"><span class="lineno">  480</span>        model.wv.save_word2vec_format(tmpf, testvocab, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  481</span>        binary_model_with_vocab_kv = keyedvectors.KeyedVectors.load_word2vec_format(tmpf, testvocab, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  482</span>        binary_model_with_vocab_kv.save(tmpf)</div>
<div class="line"><span class="lineno">  483</span>        self.assertRaises(AttributeError, word2vec.Word2Vec.load, tmpf)</div>
<div class="line"><span class="lineno">  484</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7e12a643560e50a03cd7e06f90899788" name="a7e12a643560e50a03cd7e06f90899788"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e12a643560e50a03cd7e06f90899788">&#9670;&#160;</a></span>testPersistenceWord2VecFormatNonBinary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testPersistenceWord2VecFormatNonBinary </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test storing/loading the entire model in word2vec non-binary format.</pre> <div class="fragment"><div class="line"><span class="lineno">  436</span>    <span class="keyword">def </span>testPersistenceWord2VecFormatNonBinary(self):</div>
<div class="line"><span class="lineno">  437</span>        <span class="stringliteral">&quot;&quot;&quot;Test storing/loading the entire model in word2vec non-binary format.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  438</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  439</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  440</span>        model.init_sims()</div>
<div class="line"><span class="lineno">  441</span>        model.wv.save_word2vec_format(tmpf, binary=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  442</span>        text_model = keyedvectors.KeyedVectors.load_word2vec_format(tmpf, binary=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  443</span>        text_model.init_sims(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  444</span>        self.assertTrue(np.allclose(model.wv[<span class="stringliteral">&#39;human&#39;</span>], text_model[<span class="stringliteral">&#39;human&#39;</span>], atol=1e-6))</div>
<div class="line"><span class="lineno">  445</span>        norm_only_model = keyedvectors.KeyedVectors.load_word2vec_format(tmpf, binary=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  446</span>        norm_only_model.init_sims(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  447</span>        self.assertFalse(np.allclose(model.wv[<span class="stringliteral">&#39;human&#39;</span>], norm_only_model[<span class="stringliteral">&#39;human&#39;</span>], atol=1e-6))</div>
<div class="line"><span class="lineno">  448</span>        self.assertTrue(np.allclose(</div>
<div class="line"><span class="lineno">  449</span>            model.wv.vectors_norm[model.wv.vocab[<span class="stringliteral">&#39;human&#39;</span>].index], norm_only_model[<span class="stringliteral">&#39;human&#39;</span>], atol=1e-4</div>
<div class="line"><span class="lineno">  450</span>        ))</div>
<div class="line"><span class="lineno">  451</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e9da1e403e2d7cb22c9a64728620da0" name="a9e9da1e403e2d7cb22c9a64728620da0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e9da1e403e2d7cb22c9a64728620da0">&#9670;&#160;</a></span>testPersistenceWord2VecFormatWithVocab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testPersistenceWord2VecFormatWithVocab </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test storing/loading the entire model and vocabulary in word2vec format.</pre> <div class="fragment"><div class="line"><span class="lineno">  452</span>    <span class="keyword">def </span>testPersistenceWord2VecFormatWithVocab(self):</div>
<div class="line"><span class="lineno">  453</span>        <span class="stringliteral">&quot;&quot;&quot;Test storing/loading the entire model and vocabulary in word2vec format.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  454</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  455</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  456</span>        model.init_sims()</div>
<div class="line"><span class="lineno">  457</span>        testvocab = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.vocab&#39;</span>)</div>
<div class="line"><span class="lineno">  458</span>        model.wv.save_word2vec_format(tmpf, testvocab, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  459</span>        binary_model_with_vocab_kv = keyedvectors.KeyedVectors.load_word2vec_format(tmpf, testvocab, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  460</span>        self.assertEqual(model.wv.vocab[<span class="stringliteral">&#39;human&#39;</span>].count, binary_model_with_vocab_kv.vocab[<span class="stringliteral">&#39;human&#39;</span>].count)</div>
<div class="line"><span class="lineno">  461</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1536abc1d274bf65c7f0adfe6915d088" name="a1536abc1d274bf65c7f0adfe6915d088"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1536abc1d274bf65c7f0adfe6915d088">&#9670;&#160;</a></span>testPredictOutputWord()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testPredictOutputWord </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test word2vec predict_output_word method handling for negative sampling scheme</pre> <div class="fragment"><div class="line"><span class="lineno">  868</span>    <span class="keyword">def </span>testPredictOutputWord(self):</div>
<div class="line"><span class="lineno">  869</span>        <span class="stringliteral">&#39;&#39;&#39;Test word2vec predict_output_word method handling for negative sampling scheme&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  870</span>        <span class="comment"># under normal circumstances</span></div>
<div class="line"><span class="lineno">  871</span>        model_with_neg = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  872</span>        predictions_with_neg = model_with_neg.predict_output_word([<span class="stringliteral">&#39;system&#39;</span>, <span class="stringliteral">&#39;human&#39;</span>], topn=5)</div>
<div class="line"><span class="lineno">  873</span>        self.assertTrue(len(predictions_with_neg) == 5)</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>        <span class="comment"># out-of-vobaculary scenario</span></div>
<div class="line"><span class="lineno">  876</span>        predictions_out_of_vocab = model_with_neg.predict_output_word([<span class="stringliteral">&#39;some&#39;</span>, <span class="stringliteral">&#39;random&#39;</span>, <span class="stringliteral">&#39;words&#39;</span>], topn=5)</div>
<div class="line"><span class="lineno">  877</span>        self.assertEqual(predictions_out_of_vocab, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span>        <span class="comment"># when required model parameters have been deleted</span></div>
<div class="line"><span class="lineno">  880</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  881</span>        model_with_neg.init_sims()</div>
<div class="line"><span class="lineno">  882</span>        model_with_neg.wv.save_word2vec_format(tmpf, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  883</span>        kv_model_with_neg = keyedvectors.KeyedVectors.load_word2vec_format(tmpf, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  884</span>        binary_model_with_neg = word2vec.Word2Vec()</div>
<div class="line"><span class="lineno">  885</span>        binary_model_with_neg.wv = kv_model_with_neg</div>
<div class="line"><span class="lineno">  886</span>        self.assertRaises(RuntimeError, binary_model_with_neg.predict_output_word, [<span class="stringliteral">&#39;system&#39;</span>, <span class="stringliteral">&#39;human&#39;</span>])</div>
<div class="line"><span class="lineno">  887</span> </div>
<div class="line"><span class="lineno">  888</span>        <span class="comment"># negative sampling scheme not used</span></div>
<div class="line"><span class="lineno">  889</span>        model_without_neg = word2vec.Word2Vec(sentences, min_count=1, negative=0)</div>
<div class="line"><span class="lineno">  890</span>        self.assertRaises(RuntimeError, model_without_neg.predict_output_word, [<span class="stringliteral">&#39;system&#39;</span>, <span class="stringliteral">&#39;human&#39;</span>])</div>
<div class="line"><span class="lineno">  891</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d2774ad8a8997599f766d9190b15c5d" name="a5d2774ad8a8997599f766d9190b15c5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d2774ad8a8997599f766d9190b15c5d">&#9670;&#160;</a></span>testPruneVocab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testPruneVocab </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test Prune vocab while scanning sentences</pre> <div class="fragment"><div class="line"><span class="lineno">  118</span>    <span class="keyword">def </span>testPruneVocab(self):</div>
<div class="line"><span class="lineno">  119</span>        <span class="stringliteral">&quot;&quot;&quot;Test Prune vocab while scanning sentences&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  120</span>        sentences = [</div>
<div class="line"><span class="lineno">  121</span>            [<span class="stringliteral">&quot;graph&quot;</span>, <span class="stringliteral">&quot;system&quot;</span>],</div>
<div class="line"><span class="lineno">  122</span>            [<span class="stringliteral">&quot;graph&quot;</span>, <span class="stringliteral">&quot;system&quot;</span>],</div>
<div class="line"><span class="lineno">  123</span>            [<span class="stringliteral">&quot;system&quot;</span>, <span class="stringliteral">&quot;eps&quot;</span>],</div>
<div class="line"><span class="lineno">  124</span>            [<span class="stringliteral">&quot;graph&quot;</span>, <span class="stringliteral">&quot;system&quot;</span>]</div>
<div class="line"><span class="lineno">  125</span>        ]</div>
<div class="line"><span class="lineno">  126</span>        model = word2vec.Word2Vec(sentences, size=10, min_count=0, max_vocab_size=2, seed=42, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  127</span>        self.assertEqual(len(model.wv.vocab), 2)</div>
<div class="line"><span class="lineno">  128</span>        self.assertEqual(model.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">  129</span>        self.assertEqual(model.wv.vocab[<span class="stringliteral">&#39;system&#39;</span>].count, 4)</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>        sentences = [</div>
<div class="line"><span class="lineno">  132</span>            [<span class="stringliteral">&quot;graph&quot;</span>, <span class="stringliteral">&quot;system&quot;</span>],</div>
<div class="line"><span class="lineno">  133</span>            [<span class="stringliteral">&quot;graph&quot;</span>, <span class="stringliteral">&quot;system&quot;</span>],</div>
<div class="line"><span class="lineno">  134</span>            [<span class="stringliteral">&quot;system&quot;</span>, <span class="stringliteral">&quot;eps&quot;</span>],</div>
<div class="line"><span class="lineno">  135</span>            [<span class="stringliteral">&quot;graph&quot;</span>, <span class="stringliteral">&quot;system&quot;</span>],</div>
<div class="line"><span class="lineno">  136</span>            [<span class="stringliteral">&quot;minors&quot;</span>, <span class="stringliteral">&quot;survey&quot;</span>, <span class="stringliteral">&quot;minors&quot;</span>, <span class="stringliteral">&quot;survey&quot;</span>, <span class="stringliteral">&quot;minors&quot;</span>]</div>
<div class="line"><span class="lineno">  137</span>        ]</div>
<div class="line"><span class="lineno">  138</span>        model = word2vec.Word2Vec(sentences, size=10, min_count=0, max_vocab_size=2, seed=42, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  139</span>        self.assertEqual(len(model.wv.vocab), 3)</div>
<div class="line"><span class="lineno">  140</span>        self.assertEqual(model.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">  141</span>        self.assertEqual(model.wv.vocab[<span class="stringliteral">&#39;minors&#39;</span>].count, 3)</div>
<div class="line"><span class="lineno">  142</span>        self.assertEqual(model.wv.vocab[<span class="stringliteral">&#39;system&#39;</span>].count, 4)</div>
<div class="line"><span class="lineno">  143</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c54e2433128d61ab49d115eb01ea7f0" name="a1c54e2433128d61ab49d115eb01ea7f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c54e2433128d61ab49d115eb01ea7f0">&#9670;&#160;</a></span>testRNG()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testRNG </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test word2vec results identical with identical RNG seed.</pre> <div class="fragment"><div class="line"><span class="lineno">  826</span>    <span class="keyword">def </span>testRNG(self):</div>
<div class="line"><span class="lineno">  827</span>        <span class="stringliteral">&quot;&quot;&quot;Test word2vec results identical with identical RNG seed.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  828</span>        model = word2vec.Word2Vec(sentences, min_count=2, seed=42, workers=1)</div>
<div class="line"><span class="lineno">  829</span>        model2 = word2vec.Word2Vec(sentences, min_count=2, seed=42, workers=1)</div>
<div class="line"><span class="lineno">  830</span>        self.models_equal(model, model2)</div>
<div class="line"><span class="lineno">  831</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8fb5082b8ab91e23152b2744c299006e" name="a8fb5082b8ab91e23152b2744c299006e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb5082b8ab91e23152b2744c299006e">&#9670;&#160;</a></span>testRule()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testRule </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test applying vocab trim_rule to build_vocab instead of constructor.</pre> <div class="fragment"><div class="line"><span class="lineno">  331</span>    <span class="keyword">def </span>testRule(self):</div>
<div class="line"><span class="lineno">  332</span>        <span class="stringliteral">&quot;&quot;&quot;Test applying vocab trim_rule to build_vocab instead of constructor.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  333</span>        model = word2vec.Word2Vec(min_count=1)</div>
<div class="line"><span class="lineno">  334</span>        model.build_vocab(sentences, trim_rule=_rule)</div>
<div class="line"><span class="lineno">  335</span>        self.assertTrue(<span class="stringliteral">&quot;human&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> model.wv.vocab)</div>
<div class="line"><span class="lineno">  336</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b5fef3dc4a4377c30d60a73127f4e83" name="a1b5fef3dc4a4377c30d60a73127f4e83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b5fef3dc4a4377c30d60a73127f4e83">&#9670;&#160;</a></span>testRuleWithMinCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testRuleWithMinCount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that returning RULE_DEFAULT from trim_rule triggers min_count.</pre> <div class="fragment"><div class="line"><span class="lineno">  324</span>    <span class="keyword">def </span>testRuleWithMinCount(self):</div>
<div class="line"><span class="lineno">  325</span>        <span class="stringliteral">&quot;&quot;&quot;Test that returning RULE_DEFAULT from trim_rule triggers min_count.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  326</span>        model = word2vec.Word2Vec(sentences + [[<span class="stringliteral">&quot;occurs_only_once&quot;</span>]], min_count=2, trim_rule=_rule)</div>
<div class="line"><span class="lineno">  327</span>        self.assertTrue(<span class="stringliteral">&quot;human&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> model.wv.vocab)</div>
<div class="line"><span class="lineno">  328</span>        self.assertTrue(<span class="stringliteral">&quot;occurs_only_once&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> model.wv.vocab)</div>
<div class="line"><span class="lineno">  329</span>        self.assertTrue(<span class="stringliteral">&quot;interface&quot;</span> <span class="keywordflow">in</span> model.wv.vocab)</div>
<div class="line"><span class="lineno">  330</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a027b0b712b37012c94353f0674ff82e3" name="a027b0b712b37012c94353f0674ff82e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a027b0b712b37012c94353f0674ff82e3">&#9670;&#160;</a></span>testScoring()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testScoring </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test word2vec scoring.</pre> <div class="fragment"><div class="line"><span class="lineno">  570</span>    <span class="keyword">def </span>testScoring(self):</div>
<div class="line"><span class="lineno">  571</span>        <span class="stringliteral">&quot;&quot;&quot;Test word2vec scoring.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  572</span>        model = word2vec.Word2Vec(sentences, size=2, min_count=1, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>        <span class="comment"># just score and make sure they exist</span></div>
<div class="line"><span class="lineno">  575</span>        scores = model.score(sentences, len(sentences))</div>
<div class="line"><span class="lineno">  576</span>        self.assertEqual(len(scores), len(sentences))</div>
<div class="line"><span class="lineno">  577</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a483167f0e6f6218cdcb2a0d51c480776" name="a483167f0e6f6218cdcb2a0d51c480776"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a483167f0e6f6218cdcb2a0d51c480776">&#9670;&#160;</a></span>testSimilarBy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testSimilarBy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test word2vec similar_by_word and similar_by_vector.</pre> <div class="fragment"><div class="line"><span class="lineno">  804</span>    <span class="keyword">def </span>testSimilarBy(self):</div>
<div class="line"><span class="lineno">  805</span>        <span class="stringliteral">&quot;&quot;&quot;Test word2vec similar_by_word and similar_by_vector.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  806</span>        model = word2vec.Word2Vec(sentences, size=2, min_count=1, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  807</span>        wordsims = model.wv.similar_by_word(<span class="stringliteral">&#39;graph&#39;</span>, topn=10)</div>
<div class="line"><span class="lineno">  808</span>        wordsims2 = model.wv.most_similar(positive=<span class="stringliteral">&#39;graph&#39;</span>, topn=10)</div>
<div class="line"><span class="lineno">  809</span>        vectorsims = model.wv.similar_by_vector(model.wv[<span class="stringliteral">&#39;graph&#39;</span>], topn=10)</div>
<div class="line"><span class="lineno">  810</span>        vectorsims2 = model.wv.most_similar([model.wv[<span class="stringliteral">&#39;graph&#39;</span>]], topn=10)</div>
<div class="line"><span class="lineno">  811</span>        self.assertEqual(wordsims, wordsims2)</div>
<div class="line"><span class="lineno">  812</span>        self.assertEqual(vectorsims, vectorsims2)</div>
<div class="line"><span class="lineno">  813</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8bb7770bdeb354b4298b03f6cedc288e" name="a8bb7770bdeb354b4298b03f6cedc288e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bb7770bdeb354b4298b03f6cedc288e">&#9670;&#160;</a></span>testSimilarities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testSimilarities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test similarity and n_similarity methods.</pre> <div class="fragment"><div class="line"><span class="lineno">  791</span>    <span class="keyword">def </span>testSimilarities(self):</div>
<div class="line"><span class="lineno">  792</span>        <span class="stringliteral">&quot;&quot;&quot;Test similarity and n_similarity methods.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  793</span>        <span class="comment"># The model is trained using CBOW</span></div>
<div class="line"><span class="lineno">  794</span>        model = word2vec.Word2Vec(size=2, min_count=1, sg=0, hs=0, negative=2)</div>
<div class="line"><span class="lineno">  795</span>        model.build_vocab(sentences)</div>
<div class="line"><span class="lineno">  796</span>        model.train(sentences, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>        self.assertTrue(model.wv.n_similarity([<span class="stringliteral">&#39;graph&#39;</span>, <span class="stringliteral">&#39;trees&#39;</span>], [<span class="stringliteral">&#39;trees&#39;</span>, <span class="stringliteral">&#39;graph&#39;</span>]))</div>
<div class="line"><span class="lineno">  799</span>        self.assertTrue(model.wv.n_similarity([<span class="stringliteral">&#39;graph&#39;</span>], [<span class="stringliteral">&#39;trees&#39;</span>]) == model.wv.similarity(<span class="stringliteral">&#39;graph&#39;</span>, <span class="stringliteral">&#39;trees&#39;</span>))</div>
<div class="line"><span class="lineno">  800</span>        self.assertRaises(ZeroDivisionError, model.wv.n_similarity, [<span class="stringliteral">&#39;graph&#39;</span>, <span class="stringliteral">&#39;trees&#39;</span>], [])</div>
<div class="line"><span class="lineno">  801</span>        self.assertRaises(ZeroDivisionError, model.wv.n_similarity, [], [<span class="stringliteral">&#39;graph&#39;</span>, <span class="stringliteral">&#39;trees&#39;</span>])</div>
<div class="line"><span class="lineno">  802</span>        self.assertRaises(ZeroDivisionError, model.wv.n_similarity, [], [])</div>
<div class="line"><span class="lineno">  803</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a39c35abe2a3d71da048cf0fcddab2578" name="a39c35abe2a3d71da048cf0fcddab2578"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39c35abe2a3d71da048cf0fcddab2578">&#9670;&#160;</a></span>testSyn0NormNotSaved()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testSyn0NormNotSaved </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test syn0norm isn't saved in model file</pre> <div class="fragment"><div class="line"><span class="lineno">  345</span>    <span class="keyword">def </span>testSyn0NormNotSaved(self):</div>
<div class="line"><span class="lineno">  346</span>        <span class="stringliteral">&quot;&quot;&quot;Test syn0norm isn&#39;t saved in model file&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  347</span>        tmpf = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  348</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  349</span>        model.init_sims()</div>
<div class="line"><span class="lineno">  350</span>        model.save(tmpf)</div>
<div class="line"><span class="lineno">  351</span>        loaded_model = word2vec.Word2Vec.load(tmpf)</div>
<div class="line"><span class="lineno">  352</span>        self.assertTrue(loaded_model.wv.vectors_norm <span class="keywordflow">is</span> <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>        wv = model.wv</div>
<div class="line"><span class="lineno">  355</span>        wv.save(tmpf)</div>
<div class="line"><span class="lineno">  356</span>        loaded_kv = keyedvectors.KeyedVectors.load(tmpf)</div>
<div class="line"><span class="lineno">  357</span>        self.assertTrue(loaded_kv.vectors_norm <span class="keywordflow">is</span> <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  358</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abd1bfe09d222f423b143ab328ee07ff1" name="abd1bfe09d222f423b143ab328ee07ff1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd1bfe09d222f423b143ab328ee07ff1">&#9670;&#160;</a></span>testTooShortBinaryWord2VecFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testTooShortBinaryWord2VecFormat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  416</span>    <span class="keyword">def </span>testTooShortBinaryWord2VecFormat(self):</div>
<div class="line"><span class="lineno">  417</span>        tfile = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  418</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  419</span>        model.init_sims()</div>
<div class="line"><span class="lineno">  420</span>        model.wv.save_word2vec_format(tfile, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  421</span>        f = open(tfile, <span class="stringliteral">&#39;r+b&#39;</span>)</div>
<div class="line"><span class="lineno">  422</span>        f.write(b<span class="stringliteral">&#39;13&#39;</span>)  <span class="comment"># write wrong (too-long) vector count</span></div>
<div class="line"><span class="lineno">  423</span>        f.close()</div>
<div class="line"><span class="lineno">  424</span>        self.assertRaises(EOFError, keyedvectors.KeyedVectors.load_word2vec_format, tfile, binary=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  425</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3f92799cb9dbe2374926ce6f9c01b5d" name="ab3f92799cb9dbe2374926ce6f9c01b5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3f92799cb9dbe2374926ce6f9c01b5d">&#9670;&#160;</a></span>testTooShortTextWord2VecFormat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testTooShortTextWord2VecFormat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  426</span>    <span class="keyword">def </span>testTooShortTextWord2VecFormat(self):</div>
<div class="line"><span class="lineno">  427</span>        tfile = get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)</div>
<div class="line"><span class="lineno">  428</span>        model = word2vec.Word2Vec(sentences, min_count=1)</div>
<div class="line"><span class="lineno">  429</span>        model.init_sims()</div>
<div class="line"><span class="lineno">  430</span>        model.wv.save_word2vec_format(tfile, binary=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  431</span>        f = open(tfile, <span class="stringliteral">&#39;r+b&#39;</span>)</div>
<div class="line"><span class="lineno">  432</span>        f.write(b<span class="stringliteral">&#39;13&#39;</span>)  <span class="comment"># write wrong (too-long) vector count</span></div>
<div class="line"><span class="lineno">  433</span>        f.close()</div>
<div class="line"><span class="lineno">  434</span>        self.assertRaises(EOFError, keyedvectors.KeyedVectors.load_word2vec_format, tfile, binary=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  435</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c2be8d80df3198bf82436278e925329" name="a3c2be8d80df3198bf82436278e925329"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c2be8d80df3198bf82436278e925329">&#9670;&#160;</a></span>testTotalWordCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testTotalWordCount </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  144</span>    <span class="keyword">def </span>testTotalWordCount(self):</div>
<div class="line"><span class="lineno">  145</span>        model = word2vec.Word2Vec(size=10, min_count=0, seed=42)</div>
<div class="line"><span class="lineno">  146</span>        total_words = model.vocabulary.scan_vocab(sentences)[0]</div>
<div class="line"><span class="lineno">  147</span>        self.assertEqual(total_words, 29)</div>
<div class="line"><span class="lineno">  148</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac0550110ad77e79be263200d1450abef" name="ac0550110ad77e79be263200d1450abef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0550110ad77e79be263200d1450abef">&#9670;&#160;</a></span>testTraining()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testTraining </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test word2vec training.</pre> <div class="fragment"><div class="line"><span class="lineno">  524</span>    <span class="keyword">def </span>testTraining(self):</div>
<div class="line"><span class="lineno">  525</span>        <span class="stringliteral">&quot;&quot;&quot;Test word2vec training.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  526</span>        <span class="comment"># build vocabulary, don&#39;t train yet</span></div>
<div class="line"><span class="lineno">  527</span>        model = word2vec.Word2Vec(size=2, min_count=1, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  528</span>        model.build_vocab(sentences)</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>        self.assertTrue(model.wv.vectors.shape == (len(model.wv.vocab), 2))</div>
<div class="line"><span class="lineno">  531</span>        self.assertTrue(model.trainables.syn1.shape == (len(model.wv.vocab), 2))</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>        model.train(sentences, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  534</span>        sims = model.wv.most_similar(<span class="stringliteral">&#39;graph&#39;</span>, topn=10)</div>
<div class="line"><span class="lineno">  535</span>        <span class="comment"># self.assertTrue(sims[0][0] == &#39;trees&#39;, sims)  # most similar</span></div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>        <span class="comment"># test querying for &quot;most similar&quot; by vector</span></div>
<div class="line"><span class="lineno">  538</span>        graph_vector = model.wv.vectors_norm[model.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].index]</div>
<div class="line"><span class="lineno">  539</span>        sims2 = model.wv.most_similar(positive=[graph_vector], topn=11)</div>
<div class="line"><span class="lineno">  540</span>        sims2 = [(w, sim) <span class="keywordflow">for</span> w, sim <span class="keywordflow">in</span> sims2 <span class="keywordflow">if</span> w != <span class="stringliteral">&#39;graph&#39;</span>]  <span class="comment"># ignore &#39;graph&#39; itself</span></div>
<div class="line"><span class="lineno">  541</span>        self.assertEqual(sims, sims2)</div>
<div class="line"><span class="lineno">  542</span> </div>
<div class="line"><span class="lineno">  543</span>        <span class="comment"># build vocab and train in one step; must be the same as above</span></div>
<div class="line"><span class="lineno">  544</span>        model2 = word2vec.Word2Vec(sentences, size=2, min_count=1, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  545</span>        self.models_equal(model, model2)</div>
<div class="line"><span class="lineno">  546</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f9dc62ab8c81db0b7b4fe647e3707db" name="a6f9dc62ab8c81db0b7b4fe647e3707db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f9dc62ab8c81db0b7b4fe647e3707db">&#9670;&#160;</a></span>testTrainingCbow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testTrainingCbow </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test CBOW word2vec training.</pre> <div class="fragment"><div class="line"><span class="lineno">  722</span>    <span class="keyword">def </span>testTrainingCbow(self):</div>
<div class="line"><span class="lineno">  723</span>        <span class="stringliteral">&quot;&quot;&quot;Test CBOW word2vec training.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  724</span>        <span class="comment"># to test training, make the corpus larger by repeating its sentences over and over</span></div>
<div class="line"><span class="lineno">  725</span>        <span class="comment"># build vocabulary, don&#39;t train yet</span></div>
<div class="line"><span class="lineno">  726</span>        model = word2vec.Word2Vec(size=2, min_count=1, sg=0, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  727</span>        model.build_vocab(sentences)</div>
<div class="line"><span class="lineno">  728</span>        self.assertTrue(model.wv.vectors.shape == (len(model.wv.vocab), 2))</div>
<div class="line"><span class="lineno">  729</span>        self.assertTrue(model.trainables.syn1.shape == (len(model.wv.vocab), 2))</div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>        model.train(sentences, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  732</span>        sims = model.wv.most_similar(<span class="stringliteral">&#39;graph&#39;</span>, topn=10)</div>
<div class="line"><span class="lineno">  733</span>        <span class="comment"># self.assertTrue(sims[0][0] == &#39;trees&#39;, sims)  # most similar</span></div>
<div class="line"><span class="lineno">  734</span> </div>
<div class="line"><span class="lineno">  735</span>        <span class="comment"># test querying for &quot;most similar&quot; by vector</span></div>
<div class="line"><span class="lineno">  736</span>        graph_vector = model.wv.vectors_norm[model.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].index]</div>
<div class="line"><span class="lineno">  737</span>        sims2 = model.wv.most_similar(positive=[graph_vector], topn=11)</div>
<div class="line"><span class="lineno">  738</span>        sims2 = [(w, sim) <span class="keywordflow">for</span> w, sim <span class="keywordflow">in</span> sims2 <span class="keywordflow">if</span> w != <span class="stringliteral">&#39;graph&#39;</span>]  <span class="comment"># ignore &#39;graph&#39; itself</span></div>
<div class="line"><span class="lineno">  739</span>        self.assertEqual(sims, sims2)</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span>        <span class="comment"># build vocab and train in one step; must be the same as above</span></div>
<div class="line"><span class="lineno">  742</span>        model2 = word2vec.Word2Vec(sentences, size=2, min_count=1, sg=0, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  743</span>        self.models_equal(model, model2)</div>
<div class="line"><span class="lineno">  744</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a42c0b06fc14ff9b32b99333baa7694b1" name="a42c0b06fc14ff9b32b99333baa7694b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42c0b06fc14ff9b32b99333baa7694b1">&#9670;&#160;</a></span>testTrainingCbowNegative()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testTrainingCbowNegative </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test CBOW (negative sampling) word2vec training.</pre> <div class="fragment"><div class="line"><span class="lineno">  768</span>    <span class="keyword">def </span>testTrainingCbowNegative(self):</div>
<div class="line"><span class="lineno">  769</span>        <span class="stringliteral">&quot;&quot;&quot;Test CBOW (negative sampling) word2vec training.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  770</span>        <span class="comment"># to test training, make the corpus larger by repeating its sentences over and over</span></div>
<div class="line"><span class="lineno">  771</span>        <span class="comment"># build vocabulary, don&#39;t train yet</span></div>
<div class="line"><span class="lineno">  772</span>        model = word2vec.Word2Vec(size=2, min_count=1, sg=0, hs=0, negative=2)</div>
<div class="line"><span class="lineno">  773</span>        model.build_vocab(sentences)</div>
<div class="line"><span class="lineno">  774</span>        self.assertTrue(model.wv.vectors.shape == (len(model.wv.vocab), 2))</div>
<div class="line"><span class="lineno">  775</span>        self.assertTrue(model.trainables.syn1neg.shape == (len(model.wv.vocab), 2))</div>
<div class="line"><span class="lineno">  776</span> </div>
<div class="line"><span class="lineno">  777</span>        model.train(sentences, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  778</span>        sims = model.wv.most_similar(<span class="stringliteral">&#39;graph&#39;</span>, topn=10)</div>
<div class="line"><span class="lineno">  779</span>        <span class="comment"># self.assertTrue(sims[0][0] == &#39;trees&#39;, sims)  # most similar</span></div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>        <span class="comment"># test querying for &quot;most similar&quot; by vector</span></div>
<div class="line"><span class="lineno">  782</span>        graph_vector = model.wv.vectors_norm[model.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].index]</div>
<div class="line"><span class="lineno">  783</span>        sims2 = model.wv.most_similar(positive=[graph_vector], topn=11)</div>
<div class="line"><span class="lineno">  784</span>        sims2 = [(w, sim) <span class="keywordflow">for</span> w, sim <span class="keywordflow">in</span> sims2 <span class="keywordflow">if</span> w != <span class="stringliteral">&#39;graph&#39;</span>]  <span class="comment"># ignore &#39;graph&#39; itself</span></div>
<div class="line"><span class="lineno">  785</span>        self.assertEqual(sims, sims2)</div>
<div class="line"><span class="lineno">  786</span> </div>
<div class="line"><span class="lineno">  787</span>        <span class="comment"># build vocab and train in one step; must be the same as above</span></div>
<div class="line"><span class="lineno">  788</span>        model2 = word2vec.Word2Vec(sentences, size=2, min_count=1, sg=0, hs=0, negative=2)</div>
<div class="line"><span class="lineno">  789</span>        self.models_equal(model, model2)</div>
<div class="line"><span class="lineno">  790</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aab4a926d7ff1cfa5acfe58ba639efefc" name="aab4a926d7ff1cfa5acfe58ba639efefc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab4a926d7ff1cfa5acfe58ba639efefc">&#9670;&#160;</a></span>testTrainingFromFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testTrainingFromFile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test word2vec training with corpus_file argument.</pre> <div class="fragment"><div class="line"><span class="lineno">  548</span>    <span class="keyword">def </span>testTrainingFromFile(self):</div>
<div class="line"><span class="lineno">  549</span>        <span class="stringliteral">&quot;&quot;&quot;Test word2vec training with corpus_file argument.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  550</span>        <span class="comment"># build vocabulary, don&#39;t train yet</span></div>
<div class="line"><span class="lineno">  551</span>        <span class="keyword">with</span> temporary_file(get_tmpfile(<span class="stringliteral">&#39;gensim_word2vec.tst&#39;</span>)) <span class="keyword">as</span> tf:</div>
<div class="line"><span class="lineno">  552</span>            utils.save_as_line_sentence(sentences, tf)</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>            model = word2vec.Word2Vec(size=2, min_count=1, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  555</span>            model.build_vocab(corpus_file=tf)</div>
<div class="line"><span class="lineno">  556</span> </div>
<div class="line"><span class="lineno">  557</span>            self.assertTrue(model.wv.vectors.shape == (len(model.wv.vocab), 2))</div>
<div class="line"><span class="lineno">  558</span>            self.assertTrue(model.trainables.syn1.shape == (len(model.wv.vocab), 2))</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>            model.train(corpus_file=tf, total_words=model.corpus_total_words, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  561</span>            sims = model.wv.most_similar(<span class="stringliteral">&#39;graph&#39;</span>, topn=10)</div>
<div class="line"><span class="lineno">  562</span>            <span class="comment"># self.assertTrue(sims[0][0] == &#39;trees&#39;, sims)  # most similar</span></div>
<div class="line"><span class="lineno">  563</span> </div>
<div class="line"><span class="lineno">  564</span>            <span class="comment"># test querying for &quot;most similar&quot; by vector</span></div>
<div class="line"><span class="lineno">  565</span>            graph_vector = model.wv.vectors_norm[model.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].index]</div>
<div class="line"><span class="lineno">  566</span>            sims2 = model.wv.most_similar(positive=[graph_vector], topn=11)</div>
<div class="line"><span class="lineno">  567</span>            sims2 = [(w, sim) <span class="keywordflow">for</span> w, sim <span class="keywordflow">in</span> sims2 <span class="keywordflow">if</span> w != <span class="stringliteral">&#39;graph&#39;</span>]  <span class="comment"># ignore &#39;graph&#39; itself</span></div>
<div class="line"><span class="lineno">  568</span>            self.assertEqual(sims, sims2)</div>
<div class="line"><span class="lineno">  569</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8fa36f76ee4b02d5efb4e60f269b6bdd" name="a8fa36f76ee4b02d5efb4e60f269b6bdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fa36f76ee4b02d5efb4e60f269b6bdd">&#9670;&#160;</a></span>testTrainingSgNegative()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testTrainingSgNegative </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test skip-gram (negative sampling) word2vec training.</pre> <div class="fragment"><div class="line"><span class="lineno">  745</span>    <span class="keyword">def </span>testTrainingSgNegative(self):</div>
<div class="line"><span class="lineno">  746</span>        <span class="stringliteral">&quot;&quot;&quot;Test skip-gram (negative sampling) word2vec training.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  747</span>        <span class="comment"># to test training, make the corpus larger by repeating its sentences over and over</span></div>
<div class="line"><span class="lineno">  748</span>        <span class="comment"># build vocabulary, don&#39;t train yet</span></div>
<div class="line"><span class="lineno">  749</span>        model = word2vec.Word2Vec(size=2, min_count=1, sg=1, hs=0, negative=2)</div>
<div class="line"><span class="lineno">  750</span>        model.build_vocab(sentences)</div>
<div class="line"><span class="lineno">  751</span>        self.assertTrue(model.wv.vectors.shape == (len(model.wv.vocab), 2))</div>
<div class="line"><span class="lineno">  752</span>        self.assertTrue(model.trainables.syn1neg.shape == (len(model.wv.vocab), 2))</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span>        model.train(sentences, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  755</span>        sims = model.wv.most_similar(<span class="stringliteral">&#39;graph&#39;</span>, topn=10)</div>
<div class="line"><span class="lineno">  756</span>        <span class="comment"># self.assertTrue(sims[0][0] == &#39;trees&#39;, sims)  # most similar</span></div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>        <span class="comment"># test querying for &quot;most similar&quot; by vector</span></div>
<div class="line"><span class="lineno">  759</span>        graph_vector = model.wv.vectors_norm[model.wv.vocab[<span class="stringliteral">&#39;graph&#39;</span>].index]</div>
<div class="line"><span class="lineno">  760</span>        sims2 = model.wv.most_similar(positive=[graph_vector], topn=11)</div>
<div class="line"><span class="lineno">  761</span>        sims2 = [(w, sim) <span class="keywordflow">for</span> w, sim <span class="keywordflow">in</span> sims2 <span class="keywordflow">if</span> w != <span class="stringliteral">&#39;graph&#39;</span>]  <span class="comment"># ignore &#39;graph&#39; itself</span></div>
<div class="line"><span class="lineno">  762</span>        self.assertEqual(sims, sims2)</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>        <span class="comment"># build vocab and train in one step; must be the same as above</span></div>
<div class="line"><span class="lineno">  765</span>        model2 = word2vec.Word2Vec(sentences, size=2, min_count=1, sg=1, hs=0, negative=2)</div>
<div class="line"><span class="lineno">  766</span>        self.models_equal(model, model2)</div>
<div class="line"><span class="lineno">  767</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adf8b255ba2f915ca788b0842fbd213c1" name="adf8b255ba2f915ca788b0842fbd213c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf8b255ba2f915ca788b0842fbd213c1">&#9670;&#160;</a></span>testTrainWarning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testTrainWarning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>l</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test if warning is raised if alpha rises during subsequent calls to train()</pre> <div class="fragment"><div class="line"><span class="lineno">  964</span>    <span class="keyword">def </span>testTrainWarning(self, l):</div>
<div class="line"><span class="lineno">  965</span>        <span class="stringliteral">&quot;&quot;&quot;Test if warning is raised if alpha rises during subsequent calls to train()&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  966</span>        sentences = [</div>
<div class="line"><span class="lineno">  967</span>            [<span class="stringliteral">&#39;human&#39;</span>],</div>
<div class="line"><span class="lineno">  968</span>            [<span class="stringliteral">&#39;graph&#39;</span>, <span class="stringliteral">&#39;trees&#39;</span>]</div>
<div class="line"><span class="lineno">  969</span>        ]</div>
<div class="line"><span class="lineno">  970</span>        model = word2vec.Word2Vec(min_count=1)</div>
<div class="line"><span class="lineno">  971</span>        model.build_vocab(sentences)</div>
<div class="line"><span class="lineno">  972</span>        <span class="keywordflow">for</span> epoch <span class="keywordflow">in</span> range(10):</div>
<div class="line"><span class="lineno">  973</span>            model.train(sentences, total_examples=model.corpus_count, epochs=model.epochs)</div>
<div class="line"><span class="lineno">  974</span>            model.alpha -= 0.002</div>
<div class="line"><span class="lineno">  975</span>            model.min_alpha = model.alpha</div>
<div class="line"><span class="lineno">  976</span>            <span class="keywordflow">if</span> epoch == 5:</div>
<div class="line"><span class="lineno">  977</span>                model.alpha += 0.05</div>
<div class="line"><span class="lineno">  978</span>        warning = <span class="stringliteral">&quot;Effective &#39;alpha&#39; higher than previous training cycles&quot;</span></div>
<div class="line"><span class="lineno">  979</span>        self.assertTrue(warning <span class="keywordflow">in</span> str(l))</div>
<div class="line"><span class="lineno">  980</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1cad5ee8ecf6f9c0ea405e7cc205b8dc" name="a1cad5ee8ecf6f9c0ea405e7cc205b8dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cad5ee8ecf6f9c0ea405e7cc205b8dc">&#9670;&#160;</a></span>testVocab()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.test.test_word2vec.TestWord2VecModel.testVocab </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test word2vec vocabulary building.</pre> <div class="fragment"><div class="line"><span class="lineno">  497</span>    <span class="keyword">def </span>testVocab(self):</div>
<div class="line"><span class="lineno">  498</span>        <span class="stringliteral">&quot;&quot;&quot;Test word2vec vocabulary building.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  499</span>        corpus = LeeCorpus()</div>
<div class="line"><span class="lineno">  500</span>        total_words = sum(len(sentence) <span class="keywordflow">for</span> sentence <span class="keywordflow">in</span> corpus)</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>        <span class="comment"># try vocab building explicitly, using all words</span></div>
<div class="line"><span class="lineno">  503</span>        model = word2vec.Word2Vec(min_count=1, hs=1, negative=0)</div>
<div class="line"><span class="lineno">  504</span>        model.build_vocab(corpus)</div>
<div class="line"><span class="lineno">  505</span>        self.assertTrue(len(model.wv.vocab) == 6981)</div>
<div class="line"><span class="lineno">  506</span>        <span class="comment"># with min_count=1, we&#39;re not throwing away anything,</span></div>
<div class="line"><span class="lineno">  507</span>        <span class="comment"># so make sure the word counts add up to be the entire corpus</span></div>
<div class="line"><span class="lineno">  508</span>        self.assertEqual(sum(v.count <span class="keywordflow">for</span> v <span class="keywordflow">in</span> model.wv.vocab.values()), total_words)</div>
<div class="line"><span class="lineno">  509</span>        <span class="comment"># make sure the binary codes are correct</span></div>
<div class="line"><span class="lineno">  510</span>        np.allclose(model.wv.vocab[<span class="stringliteral">&#39;the&#39;</span>].code, [1, 1, 0, 0])</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>        <span class="comment"># test building vocab with default params</span></div>
<div class="line"><span class="lineno">  513</span>        model = word2vec.Word2Vec(hs=1, negative=0)</div>
<div class="line"><span class="lineno">  514</span>        model.build_vocab(corpus)</div>
<div class="line"><span class="lineno">  515</span>        self.assertTrue(len(model.wv.vocab) == 1750)</div>
<div class="line"><span class="lineno">  516</span>        np.allclose(model.wv.vocab[<span class="stringliteral">&#39;the&#39;</span>].code, [1, 1, 1, 0])</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span>        <span class="comment"># no input =&gt; &quot;RuntimeError: you must first build vocabulary before training the model&quot;</span></div>
<div class="line"><span class="lineno">  519</span>        self.assertRaises(RuntimeError, word2vec.Word2Vec, [])</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>        <span class="comment"># input not empty, but rather completely filtered out</span></div>
<div class="line"><span class="lineno">  522</span>        self.assertRaises(RuntimeError, word2vec.Word2Vec, corpus, min_count=total_words + 1)</div>
<div class="line"><span class="lineno">  523</span> </div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/gensim/test/<a class="el" href="test__word2vec_8py.html">test_word2vec.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
