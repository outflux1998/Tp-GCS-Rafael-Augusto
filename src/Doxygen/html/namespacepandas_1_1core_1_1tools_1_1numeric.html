<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.core.tools.numeric Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core_1_1tools.html">tools</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1core_1_1tools_1_1numeric.html">numeric</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pandas.core.tools.numeric Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acbc4dd44bc5e9e13190c0620feb90ba3" id="r_acbc4dd44bc5e9e13190c0620feb90ba3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1core_1_1tools_1_1numeric.html#acbc4dd44bc5e9e13190c0620feb90ba3">to_numeric</a> (arg, errors=&quot;raise&quot;, downcast=None)</td></tr>
<tr class="separator:acbc4dd44bc5e9e13190c0620feb90ba3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="acbc4dd44bc5e9e13190c0620feb90ba3" name="acbc4dd44bc5e9e13190c0620feb90ba3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbc4dd44bc5e9e13190c0620feb90ba3">&#9670;&#160;</a></span>to_numeric()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.core.tools.numeric.to_numeric </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>errors</em> = <code>&quot;raise&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>downcast</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert argument to a numeric type.

The default return dtype is `float64` or `int64`
depending on the data supplied. Use the `downcast` parameter
to obtain other dtypes.

Please note that precision loss may occur if really large numbers
are passed in. Due to the internal limitations of `ndarray`, if
numbers smaller than `-9223372036854775808` (np.iinfo(np.int64).min)
or larger than `18446744073709551615` (np.iinfo(np.uint64).max) are
passed in, it is very likely they will be converted to float so that
they can stored in an `ndarray`. These warnings apply similarly to
`Series` since it internally leverages `ndarray`.

Parameters
----------
arg : scalar, list, tuple, 1-d array, or Series
    Argument to be converted.
errors : {'ignore', 'raise', 'coerce'}, default 'raise'
    - If 'raise', then invalid parsing will raise an exception.
    - If 'coerce', then invalid parsing will be set as NaN.
    - If 'ignore', then invalid parsing will return the input.
downcast : str, default None
    Can be 'integer', 'signed', 'unsigned', or 'float'.
    If not None, and if the data has been successfully cast to a
    numerical dtype (or if the data was numeric to begin with),
    downcast that resulting data to the smallest numerical dtype
    possible according to the following rules:

    - 'integer' or 'signed': smallest signed int dtype (min.: np.int8)
    - 'unsigned': smallest unsigned int dtype (min.: np.uint8)
    - 'float': smallest float dtype (min.: np.float32)

    As this behaviour is separate from the core conversion to
    numeric values, any errors raised during the downcasting
    will be surfaced regardless of the value of the 'errors' input.

    In addition, downcasting will only occur if the size
    of the resulting data's dtype is strictly larger than
    the dtype it is to be cast to, so if none of the dtypes
    checked satisfy that specification, no downcasting will be
    performed on the data.

Returns
-------
ret
    Numeric if parsing succeeded.
    Return type depends on input.  Series if Series, otherwise ndarray.

See Also
--------
DataFrame.astype : Cast argument to a specified dtype.
to_datetime : Convert argument to datetime.
to_timedelta : Convert argument to timedelta.
numpy.ndarray.astype : Cast a numpy array to a specified type.
DataFrame.convert_dtypes : Convert dtypes.

Examples
--------
Take separate series and convert to numeric, coercing when told to

&gt;&gt;&gt; s = pd.Series(['1.0', '2', -3])
&gt;&gt;&gt; pd.to_numeric(s)
0    1.0
1    2.0
2   -3.0
dtype: float64
&gt;&gt;&gt; pd.to_numeric(s, downcast='float')
0    1.0
1    2.0
2   -3.0
dtype: float32
&gt;&gt;&gt; pd.to_numeric(s, downcast='signed')
0    1
1    2
2   -3
dtype: int8
&gt;&gt;&gt; s = pd.Series(['apple', '1.0', '2', -3])
&gt;&gt;&gt; pd.to_numeric(s, errors='ignore')
0    apple
1      1.0
2        2
3       -3
dtype: object
&gt;&gt;&gt; pd.to_numeric(s, errors='coerce')
0    NaN
1    1.0
2    2.0
3   -3.0
dtype: float64

Downcasting of nullable integer and floating dtypes is supported:

&gt;&gt;&gt; s = pd.Series([1, 2, 3], dtype="Int64")
&gt;&gt;&gt; pd.to_numeric(s, downcast="integer")
0    1
1    2
2    3
dtype: Int8
&gt;&gt;&gt; s = pd.Series([1.0, 2.1, 3.0], dtype="Float64")
&gt;&gt;&gt; pd.to_numeric(s, downcast="float")
0    1.0
1    2.1
2    3.0
dtype: Float32
</pre> <div class="fragment"><div class="line"><span class="lineno">   28</span><span class="keyword">def </span>to_numeric(arg, errors=&quot;raise&quot;, downcast=None):</div>
<div class="line"><span class="lineno">   29</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   30</span><span class="stringliteral">    Convert argument to a numeric type.</span></div>
<div class="line"><span class="lineno">   31</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   32</span><span class="stringliteral">    The default return dtype is `float64` or `int64`</span></div>
<div class="line"><span class="lineno">   33</span><span class="stringliteral">    depending on the data supplied. Use the `downcast` parameter</span></div>
<div class="line"><span class="lineno">   34</span><span class="stringliteral">    to obtain other dtypes.</span></div>
<div class="line"><span class="lineno">   35</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   36</span><span class="stringliteral">    Please note that precision loss may occur if really large numbers</span></div>
<div class="line"><span class="lineno">   37</span><span class="stringliteral">    are passed in. Due to the internal limitations of `ndarray`, if</span></div>
<div class="line"><span class="lineno">   38</span><span class="stringliteral">    numbers smaller than `-9223372036854775808` (np.iinfo(np.int64).min)</span></div>
<div class="line"><span class="lineno">   39</span><span class="stringliteral">    or larger than `18446744073709551615` (np.iinfo(np.uint64).max) are</span></div>
<div class="line"><span class="lineno">   40</span><span class="stringliteral">    passed in, it is very likely they will be converted to float so that</span></div>
<div class="line"><span class="lineno">   41</span><span class="stringliteral">    they can stored in an `ndarray`. These warnings apply similarly to</span></div>
<div class="line"><span class="lineno">   42</span><span class="stringliteral">    `Series` since it internally leverages `ndarray`.</span></div>
<div class="line"><span class="lineno">   43</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   44</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">    arg : scalar, list, tuple, 1-d array, or Series</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral">        Argument to be converted.</span></div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral">    errors : {&#39;ignore&#39;, &#39;raise&#39;, &#39;coerce&#39;}, default &#39;raise&#39;</span></div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral">        - If &#39;raise&#39;, then invalid parsing will raise an exception.</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">        - If &#39;coerce&#39;, then invalid parsing will be set as NaN.</span></div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">        - If &#39;ignore&#39;, then invalid parsing will return the input.</span></div>
<div class="line"><span class="lineno">   52</span><span class="stringliteral">    downcast : str, default None</span></div>
<div class="line"><span class="lineno">   53</span><span class="stringliteral">        Can be &#39;integer&#39;, &#39;signed&#39;, &#39;unsigned&#39;, or &#39;float&#39;.</span></div>
<div class="line"><span class="lineno">   54</span><span class="stringliteral">        If not None, and if the data has been successfully cast to a</span></div>
<div class="line"><span class="lineno">   55</span><span class="stringliteral">        numerical dtype (or if the data was numeric to begin with),</span></div>
<div class="line"><span class="lineno">   56</span><span class="stringliteral">        downcast that resulting data to the smallest numerical dtype</span></div>
<div class="line"><span class="lineno">   57</span><span class="stringliteral">        possible according to the following rules:</span></div>
<div class="line"><span class="lineno">   58</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   59</span><span class="stringliteral">        - &#39;integer&#39; or &#39;signed&#39;: smallest signed int dtype (min.: np.int8)</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral">        - &#39;unsigned&#39;: smallest unsigned int dtype (min.: np.uint8)</span></div>
<div class="line"><span class="lineno">   61</span><span class="stringliteral">        - &#39;float&#39;: smallest float dtype (min.: np.float32)</span></div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">        As this behaviour is separate from the core conversion to</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral">        numeric values, any errors raised during the downcasting</span></div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">        will be surfaced regardless of the value of the &#39;errors&#39; input.</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral">        In addition, downcasting will only occur if the size</span></div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">        of the resulting data&#39;s dtype is strictly larger than</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral">        the dtype it is to be cast to, so if none of the dtypes</span></div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral">        checked satisfy that specification, no downcasting will be</span></div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">        performed on the data.</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">    ret</span></div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">        Numeric if parsing succeeded.</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">        Return type depends on input.  Series if Series, otherwise ndarray.</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral">    See Also</span></div>
<div class="line"><span class="lineno">   80</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">   81</span><span class="stringliteral">    DataFrame.astype : Cast argument to a specified dtype.</span></div>
<div class="line"><span class="lineno">   82</span><span class="stringliteral">    to_datetime : Convert argument to datetime.</span></div>
<div class="line"><span class="lineno">   83</span><span class="stringliteral">    to_timedelta : Convert argument to timedelta.</span></div>
<div class="line"><span class="lineno">   84</span><span class="stringliteral">    numpy.ndarray.astype : Cast a numpy array to a specified type.</span></div>
<div class="line"><span class="lineno">   85</span><span class="stringliteral">    DataFrame.convert_dtypes : Convert dtypes.</span></div>
<div class="line"><span class="lineno">   86</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   87</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">   88</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral">    Take separate series and convert to numeric, coercing when told to</span></div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral">    &gt;&gt;&gt; s = pd.Series([&#39;1.0&#39;, &#39;2&#39;, -3])</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">    &gt;&gt;&gt; pd.to_numeric(s)</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">    0    1.0</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">    1    2.0</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">    2   -3.0</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    dtype: float64</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">    &gt;&gt;&gt; pd.to_numeric(s, downcast=&#39;float&#39;)</span></div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">    0    1.0</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">    1    2.0</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">    2   -3.0</span></div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">    dtype: float32</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral">    &gt;&gt;&gt; pd.to_numeric(s, downcast=&#39;signed&#39;)</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">    0    1</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">    1    2</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">    2   -3</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">    dtype: int8</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">    &gt;&gt;&gt; s = pd.Series([&#39;apple&#39;, &#39;1.0&#39;, &#39;2&#39;, -3])</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">    &gt;&gt;&gt; pd.to_numeric(s, errors=&#39;ignore&#39;)</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    0    apple</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">    1      1.0</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral">    2        2</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">    3       -3</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">    dtype: object</span></div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral">    &gt;&gt;&gt; pd.to_numeric(s, errors=&#39;coerce&#39;)</span></div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">    0    NaN</span></div>
<div class="line"><span class="lineno">  116</span><span class="stringliteral">    1    1.0</span></div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral">    2    2.0</span></div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">    3   -3.0</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">    dtype: float64</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">    Downcasting of nullable integer and floating dtypes is supported:</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">    &gt;&gt;&gt; s = pd.Series([1, 2, 3], dtype=&quot;Int64&quot;)</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">    &gt;&gt;&gt; pd.to_numeric(s, downcast=&quot;integer&quot;)</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">    0    1</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral">    1    2</span></div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">    2    3</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">    dtype: Int8</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">    &gt;&gt;&gt; s = pd.Series([1.0, 2.1, 3.0], dtype=&quot;Float64&quot;)</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral">    &gt;&gt;&gt; pd.to_numeric(s, downcast=&quot;float&quot;)</span></div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">    0    1.0</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">    1    2.1</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">    2    3.0</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral">    dtype: Float32</span></div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  136</span>    <span class="keywordflow">if</span> downcast <span class="keywordflow">not</span> <span class="keywordflow">in</span> (<span class="keywordtype">None</span>, <span class="stringliteral">&quot;integer&quot;</span>, <span class="stringliteral">&quot;signed&quot;</span>, <span class="stringliteral">&quot;unsigned&quot;</span>, <span class="stringliteral">&quot;float&quot;</span>):</div>
<div class="line"><span class="lineno">  137</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;invalid downcasting method provided&quot;</span>)</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">if</span> errors <span class="keywordflow">not</span> <span class="keywordflow">in</span> (<span class="stringliteral">&quot;ignore&quot;</span>, <span class="stringliteral">&quot;raise&quot;</span>, <span class="stringliteral">&quot;coerce&quot;</span>):</div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;invalid error value specified&quot;</span>)</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    is_series = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  143</span>    is_index = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  144</span>    is_scalars = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordflow">if</span> isinstance(arg, ABCSeries):</div>
<div class="line"><span class="lineno">  147</span>        is_series = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  148</span>        values = arg.values</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">elif</span> isinstance(arg, ABCIndex):</div>
<div class="line"><span class="lineno">  150</span>        is_index = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  151</span>        <span class="keywordflow">if</span> needs_i8_conversion(arg.dtype):</div>
<div class="line"><span class="lineno">  152</span>            values = arg.asi8</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  154</span>            values = arg.values</div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">elif</span> isinstance(arg, (list, tuple)):</div>
<div class="line"><span class="lineno">  156</span>        values = np.array(arg, dtype=<span class="stringliteral">&quot;O&quot;</span>)</div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">elif</span> is_scalar(arg):</div>
<div class="line"><span class="lineno">  158</span>        <span class="keywordflow">if</span> is_decimal(arg):</div>
<div class="line"><span class="lineno">  159</span>            <span class="keywordflow">return</span> float(arg)</div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">if</span> is_number(arg):</div>
<div class="line"><span class="lineno">  161</span>            <span class="keywordflow">return</span> arg</div>
<div class="line"><span class="lineno">  162</span>        is_scalars = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  163</span>        values = np.array([arg], dtype=<span class="stringliteral">&quot;O&quot;</span>)</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">elif</span> getattr(arg, <span class="stringliteral">&quot;ndim&quot;</span>, 1) &gt; 1:</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;arg must be a list, tuple, 1-d array, or Series&quot;</span>)</div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  167</span>        values = arg</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="comment"># GH33013: for IntegerArray &amp; FloatingArray extract non-null values for casting</span></div>
<div class="line"><span class="lineno">  170</span>    <span class="comment"># save mask to reconstruct the full array after casting</span></div>
<div class="line"><span class="lineno">  171</span>    mask: npt.NDArray[np.bool_] | <span class="keywordtype">None</span> = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">if</span> isinstance(values, NumericArray):</div>
<div class="line"><span class="lineno">  173</span>        mask = values._mask</div>
<div class="line"><span class="lineno">  174</span>        values = values._data[~mask]</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>    values_dtype = getattr(values, <span class="stringliteral">&quot;dtype&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">if</span> is_numeric_dtype(values_dtype):</div>
<div class="line"><span class="lineno">  178</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">elif</span> is_datetime_or_timedelta_dtype(values_dtype):</div>
<div class="line"><span class="lineno">  180</span>        values = values.view(np.int64)</div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  182</span>        values = ensure_object(values)</div>
<div class="line"><span class="lineno">  183</span>        coerce_numeric = errors <span class="keywordflow">not</span> <span class="keywordflow">in</span> (<span class="stringliteral">&quot;ignore&quot;</span>, <span class="stringliteral">&quot;raise&quot;</span>)</div>
<div class="line"><span class="lineno">  184</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  185</span>            values, _ = lib.maybe_convert_numeric(</div>
<div class="line"><span class="lineno">  186</span>                values, set(), coerce_numeric=coerce_numeric</div>
<div class="line"><span class="lineno">  187</span>            )</div>
<div class="line"><span class="lineno">  188</span>        <span class="keywordflow">except</span> (ValueError, TypeError):</div>
<div class="line"><span class="lineno">  189</span>            <span class="keywordflow">if</span> errors == <span class="stringliteral">&quot;raise&quot;</span>:</div>
<div class="line"><span class="lineno">  190</span>                <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>    <span class="comment"># attempt downcast only if the data has been successfully converted</span></div>
<div class="line"><span class="lineno">  193</span>    <span class="comment"># to a numerical dtype and if a downcast method has been specified</span></div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">if</span> downcast <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> is_numeric_dtype(values.dtype):</div>
<div class="line"><span class="lineno">  195</span>        typecodes: str | <span class="keywordtype">None</span> = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordflow">if</span> downcast <span class="keywordflow">in</span> (<span class="stringliteral">&quot;integer&quot;</span>, <span class="stringliteral">&quot;signed&quot;</span>):</div>
<div class="line"><span class="lineno">  198</span>            typecodes = np.typecodes[<span class="stringliteral">&quot;Integer&quot;</span>]</div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">elif</span> downcast == <span class="stringliteral">&quot;unsigned&quot;</span> <span class="keywordflow">and</span> (<span class="keywordflow">not</span> len(values) <span class="keywordflow">or</span> np.min(values) &gt;= 0):</div>
<div class="line"><span class="lineno">  200</span>            typecodes = np.typecodes[<span class="stringliteral">&quot;UnsignedInteger&quot;</span>]</div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">elif</span> downcast == <span class="stringliteral">&quot;float&quot;</span>:</div>
<div class="line"><span class="lineno">  202</span>            typecodes = np.typecodes[<span class="stringliteral">&quot;Float&quot;</span>]</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>            <span class="comment"># pandas support goes only to np.float32,</span></div>
<div class="line"><span class="lineno">  205</span>            <span class="comment"># as float dtypes smaller than that are</span></div>
<div class="line"><span class="lineno">  206</span>            <span class="comment"># extremely rare and not well supported</span></div>
<div class="line"><span class="lineno">  207</span>            float_32_char = np.dtype(np.float32).char</div>
<div class="line"><span class="lineno">  208</span>            float_32_ind = typecodes.index(float_32_char)</div>
<div class="line"><span class="lineno">  209</span>            typecodes = typecodes[float_32_ind:]</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>        <span class="keywordflow">if</span> typecodes <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  212</span>            <span class="comment"># from smallest to largest</span></div>
<div class="line"><span class="lineno">  213</span>            <span class="keywordflow">for</span> typecode <span class="keywordflow">in</span> typecodes:</div>
<div class="line"><span class="lineno">  214</span>                dtype = np.dtype(typecode)</div>
<div class="line"><span class="lineno">  215</span>                <span class="keywordflow">if</span> dtype.itemsize &lt;= values.dtype.itemsize:</div>
<div class="line"><span class="lineno">  216</span>                    values = maybe_downcast_numeric(values, dtype)</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>                    <span class="comment"># successful conversion</span></div>
<div class="line"><span class="lineno">  219</span>                    <span class="keywordflow">if</span> values.dtype == dtype:</div>
<div class="line"><span class="lineno">  220</span>                        <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    <span class="comment"># GH33013: for IntegerArray &amp; FloatingArray need to reconstruct masked array</span></div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">if</span> mask <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  224</span>        data = np.zeros(mask.shape, dtype=values.dtype)</div>
<div class="line"><span class="lineno">  225</span>        data[~mask] = values</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>        <span class="keyword">from</span> <a class="code hl_namespace" href="namespacepandas_1_1core_1_1arrays.html">pandas.core.arrays</a> <span class="keyword">import</span> (</div>
<div class="line"><span class="lineno">  228</span>            FloatingArray,</div>
<div class="line"><span class="lineno">  229</span>            IntegerArray,</div>
<div class="line"><span class="lineno">  230</span>        )</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>        klass = IntegerArray <span class="keywordflow">if</span> is_integer_dtype(data.dtype) <span class="keywordflow">else</span> FloatingArray</div>
<div class="line"><span class="lineno">  233</span>        values = klass(data, mask.copy())</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">if</span> is_series:</div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">return</span> arg._constructor(values, index=arg.index, name=arg.name)</div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">elif</span> is_index:</div>
<div class="line"><span class="lineno">  238</span>        <span class="comment"># because we want to coerce to numeric if possible,</span></div>
<div class="line"><span class="lineno">  239</span>        <span class="comment"># do not use _shallow_copy</span></div>
<div class="line"><span class="lineno">  240</span>        <span class="keywordflow">return</span> pd.Index(values, name=arg.name)</div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">elif</span> is_scalars:</div>
<div class="line"><span class="lineno">  242</span>        <span class="keywordflow">return</span> values[0]</div>
<div class="line"><span class="lineno">  243</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  244</span>        <span class="keywordflow">return</span> values</div>
<div class="ttc" id="anamespacepandas_1_1core_1_1arrays_html"><div class="ttname"><a href="namespacepandas_1_1core_1_1arrays.html">pandas.core.arrays</a></div><div class="ttdef"><b>Definition</b> __init__.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
