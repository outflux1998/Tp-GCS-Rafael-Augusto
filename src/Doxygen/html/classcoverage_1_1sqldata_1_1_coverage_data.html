<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: coverage.sqldata.CoverageData Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecoverage.html">coverage</a></li><li class="navelem"><a class="el" href="namespacecoverage_1_1sqldata.html">sqldata</a></li><li class="navelem"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html">CoverageData</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classcoverage_1_1sqldata_1_1_coverage_data-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">coverage.sqldata.CoverageData Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for coverage.sqldata.CoverageData:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcoverage_1_1sqldata_1_1_coverage_data.png" usemap="#coverage.sqldata.CoverageData_map" alt=""/>
  <map id="coverage.sqldata.CoverageData_map" name="coverage.sqldata.CoverageData_map">
<area href="classcoverage_1_1debug_1_1_auto_repr_mixin.html" alt="coverage.debug.AutoReprMixin" shape="rect" coords="0,0,195,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a81bd3db3f034344c34ae814ed297f118" id="r_a81bd3db3f034344c34ae814ed297f118"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a81bd3db3f034344c34ae814ed297f118">__init__</a> (self, Optional[str] basename=None, Optional[Union[str, bool]] suffix=None, bool no_disk=False, Optional[<a class="el" href="classcoverage_1_1types_1_1_t_warn_fn.html">TWarnFn</a>] warn=None, Optional[<a class="el" href="classcoverage_1_1types_1_1_t_debug_ctl.html">TDebugCtl</a>] debug=None)</td></tr>
<tr class="separator:a81bd3db3f034344c34ae814ed297f118"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6918af56d82a9cb072ec767b9b4ed8ad" id="r_a6918af56d82a9cb072ec767b9b4ed8ad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a6918af56d82a9cb072ec767b9b4ed8ad">__bool__</a> (self)</td></tr>
<tr class="separator:a6918af56d82a9cb072ec767b9b4ed8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef8686e27faf00e842107d560936616f" id="r_aef8686e27faf00e842107d560936616f"><td class="memItemLeft" align="right" valign="top">bytes&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#aef8686e27faf00e842107d560936616f">dumps</a> (self)</td></tr>
<tr class="separator:aef8686e27faf00e842107d560936616f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d89aac5e5f03fdf61681dd667b98bdf" id="r_a6d89aac5e5f03fdf61681dd667b98bdf"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a6d89aac5e5f03fdf61681dd667b98bdf">loads</a> (self, bytes data)</td></tr>
<tr class="separator:a6d89aac5e5f03fdf61681dd667b98bdf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf242a8c43980655957d2537733bb1a" id="r_a5cf242a8c43980655957d2537733bb1a"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a5cf242a8c43980655957d2537733bb1a">set_context</a> (self, Optional[str] context)</td></tr>
<tr class="separator:a5cf242a8c43980655957d2537733bb1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48d47355b329ee5c00a4ddca0f373a7c" id="r_a48d47355b329ee5c00a4ddca0f373a7c"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a48d47355b329ee5c00a4ddca0f373a7c">base_filename</a> (self)</td></tr>
<tr class="separator:a48d47355b329ee5c00a4ddca0f373a7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fa9db05ecc1bf5502f516f141fb1bcc" id="r_a1fa9db05ecc1bf5502f516f141fb1bcc"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a1fa9db05ecc1bf5502f516f141fb1bcc">data_filename</a> (self)</td></tr>
<tr class="separator:a1fa9db05ecc1bf5502f516f141fb1bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf174d79cc979b1e009bec844a7881a0" id="r_abf174d79cc979b1e009bec844a7881a0"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#abf174d79cc979b1e009bec844a7881a0">add_lines</a> (self, Mapping[str, Collection[TLineNo]] line_data)</td></tr>
<tr class="separator:abf174d79cc979b1e009bec844a7881a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e8766352b143c415da1092d9f964d33" id="r_a4e8766352b143c415da1092d9f964d33"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a4e8766352b143c415da1092d9f964d33">add_arcs</a> (self, Mapping[str, Collection[TArc]] arc_data)</td></tr>
<tr class="separator:a4e8766352b143c415da1092d9f964d33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82bee9fc9b64ffb760a513cabdbad5a8" id="r_a82bee9fc9b64ffb760a513cabdbad5a8"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a82bee9fc9b64ffb760a513cabdbad5a8">add_file_tracers</a> (self, Mapping[str, str] file_tracers)</td></tr>
<tr class="separator:a82bee9fc9b64ffb760a513cabdbad5a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e1146d1cf5b21476f35d98408a1c351" id="r_a9e1146d1cf5b21476f35d98408a1c351"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a9e1146d1cf5b21476f35d98408a1c351">touch_file</a> (self, str filename, str plugin_name=&quot;&quot;)</td></tr>
<tr class="separator:a9e1146d1cf5b21476f35d98408a1c351"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6efd0f8caac56e6432616205be27dd91" id="r_a6efd0f8caac56e6432616205be27dd91"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a6efd0f8caac56e6432616205be27dd91">touch_files</a> (self, Iterable[str] filenames, Optional[str] plugin_name=None)</td></tr>
<tr class="separator:a6efd0f8caac56e6432616205be27dd91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a113f497ffcd9cb30c338ab37ee32c40a" id="r_a113f497ffcd9cb30c338ab37ee32c40a"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a113f497ffcd9cb30c338ab37ee32c40a">update</a> (self, <a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html">CoverageData</a> other_data, Optional[PathAliases] aliases=None)</td></tr>
<tr class="separator:a113f497ffcd9cb30c338ab37ee32c40a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e9325421a640f4937fd534e1320fe7" id="r_aa6e9325421a640f4937fd534e1320fe7"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#aa6e9325421a640f4937fd534e1320fe7">erase</a> (self, bool parallel=False)</td></tr>
<tr class="separator:aa6e9325421a640f4937fd534e1320fe7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55f5496979897eea8e8b4d54aae0f1a2" id="r_a55f5496979897eea8e8b4d54aae0f1a2"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a55f5496979897eea8e8b4d54aae0f1a2">read</a> (self)</td></tr>
<tr class="separator:a55f5496979897eea8e8b4d54aae0f1a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a422931b9a3984ef7732b2d27ad52d6b8" id="r_a422931b9a3984ef7732b2d27ad52d6b8"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a422931b9a3984ef7732b2d27ad52d6b8">write</a> (self)</td></tr>
<tr class="separator:a422931b9a3984ef7732b2d27ad52d6b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85ea5f1846fd4700b40f6a4693cb4995" id="r_a85ea5f1846fd4700b40f6a4693cb4995"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a85ea5f1846fd4700b40f6a4693cb4995">has_arcs</a> (self)</td></tr>
<tr class="separator:a85ea5f1846fd4700b40f6a4693cb4995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab12504145413eb36dceda7c6ca2edc02" id="r_ab12504145413eb36dceda7c6ca2edc02"><td class="memItemLeft" align="right" valign="top">Set[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#ab12504145413eb36dceda7c6ca2edc02">measured_files</a> (self)</td></tr>
<tr class="separator:ab12504145413eb36dceda7c6ca2edc02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe796ea02f011c9b34091fb5574c6c8f" id="r_abe796ea02f011c9b34091fb5574c6c8f"><td class="memItemLeft" align="right" valign="top">Set[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#abe796ea02f011c9b34091fb5574c6c8f">measured_contexts</a> (self)</td></tr>
<tr class="separator:abe796ea02f011c9b34091fb5574c6c8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08f389a210e4271882291ac5d3cf6548" id="r_a08f389a210e4271882291ac5d3cf6548"><td class="memItemLeft" align="right" valign="top">Optional[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a08f389a210e4271882291ac5d3cf6548">file_tracer</a> (self, str filename)</td></tr>
<tr class="separator:a08f389a210e4271882291ac5d3cf6548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cdb7deab9e727072407b50da1b81cb2" id="r_a2cdb7deab9e727072407b50da1b81cb2"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a2cdb7deab9e727072407b50da1b81cb2">set_query_context</a> (self, str context)</td></tr>
<tr class="separator:a2cdb7deab9e727072407b50da1b81cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0110d7c62b9ad0023e5ec6e1a728c8c" id="r_ae0110d7c62b9ad0023e5ec6e1a728c8c"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#ae0110d7c62b9ad0023e5ec6e1a728c8c">set_query_contexts</a> (self, Optional[Sequence[str]] contexts)</td></tr>
<tr class="separator:ae0110d7c62b9ad0023e5ec6e1a728c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17657e9db9c73a9e1f64ea859bf82cd" id="r_ac17657e9db9c73a9e1f64ea859bf82cd"><td class="memItemLeft" align="right" valign="top">Optional[List[TLineNo]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#ac17657e9db9c73a9e1f64ea859bf82cd">lines</a> (self, str filename)</td></tr>
<tr class="separator:ac17657e9db9c73a9e1f64ea859bf82cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05fcc16e425541df6ea6351842188f60" id="r_a05fcc16e425541df6ea6351842188f60"><td class="memItemLeft" align="right" valign="top">Optional[List[TArc]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a05fcc16e425541df6ea6351842188f60">arcs</a> (self, str filename)</td></tr>
<tr class="separator:a05fcc16e425541df6ea6351842188f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b309e5a1613feb48633299a3cbaaa9b" id="r_a7b309e5a1613feb48633299a3cbaaa9b"><td class="memItemLeft" align="right" valign="top">Dict[TLineNo, List[str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a7b309e5a1613feb48633299a3cbaaa9b">contexts_by_lineno</a> (self, str filename)</td></tr>
<tr class="separator:a7b309e5a1613feb48633299a3cbaaa9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cf345b5670062563ca90099f8d8d647" id="r_a4cf345b5670062563ca90099f8d8d647"><td class="memItemLeft" align="right" valign="top">List[Tuple[str, Any]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a4cf345b5670062563ca90099f8d8d647">sys_info</a> (cls)</td></tr>
<tr class="separator:a4cf345b5670062563ca90099f8d8d647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classcoverage_1_1debug_1_1_auto_repr_mixin"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classcoverage_1_1debug_1_1_auto_repr_mixin')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classcoverage_1_1debug_1_1_auto_repr_mixin.html">coverage.debug.AutoReprMixin</a></td></tr>
<tr class="memitem:acf3fda8466825d271c0a3a8248811689 inherit pub_methods_classcoverage_1_1debug_1_1_auto_repr_mixin" id="r_acf3fda8466825d271c0a3a8248811689"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1debug_1_1_auto_repr_mixin.html#acf3fda8466825d271c0a3a8248811689">__repr__</a> (self)</td></tr>
<tr class="separator:acf3fda8466825d271c0a3a8248811689 inherit pub_methods_classcoverage_1_1debug_1_1_auto_repr_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3c975a4e963668582b4efd24ad68806c" id="r_a3c975a4e963668582b4efd24ad68806c"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a3c975a4e963668582b4efd24ad68806c">_choose_filename</a> (self)</td></tr>
<tr class="separator:a3c975a4e963668582b4efd24ad68806c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba2395caddb148a9db0a7f0f2a0eee73" id="r_aba2395caddb148a9db0a7f0f2a0eee73"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#aba2395caddb148a9db0a7f0f2a0eee73">_reset</a> (self)</td></tr>
<tr class="separator:aba2395caddb148a9db0a7f0f2a0eee73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afec75ceb5c8c96dd2cdd715836bc65f0" id="r_afec75ceb5c8c96dd2cdd715836bc65f0"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#afec75ceb5c8c96dd2cdd715836bc65f0">_open_db</a> (self)</td></tr>
<tr class="separator:afec75ceb5c8c96dd2cdd715836bc65f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a834f679649371b4b04c35b6d466881f8" id="r_a834f679649371b4b04c35b6d466881f8"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a834f679649371b4b04c35b6d466881f8">_read_db</a> (self)</td></tr>
<tr class="separator:a834f679649371b4b04c35b6d466881f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98c9ab0cb9973c5846196472524d45d" id="r_ae98c9ab0cb9973c5846196472524d45d"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#ae98c9ab0cb9973c5846196472524d45d">_init_db</a> (self, <a class="el" href="classcoverage_1_1sqldata_1_1_sqlite_db.html">SqliteDb</a> <a class="el" href="__blas__subroutines_8h.html#a0f5363aa43cefa8310290f87cef520ea">db</a>)</td></tr>
<tr class="separator:ae98c9ab0cb9973c5846196472524d45d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6eefce30c495ea583528c578d7408cb4" id="r_a6eefce30c495ea583528c578d7408cb4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcoverage_1_1sqldata_1_1_sqlite_db.html">SqliteDb</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a6eefce30c495ea583528c578d7408cb4">_connect</a> (self)</td></tr>
<tr class="separator:a6eefce30c495ea583528c578d7408cb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd59f33d93245ab2555d09a61c9590f9" id="r_afd59f33d93245ab2555d09a61c9590f9"><td class="memItemLeft" align="right" valign="top">Optional[int]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#afd59f33d93245ab2555d09a61c9590f9">_file_id</a> (self, str filename, bool add=False)</td></tr>
<tr class="separator:afd59f33d93245ab2555d09a61c9590f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adea272e135434abfb2c3494aeb6d6b46" id="r_adea272e135434abfb2c3494aeb6d6b46"><td class="memItemLeft" align="right" valign="top">Optional[int]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#adea272e135434abfb2c3494aeb6d6b46">_context_id</a> (self, str context)</td></tr>
<tr class="separator:adea272e135434abfb2c3494aeb6d6b46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae719b4bd420336a56a20b27c4be31624" id="r_ae719b4bd420336a56a20b27c4be31624"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#ae719b4bd420336a56a20b27c4be31624">_set_context_id</a> (self)</td></tr>
<tr class="separator:ae719b4bd420336a56a20b27c4be31624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20cfc4a7bcdca5d4e0bd00ca58962a1b" id="r_a20cfc4a7bcdca5d4e0bd00ca58962a1b"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a20cfc4a7bcdca5d4e0bd00ca58962a1b">_choose_lines_or_arcs</a> (self, bool <a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#ac17657e9db9c73a9e1f64ea859bf82cd">lines</a>=False, bool <a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a05fcc16e425541df6ea6351842188f60">arcs</a>=False)</td></tr>
<tr class="separator:a20cfc4a7bcdca5d4e0bd00ca58962a1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633d00fb26cda1d5db00ac9635b8019b" id="r_a633d00fb26cda1d5db00ac9635b8019b"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a633d00fb26cda1d5db00ac9635b8019b">_start_using</a> (self)</td></tr>
<tr class="separator:a633d00fb26cda1d5db00ac9635b8019b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a12e4d46beb5bc8b758f01bab7f0bc56f" id="r_a12e4d46beb5bc8b758f01bab7f0bc56f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a12e4d46beb5bc8b758f01bab7f0bc56f">_no_disk</a></td></tr>
<tr class="separator:a12e4d46beb5bc8b758f01bab7f0bc56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d3130c27163303227f90930189fef90" id="r_a4d3130c27163303227f90930189fef90"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a4d3130c27163303227f90930189fef90">_basename</a></td></tr>
<tr class="separator:a4d3130c27163303227f90930189fef90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89639be99256930dec6f1527a78ed94" id="r_af89639be99256930dec6f1527a78ed94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#af89639be99256930dec6f1527a78ed94">_suffix</a></td></tr>
<tr class="separator:af89639be99256930dec6f1527a78ed94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a464c601125b5b6417206d4e5a78913b7" id="r_a464c601125b5b6417206d4e5a78913b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a464c601125b5b6417206d4e5a78913b7">_warn</a></td></tr>
<tr class="separator:a464c601125b5b6417206d4e5a78913b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c13a74a8c1a57e5832859e45e8c3335" id="r_a9c13a74a8c1a57e5832859e45e8c3335"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a9c13a74a8c1a57e5832859e45e8c3335">_debug</a></td></tr>
<tr class="separator:a9c13a74a8c1a57e5832859e45e8c3335"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab295ee61fadc4dd61505801bb0d88d6a" id="r_ab295ee61fadc4dd61505801bb0d88d6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#ab295ee61fadc4dd61505801bb0d88d6a">_pid</a></td></tr>
<tr class="separator:ab295ee61fadc4dd61505801bb0d88d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d8a3370398521f6c017b180a887f8dc" id="r_a9d8a3370398521f6c017b180a887f8dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a9d8a3370398521f6c017b180a887f8dc">_lock</a></td></tr>
<tr class="separator:a9d8a3370398521f6c017b180a887f8dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac60d7ee2089da606e60fc170fbb8f04d" id="r_ac60d7ee2089da606e60fc170fbb8f04d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#ac60d7ee2089da606e60fc170fbb8f04d">_have_used</a></td></tr>
<tr class="separator:ac60d7ee2089da606e60fc170fbb8f04d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa0e5b1df04e61138672ee580fe72ffb" id="r_afa0e5b1df04e61138672ee580fe72ffb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#afa0e5b1df04e61138672ee580fe72ffb">_has_lines</a></td></tr>
<tr class="separator:afa0e5b1df04e61138672ee580fe72ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2446a1ee977a6c4a289fe16a35fb0cd" id="r_af2446a1ee977a6c4a289fe16a35fb0cd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#af2446a1ee977a6c4a289fe16a35fb0cd">_has_arcs</a></td></tr>
<tr class="separator:af2446a1ee977a6c4a289fe16a35fb0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73d3fc724e0a695e4bc9d9ccd5e32597" id="r_a73d3fc724e0a695e4bc9d9ccd5e32597"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a73d3fc724e0a695e4bc9d9ccd5e32597">_filename</a></td></tr>
<tr class="separator:a73d3fc724e0a695e4bc9d9ccd5e32597"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a87251ed531370296d31b84c7fc8ac3" id="r_a8a87251ed531370296d31b84c7fc8ac3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a8a87251ed531370296d31b84c7fc8ac3">_dbs</a></td></tr>
<tr class="separator:a8a87251ed531370296d31b84c7fc8ac3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada5240444b8d92305c467688ca0d50f9" id="r_ada5240444b8d92305c467688ca0d50f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#ada5240444b8d92305c467688ca0d50f9">_file_map</a></td></tr>
<tr class="separator:ada5240444b8d92305c467688ca0d50f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab90ec8bba04e03c42aac53ae6fac1825" id="r_ab90ec8bba04e03c42aac53ae6fac1825"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#ab90ec8bba04e03c42aac53ae6fac1825">_current_context_id</a></td></tr>
<tr class="separator:ab90ec8bba04e03c42aac53ae6fac1825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4eefcaa3becb18ff2442f256e3f5b831" id="r_a4eefcaa3becb18ff2442f256e3f5b831"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a4eefcaa3becb18ff2442f256e3f5b831">_current_context</a></td></tr>
<tr class="separator:a4eefcaa3becb18ff2442f256e3f5b831"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37b117bf74d763094b053b829e357b8a" id="r_a37b117bf74d763094b053b829e357b8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html#a37b117bf74d763094b053b829e357b8a">_query_context_ids</a></td></tr>
<tr class="separator:a37b117bf74d763094b053b829e357b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_attribs_classcoverage_1_1debug_1_1_auto_repr_mixin"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classcoverage_1_1debug_1_1_auto_repr_mixin')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classcoverage_1_1debug_1_1_auto_repr_mixin.html">coverage.debug.AutoReprMixin</a></td></tr>
<tr class="memitem:a3a21a49e1d89a00e2fdabb786026a7a8 inherit pub_static_attribs_classcoverage_1_1debug_1_1_auto_repr_mixin" id="r_a3a21a49e1d89a00e2fdabb786026a7a8"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcoverage_1_1debug_1_1_auto_repr_mixin.html#a3a21a49e1d89a00e2fdabb786026a7a8">auto_repr_ignore</a> = ['auto_repr_ignore', '$coverage.object_id']</td></tr>
<tr class="separator:a3a21a49e1d89a00e2fdabb786026a7a8 inherit pub_static_attribs_classcoverage_1_1debug_1_1_auto_repr_mixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Manages collected coverage data, including file storage.

This class is the public supported API to the data that coverage.py
collects during program execution.  It includes information about what code
was executed. It does not include information from the analysis phase, to
determine what lines could have been executed, or what lines were not
executed.

.. note::

    The data file is currently a SQLite database file, with a
    :ref:`documented schema &lt;dbschema&gt;`. The schema is subject to change
    though, so be careful about querying it directly. Use this API if you
    can to isolate yourself from changes.

There are a number of kinds of data that can be collected:

* **lines**: the line numbers of source lines that were executed.
  These are always available.

* **arcs**: pairs of source and destination line numbers for transitions
  between source lines.  These are only available if branch coverage was
  used.

* **file tracer names**: the module names of the file tracer plugins that
  handled each file in the data.

Lines, arcs, and file tracer names are stored for each source file. File
names in this API are case-sensitive, even on platforms with
case-insensitive file systems.

A data file either stores lines, or arcs, but not both.

A data file is associated with the data when the :class:`CoverageData`
is created, using the parameters `basename`, `suffix`, and `no_disk`. The
base name can be queried with :meth:`base_filename`, and the actual file
name being used is available from :meth:`data_filename`.

To read an existing coverage.py data file, use :meth:`read`.  You can then
access the line, arc, or file tracer data with :meth:`lines`, :meth:`arcs`,
or :meth:`file_tracer`.

The :meth:`has_arcs` method indicates whether arc data is available.  You
can get a set of the files in the data with :meth:`measured_files`.  As
with most Python containers, you can determine if there is any data at all
by using this object as a boolean value.

The contexts for each line in a file can be read with
:meth:`contexts_by_lineno`.

To limit querying to certain contexts, use :meth:`set_query_context` or
:meth:`set_query_contexts`. These will narrow the focus of subsequent
:meth:`lines`, :meth:`arcs`, and :meth:`contexts_by_lineno` calls. The set
of all measured context names can be retrieved with
:meth:`measured_contexts`.

Most data files will be created by coverage.py itself, but you can use
methods here to create data files if you like.  The :meth:`add_lines`,
:meth:`add_arcs`, and :meth:`add_file_tracers` methods add data, in ways
that are convenient for coverage.py.

To record data for contexts, use :meth:`set_context` to set a context to
be used for subsequent :meth:`add_lines` and :meth:`add_arcs` calls.

To add a source file without any measured data, use :meth:`touch_file`,
or :meth:`touch_files` for a list of such files.

Write the data to its file with :meth:`write`.

You can clear the data in memory with :meth:`erase`.  Two data collections
can be combined by using :meth:`update` on one :class:`CoverageData`,
passing it the other.

Data in a :class:`CoverageData` can be serialized and deserialized with
:meth:`dumps` and :meth:`loads`.

The methods used during the coverage.py collection phase
(:meth:`add_lines`, :meth:`add_arcs`, :meth:`set_context`, and
:meth:`add_file_tracers`) are thread-safe.  Other methods may not be.</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a81bd3db3f034344c34ae814ed297f118" name="a81bd3db3f034344c34ae814ed297f118"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81bd3db3f034344c34ae814ed297f118">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str]&#160;</td>
          <td class="paramname"><em>basename</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[Union[str, bool]]&#160;</td>
          <td class="paramname"><em>suffix</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>no_disk</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[<a class="el" href="classcoverage_1_1types_1_1_t_warn_fn.html">TWarnFn</a>]&#160;</td>
          <td class="paramname"><em>warn</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[<a class="el" href="classcoverage_1_1types_1_1_t_debug_ctl.html">TDebugCtl</a>]&#160;</td>
          <td class="paramname"><em>debug</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a :class:`CoverageData` object to hold coverage-measured data.

Arguments:
    basename (str): the base name of the data file, defaulting to
        ".coverage". This can be a path to a file in another directory.
    suffix (str or bool): has the same meaning as the `data_suffix`
        argument to :class:`coverage.Coverage`.
    no_disk (bool): if True, keep all data in memory, and don't
        write any disk file.
    warn: a warning callback function, accepting a warning message
        argument.
    debug: a `DebugControl` object (optional)</pre> <div class="fragment"><div class="line"><span class="lineno">  220</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  221</span>        <span class="stringliteral">&quot;&quot;&quot;Create a :class:`CoverageData` object to hold coverage-measured data.</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral">            basename (str): the base name of the data file, defaulting to</span></div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral">                &quot;.coverage&quot;. This can be a path to a file in another directory.</span></div>
<div class="line"><span class="lineno">  226</span><span class="stringliteral">            suffix (str or bool): has the same meaning as the `data_suffix`</span></div>
<div class="line"><span class="lineno">  227</span><span class="stringliteral">                argument to :class:`coverage.Coverage`.</span></div>
<div class="line"><span class="lineno">  228</span><span class="stringliteral">            no_disk (bool): if True, keep all data in memory, and don&#39;t</span></div>
<div class="line"><span class="lineno">  229</span><span class="stringliteral">                write any disk file.</span></div>
<div class="line"><span class="lineno">  230</span><span class="stringliteral">            warn: a warning callback function, accepting a warning message</span></div>
<div class="line"><span class="lineno">  231</span><span class="stringliteral">                argument.</span></div>
<div class="line"><span class="lineno">  232</span><span class="stringliteral">            debug: a `DebugControl` object (optional)</span></div>
<div class="line"><span class="lineno">  233</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  235</span>        self._no_disk = no_disk</div>
<div class="line"><span class="lineno">  236</span>        self._basename = os.path.abspath(basename <span class="keywordflow">or</span> <span class="stringliteral">&quot;.coverage&quot;</span>)</div>
<div class="line"><span class="lineno">  237</span>        self._suffix = suffix</div>
<div class="line"><span class="lineno">  238</span>        self._warn = warn</div>
<div class="line"><span class="lineno">  239</span>        self._debug = debug <span class="keywordflow">or</span> NoDebugging()</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>        self._choose_filename()</div>
<div class="line"><span class="lineno">  242</span>        <span class="comment"># Maps filenames to row ids.</span></div>
<div class="line"><span class="lineno">  243</span>        self._file_map: Dict[str, int] = {}</div>
<div class="line"><span class="lineno">  244</span>        <span class="comment"># Maps thread ids to SqliteDb objects.</span></div>
<div class="line"><span class="lineno">  245</span>        self._dbs: Dict[int, SqliteDb] = {}</div>
<div class="line"><span class="lineno">  246</span>        self._pid = os.getpid()</div>
<div class="line"><span class="lineno">  247</span>        <span class="comment"># Synchronize the operations used during collection.</span></div>
<div class="line"><span class="lineno">  248</span>        self._lock = threading.RLock()</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>        <span class="comment"># Are we in sync with the data file?</span></div>
<div class="line"><span class="lineno">  251</span>        self._have_used = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>        self._has_lines = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  254</span>        self._has_arcs = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>        self._current_context: Optional[str] = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  257</span>        self._current_context_id: Optional[int] = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  258</span>        self._query_context_ids: Optional[List[int]] = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  259</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6918af56d82a9cb072ec767b9b4ed8ad" name="a6918af56d82a9cb072ec767b9b4ed8ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6918af56d82a9cb072ec767b9b4ed8ad">&#9670;&#160;</a></span>__bool__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool coverage.sqldata.CoverageData.__bool__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  345</span>    <span class="keyword">def </span>__bool__(self) -&gt; bool:</div>
<div class="line"><span class="lineno">  346</span>        <span class="keywordflow">if</span> (threading.get_ident() <span class="keywordflow">not</span> <span class="keywordflow">in</span> self._dbs <span class="keywordflow">and</span> <span class="keywordflow">not</span> os.path.exists(self._filename)):</div>
<div class="line"><span class="lineno">  347</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  349</span>            <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  350</span>                <span class="keyword">with</span> con.execute(<span class="stringliteral">&quot;select * from file limit 1&quot;</span>) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  351</span>                    <span class="keywordflow">return</span> bool(list(cur))</div>
<div class="line"><span class="lineno">  352</span>        <span class="keywordflow">except</span> CoverageException:</div>
<div class="line"><span class="lineno">  353</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  354</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c975a4e963668582b4efd24ad68806c" name="a3c975a4e963668582b4efd24ad68806c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c975a4e963668582b4efd24ad68806c">&#9670;&#160;</a></span>_choose_filename()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData._choose_filename </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Set self._filename based on inited attributes.</pre> <div class="fragment"><div class="line"><span class="lineno">  260</span>    <span class="keyword">def </span>_choose_filename(self) -&gt; None:</div>
<div class="line"><span class="lineno">  261</span>        <span class="stringliteral">&quot;&quot;&quot;Set self._filename based on inited attributes.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">if</span> self._no_disk:</div>
<div class="line"><span class="lineno">  263</span>            self._filename = <span class="stringliteral">&quot;:memory:&quot;</span></div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  265</span>            self._filename = self._basename</div>
<div class="line"><span class="lineno">  266</span>            suffix = filename_suffix(self._suffix)</div>
<div class="line"><span class="lineno">  267</span>            <span class="keywordflow">if</span> suffix:</div>
<div class="line"><span class="lineno">  268</span>                self._filename += <span class="stringliteral">&quot;.&quot;</span> + suffix</div>
<div class="line"><span class="lineno">  269</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a20cfc4a7bcdca5d4e0bd00ca58962a1b" name="a20cfc4a7bcdca5d4e0bd00ca58962a1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20cfc4a7bcdca5d4e0bd00ca58962a1b">&#9670;&#160;</a></span>_choose_lines_or_arcs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData._choose_lines_or_arcs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>lines</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>arcs</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Force the data file to choose between lines and arcs.</pre> <div class="fragment"><div class="line"><span class="lineno">  539</span>    <span class="keyword">def </span>_choose_lines_or_arcs(self, lines: bool=<span class="keyword">False</span>, arcs: bool=<span class="keyword">False</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  540</span>        <span class="stringliteral">&quot;&quot;&quot;Force the data file to choose between lines and arcs.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  541</span>        <span class="keyword">assert</span> lines <span class="keywordflow">or</span> arcs</div>
<div class="line"><span class="lineno">  542</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> (lines <span class="keywordflow">and</span> arcs)</div>
<div class="line"><span class="lineno">  543</span>        <span class="keywordflow">if</span> lines <span class="keywordflow">and</span> self._has_arcs:</div>
<div class="line"><span class="lineno">  544</span>            <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataop&quot;</span>):</div>
<div class="line"><span class="lineno">  545</span>                self._debug.write(<span class="stringliteral">&quot;Error: Can&#39;t add line measurements to existing branch data&quot;</span>)</div>
<div class="line"><span class="lineno">  546</span>            <span class="keywordflow">raise</span> DataError(<span class="stringliteral">&quot;Can&#39;t add line measurements to existing branch data&quot;</span>)</div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">if</span> arcs <span class="keywordflow">and</span> self._has_lines:</div>
<div class="line"><span class="lineno">  548</span>            <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataop&quot;</span>):</div>
<div class="line"><span class="lineno">  549</span>                self._debug.write(<span class="stringliteral">&quot;Error: Can&#39;t add branch measurements to existing line data&quot;</span>)</div>
<div class="line"><span class="lineno">  550</span>            <span class="keywordflow">raise</span> DataError(<span class="stringliteral">&quot;Can&#39;t add branch measurements to existing line data&quot;</span>)</div>
<div class="line"><span class="lineno">  551</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self._has_arcs <span class="keywordflow">and</span> <span class="keywordflow">not</span> self._has_lines:</div>
<div class="line"><span class="lineno">  552</span>            self._has_lines = lines</div>
<div class="line"><span class="lineno">  553</span>            self._has_arcs = arcs</div>
<div class="line"><span class="lineno">  554</span>            <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  555</span>                con.execute_void(</div>
<div class="line"><span class="lineno">  556</span>                    <span class="stringliteral">&quot;insert or ignore into meta (key, value) values (?, ?)&quot;</span>,</div>
<div class="line"><span class="lineno">  557</span>                    (<span class="stringliteral">&quot;has_arcs&quot;</span>, str(int(arcs)))</div>
<div class="line"><span class="lineno">  558</span>                )</div>
<div class="line"><span class="lineno">  559</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6eefce30c495ea583528c578d7408cb4" name="a6eefce30c495ea583528c578d7408cb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6eefce30c495ea583528c578d7408cb4">&#9670;&#160;</a></span>_connect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classcoverage_1_1sqldata_1_1_sqlite_db.html">SqliteDb</a> coverage.sqldata.CoverageData._connect </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get the SqliteDb object to use.</pre> <div class="fragment"><div class="line"><span class="lineno">  339</span>    <span class="keyword">def </span>_connect(self) -&gt; SqliteDb:</div>
<div class="line"><span class="lineno">  340</span>        <span class="stringliteral">&quot;&quot;&quot;Get the SqliteDb object to use.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  341</span>        <span class="keywordflow">if</span> threading.get_ident() <span class="keywordflow">not</span> <span class="keywordflow">in</span> self._dbs:</div>
<div class="line"><span class="lineno">  342</span>            self._open_db()</div>
<div class="line"><span class="lineno">  343</span>        <span class="keywordflow">return</span> self._dbs[threading.get_ident()]</div>
<div class="line"><span class="lineno">  344</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adea272e135434abfb2c3494aeb6d6b46" name="adea272e135434abfb2c3494aeb6d6b46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adea272e135434abfb2c3494aeb6d6b46">&#9670;&#160;</a></span>_context_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[int] coverage.sqldata.CoverageData._context_id </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get the id for a context.</pre> <div class="fragment"><div class="line"><span class="lineno">  421</span>    <span class="keyword">def </span>_context_id(self, context: str) -&gt; Optional[int]:</div>
<div class="line"><span class="lineno">  422</span>        <span class="stringliteral">&quot;&quot;&quot;Get the id for a context.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  423</span>        <span class="keyword">assert</span> context <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  424</span>        self._start_using()</div>
<div class="line"><span class="lineno">  425</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  426</span>            row = con.execute_one(<span class="stringliteral">&quot;select id from context where context = ?&quot;</span>, (context,))</div>
<div class="line"><span class="lineno">  427</span>            <span class="keywordflow">if</span> row <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  428</span>                <span class="keywordflow">return</span> cast(int, row[0])</div>
<div class="line"><span class="lineno">  429</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  430</span>                <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  431</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afd59f33d93245ab2555d09a61c9590f9" name="afd59f33d93245ab2555d09a61c9590f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd59f33d93245ab2555d09a61c9590f9">&#9670;&#160;</a></span>_file_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[int] coverage.sqldata.CoverageData._file_id </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>add</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get the file id for `filename`.

If filename is not in the database yet, add it if `add` is True.
If `add` is not True, return None.
</pre> <div class="fragment"><div class="line"><span class="lineno">  406</span>    <span class="keyword">def </span>_file_id(self, filename: str, add: bool=<span class="keyword">False</span>) -&gt; Optional[int]:</div>
<div class="line"><span class="lineno">  407</span>        <span class="stringliteral">&quot;&quot;&quot;Get the file id for `filename`.</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">        If filename is not in the database yet, add it if `add` is True.</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">        If `add` is not True, return None.</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  412</span>        <span class="keywordflow">if</span> filename <span class="keywordflow">not</span> <span class="keywordflow">in</span> self._file_map:</div>
<div class="line"><span class="lineno">  413</span>            <span class="keywordflow">if</span> add:</div>
<div class="line"><span class="lineno">  414</span>                <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  415</span>                    self._file_map[filename] = con.execute_for_rowid(</div>
<div class="line"><span class="lineno">  416</span>                        <span class="stringliteral">&quot;insert or replace into file (path) values (?)&quot;</span>,</div>
<div class="line"><span class="lineno">  417</span>                        (filename,)</div>
<div class="line"><span class="lineno">  418</span>                    )</div>
<div class="line"><span class="lineno">  419</span>        <span class="keywordflow">return</span> self._file_map.get(filename)</div>
<div class="line"><span class="lineno">  420</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae98c9ab0cb9973c5846196472524d45d" name="ae98c9ab0cb9973c5846196472524d45d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae98c9ab0cb9973c5846196472524d45d">&#9670;&#160;</a></span>_init_db()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData._init_db </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcoverage_1_1sqldata_1_1_sqlite_db.html">SqliteDb</a>&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Write the initial contents of the database.</pre> <div class="fragment"><div class="line"><span class="lineno">  320</span>    <span class="keyword">def </span>_init_db(self, db: SqliteDb) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  321</span>        <span class="stringliteral">&quot;&quot;&quot;Write the initial contents of the database.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  322</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataio&quot;</span>):</div>
<div class="line"><span class="lineno">  323</span>            self._debug.write(f<span class="stringliteral">&quot;Initing data file {self._filename!r}&quot;</span>)</div>
<div class="line"><span class="lineno">  324</span>        db.executescript(SCHEMA)</div>
<div class="line"><span class="lineno">  325</span>        db.execute_void(<span class="stringliteral">&quot;insert into coverage_schema (version) values (?)&quot;</span>, (SCHEMA_VERSION,))</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>        <span class="comment"># When writing metadata, avoid information that will needlessly change</span></div>
<div class="line"><span class="lineno">  328</span>        <span class="comment"># the hash of the data file, unless we&#39;re debugging processes.</span></div>
<div class="line"><span class="lineno">  329</span>        meta_data = [</div>
<div class="line"><span class="lineno">  330</span>            (<span class="stringliteral">&quot;version&quot;</span>, __version__),</div>
<div class="line"><span class="lineno">  331</span>        ]</div>
<div class="line"><span class="lineno">  332</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;process&quot;</span>):</div>
<div class="line"><span class="lineno">  333</span>            meta_data.extend([</div>
<div class="line"><span class="lineno">  334</span>                (<span class="stringliteral">&quot;sys_argv&quot;</span>, str(getattr(sys, <span class="stringliteral">&quot;argv&quot;</span>, <span class="keywordtype">None</span>))),</div>
<div class="line"><span class="lineno">  335</span>                (<span class="stringliteral">&quot;when&quot;</span>, datetime.datetime.now().strftime(<span class="stringliteral">&quot;%Y-%m-%d %H:%M:%S&quot;</span>)),</div>
<div class="line"><span class="lineno">  336</span>            ])</div>
<div class="line"><span class="lineno">  337</span>        db.executemany_void(<span class="stringliteral">&quot;insert or ignore into meta (key, value) values (?, ?)&quot;</span>, meta_data)</div>
<div class="line"><span class="lineno">  338</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afec75ceb5c8c96dd2cdd715836bc65f0" name="afec75ceb5c8c96dd2cdd715836bc65f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afec75ceb5c8c96dd2cdd715836bc65f0">&#9670;&#160;</a></span>_open_db()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData._open_db </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Open an existing db file, and read its metadata.</pre> <div class="fragment"><div class="line"><span class="lineno">  280</span>    <span class="keyword">def </span>_open_db(self) -&gt; None:</div>
<div class="line"><span class="lineno">  281</span>        <span class="stringliteral">&quot;&quot;&quot;Open an existing db file, and read its metadata.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  282</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataio&quot;</span>):</div>
<div class="line"><span class="lineno">  283</span>            self._debug.write(f<span class="stringliteral">&quot;Opening data file {self._filename!r}&quot;</span>)</div>
<div class="line"><span class="lineno">  284</span>        self._dbs[threading.get_ident()] = SqliteDb(self._filename, self._debug)</div>
<div class="line"><span class="lineno">  285</span>        self._read_db()</div>
<div class="line"><span class="lineno">  286</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a834f679649371b4b04c35b6d466881f8" name="a834f679649371b4b04c35b6d466881f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a834f679649371b4b04c35b6d466881f8">&#9670;&#160;</a></span>_read_db()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData._read_db </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Read the metadata from a database so that we are ready to use it.</pre> <div class="fragment"><div class="line"><span class="lineno">  287</span>    <span class="keyword">def </span>_read_db(self) -&gt; None:</div>
<div class="line"><span class="lineno">  288</span>        <span class="stringliteral">&quot;&quot;&quot;Read the metadata from a database so that we are ready to use it.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  289</span>        <span class="keyword">with</span> self._dbs[threading.get_ident()] <span class="keyword">as</span> db:</div>
<div class="line"><span class="lineno">  290</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  291</span>                row = db.execute_one(<span class="stringliteral">&quot;select version from coverage_schema&quot;</span>)</div>
<div class="line"><span class="lineno">  292</span>            <span class="keywordflow">except</span> Exception <span class="keyword">as</span> exc:</div>
<div class="line"><span class="lineno">  293</span>                <span class="keywordflow">if</span> <span class="stringliteral">&quot;no such table: coverage_schema&quot;</span> <span class="keywordflow">in</span> str(exc):</div>
<div class="line"><span class="lineno">  294</span>                    self._init_db(db)</div>
<div class="line"><span class="lineno">  295</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  296</span>                    <span class="keywordflow">raise</span> DataError(</div>
<div class="line"><span class="lineno">  297</span>                        <span class="stringliteral">&quot;Data file {!r} doesn&#39;t seem to be a coverage data file: {}&quot;</span>.format(</div>
<div class="line"><span class="lineno">  298</span>                            self._filename, exc</div>
<div class="line"><span class="lineno">  299</span>                        )</div>
<div class="line"><span class="lineno">  300</span>                    ) <span class="keyword">from</span> exc</div>
<div class="line"><span class="lineno">  301</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  302</span>                <span class="keyword">assert</span> row <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  303</span>                schema_version = row[0]</div>
<div class="line"><span class="lineno">  304</span>                <span class="keywordflow">if</span> schema_version != SCHEMA_VERSION:</div>
<div class="line"><span class="lineno">  305</span>                    <span class="keywordflow">raise</span> DataError(</div>
<div class="line"><span class="lineno">  306</span>                        <span class="stringliteral">&quot;Couldn&#39;t use data file {!r}: wrong schema: {} instead of {}&quot;</span>.format(</div>
<div class="line"><span class="lineno">  307</span>                            self._filename, schema_version, SCHEMA_VERSION</div>
<div class="line"><span class="lineno">  308</span>                        )</div>
<div class="line"><span class="lineno">  309</span>                    )</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>            row = db.execute_one(<span class="stringliteral">&quot;select value from meta where key = &#39;has_arcs&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  312</span>            <span class="keywordflow">if</span> row <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  313</span>                self._has_arcs = bool(int(row[0]))</div>
<div class="line"><span class="lineno">  314</span>                self._has_lines = <span class="keywordflow">not</span> self._has_arcs</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>            <span class="keyword">with</span> db.execute(<span class="stringliteral">&quot;select id, path from file&quot;</span>) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  317</span>                <span class="keywordflow">for</span> file_id, path <span class="keywordflow">in</span> cur:</div>
<div class="line"><span class="lineno">  318</span>                    self._file_map[path] = file_id</div>
<div class="line"><span class="lineno">  319</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aba2395caddb148a9db0a7f0f2a0eee73" name="aba2395caddb148a9db0a7f0f2a0eee73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba2395caddb148a9db0a7f0f2a0eee73">&#9670;&#160;</a></span>_reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData._reset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Reset our attributes.</pre> <div class="fragment"><div class="line"><span class="lineno">  270</span>    <span class="keyword">def </span>_reset(self) -&gt; None:</div>
<div class="line"><span class="lineno">  271</span>        <span class="stringliteral">&quot;&quot;&quot;Reset our attributes.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self._no_disk:</div>
<div class="line"><span class="lineno">  273</span>            <span class="keywordflow">for</span> db <span class="keywordflow">in</span> self._dbs.values():</div>
<div class="line"><span class="lineno">  274</span>                db.close()</div>
<div class="line"><span class="lineno">  275</span>            self._dbs = {}</div>
<div class="line"><span class="lineno">  276</span>        self._file_map = {}</div>
<div class="line"><span class="lineno">  277</span>        self._have_used = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  278</span>        self._current_context_id = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  279</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae719b4bd420336a56a20b27c4be31624" name="ae719b4bd420336a56a20b27c4be31624"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae719b4bd420336a56a20b27c4be31624">&#9670;&#160;</a></span>_set_context_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData._set_context_id </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Use the _current_context to set _current_context_id.</pre> <div class="fragment"><div class="line"><span class="lineno">  447</span>    <span class="keyword">def </span>_set_context_id(self) -&gt; None:</div>
<div class="line"><span class="lineno">  448</span>        <span class="stringliteral">&quot;&quot;&quot;Use the _current_context to set _current_context_id.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  449</span>        context = self._current_context <span class="keywordflow">or</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  450</span>        context_id = self._context_id(context)</div>
<div class="line"><span class="lineno">  451</span>        <span class="keywordflow">if</span> context_id <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  452</span>            self._current_context_id = context_id</div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  454</span>            <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  455</span>                self._current_context_id = con.execute_for_rowid(</div>
<div class="line"><span class="lineno">  456</span>                    <span class="stringliteral">&quot;insert into context (context) values (?)&quot;</span>,</div>
<div class="line"><span class="lineno">  457</span>                    (context,)</div>
<div class="line"><span class="lineno">  458</span>                )</div>
<div class="line"><span class="lineno">  459</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a633d00fb26cda1d5db00ac9635b8019b" name="a633d00fb26cda1d5db00ac9635b8019b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a633d00fb26cda1d5db00ac9635b8019b">&#9670;&#160;</a></span>_start_using()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData._start_using </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Call this before using the database at all.</pre> <div class="fragment"><div class="line"><span class="lineno">  822</span>    <span class="keyword">def </span>_start_using(self) -&gt; None:</div>
<div class="line"><span class="lineno">  823</span>        <span class="stringliteral">&quot;&quot;&quot;Call this before using the database at all.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  824</span>        <span class="keywordflow">if</span> self._pid != os.getpid():</div>
<div class="line"><span class="lineno">  825</span>            <span class="comment"># Looks like we forked! Have to start a new data file.</span></div>
<div class="line"><span class="lineno">  826</span>            self._reset()</div>
<div class="line"><span class="lineno">  827</span>            self._choose_filename()</div>
<div class="line"><span class="lineno">  828</span>            self._pid = os.getpid()</div>
<div class="line"><span class="lineno">  829</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self._have_used:</div>
<div class="line"><span class="lineno">  830</span>            self.erase()</div>
<div class="line"><span class="lineno">  831</span>        self._have_used = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  832</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e8766352b143c415da1092d9f964d33" name="a4e8766352b143c415da1092d9f964d33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e8766352b143c415da1092d9f964d33">&#9670;&#160;</a></span>add_arcs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.add_arcs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mapping[str, Collection[TArc]]&#160;</td>
          <td class="paramname"><em>arc_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Add measured arc data.

`arc_data` is a dictionary mapping file names to iterables of pairs of
ints::

    { filename: { (l1,l2), (l1,l2), ... }, ...}</pre> <div class="fragment"><div class="line"><span class="lineno">  511</span>    <span class="keyword">def </span>add_arcs(self, arc_data: Mapping[str, Collection[TArc]]) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  512</span>        <span class="stringliteral">&quot;&quot;&quot;Add measured arc data.</span></div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral">        `arc_data` is a dictionary mapping file names to iterables of pairs of</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral">        ints::</span></div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral">            { filename: { (l1,l2), (l1,l2), ... }, ...}</span></div>
<div class="line"><span class="lineno">  518</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  519</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  520</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataop&quot;</span>):</div>
<div class="line"><span class="lineno">  521</span>            self._debug.write(<span class="stringliteral">&quot;Adding arcs: %d files, %d arcs total&quot;</span> % (</div>
<div class="line"><span class="lineno">  522</span>                len(arc_data), sum(len(arcs) <span class="keywordflow">for</span> arcs <span class="keywordflow">in</span> arc_data.values())</div>
<div class="line"><span class="lineno">  523</span>            ))</div>
<div class="line"><span class="lineno">  524</span>        self._start_using()</div>
<div class="line"><span class="lineno">  525</span>        self._choose_lines_or_arcs(arcs=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  526</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> arc_data:</div>
<div class="line"><span class="lineno">  527</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  528</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  529</span>            self._set_context_id()</div>
<div class="line"><span class="lineno">  530</span>            <span class="keywordflow">for</span> filename, arcs <span class="keywordflow">in</span> arc_data.items():</div>
<div class="line"><span class="lineno">  531</span>                file_id = self._file_id(filename, add=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  532</span>                data = [(file_id, self._current_context_id, fromno, tono) <span class="keywordflow">for</span> fromno, tono <span class="keywordflow">in</span> arcs]</div>
<div class="line"><span class="lineno">  533</span>                con.executemany_void(</div>
<div class="line"><span class="lineno">  534</span>                    <span class="stringliteral">&quot;insert or ignore into arc &quot;</span> +</div>
<div class="line"><span class="lineno">  535</span>                    <span class="stringliteral">&quot;(file_id, context_id, fromno, tono) values (?, ?, ?, ?)&quot;</span>,</div>
<div class="line"><span class="lineno">  536</span>                    data,</div>
<div class="line"><span class="lineno">  537</span>                )</div>
<div class="line"><span class="lineno">  538</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a82bee9fc9b64ffb760a513cabdbad5a8" name="a82bee9fc9b64ffb760a513cabdbad5a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82bee9fc9b64ffb760a513cabdbad5a8">&#9670;&#160;</a></span>add_file_tracers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.add_file_tracers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mapping[str, str]&#160;</td>
          <td class="paramname"><em>file_tracers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Add per-file plugin information.

`file_tracers` is { filename: plugin_name, ... }</pre> <div class="fragment"><div class="line"><span class="lineno">  561</span>    <span class="keyword">def </span>add_file_tracers(self, file_tracers: Mapping[str, str]) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  562</span>        <span class="stringliteral">&quot;&quot;&quot;Add per-file plugin information.</span></div>
<div class="line"><span class="lineno">  563</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  564</span><span class="stringliteral">        `file_tracers` is { filename: plugin_name, ... }</span></div>
<div class="line"><span class="lineno">  565</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  566</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  567</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataop&quot;</span>):</div>
<div class="line"><span class="lineno">  568</span>            self._debug.write(<span class="stringliteral">&quot;Adding file tracers: %d files&quot;</span> % (len(file_tracers),))</div>
<div class="line"><span class="lineno">  569</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> file_tracers:</div>
<div class="line"><span class="lineno">  570</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  571</span>        self._start_using()</div>
<div class="line"><span class="lineno">  572</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  573</span>            <span class="keywordflow">for</span> filename, plugin_name <span class="keywordflow">in</span> file_tracers.items():</div>
<div class="line"><span class="lineno">  574</span>                file_id = self._file_id(filename)</div>
<div class="line"><span class="lineno">  575</span>                <span class="keywordflow">if</span> file_id <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  576</span>                    <span class="keywordflow">raise</span> DataError(</div>
<div class="line"><span class="lineno">  577</span>                        f<span class="stringliteral">&quot;Can&#39;t add file tracer data for unmeasured file &#39;{filename}&#39;&quot;</span></div>
<div class="line"><span class="lineno">  578</span>                    )</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>                existing_plugin = self.file_tracer(filename)</div>
<div class="line"><span class="lineno">  581</span>                <span class="keywordflow">if</span> existing_plugin:</div>
<div class="line"><span class="lineno">  582</span>                    <span class="keywordflow">if</span> existing_plugin != plugin_name:</div>
<div class="line"><span class="lineno">  583</span>                        <span class="keywordflow">raise</span> DataError(</div>
<div class="line"><span class="lineno">  584</span>                            <span class="stringliteral">&quot;Conflicting file tracer name for &#39;{}&#39;: {!r} vs {!r}&quot;</span>.format(</div>
<div class="line"><span class="lineno">  585</span>                                filename, existing_plugin, plugin_name,</div>
<div class="line"><span class="lineno">  586</span>                            )</div>
<div class="line"><span class="lineno">  587</span>                        )</div>
<div class="line"><span class="lineno">  588</span>                <span class="keywordflow">elif</span> plugin_name:</div>
<div class="line"><span class="lineno">  589</span>                    con.execute_void(</div>
<div class="line"><span class="lineno">  590</span>                        <span class="stringliteral">&quot;insert into tracer (file_id, tracer) values (?, ?)&quot;</span>,</div>
<div class="line"><span class="lineno">  591</span>                        (file_id, plugin_name)</div>
<div class="line"><span class="lineno">  592</span>                    )</div>
<div class="line"><span class="lineno">  593</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abf174d79cc979b1e009bec844a7881a0" name="abf174d79cc979b1e009bec844a7881a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf174d79cc979b1e009bec844a7881a0">&#9670;&#160;</a></span>add_lines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.add_lines </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Mapping[str, Collection[TLineNo]]&#160;</td>
          <td class="paramname"><em>line_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Add measured line data.

`line_data` is a dictionary mapping file names to iterables of ints::

    { filename: { line1, line2, ... }, ...}</pre> <div class="fragment"><div class="line"><span class="lineno">  477</span>    <span class="keyword">def </span>add_lines(self, line_data: Mapping[str, Collection[TLineNo]]) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  478</span>        <span class="stringliteral">&quot;&quot;&quot;Add measured line data.</span></div>
<div class="line"><span class="lineno">  479</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  480</span><span class="stringliteral">        `line_data` is a dictionary mapping file names to iterables of ints::</span></div>
<div class="line"><span class="lineno">  481</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  482</span><span class="stringliteral">            { filename: { line1, line2, ... }, ...}</span></div>
<div class="line"><span class="lineno">  483</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  484</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  485</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataop&quot;</span>):</div>
<div class="line"><span class="lineno">  486</span>            self._debug.write(<span class="stringliteral">&quot;Adding lines: %d files, %d lines total&quot;</span> % (</div>
<div class="line"><span class="lineno">  487</span>                len(line_data), sum(bool(len(lines)) <span class="keywordflow">for</span> lines <span class="keywordflow">in</span> line_data.values())</div>
<div class="line"><span class="lineno">  488</span>            ))</div>
<div class="line"><span class="lineno">  489</span>        self._start_using()</div>
<div class="line"><span class="lineno">  490</span>        self._choose_lines_or_arcs(lines=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  491</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> line_data:</div>
<div class="line"><span class="lineno">  492</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  493</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  494</span>            self._set_context_id()</div>
<div class="line"><span class="lineno">  495</span>            <span class="keywordflow">for</span> filename, linenos <span class="keywordflow">in</span> line_data.items():</div>
<div class="line"><span class="lineno">  496</span>                linemap = nums_to_numbits(linenos)</div>
<div class="line"><span class="lineno">  497</span>                file_id = self._file_id(filename, add=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  498</span>                query = <span class="stringliteral">&quot;select numbits from line_bits where file_id = ? and context_id = ?&quot;</span></div>
<div class="line"><span class="lineno">  499</span>                <span class="keyword">with</span> con.execute(query, (file_id, self._current_context_id)) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  500</span>                    existing = list(cur)</div>
<div class="line"><span class="lineno">  501</span>                <span class="keywordflow">if</span> existing:</div>
<div class="line"><span class="lineno">  502</span>                    linemap = numbits_union(linemap, existing[0][0])</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>                con.execute_void(</div>
<div class="line"><span class="lineno">  505</span>                    <span class="stringliteral">&quot;insert or replace into line_bits &quot;</span> +</div>
<div class="line"><span class="lineno">  506</span>                    <span class="stringliteral">&quot; (file_id, context_id, numbits) values (?, ?, ?)&quot;</span>,</div>
<div class="line"><span class="lineno">  507</span>                    (file_id, self._current_context_id, linemap),</div>
<div class="line"><span class="lineno">  508</span>                )</div>
<div class="line"><span class="lineno">  509</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a05fcc16e425541df6ea6351842188f60" name="a05fcc16e425541df6ea6351842188f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05fcc16e425541df6ea6351842188f60">&#9670;&#160;</a></span>arcs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[List[TArc]] coverage.sqldata.CoverageData.arcs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the list of arcs executed for a file.

If the file was not measured, returns None.  A file might be measured,
and have no arcs executed, in which case an empty list is returned.

If the file was executed, returns a list of 2-tuples of integers. Each
pair is a starting line number and an ending line number for a
transition from one line to another. The list is in no particular
order.

Negative numbers have special meaning.  If the starting line number is
-N, it represents an entry to the code object that starts at line N.
If the ending ling number is -N, it's an exit from the code object that
starts at line N.</pre> <div class="fragment"><div class="line"><span class="lineno">  943</span>    <span class="keyword">def </span>arcs(self, filename: str) -&gt; Optional[List[TArc]]:</div>
<div class="line"><span class="lineno">  944</span>        <span class="stringliteral">&quot;&quot;&quot;Get the list of arcs executed for a file.</span></div>
<div class="line"><span class="lineno">  945</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  946</span><span class="stringliteral">        If the file was not measured, returns None.  A file might be measured,</span></div>
<div class="line"><span class="lineno">  947</span><span class="stringliteral">        and have no arcs executed, in which case an empty list is returned.</span></div>
<div class="line"><span class="lineno">  948</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  949</span><span class="stringliteral">        If the file was executed, returns a list of 2-tuples of integers. Each</span></div>
<div class="line"><span class="lineno">  950</span><span class="stringliteral">        pair is a starting line number and an ending line number for a</span></div>
<div class="line"><span class="lineno">  951</span><span class="stringliteral">        transition from one line to another. The list is in no particular</span></div>
<div class="line"><span class="lineno">  952</span><span class="stringliteral">        order.</span></div>
<div class="line"><span class="lineno">  953</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  954</span><span class="stringliteral">        Negative numbers have special meaning.  If the starting line number is</span></div>
<div class="line"><span class="lineno">  955</span><span class="stringliteral">        -N, it represents an entry to the code object that starts at line N.</span></div>
<div class="line"><span class="lineno">  956</span><span class="stringliteral">        If the ending ling number is -N, it&#39;s an exit from the code object that</span></div>
<div class="line"><span class="lineno">  957</span><span class="stringliteral">        starts at line N.</span></div>
<div class="line"><span class="lineno">  958</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  959</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  960</span>        self._start_using()</div>
<div class="line"><span class="lineno">  961</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  962</span>            file_id = self._file_id(filename)</div>
<div class="line"><span class="lineno">  963</span>            <span class="keywordflow">if</span> file_id <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  964</span>                <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  965</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  966</span>                query = <span class="stringliteral">&quot;select distinct fromno, tono from arc where file_id = ?&quot;</span></div>
<div class="line"><span class="lineno">  967</span>                data = [file_id]</div>
<div class="line"><span class="lineno">  968</span>                <span class="keywordflow">if</span> self._query_context_ids <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  969</span>                    ids_array = <span class="stringliteral">&quot;, &quot;</span>.join(<span class="stringliteral">&quot;?&quot;</span> * len(self._query_context_ids))</div>
<div class="line"><span class="lineno">  970</span>                    query += <span class="stringliteral">&quot; and context_id in (&quot;</span> + ids_array + <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><span class="lineno">  971</span>                    data += self._query_context_ids</div>
<div class="line"><span class="lineno">  972</span>                <span class="keyword">with</span> con.execute(query, data) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  973</span>                    <span class="keywordflow">return</span> list(cur)</div>
<div class="line"><span class="lineno">  974</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a48d47355b329ee5c00a4ddca0f373a7c" name="a48d47355b329ee5c00a4ddca0f373a7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48d47355b329ee5c00a4ddca0f373a7c">&#9670;&#160;</a></span>base_filename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str coverage.sqldata.CoverageData.base_filename </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The base filename for storing data.

.. versionadded:: 5.0</pre> <div class="fragment"><div class="line"><span class="lineno">  460</span>    <span class="keyword">def </span>base_filename(self) -&gt; str:</div>
<div class="line"><span class="lineno">  461</span>        <span class="stringliteral">&quot;&quot;&quot;The base filename for storing data.</span></div>
<div class="line"><span class="lineno">  462</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  463</span><span class="stringliteral">        .. versionadded:: 5.0</span></div>
<div class="line"><span class="lineno">  464</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  465</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  466</span>        <span class="keywordflow">return</span> self._basename</div>
<div class="line"><span class="lineno">  467</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b309e5a1613feb48633299a3cbaaa9b" name="a7b309e5a1613feb48633299a3cbaaa9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b309e5a1613feb48633299a3cbaaa9b">&#9670;&#160;</a></span>contexts_by_lineno()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Dict[TLineNo, List[str]] coverage.sqldata.CoverageData.contexts_by_lineno </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the contexts for each line in a file.

Returns:
    A dict mapping line numbers to a list of context names.

.. versionadded:: 5.0</pre> <div class="fragment"><div class="line"><span class="lineno">  975</span>    <span class="keyword">def </span>contexts_by_lineno(self, filename: str) -&gt; Dict[TLineNo, List[str]]:</div>
<div class="line"><span class="lineno">  976</span>        <span class="stringliteral">&quot;&quot;&quot;Get the contexts for each line in a file.</span></div>
<div class="line"><span class="lineno">  977</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  978</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><span class="lineno">  979</span><span class="stringliteral">            A dict mapping line numbers to a list of context names.</span></div>
<div class="line"><span class="lineno">  980</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  981</span><span class="stringliteral">        .. versionadded:: 5.0</span></div>
<div class="line"><span class="lineno">  982</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  983</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  984</span>        self._start_using()</div>
<div class="line"><span class="lineno">  985</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  986</span>            file_id = self._file_id(filename)</div>
<div class="line"><span class="lineno">  987</span>            <span class="keywordflow">if</span> file_id <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  988</span>                <span class="keywordflow">return</span> {}</div>
<div class="line"><span class="lineno">  989</span> </div>
<div class="line"><span class="lineno">  990</span>            lineno_contexts_map = collections.defaultdict(set)</div>
<div class="line"><span class="lineno">  991</span>            <span class="keywordflow">if</span> self.has_arcs():</div>
<div class="line"><span class="lineno">  992</span>                query = (</div>
<div class="line"><span class="lineno">  993</span>                    <span class="stringliteral">&quot;select arc.fromno, arc.tono, context.context &quot;</span> +</div>
<div class="line"><span class="lineno">  994</span>                    <span class="stringliteral">&quot;from arc, context &quot;</span> +</div>
<div class="line"><span class="lineno">  995</span>                    <span class="stringliteral">&quot;where arc.file_id = ? and arc.context_id = context.id&quot;</span></div>
<div class="line"><span class="lineno">  996</span>                )</div>
<div class="line"><span class="lineno">  997</span>                data = [file_id]</div>
<div class="line"><span class="lineno">  998</span>                <span class="keywordflow">if</span> self._query_context_ids <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  999</span>                    ids_array = <span class="stringliteral">&quot;, &quot;</span>.join(<span class="stringliteral">&quot;?&quot;</span> * len(self._query_context_ids))</div>
<div class="line"><span class="lineno"> 1000</span>                    query += <span class="stringliteral">&quot; and arc.context_id in (&quot;</span> + ids_array + <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><span class="lineno"> 1001</span>                    data += self._query_context_ids</div>
<div class="line"><span class="lineno"> 1002</span>                <span class="keyword">with</span> con.execute(query, data) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno"> 1003</span>                    <span class="keywordflow">for</span> fromno, tono, context <span class="keywordflow">in</span> cur:</div>
<div class="line"><span class="lineno"> 1004</span>                        <span class="keywordflow">if</span> fromno &gt; 0:</div>
<div class="line"><span class="lineno"> 1005</span>                            lineno_contexts_map[fromno].add(context)</div>
<div class="line"><span class="lineno"> 1006</span>                        <span class="keywordflow">if</span> tono &gt; 0:</div>
<div class="line"><span class="lineno"> 1007</span>                            lineno_contexts_map[tono].add(context)</div>
<div class="line"><span class="lineno"> 1008</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1009</span>                query = (</div>
<div class="line"><span class="lineno"> 1010</span>                    <span class="stringliteral">&quot;select l.numbits, c.context from line_bits l, context c &quot;</span> +</div>
<div class="line"><span class="lineno"> 1011</span>                    <span class="stringliteral">&quot;where l.context_id = c.id &quot;</span> +</div>
<div class="line"><span class="lineno"> 1012</span>                    <span class="stringliteral">&quot;and file_id = ?&quot;</span></div>
<div class="line"><span class="lineno"> 1013</span>                )</div>
<div class="line"><span class="lineno"> 1014</span>                data = [file_id]</div>
<div class="line"><span class="lineno"> 1015</span>                <span class="keywordflow">if</span> self._query_context_ids <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1016</span>                    ids_array = <span class="stringliteral">&quot;, &quot;</span>.join(<span class="stringliteral">&quot;?&quot;</span> * len(self._query_context_ids))</div>
<div class="line"><span class="lineno"> 1017</span>                    query += <span class="stringliteral">&quot; and l.context_id in (&quot;</span> + ids_array + <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><span class="lineno"> 1018</span>                    data += self._query_context_ids</div>
<div class="line"><span class="lineno"> 1019</span>                <span class="keyword">with</span> con.execute(query, data) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno"> 1020</span>                    <span class="keywordflow">for</span> numbits, context <span class="keywordflow">in</span> cur:</div>
<div class="line"><span class="lineno"> 1021</span>                        <span class="keywordflow">for</span> lineno <span class="keywordflow">in</span> numbits_to_nums(numbits):</div>
<div class="line"><span class="lineno"> 1022</span>                            lineno_contexts_map[lineno].add(context)</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>        <span class="keywordflow">return</span> {lineno: list(contexts) <span class="keywordflow">for</span> lineno, contexts <span class="keywordflow">in</span> lineno_contexts_map.items()}</div>
<div class="line"><span class="lineno"> 1025</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1fa9db05ecc1bf5502f516f141fb1bcc" name="a1fa9db05ecc1bf5502f516f141fb1bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fa9db05ecc1bf5502f516f141fb1bcc">&#9670;&#160;</a></span>data_filename()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str coverage.sqldata.CoverageData.data_filename </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Where is the data stored?

.. versionadded:: 5.0</pre> <div class="fragment"><div class="line"><span class="lineno">  468</span>    <span class="keyword">def </span>data_filename(self) -&gt; str:</div>
<div class="line"><span class="lineno">  469</span>        <span class="stringliteral">&quot;&quot;&quot;Where is the data stored?</span></div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  471</span><span class="stringliteral">        .. versionadded:: 5.0</span></div>
<div class="line"><span class="lineno">  472</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  473</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  474</span>        <span class="keywordflow">return</span> self._filename</div>
<div class="line"><span class="lineno">  475</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aef8686e27faf00e842107d560936616f" name="aef8686e27faf00e842107d560936616f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef8686e27faf00e842107d560936616f">&#9670;&#160;</a></span>dumps()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bytes coverage.sqldata.CoverageData.dumps </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Serialize the current data to a byte string.

The format of the serialized data is not documented. It is only
suitable for use with :meth:`loads` in the same version of
coverage.py.

Note that this serialization is not what gets stored in coverage data
files.  This method is meant to produce bytes that can be transmitted
elsewhere and then deserialized with :meth:`loads`.

Returns:
    A byte string of serialized data.

.. versionadded:: 5.0</pre> <div class="fragment"><div class="line"><span class="lineno">  355</span>    <span class="keyword">def </span>dumps(self) -&gt; bytes:</div>
<div class="line"><span class="lineno">  356</span>        <span class="stringliteral">&quot;&quot;&quot;Serialize the current data to a byte string.</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral">        The format of the serialized data is not documented. It is only</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">        suitable for use with :meth:`loads` in the same version of</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">        coverage.py.</span></div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">        Note that this serialization is not what gets stored in coverage data</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">        files.  This method is meant to produce bytes that can be transmitted</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">        elsewhere and then deserialized with :meth:`loads`.</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">            A byte string of serialized data.</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral">        .. versionadded:: 5.0</span></div>
<div class="line"><span class="lineno">  370</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  371</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  372</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataio&quot;</span>):</div>
<div class="line"><span class="lineno">  373</span>            self._debug.write(f<span class="stringliteral">&quot;Dumping data from data file {self._filename!r}&quot;</span>)</div>
<div class="line"><span class="lineno">  374</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  375</span>            script = con.dump()</div>
<div class="line"><span class="lineno">  376</span>            <span class="keywordflow">return</span> b<span class="stringliteral">&quot;z&quot;</span> + zlib.compress(script.encode(<span class="stringliteral">&quot;utf-8&quot;</span>))</div>
<div class="line"><span class="lineno">  377</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa6e9325421a640f4937fd534e1320fe7" name="aa6e9325421a640f4937fd534e1320fe7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e9325421a640f4937fd534e1320fe7">&#9670;&#160;</a></span>erase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.erase </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>parallel</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Erase the data in this object.

If `parallel` is true, then also deletes data files created from the
basename by parallel-mode.</pre> <div class="fragment"><div class="line"><span class="lineno">  790</span>    <span class="keyword">def </span>erase(self, parallel: bool=<span class="keyword">False</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  791</span>        <span class="stringliteral">&quot;&quot;&quot;Erase the data in this object.</span></div>
<div class="line"><span class="lineno">  792</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  793</span><span class="stringliteral">        If `parallel` is true, then also deletes data files created from the</span></div>
<div class="line"><span class="lineno">  794</span><span class="stringliteral">        basename by parallel-mode.</span></div>
<div class="line"><span class="lineno">  795</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  796</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  797</span>        self._reset()</div>
<div class="line"><span class="lineno">  798</span>        <span class="keywordflow">if</span> self._no_disk:</div>
<div class="line"><span class="lineno">  799</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  800</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataio&quot;</span>):</div>
<div class="line"><span class="lineno">  801</span>            self._debug.write(f<span class="stringliteral">&quot;Erasing data file {self._filename!r}&quot;</span>)</div>
<div class="line"><span class="lineno">  802</span>        file_be_gone(self._filename)</div>
<div class="line"><span class="lineno">  803</span>        <span class="keywordflow">if</span> parallel:</div>
<div class="line"><span class="lineno">  804</span>            data_dir, local = os.path.split(self._filename)</div>
<div class="line"><span class="lineno">  805</span>            local_abs_path = os.path.join(os.path.abspath(data_dir), local)</div>
<div class="line"><span class="lineno">  806</span>            pattern = glob.escape(local_abs_path) + <span class="stringliteral">&quot;.*&quot;</span></div>
<div class="line"><span class="lineno">  807</span>            <span class="keywordflow">for</span> filename <span class="keywordflow">in</span> glob.glob(pattern):</div>
<div class="line"><span class="lineno">  808</span>                <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataio&quot;</span>):</div>
<div class="line"><span class="lineno">  809</span>                    self._debug.write(f<span class="stringliteral">&quot;Erasing parallel data file {filename!r}&quot;</span>)</div>
<div class="line"><span class="lineno">  810</span>                file_be_gone(filename)</div>
<div class="line"><span class="lineno">  811</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a08f389a210e4271882291ac5d3cf6548" name="a08f389a210e4271882291ac5d3cf6548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08f389a210e4271882291ac5d3cf6548">&#9670;&#160;</a></span>file_tracer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[str] coverage.sqldata.CoverageData.file_tracer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the plugin name of the file tracer for a file.

Returns the name of the plugin that handles this file.  If the file was
measured, but didn't use a plugin, then "" is returned.  If the file
was not measured, then None is returned.</pre> <div class="fragment"><div class="line"><span class="lineno">  853</span>    <span class="keyword">def </span>file_tracer(self, filename: str) -&gt; Optional[str]:</div>
<div class="line"><span class="lineno">  854</span>        <span class="stringliteral">&quot;&quot;&quot;Get the plugin name of the file tracer for a file.</span></div>
<div class="line"><span class="lineno">  855</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  856</span><span class="stringliteral">        Returns the name of the plugin that handles this file.  If the file was</span></div>
<div class="line"><span class="lineno">  857</span><span class="stringliteral">        measured, but didn&#39;t use a plugin, then &quot;&quot; is returned.  If the file</span></div>
<div class="line"><span class="lineno">  858</span><span class="stringliteral">        was not measured, then None is returned.</span></div>
<div class="line"><span class="lineno">  859</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  860</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  861</span>        self._start_using()</div>
<div class="line"><span class="lineno">  862</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  863</span>            file_id = self._file_id(filename)</div>
<div class="line"><span class="lineno">  864</span>            <span class="keywordflow">if</span> file_id <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  865</span>                <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  866</span>            row = con.execute_one(<span class="stringliteral">&quot;select tracer from tracer where file_id = ?&quot;</span>, (file_id,))</div>
<div class="line"><span class="lineno">  867</span>            <span class="keywordflow">if</span> row <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  868</span>                <span class="keywordflow">return</span> row[0] <span class="keywordflow">or</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  869</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;&quot;</span>   <span class="comment"># File was measured, but no tracer associated.</span></div>
<div class="line"><span class="lineno">  870</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a85ea5f1846fd4700b40f6a4693cb4995" name="a85ea5f1846fd4700b40f6a4693cb4995"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85ea5f1846fd4700b40f6a4693cb4995">&#9670;&#160;</a></span>has_arcs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool coverage.sqldata.CoverageData.has_arcs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Does the database have arcs (True) or lines (False).</pre> <div class="fragment"><div class="line"><span class="lineno">  833</span>    <span class="keyword">def </span>has_arcs(self) -&gt; bool:</div>
<div class="line"><span class="lineno">  834</span>        <span class="stringliteral">&quot;&quot;&quot;Does the database have arcs (True) or lines (False).&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  835</span>        <span class="keywordflow">return</span> bool(self._has_arcs)</div>
<div class="line"><span class="lineno">  836</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac17657e9db9c73a9e1f64ea859bf82cd" name="ac17657e9db9c73a9e1f64ea859bf82cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac17657e9db9c73a9e1f64ea859bf82cd">&#9670;&#160;</a></span>lines()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[List[TLineNo]] coverage.sqldata.CoverageData.lines </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>filename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the list of lines executed for a source file.

If the file was not measured, returns None.  A file might be measured,
and have no lines executed, in which case an empty list is returned.

If the file was executed, returns a list of integers, the line numbers
executed in the file. The list is in no particular order.</pre> <div class="fragment"><div class="line"><span class="lineno">  908</span>    <span class="keyword">def </span><a class="code hl_namespace" href="namespacelines.html">lines</a>(self, filename: str) -&gt; Optional[List[TLineNo]]:</div>
<div class="line"><span class="lineno">  909</span>        <span class="stringliteral">&quot;&quot;&quot;Get the list of lines executed for a source file.</span></div>
<div class="line"><span class="lineno">  910</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  911</span><span class="stringliteral">        If the file was not measured, returns None.  A file might be measured,</span></div>
<div class="line"><span class="lineno">  912</span><span class="stringliteral">        and have no lines executed, in which case an empty list is returned.</span></div>
<div class="line"><span class="lineno">  913</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  914</span><span class="stringliteral">        If the file was executed, returns a list of integers, the line numbers</span></div>
<div class="line"><span class="lineno">  915</span><span class="stringliteral">        executed in the file. The list is in no particular order.</span></div>
<div class="line"><span class="lineno">  916</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  917</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  918</span>        self._start_using()</div>
<div class="line"><span class="lineno">  919</span>        <span class="keywordflow">if</span> self.has_arcs():</div>
<div class="line"><span class="lineno">  920</span>            arcs = self.arcs(filename)</div>
<div class="line"><span class="lineno">  921</span>            <span class="keywordflow">if</span> arcs <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  922</span>                all_lines = itertools.chain.from_iterable(arcs)</div>
<div class="line"><span class="lineno">  923</span>                <span class="keywordflow">return</span> list({l <span class="keywordflow">for</span> l <span class="keywordflow">in</span> all_lines <span class="keywordflow">if</span> l &gt; 0})</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  926</span>            file_id = self._file_id(filename)</div>
<div class="line"><span class="lineno">  927</span>            <span class="keywordflow">if</span> file_id <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  928</span>                <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  929</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  930</span>                query = <span class="stringliteral">&quot;select numbits from line_bits where file_id = ?&quot;</span></div>
<div class="line"><span class="lineno">  931</span>                data = [file_id]</div>
<div class="line"><span class="lineno">  932</span>                <span class="keywordflow">if</span> self._query_context_ids <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  933</span>                    ids_array = <span class="stringliteral">&quot;, &quot;</span>.join(<span class="stringliteral">&quot;?&quot;</span> * len(self._query_context_ids))</div>
<div class="line"><span class="lineno">  934</span>                    query += <span class="stringliteral">&quot; and context_id in (&quot;</span> + ids_array + <span class="stringliteral">&quot;)&quot;</span></div>
<div class="line"><span class="lineno">  935</span>                    data += self._query_context_ids</div>
<div class="line"><span class="lineno">  936</span>                <span class="keyword">with</span> con.execute(query, data) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  937</span>                    bitmaps = list(cur)</div>
<div class="line"><span class="lineno">  938</span>                nums = set()</div>
<div class="line"><span class="lineno">  939</span>                <span class="keywordflow">for</span> row <span class="keywordflow">in</span> bitmaps:</div>
<div class="line"><span class="lineno">  940</span>                    nums.update(numbits_to_nums(row[0]))</div>
<div class="line"><span class="lineno">  941</span>                <span class="keywordflow">return</span> list(nums)</div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="ttc" id="anamespacelines_html"><div class="ttname"><a href="namespacelines.html">lines</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d89aac5e5f03fdf61681dd667b98bdf" name="a6d89aac5e5f03fdf61681dd667b98bdf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d89aac5e5f03fdf61681dd667b98bdf">&#9670;&#160;</a></span>loads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.loads </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bytes&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Deserialize data from :meth:`dumps`.

Use with a newly-created empty :class:`CoverageData` object.  It's
undefined what happens if the object already has data in it.

Note that this is not for reading data from a coverage data file.  It
is only for use on data you produced with :meth:`dumps`.

Arguments:
    data: A byte string of serialized data produced by :meth:`dumps`.

.. versionadded:: 5.0</pre> <div class="fragment"><div class="line"><span class="lineno">  378</span>    <span class="keyword">def </span>loads(self, data: bytes) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  379</span>        <span class="stringliteral">&quot;&quot;&quot;Deserialize data from :meth:`dumps`.</span></div>
<div class="line"><span class="lineno">  380</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  381</span><span class="stringliteral">        Use with a newly-created empty :class:`CoverageData` object.  It&#39;s</span></div>
<div class="line"><span class="lineno">  382</span><span class="stringliteral">        undefined what happens if the object already has data in it.</span></div>
<div class="line"><span class="lineno">  383</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  384</span><span class="stringliteral">        Note that this is not for reading data from a coverage data file.  It</span></div>
<div class="line"><span class="lineno">  385</span><span class="stringliteral">        is only for use on data you produced with :meth:`dumps`.</span></div>
<div class="line"><span class="lineno">  386</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  387</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  388</span><span class="stringliteral">            data: A byte string of serialized data produced by :meth:`dumps`.</span></div>
<div class="line"><span class="lineno">  389</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  390</span><span class="stringliteral">        .. versionadded:: 5.0</span></div>
<div class="line"><span class="lineno">  391</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  392</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  393</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataio&quot;</span>):</div>
<div class="line"><span class="lineno">  394</span>            self._debug.write(f<span class="stringliteral">&quot;Loading data into data file {self._filename!r}&quot;</span>)</div>
<div class="line"><span class="lineno">  395</span>        <span class="keywordflow">if</span> data[:1] != b<span class="stringliteral">&quot;z&quot;</span>:</div>
<div class="line"><span class="lineno">  396</span>            <span class="keywordflow">raise</span> DataError(</div>
<div class="line"><span class="lineno">  397</span>                f<span class="stringliteral">&quot;Unrecognized serialization: {data[:40]!r} (head of {len(data)} bytes)&quot;</span></div>
<div class="line"><span class="lineno">  398</span>            )</div>
<div class="line"><span class="lineno">  399</span>        script = zlib.decompress(data[1:]).decode(<span class="stringliteral">&quot;utf-8&quot;</span>)</div>
<div class="line"><span class="lineno">  400</span>        self._dbs[threading.get_ident()] = db = SqliteDb(self._filename, self._debug)</div>
<div class="line"><span class="lineno">  401</span>        <span class="keyword">with</span> db:</div>
<div class="line"><span class="lineno">  402</span>            db.executescript(script)</div>
<div class="line"><span class="lineno">  403</span>        self._read_db()</div>
<div class="line"><span class="lineno">  404</span>        self._have_used = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  405</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abe796ea02f011c9b34091fb5574c6c8f" name="abe796ea02f011c9b34091fb5574c6c8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe796ea02f011c9b34091fb5574c6c8f">&#9670;&#160;</a></span>measured_contexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Set[str] coverage.sqldata.CoverageData.measured_contexts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">A set of all contexts that have been measured.

.. versionadded:: 5.0</pre> <div class="fragment"><div class="line"><span class="lineno">  841</span>    <span class="keyword">def </span>measured_contexts(self) -&gt; Set[str]:</div>
<div class="line"><span class="lineno">  842</span>        <span class="stringliteral">&quot;&quot;&quot;A set of all contexts that have been measured.</span></div>
<div class="line"><span class="lineno">  843</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  844</span><span class="stringliteral">        .. versionadded:: 5.0</span></div>
<div class="line"><span class="lineno">  845</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  846</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  847</span>        self._start_using()</div>
<div class="line"><span class="lineno">  848</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  849</span>            <span class="keyword">with</span> con.execute(<span class="stringliteral">&quot;select distinct(context) from context&quot;</span>) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  850</span>                contexts = {row[0] <span class="keywordflow">for</span> row <span class="keywordflow">in</span> cur}</div>
<div class="line"><span class="lineno">  851</span>        <span class="keywordflow">return</span> contexts</div>
<div class="line"><span class="lineno">  852</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab12504145413eb36dceda7c6ca2edc02" name="ab12504145413eb36dceda7c6ca2edc02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab12504145413eb36dceda7c6ca2edc02">&#9670;&#160;</a></span>measured_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Set[str] coverage.sqldata.CoverageData.measured_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">A set of all files that had been measured.</pre> <div class="fragment"><div class="line"><span class="lineno">  837</span>    <span class="keyword">def </span>measured_files(self) -&gt; Set[str]:</div>
<div class="line"><span class="lineno">  838</span>        <span class="stringliteral">&quot;&quot;&quot;A set of all files that had been measured.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  839</span>        <span class="keywordflow">return</span> set(self._file_map)</div>
<div class="line"><span class="lineno">  840</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a55f5496979897eea8e8b4d54aae0f1a2" name="a55f5496979897eea8e8b4d54aae0f1a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55f5496979897eea8e8b4d54aae0f1a2">&#9670;&#160;</a></span>read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.read </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Start using an existing data file.</pre> <div class="fragment"><div class="line"><span class="lineno">  812</span>    <span class="keyword">def </span>read(self) -&gt; None:</div>
<div class="line"><span class="lineno">  813</span>        <span class="stringliteral">&quot;&quot;&quot;Start using an existing data file.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  814</span>        <span class="keywordflow">if</span> os.path.exists(self._filename):</div>
<div class="line"><span class="lineno">  815</span>            <span class="keyword">with</span> self._connect():</div>
<div class="line"><span class="lineno">  816</span>                self._have_used = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  817</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5cf242a8c43980655957d2537733bb1a" name="a5cf242a8c43980655957d2537733bb1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5cf242a8c43980655957d2537733bb1a">&#9670;&#160;</a></span>set_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.set_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str]&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set the current context for future :meth:`add_lines` etc.

`context` is a str, the name of the context to use for the next data
additions.  The context persists until the next :meth:`set_context`.

.. versionadded:: 5.0</pre> <div class="fragment"><div class="line"><span class="lineno">  433</span>    <span class="keyword">def </span>set_context(self, context: Optional[str]) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  434</span>        <span class="stringliteral">&quot;&quot;&quot;Set the current context for future :meth:`add_lines` etc.</span></div>
<div class="line"><span class="lineno">  435</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  436</span><span class="stringliteral">        `context` is a str, the name of the context to use for the next data</span></div>
<div class="line"><span class="lineno">  437</span><span class="stringliteral">        additions.  The context persists until the next :meth:`set_context`.</span></div>
<div class="line"><span class="lineno">  438</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  439</span><span class="stringliteral">        .. versionadded:: 5.0</span></div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  442</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataop&quot;</span>):</div>
<div class="line"><span class="lineno">  443</span>            self._debug.write(f<span class="stringliteral">&quot;Setting context: {context!r}&quot;</span>)</div>
<div class="line"><span class="lineno">  444</span>        self._current_context = context</div>
<div class="line"><span class="lineno">  445</span>        self._current_context_id = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  446</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2cdb7deab9e727072407b50da1b81cb2" name="a2cdb7deab9e727072407b50da1b81cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cdb7deab9e727072407b50da1b81cb2">&#9670;&#160;</a></span>set_query_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.set_query_context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set a context for subsequent querying.

The next :meth:`lines`, :meth:`arcs`, or :meth:`contexts_by_lineno`
calls will be limited to only one context.  `context` is a string which
must match a context exactly.  If it does not, no exception is raised,
but queries will return no data.

.. versionadded:: 5.0</pre> <div class="fragment"><div class="line"><span class="lineno">  871</span>    <span class="keyword">def </span>set_query_context(self, context: str) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  872</span>        <span class="stringliteral">&quot;&quot;&quot;Set a context for subsequent querying.</span></div>
<div class="line"><span class="lineno">  873</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  874</span><span class="stringliteral">        The next :meth:`lines`, :meth:`arcs`, or :meth:`contexts_by_lineno`</span></div>
<div class="line"><span class="lineno">  875</span><span class="stringliteral">        calls will be limited to only one context.  `context` is a string which</span></div>
<div class="line"><span class="lineno">  876</span><span class="stringliteral">        must match a context exactly.  If it does not, no exception is raised,</span></div>
<div class="line"><span class="lineno">  877</span><span class="stringliteral">        but queries will return no data.</span></div>
<div class="line"><span class="lineno">  878</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  879</span><span class="stringliteral">        .. versionadded:: 5.0</span></div>
<div class="line"><span class="lineno">  880</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  881</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  882</span>        self._start_using()</div>
<div class="line"><span class="lineno">  883</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  884</span>            <span class="keyword">with</span> con.execute(<span class="stringliteral">&quot;select id from context where context = ?&quot;</span>, (context,)) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  885</span>                self._query_context_ids = [row[0] <span class="keywordflow">for</span> row <span class="keywordflow">in</span> cur.fetchall()]</div>
<div class="line"><span class="lineno">  886</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0110d7c62b9ad0023e5ec6e1a728c8c" name="ae0110d7c62b9ad0023e5ec6e1a728c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0110d7c62b9ad0023e5ec6e1a728c8c">&#9670;&#160;</a></span>set_query_contexts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.set_query_contexts </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[Sequence[str]]&#160;</td>
          <td class="paramname"><em>contexts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set a number of contexts for subsequent querying.

The next :meth:`lines`, :meth:`arcs`, or :meth:`contexts_by_lineno`
calls will be limited to the specified contexts.  `contexts` is a list
of Python regular expressions.  Contexts will be matched using
:func:`re.search &lt;python:re.search&gt;`.  Data will be included in query
results if they are part of any of the contexts matched.

.. versionadded:: 5.0</pre> <div class="fragment"><div class="line"><span class="lineno">  887</span>    <span class="keyword">def </span>set_query_contexts(self, contexts: Optional[Sequence[str]]) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  888</span>        <span class="stringliteral">&quot;&quot;&quot;Set a number of contexts for subsequent querying.</span></div>
<div class="line"><span class="lineno">  889</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  890</span><span class="stringliteral">        The next :meth:`lines`, :meth:`arcs`, or :meth:`contexts_by_lineno`</span></div>
<div class="line"><span class="lineno">  891</span><span class="stringliteral">        calls will be limited to the specified contexts.  `contexts` is a list</span></div>
<div class="line"><span class="lineno">  892</span><span class="stringliteral">        of Python regular expressions.  Contexts will be matched using</span></div>
<div class="line"><span class="lineno">  893</span><span class="stringliteral">        :func:`re.search &lt;python:re.search&gt;`.  Data will be included in query</span></div>
<div class="line"><span class="lineno">  894</span><span class="stringliteral">        results if they are part of any of the contexts matched.</span></div>
<div class="line"><span class="lineno">  895</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  896</span><span class="stringliteral">        .. versionadded:: 5.0</span></div>
<div class="line"><span class="lineno">  897</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  898</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  899</span>        self._start_using()</div>
<div class="line"><span class="lineno">  900</span>        <span class="keywordflow">if</span> contexts:</div>
<div class="line"><span class="lineno">  901</span>            <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  902</span>                context_clause = <span class="stringliteral">&quot; or &quot;</span>.join([<span class="stringliteral">&quot;context regexp ?&quot;</span>] * len(contexts))</div>
<div class="line"><span class="lineno">  903</span>                <span class="keyword">with</span> con.execute(<span class="stringliteral">&quot;select id from context where &quot;</span> + context_clause, contexts) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  904</span>                    self._query_context_ids = [row[0] <span class="keywordflow">for</span> row <span class="keywordflow">in</span> cur.fetchall()]</div>
<div class="line"><span class="lineno">  905</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  906</span>            self._query_context_ids = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  907</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4cf345b5670062563ca90099f8d8d647" name="a4cf345b5670062563ca90099f8d8d647"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cf345b5670062563ca90099f8d8d647">&#9670;&#160;</a></span>sys_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List[Tuple[str, Any]] coverage.sqldata.CoverageData.sys_info </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Our information for `Coverage.sys_info`.

Returns a list of (key, value) pairs.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1027</span>    <span class="keyword">def </span>sys_info(cls) -&gt; List[Tuple[str, Any]]:</div>
<div class="line"><span class="lineno"> 1028</span>        <span class="stringliteral">&quot;&quot;&quot;Our information for `Coverage.sys_info`.</span></div>
<div class="line"><span class="lineno"> 1029</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1030</span><span class="stringliteral">        Returns a list of (key, value) pairs.</span></div>
<div class="line"><span class="lineno"> 1031</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1032</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1033</span>        <span class="keyword">with</span> SqliteDb(<span class="stringliteral">&quot;:memory:&quot;</span>, debug=NoDebugging()) <span class="keyword">as</span> db:</div>
<div class="line"><span class="lineno"> 1034</span>            <span class="keyword">with</span> db.execute(<span class="stringliteral">&quot;pragma temp_store&quot;</span>) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno"> 1035</span>                temp_store = [row[0] <span class="keywordflow">for</span> row <span class="keywordflow">in</span> cur]</div>
<div class="line"><span class="lineno"> 1036</span>            <span class="keyword">with</span> db.execute(<span class="stringliteral">&quot;pragma compile_options&quot;</span>) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno"> 1037</span>                copts = [row[0] <span class="keywordflow">for</span> row <span class="keywordflow">in</span> cur]</div>
<div class="line"><span class="lineno"> 1038</span>            copts = textwrap.wrap(<span class="stringliteral">&quot;, &quot;</span>.join(copts), width=75)</div>
<div class="line"><span class="lineno"> 1039</span> </div>
<div class="line"><span class="lineno"> 1040</span>        <span class="keywordflow">return</span> [</div>
<div class="line"><span class="lineno"> 1041</span>            (<span class="stringliteral">&quot;sqlite3_sqlite_version&quot;</span>, sqlite3.sqlite_version),</div>
<div class="line"><span class="lineno"> 1042</span>            (<span class="stringliteral">&quot;sqlite3_temp_store&quot;</span>, temp_store),</div>
<div class="line"><span class="lineno"> 1043</span>            (<span class="stringliteral">&quot;sqlite3_compile_options&quot;</span>, copts),</div>
<div class="line"><span class="lineno"> 1044</span>        ]</div>
<div class="line"><span class="lineno"> 1045</span> </div>
<div class="line"><span class="lineno"> 1046</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e1146d1cf5b21476f35d98408a1c351" name="a9e1146d1cf5b21476f35d98408a1c351"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e1146d1cf5b21476f35d98408a1c351">&#9670;&#160;</a></span>touch_file()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.touch_file </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>plugin_name</em> = <code>&quot;&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Ensure that `filename` appears in the data, empty if needed.

`plugin_name` is the name of the plugin responsible for this file.
It is used to associate the right filereporter, etc.
</pre> <div class="fragment"><div class="line"><span class="lineno">  594</span>    <span class="keyword">def </span>touch_file(self, filename: str, plugin_name: str=<span class="stringliteral">&quot;&quot;</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  595</span>        <span class="stringliteral">&quot;&quot;&quot;Ensure that `filename` appears in the data, empty if needed.</span></div>
<div class="line"><span class="lineno">  596</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  597</span><span class="stringliteral">        `plugin_name` is the name of the plugin responsible for this file.</span></div>
<div class="line"><span class="lineno">  598</span><span class="stringliteral">        It is used to associate the right filereporter, etc.</span></div>
<div class="line"><span class="lineno">  599</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  600</span>        self.touch_files([filename], plugin_name)</div>
<div class="line"><span class="lineno">  601</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6efd0f8caac56e6432616205be27dd91" name="a6efd0f8caac56e6432616205be27dd91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6efd0f8caac56e6432616205be27dd91">&#9670;&#160;</a></span>touch_files()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.touch_files </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterable[str]&#160;</td>
          <td class="paramname"><em>filenames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str]&#160;</td>
          <td class="paramname"><em>plugin_name</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Ensure that `filenames` appear in the data, empty if needed.

`plugin_name` is the name of the plugin responsible for these files.
It is used to associate the right filereporter, etc.
</pre> <div class="fragment"><div class="line"><span class="lineno">  602</span>    <span class="keyword">def </span>touch_files(self, filenames: Iterable[str], plugin_name: Optional[str]=<span class="keywordtype">None</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  603</span>        <span class="stringliteral">&quot;&quot;&quot;Ensure that `filenames` appear in the data, empty if needed.</span></div>
<div class="line"><span class="lineno">  604</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  605</span><span class="stringliteral">        `plugin_name` is the name of the plugin responsible for these files.</span></div>
<div class="line"><span class="lineno">  606</span><span class="stringliteral">        It is used to associate the right filereporter, etc.</span></div>
<div class="line"><span class="lineno">  607</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  608</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataop&quot;</span>):</div>
<div class="line"><span class="lineno">  609</span>            self._debug.write(f<span class="stringliteral">&quot;Touching {filenames!r}&quot;</span>)</div>
<div class="line"><span class="lineno">  610</span>        self._start_using()</div>
<div class="line"><span class="lineno">  611</span>        <span class="keyword">with</span> self._connect(): <span class="comment"># Use this to get one transaction.</span></div>
<div class="line"><span class="lineno">  612</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> self._has_arcs <span class="keywordflow">and</span> <span class="keywordflow">not</span> self._has_lines:</div>
<div class="line"><span class="lineno">  613</span>                <span class="keywordflow">raise</span> DataError(<span class="stringliteral">&quot;Can&#39;t touch files in an empty CoverageData&quot;</span>)</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>            <span class="keywordflow">for</span> filename <span class="keywordflow">in</span> filenames:</div>
<div class="line"><span class="lineno">  616</span>                self._file_id(filename, add=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  617</span>                <span class="keywordflow">if</span> plugin_name:</div>
<div class="line"><span class="lineno">  618</span>                    <span class="comment"># Set the tracer for this file</span></div>
<div class="line"><span class="lineno">  619</span>                    self.add_file_tracers({filename: plugin_name})</div>
<div class="line"><span class="lineno">  620</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a113f497ffcd9cb30c338ab37ee32c40a" name="a113f497ffcd9cb30c338ab37ee32c40a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a113f497ffcd9cb30c338ab37ee32c40a">&#9670;&#160;</a></span>update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.update </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classcoverage_1_1sqldata_1_1_coverage_data.html">CoverageData</a>&#160;</td>
          <td class="paramname"><em>other_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[PathAliases]&#160;</td>
          <td class="paramname"><em>aliases</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Update this data with data from several other :class:`CoverageData` instances.

If `aliases` is provided, it's a `PathAliases` object that is used to
re-map paths to match the local machine's.  Note: `aliases` is None
only when called directly from the test suite.</pre> <div class="fragment"><div class="line"><span class="lineno">  621</span>    <span class="keyword">def </span>update(self, other_data: CoverageData, aliases: Optional[PathAliases]=<span class="keywordtype">None</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  622</span>        <span class="stringliteral">&quot;&quot;&quot;Update this data with data from several other :class:`CoverageData` instances.</span></div>
<div class="line"><span class="lineno">  623</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  624</span><span class="stringliteral">        If `aliases` is provided, it&#39;s a `PathAliases` object that is used to</span></div>
<div class="line"><span class="lineno">  625</span><span class="stringliteral">        re-map paths to match the local machine&#39;s.  Note: `aliases` is None</span></div>
<div class="line"><span class="lineno">  626</span><span class="stringliteral">        only when called directly from the test suite.</span></div>
<div class="line"><span class="lineno">  627</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  628</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  629</span>        <span class="keywordflow">if</span> self._debug.should(<span class="stringliteral">&quot;dataop&quot;</span>):</div>
<div class="line"><span class="lineno">  630</span>            self._debug.write(<span class="stringliteral">&quot;Updating with data from {!r}&quot;</span>.format(</div>
<div class="line"><span class="lineno">  631</span>                getattr(other_data, <span class="stringliteral">&quot;_filename&quot;</span>, <span class="stringliteral">&quot;???&quot;</span>),</div>
<div class="line"><span class="lineno">  632</span>            ))</div>
<div class="line"><span class="lineno">  633</span>        <span class="keywordflow">if</span> self._has_lines <span class="keywordflow">and</span> other_data._has_arcs:</div>
<div class="line"><span class="lineno">  634</span>            <span class="keywordflow">raise</span> DataError(<span class="stringliteral">&quot;Can&#39;t combine arc data with line data&quot;</span>)</div>
<div class="line"><span class="lineno">  635</span>        <span class="keywordflow">if</span> self._has_arcs <span class="keywordflow">and</span> other_data._has_lines:</div>
<div class="line"><span class="lineno">  636</span>            <span class="keywordflow">raise</span> DataError(<span class="stringliteral">&quot;Can&#39;t combine line data with arc data&quot;</span>)</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>        aliases = aliases <span class="keywordflow">or</span> PathAliases()</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>        <span class="comment"># Force the database we&#39;re writing to to exist before we start nesting contexts.</span></div>
<div class="line"><span class="lineno">  641</span>        self._start_using()</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>        <span class="comment"># Collector for all arcs, lines and tracers</span></div>
<div class="line"><span class="lineno">  644</span>        other_data.read()</div>
<div class="line"><span class="lineno">  645</span>        <span class="keyword">with</span> other_data._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  646</span>            <span class="comment"># Get files data.</span></div>
<div class="line"><span class="lineno">  647</span>            <span class="keyword">with</span> con.execute(<span class="stringliteral">&quot;select path from file&quot;</span>) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  648</span>                files = {path: aliases.map(path) <span class="keywordflow">for</span> (path,) <span class="keywordflow">in</span> cur}</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>            <span class="comment"># Get contexts data.</span></div>
<div class="line"><span class="lineno">  651</span>            <span class="keyword">with</span> con.execute(<span class="stringliteral">&quot;select context from context&quot;</span>) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  652</span>                contexts = [context <span class="keywordflow">for</span> (context,) <span class="keywordflow">in</span> cur]</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>            <span class="comment"># Get arc data.</span></div>
<div class="line"><span class="lineno">  655</span>            <span class="keyword">with</span> con.execute(</div>
<div class="line"><span class="lineno">  656</span>                <span class="stringliteral">&quot;select file.path, context.context, arc.fromno, arc.tono &quot;</span> +</div>
<div class="line"><span class="lineno">  657</span>                <span class="stringliteral">&quot;from arc &quot;</span> +</div>
<div class="line"><span class="lineno">  658</span>                <span class="stringliteral">&quot;inner join file on file.id = arc.file_id &quot;</span> +</div>
<div class="line"><span class="lineno">  659</span>                <span class="stringliteral">&quot;inner join context on context.id = arc.context_id&quot;</span></div>
<div class="line"><span class="lineno">  660</span>            ) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  661</span>                arcs = [</div>
<div class="line"><span class="lineno">  662</span>                    (files[path], context, fromno, tono)</div>
<div class="line"><span class="lineno">  663</span>                    <span class="keywordflow">for</span> (path, context, fromno, tono) <span class="keywordflow">in</span> cur</div>
<div class="line"><span class="lineno">  664</span>                ]</div>
<div class="line"><span class="lineno">  665</span> </div>
<div class="line"><span class="lineno">  666</span>            <span class="comment"># Get line data.</span></div>
<div class="line"><span class="lineno">  667</span>            <span class="keyword">with</span> con.execute(</div>
<div class="line"><span class="lineno">  668</span>                <span class="stringliteral">&quot;select file.path, context.context, line_bits.numbits &quot;</span> +</div>
<div class="line"><span class="lineno">  669</span>                <span class="stringliteral">&quot;from line_bits &quot;</span> +</div>
<div class="line"><span class="lineno">  670</span>                <span class="stringliteral">&quot;inner join file on file.id = line_bits.file_id &quot;</span> +</div>
<div class="line"><span class="lineno">  671</span>                <span class="stringliteral">&quot;inner join context on context.id = line_bits.context_id&quot;</span></div>
<div class="line"><span class="lineno">  672</span>            ) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  673</span>                lines: Dict[Tuple[str, str], bytes] = {}</div>
<div class="line"><span class="lineno">  674</span>                <span class="keywordflow">for</span> path, context, numbits <span class="keywordflow">in</span> cur:</div>
<div class="line"><span class="lineno">  675</span>                    key = (files[path], context)</div>
<div class="line"><span class="lineno">  676</span>                    <span class="keywordflow">if</span> key <span class="keywordflow">in</span> lines:</div>
<div class="line"><span class="lineno">  677</span>                        numbits = numbits_union(lines[key], numbits)</div>
<div class="line"><span class="lineno">  678</span>                    lines[key] = numbits</div>
<div class="line"><span class="lineno">  679</span> </div>
<div class="line"><span class="lineno">  680</span>            <span class="comment"># Get tracer data.</span></div>
<div class="line"><span class="lineno">  681</span>            <span class="keyword">with</span> con.execute(</div>
<div class="line"><span class="lineno">  682</span>                <span class="stringliteral">&quot;select file.path, tracer &quot;</span> +</div>
<div class="line"><span class="lineno">  683</span>                <span class="stringliteral">&quot;from tracer &quot;</span> +</div>
<div class="line"><span class="lineno">  684</span>                <span class="stringliteral">&quot;inner join file on file.id = tracer.file_id&quot;</span></div>
<div class="line"><span class="lineno">  685</span>            ) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  686</span>                tracers = {files[path]: tracer <span class="keywordflow">for</span> (path, tracer) <span class="keywordflow">in</span> cur}</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>        <span class="keyword">with</span> self._connect() <span class="keyword">as</span> con:</div>
<div class="line"><span class="lineno">  689</span>            <span class="keyword">assert</span> con.con <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  690</span>            con.con.isolation_level = <span class="stringliteral">&quot;IMMEDIATE&quot;</span></div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>            <span class="comment"># Get all tracers in the DB. Files not in the tracers are assumed</span></div>
<div class="line"><span class="lineno">  693</span>            <span class="comment"># to have an empty string tracer. Since Sqlite does not support</span></div>
<div class="line"><span class="lineno">  694</span>            <span class="comment"># full outer joins, we have to make two queries to fill the</span></div>
<div class="line"><span class="lineno">  695</span>            <span class="comment"># dictionary.</span></div>
<div class="line"><span class="lineno">  696</span>            <span class="keyword">with</span> con.execute(<span class="stringliteral">&quot;select path from file&quot;</span>) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  697</span>                this_tracers = {path: <span class="stringliteral">&quot;&quot;</span> <span class="keywordflow">for</span> path, <span class="keywordflow">in</span> cur}</div>
<div class="line"><span class="lineno">  698</span>            <span class="keyword">with</span> con.execute(</div>
<div class="line"><span class="lineno">  699</span>                <span class="stringliteral">&quot;select file.path, tracer from tracer &quot;</span> +</div>
<div class="line"><span class="lineno">  700</span>                <span class="stringliteral">&quot;inner join file on file.id = tracer.file_id&quot;</span></div>
<div class="line"><span class="lineno">  701</span>            ) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  702</span>                this_tracers.update({</div>
<div class="line"><span class="lineno">  703</span>                    aliases.map(path): tracer</div>
<div class="line"><span class="lineno">  704</span>                    <span class="keywordflow">for</span> path, tracer <span class="keywordflow">in</span> cur</div>
<div class="line"><span class="lineno">  705</span>                })</div>
<div class="line"><span class="lineno">  706</span> </div>
<div class="line"><span class="lineno">  707</span>            <span class="comment"># Create all file and context rows in the DB.</span></div>
<div class="line"><span class="lineno">  708</span>            con.executemany_void(</div>
<div class="line"><span class="lineno">  709</span>                <span class="stringliteral">&quot;insert or ignore into file (path) values (?)&quot;</span>,</div>
<div class="line"><span class="lineno">  710</span>                ((file,) <span class="keywordflow">for</span> file <span class="keywordflow">in</span> files.values())</div>
<div class="line"><span class="lineno">  711</span>            )</div>
<div class="line"><span class="lineno">  712</span>            <span class="keyword">with</span> con.execute(<span class="stringliteral">&quot;select id, path from file&quot;</span>) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  713</span>                file_ids = {path: id <span class="keywordflow">for</span> id, path <span class="keywordflow">in</span> cur}</div>
<div class="line"><span class="lineno">  714</span>            self._file_map.update(file_ids)</div>
<div class="line"><span class="lineno">  715</span>            con.executemany_void(</div>
<div class="line"><span class="lineno">  716</span>                <span class="stringliteral">&quot;insert or ignore into context (context) values (?)&quot;</span>,</div>
<div class="line"><span class="lineno">  717</span>                ((context,) <span class="keywordflow">for</span> context <span class="keywordflow">in</span> contexts)</div>
<div class="line"><span class="lineno">  718</span>            )</div>
<div class="line"><span class="lineno">  719</span>            <span class="keyword">with</span> con.execute(<span class="stringliteral">&quot;select id, context from context&quot;</span>) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  720</span>                context_ids = {context: id <span class="keywordflow">for</span> id, context <span class="keywordflow">in</span> cur}</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>            <span class="comment"># Prepare tracers and fail, if a conflict is found.</span></div>
<div class="line"><span class="lineno">  723</span>            <span class="comment"># tracer_paths is used to ensure consistency over the tracer data</span></div>
<div class="line"><span class="lineno">  724</span>            <span class="comment"># and tracer_map tracks the tracers to be inserted.</span></div>
<div class="line"><span class="lineno">  725</span>            tracer_map = {}</div>
<div class="line"><span class="lineno">  726</span>            <span class="keywordflow">for</span> path <span class="keywordflow">in</span> files.values():</div>
<div class="line"><span class="lineno">  727</span>                this_tracer = this_tracers.get(path)</div>
<div class="line"><span class="lineno">  728</span>                other_tracer = tracers.get(path, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  729</span>                <span class="comment"># If there is no tracer, there is always the None tracer.</span></div>
<div class="line"><span class="lineno">  730</span>                <span class="keywordflow">if</span> this_tracer <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> this_tracer != other_tracer:</div>
<div class="line"><span class="lineno">  731</span>                    <span class="keywordflow">raise</span> DataError(</div>
<div class="line"><span class="lineno">  732</span>                        <span class="stringliteral">&quot;Conflicting file tracer name for &#39;{}&#39;: {!r} vs {!r}&quot;</span>.format(</div>
<div class="line"><span class="lineno">  733</span>                            path, this_tracer, other_tracer</div>
<div class="line"><span class="lineno">  734</span>                        )</div>
<div class="line"><span class="lineno">  735</span>                    )</div>
<div class="line"><span class="lineno">  736</span>                tracer_map[path] = other_tracer</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span>            <span class="comment"># Prepare arc and line rows to be inserted by converting the file</span></div>
<div class="line"><span class="lineno">  739</span>            <span class="comment"># and context strings with integer ids. Then use the efficient</span></div>
<div class="line"><span class="lineno">  740</span>            <span class="comment"># `executemany()` to insert all rows at once.</span></div>
<div class="line"><span class="lineno">  741</span>            arc_rows = (</div>
<div class="line"><span class="lineno">  742</span>                (file_ids[file], context_ids[context], fromno, tono)</div>
<div class="line"><span class="lineno">  743</span>                <span class="keywordflow">for</span> file, context, fromno, tono <span class="keywordflow">in</span> arcs</div>
<div class="line"><span class="lineno">  744</span>            )</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>            <span class="comment"># Get line data.</span></div>
<div class="line"><span class="lineno">  747</span>            <span class="keyword">with</span> con.execute(</div>
<div class="line"><span class="lineno">  748</span>                <span class="stringliteral">&quot;select file.path, context.context, line_bits.numbits &quot;</span> +</div>
<div class="line"><span class="lineno">  749</span>                <span class="stringliteral">&quot;from line_bits &quot;</span> +</div>
<div class="line"><span class="lineno">  750</span>                <span class="stringliteral">&quot;inner join file on file.id = line_bits.file_id &quot;</span> +</div>
<div class="line"><span class="lineno">  751</span>                <span class="stringliteral">&quot;inner join context on context.id = line_bits.context_id&quot;</span></div>
<div class="line"><span class="lineno">  752</span>            ) <span class="keyword">as</span> cur:</div>
<div class="line"><span class="lineno">  753</span>                <span class="keywordflow">for</span> path, context, numbits <span class="keywordflow">in</span> cur:</div>
<div class="line"><span class="lineno">  754</span>                    key = (aliases.map(path), context)</div>
<div class="line"><span class="lineno">  755</span>                    <span class="keywordflow">if</span> key <span class="keywordflow">in</span> lines:</div>
<div class="line"><span class="lineno">  756</span>                        numbits = numbits_union(lines[key], numbits)</div>
<div class="line"><span class="lineno">  757</span>                    lines[key] = numbits</div>
<div class="line"><span class="lineno">  758</span> </div>
<div class="line"><span class="lineno">  759</span>            <span class="keywordflow">if</span> arcs:</div>
<div class="line"><span class="lineno">  760</span>                self._choose_lines_or_arcs(arcs=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>                <span class="comment"># Write the combined data.</span></div>
<div class="line"><span class="lineno">  763</span>                con.executemany_void(</div>
<div class="line"><span class="lineno">  764</span>                    <span class="stringliteral">&quot;insert or ignore into arc &quot;</span> +</div>
<div class="line"><span class="lineno">  765</span>                    <span class="stringliteral">&quot;(file_id, context_id, fromno, tono) values (?, ?, ?, ?)&quot;</span>,</div>
<div class="line"><span class="lineno">  766</span>                    arc_rows</div>
<div class="line"><span class="lineno">  767</span>                )</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>            <span class="keywordflow">if</span> lines:</div>
<div class="line"><span class="lineno">  770</span>                self._choose_lines_or_arcs(lines=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  771</span>                con.execute_void(<span class="stringliteral">&quot;delete from line_bits&quot;</span>)</div>
<div class="line"><span class="lineno">  772</span>                con.executemany_void(</div>
<div class="line"><span class="lineno">  773</span>                    <span class="stringliteral">&quot;insert into line_bits &quot;</span> +</div>
<div class="line"><span class="lineno">  774</span>                    <span class="stringliteral">&quot;(file_id, context_id, numbits) values (?, ?, ?)&quot;</span>,</div>
<div class="line"><span class="lineno">  775</span>                    [</div>
<div class="line"><span class="lineno">  776</span>                        (file_ids[file], context_ids[context], numbits)</div>
<div class="line"><span class="lineno">  777</span>                        <span class="keywordflow">for</span> (file, context), numbits <span class="keywordflow">in</span> lines.items()</div>
<div class="line"><span class="lineno">  778</span>                    ]</div>
<div class="line"><span class="lineno">  779</span>                )</div>
<div class="line"><span class="lineno">  780</span>            con.executemany_void(</div>
<div class="line"><span class="lineno">  781</span>                <span class="stringliteral">&quot;insert or ignore into tracer (file_id, tracer) values (?, ?)&quot;</span>,</div>
<div class="line"><span class="lineno">  782</span>                ((file_ids[filename], tracer) <span class="keywordflow">for</span> filename, tracer <span class="keywordflow">in</span> tracer_map.items())</div>
<div class="line"><span class="lineno">  783</span>            )</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self._no_disk:</div>
<div class="line"><span class="lineno">  786</span>            <span class="comment"># Update all internal cache data.</span></div>
<div class="line"><span class="lineno">  787</span>            self._reset()</div>
<div class="line"><span class="lineno">  788</span>            self.read()</div>
<div class="line"><span class="lineno">  789</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a422931b9a3984ef7732b2d27ad52d6b8" name="a422931b9a3984ef7732b2d27ad52d6b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a422931b9a3984ef7732b2d27ad52d6b8">&#9670;&#160;</a></span>write()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None coverage.sqldata.CoverageData.write </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Ensure the data is written to the data file.</pre> <div class="fragment"><div class="line"><span class="lineno">  818</span>    <span class="keyword">def </span>write(self) -&gt; None:</div>
<div class="line"><span class="lineno">  819</span>        <span class="stringliteral">&quot;&quot;&quot;Ensure the data is written to the data file.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  821</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4d3130c27163303227f90930189fef90" name="a4d3130c27163303227f90930189fef90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d3130c27163303227f90930189fef90">&#9670;&#160;</a></span>_basename</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._basename</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a4eefcaa3becb18ff2442f256e3f5b831" name="a4eefcaa3becb18ff2442f256e3f5b831"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4eefcaa3becb18ff2442f256e3f5b831">&#9670;&#160;</a></span>_current_context</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._current_context</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab90ec8bba04e03c42aac53ae6fac1825" name="ab90ec8bba04e03c42aac53ae6fac1825"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab90ec8bba04e03c42aac53ae6fac1825">&#9670;&#160;</a></span>_current_context_id</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._current_context_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8a87251ed531370296d31b84c7fc8ac3" name="a8a87251ed531370296d31b84c7fc8ac3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a87251ed531370296d31b84c7fc8ac3">&#9670;&#160;</a></span>_dbs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._dbs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9c13a74a8c1a57e5832859e45e8c3335" name="a9c13a74a8c1a57e5832859e45e8c3335"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c13a74a8c1a57e5832859e45e8c3335">&#9670;&#160;</a></span>_debug</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._debug</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ada5240444b8d92305c467688ca0d50f9" name="ada5240444b8d92305c467688ca0d50f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada5240444b8d92305c467688ca0d50f9">&#9670;&#160;</a></span>_file_map</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._file_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a73d3fc724e0a695e4bc9d9ccd5e32597" name="a73d3fc724e0a695e4bc9d9ccd5e32597"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a73d3fc724e0a695e4bc9d9ccd5e32597">&#9670;&#160;</a></span>_filename</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._filename</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af2446a1ee977a6c4a289fe16a35fb0cd" name="af2446a1ee977a6c4a289fe16a35fb0cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2446a1ee977a6c4a289fe16a35fb0cd">&#9670;&#160;</a></span>_has_arcs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._has_arcs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="afa0e5b1df04e61138672ee580fe72ffb" name="afa0e5b1df04e61138672ee580fe72ffb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa0e5b1df04e61138672ee580fe72ffb">&#9670;&#160;</a></span>_has_lines</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._has_lines</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac60d7ee2089da606e60fc170fbb8f04d" name="ac60d7ee2089da606e60fc170fbb8f04d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac60d7ee2089da606e60fc170fbb8f04d">&#9670;&#160;</a></span>_have_used</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._have_used</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9d8a3370398521f6c017b180a887f8dc" name="a9d8a3370398521f6c017b180a887f8dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d8a3370398521f6c017b180a887f8dc">&#9670;&#160;</a></span>_lock</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a12e4d46beb5bc8b758f01bab7f0bc56f" name="a12e4d46beb5bc8b758f01bab7f0bc56f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12e4d46beb5bc8b758f01bab7f0bc56f">&#9670;&#160;</a></span>_no_disk</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._no_disk</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab295ee61fadc4dd61505801bb0d88d6a" name="ab295ee61fadc4dd61505801bb0d88d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab295ee61fadc4dd61505801bb0d88d6a">&#9670;&#160;</a></span>_pid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._pid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a37b117bf74d763094b053b829e357b8a" name="a37b117bf74d763094b053b829e357b8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37b117bf74d763094b053b829e357b8a">&#9670;&#160;</a></span>_query_context_ids</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._query_context_ids</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af89639be99256930dec6f1527a78ed94" name="af89639be99256930dec6f1527a78ed94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89639be99256930dec6f1527a78ed94">&#9670;&#160;</a></span>_suffix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._suffix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a464c601125b5b6417206d4e5a78913b7" name="a464c601125b5b6417206d4e5a78913b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a464c601125b5b6417206d4e5a78913b7">&#9670;&#160;</a></span>_warn</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">coverage.sqldata.CoverageData._warn</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/coverage/<a class="el" href="sqldata_8py.html">sqldata.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
