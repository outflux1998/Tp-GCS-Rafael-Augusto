<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.impute.tests.test_impute Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1impute.html">impute</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1impute_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html">test_impute</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sklearn.impute.tests.test_impute Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a0a1510fc37c8ffaf6b5122d129729b19" id="r_a0a1510fc37c8ffaf6b5122d129729b19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a0a1510fc37c8ffaf6b5122d129729b19">_assert_array_equal_and_same_dtype</a> (x, y)</td></tr>
<tr class="separator:a0a1510fc37c8ffaf6b5122d129729b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a952a5ca9aec29c6243bdf910a6e9db09" id="r_a952a5ca9aec29c6243bdf910a6e9db09"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a952a5ca9aec29c6243bdf910a6e9db09">_assert_allclose_and_same_dtype</a> (x, y)</td></tr>
<tr class="separator:a952a5ca9aec29c6243bdf910a6e9db09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a019544b608011b560b590d0f78133ea7" id="r_a019544b608011b560b590d0f78133ea7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a019544b608011b560b590d0f78133ea7">_check_statistics</a> (X, X_true, strategy, statistics, missing_values)</td></tr>
<tr class="separator:a019544b608011b560b590d0f78133ea7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a959bfd8167fda9754abc687945a39401" id="r_a959bfd8167fda9754abc687945a39401"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a959bfd8167fda9754abc687945a39401">test_imputation_shape</a> (strategy)</td></tr>
<tr class="separator:a959bfd8167fda9754abc687945a39401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b25148585f3d6bc2d5f2b3094be545b" id="r_a0b25148585f3d6bc2d5f2b3094be545b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a0b25148585f3d6bc2d5f2b3094be545b">test_imputation_deletion_warning</a> (strategy)</td></tr>
<tr class="separator:a0b25148585f3d6bc2d5f2b3094be545b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53bb46b353450208236eb14bd3a7b383" id="r_a53bb46b353450208236eb14bd3a7b383"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a53bb46b353450208236eb14bd3a7b383">test_imputation_deletion_warning_feature_names</a> (strategy)</td></tr>
<tr class="separator:a53bb46b353450208236eb14bd3a7b383"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac960e87f33eeda856240dc0e41bd9d3c" id="r_ac960e87f33eeda856240dc0e41bd9d3c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#ac960e87f33eeda856240dc0e41bd9d3c">test_imputation_error_sparse_0</a> (strategy)</td></tr>
<tr class="separator:ac960e87f33eeda856240dc0e41bd9d3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54eeafdd5fca7076b7076208c42a1b5d" id="r_a54eeafdd5fca7076b7076208c42a1b5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a54eeafdd5fca7076b7076208c42a1b5d">safe_median</a> (arr, *args, **kwargs)</td></tr>
<tr class="separator:a54eeafdd5fca7076b7076208c42a1b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e11d6205a9bccf0a761b783d59901e0" id="r_a9e11d6205a9bccf0a761b783d59901e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a9e11d6205a9bccf0a761b783d59901e0">safe_mean</a> (arr, *args, **kwargs)</td></tr>
<tr class="separator:a9e11d6205a9bccf0a761b783d59901e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2016229e5d288002772fd2b8516ef85f" id="r_a2016229e5d288002772fd2b8516ef85f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a2016229e5d288002772fd2b8516ef85f">test_imputation_mean_median</a> ()</td></tr>
<tr class="separator:a2016229e5d288002772fd2b8516ef85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b11e91107bbfd8ee2f99267e0abb58" id="r_a52b11e91107bbfd8ee2f99267e0abb58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a52b11e91107bbfd8ee2f99267e0abb58">test_imputation_median_special_cases</a> ()</td></tr>
<tr class="separator:a52b11e91107bbfd8ee2f99267e0abb58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255277fe57e20330b5e849a324cb0b8e" id="r_a255277fe57e20330b5e849a324cb0b8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a255277fe57e20330b5e849a324cb0b8e">test_imputation_mean_median_error_invalid_type</a> (strategy, dtype)</td></tr>
<tr class="separator:a255277fe57e20330b5e849a324cb0b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0429c3e9b5c7c84debbe12e90aea459e" id="r_a0429c3e9b5c7c84debbe12e90aea459e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a0429c3e9b5c7c84debbe12e90aea459e">test_imputation_mean_median_error_invalid_type_list_pandas</a> (strategy, type)</td></tr>
<tr class="separator:a0429c3e9b5c7c84debbe12e90aea459e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2a8a79a7c75e4fd6d23ca95ef6f2d69" id="r_af2a8a79a7c75e4fd6d23ca95ef6f2d69"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#af2a8a79a7c75e4fd6d23ca95ef6f2d69">test_imputation_const_mostf_error_invalid_types</a> (strategy, dtype)</td></tr>
<tr class="separator:af2a8a79a7c75e4fd6d23ca95ef6f2d69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6d8673244174afe117dd231ff9392a7" id="r_ac6d8673244174afe117dd231ff9392a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#ac6d8673244174afe117dd231ff9392a7">test_imputation_most_frequent</a> ()</td></tr>
<tr class="separator:ac6d8673244174afe117dd231ff9392a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4b1b62377173dc9cdacf61e2ca4031c" id="r_ab4b1b62377173dc9cdacf61e2ca4031c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#ab4b1b62377173dc9cdacf61e2ca4031c">test_imputation_most_frequent_objects</a> (marker)</td></tr>
<tr class="separator:ab4b1b62377173dc9cdacf61e2ca4031c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93559c5398ff998f385a640a67829bea" id="r_a93559c5398ff998f385a640a67829bea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a93559c5398ff998f385a640a67829bea">test_imputation_most_frequent_pandas</a> (dtype)</td></tr>
<tr class="separator:a93559c5398ff998f385a640a67829bea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c22a40ecf5cf52bc6a7d0ec25ababf9" id="r_a7c22a40ecf5cf52bc6a7d0ec25ababf9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a7c22a40ecf5cf52bc6a7d0ec25ababf9">test_imputation_constant_error_invalid_type</a> (X_data, missing_value)</td></tr>
<tr class="separator:a7c22a40ecf5cf52bc6a7d0ec25ababf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a394183a20a4cf9939ce6edbf20a595cf" id="r_a394183a20a4cf9939ce6edbf20a595cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a394183a20a4cf9939ce6edbf20a595cf">test_imputation_constant_integer</a> ()</td></tr>
<tr class="separator:a394183a20a4cf9939ce6edbf20a595cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab02d79ad8afc6b8884b2bf4fa975d136" id="r_ab02d79ad8afc6b8884b2bf4fa975d136"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#ab02d79ad8afc6b8884b2bf4fa975d136">test_imputation_constant_float</a> (array_constructor)</td></tr>
<tr class="separator:ab02d79ad8afc6b8884b2bf4fa975d136"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59496ffd89e2ddcb8587f9ca913b8482" id="r_a59496ffd89e2ddcb8587f9ca913b8482"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a59496ffd89e2ddcb8587f9ca913b8482">test_imputation_constant_object</a> (marker)</td></tr>
<tr class="separator:a59496ffd89e2ddcb8587f9ca913b8482"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a949973789e61b38ce30bacc780b7a478" id="r_a949973789e61b38ce30bacc780b7a478"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a949973789e61b38ce30bacc780b7a478">test_imputation_constant_pandas</a> (dtype)</td></tr>
<tr class="separator:a949973789e61b38ce30bacc780b7a478"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d68566c187d01edf2424683d844ceff" id="r_a1d68566c187d01edf2424683d844ceff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a1d68566c187d01edf2424683d844ceff">test_iterative_imputer_one_feature</a> (X)</td></tr>
<tr class="separator:a1d68566c187d01edf2424683d844ceff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59d2545d571496a91212dca6cf05837e" id="r_a59d2545d571496a91212dca6cf05837e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a59d2545d571496a91212dca6cf05837e">test_imputation_pipeline_grid_search</a> ()</td></tr>
<tr class="separator:a59d2545d571496a91212dca6cf05837e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab52e8ad6233f5316e334aabbaeb86eac" id="r_ab52e8ad6233f5316e334aabbaeb86eac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#ab52e8ad6233f5316e334aabbaeb86eac">test_imputation_copy</a> ()</td></tr>
<tr class="separator:ab52e8ad6233f5316e334aabbaeb86eac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a757e13ff50efa46d079434b687afb415" id="r_a757e13ff50efa46d079434b687afb415"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a757e13ff50efa46d079434b687afb415">test_iterative_imputer_zero_iters</a> ()</td></tr>
<tr class="separator:a757e13ff50efa46d079434b687afb415"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0937fc37397f3c9066c4646382db1033" id="r_a0937fc37397f3c9066c4646382db1033"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a0937fc37397f3c9066c4646382db1033">test_iterative_imputer_verbose</a> ()</td></tr>
<tr class="separator:a0937fc37397f3c9066c4646382db1033"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f280590ab87c0e80bedc8524028a20d" id="r_a0f280590ab87c0e80bedc8524028a20d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a0f280590ab87c0e80bedc8524028a20d">test_iterative_imputer_all_missing</a> ()</td></tr>
<tr class="separator:a0f280590ab87c0e80bedc8524028a20d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a255e6e53bca48e5e7b5cd1b74e624a1d" id="r_a255e6e53bca48e5e7b5cd1b74e624a1d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a255e6e53bca48e5e7b5cd1b74e624a1d">test_iterative_imputer_imputation_order</a> (imputation_order)</td></tr>
<tr class="separator:a255e6e53bca48e5e7b5cd1b74e624a1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e960bcb05b501baaa73cf62d53ef86" id="r_ae6e960bcb05b501baaa73cf62d53ef86"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#ae6e960bcb05b501baaa73cf62d53ef86">test_iterative_imputer_estimators</a> (estimator)</td></tr>
<tr class="separator:ae6e960bcb05b501baaa73cf62d53ef86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1dc2151fafd2896dc850e87a2d5fb0f" id="r_ac1dc2151fafd2896dc850e87a2d5fb0f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#ac1dc2151fafd2896dc850e87a2d5fb0f">test_iterative_imputer_clip</a> ()</td></tr>
<tr class="separator:ac1dc2151fafd2896dc850e87a2d5fb0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f42977038013c83f5e8e718795527df" id="r_a9f42977038013c83f5e8e718795527df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a9f42977038013c83f5e8e718795527df">test_iterative_imputer_clip_truncnorm</a> ()</td></tr>
<tr class="separator:a9f42977038013c83f5e8e718795527df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7f667fdc149ed45e22987cbecc95e6" id="r_a4e7f667fdc149ed45e22987cbecc95e6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a4e7f667fdc149ed45e22987cbecc95e6">test_iterative_imputer_truncated_normal_posterior</a> ()</td></tr>
<tr class="separator:a4e7f667fdc149ed45e22987cbecc95e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac98699ee7b0ad8328ce3e32cf453d686" id="r_ac98699ee7b0ad8328ce3e32cf453d686"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#ac98699ee7b0ad8328ce3e32cf453d686">test_iterative_imputer_missing_at_transform</a> (strategy)</td></tr>
<tr class="separator:ac98699ee7b0ad8328ce3e32cf453d686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a566a5b84000bbfc3dfdcb5decc2517d6" id="r_a566a5b84000bbfc3dfdcb5decc2517d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a566a5b84000bbfc3dfdcb5decc2517d6">test_iterative_imputer_transform_stochasticity</a> ()</td></tr>
<tr class="separator:a566a5b84000bbfc3dfdcb5decc2517d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae81961f6ef784c7426bc95ed94da5e40" id="r_ae81961f6ef784c7426bc95ed94da5e40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#ae81961f6ef784c7426bc95ed94da5e40">test_iterative_imputer_no_missing</a> ()</td></tr>
<tr class="separator:ae81961f6ef784c7426bc95ed94da5e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291e539c33deac833cae4c2f0c94155e" id="r_a291e539c33deac833cae4c2f0c94155e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a291e539c33deac833cae4c2f0c94155e">test_iterative_imputer_rank_one</a> ()</td></tr>
<tr class="separator:a291e539c33deac833cae4c2f0c94155e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3018da7eea802771a01baaed84a8104e" id="r_a3018da7eea802771a01baaed84a8104e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a3018da7eea802771a01baaed84a8104e">test_iterative_imputer_transform_recovery</a> (rank)</td></tr>
<tr class="separator:a3018da7eea802771a01baaed84a8104e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3f2a3db9739dae2b7e9b441cff63cba" id="r_af3f2a3db9739dae2b7e9b441cff63cba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#af3f2a3db9739dae2b7e9b441cff63cba">test_iterative_imputer_additive_matrix</a> ()</td></tr>
<tr class="separator:af3f2a3db9739dae2b7e9b441cff63cba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5018032fda7f2f4d79a1af6f1dfba59" id="r_af5018032fda7f2f4d79a1af6f1dfba59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#af5018032fda7f2f4d79a1af6f1dfba59">test_iterative_imputer_early_stopping</a> ()</td></tr>
<tr class="separator:af5018032fda7f2f4d79a1af6f1dfba59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f1a7b20c1a99b907bcd7c7e89b5f73b" id="r_a1f1a7b20c1a99b907bcd7c7e89b5f73b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a1f1a7b20c1a99b907bcd7c7e89b5f73b">test_iterative_imputer_catch_warning</a> ()</td></tr>
<tr class="separator:a1f1a7b20c1a99b907bcd7c7e89b5f73b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5295678237ec5957b0a3138fe0e8fbc9" id="r_a5295678237ec5957b0a3138fe0e8fbc9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a5295678237ec5957b0a3138fe0e8fbc9">test_iterative_imputer_min_max_array_like</a> (min_value, max_value, correct_output)</td></tr>
<tr class="separator:a5295678237ec5957b0a3138fe0e8fbc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f176c47ee3252d4eb53fe0629b4d16d" id="r_a8f176c47ee3252d4eb53fe0629b4d16d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a8f176c47ee3252d4eb53fe0629b4d16d">test_iterative_imputer_catch_min_max_error</a> (min_value, max_value, err_msg)</td></tr>
<tr class="separator:a8f176c47ee3252d4eb53fe0629b4d16d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f91bc4e379376d09f3395327345dae2" id="r_a2f91bc4e379376d09f3395327345dae2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a2f91bc4e379376d09f3395327345dae2">test_iterative_imputer_min_max_array_like_imputation</a> (min_max_1, min_max_2)</td></tr>
<tr class="separator:a2f91bc4e379376d09f3395327345dae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38759f8ffb261d2d7cf17e975e1a4f6a" id="r_a38759f8ffb261d2d7cf17e975e1a4f6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a38759f8ffb261d2d7cf17e975e1a4f6a">test_iterative_imputer_skip_non_missing</a> (skip_complete)</td></tr>
<tr class="separator:a38759f8ffb261d2d7cf17e975e1a4f6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bdcf75cb45eeb27fc9e35326db0c928" id="r_a5bdcf75cb45eeb27fc9e35326db0c928"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a5bdcf75cb45eeb27fc9e35326db0c928">test_iterative_imputer_dont_set_random_state</a> (rs_imputer, rs_estimator)</td></tr>
<tr class="separator:a5bdcf75cb45eeb27fc9e35326db0c928"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0039cd67dfe39b9967645f9a58a8416c" id="r_a0039cd67dfe39b9967645f9a58a8416c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a0039cd67dfe39b9967645f9a58a8416c">test_missing_indicator_error</a> (X_fit, X_trans, params, msg_err)</td></tr>
<tr class="separator:a0039cd67dfe39b9967645f9a58a8416c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562bb545d9d68dafceca170943d5d1be" id="r_a562bb545d9d68dafceca170943d5d1be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a562bb545d9d68dafceca170943d5d1be">test_missing_indicator_new</a> (missing_values, arr_type, dtype, param_features, n_features, features_indices)</td></tr>
<tr class="separator:a562bb545d9d68dafceca170943d5d1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99588dfe0b631b71c429b08c6f2bf873" id="r_a99588dfe0b631b71c429b08c6f2bf873"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a99588dfe0b631b71c429b08c6f2bf873">test_missing_indicator_raise_on_sparse_with_missing_0</a> (arr_type)</td></tr>
<tr class="separator:a99588dfe0b631b71c429b08c6f2bf873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3671198b3a50f597f5d95ff51e2f6ae8" id="r_a3671198b3a50f597f5d95ff51e2f6ae8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a3671198b3a50f597f5d95ff51e2f6ae8">test_missing_indicator_sparse_param</a> (arr_type, missing_values, param_sparse)</td></tr>
<tr class="separator:a3671198b3a50f597f5d95ff51e2f6ae8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1212b2a65b5a8ca00d7bb36d67ffa93" id="r_ad1212b2a65b5a8ca00d7bb36d67ffa93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#ad1212b2a65b5a8ca00d7bb36d67ffa93">test_missing_indicator_string</a> ()</td></tr>
<tr class="separator:ad1212b2a65b5a8ca00d7bb36d67ffa93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c1f20e3a2b81b28b6b1b10138a16f8" id="r_a12c1f20e3a2b81b28b6b1b10138a16f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a12c1f20e3a2b81b28b6b1b10138a16f8">test_missing_indicator_with_imputer</a> (X, missing_values, X_trans_exp)</td></tr>
<tr class="separator:a12c1f20e3a2b81b28b6b1b10138a16f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5284c6ca7830b4d8514f2b41b5dfdfb" id="r_aa5284c6ca7830b4d8514f2b41b5dfdfb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#aa5284c6ca7830b4d8514f2b41b5dfdfb">test_inconsistent_dtype_X_missing_values</a> (imputer_constructor, imputer_missing_values, missing_value, err_msg)</td></tr>
<tr class="separator:aa5284c6ca7830b4d8514f2b41b5dfdfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bfa51f48637634d2f1e8a330c2997ce" id="r_a3bfa51f48637634d2f1e8a330c2997ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a3bfa51f48637634d2f1e8a330c2997ce">test_missing_indicator_no_missing</a> ()</td></tr>
<tr class="separator:a3bfa51f48637634d2f1e8a330c2997ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9187078068654e8c70a0225365046078" id="r_a9187078068654e8c70a0225365046078"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a9187078068654e8c70a0225365046078">test_missing_indicator_sparse_no_explicit_zeros</a> ()</td></tr>
<tr class="separator:a9187078068654e8c70a0225365046078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac71571bac907aa46ce62616c8c318246" id="r_ac71571bac907aa46ce62616c8c318246"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#ac71571bac907aa46ce62616c8c318246">test_imputer_without_indicator</a> (imputer_constructor)</td></tr>
<tr class="separator:ac71571bac907aa46ce62616c8c318246"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411f1f3eb293492308dece75db70c22f" id="r_a411f1f3eb293492308dece75db70c22f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a411f1f3eb293492308dece75db70c22f">test_simple_imputation_add_indicator_sparse_matrix</a> (arr_type)</td></tr>
<tr class="separator:a411f1f3eb293492308dece75db70c22f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7667ee2c8ffbb1986cc99a54d56ca791" id="r_a7667ee2c8ffbb1986cc99a54d56ca791"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a7667ee2c8ffbb1986cc99a54d56ca791">test_simple_imputation_string_list</a> (strategy, expected)</td></tr>
<tr class="separator:a7667ee2c8ffbb1986cc99a54d56ca791"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79e7c906fd3f9fbdfb8bf0b02680ed4b" id="r_a79e7c906fd3f9fbdfb8bf0b02680ed4b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a79e7c906fd3f9fbdfb8bf0b02680ed4b">test_imputation_order</a> (<a class="el" href="__lapack__subroutines_8h.html#a9993259f1ab17738593f079acd0507d9">order</a>, idx_order)</td></tr>
<tr class="separator:a79e7c906fd3f9fbdfb8bf0b02680ed4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a519eb5de7e8be11e704e2c588e7cfec0" id="r_a519eb5de7e8be11e704e2c588e7cfec0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a519eb5de7e8be11e704e2c588e7cfec0">test_simple_imputation_inverse_transform</a> (missing_value)</td></tr>
<tr class="separator:a519eb5de7e8be11e704e2c588e7cfec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff3639d958e7fc3da9d96d306704f5c5" id="r_aff3639d958e7fc3da9d96d306704f5c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#aff3639d958e7fc3da9d96d306704f5c5">test_simple_imputation_inverse_transform_exceptions</a> (missing_value)</td></tr>
<tr class="separator:aff3639d958e7fc3da9d96d306704f5c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd7ac705c683c0c2a73c2c8654dce80" id="r_a1cd7ac705c683c0c2a73c2c8654dce80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a1cd7ac705c683c0c2a73c2c8654dce80">test_most_frequent</a> (expected, array, dtype, extra_value, n_repeat)</td></tr>
<tr class="separator:a1cd7ac705c683c0c2a73c2c8654dce80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86d5d67039ebfb31e86e251e4792dea1" id="r_a86d5d67039ebfb31e86e251e4792dea1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a86d5d67039ebfb31e86e251e4792dea1">test_iterative_imputer_keep_empty_features</a> (initial_strategy)</td></tr>
<tr class="separator:a86d5d67039ebfb31e86e251e4792dea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0424d1f318996c48d92e1097b3a72525" id="r_a0424d1f318996c48d92e1097b3a72525"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a0424d1f318996c48d92e1097b3a72525">test_knn_imputer_keep_empty_features</a> (keep_empty_features)</td></tr>
<tr class="separator:a0424d1f318996c48d92e1097b3a72525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89452027a6c395a4402517a0beea771" id="r_af89452027a6c395a4402517a0beea771"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#af89452027a6c395a4402517a0beea771">test_simple_impute_pd_na</a> ()</td></tr>
<tr class="separator:af89452027a6c395a4402517a0beea771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6948cfbaff88549777b7bde4856d7ec8" id="r_a6948cfbaff88549777b7bde4856d7ec8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a6948cfbaff88549777b7bde4856d7ec8">test_missing_indicator_feature_names_out</a> ()</td></tr>
<tr class="separator:a6948cfbaff88549777b7bde4856d7ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7310d7d2fecec598eb03734703c882c" id="r_af7310d7d2fecec598eb03734703c882c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#af7310d7d2fecec598eb03734703c882c">test_imputer_lists_fit_transform</a> ()</td></tr>
<tr class="separator:af7310d7d2fecec598eb03734703c882c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14654232a724f0c30200fa6f46b111db" id="r_a14654232a724f0c30200fa6f46b111db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a14654232a724f0c30200fa6f46b111db">test_imputer_transform_preserves_numeric_dtype</a> (dtype_test)</td></tr>
<tr class="separator:a14654232a724f0c30200fa6f46b111db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af769acbb7a929dccd446efdf42d75d53" id="r_af769acbb7a929dccd446efdf42d75d53"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#af769acbb7a929dccd446efdf42d75d53">test_simple_imputer_constant_keep_empty_features</a> (array_type, keep_empty_features)</td></tr>
<tr class="separator:af769acbb7a929dccd446efdf42d75d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a058b5ba3fe52e83db87f630c8ac6eeef" id="r_a058b5ba3fe52e83db87f630c8ac6eeef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#a058b5ba3fe52e83db87f630c8ac6eeef">test_simple_imputer_keep_empty_features</a> (strategy, array_type, keep_empty_features)</td></tr>
<tr class="separator:a058b5ba3fe52e83db87f630c8ac6eeef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:acfc39b2271a8710d751c12447001dc26" id="r_acfc39b2271a8710d751c12447001dc26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1impute_1_1tests_1_1test__impute.html#acfc39b2271a8710d751c12447001dc26">random_state</a></td></tr>
<tr class="separator:acfc39b2271a8710d751c12447001dc26"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a952a5ca9aec29c6243bdf910a6e9db09" name="a952a5ca9aec29c6243bdf910a6e9db09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a952a5ca9aec29c6243bdf910a6e9db09">&#9670;&#160;</a></span>_assert_allclose_and_same_dtype()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute._assert_allclose_and_same_dtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   38</span><span class="keyword">def </span>_assert_allclose_and_same_dtype(x, y):</div>
<div class="line"><span class="lineno">   39</span>    assert_allclose(x, y)</div>
<div class="line"><span class="lineno">   40</span>    <span class="keyword">assert</span> x.dtype == y.dtype</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a1510fc37c8ffaf6b5122d129729b19" name="a0a1510fc37c8ffaf6b5122d129729b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a1510fc37c8ffaf6b5122d129729b19">&#9670;&#160;</a></span>_assert_array_equal_and_same_dtype()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute._assert_array_equal_and_same_dtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   33</span><span class="keyword">def </span>_assert_array_equal_and_same_dtype(x, y):</div>
<div class="line"><span class="lineno">   34</span>    assert_array_equal(x, y)</div>
<div class="line"><span class="lineno">   35</span>    <span class="keyword">assert</span> x.dtype == y.dtype</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a019544b608011b560b590d0f78133ea7" name="a019544b608011b560b590d0f78133ea7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a019544b608011b560b590d0f78133ea7">&#9670;&#160;</a></span>_check_statistics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute._check_statistics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X_true</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>statistics</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>missing_values</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Utility function for testing imputation for a given strategy.

Test with dense and sparse arrays

Check that:
    - the statistics (mean, median, mode) are correct
    - the missing values are imputed correctly</pre> <div class="fragment"><div class="line"><span class="lineno">   43</span><span class="keyword">def </span>_check_statistics(X, X_true, strategy, statistics, missing_values):</div>
<div class="line"><span class="lineno">   44</span>    <span class="stringliteral">&quot;&quot;&quot;Utility function for testing imputation for a given strategy.</span></div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">    Test with dense and sparse arrays</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral">    Check that:</span></div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral">        - the statistics (mean, median, mode) are correct</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">        - the missing values are imputed correctly&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>    err_msg = <span class="stringliteral">&quot;Parameters: strategy = %s, missing_values = %s, sparse = {0}&quot;</span> % (</div>
<div class="line"><span class="lineno">   53</span>        strategy,</div>
<div class="line"><span class="lineno">   54</span>        missing_values,</div>
<div class="line"><span class="lineno">   55</span>    )</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>    assert_ae = assert_array_equal</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">if</span> X.dtype.kind == <span class="stringliteral">&quot;f&quot;</span> <span class="keywordflow">or</span> X_true.dtype.kind == <span class="stringliteral">&quot;f&quot;</span>:</div>
<div class="line"><span class="lineno">   60</span>        assert_ae = assert_array_almost_equal</div>
<div class="line"><span class="lineno">   61</span> </div>
<div class="line"><span class="lineno">   62</span>    <span class="comment"># Normal matrix</span></div>
<div class="line"><span class="lineno">   63</span>    imputer = SimpleImputer(missing_values=missing_values, strategy=strategy)</div>
<div class="line"><span class="lineno">   64</span>    X_trans = imputer.fit(X).transform(X.copy())</div>
<div class="line"><span class="lineno">   65</span>    assert_ae(imputer.statistics_, statistics, err_msg=err_msg.format(<span class="keyword">False</span>))</div>
<div class="line"><span class="lineno">   66</span>    assert_ae(X_trans, X_true, err_msg=err_msg.format(<span class="keyword">False</span>))</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>    <span class="comment"># Sparse matrix</span></div>
<div class="line"><span class="lineno">   69</span>    imputer = SimpleImputer(missing_values=missing_values, strategy=strategy)</div>
<div class="line"><span class="lineno">   70</span>    imputer.fit(sparse.csc_matrix(X))</div>
<div class="line"><span class="lineno">   71</span>    X_trans = imputer.transform(sparse.csc_matrix(X.copy()))</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">if</span> sparse.issparse(X_trans):</div>
<div class="line"><span class="lineno">   74</span>        X_trans = X_trans.toarray()</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>    assert_ae(imputer.statistics_, statistics, err_msg=err_msg.format(<span class="keyword">True</span>))</div>
<div class="line"><span class="lineno">   77</span>    assert_ae(X_trans, X_true, err_msg=err_msg.format(<span class="keyword">True</span>))</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span><span class="preprocessor">@pytest.mark.parametrize(&quot;strategy&quot;, [&quot;mean&quot;, &quot;median&quot;, &quot;most_frequent&quot;, &quot;constant&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e11d6205a9bccf0a761b783d59901e0" name="a9e11d6205a9bccf0a761b783d59901e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e11d6205a9bccf0a761b783d59901e0">&#9670;&#160;</a></span>safe_mean()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.safe_mean </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  164</span><span class="keyword">def </span>safe_mean(arr, *args, **kwargs):</div>
<div class="line"><span class="lineno">  165</span>    <span class="comment"># np.mean([]) raises a RuntimeWarning for numpy &gt;= 1.10.1</span></div>
<div class="line"><span class="lineno">  166</span>    length = arr.size <span class="keywordflow">if</span> hasattr(arr, <span class="stringliteral">&quot;size&quot;</span>) <span class="keywordflow">else</span> len(arr)</div>
<div class="line"><span class="lineno">  167</span>    <span class="keywordflow">return</span> np.nan <span class="keywordflow">if</span> length == 0 <span class="keywordflow">else</span> np.mean(arr, *args, **kwargs)</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a54eeafdd5fca7076b7076208c42a1b5d" name="a54eeafdd5fca7076b7076208c42a1b5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54eeafdd5fca7076b7076208c42a1b5d">&#9670;&#160;</a></span>safe_median()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.safe_median </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  158</span><span class="keyword">def </span>safe_median(arr, *args, **kwargs):</div>
<div class="line"><span class="lineno">  159</span>    <span class="comment"># np.median([]) raises a TypeError for numpy &gt;= 1.10.1</span></div>
<div class="line"><span class="lineno">  160</span>    length = arr.size <span class="keywordflow">if</span> hasattr(arr, <span class="stringliteral">&quot;size&quot;</span>) <span class="keywordflow">else</span> len(arr)</div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">return</span> np.nan <span class="keywordflow">if</span> length == 0 <span class="keywordflow">else</span> np.median(arr, *args, **kwargs)</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af2a8a79a7c75e4fd6d23ca95ef6f2d69" name="af2a8a79a7c75e4fd6d23ca95ef6f2d69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2a8a79a7c75e4fd6d23ca95ef6f2d69">&#9670;&#160;</a></span>test_imputation_const_mostf_error_invalid_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_const_mostf_error_invalid_types </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  294</span><span class="keyword">def </span>test_imputation_const_mostf_error_invalid_types(strategy, dtype):</div>
<div class="line"><span class="lineno">  295</span>    <span class="comment"># Test imputation on non-numeric data using &quot;most_frequent&quot; and &quot;constant&quot;</span></div>
<div class="line"><span class="lineno">  296</span>    <span class="comment"># strategy</span></div>
<div class="line"><span class="lineno">  297</span>    X = np.array(</div>
<div class="line"><span class="lineno">  298</span>        [</div>
<div class="line"><span class="lineno">  299</span>            [np.nan, np.nan, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;f&quot;</span>],</div>
<div class="line"><span class="lineno">  300</span>            [np.nan, <span class="stringliteral">&quot;c&quot;</span>, np.nan, <span class="stringliteral">&quot;d&quot;</span>],</div>
<div class="line"><span class="lineno">  301</span>            [np.nan, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, np.nan],</div>
<div class="line"><span class="lineno">  302</span>            [np.nan, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>],</div>
<div class="line"><span class="lineno">  303</span>        ],</div>
<div class="line"><span class="lineno">  304</span>        dtype=dtype,</div>
<div class="line"><span class="lineno">  305</span>    )</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>    err_msg = <span class="stringliteral">&quot;SimpleImputer does not support data&quot;</span></div>
<div class="line"><span class="lineno">  308</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno">  309</span>        imputer = SimpleImputer(strategy=strategy)</div>
<div class="line"><span class="lineno">  310</span>        imputer.fit(X).transform(X)</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c22a40ecf5cf52bc6a7d0ec25ababf9" name="a7c22a40ecf5cf52bc6a7d0ec25ababf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c22a40ecf5cf52bc6a7d0ec25ababf9">&#9670;&#160;</a></span>test_imputation_constant_error_invalid_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_constant_error_invalid_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>missing_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  390</span><span class="keyword">def </span>test_imputation_constant_error_invalid_type(X_data, missing_value):</div>
<div class="line"><span class="lineno">  391</span>    <span class="comment"># Verify that exceptions are raised on invalid fill_value type</span></div>
<div class="line"><span class="lineno">  392</span>    X = np.full((3, 5), X_data, dtype=float)</div>
<div class="line"><span class="lineno">  393</span>    X[0, 0] = missing_value</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;imputing numerical&quot;</span>):</div>
<div class="line"><span class="lineno">  396</span>        imputer = SimpleImputer(</div>
<div class="line"><span class="lineno">  397</span>            missing_values=missing_value, strategy=<span class="stringliteral">&quot;constant&quot;</span>, fill_value=<span class="stringliteral">&quot;x&quot;</span></div>
<div class="line"><span class="lineno">  398</span>        )</div>
<div class="line"><span class="lineno">  399</span>        imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  400</span> </div>
<div class="line"><span class="lineno">  401</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab02d79ad8afc6b8884b2bf4fa975d136" name="ab02d79ad8afc6b8884b2bf4fa975d136"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab02d79ad8afc6b8884b2bf4fa975d136">&#9670;&#160;</a></span>test_imputation_constant_float()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_constant_float </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array_constructor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  415</span><span class="keyword">def </span>test_imputation_constant_float(array_constructor):</div>
<div class="line"><span class="lineno">  416</span>    <span class="comment"># Test imputation using the constant strategy on floats</span></div>
<div class="line"><span class="lineno">  417</span>    X = np.array(</div>
<div class="line"><span class="lineno">  418</span>        [</div>
<div class="line"><span class="lineno">  419</span>            [np.nan, 1.1, 0, np.nan],</div>
<div class="line"><span class="lineno">  420</span>            [1.2, np.nan, 1.3, np.nan],</div>
<div class="line"><span class="lineno">  421</span>            [0, 0, np.nan, np.nan],</div>
<div class="line"><span class="lineno">  422</span>            [1.4, 1.5, 0, np.nan],</div>
<div class="line"><span class="lineno">  423</span>        ]</div>
<div class="line"><span class="lineno">  424</span>    )</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>    X_true = np.array(</div>
<div class="line"><span class="lineno">  427</span>        [[-1, 1.1, 0, -1], [1.2, -1, 1.3, -1], [0, 0, -1, -1], [1.4, 1.5, 0, -1]]</div>
<div class="line"><span class="lineno">  428</span>    )</div>
<div class="line"><span class="lineno">  429</span> </div>
<div class="line"><span class="lineno">  430</span>    X = array_constructor(X)</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>    X_true = array_constructor(X_true)</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>    imputer = SimpleImputer(strategy=<span class="stringliteral">&quot;constant&quot;</span>, fill_value=-1)</div>
<div class="line"><span class="lineno">  435</span>    X_trans = imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>    assert_allclose_dense_sparse(X_trans, X_true)</div>
<div class="line"><span class="lineno">  438</span> </div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span><span class="preprocessor">@pytest.mark.parametrize(&quot;marker&quot;, [None, np.nan, &quot;NAN&quot;, &quot;&quot;, 0])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a394183a20a4cf9939ce6edbf20a595cf" name="a394183a20a4cf9939ce6edbf20a595cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a394183a20a4cf9939ce6edbf20a595cf">&#9670;&#160;</a></span>test_imputation_constant_integer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_constant_integer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  402</span><span class="keyword">def </span>test_imputation_constant_integer():</div>
<div class="line"><span class="lineno">  403</span>    <span class="comment"># Test imputation using the constant strategy on integers</span></div>
<div class="line"><span class="lineno">  404</span>    X = np.array([[-1, 2, 3, -1], [4, -1, 5, -1], [6, 7, -1, -1], [8, 9, 0, -1]])</div>
<div class="line"><span class="lineno">  405</span> </div>
<div class="line"><span class="lineno">  406</span>    X_true = np.array([[0, 2, 3, 0], [4, 0, 5, 0], [6, 7, 0, 0], [8, 9, 0, 0]])</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>    imputer = SimpleImputer(missing_values=-1, strategy=<span class="stringliteral">&quot;constant&quot;</span>, fill_value=0)</div>
<div class="line"><span class="lineno">  409</span>    X_trans = imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  410</span> </div>
<div class="line"><span class="lineno">  411</span>    assert_array_equal(X_trans, X_true)</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span><span class="preprocessor">@pytest.mark.parametrize(&quot;array_constructor&quot;, [sparse.csr_matrix, np.asarray])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59496ffd89e2ddcb8587f9ca913b8482" name="a59496ffd89e2ddcb8587f9ca913b8482"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59496ffd89e2ddcb8587f9ca913b8482">&#9670;&#160;</a></span>test_imputation_constant_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_constant_object </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>marker</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  441</span><span class="keyword">def </span>test_imputation_constant_object(marker):</div>
<div class="line"><span class="lineno">  442</span>    <span class="comment"># Test imputation using the constant strategy on objects</span></div>
<div class="line"><span class="lineno">  443</span>    X = np.array(</div>
<div class="line"><span class="lineno">  444</span>        [</div>
<div class="line"><span class="lineno">  445</span>            [marker, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, marker],</div>
<div class="line"><span class="lineno">  446</span>            [<span class="stringliteral">&quot;c&quot;</span>, marker, <span class="stringliteral">&quot;d&quot;</span>, marker],</div>
<div class="line"><span class="lineno">  447</span>            [<span class="stringliteral">&quot;e&quot;</span>, <span class="stringliteral">&quot;f&quot;</span>, marker, marker],</div>
<div class="line"><span class="lineno">  448</span>            [<span class="stringliteral">&quot;g&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>, marker],</div>
<div class="line"><span class="lineno">  449</span>        ],</div>
<div class="line"><span class="lineno">  450</span>        dtype=object,</div>
<div class="line"><span class="lineno">  451</span>    )</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>    X_true = np.array(</div>
<div class="line"><span class="lineno">  454</span>        [</div>
<div class="line"><span class="lineno">  455</span>            [<span class="stringliteral">&quot;missing&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;missing&quot;</span>],</div>
<div class="line"><span class="lineno">  456</span>            [<span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;missing&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;missing&quot;</span>],</div>
<div class="line"><span class="lineno">  457</span>            [<span class="stringliteral">&quot;e&quot;</span>, <span class="stringliteral">&quot;f&quot;</span>, <span class="stringliteral">&quot;missing&quot;</span>, <span class="stringliteral">&quot;missing&quot;</span>],</div>
<div class="line"><span class="lineno">  458</span>            [<span class="stringliteral">&quot;g&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>, <span class="stringliteral">&quot;missing&quot;</span>],</div>
<div class="line"><span class="lineno">  459</span>        ],</div>
<div class="line"><span class="lineno">  460</span>        dtype=object,</div>
<div class="line"><span class="lineno">  461</span>    )</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>    imputer = SimpleImputer(</div>
<div class="line"><span class="lineno">  464</span>        missing_values=marker, strategy=<span class="stringliteral">&quot;constant&quot;</span>, fill_value=<span class="stringliteral">&quot;missing&quot;</span></div>
<div class="line"><span class="lineno">  465</span>    )</div>
<div class="line"><span class="lineno">  466</span>    X_trans = imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>    assert_array_equal(X_trans, X_true)</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span><span class="preprocessor">@pytest.mark.parametrize(&quot;dtype&quot;, [object, &quot;category&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a949973789e61b38ce30bacc780b7a478" name="a949973789e61b38ce30bacc780b7a478"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a949973789e61b38ce30bacc780b7a478">&#9670;&#160;</a></span>test_imputation_constant_pandas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_constant_pandas </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  472</span><span class="keyword">def </span>test_imputation_constant_pandas(dtype):</div>
<div class="line"><span class="lineno">  473</span>    <span class="comment"># Test imputation using the constant strategy on pandas df</span></div>
<div class="line"><span class="lineno">  474</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>    f = io.StringIO(<span class="stringliteral">&quot;Cat1,Cat2,Cat3,Cat4\n,i,x,\na,,y,\na,j,,\nb,j,x,&quot;</span>)</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span>    df = pd.read_csv(f, dtype=dtype)</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>    X_true = np.array(</div>
<div class="line"><span class="lineno">  481</span>        [</div>
<div class="line"><span class="lineno">  482</span>            [<span class="stringliteral">&quot;missing_value&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>, <span class="stringliteral">&quot;missing_value&quot;</span>],</div>
<div class="line"><span class="lineno">  483</span>            [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;missing_value&quot;</span>, <span class="stringliteral">&quot;y&quot;</span>, <span class="stringliteral">&quot;missing_value&quot;</span>],</div>
<div class="line"><span class="lineno">  484</span>            [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;j&quot;</span>, <span class="stringliteral">&quot;missing_value&quot;</span>, <span class="stringliteral">&quot;missing_value&quot;</span>],</div>
<div class="line"><span class="lineno">  485</span>            [<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;j&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>, <span class="stringliteral">&quot;missing_value&quot;</span>],</div>
<div class="line"><span class="lineno">  486</span>        ],</div>
<div class="line"><span class="lineno">  487</span>        dtype=object,</div>
<div class="line"><span class="lineno">  488</span>    )</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>    imputer = SimpleImputer(strategy=<span class="stringliteral">&quot;constant&quot;</span>)</div>
<div class="line"><span class="lineno">  491</span>    X_trans = imputer.fit_transform(df)</div>
<div class="line"><span class="lineno">  492</span> </div>
<div class="line"><span class="lineno">  493</span>    assert_array_equal(X_trans, X_true)</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span><span class="preprocessor">@pytest.mark.parametrize(&quot;X&quot;, [[[1], [2]], [[1], [np.nan]]])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab52e8ad6233f5316e334aabbaeb86eac" name="ab52e8ad6233f5316e334aabbaeb86eac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab52e8ad6233f5316e334aabbaeb86eac">&#9670;&#160;</a></span>test_imputation_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_copy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  527</span><span class="keyword">def </span>test_imputation_copy():</div>
<div class="line"><span class="lineno">  528</span>    <span class="comment"># Test imputation with copy</span></div>
<div class="line"><span class="lineno">  529</span>    X_orig = _sparse_random_matrix(5, 5, density=0.75, random_state=0)</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>    <span class="comment"># copy=True, dense =&gt; copy</span></div>
<div class="line"><span class="lineno">  532</span>    X = X_orig.copy().toarray()</div>
<div class="line"><span class="lineno">  533</span>    imputer = SimpleImputer(missing_values=0, strategy=<span class="stringliteral">&quot;mean&quot;</span>, copy=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  534</span>    Xt = imputer.fit(X).transform(X)</div>
<div class="line"><span class="lineno">  535</span>    Xt[0, 0] = -1</div>
<div class="line"><span class="lineno">  536</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> np.all(X == Xt)</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>    <span class="comment"># copy=True, sparse csr =&gt; copy</span></div>
<div class="line"><span class="lineno">  539</span>    X = X_orig.copy()</div>
<div class="line"><span class="lineno">  540</span>    imputer = SimpleImputer(missing_values=X.data[0], strategy=<span class="stringliteral">&quot;mean&quot;</span>, copy=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  541</span>    Xt = imputer.fit(X).transform(X)</div>
<div class="line"><span class="lineno">  542</span>    Xt.data[0] = -1</div>
<div class="line"><span class="lineno">  543</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> np.all(X.data == Xt.data)</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>    <span class="comment"># copy=False, dense =&gt; no copy</span></div>
<div class="line"><span class="lineno">  546</span>    X = X_orig.copy().toarray()</div>
<div class="line"><span class="lineno">  547</span>    imputer = SimpleImputer(missing_values=0, strategy=<span class="stringliteral">&quot;mean&quot;</span>, copy=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  548</span>    Xt = imputer.fit(X).transform(X)</div>
<div class="line"><span class="lineno">  549</span>    Xt[0, 0] = -1</div>
<div class="line"><span class="lineno">  550</span>    assert_array_almost_equal(X, Xt)</div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>    <span class="comment"># copy=False, sparse csc =&gt; no copy</span></div>
<div class="line"><span class="lineno">  553</span>    X = X_orig.copy().tocsc()</div>
<div class="line"><span class="lineno">  554</span>    imputer = SimpleImputer(missing_values=X.data[0], strategy=<span class="stringliteral">&quot;mean&quot;</span>, copy=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  555</span>    Xt = imputer.fit(X).transform(X)</div>
<div class="line"><span class="lineno">  556</span>    Xt.data[0] = -1</div>
<div class="line"><span class="lineno">  557</span>    assert_array_almost_equal(X.data, Xt.data)</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>    <span class="comment"># copy=False, sparse csr =&gt; copy</span></div>
<div class="line"><span class="lineno">  560</span>    X = X_orig.copy()</div>
<div class="line"><span class="lineno">  561</span>    imputer = SimpleImputer(missing_values=X.data[0], strategy=<span class="stringliteral">&quot;mean&quot;</span>, copy=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  562</span>    Xt = imputer.fit(X).transform(X)</div>
<div class="line"><span class="lineno">  563</span>    Xt.data[0] = -1</div>
<div class="line"><span class="lineno">  564</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> np.all(X.data == Xt.data)</div>
<div class="line"><span class="lineno">  565</span> </div>
<div class="line"><span class="lineno">  566</span>    <span class="comment"># Note: If X is sparse and if missing_values=0, then a (dense) copy of X is</span></div>
<div class="line"><span class="lineno">  567</span>    <span class="comment"># made, even if copy=False.</span></div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0b25148585f3d6bc2d5f2b3094be545b" name="a0b25148585f3d6bc2d5f2b3094be545b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b25148585f3d6bc2d5f2b3094be545b">&#9670;&#160;</a></span>test_imputation_deletion_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_deletion_warning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strategy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   98</span><span class="keyword">def </span>test_imputation_deletion_warning(strategy):</div>
<div class="line"><span class="lineno">   99</span>    X = np.ones((3, 5))</div>
<div class="line"><span class="lineno">  100</span>    X[:, 0] = np.nan</div>
<div class="line"><span class="lineno">  101</span>    imputer = SimpleImputer(strategy=strategy, verbose=1)</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <span class="comment"># TODO: Remove in 1.3</span></div>
<div class="line"><span class="lineno">  104</span>    <span class="keyword">with</span> pytest.warns(FutureWarning, match=<span class="stringliteral">&quot;The &#39;verbose&#39; parameter&quot;</span>):</div>
<div class="line"><span class="lineno">  105</span>        imputer.fit(X)</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>    <span class="keyword">with</span> pytest.warns(UserWarning, match=<span class="stringliteral">&quot;Skipping&quot;</span>):</div>
<div class="line"><span class="lineno">  108</span>        imputer.transform(X)</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span><span class="preprocessor">@pytest.mark.parametrize(&quot;strategy&quot;, [&quot;mean&quot;, &quot;median&quot;, &quot;most_frequent&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a53bb46b353450208236eb14bd3a7b383" name="a53bb46b353450208236eb14bd3a7b383"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53bb46b353450208236eb14bd3a7b383">&#9670;&#160;</a></span>test_imputation_deletion_warning_feature_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_deletion_warning_feature_names </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strategy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  112</span><span class="keyword">def </span>test_imputation_deletion_warning_feature_names(strategy):</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span>    missing_values = np.nan</div>
<div class="line"><span class="lineno">  117</span>    feature_names = np.array([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>], dtype=object)</div>
<div class="line"><span class="lineno">  118</span>    X = pd.DataFrame(</div>
<div class="line"><span class="lineno">  119</span>        [</div>
<div class="line"><span class="lineno">  120</span>            [missing_values, missing_values, 1, missing_values],</div>
<div class="line"><span class="lineno">  121</span>            [4, missing_values, 2, 10],</div>
<div class="line"><span class="lineno">  122</span>        ],</div>
<div class="line"><span class="lineno">  123</span>        columns=feature_names,</div>
<div class="line"><span class="lineno">  124</span>    )</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>    imputer = SimpleImputer(strategy=strategy, verbose=1)</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>    <span class="comment"># TODO: Remove in 1.3</span></div>
<div class="line"><span class="lineno">  129</span>    <span class="keyword">with</span> pytest.warns(FutureWarning, match=<span class="stringliteral">&quot;The &#39;verbose&#39; parameter&quot;</span>):</div>
<div class="line"><span class="lineno">  130</span>        imputer.fit(X)</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>    <span class="comment"># check SimpleImputer returning feature name attribute correctly</span></div>
<div class="line"><span class="lineno">  133</span>    assert_array_equal(imputer.feature_names_in_, feature_names)</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    <span class="comment"># ensure that skipped feature warning includes feature name</span></div>
<div class="line"><span class="lineno">  136</span>    <span class="keyword">with</span> pytest.warns(</div>
<div class="line"><span class="lineno">  137</span>        UserWarning, match=<span class="stringliteral">r&quot;Skipping features without any observed values: \[&#39;b&#39;\]&quot;</span></div>
<div class="line"><span class="lineno">  138</span>    ):</div>
<div class="line"><span class="lineno">  139</span>        imputer.transform(X)</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span><span class="preprocessor">@pytest.mark.parametrize(&quot;strategy&quot;, [&quot;mean&quot;, &quot;median&quot;, &quot;most_frequent&quot;, &quot;constant&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac960e87f33eeda856240dc0e41bd9d3c" name="ac960e87f33eeda856240dc0e41bd9d3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac960e87f33eeda856240dc0e41bd9d3c">&#9670;&#160;</a></span>test_imputation_error_sparse_0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_error_sparse_0 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strategy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  143</span><span class="keyword">def </span>test_imputation_error_sparse_0(strategy):</div>
<div class="line"><span class="lineno">  144</span>    <span class="comment"># check that error are raised when missing_values = 0 and input is sparse</span></div>
<div class="line"><span class="lineno">  145</span>    X = np.ones((3, 5))</div>
<div class="line"><span class="lineno">  146</span>    X[0] = 0</div>
<div class="line"><span class="lineno">  147</span>    X = sparse.csc_matrix(X)</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    imputer = SimpleImputer(strategy=strategy, missing_values=0)</div>
<div class="line"><span class="lineno">  150</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Provide a dense array&quot;</span>):</div>
<div class="line"><span class="lineno">  151</span>        imputer.fit(X)</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    imputer.fit(X.toarray())</div>
<div class="line"><span class="lineno">  154</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Provide a dense array&quot;</span>):</div>
<div class="line"><span class="lineno">  155</span>        imputer.transform(X)</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2016229e5d288002772fd2b8516ef85f" name="a2016229e5d288002772fd2b8516ef85f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2016229e5d288002772fd2b8516ef85f">&#9670;&#160;</a></span>test_imputation_mean_median()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_mean_median </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  170</span><span class="keyword">def </span>test_imputation_mean_median():</div>
<div class="line"><span class="lineno">  171</span>    <span class="comment"># Test imputation using the mean and median strategies, when</span></div>
<div class="line"><span class="lineno">  172</span>    <span class="comment"># missing_values != 0.</span></div>
<div class="line"><span class="lineno">  173</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>    dim = 10</div>
<div class="line"><span class="lineno">  176</span>    dec = 10</div>
<div class="line"><span class="lineno">  177</span>    shape = (dim * dim, dim + dec)</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    zeros = np.zeros(shape[0])</div>
<div class="line"><span class="lineno">  180</span>    values = np.arange(1, shape[0] + 1)</div>
<div class="line"><span class="lineno">  181</span>    values[4::2] = -values[4::2]</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    tests = [</div>
<div class="line"><span class="lineno">  184</span>        (<span class="stringliteral">&quot;mean&quot;</span>, np.nan, <span class="keyword">lambda</span> z, v, p: safe_mean(np.hstack((z, v)))),</div>
<div class="line"><span class="lineno">  185</span>        (<span class="stringliteral">&quot;median&quot;</span>, np.nan, <span class="keyword">lambda</span> z, v, p: safe_median(np.hstack((z, v)))),</div>
<div class="line"><span class="lineno">  186</span>    ]</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">for</span> strategy, test_missing_values, true_value_fun <span class="keywordflow">in</span> tests:</div>
<div class="line"><span class="lineno">  189</span>        X = np.empty(shape)</div>
<div class="line"><span class="lineno">  190</span>        X_true = np.empty(shape)</div>
<div class="line"><span class="lineno">  191</span>        true_statistics = np.empty(shape[1])</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>        <span class="comment"># Create a matrix X with columns</span></div>
<div class="line"><span class="lineno">  194</span>        <span class="comment">#    - with only zeros,</span></div>
<div class="line"><span class="lineno">  195</span>        <span class="comment">#    - with only missing values</span></div>
<div class="line"><span class="lineno">  196</span>        <span class="comment">#    - with zeros, missing values and values</span></div>
<div class="line"><span class="lineno">  197</span>        <span class="comment"># And a matrix X_true containing all true values</span></div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(shape[1]):</div>
<div class="line"><span class="lineno">  199</span>            nb_zeros = (j - dec + 1 &gt; 0) * (j - dec + 1) * (j - dec + 1)</div>
<div class="line"><span class="lineno">  200</span>            nb_missing_values = max(shape[0] + dec * dec - (j + dec) * (j + dec), 0)</div>
<div class="line"><span class="lineno">  201</span>            nb_values = shape[0] - nb_zeros - nb_missing_values</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>            z = zeros[:nb_zeros]</div>
<div class="line"><span class="lineno">  204</span>            p = np.repeat(test_missing_values, nb_missing_values)</div>
<div class="line"><span class="lineno">  205</span>            v = values[rng.permutation(len(values))[:nb_values]]</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>            true_statistics[j] = true_value_fun(z, v, p)</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>            <span class="comment"># Create the columns</span></div>
<div class="line"><span class="lineno">  210</span>            X[:, j] = np.hstack((v, z, p))</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>            <span class="keywordflow">if</span> 0 == test_missing_values:</div>
<div class="line"><span class="lineno">  213</span>                <span class="comment"># XXX unreached code as of v0.22</span></div>
<div class="line"><span class="lineno">  214</span>                X_true[:, j] = np.hstack(</div>
<div class="line"><span class="lineno">  215</span>                    (v, np.repeat(true_statistics[j], nb_missing_values + nb_zeros))</div>
<div class="line"><span class="lineno">  216</span>                )</div>
<div class="line"><span class="lineno">  217</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  218</span>                X_true[:, j] = np.hstack(</div>
<div class="line"><span class="lineno">  219</span>                    (v, z, np.repeat(true_statistics[j], nb_missing_values))</div>
<div class="line"><span class="lineno">  220</span>                )</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>            <span class="comment"># Shuffle them the same way</span></div>
<div class="line"><span class="lineno">  223</span>            np.random.RandomState(j).shuffle(X[:, j])</div>
<div class="line"><span class="lineno">  224</span>            np.random.RandomState(j).shuffle(X_true[:, j])</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>        <span class="comment"># Mean doesn&#39;t support columns containing NaNs, median does</span></div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">if</span> strategy == <span class="stringliteral">&quot;median&quot;</span>:</div>
<div class="line"><span class="lineno">  228</span>            cols_to_keep = ~np.isnan(X_true).any(axis=0)</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  230</span>            cols_to_keep = ~np.isnan(X_true).all(axis=0)</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>        X_true = X_true[:, cols_to_keep]</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>        _check_statistics(X, X_true, strategy, true_statistics, test_missing_values)</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a255277fe57e20330b5e849a324cb0b8e" name="a255277fe57e20330b5e849a324cb0b8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255277fe57e20330b5e849a324cb0b8e">&#9670;&#160;</a></span>test_imputation_mean_median_error_invalid_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_mean_median_error_invalid_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  271</span><span class="keyword">def </span>test_imputation_mean_median_error_invalid_type(strategy, dtype):</div>
<div class="line"><span class="lineno">  272</span>    X = np.array([[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, 3], [4, <span class="stringliteral">&quot;e&quot;</span>, 6], [<span class="stringliteral">&quot;g&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>, 9]], dtype=dtype)</div>
<div class="line"><span class="lineno">  273</span>    msg = <span class="stringliteral">&quot;non-numeric data:\ncould not convert string to float: &#39;&quot;</span></div>
<div class="line"><span class="lineno">  274</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  275</span>        imputer = SimpleImputer(strategy=strategy)</div>
<div class="line"><span class="lineno">  276</span>        imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span><span class="preprocessor">@pytest.mark.parametrize(&quot;strategy&quot;, [&quot;mean&quot;, &quot;median&quot;])</span></div>
<div class="line"><span class="lineno">  280</span><span class="preprocessor">@pytest.mark.parametrize(&quot;type&quot;, [&quot;list&quot;, &quot;dataframe&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0429c3e9b5c7c84debbe12e90aea459e" name="a0429c3e9b5c7c84debbe12e90aea459e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0429c3e9b5c7c84debbe12e90aea459e">&#9670;&#160;</a></span>test_imputation_mean_median_error_invalid_type_list_pandas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_mean_median_error_invalid_type_list_pandas </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  281</span><span class="keyword">def </span>test_imputation_mean_median_error_invalid_type_list_pandas(strategy, type):</div>
<div class="line"><span class="lineno">  282</span>    X = [[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, 3], [4, <span class="stringliteral">&quot;e&quot;</span>, 6], [<span class="stringliteral">&quot;g&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>, 9]]</div>
<div class="line"><span class="lineno">  283</span>    <span class="keywordflow">if</span> type == <span class="stringliteral">&quot;dataframe&quot;</span>:</div>
<div class="line"><span class="lineno">  284</span>        pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  285</span>        X = pd.DataFrame(X)</div>
<div class="line"><span class="lineno">  286</span>    msg = <span class="stringliteral">&quot;non-numeric data:\ncould not convert string to float: &#39;&quot;</span></div>
<div class="line"><span class="lineno">  287</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  288</span>        imputer = SimpleImputer(strategy=strategy)</div>
<div class="line"><span class="lineno">  289</span>        imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span><span class="preprocessor">@pytest.mark.parametrize(&quot;strategy&quot;, [&quot;constant&quot;, &quot;most_frequent&quot;])</span></div>
<div class="line"><span class="lineno">  293</span><span class="preprocessor">@pytest.mark.parametrize(&quot;dtype&quot;, [str, np.dtype(&quot;U&quot;)</span>, np.dtype(<span class="stringliteral">&quot;S&quot;</span>)])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a52b11e91107bbfd8ee2f99267e0abb58" name="a52b11e91107bbfd8ee2f99267e0abb58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52b11e91107bbfd8ee2f99267e0abb58">&#9670;&#160;</a></span>test_imputation_median_special_cases()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_median_special_cases </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  237</span><span class="keyword">def </span>test_imputation_median_special_cases():</div>
<div class="line"><span class="lineno">  238</span>    <span class="comment"># Test median imputation with sparse boundary cases</span></div>
<div class="line"><span class="lineno">  239</span>    X = np.array(</div>
<div class="line"><span class="lineno">  240</span>        [</div>
<div class="line"><span class="lineno">  241</span>            [0, np.nan, np.nan],  <span class="comment"># odd: implicit zero</span></div>
<div class="line"><span class="lineno">  242</span>            [5, np.nan, np.nan],  <span class="comment"># odd: explicit nonzero</span></div>
<div class="line"><span class="lineno">  243</span>            [0, 0, np.nan],  <span class="comment"># even: average two zeros</span></div>
<div class="line"><span class="lineno">  244</span>            [-5, 0, np.nan],  <span class="comment"># even: avg zero and neg</span></div>
<div class="line"><span class="lineno">  245</span>            [0, 5, np.nan],  <span class="comment"># even: avg zero and pos</span></div>
<div class="line"><span class="lineno">  246</span>            [4, 5, np.nan],  <span class="comment"># even: avg nonzeros</span></div>
<div class="line"><span class="lineno">  247</span>            [-4, -5, np.nan],  <span class="comment"># even: avg negatives</span></div>
<div class="line"><span class="lineno">  248</span>            [-1, 2, np.nan],  <span class="comment"># even: crossing neg and pos</span></div>
<div class="line"><span class="lineno">  249</span>        ]</div>
<div class="line"><span class="lineno">  250</span>    ).transpose()</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    X_imputed_median = np.array(</div>
<div class="line"><span class="lineno">  253</span>        [</div>
<div class="line"><span class="lineno">  254</span>            [0, 0, 0],</div>
<div class="line"><span class="lineno">  255</span>            [5, 5, 5],</div>
<div class="line"><span class="lineno">  256</span>            [0, 0, 0],</div>
<div class="line"><span class="lineno">  257</span>            [-5, 0, -2.5],</div>
<div class="line"><span class="lineno">  258</span>            [0, 5, 2.5],</div>
<div class="line"><span class="lineno">  259</span>            [4, 5, 4.5],</div>
<div class="line"><span class="lineno">  260</span>            [-4, -5, -4.5],</div>
<div class="line"><span class="lineno">  261</span>            [-1, 2, 0.5],</div>
<div class="line"><span class="lineno">  262</span>        ]</div>
<div class="line"><span class="lineno">  263</span>    ).transpose()</div>
<div class="line"><span class="lineno">  264</span>    statistics_median = [0, 5, 0, -2.5, 2.5, 4.5, -4.5, 0.5]</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>    _check_statistics(X, X_imputed_median, <span class="stringliteral">&quot;median&quot;</span>, statistics_median, np.nan)</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span><span class="preprocessor">@pytest.mark.parametrize(&quot;strategy&quot;, [&quot;mean&quot;, &quot;median&quot;])</span></div>
<div class="line"><span class="lineno">  270</span><span class="preprocessor">@pytest.mark.parametrize(&quot;dtype&quot;, [None, object, str])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac6d8673244174afe117dd231ff9392a7" name="ac6d8673244174afe117dd231ff9392a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6d8673244174afe117dd231ff9392a7">&#9670;&#160;</a></span>test_imputation_most_frequent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_most_frequent </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  313</span><span class="keyword">def </span>test_imputation_most_frequent():</div>
<div class="line"><span class="lineno">  314</span>    <span class="comment"># Test imputation using the most-frequent strategy.</span></div>
<div class="line"><span class="lineno">  315</span>    X = np.array(</div>
<div class="line"><span class="lineno">  316</span>        [</div>
<div class="line"><span class="lineno">  317</span>            [-1, -1, 0, 5],</div>
<div class="line"><span class="lineno">  318</span>            [-1, 2, -1, 3],</div>
<div class="line"><span class="lineno">  319</span>            [-1, 1, 3, -1],</div>
<div class="line"><span class="lineno">  320</span>            [-1, 2, 3, 7],</div>
<div class="line"><span class="lineno">  321</span>        ]</div>
<div class="line"><span class="lineno">  322</span>    )</div>
<div class="line"><span class="lineno">  323</span> </div>
<div class="line"><span class="lineno">  324</span>    X_true = np.array(</div>
<div class="line"><span class="lineno">  325</span>        [</div>
<div class="line"><span class="lineno">  326</span>            [2, 0, 5],</div>
<div class="line"><span class="lineno">  327</span>            [2, 3, 3],</div>
<div class="line"><span class="lineno">  328</span>            [1, 3, 3],</div>
<div class="line"><span class="lineno">  329</span>            [2, 3, 7],</div>
<div class="line"><span class="lineno">  330</span>        ]</div>
<div class="line"><span class="lineno">  331</span>    )</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="comment"># scipy.stats.mode, used in SimpleImputer, doesn&#39;t return the first most</span></div>
<div class="line"><span class="lineno">  334</span>    <span class="comment"># frequent as promised in the doc but the lowest most frequent. When this</span></div>
<div class="line"><span class="lineno">  335</span>    <span class="comment"># test will fail after an update of scipy, SimpleImputer will need to be</span></div>
<div class="line"><span class="lineno">  336</span>    <span class="comment"># updated to be consistent with the new (correct) behaviour</span></div>
<div class="line"><span class="lineno">  337</span>    _check_statistics(X, X_true, <span class="stringliteral">&quot;most_frequent&quot;</span>, [np.nan, 2, 3, 3], -1)</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span><span class="preprocessor">@pytest.mark.parametrize(&quot;marker&quot;, [None, np.nan, &quot;NAN&quot;, &quot;&quot;, 0])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4b1b62377173dc9cdacf61e2ca4031c" name="ab4b1b62377173dc9cdacf61e2ca4031c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4b1b62377173dc9cdacf61e2ca4031c">&#9670;&#160;</a></span>test_imputation_most_frequent_objects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_most_frequent_objects </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>marker</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  341</span><span class="keyword">def </span>test_imputation_most_frequent_objects(marker):</div>
<div class="line"><span class="lineno">  342</span>    <span class="comment"># Test imputation using the most-frequent strategy.</span></div>
<div class="line"><span class="lineno">  343</span>    X = np.array(</div>
<div class="line"><span class="lineno">  344</span>        [</div>
<div class="line"><span class="lineno">  345</span>            [marker, marker, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;f&quot;</span>],</div>
<div class="line"><span class="lineno">  346</span>            [marker, <span class="stringliteral">&quot;c&quot;</span>, marker, <span class="stringliteral">&quot;d&quot;</span>],</div>
<div class="line"><span class="lineno">  347</span>            [marker, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, marker],</div>
<div class="line"><span class="lineno">  348</span>            [marker, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>],</div>
<div class="line"><span class="lineno">  349</span>        ],</div>
<div class="line"><span class="lineno">  350</span>        dtype=object,</div>
<div class="line"><span class="lineno">  351</span>    )</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    X_true = np.array(</div>
<div class="line"><span class="lineno">  354</span>        [</div>
<div class="line"><span class="lineno">  355</span>            [<span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;f&quot;</span>],</div>
<div class="line"><span class="lineno">  356</span>            [<span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>],</div>
<div class="line"><span class="lineno">  357</span>            [<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>],</div>
<div class="line"><span class="lineno">  358</span>            [<span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>],</div>
<div class="line"><span class="lineno">  359</span>        ],</div>
<div class="line"><span class="lineno">  360</span>        dtype=object,</div>
<div class="line"><span class="lineno">  361</span>    )</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>    imputer = SimpleImputer(missing_values=marker, strategy=<span class="stringliteral">&quot;most_frequent&quot;</span>)</div>
<div class="line"><span class="lineno">  364</span>    X_trans = imputer.fit(X).transform(X)</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>    assert_array_equal(X_trans, X_true)</div>
<div class="line"><span class="lineno">  367</span> </div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span><span class="preprocessor">@pytest.mark.parametrize(&quot;dtype&quot;, [object, &quot;category&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a93559c5398ff998f385a640a67829bea" name="a93559c5398ff998f385a640a67829bea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93559c5398ff998f385a640a67829bea">&#9670;&#160;</a></span>test_imputation_most_frequent_pandas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_most_frequent_pandas </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  370</span><span class="keyword">def </span>test_imputation_most_frequent_pandas(dtype):</div>
<div class="line"><span class="lineno">  371</span>    <span class="comment"># Test imputation using the most frequent strategy on pandas df</span></div>
<div class="line"><span class="lineno">  372</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  373</span> </div>
<div class="line"><span class="lineno">  374</span>    f = io.StringIO(<span class="stringliteral">&quot;Cat1,Cat2,Cat3,Cat4\n,i,x,\na,,y,\na,j,,\nb,j,x,&quot;</span>)</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>    df = pd.read_csv(f, dtype=dtype)</div>
<div class="line"><span class="lineno">  377</span> </div>
<div class="line"><span class="lineno">  378</span>    X_true = np.array(</div>
<div class="line"><span class="lineno">  379</span>        [[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;i&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>], [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;j&quot;</span>, <span class="stringliteral">&quot;y&quot;</span>], [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;j&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>], [<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;j&quot;</span>, <span class="stringliteral">&quot;x&quot;</span>]],</div>
<div class="line"><span class="lineno">  380</span>        dtype=object,</div>
<div class="line"><span class="lineno">  381</span>    )</div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>    imputer = SimpleImputer(strategy=<span class="stringliteral">&quot;most_frequent&quot;</span>)</div>
<div class="line"><span class="lineno">  384</span>    X_trans = imputer.fit_transform(df)</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    assert_array_equal(X_trans, X_true)</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span> </div>
<div class="line"><span class="lineno">  389</span><span class="preprocessor">@pytest.mark.parametrize(&quot;X_data, missing_value&quot;, [(1, 0)</span>, (1.0, np.nan)])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a79e7c906fd3f9fbdfb8bf0b02680ed4b" name="a79e7c906fd3f9fbdfb8bf0b02680ed4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79e7c906fd3f9fbdfb8bf0b02680ed4b">&#9670;&#160;</a></span>test_imputation_order()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_order </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>order</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>idx_order</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1388</span><span class="keyword">def </span>test_imputation_order(order, idx_order):</div>
<div class="line"><span class="lineno"> 1389</span>    <span class="comment"># regression test for #15393</span></div>
<div class="line"><span class="lineno"> 1390</span>    rng = np.random.RandomState(42)</div>
<div class="line"><span class="lineno"> 1391</span>    X = rng.rand(100, 5)</div>
<div class="line"><span class="lineno"> 1392</span>    X[:50, 1] = np.nan</div>
<div class="line"><span class="lineno"> 1393</span>    X[:30, 0] = np.nan</div>
<div class="line"><span class="lineno"> 1394</span>    X[:20, 2] = np.nan</div>
<div class="line"><span class="lineno"> 1395</span>    X[:10, 4] = np.nan</div>
<div class="line"><span class="lineno"> 1396</span> </div>
<div class="line"><span class="lineno"> 1397</span>    <span class="keyword">with</span> pytest.warns(ConvergenceWarning):</div>
<div class="line"><span class="lineno"> 1398</span>        trs = IterativeImputer(max_iter=1, imputation_order=order, random_state=0).fit(</div>
<div class="line"><span class="lineno"> 1399</span>            X</div>
<div class="line"><span class="lineno"> 1400</span>        )</div>
<div class="line"><span class="lineno"> 1401</span>        idx = [x.feat_idx <span class="keywordflow">for</span> x <span class="keywordflow">in</span> trs.imputation_sequence_]</div>
<div class="line"><span class="lineno"> 1402</span>        <span class="keyword">assert</span> idx == idx_order</div>
<div class="line"><span class="lineno"> 1403</span> </div>
<div class="line"><span class="lineno"> 1404</span> </div>
<div class="line"><span class="lineno"> 1405</span><span class="preprocessor">@pytest.mark.parametrize(&quot;missing_value&quot;, [-1, np.nan])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59d2545d571496a91212dca6cf05837e" name="a59d2545d571496a91212dca6cf05837e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59d2545d571496a91212dca6cf05837e">&#9670;&#160;</a></span>test_imputation_pipeline_grid_search()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_pipeline_grid_search </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  508</span><span class="keyword">def </span>test_imputation_pipeline_grid_search():</div>
<div class="line"><span class="lineno">  509</span>    <span class="comment"># Test imputation within a pipeline + gridsearch.</span></div>
<div class="line"><span class="lineno">  510</span>    X = _sparse_random_matrix(100, 100, density=0.10)</div>
<div class="line"><span class="lineno">  511</span>    missing_values = X.data[0]</div>
<div class="line"><span class="lineno">  512</span> </div>
<div class="line"><span class="lineno">  513</span>    pipeline = Pipeline(</div>
<div class="line"><span class="lineno">  514</span>        [</div>
<div class="line"><span class="lineno">  515</span>            (<span class="stringliteral">&quot;imputer&quot;</span>, SimpleImputer(missing_values=missing_values)),</div>
<div class="line"><span class="lineno">  516</span>            (<span class="stringliteral">&quot;tree&quot;</span>, tree.DecisionTreeRegressor(random_state=0)),</div>
<div class="line"><span class="lineno">  517</span>        ]</div>
<div class="line"><span class="lineno">  518</span>    )</div>
<div class="line"><span class="lineno">  519</span> </div>
<div class="line"><span class="lineno">  520</span>    parameters = {<span class="stringliteral">&quot;imputer__strategy&quot;</span>: [<span class="stringliteral">&quot;mean&quot;</span>, <span class="stringliteral">&quot;median&quot;</span>, <span class="stringliteral">&quot;most_frequent&quot;</span>]}</div>
<div class="line"><span class="lineno">  521</span> </div>
<div class="line"><span class="lineno">  522</span>    Y = _sparse_random_matrix(100, 1, density=0.10).toarray()</div>
<div class="line"><span class="lineno">  523</span>    gs = GridSearchCV(pipeline, parameters)</div>
<div class="line"><span class="lineno">  524</span>    gs.fit(X, Y)</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a959bfd8167fda9754abc687945a39401" name="a959bfd8167fda9754abc687945a39401"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a959bfd8167fda9754abc687945a39401">&#9670;&#160;</a></span>test_imputation_shape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputation_shape </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strategy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   81</span><span class="keyword">def </span>test_imputation_shape(strategy):</div>
<div class="line"><span class="lineno">   82</span>    <span class="comment"># Verify the shapes of the imputed matrix for different strategies.</span></div>
<div class="line"><span class="lineno">   83</span>    X = np.random.randn(10, 2)</div>
<div class="line"><span class="lineno">   84</span>    X[::2] = np.nan</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>    imputer = SimpleImputer(strategy=strategy)</div>
<div class="line"><span class="lineno">   87</span>    X_imputed = imputer.fit_transform(sparse.csr_matrix(X))</div>
<div class="line"><span class="lineno">   88</span>    <span class="keyword">assert</span> X_imputed.shape == (10, 2)</div>
<div class="line"><span class="lineno">   89</span>    X_imputed = imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">   90</span>    <span class="keyword">assert</span> X_imputed.shape == (10, 2)</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    iterative_imputer = IterativeImputer(initial_strategy=strategy)</div>
<div class="line"><span class="lineno">   93</span>    X_imputed = iterative_imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">   94</span>    <span class="keyword">assert</span> X_imputed.shape == (10, 2)</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span><span class="preprocessor">@pytest.mark.parametrize(&quot;strategy&quot;, [&quot;mean&quot;, &quot;median&quot;, &quot;most_frequent&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af7310d7d2fecec598eb03734703c882c" name="af7310d7d2fecec598eb03734703c882c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7310d7d2fecec598eb03734703c882c">&#9670;&#160;</a></span>test_imputer_lists_fit_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputer_lists_fit_transform </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check transform uses object dtype when fitted on an object dtype.

Non-regression test for #19572.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1622</span><span class="keyword">def </span>test_imputer_lists_fit_transform():</div>
<div class="line"><span class="lineno"> 1623</span>    <span class="stringliteral">&quot;&quot;&quot;Check transform uses object dtype when fitted on an object dtype.</span></div>
<div class="line"><span class="lineno"> 1624</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1625</span><span class="stringliteral">    Non-regression test for #19572.</span></div>
<div class="line"><span class="lineno"> 1626</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1627</span> </div>
<div class="line"><span class="lineno"> 1628</span>    X = [[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>], [<span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>], [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>]]</div>
<div class="line"><span class="lineno"> 1629</span>    imp_frequent = SimpleImputer(strategy=<span class="stringliteral">&quot;most_frequent&quot;</span>).fit(X)</div>
<div class="line"><span class="lineno"> 1630</span>    X_trans = imp_frequent.transform([[np.nan, np.nan]])</div>
<div class="line"><span class="lineno"> 1631</span>    <span class="keyword">assert</span> X_trans.dtype == object</div>
<div class="line"><span class="lineno"> 1632</span>    assert_array_equal(X_trans, [[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>]])</div>
<div class="line"><span class="lineno"> 1633</span> </div>
<div class="line"><span class="lineno"> 1634</span> </div>
<div class="line"><span class="lineno"> 1635</span><span class="preprocessor">@pytest.mark.parametrize(&quot;dtype_test&quot;, [np.float32, np.float64])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a14654232a724f0c30200fa6f46b111db" name="a14654232a724f0c30200fa6f46b111db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14654232a724f0c30200fa6f46b111db">&#9670;&#160;</a></span>test_imputer_transform_preserves_numeric_dtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputer_transform_preserves_numeric_dtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype_test</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check transform preserves numeric dtype independent of fit dtype.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1636</span><span class="keyword">def </span>test_imputer_transform_preserves_numeric_dtype(dtype_test):</div>
<div class="line"><span class="lineno"> 1637</span>    <span class="stringliteral">&quot;&quot;&quot;Check transform preserves numeric dtype independent of fit dtype.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1638</span>    X = np.asarray(</div>
<div class="line"><span class="lineno"> 1639</span>        [[1.2, 3.4, np.nan], [np.nan, 1.2, 1.3], [4.2, 2, 1]], dtype=np.float64</div>
<div class="line"><span class="lineno"> 1640</span>    )</div>
<div class="line"><span class="lineno"> 1641</span>    imp = SimpleImputer().fit(X)</div>
<div class="line"><span class="lineno"> 1642</span> </div>
<div class="line"><span class="lineno"> 1643</span>    X_test = np.asarray([[np.nan, np.nan, np.nan]], dtype=dtype_test)</div>
<div class="line"><span class="lineno"> 1644</span>    X_trans = imp.transform(X_test)</div>
<div class="line"><span class="lineno"> 1645</span>    <span class="keyword">assert</span> X_trans.dtype == dtype_test</div>
<div class="line"><span class="lineno"> 1646</span> </div>
<div class="line"><span class="lineno"> 1647</span> </div>
<div class="line"><span class="lineno"> 1648</span><span class="preprocessor">@pytest.mark.parametrize(&quot;array_type&quot;, [&quot;array&quot;, &quot;sparse&quot;])</span></div>
<div class="line"><span class="lineno"> 1649</span><span class="preprocessor">@pytest.mark.parametrize(&quot;keep_empty_features&quot;, [True, False])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac71571bac907aa46ce62616c8c318246" name="ac71571bac907aa46ce62616c8c318246"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac71571bac907aa46ce62616c8c318246">&#9670;&#160;</a></span>test_imputer_without_indicator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_imputer_without_indicator </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>imputer_constructor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1333</span><span class="keyword">def </span>test_imputer_without_indicator(imputer_constructor):</div>
<div class="line"><span class="lineno"> 1334</span>    X = np.array([[1, 1], [1, 1]])</div>
<div class="line"><span class="lineno"> 1335</span>    imputer = imputer_constructor()</div>
<div class="line"><span class="lineno"> 1336</span>    imputer.fit(X)</div>
<div class="line"><span class="lineno"> 1337</span> </div>
<div class="line"><span class="lineno"> 1338</span>    <span class="keyword">assert</span> imputer.indicator_ <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1339</span> </div>
<div class="line"><span class="lineno"> 1340</span> </div>
<div class="line"><span class="lineno"> 1341</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1342</span>    <span class="stringliteral">&quot;arr_type&quot;</span>,</div>
<div class="line"><span class="lineno"> 1343</span>    [</div>
<div class="line"><span class="lineno"> 1344</span>        sparse.csc_matrix,</div>
<div class="line"><span class="lineno"> 1345</span>        sparse.csr_matrix,</div>
<div class="line"><span class="lineno"> 1346</span>        sparse.coo_matrix,</div>
<div class="line"><span class="lineno"> 1347</span>        sparse.lil_matrix,</div>
<div class="line"><span class="lineno"> 1348</span>        sparse.bsr_matrix,</div>
<div class="line"><span class="lineno"> 1349</span>    ],</div>
<div class="line"><span class="lineno"> 1350</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa5284c6ca7830b4d8514f2b41b5dfdfb" name="aa5284c6ca7830b4d8514f2b41b5dfdfb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5284c6ca7830b4d8514f2b41b5dfdfb">&#9670;&#160;</a></span>test_inconsistent_dtype_X_missing_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_inconsistent_dtype_X_missing_values </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>imputer_constructor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>imputer_missing_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>missing_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1297</span>):</div>
<div class="line"><span class="lineno"> 1298</span>    <span class="comment"># regression test for issue #11390. Comparison between incoherent dtype</span></div>
<div class="line"><span class="lineno"> 1299</span>    <span class="comment"># for X and missing_values was not raising a proper error.</span></div>
<div class="line"><span class="lineno"> 1300</span>    rng = np.random.RandomState(42)</div>
<div class="line"><span class="lineno"> 1301</span>    X = rng.randn(10, 10)</div>
<div class="line"><span class="lineno"> 1302</span>    X[0, 0] = missing_value</div>
<div class="line"><span class="lineno"> 1303</span> </div>
<div class="line"><span class="lineno"> 1304</span>    imputer = imputer_constructor(missing_values=imputer_missing_values)</div>
<div class="line"><span class="lineno"> 1305</span> </div>
<div class="line"><span class="lineno"> 1306</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno"> 1307</span>        imputer.fit_transform(X)</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af3f2a3db9739dae2b7e9b441cff63cba" name="af3f2a3db9739dae2b7e9b441cff63cba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3f2a3db9739dae2b7e9b441cff63cba">&#9670;&#160;</a></span>test_iterative_imputer_additive_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_additive_matrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  885</span><span class="keyword">def </span>test_iterative_imputer_additive_matrix():</div>
<div class="line"><span class="lineno">  886</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  887</span>    n = 100</div>
<div class="line"><span class="lineno">  888</span>    d = 10</div>
<div class="line"><span class="lineno">  889</span>    A = rng.randn(n, d)</div>
<div class="line"><span class="lineno">  890</span>    B = rng.randn(n, d)</div>
<div class="line"><span class="lineno">  891</span>    X_filled = np.zeros(A.shape)</div>
<div class="line"><span class="lineno">  892</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(d):</div>
<div class="line"><span class="lineno">  893</span>        <span class="keywordflow">for</span> j <span class="keywordflow">in</span> range(d):</div>
<div class="line"><span class="lineno">  894</span>            X_filled[:, (i + j) % d] += (A[:, i] + B[:, j]) / 2</div>
<div class="line"><span class="lineno">  895</span>    <span class="comment"># a quarter is randomly missing</span></div>
<div class="line"><span class="lineno">  896</span>    nan_mask = rng.rand(n, d) &lt; 0.25</div>
<div class="line"><span class="lineno">  897</span>    X_missing = X_filled.copy()</div>
<div class="line"><span class="lineno">  898</span>    X_missing[nan_mask] = np.nan</div>
<div class="line"><span class="lineno">  899</span> </div>
<div class="line"><span class="lineno">  900</span>    <span class="comment"># split up data</span></div>
<div class="line"><span class="lineno">  901</span>    n = n // 2</div>
<div class="line"><span class="lineno">  902</span>    X_train = X_missing[:n]</div>
<div class="line"><span class="lineno">  903</span>    X_test_filled = X_filled[n:]</div>
<div class="line"><span class="lineno">  904</span>    X_test = X_missing[n:]</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>    imputer = IterativeImputer(max_iter=10, verbose=1, random_state=rng).fit(X_train)</div>
<div class="line"><span class="lineno">  907</span>    X_test_est = imputer.transform(X_test)</div>
<div class="line"><span class="lineno">  908</span>    assert_allclose(X_test_filled, X_test_est, rtol=1e-3, atol=0.01)</div>
<div class="line"><span class="lineno">  909</span> </div>
<div class="line"><span class="lineno">  910</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f280590ab87c0e80bedc8524028a20d" name="a0f280590ab87c0e80bedc8524028a20d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f280590ab87c0e80bedc8524028a20d">&#9670;&#160;</a></span>test_iterative_imputer_all_missing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_all_missing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  608</span><span class="keyword">def </span>test_iterative_imputer_all_missing():</div>
<div class="line"><span class="lineno">  609</span>    n = 100</div>
<div class="line"><span class="lineno">  610</span>    d = 3</div>
<div class="line"><span class="lineno">  611</span>    X = np.zeros((n, d))</div>
<div class="line"><span class="lineno">  612</span>    imputer = IterativeImputer(missing_values=0, max_iter=1)</div>
<div class="line"><span class="lineno">  613</span>    X_imputed = imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  614</span>    assert_allclose(X_imputed, imputer.initial_imputer_.transform(X))</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  618</span>    <span class="stringliteral">&quot;imputation_order&quot;</span>, [<span class="stringliteral">&quot;random&quot;</span>, <span class="stringliteral">&quot;roman&quot;</span>, <span class="stringliteral">&quot;ascending&quot;</span>, <span class="stringliteral">&quot;descending&quot;</span>, <span class="stringliteral">&quot;arabic&quot;</span>]</div>
<div class="line"><span class="lineno">  619</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f176c47ee3252d4eb53fe0629b4d16d" name="a8f176c47ee3252d4eb53fe0629b4d16d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f176c47ee3252d4eb53fe0629b4d16d">&#9670;&#160;</a></span>test_iterative_imputer_catch_min_max_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_catch_min_max_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1007</span><span class="keyword">def </span>test_iterative_imputer_catch_min_max_error(min_value, max_value, err_msg):</div>
<div class="line"><span class="lineno"> 1008</span>    <span class="comment"># check that passing scalar or array-like</span></div>
<div class="line"><span class="lineno"> 1009</span>    <span class="comment"># for min_value and max_value in IterativeImputer works</span></div>
<div class="line"><span class="lineno"> 1010</span>    X = np.random.random((10, 3))</div>
<div class="line"><span class="lineno"> 1011</span>    imputer = IterativeImputer(min_value=min_value, max_value=max_value)</div>
<div class="line"><span class="lineno"> 1012</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno"> 1013</span>        imputer.fit(X)</div>
<div class="line"><span class="lineno"> 1014</span> </div>
<div class="line"><span class="lineno"> 1015</span> </div>
<div class="line"><span class="lineno"> 1016</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1017</span>    <span class="stringliteral">&quot;min_max_1, min_max_2&quot;</span>,</div>
<div class="line"><span class="lineno"> 1018</span>    [([<span class="keywordtype">None</span>, <span class="keywordtype">None</span>], [-np.inf, np.inf]), ([-10, 10], [[-10] * 4, [10] * 4])],</div>
<div class="line"><span class="lineno"> 1019</span>    ids=[<span class="stringliteral">&quot;None-vs-inf&quot;</span>, <span class="stringliteral">&quot;Scalar-vs-vector&quot;</span>],</div>
<div class="line"><span class="lineno"> 1020</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f1a7b20c1a99b907bcd7c7e89b5f73b" name="a1f1a7b20c1a99b907bcd7c7e89b5f73b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f1a7b20c1a99b907bcd7c7e89b5f73b">&#9670;&#160;</a></span>test_iterative_imputer_catch_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_catch_warning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  941</span><span class="keyword">def </span>test_iterative_imputer_catch_warning():</div>
<div class="line"><span class="lineno">  942</span>    <span class="comment"># check that we catch a RuntimeWarning due to a division by zero when a</span></div>
<div class="line"><span class="lineno">  943</span>    <span class="comment"># feature is constant in the dataset</span></div>
<div class="line"><span class="lineno">  944</span>    X, y = load_diabetes(return_X_y=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  945</span>    n_samples, n_features = X.shape</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>    <span class="comment"># simulate that a feature only contain one category during fit</span></div>
<div class="line"><span class="lineno">  948</span>    X[:, 3] = 1</div>
<div class="line"><span class="lineno">  949</span> </div>
<div class="line"><span class="lineno">  950</span>    <span class="comment"># add some missing values</span></div>
<div class="line"><span class="lineno">  951</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  952</span>    missing_rate = 0.15</div>
<div class="line"><span class="lineno">  953</span>    <span class="keywordflow">for</span> feat <span class="keywordflow">in</span> range(n_features):</div>
<div class="line"><span class="lineno">  954</span>        sample_idx = rng.choice(</div>
<div class="line"><span class="lineno">  955</span>            np.arange(n_samples), size=int(n_samples * missing_rate), replace=<span class="keyword">False</span></div>
<div class="line"><span class="lineno">  956</span>        )</div>
<div class="line"><span class="lineno">  957</span>        X[sample_idx, feat] = np.nan</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>    imputer = IterativeImputer(n_nearest_features=5, sample_posterior=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  960</span>    <span class="keyword">with</span> warnings.catch_warnings():</div>
<div class="line"><span class="lineno">  961</span>        warnings.simplefilter(<span class="stringliteral">&quot;error&quot;</span>, RuntimeWarning)</div>
<div class="line"><span class="lineno">  962</span>        X_fill = imputer.fit_transform(X, y)</div>
<div class="line"><span class="lineno">  963</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> np.any(np.isnan(X_fill))</div>
<div class="line"><span class="lineno">  964</span> </div>
<div class="line"><span class="lineno">  965</span> </div>
<div class="line"><span class="lineno">  966</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  967</span>    <span class="stringliteral">&quot;min_value, max_value, correct_output&quot;</span>,</div>
<div class="line"><span class="lineno">  968</span>    [</div>
<div class="line"><span class="lineno">  969</span>        (0, 100, np.array([[0] * 3, [100] * 3])),</div>
<div class="line"><span class="lineno">  970</span>        (<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, np.array([[-np.inf] * 3, [np.inf] * 3])),</div>
<div class="line"><span class="lineno">  971</span>        (-np.inf, np.inf, np.array([[-np.inf] * 3, [np.inf] * 3])),</div>
<div class="line"><span class="lineno">  972</span>        ([-5, 5, 10], [100, 200, 300], np.array([[-5, 5, 10], [100, 200, 300]])),</div>
<div class="line"><span class="lineno">  973</span>        (</div>
<div class="line"><span class="lineno">  974</span>            [-5, -np.inf, 10],</div>
<div class="line"><span class="lineno">  975</span>            [100, 200, np.inf],</div>
<div class="line"><span class="lineno">  976</span>            np.array([[-5, -np.inf, 10], [100, 200, np.inf]]),</div>
<div class="line"><span class="lineno">  977</span>        ),</div>
<div class="line"><span class="lineno">  978</span>    ],</div>
<div class="line"><span class="lineno">  979</span>    ids=[<span class="stringliteral">&quot;scalars&quot;</span>, <span class="stringliteral">&quot;None-default&quot;</span>, <span class="stringliteral">&quot;inf&quot;</span>, <span class="stringliteral">&quot;lists&quot;</span>, <span class="stringliteral">&quot;lists-with-inf&quot;</span>],</div>
<div class="line"><span class="lineno">  980</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1dc2151fafd2896dc850e87a2d5fb0f" name="ac1dc2151fafd2896dc850e87a2d5fb0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1dc2151fafd2896dc850e87a2d5fb0f">&#9670;&#160;</a></span>test_iterative_imputer_clip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_clip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  685</span><span class="keyword">def </span>test_iterative_imputer_clip():</div>
<div class="line"><span class="lineno">  686</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  687</span>    n = 100</div>
<div class="line"><span class="lineno">  688</span>    d = 10</div>
<div class="line"><span class="lineno">  689</span>    X = _sparse_random_matrix(n, d, density=0.10, random_state=rng).toarray()</div>
<div class="line"><span class="lineno">  690</span> </div>
<div class="line"><span class="lineno">  691</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno">  692</span>        missing_values=0, max_iter=1, min_value=0.1, max_value=0.2, random_state=rng</div>
<div class="line"><span class="lineno">  693</span>    )</div>
<div class="line"><span class="lineno">  694</span> </div>
<div class="line"><span class="lineno">  695</span>    Xt = imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  696</span>    assert_allclose(np.min(Xt[X == 0]), 0.1)</div>
<div class="line"><span class="lineno">  697</span>    assert_allclose(np.max(Xt[X == 0]), 0.2)</div>
<div class="line"><span class="lineno">  698</span>    assert_allclose(Xt[X != 0], X[X != 0])</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f42977038013c83f5e8e718795527df" name="a9f42977038013c83f5e8e718795527df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f42977038013c83f5e8e718795527df">&#9670;&#160;</a></span>test_iterative_imputer_clip_truncnorm()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_clip_truncnorm </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  701</span><span class="keyword">def </span>test_iterative_imputer_clip_truncnorm():</div>
<div class="line"><span class="lineno">  702</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  703</span>    n = 100</div>
<div class="line"><span class="lineno">  704</span>    d = 10</div>
<div class="line"><span class="lineno">  705</span>    X = _sparse_random_matrix(n, d, density=0.10, random_state=rng).toarray()</div>
<div class="line"><span class="lineno">  706</span>    X[:, 0] = 1</div>
<div class="line"><span class="lineno">  707</span> </div>
<div class="line"><span class="lineno">  708</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno">  709</span>        missing_values=0,</div>
<div class="line"><span class="lineno">  710</span>        max_iter=2,</div>
<div class="line"><span class="lineno">  711</span>        n_nearest_features=5,</div>
<div class="line"><span class="lineno">  712</span>        sample_posterior=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  713</span>        min_value=0.1,</div>
<div class="line"><span class="lineno">  714</span>        max_value=0.2,</div>
<div class="line"><span class="lineno">  715</span>        verbose=1,</div>
<div class="line"><span class="lineno">  716</span>        imputation_order=<span class="stringliteral">&quot;random&quot;</span>,</div>
<div class="line"><span class="lineno">  717</span>        random_state=rng,</div>
<div class="line"><span class="lineno">  718</span>    )</div>
<div class="line"><span class="lineno">  719</span>    Xt = imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  720</span>    assert_allclose(np.min(Xt[X == 0]), 0.1)</div>
<div class="line"><span class="lineno">  721</span>    assert_allclose(np.max(Xt[X == 0]), 0.2)</div>
<div class="line"><span class="lineno">  722</span>    assert_allclose(Xt[X != 0], X[X != 0])</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5bdcf75cb45eeb27fc9e35326db0c928" name="a5bdcf75cb45eeb27fc9e35326db0c928"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bdcf75cb45eeb27fc9e35326db0c928">&#9670;&#160;</a></span>test_iterative_imputer_dont_set_random_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_dont_set_random_state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rs_imputer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rs_estimator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1066</span><span class="keyword">def </span>test_iterative_imputer_dont_set_random_state(rs_imputer, rs_estimator):</div>
<div class="line"><span class="lineno"> 1067</span>    <span class="keyword">class </span>ZeroEstimator:</div>
<div class="line"><span class="lineno"> 1068</span>        <span class="keyword">def </span>__init__(self, random_state):</div>
<div class="line"><span class="lineno"> 1069</span>            self.random_state = random_state</div>
<div class="line"><span class="lineno"> 1070</span> </div>
<div class="line"><span class="lineno"> 1071</span>        <span class="keyword">def </span>fit(self, *args, **kgards):</div>
<div class="line"><span class="lineno"> 1072</span>            <span class="keywordflow">return</span> self</div>
<div class="line"><span class="lineno"> 1073</span> </div>
<div class="line"><span class="lineno"> 1074</span>        <span class="keyword">def </span>predict(self, X):</div>
<div class="line"><span class="lineno"> 1075</span>            <span class="keywordflow">return</span> np.zeros(X.shape[0])</div>
<div class="line"><span class="lineno"> 1076</span> </div>
<div class="line"><span class="lineno"> 1077</span>    estimator = ZeroEstimator(random_state=rs_estimator)</div>
<div class="line"><span class="lineno"> 1078</span>    imputer = IterativeImputer(random_state=rs_imputer)</div>
<div class="line"><span class="lineno"> 1079</span>    X_train = np.zeros((10, 3))</div>
<div class="line"><span class="lineno"> 1080</span>    imputer.fit(X_train)</div>
<div class="line"><span class="lineno"> 1081</span>    <span class="keyword">assert</span> estimator.random_state == rs_estimator</div>
<div class="line"><span class="lineno"> 1082</span> </div>
<div class="line"><span class="lineno"> 1083</span> </div>
<div class="line"><span class="lineno"> 1084</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1085</span>    <span class="stringliteral">&quot;X_fit, X_trans, params, msg_err&quot;</span>,</div>
<div class="line"><span class="lineno"> 1086</span>    [</div>
<div class="line"><span class="lineno"> 1087</span>        (</div>
<div class="line"><span class="lineno"> 1088</span>            np.array([[-1, 1], [1, 2]]),</div>
<div class="line"><span class="lineno"> 1089</span>            np.array([[-1, 1], [1, -1]]),</div>
<div class="line"><span class="lineno"> 1090</span>            {<span class="stringliteral">&quot;features&quot;</span>: <span class="stringliteral">&quot;missing-only&quot;</span>, <span class="stringliteral">&quot;sparse&quot;</span>: <span class="stringliteral">&quot;auto&quot;</span>},</div>
<div class="line"><span class="lineno"> 1091</span>            <span class="stringliteral">&quot;have missing values in transform but have no missing values in fit&quot;</span>,</div>
<div class="line"><span class="lineno"> 1092</span>        ),</div>
<div class="line"><span class="lineno"> 1093</span>        (</div>
<div class="line"><span class="lineno"> 1094</span>            np.array([[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>], [<span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>]], dtype=str),</div>
<div class="line"><span class="lineno"> 1095</span>            np.array([[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>], [<span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>]], dtype=str),</div>
<div class="line"><span class="lineno"> 1096</span>            {},</div>
<div class="line"><span class="lineno"> 1097</span>            <span class="stringliteral">&quot;MissingIndicator does not support data with dtype&quot;</span>,</div>
<div class="line"><span class="lineno"> 1098</span>        ),</div>
<div class="line"><span class="lineno"> 1099</span>    ],</div>
<div class="line"><span class="lineno"> 1100</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="af5018032fda7f2f4d79a1af6f1dfba59" name="af5018032fda7f2f4d79a1af6f1dfba59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5018032fda7f2f4d79a1af6f1dfba59">&#9670;&#160;</a></span>test_iterative_imputer_early_stopping()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_early_stopping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  911</span><span class="keyword">def </span>test_iterative_imputer_early_stopping():</div>
<div class="line"><span class="lineno">  912</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  913</span>    n = 50</div>
<div class="line"><span class="lineno">  914</span>    d = 5</div>
<div class="line"><span class="lineno">  915</span>    A = rng.rand(n, 1)</div>
<div class="line"><span class="lineno">  916</span>    B = rng.rand(1, d)</div>
<div class="line"><span class="lineno">  917</span>    X = np.dot(A, B)</div>
<div class="line"><span class="lineno">  918</span>    nan_mask = rng.rand(n, d) &lt; 0.5</div>
<div class="line"><span class="lineno">  919</span>    X_missing = X.copy()</div>
<div class="line"><span class="lineno">  920</span>    X_missing[nan_mask] = np.nan</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno">  923</span>        max_iter=100, tol=1e-2, sample_posterior=<span class="keyword">False</span>, verbose=1, random_state=rng</div>
<div class="line"><span class="lineno">  924</span>    )</div>
<div class="line"><span class="lineno">  925</span>    X_filled_100 = imputer.fit_transform(X_missing)</div>
<div class="line"><span class="lineno">  926</span>    <span class="keyword">assert</span> len(imputer.imputation_sequence_) == d * imputer.n_iter_</div>
<div class="line"><span class="lineno">  927</span> </div>
<div class="line"><span class="lineno">  928</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno">  929</span>        max_iter=imputer.n_iter_, sample_posterior=<span class="keyword">False</span>, verbose=1, random_state=rng</div>
<div class="line"><span class="lineno">  930</span>    )</div>
<div class="line"><span class="lineno">  931</span>    X_filled_early = imputer.fit_transform(X_missing)</div>
<div class="line"><span class="lineno">  932</span>    assert_allclose(X_filled_100, X_filled_early, atol=1e-7)</div>
<div class="line"><span class="lineno">  933</span> </div>
<div class="line"><span class="lineno">  934</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno">  935</span>        max_iter=100, tol=0, sample_posterior=<span class="keyword">False</span>, verbose=1, random_state=rng</div>
<div class="line"><span class="lineno">  936</span>    )</div>
<div class="line"><span class="lineno">  937</span>    imputer.fit(X_missing)</div>
<div class="line"><span class="lineno">  938</span>    <span class="keyword">assert</span> imputer.n_iter_ == imputer.max_iter</div>
<div class="line"><span class="lineno">  939</span> </div>
<div class="line"><span class="lineno">  940</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6e960bcb05b501baaa73cf62d53ef86" name="ae6e960bcb05b501baaa73cf62d53ef86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6e960bcb05b501baaa73cf62d53ef86">&#9670;&#160;</a></span>test_iterative_imputer_estimators()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_estimators </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>estimator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  660</span><span class="keyword">def </span>test_iterative_imputer_estimators(estimator):</div>
<div class="line"><span class="lineno">  661</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>    n = 100</div>
<div class="line"><span class="lineno">  664</span>    d = 10</div>
<div class="line"><span class="lineno">  665</span>    X = _sparse_random_matrix(n, d, density=0.10, random_state=rng).toarray()</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno">  668</span>        missing_values=0, max_iter=1, estimator=estimator, random_state=rng</div>
<div class="line"><span class="lineno">  669</span>    )</div>
<div class="line"><span class="lineno">  670</span>    imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  671</span> </div>
<div class="line"><span class="lineno">  672</span>    <span class="comment"># check that types are correct for estimators</span></div>
<div class="line"><span class="lineno">  673</span>    hashes = []</div>
<div class="line"><span class="lineno">  674</span>    <span class="keywordflow">for</span> triplet <span class="keywordflow">in</span> imputer.imputation_sequence_:</div>
<div class="line"><span class="lineno">  675</span>        expected_type = (</div>
<div class="line"><span class="lineno">  676</span>            type(estimator) <span class="keywordflow">if</span> estimator <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> type(BayesianRidge())</div>
<div class="line"><span class="lineno">  677</span>        )</div>
<div class="line"><span class="lineno">  678</span>        <span class="keyword">assert</span> isinstance(triplet.estimator, expected_type)</div>
<div class="line"><span class="lineno">  679</span>        hashes.append(id(triplet.estimator))</div>
<div class="line"><span class="lineno">  680</span> </div>
<div class="line"><span class="lineno">  681</span>    <span class="comment"># check that each estimator is unique</span></div>
<div class="line"><span class="lineno">  682</span>    <span class="keyword">assert</span> len(set(hashes)) == len(hashes)</div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a255e6e53bca48e5e7b5cd1b74e624a1d" name="a255e6e53bca48e5e7b5cd1b74e624a1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a255e6e53bca48e5e7b5cd1b74e624a1d">&#9670;&#160;</a></span>test_iterative_imputer_imputation_order()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_imputation_order </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>imputation_order</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  620</span><span class="keyword">def </span>test_iterative_imputer_imputation_order(imputation_order):</div>
<div class="line"><span class="lineno">  621</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  622</span>    n = 100</div>
<div class="line"><span class="lineno">  623</span>    d = 10</div>
<div class="line"><span class="lineno">  624</span>    max_iter = 2</div>
<div class="line"><span class="lineno">  625</span>    X = _sparse_random_matrix(n, d, density=0.10, random_state=rng).toarray()</div>
<div class="line"><span class="lineno">  626</span>    X[:, 0] = 1  <span class="comment"># this column should not be discarded by IterativeImputer</span></div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno">  629</span>        missing_values=0,</div>
<div class="line"><span class="lineno">  630</span>        max_iter=max_iter,</div>
<div class="line"><span class="lineno">  631</span>        n_nearest_features=5,</div>
<div class="line"><span class="lineno">  632</span>        sample_posterior=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  633</span>        skip_complete=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  634</span>        min_value=0,</div>
<div class="line"><span class="lineno">  635</span>        max_value=1,</div>
<div class="line"><span class="lineno">  636</span>        verbose=1,</div>
<div class="line"><span class="lineno">  637</span>        imputation_order=imputation_order,</div>
<div class="line"><span class="lineno">  638</span>        random_state=rng,</div>
<div class="line"><span class="lineno">  639</span>    )</div>
<div class="line"><span class="lineno">  640</span>    imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  641</span>    ordered_idx = [i.feat_idx <span class="keywordflow">for</span> i <span class="keywordflow">in</span> imputer.imputation_sequence_]</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>    <span class="keyword">assert</span> len(ordered_idx) // imputer.n_iter_ == imputer.n_features_with_missing_</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>    <span class="keywordflow">if</span> imputation_order == <span class="stringliteral">&quot;roman&quot;</span>:</div>
<div class="line"><span class="lineno">  646</span>        <span class="keyword">assert</span> np.all(ordered_idx[: d - 1] == np.arange(1, d))</div>
<div class="line"><span class="lineno">  647</span>    <span class="keywordflow">elif</span> imputation_order == <span class="stringliteral">&quot;arabic&quot;</span>:</div>
<div class="line"><span class="lineno">  648</span>        <span class="keyword">assert</span> np.all(ordered_idx[: d - 1] == np.arange(d - 1, 0, -1))</div>
<div class="line"><span class="lineno">  649</span>    <span class="keywordflow">elif</span> imputation_order == <span class="stringliteral">&quot;random&quot;</span>:</div>
<div class="line"><span class="lineno">  650</span>        ordered_idx_round_1 = ordered_idx[: d - 1]</div>
<div class="line"><span class="lineno">  651</span>        ordered_idx_round_2 = ordered_idx[d - 1 :]</div>
<div class="line"><span class="lineno">  652</span>        <span class="keyword">assert</span> ordered_idx_round_1 != ordered_idx_round_2</div>
<div class="line"><span class="lineno">  653</span>    <span class="keywordflow">elif</span> <span class="stringliteral">&quot;ending&quot;</span> <span class="keywordflow">in</span> imputation_order:</div>
<div class="line"><span class="lineno">  654</span>        <span class="keyword">assert</span> len(ordered_idx) == max_iter * (d - 1)</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  658</span>    <span class="stringliteral">&quot;estimator&quot;</span>, [<span class="keywordtype">None</span>, DummyRegressor(), BayesianRidge(), ARDRegression(), RidgeCV()]</div>
<div class="line"><span class="lineno">  659</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a86d5d67039ebfb31e86e251e4792dea1" name="a86d5d67039ebfb31e86e251e4792dea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86d5d67039ebfb31e86e251e4792dea1">&#9670;&#160;</a></span>test_iterative_imputer_keep_empty_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_keep_empty_features </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>initial_strategy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check the behaviour of the iterative imputer with different initial strategy
and keeping empty features (i.e. features containing only missing values).
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1512</span><span class="keyword">def </span>test_iterative_imputer_keep_empty_features(initial_strategy):</div>
<div class="line"><span class="lineno"> 1513</span>    <span class="stringliteral">&quot;&quot;&quot;Check the behaviour of the iterative imputer with different initial strategy</span></div>
<div class="line"><span class="lineno"> 1514</span><span class="stringliteral">    and keeping empty features (i.e. features containing only missing values).</span></div>
<div class="line"><span class="lineno"> 1515</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1516</span>    X = np.array([[1, np.nan, 2], [3, np.nan, np.nan]])</div>
<div class="line"><span class="lineno"> 1517</span> </div>
<div class="line"><span class="lineno"> 1518</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno"> 1519</span>        initial_strategy=initial_strategy, keep_empty_features=<span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1520</span>    )</div>
<div class="line"><span class="lineno"> 1521</span>    X_imputed = imputer.fit_transform(X)</div>
<div class="line"><span class="lineno"> 1522</span>    assert_allclose(X_imputed[:, 1], 0)</div>
<div class="line"><span class="lineno"> 1523</span>    X_imputed = imputer.transform(X)</div>
<div class="line"><span class="lineno"> 1524</span>    assert_allclose(X_imputed[:, 1], 0)</div>
<div class="line"><span class="lineno"> 1525</span> </div>
<div class="line"><span class="lineno"> 1526</span> </div>
<div class="line"><span class="lineno"> 1527</span><span class="preprocessor">@pytest.mark.parametrize(&quot;keep_empty_features&quot;, [True, False])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a5295678237ec5957b0a3138fe0e8fbc9" name="a5295678237ec5957b0a3138fe0e8fbc9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5295678237ec5957b0a3138fe0e8fbc9">&#9670;&#160;</a></span>test_iterative_imputer_min_max_array_like()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_min_max_array_like </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>correct_output</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  981</span><span class="keyword">def </span>test_iterative_imputer_min_max_array_like(min_value, max_value, correct_output):</div>
<div class="line"><span class="lineno">  982</span>    <span class="comment"># check that passing scalar or array-like</span></div>
<div class="line"><span class="lineno">  983</span>    <span class="comment"># for min_value and max_value in IterativeImputer works</span></div>
<div class="line"><span class="lineno">  984</span>    X = np.random.RandomState(0).randn(10, 3)</div>
<div class="line"><span class="lineno">  985</span>    imputer = IterativeImputer(min_value=min_value, max_value=max_value)</div>
<div class="line"><span class="lineno">  986</span>    imputer.fit(X)</div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span>    <span class="keyword">assert</span> isinstance(imputer._min_value, np.ndarray) <span class="keywordflow">and</span> isinstance(</div>
<div class="line"><span class="lineno">  989</span>        imputer._max_value, np.ndarray</div>
<div class="line"><span class="lineno">  990</span>    )</div>
<div class="line"><span class="lineno">  991</span>    <span class="keyword">assert</span> (imputer._min_value.shape[0] == X.shape[1]) <span class="keywordflow">and</span> (</div>
<div class="line"><span class="lineno">  992</span>        imputer._max_value.shape[0] == X.shape[1]</div>
<div class="line"><span class="lineno">  993</span>    )</div>
<div class="line"><span class="lineno">  994</span> </div>
<div class="line"><span class="lineno">  995</span>    assert_allclose(correct_output[0, :], imputer._min_value)</div>
<div class="line"><span class="lineno">  996</span>    assert_allclose(correct_output[1, :], imputer._max_value)</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1000</span>    <span class="stringliteral">&quot;min_value, max_value, err_msg&quot;</span>,</div>
<div class="line"><span class="lineno"> 1001</span>    [</div>
<div class="line"><span class="lineno"> 1002</span>        (100, 0, <span class="stringliteral">&quot;min_value &gt;= max_value.&quot;</span>),</div>
<div class="line"><span class="lineno"> 1003</span>        (np.inf, -np.inf, <span class="stringliteral">&quot;min_value &gt;= max_value.&quot;</span>),</div>
<div class="line"><span class="lineno"> 1004</span>        ([-5, 5], [100, 200, 0], <span class="stringliteral">&quot;_value&#39; should be of shape&quot;</span>),</div>
<div class="line"><span class="lineno"> 1005</span>    ],</div>
<div class="line"><span class="lineno"> 1006</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f91bc4e379376d09f3395327345dae2" name="a2f91bc4e379376d09f3395327345dae2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f91bc4e379376d09f3395327345dae2">&#9670;&#160;</a></span>test_iterative_imputer_min_max_array_like_imputation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_min_max_array_like_imputation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_max_1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_max_2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1021</span><span class="keyword">def </span>test_iterative_imputer_min_max_array_like_imputation(min_max_1, min_max_2):</div>
<div class="line"><span class="lineno"> 1022</span>    <span class="comment"># Test that None/inf and scalar/vector give the same imputation</span></div>
<div class="line"><span class="lineno"> 1023</span>    X_train = np.array(</div>
<div class="line"><span class="lineno"> 1024</span>        [</div>
<div class="line"><span class="lineno"> 1025</span>            [np.nan, 2, 2, 1],</div>
<div class="line"><span class="lineno"> 1026</span>            [10, np.nan, np.nan, 7],</div>
<div class="line"><span class="lineno"> 1027</span>            [3, 1, np.nan, 1],</div>
<div class="line"><span class="lineno"> 1028</span>            [np.nan, 4, 2, np.nan],</div>
<div class="line"><span class="lineno"> 1029</span>        ]</div>
<div class="line"><span class="lineno"> 1030</span>    )</div>
<div class="line"><span class="lineno"> 1031</span>    X_test = np.array(</div>
<div class="line"><span class="lineno"> 1032</span>        [[np.nan, 2, np.nan, 5], [2, 4, np.nan, np.nan], [np.nan, 1, 10, 1]]</div>
<div class="line"><span class="lineno"> 1033</span>    )</div>
<div class="line"><span class="lineno"> 1034</span>    imputer1 = IterativeImputer(</div>
<div class="line"><span class="lineno"> 1035</span>        min_value=min_max_1[0], max_value=min_max_1[1], random_state=0</div>
<div class="line"><span class="lineno"> 1036</span>    )</div>
<div class="line"><span class="lineno"> 1037</span>    imputer2 = IterativeImputer(</div>
<div class="line"><span class="lineno"> 1038</span>        min_value=min_max_2[0], max_value=min_max_2[1], random_state=0</div>
<div class="line"><span class="lineno"> 1039</span>    )</div>
<div class="line"><span class="lineno"> 1040</span>    X_test_imputed1 = imputer1.fit(X_train).transform(X_test)</div>
<div class="line"><span class="lineno"> 1041</span>    X_test_imputed2 = imputer2.fit(X_train).transform(X_test)</div>
<div class="line"><span class="lineno"> 1042</span>    assert_allclose(X_test_imputed1[:, 0], X_test_imputed2[:, 0])</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span> </div>
<div class="line"><span class="lineno"> 1045</span><span class="preprocessor">@pytest.mark.parametrize(&quot;skip_complete&quot;, [True, False])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac98699ee7b0ad8328ce3e32cf453d686" name="ac98699ee7b0ad8328ce3e32cf453d686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac98699ee7b0ad8328ce3e32cf453d686">&#9670;&#160;</a></span>test_iterative_imputer_missing_at_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_missing_at_transform </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strategy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  759</span><span class="keyword">def </span>test_iterative_imputer_missing_at_transform(strategy):</div>
<div class="line"><span class="lineno">  760</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  761</span>    n = 100</div>
<div class="line"><span class="lineno">  762</span>    d = 10</div>
<div class="line"><span class="lineno">  763</span>    X_train = rng.randint(low=0, high=3, size=(n, d))</div>
<div class="line"><span class="lineno">  764</span>    X_test = rng.randint(low=0, high=3, size=(n, d))</div>
<div class="line"><span class="lineno">  765</span> </div>
<div class="line"><span class="lineno">  766</span>    X_train[:, 0] = 1  <span class="comment"># definitely no missing values in 0th column</span></div>
<div class="line"><span class="lineno">  767</span>    X_test[0, 0] = 0  <span class="comment"># definitely missing value in 0th column</span></div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno">  770</span>        missing_values=0, max_iter=1, initial_strategy=strategy, random_state=rng</div>
<div class="line"><span class="lineno">  771</span>    ).fit(X_train)</div>
<div class="line"><span class="lineno">  772</span>    initial_imputer = SimpleImputer(missing_values=0, strategy=strategy).fit(X_train)</div>
<div class="line"><span class="lineno">  773</span> </div>
<div class="line"><span class="lineno">  774</span>    <span class="comment"># if there were no missing values at time of fit, then imputer will</span></div>
<div class="line"><span class="lineno">  775</span>    <span class="comment"># only use the initial imputer for that feature at transform</span></div>
<div class="line"><span class="lineno">  776</span>    assert_allclose(</div>
<div class="line"><span class="lineno">  777</span>        imputer.transform(X_test)[:, 0], initial_imputer.transform(X_test)[:, 0]</div>
<div class="line"><span class="lineno">  778</span>    )</div>
<div class="line"><span class="lineno">  779</span> </div>
<div class="line"><span class="lineno">  780</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae81961f6ef784c7426bc95ed94da5e40" name="ae81961f6ef784c7426bc95ed94da5e40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae81961f6ef784c7426bc95ed94da5e40">&#9670;&#160;</a></span>test_iterative_imputer_no_missing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_no_missing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  831</span><span class="keyword">def </span>test_iterative_imputer_no_missing():</div>
<div class="line"><span class="lineno">  832</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  833</span>    X = rng.rand(100, 100)</div>
<div class="line"><span class="lineno">  834</span>    X[:, 0] = np.nan</div>
<div class="line"><span class="lineno">  835</span>    m1 = IterativeImputer(max_iter=10, random_state=rng)</div>
<div class="line"><span class="lineno">  836</span>    m2 = IterativeImputer(max_iter=10, random_state=rng)</div>
<div class="line"><span class="lineno">  837</span>    pred1 = m1.fit(X).transform(X)</div>
<div class="line"><span class="lineno">  838</span>    pred2 = m2.fit_transform(X)</div>
<div class="line"><span class="lineno">  839</span>    <span class="comment"># should exclude the first column entirely</span></div>
<div class="line"><span class="lineno">  840</span>    assert_allclose(X[:, 1:], pred1)</div>
<div class="line"><span class="lineno">  841</span>    <span class="comment"># fit and fit_transform should both be identical</span></div>
<div class="line"><span class="lineno">  842</span>    assert_allclose(pred1, pred2)</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d68566c187d01edf2424683d844ceff" name="a1d68566c187d01edf2424683d844ceff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d68566c187d01edf2424683d844ceff">&#9670;&#160;</a></span>test_iterative_imputer_one_feature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_one_feature </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  497</span><span class="keyword">def </span>test_iterative_imputer_one_feature(X):</div>
<div class="line"><span class="lineno">  498</span>    <span class="comment"># check we exit early when there is a single feature</span></div>
<div class="line"><span class="lineno">  499</span>    imputer = IterativeImputer().fit(X)</div>
<div class="line"><span class="lineno">  500</span>    <span class="keyword">assert</span> imputer.n_iter_ == 0</div>
<div class="line"><span class="lineno">  501</span>    imputer = IterativeImputer()</div>
<div class="line"><span class="lineno">  502</span>    imputer.fit([[1], [2]])</div>
<div class="line"><span class="lineno">  503</span>    <span class="keyword">assert</span> imputer.n_iter_ == 0</div>
<div class="line"><span class="lineno">  504</span>    imputer.fit([[1], [np.nan]])</div>
<div class="line"><span class="lineno">  505</span>    <span class="keyword">assert</span> imputer.n_iter_ == 0</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a291e539c33deac833cae4c2f0c94155e" name="a291e539c33deac833cae4c2f0c94155e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a291e539c33deac833cae4c2f0c94155e">&#9670;&#160;</a></span>test_iterative_imputer_rank_one()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_rank_one </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  845</span><span class="keyword">def </span>test_iterative_imputer_rank_one():</div>
<div class="line"><span class="lineno">  846</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  847</span>    d = 50</div>
<div class="line"><span class="lineno">  848</span>    A = rng.rand(d, 1)</div>
<div class="line"><span class="lineno">  849</span>    B = rng.rand(1, d)</div>
<div class="line"><span class="lineno">  850</span>    X = np.dot(A, B)</div>
<div class="line"><span class="lineno">  851</span>    nan_mask = rng.rand(d, d) &lt; 0.5</div>
<div class="line"><span class="lineno">  852</span>    X_missing = X.copy()</div>
<div class="line"><span class="lineno">  853</span>    X_missing[nan_mask] = np.nan</div>
<div class="line"><span class="lineno">  854</span> </div>
<div class="line"><span class="lineno">  855</span>    imputer = IterativeImputer(max_iter=5, verbose=1, random_state=rng)</div>
<div class="line"><span class="lineno">  856</span>    X_filled = imputer.fit_transform(X_missing)</div>
<div class="line"><span class="lineno">  857</span>    assert_allclose(X_filled, X, atol=0.02)</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span><span class="preprocessor">@pytest.mark.parametrize(&quot;rank&quot;, [3, 5])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a38759f8ffb261d2d7cf17e975e1a4f6a" name="a38759f8ffb261d2d7cf17e975e1a4f6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38759f8ffb261d2d7cf17e975e1a4f6a">&#9670;&#160;</a></span>test_iterative_imputer_skip_non_missing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_skip_non_missing </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>skip_complete</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1046</span><span class="keyword">def </span>test_iterative_imputer_skip_non_missing(skip_complete):</div>
<div class="line"><span class="lineno"> 1047</span>    <span class="comment"># check the imputing strategy when missing data are present in the</span></div>
<div class="line"><span class="lineno"> 1048</span>    <span class="comment"># testing set only.</span></div>
<div class="line"><span class="lineno"> 1049</span>    <span class="comment"># taken from: https://github.com/scikit-learn/scikit-learn/issues/14383</span></div>
<div class="line"><span class="lineno"> 1050</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno"> 1051</span>    X_train = np.array([[5, 2, 2, 1], [10, 1, 2, 7], [3, 1, 1, 1], [8, 4, 2, 2]])</div>
<div class="line"><span class="lineno"> 1052</span>    X_test = np.array([[np.nan, 2, 4, 5], [np.nan, 4, 1, 2], [np.nan, 1, 10, 1]])</div>
<div class="line"><span class="lineno"> 1053</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno"> 1054</span>        initial_strategy=<span class="stringliteral">&quot;mean&quot;</span>, skip_complete=skip_complete, random_state=rng</div>
<div class="line"><span class="lineno"> 1055</span>    )</div>
<div class="line"><span class="lineno"> 1056</span>    X_test_est = imputer.fit(X_train).transform(X_test)</div>
<div class="line"><span class="lineno"> 1057</span>    <span class="keywordflow">if</span> skip_complete:</div>
<div class="line"><span class="lineno"> 1058</span>        <span class="comment"># impute with the initial strategy: &#39;mean&#39;</span></div>
<div class="line"><span class="lineno"> 1059</span>        assert_allclose(X_test_est[:, 0], np.mean(X_train[:, 0]))</div>
<div class="line"><span class="lineno"> 1060</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1061</span>        assert_allclose(X_test_est[:, 0], [11, 7, 12], rtol=1e-4)</div>
<div class="line"><span class="lineno"> 1062</span> </div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span><span class="preprocessor">@pytest.mark.parametrize(&quot;rs_imputer&quot;, [None, 1, np.random.RandomState(seed=1)</span>])</div>
<div class="line"><span class="lineno"> 1065</span><span class="preprocessor">@pytest.mark.parametrize(&quot;rs_estimator&quot;, [None, 1, np.random.RandomState(seed=1)</span>])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3018da7eea802771a01baaed84a8104e" name="a3018da7eea802771a01baaed84a8104e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3018da7eea802771a01baaed84a8104e">&#9670;&#160;</a></span>test_iterative_imputer_transform_recovery()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_transform_recovery </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rank</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  861</span><span class="keyword">def </span>test_iterative_imputer_transform_recovery(rank):</div>
<div class="line"><span class="lineno">  862</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  863</span>    n = 70</div>
<div class="line"><span class="lineno">  864</span>    d = 70</div>
<div class="line"><span class="lineno">  865</span>    A = rng.rand(n, rank)</div>
<div class="line"><span class="lineno">  866</span>    B = rng.rand(rank, d)</div>
<div class="line"><span class="lineno">  867</span>    X_filled = np.dot(A, B)</div>
<div class="line"><span class="lineno">  868</span>    nan_mask = rng.rand(n, d) &lt; 0.5</div>
<div class="line"><span class="lineno">  869</span>    X_missing = X_filled.copy()</div>
<div class="line"><span class="lineno">  870</span>    X_missing[nan_mask] = np.nan</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>    <span class="comment"># split up data in half</span></div>
<div class="line"><span class="lineno">  873</span>    n = n // 2</div>
<div class="line"><span class="lineno">  874</span>    X_train = X_missing[:n]</div>
<div class="line"><span class="lineno">  875</span>    X_test_filled = X_filled[n:]</div>
<div class="line"><span class="lineno">  876</span>    X_test = X_missing[n:]</div>
<div class="line"><span class="lineno">  877</span> </div>
<div class="line"><span class="lineno">  878</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno">  879</span>        max_iter=5, imputation_order=<span class="stringliteral">&quot;descending&quot;</span>, verbose=1, random_state=rng</div>
<div class="line"><span class="lineno">  880</span>    ).fit(X_train)</div>
<div class="line"><span class="lineno">  881</span>    X_test_est = imputer.transform(X_test)</div>
<div class="line"><span class="lineno">  882</span>    assert_allclose(X_test_filled, X_test_est, atol=0.1)</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a566a5b84000bbfc3dfdcb5decc2517d6" name="a566a5b84000bbfc3dfdcb5decc2517d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a566a5b84000bbfc3dfdcb5decc2517d6">&#9670;&#160;</a></span>test_iterative_imputer_transform_stochasticity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_transform_stochasticity </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  781</span><span class="keyword">def </span>test_iterative_imputer_transform_stochasticity():</div>
<div class="line"><span class="lineno">  782</span>    rng1 = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  783</span>    rng2 = np.random.RandomState(1)</div>
<div class="line"><span class="lineno">  784</span>    n = 100</div>
<div class="line"><span class="lineno">  785</span>    d = 10</div>
<div class="line"><span class="lineno">  786</span>    X = _sparse_random_matrix(n, d, density=0.10, random_state=rng1).toarray()</div>
<div class="line"><span class="lineno">  787</span> </div>
<div class="line"><span class="lineno">  788</span>    <span class="comment"># when sample_posterior=True, two transforms shouldn&#39;t be equal</span></div>
<div class="line"><span class="lineno">  789</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno">  790</span>        missing_values=0, max_iter=1, sample_posterior=<span class="keyword">True</span>, random_state=rng1</div>
<div class="line"><span class="lineno">  791</span>    )</div>
<div class="line"><span class="lineno">  792</span>    imputer.fit(X)</div>
<div class="line"><span class="lineno">  793</span> </div>
<div class="line"><span class="lineno">  794</span>    X_fitted_1 = imputer.transform(X)</div>
<div class="line"><span class="lineno">  795</span>    X_fitted_2 = imputer.transform(X)</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span>    <span class="comment"># sufficient to assert that the means are not the same</span></div>
<div class="line"><span class="lineno">  798</span>    <span class="keyword">assert</span> np.mean(X_fitted_1) != pytest.approx(np.mean(X_fitted_2))</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>    <span class="comment"># when sample_posterior=False, and n_nearest_features=None</span></div>
<div class="line"><span class="lineno">  801</span>    <span class="comment"># and imputation_order is not random</span></div>
<div class="line"><span class="lineno">  802</span>    <span class="comment"># the two transforms should be identical even if rng are different</span></div>
<div class="line"><span class="lineno">  803</span>    imputer1 = IterativeImputer(</div>
<div class="line"><span class="lineno">  804</span>        missing_values=0,</div>
<div class="line"><span class="lineno">  805</span>        max_iter=1,</div>
<div class="line"><span class="lineno">  806</span>        sample_posterior=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  807</span>        n_nearest_features=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  808</span>        imputation_order=<span class="stringliteral">&quot;ascending&quot;</span>,</div>
<div class="line"><span class="lineno">  809</span>        random_state=rng1,</div>
<div class="line"><span class="lineno">  810</span>    )</div>
<div class="line"><span class="lineno">  811</span> </div>
<div class="line"><span class="lineno">  812</span>    imputer2 = IterativeImputer(</div>
<div class="line"><span class="lineno">  813</span>        missing_values=0,</div>
<div class="line"><span class="lineno">  814</span>        max_iter=1,</div>
<div class="line"><span class="lineno">  815</span>        sample_posterior=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  816</span>        n_nearest_features=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  817</span>        imputation_order=<span class="stringliteral">&quot;ascending&quot;</span>,</div>
<div class="line"><span class="lineno">  818</span>        random_state=rng2,</div>
<div class="line"><span class="lineno">  819</span>    )</div>
<div class="line"><span class="lineno">  820</span>    imputer1.fit(X)</div>
<div class="line"><span class="lineno">  821</span>    imputer2.fit(X)</div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span>    X_fitted_1a = imputer1.transform(X)</div>
<div class="line"><span class="lineno">  824</span>    X_fitted_1b = imputer1.transform(X)</div>
<div class="line"><span class="lineno">  825</span>    X_fitted_2 = imputer2.transform(X)</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>    assert_allclose(X_fitted_1a, X_fitted_1b)</div>
<div class="line"><span class="lineno">  828</span>    assert_allclose(X_fitted_1a, X_fitted_2)</div>
<div class="line"><span class="lineno">  829</span> </div>
<div class="line"><span class="lineno">  830</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e7f667fdc149ed45e22987cbecc95e6" name="a4e7f667fdc149ed45e22987cbecc95e6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e7f667fdc149ed45e22987cbecc95e6">&#9670;&#160;</a></span>test_iterative_imputer_truncated_normal_posterior()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_truncated_normal_posterior </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  725</span><span class="keyword">def </span>test_iterative_imputer_truncated_normal_posterior():</div>
<div class="line"><span class="lineno">  726</span>    <span class="comment">#  test that the values that are imputed using `sample_posterior=True`</span></div>
<div class="line"><span class="lineno">  727</span>    <span class="comment">#  with boundaries (`min_value` and `max_value` are not None) are drawn</span></div>
<div class="line"><span class="lineno">  728</span>    <span class="comment">#  from a distribution that looks gaussian via the Kolmogorov Smirnov test.</span></div>
<div class="line"><span class="lineno">  729</span>    <span class="comment">#  note that starting from the wrong random seed will make this test fail</span></div>
<div class="line"><span class="lineno">  730</span>    <span class="comment">#  because random sampling doesn&#39;t occur at all when the imputation</span></div>
<div class="line"><span class="lineno">  731</span>    <span class="comment">#  is outside of the (min_value, max_value) range</span></div>
<div class="line"><span class="lineno">  732</span>    rng = np.random.RandomState(42)</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>    X = rng.normal(size=(5, 5))</div>
<div class="line"><span class="lineno">  735</span>    X[0][0] = np.nan</div>
<div class="line"><span class="lineno">  736</span> </div>
<div class="line"><span class="lineno">  737</span>    imputer = IterativeImputer(</div>
<div class="line"><span class="lineno">  738</span>        min_value=0, max_value=0.5, sample_posterior=<span class="keyword">True</span>, random_state=rng</div>
<div class="line"><span class="lineno">  739</span>    )</div>
<div class="line"><span class="lineno">  740</span> </div>
<div class="line"><span class="lineno">  741</span>    imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  742</span>    <span class="comment"># generate multiple imputations for the single missing value</span></div>
<div class="line"><span class="lineno">  743</span>    imputations = np.array([imputer.transform(X)[0][0] <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(100)])</div>
<div class="line"><span class="lineno">  744</span> </div>
<div class="line"><span class="lineno">  745</span>    <span class="keyword">assert</span> all(imputations &gt;= 0)</div>
<div class="line"><span class="lineno">  746</span>    <span class="keyword">assert</span> all(imputations &lt;= 0.5)</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span>    mu, sigma = imputations.mean(), imputations.std()</div>
<div class="line"><span class="lineno">  749</span>    ks_statistic, p_value = kstest((imputations - mu) / sigma, <span class="stringliteral">&quot;norm&quot;</span>)</div>
<div class="line"><span class="lineno">  750</span>    <span class="keywordflow">if</span> sigma == 0:</div>
<div class="line"><span class="lineno">  751</span>        sigma += 1e-12</div>
<div class="line"><span class="lineno">  752</span>    ks_statistic, p_value = kstest((imputations - mu) / sigma, <span class="stringliteral">&quot;norm&quot;</span>)</div>
<div class="line"><span class="lineno">  753</span>    <span class="comment"># we want to fail to reject null hypothesis</span></div>
<div class="line"><span class="lineno">  754</span>    <span class="comment"># null hypothesis: distributions are the same</span></div>
<div class="line"><span class="lineno">  755</span>    <span class="keyword">assert</span> ks_statistic &lt; 0.2 <span class="keywordflow">or</span> p_value &gt; 0.1, <span class="stringliteral">&quot;The posterior does appear to be normal&quot;</span></div>
<div class="line"><span class="lineno">  756</span> </div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span><span class="preprocessor">@pytest.mark.parametrize(&quot;strategy&quot;, [&quot;mean&quot;, &quot;median&quot;, &quot;most_frequent&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0937fc37397f3c9066c4646382db1033" name="a0937fc37397f3c9066c4646382db1033"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0937fc37397f3c9066c4646382db1033">&#9670;&#160;</a></span>test_iterative_imputer_verbose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_verbose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  594</span><span class="keyword">def </span>test_iterative_imputer_verbose():</div>
<div class="line"><span class="lineno">  595</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>    n = 100</div>
<div class="line"><span class="lineno">  598</span>    d = 3</div>
<div class="line"><span class="lineno">  599</span>    X = _sparse_random_matrix(n, d, density=0.10, random_state=rng).toarray()</div>
<div class="line"><span class="lineno">  600</span>    imputer = IterativeImputer(missing_values=0, max_iter=1, verbose=1)</div>
<div class="line"><span class="lineno">  601</span>    imputer.fit(X)</div>
<div class="line"><span class="lineno">  602</span>    imputer.transform(X)</div>
<div class="line"><span class="lineno">  603</span>    imputer = IterativeImputer(missing_values=0, max_iter=1, verbose=2)</div>
<div class="line"><span class="lineno">  604</span>    imputer.fit(X)</div>
<div class="line"><span class="lineno">  605</span>    imputer.transform(X)</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a757e13ff50efa46d079434b687afb415" name="a757e13ff50efa46d079434b687afb415"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a757e13ff50efa46d079434b687afb415">&#9670;&#160;</a></span>test_iterative_imputer_zero_iters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_iterative_imputer_zero_iters </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  570</span><span class="keyword">def </span>test_iterative_imputer_zero_iters():</div>
<div class="line"><span class="lineno">  571</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>    n = 100</div>
<div class="line"><span class="lineno">  574</span>    d = 10</div>
<div class="line"><span class="lineno">  575</span>    X = _sparse_random_matrix(n, d, density=0.10, random_state=rng).toarray()</div>
<div class="line"><span class="lineno">  576</span>    missing_flag = X == 0</div>
<div class="line"><span class="lineno">  577</span>    X[missing_flag] = np.nan</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>    imputer = IterativeImputer(max_iter=0)</div>
<div class="line"><span class="lineno">  580</span>    X_imputed = imputer.fit_transform(X)</div>
<div class="line"><span class="lineno">  581</span>    <span class="comment"># with max_iter=0, only initial imputation is performed</span></div>
<div class="line"><span class="lineno">  582</span>    assert_allclose(X_imputed, imputer.initial_imputer_.transform(X))</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>    <span class="comment"># repeat but force n_iter_ to 0</span></div>
<div class="line"><span class="lineno">  585</span>    imputer = IterativeImputer(max_iter=5).fit(X)</div>
<div class="line"><span class="lineno">  586</span>    <span class="comment"># transformed should not be equal to initial imputation</span></div>
<div class="line"><span class="lineno">  587</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> np.all(imputer.transform(X) == imputer.initial_imputer_.transform(X))</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>    imputer.n_iter_ = 0</div>
<div class="line"><span class="lineno">  590</span>    <span class="comment"># now they should be equal as only initial imputation is done</span></div>
<div class="line"><span class="lineno">  591</span>    assert_allclose(imputer.transform(X), imputer.initial_imputer_.transform(X))</div>
<div class="line"><span class="lineno">  592</span> </div>
<div class="line"><span class="lineno">  593</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0424d1f318996c48d92e1097b3a72525" name="a0424d1f318996c48d92e1097b3a72525"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0424d1f318996c48d92e1097b3a72525">&#9670;&#160;</a></span>test_knn_imputer_keep_empty_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_knn_imputer_keep_empty_features </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keep_empty_features</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check the behaviour of `keep_empty_features` for `KNNImputer`.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1528</span><span class="keyword">def </span>test_knn_imputer_keep_empty_features(keep_empty_features):</div>
<div class="line"><span class="lineno"> 1529</span>    <span class="stringliteral">&quot;&quot;&quot;Check the behaviour of `keep_empty_features` for `KNNImputer`.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1530</span>    X = np.array([[1, np.nan, 2], [3, np.nan, np.nan]])</div>
<div class="line"><span class="lineno"> 1531</span> </div>
<div class="line"><span class="lineno"> 1532</span>    imputer = KNNImputer(keep_empty_features=keep_empty_features)</div>
<div class="line"><span class="lineno"> 1533</span> </div>
<div class="line"><span class="lineno"> 1534</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;fit_transform&quot;</span>, <span class="stringliteral">&quot;transform&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1535</span>        X_imputed = getattr(imputer, method)(X)</div>
<div class="line"><span class="lineno"> 1536</span>        <span class="keywordflow">if</span> keep_empty_features:</div>
<div class="line"><span class="lineno"> 1537</span>            <span class="keyword">assert</span> X_imputed.shape == X.shape</div>
<div class="line"><span class="lineno"> 1538</span>            assert_array_equal(X_imputed[:, 1], 0)</div>
<div class="line"><span class="lineno"> 1539</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1540</span>            <span class="keyword">assert</span> X_imputed.shape == (X.shape[0], X.shape[1] - 1)</div>
<div class="line"><span class="lineno"> 1541</span> </div>
<div class="line"><span class="lineno"> 1542</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0039cd67dfe39b9967645f9a58a8416c" name="a0039cd67dfe39b9967645f9a58a8416c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0039cd67dfe39b9967645f9a58a8416c">&#9670;&#160;</a></span>test_missing_indicator_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_missing_indicator_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X_fit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X_trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg_err</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1101</span><span class="keyword">def </span>test_missing_indicator_error(X_fit, X_trans, params, msg_err):</div>
<div class="line"><span class="lineno"> 1102</span>    indicator = MissingIndicator(missing_values=-1)</div>
<div class="line"><span class="lineno"> 1103</span>    indicator.set_params(**params)</div>
<div class="line"><span class="lineno"> 1104</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg_err):</div>
<div class="line"><span class="lineno"> 1105</span>        indicator.fit(X_fit).transform(X_trans)</div>
<div class="line"><span class="lineno"> 1106</span> </div>
<div class="line"><span class="lineno"> 1107</span> </div>
<div class="line"><span class="lineno"> 1108</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1109</span>    <span class="stringliteral">&quot;missing_values, dtype, arr_type&quot;</span>,</div>
<div class="line"><span class="lineno"> 1110</span>    [</div>
<div class="line"><span class="lineno"> 1111</span>        (np.nan, np.float64, np.array),</div>
<div class="line"><span class="lineno"> 1112</span>        (0, np.int32, np.array),</div>
<div class="line"><span class="lineno"> 1113</span>        (-1, np.int32, np.array),</div>
<div class="line"><span class="lineno"> 1114</span>        (np.nan, np.float64, sparse.csc_matrix),</div>
<div class="line"><span class="lineno"> 1115</span>        (-1, np.int32, sparse.csc_matrix),</div>
<div class="line"><span class="lineno"> 1116</span>        (np.nan, np.float64, sparse.csr_matrix),</div>
<div class="line"><span class="lineno"> 1117</span>        (-1, np.int32, sparse.csr_matrix),</div>
<div class="line"><span class="lineno"> 1118</span>        (np.nan, np.float64, sparse.coo_matrix),</div>
<div class="line"><span class="lineno"> 1119</span>        (-1, np.int32, sparse.coo_matrix),</div>
<div class="line"><span class="lineno"> 1120</span>        (np.nan, np.float64, sparse.lil_matrix),</div>
<div class="line"><span class="lineno"> 1121</span>        (-1, np.int32, sparse.lil_matrix),</div>
<div class="line"><span class="lineno"> 1122</span>        (np.nan, np.float64, sparse.bsr_matrix),</div>
<div class="line"><span class="lineno"> 1123</span>        (-1, np.int32, sparse.bsr_matrix),</div>
<div class="line"><span class="lineno"> 1124</span>    ],</div>
<div class="line"><span class="lineno"> 1125</span>)</div>
<div class="line"><span class="lineno"> 1126</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1127</span>    <span class="stringliteral">&quot;param_features, n_features, features_indices&quot;</span>,</div>
<div class="line"><span class="lineno"> 1128</span>    [(<span class="stringliteral">&quot;missing-only&quot;</span>, 3, np.array([0, 1, 2])), (<span class="stringliteral">&quot;all&quot;</span>, 3, np.array([0, 1, 2]))],</div>
<div class="line"><span class="lineno"> 1129</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6948cfbaff88549777b7bde4856d7ec8" name="a6948cfbaff88549777b7bde4856d7ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6948cfbaff88549777b7bde4856d7ec8">&#9670;&#160;</a></span>test_missing_indicator_feature_names_out()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_missing_indicator_feature_names_out </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that missing indicator return the feature names with a prefix.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1603</span><span class="keyword">def </span>test_missing_indicator_feature_names_out():</div>
<div class="line"><span class="lineno"> 1604</span>    <span class="stringliteral">&quot;&quot;&quot;Check that missing indicator return the feature names with a prefix.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1605</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno"> 1606</span> </div>
<div class="line"><span class="lineno"> 1607</span>    missing_values = np.nan</div>
<div class="line"><span class="lineno"> 1608</span>    X = pd.DataFrame(</div>
<div class="line"><span class="lineno"> 1609</span>        [</div>
<div class="line"><span class="lineno"> 1610</span>            [missing_values, missing_values, 1, missing_values],</div>
<div class="line"><span class="lineno"> 1611</span>            [4, missing_values, 2, 10],</div>
<div class="line"><span class="lineno"> 1612</span>        ],</div>
<div class="line"><span class="lineno"> 1613</span>        columns=[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>],</div>
<div class="line"><span class="lineno"> 1614</span>    )</div>
<div class="line"><span class="lineno"> 1615</span> </div>
<div class="line"><span class="lineno"> 1616</span>    indicator = MissingIndicator(missing_values=missing_values).fit(X)</div>
<div class="line"><span class="lineno"> 1617</span>    feature_names = indicator.get_feature_names_out()</div>
<div class="line"><span class="lineno"> 1618</span>    expected_names = [<span class="stringliteral">&quot;missingindicator_a&quot;</span>, <span class="stringliteral">&quot;missingindicator_b&quot;</span>, <span class="stringliteral">&quot;missingindicator_d&quot;</span>]</div>
<div class="line"><span class="lineno"> 1619</span>    assert_array_equal(expected_names, feature_names)</div>
<div class="line"><span class="lineno"> 1620</span> </div>
<div class="line"><span class="lineno"> 1621</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a562bb545d9d68dafceca170943d5d1be" name="a562bb545d9d68dafceca170943d5d1be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a562bb545d9d68dafceca170943d5d1be">&#9670;&#160;</a></span>test_missing_indicator_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_missing_indicator_new </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>missing_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arr_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>param_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>features_indices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1132</span>):</div>
<div class="line"><span class="lineno"> 1133</span>    X_fit = np.array([[missing_values, missing_values, 1], [4, 2, missing_values]])</div>
<div class="line"><span class="lineno"> 1134</span>    X_trans = np.array([[missing_values, missing_values, 1], [4, 12, 10]])</div>
<div class="line"><span class="lineno"> 1135</span>    X_fit_expected = np.array([[1, 1, 0], [0, 0, 1]])</div>
<div class="line"><span class="lineno"> 1136</span>    X_trans_expected = np.array([[1, 1, 0], [0, 0, 0]])</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>    <span class="comment"># convert the input to the right array format and right dtype</span></div>
<div class="line"><span class="lineno"> 1139</span>    X_fit = arr_type(X_fit).astype(dtype)</div>
<div class="line"><span class="lineno"> 1140</span>    X_trans = arr_type(X_trans).astype(dtype)</div>
<div class="line"><span class="lineno"> 1141</span>    X_fit_expected = X_fit_expected.astype(dtype)</div>
<div class="line"><span class="lineno"> 1142</span>    X_trans_expected = X_trans_expected.astype(dtype)</div>
<div class="line"><span class="lineno"> 1143</span> </div>
<div class="line"><span class="lineno"> 1144</span>    indicator = MissingIndicator(</div>
<div class="line"><span class="lineno"> 1145</span>        missing_values=missing_values, features=param_features, sparse=<span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1146</span>    )</div>
<div class="line"><span class="lineno"> 1147</span>    X_fit_mask = indicator.fit_transform(X_fit)</div>
<div class="line"><span class="lineno"> 1148</span>    X_trans_mask = indicator.transform(X_trans)</div>
<div class="line"><span class="lineno"> 1149</span> </div>
<div class="line"><span class="lineno"> 1150</span>    <span class="keyword">assert</span> X_fit_mask.shape[1] == n_features</div>
<div class="line"><span class="lineno"> 1151</span>    <span class="keyword">assert</span> X_trans_mask.shape[1] == n_features</div>
<div class="line"><span class="lineno"> 1152</span> </div>
<div class="line"><span class="lineno"> 1153</span>    assert_array_equal(indicator.features_, features_indices)</div>
<div class="line"><span class="lineno"> 1154</span>    assert_allclose(X_fit_mask, X_fit_expected[:, features_indices])</div>
<div class="line"><span class="lineno"> 1155</span>    assert_allclose(X_trans_mask, X_trans_expected[:, features_indices])</div>
<div class="line"><span class="lineno"> 1156</span> </div>
<div class="line"><span class="lineno"> 1157</span>    <span class="keyword">assert</span> X_fit_mask.dtype == bool</div>
<div class="line"><span class="lineno"> 1158</span>    <span class="keyword">assert</span> X_trans_mask.dtype == bool</div>
<div class="line"><span class="lineno"> 1159</span>    <span class="keyword">assert</span> isinstance(X_fit_mask, np.ndarray)</div>
<div class="line"><span class="lineno"> 1160</span>    <span class="keyword">assert</span> isinstance(X_trans_mask, np.ndarray)</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>    indicator.set_params(sparse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1163</span>    X_fit_mask_sparse = indicator.fit_transform(X_fit)</div>
<div class="line"><span class="lineno"> 1164</span>    X_trans_mask_sparse = indicator.transform(X_trans)</div>
<div class="line"><span class="lineno"> 1165</span> </div>
<div class="line"><span class="lineno"> 1166</span>    <span class="keyword">assert</span> X_fit_mask_sparse.dtype == bool</div>
<div class="line"><span class="lineno"> 1167</span>    <span class="keyword">assert</span> X_trans_mask_sparse.dtype == bool</div>
<div class="line"><span class="lineno"> 1168</span>    <span class="keyword">assert</span> X_fit_mask_sparse.format == <span class="stringliteral">&quot;csc&quot;</span></div>
<div class="line"><span class="lineno"> 1169</span>    <span class="keyword">assert</span> X_trans_mask_sparse.format == <span class="stringliteral">&quot;csc&quot;</span></div>
<div class="line"><span class="lineno"> 1170</span>    assert_allclose(X_fit_mask_sparse.toarray(), X_fit_mask)</div>
<div class="line"><span class="lineno"> 1171</span>    assert_allclose(X_trans_mask_sparse.toarray(), X_trans_mask)</div>
<div class="line"><span class="lineno"> 1172</span> </div>
<div class="line"><span class="lineno"> 1173</span> </div>
<div class="line"><span class="lineno"> 1174</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1175</span>    <span class="stringliteral">&quot;arr_type&quot;</span>,</div>
<div class="line"><span class="lineno"> 1176</span>    [</div>
<div class="line"><span class="lineno"> 1177</span>        sparse.csc_matrix,</div>
<div class="line"><span class="lineno"> 1178</span>        sparse.csr_matrix,</div>
<div class="line"><span class="lineno"> 1179</span>        sparse.coo_matrix,</div>
<div class="line"><span class="lineno"> 1180</span>        sparse.lil_matrix,</div>
<div class="line"><span class="lineno"> 1181</span>        sparse.bsr_matrix,</div>
<div class="line"><span class="lineno"> 1182</span>    ],</div>
<div class="line"><span class="lineno"> 1183</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3bfa51f48637634d2f1e8a330c2997ce" name="a3bfa51f48637634d2f1e8a330c2997ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bfa51f48637634d2f1e8a330c2997ce">&#9670;&#160;</a></span>test_missing_indicator_no_missing()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_missing_indicator_no_missing </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1310</span><span class="keyword">def </span>test_missing_indicator_no_missing():</div>
<div class="line"><span class="lineno"> 1311</span>    <span class="comment"># check that all features are dropped if there are no missing values when</span></div>
<div class="line"><span class="lineno"> 1312</span>    <span class="comment"># features=&#39;missing-only&#39; (#13491)</span></div>
<div class="line"><span class="lineno"> 1313</span>    X = np.array([[1, 1], [1, 1]])</div>
<div class="line"><span class="lineno"> 1314</span> </div>
<div class="line"><span class="lineno"> 1315</span>    mi = MissingIndicator(features=<span class="stringliteral">&quot;missing-only&quot;</span>, missing_values=-1)</div>
<div class="line"><span class="lineno"> 1316</span>    Xt = mi.fit_transform(X)</div>
<div class="line"><span class="lineno"> 1317</span> </div>
<div class="line"><span class="lineno"> 1318</span>    <span class="keyword">assert</span> Xt.shape[1] == 0</div>
<div class="line"><span class="lineno"> 1319</span> </div>
<div class="line"><span class="lineno"> 1320</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a99588dfe0b631b71c429b08c6f2bf873" name="a99588dfe0b631b71c429b08c6f2bf873"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99588dfe0b631b71c429b08c6f2bf873">&#9670;&#160;</a></span>test_missing_indicator_raise_on_sparse_with_missing_0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_missing_indicator_raise_on_sparse_with_missing_0 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arr_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1184</span><span class="keyword">def </span>test_missing_indicator_raise_on_sparse_with_missing_0(arr_type):</div>
<div class="line"><span class="lineno"> 1185</span>    <span class="comment"># test for sparse input and missing_value == 0</span></div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>    missing_values = 0</div>
<div class="line"><span class="lineno"> 1188</span>    X_fit = np.array([[missing_values, missing_values, 1], [4, missing_values, 2]])</div>
<div class="line"><span class="lineno"> 1189</span>    X_trans = np.array([[missing_values, missing_values, 1], [4, 12, 10]])</div>
<div class="line"><span class="lineno"> 1190</span> </div>
<div class="line"><span class="lineno"> 1191</span>    <span class="comment"># convert the input to the right array format</span></div>
<div class="line"><span class="lineno"> 1192</span>    X_fit_sparse = arr_type(X_fit)</div>
<div class="line"><span class="lineno"> 1193</span>    X_trans_sparse = arr_type(X_trans)</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>    indicator = MissingIndicator(missing_values=missing_values)</div>
<div class="line"><span class="lineno"> 1196</span> </div>
<div class="line"><span class="lineno"> 1197</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Sparse input with missing_values=0&quot;</span>):</div>
<div class="line"><span class="lineno"> 1198</span>        indicator.fit_transform(X_fit_sparse)</div>
<div class="line"><span class="lineno"> 1199</span> </div>
<div class="line"><span class="lineno"> 1200</span>    indicator.fit_transform(X_fit)</div>
<div class="line"><span class="lineno"> 1201</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Sparse input with missing_values=0&quot;</span>):</div>
<div class="line"><span class="lineno"> 1202</span>        indicator.transform(X_trans_sparse)</div>
<div class="line"><span class="lineno"> 1203</span> </div>
<div class="line"><span class="lineno"> 1204</span> </div>
<div class="line"><span class="lineno"> 1205</span><span class="preprocessor">@pytest.mark.parametrize(&quot;param_sparse&quot;, [True, False, &quot;auto&quot;])</span></div>
<div class="line"><span class="lineno"> 1206</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1207</span>    <span class="stringliteral">&quot;missing_values, arr_type&quot;</span>,</div>
<div class="line"><span class="lineno"> 1208</span>    [</div>
<div class="line"><span class="lineno"> 1209</span>        (np.nan, np.array),</div>
<div class="line"><span class="lineno"> 1210</span>        (0, np.array),</div>
<div class="line"><span class="lineno"> 1211</span>        (np.nan, sparse.csc_matrix),</div>
<div class="line"><span class="lineno"> 1212</span>        (np.nan, sparse.csr_matrix),</div>
<div class="line"><span class="lineno"> 1213</span>        (np.nan, sparse.coo_matrix),</div>
<div class="line"><span class="lineno"> 1214</span>        (np.nan, sparse.lil_matrix),</div>
<div class="line"><span class="lineno"> 1215</span>    ],</div>
<div class="line"><span class="lineno"> 1216</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9187078068654e8c70a0225365046078" name="a9187078068654e8c70a0225365046078"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9187078068654e8c70a0225365046078">&#9670;&#160;</a></span>test_missing_indicator_sparse_no_explicit_zeros()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_missing_indicator_sparse_no_explicit_zeros </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1321</span><span class="keyword">def </span>test_missing_indicator_sparse_no_explicit_zeros():</div>
<div class="line"><span class="lineno"> 1322</span>    <span class="comment"># Check that non missing values don&#39;t become explicit zeros in the mask</span></div>
<div class="line"><span class="lineno"> 1323</span>    <span class="comment"># generated by missing indicator when X is sparse. (#13491)</span></div>
<div class="line"><span class="lineno"> 1324</span>    X = sparse.csr_matrix([[0, 1, 2], [1, 2, 0], [2, 0, 1]])</div>
<div class="line"><span class="lineno"> 1325</span> </div>
<div class="line"><span class="lineno"> 1326</span>    mi = MissingIndicator(features=<span class="stringliteral">&quot;all&quot;</span>, missing_values=1)</div>
<div class="line"><span class="lineno"> 1327</span>    Xt = mi.fit_transform(X)</div>
<div class="line"><span class="lineno"> 1328</span> </div>
<div class="line"><span class="lineno"> 1329</span>    <span class="keyword">assert</span> Xt.getnnz() == Xt.sum()</div>
<div class="line"><span class="lineno"> 1330</span> </div>
<div class="line"><span class="lineno"> 1331</span> </div>
<div class="line"><span class="lineno"> 1332</span><span class="preprocessor">@pytest.mark.parametrize(&quot;imputer_constructor&quot;, [SimpleImputer, IterativeImputer])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3671198b3a50f597f5d95ff51e2f6ae8" name="a3671198b3a50f597f5d95ff51e2f6ae8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3671198b3a50f597f5d95ff51e2f6ae8">&#9670;&#160;</a></span>test_missing_indicator_sparse_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_missing_indicator_sparse_param </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arr_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>missing_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>param_sparse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1217</span><span class="keyword">def </span>test_missing_indicator_sparse_param(arr_type, missing_values, param_sparse):</div>
<div class="line"><span class="lineno"> 1218</span>    <span class="comment"># check the format of the output with different sparse parameter</span></div>
<div class="line"><span class="lineno"> 1219</span>    X_fit = np.array([[missing_values, missing_values, 1], [4, missing_values, 2]])</div>
<div class="line"><span class="lineno"> 1220</span>    X_trans = np.array([[missing_values, missing_values, 1], [4, 12, 10]])</div>
<div class="line"><span class="lineno"> 1221</span>    X_fit = arr_type(X_fit).astype(np.float64)</div>
<div class="line"><span class="lineno"> 1222</span>    X_trans = arr_type(X_trans).astype(np.float64)</div>
<div class="line"><span class="lineno"> 1223</span> </div>
<div class="line"><span class="lineno"> 1224</span>    indicator = MissingIndicator(missing_values=missing_values, sparse=param_sparse)</div>
<div class="line"><span class="lineno"> 1225</span>    X_fit_mask = indicator.fit_transform(X_fit)</div>
<div class="line"><span class="lineno"> 1226</span>    X_trans_mask = indicator.transform(X_trans)</div>
<div class="line"><span class="lineno"> 1227</span> </div>
<div class="line"><span class="lineno"> 1228</span>    <span class="keywordflow">if</span> param_sparse <span class="keywordflow">is</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno"> 1229</span>        <span class="keyword">assert</span> X_fit_mask.format == <span class="stringliteral">&quot;csc&quot;</span></div>
<div class="line"><span class="lineno"> 1230</span>        <span class="keyword">assert</span> X_trans_mask.format == <span class="stringliteral">&quot;csc&quot;</span></div>
<div class="line"><span class="lineno"> 1231</span>    <span class="keywordflow">elif</span> param_sparse == <span class="stringliteral">&quot;auto&quot;</span> <span class="keywordflow">and</span> missing_values == 0:</div>
<div class="line"><span class="lineno"> 1232</span>        <span class="keyword">assert</span> isinstance(X_fit_mask, np.ndarray)</div>
<div class="line"><span class="lineno"> 1233</span>        <span class="keyword">assert</span> isinstance(X_trans_mask, np.ndarray)</div>
<div class="line"><span class="lineno"> 1234</span>    <span class="keywordflow">elif</span> param_sparse <span class="keywordflow">is</span> <span class="keyword">False</span>:</div>
<div class="line"><span class="lineno"> 1235</span>        <span class="keyword">assert</span> isinstance(X_fit_mask, np.ndarray)</div>
<div class="line"><span class="lineno"> 1236</span>        <span class="keyword">assert</span> isinstance(X_trans_mask, np.ndarray)</div>
<div class="line"><span class="lineno"> 1237</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1238</span>        <span class="keywordflow">if</span> sparse.issparse(X_fit):</div>
<div class="line"><span class="lineno"> 1239</span>            <span class="keyword">assert</span> X_fit_mask.format == <span class="stringliteral">&quot;csc&quot;</span></div>
<div class="line"><span class="lineno"> 1240</span>            <span class="keyword">assert</span> X_trans_mask.format == <span class="stringliteral">&quot;csc&quot;</span></div>
<div class="line"><span class="lineno"> 1241</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1242</span>            <span class="keyword">assert</span> isinstance(X_fit_mask, np.ndarray)</div>
<div class="line"><span class="lineno"> 1243</span>            <span class="keyword">assert</span> isinstance(X_trans_mask, np.ndarray)</div>
<div class="line"><span class="lineno"> 1244</span> </div>
<div class="line"><span class="lineno"> 1245</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1212b2a65b5a8ca00d7bb36d67ffa93" name="ad1212b2a65b5a8ca00d7bb36d67ffa93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1212b2a65b5a8ca00d7bb36d67ffa93">&#9670;&#160;</a></span>test_missing_indicator_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_missing_indicator_string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1246</span><span class="keyword">def </span>test_missing_indicator_string():</div>
<div class="line"><span class="lineno"> 1247</span>    X = np.array([[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>], [<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>]], dtype=object)</div>
<div class="line"><span class="lineno"> 1248</span>    indicator = MissingIndicator(missing_values=<span class="stringliteral">&quot;a&quot;</span>, features=<span class="stringliteral">&quot;all&quot;</span>)</div>
<div class="line"><span class="lineno"> 1249</span>    X_trans = indicator.fit_transform(X)</div>
<div class="line"><span class="lineno"> 1250</span>    assert_array_equal(X_trans, np.array([[<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">False</span>], [<span class="keyword">False</span>, <span class="keyword">False</span>, <span class="keyword">True</span>]]))</div>
<div class="line"><span class="lineno"> 1251</span> </div>
<div class="line"><span class="lineno"> 1252</span> </div>
<div class="line"><span class="lineno"> 1253</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1254</span>    <span class="stringliteral">&quot;X, missing_values, X_trans_exp&quot;</span>,</div>
<div class="line"><span class="lineno"> 1255</span>    [</div>
<div class="line"><span class="lineno"> 1256</span>        (</div>
<div class="line"><span class="lineno"> 1257</span>            np.array([[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>], [<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;a&quot;</span>]], dtype=object),</div>
<div class="line"><span class="lineno"> 1258</span>            <span class="stringliteral">&quot;a&quot;</span>,</div>
<div class="line"><span class="lineno"> 1259</span>            np.array([[<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="keyword">True</span>, <span class="keyword">False</span>], [<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="keyword">False</span>, <span class="keyword">True</span>]], dtype=object),</div>
<div class="line"><span class="lineno"> 1260</span>        ),</div>
<div class="line"><span class="lineno"> 1261</span>        (</div>
<div class="line"><span class="lineno"> 1262</span>            np.array([[np.nan, 1.0], [1.0, np.nan]]),</div>
<div class="line"><span class="lineno"> 1263</span>            np.nan,</div>
<div class="line"><span class="lineno"> 1264</span>            np.array([[1.0, 1.0, <span class="keyword">True</span>, <span class="keyword">False</span>], [1.0, 1.0, <span class="keyword">False</span>, <span class="keyword">True</span>]]),</div>
<div class="line"><span class="lineno"> 1265</span>        ),</div>
<div class="line"><span class="lineno"> 1266</span>        (</div>
<div class="line"><span class="lineno"> 1267</span>            np.array([[np.nan, <span class="stringliteral">&quot;b&quot;</span>], [<span class="stringliteral">&quot;b&quot;</span>, np.nan]], dtype=object),</div>
<div class="line"><span class="lineno"> 1268</span>            np.nan,</div>
<div class="line"><span class="lineno"> 1269</span>            np.array([[<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="keyword">True</span>, <span class="keyword">False</span>], [<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="keyword">False</span>, <span class="keyword">True</span>]], dtype=object),</div>
<div class="line"><span class="lineno"> 1270</span>        ),</div>
<div class="line"><span class="lineno"> 1271</span>        (</div>
<div class="line"><span class="lineno"> 1272</span>            np.array([[<span class="keywordtype">None</span>, <span class="stringliteral">&quot;b&quot;</span>], [<span class="stringliteral">&quot;b&quot;</span>, <span class="keywordtype">None</span>]], dtype=object),</div>
<div class="line"><span class="lineno"> 1273</span>            <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1274</span>            np.array([[<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="keyword">True</span>, <span class="keyword">False</span>], [<span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="keyword">False</span>, <span class="keyword">True</span>]], dtype=object),</div>
<div class="line"><span class="lineno"> 1275</span>        ),</div>
<div class="line"><span class="lineno"> 1276</span>    ],</div>
<div class="line"><span class="lineno"> 1277</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a12c1f20e3a2b81b28b6b1b10138a16f8" name="a12c1f20e3a2b81b28b6b1b10138a16f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12c1f20e3a2b81b28b6b1b10138a16f8">&#9670;&#160;</a></span>test_missing_indicator_with_imputer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_missing_indicator_with_imputer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>missing_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X_trans_exp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1278</span><span class="keyword">def </span>test_missing_indicator_with_imputer(X, missing_values, X_trans_exp):</div>
<div class="line"><span class="lineno"> 1279</span>    trans = make_union(</div>
<div class="line"><span class="lineno"> 1280</span>        SimpleImputer(missing_values=missing_values, strategy=<span class="stringliteral">&quot;most_frequent&quot;</span>),</div>
<div class="line"><span class="lineno"> 1281</span>        MissingIndicator(missing_values=missing_values),</div>
<div class="line"><span class="lineno"> 1282</span>    )</div>
<div class="line"><span class="lineno"> 1283</span>    X_trans = trans.fit_transform(X)</div>
<div class="line"><span class="lineno"> 1284</span>    assert_array_equal(X_trans, X_trans_exp)</div>
<div class="line"><span class="lineno"> 1285</span> </div>
<div class="line"><span class="lineno"> 1286</span> </div>
<div class="line"><span class="lineno"> 1287</span><span class="preprocessor">@pytest.mark.parametrize(&quot;imputer_constructor&quot;, [SimpleImputer, IterativeImputer])</span></div>
<div class="line"><span class="lineno"> 1288</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1289</span>    <span class="stringliteral">&quot;imputer_missing_values, missing_value, err_msg&quot;</span>,</div>
<div class="line"><span class="lineno"> 1290</span>    [</div>
<div class="line"><span class="lineno"> 1291</span>        (<span class="stringliteral">&quot;NaN&quot;</span>, np.nan, <span class="stringliteral">&quot;Input X contains NaN&quot;</span>),</div>
<div class="line"><span class="lineno"> 1292</span>        (<span class="stringliteral">&quot;-1&quot;</span>, -1, <span class="stringliteral">&quot;types are expected to be both numerical.&quot;</span>),</div>
<div class="line"><span class="lineno"> 1293</span>    ],</div>
<div class="line"><span class="lineno"> 1294</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1cd7ac705c683c0c2a73c2c8654dce80" name="a1cd7ac705c683c0c2a73c2c8654dce80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cd7ac705c683c0c2a73c2c8654dce80">&#9670;&#160;</a></span>test_most_frequent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_most_frequent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extra_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_repeat</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1503</span><span class="keyword">def </span>test_most_frequent(expected, array, dtype, extra_value, n_repeat):</div>
<div class="line"><span class="lineno"> 1504</span>    <span class="keyword">assert</span> expected == _most_frequent(</div>
<div class="line"><span class="lineno"> 1505</span>        np.array(array, dtype=dtype), extra_value, n_repeat</div>
<div class="line"><span class="lineno"> 1506</span>    )</div>
<div class="line"><span class="lineno"> 1507</span> </div>
<div class="line"><span class="lineno"> 1508</span> </div>
<div class="line"><span class="lineno"> 1509</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1510</span>    <span class="stringliteral">&quot;initial_strategy&quot;</span>, [<span class="stringliteral">&quot;mean&quot;</span>, <span class="stringliteral">&quot;median&quot;</span>, <span class="stringliteral">&quot;most_frequent&quot;</span>, <span class="stringliteral">&quot;constant&quot;</span>]</div>
<div class="line"><span class="lineno"> 1511</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a411f1f3eb293492308dece75db70c22f" name="a411f1f3eb293492308dece75db70c22f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a411f1f3eb293492308dece75db70c22f">&#9670;&#160;</a></span>test_simple_imputation_add_indicator_sparse_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_simple_imputation_add_indicator_sparse_matrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arr_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1351</span><span class="keyword">def </span>test_simple_imputation_add_indicator_sparse_matrix(arr_type):</div>
<div class="line"><span class="lineno"> 1352</span>    X_sparse = arr_type([[np.nan, 1, 5], [2, np.nan, 1], [6, 3, np.nan], [1, 2, 9]])</div>
<div class="line"><span class="lineno"> 1353</span>    X_true = np.array(</div>
<div class="line"><span class="lineno"> 1354</span>        [</div>
<div class="line"><span class="lineno"> 1355</span>            [3.0, 1.0, 5.0, 1.0, 0.0, 0.0],</div>
<div class="line"><span class="lineno"> 1356</span>            [2.0, 2.0, 1.0, 0.0, 1.0, 0.0],</div>
<div class="line"><span class="lineno"> 1357</span>            [6.0, 3.0, 5.0, 0.0, 0.0, 1.0],</div>
<div class="line"><span class="lineno"> 1358</span>            [1.0, 2.0, 9.0, 0.0, 0.0, 0.0],</div>
<div class="line"><span class="lineno"> 1359</span>        ]</div>
<div class="line"><span class="lineno"> 1360</span>    )</div>
<div class="line"><span class="lineno"> 1361</span> </div>
<div class="line"><span class="lineno"> 1362</span>    imputer = SimpleImputer(missing_values=np.nan, add_indicator=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1363</span>    X_trans = imputer.fit_transform(X_sparse)</div>
<div class="line"><span class="lineno"> 1364</span> </div>
<div class="line"><span class="lineno"> 1365</span>    <span class="keyword">assert</span> sparse.issparse(X_trans)</div>
<div class="line"><span class="lineno"> 1366</span>    <span class="keyword">assert</span> X_trans.shape == X_true.shape</div>
<div class="line"><span class="lineno"> 1367</span>    assert_allclose(X_trans.toarray(), X_true)</div>
<div class="line"><span class="lineno"> 1368</span> </div>
<div class="line"><span class="lineno"> 1369</span> </div>
<div class="line"><span class="lineno"> 1370</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1371</span>    <span class="stringliteral">&quot;strategy, expected&quot;</span>, [(<span class="stringliteral">&quot;most_frequent&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>), (<span class="stringliteral">&quot;constant&quot;</span>, <span class="stringliteral">&quot;missing_value&quot;</span>)]</div>
<div class="line"><span class="lineno"> 1372</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a519eb5de7e8be11e704e2c588e7cfec0" name="a519eb5de7e8be11e704e2c588e7cfec0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a519eb5de7e8be11e704e2c588e7cfec0">&#9670;&#160;</a></span>test_simple_imputation_inverse_transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_simple_imputation_inverse_transform </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>missing_value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1406</span><span class="keyword">def </span>test_simple_imputation_inverse_transform(missing_value):</div>
<div class="line"><span class="lineno"> 1407</span>    <span class="comment"># Test inverse_transform feature for np.nan</span></div>
<div class="line"><span class="lineno"> 1408</span>    X_1 = np.array(</div>
<div class="line"><span class="lineno"> 1409</span>        [</div>
<div class="line"><span class="lineno"> 1410</span>            [9, missing_value, 3, -1],</div>
<div class="line"><span class="lineno"> 1411</span>            [4, -1, 5, 4],</div>
<div class="line"><span class="lineno"> 1412</span>            [6, 7, missing_value, -1],</div>
<div class="line"><span class="lineno"> 1413</span>            [8, 9, 0, missing_value],</div>
<div class="line"><span class="lineno"> 1414</span>        ]</div>
<div class="line"><span class="lineno"> 1415</span>    )</div>
<div class="line"><span class="lineno"> 1416</span> </div>
<div class="line"><span class="lineno"> 1417</span>    X_2 = np.array(</div>
<div class="line"><span class="lineno"> 1418</span>        [</div>
<div class="line"><span class="lineno"> 1419</span>            [5, 4, 2, 1],</div>
<div class="line"><span class="lineno"> 1420</span>            [2, 1, missing_value, 3],</div>
<div class="line"><span class="lineno"> 1421</span>            [9, missing_value, 7, 1],</div>
<div class="line"><span class="lineno"> 1422</span>            [6, 4, 2, missing_value],</div>
<div class="line"><span class="lineno"> 1423</span>        ]</div>
<div class="line"><span class="lineno"> 1424</span>    )</div>
<div class="line"><span class="lineno"> 1425</span> </div>
<div class="line"><span class="lineno"> 1426</span>    X_3 = np.array(</div>
<div class="line"><span class="lineno"> 1427</span>        [</div>
<div class="line"><span class="lineno"> 1428</span>            [1, missing_value, 5, 9],</div>
<div class="line"><span class="lineno"> 1429</span>            [missing_value, 4, missing_value, missing_value],</div>
<div class="line"><span class="lineno"> 1430</span>            [2, missing_value, 7, missing_value],</div>
<div class="line"><span class="lineno"> 1431</span>            [missing_value, 3, missing_value, 8],</div>
<div class="line"><span class="lineno"> 1432</span>        ]</div>
<div class="line"><span class="lineno"> 1433</span>    )</div>
<div class="line"><span class="lineno"> 1434</span> </div>
<div class="line"><span class="lineno"> 1435</span>    X_4 = np.array(</div>
<div class="line"><span class="lineno"> 1436</span>        [</div>
<div class="line"><span class="lineno"> 1437</span>            [1, 1, 1, 3],</div>
<div class="line"><span class="lineno"> 1438</span>            [missing_value, 2, missing_value, 1],</div>
<div class="line"><span class="lineno"> 1439</span>            [2, 3, 3, 4],</div>
<div class="line"><span class="lineno"> 1440</span>            [missing_value, 4, missing_value, 2],</div>
<div class="line"><span class="lineno"> 1441</span>        ]</div>
<div class="line"><span class="lineno"> 1442</span>    )</div>
<div class="line"><span class="lineno"> 1443</span> </div>
<div class="line"><span class="lineno"> 1444</span>    imputer = SimpleImputer(</div>
<div class="line"><span class="lineno"> 1445</span>        missing_values=missing_value, strategy=<span class="stringliteral">&quot;mean&quot;</span>, add_indicator=<span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1446</span>    )</div>
<div class="line"><span class="lineno"> 1447</span> </div>
<div class="line"><span class="lineno"> 1448</span>    X_1_trans = imputer.fit_transform(X_1)</div>
<div class="line"><span class="lineno"> 1449</span>    X_1_inv_trans = imputer.inverse_transform(X_1_trans)</div>
<div class="line"><span class="lineno"> 1450</span> </div>
<div class="line"><span class="lineno"> 1451</span>    X_2_trans = imputer.transform(X_2)  <span class="comment"># test on new data</span></div>
<div class="line"><span class="lineno"> 1452</span>    X_2_inv_trans = imputer.inverse_transform(X_2_trans)</div>
<div class="line"><span class="lineno"> 1453</span> </div>
<div class="line"><span class="lineno"> 1454</span>    assert_array_equal(X_1_inv_trans, X_1)</div>
<div class="line"><span class="lineno"> 1455</span>    assert_array_equal(X_2_inv_trans, X_2)</div>
<div class="line"><span class="lineno"> 1456</span> </div>
<div class="line"><span class="lineno"> 1457</span>    <span class="keywordflow">for</span> X <span class="keywordflow">in</span> [X_3, X_4]:</div>
<div class="line"><span class="lineno"> 1458</span>        X_trans = imputer.fit_transform(X)</div>
<div class="line"><span class="lineno"> 1459</span>        X_inv_trans = imputer.inverse_transform(X_trans)</div>
<div class="line"><span class="lineno"> 1460</span>        assert_array_equal(X_inv_trans, X)</div>
<div class="line"><span class="lineno"> 1461</span> </div>
<div class="line"><span class="lineno"> 1462</span> </div>
<div class="line"><span class="lineno"> 1463</span><span class="preprocessor">@pytest.mark.parametrize(&quot;missing_value&quot;, [-1, np.nan])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aff3639d958e7fc3da9d96d306704f5c5" name="aff3639d958e7fc3da9d96d306704f5c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff3639d958e7fc3da9d96d306704f5c5">&#9670;&#160;</a></span>test_simple_imputation_inverse_transform_exceptions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_simple_imputation_inverse_transform_exceptions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>missing_value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1464</span><span class="keyword">def </span>test_simple_imputation_inverse_transform_exceptions(missing_value):</div>
<div class="line"><span class="lineno"> 1465</span>    X_1 = np.array(</div>
<div class="line"><span class="lineno"> 1466</span>        [</div>
<div class="line"><span class="lineno"> 1467</span>            [9, missing_value, 3, -1],</div>
<div class="line"><span class="lineno"> 1468</span>            [4, -1, 5, 4],</div>
<div class="line"><span class="lineno"> 1469</span>            [6, 7, missing_value, -1],</div>
<div class="line"><span class="lineno"> 1470</span>            [8, 9, 0, missing_value],</div>
<div class="line"><span class="lineno"> 1471</span>        ]</div>
<div class="line"><span class="lineno"> 1472</span>    )</div>
<div class="line"><span class="lineno"> 1473</span> </div>
<div class="line"><span class="lineno"> 1474</span>    imputer = SimpleImputer(missing_values=missing_value, strategy=<span class="stringliteral">&quot;mean&quot;</span>)</div>
<div class="line"><span class="lineno"> 1475</span>    X_1_trans = imputer.fit_transform(X_1)</div>
<div class="line"><span class="lineno"> 1476</span>    <span class="keyword">with</span> pytest.raises(</div>
<div class="line"><span class="lineno"> 1477</span>        ValueError, match=f<span class="stringliteral">&quot;Got &#39;add_indicator={imputer.add_indicator}&#39;&quot;</span></div>
<div class="line"><span class="lineno"> 1478</span>    ):</div>
<div class="line"><span class="lineno"> 1479</span>        imputer.inverse_transform(X_1_trans)</div>
<div class="line"><span class="lineno"> 1480</span> </div>
<div class="line"><span class="lineno"> 1481</span> </div>
<div class="line"><span class="lineno"> 1482</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1483</span>    <span class="stringliteral">&quot;expected,array,dtype,extra_value,n_repeat&quot;</span>,</div>
<div class="line"><span class="lineno"> 1484</span>    [</div>
<div class="line"><span class="lineno"> 1485</span>        <span class="comment"># array of object dtype</span></div>
<div class="line"><span class="lineno"> 1486</span>        (<span class="stringliteral">&quot;extra_value&quot;</span>, [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>], object, <span class="stringliteral">&quot;extra_value&quot;</span>, 2),</div>
<div class="line"><span class="lineno"> 1487</span>        (</div>
<div class="line"><span class="lineno"> 1488</span>            <span class="stringliteral">&quot;most_frequent_value&quot;</span>,</div>
<div class="line"><span class="lineno"> 1489</span>            [<span class="stringliteral">&quot;most_frequent_value&quot;</span>, <span class="stringliteral">&quot;most_frequent_value&quot;</span>, <span class="stringliteral">&quot;value&quot;</span>],</div>
<div class="line"><span class="lineno"> 1490</span>            object,</div>
<div class="line"><span class="lineno"> 1491</span>            <span class="stringliteral">&quot;extra_value&quot;</span>,</div>
<div class="line"><span class="lineno"> 1492</span>            1,</div>
<div class="line"><span class="lineno"> 1493</span>        ),</div>
<div class="line"><span class="lineno"> 1494</span>        (<span class="stringliteral">&quot;a&quot;</span>, [<span class="stringliteral">&quot;min_value&quot;</span>, <span class="stringliteral">&quot;min_valuevalue&quot;</span>], object, <span class="stringliteral">&quot;a&quot;</span>, 2),</div>
<div class="line"><span class="lineno"> 1495</span>        (<span class="stringliteral">&quot;min_value&quot;</span>, [<span class="stringliteral">&quot;min_value&quot;</span>, <span class="stringliteral">&quot;min_value&quot;</span>, <span class="stringliteral">&quot;value&quot;</span>], object, <span class="stringliteral">&quot;z&quot;</span>, 2),</div>
<div class="line"><span class="lineno"> 1496</span>        <span class="comment"># array of numeric dtype</span></div>
<div class="line"><span class="lineno"> 1497</span>        (10, [1, 2, 3], int, 10, 2),</div>
<div class="line"><span class="lineno"> 1498</span>        (1, [1, 1, 2], int, 10, 1),</div>
<div class="line"><span class="lineno"> 1499</span>        (10, [20, 20, 1], int, 10, 2),</div>
<div class="line"><span class="lineno"> 1500</span>        (1, [1, 1, 20], int, 10, 2),</div>
<div class="line"><span class="lineno"> 1501</span>    ],</div>
<div class="line"><span class="lineno"> 1502</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7667ee2c8ffbb1986cc99a54d56ca791" name="a7667ee2c8ffbb1986cc99a54d56ca791"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7667ee2c8ffbb1986cc99a54d56ca791">&#9670;&#160;</a></span>test_simple_imputation_string_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_simple_imputation_string_list </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1373</span><span class="keyword">def </span>test_simple_imputation_string_list(strategy, expected):</div>
<div class="line"><span class="lineno"> 1374</span>    X = [[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>], [<span class="stringliteral">&quot;c&quot;</span>, np.nan]]</div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span>    X_true = np.array([[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>], [<span class="stringliteral">&quot;c&quot;</span>, expected]], dtype=object)</div>
<div class="line"><span class="lineno"> 1377</span> </div>
<div class="line"><span class="lineno"> 1378</span>    imputer = SimpleImputer(strategy=strategy)</div>
<div class="line"><span class="lineno"> 1379</span>    X_trans = imputer.fit_transform(X)</div>
<div class="line"><span class="lineno"> 1380</span> </div>
<div class="line"><span class="lineno"> 1381</span>    assert_array_equal(X_trans, X_true)</div>
<div class="line"><span class="lineno"> 1382</span> </div>
<div class="line"><span class="lineno"> 1383</span> </div>
<div class="line"><span class="lineno"> 1384</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1385</span>    <span class="stringliteral">&quot;order, idx_order&quot;</span>,</div>
<div class="line"><span class="lineno"> 1386</span>    [(<span class="stringliteral">&quot;ascending&quot;</span>, [3, 4, 2, 0, 1]), (<span class="stringliteral">&quot;descending&quot;</span>, [1, 0, 2, 4, 3])],</div>
<div class="line"><span class="lineno"> 1387</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="af89452027a6c395a4402517a0beea771" name="af89452027a6c395a4402517a0beea771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af89452027a6c395a4402517a0beea771">&#9670;&#160;</a></span>test_simple_impute_pd_na()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_simple_impute_pd_na </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1543</span><span class="keyword">def </span>test_simple_impute_pd_na():</div>
<div class="line"><span class="lineno"> 1544</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno"> 1545</span> </div>
<div class="line"><span class="lineno"> 1546</span>    <span class="comment"># Impute pandas array of string types.</span></div>
<div class="line"><span class="lineno"> 1547</span>    df = pd.DataFrame({<span class="stringliteral">&quot;feature&quot;</span>: pd.Series([<span class="stringliteral">&quot;abc&quot;</span>, <span class="keywordtype">None</span>, <span class="stringliteral">&quot;de&quot;</span>], dtype=<span class="stringliteral">&quot;string&quot;</span>)})</div>
<div class="line"><span class="lineno"> 1548</span>    imputer = SimpleImputer(missing_values=pd.NA, strategy=<span class="stringliteral">&quot;constant&quot;</span>, fill_value=<span class="stringliteral">&quot;na&quot;</span>)</div>
<div class="line"><span class="lineno"> 1549</span>    _assert_array_equal_and_same_dtype(</div>
<div class="line"><span class="lineno"> 1550</span>        imputer.fit_transform(df), np.array([[<span class="stringliteral">&quot;abc&quot;</span>], [<span class="stringliteral">&quot;na&quot;</span>], [<span class="stringliteral">&quot;de&quot;</span>]], dtype=object)</div>
<div class="line"><span class="lineno"> 1551</span>    )</div>
<div class="line"><span class="lineno"> 1552</span> </div>
<div class="line"><span class="lineno"> 1553</span>    <span class="comment"># Impute pandas array of string types without any missing values.</span></div>
<div class="line"><span class="lineno"> 1554</span>    df = pd.DataFrame({<span class="stringliteral">&quot;feature&quot;</span>: pd.Series([<span class="stringliteral">&quot;abc&quot;</span>, <span class="stringliteral">&quot;de&quot;</span>, <span class="stringliteral">&quot;fgh&quot;</span>], dtype=<span class="stringliteral">&quot;string&quot;</span>)})</div>
<div class="line"><span class="lineno"> 1555</span>    imputer = SimpleImputer(fill_value=<span class="stringliteral">&quot;ok&quot;</span>, strategy=<span class="stringliteral">&quot;constant&quot;</span>)</div>
<div class="line"><span class="lineno"> 1556</span>    _assert_array_equal_and_same_dtype(</div>
<div class="line"><span class="lineno"> 1557</span>        imputer.fit_transform(df), np.array([[<span class="stringliteral">&quot;abc&quot;</span>], [<span class="stringliteral">&quot;de&quot;</span>], [<span class="stringliteral">&quot;fgh&quot;</span>]], dtype=object)</div>
<div class="line"><span class="lineno"> 1558</span>    )</div>
<div class="line"><span class="lineno"> 1559</span> </div>
<div class="line"><span class="lineno"> 1560</span>    <span class="comment"># Impute pandas array of integer types.</span></div>
<div class="line"><span class="lineno"> 1561</span>    df = pd.DataFrame({<span class="stringliteral">&quot;feature&quot;</span>: pd.Series([1, <span class="keywordtype">None</span>, 3], dtype=<span class="stringliteral">&quot;Int64&quot;</span>)})</div>
<div class="line"><span class="lineno"> 1562</span>    imputer = SimpleImputer(missing_values=pd.NA, strategy=<span class="stringliteral">&quot;constant&quot;</span>, fill_value=-1)</div>
<div class="line"><span class="lineno"> 1563</span>    _assert_allclose_and_same_dtype(</div>
<div class="line"><span class="lineno"> 1564</span>        imputer.fit_transform(df), np.array([[1], [-1], [3]], dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno"> 1565</span>    )</div>
<div class="line"><span class="lineno"> 1566</span> </div>
<div class="line"><span class="lineno"> 1567</span>    <span class="comment"># Use `np.nan` also works.</span></div>
<div class="line"><span class="lineno"> 1568</span>    imputer = SimpleImputer(missing_values=np.nan, strategy=<span class="stringliteral">&quot;constant&quot;</span>, fill_value=-1)</div>
<div class="line"><span class="lineno"> 1569</span>    _assert_allclose_and_same_dtype(</div>
<div class="line"><span class="lineno"> 1570</span>        imputer.fit_transform(df), np.array([[1], [-1], [3]], dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno"> 1571</span>    )</div>
<div class="line"><span class="lineno"> 1572</span> </div>
<div class="line"><span class="lineno"> 1573</span>    <span class="comment"># Impute pandas array of integer types with &#39;median&#39; strategy.</span></div>
<div class="line"><span class="lineno"> 1574</span>    df = pd.DataFrame({<span class="stringliteral">&quot;feature&quot;</span>: pd.Series([1, <span class="keywordtype">None</span>, 2, 3], dtype=<span class="stringliteral">&quot;Int64&quot;</span>)})</div>
<div class="line"><span class="lineno"> 1575</span>    imputer = SimpleImputer(missing_values=pd.NA, strategy=<span class="stringliteral">&quot;median&quot;</span>)</div>
<div class="line"><span class="lineno"> 1576</span>    _assert_allclose_and_same_dtype(</div>
<div class="line"><span class="lineno"> 1577</span>        imputer.fit_transform(df), np.array([[1], [2], [2], [3]], dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno"> 1578</span>    )</div>
<div class="line"><span class="lineno"> 1579</span> </div>
<div class="line"><span class="lineno"> 1580</span>    <span class="comment"># Impute pandas array of integer types with &#39;mean&#39; strategy.</span></div>
<div class="line"><span class="lineno"> 1581</span>    df = pd.DataFrame({<span class="stringliteral">&quot;feature&quot;</span>: pd.Series([1, <span class="keywordtype">None</span>, 2], dtype=<span class="stringliteral">&quot;Int64&quot;</span>)})</div>
<div class="line"><span class="lineno"> 1582</span>    imputer = SimpleImputer(missing_values=pd.NA, strategy=<span class="stringliteral">&quot;mean&quot;</span>)</div>
<div class="line"><span class="lineno"> 1583</span>    _assert_allclose_and_same_dtype(</div>
<div class="line"><span class="lineno"> 1584</span>        imputer.fit_transform(df), np.array([[1], [1.5], [2]], dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno"> 1585</span>    )</div>
<div class="line"><span class="lineno"> 1586</span> </div>
<div class="line"><span class="lineno"> 1587</span>    <span class="comment"># Impute pandas array of float types.</span></div>
<div class="line"><span class="lineno"> 1588</span>    df = pd.DataFrame({<span class="stringliteral">&quot;feature&quot;</span>: pd.Series([1.0, <span class="keywordtype">None</span>, 3.0], dtype=<span class="stringliteral">&quot;float64&quot;</span>)})</div>
<div class="line"><span class="lineno"> 1589</span>    imputer = SimpleImputer(missing_values=pd.NA, strategy=<span class="stringliteral">&quot;constant&quot;</span>, fill_value=-2.0)</div>
<div class="line"><span class="lineno"> 1590</span>    _assert_allclose_and_same_dtype(</div>
<div class="line"><span class="lineno"> 1591</span>        imputer.fit_transform(df), np.array([[1.0], [-2.0], [3.0]], dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno"> 1592</span>    )</div>
<div class="line"><span class="lineno"> 1593</span> </div>
<div class="line"><span class="lineno"> 1594</span>    <span class="comment"># Impute pandas array of float types with &#39;median&#39; strategy.</span></div>
<div class="line"><span class="lineno"> 1595</span>    df = pd.DataFrame({<span class="stringliteral">&quot;feature&quot;</span>: pd.Series([1.0, <span class="keywordtype">None</span>, 2.0, 3.0], dtype=<span class="stringliteral">&quot;float64&quot;</span>)})</div>
<div class="line"><span class="lineno"> 1596</span>    imputer = SimpleImputer(missing_values=pd.NA, strategy=<span class="stringliteral">&quot;median&quot;</span>)</div>
<div class="line"><span class="lineno"> 1597</span>    _assert_allclose_and_same_dtype(</div>
<div class="line"><span class="lineno"> 1598</span>        imputer.fit_transform(df),</div>
<div class="line"><span class="lineno"> 1599</span>        np.array([[1.0], [2.0], [2.0], [3.0]], dtype=<span class="stringliteral">&quot;float64&quot;</span>),</div>
<div class="line"><span class="lineno"> 1600</span>    )</div>
<div class="line"><span class="lineno"> 1601</span> </div>
<div class="line"><span class="lineno"> 1602</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af769acbb7a929dccd446efdf42d75d53" name="af769acbb7a929dccd446efdf42d75d53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af769acbb7a929dccd446efdf42d75d53">&#9670;&#160;</a></span>test_simple_imputer_constant_keep_empty_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_simple_imputer_constant_keep_empty_features </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keep_empty_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check the behaviour of `keep_empty_features` with `strategy='constant'.
For backward compatibility, a column full of missing values will always be
fill and never dropped.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1650</span><span class="keyword">def </span>test_simple_imputer_constant_keep_empty_features(array_type, keep_empty_features):</div>
<div class="line"><span class="lineno"> 1651</span>    <span class="stringliteral">&quot;&quot;&quot;Check the behaviour of `keep_empty_features` with `strategy=&#39;constant&#39;.</span></div>
<div class="line"><span class="lineno"> 1652</span><span class="stringliteral">    For backward compatibility, a column full of missing values will always be</span></div>
<div class="line"><span class="lineno"> 1653</span><span class="stringliteral">    fill and never dropped.</span></div>
<div class="line"><span class="lineno"> 1654</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1655</span>    X = np.array([[np.nan, 2], [np.nan, 3], [np.nan, 6]])</div>
<div class="line"><span class="lineno"> 1656</span>    X = _convert_container(X, array_type)</div>
<div class="line"><span class="lineno"> 1657</span>    fill_value = 10</div>
<div class="line"><span class="lineno"> 1658</span>    imputer = SimpleImputer(</div>
<div class="line"><span class="lineno"> 1659</span>        strategy=<span class="stringliteral">&quot;constant&quot;</span>,</div>
<div class="line"><span class="lineno"> 1660</span>        fill_value=fill_value,</div>
<div class="line"><span class="lineno"> 1661</span>        keep_empty_features=keep_empty_features,</div>
<div class="line"><span class="lineno"> 1662</span>    )</div>
<div class="line"><span class="lineno"> 1663</span> </div>
<div class="line"><span class="lineno"> 1664</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;fit_transform&quot;</span>, <span class="stringliteral">&quot;transform&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1665</span>        X_imputed = getattr(imputer, method)(X)</div>
<div class="line"><span class="lineno"> 1666</span>        <span class="keyword">assert</span> X_imputed.shape == X.shape</div>
<div class="line"><span class="lineno"> 1667</span>        constant_feature = (</div>
<div class="line"><span class="lineno"> 1668</span>            X_imputed[:, 0].A <span class="keywordflow">if</span> array_type == <span class="stringliteral">&quot;sparse&quot;</span> <span class="keywordflow">else</span> X_imputed[:, 0]</div>
<div class="line"><span class="lineno"> 1669</span>        )</div>
<div class="line"><span class="lineno"> 1670</span>        assert_array_equal(constant_feature, fill_value)</div>
<div class="line"><span class="lineno"> 1671</span> </div>
<div class="line"><span class="lineno"> 1672</span> </div>
<div class="line"><span class="lineno"> 1673</span><span class="preprocessor">@pytest.mark.parametrize(&quot;array_type&quot;, [&quot;array&quot;, &quot;sparse&quot;])</span></div>
<div class="line"><span class="lineno"> 1674</span><span class="preprocessor">@pytest.mark.parametrize(&quot;strategy&quot;, [&quot;mean&quot;, &quot;median&quot;, &quot;most_frequent&quot;])</span></div>
<div class="line"><span class="lineno"> 1675</span><span class="preprocessor">@pytest.mark.parametrize(&quot;keep_empty_features&quot;, [True, False])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a058b5ba3fe52e83db87f630c8ac6eeef" name="a058b5ba3fe52e83db87f630c8ac6eeef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a058b5ba3fe52e83db87f630c8ac6eeef">&#9670;&#160;</a></span>test_simple_imputer_keep_empty_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.test_simple_imputer_keep_empty_features </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>strategy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keep_empty_features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check the behaviour of `keep_empty_features` with all strategies but
'constant'.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1676</span><span class="keyword">def </span>test_simple_imputer_keep_empty_features(strategy, array_type, keep_empty_features):</div>
<div class="line"><span class="lineno"> 1677</span>    <span class="stringliteral">&quot;&quot;&quot;Check the behaviour of `keep_empty_features` with all strategies but</span></div>
<div class="line"><span class="lineno"> 1678</span><span class="stringliteral">    &#39;constant&#39;.</span></div>
<div class="line"><span class="lineno"> 1679</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1680</span>    X = np.array([[np.nan, 2], [np.nan, 3], [np.nan, 6]])</div>
<div class="line"><span class="lineno"> 1681</span>    X = _convert_container(X, array_type)</div>
<div class="line"><span class="lineno"> 1682</span>    imputer = SimpleImputer(strategy=strategy, keep_empty_features=keep_empty_features)</div>
<div class="line"><span class="lineno"> 1683</span> </div>
<div class="line"><span class="lineno"> 1684</span>    <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;fit_transform&quot;</span>, <span class="stringliteral">&quot;transform&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1685</span>        X_imputed = getattr(imputer, method)(X)</div>
<div class="line"><span class="lineno"> 1686</span>        <span class="keywordflow">if</span> keep_empty_features:</div>
<div class="line"><span class="lineno"> 1687</span>            <span class="keyword">assert</span> X_imputed.shape == X.shape</div>
<div class="line"><span class="lineno"> 1688</span>            constant_feature = (</div>
<div class="line"><span class="lineno"> 1689</span>                X_imputed[:, 0].A <span class="keywordflow">if</span> array_type == <span class="stringliteral">&quot;sparse&quot;</span> <span class="keywordflow">else</span> X_imputed[:, 0]</div>
<div class="line"><span class="lineno"> 1690</span>            )</div>
<div class="line"><span class="lineno"> 1691</span>            assert_array_equal(constant_feature, 0)</div>
<div class="line"><span class="lineno"> 1692</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1693</span>            <span class="keyword">assert</span> X_imputed.shape == (X.shape[0], X.shape[1] - 1)</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="acfc39b2271a8710d751c12447001dc26" name="acfc39b2271a8710d751c12447001dc26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfc39b2271a8710d751c12447001dc26">&#9670;&#160;</a></span>random_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.impute.tests.test_impute.random_state</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
