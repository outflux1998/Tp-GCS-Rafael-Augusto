<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.models.ldamodel Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models.html">models</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models_1_1ldamodel.html">ldamodel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">gensim.models.ldamodel Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html">LdaModel</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_state.html">LdaState</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a06cf15f293cc129c98754db544162977" id="r_a06cf15f293cc129c98754db544162977"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1ldamodel.html#a06cf15f293cc129c98754db544162977">update_dir_prior</a> (prior, N, logphat, <a class="el" href="__lapack__subroutines_8h.html#a9bb256f5d273cef048eb659e4ee52fe2">rho</a>)</td></tr>
<tr class="separator:a06cf15f293cc129c98754db544162977"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a5c1af5353be18de07348a9e82850be82" id="r_a5c1af5353be18de07348a9e82850be82"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacegensim_1_1models_1_1ldamodel.html#a5c1af5353be18de07348a9e82850be82">logger</a> = logging.getLogger(__name__)</td></tr>
<tr class="separator:a5c1af5353be18de07348a9e82850be82"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Optimized `Latent Dirichlet Allocation (LDA) &lt;https://en.wikipedia.org/wiki/Latent_Dirichlet_allocation&gt;` in Python.

For a faster implementation of LDA (parallelized for multicore machines), see also :mod:`gensim.models.ldamulticore`.

This module allows both LDA model estimation from a training corpus and inference of topic
distribution on new, unseen documents. The model can also be updated with new documents
for online training.

The core estimation code is based on the `onlineldavb.py script
&lt;https://github.com/blei-lab/onlineldavb/blob/master/onlineldavb.py&gt;`_, by `Hoffman, Blei, Bach:
Online Learning for Latent Dirichlet Allocation, NIPS 2010 &lt;http://www.cs.princeton.edu/~mdhoffma&gt;`_.

The algorithm:

#. Is **streamed**: training documents may come in sequentially, no random access required.
#. Runs in **constant memory** w.r.t. the number of documents: size of the training corpus does not affect memory
   footprint, can process corpora larger than RAM.
#. Is **distributed**: makes use of a cluster of machines, if available, to speed up model estimation.


Usage examples
--------------

Train an LDA model using a Gensim corpus

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.test.utils import common_texts
    &gt;&gt;&gt; from gensim.corpora.dictionary import Dictionary
    &gt;&gt;&gt;
    &gt;&gt;&gt; # Create a corpus from a list of texts
    &gt;&gt;&gt; common_dictionary = Dictionary(common_texts)
    &gt;&gt;&gt; common_corpus = [common_dictionary.doc2bow(text) for text in common_texts]
    &gt;&gt;&gt;
    &gt;&gt;&gt; # Train the model on the corpus.
    &gt;&gt;&gt; lda = LdaModel(common_corpus, num_topics=10)

Save a model to disk, or reload a pre-trained model

.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.test.utils import datapath
    &gt;&gt;&gt;
    &gt;&gt;&gt; # Save model to disk.
    &gt;&gt;&gt; temp_file = datapath("model")
    &gt;&gt;&gt; lda.save(temp_file)
    &gt;&gt;&gt;
    &gt;&gt;&gt; # Load a potentially pretrained model from disk.
    &gt;&gt;&gt; lda = LdaModel.load(temp_file)

Query, the model using new, unseen documents

.. sourcecode:: pycon

    &gt;&gt;&gt; # Create a new corpus, made of previously unseen documents.
    &gt;&gt;&gt; other_texts = [
    ...     ['computer', 'time', 'graph'],
    ...     ['survey', 'response', 'eps'],
    ...     ['human', 'system', 'computer']
    ... ]
    &gt;&gt;&gt; other_corpus = [common_dictionary.doc2bow(text) for text in other_texts]
    &gt;&gt;&gt;
    &gt;&gt;&gt; unseen_doc = other_corpus[0]
    &gt;&gt;&gt; vector = lda[unseen_doc]  # get topic probability distribution for a document

Update the model by incrementally training on the new corpus

.. sourcecode:: pycon

    &gt;&gt;&gt; lda.update(other_corpus)
    &gt;&gt;&gt; vector = lda[unseen_doc]

A lot of parameters can be tuned to optimize training for your specific case

.. sourcecode:: pycon

    &gt;&gt;&gt; lda = LdaModel(common_corpus, num_topics=50, alpha='auto', eval_every=5)  # learn asymmetric alpha from data</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a06cf15f293cc129c98754db544162977" name="a06cf15f293cc129c98754db544162977"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06cf15f293cc129c98754db544162977">&#9670;&#160;</a></span>update_dir_prior()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.update_dir_prior </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prior</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>N</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logphat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rho</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Update a given prior using Newton's method, described in
`J. Huang: "Maximum Likelihood Estimation of Dirichlet Distribution Parameters"
&lt;http://jonathan-huang.org/research/dirichlet/dirichlet.pdf&gt;`_.

Parameters
----------
prior : list of float
    The prior for each possible outcome at the previous iteration (to be updated).
N : int
    Number of observations.
logphat : list of float
    Log probabilities for the current estimation, also called "observed sufficient statistics".
rho : float
    Learning rate.

Returns
-------
list of float
    The updated prior.</pre> <div class="fragment"><div class="line"><span class="lineno">  110</span><span class="keyword">def </span>update_dir_prior(prior, N, logphat, rho):</div>
<div class="line"><span class="lineno">  111</span>    <span class="stringliteral">&quot;&quot;&quot;Update a given prior using Newton&#39;s method, described in</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">    `J. Huang: &quot;Maximum Likelihood Estimation of Dirichlet Distribution Parameters&quot;</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">    &lt;http://jonathan-huang.org/research/dirichlet/dirichlet.pdf&gt;`_.</span></div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  116</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral">    prior : list of float</span></div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">        The prior for each possible outcome at the previous iteration (to be updated).</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">    N : int</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">        Number of observations.</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">    logphat : list of float</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">        Log probabilities for the current estimation, also called &quot;observed sufficient statistics&quot;.</span></div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">    rho : float</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">        Learning rate.</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">    list of float</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">        The updated prior.</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  132</span>    gradf = N * (psi(np.sum(prior)) - psi(prior) + logphat)</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>    c = N * polygamma(1, np.sum(prior))</div>
<div class="line"><span class="lineno">  135</span>    q = -N * polygamma(1, prior)</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    b = np.sum(gradf / q) / (1 / c + np.sum(1 / q))</div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>    dprior = -(gradf - b) / q</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    updated_prior = rho * dprior + prior</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">if</span> all(updated_prior &gt; 0):</div>
<div class="line"><span class="lineno">  143</span>        prior = updated_prior</div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  145</span>        logger.warning(<span class="stringliteral">&quot;updated prior is not positive&quot;</span>)</div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordflow">return</span> prior</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a5c1af5353be18de07348a9e82850be82" name="a5c1af5353be18de07348a9e82850be82"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c1af5353be18de07348a9e82850be82">&#9670;&#160;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.ldamodel.logger = logging.getLogger(__name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
