<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: whatlies.embeddingset.EmbeddingSet Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacewhatlies.html">whatlies</a></li><li class="navelem"><a class="el" href="namespacewhatlies_1_1embeddingset.html">embeddingset</a></li><li class="navelem"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html">EmbeddingSet</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classwhatlies_1_1embeddingset_1_1_embedding_set-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">whatlies.embeddingset.EmbeddingSet Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aff33fb6ac78531c4b0305800b01830ac" id="r_aff33fb6ac78531c4b0305800b01830ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#aff33fb6ac78531c4b0305800b01830ac">__init__</a> (self, *<a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a704ab5169b267a4000ffc034ecb22b34">embeddings</a>, <a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ade167fa20e08d4eaa324fa3b196d8a02">name</a>=None)</td></tr>
<tr class="separator:aff33fb6ac78531c4b0305800b01830ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d3f87c056e1f8385a18648ef3370608" id="r_a5d3f87c056e1f8385a18648ef3370608"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a5d3f87c056e1f8385a18648ef3370608">ndim</a> (self)</td></tr>
<tr class="separator:a5d3f87c056e1f8385a18648ef3370608"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac44751351919c3b87f69eea2c71f1ef6" id="r_ac44751351919c3b87f69eea2c71f1ef6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ac44751351919c3b87f69eea2c71f1ef6">__contains__</a> (self, item)</td></tr>
<tr class="separator:ac44751351919c3b87f69eea2c71f1ef6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a7318004c3b7e10ad48cf8de3f22f9f" id="r_a5a7318004c3b7e10ad48cf8de3f22f9f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a5a7318004c3b7e10ad48cf8de3f22f9f">__iter__</a> (self)</td></tr>
<tr class="separator:a5a7318004c3b7e10ad48cf8de3f22f9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3483763bc0b90a239768c563d176112" id="r_af3483763bc0b90a239768c563d176112"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#af3483763bc0b90a239768c563d176112">__add__</a> (self, other)</td></tr>
<tr class="separator:af3483763bc0b90a239768c563d176112"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e5fbb64c7aa7447afa8a92cdd9d703c" id="r_a6e5fbb64c7aa7447afa8a92cdd9d703c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a6e5fbb64c7aa7447afa8a92cdd9d703c">__sub__</a> (self, other)</td></tr>
<tr class="separator:a6e5fbb64c7aa7447afa8a92cdd9d703c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade1e2ea983469ecaf9d00b48b9a2610b" id="r_ade1e2ea983469ecaf9d00b48b9a2610b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ade1e2ea983469ecaf9d00b48b9a2610b">__or__</a> (self, other)</td></tr>
<tr class="separator:ade1e2ea983469ecaf9d00b48b9a2610b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8938fe15a212e0aa3c12d71fb6ed9911" id="r_a8938fe15a212e0aa3c12d71fb6ed9911"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a8938fe15a212e0aa3c12d71fb6ed9911">__rshift__</a> (self, other)</td></tr>
<tr class="separator:a8938fe15a212e0aa3c12d71fb6ed9911"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0fa9bf943c71c549631be6ccfcdd571" id="r_af0fa9bf943c71c549631be6ccfcdd571"><td class="memItemLeft" align="right" valign="top">List&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#af0fa9bf943c71c549631be6ccfcdd571">compare_against</a> (self, Union[str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] other, Optional[Callable] mapping=None)</td></tr>
<tr class="separator:af0fa9bf943c71c549631be6ccfcdd571"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab48c35bfc8fda74e4724c535fd4d5769" id="r_ab48c35bfc8fda74e4724c535fd4d5769"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ab48c35bfc8fda74e4724c535fd4d5769">pipe</a> (self, <a class="el" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>, *args, **kwargs)</td></tr>
<tr class="separator:ab48c35bfc8fda74e4724c535fd4d5769"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedf2b4b2ba0b5ba65fd783bcf0e174f2" id="r_aedf2b4b2ba0b5ba65fd783bcf0e174f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#aedf2b4b2ba0b5ba65fd783bcf0e174f2">to_X</a> (self, norm=False)</td></tr>
<tr class="separator:aedf2b4b2ba0b5ba65fd783bcf0e174f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8af9998a823296efda03b74f85455780" id="r_a8af9998a823296efda03b74f85455780"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a8af9998a823296efda03b74f85455780">to_X_y</a> (self, y_label)</td></tr>
<tr class="separator:a8af9998a823296efda03b74f85455780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61ae2f9fd53fd8a878ceb93fdfce345f" id="r_a61ae2f9fd53fd8a878ceb93fdfce345f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a61ae2f9fd53fd8a878ceb93fdfce345f">to_names_X</a> (self)</td></tr>
<tr class="separator:a61ae2f9fd53fd8a878ceb93fdfce345f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e647ea534b8ea46ee78748bda93d49" id="r_a53e647ea534b8ea46ee78748bda93d49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a53e647ea534b8ea46ee78748bda93d49">from_names_X</a> (cls, names, X)</td></tr>
<tr class="separator:a53e647ea534b8ea46ee78748bda93d49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9cb4e14b39f2c414c5b56be2063756e" id="r_ae9cb4e14b39f2c414c5b56be2063756e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ae9cb4e14b39f2c414c5b56be2063756e">transform</a> (self, transformer)</td></tr>
<tr class="separator:ae9cb4e14b39f2c414c5b56be2063756e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a890619614d63e88941977af1f051142f" id="r_a890619614d63e88941977af1f051142f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a890619614d63e88941977af1f051142f">__getitem__</a> (self, thing)</td></tr>
<tr class="separator:a890619614d63e88941977af1f051142f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b544e400b2d884fbe6f245b55078fe0" id="r_a9b544e400b2d884fbe6f245b55078fe0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a9b544e400b2d884fbe6f245b55078fe0">__repr__</a> (self)</td></tr>
<tr class="separator:a9b544e400b2d884fbe6f245b55078fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac787ffbde7bd66f8154a0a956518eebf" id="r_ac787ffbde7bd66f8154a0a956518eebf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ac787ffbde7bd66f8154a0a956518eebf">__str__</a> (self)</td></tr>
<tr class="separator:ac787ffbde7bd66f8154a0a956518eebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3546893ecde0c0d0734851bcb1f812a9" id="r_a3546893ecde0c0d0734851bcb1f812a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a3546893ecde0c0d0734851bcb1f812a9">__len__</a> (self)</td></tr>
<tr class="separator:a3546893ecde0c0d0734851bcb1f812a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd73269c5e08c2fb7601422ec1cd7a36" id="r_acd73269c5e08c2fb7601422ec1cd7a36"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#acd73269c5e08c2fb7601422ec1cd7a36">filter</a> (self, <a class="el" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>)</td></tr>
<tr class="separator:acd73269c5e08c2fb7601422ec1cd7a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace1e0309a7ce56fa8f04a71497bd89d9" id="r_ace1e0309a7ce56fa8f04a71497bd89d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ace1e0309a7ce56fa8f04a71497bd89d9">merge</a> (self, other)</td></tr>
<tr class="separator:ace1e0309a7ce56fa8f04a71497bd89d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b8ea539094928039786ba5f46cf0069" id="r_a2b8ea539094928039786ba5f46cf0069"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a2b8ea539094928039786ba5f46cf0069">assign</a> (self, **kwargs)</td></tr>
<tr class="separator:a2b8ea539094928039786ba5f46cf0069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c828d019cc029f4441bcf6486069219" id="r_a6c828d019cc029f4441bcf6486069219"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a6c828d019cc029f4441bcf6486069219">add_property</a> (self, <a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ade167fa20e08d4eaa324fa3b196d8a02">name</a>, <a class="el" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>)</td></tr>
<tr class="separator:a6c828d019cc029f4441bcf6486069219"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a022e8cafe0b85d8c450093b8c18355b5" id="r_a022e8cafe0b85d8c450093b8c18355b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a022e8cafe0b85d8c450093b8c18355b5">average</a> (self, <a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ade167fa20e08d4eaa324fa3b196d8a02">name</a>=None)</td></tr>
<tr class="separator:a022e8cafe0b85d8c450093b8c18355b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bbe49212e1495f96a0ff7d26587d342" id="r_a4bbe49212e1495f96a0ff7d26587d342"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a4bbe49212e1495f96a0ff7d26587d342">embset_similar</a> (self, Union[str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] emb, int <a class="el" href="__blas__subroutines_8h.html#a25eafceb38c8e75bc60701fea6623f71">n</a>=10, metric=&quot;cosine&quot;)</td></tr>
<tr class="separator:a4bbe49212e1495f96a0ff7d26587d342"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae41dd06fe114ee39fc030da42b62d12c" id="r_ae41dd06fe114ee39fc030da42b62d12c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ae41dd06fe114ee39fc030da42b62d12c">score_similar</a> (self, Union[str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] emb, int <a class="el" href="__blas__subroutines_8h.html#a25eafceb38c8e75bc60701fea6623f71">n</a>=10, metric=&quot;cosine&quot;)</td></tr>
<tr class="separator:ae41dd06fe114ee39fc030da42b62d12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eee4b84950b5b85b5e843df757c2723" id="r_a7eee4b84950b5b85b5e843df757c2723"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a7eee4b84950b5b85b5e843df757c2723">to_matrix</a> (self)</td></tr>
<tr class="separator:a7eee4b84950b5b85b5e843df757c2723"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e0c347a604fb13edf5687ee3a9524d5" id="r_a1e0c347a604fb13edf5687ee3a9524d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a1e0c347a604fb13edf5687ee3a9524d5">to_dataframe</a> (self)</td></tr>
<tr class="separator:a1e0c347a604fb13edf5687ee3a9524d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1c166b4e20ce758f798762f7e255254" id="r_ad1c166b4e20ce758f798762f7e255254"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ad1c166b4e20ce758f798762f7e255254">movement_df</a> (self, other, metric=&quot;euclidean&quot;)</td></tr>
<tr class="separator:ad1c166b4e20ce758f798762f7e255254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab00612e07c915a5b5c84123398ea1359" id="r_ab00612e07c915a5b5c84123398ea1359"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ab00612e07c915a5b5c84123398ea1359">to_axis_df</a> (self, x_axis, y_axis)</td></tr>
<tr class="separator:ab00612e07c915a5b5c84123398ea1359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e5facf508cfb150a8607ec4daf72ae7" id="r_a8e5facf508cfb150a8607ec4daf72ae7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a8e5facf508cfb150a8607ec4daf72ae7">plot</a> (self, str kind=&quot;arrow&quot;, Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] x_axis=0, Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] y_axis=1, Optional[Union[str, Callable, Sequence]] axis_metric=None, Optional[str] x_label=None, Optional[str] y_label=None, Optional[str] title=None, str color=None, bool show_ops=False, bool annot=True, Optional[str] axis_option=None)</td></tr>
<tr class="separator:a8e5facf508cfb150a8607ec4daf72ae7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab772194365c720fac82686af4be6e6b7" id="r_ab772194365c720fac82686af4be6e6b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ab772194365c720fac82686af4be6e6b7">plot_3d</a> (self, Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] x_axis=0, Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] y_axis=1, Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] z_axis=2, Optional[str] x_label=None, Optional[str] y_label=None, Optional[str] z_label=None, Optional[str] title=None, str color=None, Optional[Union[str, Callable, Sequence]] axis_metric=None, bool annot=True)</td></tr>
<tr class="separator:ab772194365c720fac82686af4be6e6b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67ca5a5b7a1c7ee16fd5e48954d620d5" id="r_a67ca5a5b7a1c7ee16fd5e48954d620d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a67ca5a5b7a1c7ee16fd5e48954d620d5">plot_similarity</a> (self, metric=&quot;cosine&quot;, norm=False)</td></tr>
<tr class="separator:a67ca5a5b7a1c7ee16fd5e48954d620d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d09b2989b32df985673b8717e5db7eb" id="r_a2d09b2989b32df985673b8717e5db7eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a2d09b2989b32df985673b8717e5db7eb">plot_distance</a> (self, metric=&quot;cosine&quot;, norm=False)</td></tr>
<tr class="separator:a2d09b2989b32df985673b8717e5db7eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0c64fab68c2e5e0b3424cc0577e5dc8" id="r_ae0c64fab68c2e5e0b3424cc0577e5dc8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ae0c64fab68c2e5e0b3424cc0577e5dc8">plot_pixels</a> (self)</td></tr>
<tr class="separator:ae0c64fab68c2e5e0b3424cc0577e5dc8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c25c06e23dcf871621f20cdbdaf1e19" id="r_a0c25c06e23dcf871621f20cdbdaf1e19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a0c25c06e23dcf871621f20cdbdaf1e19">plot_movement</a> (self, other, Union[str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] x_axis, Union[str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] y_axis, first_group_name=&quot;before&quot;, second_group_name=&quot;after&quot;, bool annot=True)</td></tr>
<tr class="separator:a0c25c06e23dcf871621f20cdbdaf1e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0074b743140bc1a1e8a80fa69417508" id="r_af0074b743140bc1a1e8a80fa69417508"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#af0074b743140bc1a1e8a80fa69417508">plot_interactive</a> (self, Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] x_axis=0, Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] y_axis=1, Optional[Union[str, Callable, Sequence]] axis_metric=None, Optional[str] x_label=None, Optional[str] y_label=None, Optional[str] title=None, bool annot=True, Union[None, str] color=None, bool interactive=True)</td></tr>
<tr class="separator:af0074b743140bc1a1e8a80fa69417508"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c54655f10517bfbb31a4bbe07f1f41d" id="r_a7c54655f10517bfbb31a4bbe07f1f41d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a7c54655f10517bfbb31a4bbe07f1f41d">plot_brush</a> (self, Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] x_axis=0, Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] y_axis=1, Optional[Union[str, Callable, Sequence]] axis_metric=None, Optional[str] x_label=None, Optional[str] y_label=None, Optional[str] title=None, bool annot=False, Union[None, str] color=None, int n_show=15, bool interactive=False)</td></tr>
<tr class="separator:a7c54655f10517bfbb31a4bbe07f1f41d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27607a1be6f3d1273b85ae87513d509d" id="r_a27607a1be6f3d1273b85ae87513d509d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a27607a1be6f3d1273b85ae87513d509d">plot_interactive_matrix</a> (self, *Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] axes, Optional[Union[str, Callable, Sequence]] axes_metric=None, bool annot=True, int width=200, int height=200)</td></tr>
<tr class="separator:a27607a1be6f3d1273b85ae87513d509d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ade167fa20e08d4eaa324fa3b196d8a02" id="r_ade167fa20e08d4eaa324fa3b196d8a02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#ade167fa20e08d4eaa324fa3b196d8a02">name</a></td></tr>
<tr class="separator:ade167fa20e08d4eaa324fa3b196d8a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704ab5169b267a4000ffc034ecb22b34" id="r_a704ab5169b267a4000ffc034ecb22b34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classwhatlies_1_1embeddingset_1_1_embedding_set.html#a704ab5169b267a4000ffc034ecb22b34">embeddings</a></td></tr>
<tr class="separator:a704ab5169b267a4000ffc034ecb22b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">This object represents a set of `Embedding`s. You can use the same operations
as an `Embedding` but here we apply it to the entire set instead of a single
`Embedding`.

**Parameters**

- **embeddings**: list of `Embedding`, or a single dictionary containing name:`Embedding` pairs
- **name**: custom name of embeddingset

Usage:

```python
from whatlies.embedding import Embedding
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3])
bar = Embedding("bar", [0.7, 0.2])
emb = EmbeddingSet(foo, bar)
emb = EmbeddingSet({'foo': foo, 'bar': bar)
```
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aff33fb6ac78531c4b0305800b01830ac" name="aff33fb6ac78531c4b0305800b01830ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff33fb6ac78531c4b0305800b01830ac">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>embeddings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   47</span>    <span class="keyword">def </span>__init__(self, *embeddings, name=None):</div>
<div class="line"><span class="lineno">   48</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> name:</div>
<div class="line"><span class="lineno">   49</span>            name = <span class="stringliteral">&quot;EmbSet&quot;</span></div>
<div class="line"><span class="lineno">   50</span>        self.name = name</div>
<div class="line"><span class="lineno">   51</span>        <span class="keywordflow">if</span> isinstance(embeddings[0], dict):</div>
<div class="line"><span class="lineno">   52</span>            <span class="comment"># Assume it&#39;s a single dictionary.</span></div>
<div class="line"><span class="lineno">   53</span>            self.embeddings = embeddings[0]</div>
<div class="line"><span class="lineno">   54</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   55</span>            <span class="comment"># Assume it&#39;s a list of `Embedding` instances.</span></div>
<div class="line"><span class="lineno">   56</span>            names = [t.name <span class="keywordflow">for</span> t <span class="keywordflow">in</span> embeddings]</div>
<div class="line"><span class="lineno">   57</span>            <span class="keywordflow">if</span> len(names) != len(set(names)):</div>
<div class="line"><span class="lineno">   58</span>                double_names = [k <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> Counter(names).items() <span class="keywordflow">if</span> v &gt; 1]</div>
<div class="line"><span class="lineno">   59</span>                <span class="keywordflow">raise</span> Warning(</div>
<div class="line"><span class="lineno">   60</span>                    f<span class="stringliteral">&quot;Some embeddings given to `EmbeddingSet` have the same name: {double_names}.&quot;</span></div>
<div class="line"><span class="lineno">   61</span>                )</div>
<div class="line"><span class="lineno">   62</span>            self.embeddings = {t.name: t <span class="keywordflow">for</span> t <span class="keywordflow">in</span> embeddings}</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>        <span class="comment"># We cannot allow for different shapes because that will break many operations later.</span></div>
<div class="line"><span class="lineno">   65</span>        uniq_shapes = set(v.vector.shape <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> self.embeddings.items())</div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">if</span> len(uniq_shapes) &gt; 1:</div>
<div class="line"><span class="lineno">   67</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Not all vectors have the same shape.&quot;</span>)</div>
<div class="line"><span class="lineno">   68</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af3483763bc0b90a239768c563d176112" name="af3483763bc0b90a239768c563d176112"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3483763bc0b90a239768c563d176112">&#9670;&#160;</a></span>__add__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.__add__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Adds an embedding to each element in the embeddingset.

Usage:

```python
from whatlies.embedding import Embedding
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3])
bar = Embedding("bar", [0.7, 0.2])
buz = Embedding("buz", [0.1, 0.9])
emb = EmbeddingSet(foo, bar)

(emb).plot(kind="arrow")
(emb + buz).plot(kind="arrow")
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  117</span>    <span class="keyword">def </span>__add__(self, other):</div>
<div class="line"><span class="lineno">  118</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">        Adds an embedding to each element in the embeddingset.</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">        from whatlies.embedding import Embedding</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar)</span></div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">        (emb).plot(kind=&quot;arrow&quot;)</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">        (emb + buz).plot(kind=&quot;arrow&quot;)</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  136</span>        new_embeddings = {k: emb + other <span class="keywordflow">for</span> k, emb <span class="keywordflow">in</span> self.embeddings.items()}</div>
<div class="line"><span class="lineno">  137</span>        <span class="keywordflow">return</span> EmbeddingSet(new_embeddings, name=f<span class="stringliteral">&quot;({self.name} + {other.name})&quot;</span>)</div>
<div class="line"><span class="lineno">  138</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac44751351919c3b87f69eea2c71f1ef6" name="ac44751351919c3b87f69eea2c71f1ef6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac44751351919c3b87f69eea2c71f1ef6">&#9670;&#160;</a></span>__contains__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.__contains__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>item</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Checks if an item is in the embeddingset.

Usage:

```python
from whatlies.embedding import Embedding
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3])
bar = Embedding("bar", [0.7, 0.2])
buz = Embedding("buz", [0.1, 0.9])
emb = EmbeddingSet(foo, bar)

"foo" in emb # True
"dinosaur" in emb # False
```
</pre> <div class="fragment"><div class="line"><span class="lineno">   76</span>    <span class="keyword">def </span>__contains__(self, item):</div>
<div class="line"><span class="lineno">   77</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral">        Checks if an item is in the embeddingset.</span></div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   80</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">   81</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   82</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">   83</span><span class="stringliteral">        from whatlies.embedding import Embedding</span></div>
<div class="line"><span class="lineno">   84</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">   85</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   86</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span></div>
<div class="line"><span class="lineno">   87</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span></div>
<div class="line"><span class="lineno">   88</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar)</span></div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral">        &quot;foo&quot; in emb # True</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">        &quot;dinosaur&quot; in emb # False</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">return</span> item <span class="keywordflow">in</span> self.embeddings.keys()</div>
<div class="line"><span class="lineno">   96</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a890619614d63e88941977af1f051142f" name="a890619614d63e88941977af1f051142f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a890619614d63e88941977af1f051142f">&#9670;&#160;</a></span>__getitem__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.__getitem__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>thing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retreive a single embedding from the embeddingset.

Usage:
```python
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3, 0.10])
bar = Embedding("bar", [0.7, 0.2, 0.11])
buz = Embedding("buz", [0.1, 0.9, 0.12])
emb = EmbeddingSet(foo, bar, buz)

emb["buz"]
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  375</span>    <span class="keyword">def </span>__getitem__(self, thing):</div>
<div class="line"><span class="lineno">  376</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  377</span><span class="stringliteral">        Retreive a single embedding from the embeddingset.</span></div>
<div class="line"><span class="lineno">  378</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  379</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  380</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  381</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  382</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  383</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span></div>
<div class="line"><span class="lineno">  384</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span></div>
<div class="line"><span class="lineno">  385</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9, 0.12])</span></div>
<div class="line"><span class="lineno">  386</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar, buz)</span></div>
<div class="line"><span class="lineno">  387</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  388</span><span class="stringliteral">        emb[&quot;buz&quot;]</span></div>
<div class="line"><span class="lineno">  389</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  390</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">if</span> isinstance(thing, str):</div>
<div class="line"><span class="lineno">  392</span>            <span class="keywordflow">return</span> self.embeddings[thing]</div>
<div class="line"><span class="lineno">  393</span>        new_embeddings = {t: self[t] <span class="keywordflow">for</span> t <span class="keywordflow">in</span> thing}</div>
<div class="line"><span class="lineno">  394</span>        names = <span class="stringliteral">&quot;,&quot;</span>.join(thing)</div>
<div class="line"><span class="lineno">  395</span>        <span class="keywordflow">return</span> EmbeddingSet(new_embeddings, name=f<span class="stringliteral">&quot;{self.name}.subset({names})&quot;</span>)</div>
<div class="line"><span class="lineno">  396</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a7318004c3b7e10ad48cf8de3f22f9f" name="a5a7318004c3b7e10ad48cf8de3f22f9f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a7318004c3b7e10ad48cf8de3f22f9f">&#9670;&#160;</a></span>__iter__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.__iter__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Iterate over all the embeddings in the embeddingset.

Usage:

```python
from whatlies.embedding import Embedding
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3])
bar = Embedding("bar", [0.7, 0.2])
buz = Embedding("buz", [0.1, 0.9])
emb = EmbeddingSet(foo, bar)

[e for e in emb]
```
</pre> <div class="fragment"><div class="line"><span class="lineno">   97</span>    <span class="keyword">def </span>__iter__(self):</div>
<div class="line"><span class="lineno">   98</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">        Iterate over all the embeddings in the embeddingset.</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">        from whatlies.embedding import Embedding</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar)</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">        [e for e in emb]</span></div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  115</span>        <span class="keywordflow">return</span> self.embeddings.values().__iter__()</div>
<div class="line"><span class="lineno">  116</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3546893ecde0c0d0734851bcb1f812a9" name="a3546893ecde0c0d0734851bcb1f812a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3546893ecde0c0d0734851bcb1f812a9">&#9670;&#160;</a></span>__len__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.__len__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  403</span>    <span class="keyword">def </span>__len__(self):</div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">return</span> len(self.embeddings.keys())</div>
<div class="line"><span class="lineno">  405</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ade1e2ea983469ecaf9d00b48b9a2610b" name="ade1e2ea983469ecaf9d00b48b9a2610b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade1e2ea983469ecaf9d00b48b9a2610b">&#9670;&#160;</a></span>__or__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.__or__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Makes every element in the embeddingset othogonal to the passed embedding.

Usage:

```python
from whatlies.embedding import Embedding
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3])
bar = Embedding("bar", [0.7, 0.2])
buz = Embedding("buz", [0.1, 0.9])
emb = EmbeddingSet(foo, bar)

(emb).plot(kind="arrow")
(emb | buz).plot(kind="arrow")
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  161</span>    <span class="keyword">def </span>__or__(self, other):</div>
<div class="line"><span class="lineno">  162</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral">        Makes every element in the embeddingset othogonal to the passed embedding.</span></div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  166</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  167</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  168</span><span class="stringliteral">        from whatlies.embedding import Embedding</span></div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span></div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span></div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar)</span></div>
<div class="line"><span class="lineno">  175</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  176</span><span class="stringliteral">        (emb).plot(kind=&quot;arrow&quot;)</span></div>
<div class="line"><span class="lineno">  177</span><span class="stringliteral">        (emb | buz).plot(kind=&quot;arrow&quot;)</span></div>
<div class="line"><span class="lineno">  178</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  180</span>        new_embeddings = {k: emb | other <span class="keywordflow">for</span> k, emb <span class="keywordflow">in</span> self.embeddings.items()}</div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">return</span> EmbeddingSet(new_embeddings, name=f<span class="stringliteral">&quot;({self.name} | {other.name})&quot;</span>)</div>
<div class="line"><span class="lineno">  182</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b544e400b2d884fbe6f245b55078fe0" name="a9b544e400b2d884fbe6f245b55078fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b544e400b2d884fbe6f245b55078fe0">&#9670;&#160;</a></span>__repr__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.__repr__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  397</span>    <span class="keyword">def </span>__repr__(self):</div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordflow">return</span> self.name</div>
<div class="line"><span class="lineno">  399</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8938fe15a212e0aa3c12d71fb6ed9911" name="a8938fe15a212e0aa3c12d71fb6ed9911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8938fe15a212e0aa3c12d71fb6ed9911">&#9670;&#160;</a></span>__rshift__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.__rshift__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Maps every embedding in the embedding set unto the passed embedding.

Usage:

```python
from whatlies.embedding import Embedding
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3])
bar = Embedding("bar", [0.7, 0.2])
buz = Embedding("buz", [0.1, 0.9])
emb = EmbeddingSet(foo, bar)

(emb).plot(kind="arrow")
(emb &gt;&gt; buz).plot(kind="arrow")
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  183</span>    <span class="keyword">def </span>__rshift__(self, other):</div>
<div class="line"><span class="lineno">  184</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  185</span><span class="stringliteral">        Maps every embedding in the embedding set unto the passed embedding.</span></div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  189</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  190</span><span class="stringliteral">        from whatlies.embedding import Embedding</span></div>
<div class="line"><span class="lineno">  191</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  192</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span></div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span></div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar)</span></div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  198</span><span class="stringliteral">        (emb).plot(kind=&quot;arrow&quot;)</span></div>
<div class="line"><span class="lineno">  199</span><span class="stringliteral">        (emb &gt;&gt; buz).plot(kind=&quot;arrow&quot;)</span></div>
<div class="line"><span class="lineno">  200</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  201</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  202</span>        new_embeddings = {k: emb &gt;&gt; other <span class="keywordflow">for</span> k, emb <span class="keywordflow">in</span> self.embeddings.items()}</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">return</span> EmbeddingSet(new_embeddings, name=f<span class="stringliteral">&quot;({self.name} &gt;&gt; {other.name})&quot;</span>)</div>
<div class="line"><span class="lineno">  204</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac787ffbde7bd66f8154a0a956518eebf" name="ac787ffbde7bd66f8154a0a956518eebf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac787ffbde7bd66f8154a0a956518eebf">&#9670;&#160;</a></span>__str__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.__str__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  400</span>    <span class="keyword">def </span>__str__(self):</div>
<div class="line"><span class="lineno">  401</span>        <span class="keywordflow">return</span> self.name</div>
<div class="line"><span class="lineno">  402</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6e5fbb64c7aa7447afa8a92cdd9d703c" name="a6e5fbb64c7aa7447afa8a92cdd9d703c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e5fbb64c7aa7447afa8a92cdd9d703c">&#9670;&#160;</a></span>__sub__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.__sub__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Subtracts an embedding from each element in the embeddingset.

Usage:

```python
from whatlies.embedding import Embedding
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3])
bar = Embedding("bar", [0.7, 0.2])
buz = Embedding("buz", [0.1, 0.9])
emb = EmbeddingSet(foo, bar)

(emb).plot(kind="arrow")
(emb - buz).plot(kind="arrow")
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  139</span>    <span class="keyword">def </span>__sub__(self, other):</div>
<div class="line"><span class="lineno">  140</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral">        Subtracts an embedding from each element in the embeddingset.</span></div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral">        from whatlies.embedding import Embedding</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span></div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar)</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">        (emb).plot(kind=&quot;arrow&quot;)</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral">        (emb - buz).plot(kind=&quot;arrow&quot;)</span></div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  158</span>        new_embeddings = {k: emb - other <span class="keywordflow">for</span> k, emb <span class="keywordflow">in</span> self.embeddings.items()}</div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordflow">return</span> EmbeddingSet(new_embeddings, name=f<span class="stringliteral">&quot;({self.name} - {other.name})&quot;</span>)</div>
<div class="line"><span class="lineno">  160</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c828d019cc029f4441bcf6486069219" name="a6c828d019cc029f4441bcf6486069219"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c828d019cc029f4441bcf6486069219">&#9670;&#160;</a></span>add_property()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.add_property </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Adds a property to every embedding in the set. Very useful for plotting because
a property can be used to assign colors.

Arguments:
    name: name of the property to add
    func: function that receives an embedding and needs to output the property value

Usage:

```python
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3, 0.10])
bar = Embedding("bar", [0.7, 0.2, 0.11])
emb = EmbeddingSet(foo, bar)
emb_with_property = emb.add_property('example', lambda d: 'group-one')
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  498</span>    <span class="keyword">def </span>add_property(self, name, func):</div>
<div class="line"><span class="lineno">  499</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral">        Adds a property to every embedding in the set. Very useful for plotting because</span></div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">        a property can be used to assign colors.</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">            name: name of the property to add</span></div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral">            func: function that receives an embedding and needs to output the property value</span></div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span></div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span></div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar)</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral">        emb_with_property = emb.add_property(&#39;example&#39;, lambda d: &#39;group-one&#39;)</span></div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  518</span>        <span class="keywordflow">return</span> EmbeddingSet(</div>
<div class="line"><span class="lineno">  519</span>            {k: e.add_property(name, func) <span class="keywordflow">for</span> k, e <span class="keywordflow">in</span> self.embeddings.items()}</div>
<div class="line"><span class="lineno">  520</span>        )</div>
<div class="line"><span class="lineno">  521</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b8ea539094928039786ba5f46cf0069" name="a2b8ea539094928039786ba5f46cf0069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b8ea539094928039786ba5f46cf0069">&#9670;&#160;</a></span>assign()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.assign </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Adds properties to every embedding in the set based on the keyword arguments.

This is very useful for plotting because a property can be used to assign colors. This method is very
similar to `.add_property` but it might be more convenient when you want to assign multiple properties
in one single statement.

Arguments:
    kwargs: (name, func)-pairs that describe the name of the property as well as a value to assign.
        The value can be a single value, iterable or a function. The function expects an `Embedding` object as input.

Usage:

```python
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3, 0.10])
bar = Embedding("bar", [0.7, 0.2, 0.11])
emb = EmbeddingSet(foo, bar)
emb_with_property1 = emb.assign(dim0=lambda d: d.vector[0],
                                dim1=lambda d: d.vector[1],
                                dim2=lambda d: d.vector[2])

emb_with_property2 = emb.assign(group=["foo_grp", "bar_grp"])

emb_with_property3 = emb.assign(constant=1)
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  450</span>    <span class="keyword">def </span>assign(self, **kwargs):</div>
<div class="line"><span class="lineno">  451</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">        Adds properties to every embedding in the set based on the keyword arguments.</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral">        This is very useful for plotting because a property can be used to assign colors. This method is very</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">        similar to `.add_property` but it might be more convenient when you want to assign multiple properties</span></div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral">        in one single statement.</span></div>
<div class="line"><span class="lineno">  457</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  458</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  459</span><span class="stringliteral">            kwargs: (name, func)-pairs that describe the name of the property as well as a value to assign.</span></div>
<div class="line"><span class="lineno">  460</span><span class="stringliteral">                The value can be a single value, iterable or a function. The function expects an `Embedding` object as input.</span></div>
<div class="line"><span class="lineno">  461</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  462</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  463</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  464</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  465</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  466</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  467</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span></div>
<div class="line"><span class="lineno">  468</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span></div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar)</span></div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral">        emb_with_property1 = emb.assign(dim0=lambda d: d.vector[0],</span></div>
<div class="line"><span class="lineno">  471</span><span class="stringliteral">                                        dim1=lambda d: d.vector[1],</span></div>
<div class="line"><span class="lineno">  472</span><span class="stringliteral">                                        dim2=lambda d: d.vector[2])</span></div>
<div class="line"><span class="lineno">  473</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  474</span><span class="stringliteral">        emb_with_property2 = emb.assign(group=[&quot;foo_grp&quot;, &quot;bar_grp&quot;])</span></div>
<div class="line"><span class="lineno">  475</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  476</span><span class="stringliteral">        emb_with_property3 = emb.assign(constant=1)</span></div>
<div class="line"><span class="lineno">  477</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  478</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  479</span>        new_set = {}</div>
<div class="line"><span class="lineno">  480</span>        <span class="keywordflow">for</span> idx, (k, e) <span class="keywordflow">in</span> enumerate(self.embeddings.items()):</div>
<div class="line"><span class="lineno">  481</span>            new_emb = e</div>
<div class="line"><span class="lineno">  482</span>            <span class="keywordflow">for</span> name, val <span class="keywordflow">in</span> kwargs.items():</div>
<div class="line"><span class="lineno">  483</span>                <span class="keywordflow">if</span> callable(val):</div>
<div class="line"><span class="lineno">  484</span>                    new_emb = new_emb.add_property(name, val)</div>
<div class="line"><span class="lineno">  485</span>                <span class="keywordflow">elif</span> hasattr(val, <span class="stringliteral">&quot;__iter__&quot;</span>) <span class="keywordflow">and</span> <span class="keywordflow">not</span> isinstance(val, str):</div>
<div class="line"><span class="lineno">  486</span>                    <span class="comment"># We want to support lists, tuples, numpy arrays but not strings</span></div>
<div class="line"><span class="lineno">  487</span>                    <span class="comment"># those need to be handle as if they&#39;re literals.</span></div>
<div class="line"><span class="lineno">  488</span>                    <span class="keywordflow">if</span> len(val) != len(self):</div>
<div class="line"><span class="lineno">  489</span>                        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  490</span>                            f<span class="stringliteral">&quot;If you&#39;re passing an iterable to `.assign` then it must have the same length as the `EmbeddingSet`.\nGot: {len(val)}. Expected: {len(self)}.&quot;</span></div>
<div class="line"><span class="lineno">  491</span>                        )</div>
<div class="line"><span class="lineno">  492</span>                    new_emb = new_emb.add_property(name, <span class="keyword">lambda</span> d: val[idx])</div>
<div class="line"><span class="lineno">  493</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  494</span>                    new_emb = new_emb.add_property(name, <span class="keyword">lambda</span> d: val)</div>
<div class="line"><span class="lineno">  495</span>            new_set[k] = new_emb</div>
<div class="line"><span class="lineno">  496</span>        <span class="keywordflow">return</span> EmbeddingSet(new_set)</div>
<div class="line"><span class="lineno">  497</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a022e8cafe0b85d8c450093b8c18355b5" name="a022e8cafe0b85d8c450093b8c18355b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a022e8cafe0b85d8c450093b8c18355b5">&#9670;&#160;</a></span>average()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.average </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Takes the average over all the embedding vectors in the embeddingset. Turns it into
a new `Embedding`.

Arguments:
    name: manually specify the name of the average embedding

Usage:

```python
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [1.0, 0.0])
bar = Embedding("bar", [0.0, 1.0])
emb = EmbeddingSet(foo, bar)

emb.average().vector                   # [0.5, 0,5]
emb.average(name="the-average").vector # [0.5, 0.5]
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  522</span>    <span class="keyword">def </span>average(self, name=None):</div>
<div class="line"><span class="lineno">  523</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  524</span><span class="stringliteral">        Takes the average over all the embedding vectors in the embeddingset. Turns it into</span></div>
<div class="line"><span class="lineno">  525</span><span class="stringliteral">        a new `Embedding`.</span></div>
<div class="line"><span class="lineno">  526</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral">            name: manually specify the name of the average embedding</span></div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  532</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  533</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  534</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  535</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [1.0, 0.0])</span></div>
<div class="line"><span class="lineno">  536</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.0, 1.0])</span></div>
<div class="line"><span class="lineno">  537</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar)</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  539</span><span class="stringliteral">        emb.average().vector                   # [0.5, 0,5]</span></div>
<div class="line"><span class="lineno">  540</span><span class="stringliteral">        emb.average(name=&quot;the-average&quot;).vector # [0.5, 0.5]</span></div>
<div class="line"><span class="lineno">  541</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  542</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  543</span>        name = f<span class="stringliteral">&quot;{self.name}.average()&quot;</span> <span class="keywordflow">if</span> <span class="keywordflow">not</span> name <span class="keywordflow">else</span> name</div>
<div class="line"><span class="lineno">  544</span>        x = self.to_X()</div>
<div class="line"><span class="lineno">  545</span>        <span class="keywordflow">return</span> Embedding(name, np.mean(x, axis=0))</div>
<div class="line"><span class="lineno">  546</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af0fa9bf943c71c549631be6ccfcdd571" name="af0fa9bf943c71c549631be6ccfcdd571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0fa9bf943c71c549631be6ccfcdd571">&#9670;&#160;</a></span>compare_against()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List whatlies.embeddingset.EmbeddingSet.compare_against </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>]&#160;</td>
          <td class="paramname"><em>other</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[Callable] &#160;</td>
          <td class="paramname"><em>mapping</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compare (or map) the embeddigns in the embeddingset to a given embedding, optionally using
a custom mapping function.

Arguments:
    other: an `Embedding` instance, or name of an existing embedding; it is used for
        comparison with each embedding in the embeddingset.
    mapping: an optional callable used for for comparison that takes two 1D vector arrays as
        input; if not given, the normalized scalar projection (i.e. `&gt;` operator) is used.
</pre> <div class="fragment"><div class="line"><span class="lineno">  207</span>    ) -&gt; List:</div>
<div class="line"><span class="lineno">  208</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral">        Compare (or map) the embeddigns in the embeddingset to a given embedding, optionally using</span></div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral">        a custom mapping function.</span></div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  212</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral">            other: an `Embedding` instance, or name of an existing embedding; it is used for</span></div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">                comparison with each embedding in the embeddingset.</span></div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral">            mapping: an optional callable used for for comparison that takes two 1D vector arrays as</span></div>
<div class="line"><span class="lineno">  216</span><span class="stringliteral">                input; if not given, the normalized scalar projection (i.e. `&gt;` operator) is used.</span></div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  218</span>        <span class="keywordflow">if</span> isinstance(other, str):</div>
<div class="line"><span class="lineno">  219</span>            other = self[other]</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordflow">if</span> mapping <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  221</span>            <span class="keywordflow">return</span> [v &gt; other <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()]</div>
<div class="line"><span class="lineno">  222</span>        <span class="keywordflow">elif</span> callable(mapping):</div>
<div class="line"><span class="lineno">  223</span>            <span class="keywordflow">return</span> [mapping(v.vector, other.vector) <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()]</div>
<div class="line"><span class="lineno">  224</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  225</span>            <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Unrecognized mapping value/type, got: {mapping}&quot;</span>)</div>
<div class="line"><span class="lineno">  226</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4bbe49212e1495f96a0ff7d26587d342" name="a4bbe49212e1495f96a0ff7d26587d342"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bbe49212e1495f96a0ff7d26587d342">&#9670;&#160;</a></span>embset_similar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.embset_similar </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>]&#160;</td>
          <td class="paramname"><em>emb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>n</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>metric</em> = <code>&quot;cosine&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retreive an [EmbeddingSet][whatlies.embeddingset.EmbeddingSet] that are the most simmilar to the passed query.

Arguments:
    emb: query to use
    n: the number of items you'd like to see returned
    metric: metric to use to calculate distance, must be scipy or sklearn compatible

Returns:
    An [EmbeddingSet][whatlies.embeddingset.EmbeddingSet] containing the similar embeddings.
</pre> <div class="fragment"><div class="line"><span class="lineno">  547</span>    <span class="keyword">def </span>embset_similar(self, emb: Union[str, Embedding], n: int = 10, metric=<span class="stringliteral">&quot;cosine&quot;</span>):</div>
<div class="line"><span class="lineno">  548</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  549</span><span class="stringliteral">        Retreive an [EmbeddingSet][whatlies.embeddingset.EmbeddingSet] that are the most simmilar to the passed query.</span></div>
<div class="line"><span class="lineno">  550</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  551</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  552</span><span class="stringliteral">            emb: query to use</span></div>
<div class="line"><span class="lineno">  553</span><span class="stringliteral">            n: the number of items you&#39;d like to see returned</span></div>
<div class="line"><span class="lineno">  554</span><span class="stringliteral">            metric: metric to use to calculate distance, must be scipy or sklearn compatible</span></div>
<div class="line"><span class="lineno">  555</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  556</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><span class="lineno">  557</span><span class="stringliteral">            An [EmbeddingSet][whatlies.embeddingset.EmbeddingSet] containing the similar embeddings.</span></div>
<div class="line"><span class="lineno">  558</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  559</span>        embs = [w[0] <span class="keywordflow">for</span> w <span class="keywordflow">in</span> self.score_similar(emb, n, metric)]</div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">return</span> EmbeddingSet({w.name: w <span class="keywordflow">for</span> w <span class="keywordflow">in</span> embs})</div>
<div class="line"><span class="lineno">  561</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acd73269c5e08c2fb7601422ec1cd7a36" name="acd73269c5e08c2fb7601422ec1cd7a36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd73269c5e08c2fb7601422ec1cd7a36">&#9670;&#160;</a></span>filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.filter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Filters the collection of embeddings based on a predicate function.

Arguments:
     func: callable that accepts a single embedding and outputs a boolean

```python
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3, 0.10])
bar = Embedding("bar", [0.7, 0.2, 0.11])
buz = Embedding("buz", [0.1, 0.9, 0.12])
xyz = Embedding("xyz", [0.1, 0.9, 0.12])
emb = EmbeddingSet(foo, bar, buz, xyz)
emb.filter(lambda e: "foo" not in e.name)
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  406</span>    <span class="keyword">def </span>filter(self, func):</div>
<div class="line"><span class="lineno">  407</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral">        Filters the collection of embeddings based on a predicate function.</span></div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral">             func: callable that accepts a single embedding and outputs a boolean</span></div>
<div class="line"><span class="lineno">  412</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  413</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  414</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  415</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  416</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span></div>
<div class="line"><span class="lineno">  417</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span></div>
<div class="line"><span class="lineno">  418</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9, 0.12])</span></div>
<div class="line"><span class="lineno">  419</span><span class="stringliteral">        xyz = Embedding(&quot;xyz&quot;, [0.1, 0.9, 0.12])</span></div>
<div class="line"><span class="lineno">  420</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar, buz, xyz)</span></div>
<div class="line"><span class="lineno">  421</span><span class="stringliteral">        emb.filter(lambda e: &quot;foo&quot; not in e.name)</span></div>
<div class="line"><span class="lineno">  422</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  423</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  424</span>        <span class="keywordflow">return</span> EmbeddingSet({k: v <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> self.embeddings.items() <span class="keywordflow">if</span> <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(v)})</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="ttc" id="acallback_2foo_8f_html_a565fe2cc583df102f120752b0011c330"><div class="ttname"><a href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a></div><div class="ttdeci">subroutine func(a)</div><div class="ttdef"><b>Definition</b> foo.f:9</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a53e647ea534b8ea46ee78748bda93d49" name="a53e647ea534b8ea46ee78748bda93d49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53e647ea534b8ea46ee78748bda93d49">&#9670;&#160;</a></span>from_names_X()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.from_names_X </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Constructs an `EmbeddingSet` instance from the given embedding names and vectors.

Arguments:
    names: an iterable containing the names of embeddings
    X: an iterable of 1D vectors, or a 2D numpy array; it should have the same length as `names`

Usage:

```python
from whatlies.embeddingset import EmbeddingSet

names = ["foo", "bar", "buz"]
vecs = [
    [0.1, 0.3],
    [0.7, 0.2],
    [0.1, 0.9],
]

emb = EmbeddingSet.from_names_X(names, vecs)
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  327</span>    <span class="keyword">def </span>from_names_X(cls, names, X):</div>
<div class="line"><span class="lineno">  328</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral">        Constructs an `EmbeddingSet` instance from the given embedding names and vectors.</span></div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral">            names: an iterable containing the names of embeddings</span></div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral">            X: an iterable of 1D vectors, or a 2D numpy array; it should have the same length as `names`</span></div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral">        names = [&quot;foo&quot;, &quot;bar&quot;, &quot;buz&quot;]</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral">        vecs = [</span></div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral">            [0.1, 0.3],</span></div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral">            [0.7, 0.2],</span></div>
<div class="line"><span class="lineno">  344</span><span class="stringliteral">            [0.1, 0.9],</span></div>
<div class="line"><span class="lineno">  345</span><span class="stringliteral">        ]</span></div>
<div class="line"><span class="lineno">  346</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  347</span><span class="stringliteral">        emb = EmbeddingSet.from_names_X(names, vecs)</span></div>
<div class="line"><span class="lineno">  348</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  349</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  350</span>        X = np.array(X)</div>
<div class="line"><span class="lineno">  351</span>        <span class="keywordflow">if</span> len(X) != len(names):</div>
<div class="line"><span class="lineno">  352</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  353</span>                f<span class="stringliteral">&quot;The number of given names ({len(names)}) and vectors ({len(X)}) should be the same.&quot;</span></div>
<div class="line"><span class="lineno">  354</span>            )</div>
<div class="line"><span class="lineno">  355</span>        <span class="keywordflow">return</span> cls({n: Embedding(n, v) <span class="keywordflow">for</span> n, v <span class="keywordflow">in</span> zip(names, X)})</div>
<div class="line"><span class="lineno">  356</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ace1e0309a7ce56fa8f04a71497bd89d9" name="ace1e0309a7ce56fa8f04a71497bd89d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace1e0309a7ce56fa8f04a71497bd89d9">&#9670;&#160;</a></span>merge()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.merge </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Concatenates two embeddingssets together

Arguments:
    other: another embeddingset

Usage:

```python
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3, 0.10])
bar = Embedding("bar", [0.7, 0.2, 0.11])
buz = Embedding("buz", [0.1, 0.9, 0.12])
xyz = Embedding("xyz", [0.1, 0.9, 0.12])
emb1 = EmbeddingSet(foo, bar)
emb2 = EmbeddingSet(xyz, buz)

both = emb1.merge(emb2)
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  426</span>    <span class="keyword">def </span>merge(self, other):</div>
<div class="line"><span class="lineno">  427</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  428</span><span class="stringliteral">        Concatenates two embeddingssets together</span></div>
<div class="line"><span class="lineno">  429</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  430</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  431</span><span class="stringliteral">            other: another embeddingset</span></div>
<div class="line"><span class="lineno">  432</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  433</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  434</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  435</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  436</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  437</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  438</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span></div>
<div class="line"><span class="lineno">  439</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span></div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9, 0.12])</span></div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral">        xyz = Embedding(&quot;xyz&quot;, [0.1, 0.9, 0.12])</span></div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral">        emb1 = EmbeddingSet(foo, bar)</span></div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral">        emb2 = EmbeddingSet(xyz, buz)</span></div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral">        both = emb1.merge(emb2)</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">return</span> EmbeddingSet({**self.embeddings, **other.embeddings})</div>
<div class="line"><span class="lineno">  449</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1c166b4e20ce758f798762f7e255254" name="ad1c166b4e20ce758f798762f7e255254"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1c166b4e20ce758f798762f7e255254">&#9670;&#160;</a></span>movement_df()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.movement_df </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>metric</em> = <code>&quot;euclidean&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates a dataframe that shows the movement from one embeddingset to another one.

Arguments:
    other: the other embeddingset to compare against, will only keep the overlap
    metric: metric to use to calculate movement, must be scipy or sklearn compatible

Usage:

```python
from whatlies.language import SpacyLanguage

lang = SpacyLanguage("en_core_web_sm")

names = ['red', 'blue', 'green', 'yellow', 'cat', 'dog', 'mouse', 'rat', 'bike', 'car']
emb = lang[names]
emb_ort = lang[names] | lang['cat']
emb.movement_df(emb_ort)
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  606</span>    <span class="keyword">def </span>movement_df(self, other, metric=&quot;euclidean&quot;):</div>
<div class="line"><span class="lineno">  607</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  608</span><span class="stringliteral">        Creates a dataframe that shows the movement from one embeddingset to another one.</span></div>
<div class="line"><span class="lineno">  609</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  610</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  611</span><span class="stringliteral">            other: the other embeddingset to compare against, will only keep the overlap</span></div>
<div class="line"><span class="lineno">  612</span><span class="stringliteral">            metric: metric to use to calculate movement, must be scipy or sklearn compatible</span></div>
<div class="line"><span class="lineno">  613</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  614</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  615</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  616</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  617</span><span class="stringliteral">        from whatlies.language import SpacyLanguage</span></div>
<div class="line"><span class="lineno">  618</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  619</span><span class="stringliteral">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span></div>
<div class="line"><span class="lineno">  620</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  621</span><span class="stringliteral">        names = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;, &#39;yellow&#39;, &#39;cat&#39;, &#39;dog&#39;, &#39;mouse&#39;, &#39;rat&#39;, &#39;bike&#39;, &#39;car&#39;]</span></div>
<div class="line"><span class="lineno">  622</span><span class="stringliteral">        emb = lang[names]</span></div>
<div class="line"><span class="lineno">  623</span><span class="stringliteral">        emb_ort = lang[names] | lang[&#39;cat&#39;]</span></div>
<div class="line"><span class="lineno">  624</span><span class="stringliteral">        emb.movement_df(emb_ort)</span></div>
<div class="line"><span class="lineno">  625</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  626</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  627</span>        overlap = list(</div>
<div class="line"><span class="lineno">  628</span>            set(self.embeddings.keys()).intersection(set(other.embeddings.keys()))</div>
<div class="line"><span class="lineno">  629</span>        )</div>
<div class="line"><span class="lineno">  630</span>        mat1 = np.array([w.vector <span class="keywordflow">for</span> w <span class="keywordflow">in</span> self[overlap]])</div>
<div class="line"><span class="lineno">  631</span>        mat2 = np.array([w.vector <span class="keywordflow">for</span> w <span class="keywordflow">in</span> other[overlap]])</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno">  633</span>            pd.DataFrame(</div>
<div class="line"><span class="lineno">  634</span>                {</div>
<div class="line"><span class="lineno">  635</span>                    <span class="stringliteral">&quot;name&quot;</span>: overlap,</div>
<div class="line"><span class="lineno">  636</span>                    <span class="stringliteral">&quot;movement&quot;</span>: paired_distances(mat1, mat2, metric=metric),</div>
<div class="line"><span class="lineno">  637</span>                }</div>
<div class="line"><span class="lineno">  638</span>            )</div>
<div class="line"><span class="lineno">  639</span>            .sort_values([<span class="stringliteral">&quot;movement&quot;</span>], ascending=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  640</span>            .reset_index()</div>
<div class="line"><span class="lineno">  641</span>        )</div>
<div class="line"><span class="lineno">  642</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d3f87c056e1f8385a18648ef3370608" name="a5d3f87c056e1f8385a18648ef3370608"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d3f87c056e1f8385a18648ef3370608">&#9670;&#160;</a></span>ndim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.ndim </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return dimension of embedding vectors in embeddingset.
</pre> <div class="fragment"><div class="line"><span class="lineno">   70</span>    <span class="keyword">def </span>ndim(self):</div>
<div class="line"><span class="lineno">   71</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">        Return dimension of embedding vectors in embeddingset.</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   74</span>        <span class="keywordflow">return</span> next(<a class="code hl_variable" href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a>(self.embeddings.values())).ndim</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_a60590d91febfcb54d88443940cd5f23e"><div class="ttname"><a href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a></div><div class="ttdeci">void int double int double double double double int int * iter</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:623</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab48c35bfc8fda74e4724c535fd4d5769" name="ab48c35bfc8fda74e4724c535fd4d5769"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab48c35bfc8fda74e4724c535fd4d5769">&#9670;&#160;</a></span>pipe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.pipe </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Applies a function to the embedding set. Useful for method chaining and
chunks of code that repeat.

Arguments:
     func: callable that accepts an `EmbeddingSet` set as its first argument
     args: arguments to also pass to the function
     kwargs: keyword arguments to also pass to the function

```python
from whatlies.language import SpacyLanguage, BytePairLanguage

lang_sp = SpacyLanguage("en_core_web_sm")
lang_bp = BytePairLanguage("en", dim=25, vs=1000)

text = ["cat", "dog", "rat", "blue", "red", "yellow"]

def make_plot(embset):
    return (embset
            .plot_interactive("dog", "blue")
            .properties(height=200, width=200))

p1 = lang_sp[text].pipe(make_plot)
p2 = lang_bp[text].pipe(make_plot)
p1 | p2
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  227</span>    <span class="keyword">def </span>pipe(self, func, *args, **kwargs):</div>
<div class="line"><span class="lineno">  228</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  229</span><span class="stringliteral">        Applies a function to the embedding set. Useful for method chaining and</span></div>
<div class="line"><span class="lineno">  230</span><span class="stringliteral">        chunks of code that repeat.</span></div>
<div class="line"><span class="lineno">  231</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  232</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  233</span><span class="stringliteral">             func: callable that accepts an `EmbeddingSet` set as its first argument</span></div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral">             args: arguments to also pass to the function</span></div>
<div class="line"><span class="lineno">  235</span><span class="stringliteral">             kwargs: keyword arguments to also pass to the function</span></div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  238</span><span class="stringliteral">        from whatlies.language import SpacyLanguage, BytePairLanguage</span></div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  240</span><span class="stringliteral">        lang_sp = SpacyLanguage(&quot;en_core_web_sm&quot;)</span></div>
<div class="line"><span class="lineno">  241</span><span class="stringliteral">        lang_bp = BytePairLanguage(&quot;en&quot;, dim=25, vs=1000)</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral">        text = [&quot;cat&quot;, &quot;dog&quot;, &quot;rat&quot;, &quot;blue&quot;, &quot;red&quot;, &quot;yellow&quot;]</span></div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral">        def make_plot(embset):</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral">            return (embset</span></div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral">                    .plot_interactive(&quot;dog&quot;, &quot;blue&quot;)</span></div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">                    .properties(height=200, width=200))</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral">        p1 = lang_sp[text].pipe(make_plot)</span></div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">        p2 = lang_bp[text].pipe(make_plot)</span></div>
<div class="line"><span class="lineno">  252</span><span class="stringliteral">        p1 | p2</span></div>
<div class="line"><span class="lineno">  253</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  254</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  255</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(self, *args, **kwargs)</div>
<div class="line"><span class="lineno">  256</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e5facf508cfb150a8607ec4daf72ae7" name="a8e5facf508cfb150a8607ec4daf72ae7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e5facf508cfb150a8607ec4daf72ae7">&#9670;&#160;</a></span>plot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.plot </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>kind</em> = <code>&quot;arrow&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] &#160;</td>
          <td class="paramname"><em>x_axis</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] &#160;</td>
          <td class="paramname"><em>y_axis</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[Union[str, Callable, Sequence]] &#160;</td>
          <td class="paramname"><em>axis_metric</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>x_label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>y_label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>title</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>color</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>show_ops</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>annot</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>axis_option</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Makes (perhaps inferior) matplotlib plot. Consider using `plot_interactive` instead.

Arguments:
    kind: what kind of plot to make, can be `scatter`, `arrow` or `text`
    x_axis: the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding
        dimension of embedding is used.
    y_axis: the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding
        dimension of embedding is used.
    axis_metric: the metric used to project each embedding on the axes; only used when the corresponding
        axis (i.e. `x_axis` or `y_axis`) is a string or an `Embedding` instance. It could be a string
        (`'cosine_similarity'`, `'cosine_distance'` or `'euclidean'`), or a callable that takes two vectors as input
        and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of
        two elements could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.
    x_label: an optional label used for x-axis; if not given, it is set based on value of `x_axis`.
    y_label: an optional label used for y-axis; if not given, it is set based on value of `y_axis`.
    title: an optional title for the plot.
    color: the color of the dots
    show_ops: setting to also show the applied operations, only works for `text`
    annot: should the points be annotated
    axis_option: a string which is passed as `option` argument to `matplotlib.pyplot.axis` in order to control
        axis properties (e.g. using `'equal'` make circles shown circular in the plot). This might be useful
        for preserving geometric relationships (e.g. orthogonality) in the generated plot. See `matplotlib.pyplot.axis`
        [documentation](https://matplotlib.org/3.1.0/api/_as_gen/matplotlib.pyplot.axis.html#matplotlib-pyplot-axis)
        for possible values and their description.
</pre> <div class="fragment"><div class="line"><span class="lineno">  670</span>    ):</div>
<div class="line"><span class="lineno">  671</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  672</span><span class="stringliteral">        Makes (perhaps inferior) matplotlib plot. Consider using `plot_interactive` instead.</span></div>
<div class="line"><span class="lineno">  673</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  674</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  675</span><span class="stringliteral">            kind: what kind of plot to make, can be `scatter`, `arrow` or `text`</span></div>
<div class="line"><span class="lineno">  676</span><span class="stringliteral">            x_axis: the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span></div>
<div class="line"><span class="lineno">  677</span><span class="stringliteral">                dimension of embedding is used.</span></div>
<div class="line"><span class="lineno">  678</span><span class="stringliteral">            y_axis: the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span></div>
<div class="line"><span class="lineno">  679</span><span class="stringliteral">                dimension of embedding is used.</span></div>
<div class="line"><span class="lineno">  680</span><span class="stringliteral">            axis_metric: the metric used to project each embedding on the axes; only used when the corresponding</span></div>
<div class="line"><span class="lineno">  681</span><span class="stringliteral">                axis (i.e. `x_axis` or `y_axis`) is a string or an `Embedding` instance. It could be a string</span></div>
<div class="line"><span class="lineno">  682</span><span class="stringliteral">                (`&#39;cosine_similarity&#39;`, `&#39;cosine_distance&#39;` or `&#39;euclidean&#39;`), or a callable that takes two vectors as input</span></div>
<div class="line"><span class="lineno">  683</span><span class="stringliteral">                and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of</span></div>
<div class="line"><span class="lineno">  684</span><span class="stringliteral">                two elements could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.</span></div>
<div class="line"><span class="lineno">  685</span><span class="stringliteral">            x_label: an optional label used for x-axis; if not given, it is set based on value of `x_axis`.</span></div>
<div class="line"><span class="lineno">  686</span><span class="stringliteral">            y_label: an optional label used for y-axis; if not given, it is set based on value of `y_axis`.</span></div>
<div class="line"><span class="lineno">  687</span><span class="stringliteral">            title: an optional title for the plot.</span></div>
<div class="line"><span class="lineno">  688</span><span class="stringliteral">            color: the color of the dots</span></div>
<div class="line"><span class="lineno">  689</span><span class="stringliteral">            show_ops: setting to also show the applied operations, only works for `text`</span></div>
<div class="line"><span class="lineno">  690</span><span class="stringliteral">            annot: should the points be annotated</span></div>
<div class="line"><span class="lineno">  691</span><span class="stringliteral">            axis_option: a string which is passed as `option` argument to `matplotlib.pyplot.axis` in order to control</span></div>
<div class="line"><span class="lineno">  692</span><span class="stringliteral">                axis properties (e.g. using `&#39;equal&#39;` make circles shown circular in the plot). This might be useful</span></div>
<div class="line"><span class="lineno">  693</span><span class="stringliteral">                for preserving geometric relationships (e.g. orthogonality) in the generated plot. See `matplotlib.pyplot.axis`</span></div>
<div class="line"><span class="lineno">  694</span><span class="stringliteral">                [documentation](https://matplotlib.org/3.1.0/api/_as_gen/matplotlib.pyplot.axis.html#matplotlib-pyplot-axis)</span></div>
<div class="line"><span class="lineno">  695</span><span class="stringliteral">                for possible values and their description.</span></div>
<div class="line"><span class="lineno">  696</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  697</span>        <span class="keywordflow">if</span> isinstance(x_axis, str):</div>
<div class="line"><span class="lineno">  698</span>            x_axis = self[x_axis]</div>
<div class="line"><span class="lineno">  699</span>        <span class="keywordflow">if</span> isinstance(y_axis, str):</div>
<div class="line"><span class="lineno">  700</span>            y_axis = self[y_axis]</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">if</span> isinstance(axis_metric, (list, tuple)):</div>
<div class="line"><span class="lineno">  703</span>            x_axis_metric = axis_metric[0]</div>
<div class="line"><span class="lineno">  704</span>            y_axis_metric = axis_metric[1]</div>
<div class="line"><span class="lineno">  705</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  706</span>            x_axis_metric = axis_metric</div>
<div class="line"><span class="lineno">  707</span>            y_axis_metric = axis_metric</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>        embeddings = []</div>
<div class="line"><span class="lineno">  710</span>        <span class="keywordflow">for</span> emb <span class="keywordflow">in</span> self.embeddings.values():</div>
<div class="line"><span class="lineno">  711</span>            x_val, x_lab = emb._get_plot_axis_value_and_label(</div>
<div class="line"><span class="lineno">  712</span>                x_axis, x_axis_metric, dir=<span class="stringliteral">&quot;x&quot;</span></div>
<div class="line"><span class="lineno">  713</span>            )</div>
<div class="line"><span class="lineno">  714</span>            y_val, y_lab = emb._get_plot_axis_value_and_label(</div>
<div class="line"><span class="lineno">  715</span>                y_axis, y_axis_metric, dir=<span class="stringliteral">&quot;y&quot;</span></div>
<div class="line"><span class="lineno">  716</span>            )</div>
<div class="line"><span class="lineno">  717</span>            emb_plot = Embedding(name=emb.name, vector=[x_val, y_val], orig=emb.orig)</div>
<div class="line"><span class="lineno">  718</span>            embeddings.append(emb_plot)</div>
<div class="line"><span class="lineno">  719</span>        x_label = x_lab <span class="keywordflow">if</span> x_label <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> x_label</div>
<div class="line"><span class="lineno">  720</span>        y_label = y_lab <span class="keywordflow">if</span> y_label <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> y_label</div>
<div class="line"><span class="lineno">  721</span>        handle_2d_plot(</div>
<div class="line"><span class="lineno">  722</span>            embeddings,</div>
<div class="line"><span class="lineno">  723</span>            kind=kind,</div>
<div class="line"><span class="lineno">  724</span>            color=color,</div>
<div class="line"><span class="lineno">  725</span>            xlabel=x_label,</div>
<div class="line"><span class="lineno">  726</span>            ylabel=y_label,</div>
<div class="line"><span class="lineno">  727</span>            title=title,</div>
<div class="line"><span class="lineno">  728</span>            show_operations=show_ops,</div>
<div class="line"><span class="lineno">  729</span>            annot=annot,</div>
<div class="line"><span class="lineno">  730</span>            axis_option=axis_option,</div>
<div class="line"><span class="lineno">  731</span>        )</div>
<div class="line"><span class="lineno">  732</span>        <span class="keywordflow">return</span> self</div>
<div class="line"><span class="lineno">  733</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab772194365c720fac82686af4be6e6b7" name="ab772194365c720fac82686af4be6e6b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab772194365c720fac82686af4be6e6b7">&#9670;&#160;</a></span>plot_3d()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.plot_3d </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] &#160;</td>
          <td class="paramname"><em>x_axis</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] &#160;</td>
          <td class="paramname"><em>y_axis</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] &#160;</td>
          <td class="paramname"><em>z_axis</em> = <code>2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>x_label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>y_label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>z_label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>title</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>color</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[Union[str, Callable, Sequence]] &#160;</td>
          <td class="paramname"><em>axis_metric</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>annot</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates a 3d visualisation of the embedding.

Arguments:
    x_axis: the x-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding
        dimension of embedding is used.
    y_axis: the y-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding
        dimension of embedding is used.
    z_axis: the z-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding
        dimension of embedding is used.
    x_label: an optional label used for x-axis; if not given, it is set based on value of `x_axis`.
    y_label: an optional label used for y-axis; if not given, it is set based on value of `y_axis`.
    z_label: an optional label used for z-axis; if not given, it is set based on value of `z_axis`.
    title: an optional title for the plot.
    color: the property to user for the color
    axis_metric: the metric used to project each embedding on the axes; only used when the corresponding
        axis is a string or an `Embedding` instance. It could be a string (`'cosine_similarity'`,
        `'cosine_distance'` or `'euclidean'`), or a callable that takes two vectors as input and
        returns a scalar value as output. To set different metrics of the three different axes,
        you can pass a list/tuple of size three that describes the metrics you're interested in.
        By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.
    annot: drawn points should be annotated

**Usage**

```python
from whatlies.language import SpacyLanguage
from whatlies.transformers import Pca

words = ["prince", "princess", "nurse", "doctor", "banker", "man", "woman",
         "cousin", "neice", "king", "queen", "dude", "guy", "gal", "fire",
         "dog", "cat", "mouse", "red", "blue", "green", "yellow", "water",
         "person", "family", "brother", "sister"]

lang = SpacyLanguage("en_core_web_sm")
emb = lang[words]

emb.transform(Pca(3)).plot_3d(annot=True)
emb.transform(Pca(3)).plot_3d("king", "dog", "red")
emb.transform(Pca(3)).plot_3d("king", "dog", "red", axis_metric="cosine_distance")
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  746</span>    ):</div>
<div class="line"><span class="lineno">  747</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  748</span><span class="stringliteral">        Creates a 3d visualisation of the embedding.</span></div>
<div class="line"><span class="lineno">  749</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  750</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  751</span><span class="stringliteral">            x_axis: the x-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding</span></div>
<div class="line"><span class="lineno">  752</span><span class="stringliteral">                dimension of embedding is used.</span></div>
<div class="line"><span class="lineno">  753</span><span class="stringliteral">            y_axis: the y-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding</span></div>
<div class="line"><span class="lineno">  754</span><span class="stringliteral">                dimension of embedding is used.</span></div>
<div class="line"><span class="lineno">  755</span><span class="stringliteral">            z_axis: the z-axis to be used, must be given when dim &gt; 3; if an integer, the corresponding</span></div>
<div class="line"><span class="lineno">  756</span><span class="stringliteral">                dimension of embedding is used.</span></div>
<div class="line"><span class="lineno">  757</span><span class="stringliteral">            x_label: an optional label used for x-axis; if not given, it is set based on value of `x_axis`.</span></div>
<div class="line"><span class="lineno">  758</span><span class="stringliteral">            y_label: an optional label used for y-axis; if not given, it is set based on value of `y_axis`.</span></div>
<div class="line"><span class="lineno">  759</span><span class="stringliteral">            z_label: an optional label used for z-axis; if not given, it is set based on value of `z_axis`.</span></div>
<div class="line"><span class="lineno">  760</span><span class="stringliteral">            title: an optional title for the plot.</span></div>
<div class="line"><span class="lineno">  761</span><span class="stringliteral">            color: the property to user for the color</span></div>
<div class="line"><span class="lineno">  762</span><span class="stringliteral">            axis_metric: the metric used to project each embedding on the axes; only used when the corresponding</span></div>
<div class="line"><span class="lineno">  763</span><span class="stringliteral">                axis is a string or an `Embedding` instance. It could be a string (`&#39;cosine_similarity&#39;`,</span></div>
<div class="line"><span class="lineno">  764</span><span class="stringliteral">                `&#39;cosine_distance&#39;` or `&#39;euclidean&#39;`), or a callable that takes two vectors as input and</span></div>
<div class="line"><span class="lineno">  765</span><span class="stringliteral">                returns a scalar value as output. To set different metrics of the three different axes,</span></div>
<div class="line"><span class="lineno">  766</span><span class="stringliteral">                you can pass a list/tuple of size three that describes the metrics you&#39;re interested in.</span></div>
<div class="line"><span class="lineno">  767</span><span class="stringliteral">                By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.</span></div>
<div class="line"><span class="lineno">  768</span><span class="stringliteral">            annot: drawn points should be annotated</span></div>
<div class="line"><span class="lineno">  769</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  770</span><span class="stringliteral">        **Usage**</span></div>
<div class="line"><span class="lineno">  771</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  772</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  773</span><span class="stringliteral">        from whatlies.language import SpacyLanguage</span></div>
<div class="line"><span class="lineno">  774</span><span class="stringliteral">        from whatlies.transformers import Pca</span></div>
<div class="line"><span class="lineno">  775</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  776</span><span class="stringliteral">        words = [&quot;prince&quot;, &quot;princess&quot;, &quot;nurse&quot;, &quot;doctor&quot;, &quot;banker&quot;, &quot;man&quot;, &quot;woman&quot;,</span></div>
<div class="line"><span class="lineno">  777</span><span class="stringliteral">                 &quot;cousin&quot;, &quot;neice&quot;, &quot;king&quot;, &quot;queen&quot;, &quot;dude&quot;, &quot;guy&quot;, &quot;gal&quot;, &quot;fire&quot;,</span></div>
<div class="line"><span class="lineno">  778</span><span class="stringliteral">                 &quot;dog&quot;, &quot;cat&quot;, &quot;mouse&quot;, &quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;water&quot;,</span></div>
<div class="line"><span class="lineno">  779</span><span class="stringliteral">                 &quot;person&quot;, &quot;family&quot;, &quot;brother&quot;, &quot;sister&quot;]</span></div>
<div class="line"><span class="lineno">  780</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  781</span><span class="stringliteral">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span></div>
<div class="line"><span class="lineno">  782</span><span class="stringliteral">        emb = lang[words]</span></div>
<div class="line"><span class="lineno">  783</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  784</span><span class="stringliteral">        emb.transform(Pca(3)).plot_3d(annot=True)</span></div>
<div class="line"><span class="lineno">  785</span><span class="stringliteral">        emb.transform(Pca(3)).plot_3d(&quot;king&quot;, &quot;dog&quot;, &quot;red&quot;)</span></div>
<div class="line"><span class="lineno">  786</span><span class="stringliteral">        emb.transform(Pca(3)).plot_3d(&quot;king&quot;, &quot;dog&quot;, &quot;red&quot;, axis_metric=&quot;cosine_distance&quot;)</span></div>
<div class="line"><span class="lineno">  787</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  788</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  789</span>        <span class="keywordflow">if</span> isinstance(x_axis, str):</div>
<div class="line"><span class="lineno">  790</span>            x_axis = self[x_axis]</div>
<div class="line"><span class="lineno">  791</span>        <span class="keywordflow">if</span> isinstance(y_axis, str):</div>
<div class="line"><span class="lineno">  792</span>            y_axis = self[y_axis]</div>
<div class="line"><span class="lineno">  793</span>        <span class="keywordflow">if</span> isinstance(z_axis, str):</div>
<div class="line"><span class="lineno">  794</span>            z_axis = self[z_axis]</div>
<div class="line"><span class="lineno">  795</span> </div>
<div class="line"><span class="lineno">  796</span>        <span class="keywordflow">if</span> isinstance(axis_metric, (list, tuple)):</div>
<div class="line"><span class="lineno">  797</span>            x_axis_metric = axis_metric[0]</div>
<div class="line"><span class="lineno">  798</span>            y_axis_metric = axis_metric[1]</div>
<div class="line"><span class="lineno">  799</span>            z_axis_metric = axis_metric[2]</div>
<div class="line"><span class="lineno">  800</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  801</span>            x_axis_metric = axis_metric</div>
<div class="line"><span class="lineno">  802</span>            y_axis_metric = axis_metric</div>
<div class="line"><span class="lineno">  803</span>            z_axis_metric = axis_metric</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>        <span class="comment"># Determine axes values and labels</span></div>
<div class="line"><span class="lineno">  806</span>        <span class="keywordflow">if</span> isinstance(x_axis, int):</div>
<div class="line"><span class="lineno">  807</span>            x_val = self.to_X()[:, x_axis]</div>
<div class="line"><span class="lineno">  808</span>            x_lab = <span class="stringliteral">&quot;Dimension &quot;</span> + str(x_axis)</div>
<div class="line"><span class="lineno">  809</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  810</span>            x_axis_metric = Embedding._get_plot_axis_metric_callable(x_axis_metric)</div>
<div class="line"><span class="lineno">  811</span>            x_val = self.compare_against(x_axis, mapping=x_axis_metric)</div>
<div class="line"><span class="lineno">  812</span>            x_lab = x_axis.name</div>
<div class="line"><span class="lineno">  813</span>        x_lab = x_label <span class="keywordflow">if</span> x_label <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> x_lab</div>
<div class="line"><span class="lineno">  814</span> </div>
<div class="line"><span class="lineno">  815</span>        <span class="keywordflow">if</span> isinstance(y_axis, int):</div>
<div class="line"><span class="lineno">  816</span>            y_val = self.to_X()[:, y_axis]</div>
<div class="line"><span class="lineno">  817</span>            y_lab = <span class="stringliteral">&quot;Dimension &quot;</span> + str(y_axis)</div>
<div class="line"><span class="lineno">  818</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  819</span>            y_axis_metric = Embedding._get_plot_axis_metric_callable(y_axis_metric)</div>
<div class="line"><span class="lineno">  820</span>            y_val = self.compare_against(y_axis, mapping=y_axis_metric)</div>
<div class="line"><span class="lineno">  821</span>            y_lab = y_axis.name</div>
<div class="line"><span class="lineno">  822</span>        y_lab = y_label <span class="keywordflow">if</span> y_label <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> y_lab</div>
<div class="line"><span class="lineno">  823</span> </div>
<div class="line"><span class="lineno">  824</span>        <span class="keywordflow">if</span> isinstance(z_axis, int):</div>
<div class="line"><span class="lineno">  825</span>            z_val = self.to_X()[:, z_axis]</div>
<div class="line"><span class="lineno">  826</span>            z_lab = <span class="stringliteral">&quot;Dimension &quot;</span> + str(z_axis)</div>
<div class="line"><span class="lineno">  827</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  828</span>            z_axis_metric = Embedding._get_plot_axis_metric_callable(z_axis_metric)</div>
<div class="line"><span class="lineno">  829</span>            z_val = self.compare_against(z_axis, mapping=z_axis_metric)</div>
<div class="line"><span class="lineno">  830</span>            z_lab = z_axis.name</div>
<div class="line"><span class="lineno">  831</span>        z_lab = z_label <span class="keywordflow">if</span> z_label <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> z_lab</div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span>        <span class="comment"># Save relevant information in a dataframe for plotting later.</span></div>
<div class="line"><span class="lineno">  834</span>        plot_df = pd.DataFrame(</div>
<div class="line"><span class="lineno">  835</span>            {</div>
<div class="line"><span class="lineno">  836</span>                <span class="stringliteral">&quot;x_axis&quot;</span>: x_val,</div>
<div class="line"><span class="lineno">  837</span>                <span class="stringliteral">&quot;y_axis&quot;</span>: y_val,</div>
<div class="line"><span class="lineno">  838</span>                <span class="stringliteral">&quot;z_axis&quot;</span>: z_val,</div>
<div class="line"><span class="lineno">  839</span>                <span class="stringliteral">&quot;name&quot;</span>: [v.name <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()],</div>
<div class="line"><span class="lineno">  840</span>                <span class="stringliteral">&quot;original&quot;</span>: [v.orig <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()],</div>
<div class="line"><span class="lineno">  841</span>            }</div>
<div class="line"><span class="lineno">  842</span>        )</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>        <span class="comment"># Deal with the colors of the dots.</span></div>
<div class="line"><span class="lineno">  845</span>        <span class="keywordflow">if</span> color:</div>
<div class="line"><span class="lineno">  846</span>            plot_df[<span class="stringliteral">&quot;color&quot;</span>] = [</div>
<div class="line"><span class="lineno">  847</span>                getattr(v, color) <span class="keywordflow">if</span> hasattr(v, color) <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  848</span>                <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()</div>
<div class="line"><span class="lineno">  849</span>            ]</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>            color_map = {k: v <span class="keywordflow">for</span> v, k <span class="keywordflow">in</span> enumerate(set(plot_df[<span class="stringliteral">&quot;color&quot;</span>]))}</div>
<div class="line"><span class="lineno">  852</span>            color_val = [</div>
<div class="line"><span class="lineno">  853</span>                color_map[k] <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(k, float) <span class="keywordflow">else</span> k</div>
<div class="line"><span class="lineno">  854</span>                <span class="keywordflow">for</span> k <span class="keywordflow">in</span> plot_df[<span class="stringliteral">&quot;color&quot;</span>]</div>
<div class="line"><span class="lineno">  855</span>            ]</div>
<div class="line"><span class="lineno">  856</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  857</span>            color_val = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>        ax = plt.axes(projection=<span class="stringliteral">&quot;3d&quot;</span>)</div>
<div class="line"><span class="lineno">  860</span>        ax.scatter3D(</div>
<div class="line"><span class="lineno">  861</span>            plot_df[<span class="stringliteral">&quot;x_axis&quot;</span>], plot_df[<span class="stringliteral">&quot;y_axis&quot;</span>], plot_df[<span class="stringliteral">&quot;z_axis&quot;</span>], c=color_val, s=25</div>
<div class="line"><span class="lineno">  862</span>        )</div>
<div class="line"><span class="lineno">  863</span> </div>
<div class="line"><span class="lineno">  864</span>        <span class="comment"># Set the labels, titles, text annotations.</span></div>
<div class="line"><span class="lineno">  865</span>        ax.set_xlabel(x_lab)</div>
<div class="line"><span class="lineno">  866</span>        ax.set_ylabel(y_lab)</div>
<div class="line"><span class="lineno">  867</span>        ax.set_zlabel(z_lab)</div>
<div class="line"><span class="lineno">  868</span> </div>
<div class="line"><span class="lineno">  869</span>        <span class="keywordflow">if</span> annot:</div>
<div class="line"><span class="lineno">  870</span>            <span class="keywordflow">for</span> i, row <span class="keywordflow">in</span> plot_df.iterrows():</div>
<div class="line"><span class="lineno">  871</span>                ax.text(</div>
<div class="line"><span class="lineno">  872</span>                    row[<span class="stringliteral">&quot;x_axis&quot;</span>], row[<span class="stringliteral">&quot;y_axis&quot;</span>], row[<span class="stringliteral">&quot;z_axis&quot;</span>] + 0.05, row[<span class="stringliteral">&quot;original&quot;</span>]</div>
<div class="line"><span class="lineno">  873</span>                )</div>
<div class="line"><span class="lineno">  874</span>        <span class="keywordflow">if</span> title:</div>
<div class="line"><span class="lineno">  875</span>            ax.set_title(label=title)</div>
<div class="line"><span class="lineno">  876</span>        <span class="keywordflow">return</span> ax</div>
<div class="line"><span class="lineno">  877</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7c54655f10517bfbb31a4bbe07f1f41d" name="a7c54655f10517bfbb31a4bbe07f1f41d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c54655f10517bfbb31a4bbe07f1f41d">&#9670;&#160;</a></span>plot_brush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.plot_brush </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] &#160;</td>
          <td class="paramname"><em>x_axis</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] &#160;</td>
          <td class="paramname"><em>y_axis</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[Union[str, Callable, Sequence]] &#160;</td>
          <td class="paramname"><em>axis_metric</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>x_label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>y_label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>title</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>annot</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[None, str] &#160;</td>
          <td class="paramname"><em>color</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>n_show</em> = <code>15</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>interactive</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Makes an interactive plot with a brush element.

Arguments:
    x_axis: the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding
        dimension of embedding is used.
    y_axis: the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding
        dimension of embedding is used.
    axis_metric: the metric used to project each embedding on the axes; only used when the corresponding
        axis (i.e. `x_axis` or `y_axis`) is a string or an `Embedding` instance. It could be a string
        (`'cosine_similarity'`, `'cosine_distance'` or `'euclidean'`), or a callable that takes two vectors as input
        and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of
        two elements could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.
    x_label: an optional label used for x-axis; if not given, it is set based on `x_axis` value.
    y_label: an optional label used for y-axis; if not given, it is set based on `y_axis` value.
    title: an optional title for the plot; if not given, it is set based on `x_axis` and `y_axis` values.
    annot: drawn points should be annotated
    color: a property that will be used for plotting
    n_show: number of points to show in text selection
    interactive: turn on/off the zoom/panning feature; if turned on, zoom/pan can be triggered when shift key is held

**Usage**

```python
from whatlies.language import SpacyLanguage
from whatlies.transformers import Pca

words = ["prince", "princess", "nurse", "doctor", "banker", "man", "woman",
         "cousin", "neice", "king", "queen", "dude", "guy", "gal", "fire",
         "dog", "cat", "mouse", "red", "blue", "green", "yellow", "water",
         "person", "family", "brother", "sister"]

lang = SpacyLanguage("en_core_web_sm")
emb = lang[words].transform(Pca(2))

emb.plot_brush()
```
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1210</span>    ):</div>
<div class="line"><span class="lineno"> 1211</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1212</span><span class="stringliteral">        Makes an interactive plot with a brush element.</span></div>
<div class="line"><span class="lineno"> 1213</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1214</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno"> 1215</span><span class="stringliteral">            x_axis: the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span></div>
<div class="line"><span class="lineno"> 1216</span><span class="stringliteral">                dimension of embedding is used.</span></div>
<div class="line"><span class="lineno"> 1217</span><span class="stringliteral">            y_axis: the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span></div>
<div class="line"><span class="lineno"> 1218</span><span class="stringliteral">                dimension of embedding is used.</span></div>
<div class="line"><span class="lineno"> 1219</span><span class="stringliteral">            axis_metric: the metric used to project each embedding on the axes; only used when the corresponding</span></div>
<div class="line"><span class="lineno"> 1220</span><span class="stringliteral">                axis (i.e. `x_axis` or `y_axis`) is a string or an `Embedding` instance. It could be a string</span></div>
<div class="line"><span class="lineno"> 1221</span><span class="stringliteral">                (`&#39;cosine_similarity&#39;`, `&#39;cosine_distance&#39;` or `&#39;euclidean&#39;`), or a callable that takes two vectors as input</span></div>
<div class="line"><span class="lineno"> 1222</span><span class="stringliteral">                and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of</span></div>
<div class="line"><span class="lineno"> 1223</span><span class="stringliteral">                two elements could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.</span></div>
<div class="line"><span class="lineno"> 1224</span><span class="stringliteral">            x_label: an optional label used for x-axis; if not given, it is set based on `x_axis` value.</span></div>
<div class="line"><span class="lineno"> 1225</span><span class="stringliteral">            y_label: an optional label used for y-axis; if not given, it is set based on `y_axis` value.</span></div>
<div class="line"><span class="lineno"> 1226</span><span class="stringliteral">            title: an optional title for the plot; if not given, it is set based on `x_axis` and `y_axis` values.</span></div>
<div class="line"><span class="lineno"> 1227</span><span class="stringliteral">            annot: drawn points should be annotated</span></div>
<div class="line"><span class="lineno"> 1228</span><span class="stringliteral">            color: a property that will be used for plotting</span></div>
<div class="line"><span class="lineno"> 1229</span><span class="stringliteral">            n_show: number of points to show in text selection</span></div>
<div class="line"><span class="lineno"> 1230</span><span class="stringliteral">            interactive: turn on/off the zoom/panning feature; if turned on, zoom/pan can be triggered when shift key is held</span></div>
<div class="line"><span class="lineno"> 1231</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1232</span><span class="stringliteral">        **Usage**</span></div>
<div class="line"><span class="lineno"> 1233</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1234</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno"> 1235</span><span class="stringliteral">        from whatlies.language import SpacyLanguage</span></div>
<div class="line"><span class="lineno"> 1236</span><span class="stringliteral">        from whatlies.transformers import Pca</span></div>
<div class="line"><span class="lineno"> 1237</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1238</span><span class="stringliteral">        words = [&quot;prince&quot;, &quot;princess&quot;, &quot;nurse&quot;, &quot;doctor&quot;, &quot;banker&quot;, &quot;man&quot;, &quot;woman&quot;,</span></div>
<div class="line"><span class="lineno"> 1239</span><span class="stringliteral">                 &quot;cousin&quot;, &quot;neice&quot;, &quot;king&quot;, &quot;queen&quot;, &quot;dude&quot;, &quot;guy&quot;, &quot;gal&quot;, &quot;fire&quot;,</span></div>
<div class="line"><span class="lineno"> 1240</span><span class="stringliteral">                 &quot;dog&quot;, &quot;cat&quot;, &quot;mouse&quot;, &quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;water&quot;,</span></div>
<div class="line"><span class="lineno"> 1241</span><span class="stringliteral">                 &quot;person&quot;, &quot;family&quot;, &quot;brother&quot;, &quot;sister&quot;]</span></div>
<div class="line"><span class="lineno"> 1242</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1243</span><span class="stringliteral">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span></div>
<div class="line"><span class="lineno"> 1244</span><span class="stringliteral">        emb = lang[words].transform(Pca(2))</span></div>
<div class="line"><span class="lineno"> 1245</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1246</span><span class="stringliteral">        emb.plot_brush()</span></div>
<div class="line"><span class="lineno"> 1247</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno"> 1248</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1249</span>        <span class="keywordflow">if</span> isinstance(x_axis, str):</div>
<div class="line"><span class="lineno"> 1250</span>            x_axis = self[x_axis]</div>
<div class="line"><span class="lineno"> 1251</span>        <span class="keywordflow">if</span> isinstance(y_axis, str):</div>
<div class="line"><span class="lineno"> 1252</span>            y_axis = self[y_axis]</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span>        <span class="keywordflow">if</span> isinstance(axis_metric, (list, tuple)):</div>
<div class="line"><span class="lineno"> 1255</span>            x_axis_metric = axis_metric[0]</div>
<div class="line"><span class="lineno"> 1256</span>            y_axis_metric = axis_metric[1]</div>
<div class="line"><span class="lineno"> 1257</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1258</span>            x_axis_metric = axis_metric</div>
<div class="line"><span class="lineno"> 1259</span>            y_axis_metric = axis_metric</div>
<div class="line"><span class="lineno"> 1260</span> </div>
<div class="line"><span class="lineno"> 1261</span>        <span class="comment"># Determine axes values and labels</span></div>
<div class="line"><span class="lineno"> 1262</span>        <span class="keywordflow">if</span> isinstance(x_axis, int):</div>
<div class="line"><span class="lineno"> 1263</span>            x_val = self.to_X()[:, x_axis]</div>
<div class="line"><span class="lineno"> 1264</span>            x_lab = <span class="stringliteral">&quot;Dimension &quot;</span> + str(x_axis)</div>
<div class="line"><span class="lineno"> 1265</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1266</span>            x_axis_metric = Embedding._get_plot_axis_metric_callable(x_axis_metric)</div>
<div class="line"><span class="lineno"> 1267</span>            x_val = self.compare_against(x_axis, mapping=x_axis_metric)</div>
<div class="line"><span class="lineno"> 1268</span>            x_lab = x_axis.name</div>
<div class="line"><span class="lineno"> 1269</span> </div>
<div class="line"><span class="lineno"> 1270</span>        <span class="keywordflow">if</span> isinstance(y_axis, int):</div>
<div class="line"><span class="lineno"> 1271</span>            y_val = self.to_X()[:, y_axis]</div>
<div class="line"><span class="lineno"> 1272</span>            y_lab = <span class="stringliteral">&quot;Dimension &quot;</span> + str(y_axis)</div>
<div class="line"><span class="lineno"> 1273</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1274</span>            y_axis_metric = Embedding._get_plot_axis_metric_callable(y_axis_metric)</div>
<div class="line"><span class="lineno"> 1275</span>            y_val = self.compare_against(y_axis, mapping=y_axis_metric)</div>
<div class="line"><span class="lineno"> 1276</span>            y_lab = y_axis.name</div>
<div class="line"><span class="lineno"> 1277</span>        x_label = x_label <span class="keywordflow">if</span> x_label <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> x_lab</div>
<div class="line"><span class="lineno"> 1278</span>        y_label = y_label <span class="keywordflow">if</span> y_label <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> y_lab</div>
<div class="line"><span class="lineno"> 1279</span>        title = title <span class="keywordflow">if</span> title <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> <span class="stringliteral">&quot;Click and Drag Here&quot;</span></div>
<div class="line"><span class="lineno"> 1280</span> </div>
<div class="line"><span class="lineno"> 1281</span>        plot_df = pd.DataFrame(</div>
<div class="line"><span class="lineno"> 1282</span>            {</div>
<div class="line"><span class="lineno"> 1283</span>                <span class="stringliteral">&quot;x_axis&quot;</span>: x_val,</div>
<div class="line"><span class="lineno"> 1284</span>                <span class="stringliteral">&quot;y_axis&quot;</span>: y_val,</div>
<div class="line"><span class="lineno"> 1285</span>                <span class="stringliteral">&quot;name&quot;</span>: [v.name <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()],</div>
<div class="line"><span class="lineno"> 1286</span>                <span class="stringliteral">&quot;original&quot;</span>: [v.orig <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()],</div>
<div class="line"><span class="lineno"> 1287</span>            }</div>
<div class="line"><span class="lineno"> 1288</span>        )</div>
<div class="line"><span class="lineno"> 1289</span> </div>
<div class="line"><span class="lineno"> 1290</span>        <span class="keywordflow">if</span> color:</div>
<div class="line"><span class="lineno"> 1291</span>            plot_df[color] = [</div>
<div class="line"><span class="lineno"> 1292</span>                getattr(v, color) <span class="keywordflow">if</span> hasattr(v, color) <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1293</span>                <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()</div>
<div class="line"><span class="lineno"> 1294</span>            ]</div>
<div class="line"><span class="lineno"> 1295</span> </div>
<div class="line"><span class="lineno"> 1296</span>        result = (</div>
<div class="line"><span class="lineno"> 1297</span>            alt.Chart(plot_df)</div>
<div class="line"><span class="lineno"> 1298</span>            .mark_circle(size=60)</div>
<div class="line"><span class="lineno"> 1299</span>            .encode(</div>
<div class="line"><span class="lineno"> 1300</span>                x=alt.X(<span class="stringliteral">&quot;x_axis&quot;</span>, axis=alt.Axis(title=x_label)),</div>
<div class="line"><span class="lineno"> 1301</span>                y=alt.X(<span class="stringliteral">&quot;y_axis&quot;</span>, axis=alt.Axis(title=y_label)),</div>
<div class="line"><span class="lineno"> 1302</span>                tooltip=[<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;original&quot;</span>],</div>
<div class="line"><span class="lineno"> 1303</span>                color=alt.Color(<span class="stringliteral">&quot;:N&quot;</span>, legend=<span class="keywordtype">None</span>) <span class="keywordflow">if</span> <span class="keywordflow">not</span> color <span class="keywordflow">else</span> alt.Color(color),</div>
<div class="line"><span class="lineno"> 1304</span>            )</div>
<div class="line"><span class="lineno"> 1305</span>            .properties(title=title)</div>
<div class="line"><span class="lineno"> 1306</span>        )</div>
<div class="line"><span class="lineno"> 1307</span> </div>
<div class="line"><span class="lineno"> 1308</span>        <span class="keywordflow">if</span> annot:</div>
<div class="line"><span class="lineno"> 1309</span>            text = (</div>
<div class="line"><span class="lineno"> 1310</span>                alt.Chart(plot_df)</div>
<div class="line"><span class="lineno"> 1311</span>                .mark_text(dx=-15, dy=3, color=<span class="stringliteral">&quot;black&quot;</span>)</div>
<div class="line"><span class="lineno"> 1312</span>                .encode(</div>
<div class="line"><span class="lineno"> 1313</span>                    x=<span class="stringliteral">&quot;x_axis&quot;</span>,</div>
<div class="line"><span class="lineno"> 1314</span>                    y=<span class="stringliteral">&quot;y_axis&quot;</span>,</div>
<div class="line"><span class="lineno"> 1315</span>                    text=<span class="stringliteral">&quot;original&quot;</span>,</div>
<div class="line"><span class="lineno"> 1316</span>                )</div>
<div class="line"><span class="lineno"> 1317</span>            )</div>
<div class="line"><span class="lineno"> 1318</span>            result = result + text</div>
<div class="line"><span class="lineno"> 1319</span> </div>
<div class="line"><span class="lineno"> 1320</span>        brush = alt.selection_interval(</div>
<div class="line"><span class="lineno"> 1321</span>            on=<span class="stringliteral">&quot;[mousedown[!event.shiftKey], mouseup] &gt; mousemove&quot;</span>,</div>
<div class="line"><span class="lineno"> 1322</span>            translate=<span class="stringliteral">&quot;[mousedown[!event.shiftKey], mouseup] &gt; mousemove!&quot;</span>,</div>
<div class="line"><span class="lineno"> 1323</span>        )</div>
<div class="line"><span class="lineno"> 1324</span> </div>
<div class="line"><span class="lineno"> 1325</span>        ranked_text = (</div>
<div class="line"><span class="lineno"> 1326</span>            alt.Chart(plot_df)</div>
<div class="line"><span class="lineno"> 1327</span>            .mark_text()</div>
<div class="line"><span class="lineno"> 1328</span>            .encode(</div>
<div class="line"><span class="lineno"> 1329</span>                y=alt.Y(<span class="stringliteral">&quot;row_number:O&quot;</span>, axis=<span class="keywordtype">None</span>),</div>
<div class="line"><span class="lineno"> 1330</span>                color=alt.Color(<span class="stringliteral">&quot;:N&quot;</span>, legend=<span class="keywordtype">None</span>) <span class="keywordflow">if</span> <span class="keywordflow">not</span> color <span class="keywordflow">else</span> alt.Color(color),</div>
<div class="line"><span class="lineno"> 1331</span>            )</div>
<div class="line"><span class="lineno"> 1332</span>            .transform_window(row_number=<span class="stringliteral">&quot;row_number()&quot;</span>)</div>
<div class="line"><span class="lineno"> 1333</span>            .transform_filter(brush)</div>
<div class="line"><span class="lineno"> 1334</span>            .transform_window(rank=<span class="stringliteral">&quot;rank(row_number)&quot;</span>)</div>
<div class="line"><span class="lineno"> 1335</span>            .transform_filter(alt.datum.rank &lt; n_show)</div>
<div class="line"><span class="lineno"> 1336</span>        )</div>
<div class="line"><span class="lineno"> 1337</span> </div>
<div class="line"><span class="lineno"> 1338</span>        text_plt = ranked_text.encode(text=<span class="stringliteral">&quot;original:N&quot;</span>).properties(</div>
<div class="line"><span class="lineno"> 1339</span>            width=250, title=<span class="stringliteral">&quot;Text Selection&quot;</span></div>
<div class="line"><span class="lineno"> 1340</span>        )</div>
<div class="line"><span class="lineno"> 1341</span> </div>
<div class="line"><span class="lineno"> 1342</span>        <span class="keywordflow">if</span> interactive:</div>
<div class="line"><span class="lineno"> 1343</span>            zoom = alt.selection_interval(</div>
<div class="line"><span class="lineno"> 1344</span>                bind=<span class="stringliteral">&quot;scales&quot;</span>,</div>
<div class="line"><span class="lineno"> 1345</span>                on=<span class="stringliteral">&quot;[mousedown[event.shiftKey], mouseup] &gt; mousemove&quot;</span>,</div>
<div class="line"><span class="lineno"> 1346</span>                translate=<span class="stringliteral">&quot;[mousedown[event.shiftKey], mouseup] &gt; mousemove!&quot;</span>,</div>
<div class="line"><span class="lineno"> 1347</span>            )</div>
<div class="line"><span class="lineno"> 1348</span>            result = result.add_selection(zoom, brush)</div>
<div class="line"><span class="lineno"> 1349</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1350</span>            result = result.add_selection(brush)</div>
<div class="line"><span class="lineno"> 1351</span> </div>
<div class="line"><span class="lineno"> 1352</span>        <span class="keywordflow">return</span> result | text_plt</div>
<div class="line"><span class="lineno"> 1353</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d09b2989b32df985673b8717e5db7eb" name="a2d09b2989b32df985673b8717e5db7eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d09b2989b32df985673b8717e5db7eb">&#9670;&#160;</a></span>plot_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.plot_distance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>metric</em> = <code>&quot;cosine&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>norm</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Make a distance plot. Shows you the distance between all the word embeddings in the set.

Arguments:
    metric: `'cosine'`, `'correlation'` or `'euclidean'`
    norm: normalise the vectors before calculating the distances

Usage:

```python
from whatlies.language import SpacyLanguage
lang = SpacyLanguage("en_core_web_sm")

names = ['red', 'blue', 'green', 'yellow', 'cat', 'dog', 'mouse', 'rat', 'bike', 'car']
emb = lang[names]
emb.plot_distance(metric='cosine')
emb.plot_distance(metric='euclidean')
emb.plot_distance(metric='correlation')
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  921</span>    <span class="keyword">def </span>plot_distance(self, metric=&quot;cosine&quot;, norm=False):</div>
<div class="line"><span class="lineno">  922</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  923</span><span class="stringliteral">        Make a distance plot. Shows you the distance between all the word embeddings in the set.</span></div>
<div class="line"><span class="lineno">  924</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  925</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  926</span><span class="stringliteral">            metric: `&#39;cosine&#39;`, `&#39;correlation&#39;` or `&#39;euclidean&#39;`</span></div>
<div class="line"><span class="lineno">  927</span><span class="stringliteral">            norm: normalise the vectors before calculating the distances</span></div>
<div class="line"><span class="lineno">  928</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  929</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  930</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  931</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  932</span><span class="stringliteral">        from whatlies.language import SpacyLanguage</span></div>
<div class="line"><span class="lineno">  933</span><span class="stringliteral">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span></div>
<div class="line"><span class="lineno">  934</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  935</span><span class="stringliteral">        names = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;, &#39;yellow&#39;, &#39;cat&#39;, &#39;dog&#39;, &#39;mouse&#39;, &#39;rat&#39;, &#39;bike&#39;, &#39;car&#39;]</span></div>
<div class="line"><span class="lineno">  936</span><span class="stringliteral">        emb = lang[names]</span></div>
<div class="line"><span class="lineno">  937</span><span class="stringliteral">        emb.plot_distance(metric=&#39;cosine&#39;)</span></div>
<div class="line"><span class="lineno">  938</span><span class="stringliteral">        emb.plot_distance(metric=&#39;euclidean&#39;)</span></div>
<div class="line"><span class="lineno">  939</span><span class="stringliteral">        emb.plot_distance(metric=&#39;correlation&#39;)</span></div>
<div class="line"><span class="lineno">  940</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  941</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  942</span>        allowed_metrics = [<span class="stringliteral">&quot;cosine&quot;</span>, <span class="stringliteral">&quot;correlation&quot;</span>, <span class="stringliteral">&quot;euclidean&quot;</span>]</div>
<div class="line"><span class="lineno">  943</span>        <span class="keywordflow">if</span> metric <span class="keywordflow">not</span> <span class="keywordflow">in</span> allowed_metrics:</div>
<div class="line"><span class="lineno">  944</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  945</span>                f<span class="stringliteral">&quot;The `metric` argument must be in {allowed_metrics}, got: {metric}.&quot;</span></div>
<div class="line"><span class="lineno">  946</span>            )</div>
<div class="line"><span class="lineno">  947</span> </div>
<div class="line"><span class="lineno">  948</span>        vmin, vmax = 0, 1</div>
<div class="line"><span class="lineno">  949</span>        X = self.to_X(norm=norm)</div>
<div class="line"><span class="lineno">  950</span>        <span class="keywordflow">if</span> metric == <span class="stringliteral">&quot;cosine&quot;</span>:</div>
<div class="line"><span class="lineno">  951</span>            distances = cosine_distances(X)</div>
<div class="line"><span class="lineno">  952</span>        <span class="keywordflow">if</span> metric == <span class="stringliteral">&quot;correlation&quot;</span>:</div>
<div class="line"><span class="lineno">  953</span>            distances = 1 - np.corrcoef(X)</div>
<div class="line"><span class="lineno">  954</span>            vmin, vmax = -1, 1</div>
<div class="line"><span class="lineno">  955</span>        <span class="keywordflow">if</span> metric == <span class="stringliteral">&quot;euclidean&quot;</span>:</div>
<div class="line"><span class="lineno">  956</span>            distances = euclidean_distances(X)</div>
<div class="line"><span class="lineno">  957</span>            vmin, vmax = 0, np.max(distances)</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>        fig, ax = plt.subplots()</div>
<div class="line"><span class="lineno">  960</span>        plt.imshow(distances, cmap=plt.cm.get_cmap().reversed(), vmin=vmin, vmax=vmax)</div>
<div class="line"><span class="lineno">  961</span>        plt.xticks(range(len(self)), self.embeddings.keys())</div>
<div class="line"><span class="lineno">  962</span>        plt.yticks(range(len(self)), self.embeddings.keys())</div>
<div class="line"><span class="lineno">  963</span>        plt.colorbar()</div>
<div class="line"><span class="lineno">  964</span> </div>
<div class="line"><span class="lineno">  965</span>        <span class="comment"># Rotate the tick labels and set their alignment.</span></div>
<div class="line"><span class="lineno">  966</span>        plt.setp(ax.get_xticklabels(), rotation=90, ha=<span class="stringliteral">&quot;right&quot;</span>, rotation_mode=<span class="stringliteral">&quot;anchor&quot;</span>)</div>
<div class="line"><span class="lineno">  967</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af0074b743140bc1a1e8a80fa69417508" name="af0074b743140bc1a1e8a80fa69417508"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0074b743140bc1a1e8a80fa69417508">&#9670;&#160;</a></span>plot_interactive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.plot_interactive </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] &#160;</td>
          <td class="paramname"><em>x_axis</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>] &#160;</td>
          <td class="paramname"><em>y_axis</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[Union[str, Callable, Sequence]] &#160;</td>
          <td class="paramname"><em>axis_metric</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>x_label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>y_label</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>title</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>annot</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[None, str] &#160;</td>
          <td class="paramname"><em>color</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>interactive</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Makes highly interactive plot of the set of embeddings.

Arguments:
    x_axis: the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding
        dimension of embedding is used.
    y_axis: the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding
        dimension of embedding is used.
    axis_metric: the metric used to project each embedding on the axes; only used when the corresponding
        axis (i.e. `x_axis` or `y_axis`) is a string or an `Embedding` instance. It could be a string
        (`'cosine_similarity'`, `'cosine_distance'` or `'euclidean'`), or a callable that takes two vectors as input
        and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of
        two elements could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.
    x_label: an optional label used for x-axis; if not given, it is set based on `x_axis` value.
    y_label: an optional label used for y-axis; if not given, it is set based on `y_axis` value.
    title: an optional title for the plot; if not given, it is set based on `x_axis` and `y_axis` values.
    annot: drawn points should be annotated
    color: a property that will be used for plotting
    interactive: turn on/off the zoom/panning feature

**Usage**

```python
from whatlies.language import SpacyLanguage

words = ["prince", "princess", "nurse", "doctor", "banker", "man", "woman",
         "cousin", "neice", "king", "queen", "dude", "guy", "gal", "fire",
         "dog", "cat", "mouse", "red", "blue", "green", "yellow", "water",
         "person", "family", "brother", "sister"]

lang = SpacyLanguage("en_core_web_sm")
emb = lang[words]

emb.plot_interactive('man', 'woman')
```
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1087</span>    ):</div>
<div class="line"><span class="lineno"> 1088</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1089</span><span class="stringliteral">        Makes highly interactive plot of the set of embeddings.</span></div>
<div class="line"><span class="lineno"> 1090</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1091</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno"> 1092</span><span class="stringliteral">            x_axis: the x-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span></div>
<div class="line"><span class="lineno"> 1093</span><span class="stringliteral">                dimension of embedding is used.</span></div>
<div class="line"><span class="lineno"> 1094</span><span class="stringliteral">            y_axis: the y-axis to be used, must be given when dim &gt; 2; if an integer, the corresponding</span></div>
<div class="line"><span class="lineno"> 1095</span><span class="stringliteral">                dimension of embedding is used.</span></div>
<div class="line"><span class="lineno"> 1096</span><span class="stringliteral">            axis_metric: the metric used to project each embedding on the axes; only used when the corresponding</span></div>
<div class="line"><span class="lineno"> 1097</span><span class="stringliteral">                axis (i.e. `x_axis` or `y_axis`) is a string or an `Embedding` instance. It could be a string</span></div>
<div class="line"><span class="lineno"> 1098</span><span class="stringliteral">                (`&#39;cosine_similarity&#39;`, `&#39;cosine_distance&#39;` or `&#39;euclidean&#39;`), or a callable that takes two vectors as input</span></div>
<div class="line"><span class="lineno"> 1099</span><span class="stringliteral">                and returns a scalar value as output. To set different metrics for x- and y-axis, a list or a tuple of</span></div>
<div class="line"><span class="lineno"> 1100</span><span class="stringliteral">                two elements could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.</span></div>
<div class="line"><span class="lineno"> 1101</span><span class="stringliteral">            x_label: an optional label used for x-axis; if not given, it is set based on `x_axis` value.</span></div>
<div class="line"><span class="lineno"> 1102</span><span class="stringliteral">            y_label: an optional label used for y-axis; if not given, it is set based on `y_axis` value.</span></div>
<div class="line"><span class="lineno"> 1103</span><span class="stringliteral">            title: an optional title for the plot; if not given, it is set based on `x_axis` and `y_axis` values.</span></div>
<div class="line"><span class="lineno"> 1104</span><span class="stringliteral">            annot: drawn points should be annotated</span></div>
<div class="line"><span class="lineno"> 1105</span><span class="stringliteral">            color: a property that will be used for plotting</span></div>
<div class="line"><span class="lineno"> 1106</span><span class="stringliteral">            interactive: turn on/off the zoom/panning feature</span></div>
<div class="line"><span class="lineno"> 1107</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1108</span><span class="stringliteral">        **Usage**</span></div>
<div class="line"><span class="lineno"> 1109</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1110</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno"> 1111</span><span class="stringliteral">        from whatlies.language import SpacyLanguage</span></div>
<div class="line"><span class="lineno"> 1112</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1113</span><span class="stringliteral">        words = [&quot;prince&quot;, &quot;princess&quot;, &quot;nurse&quot;, &quot;doctor&quot;, &quot;banker&quot;, &quot;man&quot;, &quot;woman&quot;,</span></div>
<div class="line"><span class="lineno"> 1114</span><span class="stringliteral">                 &quot;cousin&quot;, &quot;neice&quot;, &quot;king&quot;, &quot;queen&quot;, &quot;dude&quot;, &quot;guy&quot;, &quot;gal&quot;, &quot;fire&quot;,</span></div>
<div class="line"><span class="lineno"> 1115</span><span class="stringliteral">                 &quot;dog&quot;, &quot;cat&quot;, &quot;mouse&quot;, &quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;water&quot;,</span></div>
<div class="line"><span class="lineno"> 1116</span><span class="stringliteral">                 &quot;person&quot;, &quot;family&quot;, &quot;brother&quot;, &quot;sister&quot;]</span></div>
<div class="line"><span class="lineno"> 1117</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1118</span><span class="stringliteral">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span></div>
<div class="line"><span class="lineno"> 1119</span><span class="stringliteral">        emb = lang[words]</span></div>
<div class="line"><span class="lineno"> 1120</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1121</span><span class="stringliteral">        emb.plot_interactive(&#39;man&#39;, &#39;woman&#39;)</span></div>
<div class="line"><span class="lineno"> 1122</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno"> 1123</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1124</span>        <span class="keywordflow">if</span> isinstance(x_axis, str):</div>
<div class="line"><span class="lineno"> 1125</span>            x_axis = self[x_axis]</div>
<div class="line"><span class="lineno"> 1126</span>        <span class="keywordflow">if</span> isinstance(y_axis, str):</div>
<div class="line"><span class="lineno"> 1127</span>            y_axis = self[y_axis]</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>        <span class="keywordflow">if</span> isinstance(axis_metric, (list, tuple)):</div>
<div class="line"><span class="lineno"> 1130</span>            x_axis_metric = axis_metric[0]</div>
<div class="line"><span class="lineno"> 1131</span>            y_axis_metric = axis_metric[1]</div>
<div class="line"><span class="lineno"> 1132</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1133</span>            x_axis_metric = axis_metric</div>
<div class="line"><span class="lineno"> 1134</span>            y_axis_metric = axis_metric</div>
<div class="line"><span class="lineno"> 1135</span> </div>
<div class="line"><span class="lineno"> 1136</span>        <span class="comment"># Determine axes values and labels</span></div>
<div class="line"><span class="lineno"> 1137</span>        <span class="keywordflow">if</span> isinstance(x_axis, int):</div>
<div class="line"><span class="lineno"> 1138</span>            x_val = self.to_X()[:, x_axis]</div>
<div class="line"><span class="lineno"> 1139</span>            x_lab = <span class="stringliteral">&quot;Dimension &quot;</span> + str(x_axis)</div>
<div class="line"><span class="lineno"> 1140</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1141</span>            x_axis_metric = Embedding._get_plot_axis_metric_callable(x_axis_metric)</div>
<div class="line"><span class="lineno"> 1142</span>            x_val = self.compare_against(x_axis, mapping=x_axis_metric)</div>
<div class="line"><span class="lineno"> 1143</span>            x_lab = x_axis.name</div>
<div class="line"><span class="lineno"> 1144</span> </div>
<div class="line"><span class="lineno"> 1145</span>        <span class="keywordflow">if</span> isinstance(y_axis, int):</div>
<div class="line"><span class="lineno"> 1146</span>            y_val = self.to_X()[:, y_axis]</div>
<div class="line"><span class="lineno"> 1147</span>            y_lab = <span class="stringliteral">&quot;Dimension &quot;</span> + str(y_axis)</div>
<div class="line"><span class="lineno"> 1148</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1149</span>            y_axis_metric = Embedding._get_plot_axis_metric_callable(y_axis_metric)</div>
<div class="line"><span class="lineno"> 1150</span>            y_val = self.compare_against(y_axis, mapping=y_axis_metric)</div>
<div class="line"><span class="lineno"> 1151</span>            y_lab = y_axis.name</div>
<div class="line"><span class="lineno"> 1152</span>        x_label = x_label <span class="keywordflow">if</span> x_label <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> x_lab</div>
<div class="line"><span class="lineno"> 1153</span>        y_label = y_label <span class="keywordflow">if</span> y_label <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> y_lab</div>
<div class="line"><span class="lineno"> 1154</span>        title = title <span class="keywordflow">if</span> title <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> f<span class="stringliteral">&quot;{x_lab} vs. {y_lab}&quot;</span></div>
<div class="line"><span class="lineno"> 1155</span> </div>
<div class="line"><span class="lineno"> 1156</span>        plot_df = pd.DataFrame(</div>
<div class="line"><span class="lineno"> 1157</span>            {</div>
<div class="line"><span class="lineno"> 1158</span>                <span class="stringliteral">&quot;x_axis&quot;</span>: x_val,</div>
<div class="line"><span class="lineno"> 1159</span>                <span class="stringliteral">&quot;y_axis&quot;</span>: y_val,</div>
<div class="line"><span class="lineno"> 1160</span>                <span class="stringliteral">&quot;name&quot;</span>: [v.name <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()],</div>
<div class="line"><span class="lineno"> 1161</span>                <span class="stringliteral">&quot;original&quot;</span>: [v.orig <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()],</div>
<div class="line"><span class="lineno"> 1162</span>            }</div>
<div class="line"><span class="lineno"> 1163</span>        )</div>
<div class="line"><span class="lineno"> 1164</span> </div>
<div class="line"><span class="lineno"> 1165</span>        <span class="keywordflow">if</span> color:</div>
<div class="line"><span class="lineno"> 1166</span>            plot_df[color] = [</div>
<div class="line"><span class="lineno"> 1167</span>                getattr(v, color) <span class="keywordflow">if</span> hasattr(v, color) <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1168</span>                <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()</div>
<div class="line"><span class="lineno"> 1169</span>            ]</div>
<div class="line"><span class="lineno"> 1170</span> </div>
<div class="line"><span class="lineno"> 1171</span>        result = (</div>
<div class="line"><span class="lineno"> 1172</span>            alt.Chart(plot_df)</div>
<div class="line"><span class="lineno"> 1173</span>            .mark_circle(size=60)</div>
<div class="line"><span class="lineno"> 1174</span>            .encode(</div>
<div class="line"><span class="lineno"> 1175</span>                x=alt.X(<span class="stringliteral">&quot;x_axis&quot;</span>, axis=alt.Axis(title=x_label)),</div>
<div class="line"><span class="lineno"> 1176</span>                y=alt.X(<span class="stringliteral">&quot;y_axis&quot;</span>, axis=alt.Axis(title=y_label)),</div>
<div class="line"><span class="lineno"> 1177</span>                tooltip=[<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;original&quot;</span>],</div>
<div class="line"><span class="lineno"> 1178</span>                color=alt.Color(<span class="stringliteral">&quot;:N&quot;</span>, legend=<span class="keywordtype">None</span>) <span class="keywordflow">if</span> <span class="keywordflow">not</span> color <span class="keywordflow">else</span> alt.Color(color),</div>
<div class="line"><span class="lineno"> 1179</span>            )</div>
<div class="line"><span class="lineno"> 1180</span>            .properties(title=title)</div>
<div class="line"><span class="lineno"> 1181</span>        )</div>
<div class="line"><span class="lineno"> 1182</span>        <span class="keywordflow">if</span> interactive:</div>
<div class="line"><span class="lineno"> 1183</span>            result = result.interactive()</div>
<div class="line"><span class="lineno"> 1184</span> </div>
<div class="line"><span class="lineno"> 1185</span>        <span class="keywordflow">if</span> annot:</div>
<div class="line"><span class="lineno"> 1186</span>            text = (</div>
<div class="line"><span class="lineno"> 1187</span>                alt.Chart(plot_df)</div>
<div class="line"><span class="lineno"> 1188</span>                .mark_text(dx=-15, dy=3, color=<span class="stringliteral">&quot;black&quot;</span>)</div>
<div class="line"><span class="lineno"> 1189</span>                .encode(</div>
<div class="line"><span class="lineno"> 1190</span>                    x=<span class="stringliteral">&quot;x_axis&quot;</span>,</div>
<div class="line"><span class="lineno"> 1191</span>                    y=<span class="stringliteral">&quot;y_axis&quot;</span>,</div>
<div class="line"><span class="lineno"> 1192</span>                    text=<span class="stringliteral">&quot;original&quot;</span>,</div>
<div class="line"><span class="lineno"> 1193</span>                )</div>
<div class="line"><span class="lineno"> 1194</span>            )</div>
<div class="line"><span class="lineno"> 1195</span>            result = result + text</div>
<div class="line"><span class="lineno"> 1196</span>        <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno"> 1197</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a27607a1be6f3d1273b85ae87513d509d" name="a27607a1be6f3d1273b85ae87513d509d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27607a1be6f3d1273b85ae87513d509d">&#9670;&#160;</a></span>plot_interactive_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.plot_interactive_matrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*Union[int, str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>]&#160;</td>
          <td class="paramname"><em>axes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[Union[str, Callable, Sequence]] &#160;</td>
          <td class="paramname"><em>axes_metric</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>annot</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>width</em> = <code>200</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>height</em> = <code>200</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Makes highly interactive plot of the set of embeddings.

Arguments:
    axes: the axes that we wish to plot; each could be either an integer, the name of
        an existing embedding, or an `Embedding` instance (default: `0, 1`).
    axes_metric: the metric used to project each embedding on the axes; only used when the corresponding
        axis is a string or an `Embedding` instance. It could be a string (`'cosine_similarity'`,
        `'cosine_distance'` or `'euclidean'`), or a callable that takes two vectors as input and
        returns a scalar value as output. To set different metrics for different axes, a list or a tuple of
        the same length as `axes` could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.
    annot: drawn points should be annotated
    width: width of the visual
    height: height of the visual

**Usage**

```python
from whatlies.language import SpacyLanguage
from whatlies.transformers import Pca

words = ["prince", "princess", "nurse", "doctor", "banker", "man", "woman",
         "cousin", "neice", "king", "queen", "dude", "guy", "gal", "fire",
         "dog", "cat", "mouse", "red", "blue", "green", "yellow", "water",
         "person", "family", "brother", "sister"]

lang = SpacyLanguage("en_core_web_sm")
emb = lang[words]

emb.transform(Pca(3)).plot_interactive_matrix(0, 1, 2)
```
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1361</span>    ):</div>
<div class="line"><span class="lineno"> 1362</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1363</span><span class="stringliteral">        Makes highly interactive plot of the set of embeddings.</span></div>
<div class="line"><span class="lineno"> 1364</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1365</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno"> 1366</span><span class="stringliteral">            axes: the axes that we wish to plot; each could be either an integer, the name of</span></div>
<div class="line"><span class="lineno"> 1367</span><span class="stringliteral">                an existing embedding, or an `Embedding` instance (default: `0, 1`).</span></div>
<div class="line"><span class="lineno"> 1368</span><span class="stringliteral">            axes_metric: the metric used to project each embedding on the axes; only used when the corresponding</span></div>
<div class="line"><span class="lineno"> 1369</span><span class="stringliteral">                axis is a string or an `Embedding` instance. It could be a string (`&#39;cosine_similarity&#39;`,</span></div>
<div class="line"><span class="lineno"> 1370</span><span class="stringliteral">                `&#39;cosine_distance&#39;` or `&#39;euclidean&#39;`), or a callable that takes two vectors as input and</span></div>
<div class="line"><span class="lineno"> 1371</span><span class="stringliteral">                returns a scalar value as output. To set different metrics for different axes, a list or a tuple of</span></div>
<div class="line"><span class="lineno"> 1372</span><span class="stringliteral">                the same length as `axes` could be given. By default (`None`), normalized scalar projection (i.e. `&gt;` operator) is used.</span></div>
<div class="line"><span class="lineno"> 1373</span><span class="stringliteral">            annot: drawn points should be annotated</span></div>
<div class="line"><span class="lineno"> 1374</span><span class="stringliteral">            width: width of the visual</span></div>
<div class="line"><span class="lineno"> 1375</span><span class="stringliteral">            height: height of the visual</span></div>
<div class="line"><span class="lineno"> 1376</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1377</span><span class="stringliteral">        **Usage**</span></div>
<div class="line"><span class="lineno"> 1378</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1379</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno"> 1380</span><span class="stringliteral">        from whatlies.language import SpacyLanguage</span></div>
<div class="line"><span class="lineno"> 1381</span><span class="stringliteral">        from whatlies.transformers import Pca</span></div>
<div class="line"><span class="lineno"> 1382</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1383</span><span class="stringliteral">        words = [&quot;prince&quot;, &quot;princess&quot;, &quot;nurse&quot;, &quot;doctor&quot;, &quot;banker&quot;, &quot;man&quot;, &quot;woman&quot;,</span></div>
<div class="line"><span class="lineno"> 1384</span><span class="stringliteral">                 &quot;cousin&quot;, &quot;neice&quot;, &quot;king&quot;, &quot;queen&quot;, &quot;dude&quot;, &quot;guy&quot;, &quot;gal&quot;, &quot;fire&quot;,</span></div>
<div class="line"><span class="lineno"> 1385</span><span class="stringliteral">                 &quot;dog&quot;, &quot;cat&quot;, &quot;mouse&quot;, &quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;water&quot;,</span></div>
<div class="line"><span class="lineno"> 1386</span><span class="stringliteral">                 &quot;person&quot;, &quot;family&quot;, &quot;brother&quot;, &quot;sister&quot;]</span></div>
<div class="line"><span class="lineno"> 1387</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1388</span><span class="stringliteral">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span></div>
<div class="line"><span class="lineno"> 1389</span><span class="stringliteral">        emb = lang[words]</span></div>
<div class="line"><span class="lineno"> 1390</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1391</span><span class="stringliteral">        emb.transform(Pca(3)).plot_interactive_matrix(0, 1, 2)</span></div>
<div class="line"><span class="lineno"> 1392</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno"> 1393</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1394</span>        <span class="comment"># Set default value of axes, if not given.</span></div>
<div class="line"><span class="lineno"> 1395</span>        <span class="keywordflow">if</span> len(axes) == 0:</div>
<div class="line"><span class="lineno"> 1396</span>            axes = [0, 1]</div>
<div class="line"><span class="lineno"> 1397</span> </div>
<div class="line"><span class="lineno"> 1398</span>        <span class="keywordflow">if</span> isinstance(axes_metric, (list, tuple)) <span class="keywordflow">and</span> len(axes_metric) != len(axes):</div>
<div class="line"><span class="lineno"> 1399</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno"> 1400</span>                f<span class="stringliteral">&quot;The number of given axes metrics should be the same as the number of given axes. Got {len(axes)} axes vs. {len(axes_metric)} metrics.&quot;</span></div>
<div class="line"><span class="lineno"> 1401</span>            )</div>
<div class="line"><span class="lineno"> 1402</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(axes_metric, (list, tuple)):</div>
<div class="line"><span class="lineno"> 1403</span>            axes_metric = [axes_metric] * len(axes)</div>
<div class="line"><span class="lineno"> 1404</span> </div>
<div class="line"><span class="lineno"> 1405</span>        <span class="comment"># Get values of each axis according to their type.</span></div>
<div class="line"><span class="lineno"> 1406</span>        axes_vals = {}</div>
<div class="line"><span class="lineno"> 1407</span>        X = self.to_X()</div>
<div class="line"><span class="lineno"> 1408</span>        <span class="keywordflow">for</span> axis, metric <span class="keywordflow">in</span> zip(axes, axes_metric):</div>
<div class="line"><span class="lineno"> 1409</span>            <span class="keywordflow">if</span> isinstance(axis, int):</div>
<div class="line"><span class="lineno"> 1410</span>                vals = X[:, axis]</div>
<div class="line"><span class="lineno"> 1411</span>                axes_vals[<span class="stringliteral">&quot;Dimension &quot;</span> + str(axis)] = vals</div>
<div class="line"><span class="lineno"> 1412</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1413</span>                <span class="keywordflow">if</span> isinstance(axis, str):</div>
<div class="line"><span class="lineno"> 1414</span>                    axis = self[axis]</div>
<div class="line"><span class="lineno"> 1415</span>                metric = Embedding._get_plot_axis_metric_callable(metric)</div>
<div class="line"><span class="lineno"> 1416</span>                vals = self.compare_against(axis, mapping=metric)</div>
<div class="line"><span class="lineno"> 1417</span>                axes_vals[axis.name] = vals</div>
<div class="line"><span class="lineno"> 1418</span> </div>
<div class="line"><span class="lineno"> 1419</span>        plot_df = pd.DataFrame(axes_vals)</div>
<div class="line"><span class="lineno"> 1420</span>        plot_df[<span class="stringliteral">&quot;name&quot;</span>] = [v.name <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()]</div>
<div class="line"><span class="lineno"> 1421</span>        plot_df[<span class="stringliteral">&quot;original&quot;</span>] = [v.orig <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()]</div>
<div class="line"><span class="lineno"> 1422</span>        axes_names = list(axes_vals.keys())</div>
<div class="line"><span class="lineno"> 1423</span> </div>
<div class="line"><span class="lineno"> 1424</span>        result = (</div>
<div class="line"><span class="lineno"> 1425</span>            alt.Chart(plot_df)</div>
<div class="line"><span class="lineno"> 1426</span>            .mark_circle()</div>
<div class="line"><span class="lineno"> 1427</span>            .encode(</div>
<div class="line"><span class="lineno"> 1428</span>                x=alt.X(alt.repeat(<span class="stringliteral">&quot;column&quot;</span>), type=<span class="stringliteral">&quot;quantitative&quot;</span>),</div>
<div class="line"><span class="lineno"> 1429</span>                y=alt.Y(alt.repeat(<span class="stringliteral">&quot;row&quot;</span>), type=<span class="stringliteral">&quot;quantitative&quot;</span>),</div>
<div class="line"><span class="lineno"> 1430</span>                tooltip=[<span class="stringliteral">&quot;name&quot;</span>, <span class="stringliteral">&quot;original&quot;</span>],</div>
<div class="line"><span class="lineno"> 1431</span>            )</div>
<div class="line"><span class="lineno"> 1432</span>        )</div>
<div class="line"><span class="lineno"> 1433</span>        <span class="keywordflow">if</span> annot:</div>
<div class="line"><span class="lineno"> 1434</span>            text_stuff = result.mark_text(dx=-15, dy=3, color=<span class="stringliteral">&quot;black&quot;</span>).encode(</div>
<div class="line"><span class="lineno"> 1435</span>                text=<span class="stringliteral">&quot;original&quot;</span>,</div>
<div class="line"><span class="lineno"> 1436</span>            )</div>
<div class="line"><span class="lineno"> 1437</span>            result = result + text_stuff</div>
<div class="line"><span class="lineno"> 1438</span> </div>
<div class="line"><span class="lineno"> 1439</span>        result = (</div>
<div class="line"><span class="lineno"> 1440</span>            result.properties(width=width, height=height)</div>
<div class="line"><span class="lineno"> 1441</span>            .repeat(row=axes_names[::-1], column=axes_names)</div>
<div class="line"><span class="lineno"> 1442</span>            .interactive()</div>
<div class="line"><span class="lineno"> 1443</span>        )</div>
<div class="line"><span class="lineno"> 1444</span> </div>
<div class="line"><span class="lineno"> 1445</span>        <span class="keywordflow">return</span> result</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c25c06e23dcf871621f20cdbdaf1e19" name="a0c25c06e23dcf871621f20cdbdaf1e19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c25c06e23dcf871621f20cdbdaf1e19">&#9670;&#160;</a></span>plot_movement()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.plot_movement </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>]&#160;</td>
          <td class="paramname"><em>x_axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>]&#160;</td>
          <td class="paramname"><em>y_axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>first_group_name</em> = <code>&quot;before&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>second_group_name</em> = <code>&quot;after&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>annot</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Makes highly interactive plot of the movement of embeddings
between two sets of embeddings.

Arguments:
    other: the other embeddingset
    x_axis: the x-axis to be used, must be given when dim &gt; 2
    y_axis: the y-axis to be used, must be given when dim &gt; 2
    first_group_name: the name to give to the first set of embeddings (default: "before")
    second_group_name: the name to give to the second set of embeddings (default: "after")
    annot: drawn points should be annotated

**Usage**

```python
from whatlies.language import SpacyLanguage

words = ["prince", "princess", "nurse", "doctor", "banker", "man", "woman",
         "cousin", "neice", "king", "queen", "dude", "guy", "gal", "fire",
         "dog", "cat", "mouse", "red", "blue", "green", "yellow", "water",
         "person", "family", "brother", "sister"]

lang = SpacyLanguage("en_core_web_sm")
emb = lang[words]
emb_new = emb - emb['king']

emb.plot_movement(emb_new, 'man', 'woman')
```
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1003</span>    ):</div>
<div class="line"><span class="lineno"> 1004</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1005</span><span class="stringliteral">        Makes highly interactive plot of the movement of embeddings</span></div>
<div class="line"><span class="lineno"> 1006</span><span class="stringliteral">        between two sets of embeddings.</span></div>
<div class="line"><span class="lineno"> 1007</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1008</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno"> 1009</span><span class="stringliteral">            other: the other embeddingset</span></div>
<div class="line"><span class="lineno"> 1010</span><span class="stringliteral">            x_axis: the x-axis to be used, must be given when dim &gt; 2</span></div>
<div class="line"><span class="lineno"> 1011</span><span class="stringliteral">            y_axis: the y-axis to be used, must be given when dim &gt; 2</span></div>
<div class="line"><span class="lineno"> 1012</span><span class="stringliteral">            first_group_name: the name to give to the first set of embeddings (default: &quot;before&quot;)</span></div>
<div class="line"><span class="lineno"> 1013</span><span class="stringliteral">            second_group_name: the name to give to the second set of embeddings (default: &quot;after&quot;)</span></div>
<div class="line"><span class="lineno"> 1014</span><span class="stringliteral">            annot: drawn points should be annotated</span></div>
<div class="line"><span class="lineno"> 1015</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1016</span><span class="stringliteral">        **Usage**</span></div>
<div class="line"><span class="lineno"> 1017</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1018</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno"> 1019</span><span class="stringliteral">        from whatlies.language import SpacyLanguage</span></div>
<div class="line"><span class="lineno"> 1020</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1021</span><span class="stringliteral">        words = [&quot;prince&quot;, &quot;princess&quot;, &quot;nurse&quot;, &quot;doctor&quot;, &quot;banker&quot;, &quot;man&quot;, &quot;woman&quot;,</span></div>
<div class="line"><span class="lineno"> 1022</span><span class="stringliteral">                 &quot;cousin&quot;, &quot;neice&quot;, &quot;king&quot;, &quot;queen&quot;, &quot;dude&quot;, &quot;guy&quot;, &quot;gal&quot;, &quot;fire&quot;,</span></div>
<div class="line"><span class="lineno"> 1023</span><span class="stringliteral">                 &quot;dog&quot;, &quot;cat&quot;, &quot;mouse&quot;, &quot;red&quot;, &quot;blue&quot;, &quot;green&quot;, &quot;yellow&quot;, &quot;water&quot;,</span></div>
<div class="line"><span class="lineno"> 1024</span><span class="stringliteral">                 &quot;person&quot;, &quot;family&quot;, &quot;brother&quot;, &quot;sister&quot;]</span></div>
<div class="line"><span class="lineno"> 1025</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1026</span><span class="stringliteral">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span></div>
<div class="line"><span class="lineno"> 1027</span><span class="stringliteral">        emb = lang[words]</span></div>
<div class="line"><span class="lineno"> 1028</span><span class="stringliteral">        emb_new = emb - emb[&#39;king&#39;]</span></div>
<div class="line"><span class="lineno"> 1029</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1030</span><span class="stringliteral">        emb.plot_movement(emb_new, &#39;man&#39;, &#39;woman&#39;)</span></div>
<div class="line"><span class="lineno"> 1031</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno"> 1032</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1033</span>        <span class="keywordflow">if</span> isinstance(x_axis, str):</div>
<div class="line"><span class="lineno"> 1034</span>            x_axis = self[x_axis]</div>
<div class="line"><span class="lineno"> 1035</span>        <span class="keywordflow">if</span> isinstance(y_axis, str):</div>
<div class="line"><span class="lineno"> 1036</span>            y_axis = self[y_axis]</div>
<div class="line"><span class="lineno"> 1037</span> </div>
<div class="line"><span class="lineno"> 1038</span>        df1 = (</div>
<div class="line"><span class="lineno"> 1039</span>            self.to_axis_df(x_axis, y_axis).set_index(<span class="stringliteral">&quot;original&quot;</span>).drop(columns=[<span class="stringliteral">&quot;name&quot;</span>])</div>
<div class="line"><span class="lineno"> 1040</span>        )</div>
<div class="line"><span class="lineno"> 1041</span>        df2 = (</div>
<div class="line"><span class="lineno"> 1042</span>            other.to_axis_df(x_axis, y_axis)</div>
<div class="line"><span class="lineno"> 1043</span>            .set_index(<span class="stringliteral">&quot;original&quot;</span>)</div>
<div class="line"><span class="lineno"> 1044</span>            .drop(columns=[<span class="stringliteral">&quot;name&quot;</span>])</div>
<div class="line"><span class="lineno"> 1045</span>            .loc[<span class="keyword">lambda</span> d: d.index.isin(df1.index)]</div>
<div class="line"><span class="lineno"> 1046</span>        )</div>
<div class="line"><span class="lineno"> 1047</span>        df_draw = (</div>
<div class="line"><span class="lineno"> 1048</span>            pd.concat([df1, df2])</div>
<div class="line"><span class="lineno"> 1049</span>            .reset_index()</div>
<div class="line"><span class="lineno"> 1050</span>            .sort_values([<span class="stringliteral">&quot;original&quot;</span>])</div>
<div class="line"><span class="lineno"> 1051</span>            .assign(constant=1)</div>
<div class="line"><span class="lineno"> 1052</span>        )</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>        plots = []</div>
<div class="line"><span class="lineno"> 1055</span>        <span class="keywordflow">for</span> idx, grp_df <span class="keywordflow">in</span> df_draw.groupby(<span class="stringliteral">&quot;original&quot;</span>):</div>
<div class="line"><span class="lineno"> 1056</span>            _ = (</div>
<div class="line"><span class="lineno"> 1057</span>                alt.Chart(grp_df)</div>
<div class="line"><span class="lineno"> 1058</span>                .mark_line(color=<span class="stringliteral">&quot;gray&quot;</span>, strokeDash=[2, 1])</div>
<div class="line"><span class="lineno"> 1059</span>                .encode(x=<span class="stringliteral">&quot;x_axis:Q&quot;</span>, y=<span class="stringliteral">&quot;y_axis:Q&quot;</span>)</div>
<div class="line"><span class="lineno"> 1060</span>            )</div>
<div class="line"><span class="lineno"> 1061</span>            plots.append(_)</div>
<div class="line"><span class="lineno"> 1062</span>        p0 = reduce(<span class="keyword">lambda</span> x, y: x + y, plots)</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span>        p1 = (</div>
<div class="line"><span class="lineno"> 1065</span>            deepcopy(self)</div>
<div class="line"><span class="lineno"> 1066</span>            .add_property(<span class="stringliteral">&quot;group&quot;</span>, <span class="keyword">lambda</span> d: first_group_name)</div>
<div class="line"><span class="lineno"> 1067</span>            .plot_interactive(x_axis, y_axis, annot=annot, color=<span class="stringliteral">&quot;group&quot;</span>)</div>
<div class="line"><span class="lineno"> 1068</span>        )</div>
<div class="line"><span class="lineno"> 1069</span>        p2 = (</div>
<div class="line"><span class="lineno"> 1070</span>            deepcopy(other)</div>
<div class="line"><span class="lineno"> 1071</span>            .add_property(<span class="stringliteral">&quot;group&quot;</span>, <span class="keyword">lambda</span> d: second_group_name)</div>
<div class="line"><span class="lineno"> 1072</span>            .plot_interactive(x_axis, y_axis, annot=annot, color=<span class="stringliteral">&quot;group&quot;</span>)</div>
<div class="line"><span class="lineno"> 1073</span>        )</div>
<div class="line"><span class="lineno"> 1074</span>        <span class="keywordflow">return</span> p0 + p1 + p2</div>
<div class="line"><span class="lineno"> 1075</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0c64fab68c2e5e0b3424cc0577e5dc8" name="ae0c64fab68c2e5e0b3424cc0577e5dc8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0c64fab68c2e5e0b3424cc0577e5dc8">&#9670;&#160;</a></span>plot_pixels()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.plot_pixels </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Makes a pixelchart of every embedding in the set.

Usage:

```python
from whatlies.language import SpacyLanguage
from whatlies.transformers import Pca

lang = SpacyLanguage("en_core_web_sm")

names = ['red', 'blue', 'green', 'yellow',
         'cat', 'dog', 'mouse', 'rat',
         'bike', 'car', 'motor', 'cycle',
         'firehydrant', 'japan', 'germany', 'belgium']
emb = lang[names].transform(Pca(12)).filter(lambda e: 'pca' not in e.name)
emb.plot_pixels()
```

![](https://koaning.github.io/whatlies/images/pixels.png)
</pre> <div class="fragment"><div class="line"><span class="lineno">  968</span>    <span class="keyword">def </span>plot_pixels(self):</div>
<div class="line"><span class="lineno">  969</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  970</span><span class="stringliteral">        Makes a pixelchart of every embedding in the set.</span></div>
<div class="line"><span class="lineno">  971</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  972</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  973</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  974</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  975</span><span class="stringliteral">        from whatlies.language import SpacyLanguage</span></div>
<div class="line"><span class="lineno">  976</span><span class="stringliteral">        from whatlies.transformers import Pca</span></div>
<div class="line"><span class="lineno">  977</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  978</span><span class="stringliteral">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span></div>
<div class="line"><span class="lineno">  979</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  980</span><span class="stringliteral">        names = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;, &#39;yellow&#39;,</span></div>
<div class="line"><span class="lineno">  981</span><span class="stringliteral">                 &#39;cat&#39;, &#39;dog&#39;, &#39;mouse&#39;, &#39;rat&#39;,</span></div>
<div class="line"><span class="lineno">  982</span><span class="stringliteral">                 &#39;bike&#39;, &#39;car&#39;, &#39;motor&#39;, &#39;cycle&#39;,</span></div>
<div class="line"><span class="lineno">  983</span><span class="stringliteral">                 &#39;firehydrant&#39;, &#39;japan&#39;, &#39;germany&#39;, &#39;belgium&#39;]</span></div>
<div class="line"><span class="lineno">  984</span><span class="stringliteral">        emb = lang[names].transform(Pca(12)).filter(lambda e: &#39;pca&#39; not in e.name)</span></div>
<div class="line"><span class="lineno">  985</span><span class="stringliteral">        emb.plot_pixels()</span></div>
<div class="line"><span class="lineno">  986</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  987</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  988</span><span class="stringliteral">        ![](https://koaning.github.io/whatlies/images/pixels.png)</span></div>
<div class="line"><span class="lineno">  989</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  990</span>        names = self.embeddings.keys()</div>
<div class="line"><span class="lineno">  991</span>        df = self.to_dataframe()</div>
<div class="line"><span class="lineno">  992</span>        plt.matshow(df)</div>
<div class="line"><span class="lineno">  993</span>        plt.yticks(range(len(names)), names)</div>
<div class="line"><span class="lineno">  994</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a67ca5a5b7a1c7ee16fd5e48954d620d5" name="a67ca5a5b7a1c7ee16fd5e48954d620d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67ca5a5b7a1c7ee16fd5e48954d620d5">&#9670;&#160;</a></span>plot_similarity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.plot_similarity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>metric</em> = <code>&quot;cosine&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>norm</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Make a similarity plot. Shows you the similarity between all the word embeddings in the set.

Arguments:
    metric: `'cosine'` or `'correlation'`
    norm: normalise the embeddings before calculating the similarity

Usage:

```python
from whatlies.language import SpacyLanguage
lang = SpacyLanguage("en_core_web_sm")

names = ['red', 'blue', 'green', 'yellow', 'cat', 'dog', 'mouse', 'rat', 'bike', 'car']
emb = lang[names]
emb.plot_similarity()
emb.plot_similarity(metric='correlation')
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  878</span>    <span class="keyword">def </span>plot_similarity(self, metric=&quot;cosine&quot;, norm=False):</div>
<div class="line"><span class="lineno">  879</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  880</span><span class="stringliteral">        Make a similarity plot. Shows you the similarity between all the word embeddings in the set.</span></div>
<div class="line"><span class="lineno">  881</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  882</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  883</span><span class="stringliteral">            metric: `&#39;cosine&#39;` or `&#39;correlation&#39;`</span></div>
<div class="line"><span class="lineno">  884</span><span class="stringliteral">            norm: normalise the embeddings before calculating the similarity</span></div>
<div class="line"><span class="lineno">  885</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  886</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  887</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  888</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  889</span><span class="stringliteral">        from whatlies.language import SpacyLanguage</span></div>
<div class="line"><span class="lineno">  890</span><span class="stringliteral">        lang = SpacyLanguage(&quot;en_core_web_sm&quot;)</span></div>
<div class="line"><span class="lineno">  891</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  892</span><span class="stringliteral">        names = [&#39;red&#39;, &#39;blue&#39;, &#39;green&#39;, &#39;yellow&#39;, &#39;cat&#39;, &#39;dog&#39;, &#39;mouse&#39;, &#39;rat&#39;, &#39;bike&#39;, &#39;car&#39;]</span></div>
<div class="line"><span class="lineno">  893</span><span class="stringliteral">        emb = lang[names]</span></div>
<div class="line"><span class="lineno">  894</span><span class="stringliteral">        emb.plot_similarity()</span></div>
<div class="line"><span class="lineno">  895</span><span class="stringliteral">        emb.plot_similarity(metric=&#39;correlation&#39;)</span></div>
<div class="line"><span class="lineno">  896</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  897</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  898</span>        allowed_metrics = [<span class="stringliteral">&quot;cosine&quot;</span>, <span class="stringliteral">&quot;correlation&quot;</span>]</div>
<div class="line"><span class="lineno">  899</span>        <span class="keywordflow">if</span> metric <span class="keywordflow">not</span> <span class="keywordflow">in</span> allowed_metrics:</div>
<div class="line"><span class="lineno">  900</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  901</span>                f<span class="stringliteral">&quot;The `metric` argument must be in {allowed_metrics}, got: {metric}.&quot;</span></div>
<div class="line"><span class="lineno">  902</span>            )</div>
<div class="line"><span class="lineno">  903</span> </div>
<div class="line"><span class="lineno">  904</span>        vmin, vmax = 0, 1</div>
<div class="line"><span class="lineno">  905</span>        X = self.to_X(norm=norm)</div>
<div class="line"><span class="lineno">  906</span>        <span class="keywordflow">if</span> metric == <span class="stringliteral">&quot;cosine&quot;</span>:</div>
<div class="line"><span class="lineno">  907</span>            similarity = cosine_similarity(X)</div>
<div class="line"><span class="lineno">  908</span>        <span class="keywordflow">if</span> metric == <span class="stringliteral">&quot;correlation&quot;</span>:</div>
<div class="line"><span class="lineno">  909</span>            similarity = np.corrcoef(X)</div>
<div class="line"><span class="lineno">  910</span>            vmin, vmax = -1, 1</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>        fig, ax = plt.subplots()</div>
<div class="line"><span class="lineno">  913</span>        plt.imshow(similarity, cmap=plt.cm.get_cmap(), vmin=-vmin, vmax=vmax)</div>
<div class="line"><span class="lineno">  914</span>        plt.xticks(range(len(self)), self.embeddings.keys())</div>
<div class="line"><span class="lineno">  915</span>        plt.yticks(range(len(self)), self.embeddings.keys())</div>
<div class="line"><span class="lineno">  916</span>        plt.colorbar()</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>        <span class="comment"># Rotate the tick labels and set their alignment.</span></div>
<div class="line"><span class="lineno">  919</span>        plt.setp(ax.get_xticklabels(), rotation=90, ha=<span class="stringliteral">&quot;right&quot;</span>, rotation_mode=<span class="stringliteral">&quot;anchor&quot;</span>)</div>
<div class="line"><span class="lineno">  920</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae41dd06fe114ee39fc030da42b62d12c" name="ae41dd06fe114ee39fc030da42b62d12c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae41dd06fe114ee39fc030da42b62d12c">&#9670;&#160;</a></span>score_similar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.score_similar </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[str, <a class="el" href="classwhatlies_1_1embedding_1_1_embedding.html">Embedding</a>]&#160;</td>
          <td class="paramname"><em>emb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>n</em> = <code>10</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>metric</em> = <code>&quot;cosine&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retreive a list of (Embedding, score) tuples that are the most similar to the passed query.

Arguments:
    emb: query to use
    n: the number of items you'd like to see returned
    metric: metric to use to calculate distance, must be scipy or sklearn compatible

Returns:
    An list of ([Embedding][whatlies.embedding.Embedding], score) tuples.
</pre> <div class="fragment"><div class="line"><span class="lineno">  562</span>    <span class="keyword">def </span>score_similar(self, emb: Union[str, Embedding], n: int = 10, metric=<span class="stringliteral">&quot;cosine&quot;</span>):</div>
<div class="line"><span class="lineno">  563</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  564</span><span class="stringliteral">        Retreive a list of (Embedding, score) tuples that are the most similar to the passed query.</span></div>
<div class="line"><span class="lineno">  565</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  566</span><span class="stringliteral">        Arguments:</span></div>
<div class="line"><span class="lineno">  567</span><span class="stringliteral">            emb: query to use</span></div>
<div class="line"><span class="lineno">  568</span><span class="stringliteral">            n: the number of items you&#39;d like to see returned</span></div>
<div class="line"><span class="lineno">  569</span><span class="stringliteral">            metric: metric to use to calculate distance, must be scipy or sklearn compatible</span></div>
<div class="line"><span class="lineno">  570</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  571</span><span class="stringliteral">        Returns:</span></div>
<div class="line"><span class="lineno">  572</span><span class="stringliteral">            An list of ([Embedding][whatlies.embedding.Embedding], score) tuples.</span></div>
<div class="line"><span class="lineno">  573</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  574</span>        <span class="keywordflow">if</span> n &gt; len(self):</div>
<div class="line"><span class="lineno">  575</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  576</span>                f<span class="stringliteral">&quot;You cannot retreive (n={n}) more items than exist in the Embeddingset (len={len(self)})&quot;</span></div>
<div class="line"><span class="lineno">  577</span>            )</div>
<div class="line"><span class="lineno">  578</span> </div>
<div class="line"><span class="lineno">  579</span>        <span class="keywordflow">if</span> isinstance(emb, str):</div>
<div class="line"><span class="lineno">  580</span>            <span class="keywordflow">if</span> emb <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.embeddings.keys():</div>
<div class="line"><span class="lineno">  581</span>                <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  582</span>                    f<span class="stringliteral">&quot;Embedding for `{emb}` does not exist in this EmbeddingSet&quot;</span></div>
<div class="line"><span class="lineno">  583</span>                )</div>
<div class="line"><span class="lineno">  584</span>            emb = self[emb]</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>        vec = emb.vector</div>
<div class="line"><span class="lineno">  587</span>        queries = [w <span class="keywordflow">for</span> w <span class="keywordflow">in</span> self.embeddings.keys()]</div>
<div class="line"><span class="lineno">  588</span>        vector_matrix = self.to_X()</div>
<div class="line"><span class="lineno">  589</span>        distances = pairwise_distances(vector_matrix, vec.reshape(1, -1), metric=metric)</div>
<div class="line"><span class="lineno">  590</span>        by_similarity = sorted(zip(queries, distances), key=<span class="keyword">lambda</span> z: z[1])</div>
<div class="line"><span class="lineno">  591</span>        <span class="keywordflow">return</span> [(self[q], float(d)) <span class="keywordflow">for</span> q, d <span class="keywordflow">in</span> by_similarity[:n]]</div>
<div class="line"><span class="lineno">  592</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab00612e07c915a5b5c84123398ea1359" name="ab00612e07c915a5b5c84123398ea1359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab00612e07c915a5b5c84123398ea1359">&#9670;&#160;</a></span>to_axis_df()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.to_axis_df </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x_axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y_axis</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  643</span>    <span class="keyword">def </span>to_axis_df(self, x_axis, y_axis):</div>
<div class="line"><span class="lineno">  644</span>        <span class="keywordflow">if</span> isinstance(x_axis, str):</div>
<div class="line"><span class="lineno">  645</span>            x_axis = self[x_axis]</div>
<div class="line"><span class="lineno">  646</span>        <span class="keywordflow">if</span> isinstance(y_axis, str):</div>
<div class="line"><span class="lineno">  647</span>            y_axis = self[y_axis]</div>
<div class="line"><span class="lineno">  648</span>        <span class="keywordflow">return</span> pd.DataFrame(</div>
<div class="line"><span class="lineno">  649</span>            {</div>
<div class="line"><span class="lineno">  650</span>                <span class="stringliteral">&quot;x_axis&quot;</span>: self.compare_against(x_axis),</div>
<div class="line"><span class="lineno">  651</span>                <span class="stringliteral">&quot;y_axis&quot;</span>: self.compare_against(y_axis),</div>
<div class="line"><span class="lineno">  652</span>                <span class="stringliteral">&quot;name&quot;</span>: [v.name <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()],</div>
<div class="line"><span class="lineno">  653</span>                <span class="stringliteral">&quot;original&quot;</span>: [v.orig <span class="keywordflow">for</span> v <span class="keywordflow">in</span> self.embeddings.values()],</div>
<div class="line"><span class="lineno">  654</span>            }</div>
<div class="line"><span class="lineno">  655</span>        )</div>
<div class="line"><span class="lineno">  656</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e0c347a604fb13edf5687ee3a9524d5" name="a1e0c347a604fb13edf5687ee3a9524d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e0c347a604fb13edf5687ee3a9524d5">&#9670;&#160;</a></span>to_dataframe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.to_dataframe </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Turns the embeddingset into a pandas dataframe.
</pre> <div class="fragment"><div class="line"><span class="lineno">  599</span>    <span class="keyword">def </span>to_dataframe(self):</div>
<div class="line"><span class="lineno">  600</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  601</span><span class="stringliteral">        Turns the embeddingset into a pandas dataframe.</span></div>
<div class="line"><span class="lineno">  602</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  603</span>        mat = self.to_matrix()</div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">return</span> pd.DataFrame(mat, index=list(self.embeddings.keys()))</div>
<div class="line"><span class="lineno">  605</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7eee4b84950b5b85b5e843df757c2723" name="a7eee4b84950b5b85b5e843df757c2723"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7eee4b84950b5b85b5e843df757c2723">&#9670;&#160;</a></span>to_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.to_matrix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Does exactly the same as `.to_X`. It takes the embedding vectors and turns it into a numpy array.
</pre> <div class="fragment"><div class="line"><span class="lineno">  593</span>    <span class="keyword">def </span>to_matrix(self):</div>
<div class="line"><span class="lineno">  594</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  595</span><span class="stringliteral">        Does exactly the same as `.to_X`. It takes the embedding vectors and turns it into a numpy array.</span></div>
<div class="line"><span class="lineno">  596</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  597</span>        <span class="keywordflow">return</span> self.to_X()</div>
<div class="line"><span class="lineno">  598</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a61ae2f9fd53fd8a878ceb93fdfce345f" name="a61ae2f9fd53fd8a878ceb93fdfce345f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61ae2f9fd53fd8a878ceb93fdfce345f">&#9670;&#160;</a></span>to_names_X()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.to_names_X </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the list of names as well as an array of vectors of all embeddings.

Usage:

```python
from whatlies.embedding import Embedding
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3])
bar = Embedding("bar", [0.7, 0.2])
buz = Embedding("buz", [0.1, 0.9])
emb = EmbeddingSet(foo, bar, buz)

names, X = emb.to_names_X()
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  306</span>    <span class="keyword">def </span>to_names_X(self):</div>
<div class="line"><span class="lineno">  307</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">        Get the list of names as well as an array of vectors of all embeddings.</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  312</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  313</span><span class="stringliteral">        from whatlies.embedding import Embedding</span></div>
<div class="line"><span class="lineno">  314</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  315</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  316</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span></div>
<div class="line"><span class="lineno">  317</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span></div>
<div class="line"><span class="lineno">  318</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span></div>
<div class="line"><span class="lineno">  319</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar, buz)</span></div>
<div class="line"><span class="lineno">  320</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  321</span><span class="stringliteral">        names, X = emb.to_names_X()</span></div>
<div class="line"><span class="lineno">  322</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  323</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  324</span>        <span class="keywordflow">return</span> list(self.embeddings.keys()), self.to_X()</div>
<div class="line"><span class="lineno">  325</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aedf2b4b2ba0b5ba65fd783bcf0e174f2" name="aedf2b4b2ba0b5ba65fd783bcf0e174f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedf2b4b2ba0b5ba65fd783bcf0e174f2">&#9670;&#160;</a></span>to_X()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.to_X </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>norm</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Takes every vector in each embedding and turns it into a scikit-learn compatible `X` matrix.

Usage:

```python
from whatlies.embedding import Embedding
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3])
bar = Embedding("bar", [0.7, 0.2])
buz = Embedding("buz", [0.1, 0.9])
emb = EmbeddingSet(foo, bar, buz)

X = emb.to_X()
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  257</span>    <span class="keyword">def </span>to_X(self, norm=False):</div>
<div class="line"><span class="lineno">  258</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  259</span><span class="stringliteral">        Takes every vector in each embedding and turns it into a scikit-learn compatible `X` matrix.</span></div>
<div class="line"><span class="lineno">  260</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  261</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral">        from whatlies.embedding import Embedding</span></div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span></div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span></div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar, buz)</span></div>
<div class="line"><span class="lineno">  271</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  272</span><span class="stringliteral">        X = emb.to_X()</span></div>
<div class="line"><span class="lineno">  273</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  274</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  275</span>        X = np.array([i.vector <span class="keywordflow">for</span> i <span class="keywordflow">in</span> self.embeddings.values()])</div>
<div class="line"><span class="lineno">  276</span>        X = normalize(X) <span class="keywordflow">if</span> norm <span class="keywordflow">else</span> X</div>
<div class="line"><span class="lineno">  277</span>        <span class="keywordflow">return</span> X</div>
<div class="line"><span class="lineno">  278</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8af9998a823296efda03b74f85455780" name="a8af9998a823296efda03b74f85455780"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8af9998a823296efda03b74f85455780">&#9670;&#160;</a></span>to_X_y()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.to_X_y </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>y_label</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Takes every vector in each embedding and turns it into a scikit-learn compatible `X` matrix.
Also retreives an array with potential labels.

Usage:

```python
from whatlies.embedding import Embedding
from whatlies.embeddingset import EmbeddingSet

foo = Embedding("foo", [0.1, 0.3])
bar = Embedding("bar", [0.7, 0.2])
buz = Embedding("buz", [0.1, 0.9])
bla = Embedding("bla", [0.2, 0.8])

emb1 = EmbeddingSet(foo, bar).add_property("label", lambda d: 'group-one')
emb2 = EmbeddingSet(buz, bla).add_property("label", lambda d: 'group-two')
emb = emb1.merge(emb2)

X, y = emb.to_X_y(y_label='label')
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  279</span>    <span class="keyword">def </span>to_X_y(self, y_label):</div>
<div class="line"><span class="lineno">  280</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  281</span><span class="stringliteral">        Takes every vector in each embedding and turns it into a scikit-learn compatible `X` matrix.</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral">        Also retreives an array with potential labels.</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">        from whatlies.embedding import Embedding</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3])</span></div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2])</span></div>
<div class="line"><span class="lineno">  292</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9])</span></div>
<div class="line"><span class="lineno">  293</span><span class="stringliteral">        bla = Embedding(&quot;bla&quot;, [0.2, 0.8])</span></div>
<div class="line"><span class="lineno">  294</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral">        emb1 = EmbeddingSet(foo, bar).add_property(&quot;label&quot;, lambda d: &#39;group-one&#39;)</span></div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">        emb2 = EmbeddingSet(buz, bla).add_property(&quot;label&quot;, lambda d: &#39;group-two&#39;)</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral">        emb = emb1.merge(emb2)</span></div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral">        X, y = emb.to_X_y(y_label=&#39;label&#39;)</span></div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  302</span>        X = self.to_X()</div>
<div class="line"><span class="lineno">  303</span>        y = np.array([getattr(e, y_label) <span class="keywordflow">for</span> e <span class="keywordflow">in</span> self.embeddings.values()])</div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">return</span> X, y</div>
<div class="line"><span class="lineno">  305</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae9cb4e14b39f2c414c5b56be2063756e" name="ae9cb4e14b39f2c414c5b56be2063756e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9cb4e14b39f2c414c5b56be2063756e">&#9670;&#160;</a></span>transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.transform </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>transformer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Applies a transformation on the entire set.

Usage:

```python
from whatlies.embeddingset import EmbeddingSet
from whatlies.transformers import Pca

foo = Embedding("foo", [0.1, 0.3, 0.10])
bar = Embedding("bar", [0.7, 0.2, 0.11])
buz = Embedding("buz", [0.1, 0.9, 0.12])
emb = EmbeddingSet(foo, bar, buz).transform(Pca(2))
```
</pre> <div class="fragment"><div class="line"><span class="lineno">  357</span>    <span class="keyword">def </span>transform(self, transformer):</div>
<div class="line"><span class="lineno">  358</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">        Applies a transformation on the entire set.</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">        Usage:</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">        ```python</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">        from whatlies.embeddingset import EmbeddingSet</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">        from whatlies.transformers import Pca</span></div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">        foo = Embedding(&quot;foo&quot;, [0.1, 0.3, 0.10])</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral">        bar = Embedding(&quot;bar&quot;, [0.7, 0.2, 0.11])</span></div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral">        buz = Embedding(&quot;buz&quot;, [0.1, 0.9, 0.12])</span></div>
<div class="line"><span class="lineno">  370</span><span class="stringliteral">        emb = EmbeddingSet(foo, bar, buz).transform(Pca(2))</span></div>
<div class="line"><span class="lineno">  371</span><span class="stringliteral">        ```</span></div>
<div class="line"><span class="lineno">  372</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordflow">return</span> transformer(self)</div>
<div class="line"><span class="lineno">  374</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a704ab5169b267a4000ffc034ecb22b34" name="a704ab5169b267a4000ffc034ecb22b34"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a704ab5169b267a4000ffc034ecb22b34">&#9670;&#160;</a></span>embeddings</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.embeddings</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ade167fa20e08d4eaa324fa3b196d8a02" name="ade167fa20e08d4eaa324fa3b196d8a02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade167fa20e08d4eaa324fa3b196d8a02">&#9670;&#160;</a></span>name</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">whatlies.embeddingset.EmbeddingSet.name</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/whatlies/<a class="el" href="embeddingset_8py.html">embeddingset.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
