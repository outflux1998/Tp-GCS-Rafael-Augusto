<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: PIL.ImageDraw Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_p_i_l.html">PIL</a></li><li class="navelem"><a class="el" href="namespace_p_i_l_1_1_image_draw.html">ImageDraw</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">PIL.ImageDraw Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_draw_1_1_image_draw.html">ImageDraw</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac54fb587354c769670f2510f00c619ba" id="r_ac54fb587354c769670f2510f00c619ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_p_i_l_1_1_image_draw.html#ac54fb587354c769670f2510f00c619ba">Draw</a> (im, mode=None)</td></tr>
<tr class="separator:ac54fb587354c769670f2510f00c619ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a581fb525975f1b94435f15d8077adb5e" id="r_a581fb525975f1b94435f15d8077adb5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_p_i_l_1_1_image_draw.html#a581fb525975f1b94435f15d8077adb5e">getdraw</a> (im=None, hints=None)</td></tr>
<tr class="separator:a581fb525975f1b94435f15d8077adb5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b21721ebbdff523261ed4d16062c104" id="r_a7b21721ebbdff523261ed4d16062c104"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_p_i_l_1_1_image_draw.html#a7b21721ebbdff523261ed4d16062c104">floodfill</a> (image, xy, value, border=None, thresh=0)</td></tr>
<tr class="separator:a7b21721ebbdff523261ed4d16062c104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78cb4a8cb07bbdc73819b2b0f8aaa049" id="r_a78cb4a8cb07bbdc73819b2b0f8aaa049"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_p_i_l_1_1_image_draw.html#a78cb4a8cb07bbdc73819b2b0f8aaa049">_compute_regular_polygon_vertices</a> (bounding_circle, n_sides, rotation)</td></tr>
<tr class="separator:a78cb4a8cb07bbdc73819b2b0f8aaa049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e20fe3d7370ecd475229beefbba2772" id="r_a8e20fe3d7370ecd475229beefbba2772"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_p_i_l_1_1_image_draw.html#a8e20fe3d7370ecd475229beefbba2772">_color_diff</a> (color1, color2)</td></tr>
<tr class="separator:a8e20fe3d7370ecd475229beefbba2772"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aee58acc4f36851df639ca75bdcc41ab7" id="r_aee58acc4f36851df639ca75bdcc41ab7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespace_p_i_l_1_1_image_draw.html#aee58acc4f36851df639ca75bdcc41ab7">Outline</a> = Image.core.outline</td></tr>
<tr class="separator:aee58acc4f36851df639ca75bdcc41ab7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8e20fe3d7370ecd475229beefbba2772" name="a8e20fe3d7370ecd475229beefbba2772"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e20fe3d7370ecd475229beefbba2772">&#9670;&#160;</a></span>_color_diff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.ImageDraw._color_diff </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>color1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>color2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Uses 1-norm distance to calculate difference between two values.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1076</span><span class="keyword">def </span>_color_diff(color1, color2):</div>
<div class="line"><span class="lineno"> 1077</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1078</span><span class="stringliteral">    Uses 1-norm distance to calculate difference between two values.</span></div>
<div class="line"><span class="lineno"> 1079</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1080</span>    <span class="keywordflow">if</span> isinstance(color2, tuple):</div>
<div class="line"><span class="lineno"> 1081</span>        <span class="keywordflow">return</span> sum(abs(color1[i] - color2[i]) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(0, len(color2)))</div>
<div class="line"><span class="lineno"> 1082</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1083</span>        <span class="keywordflow">return</span> abs(color1 - color2)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a78cb4a8cb07bbdc73819b2b0f8aaa049" name="a78cb4a8cb07bbdc73819b2b0f8aaa049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78cb4a8cb07bbdc73819b2b0f8aaa049">&#9670;&#160;</a></span>_compute_regular_polygon_vertices()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.ImageDraw._compute_regular_polygon_vertices </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bounding_circle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_sides</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rotation</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Generate a list of vertices for a 2D regular polygon.

:param bounding_circle: The bounding circle is a tuple defined
    by a point and radius. The polygon is inscribed in this circle.
    (e.g. ``bounding_circle=(x, y, r)`` or ``((x, y), r)``)
:param n_sides: Number of sides
    (e.g. ``n_sides=3`` for a triangle, ``6`` for a hexagon)
:param rotation: Apply an arbitrary rotation to the polygon
    (e.g. ``rotation=90``, applies a 90 degree rotation)
:return: List of regular polygon vertices
    (e.g. ``[(25, 50), (50, 50), (50, 25), (25, 25)]``)

How are the vertices computed?
1. Compute the following variables
    - theta: Angle between the apothem &amp; the nearest polygon vertex
    - side_length: Length of each polygon edge
    - centroid: Center of bounding circle (1st, 2nd elements of bounding_circle)
    - polygon_radius: Polygon radius (last element of bounding_circle)
    - angles: Location of each polygon vertex in polar grid
        (e.g. A square with 0 degree rotation =&gt; [225.0, 315.0, 45.0, 135.0])

2. For each angle in angles, get the polygon vertex at that angle
    The vertex is computed using the equation below.
        X= xcos(φ) + ysin(φ)
        Y= −xsin(φ) + ycos(φ)

    Note:
        φ = angle in degrees
        x = 0
        y = polygon_radius

    The formula above assumes rotation around the origin.
    In our case, we are rotating around the centroid.
    To account for this, we use the formula below
        X = xcos(φ) + ysin(φ) + centroid_x
        Y = −xsin(φ) + ycos(φ) + centroid_y
</pre> <div class="fragment"><div class="line"><span class="lineno">  953</span><span class="keyword">def </span>_compute_regular_polygon_vertices(bounding_circle, n_sides, rotation):</div>
<div class="line"><span class="lineno">  954</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  955</span><span class="stringliteral">    Generate a list of vertices for a 2D regular polygon.</span></div>
<div class="line"><span class="lineno">  956</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  957</span><span class="stringliteral">    :param bounding_circle: The bounding circle is a tuple defined</span></div>
<div class="line"><span class="lineno">  958</span><span class="stringliteral">        by a point and radius. The polygon is inscribed in this circle.</span></div>
<div class="line"><span class="lineno">  959</span><span class="stringliteral">        (e.g. ``bounding_circle=(x, y, r)`` or ``((x, y), r)``)</span></div>
<div class="line"><span class="lineno">  960</span><span class="stringliteral">    :param n_sides: Number of sides</span></div>
<div class="line"><span class="lineno">  961</span><span class="stringliteral">        (e.g. ``n_sides=3`` for a triangle, ``6`` for a hexagon)</span></div>
<div class="line"><span class="lineno">  962</span><span class="stringliteral">    :param rotation: Apply an arbitrary rotation to the polygon</span></div>
<div class="line"><span class="lineno">  963</span><span class="stringliteral">        (e.g. ``rotation=90``, applies a 90 degree rotation)</span></div>
<div class="line"><span class="lineno">  964</span><span class="stringliteral">    :return: List of regular polygon vertices</span></div>
<div class="line"><span class="lineno">  965</span><span class="stringliteral">        (e.g. ``[(25, 50), (50, 50), (50, 25), (25, 25)]``)</span></div>
<div class="line"><span class="lineno">  966</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  967</span><span class="stringliteral">    How are the vertices computed?</span></div>
<div class="line"><span class="lineno">  968</span><span class="stringliteral">    1. Compute the following variables</span></div>
<div class="line"><span class="lineno">  969</span><span class="stringliteral">        - theta: Angle between the apothem &amp; the nearest polygon vertex</span></div>
<div class="line"><span class="lineno">  970</span><span class="stringliteral">        - side_length: Length of each polygon edge</span></div>
<div class="line"><span class="lineno">  971</span><span class="stringliteral">        - centroid: Center of bounding circle (1st, 2nd elements of bounding_circle)</span></div>
<div class="line"><span class="lineno">  972</span><span class="stringliteral">        - polygon_radius: Polygon radius (last element of bounding_circle)</span></div>
<div class="line"><span class="lineno">  973</span><span class="stringliteral">        - angles: Location of each polygon vertex in polar grid</span></div>
<div class="line"><span class="lineno">  974</span><span class="stringliteral">            (e.g. A square with 0 degree rotation =&gt; [225.0, 315.0, 45.0, 135.0])</span></div>
<div class="line"><span class="lineno">  975</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  976</span><span class="stringliteral">    2. For each angle in angles, get the polygon vertex at that angle</span></div>
<div class="line"><span class="lineno">  977</span><span class="stringliteral">        The vertex is computed using the equation below.</span></div>
<div class="line"><span class="lineno">  978</span><span class="stringliteral">            X= xcos(φ) + ysin(φ)</span></div>
<div class="line"><span class="lineno">  979</span><span class="stringliteral">            Y= −xsin(φ) + ycos(φ)</span></div>
<div class="line"><span class="lineno">  980</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  981</span><span class="stringliteral">        Note:</span></div>
<div class="line"><span class="lineno">  982</span><span class="stringliteral">            φ = angle in degrees</span></div>
<div class="line"><span class="lineno">  983</span><span class="stringliteral">            x = 0</span></div>
<div class="line"><span class="lineno">  984</span><span class="stringliteral">            y = polygon_radius</span></div>
<div class="line"><span class="lineno">  985</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  986</span><span class="stringliteral">        The formula above assumes rotation around the origin.</span></div>
<div class="line"><span class="lineno">  987</span><span class="stringliteral">        In our case, we are rotating around the centroid.</span></div>
<div class="line"><span class="lineno">  988</span><span class="stringliteral">        To account for this, we use the formula below</span></div>
<div class="line"><span class="lineno">  989</span><span class="stringliteral">            X = xcos(φ) + ysin(φ) + centroid_x</span></div>
<div class="line"><span class="lineno">  990</span><span class="stringliteral">            Y = −xsin(φ) + ycos(φ) + centroid_y</span></div>
<div class="line"><span class="lineno">  991</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  992</span>    <span class="comment"># 1. Error Handling</span></div>
<div class="line"><span class="lineno">  993</span>    <span class="comment"># 1.1 Check `n_sides` has an appropriate value</span></div>
<div class="line"><span class="lineno">  994</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(n_sides, int):</div>
<div class="line"><span class="lineno">  995</span>        msg = <span class="stringliteral">&quot;n_sides should be an int&quot;</span></div>
<div class="line"><span class="lineno">  996</span>        <span class="keywordflow">raise</span> TypeError(msg)</div>
<div class="line"><span class="lineno">  997</span>    <span class="keywordflow">if</span> n_sides &lt; 3:</div>
<div class="line"><span class="lineno">  998</span>        msg = <span class="stringliteral">&quot;n_sides should be an int &gt; 2&quot;</span></div>
<div class="line"><span class="lineno">  999</span>        <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1000</span> </div>
<div class="line"><span class="lineno"> 1001</span>    <span class="comment"># 1.2 Check `bounding_circle` has an appropriate value</span></div>
<div class="line"><span class="lineno"> 1002</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(bounding_circle, (list, tuple)):</div>
<div class="line"><span class="lineno"> 1003</span>        msg = <span class="stringliteral">&quot;bounding_circle should be a tuple&quot;</span></div>
<div class="line"><span class="lineno"> 1004</span>        <span class="keywordflow">raise</span> TypeError(msg)</div>
<div class="line"><span class="lineno"> 1005</span> </div>
<div class="line"><span class="lineno"> 1006</span>    <span class="keywordflow">if</span> len(bounding_circle) == 3:</div>
<div class="line"><span class="lineno"> 1007</span>        *centroid, polygon_radius = bounding_circle</div>
<div class="line"><span class="lineno"> 1008</span>    <span class="keywordflow">elif</span> len(bounding_circle) == 2:</div>
<div class="line"><span class="lineno"> 1009</span>        centroid, polygon_radius = bounding_circle</div>
<div class="line"><span class="lineno"> 1010</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1011</span>        msg = (</div>
<div class="line"><span class="lineno"> 1012</span>            <span class="stringliteral">&quot;bounding_circle should contain 2D coordinates &quot;</span></div>
<div class="line"><span class="lineno"> 1013</span>            <span class="stringliteral">&quot;and a radius (e.g. (x, y, r) or ((x, y), r) )&quot;</span></div>
<div class="line"><span class="lineno"> 1014</span>        )</div>
<div class="line"><span class="lineno"> 1015</span>        <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1016</span> </div>
<div class="line"><span class="lineno"> 1017</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> all(isinstance(i, (int, float)) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> (*centroid, polygon_radius)):</div>
<div class="line"><span class="lineno"> 1018</span>        msg = <span class="stringliteral">&quot;bounding_circle should only contain numeric data&quot;</span></div>
<div class="line"><span class="lineno"> 1019</span>        <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1020</span> </div>
<div class="line"><span class="lineno"> 1021</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> len(centroid) == 2:</div>
<div class="line"><span class="lineno"> 1022</span>        msg = <span class="stringliteral">&quot;bounding_circle centre should contain 2D coordinates (e.g. (x, y))&quot;</span></div>
<div class="line"><span class="lineno"> 1023</span>        <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1024</span> </div>
<div class="line"><span class="lineno"> 1025</span>    <span class="keywordflow">if</span> polygon_radius &lt;= 0:</div>
<div class="line"><span class="lineno"> 1026</span>        msg = <span class="stringliteral">&quot;bounding_circle radius should be &gt; 0&quot;</span></div>
<div class="line"><span class="lineno"> 1027</span>        <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span>    <span class="comment"># 1.3 Check `rotation` has an appropriate value</span></div>
<div class="line"><span class="lineno"> 1030</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(rotation, (int, float)):</div>
<div class="line"><span class="lineno"> 1031</span>        msg = <span class="stringliteral">&quot;rotation should be an int or float&quot;</span></div>
<div class="line"><span class="lineno"> 1032</span>        <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span>    <span class="comment"># 2. Define Helper Functions</span></div>
<div class="line"><span class="lineno"> 1035</span>    <span class="keyword">def </span>_apply_rotation(point, degrees, centroid):</div>
<div class="line"><span class="lineno"> 1036</span>        <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno"> 1037</span>            round(</div>
<div class="line"><span class="lineno"> 1038</span>                point[0] * math.cos(math.radians(360 - degrees))</div>
<div class="line"><span class="lineno"> 1039</span>                - point[1] * math.sin(math.radians(360 - degrees))</div>
<div class="line"><span class="lineno"> 1040</span>                + centroid[0],</div>
<div class="line"><span class="lineno"> 1041</span>                2,</div>
<div class="line"><span class="lineno"> 1042</span>            ),</div>
<div class="line"><span class="lineno"> 1043</span>            round(</div>
<div class="line"><span class="lineno"> 1044</span>                point[1] * math.cos(math.radians(360 - degrees))</div>
<div class="line"><span class="lineno"> 1045</span>                + point[0] * math.sin(math.radians(360 - degrees))</div>
<div class="line"><span class="lineno"> 1046</span>                + centroid[1],</div>
<div class="line"><span class="lineno"> 1047</span>                2,</div>
<div class="line"><span class="lineno"> 1048</span>            ),</div>
<div class="line"><span class="lineno"> 1049</span>        )</div>
<div class="line"><span class="lineno"> 1050</span> </div>
<div class="line"><span class="lineno"> 1051</span>    <span class="keyword">def </span>_compute_polygon_vertex(centroid, polygon_radius, angle):</div>
<div class="line"><span class="lineno"> 1052</span>        start_point = [polygon_radius, 0]</div>
<div class="line"><span class="lineno"> 1053</span>        <span class="keywordflow">return</span> _apply_rotation(start_point, angle, centroid)</div>
<div class="line"><span class="lineno"> 1054</span> </div>
<div class="line"><span class="lineno"> 1055</span>    <span class="keyword">def </span>_get_angles(n_sides, rotation):</div>
<div class="line"><span class="lineno"> 1056</span>        angles = []</div>
<div class="line"><span class="lineno"> 1057</span>        degrees = 360 / n_sides</div>
<div class="line"><span class="lineno"> 1058</span>        <span class="comment"># Start with the bottom left polygon vertex</span></div>
<div class="line"><span class="lineno"> 1059</span>        current_angle = (270 - 0.5 * degrees) + rotation</div>
<div class="line"><span class="lineno"> 1060</span>        <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(0, n_sides):</div>
<div class="line"><span class="lineno"> 1061</span>            angles.append(current_angle)</div>
<div class="line"><span class="lineno"> 1062</span>            current_angle += degrees</div>
<div class="line"><span class="lineno"> 1063</span>            <span class="keywordflow">if</span> current_angle &gt; 360:</div>
<div class="line"><span class="lineno"> 1064</span>                current_angle -= 360</div>
<div class="line"><span class="lineno"> 1065</span>        <span class="keywordflow">return</span> angles</div>
<div class="line"><span class="lineno"> 1066</span> </div>
<div class="line"><span class="lineno"> 1067</span>    <span class="comment"># 3. Variable Declarations</span></div>
<div class="line"><span class="lineno"> 1068</span>    angles = _get_angles(n_sides, rotation)</div>
<div class="line"><span class="lineno"> 1069</span> </div>
<div class="line"><span class="lineno"> 1070</span>    <span class="comment"># 4. Compute Vertices</span></div>
<div class="line"><span class="lineno"> 1071</span>    <span class="keywordflow">return</span> [</div>
<div class="line"><span class="lineno"> 1072</span>        _compute_polygon_vertex(centroid, polygon_radius, angle) <span class="keywordflow">for</span> angle <span class="keywordflow">in</span> angles</div>
<div class="line"><span class="lineno"> 1073</span>    ]</div>
<div class="line"><span class="lineno"> 1074</span> </div>
<div class="line"><span class="lineno"> 1075</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac54fb587354c769670f2510f00c619ba" name="ac54fb587354c769670f2510f00c619ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac54fb587354c769670f2510f00c619ba">&#9670;&#160;</a></span>Draw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.ImageDraw.Draw </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">A simple 2D drawing interface for PIL images.

:param im: The image to draw in.
:param mode: Optional mode to use for color values.  For RGB
   images, this argument can be RGB or RGBA (to blend the
   drawing into the image).  For all other modes, this argument
   must be the same as the image mode.  If omitted, the mode
   defaults to the mode of the image.
</pre> <div class="fragment"><div class="line"><span class="lineno">  849</span><span class="keyword">def </span>Draw(im, mode=None):</div>
<div class="line"><span class="lineno">  850</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  851</span><span class="stringliteral">    A simple 2D drawing interface for PIL images.</span></div>
<div class="line"><span class="lineno">  852</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  853</span><span class="stringliteral">    :param im: The image to draw in.</span></div>
<div class="line"><span class="lineno">  854</span><span class="stringliteral">    :param mode: Optional mode to use for color values.  For RGB</span></div>
<div class="line"><span class="lineno">  855</span><span class="stringliteral">       images, this argument can be RGB or RGBA (to blend the</span></div>
<div class="line"><span class="lineno">  856</span><span class="stringliteral">       drawing into the image).  For all other modes, this argument</span></div>
<div class="line"><span class="lineno">  857</span><span class="stringliteral">       must be the same as the image mode.  If omitted, the mode</span></div>
<div class="line"><span class="lineno">  858</span><span class="stringliteral">       defaults to the mode of the image.</span></div>
<div class="line"><span class="lineno">  859</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  860</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  861</span>        <span class="keywordflow">return</span> im.getdraw(mode)</div>
<div class="line"><span class="lineno">  862</span>    <span class="keywordflow">except</span> AttributeError:</div>
<div class="line"><span class="lineno">  863</span>        <span class="keywordflow">return</span> ImageDraw(im, mode)</div>
<div class="line"><span class="lineno">  864</span> </div>
<div class="line"><span class="lineno">  865</span> </div>
<div class="line"><span class="lineno">  866</span><span class="comment"># experimental access to the outline API</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b21721ebbdff523261ed4d16062c104" name="a7b21721ebbdff523261ed4d16062c104"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b21721ebbdff523261ed4d16062c104">&#9670;&#160;</a></span>floodfill()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.ImageDraw.floodfill </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>xy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>border</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>thresh</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">(experimental) Fills a bounded region with a given color.

:param image: Target image.
:param xy: Seed position (a 2-item coordinate tuple). See
    :ref:`coordinate-system`.
:param value: Fill color.
:param border: Optional border value.  If given, the region consists of
    pixels with a color different from the border color.  If not given,
    the region consists of pixels having the same color as the seed
    pixel.
:param thresh: Optional threshold value which specifies a maximum
    tolerable difference of a pixel value from the 'background' in
    order for it to be replaced. Useful for filling regions of
    non-homogeneous, but similar, colors.
</pre> <div class="fragment"><div class="line"><span class="lineno">  897</span><span class="keyword">def </span>floodfill(image, xy, value, border=None, thresh=0):</div>
<div class="line"><span class="lineno">  898</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  899</span><span class="stringliteral">    (experimental) Fills a bounded region with a given color.</span></div>
<div class="line"><span class="lineno">  900</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  901</span><span class="stringliteral">    :param image: Target image.</span></div>
<div class="line"><span class="lineno">  902</span><span class="stringliteral">    :param xy: Seed position (a 2-item coordinate tuple). See</span></div>
<div class="line"><span class="lineno">  903</span><span class="stringliteral">        :ref:`coordinate-system`.</span></div>
<div class="line"><span class="lineno">  904</span><span class="stringliteral">    :param value: Fill color.</span></div>
<div class="line"><span class="lineno">  905</span><span class="stringliteral">    :param border: Optional border value.  If given, the region consists of</span></div>
<div class="line"><span class="lineno">  906</span><span class="stringliteral">        pixels with a color different from the border color.  If not given,</span></div>
<div class="line"><span class="lineno">  907</span><span class="stringliteral">        the region consists of pixels having the same color as the seed</span></div>
<div class="line"><span class="lineno">  908</span><span class="stringliteral">        pixel.</span></div>
<div class="line"><span class="lineno">  909</span><span class="stringliteral">    :param thresh: Optional threshold value which specifies a maximum</span></div>
<div class="line"><span class="lineno">  910</span><span class="stringliteral">        tolerable difference of a pixel value from the &#39;background&#39; in</span></div>
<div class="line"><span class="lineno">  911</span><span class="stringliteral">        order for it to be replaced. Useful for filling regions of</span></div>
<div class="line"><span class="lineno">  912</span><span class="stringliteral">        non-homogeneous, but similar, colors.</span></div>
<div class="line"><span class="lineno">  913</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  914</span>    <span class="comment"># based on an implementation by Eric S. Raymond</span></div>
<div class="line"><span class="lineno">  915</span>    <span class="comment"># amended by yo1995 @20180806</span></div>
<div class="line"><span class="lineno">  916</span>    pixel = image.load()</div>
<div class="line"><span class="lineno">  917</span>    x, y = xy</div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  919</span>        background = pixel[x, y]</div>
<div class="line"><span class="lineno">  920</span>        <span class="keywordflow">if</span> _color_diff(value, background) &lt;= thresh:</div>
<div class="line"><span class="lineno">  921</span>            <span class="keywordflow">return</span>  <span class="comment"># seed point already has fill color</span></div>
<div class="line"><span class="lineno">  922</span>        pixel[x, y] = value</div>
<div class="line"><span class="lineno">  923</span>    <span class="keywordflow">except</span> (ValueError, IndexError):</div>
<div class="line"><span class="lineno">  924</span>        <span class="keywordflow">return</span>  <span class="comment"># seed point outside image</span></div>
<div class="line"><span class="lineno">  925</span>    edge = {(x, y)}</div>
<div class="line"><span class="lineno">  926</span>    <span class="comment"># use a set to keep record of current and previous edge pixels</span></div>
<div class="line"><span class="lineno">  927</span>    <span class="comment"># to reduce memory consumption</span></div>
<div class="line"><span class="lineno">  928</span>    full_edge = set()</div>
<div class="line"><span class="lineno">  929</span>    <span class="keywordflow">while</span> edge:</div>
<div class="line"><span class="lineno">  930</span>        new_edge = set()</div>
<div class="line"><span class="lineno">  931</span>        <span class="keywordflow">for</span> (x, y) <span class="keywordflow">in</span> edge:  <span class="comment"># 4 adjacent method</span></div>
<div class="line"><span class="lineno">  932</span>            <span class="keywordflow">for</span> (s, t) <span class="keywordflow">in</span> ((x + 1, y), (x - 1, y), (x, y + 1), (x, y - 1)):</div>
<div class="line"><span class="lineno">  933</span>                <span class="comment"># If already processed, or if a coordinate is negative, skip</span></div>
<div class="line"><span class="lineno">  934</span>                <span class="keywordflow">if</span> (s, t) <span class="keywordflow">in</span> full_edge <span class="keywordflow">or</span> s &lt; 0 <span class="keywordflow">or</span> t &lt; 0:</div>
<div class="line"><span class="lineno">  935</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  936</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  937</span>                    p = pixel[s, t]</div>
<div class="line"><span class="lineno">  938</span>                <span class="keywordflow">except</span> (ValueError, IndexError):</div>
<div class="line"><span class="lineno">  939</span>                    <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  940</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  941</span>                    full_edge.add((s, t))</div>
<div class="line"><span class="lineno">  942</span>                    <span class="keywordflow">if</span> border <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  943</span>                        fill = _color_diff(p, background) &lt;= thresh</div>
<div class="line"><span class="lineno">  944</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  945</span>                        fill = p != value <span class="keywordflow">and</span> p != border</div>
<div class="line"><span class="lineno">  946</span>                    <span class="keywordflow">if</span> fill:</div>
<div class="line"><span class="lineno">  947</span>                        pixel[s, t] = value</div>
<div class="line"><span class="lineno">  948</span>                        new_edge.add((s, t))</div>
<div class="line"><span class="lineno">  949</span>        full_edge = edge  <span class="comment"># discard pixels processed</span></div>
<div class="line"><span class="lineno">  950</span>        edge = new_edge</div>
<div class="line"><span class="lineno">  951</span> </div>
<div class="line"><span class="lineno">  952</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a581fb525975f1b94435f15d8077adb5e" name="a581fb525975f1b94435f15d8077adb5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a581fb525975f1b94435f15d8077adb5e">&#9670;&#160;</a></span>getdraw()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.ImageDraw.getdraw </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>im</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hints</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">(Experimental) A more advanced 2D drawing interface for PIL images,
based on the WCK interface.

:param im: The image to draw in.
:param hints: An optional list of hints.
:returns: A (drawing context, drawing resource factory) tuple.
</pre> <div class="fragment"><div class="line"><span class="lineno">  873</span><span class="keyword">def </span>getdraw(im=None, hints=None):</div>
<div class="line"><span class="lineno">  874</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  875</span><span class="stringliteral">    (Experimental) A more advanced 2D drawing interface for PIL images,</span></div>
<div class="line"><span class="lineno">  876</span><span class="stringliteral">    based on the WCK interface.</span></div>
<div class="line"><span class="lineno">  877</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  878</span><span class="stringliteral">    :param im: The image to draw in.</span></div>
<div class="line"><span class="lineno">  879</span><span class="stringliteral">    :param hints: An optional list of hints.</span></div>
<div class="line"><span class="lineno">  880</span><span class="stringliteral">    :returns: A (drawing context, drawing resource factory) tuple.</span></div>
<div class="line"><span class="lineno">  881</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  882</span>    <span class="comment"># FIXME: this needs more work!</span></div>
<div class="line"><span class="lineno">  883</span>    <span class="comment"># FIXME: come up with a better &#39;hints&#39; scheme.</span></div>
<div class="line"><span class="lineno">  884</span>    handler = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  885</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> hints <span class="keywordflow">or</span> <span class="stringliteral">&quot;nicest&quot;</span> <span class="keywordflow">in</span> hints:</div>
<div class="line"><span class="lineno">  886</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  887</span>            <span class="keyword">from</span> . <span class="keyword">import</span> _imagingagg <span class="keyword">as</span> handler</div>
<div class="line"><span class="lineno">  888</span>        <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno">  889</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  890</span>    <span class="keywordflow">if</span> handler <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  891</span>        <span class="keyword">from</span> . <span class="keyword">import</span> ImageDraw2 <span class="keyword">as</span> handler</div>
<div class="line"><span class="lineno">  892</span>    <span class="keywordflow">if</span> im:</div>
<div class="line"><span class="lineno">  893</span>        im = handler.Draw(im)</div>
<div class="line"><span class="lineno">  894</span>    <span class="keywordflow">return</span> im, handler</div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aee58acc4f36851df639ca75bdcc41ab7" name="aee58acc4f36851df639ca75bdcc41ab7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee58acc4f36851df639ca75bdcc41ab7">&#9670;&#160;</a></span>Outline</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.ImageDraw.Outline = Image.core.outline</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
