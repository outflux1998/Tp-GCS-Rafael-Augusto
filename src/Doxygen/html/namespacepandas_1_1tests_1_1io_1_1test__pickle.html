<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.tests.io.test_pickle Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1io.html">io</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html">test_pickle</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pandas.tests.io.test_pickle Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__pickle_1_1_my_tz.html">MyTz</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__pickle_1_1_test_compression.html">TestCompression</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1io_1_1test__pickle_1_1_test_protocol.html">TestProtocol</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acf7aa7f25e89e7d7ab094becb997a2b3" id="r_acf7aa7f25e89e7d7ab094becb997a2b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#acf7aa7f25e89e7d7ab094becb997a2b3">current_pickle_data</a> ()</td></tr>
<tr class="separator:acf7aa7f25e89e7d7ab094becb997a2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d65127f35a3ad8b2b746481c0279d5b" id="r_a7d65127f35a3ad8b2b746481c0279d5b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a7d65127f35a3ad8b2b746481c0279d5b">compare_element</a> (result, expected, typ)</td></tr>
<tr class="separator:a7d65127f35a3ad8b2b746481c0279d5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23a183c2dfb6b1e4f588005a07df9f44" id="r_a23a183c2dfb6b1e4f588005a07df9f44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a23a183c2dfb6b1e4f588005a07df9f44">legacy_pickle</a> (request, datapath)</td></tr>
<tr class="separator:a23a183c2dfb6b1e4f588005a07df9f44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab92f60871a748d5a753bf720018da3ab" id="r_ab92f60871a748d5a753bf720018da3ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#ab92f60871a748d5a753bf720018da3ab">test_pickles</a> (<a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a23a183c2dfb6b1e4f588005a07df9f44">legacy_pickle</a>)</td></tr>
<tr class="separator:ab92f60871a748d5a753bf720018da3ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a065845371c4221215605c62392635787" id="r_a065845371c4221215605c62392635787"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a065845371c4221215605c62392635787">python_pickler</a> (obj, path)</td></tr>
<tr class="separator:a065845371c4221215605c62392635787"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dacc6cb45f02390a0bda568af6030f5" id="r_a8dacc6cb45f02390a0bda568af6030f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a8dacc6cb45f02390a0bda568af6030f5">python_unpickler</a> (path)</td></tr>
<tr class="separator:a8dacc6cb45f02390a0bda568af6030f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b56d2a8408f2a03b7e736aebbce7221" id="r_a7b56d2a8408f2a03b7e736aebbce7221"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a7b56d2a8408f2a03b7e736aebbce7221">test_round_trip_current</a> (<a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#acf7aa7f25e89e7d7ab094becb997a2b3">current_pickle_data</a>, pickle_writer, writer)</td></tr>
<tr class="separator:a7b56d2a8408f2a03b7e736aebbce7221"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8299bebc77ff1d9a28c05e623dcdea9a" id="r_a8299bebc77ff1d9a28c05e623dcdea9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a8299bebc77ff1d9a28c05e623dcdea9a">test_pickle_path_pathlib</a> ()</td></tr>
<tr class="separator:a8299bebc77ff1d9a28c05e623dcdea9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72f086690910d956d2f58b1eeff4b0f" id="r_ab72f086690910d956d2f58b1eeff4b0f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#ab72f086690910d956d2f58b1eeff4b0f">test_pickle_path_localpath</a> ()</td></tr>
<tr class="separator:ab72f086690910d956d2f58b1eeff4b0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee7f622a4d6c9497edc99bf8d110a9e1" id="r_aee7f622a4d6c9497edc99bf8d110a9e1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#aee7f622a4d6c9497edc99bf8d110a9e1">test_legacy_sparse_warning</a> (datapath, typ)</td></tr>
<tr class="separator:aee7f622a4d6c9497edc99bf8d110a9e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70b8f82f1256d3b882500e0589320b5d" id="r_a70b8f82f1256d3b882500e0589320b5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a70b8f82f1256d3b882500e0589320b5d">get_random_path</a> ()</td></tr>
<tr class="separator:a70b8f82f1256d3b882500e0589320b5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da463e4c6fde8abe43917825de9f280" id="r_a5da463e4c6fde8abe43917825de9f280"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a5da463e4c6fde8abe43917825de9f280">test_unicode_decode_error</a> (datapath, pickle_file, excols)</td></tr>
<tr class="separator:a5da463e4c6fde8abe43917825de9f280"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595fac046094f48f9b26b15c6d382703" id="r_a595fac046094f48f9b26b15c6d382703"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a595fac046094f48f9b26b15c6d382703">test_pickle_buffer_roundtrip</a> ()</td></tr>
<tr class="separator:a595fac046094f48f9b26b15c6d382703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea818a51827b0eec3aa6d0677956b3b2" id="r_aea818a51827b0eec3aa6d0677956b3b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#aea818a51827b0eec3aa6d0677956b3b2">test_pickle_generalurl_read</a> (monkeypatch, mockurl)</td></tr>
<tr class="separator:aea818a51827b0eec3aa6d0677956b3b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0d2eb9a4eff204c43b45db538171fe0" id="r_ad0d2eb9a4eff204c43b45db538171fe0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#ad0d2eb9a4eff204c43b45db538171fe0">test_pickle_fsspec_roundtrip</a> ()</td></tr>
<tr class="separator:ad0d2eb9a4eff204c43b45db538171fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56c6f43bdf6d6bec6bbf2dd37967629f" id="r_a56c6f43bdf6d6bec6bbf2dd37967629f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a56c6f43bdf6d6bec6bbf2dd37967629f">test_read_pickle_with_subclass</a> ()</td></tr>
<tr class="separator:a56c6f43bdf6d6bec6bbf2dd37967629f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b49940ecc57f8f4b19aec8194d0bc27" id="r_a7b49940ecc57f8f4b19aec8194d0bc27"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a7b49940ecc57f8f4b19aec8194d0bc27">test_pickle_binary_object_compression</a> (compression)</td></tr>
<tr class="separator:a7b49940ecc57f8f4b19aec8194d0bc27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ab866a3deacad5c651f9a6ecdab7ddc" id="r_a9ab866a3deacad5c651f9a6ecdab7ddc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a9ab866a3deacad5c651f9a6ecdab7ddc">test_pickle_dataframe_with_multilevel_index</a> (multiindex_year_month_day_dataframe_random_data, multiindex_dataframe_random_data)</td></tr>
<tr class="separator:a9ab866a3deacad5c651f9a6ecdab7ddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4dc54685a3a6fce264c4fc635896957" id="r_ac4dc54685a3a6fce264c4fc635896957"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#ac4dc54685a3a6fce264c4fc635896957">test_pickle_timeseries_periodindex</a> ()</td></tr>
<tr class="separator:ac4dc54685a3a6fce264c4fc635896957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ba4a3346534806fdd76fa59476d368" id="r_a48ba4a3346534806fdd76fa59476d368"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a48ba4a3346534806fdd76fa59476d368">test_pickle_preserve_name</a> (name)</td></tr>
<tr class="separator:a48ba4a3346534806fdd76fa59476d368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1fc0367e69529847aa8f41ec0b55fe2" id="r_ac1fc0367e69529847aa8f41ec0b55fe2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#ac1fc0367e69529847aa8f41ec0b55fe2">test_pickle_datetimes</a> (datetime_series)</td></tr>
<tr class="separator:ac1fc0367e69529847aa8f41ec0b55fe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee9d445f0b6fb839896aab4f75be9ca" id="r_a4ee9d445f0b6fb839896aab4f75be9ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a4ee9d445f0b6fb839896aab4f75be9ca">test_pickle_strings</a> (string_series)</td></tr>
<tr class="separator:a4ee9d445f0b6fb839896aab4f75be9ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac652973b86c733854d7cca32e53f1f03" id="r_ac652973b86c733854d7cca32e53f1f03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#ac652973b86c733854d7cca32e53f1f03">test_pickle_preserves_block_ndim</a> ()</td></tr>
<tr class="separator:ac652973b86c733854d7cca32e53f1f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a097efdd4c87081d6b908e44e6df4ad94" id="r_a097efdd4c87081d6b908e44e6df4ad94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a097efdd4c87081d6b908e44e6df4ad94">test_pickle_big_dataframe_compression</a> (protocol, compression)</td></tr>
<tr class="separator:a097efdd4c87081d6b908e44e6df4ad94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88e4dbd4d8919f65b6f7d3343b5cba06" id="r_a88e4dbd4d8919f65b6f7d3343b5cba06"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a88e4dbd4d8919f65b6f7d3343b5cba06">test_pickle_frame_v124_unpickle_130</a> ()</td></tr>
<tr class="separator:a88e4dbd4d8919f65b6f7d3343b5cba06"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aae903dc1681f8430d969f74910ef9579" id="r_aae903dc1681f8430d969f74910ef9579"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#aae903dc1681f8430d969f74910ef9579">pytestmark</a></td></tr>
<tr class="separator:aae903dc1681f8430d969f74910ef9579"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19513b4a87fe5169f829c8a01011b34c" id="r_a19513b4a87fe5169f829c8a01011b34c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a19513b4a87fe5169f829c8a01011b34c">legacy_dirname</a> = os.path.join(os.path.dirname(__file__), &quot;data&quot;, &quot;legacy_pickle&quot;)</td></tr>
<tr class="separator:a19513b4a87fe5169f829c8a01011b34c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3de6b77abbaf5b835c557ff41fae7a9e" id="r_a3de6b77abbaf5b835c557ff41fae7a9e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a3de6b77abbaf5b835c557ff41fae7a9e">files</a> = glob.glob(os.path.join(<a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a19513b4a87fe5169f829c8a01011b34c">legacy_dirname</a>, &quot;*&quot;, &quot;*.pickle&quot;))</td></tr>
<tr class="separator:a3de6b77abbaf5b835c557ff41fae7a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4ccb074830d696e74ac7fe2d097325a" id="r_ad4ccb074830d696e74ac7fe2d097325a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#ad4ccb074830d696e74ac7fe2d097325a">file</a></td></tr>
<tr class="separator:ad4ccb074830d696e74ac7fe2d097325a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a196a68ed7c82daa762582ca662359d81" id="r_a196a68ed7c82daa762582ca662359d81"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a196a68ed7c82daa762582ca662359d81">headers</a></td></tr>
<tr class="separator:a196a68ed7c82daa762582ca662359d81"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">manage legacy pickle tests

How to add pickle tests:

1. Install pandas version intended to output the pickle.

2. Execute "generate_legacy_storage_files.py" to create the pickle.
$ python generate_legacy_storage_files.py &lt;output_dir&gt; pickle

3. Move the created pickle to "data/legacy_pickle/&lt;version&gt;" directory.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a7d65127f35a3ad8b2b746481c0279d5b" name="a7d65127f35a3ad8b2b746481c0279d5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d65127f35a3ad8b2b746481c0279d5b">&#9670;&#160;</a></span>compare_element()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.compare_element </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>typ</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   78</span><span class="keyword">def </span>compare_element(result, expected, typ):</div>
<div class="line"><span class="lineno">   79</span>    <span class="keywordflow">if</span> isinstance(expected, Index):</div>
<div class="line"><span class="lineno">   80</span>        tm.assert_index_equal(expected, result)</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">if</span> typ.startswith(<span class="stringliteral">&quot;sp_&quot;</span>):</div>
<div class="line"><span class="lineno">   84</span>        tm.assert_equal(result, expected)</div>
<div class="line"><span class="lineno">   85</span>    <span class="keywordflow">elif</span> typ == <span class="stringliteral">&quot;timestamp&quot;</span>:</div>
<div class="line"><span class="lineno">   86</span>        <span class="keywordflow">if</span> expected <span class="keywordflow">is</span> pd.NaT:</div>
<div class="line"><span class="lineno">   87</span>            <span class="keyword">assert</span> result <span class="keywordflow">is</span> pd.NaT</div>
<div class="line"><span class="lineno">   88</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   89</span>            <span class="keyword">assert</span> result == expected</div>
<div class="line"><span class="lineno">   90</span>            <span class="keyword">assert</span> result.freq == expected.freq</div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   92</span>        comparator = getattr(tm, f<span class="stringliteral">&quot;assert_{typ}_equal&quot;</span>, tm.assert_almost_equal)</div>
<div class="line"><span class="lineno">   93</span>        comparator(result, expected)</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acf7aa7f25e89e7d7ab094becb997a2b3" name="acf7aa7f25e89e7d7ab094becb997a2b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acf7aa7f25e89e7d7ab094becb997a2b3">&#9670;&#160;</a></span>current_pickle_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.current_pickle_data </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   63</span><span class="keyword">def </span>current_pickle_data():</div>
<div class="line"><span class="lineno">   64</span>    <span class="comment"># our current version pickle data</span></div>
<div class="line"><span class="lineno">   65</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacepandas_1_1tests_1_1io_1_1generate__legacy__storage__files.html">pandas.tests.io.generate_legacy_storage_files</a> <span class="keyword">import</span> create_pickle_data</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>    <span class="keyword">with</span> catch_warnings():</div>
<div class="line"><span class="lineno">   68</span>        filterwarnings(</div>
<div class="line"><span class="lineno">   69</span>            <span class="stringliteral">&quot;ignore&quot;</span>, <span class="stringliteral">&quot;The &#39;freq&#39; argument in Timestamp&quot;</span>, category=FutureWarning</div>
<div class="line"><span class="lineno">   70</span>        )</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>        <span class="keywordflow">return</span> create_pickle_data()</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span><span class="comment"># ---------------------</span></div>
<div class="line"><span class="lineno">   76</span><span class="comment"># comparison functions</span></div>
<div class="line"><span class="lineno">   77</span><span class="comment"># ---------------------</span></div>
<div class="ttc" id="anamespacepandas_1_1tests_1_1io_1_1generate__legacy__storage__files_html"><div class="ttname"><a href="namespacepandas_1_1tests_1_1io_1_1generate__legacy__storage__files.html">pandas.tests.io.generate_legacy_storage_files</a></div><div class="ttdef"><b>Definition</b> generate_legacy_storage_files.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a70b8f82f1256d3b882500e0589320b5d" name="a70b8f82f1256d3b882500e0589320b5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70b8f82f1256d3b882500e0589320b5d">&#9670;&#160;</a></span>get_random_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.get_random_path </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  252</span><span class="keyword">def </span>get_random_path():</div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordflow">return</span> f<span class="stringliteral">&quot;__{uuid.uuid4()}__.pickle&quot;</span></div>
<div class="line"><span class="lineno">  254</span> </div>
<div class="line"><span class="lineno">  255</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a23a183c2dfb6b1e4f588005a07df9f44" name="a23a183c2dfb6b1e4f588005a07df9f44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23a183c2dfb6b1e4f588005a07df9f44">&#9670;&#160;</a></span>legacy_pickle()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.legacy_pickle </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  101</span><span class="keyword">def </span>legacy_pickle(request, datapath):</div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">return</span> datapath(request.param)</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span><span class="comment"># ---------------------</span></div>
<div class="line"><span class="lineno">  106</span><span class="comment"># tests</span></div>
<div class="line"><span class="lineno">  107</span><span class="comment"># ---------------------</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a065845371c4221215605c62392635787" name="a065845371c4221215605c62392635787"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a065845371c4221215605c62392635787">&#9670;&#160;</a></span>python_pickler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.python_pickler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  157</span><span class="keyword">def </span>python_pickler(obj, path):</div>
<div class="line"><span class="lineno">  158</span>    <span class="keyword">with</span> open(path, <span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> fh:</div>
<div class="line"><span class="lineno">  159</span>        pickle.dump(obj, fh, protocol=-1)</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dacc6cb45f02390a0bda568af6030f5" name="a8dacc6cb45f02390a0bda568af6030f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dacc6cb45f02390a0bda568af6030f5">&#9670;&#160;</a></span>python_unpickler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.python_unpickler </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  162</span><span class="keyword">def </span>python_unpickler(path):</div>
<div class="line"><span class="lineno">  163</span>    <span class="keyword">with</span> open(path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> fh:</div>
<div class="line"><span class="lineno">  164</span>        fh.seek(0)</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">return</span> pickle.load(fh)</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  169</span>    <span class="stringliteral">&quot;pickle_writer&quot;</span>,</div>
<div class="line"><span class="lineno">  170</span>    [</div>
<div class="line"><span class="lineno">  171</span>        pytest.param(python_pickler, id=<span class="stringliteral">&quot;python&quot;</span>),</div>
<div class="line"><span class="lineno">  172</span>        pytest.param(pd.to_pickle, id=<span class="stringliteral">&quot;pandas_proto_default&quot;</span>),</div>
<div class="line"><span class="lineno">  173</span>        pytest.param(</div>
<div class="line"><span class="lineno">  174</span>            functools.partial(pd.to_pickle, protocol=pickle.HIGHEST_PROTOCOL),</div>
<div class="line"><span class="lineno">  175</span>            id=<span class="stringliteral">&quot;pandas_proto_highest&quot;</span>,</div>
<div class="line"><span class="lineno">  176</span>        ),</div>
<div class="line"><span class="lineno">  177</span>        pytest.param(functools.partial(pd.to_pickle, protocol=4), id=<span class="stringliteral">&quot;pandas_proto_4&quot;</span>),</div>
<div class="line"><span class="lineno">  178</span>        pytest.param(</div>
<div class="line"><span class="lineno">  179</span>            functools.partial(pd.to_pickle, protocol=5),</div>
<div class="line"><span class="lineno">  180</span>            id=<span class="stringliteral">&quot;pandas_proto_5&quot;</span>,</div>
<div class="line"><span class="lineno">  181</span>        ),</div>
<div class="line"><span class="lineno">  182</span>    ],</div>
<div class="line"><span class="lineno">  183</span>)</div>
<div class="line"><span class="lineno">  184</span><span class="preprocessor">@pytest.mark.parametrize(&quot;writer&quot;, [pd.to_pickle, python_pickler])</span></div>
<div class="line"><span class="lineno">  185</span><span class="preprocessor">@pytest.mark.filterwarnings(&quot;ignore:The &#39;freq&#39; argument in Timestamp:FutureWarning&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee7f622a4d6c9497edc99bf8d110a9e1" name="aee7f622a4d6c9497edc99bf8d110a9e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee7f622a4d6c9497edc99bf8d110a9e1">&#9670;&#160;</a></span>test_legacy_sparse_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_legacy_sparse_warning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>typ</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generated with

&gt;&gt;&gt; df = pd.DataFrame({"A": [1, 2, 3, 4], "B": [0, 0, 1, 1]}).to_sparse()
&gt;&gt;&gt; df.to_pickle("pandas/tests/io/data/pickle/sparseframe-0.20.3.pickle.gz",
...              compression="gzip")

&gt;&gt;&gt; s = df['B']
&gt;&gt;&gt; s.to_pickle("pandas/tests/io/data/pickle/sparseseries-0.20.3.pickle.gz",
...             compression="gzip")
</pre> <div class="fragment"><div class="line"><span class="lineno">  225</span><span class="keyword">def </span>test_legacy_sparse_warning(datapath, typ):</div>
<div class="line"><span class="lineno">  226</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  227</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  228</span><span class="stringliteral">    Generated with</span></div>
<div class="line"><span class="lineno">  229</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  230</span><span class="stringliteral">    &gt;&gt;&gt; df = pd.DataFrame({&quot;A&quot;: [1, 2, 3, 4], &quot;B&quot;: [0, 0, 1, 1]}).to_sparse()</span></div>
<div class="line"><span class="lineno">  231</span><span class="stringliteral">    &gt;&gt;&gt; df.to_pickle(&quot;pandas/tests/io/data/pickle/sparseframe-0.20.3.pickle.gz&quot;,</span></div>
<div class="line"><span class="lineno">  232</span><span class="stringliteral">    ...              compression=&quot;gzip&quot;)</span></div>
<div class="line"><span class="lineno">  233</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral">    &gt;&gt;&gt; s = df[&#39;B&#39;]</span></div>
<div class="line"><span class="lineno">  235</span><span class="stringliteral">    &gt;&gt;&gt; s.to_pickle(&quot;pandas/tests/io/data/pickle/sparseseries-0.20.3.pickle.gz&quot;,</span></div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral">    ...             compression=&quot;gzip&quot;)</span></div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  238</span>    <span class="keyword">with</span> tm.assert_produces_warning(FutureWarning):</div>
<div class="line"><span class="lineno">  239</span>        simplefilter(<span class="stringliteral">&quot;ignore&quot;</span>, DeprecationWarning)  <span class="comment"># from boto</span></div>
<div class="line"><span class="lineno">  240</span>        pd.read_pickle(</div>
<div class="line"><span class="lineno">  241</span>            datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;pickle&quot;</span>, f<span class="stringliteral">&quot;{typ}-0.20.3.pickle.gz&quot;</span>),</div>
<div class="line"><span class="lineno">  242</span>            compression=<span class="stringliteral">&quot;gzip&quot;</span>,</div>
<div class="line"><span class="lineno">  243</span>        )</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span> </div>
<div class="line"><span class="lineno">  246</span><span class="comment"># ---------------------</span></div>
<div class="line"><span class="lineno">  247</span><span class="comment"># test pickle compression</span></div>
<div class="line"><span class="lineno">  248</span><span class="comment"># ---------------------</span></div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span><span class="preprocessor">@pytest.fixture</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a097efdd4c87081d6b908e44e6df4ad94" name="a097efdd4c87081d6b908e44e6df4ad94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a097efdd4c87081d6b908e44e6df4ad94">&#9670;&#160;</a></span>test_pickle_big_dataframe_compression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_big_dataframe_compression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compression</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  583</span><span class="keyword">def </span>test_pickle_big_dataframe_compression(protocol, compression):</div>
<div class="line"><span class="lineno">  584</span>    <span class="comment"># GH#39002</span></div>
<div class="line"><span class="lineno">  585</span>    df = pd.DataFrame(range(100000))</div>
<div class="line"><span class="lineno">  586</span>    result = tm.round_trip_pathlib(</div>
<div class="line"><span class="lineno">  587</span>        partial(df.to_pickle, protocol=protocol, compression=compression),</div>
<div class="line"><span class="lineno">  588</span>        partial(pd.read_pickle, compression=compression),</div>
<div class="line"><span class="lineno">  589</span>    )</div>
<div class="line"><span class="lineno">  590</span>    tm.assert_frame_equal(df, result)</div>
<div class="line"><span class="lineno">  591</span> </div>
<div class="line"><span class="lineno">  592</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b49940ecc57f8f4b19aec8194d0bc27" name="a7b49940ecc57f8f4b19aec8194d0bc27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b49940ecc57f8f4b19aec8194d0bc27">&#9670;&#160;</a></span>test_pickle_binary_object_compression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_binary_object_compression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compression</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Read/write from binary file-objects w/wo compression.

GH 26237, GH 29054, and GH 29570
</pre> <div class="fragment"><div class="line"><span class="lineno">  498</span><span class="keyword">def </span>test_pickle_binary_object_compression(compression):</div>
<div class="line"><span class="lineno">  499</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral">    Read/write from binary file-objects w/wo compression.</span></div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">    GH 26237, GH 29054, and GH 29570</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  504</span>    df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>    <span class="comment"># reference for compression</span></div>
<div class="line"><span class="lineno">  507</span>    <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  508</span>        df.to_pickle(path, compression=compression)</div>
<div class="line"><span class="lineno">  509</span>        reference = Path(path).read_bytes()</div>
<div class="line"><span class="lineno">  510</span> </div>
<div class="line"><span class="lineno">  511</span>    <span class="comment"># write</span></div>
<div class="line"><span class="lineno">  512</span>    buffer = io.BytesIO()</div>
<div class="line"><span class="lineno">  513</span>    df.to_pickle(buffer, compression=compression)</div>
<div class="line"><span class="lineno">  514</span>    buffer.seek(0)</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>    <span class="comment"># gzip  and zip safe the filename: cannot compare the compressed content</span></div>
<div class="line"><span class="lineno">  517</span>    <span class="keyword">assert</span> buffer.getvalue() == reference <span class="keywordflow">or</span> compression <span class="keywordflow">in</span> (<span class="stringliteral">&quot;gzip&quot;</span>, <span class="stringliteral">&quot;zip&quot;</span>, <span class="stringliteral">&quot;tar&quot;</span>)</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>    <span class="comment"># read</span></div>
<div class="line"><span class="lineno">  520</span>    read_df = pd.read_pickle(buffer, compression=compression)</div>
<div class="line"><span class="lineno">  521</span>    buffer.seek(0)</div>
<div class="line"><span class="lineno">  522</span>    tm.assert_frame_equal(df, read_df)</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a595fac046094f48f9b26b15c6d382703" name="a595fac046094f48f9b26b15c6d382703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a595fac046094f48f9b26b15c6d382703">&#9670;&#160;</a></span>test_pickle_buffer_roundtrip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_buffer_roundtrip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  419</span><span class="keyword">def </span>test_pickle_buffer_roundtrip():</div>
<div class="line"><span class="lineno">  420</span>    <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  421</span>        df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno">  422</span>        <span class="keyword">with</span> open(path, <span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> fh:</div>
<div class="line"><span class="lineno">  423</span>            df.to_pickle(fh)</div>
<div class="line"><span class="lineno">  424</span>        <span class="keyword">with</span> open(path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> fh:</div>
<div class="line"><span class="lineno">  425</span>            result = pd.read_pickle(fh)</div>
<div class="line"><span class="lineno">  426</span>        tm.assert_frame_equal(df, result)</div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span><span class="comment"># ---------------------</span></div>
<div class="line"><span class="lineno">  430</span><span class="comment"># tests for URL I/O</span></div>
<div class="line"><span class="lineno">  431</span><span class="comment"># ---------------------</span></div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  435</span>    <span class="stringliteral">&quot;mockurl&quot;</span>, [<span class="stringliteral">&quot;http://url.com&quot;</span>, <span class="stringliteral">&quot;ftp://test.com&quot;</span>, <span class="stringliteral">&quot;http://gzip.com&quot;</span>]</div>
<div class="line"><span class="lineno">  436</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ab866a3deacad5c651f9a6ecdab7ddc" name="a9ab866a3deacad5c651f9a6ecdab7ddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ab866a3deacad5c651f9a6ecdab7ddc">&#9670;&#160;</a></span>test_pickle_dataframe_with_multilevel_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_dataframe_with_multilevel_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>multiindex_year_month_day_dataframe_random_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>multiindex_dataframe_random_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  528</span>):</div>
<div class="line"><span class="lineno">  529</span>    ymd = multiindex_year_month_day_dataframe_random_data</div>
<div class="line"><span class="lineno">  530</span>    frame = multiindex_dataframe_random_data</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>    <span class="keyword">def </span>_test_roundtrip(frame):</div>
<div class="line"><span class="lineno">  533</span>        unpickled = tm.round_trip_pickle(frame)</div>
<div class="line"><span class="lineno">  534</span>        tm.assert_frame_equal(frame, unpickled)</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>    _test_roundtrip(frame)</div>
<div class="line"><span class="lineno">  537</span>    _test_roundtrip(frame.T)</div>
<div class="line"><span class="lineno">  538</span>    _test_roundtrip(ymd)</div>
<div class="line"><span class="lineno">  539</span>    _test_roundtrip(ymd.T)</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac1fc0367e69529847aa8f41ec0b55fe2" name="ac1fc0367e69529847aa8f41ec0b55fe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1fc0367e69529847aa8f41ec0b55fe2">&#9670;&#160;</a></span>test_pickle_datetimes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_datetimes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datetime_series</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  559</span><span class="keyword">def </span>test_pickle_datetimes(datetime_series):</div>
<div class="line"><span class="lineno">  560</span>    unp_ts = tm.round_trip_pickle(datetime_series)</div>
<div class="line"><span class="lineno">  561</span>    tm.assert_series_equal(unp_ts, datetime_series)</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a88e4dbd4d8919f65b6f7d3343b5cba06" name="a88e4dbd4d8919f65b6f7d3343b5cba06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88e4dbd4d8919f65b6f7d3343b5cba06">&#9670;&#160;</a></span>test_pickle_frame_v124_unpickle_130()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_frame_v124_unpickle_130 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  593</span><span class="keyword">def </span>test_pickle_frame_v124_unpickle_130():</div>
<div class="line"><span class="lineno">  594</span>    <span class="comment"># GH#42345 DataFrame created in 1.2.x, unpickle in 1.3.x</span></div>
<div class="line"><span class="lineno">  595</span>    path = os.path.join(legacy_dirname, <span class="stringliteral">&quot;1.2.4&quot;</span>, <span class="stringliteral">&quot;empty_frame_v1_2_4-GH#42345.pkl&quot;</span>)</div>
<div class="line"><span class="lineno">  596</span>    <span class="keyword">with</span> open(path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> fd:</div>
<div class="line"><span class="lineno">  597</span>        df = pickle.load(fd)</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>    expected = pd.DataFrame()</div>
<div class="line"><span class="lineno">  600</span>    tm.assert_frame_equal(df, expected)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0d2eb9a4eff204c43b45db538171fe0" name="ad0d2eb9a4eff204c43b45db538171fe0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0d2eb9a4eff204c43b45db538171fe0">&#9670;&#160;</a></span>test_pickle_fsspec_roundtrip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_fsspec_roundtrip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  475</span><span class="keyword">def </span>test_pickle_fsspec_roundtrip():</div>
<div class="line"><span class="lineno">  476</span>    <span class="keyword">with</span> tm.ensure_clean():</div>
<div class="line"><span class="lineno">  477</span>        mockurl = <span class="stringliteral">&quot;memory://afile&quot;</span></div>
<div class="line"><span class="lineno">  478</span>        df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno">  479</span>        df.to_pickle(mockurl)</div>
<div class="line"><span class="lineno">  480</span>        result = pd.read_pickle(mockurl)</div>
<div class="line"><span class="lineno">  481</span>        tm.assert_frame_equal(df, result)</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aea818a51827b0eec3aa6d0677956b3b2" name="aea818a51827b0eec3aa6d0677956b3b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea818a51827b0eec3aa6d0677956b3b2">&#9670;&#160;</a></span>test_pickle_generalurl_read()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_generalurl_read </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>monkeypatch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mockurl</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  437</span><span class="keyword">def </span>test_pickle_generalurl_read(monkeypatch, mockurl):</div>
<div class="line"><span class="lineno">  438</span>    <span class="keyword">def </span>python_pickler(obj, path):</div>
<div class="line"><span class="lineno">  439</span>        <span class="keyword">with</span> open(path, <span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> fh:</div>
<div class="line"><span class="lineno">  440</span>            pickle.dump(obj, fh, protocol=-1)</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    <span class="keyword">class </span>MockReadResponse:</div>
<div class="line"><span class="lineno">  443</span>        <span class="keyword">def </span>__init__(self, path) -&gt; None:</div>
<div class="line"><span class="lineno">  444</span>            self.file = open(path, <span class="stringliteral">&quot;rb&quot;</span>)</div>
<div class="line"><span class="lineno">  445</span>            <span class="keywordflow">if</span> <span class="stringliteral">&quot;gzip&quot;</span> <span class="keywordflow">in</span> path:</div>
<div class="line"><span class="lineno">  446</span>                self.headers = {<span class="stringliteral">&quot;Content-Encoding&quot;</span>: <span class="stringliteral">&quot;gzip&quot;</span>}</div>
<div class="line"><span class="lineno">  447</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  448</span>                self.headers = {<span class="stringliteral">&quot;Content-Encoding&quot;</span>: <span class="stringliteral">&quot;&quot;</span>}</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>        <span class="keyword">def </span>__enter__(self):</div>
<div class="line"><span class="lineno">  451</span>            <span class="keywordflow">return</span> self</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>        <span class="keyword">def </span>__exit__(self, *args):</div>
<div class="line"><span class="lineno">  454</span>            self.close()</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>        <span class="keyword">def </span>read(self):</div>
<div class="line"><span class="lineno">  457</span>            <span class="keywordflow">return</span> self.file.read()</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>        <span class="keyword">def </span>close(self):</div>
<div class="line"><span class="lineno">  460</span>            <span class="keywordflow">return</span> self.file.close()</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>    <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>        <span class="keyword">def </span>mock_urlopen_read(*args, **kwargs):</div>
<div class="line"><span class="lineno">  465</span>            <span class="keywordflow">return</span> MockReadResponse(path)</div>
<div class="line"><span class="lineno">  466</span> </div>
<div class="line"><span class="lineno">  467</span>        df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno">  468</span>        python_pickler(df, path)</div>
<div class="line"><span class="lineno">  469</span>        monkeypatch.setattr(<span class="stringliteral">&quot;urllib.request.urlopen&quot;</span>, mock_urlopen_read)</div>
<div class="line"><span class="lineno">  470</span>        result = pd.read_pickle(mockurl)</div>
<div class="line"><span class="lineno">  471</span>        tm.assert_frame_equal(df, result)</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span><span class="preprocessor">@td.skip_if_no(&quot;fsspec&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab72f086690910d956d2f58b1eeff4b0f" name="ab72f086690910d956d2f58b1eeff4b0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab72f086690910d956d2f58b1eeff4b0f">&#9670;&#160;</a></span>test_pickle_path_localpath()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_path_localpath </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  218</span><span class="keyword">def </span>test_pickle_path_localpath():</div>
<div class="line"><span class="lineno">  219</span>    df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno">  220</span>    result = tm.round_trip_localpath(df.to_pickle, pd.read_pickle)</div>
<div class="line"><span class="lineno">  221</span>    tm.assert_frame_equal(df, result)</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span><span class="preprocessor">@pytest.mark.parametrize(&quot;typ&quot;, [&quot;sparseseries&quot;, &quot;sparseframe&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8299bebc77ff1d9a28c05e623dcdea9a" name="a8299bebc77ff1d9a28c05e623dcdea9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8299bebc77ff1d9a28c05e623dcdea9a">&#9670;&#160;</a></span>test_pickle_path_pathlib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_path_pathlib </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  212</span><span class="keyword">def </span>test_pickle_path_pathlib():</div>
<div class="line"><span class="lineno">  213</span>    df = tm.makeDataFrame()</div>
<div class="line"><span class="lineno">  214</span>    result = tm.round_trip_pathlib(df.to_pickle, pd.read_pickle)</div>
<div class="line"><span class="lineno">  215</span>    tm.assert_frame_equal(df, result)</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a48ba4a3346534806fdd76fa59476d368" name="a48ba4a3346534806fdd76fa59476d368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48ba4a3346534806fdd76fa59476d368">&#9670;&#160;</a></span>test_pickle_preserve_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_preserve_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  553</span><span class="keyword">def </span>test_pickle_preserve_name(name):</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>    unpickled = tm.round_trip_pickle(tm.makeTimeSeries(name=name))</div>
<div class="line"><span class="lineno">  556</span>    <span class="keyword">assert</span> unpickled.name == name</div>
<div class="line"><span class="lineno">  557</span> </div>
<div class="line"><span class="lineno">  558</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac652973b86c733854d7cca32e53f1f03" name="ac652973b86c733854d7cca32e53f1f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac652973b86c733854d7cca32e53f1f03">&#9670;&#160;</a></span>test_pickle_preserves_block_ndim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_preserves_block_ndim </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  570</span><span class="keyword">def </span>test_pickle_preserves_block_ndim():</div>
<div class="line"><span class="lineno">  571</span>    <span class="comment"># GH#37631</span></div>
<div class="line"><span class="lineno">  572</span>    ser = Series(list(<span class="stringliteral">&quot;abc&quot;</span>)).astype(<span class="stringliteral">&quot;category&quot;</span>).iloc[[0]]</div>
<div class="line"><span class="lineno">  573</span>    res = tm.round_trip_pickle(ser)</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>    <span class="keyword">assert</span> res._mgr.blocks[0].ndim == 1</div>
<div class="line"><span class="lineno">  576</span>    <span class="keyword">assert</span> res._mgr.blocks[0].shape == (1,)</div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span>    <span class="comment"># GH#37631 OP issue was about indexing, underlying problem was pickle</span></div>
<div class="line"><span class="lineno">  579</span>    tm.assert_series_equal(res[[<span class="keyword">True</span>]], ser)</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span><span class="preprocessor">@pytest.mark.parametrize(&quot;protocol&quot;, [pickle.DEFAULT_PROTOCOL, pickle.HIGHEST_PROTOCOL])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ee9d445f0b6fb839896aab4f75be9ca" name="a4ee9d445f0b6fb839896aab4f75be9ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ee9d445f0b6fb839896aab4f75be9ca">&#9670;&#160;</a></span>test_pickle_strings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_strings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>string_series</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  564</span><span class="keyword">def </span>test_pickle_strings(string_series):</div>
<div class="line"><span class="lineno">  565</span>    unp_series = tm.round_trip_pickle(string_series)</div>
<div class="line"><span class="lineno">  566</span>    tm.assert_series_equal(unp_series, string_series)</div>
<div class="line"><span class="lineno">  567</span> </div>
<div class="line"><span class="lineno">  568</span> </div>
<div class="line"><span class="lineno">  569</span><span class="preprocessor">@td.skip_array_manager_invalid_test</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4dc54685a3a6fce264c4fc635896957" name="ac4dc54685a3a6fce264c4fc635896957"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4dc54685a3a6fce264c4fc635896957">&#9670;&#160;</a></span>test_pickle_timeseries_periodindex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickle_timeseries_periodindex </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  542</span><span class="keyword">def </span>test_pickle_timeseries_periodindex():</div>
<div class="line"><span class="lineno">  543</span>    <span class="comment"># GH#2891</span></div>
<div class="line"><span class="lineno">  544</span>    prng = period_range(<span class="stringliteral">&quot;1/1/2011&quot;</span>, <span class="stringliteral">&quot;1/1/2012&quot;</span>, freq=<span class="stringliteral">&quot;M&quot;</span>)</div>
<div class="line"><span class="lineno">  545</span>    ts = Series(np.random.randn(len(prng)), prng)</div>
<div class="line"><span class="lineno">  546</span>    new_ts = tm.round_trip_pickle(ts)</div>
<div class="line"><span class="lineno">  547</span>    <span class="keyword">assert</span> new_ts.index.freq == <span class="stringliteral">&quot;M&quot;</span></div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  551</span>    <span class="stringliteral">&quot;name&quot;</span>, [777, 777.0, <span class="stringliteral">&quot;name&quot;</span>, datetime.datetime(2001, 11, 11), (1, 2)]</div>
<div class="line"><span class="lineno">  552</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab92f60871a748d5a753bf720018da3ab" name="ab92f60871a748d5a753bf720018da3ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab92f60871a748d5a753bf720018da3ab">&#9670;&#160;</a></span>test_pickles()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_pickles </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>legacy_pickle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  108</span><span class="keyword">def </span>test_pickles(legacy_pickle):</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> is_platform_little_endian():</div>
<div class="line"><span class="lineno">  110</span>        pytest.skip(<span class="stringliteral">&quot;known failure on non-little endian&quot;</span>)</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="keyword">with</span> catch_warnings(record=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno">  113</span>        simplefilter(<span class="stringliteral">&quot;ignore&quot;</span>)</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>        data = pd.read_pickle(legacy_pickle)</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>        <span class="keywordflow">for</span> typ, dv <span class="keywordflow">in</span> data.items():</div>
<div class="line"><span class="lineno">  118</span>            <span class="keywordflow">for</span> dt, result <span class="keywordflow">in</span> dv.items():</div>
<div class="line"><span class="lineno">  119</span>                expected = data[typ][dt]</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>                <span class="keywordflow">if</span> typ == <span class="stringliteral">&quot;series&quot;</span> <span class="keywordflow">and</span> dt == <span class="stringliteral">&quot;ts&quot;</span>:</div>
<div class="line"><span class="lineno">  122</span>                    <span class="comment"># GH 7748</span></div>
<div class="line"><span class="lineno">  123</span>                    tm.assert_series_equal(result, expected)</div>
<div class="line"><span class="lineno">  124</span>                    <span class="keyword">assert</span> result.index.freq == expected.index.freq</div>
<div class="line"><span class="lineno">  125</span>                    <span class="keyword">assert</span> <span class="keywordflow">not</span> result.index.freq.normalize</div>
<div class="line"><span class="lineno">  126</span>                    tm.assert_series_equal(result &gt; 0, expected &gt; 0)</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>                    <span class="comment"># GH 9291</span></div>
<div class="line"><span class="lineno">  129</span>                    freq = result.index.freq</div>
<div class="line"><span class="lineno">  130</span>                    <span class="keyword">assert</span> freq + Day(1) == Day(2)</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>                    res = freq + pd.Timedelta(hours=1)</div>
<div class="line"><span class="lineno">  133</span>                    <span class="keyword">assert</span> isinstance(res, pd.Timedelta)</div>
<div class="line"><span class="lineno">  134</span>                    <span class="keyword">assert</span> res == pd.Timedelta(days=1, hours=1)</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>                    res = freq + pd.Timedelta(nanoseconds=1)</div>
<div class="line"><span class="lineno">  137</span>                    <span class="keyword">assert</span> isinstance(res, pd.Timedelta)</div>
<div class="line"><span class="lineno">  138</span>                    <span class="keyword">assert</span> res == pd.Timedelta(days=1, nanoseconds=1)</div>
<div class="line"><span class="lineno">  139</span>                <span class="keywordflow">elif</span> typ == <span class="stringliteral">&quot;index&quot;</span> <span class="keywordflow">and</span> dt == <span class="stringliteral">&quot;period&quot;</span>:</div>
<div class="line"><span class="lineno">  140</span>                    tm.assert_index_equal(result, expected)</div>
<div class="line"><span class="lineno">  141</span>                    <span class="keyword">assert</span> isinstance(result.freq, MonthEnd)</div>
<div class="line"><span class="lineno">  142</span>                    <span class="keyword">assert</span> result.freq == MonthEnd()</div>
<div class="line"><span class="lineno">  143</span>                    <span class="keyword">assert</span> result.freqstr == <span class="stringliteral">&quot;M&quot;</span></div>
<div class="line"><span class="lineno">  144</span>                    tm.assert_index_equal(result.shift(2), expected.shift(2))</div>
<div class="line"><span class="lineno">  145</span>                <span class="keywordflow">elif</span> typ == <span class="stringliteral">&quot;series&quot;</span> <span class="keywordflow">and</span> dt <span class="keywordflow">in</span> (<span class="stringliteral">&quot;dt_tz&quot;</span>, <span class="stringliteral">&quot;cat&quot;</span>):</div>
<div class="line"><span class="lineno">  146</span>                    tm.assert_series_equal(result, expected)</div>
<div class="line"><span class="lineno">  147</span>                <span class="keywordflow">elif</span> typ == <span class="stringliteral">&quot;frame&quot;</span> <span class="keywordflow">and</span> dt <span class="keywordflow">in</span> (</div>
<div class="line"><span class="lineno">  148</span>                    <span class="stringliteral">&quot;dt_mixed_tzs&quot;</span>,</div>
<div class="line"><span class="lineno">  149</span>                    <span class="stringliteral">&quot;cat_onecol&quot;</span>,</div>
<div class="line"><span class="lineno">  150</span>                    <span class="stringliteral">&quot;cat_and_float&quot;</span>,</div>
<div class="line"><span class="lineno">  151</span>                ):</div>
<div class="line"><span class="lineno">  152</span>                    tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  153</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  154</span>                    compare_element(result, expected, typ)</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a56c6f43bdf6d6bec6bbf2dd37967629f" name="a56c6f43bdf6d6bec6bbf2dd37967629f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56c6f43bdf6d6bec6bbf2dd37967629f">&#9670;&#160;</a></span>test_read_pickle_with_subclass()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_read_pickle_with_subclass </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  489</span><span class="keyword">def </span>test_read_pickle_with_subclass():</div>
<div class="line"><span class="lineno">  490</span>    <span class="comment"># GH 12163</span></div>
<div class="line"><span class="lineno">  491</span>    expected = Series(dtype=object), MyTz()</div>
<div class="line"><span class="lineno">  492</span>    result = tm.round_trip_pickle(expected)</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>    tm.assert_series_equal(result[0], expected[0])</div>
<div class="line"><span class="lineno">  495</span>    <span class="keyword">assert</span> isinstance(result[1], MyTz)</div>
<div class="line"><span class="lineno">  496</span> </div>
<div class="line"><span class="lineno">  497</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b56d2a8408f2a03b7e736aebbce7221" name="a7b56d2a8408f2a03b7e736aebbce7221"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b56d2a8408f2a03b7e736aebbce7221">&#9670;&#160;</a></span>test_round_trip_current()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_round_trip_current </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>current_pickle_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pickle_writer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>writer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  186</span><span class="keyword">def </span>test_round_trip_current(current_pickle_data, pickle_writer, writer):</div>
<div class="line"><span class="lineno">  187</span>    data = current_pickle_data</div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">for</span> typ, dv <span class="keywordflow">in</span> data.items():</div>
<div class="line"><span class="lineno">  189</span>        <span class="keywordflow">for</span> dt, expected <span class="keywordflow">in</span> dv.items():</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>            <span class="keyword">with</span> tm.ensure_clean() <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  192</span>                <span class="comment"># test writing with each pickler</span></div>
<div class="line"><span class="lineno">  193</span>                pickle_writer(expected, path)</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>                <span class="comment"># test reading with each unpickler</span></div>
<div class="line"><span class="lineno">  196</span>                result = pd.read_pickle(path)</div>
<div class="line"><span class="lineno">  197</span>                compare_element(result, expected, typ)</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>                result = python_unpickler(path)</div>
<div class="line"><span class="lineno">  200</span>                compare_element(result, expected, typ)</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>                <span class="comment"># and the same for file objects (GH 35679)</span></div>
<div class="line"><span class="lineno">  203</span>                <span class="keyword">with</span> open(path, mode=<span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> handle:</div>
<div class="line"><span class="lineno">  204</span>                    writer(expected, path)</div>
<div class="line"><span class="lineno">  205</span>                    handle.seek(0)  <span class="comment"># shouldn&#39;t close file handle</span></div>
<div class="line"><span class="lineno">  206</span>                <span class="keyword">with</span> open(path, mode=<span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> handle:</div>
<div class="line"><span class="lineno">  207</span>                    result = pd.read_pickle(handle)</div>
<div class="line"><span class="lineno">  208</span>                    handle.seek(0)  <span class="comment"># shouldn&#39;t close file handle</span></div>
<div class="line"><span class="lineno">  209</span>                compare_element(result, expected, typ)</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5da463e4c6fde8abe43917825de9f280" name="a5da463e4c6fde8abe43917825de9f280"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5da463e4c6fde8abe43917825de9f280">&#9670;&#160;</a></span>test_unicode_decode_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.test_unicode_decode_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pickle_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>excols</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  404</span><span class="keyword">def </span>test_unicode_decode_error(datapath, pickle_file, excols):</div>
<div class="line"><span class="lineno">  405</span>    <span class="comment"># pickle file written with py27, should be readable without raising</span></div>
<div class="line"><span class="lineno">  406</span>    <span class="comment">#  UnicodeDecodeError, see GH#28645 and GH#31988</span></div>
<div class="line"><span class="lineno">  407</span>    path = datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;pickle&quot;</span>, pickle_file)</div>
<div class="line"><span class="lineno">  408</span>    df = pd.read_pickle(path)</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>    <span class="comment"># just test the columns are correct since the values are random</span></div>
<div class="line"><span class="lineno">  411</span>    tm.assert_index_equal(df.columns, excols)</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span><span class="comment"># ---------------------</span></div>
<div class="line"><span class="lineno">  415</span><span class="comment"># tests for buffer I/O</span></div>
<div class="line"><span class="lineno">  416</span><span class="comment"># ---------------------</span></div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad4ccb074830d696e74ac7fe2d097325a" name="ad4ccb074830d696e74ac7fe2d097325a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4ccb074830d696e74ac7fe2d097325a">&#9670;&#160;</a></span>file</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.file</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3de6b77abbaf5b835c557ff41fae7a9e" name="a3de6b77abbaf5b835c557ff41fae7a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3de6b77abbaf5b835c557ff41fae7a9e">&#9670;&#160;</a></span>files</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.files = glob.glob(os.path.join(<a class="el" href="namespacepandas_1_1tests_1_1io_1_1test__pickle.html#a19513b4a87fe5169f829c8a01011b34c">legacy_dirname</a>, &quot;*&quot;, &quot;*.pickle&quot;))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a196a68ed7c82daa762582ca662359d81" name="a196a68ed7c82daa762582ca662359d81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a196a68ed7c82daa762582ca662359d81">&#9670;&#160;</a></span>headers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.headers</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a19513b4a87fe5169f829c8a01011b34c" name="a19513b4a87fe5169f829c8a01011b34c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a19513b4a87fe5169f829c8a01011b34c">&#9670;&#160;</a></span>legacy_dirname</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.legacy_dirname = os.path.join(os.path.dirname(__file__), &quot;data&quot;, &quot;legacy_pickle&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aae903dc1681f8430d969f74910ef9579" name="aae903dc1681f8430d969f74910ef9579"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae903dc1681f8430d969f74910ef9579">&#9670;&#160;</a></span>pytestmark</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.test_pickle.pytestmark</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  pytest.mark.filterwarnings(</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;ignore:Timestamp.freq is deprecated:FutureWarning&quot;</span></div>
<div class="line"><span class="lineno">    3</span>)</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
