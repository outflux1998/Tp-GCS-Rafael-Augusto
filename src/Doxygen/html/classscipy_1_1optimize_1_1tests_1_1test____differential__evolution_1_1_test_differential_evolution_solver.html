<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacescipy.html">scipy</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1optimize.html">optimize</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1optimize_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1optimize_1_1tests_1_1test____differential__evolution.html">test__differential_evolution</a></li><li class="navelem"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html">TestDifferentialEvolutionSolver</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6682656b397de0cd4416a9ab9e25781a" id="r_a6682656b397de0cd4416a9ab9e25781a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a6682656b397de0cd4416a9ab9e25781a">setup_method</a> (self)</td></tr>
<tr class="separator:a6682656b397de0cd4416a9ab9e25781a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca42b050adb178c3c185704ffbc644b" id="r_a8ca42b050adb178c3c185704ffbc644b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a8ca42b050adb178c3c185704ffbc644b">teardown_method</a> (self)</td></tr>
<tr class="separator:a8ca42b050adb178c3c185704ffbc644b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3edb84d46fda59c1987080439cf0a7f8" id="r_a3edb84d46fda59c1987080439cf0a7f8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a3edb84d46fda59c1987080439cf0a7f8">quadratic</a> (self, <a class="el" href="namespacescipy_1_1optimize_1_1__nonlin.html#a9f63beec99dbf869db2b02f71b2dd31e">x</a>)</td></tr>
<tr class="separator:a3edb84d46fda59c1987080439cf0a7f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68ddf469afb6b7e986b1d43e8d9d7fc3" id="r_a68ddf469afb6b7e986b1d43e8d9d7fc3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a68ddf469afb6b7e986b1d43e8d9d7fc3">test__strategy_resolves</a> (self)</td></tr>
<tr class="separator:a68ddf469afb6b7e986b1d43e8d9d7fc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ef43e5a7db5672282585c285926b078" id="r_a4ef43e5a7db5672282585c285926b078"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a4ef43e5a7db5672282585c285926b078">test__mutate1</a> (self)</td></tr>
<tr class="separator:a4ef43e5a7db5672282585c285926b078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5529698aaf7f0865a55193097a683f" id="r_a3b5529698aaf7f0865a55193097a683f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a3b5529698aaf7f0865a55193097a683f">test__mutate2</a> (self)</td></tr>
<tr class="separator:a3b5529698aaf7f0865a55193097a683f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fd0cfde573521f1faf5e403631eace5" id="r_a6fd0cfde573521f1faf5e403631eace5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a6fd0cfde573521f1faf5e403631eace5">test__randtobest1</a> (self)</td></tr>
<tr class="separator:a6fd0cfde573521f1faf5e403631eace5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a584b4d17c5852249c38098f62f4e21" id="r_a8a584b4d17c5852249c38098f62f4e21"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a8a584b4d17c5852249c38098f62f4e21">test__currenttobest1</a> (self)</td></tr>
<tr class="separator:a8a584b4d17c5852249c38098f62f4e21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a41cc750984b3fa692f8970986367b56f" id="r_a41cc750984b3fa692f8970986367b56f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a41cc750984b3fa692f8970986367b56f">test_can_init_with_dithering</a> (self)</td></tr>
<tr class="separator:a41cc750984b3fa692f8970986367b56f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00b51dcb46e176ab1a7aa37a44c58e3e" id="r_a00b51dcb46e176ab1a7aa37a44c58e3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a00b51dcb46e176ab1a7aa37a44c58e3e">test_invalid_mutation_values_arent_accepted</a> (self)</td></tr>
<tr class="separator:a00b51dcb46e176ab1a7aa37a44c58e3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002e744768f3a6cdc4305badba75d90f" id="r_a002e744768f3a6cdc4305badba75d90f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a002e744768f3a6cdc4305badba75d90f">test_invalid_functional</a> (self)</td></tr>
<tr class="separator:a002e744768f3a6cdc4305badba75d90f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fa564748b836ef39b63fe33695d30f6" id="r_a4fa564748b836ef39b63fe33695d30f6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a4fa564748b836ef39b63fe33695d30f6">test__scale_parameters</a> (self)</td></tr>
<tr class="separator:a4fa564748b836ef39b63fe33695d30f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2662b0d693a59a92ca0fc30162bc180d" id="r_a2662b0d693a59a92ca0fc30162bc180d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a2662b0d693a59a92ca0fc30162bc180d">test__unscale_parameters</a> (self)</td></tr>
<tr class="separator:a2662b0d693a59a92ca0fc30162bc180d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22895390e4b734b7b4fd6f9a9b371b54" id="r_a22895390e4b734b7b4fd6f9a9b371b54"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a22895390e4b734b7b4fd6f9a9b371b54">test__ensure_constraint</a> (self)</td></tr>
<tr class="separator:a22895390e4b734b7b4fd6f9a9b371b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20bfab068d7216bd82c9523fcf7d7bdb" id="r_a20bfab068d7216bd82c9523fcf7d7bdb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a20bfab068d7216bd82c9523fcf7d7bdb">test_differential_evolution</a> (self)</td></tr>
<tr class="separator:a20bfab068d7216bd82c9523fcf7d7bdb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5733dcadbaf9ef34efbfa4583084dbd7" id="r_a5733dcadbaf9ef34efbfa4583084dbd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a5733dcadbaf9ef34efbfa4583084dbd7">test_best_solution_retrieval</a> (self)</td></tr>
<tr class="separator:a5733dcadbaf9ef34efbfa4583084dbd7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab195def57a8e32646ea336133e5a9bf6" id="r_ab195def57a8e32646ea336133e5a9bf6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#ab195def57a8e32646ea336133e5a9bf6">test_callback_terminates</a> (self)</td></tr>
<tr class="separator:ab195def57a8e32646ea336133e5a9bf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db7a495ad081467c6316d4035657a9a" id="r_a9db7a495ad081467c6316d4035657a9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a9db7a495ad081467c6316d4035657a9a">test_args_tuple_is_passed</a> (self)</td></tr>
<tr class="separator:a9db7a495ad081467c6316d4035657a9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16a807efa48de5751bf2d982ef91531b" id="r_a16a807efa48de5751bf2d982ef91531b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a16a807efa48de5751bf2d982ef91531b">test_init_with_invalid_strategy</a> (self)</td></tr>
<tr class="separator:a16a807efa48de5751bf2d982ef91531b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1f2dfdf68b9495a4bc0bff0ad19bb4" id="r_a1b1f2dfdf68b9495a4bc0bff0ad19bb4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a1b1f2dfdf68b9495a4bc0bff0ad19bb4">test_bounds_checking</a> (self)</td></tr>
<tr class="separator:a1b1f2dfdf68b9495a4bc0bff0ad19bb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35872363a45fec54af1755120cebbf7" id="r_af35872363a45fec54af1755120cebbf7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#af35872363a45fec54af1755120cebbf7">test_select_samples</a> (self)</td></tr>
<tr class="separator:af35872363a45fec54af1755120cebbf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbd52e6f7436637bd8d0a9bc68f551bf" id="r_adbd52e6f7436637bd8d0a9bc68f551bf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#adbd52e6f7436637bd8d0a9bc68f551bf">test_maxiter_stops_solve</a> (self)</td></tr>
<tr class="separator:adbd52e6f7436637bd8d0a9bc68f551bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8896793708053b6f42f894c89d24a65" id="r_ad8896793708053b6f42f894c89d24a65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#ad8896793708053b6f42f894c89d24a65">test_maxfun_stops_solve</a> (self)</td></tr>
<tr class="separator:ad8896793708053b6f42f894c89d24a65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad21df8139501c217b17c3759741d141b" id="r_ad21df8139501c217b17c3759741d141b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#ad21df8139501c217b17c3759741d141b">test_quadratic</a> (self)</td></tr>
<tr class="separator:ad21df8139501c217b17c3759741d141b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a314fa148e1c5060d46c509b6c6af9ef8" id="r_a314fa148e1c5060d46c509b6c6af9ef8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a314fa148e1c5060d46c509b6c6af9ef8">test_quadratic_from_diff_ev</a> (self)</td></tr>
<tr class="separator:a314fa148e1c5060d46c509b6c6af9ef8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec5fe8fe939abb5e2b718f8f26ec3e9" id="r_a8ec5fe8fe939abb5e2b718f8f26ec3e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a8ec5fe8fe939abb5e2b718f8f26ec3e9">test_seed_gives_repeatability</a> (self)</td></tr>
<tr class="separator:a8ec5fe8fe939abb5e2b718f8f26ec3e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09f68246e52454b6cbb55535c34cf0ab" id="r_a09f68246e52454b6cbb55535c34cf0ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a09f68246e52454b6cbb55535c34cf0ab">test_random_generator</a> (self)</td></tr>
<tr class="separator:a09f68246e52454b6cbb55535c34cf0ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39c60e2ba666e7549244474a9e8b1a93" id="r_a39c60e2ba666e7549244474a9e8b1a93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a39c60e2ba666e7549244474a9e8b1a93">test_exp_runs</a> (self)</td></tr>
<tr class="separator:a39c60e2ba666e7549244474a9e8b1a93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30ba716f5846039be2afc79a30775d1b" id="r_a30ba716f5846039be2afc79a30775d1b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a30ba716f5846039be2afc79a30775d1b">test_gh_4511_regression</a> (self)</td></tr>
<tr class="separator:a30ba716f5846039be2afc79a30775d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52fb950ee0378524b92de292d61b202e" id="r_a52fb950ee0378524b92de292d61b202e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a52fb950ee0378524b92de292d61b202e">test_calculate_population_energies</a> (self)</td></tr>
<tr class="separator:a52fb950ee0378524b92de292d61b202e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b6c5ffe7083c2f74ca8699e434c2de" id="r_a15b6c5ffe7083c2f74ca8699e434c2de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a15b6c5ffe7083c2f74ca8699e434c2de">test_iteration</a> (self)</td></tr>
<tr class="separator:a15b6c5ffe7083c2f74ca8699e434c2de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a821b174a7b1f4146fee88d3ddafa0aa7" id="r_a821b174a7b1f4146fee88d3ddafa0aa7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a821b174a7b1f4146fee88d3ddafa0aa7">test_convergence</a> (self)</td></tr>
<tr class="separator:a821b174a7b1f4146fee88d3ddafa0aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aada6b70cb9df01749ddc27a7f57d8173" id="r_aada6b70cb9df01749ddc27a7f57d8173"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#aada6b70cb9df01749ddc27a7f57d8173">test_maxiter_none_GH5731</a> (self)</td></tr>
<tr class="separator:aada6b70cb9df01749ddc27a7f57d8173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57f752fb47e5afee078add630e556c3f" id="r_a57f752fb47e5afee078add630e556c3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a57f752fb47e5afee078add630e556c3f">test_population_initiation</a> (self)</td></tr>
<tr class="separator:a57f752fb47e5afee078add630e556c3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabefc7a32707705f8f53913d42a8b61b" id="r_aabefc7a32707705f8f53913d42a8b61b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#aabefc7a32707705f8f53913d42a8b61b">test_x0</a> (self)</td></tr>
<tr class="separator:aabefc7a32707705f8f53913d42a8b61b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeee0bfa603df5776ebaaf08d2298287e" id="r_aeee0bfa603df5776ebaaf08d2298287e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#aeee0bfa603df5776ebaaf08d2298287e">test_infinite_objective_function</a> (self)</td></tr>
<tr class="separator:aeee0bfa603df5776ebaaf08d2298287e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61498b76e92591ca568df1fa68c3d5fc" id="r_a61498b76e92591ca568df1fa68c3d5fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a61498b76e92591ca568df1fa68c3d5fc">test_deferred_updating</a> (self)</td></tr>
<tr class="separator:a61498b76e92591ca568df1fa68c3d5fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2de4aedc254abb54b770bb4f3472a0dd" id="r_a2de4aedc254abb54b770bb4f3472a0dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a2de4aedc254abb54b770bb4f3472a0dd">test_immediate_updating</a> (self)</td></tr>
<tr class="separator:a2de4aedc254abb54b770bb4f3472a0dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae38cd4724036b0dbff3bbedf09b970ba" id="r_ae38cd4724036b0dbff3bbedf09b970ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#ae38cd4724036b0dbff3bbedf09b970ba">test_parallel</a> (self)</td></tr>
<tr class="separator:ae38cd4724036b0dbff3bbedf09b970ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81747da0df57be49cd4de38acecaaaa0" id="r_a81747da0df57be49cd4de38acecaaaa0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a81747da0df57be49cd4de38acecaaaa0">test_converged</a> (self)</td></tr>
<tr class="separator:a81747da0df57be49cd4de38acecaaaa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a0f8a62965ccfe5280400248983bece" id="r_a8a0f8a62965ccfe5280400248983bece"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a8a0f8a62965ccfe5280400248983bece">test_constraint_violation_fn</a> (self)</td></tr>
<tr class="separator:a8a0f8a62965ccfe5280400248983bece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad8a674625142cc696580f916b261610" id="r_aad8a674625142cc696580f916b261610"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#aad8a674625142cc696580f916b261610">test_constraint_population_feasibilities</a> (self)</td></tr>
<tr class="separator:aad8a674625142cc696580f916b261610"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ebdef998043420536bf49b648220be6" id="r_a0ebdef998043420536bf49b648220be6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a0ebdef998043420536bf49b648220be6">test_constraint_solve</a> (self)</td></tr>
<tr class="separator:a0ebdef998043420536bf49b648220be6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea675ea9b49b53aba14c16418752367" id="r_acea675ea9b49b53aba14c16418752367"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#acea675ea9b49b53aba14c16418752367">test_impossible_constraint</a> (self)</td></tr>
<tr class="separator:acea675ea9b49b53aba14c16418752367"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77bbcbd1049f09d35f905fecad3c50ff" id="r_a77bbcbd1049f09d35f905fecad3c50ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a77bbcbd1049f09d35f905fecad3c50ff">test_accept_trial</a> (self)</td></tr>
<tr class="separator:a77bbcbd1049f09d35f905fecad3c50ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f6dc8fc2985c780904c4f9cb81c4216" id="r_a0f6dc8fc2985c780904c4f9cb81c4216"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a0f6dc8fc2985c780904c4f9cb81c4216">test_constraint_wrapper</a> (self)</td></tr>
<tr class="separator:a0f6dc8fc2985c780904c4f9cb81c4216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907e35783401f3150708bc46cb1e7d80" id="r_a907e35783401f3150708bc46cb1e7d80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a907e35783401f3150708bc46cb1e7d80">test_constraint_wrapper_violation</a> (self)</td></tr>
<tr class="separator:a907e35783401f3150708bc46cb1e7d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc1daaf70c7e6837999b7ef9b2178b89" id="r_afc1daaf70c7e6837999b7ef9b2178b89"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#afc1daaf70c7e6837999b7ef9b2178b89">test_L1</a> (self)</td></tr>
<tr class="separator:afc1daaf70c7e6837999b7ef9b2178b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2916476172529e55b3c92413826d9777" id="r_a2916476172529e55b3c92413826d9777"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a2916476172529e55b3c92413826d9777">test_L2</a> (self)</td></tr>
<tr class="separator:a2916476172529e55b3c92413826d9777"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1bc2f8476ea26e616c0be83e4070f3f" id="r_ab1bc2f8476ea26e616c0be83e4070f3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#ab1bc2f8476ea26e616c0be83e4070f3f">test_L3</a> (self)</td></tr>
<tr class="separator:ab1bc2f8476ea26e616c0be83e4070f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a670113d1dae8517ab749ecbb4c31958e" id="r_a670113d1dae8517ab749ecbb4c31958e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a670113d1dae8517ab749ecbb4c31958e">test_L4</a> (self)</td></tr>
<tr class="separator:a670113d1dae8517ab749ecbb4c31958e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e87ee7060014481e820378fd6a6dce5" id="r_a5e87ee7060014481e820378fd6a6dce5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a5e87ee7060014481e820378fd6a6dce5">test_L5</a> (self)</td></tr>
<tr class="separator:a5e87ee7060014481e820378fd6a6dce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03b2514d08f41b1772491bf149b3816e" id="r_a03b2514d08f41b1772491bf149b3816e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a03b2514d08f41b1772491bf149b3816e">test_L6</a> (self)</td></tr>
<tr class="separator:a03b2514d08f41b1772491bf149b3816e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b32eee2a3a30d14bce6f961fe7f8f8a" id="r_a9b32eee2a3a30d14bce6f961fe7f8f8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a9b32eee2a3a30d14bce6f961fe7f8f8a">test_L7</a> (self)</td></tr>
<tr class="separator:a9b32eee2a3a30d14bce6f961fe7f8f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8461f0c61d3aa8ff1e4b785e62e808c" id="r_aa8461f0c61d3aa8ff1e4b785e62e808c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#aa8461f0c61d3aa8ff1e4b785e62e808c">test_L8</a> (self)</td></tr>
<tr class="separator:aa8461f0c61d3aa8ff1e4b785e62e808c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fb84cd2c2203c944995cca831843897" id="r_a3fb84cd2c2203c944995cca831843897"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a3fb84cd2c2203c944995cca831843897">test_L9</a> (self)</td></tr>
<tr class="separator:a3fb84cd2c2203c944995cca831843897"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0f14aca96080ffab827c5ef1525232" id="r_a5a0f14aca96080ffab827c5ef1525232"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a5a0f14aca96080ffab827c5ef1525232">test_integrality</a> (self)</td></tr>
<tr class="separator:a5a0f14aca96080ffab827c5ef1525232"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac86b40131c47106b57c4a560bd66ca36" id="r_ac86b40131c47106b57c4a560bd66ca36"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#ac86b40131c47106b57c4a560bd66ca36">test_integrality_limits</a> (self)</td></tr>
<tr class="separator:ac86b40131c47106b57c4a560bd66ca36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa38189ada0904547e93a07c563ab0447" id="r_aa38189ada0904547e93a07c563ab0447"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#aa38189ada0904547e93a07c563ab0447">test_vectorized</a> (self)</td></tr>
<tr class="separator:aa38189ada0904547e93a07c563ab0447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a110bc387b20db236aaee5629ffaf41b7" id="r_a110bc387b20db236aaee5629ffaf41b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a110bc387b20db236aaee5629ffaf41b7">test_vectorized_constraints</a> (self)</td></tr>
<tr class="separator:a110bc387b20db236aaee5629ffaf41b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeea9cce0d2fbc77c03819d0dbe322ab" id="r_aaeea9cce0d2fbc77c03819d0dbe322ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#aaeea9cce0d2fbc77c03819d0dbe322ab">test_constraint_violation_error_message</a> (self)</td></tr>
<tr class="separator:aaeea9cce0d2fbc77c03819d0dbe322ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a869d944cdafb2c36e7534e5b39f4f4bd" id="r_a869d944cdafb2c36e7534e5b39f4f4bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a869d944cdafb2c36e7534e5b39f4f4bd">old_seterr</a></td></tr>
<tr class="separator:a869d944cdafb2c36e7534e5b39f4f4bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95505778e6bac45bd532bfacf8268f23" id="r_a95505778e6bac45bd532bfacf8268f23"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a95505778e6bac45bd532bfacf8268f23">limits</a></td></tr>
<tr class="separator:a95505778e6bac45bd532bfacf8268f23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6801a2f60f7042bca65671a3968ae2e7" id="r_a6801a2f60f7042bca65671a3968ae2e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a6801a2f60f7042bca65671a3968ae2e7">bounds</a></td></tr>
<tr class="separator:a6801a2f60f7042bca65671a3968ae2e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e722e586d96bf507dd93fbf2b1cd080" id="r_a6e722e586d96bf507dd93fbf2b1cd080"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a6e722e586d96bf507dd93fbf2b1cd080">dummy_solver</a></td></tr>
<tr class="separator:a6e722e586d96bf507dd93fbf2b1cd080"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0f23682fd300925974fd2aadfe5e64" id="r_a8c0f23682fd300925974fd2aadfe5e64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a8c0f23682fd300925974fd2aadfe5e64">dummy_solver2</a></td></tr>
<tr class="separator:a8c0f23682fd300925974fd2aadfe5e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b9b7e815f7733bbe341e1c9bd3c8cb2" id="r_a0b9b7e815f7733bbe341e1c9bd3c8cb2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test____differential__evolution_1_1_test_differential_evolution_solver.html#a0b9b7e815f7733bbe341e1c9bd3c8cb2">quadratic</a></td></tr>
<tr class="separator:a0b9b7e815f7733bbe341e1c9bd3c8cb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3edb84d46fda59c1987080439cf0a7f8" name="a3edb84d46fda59c1987080439cf0a7f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3edb84d46fda59c1987080439cf0a7f8">&#9670;&#160;</a></span>quadratic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.quadratic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   48</span>    <span class="keyword">def </span>quadratic(self, x):</div>
<div class="line"><span class="lineno">   49</span>        <span class="keywordflow">return</span> x[0]**2</div>
<div class="line"><span class="lineno">   50</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6682656b397de0cd4416a9ab9e25781a" name="a6682656b397de0cd4416a9ab9e25781a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6682656b397de0cd4416a9ab9e25781a">&#9670;&#160;</a></span>setup_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.setup_method </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   26</span>    <span class="keyword">def </span>setup_method(self):</div>
<div class="line"><span class="lineno">   27</span>        self.old_seterr = np.seterr(invalid=<span class="stringliteral">&#39;raise&#39;</span>)</div>
<div class="line"><span class="lineno">   28</span>        self.limits = np.array([[0., 0.],</div>
<div class="line"><span class="lineno">   29</span>                                [2., 2.]])</div>
<div class="line"><span class="lineno">   30</span>        self.bounds = [(0., 2.), (0., 2.)]</div>
<div class="line"><span class="lineno">   31</span> </div>
<div class="line"><span class="lineno">   32</span>        self.dummy_solver = DifferentialEvolutionSolver(self.quadratic,</div>
<div class="line"><span class="lineno">   33</span>                                                        [(0, 100)])</div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>        <span class="comment"># dummy_solver2 will be used to test mutation strategies</span></div>
<div class="line"><span class="lineno">   36</span>        self.dummy_solver2 = DifferentialEvolutionSolver(self.quadratic,</div>
<div class="line"><span class="lineno">   37</span>                                                         [(0, 1)],</div>
<div class="line"><span class="lineno">   38</span>                                                         popsize=7,</div>
<div class="line"><span class="lineno">   39</span>                                                         mutation=0.5)</div>
<div class="line"><span class="lineno">   40</span>        <span class="comment"># create a population that&#39;s only 7 members long</span></div>
<div class="line"><span class="lineno">   41</span>        <span class="comment"># [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7]</span></div>
<div class="line"><span class="lineno">   42</span>        population = np.atleast_2d(np.arange(0.1, 0.8, 0.1)).T</div>
<div class="line"><span class="lineno">   43</span>        self.dummy_solver2.population = population</div>
<div class="line"><span class="lineno">   44</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ca42b050adb178c3c185704ffbc644b" name="a8ca42b050adb178c3c185704ffbc644b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ca42b050adb178c3c185704ffbc644b">&#9670;&#160;</a></span>teardown_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.teardown_method </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   45</span>    <span class="keyword">def </span>teardown_method(self):</div>
<div class="line"><span class="lineno">   46</span>        np.seterr(**self.old_seterr)</div>
<div class="line"><span class="lineno">   47</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a584b4d17c5852249c38098f62f4e21" name="a8a584b4d17c5852249c38098f62f4e21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a584b4d17c5852249c38098f62f4e21">&#9670;&#160;</a></span>test__currenttobest1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test__currenttobest1 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  154</span>    <span class="keyword">def </span>test__currenttobest1(self):</div>
<div class="line"><span class="lineno">  155</span>        <span class="comment"># strategies currenttobest/1/*</span></div>
<div class="line"><span class="lineno">  156</span>        result = np.array([0.1])</div>
<div class="line"><span class="lineno">  157</span>        trial = self.dummy_solver2._currenttobest1(1, (2, 3, 4, 5, 6))</div>
<div class="line"><span class="lineno">  158</span>        assert_allclose(trial, result)</div>
<div class="line"><span class="lineno">  159</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a22895390e4b734b7b4fd6f9a9b371b54" name="a22895390e4b734b7b4fd6f9a9b371b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22895390e4b734b7b4fd6f9a9b371b54">&#9670;&#160;</a></span>test__ensure_constraint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test__ensure_constraint </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  223</span>    <span class="keyword">def </span>test__ensure_constraint(self):</div>
<div class="line"><span class="lineno">  224</span>        trial = np.array([1.1, -100, 0.9, 2., 300., -0.00001])</div>
<div class="line"><span class="lineno">  225</span>        self.dummy_solver._ensure_constraint(trial)</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>        assert_equal(trial[2], 0.9)</div>
<div class="line"><span class="lineno">  228</span>        assert_(np.logical_and(trial &gt;= 0, trial &lt;= 1).all())</div>
<div class="line"><span class="lineno">  229</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4ef43e5a7db5672282585c285926b078" name="a4ef43e5a7db5672282585c285926b078"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ef43e5a7db5672282585c285926b078">&#9670;&#160;</a></span>test__mutate1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test__mutate1 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  126</span>    <span class="keyword">def </span>test__mutate1(self):</div>
<div class="line"><span class="lineno">  127</span>        <span class="comment"># strategies */1/*, i.e. rand/1/bin, best/1/exp, etc.</span></div>
<div class="line"><span class="lineno">  128</span>        result = np.array([0.05])</div>
<div class="line"><span class="lineno">  129</span>        trial = self.dummy_solver2._best1((2, 3, 4, 5, 6))</div>
<div class="line"><span class="lineno">  130</span>        assert_allclose(trial, result)</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>        result = np.array([0.25])</div>
<div class="line"><span class="lineno">  133</span>        trial = self.dummy_solver2._rand1((2, 3, 4, 5, 6))</div>
<div class="line"><span class="lineno">  134</span>        assert_allclose(trial, result)</div>
<div class="line"><span class="lineno">  135</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b5529698aaf7f0865a55193097a683f" name="a3b5529698aaf7f0865a55193097a683f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b5529698aaf7f0865a55193097a683f">&#9670;&#160;</a></span>test__mutate2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test__mutate2 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  136</span>    <span class="keyword">def </span>test__mutate2(self):</div>
<div class="line"><span class="lineno">  137</span>        <span class="comment"># strategies */2/*, i.e. rand/2/bin, best/2/exp, etc.</span></div>
<div class="line"><span class="lineno">  138</span>        <span class="comment"># [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7]</span></div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>        result = np.array([-0.1])</div>
<div class="line"><span class="lineno">  141</span>        trial = self.dummy_solver2._best2((2, 3, 4, 5, 6))</div>
<div class="line"><span class="lineno">  142</span>        assert_allclose(trial, result)</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>        result = np.array([0.1])</div>
<div class="line"><span class="lineno">  145</span>        trial = self.dummy_solver2._rand2((2, 3, 4, 5, 6))</div>
<div class="line"><span class="lineno">  146</span>        assert_allclose(trial, result)</div>
<div class="line"><span class="lineno">  147</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6fd0cfde573521f1faf5e403631eace5" name="a6fd0cfde573521f1faf5e403631eace5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6fd0cfde573521f1faf5e403631eace5">&#9670;&#160;</a></span>test__randtobest1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test__randtobest1 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  148</span>    <span class="keyword">def </span>test__randtobest1(self):</div>
<div class="line"><span class="lineno">  149</span>        <span class="comment"># strategies randtobest/1/*</span></div>
<div class="line"><span class="lineno">  150</span>        result = np.array([0.15])</div>
<div class="line"><span class="lineno">  151</span>        trial = self.dummy_solver2._randtobest1((2, 3, 4, 5, 6))</div>
<div class="line"><span class="lineno">  152</span>        assert_allclose(trial, result)</div>
<div class="line"><span class="lineno">  153</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4fa564748b836ef39b63fe33695d30f6" name="a4fa564748b836ef39b63fe33695d30f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fa564748b836ef39b63fe33695d30f6">&#9670;&#160;</a></span>test__scale_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test__scale_parameters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  207</span>    <span class="keyword">def </span>test__scale_parameters(self):</div>
<div class="line"><span class="lineno">  208</span>        trial = np.array([0.3])</div>
<div class="line"><span class="lineno">  209</span>        assert_equal(30, self.dummy_solver._scale_parameters(trial))</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>        <span class="comment"># it should also work with the limits reversed</span></div>
<div class="line"><span class="lineno">  212</span>        self.dummy_solver.limits = np.array([[100], [0.]])</div>
<div class="line"><span class="lineno">  213</span>        assert_equal(30, self.dummy_solver._scale_parameters(trial))</div>
<div class="line"><span class="lineno">  214</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a68ddf469afb6b7e986b1d43e8d9d7fc3" name="a68ddf469afb6b7e986b1d43e8d9d7fc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68ddf469afb6b7e986b1d43e8d9d7fc3">&#9670;&#160;</a></span>test__strategy_resolves()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test__strategy_resolves </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   51</span>    <span class="keyword">def </span>test__strategy_resolves(self):</div>
<div class="line"><span class="lineno">   52</span>        <span class="comment"># test that the correct mutation function is resolved by</span></div>
<div class="line"><span class="lineno">   53</span>        <span class="comment"># different requested strategy arguments</span></div>
<div class="line"><span class="lineno">   54</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">   55</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">   56</span>                                             strategy=<span class="stringliteral">&#39;best1exp&#39;</span>)</div>
<div class="line"><span class="lineno">   57</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;best1exp&#39;</span>)</div>
<div class="line"><span class="lineno">   58</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_best1&#39;</span>)</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">   61</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">   62</span>                                             strategy=<span class="stringliteral">&#39;best1bin&#39;</span>)</div>
<div class="line"><span class="lineno">   63</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;best1bin&#39;</span>)</div>
<div class="line"><span class="lineno">   64</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_best1&#39;</span>)</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">   67</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">   68</span>                                             strategy=<span class="stringliteral">&#39;rand1bin&#39;</span>)</div>
<div class="line"><span class="lineno">   69</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;rand1bin&#39;</span>)</div>
<div class="line"><span class="lineno">   70</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_rand1&#39;</span>)</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">   73</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">   74</span>                                             strategy=<span class="stringliteral">&#39;rand1exp&#39;</span>)</div>
<div class="line"><span class="lineno">   75</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;rand1exp&#39;</span>)</div>
<div class="line"><span class="lineno">   76</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_rand1&#39;</span>)</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">   79</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">   80</span>                                             strategy=<span class="stringliteral">&#39;rand2exp&#39;</span>)</div>
<div class="line"><span class="lineno">   81</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;rand2exp&#39;</span>)</div>
<div class="line"><span class="lineno">   82</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_rand2&#39;</span>)</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">   85</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">   86</span>                                             strategy=<span class="stringliteral">&#39;best2bin&#39;</span>)</div>
<div class="line"><span class="lineno">   87</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;best2bin&#39;</span>)</div>
<div class="line"><span class="lineno">   88</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_best2&#39;</span>)</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">   91</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">   92</span>                                             strategy=<span class="stringliteral">&#39;rand2bin&#39;</span>)</div>
<div class="line"><span class="lineno">   93</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;rand2bin&#39;</span>)</div>
<div class="line"><span class="lineno">   94</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_rand2&#39;</span>)</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">   97</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">   98</span>                                             strategy=<span class="stringliteral">&#39;rand2exp&#39;</span>)</div>
<div class="line"><span class="lineno">   99</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;rand2exp&#39;</span>)</div>
<div class="line"><span class="lineno">  100</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_rand2&#39;</span>)</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">  103</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">  104</span>                                             strategy=<span class="stringliteral">&#39;randtobest1bin&#39;</span>)</div>
<div class="line"><span class="lineno">  105</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;randtobest1bin&#39;</span>)</div>
<div class="line"><span class="lineno">  106</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_randtobest1&#39;</span>)</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">  109</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">  110</span>                                             strategy=<span class="stringliteral">&#39;randtobest1exp&#39;</span>)</div>
<div class="line"><span class="lineno">  111</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;randtobest1exp&#39;</span>)</div>
<div class="line"><span class="lineno">  112</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_randtobest1&#39;</span>)</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">  115</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">  116</span>                                             strategy=<span class="stringliteral">&#39;currenttobest1bin&#39;</span>)</div>
<div class="line"><span class="lineno">  117</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;currenttobest1bin&#39;</span>)</div>
<div class="line"><span class="lineno">  118</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_currenttobest1&#39;</span>)</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">  121</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">  122</span>                                             strategy=<span class="stringliteral">&#39;currenttobest1exp&#39;</span>)</div>
<div class="line"><span class="lineno">  123</span>        assert_equal(solver.strategy, <span class="stringliteral">&#39;currenttobest1exp&#39;</span>)</div>
<div class="line"><span class="lineno">  124</span>        assert_equal(solver.mutation_func.__name__, <span class="stringliteral">&#39;_currenttobest1&#39;</span>)</div>
<div class="line"><span class="lineno">  125</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2662b0d693a59a92ca0fc30162bc180d" name="a2662b0d693a59a92ca0fc30162bc180d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2662b0d693a59a92ca0fc30162bc180d">&#9670;&#160;</a></span>test__unscale_parameters()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test__unscale_parameters </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  215</span>    <span class="keyword">def </span>test__unscale_parameters(self):</div>
<div class="line"><span class="lineno">  216</span>        trial = np.array([30])</div>
<div class="line"><span class="lineno">  217</span>        assert_equal(0.3, self.dummy_solver._unscale_parameters(trial))</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span>        <span class="comment"># it should also work with the limits reversed</span></div>
<div class="line"><span class="lineno">  220</span>        self.dummy_solver.limits = np.array([[100], [0.]])</div>
<div class="line"><span class="lineno">  221</span>        assert_equal(0.3, self.dummy_solver._unscale_parameters(trial))</div>
<div class="line"><span class="lineno">  222</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a77bbcbd1049f09d35f905fecad3c50ff" name="a77bbcbd1049f09d35f905fecad3c50ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77bbcbd1049f09d35f905fecad3c50ff">&#9670;&#160;</a></span>test_accept_trial()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_accept_trial </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  793</span>    <span class="keyword">def </span>test_accept_trial(self):</div>
<div class="line"><span class="lineno">  794</span>        <span class="comment"># _accept_trial(self, energy_trial, feasible_trial, cv_trial,</span></div>
<div class="line"><span class="lineno">  795</span>        <span class="comment">#               energy_orig, feasible_orig, cv_orig)</span></div>
<div class="line"><span class="lineno">  796</span>        <span class="keyword">def </span>constr_f(x):</div>
<div class="line"><span class="lineno">  797</span>            <span class="keywordflow">return</span> [x[0] + x[1]]</div>
<div class="line"><span class="lineno">  798</span>        nlc = NonlinearConstraint(constr_f, -np.inf, 1.9)</div>
<div class="line"><span class="lineno">  799</span>        solver = DifferentialEvolutionSolver(rosen, [(0, 2), (0, 2)],</div>
<div class="line"><span class="lineno">  800</span>                                             constraints=(nlc))</div>
<div class="line"><span class="lineno">  801</span>        fn = solver._accept_trial</div>
<div class="line"><span class="lineno">  802</span>        <span class="comment"># both solutions are feasible, select lower energy</span></div>
<div class="line"><span class="lineno">  803</span>        <span class="keyword">assert</span> fn(0.1, <span class="keyword">True</span>, np.array([0.]), 1.0, <span class="keyword">True</span>, np.array([0.]))</div>
<div class="line"><span class="lineno">  804</span>        <span class="keyword">assert</span> (fn(1.0, <span class="keyword">True</span>, np.array([0.]), 0.1, <span class="keyword">True</span>, np.array([0.]))</div>
<div class="line"><span class="lineno">  805</span>               == <span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  806</span>        <span class="keyword">assert</span> fn(0.1, <span class="keyword">True</span>, np.array([0.]), 0.1, <span class="keyword">True</span>, np.array([0.]))</div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span>        <span class="comment"># trial is feasible, original is not</span></div>
<div class="line"><span class="lineno">  809</span>        <span class="keyword">assert</span> fn(9.9, <span class="keyword">True</span>, np.array([0.]), 1.0, <span class="keyword">False</span>, np.array([1.]))</div>
<div class="line"><span class="lineno">  810</span> </div>
<div class="line"><span class="lineno">  811</span>        <span class="comment"># trial and original are infeasible</span></div>
<div class="line"><span class="lineno">  812</span>        <span class="comment"># cv_trial have to be &lt;= cv_original to be better</span></div>
<div class="line"><span class="lineno">  813</span>        <span class="keyword">assert</span> (fn(0.1, <span class="keyword">False</span>, np.array([0.5, 0.5]),</div>
<div class="line"><span class="lineno">  814</span>                  1.0, <span class="keyword">False</span>, np.array([1., 1.0])))</div>
<div class="line"><span class="lineno">  815</span>        <span class="keyword">assert</span> (fn(0.1, <span class="keyword">False</span>, np.array([0.5, 0.5]),</div>
<div class="line"><span class="lineno">  816</span>                  1.0, <span class="keyword">False</span>, np.array([1., 0.50])))</div>
<div class="line"><span class="lineno">  817</span>        <span class="keyword">assert</span> (fn(1.0, <span class="keyword">False</span>, np.array([0.5, 0.5]),</div>
<div class="line"><span class="lineno">  818</span>                  1.0, <span class="keyword">False</span>, np.array([1., 0.4])) == <span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  819</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9db7a495ad081467c6316d4035657a9a" name="a9db7a495ad081467c6316d4035657a9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9db7a495ad081467c6316d4035657a9a">&#9670;&#160;</a></span>test_args_tuple_is_passed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_args_tuple_is_passed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  275</span>    <span class="keyword">def </span>test_args_tuple_is_passed(self):</div>
<div class="line"><span class="lineno">  276</span>        <span class="comment"># test that the args tuple is passed to the cost function properly.</span></div>
<div class="line"><span class="lineno">  277</span>        bounds = [(-10, 10)]</div>
<div class="line"><span class="lineno">  278</span>        args = (1., 2., 3.)</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>        <span class="keyword">def </span>quadratic(x, *args):</div>
<div class="line"><span class="lineno">  281</span>            <span class="keywordflow">if</span> type(args) != tuple:</div>
<div class="line"><span class="lineno">  282</span>                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;args should be a tuple&#39;</span>)</div>
<div class="line"><span class="lineno">  283</span>            <span class="keywordflow">return</span> args[0] + args[1] * x + args[2] * x**2.</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>        result = differential_evolution(quadratic,</div>
<div class="line"><span class="lineno">  286</span>                                        bounds,</div>
<div class="line"><span class="lineno">  287</span>                                        args=args,</div>
<div class="line"><span class="lineno">  288</span>                                        polish=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  289</span>        assert_almost_equal(result.fun, 2 / 3.)</div>
<div class="line"><span class="lineno">  290</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5733dcadbaf9ef34efbfa4583084dbd7" name="a5733dcadbaf9ef34efbfa4583084dbd7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5733dcadbaf9ef34efbfa4583084dbd7">&#9670;&#160;</a></span>test_best_solution_retrieval()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_best_solution_retrieval </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  245</span>    <span class="keyword">def </span>test_best_solution_retrieval(self):</div>
<div class="line"><span class="lineno">  246</span>        <span class="comment"># test that the getter property method for the best solution works.</span></div>
<div class="line"><span class="lineno">  247</span>        solver = DifferentialEvolutionSolver(self.quadratic, [(-2, 2)])</div>
<div class="line"><span class="lineno">  248</span>        result = solver.solve()</div>
<div class="line"><span class="lineno">  249</span>        assert_equal(result.x, solver.x)</div>
<div class="line"><span class="lineno">  250</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b1f2dfdf68b9495a4bc0bff0ad19bb4" name="a1b1f2dfdf68b9495a4bc0bff0ad19bb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1f2dfdf68b9495a4bc0bff0ad19bb4">&#9670;&#160;</a></span>test_bounds_checking()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_bounds_checking </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  301</span>    <span class="keyword">def </span>test_bounds_checking(self):</div>
<div class="line"><span class="lineno">  302</span>        <span class="comment"># test that the bounds checking works</span></div>
<div class="line"><span class="lineno">  303</span>        func = rosen</div>
<div class="line"><span class="lineno">  304</span>        bounds = [(-3)]</div>
<div class="line"><span class="lineno">  305</span>        assert_raises(ValueError,</div>
<div class="line"><span class="lineno">  306</span>                          differential_evolution,</div>
<div class="line"><span class="lineno">  307</span>                          func,</div>
<div class="line"><span class="lineno">  308</span>                          bounds)</div>
<div class="line"><span class="lineno">  309</span>        bounds = [(-3, 3), (3, 4, 5)]</div>
<div class="line"><span class="lineno">  310</span>        assert_raises(ValueError,</div>
<div class="line"><span class="lineno">  311</span>                          differential_evolution,</div>
<div class="line"><span class="lineno">  312</span>                          func,</div>
<div class="line"><span class="lineno">  313</span>                          bounds)</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>        <span class="comment"># test that we can use a new-type Bounds object</span></div>
<div class="line"><span class="lineno">  316</span>        result = differential_evolution(rosen, Bounds([0, 0], [2, 2]))</div>
<div class="line"><span class="lineno">  317</span>        assert_almost_equal(result.x, (1., 1.))</div>
<div class="line"><span class="lineno">  318</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a52fb950ee0378524b92de292d61b202e" name="a52fb950ee0378524b92de292d61b202e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52fb950ee0378524b92de292d61b202e">&#9670;&#160;</a></span>test_calculate_population_energies()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_calculate_population_energies </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  455</span>    <span class="keyword">def </span>test_calculate_population_energies(self):</div>
<div class="line"><span class="lineno">  456</span>        <span class="comment"># if popsize is 3, then the overall generation has size (6,)</span></div>
<div class="line"><span class="lineno">  457</span>        solver = DifferentialEvolutionSolver(rosen, self.bounds, popsize=3)</div>
<div class="line"><span class="lineno">  458</span>        solver._calculate_population_energies(solver.population)</div>
<div class="line"><span class="lineno">  459</span>        solver._promote_lowest_energy()</div>
<div class="line"><span class="lineno">  460</span>        assert_equal(np.argmin(solver.population_energies), 0)</div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>        <span class="comment"># initial calculation of the energies should require 6 nfev.</span></div>
<div class="line"><span class="lineno">  463</span>        assert_equal(solver._nfev, 6)</div>
<div class="line"><span class="lineno">  464</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab195def57a8e32646ea336133e5a9bf6" name="ab195def57a8e32646ea336133e5a9bf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab195def57a8e32646ea336133e5a9bf6">&#9670;&#160;</a></span>test_callback_terminates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_callback_terminates </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  251</span>    <span class="keyword">def </span>test_callback_terminates(self):</div>
<div class="line"><span class="lineno">  252</span>        <span class="comment"># test that if the callback returns true, then the minimization halts</span></div>
<div class="line"><span class="lineno">  253</span>        bounds = [(0, 2), (0, 2)]</div>
<div class="line"><span class="lineno">  254</span>        expected_msg = <span class="stringliteral">&#39;callback function requested stop early by returning True&#39;</span></div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>        <span class="keyword">def </span>callback_python_true(param, convergence=0.):</div>
<div class="line"><span class="lineno">  257</span>            <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>        result = differential_evolution(rosen, bounds, callback=callback_python_true)</div>
<div class="line"><span class="lineno">  260</span>        assert_string_equal(result.message, expected_msg)</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>        <span class="keyword">def </span>callback_evaluates_true(param, convergence=0.):</div>
<div class="line"><span class="lineno">  263</span>            <span class="comment"># DE should stop if bool(self.callback) is True</span></div>
<div class="line"><span class="lineno">  264</span>            <span class="keywordflow">return</span> [10]</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>        result = differential_evolution(rosen, bounds, callback=callback_evaluates_true)</div>
<div class="line"><span class="lineno">  267</span>        assert_string_equal(result.message, expected_msg)</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>        <span class="keyword">def </span>callback_evaluates_false(param, convergence=0.):</div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordflow">return</span> []</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>        result = differential_evolution(rosen, bounds, callback=callback_evaluates_false)</div>
<div class="line"><span class="lineno">  273</span>        <span class="keyword">assert</span> result.success</div>
<div class="line"><span class="lineno">  274</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a41cc750984b3fa692f8970986367b56f" name="a41cc750984b3fa692f8970986367b56f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41cc750984b3fa692f8970986367b56f">&#9670;&#160;</a></span>test_can_init_with_dithering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_can_init_with_dithering </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  160</span>    <span class="keyword">def </span>test_can_init_with_dithering(self):</div>
<div class="line"><span class="lineno">  161</span>        mutation = (0.5, 1)</div>
<div class="line"><span class="lineno">  162</span>        solver = DifferentialEvolutionSolver(self.quadratic,</div>
<div class="line"><span class="lineno">  163</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">  164</span>                                             mutation=mutation)</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>        assert_equal(solver.dither, list(mutation))</div>
<div class="line"><span class="lineno">  167</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aad8a674625142cc696580f916b261610" name="aad8a674625142cc696580f916b261610"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad8a674625142cc696580f916b261610">&#9670;&#160;</a></span>test_constraint_population_feasibilities()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_constraint_population_feasibilities </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  693</span>    <span class="keyword">def </span>test_constraint_population_feasibilities(self):</div>
<div class="line"><span class="lineno">  694</span>        <span class="keyword">def </span>constr_f(x):</div>
<div class="line"><span class="lineno">  695</span>            <span class="keywordflow">return</span> [x[0] + x[1]]</div>
<div class="line"><span class="lineno">  696</span> </div>
<div class="line"><span class="lineno">  697</span>        <span class="keyword">def </span>constr_f2(x):</div>
<div class="line"><span class="lineno">  698</span>            <span class="keywordflow">return</span> [x[0]**2 + x[1], x[0] - x[1]]</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>        nlc = NonlinearConstraint(constr_f, -np.inf, 1.9)</div>
<div class="line"><span class="lineno">  701</span> </div>
<div class="line"><span class="lineno">  702</span>        solver = DifferentialEvolutionSolver(rosen, [(0, 2), (0, 2)],</div>
<div class="line"><span class="lineno">  703</span>                                             constraints=(nlc))</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>        <span class="comment"># are population feasibilities correct</span></div>
<div class="line"><span class="lineno">  706</span>        <span class="comment"># [0.5, 0.5] corresponds to scaled values of [1., 1.]</span></div>
<div class="line"><span class="lineno">  707</span>        feas, cv = solver._calculate_population_feasibilities(</div>
<div class="line"><span class="lineno">  708</span>            np.array([[0.5, 0.5], [1., 1.]]))</div>
<div class="line"><span class="lineno">  709</span>        assert_equal(feas, [<span class="keyword">False</span>, <span class="keyword">False</span>])</div>
<div class="line"><span class="lineno">  710</span>        assert_almost_equal(cv, np.array([[0.1], [2.1]]))</div>
<div class="line"><span class="lineno">  711</span>        <span class="keyword">assert</span> cv.shape == (2, 1)</div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>        nlc2 = NonlinearConstraint(constr_f2, -np.inf, 1.8)</div>
<div class="line"><span class="lineno">  714</span> </div>
<div class="line"><span class="lineno">  715</span>        <span class="keywordflow">for</span> vectorize <span class="keywordflow">in</span> [<span class="keyword">False</span>, <span class="keyword">True</span>]:</div>
<div class="line"><span class="lineno">  716</span>            solver = DifferentialEvolutionSolver(rosen, [(0, 2), (0, 2)],</div>
<div class="line"><span class="lineno">  717</span>                                                 constraints=(nlc, nlc2),</div>
<div class="line"><span class="lineno">  718</span>                                                 vectorized=vectorize,</div>
<div class="line"><span class="lineno">  719</span>                                                 updating=<span class="stringliteral">&#39;deferred&#39;</span>)</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>            feas, cv = solver._calculate_population_feasibilities(</div>
<div class="line"><span class="lineno">  722</span>                np.array([[0.5, 0.5], [0.6, 0.5]]))</div>
<div class="line"><span class="lineno">  723</span>            assert_equal(feas, [<span class="keyword">False</span>, <span class="keyword">False</span>])</div>
<div class="line"><span class="lineno">  724</span>            assert_almost_equal(cv, np.array([[0.1, 0.2, 0], [0.3, 0.64, 0]]))</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>            feas, cv = solver._calculate_population_feasibilities(</div>
<div class="line"><span class="lineno">  727</span>                np.array([[0.5, 0.5], [1., 1.]]))</div>
<div class="line"><span class="lineno">  728</span>            assert_equal(feas, [<span class="keyword">False</span>, <span class="keyword">False</span>])</div>
<div class="line"><span class="lineno">  729</span>            assert_almost_equal(cv, np.array([[0.1, 0.2, 0], [2.1, 4.2, 0]]))</div>
<div class="line"><span class="lineno">  730</span>            <span class="keyword">assert</span> cv.shape == (2, 3)</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span>            feas, cv = solver._calculate_population_feasibilities(</div>
<div class="line"><span class="lineno">  733</span>                np.array([[0.25, 0.25], [1., 1.]]))</div>
<div class="line"><span class="lineno">  734</span>            assert_equal(feas, [<span class="keyword">True</span>, <span class="keyword">False</span>])</div>
<div class="line"><span class="lineno">  735</span>            assert_almost_equal(cv, np.array([[0.0, 0.0, 0.], [2.1, 4.2, 0]]))</div>
<div class="line"><span class="lineno">  736</span>            <span class="keyword">assert</span> cv.shape == (2, 3)</div>
<div class="line"><span class="lineno">  737</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ebdef998043420536bf49b648220be6" name="a0ebdef998043420536bf49b648220be6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ebdef998043420536bf49b648220be6">&#9670;&#160;</a></span>test_constraint_solve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_constraint_solve </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  738</span>    <span class="keyword">def </span>test_constraint_solve(self):</div>
<div class="line"><span class="lineno">  739</span>        <span class="keyword">def </span>constr_f(x):</div>
<div class="line"><span class="lineno">  740</span>            <span class="keywordflow">return</span> np.array([x[0] + x[1]])</div>
<div class="line"><span class="lineno">  741</span> </div>
<div class="line"><span class="lineno">  742</span>        nlc = NonlinearConstraint(constr_f, -np.inf, 1.9)</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>        solver = DifferentialEvolutionSolver(rosen, [(0, 2), (0, 2)],</div>
<div class="line"><span class="lineno">  745</span>                                             constraints=(nlc))</div>
<div class="line"><span class="lineno">  746</span> </div>
<div class="line"><span class="lineno">  747</span>        <span class="comment"># trust-constr warns if the constraint function is linear</span></div>
<div class="line"><span class="lineno">  748</span>        <span class="keyword">with</span> warns(UserWarning):</div>
<div class="line"><span class="lineno">  749</span>            res = solver.solve()</div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>        <span class="keyword">assert</span> constr_f(res.x) &lt;= 1.9</div>
<div class="line"><span class="lineno">  752</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno">  753</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaeea9cce0d2fbc77c03819d0dbe322ab" name="aaeea9cce0d2fbc77c03819d0dbe322ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeea9cce0d2fbc77c03819d0dbe322ab">&#9670;&#160;</a></span>test_constraint_violation_error_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_constraint_violation_error_message </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1466</span>    <span class="keyword">def </span>test_constraint_violation_error_message(self):</div>
<div class="line"><span class="lineno"> 1467</span> </div>
<div class="line"><span class="lineno"> 1468</span>        <span class="keyword">def </span><a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(x):</div>
<div class="line"><span class="lineno"> 1469</span>            <span class="keywordflow">return</span> np.cos(x[0]) + np.sin(x[1])</div>
<div class="line"><span class="lineno"> 1470</span> </div>
<div class="line"><span class="lineno"> 1471</span>        <span class="comment"># Intentionally infeasible constraints.</span></div>
<div class="line"><span class="lineno"> 1472</span>        c0 = NonlinearConstraint(<span class="keyword">lambda</span> x: x[1] - (x[0]-1)**2, 0, np.inf)</div>
<div class="line"><span class="lineno"> 1473</span>        c1 = NonlinearConstraint(<span class="keyword">lambda</span> x: x[1] + x[0]**2, -np.inf, 0)</div>
<div class="line"><span class="lineno"> 1474</span> </div>
<div class="line"><span class="lineno"> 1475</span>        result = differential_evolution(func,</div>
<div class="line"><span class="lineno"> 1476</span>                                        bounds=[(-1, 2), (-1, 1)],</div>
<div class="line"><span class="lineno"> 1477</span>                                        constraints=[c0, c1],</div>
<div class="line"><span class="lineno"> 1478</span>                                        maxiter=10,</div>
<div class="line"><span class="lineno"> 1479</span>                                        polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1480</span>                                        seed=864197532)</div>
<div class="line"><span class="lineno"> 1481</span>        <span class="keyword">assert</span> result.success <span class="keywordflow">is</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1482</span>        <span class="comment"># The numerical value in the error message might be sensitive to</span></div>
<div class="line"><span class="lineno"> 1483</span>        <span class="comment"># changes in the implementation.  It can be updated if the code is</span></div>
<div class="line"><span class="lineno"> 1484</span>        <span class="comment"># changed.  The essential part of the test is that there is a number</span></div>
<div class="line"><span class="lineno"> 1485</span>        <span class="comment"># after the &#39;=&#39;, so if necessary, the text could be reduced to, say,</span></div>
<div class="line"><span class="lineno"> 1486</span>        <span class="comment"># &quot;MAXCV = 0.&quot;.</span></div>
<div class="line"><span class="lineno"> 1487</span>        <span class="keyword">assert</span> <span class="stringliteral">&quot;MAXCV = 0.404&quot;</span> <span class="keywordflow">in</span> result.message</div>
<div class="ttc" id="acallback_2foo_8f_html_a565fe2cc583df102f120752b0011c330"><div class="ttname"><a href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a></div><div class="ttdeci">subroutine func(a)</div><div class="ttdef"><b>Definition</b> foo.f:9</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8a0f8a62965ccfe5280400248983bece" name="a8a0f8a62965ccfe5280400248983bece"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a0f8a62965ccfe5280400248983bece">&#9670;&#160;</a></span>test_constraint_violation_fn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_constraint_violation_fn </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  636</span>    <span class="keyword">def </span>test_constraint_violation_fn(self):</div>
<div class="line"><span class="lineno">  637</span>        <span class="keyword">def </span>constr_f(x):</div>
<div class="line"><span class="lineno">  638</span>            <span class="keywordflow">return</span> [x[0] + x[1]]</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>        <span class="keyword">def </span>constr_f2(x):</div>
<div class="line"><span class="lineno">  641</span>            <span class="keywordflow">return</span> np.array([x[0]**2 + x[1], x[0] - x[1]])</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>        nlc = NonlinearConstraint(constr_f, -np.inf, 1.9)</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>        solver = DifferentialEvolutionSolver(rosen, [(0, 2), (0, 2)],</div>
<div class="line"><span class="lineno">  646</span>                                             constraints=(nlc))</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>        cv = solver._constraint_violation_fn(np.array([1.0, 1.0]))</div>
<div class="line"><span class="lineno">  649</span>        assert_almost_equal(cv, 0.1)</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>        nlc2 = NonlinearConstraint(constr_f2, -np.inf, 1.8)</div>
<div class="line"><span class="lineno">  652</span>        solver = DifferentialEvolutionSolver(rosen, [(0, 2), (0, 2)],</div>
<div class="line"><span class="lineno">  653</span>                                             constraints=(nlc, nlc2))</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>        <span class="comment"># for multiple constraints the constraint violations should</span></div>
<div class="line"><span class="lineno">  656</span>        <span class="comment"># be concatenated.</span></div>
<div class="line"><span class="lineno">  657</span>        xs = [(1.2, 1), (2.0, 2.0), (0.5, 0.5)]</div>
<div class="line"><span class="lineno">  658</span>        vs = [(0.3, 0.64, 0.0), (2.1, 4.2, 0.0), (0, 0, 0)]</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>        <span class="keywordflow">for</span> x, v <span class="keywordflow">in</span> zip(xs, vs):</div>
<div class="line"><span class="lineno">  661</span>            cv = solver._constraint_violation_fn(np.array(x))</div>
<div class="line"><span class="lineno">  662</span>            assert_allclose(cv, np.atleast_2d(v))</div>
<div class="line"><span class="lineno">  663</span> </div>
<div class="line"><span class="lineno">  664</span>        <span class="comment"># vectorized calculation of a series of solutions</span></div>
<div class="line"><span class="lineno">  665</span>        assert_allclose(</div>
<div class="line"><span class="lineno">  666</span>            solver._constraint_violation_fn(np.array(xs)), np.array(vs)</div>
<div class="line"><span class="lineno">  667</span>        )</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>        <span class="comment"># the following line is used in _calculate_population_feasibilities.</span></div>
<div class="line"><span class="lineno">  670</span>        <span class="comment"># _constraint_violation_fn returns an (1, M) array when</span></div>
<div class="line"><span class="lineno">  671</span>        <span class="comment"># x.shape == (N,), i.e. a single solution. Therefore this list</span></div>
<div class="line"><span class="lineno">  672</span>        <span class="comment"># comprehension should generate (S, 1, M) array.</span></div>
<div class="line"><span class="lineno">  673</span>        constraint_violation = np.array([solver._constraint_violation_fn(x)</div>
<div class="line"><span class="lineno">  674</span>                                         <span class="keywordflow">for</span> x <span class="keywordflow">in</span> np.array(xs)])</div>
<div class="line"><span class="lineno">  675</span>        <span class="keyword">assert</span> constraint_violation.shape == (3, 1, 3)</div>
<div class="line"><span class="lineno">  676</span> </div>
<div class="line"><span class="lineno">  677</span>        <span class="comment"># we need reasonable error messages if the constraint function doesn&#39;t</span></div>
<div class="line"><span class="lineno">  678</span>        <span class="comment"># return the right thing</span></div>
<div class="line"><span class="lineno">  679</span>        <span class="keyword">def </span>constr_f3(x):</div>
<div class="line"><span class="lineno">  680</span>            <span class="comment"># returns (S, M), rather than (M, S)</span></div>
<div class="line"><span class="lineno">  681</span>            <span class="keywordflow">return</span> constr_f2(x).T</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>        nlc2 = NonlinearConstraint(constr_f3, -np.inf, 1.8)</div>
<div class="line"><span class="lineno">  684</span>        solver = DifferentialEvolutionSolver(rosen, [(0, 2), (0, 2)],</div>
<div class="line"><span class="lineno">  685</span>                                             constraints=(nlc, nlc2),</div>
<div class="line"><span class="lineno">  686</span>                                             vectorized=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  687</span>        solver.vectorized = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  688</span>        <span class="keyword">with</span> pytest.raises(</div>
<div class="line"><span class="lineno">  689</span>                RuntimeError, match=<span class="stringliteral">&quot;An array returned from a Constraint&quot;</span></div>
<div class="line"><span class="lineno">  690</span>        ):</div>
<div class="line"><span class="lineno">  691</span>            solver._constraint_violation_fn(np.array(xs))</div>
<div class="line"><span class="lineno">  692</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f6dc8fc2985c780904c4f9cb81c4216" name="a0f6dc8fc2985c780904c4f9cb81c4216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f6dc8fc2985c780904c4f9cb81c4216">&#9670;&#160;</a></span>test_constraint_wrapper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_constraint_wrapper </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  820</span>    <span class="keyword">def </span>test_constraint_wrapper(self):</div>
<div class="line"><span class="lineno">  821</span>        lb = np.array([0, 20, 30])</div>
<div class="line"><span class="lineno">  822</span>        ub = np.array([0.5, np.inf, 70])</div>
<div class="line"><span class="lineno">  823</span>        x0 = np.array([1, 2, 3])</div>
<div class="line"><span class="lineno">  824</span>        pc = _ConstraintWrapper(Bounds(lb, ub), x0)</div>
<div class="line"><span class="lineno">  825</span>        <span class="keyword">assert</span> (pc.violation(x0) &gt; 0).any()</div>
<div class="line"><span class="lineno">  826</span>        <span class="keyword">assert</span> (pc.violation([0.25, 21, 31]) == 0).all()</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>        <span class="comment"># check vectorized Bounds constraint</span></div>
<div class="line"><span class="lineno">  829</span>        xs = np.arange(1, 16).reshape(5, 3)</div>
<div class="line"><span class="lineno">  830</span>        violations = []</div>
<div class="line"><span class="lineno">  831</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> xs:</div>
<div class="line"><span class="lineno">  832</span>            violations.append(pc.violation(x))</div>
<div class="line"><span class="lineno">  833</span>        np.testing.assert_allclose(pc.violation(xs.T), np.array(violations).T)</div>
<div class="line"><span class="lineno">  834</span> </div>
<div class="line"><span class="lineno">  835</span>        x0 = np.array([1, 2, 3, 4])</div>
<div class="line"><span class="lineno">  836</span>        A = np.array([[1, 2, 3, 4], [5, 0, 0, 6], [7, 0, 8, 0]])</div>
<div class="line"><span class="lineno">  837</span>        pc = _ConstraintWrapper(LinearConstraint(A, -np.inf, 0), x0)</div>
<div class="line"><span class="lineno">  838</span>        <span class="keyword">assert</span> (pc.violation(x0) &gt; 0).any()</div>
<div class="line"><span class="lineno">  839</span>        <span class="keyword">assert</span> (pc.violation([-10, 2, -10, 4]) == 0).all()</div>
<div class="line"><span class="lineno">  840</span> </div>
<div class="line"><span class="lineno">  841</span>        <span class="comment"># check vectorized LinearConstraint, for 7 lots of parameter vectors</span></div>
<div class="line"><span class="lineno">  842</span>        <span class="comment"># with each parameter vector being 4 long, with 3 constraints</span></div>
<div class="line"><span class="lineno">  843</span>        <span class="comment"># xs is the same shape as stored in the differential evolution</span></div>
<div class="line"><span class="lineno">  844</span>        <span class="comment"># population, but it&#39;s sent to the violation function as (len(x), M)</span></div>
<div class="line"><span class="lineno">  845</span>        xs = np.arange(1, 29).reshape(7, 4)</div>
<div class="line"><span class="lineno">  846</span>        violations = []</div>
<div class="line"><span class="lineno">  847</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> xs:</div>
<div class="line"><span class="lineno">  848</span>            violations.append(pc.violation(x))</div>
<div class="line"><span class="lineno">  849</span>        np.testing.assert_allclose(pc.violation(xs.T), np.array(violations).T)</div>
<div class="line"><span class="lineno">  850</span> </div>
<div class="line"><span class="lineno">  851</span>        pc = _ConstraintWrapper(LinearConstraint(csr_matrix(A), -np.inf, 0),</div>
<div class="line"><span class="lineno">  852</span>                                x0)</div>
<div class="line"><span class="lineno">  853</span>        <span class="keyword">assert</span> (pc.violation(x0) &gt; 0).any()</div>
<div class="line"><span class="lineno">  854</span>        <span class="keyword">assert</span> (pc.violation([-10, 2, -10, 4]) == 0).all()</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>        <span class="keyword">def </span>fun(x):</div>
<div class="line"><span class="lineno">  857</span>            <span class="keywordflow">return</span> A.dot(x)</div>
<div class="line"><span class="lineno">  858</span> </div>
<div class="line"><span class="lineno">  859</span>        nonlinear = NonlinearConstraint(fun, -np.inf, 0)</div>
<div class="line"><span class="lineno">  860</span>        pc = _ConstraintWrapper(nonlinear, [-10, 2, -10, 4])</div>
<div class="line"><span class="lineno">  861</span>        <span class="keyword">assert</span> (pc.violation(x0) &gt; 0).any()</div>
<div class="line"><span class="lineno">  862</span>        <span class="keyword">assert</span> (pc.violation([-10, 2, -10, 4]) == 0).all()</div>
<div class="line"><span class="lineno">  863</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a907e35783401f3150708bc46cb1e7d80" name="a907e35783401f3150708bc46cb1e7d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a907e35783401f3150708bc46cb1e7d80">&#9670;&#160;</a></span>test_constraint_wrapper_violation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_constraint_wrapper_violation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  864</span>    <span class="keyword">def </span>test_constraint_wrapper_violation(self):</div>
<div class="line"><span class="lineno">  865</span>        <span class="keyword">def </span>cons_f(x):</div>
<div class="line"><span class="lineno">  866</span>            <span class="comment"># written in vectorised form to accept an array of (N, S)</span></div>
<div class="line"><span class="lineno">  867</span>            <span class="comment"># returning (M, S)</span></div>
<div class="line"><span class="lineno">  868</span>            <span class="comment"># where N is the number of parameters,</span></div>
<div class="line"><span class="lineno">  869</span>            <span class="comment"># S is the number of solution vectors to be examined,</span></div>
<div class="line"><span class="lineno">  870</span>            <span class="comment"># and M is the number of constraint components</span></div>
<div class="line"><span class="lineno">  871</span>            <span class="keywordflow">return</span> np.array([x[0] ** 2 + x[1],</div>
<div class="line"><span class="lineno">  872</span>                             x[0] ** 2 - x[1]])</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>        nlc = NonlinearConstraint(cons_f, [-1, -0.8500], [2, 2])</div>
<div class="line"><span class="lineno">  875</span>        pc = _ConstraintWrapper(nlc, [0.5, 1])</div>
<div class="line"><span class="lineno">  876</span>        <span class="keyword">assert</span> np.size(pc.bounds[0]) == 2</div>
<div class="line"><span class="lineno">  877</span> </div>
<div class="line"><span class="lineno">  878</span>        xs = [(0.5, 1), (0.5, 1.2), (1.2, 1.2), (0.1, -1.2), (0.1, 2.0)]</div>
<div class="line"><span class="lineno">  879</span>        vs = [(0, 0), (0, 0.1), (0.64, 0), (0.19, 0), (0.01, 1.14)]</div>
<div class="line"><span class="lineno">  880</span> </div>
<div class="line"><span class="lineno">  881</span>        <span class="keywordflow">for</span> x, v <span class="keywordflow">in</span> zip(xs, vs):</div>
<div class="line"><span class="lineno">  882</span>            assert_allclose(pc.violation(x), v)</div>
<div class="line"><span class="lineno">  883</span> </div>
<div class="line"><span class="lineno">  884</span>        <span class="comment"># now check that we can vectorize the constraint wrapper</span></div>
<div class="line"><span class="lineno">  885</span>        assert_allclose(pc.violation(np.array(xs).T),</div>
<div class="line"><span class="lineno">  886</span>                        np.array(vs).T)</div>
<div class="line"><span class="lineno">  887</span>        <span class="keyword">assert</span> pc.fun(np.array(xs).T).shape == (2, len(xs))</div>
<div class="line"><span class="lineno">  888</span>        <span class="keyword">assert</span> pc.violation(np.array(xs).T).shape == (2, len(xs))</div>
<div class="line"><span class="lineno">  889</span>        <span class="keyword">assert</span> pc.num_constr == 2</div>
<div class="line"><span class="lineno">  890</span>        <span class="keyword">assert</span> pc.parameter_count == 2</div>
<div class="line"><span class="lineno">  891</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a81747da0df57be49cd4de38acecaaaa0" name="a81747da0df57be49cd4de38acecaaaa0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81747da0df57be49cd4de38acecaaaa0">&#9670;&#160;</a></span>test_converged()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_converged </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  631</span>    <span class="keyword">def </span>test_converged(self):</div>
<div class="line"><span class="lineno">  632</span>        solver = DifferentialEvolutionSolver(rosen, [(0, 2), (0, 2)])</div>
<div class="line"><span class="lineno">  633</span>        solver.solve()</div>
<div class="line"><span class="lineno">  634</span>        assert_(solver.converged())</div>
<div class="line"><span class="lineno">  635</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a821b174a7b1f4146fee88d3ddafa0aa7" name="a821b174a7b1f4146fee88d3ddafa0aa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a821b174a7b1f4146fee88d3ddafa0aa7">&#9670;&#160;</a></span>test_convergence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_convergence </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  491</span>    <span class="keyword">def </span>test_convergence(self):</div>
<div class="line"><span class="lineno">  492</span>        solver = DifferentialEvolutionSolver(rosen, self.bounds, tol=0.2,</div>
<div class="line"><span class="lineno">  493</span>                                             polish=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  494</span>        solver.solve()</div>
<div class="line"><span class="lineno">  495</span>        assert_(solver.convergence &lt; 0.2)</div>
<div class="line"><span class="lineno">  496</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a61498b76e92591ca568df1fa68c3d5fc" name="a61498b76e92591ca568df1fa68c3d5fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61498b76e92591ca568df1fa68c3d5fc">&#9670;&#160;</a></span>test_deferred_updating()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_deferred_updating </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  595</span>    <span class="keyword">def </span>test_deferred_updating(self):</div>
<div class="line"><span class="lineno">  596</span>        <span class="comment"># check setting of deferred updating, with default workers</span></div>
<div class="line"><span class="lineno">  597</span>        bounds = [(0., 2.), (0., 2.)]</div>
<div class="line"><span class="lineno">  598</span>        solver = DifferentialEvolutionSolver(rosen, bounds, updating=<span class="stringliteral">&#39;deferred&#39;</span>)</div>
<div class="line"><span class="lineno">  599</span>        assert_(solver._updating == <span class="stringliteral">&#39;deferred&#39;</span>)</div>
<div class="line"><span class="lineno">  600</span>        assert_(solver._mapwrapper._mapfunc <span class="keywordflow">is</span> map)</div>
<div class="line"><span class="lineno">  601</span>        solver.solve()</div>
<div class="line"><span class="lineno">  602</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a20bfab068d7216bd82c9523fcf7d7bdb" name="a20bfab068d7216bd82c9523fcf7d7bdb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20bfab068d7216bd82c9523fcf7d7bdb">&#9670;&#160;</a></span>test_differential_evolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_differential_evolution </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  230</span>    <span class="keyword">def </span>test_differential_evolution(self):</div>
<div class="line"><span class="lineno">  231</span>        <span class="comment"># test that the Jmin of DifferentialEvolutionSolver</span></div>
<div class="line"><span class="lineno">  232</span>        <span class="comment"># is the same as the function evaluation</span></div>
<div class="line"><span class="lineno">  233</span>        solver = DifferentialEvolutionSolver(</div>
<div class="line"><span class="lineno">  234</span>            self.quadratic, [(-2, 2)], maxiter=1, polish=<span class="keyword">False</span></div>
<div class="line"><span class="lineno">  235</span>        )</div>
<div class="line"><span class="lineno">  236</span>        result = solver.solve()</div>
<div class="line"><span class="lineno">  237</span>        assert_equal(result.fun, self.quadratic(result.x))</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        solver = DifferentialEvolutionSolver(</div>
<div class="line"><span class="lineno">  240</span>            self.quadratic, [(-2, 2)], maxiter=1, polish=<span class="keyword">True</span></div>
<div class="line"><span class="lineno">  241</span>        )</div>
<div class="line"><span class="lineno">  242</span>        result = solver.solve()</div>
<div class="line"><span class="lineno">  243</span>        assert_equal(result.fun, self.quadratic(result.x))</div>
<div class="line"><span class="lineno">  244</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a39c60e2ba666e7549244474a9e8b1a93" name="a39c60e2ba666e7549244474a9e8b1a93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a39c60e2ba666e7549244474a9e8b1a93">&#9670;&#160;</a></span>test_exp_runs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_exp_runs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  430</span>    <span class="keyword">def </span>test_exp_runs(self):</div>
<div class="line"><span class="lineno">  431</span>        <span class="comment"># test whether exponential mutation loop runs</span></div>
<div class="line"><span class="lineno">  432</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">  433</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">  434</span>                                             strategy=<span class="stringliteral">&#39;best1exp&#39;</span>,</div>
<div class="line"><span class="lineno">  435</span>                                             maxiter=1)</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>        solver.solve()</div>
<div class="line"><span class="lineno">  438</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a30ba716f5846039be2afc79a30775d1b" name="a30ba716f5846039be2afc79a30775d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a30ba716f5846039be2afc79a30775d1b">&#9670;&#160;</a></span>test_gh_4511_regression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_gh_4511_regression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  439</span>    <span class="keyword">def </span>test_gh_4511_regression(self):</div>
<div class="line"><span class="lineno">  440</span>        <span class="comment"># This modification of the differential evolution docstring example</span></div>
<div class="line"><span class="lineno">  441</span>        <span class="comment"># uses a custom popsize that had triggered an off-by-one error.</span></div>
<div class="line"><span class="lineno">  442</span>        <span class="comment"># Because we do not care about solving the optimization problem in</span></div>
<div class="line"><span class="lineno">  443</span>        <span class="comment"># this test, we use maxiter=1 to reduce the testing time.</span></div>
<div class="line"><span class="lineno">  444</span>        bounds = [(-5, 5), (-5, 5)]</div>
<div class="line"><span class="lineno">  445</span>        <span class="comment"># result = differential_evolution(rosen, bounds, popsize=1815,</span></div>
<div class="line"><span class="lineno">  446</span>        <span class="comment">#                                 maxiter=1)</span></div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span>        <span class="comment"># the original issue arose because of rounding error in arange, with</span></div>
<div class="line"><span class="lineno">  449</span>        <span class="comment"># linspace being a much better solution. 1815 is quite a large popsize</span></div>
<div class="line"><span class="lineno">  450</span>        <span class="comment"># to use and results in a long test time (~13s). I used the original</span></div>
<div class="line"><span class="lineno">  451</span>        <span class="comment"># issue to figure out the lowest number of samples that would cause</span></div>
<div class="line"><span class="lineno">  452</span>        <span class="comment"># this rounding error to occur, 49.</span></div>
<div class="line"><span class="lineno">  453</span>        differential_evolution(rosen, bounds, popsize=49, maxiter=1)</div>
<div class="line"><span class="lineno">  454</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2de4aedc254abb54b770bb4f3472a0dd" name="a2de4aedc254abb54b770bb4f3472a0dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2de4aedc254abb54b770bb4f3472a0dd">&#9670;&#160;</a></span>test_immediate_updating()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_immediate_updating </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  603</span>    <span class="keyword">def </span>test_immediate_updating(self):</div>
<div class="line"><span class="lineno">  604</span>        <span class="comment"># check setting of immediate updating, with default workers</span></div>
<div class="line"><span class="lineno">  605</span>        bounds = [(0., 2.), (0., 2.)]</div>
<div class="line"><span class="lineno">  606</span>        solver = DifferentialEvolutionSolver(rosen, bounds)</div>
<div class="line"><span class="lineno">  607</span>        assert_(solver._updating == <span class="stringliteral">&#39;immediate&#39;</span>)</div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span>        <span class="comment"># should raise a UserWarning because the updating=&#39;immediate&#39;</span></div>
<div class="line"><span class="lineno">  610</span>        <span class="comment"># is being overridden by the workers keyword</span></div>
<div class="line"><span class="lineno">  611</span>        <span class="keyword">with</span> warns(UserWarning):</div>
<div class="line"><span class="lineno">  612</span>            <span class="keyword">with</span> DifferentialEvolutionSolver(rosen, bounds, workers=2) <span class="keyword">as</span> solver:</div>
<div class="line"><span class="lineno">  613</span>                <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  614</span>        assert_(solver._updating == <span class="stringliteral">&#39;deferred&#39;</span>)</div>
<div class="line"><span class="lineno">  615</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acea675ea9b49b53aba14c16418752367" name="acea675ea9b49b53aba14c16418752367"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea675ea9b49b53aba14c16418752367">&#9670;&#160;</a></span>test_impossible_constraint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_impossible_constraint </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  754</span>    <span class="keyword">def </span>test_impossible_constraint(self):</div>
<div class="line"><span class="lineno">  755</span>        <span class="keyword">def </span>constr_f(x):</div>
<div class="line"><span class="lineno">  756</span>            <span class="keywordflow">return</span> np.array([x[0] + x[1]])</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>        nlc = NonlinearConstraint(constr_f, -np.inf, -1)</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>        solver = DifferentialEvolutionSolver(rosen, [(0, 2), (0, 2)],</div>
<div class="line"><span class="lineno">  761</span>                                             constraints=(nlc), popsize=3,</div>
<div class="line"><span class="lineno">  762</span>                                             seed=1)</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>        <span class="comment"># a UserWarning is issued because the &#39;trust-constr&#39; polishing is</span></div>
<div class="line"><span class="lineno">  765</span>        <span class="comment"># attempted on the least infeasible solution found.</span></div>
<div class="line"><span class="lineno">  766</span>        <span class="keyword">with</span> warns(UserWarning):</div>
<div class="line"><span class="lineno">  767</span>            res = solver.solve()</div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>        <span class="keyword">assert</span> res.maxcv &gt; 0</div>
<div class="line"><span class="lineno">  770</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> res.success</div>
<div class="line"><span class="lineno">  771</span> </div>
<div class="line"><span class="lineno">  772</span>        <span class="comment"># test _promote_lowest_energy works when none of the population is</span></div>
<div class="line"><span class="lineno">  773</span>        <span class="comment"># feasible. In this case, the solution with the lowest constraint</span></div>
<div class="line"><span class="lineno">  774</span>        <span class="comment"># violation should be promoted.</span></div>
<div class="line"><span class="lineno">  775</span>        solver = DifferentialEvolutionSolver(rosen, [(0, 2), (0, 2)],</div>
<div class="line"><span class="lineno">  776</span>                                             constraints=(nlc), polish=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  777</span>        next(solver)</div>
<div class="line"><span class="lineno">  778</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> solver.feasible.all()</div>
<div class="line"><span class="lineno">  779</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> np.isfinite(solver.population_energies).all()</div>
<div class="line"><span class="lineno">  780</span> </div>
<div class="line"><span class="lineno">  781</span>        <span class="comment"># now swap two of the entries in the population</span></div>
<div class="line"><span class="lineno">  782</span>        l = 20</div>
<div class="line"><span class="lineno">  783</span>        cv = solver.constraint_violation[0]</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span>        solver.population_energies[[0, l]] = solver.population_energies[[l, 0]]</div>
<div class="line"><span class="lineno">  786</span>        solver.population[[0, l], :] = solver.population[[l, 0], :]</div>
<div class="line"><span class="lineno">  787</span>        solver.constraint_violation[[0, l], :] = (</div>
<div class="line"><span class="lineno">  788</span>            solver.constraint_violation[[l, 0], :])</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>        solver._promote_lowest_energy()</div>
<div class="line"><span class="lineno">  791</span>        assert_equal(solver.constraint_violation[0], cv)</div>
<div class="line"><span class="lineno">  792</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aeee0bfa603df5776ebaaf08d2298287e" name="aeee0bfa603df5776ebaaf08d2298287e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeee0bfa603df5776ebaaf08d2298287e">&#9670;&#160;</a></span>test_infinite_objective_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_infinite_objective_function </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  585</span>    <span class="keyword">def </span>test_infinite_objective_function(self):</div>
<div class="line"><span class="lineno">  586</span>        <span class="comment"># Test that there are no problems if the objective function</span></div>
<div class="line"><span class="lineno">  587</span>        <span class="comment"># returns inf on some runs</span></div>
<div class="line"><span class="lineno">  588</span>        <span class="keyword">def </span>sometimes_inf(x):</div>
<div class="line"><span class="lineno">  589</span>            <span class="keywordflow">if</span> x[0] &lt; .5:</div>
<div class="line"><span class="lineno">  590</span>                <span class="keywordflow">return</span> np.inf</div>
<div class="line"><span class="lineno">  591</span>            <span class="keywordflow">return</span> x[1]</div>
<div class="line"><span class="lineno">  592</span>        bounds = [(0, 1), (0, 1)]</div>
<div class="line"><span class="lineno">  593</span>        differential_evolution(sometimes_inf, bounds=bounds, disp=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  594</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a16a807efa48de5751bf2d982ef91531b" name="a16a807efa48de5751bf2d982ef91531b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16a807efa48de5751bf2d982ef91531b">&#9670;&#160;</a></span>test_init_with_invalid_strategy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_init_with_invalid_strategy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  291</span>    <span class="keyword">def </span>test_init_with_invalid_strategy(self):</div>
<div class="line"><span class="lineno">  292</span>        <span class="comment"># test that passing an invalid strategy raises ValueError</span></div>
<div class="line"><span class="lineno">  293</span>        func = rosen</div>
<div class="line"><span class="lineno">  294</span>        bounds = [(-3, 3)]</div>
<div class="line"><span class="lineno">  295</span>        assert_raises(ValueError,</div>
<div class="line"><span class="lineno">  296</span>                          differential_evolution,</div>
<div class="line"><span class="lineno">  297</span>                          func,</div>
<div class="line"><span class="lineno">  298</span>                          bounds,</div>
<div class="line"><span class="lineno">  299</span>                          strategy=<span class="stringliteral">&#39;abc&#39;</span>)</div>
<div class="line"><span class="lineno">  300</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a0f14aca96080ffab827c5ef1525232" name="a5a0f14aca96080ffab827c5ef1525232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a0f14aca96080ffab827c5ef1525232">&#9670;&#160;</a></span>test_integrality()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_integrality </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1309</span>    <span class="keyword">def </span>test_integrality(self):</div>
<div class="line"><span class="lineno"> 1310</span>        <span class="comment"># test fitting discrete distribution to data</span></div>
<div class="line"><span class="lineno"> 1311</span>        rng = np.random.default_rng(6519843218105)</div>
<div class="line"><span class="lineno"> 1312</span>        dist = stats.nbinom</div>
<div class="line"><span class="lineno"> 1313</span>        shapes = (5, 0.5)</div>
<div class="line"><span class="lineno"> 1314</span>        x = dist.rvs(*shapes, size=10000, random_state=rng)</div>
<div class="line"><span class="lineno"> 1315</span> </div>
<div class="line"><span class="lineno"> 1316</span>        <span class="keyword">def </span><a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(p, *args):</div>
<div class="line"><span class="lineno"> 1317</span>            dist, x = args</div>
<div class="line"><span class="lineno"> 1318</span>            <span class="comment"># negative log-likelihood function</span></div>
<div class="line"><span class="lineno"> 1319</span>            ll = -np.log(dist.pmf(x, *p)).sum(axis=-1)</div>
<div class="line"><span class="lineno"> 1320</span>            <span class="keywordflow">if</span> np.isnan(ll):  <span class="comment"># occurs when x is outside of support</span></div>
<div class="line"><span class="lineno"> 1321</span>                ll = np.inf  <span class="comment"># we don&#39;t want that</span></div>
<div class="line"><span class="lineno"> 1322</span>            <span class="keywordflow">return</span> ll</div>
<div class="line"><span class="lineno"> 1323</span> </div>
<div class="line"><span class="lineno"> 1324</span>        integrality = [<span class="keyword">True</span>, <span class="keyword">False</span>]</div>
<div class="line"><span class="lineno"> 1325</span>        bounds = [(1, 18), (0, 0.95)]</div>
<div class="line"><span class="lineno"> 1326</span> </div>
<div class="line"><span class="lineno"> 1327</span>        res = differential_evolution(func, bounds, args=(dist, x),</div>
<div class="line"><span class="lineno"> 1328</span>                                     integrality=integrality, polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1329</span>                                     seed=rng)</div>
<div class="line"><span class="lineno"> 1330</span>        <span class="comment"># tolerance has to be fairly relaxed for the second parameter</span></div>
<div class="line"><span class="lineno"> 1331</span>        <span class="comment"># because we&#39;re fitting a distribution to random variates.</span></div>
<div class="line"><span class="lineno"> 1332</span>        <span class="keyword">assert</span> res.x[0] == 5</div>
<div class="line"><span class="lineno"> 1333</span>        assert_allclose(res.x, shapes, rtol=0.02)</div>
<div class="line"><span class="lineno"> 1334</span> </div>
<div class="line"><span class="lineno"> 1335</span>        <span class="comment"># check that we can still use integrality constraints with polishing</span></div>
<div class="line"><span class="lineno"> 1336</span>        res2 = differential_evolution(func, bounds, args=(dist, x),</div>
<div class="line"><span class="lineno"> 1337</span>                                      integrality=integrality, polish=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1338</span>                                      seed=rng)</div>
<div class="line"><span class="lineno"> 1339</span> </div>
<div class="line"><span class="lineno"> 1340</span>        <span class="keyword">def </span>func2(p, *args):</div>
<div class="line"><span class="lineno"> 1341</span>            n, dist, x = args</div>
<div class="line"><span class="lineno"> 1342</span>            <span class="keywordflow">return</span> <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(np.array([n, p[0]]), dist, x)</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>        <span class="comment"># compare the DE derived solution to an LBFGSB solution (that doesn&#39;t</span></div>
<div class="line"><span class="lineno"> 1345</span>        <span class="comment"># have to find the integral values). Note we&#39;re setting x0 to be the</span></div>
<div class="line"><span class="lineno"> 1346</span>        <span class="comment"># output from the first DE result, thereby making the polishing step</span></div>
<div class="line"><span class="lineno"> 1347</span>        <span class="comment"># and this minimisation pretty much equivalent.</span></div>
<div class="line"><span class="lineno"> 1348</span>        LBFGSB = minimize(func2, res2.x[1], args=(5, dist, x),</div>
<div class="line"><span class="lineno"> 1349</span>                          bounds=[(0, 0.95)])</div>
<div class="line"><span class="lineno"> 1350</span>        assert_allclose(res2.x[1], LBFGSB.x)</div>
<div class="line"><span class="lineno"> 1351</span>        <span class="keyword">assert</span> res2.fun &lt;= res.fun</div>
<div class="line"><span class="lineno"> 1352</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac86b40131c47106b57c4a560bd66ca36" name="ac86b40131c47106b57c4a560bd66ca36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac86b40131c47106b57c4a560bd66ca36">&#9670;&#160;</a></span>test_integrality_limits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_integrality_limits </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1353</span>    <span class="keyword">def </span>test_integrality_limits(self):</div>
<div class="line"><span class="lineno"> 1354</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno"> 1355</span>            <span class="keywordflow">return</span> x</div>
<div class="line"><span class="lineno"> 1356</span> </div>
<div class="line"><span class="lineno"> 1357</span>        integrality = [<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>]</div>
<div class="line"><span class="lineno"> 1358</span>        bounds = [(0.2, 1.1), (0.9, 2.2), (3.3, 4.9)]</div>
<div class="line"><span class="lineno"> 1359</span> </div>
<div class="line"><span class="lineno"> 1360</span>        <span class="comment"># no integrality constraints</span></div>
<div class="line"><span class="lineno"> 1361</span>        solver = DifferentialEvolutionSolver(f, bounds=bounds, polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1362</span>                                             integrality=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1363</span>        assert_allclose(solver.limits[0], [0.2, 0.9, 3.3])</div>
<div class="line"><span class="lineno"> 1364</span>        assert_allclose(solver.limits[1], [1.1, 2.2, 4.9])</div>
<div class="line"><span class="lineno"> 1365</span> </div>
<div class="line"><span class="lineno"> 1366</span>        <span class="comment"># with integrality constraints</span></div>
<div class="line"><span class="lineno"> 1367</span>        solver = DifferentialEvolutionSolver(f, bounds=bounds, polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1368</span>                                             integrality=integrality)</div>
<div class="line"><span class="lineno"> 1369</span>        assert_allclose(solver.limits[0], [0.5, 0.9, 3.5])</div>
<div class="line"><span class="lineno"> 1370</span>        assert_allclose(solver.limits[1], [1.5, 2.2, 4.5])</div>
<div class="line"><span class="lineno"> 1371</span>        assert_equal(solver.integrality, [<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>])</div>
<div class="line"><span class="lineno"> 1372</span>        <span class="keyword">assert</span> solver.polish <span class="keywordflow">is</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1373</span> </div>
<div class="line"><span class="lineno"> 1374</span>        bounds = [(-1.2, -0.9), (0.9, 2.2), (-10.3, 4.1)]</div>
<div class="line"><span class="lineno"> 1375</span>        solver = DifferentialEvolutionSolver(f, bounds=bounds, polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1376</span>                                             integrality=integrality)</div>
<div class="line"><span class="lineno"> 1377</span>        assert_allclose(solver.limits[0], [-1.5, 0.9, -10.5])</div>
<div class="line"><span class="lineno"> 1378</span>        assert_allclose(solver.limits[1], [-0.5, 2.2, 4.5])</div>
<div class="line"><span class="lineno"> 1379</span> </div>
<div class="line"><span class="lineno"> 1380</span>        <span class="comment"># A lower bound of -1.2 is converted to</span></div>
<div class="line"><span class="lineno"> 1381</span>        <span class="comment"># np.nextafter(np.ceil(-1.2) - 0.5, np.inf)</span></div>
<div class="line"><span class="lineno"> 1382</span>        <span class="comment"># with a similar process to the upper bound. Check that the</span></div>
<div class="line"><span class="lineno"> 1383</span>        <span class="comment"># conversions work</span></div>
<div class="line"><span class="lineno"> 1384</span>        assert_allclose(np.round(solver.limits[0]), [-1.0, 1.0, -10.0])</div>
<div class="line"><span class="lineno"> 1385</span>        assert_allclose(np.round(solver.limits[1]), [-1.0, 2.0, 4.0])</div>
<div class="line"><span class="lineno"> 1386</span> </div>
<div class="line"><span class="lineno"> 1387</span>        bounds = [(-10.2, -8.1), (0.9, 2.2), (-10.9, -9.9999)]</div>
<div class="line"><span class="lineno"> 1388</span>        solver = DifferentialEvolutionSolver(f, bounds=bounds, polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1389</span>                                             integrality=integrality)</div>
<div class="line"><span class="lineno"> 1390</span>        assert_allclose(solver.limits[0], [-10.5, 0.9, -10.5])</div>
<div class="line"><span class="lineno"> 1391</span>        assert_allclose(solver.limits[1], [-8.5, 2.2, -9.5])</div>
<div class="line"><span class="lineno"> 1392</span> </div>
<div class="line"><span class="lineno"> 1393</span>        bounds = [(-10.2, -10.1), (0.9, 2.2), (-10.9, -9.9999)]</div>
<div class="line"><span class="lineno"> 1394</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&#39;One of the integrality&#39;</span>):</div>
<div class="line"><span class="lineno"> 1395</span>            DifferentialEvolutionSolver(f, bounds=bounds, polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1396</span>                                        integrality=integrality)</div>
<div class="line"><span class="lineno"> 1397</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_af01a903df7bdb7a494f5827e45bf3a2a"><div class="ttname"><a href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a></div><div class="ttdeci">void int int int int npy_complex64 int int npy_complex64 float float npy_complex64 npy_complex64 * f</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:262</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a002e744768f3a6cdc4305badba75d90f" name="a002e744768f3a6cdc4305badba75d90f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002e744768f3a6cdc4305badba75d90f">&#9670;&#160;</a></span>test_invalid_functional()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_invalid_functional </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  198</span>    <span class="keyword">def </span>test_invalid_functional(self):</div>
<div class="line"><span class="lineno">  199</span>        <span class="keyword">def </span><a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(x):</div>
<div class="line"><span class="lineno">  200</span>            <span class="keywordflow">return</span> np.array([np.sum(x ** 2), np.sum(x)])</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>        <span class="keyword">with</span> assert_raises(</div>
<div class="line"><span class="lineno">  203</span>                RuntimeError,</div>
<div class="line"><span class="lineno">  204</span>                match=<span class="stringliteral">r&quot;func\&zwj;(x, \*args\&zwj;) must return a scalar value&quot;</span>):</div>
<div class="line"><span class="lineno">  205</span>            differential_evolution(func, [(-2, 2), (-2, 2)])</div>
<div class="line"><span class="lineno">  206</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a00b51dcb46e176ab1a7aa37a44c58e3e" name="a00b51dcb46e176ab1a7aa37a44c58e3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00b51dcb46e176ab1a7aa37a44c58e3e">&#9670;&#160;</a></span>test_invalid_mutation_values_arent_accepted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_invalid_mutation_values_arent_accepted </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  168</span>    <span class="keyword">def </span>test_invalid_mutation_values_arent_accepted(self):</div>
<div class="line"><span class="lineno">  169</span>        func = rosen</div>
<div class="line"><span class="lineno">  170</span>        mutation = (0.5, 3)</div>
<div class="line"><span class="lineno">  171</span>        assert_raises(ValueError,</div>
<div class="line"><span class="lineno">  172</span>                          DifferentialEvolutionSolver,</div>
<div class="line"><span class="lineno">  173</span>                          func,</div>
<div class="line"><span class="lineno">  174</span>                          self.bounds,</div>
<div class="line"><span class="lineno">  175</span>                          mutation=mutation)</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>        mutation = (-1, 1)</div>
<div class="line"><span class="lineno">  178</span>        assert_raises(ValueError,</div>
<div class="line"><span class="lineno">  179</span>                          DifferentialEvolutionSolver,</div>
<div class="line"><span class="lineno">  180</span>                          func,</div>
<div class="line"><span class="lineno">  181</span>                          self.bounds,</div>
<div class="line"><span class="lineno">  182</span>                          mutation=mutation)</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>        mutation = (0.1, np.nan)</div>
<div class="line"><span class="lineno">  185</span>        assert_raises(ValueError,</div>
<div class="line"><span class="lineno">  186</span>                          DifferentialEvolutionSolver,</div>
<div class="line"><span class="lineno">  187</span>                          func,</div>
<div class="line"><span class="lineno">  188</span>                          self.bounds,</div>
<div class="line"><span class="lineno">  189</span>                          mutation=mutation)</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>        mutation = 0.5</div>
<div class="line"><span class="lineno">  192</span>        solver = DifferentialEvolutionSolver(func,</div>
<div class="line"><span class="lineno">  193</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">  194</span>                                             mutation=mutation)</div>
<div class="line"><span class="lineno">  195</span>        assert_equal(0.5, solver.scale)</div>
<div class="line"><span class="lineno">  196</span>        assert_equal(<span class="keywordtype">None</span>, solver.dither)</div>
<div class="line"><span class="lineno">  197</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a15b6c5ffe7083c2f74ca8699e434c2de" name="a15b6c5ffe7083c2f74ca8699e434c2de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b6c5ffe7083c2f74ca8699e434c2de">&#9670;&#160;</a></span>test_iteration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_iteration </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  465</span>    <span class="keyword">def </span>test_iteration(self):</div>
<div class="line"><span class="lineno">  466</span>        <span class="comment"># test that DifferentialEvolutionSolver is iterable</span></div>
<div class="line"><span class="lineno">  467</span>        <span class="comment"># if popsize is 3, then the overall generation has size (6,)</span></div>
<div class="line"><span class="lineno">  468</span>        solver = DifferentialEvolutionSolver(rosen, self.bounds, popsize=3,</div>
<div class="line"><span class="lineno">  469</span>                                             maxfun=12)</div>
<div class="line"><span class="lineno">  470</span>        x, fun = next(solver)</div>
<div class="line"><span class="lineno">  471</span>        assert_equal(np.size(x, 0), 2)</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>        <span class="comment"># 6 nfev are required for initial calculation of energies, 6 nfev are</span></div>
<div class="line"><span class="lineno">  474</span>        <span class="comment"># required for the evolution of the 6 population members.</span></div>
<div class="line"><span class="lineno">  475</span>        assert_equal(solver._nfev, 12)</div>
<div class="line"><span class="lineno">  476</span> </div>
<div class="line"><span class="lineno">  477</span>        <span class="comment"># the next generation should halt because it exceeds maxfun</span></div>
<div class="line"><span class="lineno">  478</span>        assert_raises(StopIteration, next, solver)</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>        <span class="comment"># check a proper minimisation can be done by an iterable solver</span></div>
<div class="line"><span class="lineno">  481</span>        solver = DifferentialEvolutionSolver(rosen, self.bounds)</div>
<div class="line"><span class="lineno">  482</span>        _, fun_prev = next(solver)</div>
<div class="line"><span class="lineno">  483</span>        <span class="keywordflow">for</span> i, soln <span class="keywordflow">in</span> enumerate(solver):</div>
<div class="line"><span class="lineno">  484</span>            x_current, fun_current = soln</div>
<div class="line"><span class="lineno">  485</span>            assert(fun_prev &gt;= fun_current)</div>
<div class="line"><span class="lineno">  486</span>            _, fun_prev = x_current, fun_current</div>
<div class="line"><span class="lineno">  487</span>            <span class="comment"># need to have this otherwise the solver would never stop.</span></div>
<div class="line"><span class="lineno">  488</span>            <span class="keywordflow">if</span> i == 50:</div>
<div class="line"><span class="lineno">  489</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  490</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afc1daaf70c7e6837999b7ef9b2178b89" name="afc1daaf70c7e6837999b7ef9b2178b89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc1daaf70c7e6837999b7ef9b2178b89">&#9670;&#160;</a></span>test_L1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_L1 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  892</span>    <span class="keyword">def </span>test_L1(self):</div>
<div class="line"><span class="lineno">  893</span>        <span class="comment"># Lampinen ([5]) test problem 1</span></div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno">  896</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno">  897</span>            fun = np.sum(5*x[1:5]) - 5*x[1:5]<span class="preprocessor">@x</span>[1:5] - np.sum(x[5:])</div>
<div class="line"><span class="lineno">  898</span>            <span class="keywordflow">return</span> fun</div>
<div class="line"><span class="lineno">  899</span> </div>
<div class="line"><span class="lineno">  900</span>        A = np.zeros((10, 14))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno">  901</span>        A[1, [1, 2, 10, 11]] = 2, 2, 1, 1</div>
<div class="line"><span class="lineno">  902</span>        A[2, [1, 10]] = -8, 1</div>
<div class="line"><span class="lineno">  903</span>        A[3, [4, 5, 10]] = -2, -1, 1</div>
<div class="line"><span class="lineno">  904</span>        A[4, [1, 3, 10, 11]] = 2, 2, 1, 1</div>
<div class="line"><span class="lineno">  905</span>        A[5, [2, 11]] = -8, 1</div>
<div class="line"><span class="lineno">  906</span>        A[6, [6, 7, 11]] = -2, -1, 1</div>
<div class="line"><span class="lineno">  907</span>        A[7, [2, 3, 11, 12]] = 2, 2, 1, 1</div>
<div class="line"><span class="lineno">  908</span>        A[8, [3, 12]] = -8, 1</div>
<div class="line"><span class="lineno">  909</span>        A[9, [8, 9, 12]] = -2, -1, 1</div>
<div class="line"><span class="lineno">  910</span>        A = A[1:, 1:]</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>        b = np.array([10, 0, 0, 10, 0, 0, 10, 0, 0])</div>
<div class="line"><span class="lineno">  913</span> </div>
<div class="line"><span class="lineno">  914</span>        L = LinearConstraint(A, -np.inf, b)</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>        bounds = [(0, 1)]*9 + [(0, 100)]*3 + [(0, 1)]</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>        <span class="comment"># using a lower popsize to speed the test up</span></div>
<div class="line"><span class="lineno">  919</span>        res = differential_evolution(f, bounds, strategy=<span class="stringliteral">&#39;best1bin&#39;</span>, seed=1234,</div>
<div class="line"><span class="lineno">  920</span>                                     constraints=(L), popsize=2)</div>
<div class="line"><span class="lineno">  921</span> </div>
<div class="line"><span class="lineno">  922</span>        x_opt = (1, 1, 1, 1, 1, 1, 1, 1, 1, 3, 3, 3, 1)</div>
<div class="line"><span class="lineno">  923</span>        f_opt = -15</div>
<div class="line"><span class="lineno">  924</span> </div>
<div class="line"><span class="lineno">  925</span>        assert_allclose(<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x_opt), f_opt)</div>
<div class="line"><span class="lineno">  926</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno">  927</span>        assert_allclose(res.x, x_opt, atol=5e-4)</div>
<div class="line"><span class="lineno">  928</span>        assert_allclose(res.fun, f_opt, atol=5e-3)</div>
<div class="line"><span class="lineno">  929</span>        assert_(np.all(A<span class="preprocessor">@res.x</span> &lt;= b))</div>
<div class="line"><span class="lineno">  930</span>        assert_(np.all(res.x &gt;= np.array(bounds)[:, 0]))</div>
<div class="line"><span class="lineno">  931</span>        assert_(np.all(res.x &lt;= np.array(bounds)[:, 1]))</div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>        <span class="comment"># now repeat the same solve, using the same overall constraints,</span></div>
<div class="line"><span class="lineno">  934</span>        <span class="comment"># but using a sparse matrix for the LinearConstraint instead of an</span></div>
<div class="line"><span class="lineno">  935</span>        <span class="comment"># array</span></div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>        L = LinearConstraint(csr_matrix(A), -np.inf, b)</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>        <span class="comment"># using a lower popsize to speed the test up</span></div>
<div class="line"><span class="lineno">  940</span>        res = differential_evolution(f, bounds, strategy=<span class="stringliteral">&#39;best1bin&#39;</span>, seed=1234,</div>
<div class="line"><span class="lineno">  941</span>                                     constraints=(L), popsize=2)</div>
<div class="line"><span class="lineno">  942</span> </div>
<div class="line"><span class="lineno">  943</span>        assert_allclose(<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x_opt), f_opt)</div>
<div class="line"><span class="lineno">  944</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno">  945</span>        assert_allclose(res.x, x_opt, atol=5e-4)</div>
<div class="line"><span class="lineno">  946</span>        assert_allclose(res.fun, f_opt, atol=5e-3)</div>
<div class="line"><span class="lineno">  947</span>        assert_(np.all(A<span class="preprocessor">@res.x</span> &lt;= b))</div>
<div class="line"><span class="lineno">  948</span>        assert_(np.all(res.x &gt;= np.array(bounds)[:, 0]))</div>
<div class="line"><span class="lineno">  949</span>        assert_(np.all(res.x &lt;= np.array(bounds)[:, 1]))</div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span>        <span class="comment"># now repeat the same solve, using the same overall constraints,</span></div>
<div class="line"><span class="lineno">  952</span>        <span class="comment"># but specify half the constraints in terms of LinearConstraint,</span></div>
<div class="line"><span class="lineno">  953</span>        <span class="comment"># and the other half by NonlinearConstraint</span></div>
<div class="line"><span class="lineno">  954</span>        <span class="keyword">def </span>c1(x):</div>
<div class="line"><span class="lineno">  955</span>            x = np.hstack(([0], x))</div>
<div class="line"><span class="lineno">  956</span>            <span class="keywordflow">return</span> [2*x[2] + 2*x[3] + x[11] + x[12],</div>
<div class="line"><span class="lineno">  957</span>                    -8*x[3] + x[12]]</div>
<div class="line"><span class="lineno">  958</span> </div>
<div class="line"><span class="lineno">  959</span>        <span class="keyword">def </span>c2(x):</div>
<div class="line"><span class="lineno">  960</span>            x = np.hstack(([0], x))</div>
<div class="line"><span class="lineno">  961</span>            <span class="keywordflow">return</span> -2*x[8] - x[9] + x[12]</div>
<div class="line"><span class="lineno">  962</span> </div>
<div class="line"><span class="lineno">  963</span>        L = LinearConstraint(A[:5, :], -np.inf, b[:5])</div>
<div class="line"><span class="lineno">  964</span>        L2 = LinearConstraint(A[5:6, :], -np.inf, b[5:6])</div>
<div class="line"><span class="lineno">  965</span>        N = NonlinearConstraint(c1, -np.inf, b[6:8])</div>
<div class="line"><span class="lineno">  966</span>        N2 = NonlinearConstraint(c2, -np.inf, b[8:9])</div>
<div class="line"><span class="lineno">  967</span>        constraints = (L, N, L2, N2)</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span>        <span class="keyword">with</span> suppress_warnings() <span class="keyword">as</span> sup:</div>
<div class="line"><span class="lineno">  970</span>            sup.filter(UserWarning)</div>
<div class="line"><span class="lineno">  971</span>            res = differential_evolution(f, bounds, strategy=<span class="stringliteral">&#39;rand1bin&#39;</span>,</div>
<div class="line"><span class="lineno">  972</span>                                         seed=1234, constraints=constraints,</div>
<div class="line"><span class="lineno">  973</span>                                         popsize=2)</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>        assert_allclose(res.x, x_opt, atol=5e-4)</div>
<div class="line"><span class="lineno">  976</span>        assert_allclose(res.fun, f_opt, atol=5e-3)</div>
<div class="line"><span class="lineno">  977</span>        assert_(np.all(A<span class="preprocessor">@res.x</span> &lt;= b))</div>
<div class="line"><span class="lineno">  978</span>        assert_(np.all(res.x &gt;= np.array(bounds)[:, 0]))</div>
<div class="line"><span class="lineno">  979</span>        assert_(np.all(res.x &lt;= np.array(bounds)[:, 1]))</div>
<div class="line"><span class="lineno">  980</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2916476172529e55b3c92413826d9777" name="a2916476172529e55b3c92413826d9777"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2916476172529e55b3c92413826d9777">&#9670;&#160;</a></span>test_L2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_L2 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  981</span>    <span class="keyword">def </span>test_L2(self):</div>
<div class="line"><span class="lineno">  982</span>        <span class="comment"># Lampinen ([5]) test problem 2</span></div>
<div class="line"><span class="lineno">  983</span> </div>
<div class="line"><span class="lineno">  984</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno">  985</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno">  986</span>            fun = ((x[1]-10)**2 + 5*(x[2]-12)**2 + x[3]**4 + 3*(x[4]-11)**2 +</div>
<div class="line"><span class="lineno">  987</span>                   10*x[5]**6 + 7*x[6]**2 + x[7]**4 - 4*x[6]*x[7] - 10*x[6] -</div>
<div class="line"><span class="lineno">  988</span>                   8*x[7])</div>
<div class="line"><span class="lineno">  989</span>            <span class="keywordflow">return</span> fun</div>
<div class="line"><span class="lineno">  990</span> </div>
<div class="line"><span class="lineno">  991</span>        <span class="keyword">def </span>c1(x):</div>
<div class="line"><span class="lineno">  992</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno">  993</span>            <span class="keywordflow">return</span> [127 - 2*x[1]**2 - 3*x[2]**4 - x[3] - 4*x[4]**2 - 5*x[5],</div>
<div class="line"><span class="lineno">  994</span>                    196 - 23*x[1] - x[2]**2 - 6*x[6]**2 + 8*x[7],</div>
<div class="line"><span class="lineno">  995</span>                    282 - 7*x[1] - 3*x[2] - 10*x[3]**2 - x[4] + x[5],</div>
<div class="line"><span class="lineno">  996</span>                    -4*x[1]**2 - x[2]**2 + 3*x[1]*x[2] - 2*x[3]**2 -</div>
<div class="line"><span class="lineno">  997</span>                    5*x[6] + 11*x[7]]</div>
<div class="line"><span class="lineno">  998</span> </div>
<div class="line"><span class="lineno">  999</span>        N = NonlinearConstraint(c1, 0, np.inf)</div>
<div class="line"><span class="lineno"> 1000</span>        bounds = [(-10, 10)]*7</div>
<div class="line"><span class="lineno"> 1001</span>        constraints = (N)</div>
<div class="line"><span class="lineno"> 1002</span> </div>
<div class="line"><span class="lineno"> 1003</span>        <span class="keyword">with</span> suppress_warnings() <span class="keyword">as</span> sup:</div>
<div class="line"><span class="lineno"> 1004</span>            sup.filter(UserWarning)</div>
<div class="line"><span class="lineno"> 1005</span>            res = differential_evolution(f, bounds, strategy=<span class="stringliteral">&#39;rand1bin&#39;</span>,</div>
<div class="line"><span class="lineno"> 1006</span>                                         seed=1234, constraints=constraints)</div>
<div class="line"><span class="lineno"> 1007</span> </div>
<div class="line"><span class="lineno"> 1008</span>        f_opt = 680.6300599487869</div>
<div class="line"><span class="lineno"> 1009</span>        x_opt = (2.330499, 1.951372, -0.4775414, 4.365726,</div>
<div class="line"><span class="lineno"> 1010</span>                 -0.6244870, 1.038131, 1.594227)</div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span>        assert_allclose(<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x_opt), f_opt)</div>
<div class="line"><span class="lineno"> 1013</span>        assert_allclose(res.fun, f_opt)</div>
<div class="line"><span class="lineno"> 1014</span>        assert_allclose(res.x, x_opt, atol=1e-5)</div>
<div class="line"><span class="lineno"> 1015</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno"> 1016</span>        assert_(np.all(np.array(c1(res.x)) &gt;= 0))</div>
<div class="line"><span class="lineno"> 1017</span>        assert_(np.all(res.x &gt;= np.array(bounds)[:, 0]))</div>
<div class="line"><span class="lineno"> 1018</span>        assert_(np.all(res.x &lt;= np.array(bounds)[:, 1]))</div>
<div class="line"><span class="lineno"> 1019</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1bc2f8476ea26e616c0be83e4070f3f" name="ab1bc2f8476ea26e616c0be83e4070f3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1bc2f8476ea26e616c0be83e4070f3f">&#9670;&#160;</a></span>test_L3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_L3 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1020</span>    <span class="keyword">def </span>test_L3(self):</div>
<div class="line"><span class="lineno"> 1021</span>        <span class="comment"># Lampinen ([5]) test problem 3</span></div>
<div class="line"><span class="lineno"> 1022</span> </div>
<div class="line"><span class="lineno"> 1023</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno"> 1024</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1025</span>            fun = (x[1]**2 + x[2]**2 + x[1]*x[2] - 14*x[1] - 16*x[2] +</div>
<div class="line"><span class="lineno"> 1026</span>                   (x[3]-10)**2 + 4*(x[4]-5)**2 + (x[5]-3)**2 + 2*(x[6]-1)**2 +</div>
<div class="line"><span class="lineno"> 1027</span>                   5*x[7]**2 + 7*(x[8]-11)**2 + 2*(x[9]-10)**2 +</div>
<div class="line"><span class="lineno"> 1028</span>                   (x[10] - 7)**2 + 45</div>
<div class="line"><span class="lineno"> 1029</span>                   )</div>
<div class="line"><span class="lineno"> 1030</span>            <span class="keywordflow">return</span> fun  <span class="comment"># maximize</span></div>
<div class="line"><span class="lineno"> 1031</span> </div>
<div class="line"><span class="lineno"> 1032</span>        A = np.zeros((4, 11))</div>
<div class="line"><span class="lineno"> 1033</span>        A[1, [1, 2, 7, 8]] = -4, -5, 3, -9</div>
<div class="line"><span class="lineno"> 1034</span>        A[2, [1, 2, 7, 8]] = -10, 8, 17, -2</div>
<div class="line"><span class="lineno"> 1035</span>        A[3, [1, 2, 9, 10]] = 8, -2, -5, 2</div>
<div class="line"><span class="lineno"> 1036</span>        A = A[1:, 1:]</div>
<div class="line"><span class="lineno"> 1037</span>        b = np.array([-105, 0, -12])</div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>        <span class="keyword">def </span>c1(x):</div>
<div class="line"><span class="lineno"> 1040</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1041</span>            <span class="keywordflow">return</span> [3*x[1] - 6*x[2] - 12*(x[9]-8)**2 + 7*x[10],</div>
<div class="line"><span class="lineno"> 1042</span>                    -3*(x[1]-2)**2 - 4*(x[2]-3)**2 - 2*x[3]**2 + 7*x[4] + 120,</div>
<div class="line"><span class="lineno"> 1043</span>                    -x[1]**2 - 2*(x[2]-2)**2 + 2*x[1]*x[2] - 14*x[5] + 6*x[6],</div>
<div class="line"><span class="lineno"> 1044</span>                    -5*x[1]**2 - 8*x[2] - (x[3]-6)**2 + 2*x[4] + 40,</div>
<div class="line"><span class="lineno"> 1045</span>                    -0.5*(x[1]-8)**2 - 2*(x[2]-4)**2 - 3*x[5]**2 + x[6] + 30]</div>
<div class="line"><span class="lineno"> 1046</span> </div>
<div class="line"><span class="lineno"> 1047</span>        L = LinearConstraint(A, b, np.inf)</div>
<div class="line"><span class="lineno"> 1048</span>        N = NonlinearConstraint(c1, 0, np.inf)</div>
<div class="line"><span class="lineno"> 1049</span>        bounds = [(-10, 10)]*10</div>
<div class="line"><span class="lineno"> 1050</span>        constraints = (L, N)</div>
<div class="line"><span class="lineno"> 1051</span> </div>
<div class="line"><span class="lineno"> 1052</span>        <span class="keyword">with</span> suppress_warnings() <span class="keyword">as</span> sup:</div>
<div class="line"><span class="lineno"> 1053</span>            sup.filter(UserWarning)</div>
<div class="line"><span class="lineno"> 1054</span>            res = differential_evolution(f, bounds, seed=1234,</div>
<div class="line"><span class="lineno"> 1055</span>                                         constraints=constraints, popsize=3)</div>
<div class="line"><span class="lineno"> 1056</span> </div>
<div class="line"><span class="lineno"> 1057</span>        x_opt = (2.171996, 2.363683, 8.773926, 5.095984, 0.9906548,</div>
<div class="line"><span class="lineno"> 1058</span>                 1.430574, 1.321644, 9.828726, 8.280092, 8.375927)</div>
<div class="line"><span class="lineno"> 1059</span>        f_opt = 24.3062091</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>        assert_allclose(<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x_opt), f_opt, atol=1e-5)</div>
<div class="line"><span class="lineno"> 1062</span>        assert_allclose(res.x, x_opt, atol=1e-6)</div>
<div class="line"><span class="lineno"> 1063</span>        assert_allclose(res.fun, f_opt, atol=1e-5)</div>
<div class="line"><span class="lineno"> 1064</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno"> 1065</span>        assert_(np.all(A @ res.x &gt;= b))</div>
<div class="line"><span class="lineno"> 1066</span>        assert_(np.all(np.array(c1(res.x)) &gt;= 0))</div>
<div class="line"><span class="lineno"> 1067</span>        assert_(np.all(res.x &gt;= np.array(bounds)[:, 0]))</div>
<div class="line"><span class="lineno"> 1068</span>        assert_(np.all(res.x &lt;= np.array(bounds)[:, 1]))</div>
<div class="line"><span class="lineno"> 1069</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a670113d1dae8517ab749ecbb4c31958e" name="a670113d1dae8517ab749ecbb4c31958e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a670113d1dae8517ab749ecbb4c31958e">&#9670;&#160;</a></span>test_L4()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_L4 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1070</span>    <span class="keyword">def </span>test_L4(self):</div>
<div class="line"><span class="lineno"> 1071</span>        <span class="comment"># Lampinen ([5]) test problem 4</span></div>
<div class="line"><span class="lineno"> 1072</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno"> 1073</span>            <span class="keywordflow">return</span> np.sum(x[:3])</div>
<div class="line"><span class="lineno"> 1074</span> </div>
<div class="line"><span class="lineno"> 1075</span>        A = np.zeros((4, 9))</div>
<div class="line"><span class="lineno"> 1076</span>        A[1, [4, 6]] = 0.0025, 0.0025</div>
<div class="line"><span class="lineno"> 1077</span>        A[2, [5, 7, 4]] = 0.0025, 0.0025, -0.0025</div>
<div class="line"><span class="lineno"> 1078</span>        A[3, [8, 5]] = 0.01, -0.01</div>
<div class="line"><span class="lineno"> 1079</span>        A = A[1:, 1:]</div>
<div class="line"><span class="lineno"> 1080</span>        b = np.array([1, 1, 1])</div>
<div class="line"><span class="lineno"> 1081</span> </div>
<div class="line"><span class="lineno"> 1082</span>        <span class="keyword">def </span>c1(x):</div>
<div class="line"><span class="lineno"> 1083</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1084</span>            <span class="keywordflow">return</span> [x[1]*x[6] - 833.33252*x[4] - 100*x[1] + 83333.333,</div>
<div class="line"><span class="lineno"> 1085</span>                    x[2]*x[7] - 1250*x[5] - x[2]*x[4] + 1250*x[4],</div>
<div class="line"><span class="lineno"> 1086</span>                    x[3]*x[8] - 1250000 - x[3]*x[5] + 2500*x[5]]</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>        L = LinearConstraint(A, -np.inf, 1)</div>
<div class="line"><span class="lineno"> 1089</span>        N = NonlinearConstraint(c1, 0, np.inf)</div>
<div class="line"><span class="lineno"> 1090</span> </div>
<div class="line"><span class="lineno"> 1091</span>        bounds = [(100, 10000)] + [(1000, 10000)]*2 + [(10, 1000)]*5</div>
<div class="line"><span class="lineno"> 1092</span>        constraints = (L, N)</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>        <span class="keyword">with</span> suppress_warnings() <span class="keyword">as</span> sup:</div>
<div class="line"><span class="lineno"> 1095</span>            sup.filter(UserWarning)</div>
<div class="line"><span class="lineno"> 1096</span>            res = differential_evolution(f, bounds, strategy=<span class="stringliteral">&#39;rand1bin&#39;</span>,</div>
<div class="line"><span class="lineno"> 1097</span>                                     seed=1234, constraints=constraints,</div>
<div class="line"><span class="lineno"> 1098</span>                                     popsize=3)</div>
<div class="line"><span class="lineno"> 1099</span> </div>
<div class="line"><span class="lineno"> 1100</span>        f_opt = 7049.248</div>
<div class="line"><span class="lineno"> 1101</span> </div>
<div class="line"><span class="lineno"> 1102</span>        x_opt = [579.306692, 1359.97063, 5109.9707, 182.0177, 295.601172,</div>
<div class="line"><span class="lineno"> 1103</span>                217.9823, 286.416528, 395.601172]</div>
<div class="line"><span class="lineno"> 1104</span> </div>
<div class="line"><span class="lineno"> 1105</span>        assert_allclose(<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x_opt), f_opt, atol=0.001)</div>
<div class="line"><span class="lineno"> 1106</span>        assert_allclose(res.fun, f_opt, atol=0.001)</div>
<div class="line"><span class="lineno"> 1107</span> </div>
<div class="line"><span class="lineno"> 1108</span>        <span class="comment"># use higher tol here for 32-bit Windows, see gh-11693</span></div>
<div class="line"><span class="lineno"> 1109</span>        <span class="keywordflow">if</span> (platform.system() == <span class="stringliteral">&#39;Windows&#39;</span> <span class="keywordflow">and</span> np.dtype(np.intp).itemsize &lt; 8):</div>
<div class="line"><span class="lineno"> 1110</span>            assert_allclose(res.x, x_opt, rtol=2.4e-6, atol=0.0035)</div>
<div class="line"><span class="lineno"> 1111</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1112</span>            <span class="comment"># tolerance determined from macOS + MKL failure, see gh-12701</span></div>
<div class="line"><span class="lineno"> 1113</span>            assert_allclose(res.x, x_opt, rtol=5e-6, atol=0.0024)</div>
<div class="line"><span class="lineno"> 1114</span> </div>
<div class="line"><span class="lineno"> 1115</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno"> 1116</span>        assert_(np.all(A @ res.x &lt;= b))</div>
<div class="line"><span class="lineno"> 1117</span>        assert_(np.all(np.array(c1(res.x)) &gt;= 0))</div>
<div class="line"><span class="lineno"> 1118</span>        assert_(np.all(res.x &gt;= np.array(bounds)[:, 0]))</div>
<div class="line"><span class="lineno"> 1119</span>        assert_(np.all(res.x &lt;= np.array(bounds)[:, 1]))</div>
<div class="line"><span class="lineno"> 1120</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5e87ee7060014481e820378fd6a6dce5" name="a5e87ee7060014481e820378fd6a6dce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e87ee7060014481e820378fd6a6dce5">&#9670;&#160;</a></span>test_L5()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_L5 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1121</span>    <span class="keyword">def </span>test_L5(self):</div>
<div class="line"><span class="lineno"> 1122</span>        <span class="comment"># Lampinen ([5]) test problem 5</span></div>
<div class="line"><span class="lineno"> 1123</span> </div>
<div class="line"><span class="lineno"> 1124</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno"> 1125</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1126</span>            fun = (np.sin(2*np.pi*x[1])**3*np.sin(2*np.pi*x[2]) /</div>
<div class="line"><span class="lineno"> 1127</span>                   (x[1]**3*(x[1]+x[2])))</div>
<div class="line"><span class="lineno"> 1128</span>            <span class="keywordflow">return</span> -fun  <span class="comment"># maximize</span></div>
<div class="line"><span class="lineno"> 1129</span> </div>
<div class="line"><span class="lineno"> 1130</span>        <span class="keyword">def </span>c1(x):</div>
<div class="line"><span class="lineno"> 1131</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1132</span>            <span class="keywordflow">return</span> [x[1]**2 - x[2] + 1,</div>
<div class="line"><span class="lineno"> 1133</span>                    1 - x[1] + (x[2]-4)**2]</div>
<div class="line"><span class="lineno"> 1134</span> </div>
<div class="line"><span class="lineno"> 1135</span>        N = NonlinearConstraint(c1, -np.inf, 0)</div>
<div class="line"><span class="lineno"> 1136</span>        bounds = [(0, 10)]*2</div>
<div class="line"><span class="lineno"> 1137</span>        constraints = (N)</div>
<div class="line"><span class="lineno"> 1138</span> </div>
<div class="line"><span class="lineno"> 1139</span>        res = differential_evolution(f, bounds, strategy=<span class="stringliteral">&#39;rand1bin&#39;</span>, seed=1234,</div>
<div class="line"><span class="lineno"> 1140</span>                                     constraints=constraints)</div>
<div class="line"><span class="lineno"> 1141</span> </div>
<div class="line"><span class="lineno"> 1142</span>        x_opt = (1.22797135, 4.24537337)</div>
<div class="line"><span class="lineno"> 1143</span>        f_opt = -0.095825</div>
<div class="line"><span class="lineno"> 1144</span>        assert_allclose(<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x_opt), f_opt, atol=2e-5)</div>
<div class="line"><span class="lineno"> 1145</span>        assert_allclose(res.fun, f_opt, atol=1e-4)</div>
<div class="line"><span class="lineno"> 1146</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno"> 1147</span>        assert_(np.all(np.array(c1(res.x)) &lt;= 0))</div>
<div class="line"><span class="lineno"> 1148</span>        assert_(np.all(res.x &gt;= np.array(bounds)[:, 0]))</div>
<div class="line"><span class="lineno"> 1149</span>        assert_(np.all(res.x &lt;= np.array(bounds)[:, 1]))</div>
<div class="line"><span class="lineno"> 1150</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a03b2514d08f41b1772491bf149b3816e" name="a03b2514d08f41b1772491bf149b3816e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03b2514d08f41b1772491bf149b3816e">&#9670;&#160;</a></span>test_L6()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_L6 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1151</span>    <span class="keyword">def </span>test_L6(self):</div>
<div class="line"><span class="lineno"> 1152</span>        <span class="comment"># Lampinen ([5]) test problem 6</span></div>
<div class="line"><span class="lineno"> 1153</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno"> 1154</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1155</span>            fun = (x[1]-10)**3 + (x[2] - 20)**3</div>
<div class="line"><span class="lineno"> 1156</span>            <span class="keywordflow">return</span> fun</div>
<div class="line"><span class="lineno"> 1157</span> </div>
<div class="line"><span class="lineno"> 1158</span>        <span class="keyword">def </span>c1(x):</div>
<div class="line"><span class="lineno"> 1159</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1160</span>            <span class="keywordflow">return</span> [(x[1]-5)**2 + (x[2] - 5)**2 - 100,</div>
<div class="line"><span class="lineno"> 1161</span>                    -(x[1]-6)**2 - (x[2] - 5)**2 + 82.81]</div>
<div class="line"><span class="lineno"> 1162</span> </div>
<div class="line"><span class="lineno"> 1163</span>        N = NonlinearConstraint(c1, 0, np.inf)</div>
<div class="line"><span class="lineno"> 1164</span>        bounds = [(13, 100), (0, 100)]</div>
<div class="line"><span class="lineno"> 1165</span>        constraints = (N)</div>
<div class="line"><span class="lineno"> 1166</span>        res = differential_evolution(f, bounds, strategy=<span class="stringliteral">&#39;rand1bin&#39;</span>, seed=1234,</div>
<div class="line"><span class="lineno"> 1167</span>                                     constraints=constraints, tol=1e-7)</div>
<div class="line"><span class="lineno"> 1168</span>        x_opt = (14.095, 0.84296)</div>
<div class="line"><span class="lineno"> 1169</span>        f_opt = -6961.814744</div>
<div class="line"><span class="lineno"> 1170</span> </div>
<div class="line"><span class="lineno"> 1171</span>        assert_allclose(<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x_opt), f_opt, atol=1e-6)</div>
<div class="line"><span class="lineno"> 1172</span>        assert_allclose(res.fun, f_opt, atol=0.001)</div>
<div class="line"><span class="lineno"> 1173</span>        assert_allclose(res.x, x_opt, atol=1e-4)</div>
<div class="line"><span class="lineno"> 1174</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno"> 1175</span>        assert_(np.all(np.array(c1(res.x)) &gt;= 0))</div>
<div class="line"><span class="lineno"> 1176</span>        assert_(np.all(res.x &gt;= np.array(bounds)[:, 0]))</div>
<div class="line"><span class="lineno"> 1177</span>        assert_(np.all(res.x &lt;= np.array(bounds)[:, 1]))</div>
<div class="line"><span class="lineno"> 1178</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9b32eee2a3a30d14bce6f961fe7f8f8a" name="a9b32eee2a3a30d14bce6f961fe7f8f8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b32eee2a3a30d14bce6f961fe7f8f8a">&#9670;&#160;</a></span>test_L7()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_L7 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1179</span>    <span class="keyword">def </span>test_L7(self):</div>
<div class="line"><span class="lineno"> 1180</span>        <span class="comment"># Lampinen ([5]) test problem 7</span></div>
<div class="line"><span class="lineno"> 1181</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno"> 1182</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1183</span>            fun = (5.3578547*x[3]**2 + 0.8356891*x[1]*x[5] +</div>
<div class="line"><span class="lineno"> 1184</span>                   37.293239*x[1] - 40792.141)</div>
<div class="line"><span class="lineno"> 1185</span>            <span class="keywordflow">return</span> fun</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>        <span class="keyword">def </span>c1(x):</div>
<div class="line"><span class="lineno"> 1188</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1189</span>            <span class="keywordflow">return</span> [</div>
<div class="line"><span class="lineno"> 1190</span>                    85.334407 + 0.0056858*x[2]*x[5] + 0.0006262*x[1]*x[4] -</div>
<div class="line"><span class="lineno"> 1191</span>                    0.0022053*x[3]*x[5],</div>
<div class="line"><span class="lineno"> 1192</span> </div>
<div class="line"><span class="lineno"> 1193</span>                    80.51249 + 0.0071317*x[2]*x[5] + 0.0029955*x[1]*x[2] +</div>
<div class="line"><span class="lineno"> 1194</span>                    0.0021813*x[3]**2,</div>
<div class="line"><span class="lineno"> 1195</span> </div>
<div class="line"><span class="lineno"> 1196</span>                    9.300961 + 0.0047026*x[3]*x[5] + 0.0012547*x[1]*x[3] +</div>
<div class="line"><span class="lineno"> 1197</span>                    0.0019085*x[3]*x[4]</div>
<div class="line"><span class="lineno"> 1198</span>                    ]</div>
<div class="line"><span class="lineno"> 1199</span> </div>
<div class="line"><span class="lineno"> 1200</span>        N = NonlinearConstraint(c1, [0, 90, 20], [92, 110, 25])</div>
<div class="line"><span class="lineno"> 1201</span> </div>
<div class="line"><span class="lineno"> 1202</span>        bounds = [(78, 102), (33, 45)] + [(27, 45)]*3</div>
<div class="line"><span class="lineno"> 1203</span>        constraints = (N)</div>
<div class="line"><span class="lineno"> 1204</span> </div>
<div class="line"><span class="lineno"> 1205</span>        res = differential_evolution(f, bounds, strategy=<span class="stringliteral">&#39;rand1bin&#39;</span>, seed=1234,</div>
<div class="line"><span class="lineno"> 1206</span>                                     constraints=constraints)</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>        <span class="comment"># using our best solution, rather than Lampinen/Koziel. Koziel solution</span></div>
<div class="line"><span class="lineno"> 1209</span>        <span class="comment"># doesn&#39;t satisfy constraints, Lampinen f_opt just plain wrong.</span></div>
<div class="line"><span class="lineno"> 1210</span>        x_opt = [78.00000686, 33.00000362, 29.99526064, 44.99999971,</div>
<div class="line"><span class="lineno"> 1211</span>                 36.77579979]</div>
<div class="line"><span class="lineno"> 1212</span> </div>
<div class="line"><span class="lineno"> 1213</span>        f_opt = -30665.537578</div>
<div class="line"><span class="lineno"> 1214</span> </div>
<div class="line"><span class="lineno"> 1215</span>        assert_allclose(<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x_opt), f_opt)</div>
<div class="line"><span class="lineno"> 1216</span>        assert_allclose(res.x, x_opt, atol=1e-3)</div>
<div class="line"><span class="lineno"> 1217</span>        assert_allclose(res.fun, f_opt, atol=1e-3)</div>
<div class="line"><span class="lineno"> 1218</span> </div>
<div class="line"><span class="lineno"> 1219</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno"> 1220</span>        assert_(np.all(np.array(c1(res.x)) &gt;= np.array([0, 90, 20])))</div>
<div class="line"><span class="lineno"> 1221</span>        assert_(np.all(np.array(c1(res.x)) &lt;= np.array([92, 110, 25])))</div>
<div class="line"><span class="lineno"> 1222</span>        assert_(np.all(res.x &gt;= np.array(bounds)[:, 0]))</div>
<div class="line"><span class="lineno"> 1223</span>        assert_(np.all(res.x &lt;= np.array(bounds)[:, 1]))</div>
<div class="line"><span class="lineno"> 1224</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa8461f0c61d3aa8ff1e4b785e62e808c" name="aa8461f0c61d3aa8ff1e4b785e62e808c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8461f0c61d3aa8ff1e4b785e62e808c">&#9670;&#160;</a></span>test_L8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_L8 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1228</span>    <span class="keyword">def </span>test_L8(self):</div>
<div class="line"><span class="lineno"> 1229</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno"> 1230</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1231</span>            fun = 3*x[1] + 0.000001*x[1]**3 + 2*x[2] + 0.000002/3*x[2]**3</div>
<div class="line"><span class="lineno"> 1232</span>            <span class="keywordflow">return</span> fun</div>
<div class="line"><span class="lineno"> 1233</span> </div>
<div class="line"><span class="lineno"> 1234</span>        A = np.zeros((3, 5))</div>
<div class="line"><span class="lineno"> 1235</span>        A[1, [4, 3]] = 1, -1</div>
<div class="line"><span class="lineno"> 1236</span>        A[2, [3, 4]] = 1, -1</div>
<div class="line"><span class="lineno"> 1237</span>        A = A[1:, 1:]</div>
<div class="line"><span class="lineno"> 1238</span>        b = np.array([-.55, -.55])</div>
<div class="line"><span class="lineno"> 1239</span> </div>
<div class="line"><span class="lineno"> 1240</span>        <span class="keyword">def </span>c1(x):</div>
<div class="line"><span class="lineno"> 1241</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1242</span>            <span class="keywordflow">return</span> [</div>
<div class="line"><span class="lineno"> 1243</span>                    1000*np.sin(-x[3]-0.25) + 1000*np.sin(-x[4]-0.25) +</div>
<div class="line"><span class="lineno"> 1244</span>                    894.8 - x[1],</div>
<div class="line"><span class="lineno"> 1245</span>                    1000*np.sin(x[3]-0.25) + 1000*np.sin(x[3]-x[4]-0.25) +</div>
<div class="line"><span class="lineno"> 1246</span>                    894.8 - x[2],</div>
<div class="line"><span class="lineno"> 1247</span>                    1000*np.sin(x[4]-0.25) + 1000*np.sin(x[4]-x[3]-0.25) +</div>
<div class="line"><span class="lineno"> 1248</span>                    1294.8</div>
<div class="line"><span class="lineno"> 1249</span>                    ]</div>
<div class="line"><span class="lineno"> 1250</span>        L = LinearConstraint(A, b, np.inf)</div>
<div class="line"><span class="lineno"> 1251</span>        N = NonlinearConstraint(c1, np.full(3, -0.001), np.full(3, 0.001))</div>
<div class="line"><span class="lineno"> 1252</span> </div>
<div class="line"><span class="lineno"> 1253</span>        bounds = [(0, 1200)]*2+[(-.55, .55)]*2</div>
<div class="line"><span class="lineno"> 1254</span>        constraints = (L, N)</div>
<div class="line"><span class="lineno"> 1255</span> </div>
<div class="line"><span class="lineno"> 1256</span>        <span class="keyword">with</span> suppress_warnings() <span class="keyword">as</span> sup:</div>
<div class="line"><span class="lineno"> 1257</span>            sup.filter(UserWarning)</div>
<div class="line"><span class="lineno"> 1258</span>            <span class="comment"># original Lampinen test was with rand1bin, but that takes a</span></div>
<div class="line"><span class="lineno"> 1259</span>            <span class="comment"># huge amount of CPU time. Changing strategy to best1bin speeds</span></div>
<div class="line"><span class="lineno"> 1260</span>            <span class="comment"># things up a lot</span></div>
<div class="line"><span class="lineno"> 1261</span>            res = differential_evolution(f, bounds, strategy=<span class="stringliteral">&#39;best1bin&#39;</span>,</div>
<div class="line"><span class="lineno"> 1262</span>                                         seed=1234, constraints=constraints,</div>
<div class="line"><span class="lineno"> 1263</span>                                         maxiter=5000)</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>        x_opt = (679.9453, 1026.067, 0.1188764, -0.3962336)</div>
<div class="line"><span class="lineno"> 1266</span>        f_opt = 5126.4981</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>        assert_allclose(<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x_opt), f_opt, atol=1e-3)</div>
<div class="line"><span class="lineno"> 1269</span>        assert_allclose(res.x[:2], x_opt[:2], atol=2e-3)</div>
<div class="line"><span class="lineno"> 1270</span>        assert_allclose(res.x[2:], x_opt[2:], atol=2e-3)</div>
<div class="line"><span class="lineno"> 1271</span>        assert_allclose(res.fun, f_opt, atol=2e-2)</div>
<div class="line"><span class="lineno"> 1272</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno"> 1273</span>        assert_(np.all(A<span class="preprocessor">@res.x</span> &gt;= b))</div>
<div class="line"><span class="lineno"> 1274</span>        assert_(np.all(np.array(c1(res.x)) &gt;= -0.001))</div>
<div class="line"><span class="lineno"> 1275</span>        assert_(np.all(np.array(c1(res.x)) &lt;= 0.001))</div>
<div class="line"><span class="lineno"> 1276</span>        assert_(np.all(res.x &gt;= np.array(bounds)[:, 0]))</div>
<div class="line"><span class="lineno"> 1277</span>        assert_(np.all(res.x &lt;= np.array(bounds)[:, 1]))</div>
<div class="line"><span class="lineno"> 1278</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3fb84cd2c2203c944995cca831843897" name="a3fb84cd2c2203c944995cca831843897"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fb84cd2c2203c944995cca831843897">&#9670;&#160;</a></span>test_L9()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_L9 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1279</span>    <span class="keyword">def </span>test_L9(self):</div>
<div class="line"><span class="lineno"> 1280</span>        <span class="comment"># Lampinen ([5]) test problem 9</span></div>
<div class="line"><span class="lineno"> 1281</span> </div>
<div class="line"><span class="lineno"> 1282</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno"> 1283</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1284</span>            <span class="keywordflow">return</span> x[1]**2 + (x[2]-1)**2</div>
<div class="line"><span class="lineno"> 1285</span> </div>
<div class="line"><span class="lineno"> 1286</span>        <span class="keyword">def </span>c1(x):</div>
<div class="line"><span class="lineno"> 1287</span>            x = np.hstack(([0], x))  <span class="comment"># 1-indexed to match reference</span></div>
<div class="line"><span class="lineno"> 1288</span>            <span class="keywordflow">return</span> [x[2] - x[1]**2]</div>
<div class="line"><span class="lineno"> 1289</span> </div>
<div class="line"><span class="lineno"> 1290</span>        N = NonlinearConstraint(c1, [-.001], [0.001])</div>
<div class="line"><span class="lineno"> 1291</span> </div>
<div class="line"><span class="lineno"> 1292</span>        bounds = [(-1, 1)]*2</div>
<div class="line"><span class="lineno"> 1293</span>        constraints = (N)</div>
<div class="line"><span class="lineno"> 1294</span>        res = differential_evolution(f, bounds, strategy=<span class="stringliteral">&#39;rand1bin&#39;</span>, seed=1234,</div>
<div class="line"><span class="lineno"> 1295</span>                                     constraints=constraints)</div>
<div class="line"><span class="lineno"> 1296</span> </div>
<div class="line"><span class="lineno"> 1297</span>        x_opt = [np.sqrt(2)/2, 0.5]</div>
<div class="line"><span class="lineno"> 1298</span>        f_opt = 0.75</div>
<div class="line"><span class="lineno"> 1299</span> </div>
<div class="line"><span class="lineno"> 1300</span>        assert_allclose(<a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x_opt), f_opt)</div>
<div class="line"><span class="lineno"> 1301</span>        assert_allclose(np.abs(res.x), x_opt, atol=1e-3)</div>
<div class="line"><span class="lineno"> 1302</span>        assert_allclose(res.fun, f_opt, atol=1e-3)</div>
<div class="line"><span class="lineno"> 1303</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno"> 1304</span>        assert_(np.all(np.array(c1(res.x)) &gt;= -0.001))</div>
<div class="line"><span class="lineno"> 1305</span>        assert_(np.all(np.array(c1(res.x)) &lt;= 0.001))</div>
<div class="line"><span class="lineno"> 1306</span>        assert_(np.all(res.x &gt;= np.array(bounds)[:, 0]))</div>
<div class="line"><span class="lineno"> 1307</span>        assert_(np.all(res.x &lt;= np.array(bounds)[:, 1]))</div>
<div class="line"><span class="lineno"> 1308</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8896793708053b6f42f894c89d24a65" name="ad8896793708053b6f42f894c89d24a65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8896793708053b6f42f894c89d24a65">&#9670;&#160;</a></span>test_maxfun_stops_solve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_maxfun_stops_solve </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  338</span>    <span class="keyword">def </span>test_maxfun_stops_solve(self):</div>
<div class="line"><span class="lineno">  339</span>        <span class="comment"># test that if the maximum number of function evaluations is exceeded</span></div>
<div class="line"><span class="lineno">  340</span>        <span class="comment"># during initialisation the solver stops</span></div>
<div class="line"><span class="lineno">  341</span>        solver = DifferentialEvolutionSolver(rosen, self.bounds, maxfun=1,</div>
<div class="line"><span class="lineno">  342</span>                                             polish=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  343</span>        result = solver.solve()</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>        assert_equal(result.nfev, 2)</div>
<div class="line"><span class="lineno">  346</span>        assert_equal(result.success, <span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  347</span>        assert_equal(result.message,</div>
<div class="line"><span class="lineno">  348</span>                     <span class="stringliteral">&#39;Maximum number of function evaluations has &#39;</span></div>
<div class="line"><span class="lineno">  349</span>                     <span class="stringliteral">&#39;been exceeded.&#39;</span>)</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>        <span class="comment"># test that if the maximum number of function evaluations is exceeded</span></div>
<div class="line"><span class="lineno">  352</span>        <span class="comment"># during the actual minimisation, then the solver stops.</span></div>
<div class="line"><span class="lineno">  353</span>        <span class="comment"># Have to turn polishing off, as this will still occur even if maxfun</span></div>
<div class="line"><span class="lineno">  354</span>        <span class="comment"># is reached. For popsize=5 and len(bounds)=2, then there are only 10</span></div>
<div class="line"><span class="lineno">  355</span>        <span class="comment"># function evaluations during initialisation.</span></div>
<div class="line"><span class="lineno">  356</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">  357</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">  358</span>                                             popsize=5,</div>
<div class="line"><span class="lineno">  359</span>                                             polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  360</span>                                             maxfun=40)</div>
<div class="line"><span class="lineno">  361</span>        result = solver.solve()</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>        assert_equal(result.nfev, 41)</div>
<div class="line"><span class="lineno">  364</span>        assert_equal(result.success, <span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  365</span>        assert_equal(result.message,</div>
<div class="line"><span class="lineno">  366</span>                     <span class="stringliteral">&#39;Maximum number of function evaluations has &#39;</span></div>
<div class="line"><span class="lineno">  367</span>                     <span class="stringliteral">&#39;been exceeded.&#39;</span>)</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>        <span class="comment"># now repeat for updating=&#39;deferred version</span></div>
<div class="line"><span class="lineno">  370</span>        <span class="comment"># 47 function evaluations is not a multiple of the population size,</span></div>
<div class="line"><span class="lineno">  371</span>        <span class="comment"># so maxfun is reached partway through a population evaluation.</span></div>
<div class="line"><span class="lineno">  372</span>        solver = DifferentialEvolutionSolver(rosen,</div>
<div class="line"><span class="lineno">  373</span>                                             self.bounds,</div>
<div class="line"><span class="lineno">  374</span>                                             popsize=5,</div>
<div class="line"><span class="lineno">  375</span>                                             polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  376</span>                                             maxfun=47,</div>
<div class="line"><span class="lineno">  377</span>                                             updating=<span class="stringliteral">&#39;deferred&#39;</span>)</div>
<div class="line"><span class="lineno">  378</span>        result = solver.solve()</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>        assert_equal(result.nfev, 47)</div>
<div class="line"><span class="lineno">  381</span>        assert_equal(result.success, <span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  382</span>        assert_equal(result.message,</div>
<div class="line"><span class="lineno">  383</span>                     <span class="stringliteral">&#39;Maximum number of function evaluations has &#39;</span></div>
<div class="line"><span class="lineno">  384</span>                     <span class="stringliteral">&#39;been reached.&#39;</span>)</div>
<div class="line"><span class="lineno">  385</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aada6b70cb9df01749ddc27a7f57d8173" name="aada6b70cb9df01749ddc27a7f57d8173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aada6b70cb9df01749ddc27a7f57d8173">&#9670;&#160;</a></span>test_maxiter_none_GH5731()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_maxiter_none_GH5731 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  497</span>    <span class="keyword">def </span>test_maxiter_none_GH5731(self):</div>
<div class="line"><span class="lineno">  498</span>        <span class="comment"># Pre 0.17 the previous default for maxiter and maxfun was None.</span></div>
<div class="line"><span class="lineno">  499</span>        <span class="comment"># the numerical defaults are now 1000 and np.inf. However, some scripts</span></div>
<div class="line"><span class="lineno">  500</span>        <span class="comment"># will still supply None for both of those, this will raise a TypeError</span></div>
<div class="line"><span class="lineno">  501</span>        <span class="comment"># in the solve method.</span></div>
<div class="line"><span class="lineno">  502</span>        solver = DifferentialEvolutionSolver(rosen, self.bounds, maxiter=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  503</span>                                             maxfun=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  504</span>        solver.solve()</div>
<div class="line"><span class="lineno">  505</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adbd52e6f7436637bd8d0a9bc68f551bf" name="adbd52e6f7436637bd8d0a9bc68f551bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbd52e6f7436637bd8d0a9bc68f551bf">&#9670;&#160;</a></span>test_maxiter_stops_solve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_maxiter_stops_solve </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  329</span>    <span class="keyword">def </span>test_maxiter_stops_solve(self):</div>
<div class="line"><span class="lineno">  330</span>        <span class="comment"># test that if the maximum number of iterations is exceeded</span></div>
<div class="line"><span class="lineno">  331</span>        <span class="comment"># the solver stops.</span></div>
<div class="line"><span class="lineno">  332</span>        solver = DifferentialEvolutionSolver(rosen, self.bounds, maxiter=1)</div>
<div class="line"><span class="lineno">  333</span>        result = solver.solve()</div>
<div class="line"><span class="lineno">  334</span>        assert_equal(result.success, <span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  335</span>        assert_equal(result.message,</div>
<div class="line"><span class="lineno">  336</span>                        <span class="stringliteral">&#39;Maximum number of iterations has been exceeded.&#39;</span>)</div>
<div class="line"><span class="lineno">  337</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae38cd4724036b0dbff3bbedf09b970ba" name="ae38cd4724036b0dbff3bbedf09b970ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae38cd4724036b0dbff3bbedf09b970ba">&#9670;&#160;</a></span>test_parallel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_parallel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  616</span>    <span class="keyword">def </span>test_parallel(self):</div>
<div class="line"><span class="lineno">  617</span>        <span class="comment"># smoke test for parallelization with deferred updating</span></div>
<div class="line"><span class="lineno">  618</span>        bounds = [(0., 2.), (0., 2.)]</div>
<div class="line"><span class="lineno">  619</span>        <span class="keyword">with</span> multiprocessing.Pool(2) <span class="keyword">as</span> p, DifferentialEvolutionSolver(</div>
<div class="line"><span class="lineno">  620</span>                rosen, bounds, updating=<span class="stringliteral">&#39;deferred&#39;</span>, workers=p.map) <span class="keyword">as</span> solver:</div>
<div class="line"><span class="lineno">  621</span>            assert_(solver._mapwrapper.pool <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  622</span>            assert_(solver._updating == <span class="stringliteral">&#39;deferred&#39;</span>)</div>
<div class="line"><span class="lineno">  623</span>            solver.solve()</div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>        <span class="keyword">with</span> DifferentialEvolutionSolver(rosen, bounds, updating=<span class="stringliteral">&#39;deferred&#39;</span>,</div>
<div class="line"><span class="lineno">  626</span>                                         workers=2) <span class="keyword">as</span> solver:</div>
<div class="line"><span class="lineno">  627</span>            assert_(solver._mapwrapper.pool <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  628</span>            assert_(solver._updating == <span class="stringliteral">&#39;deferred&#39;</span>)</div>
<div class="line"><span class="lineno">  629</span>            solver.solve()</div>
<div class="line"><span class="lineno">  630</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a57f752fb47e5afee078add630e556c3f" name="a57f752fb47e5afee078add630e556c3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57f752fb47e5afee078add630e556c3f">&#9670;&#160;</a></span>test_population_initiation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_population_initiation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  506</span>    <span class="keyword">def </span>test_population_initiation(self):</div>
<div class="line"><span class="lineno">  507</span>        <span class="comment"># test the different modes of population initiation</span></div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>        <span class="comment"># init must be either &#39;latinhypercube&#39; or &#39;random&#39;</span></div>
<div class="line"><span class="lineno">  510</span>        <span class="comment"># raising ValueError is something else is passed in</span></div>
<div class="line"><span class="lineno">  511</span>        assert_raises(ValueError,</div>
<div class="line"><span class="lineno">  512</span>                      DifferentialEvolutionSolver,</div>
<div class="line"><span class="lineno">  513</span>                      *(rosen, self.bounds),</div>
<div class="line"><span class="lineno">  514</span>                      **{<span class="stringliteral">&#39;init&#39;</span>: <span class="stringliteral">&#39;rubbish&#39;</span>})</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>        solver = DifferentialEvolutionSolver(rosen, self.bounds)</div>
<div class="line"><span class="lineno">  517</span> </div>
<div class="line"><span class="lineno">  518</span>        <span class="comment"># check that population initiation:</span></div>
<div class="line"><span class="lineno">  519</span>        <span class="comment"># 1) resets _nfev to 0</span></div>
<div class="line"><span class="lineno">  520</span>        <span class="comment"># 2) all population energies are np.inf</span></div>
<div class="line"><span class="lineno">  521</span>        solver.init_population_random()</div>
<div class="line"><span class="lineno">  522</span>        assert_equal(solver._nfev, 0)</div>
<div class="line"><span class="lineno">  523</span>        assert_(np.all(np.isinf(solver.population_energies)))</div>
<div class="line"><span class="lineno">  524</span> </div>
<div class="line"><span class="lineno">  525</span>        solver.init_population_lhs()</div>
<div class="line"><span class="lineno">  526</span>        assert_equal(solver._nfev, 0)</div>
<div class="line"><span class="lineno">  527</span>        assert_(np.all(np.isinf(solver.population_energies)))</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>        solver.init_population_qmc(qmc_engine=<span class="stringliteral">&#39;halton&#39;</span>)</div>
<div class="line"><span class="lineno">  530</span>        assert_equal(solver._nfev, 0)</div>
<div class="line"><span class="lineno">  531</span>        assert_(np.all(np.isinf(solver.population_energies)))</div>
<div class="line"><span class="lineno">  532</span> </div>
<div class="line"><span class="lineno">  533</span>        solver = DifferentialEvolutionSolver(rosen, self.bounds, init=<span class="stringliteral">&#39;sobol&#39;</span>)</div>
<div class="line"><span class="lineno">  534</span>        solver.init_population_qmc(qmc_engine=<span class="stringliteral">&#39;sobol&#39;</span>)</div>
<div class="line"><span class="lineno">  535</span>        assert_equal(solver._nfev, 0)</div>
<div class="line"><span class="lineno">  536</span>        assert_(np.all(np.isinf(solver.population_energies)))</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>        <span class="comment"># we should be able to initialize with our own array</span></div>
<div class="line"><span class="lineno">  539</span>        population = np.linspace(-1, 3, 10).reshape(5, 2)</div>
<div class="line"><span class="lineno">  540</span>        solver = DifferentialEvolutionSolver(rosen, self.bounds,</div>
<div class="line"><span class="lineno">  541</span>                                             init=population,</div>
<div class="line"><span class="lineno">  542</span>                                             strategy=<span class="stringliteral">&#39;best2bin&#39;</span>,</div>
<div class="line"><span class="lineno">  543</span>                                             atol=0.01, seed=1, popsize=5)</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>        assert_equal(solver._nfev, 0)</div>
<div class="line"><span class="lineno">  546</span>        assert_(np.all(np.isinf(solver.population_energies)))</div>
<div class="line"><span class="lineno">  547</span>        assert_(solver.num_population_members == 5)</div>
<div class="line"><span class="lineno">  548</span>        assert_(solver.population_shape == (5, 2))</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>        <span class="comment"># check that the population was initialized correctly</span></div>
<div class="line"><span class="lineno">  551</span>        unscaled_population = np.clip(solver._unscale_parameters(population),</div>
<div class="line"><span class="lineno">  552</span>                                      0, 1)</div>
<div class="line"><span class="lineno">  553</span>        assert_almost_equal(solver.population[:5], unscaled_population)</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>        <span class="comment"># population values need to be clipped to bounds</span></div>
<div class="line"><span class="lineno">  556</span>        assert_almost_equal(np.min(solver.population[:5]), 0)</div>
<div class="line"><span class="lineno">  557</span>        assert_almost_equal(np.max(solver.population[:5]), 1)</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span>        <span class="comment"># shouldn&#39;t be able to initialize with an array if it&#39;s the wrong shape</span></div>
<div class="line"><span class="lineno">  560</span>        <span class="comment"># this would have too many parameters</span></div>
<div class="line"><span class="lineno">  561</span>        population = np.linspace(-1, 3, 15).reshape(5, 3)</div>
<div class="line"><span class="lineno">  562</span>        assert_raises(ValueError,</div>
<div class="line"><span class="lineno">  563</span>                      DifferentialEvolutionSolver,</div>
<div class="line"><span class="lineno">  564</span>                      *(rosen, self.bounds),</div>
<div class="line"><span class="lineno">  565</span>                      **{<span class="stringliteral">&#39;init&#39;</span>: population})</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>        <span class="comment"># provide an initial solution</span></div>
<div class="line"><span class="lineno">  568</span>        <span class="comment"># bounds are [(0, 2), (0, 2)]</span></div>
<div class="line"><span class="lineno">  569</span>        x0 = np.random.uniform(low=0.0, high=2.0, size=2)</div>
<div class="line"><span class="lineno">  570</span>        solver = DifferentialEvolutionSolver(</div>
<div class="line"><span class="lineno">  571</span>            rosen, self.bounds, x0=x0</div>
<div class="line"><span class="lineno">  572</span>        )</div>
<div class="line"><span class="lineno">  573</span>        <span class="comment"># parameters are scaled to unit interval</span></div>
<div class="line"><span class="lineno">  574</span>        assert_allclose(solver.population[0], x0 / 2.0)</div>
<div class="line"><span class="lineno">  575</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad21df8139501c217b17c3759741d141b" name="ad21df8139501c217b17c3759741d141b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad21df8139501c217b17c3759741d141b">&#9670;&#160;</a></span>test_quadratic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_quadratic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  386</span>    <span class="keyword">def </span>test_quadratic(self):</div>
<div class="line"><span class="lineno">  387</span>        <span class="comment"># test the quadratic function from object</span></div>
<div class="line"><span class="lineno">  388</span>        solver = DifferentialEvolutionSolver(self.quadratic,</div>
<div class="line"><span class="lineno">  389</span>                                             [(-100, 100)],</div>
<div class="line"><span class="lineno">  390</span>                                             tol=0.02)</div>
<div class="line"><span class="lineno">  391</span>        solver.solve()</div>
<div class="line"><span class="lineno">  392</span>        assert_equal(np.argmin(solver.population_energies), 0)</div>
<div class="line"><span class="lineno">  393</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a314fa148e1c5060d46c509b6c6af9ef8" name="a314fa148e1c5060d46c509b6c6af9ef8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a314fa148e1c5060d46c509b6c6af9ef8">&#9670;&#160;</a></span>test_quadratic_from_diff_ev()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_quadratic_from_diff_ev </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  394</span>    <span class="keyword">def </span>test_quadratic_from_diff_ev(self):</div>
<div class="line"><span class="lineno">  395</span>        <span class="comment"># test the quadratic function from differential_evolution function</span></div>
<div class="line"><span class="lineno">  396</span>        differential_evolution(self.quadratic,</div>
<div class="line"><span class="lineno">  397</span>                               [(-100, 100)],</div>
<div class="line"><span class="lineno">  398</span>                               tol=0.02)</div>
<div class="line"><span class="lineno">  399</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a09f68246e52454b6cbb55535c34cf0ab" name="a09f68246e52454b6cbb55535c34cf0ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09f68246e52454b6cbb55535c34cf0ab">&#9670;&#160;</a></span>test_random_generator()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_random_generator </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  416</span>    <span class="keyword">def </span>test_random_generator(self):</div>
<div class="line"><span class="lineno">  417</span>        <span class="comment"># check that np.random.Generator can be used (numpy &gt;= 1.17)</span></div>
<div class="line"><span class="lineno">  418</span>        <span class="comment"># obtain a np.random.Generator object</span></div>
<div class="line"><span class="lineno">  419</span>        rng = np.random.default_rng()</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>        inits = [<span class="stringliteral">&#39;random&#39;</span>, <span class="stringliteral">&#39;latinhypercube&#39;</span>, <span class="stringliteral">&#39;sobol&#39;</span>, <span class="stringliteral">&#39;halton&#39;</span>]</div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">for</span> init <span class="keywordflow">in</span> inits:</div>
<div class="line"><span class="lineno">  423</span>            differential_evolution(self.quadratic,</div>
<div class="line"><span class="lineno">  424</span>                                   [(-100, 100)],</div>
<div class="line"><span class="lineno">  425</span>                                   polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  426</span>                                   seed=rng,</div>
<div class="line"><span class="lineno">  427</span>                                   tol=0.5,</div>
<div class="line"><span class="lineno">  428</span>                                   init=init)</div>
<div class="line"><span class="lineno">  429</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ec5fe8fe939abb5e2b718f8f26ec3e9" name="a8ec5fe8fe939abb5e2b718f8f26ec3e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ec5fe8fe939abb5e2b718f8f26ec3e9">&#9670;&#160;</a></span>test_seed_gives_repeatability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_seed_gives_repeatability </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  400</span>    <span class="keyword">def </span>test_seed_gives_repeatability(self):</div>
<div class="line"><span class="lineno">  401</span>        result = differential_evolution(self.quadratic,</div>
<div class="line"><span class="lineno">  402</span>                                        [(-100, 100)],</div>
<div class="line"><span class="lineno">  403</span>                                        polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  404</span>                                        seed=1,</div>
<div class="line"><span class="lineno">  405</span>                                        tol=0.5)</div>
<div class="line"><span class="lineno">  406</span>        result2 = differential_evolution(self.quadratic,</div>
<div class="line"><span class="lineno">  407</span>                                        [(-100, 100)],</div>
<div class="line"><span class="lineno">  408</span>                                        polish=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  409</span>                                        seed=1,</div>
<div class="line"><span class="lineno">  410</span>                                        tol=0.5)</div>
<div class="line"><span class="lineno">  411</span>        assert_equal(result.x, result2.x)</div>
<div class="line"><span class="lineno">  412</span>        assert_equal(result.nfev, result2.nfev)</div>
<div class="line"><span class="lineno">  413</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af35872363a45fec54af1755120cebbf7" name="af35872363a45fec54af1755120cebbf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af35872363a45fec54af1755120cebbf7">&#9670;&#160;</a></span>test_select_samples()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_select_samples </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  319</span>    <span class="keyword">def </span>test_select_samples(self):</div>
<div class="line"><span class="lineno">  320</span>        <span class="comment"># select_samples should return 5 separate random numbers.</span></div>
<div class="line"><span class="lineno">  321</span>        limits = np.arange(12., dtype=<span class="stringliteral">&#39;float64&#39;</span>).reshape(2, 6)</div>
<div class="line"><span class="lineno">  322</span>        bounds = list(zip(limits[0, :], limits[1, :]))</div>
<div class="line"><span class="lineno">  323</span>        solver = DifferentialEvolutionSolver(<span class="keywordtype">None</span>, bounds, popsize=1)</div>
<div class="line"><span class="lineno">  324</span>        candidate = 0</div>
<div class="line"><span class="lineno">  325</span>        r1, r2, r3, r4, r5 = solver._select_samples(candidate, 5)</div>
<div class="line"><span class="lineno">  326</span>        assert_equal(</div>
<div class="line"><span class="lineno">  327</span>            len(np.unique(np.array([candidate, r1, r2, r3, r4, r5]))), 6)</div>
<div class="line"><span class="lineno">  328</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa38189ada0904547e93a07c563ab0447" name="aa38189ada0904547e93a07c563ab0447"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa38189ada0904547e93a07c563ab0447">&#9670;&#160;</a></span>test_vectorized()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_vectorized </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1398</span>    <span class="keyword">def </span>test_vectorized(self):</div>
<div class="line"><span class="lineno"> 1399</span>        <span class="keyword">def </span>quadratic(x):</div>
<div class="line"><span class="lineno"> 1400</span>            <span class="keywordflow">return</span> np.sum(x**2)</div>
<div class="line"><span class="lineno"> 1401</span> </div>
<div class="line"><span class="lineno"> 1402</span>        <span class="keyword">def </span>quadratic_vec(x):</div>
<div class="line"><span class="lineno"> 1403</span>            <span class="keywordflow">return</span> np.sum(x**2, axis=0)</div>
<div class="line"><span class="lineno"> 1404</span> </div>
<div class="line"><span class="lineno"> 1405</span>        <span class="comment"># A vectorized function needs to accept (len(x), S) and return (S,)</span></div>
<div class="line"><span class="lineno"> 1406</span>        <span class="keyword">with</span> pytest.raises(RuntimeError, match=<span class="stringliteral">&#39;The vectorized function&#39;</span>):</div>
<div class="line"><span class="lineno"> 1407</span>            differential_evolution(quadratic, self.bounds,</div>
<div class="line"><span class="lineno"> 1408</span>                                   vectorized=<span class="keyword">True</span>, updating=<span class="stringliteral">&#39;deferred&#39;</span>)</div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span>        <span class="comment"># vectorized overrides the updating keyword, check for warning</span></div>
<div class="line"><span class="lineno"> 1411</span>        <span class="keyword">with</span> warns(UserWarning, match=<span class="stringliteral">&quot;differential_evolution: the &#39;vector&quot;</span>):</div>
<div class="line"><span class="lineno"> 1412</span>            differential_evolution(quadratic_vec, self.bounds,</div>
<div class="line"><span class="lineno"> 1413</span>                                   vectorized=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1414</span> </div>
<div class="line"><span class="lineno"> 1415</span>        <span class="comment"># vectorized defers to the workers keyword, check for warning</span></div>
<div class="line"><span class="lineno"> 1416</span>        <span class="keyword">with</span> warns(UserWarning, match=<span class="stringliteral">&quot;differential_evolution: the &#39;workers&quot;</span>):</div>
<div class="line"><span class="lineno"> 1417</span>            differential_evolution(quadratic_vec, self.bounds,</div>
<div class="line"><span class="lineno"> 1418</span>                                   vectorized=<span class="keyword">True</span>, workers=map,</div>
<div class="line"><span class="lineno"> 1419</span>                                   updating=<span class="stringliteral">&#39;deferred&#39;</span>)</div>
<div class="line"><span class="lineno"> 1420</span> </div>
<div class="line"><span class="lineno"> 1421</span>        ncalls = [0]</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>        <span class="keyword">def </span>rosen_vec(x):</div>
<div class="line"><span class="lineno"> 1424</span>            ncalls[0] += 1</div>
<div class="line"><span class="lineno"> 1425</span>            <span class="keywordflow">return</span> rosen(x)</div>
<div class="line"><span class="lineno"> 1426</span> </div>
<div class="line"><span class="lineno"> 1427</span>        bounds = [(0, 10), (0, 10)]</div>
<div class="line"><span class="lineno"> 1428</span>        res1 = differential_evolution(rosen, bounds, updating=<span class="stringliteral">&#39;deferred&#39;</span>,</div>
<div class="line"><span class="lineno"> 1429</span>                                      seed=1)</div>
<div class="line"><span class="lineno"> 1430</span>        res2 = differential_evolution(rosen_vec, bounds, vectorized=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1431</span>                                      updating=<span class="stringliteral">&#39;deferred&#39;</span>, seed=1)</div>
<div class="line"><span class="lineno"> 1432</span> </div>
<div class="line"><span class="lineno"> 1433</span>        <span class="comment"># the two minimisation runs should be functionally equivalent</span></div>
<div class="line"><span class="lineno"> 1434</span>        assert_allclose(res1.x, res2.x)</div>
<div class="line"><span class="lineno"> 1435</span>        <span class="keyword">assert</span> ncalls[0] == res2.nfev</div>
<div class="line"><span class="lineno"> 1436</span>        <span class="keyword">assert</span> res1.nit == res2.nit</div>
<div class="line"><span class="lineno"> 1437</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a110bc387b20db236aaee5629ffaf41b7" name="a110bc387b20db236aaee5629ffaf41b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a110bc387b20db236aaee5629ffaf41b7">&#9670;&#160;</a></span>test_vectorized_constraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_vectorized_constraints </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1438</span>    <span class="keyword">def </span>test_vectorized_constraints(self):</div>
<div class="line"><span class="lineno"> 1439</span>        <span class="keyword">def </span>constr_f(x):</div>
<div class="line"><span class="lineno"> 1440</span>            <span class="keywordflow">return</span> np.array([x[0] + x[1]])</div>
<div class="line"><span class="lineno"> 1441</span> </div>
<div class="line"><span class="lineno"> 1442</span>        <span class="keyword">def </span>constr_f2(x):</div>
<div class="line"><span class="lineno"> 1443</span>            <span class="keywordflow">return</span> np.array([x[0]**2 + x[1], x[0] - x[1]])</div>
<div class="line"><span class="lineno"> 1444</span> </div>
<div class="line"><span class="lineno"> 1445</span>        nlc1 = NonlinearConstraint(constr_f, -np.inf, 1.9)</div>
<div class="line"><span class="lineno"> 1446</span>        nlc2 = NonlinearConstraint(constr_f2, (0.9, 0.5), (2.0, 2.0))</div>
<div class="line"><span class="lineno"> 1447</span> </div>
<div class="line"><span class="lineno"> 1448</span>        <span class="keyword">def </span>rosen_vec(x):</div>
<div class="line"><span class="lineno"> 1449</span>            <span class="comment"># accept an (len(x0), S) array, returning a (S,) array</span></div>
<div class="line"><span class="lineno"> 1450</span>            v = 100 * (x[1:] - x[:-1]**2.0)**2.0</div>
<div class="line"><span class="lineno"> 1451</span>            v += (1 - x[:-1])**2.0</div>
<div class="line"><span class="lineno"> 1452</span>            <span class="keywordflow">return</span> np.squeeze(v)</div>
<div class="line"><span class="lineno"> 1453</span> </div>
<div class="line"><span class="lineno"> 1454</span>        bounds = [(0, 10), (0, 10)]</div>
<div class="line"><span class="lineno"> 1455</span> </div>
<div class="line"><span class="lineno"> 1456</span>        res1 = differential_evolution(rosen, bounds, updating=<span class="stringliteral">&#39;deferred&#39;</span>,</div>
<div class="line"><span class="lineno"> 1457</span>                                      seed=1, constraints=[nlc1, nlc2],</div>
<div class="line"><span class="lineno"> 1458</span>                                      polish=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1459</span>        res2 = differential_evolution(rosen_vec, bounds, vectorized=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1460</span>                                      updating=<span class="stringliteral">&#39;deferred&#39;</span>, seed=1,</div>
<div class="line"><span class="lineno"> 1461</span>                                      constraints=[nlc1, nlc2],</div>
<div class="line"><span class="lineno"> 1462</span>                                      polish=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1463</span>        <span class="comment"># the two minimisation runs should be functionally equivalent</span></div>
<div class="line"><span class="lineno"> 1464</span>        assert_allclose(res1.x, res2.x)</div>
<div class="line"><span class="lineno"> 1465</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aabefc7a32707705f8f53913d42a8b61b" name="aabefc7a32707705f8f53913d42a8b61b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabefc7a32707705f8f53913d42a8b61b">&#9670;&#160;</a></span>test_x0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.test_x0 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  576</span>    <span class="keyword">def </span>test_x0(self):</div>
<div class="line"><span class="lineno">  577</span>        <span class="comment"># smoke test that checks that x0 is usable.</span></div>
<div class="line"><span class="lineno">  578</span>        res = differential_evolution(rosen, self.bounds, x0=[0.2, 0.8])</div>
<div class="line"><span class="lineno">  579</span>        <span class="keyword">assert</span> res.success</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>        <span class="comment"># check what happens if some of the x0 lay outside the bounds</span></div>
<div class="line"><span class="lineno">  582</span>        <span class="keyword">with</span> assert_raises(ValueError):</div>
<div class="line"><span class="lineno">  583</span>            differential_evolution(rosen, self.bounds, x0=[0.2, 2.1])</div>
<div class="line"><span class="lineno">  584</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6801a2f60f7042bca65671a3968ae2e7" name="a6801a2f60f7042bca65671a3968ae2e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6801a2f60f7042bca65671a3968ae2e7">&#9670;&#160;</a></span>bounds</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.bounds</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a6e722e586d96bf507dd93fbf2b1cd080" name="a6e722e586d96bf507dd93fbf2b1cd080"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e722e586d96bf507dd93fbf2b1cd080">&#9670;&#160;</a></span>dummy_solver</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.dummy_solver</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8c0f23682fd300925974fd2aadfe5e64" name="a8c0f23682fd300925974fd2aadfe5e64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c0f23682fd300925974fd2aadfe5e64">&#9670;&#160;</a></span>dummy_solver2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.dummy_solver2</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a95505778e6bac45bd532bfacf8268f23" name="a95505778e6bac45bd532bfacf8268f23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95505778e6bac45bd532bfacf8268f23">&#9670;&#160;</a></span>limits</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.limits</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a869d944cdafb2c36e7534e5b39f4f4bd" name="a869d944cdafb2c36e7534e5b39f4f4bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a869d944cdafb2c36e7534e5b39f4f4bd">&#9670;&#160;</a></span>old_seterr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.old_seterr</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0b9b7e815f7733bbe341e1c9bd3c8cb2" name="a0b9b7e815f7733bbe341e1c9bd3c8cb2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b9b7e815f7733bbe341e1c9bd3c8cb2">&#9670;&#160;</a></span>quadratic</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test__differential_evolution.TestDifferentialEvolutionSolver.quadratic</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/scipy/optimize/tests/<a class="el" href="test____differential__evolution_8py.html">test__differential_evolution.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
