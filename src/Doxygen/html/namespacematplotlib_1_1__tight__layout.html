<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: matplotlib._tight_layout Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacematplotlib.html">matplotlib</a></li><li class="navelem"><a class="el" href="namespacematplotlib_1_1__tight__layout.html">_tight_layout</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">matplotlib._tight_layout Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a837421d6bc6325ff9030c49880e551bc" id="r_a837421d6bc6325ff9030c49880e551bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__tight__layout.html#a837421d6bc6325ff9030c49880e551bc">_auto_adjust_subplotpars</a> (fig, renderer, shape, span_pairs, subplot_list, ax_bbox_list=None, pad=1.08, h_pad=None, w_pad=None, rect=None)</td></tr>
<tr class="separator:a837421d6bc6325ff9030c49880e551bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f1051222b01e6c686d86a9b36d166a5" id="r_a2f1051222b01e6c686d86a9b36d166a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__tight__layout.html#a2f1051222b01e6c686d86a9b36d166a5">auto_adjust_subplotpars</a> (fig, renderer, nrows_ncols, num1num2_list, subplot_list, ax_bbox_list=None, pad=1.08, h_pad=None, w_pad=None, rect=None)</td></tr>
<tr class="separator:a2f1051222b01e6c686d86a9b36d166a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a937690fad5c04f2fb2466c221b75838e" id="r_a937690fad5c04f2fb2466c221b75838e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__tight__layout.html#a937690fad5c04f2fb2466c221b75838e">get_subplotspec_list</a> (axes_list, grid_spec=None)</td></tr>
<tr class="separator:a937690fad5c04f2fb2466c221b75838e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a884ddfa623773ca17c72de19fdd47c83" id="r_a884ddfa623773ca17c72de19fdd47c83"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__tight__layout.html#a884ddfa623773ca17c72de19fdd47c83">get_tight_layout_figure</a> (fig, axes_list, subplotspec_list, renderer, pad=1.08, h_pad=None, w_pad=None, rect=None)</td></tr>
<tr class="separator:a884ddfa623773ca17c72de19fdd47c83"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Routines to adjust subplot params so that subplots are
nicely fit in the figure. In doing so, only axis labels, tick labels, axes
titles and offsetboxes that are anchored to axes are currently considered.

Internally, this module assumes that the margins (left margin, etc.) which are
differences between ``Axes.get_tightbbox`` and ``Axes.bbox`` are independent of
Axes position. This may fail if ``Axes.adjustable`` is ``datalim`` as well as
such cases as when left or right margin are affected by xlabel.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a837421d6bc6325ff9030c49880e551bc" name="a837421d6bc6325ff9030c49880e551bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a837421d6bc6325ff9030c49880e551bc">&#9670;&#160;</a></span>_auto_adjust_subplotpars()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._tight_layout._auto_adjust_subplotpars </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>renderer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>span_pairs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subplot_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ax_bbox_list</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad</em> = <code>1.08</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>h_pad</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>w_pad</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rect</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return a dict of subplot parameters to adjust spacing between subplots
or ``None`` if resulting axes would have zero height or width.

Note that this function ignores geometry information of subplot itself, but
uses what is given by the *shape* and *subplot_list* parameters.  Also, the
results could be incorrect if some subplots have ``adjustable=datalim``.

Parameters
----------
shape : tuple[int, int]
    Number of rows and columns of the grid.
span_pairs : list[tuple[slice, slice]]
    List of rowspans and colspans occupied by each subplot.
subplot_list : list of subplots
    List of subplots that will be used to calculate optimal subplot_params.
pad : float
    Padding between the figure edge and the edges of subplots, as a
    fraction of the font size.
h_pad, w_pad : float
    Padding (height/width) between edges of adjacent subplots, as a
    fraction of the font size.  Defaults to *pad*.
rect : tuple
    (left, bottom, right, top), default: None.
</pre> <div class="fragment"><div class="line"><span class="lineno">   22</span>        ax_bbox_list=<span class="keywordtype">None</span>, pad=1.08, h_pad=<span class="keywordtype">None</span>, w_pad=<span class="keywordtype">None</span>, rect=<span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno">   23</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   24</span><span class="stringliteral">    Return a dict of subplot parameters to adjust spacing between subplots</span></div>
<div class="line"><span class="lineno">   25</span><span class="stringliteral">    or ``None`` if resulting axes would have zero height or width.</span></div>
<div class="line"><span class="lineno">   26</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   27</span><span class="stringliteral">    Note that this function ignores geometry information of subplot itself, but</span></div>
<div class="line"><span class="lineno">   28</span><span class="stringliteral">    uses what is given by the *shape* and *subplot_list* parameters.  Also, the</span></div>
<div class="line"><span class="lineno">   29</span><span class="stringliteral">    results could be incorrect if some subplots have ``adjustable=datalim``.</span></div>
<div class="line"><span class="lineno">   30</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   31</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   32</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   33</span><span class="stringliteral">    shape : tuple[int, int]</span></div>
<div class="line"><span class="lineno">   34</span><span class="stringliteral">        Number of rows and columns of the grid.</span></div>
<div class="line"><span class="lineno">   35</span><span class="stringliteral">    span_pairs : list[tuple[slice, slice]]</span></div>
<div class="line"><span class="lineno">   36</span><span class="stringliteral">        List of rowspans and colspans occupied by each subplot.</span></div>
<div class="line"><span class="lineno">   37</span><span class="stringliteral">    subplot_list : list of subplots</span></div>
<div class="line"><span class="lineno">   38</span><span class="stringliteral">        List of subplots that will be used to calculate optimal subplot_params.</span></div>
<div class="line"><span class="lineno">   39</span><span class="stringliteral">    pad : float</span></div>
<div class="line"><span class="lineno">   40</span><span class="stringliteral">        Padding between the figure edge and the edges of subplots, as a</span></div>
<div class="line"><span class="lineno">   41</span><span class="stringliteral">        fraction of the font size.</span></div>
<div class="line"><span class="lineno">   42</span><span class="stringliteral">    h_pad, w_pad : float</span></div>
<div class="line"><span class="lineno">   43</span><span class="stringliteral">        Padding (height/width) between edges of adjacent subplots, as a</span></div>
<div class="line"><span class="lineno">   44</span><span class="stringliteral">        fraction of the font size.  Defaults to *pad*.</span></div>
<div class="line"><span class="lineno">   45</span><span class="stringliteral">    rect : tuple</span></div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">        (left, bottom, right, top), default: None.</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   48</span>    rows, cols = shape</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>    font_size_inch = (FontProperties(</div>
<div class="line"><span class="lineno">   51</span>        size=mpl.rcParams[<span class="stringliteral">&quot;font.size&quot;</span>]).get_size_in_points() / 72)</div>
<div class="line"><span class="lineno">   52</span>    pad_inch = pad * font_size_inch</div>
<div class="line"><span class="lineno">   53</span>    vpad_inch = h_pad * font_size_inch <span class="keywordflow">if</span> h_pad <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> pad_inch</div>
<div class="line"><span class="lineno">   54</span>    hpad_inch = w_pad * font_size_inch <span class="keywordflow">if</span> w_pad <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> pad_inch</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordflow">if</span> len(span_pairs) != len(subplot_list) <span class="keywordflow">or</span> len(subplot_list) == 0:</div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordflow">raise</span> ValueError</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">if</span> rect <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   60</span>        margin_left = margin_bottom = margin_right = margin_top = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   62</span>        margin_left, margin_bottom, _right, _top = rect</div>
<div class="line"><span class="lineno">   63</span>        margin_right = 1 - _right <span class="keywordflow">if</span> _right <span class="keywordflow">else</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   64</span>        margin_top = 1 - _top <span class="keywordflow">if</span> _top <span class="keywordflow">else</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>    vspaces = np.zeros((rows + 1, cols))</div>
<div class="line"><span class="lineno">   67</span>    hspaces = np.zeros((rows, cols + 1))</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">if</span> ax_bbox_list <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   70</span>        ax_bbox_list = [</div>
<div class="line"><span class="lineno">   71</span>            Bbox.union([ax.get_position(original=<span class="keyword">True</span>) <span class="keywordflow">for</span> ax <span class="keywordflow">in</span> subplots])</div>
<div class="line"><span class="lineno">   72</span>            <span class="keywordflow">for</span> subplots <span class="keywordflow">in</span> subplot_list]</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">for</span> subplots, ax_bbox, (rowspan, colspan) <span class="keywordflow">in</span> zip(</div>
<div class="line"><span class="lineno">   75</span>            subplot_list, ax_bbox_list, span_pairs):</div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordflow">if</span> all(<span class="keywordflow">not</span> ax.get_visible() <span class="keywordflow">for</span> ax <span class="keywordflow">in</span> subplots):</div>
<div class="line"><span class="lineno">   77</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>        bb = []</div>
<div class="line"><span class="lineno">   80</span>        <span class="keywordflow">for</span> ax <span class="keywordflow">in</span> subplots:</div>
<div class="line"><span class="lineno">   81</span>            <span class="keywordflow">if</span> ax.get_visible():</div>
<div class="line"><span class="lineno">   82</span>                bb += [martist._get_tightbbox_for_layout_only(ax, renderer)]</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>        tight_bbox_raw = Bbox.union(bb)</div>
<div class="line"><span class="lineno">   85</span>        tight_bbox = fig.transFigure.inverted().transform_bbox(tight_bbox_raw)</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>        hspaces[rowspan, colspan.start] += ax_bbox.xmin - tight_bbox.xmin  <span class="comment"># l</span></div>
<div class="line"><span class="lineno">   88</span>        hspaces[rowspan, colspan.stop] += tight_bbox.xmax - ax_bbox.xmax  <span class="comment"># r</span></div>
<div class="line"><span class="lineno">   89</span>        vspaces[rowspan.start, colspan] += tight_bbox.ymax - ax_bbox.ymax  <span class="comment"># t</span></div>
<div class="line"><span class="lineno">   90</span>        vspaces[rowspan.stop, colspan] += ax_bbox.ymin - tight_bbox.ymin  <span class="comment"># b</span></div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    fig_width_inch, fig_height_inch = fig.get_size_inches()</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>    <span class="comment"># margins can be negative for axes with aspect applied, so use max(, 0) to</span></div>
<div class="line"><span class="lineno">   95</span>    <span class="comment"># make them nonnegative.</span></div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> margin_left:</div>
<div class="line"><span class="lineno">   97</span>        margin_left = max(hspaces[:, 0].max(), 0) + pad_inch/fig_width_inch</div>
<div class="line"><span class="lineno">   98</span>        suplabel = fig._supylabel</div>
<div class="line"><span class="lineno">   99</span>        <span class="keywordflow">if</span> suplabel <span class="keywordflow">and</span> suplabel.get_in_layout():</div>
<div class="line"><span class="lineno">  100</span>            rel_width = fig.transFigure.inverted().transform_bbox(</div>
<div class="line"><span class="lineno">  101</span>                suplabel.get_window_extent(renderer)).width</div>
<div class="line"><span class="lineno">  102</span>            margin_left += rel_width + pad_inch/fig_width_inch</div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> margin_right:</div>
<div class="line"><span class="lineno">  104</span>        margin_right = max(hspaces[:, -1].max(), 0) + pad_inch/fig_width_inch</div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> margin_top:</div>
<div class="line"><span class="lineno">  106</span>        margin_top = max(vspaces[0, :].max(), 0) + pad_inch/fig_height_inch</div>
<div class="line"><span class="lineno">  107</span>        <span class="keywordflow">if</span> fig._suptitle <span class="keywordflow">and</span> fig._suptitle.get_in_layout():</div>
<div class="line"><span class="lineno">  108</span>            rel_height = fig.transFigure.inverted().transform_bbox(</div>
<div class="line"><span class="lineno">  109</span>                fig._suptitle.get_window_extent(renderer)).height</div>
<div class="line"><span class="lineno">  110</span>            margin_top += rel_height + pad_inch/fig_height_inch</div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> margin_bottom:</div>
<div class="line"><span class="lineno">  112</span>        margin_bottom = max(vspaces[-1, :].max(), 0) + pad_inch/fig_height_inch</div>
<div class="line"><span class="lineno">  113</span>        suplabel = fig._supxlabel</div>
<div class="line"><span class="lineno">  114</span>        <span class="keywordflow">if</span> suplabel <span class="keywordflow">and</span> suplabel.get_in_layout():</div>
<div class="line"><span class="lineno">  115</span>            rel_height = fig.transFigure.inverted().transform_bbox(</div>
<div class="line"><span class="lineno">  116</span>                suplabel.get_window_extent(renderer)).height</div>
<div class="line"><span class="lineno">  117</span>            margin_bottom += rel_height + pad_inch/fig_height_inch</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">if</span> margin_left + margin_right &gt;= 1:</div>
<div class="line"><span class="lineno">  120</span>        _api.warn_external(<span class="stringliteral">&#39;Tight layout not applied. The left and right &#39;</span></div>
<div class="line"><span class="lineno">  121</span>                           <span class="stringliteral">&#39;margins cannot be made large enough to &#39;</span></div>
<div class="line"><span class="lineno">  122</span>                           <span class="stringliteral">&#39;accommodate all axes decorations.&#39;</span>)</div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordflow">if</span> margin_bottom + margin_top &gt;= 1:</div>
<div class="line"><span class="lineno">  125</span>        _api.warn_external(<span class="stringliteral">&#39;Tight layout not applied. The bottom and top &#39;</span></div>
<div class="line"><span class="lineno">  126</span>                           <span class="stringliteral">&#39;margins cannot be made large enough to &#39;</span></div>
<div class="line"><span class="lineno">  127</span>                           <span class="stringliteral">&#39;accommodate all axes decorations.&#39;</span>)</div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    kwargs = dict(left=margin_left,</div>
<div class="line"><span class="lineno">  131</span>                  right=1 - margin_right,</div>
<div class="line"><span class="lineno">  132</span>                  bottom=margin_bottom,</div>
<div class="line"><span class="lineno">  133</span>                  top=1 - margin_top)</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">if</span> cols &gt; 1:</div>
<div class="line"><span class="lineno">  136</span>        hspace = hspaces[:, 1:-1].max() + hpad_inch / fig_width_inch</div>
<div class="line"><span class="lineno">  137</span>        <span class="comment"># axes widths:</span></div>
<div class="line"><span class="lineno">  138</span>        h_axes = (1 - margin_right - margin_left - hspace * (cols - 1)) / cols</div>
<div class="line"><span class="lineno">  139</span>        <span class="keywordflow">if</span> h_axes &lt; 0:</div>
<div class="line"><span class="lineno">  140</span>            _api.warn_external(<span class="stringliteral">&#39;Tight layout not applied. tight_layout &#39;</span></div>
<div class="line"><span class="lineno">  141</span>                               <span class="stringliteral">&#39;cannot make axes width small enough to &#39;</span></div>
<div class="line"><span class="lineno">  142</span>                               <span class="stringliteral">&#39;accommodate all axes decorations&#39;</span>)</div>
<div class="line"><span class="lineno">  143</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  144</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  145</span>            kwargs[<span class="stringliteral">&quot;wspace&quot;</span>] = hspace / h_axes</div>
<div class="line"><span class="lineno">  146</span>    <span class="keywordflow">if</span> rows &gt; 1:</div>
<div class="line"><span class="lineno">  147</span>        vspace = vspaces[1:-1, :].max() + vpad_inch / fig_height_inch</div>
<div class="line"><span class="lineno">  148</span>        v_axes = (1 - margin_top - margin_bottom - vspace * (rows - 1)) / rows</div>
<div class="line"><span class="lineno">  149</span>        <span class="keywordflow">if</span> v_axes &lt; 0:</div>
<div class="line"><span class="lineno">  150</span>            _api.warn_external(<span class="stringliteral">&#39;Tight layout not applied. tight_layout &#39;</span></div>
<div class="line"><span class="lineno">  151</span>                               <span class="stringliteral">&#39;cannot make axes height small enough to &#39;</span></div>
<div class="line"><span class="lineno">  152</span>                               <span class="stringliteral">&#39;accommodate all axes decorations.&#39;</span>)</div>
<div class="line"><span class="lineno">  153</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  155</span>            kwargs[<span class="stringliteral">&quot;hspace&quot;</span>] = vspace / v_axes</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">return</span> kwargs</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span><span class="preprocessor">@_api.deprecated(&quot;3.5&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f1051222b01e6c686d86a9b36d166a5" name="a2f1051222b01e6c686d86a9b36d166a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f1051222b01e6c686d86a9b36d166a5">&#9670;&#160;</a></span>auto_adjust_subplotpars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._tight_layout.auto_adjust_subplotpars </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>renderer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nrows_ncols</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>num1num2_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subplot_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ax_bbox_list</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad</em> = <code>1.08</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>h_pad</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>w_pad</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rect</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a dict of subplot parameters to adjust spacing between subplots
or ``None`` if resulting axes would have zero height or width.

Note that this function ignores geometry information of subplot
itself, but uses what is given by the *nrows_ncols* and *num1num2_list*
parameters.  Also, the results could be incorrect if some subplots have
``adjustable=datalim``.

Parameters
----------
nrows_ncols : tuple[int, int]
    Number of rows and number of columns of the grid.
num1num2_list : list[tuple[int, int]]
    List of numbers specifying the area occupied by the subplot
subplot_list : list of subplots
    List of subplots that will be used to calculate optimal subplot_params.
pad : float
    Padding between the figure edge and the edges of subplots, as a
    fraction of the font size.
h_pad, w_pad : float
    Padding (height/width) between edges of adjacent subplots, as a
    fraction of the font size.  Defaults to *pad*.
rect : tuple
    (left, bottom, right, top), default: None.
</pre> <div class="fragment"><div class="line"><span class="lineno">  163</span>        ax_bbox_list=<span class="keywordtype">None</span>, pad=1.08, h_pad=<span class="keywordtype">None</span>, w_pad=<span class="keywordtype">None</span>, rect=<span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno">  164</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">    Return a dict of subplot parameters to adjust spacing between subplots</span></div>
<div class="line"><span class="lineno">  166</span><span class="stringliteral">    or ``None`` if resulting axes would have zero height or width.</span></div>
<div class="line"><span class="lineno">  167</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  168</span><span class="stringliteral">    Note that this function ignores geometry information of subplot</span></div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral">    itself, but uses what is given by the *nrows_ncols* and *num1num2_list*</span></div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral">    parameters.  Also, the results could be incorrect if some subplots have</span></div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">    ``adjustable=datalim``.</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  175</span><span class="stringliteral">    nrows_ncols : tuple[int, int]</span></div>
<div class="line"><span class="lineno">  176</span><span class="stringliteral">        Number of rows and number of columns of the grid.</span></div>
<div class="line"><span class="lineno">  177</span><span class="stringliteral">    num1num2_list : list[tuple[int, int]]</span></div>
<div class="line"><span class="lineno">  178</span><span class="stringliteral">        List of numbers specifying the area occupied by the subplot</span></div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral">    subplot_list : list of subplots</span></div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">        List of subplots that will be used to calculate optimal subplot_params.</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral">    pad : float</span></div>
<div class="line"><span class="lineno">  182</span><span class="stringliteral">        Padding between the figure edge and the edges of subplots, as a</span></div>
<div class="line"><span class="lineno">  183</span><span class="stringliteral">        fraction of the font size.</span></div>
<div class="line"><span class="lineno">  184</span><span class="stringliteral">    h_pad, w_pad : float</span></div>
<div class="line"><span class="lineno">  185</span><span class="stringliteral">        Padding (height/width) between edges of adjacent subplots, as a</span></div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral">        fraction of the font size.  Defaults to *pad*.</span></div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral">    rect : tuple</span></div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral">        (left, bottom, right, top), default: None.</span></div>
<div class="line"><span class="lineno">  189</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  190</span>    nrows, ncols = nrows_ncols</div>
<div class="line"><span class="lineno">  191</span>    span_pairs = []</div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">for</span> n1, n2 <span class="keywordflow">in</span> num1num2_list:</div>
<div class="line"><span class="lineno">  193</span>        <span class="keywordflow">if</span> n2 <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  194</span>            n2 = n1</div>
<div class="line"><span class="lineno">  195</span>        span_pairs.append((slice(n1 // ncols, n2 // ncols + 1),</div>
<div class="line"><span class="lineno">  196</span>                           slice(n1 % ncols, n2 % ncols + 1)))</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">return</span> _auto_adjust_subplotpars(</div>
<div class="line"><span class="lineno">  198</span>        fig, renderer, nrows_ncols, num1num2_list, subplot_list,</div>
<div class="line"><span class="lineno">  199</span>        ax_bbox_list, pad, h_pad, w_pad, rect)</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a937690fad5c04f2fb2466c221b75838e" name="a937690fad5c04f2fb2466c221b75838e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a937690fad5c04f2fb2466c221b75838e">&#9670;&#160;</a></span>get_subplotspec_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._tight_layout.get_subplotspec_list </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>axes_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>grid_spec</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a list of subplotspec from the given list of axes.

For an instance of axes that does not support subplotspec, None is inserted
in the list.

If grid_spec is given, None is inserted for those not from the given
grid_spec.
</pre> <div class="fragment"><div class="line"><span class="lineno">  202</span><span class="keyword">def </span>get_subplotspec_list(axes_list, grid_spec=None):</div>
<div class="line"><span class="lineno">  203</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  204</span><span class="stringliteral">    Return a list of subplotspec from the given list of axes.</span></div>
<div class="line"><span class="lineno">  205</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  206</span><span class="stringliteral">    For an instance of axes that does not support subplotspec, None is inserted</span></div>
<div class="line"><span class="lineno">  207</span><span class="stringliteral">    in the list.</span></div>
<div class="line"><span class="lineno">  208</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral">    If grid_spec is given, None is inserted for those not from the given</span></div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral">    grid_spec.</span></div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  212</span>    subplotspec_list = []</div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordflow">for</span> ax <span class="keywordflow">in</span> axes_list:</div>
<div class="line"><span class="lineno">  214</span>        axes_or_locator = ax.get_axes_locator()</div>
<div class="line"><span class="lineno">  215</span>        <span class="keywordflow">if</span> axes_or_locator <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  216</span>            axes_or_locator = ax</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>        <span class="keywordflow">if</span> hasattr(axes_or_locator, <span class="stringliteral">&quot;get_subplotspec&quot;</span>):</div>
<div class="line"><span class="lineno">  219</span>            subplotspec = axes_or_locator.get_subplotspec()</div>
<div class="line"><span class="lineno">  220</span>            <span class="keywordflow">if</span> subplotspec <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  221</span>                subplotspec = subplotspec.get_topmost_subplotspec()</div>
<div class="line"><span class="lineno">  222</span>                gs = subplotspec.get_gridspec()</div>
<div class="line"><span class="lineno">  223</span>                <span class="keywordflow">if</span> grid_spec <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  224</span>                    <span class="keywordflow">if</span> gs != grid_spec:</div>
<div class="line"><span class="lineno">  225</span>                        subplotspec = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  226</span>                <span class="keywordflow">elif</span> gs.locally_modified_subplot_params():</div>
<div class="line"><span class="lineno">  227</span>                    subplotspec = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  229</span>            subplotspec = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>        subplotspec_list.append(subplotspec)</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">return</span> subplotspec_list</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a884ddfa623773ca17c72de19fdd47c83" name="a884ddfa623773ca17c72de19fdd47c83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a884ddfa623773ca17c72de19fdd47c83">&#9670;&#160;</a></span>get_tight_layout_figure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._tight_layout.get_tight_layout_figure </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fig</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>axes_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subplotspec_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>renderer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad</em> = <code>1.08</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>h_pad</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>w_pad</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rect</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return subplot parameters for tight-layouted-figure with specified padding.

Parameters
----------
fig : Figure
axes_list : list of Axes
subplotspec_list : list of `.SubplotSpec`
    The subplotspecs of each axes.
renderer : renderer
pad : float
    Padding between the figure edge and the edges of subplots, as a
    fraction of the font size.
h_pad, w_pad : float
    Padding (height/width) between edges of adjacent subplots.  Defaults to
    *pad*.
rect : tuple (left, bottom, right, top), default: None.
    rectangle in normalized figure coordinates
    that the whole subplots area (including labels) will fit into.
    Defaults to using the entire figure.

Returns
-------
subplotspec or None
    subplotspec kwargs to be passed to `.Figure.subplots_adjust` or
    None if tight_layout could not be accomplished.
</pre> <div class="fragment"><div class="line"><span class="lineno">  237</span>                            pad=1.08, h_pad=<span class="keywordtype">None</span>, w_pad=<span class="keywordtype">None</span>, rect=<span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno">  238</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral">    Return subplot parameters for tight-layouted-figure with specified padding.</span></div>
<div class="line"><span class="lineno">  240</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  241</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral">    fig : Figure</span></div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">    axes_list : list of Axes</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral">    subplotspec_list : list of `.SubplotSpec`</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral">        The subplotspecs of each axes.</span></div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral">    renderer : renderer</span></div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">    pad : float</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral">        Padding between the figure edge and the edges of subplots, as a</span></div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral">        fraction of the font size.</span></div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">    h_pad, w_pad : float</span></div>
<div class="line"><span class="lineno">  252</span><span class="stringliteral">        Padding (height/width) between edges of adjacent subplots.  Defaults to</span></div>
<div class="line"><span class="lineno">  253</span><span class="stringliteral">        *pad*.</span></div>
<div class="line"><span class="lineno">  254</span><span class="stringliteral">    rect : tuple (left, bottom, right, top), default: None.</span></div>
<div class="line"><span class="lineno">  255</span><span class="stringliteral">        rectangle in normalized figure coordinates</span></div>
<div class="line"><span class="lineno">  256</span><span class="stringliteral">        that the whole subplots area (including labels) will fit into.</span></div>
<div class="line"><span class="lineno">  257</span><span class="stringliteral">        Defaults to using the entire figure.</span></div>
<div class="line"><span class="lineno">  258</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  259</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  260</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  261</span><span class="stringliteral">    subplotspec or None</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">        subplotspec kwargs to be passed to `.Figure.subplots_adjust` or</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">        None if tight_layout could not be accomplished.</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>    <span class="comment"># Multiple axes can share same subplotspec (e.g., if using axes_grid1);</span></div>
<div class="line"><span class="lineno">  267</span>    <span class="comment"># we need to group them together.</span></div>
<div class="line"><span class="lineno">  268</span>    ss_to_subplots = {ss: [] <span class="keywordflow">for</span> ss <span class="keywordflow">in</span> subplotspec_list}</div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">for</span> ax, ss <span class="keywordflow">in</span> zip(axes_list, subplotspec_list):</div>
<div class="line"><span class="lineno">  270</span>        ss_to_subplots[ss].append(ax)</div>
<div class="line"><span class="lineno">  271</span>    ss_to_subplots.pop(<span class="keywordtype">None</span>, <span class="keywordtype">None</span>)  <span class="comment"># Skip subplotspec == None.</span></div>
<div class="line"><span class="lineno">  272</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> ss_to_subplots:</div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordflow">return</span> {}</div>
<div class="line"><span class="lineno">  274</span>    subplot_list = list(ss_to_subplots.values())</div>
<div class="line"><span class="lineno">  275</span>    ax_bbox_list = [ss.get_position(fig) <span class="keywordflow">for</span> ss <span class="keywordflow">in</span> ss_to_subplots]</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>    max_nrows = max(ss.get_gridspec().nrows <span class="keywordflow">for</span> ss <span class="keywordflow">in</span> ss_to_subplots)</div>
<div class="line"><span class="lineno">  278</span>    max_ncols = max(ss.get_gridspec().ncols <span class="keywordflow">for</span> ss <span class="keywordflow">in</span> ss_to_subplots)</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>    span_pairs = []</div>
<div class="line"><span class="lineno">  281</span>    <span class="keywordflow">for</span> ss <span class="keywordflow">in</span> ss_to_subplots:</div>
<div class="line"><span class="lineno">  282</span>        <span class="comment"># The intent here is to support axes from different gridspecs where</span></div>
<div class="line"><span class="lineno">  283</span>        <span class="comment"># one&#39;s nrows (or ncols) is a multiple of the other (e.g. 2 and 4),</span></div>
<div class="line"><span class="lineno">  284</span>        <span class="comment"># but this doesn&#39;t actually work because the computed wspace, in</span></div>
<div class="line"><span class="lineno">  285</span>        <span class="comment"># relative-axes-height, corresponds to different physical spacings for</span></div>
<div class="line"><span class="lineno">  286</span>        <span class="comment"># the 2-row grid and the 4-row grid.  Still, this code is left, mostly</span></div>
<div class="line"><span class="lineno">  287</span>        <span class="comment"># for backcompat.</span></div>
<div class="line"><span class="lineno">  288</span>        rows, cols = ss.get_gridspec().get_geometry()</div>
<div class="line"><span class="lineno">  289</span>        div_row, mod_row = divmod(max_nrows, rows)</div>
<div class="line"><span class="lineno">  290</span>        div_col, mod_col = divmod(max_ncols, cols)</div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">if</span> mod_row != 0:</div>
<div class="line"><span class="lineno">  292</span>            _api.warn_external(<span class="stringliteral">&#39;tight_layout not applied: number of rows &#39;</span></div>
<div class="line"><span class="lineno">  293</span>                               <span class="stringliteral">&#39;in subplot specifications must be &#39;</span></div>
<div class="line"><span class="lineno">  294</span>                               <span class="stringliteral">&#39;multiples of one another.&#39;</span>)</div>
<div class="line"><span class="lineno">  295</span>            <span class="keywordflow">return</span> {}</div>
<div class="line"><span class="lineno">  296</span>        <span class="keywordflow">if</span> mod_col != 0:</div>
<div class="line"><span class="lineno">  297</span>            _api.warn_external(<span class="stringliteral">&#39;tight_layout not applied: number of &#39;</span></div>
<div class="line"><span class="lineno">  298</span>                               <span class="stringliteral">&#39;columns in subplot specifications must be &#39;</span></div>
<div class="line"><span class="lineno">  299</span>                               <span class="stringliteral">&#39;multiples of one another.&#39;</span>)</div>
<div class="line"><span class="lineno">  300</span>            <span class="keywordflow">return</span> {}</div>
<div class="line"><span class="lineno">  301</span>        span_pairs.append((</div>
<div class="line"><span class="lineno">  302</span>            slice(ss.rowspan.start * div_row, ss.rowspan.stop * div_row),</div>
<div class="line"><span class="lineno">  303</span>            slice(ss.colspan.start * div_col, ss.colspan.stop * div_col)))</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>    kwargs = _auto_adjust_subplotpars(fig, renderer,</div>
<div class="line"><span class="lineno">  306</span>                                      shape=(max_nrows, max_ncols),</div>
<div class="line"><span class="lineno">  307</span>                                      span_pairs=span_pairs,</div>
<div class="line"><span class="lineno">  308</span>                                      subplot_list=subplot_list,</div>
<div class="line"><span class="lineno">  309</span>                                      ax_bbox_list=ax_bbox_list,</div>
<div class="line"><span class="lineno">  310</span>                                      pad=pad, h_pad=h_pad, w_pad=w_pad)</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    <span class="comment"># kwargs can be none if tight_layout fails...</span></div>
<div class="line"><span class="lineno">  313</span>    <span class="keywordflow">if</span> rect <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> kwargs <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  314</span>        <span class="comment"># if rect is given, the whole subplots area (including</span></div>
<div class="line"><span class="lineno">  315</span>        <span class="comment"># labels) will fit into the rect instead of the</span></div>
<div class="line"><span class="lineno">  316</span>        <span class="comment"># figure. Note that the rect argument of</span></div>
<div class="line"><span class="lineno">  317</span>        <span class="comment"># *auto_adjust_subplotpars* specify the area that will be</span></div>
<div class="line"><span class="lineno">  318</span>        <span class="comment"># covered by the total area of axes.bbox. Thus we call</span></div>
<div class="line"><span class="lineno">  319</span>        <span class="comment"># auto_adjust_subplotpars twice, where the second run</span></div>
<div class="line"><span class="lineno">  320</span>        <span class="comment"># with adjusted rect parameters.</span></div>
<div class="line"><span class="lineno">  321</span> </div>
<div class="line"><span class="lineno">  322</span>        left, bottom, right, top = rect</div>
<div class="line"><span class="lineno">  323</span>        <span class="keywordflow">if</span> left <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  324</span>            left += kwargs[<span class="stringliteral">&quot;left&quot;</span>]</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">if</span> bottom <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  326</span>            bottom += kwargs[<span class="stringliteral">&quot;bottom&quot;</span>]</div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">if</span> right <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  328</span>            right -= (1 - kwargs[<span class="stringliteral">&quot;right&quot;</span>])</div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">if</span> top <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  330</span>            top -= (1 - kwargs[<span class="stringliteral">&quot;top&quot;</span>])</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>        kwargs = _auto_adjust_subplotpars(fig, renderer,</div>
<div class="line"><span class="lineno">  333</span>                                          shape=(max_nrows, max_ncols),</div>
<div class="line"><span class="lineno">  334</span>                                          span_pairs=span_pairs,</div>
<div class="line"><span class="lineno">  335</span>                                          subplot_list=subplot_list,</div>
<div class="line"><span class="lineno">  336</span>                                          ax_bbox_list=ax_bbox_list,</div>
<div class="line"><span class="lineno">  337</span>                                          pad=pad, h_pad=h_pad, w_pad=w_pad,</div>
<div class="line"><span class="lineno">  338</span>                                          rect=(left, bottom, right, top))</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    <span class="keywordflow">return</span> kwargs</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
