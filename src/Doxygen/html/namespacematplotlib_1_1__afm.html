<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: matplotlib._afm Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacematplotlib.html">matplotlib</a></li><li class="navelem"><a class="el" href="namespacematplotlib_1_1__afm.html">_afm</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">matplotlib._afm Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1__afm_1_1_a_f_m.html">AFM</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa8a2079efb331074ee265a76c05c61a9" id="r_aa8a2079efb331074ee265a76c05c61a9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#aa8a2079efb331074ee265a76c05c61a9">_to_int</a> (x)</td></tr>
<tr class="separator:aa8a2079efb331074ee265a76c05c61a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8d875d56cfffe564d7a4e6603fb83cc" id="r_ab8d875d56cfffe564d7a4e6603fb83cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#ab8d875d56cfffe564d7a4e6603fb83cc">_to_float</a> (x)</td></tr>
<tr class="separator:ab8d875d56cfffe564d7a4e6603fb83cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97cbc5503f47ce621728518f861151ac" id="r_a97cbc5503f47ce621728518f861151ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#a97cbc5503f47ce621728518f861151ac">_to_str</a> (x)</td></tr>
<tr class="separator:a97cbc5503f47ce621728518f861151ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a076d19284cdd9addbbb6682fa58da220" id="r_a076d19284cdd9addbbb6682fa58da220"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#a076d19284cdd9addbbb6682fa58da220">_to_list_of_ints</a> (s)</td></tr>
<tr class="separator:a076d19284cdd9addbbb6682fa58da220"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a958123063c5aeaaff8d8d8ec57af1e92" id="r_a958123063c5aeaaff8d8d8ec57af1e92"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#a958123063c5aeaaff8d8d8ec57af1e92">_to_list_of_floats</a> (s)</td></tr>
<tr class="separator:a958123063c5aeaaff8d8d8ec57af1e92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addc8cdc7e6abf4f5edf87865474c5430" id="r_addc8cdc7e6abf4f5edf87865474c5430"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#addc8cdc7e6abf4f5edf87865474c5430">_to_bool</a> (s)</td></tr>
<tr class="separator:addc8cdc7e6abf4f5edf87865474c5430"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10cba438514fca2f1f9d4bd77e621541" id="r_a10cba438514fca2f1f9d4bd77e621541"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#a10cba438514fca2f1f9d4bd77e621541">_parse_header</a> (fh)</td></tr>
<tr class="separator:a10cba438514fca2f1f9d4bd77e621541"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292fff6bb29795141d5a2013dd980ba9" id="r_a292fff6bb29795141d5a2013dd980ba9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#a292fff6bb29795141d5a2013dd980ba9">_parse_char_metrics</a> (fh)</td></tr>
<tr class="separator:a292fff6bb29795141d5a2013dd980ba9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae77b1ae356ebfdea97a9c766666392ce" id="r_ae77b1ae356ebfdea97a9c766666392ce"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#ae77b1ae356ebfdea97a9c766666392ce">_parse_kern_pairs</a> (fh)</td></tr>
<tr class="separator:ae77b1ae356ebfdea97a9c766666392ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9281c90df6f90be514a6091ceed063ba" id="r_a9281c90df6f90be514a6091ceed063ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#a9281c90df6f90be514a6091ceed063ba">_parse_composites</a> (fh)</td></tr>
<tr class="separator:a9281c90df6f90be514a6091ceed063ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a292220ddc55380d2d9633a9c851e0ef0" id="r_a292220ddc55380d2d9633a9c851e0ef0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#a292220ddc55380d2d9633a9c851e0ef0">_parse_optional</a> (fh)</td></tr>
<tr class="separator:a292220ddc55380d2d9633a9c851e0ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3cedd0a3e0c4b12165961815635eb955" id="r_a3cedd0a3e0c4b12165961815635eb955"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#a3cedd0a3e0c4b12165961815635eb955">_log</a> = logging.getLogger(__name__)</td></tr>
<tr class="separator:a3cedd0a3e0c4b12165961815635eb955"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20f4ca941a66484730962d6cba44a43a" id="r_a20f4ca941a66484730962d6cba44a43a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#a20f4ca941a66484730962d6cba44a43a">CharMetrics</a> = namedtuple('CharMetrics', 'width, name, bbox')</td></tr>
<tr class="separator:a20f4ca941a66484730962d6cba44a43a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af40ce472f36a0b685bfab58649487bad" id="r_af40ce472f36a0b685bfab58649487bad"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1__afm.html#af40ce472f36a0b685bfab58649487bad">CompositePart</a> = namedtuple('CompositePart', 'name, <a class="el" href="__blas__subroutines_8h.html#a6b1e36c081feb196285c9fc4062b28ed">dx</a>, <a class="el" href="__blas__subroutines_8h.html#a4a2b3b2b516fb809de151aa9dfb5cd78">dy</a>')</td></tr>
<tr class="separator:af40ce472f36a0b685bfab58649487bad"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A python interface to Adobe Font Metrics Files.

Although a number of other Python implementations exist, and may be more
complete than this, it was decided not to go with them because they were
either:

1) copyrighted or used a non-BSD compatible license
2) had too many dependencies and a free standing lib was needed
3) did more than needed and it was easier to write afresh rather than
   figure out how to get just what was needed.

It is pretty easy to use, and has no external dependencies:

&gt;&gt;&gt; import matplotlib as mpl
&gt;&gt;&gt; from pathlib import Path
&gt;&gt;&gt; afm_path = Path(mpl.get_data_path(), 'fonts', 'afm', 'ptmr8a.afm')
&gt;&gt;&gt;
&gt;&gt;&gt; from matplotlib.afm import AFM
&gt;&gt;&gt; with afm_path.open('rb') as fh:
...     afm = AFM(fh)
&gt;&gt;&gt; afm.string_width_height('What the heck?')
(6220.0, 694)
&gt;&gt;&gt; afm.get_fontname()
'Times-Roman'
&gt;&gt;&gt; afm.get_kern_dist('A', 'f')
0
&gt;&gt;&gt; afm.get_kern_dist('A', 'y')
-92.0
&gt;&gt;&gt; afm.get_bbox_char('!')
[130, -9, 238, 676]

As in the Adobe Font Metrics File Format Specification, all dimensions
are given in units of 1/1000 of the scale factor (point size) of the font
being used.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a292fff6bb29795141d5a2013dd980ba9" name="a292fff6bb29795141d5a2013dd980ba9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a292fff6bb29795141d5a2013dd980ba9">&#9670;&#160;</a></span>_parse_char_metrics()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._parse_char_metrics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Parse the given filehandle for character metrics information and return
the information as dicts.

It is assumed that the file cursor is on the line behind
'StartCharMetrics'.

Returns
-------
ascii_d : dict
     A mapping "ASCII num of the character" to `.CharMetrics`.
name_d : dict
     A mapping "character name" to `.CharMetrics`.

Notes
-----
This function is incomplete per the standard, but thus far parses
all the sample afm files tried.
</pre> <div class="fragment"><div class="line"><span class="lineno">  186</span><span class="keyword">def </span>_parse_char_metrics(fh):</div>
<div class="line"><span class="lineno">  187</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral">    Parse the given filehandle for character metrics information and return</span></div>
<div class="line"><span class="lineno">  189</span><span class="stringliteral">    the information as dicts.</span></div>
<div class="line"><span class="lineno">  190</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  191</span><span class="stringliteral">    It is assumed that the file cursor is on the line behind</span></div>
<div class="line"><span class="lineno">  192</span><span class="stringliteral">    &#39;StartCharMetrics&#39;.</span></div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">    ascii_d : dict</span></div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral">         A mapping &quot;ASCII num of the character&quot; to `.CharMetrics`.</span></div>
<div class="line"><span class="lineno">  198</span><span class="stringliteral">    name_d : dict</span></div>
<div class="line"><span class="lineno">  199</span><span class="stringliteral">         A mapping &quot;character name&quot; to `.CharMetrics`.</span></div>
<div class="line"><span class="lineno">  200</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  201</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  203</span><span class="stringliteral">    This function is incomplete per the standard, but thus far parses</span></div>
<div class="line"><span class="lineno">  204</span><span class="stringliteral">    all the sample afm files tried.</span></div>
<div class="line"><span class="lineno">  205</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  206</span>    required_keys = {<span class="stringliteral">&#39;C&#39;</span>, <span class="stringliteral">&#39;WX&#39;</span>, <span class="stringliteral">&#39;N&#39;</span>, <span class="stringliteral">&#39;B&#39;</span>}</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    ascii_d = {}</div>
<div class="line"><span class="lineno">  209</span>    name_d = {}</div>
<div class="line"><span class="lineno">  210</span>    <span class="keywordflow">for</span> line <span class="keywordflow">in</span> fh:</div>
<div class="line"><span class="lineno">  211</span>        <span class="comment"># We are defensively letting values be utf8. The spec requires</span></div>
<div class="line"><span class="lineno">  212</span>        <span class="comment"># ascii, but there are non-compliant fonts in circulation</span></div>
<div class="line"><span class="lineno">  213</span>        line = _to_str(line.rstrip())  <span class="comment"># Convert from byte-literal</span></div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">if</span> line.startswith(<span class="stringliteral">&#39;EndCharMetrics&#39;</span>):</div>
<div class="line"><span class="lineno">  215</span>            <span class="keywordflow">return</span> ascii_d, name_d</div>
<div class="line"><span class="lineno">  216</span>        <span class="comment"># Split the metric line into a dictionary, keyed by metric identifiers</span></div>
<div class="line"><span class="lineno">  217</span>        vals = dict(s.strip().split(<span class="stringliteral">&#39; &#39;</span>, 1) <span class="keywordflow">for</span> s <span class="keywordflow">in</span> line.split(<span class="stringliteral">&#39;;&#39;</span>) <span class="keywordflow">if</span> s)</div>
<div class="line"><span class="lineno">  218</span>        <span class="comment"># There may be other metrics present, but only these are needed</span></div>
<div class="line"><span class="lineno">  219</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> required_keys.issubset(vals):</div>
<div class="line"><span class="lineno">  220</span>            <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Bad char metrics line: %s&#39;</span> % line)</div>
<div class="line"><span class="lineno">  221</span>        num = _to_int(vals[<span class="stringliteral">&#39;C&#39;</span>])</div>
<div class="line"><span class="lineno">  222</span>        wx = _to_float(vals[<span class="stringliteral">&#39;WX&#39;</span>])</div>
<div class="line"><span class="lineno">  223</span>        name = vals[<span class="stringliteral">&#39;N&#39;</span>]</div>
<div class="line"><span class="lineno">  224</span>        bbox = _to_list_of_floats(vals[<span class="stringliteral">&#39;B&#39;</span>])</div>
<div class="line"><span class="lineno">  225</span>        bbox = list(map(int, bbox))</div>
<div class="line"><span class="lineno">  226</span>        metrics = CharMetrics(wx, name, bbox)</div>
<div class="line"><span class="lineno">  227</span>        <span class="comment"># Workaround: If the character name is &#39;Euro&#39;, give it the</span></div>
<div class="line"><span class="lineno">  228</span>        <span class="comment"># corresponding character code, according to WinAnsiEncoding (see PDF</span></div>
<div class="line"><span class="lineno">  229</span>        <span class="comment"># Reference).</span></div>
<div class="line"><span class="lineno">  230</span>        <span class="keywordflow">if</span> name == <span class="stringliteral">&#39;Euro&#39;</span>:</div>
<div class="line"><span class="lineno">  231</span>            num = 128</div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">elif</span> name == <span class="stringliteral">&#39;minus&#39;</span>:</div>
<div class="line"><span class="lineno">  233</span>            num = ord(<span class="stringliteral">&quot;\N{MINUS SIGN}&quot;</span>)  <span class="comment"># 0x2212</span></div>
<div class="line"><span class="lineno">  234</span>        <span class="keywordflow">if</span> num != -1:</div>
<div class="line"><span class="lineno">  235</span>            ascii_d[num] = metrics</div>
<div class="line"><span class="lineno">  236</span>        name_d[name] = metrics</div>
<div class="line"><span class="lineno">  237</span>    <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Bad parse&#39;</span>)</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9281c90df6f90be514a6091ceed063ba" name="a9281c90df6f90be514a6091ceed063ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9281c90df6f90be514a6091ceed063ba">&#9670;&#160;</a></span>_parse_composites()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._parse_composites </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Parse the given filehandle for composites information return them as a
dict.

It is assumed that the file cursor is on the line behind 'StartComposites'.

Returns
-------
dict
    A dict mapping composite character names to a parts list. The parts
    list is a list of `.CompositePart` entries describing the parts of
    the composite.

Examples
--------
A composite definition line::

  CC Aacute 2 ; PCC A 0 0 ; PCC acute 160 170 ;

will be represented as::

  composites['Aacute'] = [CompositePart(name='A', dx=0, dy=0),
                          CompositePart(name='acute', dx=160, dy=170)]</pre> <div class="fragment"><div class="line"><span class="lineno">  280</span><span class="keyword">def </span>_parse_composites(fh):</div>
<div class="line"><span class="lineno">  281</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral">    Parse the given filehandle for composites information return them as a</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">    dict.</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral">    It is assumed that the file cursor is on the line behind &#39;StartComposites&#39;.</span></div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral">    dict</span></div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral">        A dict mapping composite character names to a parts list. The parts</span></div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">        list is a list of `.CompositePart` entries describing the parts of</span></div>
<div class="line"><span class="lineno">  292</span><span class="stringliteral">        the composite.</span></div>
<div class="line"><span class="lineno">  293</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  294</span><span class="stringliteral">    Examples</span></div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral">    --------</span></div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">    A composite definition line::</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral">      CC Aacute 2 ; PCC A 0 0 ; PCC acute 160 170 ;</span></div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">    will be represented as::</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  302</span><span class="stringliteral">      composites[&#39;Aacute&#39;] = [CompositePart(name=&#39;A&#39;, dx=0, dy=0),</span></div>
<div class="line"><span class="lineno">  303</span><span class="stringliteral">                              CompositePart(name=&#39;acute&#39;, dx=160, dy=170)]</span></div>
<div class="line"><span class="lineno">  304</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  306</span>    composites = {}</div>
<div class="line"><span class="lineno">  307</span>    <span class="keywordflow">for</span> line <span class="keywordflow">in</span> fh:</div>
<div class="line"><span class="lineno">  308</span>        line = line.rstrip()</div>
<div class="line"><span class="lineno">  309</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> line:</div>
<div class="line"><span class="lineno">  310</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  311</span>        <span class="keywordflow">if</span> line.startswith(b<span class="stringliteral">&#39;EndComposites&#39;</span>):</div>
<div class="line"><span class="lineno">  312</span>            <span class="keywordflow">return</span> composites</div>
<div class="line"><span class="lineno">  313</span>        vals = line.split(b<span class="stringliteral">&#39;;&#39;</span>)</div>
<div class="line"><span class="lineno">  314</span>        cc = vals[0].split()</div>
<div class="line"><span class="lineno">  315</span>        name, _num_parts = cc[1], _to_int(cc[2])</div>
<div class="line"><span class="lineno">  316</span>        pccParts = []</div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">for</span> s <span class="keywordflow">in</span> vals[1:-1]:</div>
<div class="line"><span class="lineno">  318</span>            pcc = s.split()</div>
<div class="line"><span class="lineno">  319</span>            part = CompositePart(pcc[1], _to_float(pcc[2]), _to_float(pcc[3]))</div>
<div class="line"><span class="lineno">  320</span>            pccParts.append(part)</div>
<div class="line"><span class="lineno">  321</span>        composites[name] = pccParts</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>    <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Bad composites parse&#39;</span>)</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a10cba438514fca2f1f9d4bd77e621541" name="a10cba438514fca2f1f9d4bd77e621541"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10cba438514fca2f1f9d4bd77e621541">&#9670;&#160;</a></span>_parse_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._parse_header </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Read the font metrics header (up to the char metrics) and returns
a dictionary mapping *key* to *val*.  *val* will be converted to the
appropriate python type as necessary; e.g.:

    * 'False'-&gt;False
    * '0'-&gt;0
    * '-168 -218 1000 898'-&gt; [-168, -218, 1000, 898]

Dictionary keys are

  StartFontMetrics, FontName, FullName, FamilyName, Weight,
  ItalicAngle, IsFixedPitch, FontBBox, UnderlinePosition,
  UnderlineThickness, Version, Notice, EncodingScheme, CapHeight,
  XHeight, Ascender, Descender, StartCharMetrics
</pre> <div class="fragment"><div class="line"><span class="lineno">   88</span><span class="keyword">def </span>_parse_header(fh):</div>
<div class="line"><span class="lineno">   89</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral">    Read the font metrics header (up to the char metrics) and returns</span></div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral">    a dictionary mapping *key* to *val*.  *val* will be converted to the</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">    appropriate python type as necessary; e.g.:</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">        * &#39;False&#39;-&gt;False</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">        * &#39;0&#39;-&gt;0</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">        * &#39;-168 -218 1000 898&#39;-&gt; [-168, -218, 1000, 898]</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">    Dictionary keys are</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">      StartFontMetrics, FontName, FullName, FamilyName, Weight,</span></div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">      ItalicAngle, IsFixedPitch, FontBBox, UnderlinePosition,</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral">      UnderlineThickness, Version, Notice, EncodingScheme, CapHeight,</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">      XHeight, Ascender, Descender, StartCharMetrics</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  105</span>    header_converters = {</div>
<div class="line"><span class="lineno">  106</span>        b<span class="stringliteral">&#39;StartFontMetrics&#39;</span>: _to_float,</div>
<div class="line"><span class="lineno">  107</span>        b<span class="stringliteral">&#39;FontName&#39;</span>: _to_str,</div>
<div class="line"><span class="lineno">  108</span>        b<span class="stringliteral">&#39;FullName&#39;</span>: _to_str,</div>
<div class="line"><span class="lineno">  109</span>        b<span class="stringliteral">&#39;FamilyName&#39;</span>: _to_str,</div>
<div class="line"><span class="lineno">  110</span>        b<span class="stringliteral">&#39;Weight&#39;</span>: _to_str,</div>
<div class="line"><span class="lineno">  111</span>        b<span class="stringliteral">&#39;ItalicAngle&#39;</span>: _to_float,</div>
<div class="line"><span class="lineno">  112</span>        b<span class="stringliteral">&#39;IsFixedPitch&#39;</span>: _to_bool,</div>
<div class="line"><span class="lineno">  113</span>        b<span class="stringliteral">&#39;FontBBox&#39;</span>: _to_list_of_ints,</div>
<div class="line"><span class="lineno">  114</span>        b<span class="stringliteral">&#39;UnderlinePosition&#39;</span>: _to_float,</div>
<div class="line"><span class="lineno">  115</span>        b<span class="stringliteral">&#39;UnderlineThickness&#39;</span>: _to_float,</div>
<div class="line"><span class="lineno">  116</span>        b<span class="stringliteral">&#39;Version&#39;</span>: _to_str,</div>
<div class="line"><span class="lineno">  117</span>        <span class="comment"># Some AFM files have non-ASCII characters (which are not allowed by</span></div>
<div class="line"><span class="lineno">  118</span>        <span class="comment"># the spec).  Given that there is actually no public API to even access</span></div>
<div class="line"><span class="lineno">  119</span>        <span class="comment"># this field, just return it as straight bytes.</span></div>
<div class="line"><span class="lineno">  120</span>        b<span class="stringliteral">&#39;Notice&#39;</span>: <span class="keyword">lambda</span> x: x,</div>
<div class="line"><span class="lineno">  121</span>        b<span class="stringliteral">&#39;EncodingScheme&#39;</span>: _to_str,</div>
<div class="line"><span class="lineno">  122</span>        b<span class="stringliteral">&#39;CapHeight&#39;</span>: _to_float,  <span class="comment"># Is the second version a mistake, or</span></div>
<div class="line"><span class="lineno">  123</span>        b<span class="stringliteral">&#39;Capheight&#39;</span>: _to_float,  <span class="comment"># do some AFM files contain &#39;Capheight&#39;? -JKS</span></div>
<div class="line"><span class="lineno">  124</span>        b<span class="stringliteral">&#39;XHeight&#39;</span>: _to_float,</div>
<div class="line"><span class="lineno">  125</span>        b<span class="stringliteral">&#39;Ascender&#39;</span>: _to_float,</div>
<div class="line"><span class="lineno">  126</span>        b<span class="stringliteral">&#39;Descender&#39;</span>: _to_float,</div>
<div class="line"><span class="lineno">  127</span>        b<span class="stringliteral">&#39;StdHW&#39;</span>: _to_float,</div>
<div class="line"><span class="lineno">  128</span>        b<span class="stringliteral">&#39;StdVW&#39;</span>: _to_float,</div>
<div class="line"><span class="lineno">  129</span>        b<span class="stringliteral">&#39;StartCharMetrics&#39;</span>: _to_int,</div>
<div class="line"><span class="lineno">  130</span>        b<span class="stringliteral">&#39;CharacterSet&#39;</span>: _to_str,</div>
<div class="line"><span class="lineno">  131</span>        b<span class="stringliteral">&#39;Characters&#39;</span>: _to_int,</div>
<div class="line"><span class="lineno">  132</span>    }</div>
<div class="line"><span class="lineno">  133</span>    d = {}</div>
<div class="line"><span class="lineno">  134</span>    first_line = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">for</span> line <span class="keywordflow">in</span> fh:</div>
<div class="line"><span class="lineno">  136</span>        line = line.rstrip()</div>
<div class="line"><span class="lineno">  137</span>        <span class="keywordflow">if</span> line.startswith(b<span class="stringliteral">&#39;Comment&#39;</span>):</div>
<div class="line"><span class="lineno">  138</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  139</span>        lst = line.split(b<span class="stringliteral">&#39; &#39;</span>, 1)</div>
<div class="line"><span class="lineno">  140</span>        key = lst[0]</div>
<div class="line"><span class="lineno">  141</span>        <span class="keywordflow">if</span> first_line:</div>
<div class="line"><span class="lineno">  142</span>            <span class="comment"># AFM spec, Section 4: The StartFontMetrics keyword</span></div>
<div class="line"><span class="lineno">  143</span>            <span class="comment"># [followed by a version number] must be the first line in</span></div>
<div class="line"><span class="lineno">  144</span>            <span class="comment"># the file, and the EndFontMetrics keyword must be the</span></div>
<div class="line"><span class="lineno">  145</span>            <span class="comment"># last non-empty line in the file.  We just check the</span></div>
<div class="line"><span class="lineno">  146</span>            <span class="comment"># first header entry.</span></div>
<div class="line"><span class="lineno">  147</span>            <span class="keywordflow">if</span> key != b<span class="stringliteral">&#39;StartFontMetrics&#39;</span>:</div>
<div class="line"><span class="lineno">  148</span>                <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Not an AFM file&#39;</span>)</div>
<div class="line"><span class="lineno">  149</span>            first_line = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  150</span>        <span class="keywordflow">if</span> len(lst) == 2:</div>
<div class="line"><span class="lineno">  151</span>            val = lst[1]</div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  153</span>            val = b<span class="stringliteral">&#39;&#39;</span></div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  155</span>            converter = header_converters[key]</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><span class="lineno">  157</span>            _log.error(<span class="stringliteral">&#39;Found an unknown keyword in AFM header (was %r)&#39;</span> % key)</div>
<div class="line"><span class="lineno">  158</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  160</span>            d[key] = converter(val)</div>
<div class="line"><span class="lineno">  161</span>        <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  162</span>            _log.error(<span class="stringliteral">&#39;Value error parsing header in AFM: %s, %s&#39;</span>, key, val)</div>
<div class="line"><span class="lineno">  163</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  164</span>        <span class="keywordflow">if</span> key == b<span class="stringliteral">&#39;StartCharMetrics&#39;</span>:</div>
<div class="line"><span class="lineno">  165</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  167</span>        <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Bad parse&#39;</span>)</div>
<div class="line"><span class="lineno">  168</span>    <span class="keywordflow">return</span> d</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae77b1ae356ebfdea97a9c766666392ce" name="ae77b1ae356ebfdea97a9c766666392ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae77b1ae356ebfdea97a9c766666392ce">&#9670;&#160;</a></span>_parse_kern_pairs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._parse_kern_pairs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return a kern pairs dictionary; keys are (*char1*, *char2*) tuples and
values are the kern pair value.  For example, a kern pairs line like
``KPX A y -50``

will be represented as::

  d[ ('A', 'y') ] = -50</pre> <div class="fragment"><div class="line"><span class="lineno">  240</span><span class="keyword">def </span>_parse_kern_pairs(fh):</div>
<div class="line"><span class="lineno">  241</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral">    Return a kern pairs dictionary; keys are (*char1*, *char2*) tuples and</span></div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral">    values are the kern pair value.  For example, a kern pairs line like</span></div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">    ``KPX A y -50``</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral">    will be represented as::</span></div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">      d[ (&#39;A&#39;, &#39;y&#39;) ] = -50</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    line = next(fh)</div>
<div class="line"><span class="lineno">  253</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> line.startswith(b<span class="stringliteral">&#39;StartKernPairs&#39;</span>):</div>
<div class="line"><span class="lineno">  254</span>        <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Bad start of kern pairs data: %s&#39;</span> % line)</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>    d = {}</div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">for</span> line <span class="keywordflow">in</span> fh:</div>
<div class="line"><span class="lineno">  258</span>        line = line.rstrip()</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> line:</div>
<div class="line"><span class="lineno">  260</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">if</span> line.startswith(b<span class="stringliteral">&#39;EndKernPairs&#39;</span>):</div>
<div class="line"><span class="lineno">  262</span>            next(fh)  <span class="comment"># EndKernData</span></div>
<div class="line"><span class="lineno">  263</span>            <span class="keywordflow">return</span> d</div>
<div class="line"><span class="lineno">  264</span>        vals = line.split()</div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">if</span> len(vals) != 4 <span class="keywordflow">or</span> vals[0] != b<span class="stringliteral">&#39;KPX&#39;</span>:</div>
<div class="line"><span class="lineno">  266</span>            <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Bad kern pairs line: %s&#39;</span> % line)</div>
<div class="line"><span class="lineno">  267</span>        c1, c2, val = _to_str(vals[1]), _to_str(vals[2]), _to_float(vals[3])</div>
<div class="line"><span class="lineno">  268</span>        d[(c1, c2)] = val</div>
<div class="line"><span class="lineno">  269</span>    <span class="keywordflow">raise</span> RuntimeError(<span class="stringliteral">&#39;Bad kern pairs parse&#39;</span>)</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a292220ddc55380d2d9633a9c851e0ef0" name="a292220ddc55380d2d9633a9c851e0ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a292220ddc55380d2d9633a9c851e0ef0">&#9670;&#160;</a></span>_parse_optional()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._parse_optional </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Parse the optional fields for kern pair data and composites.

Returns
-------
kern_data : dict
    A dict containing kerning information. May be empty.
    See `._parse_kern_pairs`.
composites : dict
    A dict containing composite information. May be empty.
    See `._parse_composites`.
</pre> <div class="fragment"><div class="line"><span class="lineno">  326</span><span class="keyword">def </span>_parse_optional(fh):</div>
<div class="line"><span class="lineno">  327</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  328</span><span class="stringliteral">    Parse the optional fields for kern pair data and composites.</span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral">    kern_data : dict</span></div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral">        A dict containing kerning information. May be empty.</span></div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">        See `._parse_kern_pairs`.</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral">    composites : dict</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">        A dict containing composite information. May be empty.</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">        See `._parse_composites`.</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  339</span>    optional = {</div>
<div class="line"><span class="lineno">  340</span>        b<span class="stringliteral">&#39;StartKernData&#39;</span>: _parse_kern_pairs,</div>
<div class="line"><span class="lineno">  341</span>        b<span class="stringliteral">&#39;StartComposites&#39;</span>:  _parse_composites,</div>
<div class="line"><span class="lineno">  342</span>        }</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    d = {b<span class="stringliteral">&#39;StartKernData&#39;</span>: {},</div>
<div class="line"><span class="lineno">  345</span>         b<span class="stringliteral">&#39;StartComposites&#39;</span>: {}}</div>
<div class="line"><span class="lineno">  346</span>    <span class="keywordflow">for</span> line <span class="keywordflow">in</span> fh:</div>
<div class="line"><span class="lineno">  347</span>        line = line.rstrip()</div>
<div class="line"><span class="lineno">  348</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> line:</div>
<div class="line"><span class="lineno">  349</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  350</span>        key = line.split()[0]</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>        <span class="keywordflow">if</span> key <span class="keywordflow">in</span> optional:</div>
<div class="line"><span class="lineno">  353</span>            d[key] = optional[key](fh)</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">return</span> d[b<span class="stringliteral">&#39;StartKernData&#39;</span>], d[b<span class="stringliteral">&#39;StartComposites&#39;</span>]</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="addc8cdc7e6abf4f5edf87865474c5430" name="addc8cdc7e6abf4f5edf87865474c5430"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addc8cdc7e6abf4f5edf87865474c5430">&#9670;&#160;</a></span>_to_bool()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._to_bool </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   81</span><span class="keyword">def </span>_to_bool(s):</div>
<div class="line"><span class="lineno">   82</span>    <span class="keywordflow">if</span> s.lower().strip() <span class="keywordflow">in</span> (b<span class="stringliteral">&#39;false&#39;</span>, b<span class="stringliteral">&#39;0&#39;</span>, b<span class="stringliteral">&#39;no&#39;</span>):</div>
<div class="line"><span class="lineno">   83</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   85</span>        <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab8d875d56cfffe564d7a4e6603fb83cc" name="ab8d875d56cfffe564d7a4e6603fb83cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8d875d56cfffe564d7a4e6603fb83cc">&#9670;&#160;</a></span>_to_float()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._to_float </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   57</span><span class="keyword">def </span>_to_float(x):</div>
<div class="line"><span class="lineno">   58</span>    <span class="comment"># Some AFM files use &quot;,&quot; instead of &quot;.&quot; as decimal separator -- this</span></div>
<div class="line"><span class="lineno">   59</span>    <span class="comment"># shouldn&#39;t be ambiguous (unless someone is wicked enough to use &quot;,&quot; as</span></div>
<div class="line"><span class="lineno">   60</span>    <span class="comment"># thousands separator...).</span></div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordflow">if</span> isinstance(x, bytes):</div>
<div class="line"><span class="lineno">   62</span>        <span class="comment"># Encoding doesn&#39;t really matter -- if we have codepoints &gt;127 the call</span></div>
<div class="line"><span class="lineno">   63</span>        <span class="comment"># to float() will error anyways.</span></div>
<div class="line"><span class="lineno">   64</span>        x = x.decode(<span class="stringliteral">&#39;latin-1&#39;</span>)</div>
<div class="line"><span class="lineno">   65</span>    <span class="keywordflow">return</span> float(x.replace(<span class="stringliteral">&#39;,&#39;</span>, <span class="stringliteral">&#39;.&#39;</span>))</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa8a2079efb331074ee265a76c05c61a9" name="aa8a2079efb331074ee265a76c05c61a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8a2079efb331074ee265a76c05c61a9">&#9670;&#160;</a></span>_to_int()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._to_int </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   48</span><span class="keyword">def </span>_to_int(x):</div>
<div class="line"><span class="lineno">   49</span>    <span class="comment"># Some AFM files have floats where we are expecting ints -- there is</span></div>
<div class="line"><span class="lineno">   50</span>    <span class="comment"># probably a better way to handle this (support floats, round rather than</span></div>
<div class="line"><span class="lineno">   51</span>    <span class="comment"># truncate).  But I don&#39;t know what the best approach is now and this</span></div>
<div class="line"><span class="lineno">   52</span>    <span class="comment"># change to _to_int should at least prevent Matplotlib from crashing on</span></div>
<div class="line"><span class="lineno">   53</span>    <span class="comment"># these.  JDH (2009-11-06)</span></div>
<div class="line"><span class="lineno">   54</span>    <span class="keywordflow">return</span> int(float(x))</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a958123063c5aeaaff8d8d8ec57af1e92" name="a958123063c5aeaaff8d8d8ec57af1e92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a958123063c5aeaaff8d8d8ec57af1e92">&#9670;&#160;</a></span>_to_list_of_floats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._to_list_of_floats </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   77</span><span class="keyword">def </span>_to_list_of_floats(s):</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">return</span> [_to_float(val) <span class="keywordflow">for</span> val <span class="keywordflow">in</span> s.split()]</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a076d19284cdd9addbbb6682fa58da220" name="a076d19284cdd9addbbb6682fa58da220"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a076d19284cdd9addbbb6682fa58da220">&#9670;&#160;</a></span>_to_list_of_ints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._to_list_of_ints </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   72</span><span class="keyword">def </span>_to_list_of_ints(s):</div>
<div class="line"><span class="lineno">   73</span>    s = s.replace(b<span class="stringliteral">&#39;,&#39;</span>, b<span class="stringliteral">&#39; &#39;</span>)</div>
<div class="line"><span class="lineno">   74</span>    <span class="keywordflow">return</span> [_to_int(val) <span class="keywordflow">for</span> val <span class="keywordflow">in</span> s.split()]</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a97cbc5503f47ce621728518f861151ac" name="a97cbc5503f47ce621728518f861151ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97cbc5503f47ce621728518f861151ac">&#9670;&#160;</a></span>_to_str()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._to_str </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   68</span><span class="keyword">def </span>_to_str(x):</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">return</span> x.decode(<span class="stringliteral">&#39;utf8&#39;</span>)</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3cedd0a3e0c4b12165961815635eb955" name="a3cedd0a3e0c4b12165961815635eb955"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cedd0a3e0c4b12165961815635eb955">&#9670;&#160;</a></span>_log</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm._log = logging.getLogger(__name__)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a20f4ca941a66484730962d6cba44a43a" name="a20f4ca941a66484730962d6cba44a43a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a20f4ca941a66484730962d6cba44a43a">&#9670;&#160;</a></span>CharMetrics</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm.CharMetrics = namedtuple('CharMetrics', 'width, name, bbox')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af40ce472f36a0b685bfab58649487bad" name="af40ce472f36a0b685bfab58649487bad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af40ce472f36a0b685bfab58649487bad">&#9670;&#160;</a></span>CompositePart</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib._afm.CompositePart = namedtuple('CompositePart', 'name, <a class="el" href="__blas__subroutines_8h.html#a6b1e36c081feb196285c9fc4062b28ed">dx</a>, <a class="el" href="__blas__subroutines_8h.html#a4a2b3b2b516fb809de151aa9dfb5cd78">dy</a>')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
