<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.tests.test_expressions.TestExpressions Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1test__expressions.html">test_expressions</a></li><li class="navelem"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html">TestExpressions</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">pandas.tests.test_expressions.TestExpressions Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a072d738e3de239c20fef6a44bf1ca25a" id="r_a072d738e3de239c20fef6a44bf1ca25a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#a072d738e3de239c20fef6a44bf1ca25a">setup_method</a> (self)</td></tr>
<tr class="separator:a072d738e3de239c20fef6a44bf1ca25a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e01f936752780f4b483c7fb714ca57e" id="r_a8e01f936752780f4b483c7fb714ca57e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#a8e01f936752780f4b483c7fb714ca57e">teardown_method</a> (self)</td></tr>
<tr class="separator:a8e01f936752780f4b483c7fb714ca57e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8376aa773510e8c9ea506b8cc060f017" id="r_a8376aa773510e8c9ea506b8cc060f017"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#a8376aa773510e8c9ea506b8cc060f017">test_run_arithmetic</a> (self, <a class="el" href="__lapack__subroutines_8h.html#a2a33a012da63c0be8f0f3845c10bf577">df</a>, flex, arith)</td></tr>
<tr class="separator:a8376aa773510e8c9ea506b8cc060f017"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4290ecef431acb21848aba22ab55aff5" id="r_a4290ecef431acb21848aba22ab55aff5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#a4290ecef431acb21848aba22ab55aff5">test_run_binary</a> (self, <a class="el" href="__lapack__subroutines_8h.html#a2a33a012da63c0be8f0f3845c10bf577">df</a>, flex, comparison_op)</td></tr>
<tr class="separator:a4290ecef431acb21848aba22ab55aff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08ea7f65ef404deaab3d2142d8d5224c" id="r_a08ea7f65ef404deaab3d2142d8d5224c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#a08ea7f65ef404deaab3d2142d8d5224c">test_invalid</a> (self)</td></tr>
<tr class="separator:a08ea7f65ef404deaab3d2142d8d5224c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cbe620faba9697378c45b4698929b30" id="r_a1cbe620faba9697378c45b4698929b30"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#a1cbe620faba9697378c45b4698929b30">test_binary_ops</a> (self, opname, op_str, left, right)</td></tr>
<tr class="separator:a1cbe620faba9697378c45b4698929b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a569c23e080ee4ceb22bb6edf88f7bf8e" id="r_a569c23e080ee4ceb22bb6edf88f7bf8e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#a569c23e080ee4ceb22bb6edf88f7bf8e">test_comparison_ops</a> (self, opname, op_str, left, right)</td></tr>
<tr class="separator:a569c23e080ee4ceb22bb6edf88f7bf8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798cad7453d8d73e3a5dc552a6d1baf4" id="r_a798cad7453d8d73e3a5dc552a6d1baf4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#a798cad7453d8d73e3a5dc552a6d1baf4">test_where</a> (self, cond, <a class="el" href="__lapack__subroutines_8h.html#a2a33a012da63c0be8f0f3845c10bf577">df</a>)</td></tr>
<tr class="separator:a798cad7453d8d73e3a5dc552a6d1baf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd5fdf29cd4379dd5f68b588aad99486" id="r_abd5fdf29cd4379dd5f68b588aad99486"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#abd5fdf29cd4379dd5f68b588aad99486">test_bool_ops_raise_on_arithmetic</a> (self, op_str, opname)</td></tr>
<tr class="separator:abd5fdf29cd4379dd5f68b588aad99486"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aded6ab5fcee1482a409129eecb78b176" id="r_aded6ab5fcee1482a409129eecb78b176"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#aded6ab5fcee1482a409129eecb78b176">test_bool_ops_warn_on_arithmetic</a> (self, op_str, opname)</td></tr>
<tr class="separator:aded6ab5fcee1482a409129eecb78b176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abde0b91f0d4c9a11453f0604f1a9981f" id="r_abde0b91f0d4c9a11453f0604f1a9981f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#abde0b91f0d4c9a11453f0604f1a9981f">test_bool_ops_column_name_dtype</a> (self, test_input, expected)</td></tr>
<tr class="separator:abde0b91f0d4c9a11453f0604f1a9981f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade4b7ca797525da77f42597791729184" id="r_ade4b7ca797525da77f42597791729184"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#ade4b7ca797525da77f42597791729184">test_frame_series_axis</a> (self, axis, arith)</td></tr>
<tr class="separator:ade4b7ca797525da77f42597791729184"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e26c5467e64c650da1799b83ae780d0" id="r_a9e26c5467e64c650da1799b83ae780d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#a9e26c5467e64c650da1799b83ae780d0">test_python_semantics_with_numexpr_installed</a> (self, op, box, scalar)</td></tr>
<tr class="separator:a9e26c5467e64c650da1799b83ae780d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a7a069d7be34294a9236f358a493d0f60" id="r_a7a069d7be34294a9236f358a493d0f60"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#a7a069d7be34294a9236f358a493d0f60">call_op</a> (<a class="el" href="__lapack__subroutines_8h.html#a2a33a012da63c0be8f0f3845c10bf577">df</a>, other, bool flex, str opname)</td></tr>
<tr class="separator:a7a069d7be34294a9236f358a493d0f60"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6662578f4a32c97305852388773b6a00" id="r_a6662578f4a32c97305852388773b6a00"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1test__expressions_1_1_test_expressions.html#a6662578f4a32c97305852388773b6a00">_MIN_ELEMENTS</a></td></tr>
<tr class="separator:a6662578f4a32c97305852388773b6a00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a7a069d7be34294a9236f358a493d0f60" name="a7a069d7be34294a9236f358a493d0f60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a069d7be34294a9236f358a493d0f60">&#9670;&#160;</a></span>call_op()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.call_op </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>flex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>opname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   57</span>    <span class="keyword">def </span>call_op(df, other, flex: bool, opname: str):</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">if</span> flex:</div>
<div class="line"><span class="lineno">   59</span>            op = <span class="keyword">lambda</span> x, y: getattr(x, opname)(y)</div>
<div class="line"><span class="lineno">   60</span>            op.__name__ = opname</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   62</span>            op = getattr(operator, opname)</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>        <span class="keyword">with</span> option_context(<span class="stringliteral">&quot;compute.use_numexpr&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">   65</span>            expected = op(df, other)</div>
<div class="line"><span class="lineno">   66</span> </div>
<div class="line"><span class="lineno">   67</span>        expr.get_test_result()</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>        result = op(df, other)</div>
<div class="line"><span class="lineno">   70</span>        <span class="keywordflow">return</span> result, expected</div>
<div class="line"><span class="lineno">   71</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a072d738e3de239c20fef6a44bf1ca25a" name="a072d738e3de239c20fef6a44bf1ca25a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a072d738e3de239c20fef6a44bf1ca25a">&#9670;&#160;</a></span>setup_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.setup_method </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   50</span>    <span class="keyword">def </span>setup_method(self):</div>
<div class="line"><span class="lineno">   51</span>        self._MIN_ELEMENTS = expr._MIN_ELEMENTS</div>
<div class="line"><span class="lineno">   52</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8e01f936752780f4b483c7fb714ca57e" name="a8e01f936752780f4b483c7fb714ca57e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e01f936752780f4b483c7fb714ca57e">&#9670;&#160;</a></span>teardown_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.teardown_method </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   53</span>    <span class="keyword">def </span>teardown_method(self):</div>
<div class="line"><span class="lineno">   54</span>        expr._MIN_ELEMENTS = self._MIN_ELEMENTS</div>
<div class="line"><span class="lineno">   55</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1cbe620faba9697378c45b4698929b30" name="a1cbe620faba9697378c45b4698929b30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1cbe620faba9697378c45b4698929b30">&#9670;&#160;</a></span>test_binary_ops()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.test_binary_ops </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>op_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  165</span>    <span class="keyword">def </span>test_binary_ops(self, opname, op_str, left, right):</div>
<div class="line"><span class="lineno">  166</span>        <span class="keyword">def </span>testit():</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>            <span class="keywordflow">if</span> opname == <span class="stringliteral">&quot;pow&quot;</span>:</div>
<div class="line"><span class="lineno">  169</span>                <span class="comment"># TODO: get this working</span></div>
<div class="line"><span class="lineno">  170</span>                <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>            op = getattr(operator, opname)</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>            <span class="keyword">with</span> warnings.catch_warnings():</div>
<div class="line"><span class="lineno">  175</span>                <span class="comment"># array has 0s</span></div>
<div class="line"><span class="lineno">  176</span>                msg = <span class="stringliteral">&quot;invalid value encountered in true_divide&quot;</span></div>
<div class="line"><span class="lineno">  177</span>                warnings.filterwarnings(<span class="stringliteral">&quot;ignore&quot;</span>, msg, RuntimeWarning)</div>
<div class="line"><span class="lineno">  178</span>                result = expr.evaluate(op, left, left, use_numexpr=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  179</span>                expected = expr.evaluate(op, left, left, use_numexpr=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  180</span>            tm.assert_numpy_array_equal(result, expected)</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>            result = expr._can_use_numexpr(op, op_str, right, right, <span class="stringliteral">&quot;evaluate&quot;</span>)</div>
<div class="line"><span class="lineno">  183</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> result</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>        <span class="keyword">with</span> option_context(<span class="stringliteral">&quot;compute.use_numexpr&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  186</span>            testit()</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>        expr.set_numexpr_threads(1)</div>
<div class="line"><span class="lineno">  189</span>        testit()</div>
<div class="line"><span class="lineno">  190</span>        expr.set_numexpr_threads()</div>
<div class="line"><span class="lineno">  191</span>        testit()</div>
<div class="line"><span class="lineno">  192</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abde0b91f0d4c9a11453f0604f1a9981f" name="abde0b91f0d4c9a11453f0604f1a9981f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abde0b91f0d4c9a11453f0604f1a9981f">&#9670;&#160;</a></span>test_bool_ops_column_name_dtype()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.test_bool_ops_column_name_dtype </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>test_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  344</span>    <span class="keyword">def </span>test_bool_ops_column_name_dtype(self, test_input, expected):</div>
<div class="line"><span class="lineno">  345</span>        <span class="comment"># GH 22383 - .ne fails if columns containing column name &#39;dtype&#39;</span></div>
<div class="line"><span class="lineno">  346</span>        result = test_input.loc[:, [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;dtype&quot;</span>]].ne(test_input.loc[:, [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;dtype&quot;</span>]])</div>
<div class="line"><span class="lineno">  347</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  348</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abd5fdf29cd4379dd5f68b588aad99486" name="abd5fdf29cd4379dd5f68b588aad99486"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd5fdf29cd4379dd5f68b588aad99486">&#9670;&#160;</a></span>test_bool_ops_raise_on_arithmetic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.test_bool_ops_raise_on_arithmetic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>op_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  250</span>    <span class="keyword">def </span>test_bool_ops_raise_on_arithmetic(self, op_str, opname):</div>
<div class="line"><span class="lineno">  251</span>        df = DataFrame({<span class="stringliteral">&quot;a&quot;</span>: np.random.rand(10) &gt; 0.5, <span class="stringliteral">&quot;b&quot;</span>: np.random.rand(10) &gt; 0.5})</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>        msg = f<span class="stringliteral">&quot;operator &#39;{opname}&#39; not implemented for bool dtypes&quot;</span></div>
<div class="line"><span class="lineno">  254</span>        f = getattr(operator, opname)</div>
<div class="line"><span class="lineno">  255</span>        err_msg = re.escape(msg)</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>        <span class="keyword">with</span> pytest.raises(NotImplementedError, match=err_msg):</div>
<div class="line"><span class="lineno">  258</span>            <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(df, df)</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>        <span class="keyword">with</span> pytest.raises(NotImplementedError, match=err_msg):</div>
<div class="line"><span class="lineno">  261</span>            <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(df.a, df.b)</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>        <span class="keyword">with</span> pytest.raises(NotImplementedError, match=err_msg):</div>
<div class="line"><span class="lineno">  264</span>            <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(df.a, <span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>        <span class="keyword">with</span> pytest.raises(NotImplementedError, match=err_msg):</div>
<div class="line"><span class="lineno">  267</span>            <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(<span class="keyword">False</span>, df.a)</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>        <span class="keyword">with</span> pytest.raises(NotImplementedError, match=err_msg):</div>
<div class="line"><span class="lineno">  270</span>            <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(<span class="keyword">False</span>, df)</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>        <span class="keyword">with</span> pytest.raises(NotImplementedError, match=err_msg):</div>
<div class="line"><span class="lineno">  273</span>            <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(df, <span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_af01a903df7bdb7a494f5827e45bf3a2a"><div class="ttname"><a href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a></div><div class="ttdeci">void int int int int npy_complex64 int int npy_complex64 float float npy_complex64 npy_complex64 * f</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:262</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aded6ab5fcee1482a409129eecb78b176" name="aded6ab5fcee1482a409129eecb78b176"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aded6ab5fcee1482a409129eecb78b176">&#9670;&#160;</a></span>test_bool_ops_warn_on_arithmetic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.test_bool_ops_warn_on_arithmetic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>op_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  278</span>    <span class="keyword">def </span>test_bool_ops_warn_on_arithmetic(self, op_str, opname):</div>
<div class="line"><span class="lineno">  279</span>        n = 10</div>
<div class="line"><span class="lineno">  280</span>        df = DataFrame({<span class="stringliteral">&quot;a&quot;</span>: np.random.rand(n) &gt; 0.5, <span class="stringliteral">&quot;b&quot;</span>: np.random.rand(n) &gt; 0.5})</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>        subs = {<span class="stringliteral">&quot;+&quot;</span>: <span class="stringliteral">&quot;|&quot;</span>, <span class="stringliteral">&quot;*&quot;</span>: <span class="stringliteral">&quot;&amp;&quot;</span>, <span class="stringliteral">&quot;-&quot;</span>: <span class="stringliteral">&quot;^&quot;</span>}</div>
<div class="line"><span class="lineno">  283</span>        sub_funcs = {<span class="stringliteral">&quot;|&quot;</span>: <span class="stringliteral">&quot;or_&quot;</span>, <span class="stringliteral">&quot;&amp;&quot;</span>: <span class="stringliteral">&quot;and_&quot;</span>, <span class="stringliteral">&quot;^&quot;</span>: <span class="stringliteral">&quot;xor&quot;</span>}</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>        f = getattr(operator, opname)</div>
<div class="line"><span class="lineno">  286</span>        fe = getattr(operator, sub_funcs[subs[op_str]])</div>
<div class="line"><span class="lineno">  287</span> </div>
<div class="line"><span class="lineno">  288</span>        <span class="keywordflow">if</span> op_str == <span class="stringliteral">&quot;-&quot;</span>:</div>
<div class="line"><span class="lineno">  289</span>            <span class="comment"># raises TypeError</span></div>
<div class="line"><span class="lineno">  290</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>        <span class="keyword">with</span> tm.use_numexpr(<span class="keyword">True</span>, min_elements=5):</div>
<div class="line"><span class="lineno">  293</span>            <span class="keyword">with</span> tm.assert_produces_warning():</div>
<div class="line"><span class="lineno">  294</span>                r = <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(df, df)</div>
<div class="line"><span class="lineno">  295</span>                e = fe(df, df)</div>
<div class="line"><span class="lineno">  296</span>                tm.assert_frame_equal(r, e)</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>            <span class="keyword">with</span> tm.assert_produces_warning():</div>
<div class="line"><span class="lineno">  299</span>                r = <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(df.a, df.b)</div>
<div class="line"><span class="lineno">  300</span>                e = fe(df.a, df.b)</div>
<div class="line"><span class="lineno">  301</span>                tm.assert_series_equal(r, e)</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>            <span class="keyword">with</span> tm.assert_produces_warning():</div>
<div class="line"><span class="lineno">  304</span>                r = <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(df.a, <span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  305</span>                e = fe(df.a, <span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  306</span>                tm.assert_series_equal(r, e)</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>            <span class="keyword">with</span> tm.assert_produces_warning():</div>
<div class="line"><span class="lineno">  309</span>                r = <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(<span class="keyword">False</span>, df.a)</div>
<div class="line"><span class="lineno">  310</span>                e = fe(<span class="keyword">False</span>, df.a)</div>
<div class="line"><span class="lineno">  311</span>                tm.assert_series_equal(r, e)</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>            <span class="keyword">with</span> tm.assert_produces_warning():</div>
<div class="line"><span class="lineno">  314</span>                r = <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(<span class="keyword">False</span>, df)</div>
<div class="line"><span class="lineno">  315</span>                e = fe(<span class="keyword">False</span>, df)</div>
<div class="line"><span class="lineno">  316</span>                tm.assert_frame_equal(r, e)</div>
<div class="line"><span class="lineno">  317</span> </div>
<div class="line"><span class="lineno">  318</span>            <span class="keyword">with</span> tm.assert_produces_warning():</div>
<div class="line"><span class="lineno">  319</span>                r = <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(df, <span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  320</span>                e = fe(df, <span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  321</span>                tm.assert_frame_equal(r, e)</div>
<div class="line"><span class="lineno">  322</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a569c23e080ee4ceb22bb6edf88f7bf8e" name="a569c23e080ee4ceb22bb6edf88f7bf8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a569c23e080ee4ceb22bb6edf88f7bf8e">&#9670;&#160;</a></span>test_comparison_ops()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.test_comparison_ops </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>op_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>left</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>right</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  207</span>    <span class="keyword">def </span>test_comparison_ops(self, opname, op_str, left, right):</div>
<div class="line"><span class="lineno">  208</span>        <span class="keyword">def </span>testit():</div>
<div class="line"><span class="lineno">  209</span>            f12 = left + 1</div>
<div class="line"><span class="lineno">  210</span>            f22 = right + 1</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>            op = getattr(operator, opname)</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>            result = expr.evaluate(op, left, f12, use_numexpr=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  215</span>            expected = expr.evaluate(op, left, f12, use_numexpr=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  216</span>            tm.assert_numpy_array_equal(result, expected)</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>            result = expr._can_use_numexpr(op, op_str, right, f22, <span class="stringliteral">&quot;evaluate&quot;</span>)</div>
<div class="line"><span class="lineno">  219</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> result</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>        <span class="keyword">with</span> option_context(<span class="stringliteral">&quot;compute.use_numexpr&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  222</span>            testit()</div>
<div class="line"><span class="lineno">  223</span> </div>
<div class="line"><span class="lineno">  224</span>        expr.set_numexpr_threads(1)</div>
<div class="line"><span class="lineno">  225</span>        testit()</div>
<div class="line"><span class="lineno">  226</span>        expr.set_numexpr_threads()</div>
<div class="line"><span class="lineno">  227</span>        testit()</div>
<div class="line"><span class="lineno">  228</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ade4b7ca797525da77f42597791729184" name="ade4b7ca797525da77f42597791729184"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade4b7ca797525da77f42597791729184">&#9670;&#160;</a></span>test_frame_series_axis()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.test_frame_series_axis </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>axis</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arith</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  353</span>    <span class="keyword">def </span>test_frame_series_axis(self, axis, arith):</div>
<div class="line"><span class="lineno">  354</span>        <span class="comment"># GH#26736 Dataframe.floordiv(Series, axis=1) fails</span></div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>        df = _frame</div>
<div class="line"><span class="lineno">  357</span>        <span class="keywordflow">if</span> axis == 1:</div>
<div class="line"><span class="lineno">  358</span>            other = df.iloc[0, :]</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  360</span>            other = df.iloc[:, 0]</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>        expr._MIN_ELEMENTS = 0</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>        op_func = getattr(df, arith)</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span>        <span class="keyword">with</span> option_context(<span class="stringliteral">&quot;compute.use_numexpr&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  367</span>            expected = op_func(other, axis=axis)</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>        result = op_func(other, axis=axis)</div>
<div class="line"><span class="lineno">  370</span>        tm.assert_frame_equal(expected, result)</div>
<div class="line"><span class="lineno">  371</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a08ea7f65ef404deaab3d2142d8d5224c" name="a08ea7f65ef404deaab3d2142d8d5224c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a08ea7f65ef404deaab3d2142d8d5224c">&#9670;&#160;</a></span>test_invalid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.test_invalid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  142</span>    <span class="keyword">def </span>test_invalid(self):</div>
<div class="line"><span class="lineno">  143</span>        array = np.random.randn(1_000_001)</div>
<div class="line"><span class="lineno">  144</span>        array2 = np.random.randn(100)</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>        <span class="comment"># no op</span></div>
<div class="line"><span class="lineno">  147</span>        result = expr._can_use_numexpr(operator.add, <span class="keywordtype">None</span>, array, array, <span class="stringliteral">&quot;evaluate&quot;</span>)</div>
<div class="line"><span class="lineno">  148</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> result</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>        <span class="comment"># min elements</span></div>
<div class="line"><span class="lineno">  151</span>        result = expr._can_use_numexpr(operator.add, <span class="stringliteral">&quot;+&quot;</span>, array2, array2, <span class="stringliteral">&quot;evaluate&quot;</span>)</div>
<div class="line"><span class="lineno">  152</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> result</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>        <span class="comment"># ok, we only check on first part of expression</span></div>
<div class="line"><span class="lineno">  155</span>        result = expr._can_use_numexpr(operator.add, <span class="stringliteral">&quot;+&quot;</span>, array, array2, <span class="stringliteral">&quot;evaluate&quot;</span>)</div>
<div class="line"><span class="lineno">  156</span>        <span class="keyword">assert</span> result</div>
<div class="line"><span class="lineno">  157</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e26c5467e64c650da1799b83ae780d0" name="a9e26c5467e64c650da1799b83ae780d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e26c5467e64c650da1799b83ae780d0">&#9670;&#160;</a></span>test_python_semantics_with_numexpr_installed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.test_python_semantics_with_numexpr_installed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scalar</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  383</span>    <span class="keyword">def </span>test_python_semantics_with_numexpr_installed(self, op, box, scalar):</div>
<div class="line"><span class="lineno">  384</span>        <span class="comment"># https://github.com/pandas-dev/pandas/issues/36047</span></div>
<div class="line"><span class="lineno">  385</span>        expr._MIN_ELEMENTS = 0</div>
<div class="line"><span class="lineno">  386</span>        data = np.arange(-50, 50)</div>
<div class="line"><span class="lineno">  387</span>        obj = box(data)</div>
<div class="line"><span class="lineno">  388</span>        method = getattr(obj, op)</div>
<div class="line"><span class="lineno">  389</span>        result = method(scalar)</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>        <span class="comment"># compare result with numpy</span></div>
<div class="line"><span class="lineno">  392</span>        <span class="keyword">with</span> option_context(<span class="stringliteral">&quot;compute.use_numexpr&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  393</span>            expected = method(scalar)</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>        tm.assert_equal(result, expected)</div>
<div class="line"><span class="lineno">  396</span> </div>
<div class="line"><span class="lineno">  397</span>        <span class="comment"># compare result element-wise with Python</span></div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordflow">for</span> i, elem <span class="keywordflow">in</span> enumerate(data):</div>
<div class="line"><span class="lineno">  399</span>            <span class="keywordflow">if</span> box == DataFrame:</div>
<div class="line"><span class="lineno">  400</span>                scalar_result = result.iloc[i, 0]</div>
<div class="line"><span class="lineno">  401</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  402</span>                scalar_result = result[i]</div>
<div class="line"><span class="lineno">  403</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  404</span>                expected = getattr(int(elem), op)(scalar)</div>
<div class="line"><span class="lineno">  405</span>            <span class="keywordflow">except</span> ZeroDivisionError:</div>
<div class="line"><span class="lineno">  406</span>                <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  407</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  408</span>                <span class="keyword">assert</span> scalar_result == expected</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8376aa773510e8c9ea506b8cc060f017" name="a8376aa773510e8c9ea506b8cc060f017"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8376aa773510e8c9ea506b8cc060f017">&#9670;&#160;</a></span>test_run_arithmetic()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.test_run_arithmetic </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>flex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arith</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   89</span>    <span class="keyword">def </span>test_run_arithmetic(self, df, flex, arith):</div>
<div class="line"><span class="lineno">   90</span>        expr._MIN_ELEMENTS = 0</div>
<div class="line"><span class="lineno">   91</span>        result, expected = self.call_op(df, df, flex, arith)</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">if</span> arith == <span class="stringliteral">&quot;truediv&quot;</span>:</div>
<div class="line"><span class="lineno">   94</span>            <span class="keyword">assert</span> all(x.kind == <span class="stringliteral">&quot;f&quot;</span> <span class="keywordflow">for</span> x <span class="keywordflow">in</span> expected.dtypes.values)</div>
<div class="line"><span class="lineno">   95</span>        tm.assert_equal(expected, result)</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(len(df.columns)):</div>
<div class="line"><span class="lineno">   98</span>            result, expected = self.call_op(df.iloc[:, i], df.iloc[:, i], flex, arith)</div>
<div class="line"><span class="lineno">   99</span>            <span class="keywordflow">if</span> arith == <span class="stringliteral">&quot;truediv&quot;</span>:</div>
<div class="line"><span class="lineno">  100</span>                <span class="keyword">assert</span> expected.dtype.kind == <span class="stringliteral">&quot;f&quot;</span></div>
<div class="line"><span class="lineno">  101</span>            tm.assert_equal(expected, result)</div>
<div class="line"><span class="lineno">  102</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4290ecef431acb21848aba22ab55aff5" name="a4290ecef431acb21848aba22ab55aff5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4290ecef431acb21848aba22ab55aff5">&#9670;&#160;</a></span>test_run_binary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.test_run_binary </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>flex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>comparison_op</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">tests solely that the result is the same whether or not numexpr is
enabled.  Need to test whether the function does the correct thing
elsewhere.
</pre> <div class="fragment"><div class="line"><span class="lineno">  117</span>    <span class="keyword">def </span>test_run_binary(self, df, flex, comparison_op):</div>
<div class="line"><span class="lineno">  118</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">        tests solely that the result is the same whether or not numexpr is</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">        enabled.  Need to test whether the function does the correct thing</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">        elsewhere.</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  123</span>        arith = comparison_op.__name__</div>
<div class="line"><span class="lineno">  124</span>        <span class="keyword">with</span> option_context(<span class="stringliteral">&quot;compute.use_numexpr&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  125</span>            other = df.copy() + 1</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>        expr._MIN_ELEMENTS = 0</div>
<div class="line"><span class="lineno">  128</span>        expr.set_test_mode(<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>        result, expected = self.call_op(df, other, flex, arith)</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>        used_numexpr = expr.get_test_result()</div>
<div class="line"><span class="lineno">  133</span>        <span class="keyword">assert</span> used_numexpr, <span class="stringliteral">&quot;Did not use numexpr as expected.&quot;</span></div>
<div class="line"><span class="lineno">  134</span>        tm.assert_equal(expected, result)</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>        <span class="comment"># FIXME: dont leave commented-out</span></div>
<div class="line"><span class="lineno">  137</span>        <span class="comment"># series doesn&#39;t uses vec_compare instead of numexpr...</span></div>
<div class="line"><span class="lineno">  138</span>        <span class="comment"># for i in range(len(df.columns)):</span></div>
<div class="line"><span class="lineno">  139</span>        <span class="comment">#     binary_comp = other.iloc[:, i] + 1</span></div>
<div class="line"><span class="lineno">  140</span>        <span class="comment">#     self.run_binary(df.iloc[:, i], binary_comp, flex)</span></div>
<div class="line"><span class="lineno">  141</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a798cad7453d8d73e3a5dc552a6d1baf4" name="a798cad7453d8d73e3a5dc552a6d1baf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798cad7453d8d73e3a5dc552a6d1baf4">&#9670;&#160;</a></span>test_where()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions.test_where </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cond</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>df</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  231</span>    <span class="keyword">def </span>test_where(self, cond, df):</div>
<div class="line"><span class="lineno">  232</span>        <span class="keyword">def </span>testit():</div>
<div class="line"><span class="lineno">  233</span>            c = np.empty(df.shape, dtype=np.bool_)</div>
<div class="line"><span class="lineno">  234</span>            c.fill(cond)</div>
<div class="line"><span class="lineno">  235</span>            result = expr.where(c, df.values, df.values + 1)</div>
<div class="line"><span class="lineno">  236</span>            expected = np.where(c, df.values, df.values + 1)</div>
<div class="line"><span class="lineno">  237</span>            tm.assert_numpy_array_equal(result, expected)</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        <span class="keyword">with</span> option_context(<span class="stringliteral">&quot;compute.use_numexpr&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  240</span>            testit()</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span>        expr.set_numexpr_threads(1)</div>
<div class="line"><span class="lineno">  243</span>        testit()</div>
<div class="line"><span class="lineno">  244</span>        expr.set_numexpr_threads()</div>
<div class="line"><span class="lineno">  245</span>        testit()</div>
<div class="line"><span class="lineno">  246</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6662578f4a32c97305852388773b6a00" name="a6662578f4a32c97305852388773b6a00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6662578f4a32c97305852388773b6a00">&#9670;&#160;</a></span>_MIN_ELEMENTS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.test_expressions.TestExpressions._MIN_ELEMENTS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/pandas/tests/<a class="el" href="test__expressions_8py.html">test_expressions.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
