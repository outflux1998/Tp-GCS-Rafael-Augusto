<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.tests.io.pytables.test_timezones Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1io.html">io</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables.html">pytables</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html">test_timezones</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pandas.tests.io.pytables.test_timezones Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac037c92a7edfc59a156a883e3f1f9806" id="r_ac037c92a7edfc59a156a883e3f1f9806"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#ac037c92a7edfc59a156a883e3f1f9806">_compare_with_tz</a> (<a class="el" href="__blas__subroutines_8h.html#a4da0a64c77789ca4c8115aef76120fd2">a</a>, b)</td></tr>
<tr class="separator:ac037c92a7edfc59a156a883e3f1f9806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a084fb817d2e2cbc59516989c40144f61" id="r_a084fb817d2e2cbc59516989c40144f61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#a084fb817d2e2cbc59516989c40144f61">test_append_with_timezones</a> (setup_path, gettz)</td></tr>
<tr class="separator:a084fb817d2e2cbc59516989c40144f61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70490f946ce5c4dfdcdcfd42259244f4" id="r_a70490f946ce5c4dfdcdcfd42259244f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#a70490f946ce5c4dfdcdcfd42259244f4">test_append_with_timezones_as_index</a> (setup_path, gettz)</td></tr>
<tr class="separator:a70490f946ce5c4dfdcdcfd42259244f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add6e2df1a9b107c284d8ad81053c6c5f" id="r_add6e2df1a9b107c284d8ad81053c6c5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#add6e2df1a9b107c284d8ad81053c6c5f">test_roundtrip_tz_aware_index</a> (setup_path)</td></tr>
<tr class="separator:add6e2df1a9b107c284d8ad81053c6c5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae79f59cfedc6bdc1306791362a368dae" id="r_ae79f59cfedc6bdc1306791362a368dae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#ae79f59cfedc6bdc1306791362a368dae">test_store_index_name_with_tz</a> (setup_path)</td></tr>
<tr class="separator:ae79f59cfedc6bdc1306791362a368dae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c22f7aec4a1cefd0383352f8a3c817" id="r_a94c22f7aec4a1cefd0383352f8a3c817"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#a94c22f7aec4a1cefd0383352f8a3c817">test_tseries_select_index_column</a> (setup_path)</td></tr>
<tr class="separator:a94c22f7aec4a1cefd0383352f8a3c817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af646f4cd3dae6d0a824d237ec482c2c7" id="r_af646f4cd3dae6d0a824d237ec482c2c7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#af646f4cd3dae6d0a824d237ec482c2c7">test_timezones_fixed_format_frame_non_empty</a> (setup_path)</td></tr>
<tr class="separator:af646f4cd3dae6d0a824d237ec482c2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac91d87015c318c0ff75f99b8fb744c35" id="r_ac91d87015c318c0ff75f99b8fb744c35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#ac91d87015c318c0ff75f99b8fb744c35">test_timezones_fixed_format_empty</a> (setup_path, tz_aware_fixture, frame_or_series)</td></tr>
<tr class="separator:ac91d87015c318c0ff75f99b8fb744c35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae10c389ce30f237ab27a8e8644d3f7f" id="r_aae10c389ce30f237ab27a8e8644d3f7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#aae10c389ce30f237ab27a8e8644d3f7f">test_timezones_fixed_format_series_nonempty</a> (setup_path, tz_aware_fixture)</td></tr>
<tr class="separator:aae10c389ce30f237ab27a8e8644d3f7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad74d617104cd1760c1003b8f96c678eb" id="r_ad74d617104cd1760c1003b8f96c678eb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#ad74d617104cd1760c1003b8f96c678eb">test_fixed_offset_tz</a> (setup_path)</td></tr>
<tr class="separator:ad74d617104cd1760c1003b8f96c678eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe180f807127e48c0dbc6722d9429aaf" id="r_abe180f807127e48c0dbc6722d9429aaf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#abe180f807127e48c0dbc6722d9429aaf">test_store_timezone</a> (setup_path)</td></tr>
<tr class="separator:abe180f807127e48c0dbc6722d9429aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ed5e7b93431e76467c9e9f067533f40" id="r_a9ed5e7b93431e76467c9e9f067533f40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#a9ed5e7b93431e76467c9e9f067533f40">test_legacy_datetimetz_object</a> (datapath)</td></tr>
<tr class="separator:a9ed5e7b93431e76467c9e9f067533f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afea95be51860f47ea85b730169c564f5" id="r_afea95be51860f47ea85b730169c564f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#afea95be51860f47ea85b730169c564f5">test_dst_transitions</a> (setup_path)</td></tr>
<tr class="separator:afea95be51860f47ea85b730169c564f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc2a5399ea4864a622cd1c5c82a59c19" id="r_abc2a5399ea4864a622cd1c5c82a59c19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#abc2a5399ea4864a622cd1c5c82a59c19">test_read_with_where_tz_aware_index</a> (setup_path)</td></tr>
<tr class="separator:abc2a5399ea4864a622cd1c5c82a59c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a2bccd96c209fb6cdc9f36b8e09b057" id="r_a1a2bccd96c209fb6cdc9f36b8e09b057"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#a1a2bccd96c209fb6cdc9f36b8e09b057">test_py2_created_with_datetimez</a> (datapath)</td></tr>
<tr class="separator:a1a2bccd96c209fb6cdc9f36b8e09b057"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af210f6eb279f21c5cc4797e1dfa9f020" id="r_af210f6eb279f21c5cc4797e1dfa9f020"><td class="memItemLeft" align="right" valign="top">maybe_get_tz&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#af210f6eb279f21c5cc4797e1dfa9f020">gettz_dateutil</a> = <a class="el" href="__lapack__subroutines_8h.html#a76093d20ca2e1c5d5216168f26f73e19">lambda</a> x(&quot;dateutil/&quot; + x)</td></tr>
<tr class="separator:af210f6eb279f21c5cc4797e1dfa9f020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefe15f86a688844ec595348d588e5d14" id="r_aefe15f86a688844ec595348d588e5d14"><td class="memItemLeft" align="right" valign="top">x&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1io_1_1pytables_1_1test__timezones.html#aefe15f86a688844ec595348d588e5d14">gettz_pytz</a> = <a class="el" href="__lapack__subroutines_8h.html#a76093d20ca2e1c5d5216168f26f73e19">lambda</a> x</td></tr>
<tr class="separator:aefe15f86a688844ec595348d588e5d14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ac037c92a7edfc59a156a883e3f1f9806" name="ac037c92a7edfc59a156a883e3f1f9806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac037c92a7edfc59a156a883e3f1f9806">&#9670;&#160;</a></span>_compare_with_tz()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones._compare_with_tz </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   28</span><span class="keyword">def </span>_compare_with_tz(a, b):</div>
<div class="line"><span class="lineno">   29</span>    tm.assert_frame_equal(a, b)</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>    <span class="comment"># compare the zones on each element</span></div>
<div class="line"><span class="lineno">   32</span>    <span class="keywordflow">for</span> c <span class="keywordflow">in</span> a.columns:</div>
<div class="line"><span class="lineno">   33</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> a.index:</div>
<div class="line"><span class="lineno">   34</span>            a_e = a.loc[i, c]</div>
<div class="line"><span class="lineno">   35</span>            b_e = b.loc[i, c]</div>
<div class="line"><span class="lineno">   36</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> (a_e == b_e <span class="keywordflow">and</span> a_e.tz == b_e.tz):</div>
<div class="line"><span class="lineno">   37</span>                <span class="keywordflow">raise</span> AssertionError(f<span class="stringliteral">&quot;invalid tz comparison [{a_e}] [{b_e}]&quot;</span>)</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span> </div>
<div class="line"><span class="lineno">   40</span><span class="comment"># use maybe_get_tz instead of dateutil.tz.gettz to handle the windows</span></div>
<div class="line"><span class="lineno">   41</span><span class="comment"># filename issues.</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a084fb817d2e2cbc59516989c40144f61" name="a084fb817d2e2cbc59516989c40144f61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a084fb817d2e2cbc59516989c40144f61">&#9670;&#160;</a></span>test_append_with_timezones()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_append_with_timezones </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gettz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   47</span><span class="keyword">def </span>test_append_with_timezones(setup_path, gettz):</div>
<div class="line"><span class="lineno">   48</span>    <span class="comment"># as columns</span></div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>    <span class="comment"># Single-tzinfo, no DST transition</span></div>
<div class="line"><span class="lineno">   51</span>    df_est = DataFrame(</div>
<div class="line"><span class="lineno">   52</span>        {</div>
<div class="line"><span class="lineno">   53</span>            <span class="stringliteral">&quot;A&quot;</span>: [</div>
<div class="line"><span class="lineno">   54</span>                Timestamp(<span class="stringliteral">&quot;20130102 2:00:00&quot;</span>, tz=gettz(<span class="stringliteral">&quot;US/Eastern&quot;</span>))</div>
<div class="line"><span class="lineno">   55</span>                + <a class="code hl_define" href="noprefix_8h.html#ae6feacec25f59b525f6e0c442ef75ff7">timedelta</a>(hours=1) * i</div>
<div class="line"><span class="lineno">   56</span>                <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(5)</div>
<div class="line"><span class="lineno">   57</span>            ]</div>
<div class="line"><span class="lineno">   58</span>        }</div>
<div class="line"><span class="lineno">   59</span>    )</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>    <span class="comment"># frame with all columns having same tzinfo, but different sides</span></div>
<div class="line"><span class="lineno">   62</span>    <span class="comment">#  of DST transition</span></div>
<div class="line"><span class="lineno">   63</span>    df_crosses_dst = DataFrame(</div>
<div class="line"><span class="lineno">   64</span>        {</div>
<div class="line"><span class="lineno">   65</span>            <span class="stringliteral">&quot;A&quot;</span>: Timestamp(<span class="stringliteral">&quot;20130102&quot;</span>, tz=gettz(<span class="stringliteral">&quot;US/Eastern&quot;</span>)),</div>
<div class="line"><span class="lineno">   66</span>            <span class="stringliteral">&quot;B&quot;</span>: Timestamp(<span class="stringliteral">&quot;20130603&quot;</span>, tz=gettz(<span class="stringliteral">&quot;US/Eastern&quot;</span>)),</div>
<div class="line"><span class="lineno">   67</span>        },</div>
<div class="line"><span class="lineno">   68</span>        index=range(5),</div>
<div class="line"><span class="lineno">   69</span>    )</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>    df_mixed_tz = DataFrame(</div>
<div class="line"><span class="lineno">   72</span>        {</div>
<div class="line"><span class="lineno">   73</span>            <span class="stringliteral">&quot;A&quot;</span>: Timestamp(<span class="stringliteral">&quot;20130102&quot;</span>, tz=gettz(<span class="stringliteral">&quot;US/Eastern&quot;</span>)),</div>
<div class="line"><span class="lineno">   74</span>            <span class="stringliteral">&quot;B&quot;</span>: Timestamp(<span class="stringliteral">&quot;20130102&quot;</span>, tz=gettz(<span class="stringliteral">&quot;EET&quot;</span>)),</div>
<div class="line"><span class="lineno">   75</span>        },</div>
<div class="line"><span class="lineno">   76</span>        index=range(5),</div>
<div class="line"><span class="lineno">   77</span>    )</div>
<div class="line"><span class="lineno">   78</span> </div>
<div class="line"><span class="lineno">   79</span>    df_different_tz = DataFrame(</div>
<div class="line"><span class="lineno">   80</span>        {</div>
<div class="line"><span class="lineno">   81</span>            <span class="stringliteral">&quot;A&quot;</span>: Timestamp(<span class="stringliteral">&quot;20130102&quot;</span>, tz=gettz(<span class="stringliteral">&quot;US/Eastern&quot;</span>)),</div>
<div class="line"><span class="lineno">   82</span>            <span class="stringliteral">&quot;B&quot;</span>: Timestamp(<span class="stringliteral">&quot;20130102&quot;</span>, tz=gettz(<span class="stringliteral">&quot;CET&quot;</span>)),</div>
<div class="line"><span class="lineno">   83</span>        },</div>
<div class="line"><span class="lineno">   84</span>        index=range(5),</div>
<div class="line"><span class="lineno">   85</span>    )</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>        _maybe_remove(store, <span class="stringliteral">&quot;df_tz&quot;</span>)</div>
<div class="line"><span class="lineno">   90</span>        store.append(<span class="stringliteral">&quot;df_tz&quot;</span>, df_est, data_columns=[<span class="stringliteral">&quot;A&quot;</span>])</div>
<div class="line"><span class="lineno">   91</span>        result = store[<span class="stringliteral">&quot;df_tz&quot;</span>]</div>
<div class="line"><span class="lineno">   92</span>        _compare_with_tz(result, df_est)</div>
<div class="line"><span class="lineno">   93</span>        tm.assert_frame_equal(result, df_est)</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>        <span class="comment"># select with tz aware</span></div>
<div class="line"><span class="lineno">   96</span>        expected = df_est[df_est.A &gt;= df_est.A[3]]</div>
<div class="line"><span class="lineno">   97</span>        result = store.select(<span class="stringliteral">&quot;df_tz&quot;</span>, where=<span class="stringliteral">&quot;A&gt;=df_est.A[3]&quot;</span>)</div>
<div class="line"><span class="lineno">   98</span>        _compare_with_tz(result, expected)</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>        <span class="comment"># ensure we include dates in DST and STD time here.</span></div>
<div class="line"><span class="lineno">  101</span>        _maybe_remove(store, <span class="stringliteral">&quot;df_tz&quot;</span>)</div>
<div class="line"><span class="lineno">  102</span>        store.append(<span class="stringliteral">&quot;df_tz&quot;</span>, df_crosses_dst)</div>
<div class="line"><span class="lineno">  103</span>        result = store[<span class="stringliteral">&quot;df_tz&quot;</span>]</div>
<div class="line"><span class="lineno">  104</span>        _compare_with_tz(result, df_crosses_dst)</div>
<div class="line"><span class="lineno">  105</span>        tm.assert_frame_equal(result, df_crosses_dst)</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>        msg = (</div>
<div class="line"><span class="lineno">  108</span>            <span class="stringliteral">r&quot;invalid info for \[values_block_1\] for \[tz\], &quot;</span></div>
<div class="line"><span class="lineno">  109</span>            <span class="stringliteral">r&quot;existing_value \[(dateutil/.*)?US/Eastern\] &quot;</span></div>
<div class="line"><span class="lineno">  110</span>            <span class="stringliteral">r&quot;conflicts with new value \[(dateutil/.*)?EET\]&quot;</span></div>
<div class="line"><span class="lineno">  111</span>        )</div>
<div class="line"><span class="lineno">  112</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  113</span>            store.append(<span class="stringliteral">&quot;df_tz&quot;</span>, df_mixed_tz)</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>        <span class="comment"># this is ok</span></div>
<div class="line"><span class="lineno">  116</span>        _maybe_remove(store, <span class="stringliteral">&quot;df_tz&quot;</span>)</div>
<div class="line"><span class="lineno">  117</span>        store.append(<span class="stringliteral">&quot;df_tz&quot;</span>, df_mixed_tz, data_columns=[<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>])</div>
<div class="line"><span class="lineno">  118</span>        result = store[<span class="stringliteral">&quot;df_tz&quot;</span>]</div>
<div class="line"><span class="lineno">  119</span>        _compare_with_tz(result, df_mixed_tz)</div>
<div class="line"><span class="lineno">  120</span>        tm.assert_frame_equal(result, df_mixed_tz)</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>        <span class="comment"># can&#39;t append with diff timezone</span></div>
<div class="line"><span class="lineno">  123</span>        msg = (</div>
<div class="line"><span class="lineno">  124</span>            <span class="stringliteral">r&quot;invalid info for \[B\] for \[tz\], &quot;</span></div>
<div class="line"><span class="lineno">  125</span>            <span class="stringliteral">r&quot;existing_value \[(dateutil/.*)?EET\] &quot;</span></div>
<div class="line"><span class="lineno">  126</span>            <span class="stringliteral">r&quot;conflicts with new value \[(dateutil/.*)?CET\]&quot;</span></div>
<div class="line"><span class="lineno">  127</span>        )</div>
<div class="line"><span class="lineno">  128</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  129</span>            store.append(<span class="stringliteral">&quot;df_tz&quot;</span>, df_different_tz)</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span><span class="preprocessor">@pytest.mark.parametrize(&quot;gettz&quot;, [gettz_dateutil, gettz_pytz])</span></div>
<div class="ttc" id="anoprefix_8h_html_ae6feacec25f59b525f6e0c442ef75ff7"><div class="ttname"><a href="noprefix_8h.html#ae6feacec25f59b525f6e0c442ef75ff7">timedelta</a></div><div class="ttdeci">#define timedelta</div><div class="ttdef"><b>Definition</b> noprefix.h:65</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a70490f946ce5c4dfdcdcfd42259244f4" name="a70490f946ce5c4dfdcdcfd42259244f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70490f946ce5c4dfdcdcfd42259244f4">&#9670;&#160;</a></span>test_append_with_timezones_as_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_append_with_timezones_as_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>gettz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  133</span><span class="keyword">def </span>test_append_with_timezones_as_index(setup_path, gettz):</div>
<div class="line"><span class="lineno">  134</span>    <span class="comment"># GH#4098 example</span></div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>    dti = date_range(<span class="stringliteral">&quot;2000-1-1&quot;</span>, periods=3, freq=<span class="stringliteral">&quot;H&quot;</span>, tz=gettz(<span class="stringliteral">&quot;US/Eastern&quot;</span>))</div>
<div class="line"><span class="lineno">  137</span>    dti = dti._with_freq(<span class="keywordtype">None</span>)  <span class="comment"># freq doesn&#39;t round-trip</span></div>
<div class="line"><span class="lineno">  138</span> </div>
<div class="line"><span class="lineno">  139</span>    df = DataFrame({<span class="stringliteral">&quot;A&quot;</span>: Series(range(3), index=dti)})</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>        _maybe_remove(store, <span class="stringliteral">&quot;df&quot;</span>)</div>
<div class="line"><span class="lineno">  144</span>        store.put(<span class="stringliteral">&quot;df&quot;</span>, df)</div>
<div class="line"><span class="lineno">  145</span>        result = store.select(<span class="stringliteral">&quot;df&quot;</span>)</div>
<div class="line"><span class="lineno">  146</span>        tm.assert_frame_equal(result, df)</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>        _maybe_remove(store, <span class="stringliteral">&quot;df&quot;</span>)</div>
<div class="line"><span class="lineno">  149</span>        store.append(<span class="stringliteral">&quot;df&quot;</span>, df)</div>
<div class="line"><span class="lineno">  150</span>        result = store.select(<span class="stringliteral">&quot;df&quot;</span>)</div>
<div class="line"><span class="lineno">  151</span>        tm.assert_frame_equal(result, df)</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afea95be51860f47ea85b730169c564f5" name="afea95be51860f47ea85b730169c564f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afea95be51860f47ea85b730169c564f5">&#9670;&#160;</a></span>test_dst_transitions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_dst_transitions </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  324</span><span class="keyword">def </span>test_dst_transitions(setup_path):</div>
<div class="line"><span class="lineno">  325</span>    <span class="comment"># make sure we are not failing on transitions</span></div>
<div class="line"><span class="lineno">  326</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  327</span>        times = date_range(</div>
<div class="line"><span class="lineno">  328</span>            <span class="stringliteral">&quot;2013-10-26 23:00&quot;</span>,</div>
<div class="line"><span class="lineno">  329</span>            <span class="stringliteral">&quot;2013-10-27 01:00&quot;</span>,</div>
<div class="line"><span class="lineno">  330</span>            tz=<span class="stringliteral">&quot;Europe/London&quot;</span>,</div>
<div class="line"><span class="lineno">  331</span>            freq=<span class="stringliteral">&quot;H&quot;</span>,</div>
<div class="line"><span class="lineno">  332</span>            ambiguous=<span class="stringliteral">&quot;infer&quot;</span>,</div>
<div class="line"><span class="lineno">  333</span>        )</div>
<div class="line"><span class="lineno">  334</span>        times = times._with_freq(<span class="keywordtype">None</span>)  <span class="comment"># freq doesn&#39;t round-trip</span></div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> [times, times + pd.Timedelta(<span class="stringliteral">&quot;10min&quot;</span>)]:</div>
<div class="line"><span class="lineno">  337</span>            _maybe_remove(store, <span class="stringliteral">&quot;df&quot;</span>)</div>
<div class="line"><span class="lineno">  338</span>            df = DataFrame({<span class="stringliteral">&quot;A&quot;</span>: range(len(i)), <span class="stringliteral">&quot;B&quot;</span>: i}, index=i)</div>
<div class="line"><span class="lineno">  339</span>            store.append(<span class="stringliteral">&quot;df&quot;</span>, df)</div>
<div class="line"><span class="lineno">  340</span>            result = store.select(<span class="stringliteral">&quot;df&quot;</span>)</div>
<div class="line"><span class="lineno">  341</span>            tm.assert_frame_equal(result, df)</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad74d617104cd1760c1003b8f96c678eb" name="ad74d617104cd1760c1003b8f96c678eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad74d617104cd1760c1003b8f96c678eb">&#9670;&#160;</a></span>test_fixed_offset_tz()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_fixed_offset_tz </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  267</span><span class="keyword">def </span>test_fixed_offset_tz(setup_path):</div>
<div class="line"><span class="lineno">  268</span>    rng = date_range(<span class="stringliteral">&quot;1/1/2000 00:00:00-07:00&quot;</span>, <span class="stringliteral">&quot;1/30/2000 00:00:00-07:00&quot;</span>)</div>
<div class="line"><span class="lineno">  269</span>    frame = DataFrame(np.random.randn(len(rng), 4), index=rng)</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  272</span>        store[<span class="stringliteral">&quot;frame&quot;</span>] = frame</div>
<div class="line"><span class="lineno">  273</span>        recons = store[<span class="stringliteral">&quot;frame&quot;</span>]</div>
<div class="line"><span class="lineno">  274</span>        tm.assert_index_equal(recons.index, rng)</div>
<div class="line"><span class="lineno">  275</span>        <span class="keyword">assert</span> rng.tz == recons.index.tz</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span><span class="preprocessor">@td.skip_if_windows</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ed5e7b93431e76467c9e9f067533f40" name="a9ed5e7b93431e76467c9e9f067533f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ed5e7b93431e76467c9e9f067533f40">&#9670;&#160;</a></span>test_legacy_datetimetz_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_legacy_datetimetz_object </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  307</span><span class="keyword">def </span>test_legacy_datetimetz_object(datapath):</div>
<div class="line"><span class="lineno">  308</span>    <span class="comment"># legacy from &lt; 0.17.0</span></div>
<div class="line"><span class="lineno">  309</span>    <span class="comment"># 8260</span></div>
<div class="line"><span class="lineno">  310</span>    expected = DataFrame(</div>
<div class="line"><span class="lineno">  311</span>        {</div>
<div class="line"><span class="lineno">  312</span>            <span class="stringliteral">&quot;A&quot;</span>: Timestamp(<span class="stringliteral">&quot;20130102&quot;</span>, tz=<span class="stringliteral">&quot;US/Eastern&quot;</span>),</div>
<div class="line"><span class="lineno">  313</span>            <span class="stringliteral">&quot;B&quot;</span>: Timestamp(<span class="stringliteral">&quot;20130603&quot;</span>, tz=<span class="stringliteral">&quot;CET&quot;</span>),</div>
<div class="line"><span class="lineno">  314</span>        },</div>
<div class="line"><span class="lineno">  315</span>        index=range(5),</div>
<div class="line"><span class="lineno">  316</span>    )</div>
<div class="line"><span class="lineno">  317</span>    <span class="keyword">with</span> ensure_clean_store(</div>
<div class="line"><span class="lineno">  318</span>        datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;legacy_hdf&quot;</span>, <span class="stringliteral">&quot;datetimetz_object.h5&quot;</span>), mode=<span class="stringliteral">&quot;r&quot;</span></div>
<div class="line"><span class="lineno">  319</span>    ) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  320</span>        result = store[<span class="stringliteral">&quot;df&quot;</span>]</div>
<div class="line"><span class="lineno">  321</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a2bccd96c209fb6cdc9f36b8e09b057" name="a1a2bccd96c209fb6cdc9f36b8e09b057"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a2bccd96c209fb6cdc9f36b8e09b057">&#9670;&#160;</a></span>test_py2_created_with_datetimez()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_py2_created_with_datetimez </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datapath</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  359</span><span class="keyword">def </span>test_py2_created_with_datetimez(datapath):</div>
<div class="line"><span class="lineno">  360</span>    <span class="comment"># The test HDF5 file was created in Python 2, but could not be read in</span></div>
<div class="line"><span class="lineno">  361</span>    <span class="comment"># Python 3.</span></div>
<div class="line"><span class="lineno">  362</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno">  363</span>    <span class="comment"># GH26443</span></div>
<div class="line"><span class="lineno">  364</span>    index = [Timestamp(<span class="stringliteral">&quot;2019-01-01T18:00&quot;</span>).tz_localize(<span class="stringliteral">&quot;America/New_York&quot;</span>)]</div>
<div class="line"><span class="lineno">  365</span>    expected = DataFrame({<span class="stringliteral">&quot;data&quot;</span>: 123}, index=index)</div>
<div class="line"><span class="lineno">  366</span>    <span class="keyword">with</span> ensure_clean_store(</div>
<div class="line"><span class="lineno">  367</span>        datapath(<span class="stringliteral">&quot;io&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;legacy_hdf&quot;</span>, <span class="stringliteral">&quot;gh26443.h5&quot;</span>), mode=<span class="stringliteral">&quot;r&quot;</span></div>
<div class="line"><span class="lineno">  368</span>    ) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  369</span>        result = store[<span class="stringliteral">&quot;key&quot;</span>]</div>
<div class="line"><span class="lineno">  370</span>        tm.assert_frame_equal(result, expected)</div>
</div><!-- fragment -->
</div>
</div>
<a id="abc2a5399ea4864a622cd1c5c82a59c19" name="abc2a5399ea4864a622cd1c5c82a59c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc2a5399ea4864a622cd1c5c82a59c19">&#9670;&#160;</a></span>test_read_with_where_tz_aware_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_read_with_where_tz_aware_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  344</span><span class="keyword">def </span>test_read_with_where_tz_aware_index(setup_path):</div>
<div class="line"><span class="lineno">  345</span>    <span class="comment"># GH 11926</span></div>
<div class="line"><span class="lineno">  346</span>    periods = 10</div>
<div class="line"><span class="lineno">  347</span>    dts = date_range(<span class="stringliteral">&quot;20151201&quot;</span>, periods=periods, freq=<span class="stringliteral">&quot;D&quot;</span>, tz=<span class="stringliteral">&quot;UTC&quot;</span>)</div>
<div class="line"><span class="lineno">  348</span>    mi = pd.MultiIndex.from_arrays([dts, range(periods)], names=[<span class="stringliteral">&quot;DATE&quot;</span>, <span class="stringliteral">&quot;NO&quot;</span>])</div>
<div class="line"><span class="lineno">  349</span>    expected = DataFrame({<span class="stringliteral">&quot;MYCOL&quot;</span>: 0}, index=mi)</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>    key = <span class="stringliteral">&quot;mykey&quot;</span></div>
<div class="line"><span class="lineno">  352</span>    <span class="keyword">with</span> ensure_clean_path(setup_path) <span class="keyword">as</span> path:</div>
<div class="line"><span class="lineno">  353</span>        <span class="keyword">with</span> pd.HDFStore(path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  354</span>            store.append(key, expected, format=<span class="stringliteral">&quot;table&quot;</span>, append=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  355</span>        result = pd.read_hdf(path, key, where=<span class="stringliteral">&quot;DATE &gt; 20151130&quot;</span>)</div>
<div class="line"><span class="lineno">  356</span>        tm.assert_frame_equal(result, expected)</div>
<div class="line"><span class="lineno">  357</span> </div>
<div class="line"><span class="lineno">  358</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="add6e2df1a9b107c284d8ad81053c6c5f" name="add6e2df1a9b107c284d8ad81053c6c5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add6e2df1a9b107c284d8ad81053c6c5f">&#9670;&#160;</a></span>test_roundtrip_tz_aware_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_roundtrip_tz_aware_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  154</span><span class="keyword">def </span>test_roundtrip_tz_aware_index(setup_path):</div>
<div class="line"><span class="lineno">  155</span>    <span class="comment"># GH 17618</span></div>
<div class="line"><span class="lineno">  156</span>    time = Timestamp(<span class="stringliteral">&quot;2000-01-01 01:00:00&quot;</span>, tz=<span class="stringliteral">&quot;US/Eastern&quot;</span>)</div>
<div class="line"><span class="lineno">  157</span>    df = DataFrame(data=[0], index=[time])</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  160</span>        store.put(<span class="stringliteral">&quot;frame&quot;</span>, df, format=<span class="stringliteral">&quot;fixed&quot;</span>)</div>
<div class="line"><span class="lineno">  161</span>        recons = store[<span class="stringliteral">&quot;frame&quot;</span>]</div>
<div class="line"><span class="lineno">  162</span>        tm.assert_frame_equal(recons, df)</div>
<div class="line"><span class="lineno">  163</span>        <span class="keyword">assert</span> recons.index[0].value == 946706400000000000</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae79f59cfedc6bdc1306791362a368dae" name="ae79f59cfedc6bdc1306791362a368dae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae79f59cfedc6bdc1306791362a368dae">&#9670;&#160;</a></span>test_store_index_name_with_tz()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_store_index_name_with_tz </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  166</span><span class="keyword">def </span>test_store_index_name_with_tz(setup_path):</div>
<div class="line"><span class="lineno">  167</span>    <span class="comment"># GH 13884</span></div>
<div class="line"><span class="lineno">  168</span>    df = DataFrame({<span class="stringliteral">&quot;A&quot;</span>: [1, 2]})</div>
<div class="line"><span class="lineno">  169</span>    df.index = DatetimeIndex([1234567890123456787, 1234567890123456788])</div>
<div class="line"><span class="lineno">  170</span>    df.index = df.index.tz_localize(<span class="stringliteral">&quot;UTC&quot;</span>)</div>
<div class="line"><span class="lineno">  171</span>    df.index.name = <span class="stringliteral">&quot;foo&quot;</span></div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  174</span>        store.put(<span class="stringliteral">&quot;frame&quot;</span>, df, format=<span class="stringliteral">&quot;table&quot;</span>)</div>
<div class="line"><span class="lineno">  175</span>        recons = store[<span class="stringliteral">&quot;frame&quot;</span>]</div>
<div class="line"><span class="lineno">  176</span>        tm.assert_frame_equal(recons, df)</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abe180f807127e48c0dbc6722d9429aaf" name="abe180f807127e48c0dbc6722d9429aaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe180f807127e48c0dbc6722d9429aaf">&#9670;&#160;</a></span>test_store_timezone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_store_timezone </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  279</span><span class="keyword">def </span>test_store_timezone(setup_path):</div>
<div class="line"><span class="lineno">  280</span>    <span class="comment"># GH2852</span></div>
<div class="line"><span class="lineno">  281</span>    <span class="comment"># issue storing datetime.date with a timezone as it resets when read</span></div>
<div class="line"><span class="lineno">  282</span>    <span class="comment"># back in a new timezone</span></div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>    <span class="comment"># original method</span></div>
<div class="line"><span class="lineno">  285</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>        today = date(2013, 9, 10)</div>
<div class="line"><span class="lineno">  288</span>        df = DataFrame([1, 2, 3], index=[today, today, today])</div>
<div class="line"><span class="lineno">  289</span>        store[<span class="stringliteral">&quot;obj1&quot;</span>] = df</div>
<div class="line"><span class="lineno">  290</span>        result = store[<span class="stringliteral">&quot;obj1&quot;</span>]</div>
<div class="line"><span class="lineno">  291</span>        tm.assert_frame_equal(result, df)</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>    <span class="comment"># with tz setting</span></div>
<div class="line"><span class="lineno">  294</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>        <span class="keyword">with</span> tm.set_timezone(<span class="stringliteral">&quot;EST5EDT&quot;</span>):</div>
<div class="line"><span class="lineno">  297</span>            today = date(2013, 9, 10)</div>
<div class="line"><span class="lineno">  298</span>            df = DataFrame([1, 2, 3], index=[today, today, today])</div>
<div class="line"><span class="lineno">  299</span>            store[<span class="stringliteral">&quot;obj1&quot;</span>] = df</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>        <span class="keyword">with</span> tm.set_timezone(<span class="stringliteral">&quot;CST6CDT&quot;</span>):</div>
<div class="line"><span class="lineno">  302</span>            result = store[<span class="stringliteral">&quot;obj1&quot;</span>]</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>        tm.assert_frame_equal(result, df)</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac91d87015c318c0ff75f99b8fb744c35" name="ac91d87015c318c0ff75f99b8fb744c35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac91d87015c318c0ff75f99b8fb744c35">&#9670;&#160;</a></span>test_timezones_fixed_format_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_timezones_fixed_format_empty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz_aware_fixture</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_or_series</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  240</span><span class="keyword">def </span>test_timezones_fixed_format_empty(setup_path, tz_aware_fixture, frame_or_series):</div>
<div class="line"><span class="lineno">  241</span>    <span class="comment"># GH 20594</span></div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>    dtype = pd.DatetimeTZDtype(tz=tz_aware_fixture)</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>    obj = Series(dtype=dtype, name=<span class="stringliteral">&quot;A&quot;</span>)</div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">if</span> frame_or_series <span class="keywordflow">is</span> DataFrame:</div>
<div class="line"><span class="lineno">  247</span>        obj = obj.to_frame()</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  250</span>        store[<span class="stringliteral">&quot;obj&quot;</span>] = obj</div>
<div class="line"><span class="lineno">  251</span>        result = store[<span class="stringliteral">&quot;obj&quot;</span>]</div>
<div class="line"><span class="lineno">  252</span>        tm.assert_equal(result, obj)</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af646f4cd3dae6d0a824d237ec482c2c7" name="af646f4cd3dae6d0a824d237ec482c2c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af646f4cd3dae6d0a824d237ec482c2c7">&#9670;&#160;</a></span>test_timezones_fixed_format_frame_non_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_timezones_fixed_format_frame_non_empty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  212</span><span class="keyword">def </span>test_timezones_fixed_format_frame_non_empty(setup_path):</div>
<div class="line"><span class="lineno">  213</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>        <span class="comment"># index</span></div>
<div class="line"><span class="lineno">  216</span>        rng = date_range(<span class="stringliteral">&quot;1/1/2000&quot;</span>, <span class="stringliteral">&quot;1/30/2000&quot;</span>, tz=<span class="stringliteral">&quot;US/Eastern&quot;</span>)</div>
<div class="line"><span class="lineno">  217</span>        rng = rng._with_freq(<span class="keywordtype">None</span>)  <span class="comment"># freq doesn&#39;t round-trip</span></div>
<div class="line"><span class="lineno">  218</span>        df = DataFrame(np.random.randn(len(rng), 4), index=rng)</div>
<div class="line"><span class="lineno">  219</span>        store[<span class="stringliteral">&quot;df&quot;</span>] = df</div>
<div class="line"><span class="lineno">  220</span>        result = store[<span class="stringliteral">&quot;df&quot;</span>]</div>
<div class="line"><span class="lineno">  221</span>        tm.assert_frame_equal(result, df)</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>        <span class="comment"># as data</span></div>
<div class="line"><span class="lineno">  224</span>        <span class="comment"># GH11411</span></div>
<div class="line"><span class="lineno">  225</span>        _maybe_remove(store, <span class="stringliteral">&quot;df&quot;</span>)</div>
<div class="line"><span class="lineno">  226</span>        df = DataFrame(</div>
<div class="line"><span class="lineno">  227</span>            {</div>
<div class="line"><span class="lineno">  228</span>                <span class="stringliteral">&quot;A&quot;</span>: rng,</div>
<div class="line"><span class="lineno">  229</span>                <span class="stringliteral">&quot;B&quot;</span>: rng.tz_convert(<span class="stringliteral">&quot;UTC&quot;</span>).tz_localize(<span class="keywordtype">None</span>),</div>
<div class="line"><span class="lineno">  230</span>                <span class="stringliteral">&quot;C&quot;</span>: rng.tz_convert(<span class="stringliteral">&quot;CET&quot;</span>),</div>
<div class="line"><span class="lineno">  231</span>                <span class="stringliteral">&quot;D&quot;</span>: range(len(rng)),</div>
<div class="line"><span class="lineno">  232</span>            },</div>
<div class="line"><span class="lineno">  233</span>            index=rng,</div>
<div class="line"><span class="lineno">  234</span>        )</div>
<div class="line"><span class="lineno">  235</span>        store[<span class="stringliteral">&quot;df&quot;</span>] = df</div>
<div class="line"><span class="lineno">  236</span>        result = store[<span class="stringliteral">&quot;df&quot;</span>]</div>
<div class="line"><span class="lineno">  237</span>        tm.assert_frame_equal(result, df)</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aae10c389ce30f237ab27a8e8644d3f7f" name="aae10c389ce30f237ab27a8e8644d3f7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae10c389ce30f237ab27a8e8644d3f7f">&#9670;&#160;</a></span>test_timezones_fixed_format_series_nonempty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_timezones_fixed_format_series_nonempty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tz_aware_fixture</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  255</span><span class="keyword">def </span>test_timezones_fixed_format_series_nonempty(setup_path, tz_aware_fixture):</div>
<div class="line"><span class="lineno">  256</span>    <span class="comment"># GH 20594</span></div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>    dtype = pd.DatetimeTZDtype(tz=tz_aware_fixture)</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  261</span>        s = Series([0], dtype=dtype)</div>
<div class="line"><span class="lineno">  262</span>        store[<span class="stringliteral">&quot;s&quot;</span>] = s</div>
<div class="line"><span class="lineno">  263</span>        result = store[<span class="stringliteral">&quot;s&quot;</span>]</div>
<div class="line"><span class="lineno">  264</span>        tm.assert_series_equal(result, s)</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a94c22f7aec4a1cefd0383352f8a3c817" name="a94c22f7aec4a1cefd0383352f8a3c817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94c22f7aec4a1cefd0383352f8a3c817">&#9670;&#160;</a></span>test_tseries_select_index_column()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.io.pytables.test_timezones.test_tseries_select_index_column </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>setup_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  179</span><span class="keyword">def </span>test_tseries_select_index_column(setup_path):</div>
<div class="line"><span class="lineno">  180</span>    <span class="comment"># GH7777</span></div>
<div class="line"><span class="lineno">  181</span>    <span class="comment"># selecting a UTC datetimeindex column did</span></div>
<div class="line"><span class="lineno">  182</span>    <span class="comment"># not preserve UTC tzinfo set before storing</span></div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>    <span class="comment"># check that no tz still works</span></div>
<div class="line"><span class="lineno">  185</span>    rng = date_range(<span class="stringliteral">&quot;1/1/2000&quot;</span>, <span class="stringliteral">&quot;1/30/2000&quot;</span>)</div>
<div class="line"><span class="lineno">  186</span>    frame = DataFrame(np.random.randn(len(rng), 4), index=rng)</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  189</span>        store.append(<span class="stringliteral">&quot;frame&quot;</span>, frame)</div>
<div class="line"><span class="lineno">  190</span>        result = store.select_column(<span class="stringliteral">&quot;frame&quot;</span>, <span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno">  191</span>        <span class="keyword">assert</span> rng.tz == DatetimeIndex(result.values).tz</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>    <span class="comment"># check utc</span></div>
<div class="line"><span class="lineno">  194</span>    rng = date_range(<span class="stringliteral">&quot;1/1/2000&quot;</span>, <span class="stringliteral">&quot;1/30/2000&quot;</span>, tz=<span class="stringliteral">&quot;UTC&quot;</span>)</div>
<div class="line"><span class="lineno">  195</span>    frame = DataFrame(np.random.randn(len(rng), 4), index=rng)</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  198</span>        store.append(<span class="stringliteral">&quot;frame&quot;</span>, frame)</div>
<div class="line"><span class="lineno">  199</span>        result = store.select_column(<span class="stringliteral">&quot;frame&quot;</span>, <span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno">  200</span>        <span class="keyword">assert</span> rng.tz == result.dt.tz</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>    <span class="comment"># double check non-utc</span></div>
<div class="line"><span class="lineno">  203</span>    rng = date_range(<span class="stringliteral">&quot;1/1/2000&quot;</span>, <span class="stringliteral">&quot;1/30/2000&quot;</span>, tz=<span class="stringliteral">&quot;US/Eastern&quot;</span>)</div>
<div class="line"><span class="lineno">  204</span>    frame = DataFrame(np.random.randn(len(rng), 4), index=rng)</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>    <span class="keyword">with</span> ensure_clean_store(setup_path) <span class="keyword">as</span> store:</div>
<div class="line"><span class="lineno">  207</span>        store.append(<span class="stringliteral">&quot;frame&quot;</span>, frame)</div>
<div class="line"><span class="lineno">  208</span>        result = store.select_column(<span class="stringliteral">&quot;frame&quot;</span>, <span class="stringliteral">&quot;index&quot;</span>)</div>
<div class="line"><span class="lineno">  209</span>        <span class="keyword">assert</span> rng.tz == result.dt.tz</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="af210f6eb279f21c5cc4797e1dfa9f020" name="af210f6eb279f21c5cc4797e1dfa9f020"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af210f6eb279f21c5cc4797e1dfa9f020">&#9670;&#160;</a></span>gettz_dateutil</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">maybe_get_tz pandas.tests.io.pytables.test_timezones.gettz_dateutil = <a class="el" href="__lapack__subroutines_8h.html#a76093d20ca2e1c5d5216168f26f73e19">lambda</a> x(&quot;dateutil/&quot; + x)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aefe15f86a688844ec595348d588e5d14" name="aefe15f86a688844ec595348d588e5d14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefe15f86a688844ec595348d588e5d14">&#9670;&#160;</a></span>gettz_pytz</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">x pandas.tests.io.pytables.test_timezones.gettz_pytz = <a class="el" href="__lapack__subroutines_8h.html#a76093d20ca2e1c5d5216168f26f73e19">lambda</a> x</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
