<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: numpy.lib._datasource Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenumpy.html">numpy</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1lib.html">lib</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1lib_1_1__datasource.html">_datasource</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">numpy.lib._datasource Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1__datasource_1_1___file_openers.html">_FileOpeners</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1__datasource_1_1_data_source.html">DataSource</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1__datasource_1_1_repository.html">Repository</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ae916c27737d8b6d99caca831b50d27fa" id="r_ae916c27737d8b6d99caca831b50d27fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1lib_1_1__datasource.html#ae916c27737d8b6d99caca831b50d27fa">_check_mode</a> (mode, <a class="el" href="namespacenumpy_1_1lib_1_1npyio.html#a24fe0d72d445b9775f02fe100396d2b7">encoding</a>, newline)</td></tr>
<tr class="separator:ae916c27737d8b6d99caca831b50d27fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84bc14ce937b5fc390808614265dd6aa" id="r_a84bc14ce937b5fc390808614265dd6aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1lib_1_1__datasource.html#a84bc14ce937b5fc390808614265dd6aa">open</a> (<a class="el" href="namespacenumpy_1_1core.html#a0d4a95e20828ea3a0657fc49a1edcb08">path</a>, mode='<a class="el" href="__lapack__subroutines_8h.html#a952912404e837594f7cbfb183beeacd4">r</a>', destpath=os.curdir, <a class="el" href="namespacenumpy_1_1lib_1_1npyio.html#a24fe0d72d445b9775f02fe100396d2b7">encoding</a>=None, newline=None)</td></tr>
<tr class="separator:a84bc14ce937b5fc390808614265dd6aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae957350f9f6f10dd46cb17411a249c46" id="r_ae957350f9f6f10dd46cb17411a249c46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1lib_1_1__datasource.html#ae957350f9f6f10dd46cb17411a249c46">_open</a> = <a class="el" href="namespacenumpy_1_1lib_1_1__datasource.html#a84bc14ce937b5fc390808614265dd6aa">open</a></td></tr>
<tr class="separator:ae957350f9f6f10dd46cb17411a249c46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb7dc2c00e7e3748ffd2247d877ed5e" id="r_a6cb7dc2c00e7e3748ffd2247d877ed5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1lib_1_1__datasource.html#a6cb7dc2c00e7e3748ffd2247d877ed5e">_file_openers</a> = <a class="el" href="classnumpy_1_1lib_1_1__datasource_1_1___file_openers.html">_FileOpeners</a>()</td></tr>
<tr class="separator:a6cb7dc2c00e7e3748ffd2247d877ed5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A file interface for handling local and remote data files.

The goal of datasource is to abstract some of the file system operations
when dealing with data files so the researcher doesn't have to know all the
low-level details.  Through datasource, a researcher can obtain and use a
file with one function call, regardless of location of the file.

DataSource is meant to augment standard python libraries, not replace them.
It should work seamlessly with standard file IO operations and the os
module.

DataSource files can originate locally or remotely:

- local files : '/home/guido/src/local/data.txt'
- URLs (http, ftp, ...) : 'http://www.scipy.org/not/real/data.txt'

DataSource files can also be compressed or uncompressed.  Currently only
gzip, bz2 and xz are supported.

Example::

    &gt;&gt;&gt; # Create a DataSource, use os.curdir (default) for local storage.
    &gt;&gt;&gt; from numpy import DataSource
    &gt;&gt;&gt; ds = DataSource()
    &gt;&gt;&gt;
    &gt;&gt;&gt; # Open a remote file.
    &gt;&gt;&gt; # DataSource downloads the file, stores it locally in:
    &gt;&gt;&gt; #     './www.google.com/index.html'
    &gt;&gt;&gt; # opens the file and returns a file object.
    &gt;&gt;&gt; fp = ds.open('http://www.google.com/') # doctest: +SKIP
    &gt;&gt;&gt;
    &gt;&gt;&gt; # Use the file as you normally would
    &gt;&gt;&gt; fp.read() # doctest: +SKIP
    &gt;&gt;&gt; fp.close() # doctest: +SKIP</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="ae916c27737d8b6d99caca831b50d27fa" name="ae916c27737d8b6d99caca831b50d27fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae916c27737d8b6d99caca831b50d27fa">&#9670;&#160;</a></span>_check_mode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib._datasource._check_mode </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encoding</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>newline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Check mode and that encoding and newline are compatible.

Parameters
----------
mode : str
    File open mode.
encoding : str
    File encoding.
newline : str
    Newline for text files.</pre> <div class="fragment"><div class="line"><span class="lineno">   46</span><span class="keyword">def </span>_check_mode(mode, encoding, newline):</div>
<div class="line"><span class="lineno">   47</span>    <span class="stringliteral">&quot;&quot;&quot;Check mode and that encoding and newline are compatible.</span></div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">    mode : str</span></div>
<div class="line"><span class="lineno">   52</span><span class="stringliteral">        File open mode.</span></div>
<div class="line"><span class="lineno">   53</span><span class="stringliteral">    encoding : str</span></div>
<div class="line"><span class="lineno">   54</span><span class="stringliteral">        File encoding.</span></div>
<div class="line"><span class="lineno">   55</span><span class="stringliteral">    newline : str</span></div>
<div class="line"><span class="lineno">   56</span><span class="stringliteral">        Newline for text files.</span></div>
<div class="line"><span class="lineno">   57</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   58</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">if</span> <span class="stringliteral">&quot;t&quot;</span> <span class="keywordflow">in</span> mode:</div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;b&quot;</span> <span class="keywordflow">in</span> mode:</div>
<div class="line"><span class="lineno">   61</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Invalid mode: %r&quot;</span> % (mode,))</div>
<div class="line"><span class="lineno">   62</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   63</span>        <span class="keywordflow">if</span> encoding <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   64</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Argument &#39;encoding&#39; not supported in binary mode&quot;</span>)</div>
<div class="line"><span class="lineno">   65</span>        <span class="keywordflow">if</span> newline <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   66</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Argument &#39;newline&#39; not supported in binary mode&quot;</span>)</div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span><span class="comment"># Using a class instead of a module-level dictionary</span></div>
<div class="line"><span class="lineno">   70</span><span class="comment"># to reduce the initial &#39;import numpy&#39; overhead by</span></div>
<div class="line"><span class="lineno">   71</span><span class="comment"># deferring the import of lzma, bz2 and gzip until needed</span></div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span><span class="comment"># TODO: .zip support, .tar support?</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84bc14ce937b5fc390808614265dd6aa" name="a84bc14ce937b5fc390808614265dd6aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84bc14ce937b5fc390808614265dd6aa">&#9670;&#160;</a></span>open()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib._datasource.open </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em> = <code>'<a class="el" href="__lapack__subroutines_8h.html#a952912404e837594f7cbfb183beeacd4">r</a>'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>destpath</em> = <code>os.curdir</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encoding</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>newline</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Open `path` with `mode` and return the file object.

If ``path`` is an URL, it will be downloaded, stored in the
`DataSource` `destpath` directory and opened from there.

Parameters
----------
path : str
    Local file path or URL to open.
mode : str, optional
    Mode to open `path`. Mode 'r' for reading, 'w' for writing, 'a' to
    append. Available modes depend on the type of object specified by
    path.  Default is 'r'.
destpath : str, optional
    Path to the directory where the source file gets downloaded to for
    use.  If `destpath` is None, a temporary directory will be created.
    The default path is the current directory.
encoding : {None, str}, optional
    Open text file with given encoding. The default encoding will be
    what `io.open` uses.
newline : {None, str}, optional
    Newline to use when reading text file.

Returns
-------
out : file object
    The opened file.

Notes
-----
This is a convenience function that instantiates a `DataSource` and
returns the file object from ``DataSource.open(path)``.</pre> <div class="fragment"><div class="line"><span class="lineno">  155</span><span class="keyword">def </span>open(path, mode=&#39;r&#39;, destpath=os.curdir, encoding=None, newline=None):</div>
<div class="line"><span class="lineno">  156</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral">    Open `path` with `mode` and return the file object.</span></div>
<div class="line"><span class="lineno">  158</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  159</span><span class="stringliteral">    If ``path`` is an URL, it will be downloaded, stored in the</span></div>
<div class="line"><span class="lineno">  160</span><span class="stringliteral">    `DataSource` `destpath` directory and opened from there.</span></div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  162</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral">    path : str</span></div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">        Local file path or URL to open.</span></div>
<div class="line"><span class="lineno">  166</span><span class="stringliteral">    mode : str, optional</span></div>
<div class="line"><span class="lineno">  167</span><span class="stringliteral">        Mode to open `path`. Mode &#39;r&#39; for reading, &#39;w&#39; for writing, &#39;a&#39; to</span></div>
<div class="line"><span class="lineno">  168</span><span class="stringliteral">        append. Available modes depend on the type of object specified by</span></div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral">        path.  Default is &#39;r&#39;.</span></div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral">    destpath : str, optional</span></div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">        Path to the directory where the source file gets downloaded to for</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">        use.  If `destpath` is None, a temporary directory will be created.</span></div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">        The default path is the current directory.</span></div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral">    encoding : {None, str}, optional</span></div>
<div class="line"><span class="lineno">  175</span><span class="stringliteral">        Open text file with given encoding. The default encoding will be</span></div>
<div class="line"><span class="lineno">  176</span><span class="stringliteral">        what `io.open` uses.</span></div>
<div class="line"><span class="lineno">  177</span><span class="stringliteral">    newline : {None, str}, optional</span></div>
<div class="line"><span class="lineno">  178</span><span class="stringliteral">        Newline to use when reading text file.</span></div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  182</span><span class="stringliteral">    out : file object</span></div>
<div class="line"><span class="lineno">  183</span><span class="stringliteral">        The opened file.</span></div>
<div class="line"><span class="lineno">  184</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  185</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral">    This is a convenience function that instantiates a `DataSource` and</span></div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral">    returns the file object from ``DataSource.open(path)``.</span></div>
<div class="line"><span class="lineno">  189</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  190</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>    ds = DataSource(destpath)</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">return</span> ds.open(path, mode, encoding=encoding, newline=newline)</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span><span class="preprocessor">@set_module(&#39;numpy&#39;)</span></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a6cb7dc2c00e7e3748ffd2247d877ed5e" name="a6cb7dc2c00e7e3748ffd2247d877ed5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb7dc2c00e7e3748ffd2247d877ed5e">&#9670;&#160;</a></span>_file_openers</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib._datasource._file_openers = <a class="el" href="classnumpy_1_1lib_1_1__datasource_1_1___file_openers.html">_FileOpeners</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae957350f9f6f10dd46cb17411a249c46" name="ae957350f9f6f10dd46cb17411a249c46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae957350f9f6f10dd46cb17411a249c46">&#9670;&#160;</a></span>_open</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib._datasource._open = <a class="el" href="namespacenumpy_1_1lib_1_1__datasource.html#a84bc14ce937b5fc390808614265dd6aa">open</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
