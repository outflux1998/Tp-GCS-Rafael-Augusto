<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: scipy.optimize.tests.test_optimize.TestOptimizeSimple Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacescipy.html">scipy</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1optimize.html">optimize</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1optimize_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1optimize_1_1tests_1_1test__optimize.html">test_optimize</a></li><li class="navelem"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html">TestOptimizeSimple</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">scipy.optimize.tests.test_optimize.TestOptimizeSimple Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for scipy.optimize.tests.test_optimize.TestOptimizeSimple:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.png" usemap="#scipy.optimize.tests.test_5Foptimize.TestOptimizeSimple_map" alt=""/>
  <map id="scipy.optimize.tests.test_5Foptimize.TestOptimizeSimple_map" name="scipy.optimize.tests.test_5Foptimize.TestOptimizeSimple_map">
<area href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html" alt="scipy.optimize.tests.test_optimize.CheckOptimize" shape="rect" coords="0,0,307,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8eeabc3f0dafd23b296d8a4c5c78da25" id="r_a8eeabc3f0dafd23b296d8a4c5c78da25"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a8eeabc3f0dafd23b296d8a4c5c78da25">test_bfgs_nan</a> (self)</td></tr>
<tr class="separator:a8eeabc3f0dafd23b296d8a4c5c78da25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747402dc9ad211d9f5cde8956d6efa58" id="r_a747402dc9ad211d9f5cde8956d6efa58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a747402dc9ad211d9f5cde8956d6efa58">test_bfgs_nan_return</a> (self)</td></tr>
<tr class="separator:a747402dc9ad211d9f5cde8956d6efa58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47659fb024e300ef99eb68a07dfa8002" id="r_a47659fb024e300ef99eb68a07dfa8002"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a47659fb024e300ef99eb68a07dfa8002">test_bfgs_numerical_jacobian</a> (self)</td></tr>
<tr class="separator:a47659fb024e300ef99eb68a07dfa8002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa26ee6c6b2185b003b871955aaaafd4d" id="r_aa26ee6c6b2185b003b871955aaaafd4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#aa26ee6c6b2185b003b871955aaaafd4d">test_finite_differences_jac</a> (self)</td></tr>
<tr class="separator:aa26ee6c6b2185b003b871955aaaafd4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec76afff370f71b30b583aa46abe9331" id="r_aec76afff370f71b30b583aa46abe9331"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#aec76afff370f71b30b583aa46abe9331">test_finite_differences_hess</a> (self)</td></tr>
<tr class="separator:aec76afff370f71b30b583aa46abe9331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad920e9e9144806f295bfe254b6b2afa4" id="r_ad920e9e9144806f295bfe254b6b2afa4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#ad920e9e9144806f295bfe254b6b2afa4">test_bfgs_gh_2169</a> (self)</td></tr>
<tr class="separator:ad920e9e9144806f295bfe254b6b2afa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f0a3503072848db2e202f5117bac64" id="r_aa7f0a3503072848db2e202f5117bac64"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#aa7f0a3503072848db2e202f5117bac64">test_bfgs_double_evaluations</a> (self)</td></tr>
<tr class="separator:aa7f0a3503072848db2e202f5117bac64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad52f7043edba92ca18fe4863a7f77e0" id="r_aad52f7043edba92ca18fe4863a7f77e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#aad52f7043edba92ca18fe4863a7f77e0">test_l_bfgs_b</a> (self)</td></tr>
<tr class="separator:aad52f7043edba92ca18fe4863a7f77e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa740736fba7cd369c2b51bdb46d733d6" id="r_aa740736fba7cd369c2b51bdb46d733d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#aa740736fba7cd369c2b51bdb46d733d6">test_l_bfgs_b_numjac</a> (self)</td></tr>
<tr class="separator:aa740736fba7cd369c2b51bdb46d733d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aca7ca259664c9a4c8f37afe889612d" id="r_a6aca7ca259664c9a4c8f37afe889612d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a6aca7ca259664c9a4c8f37afe889612d">test_l_bfgs_b_funjac</a> (self)</td></tr>
<tr class="separator:a6aca7ca259664c9a4c8f37afe889612d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a785e6016e7b9424b4c4fce4526a5d7c5" id="r_a785e6016e7b9424b4c4fce4526a5d7c5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a785e6016e7b9424b4c4fce4526a5d7c5">test_l_bfgs_b_maxiter</a> (self)</td></tr>
<tr class="separator:a785e6016e7b9424b4c4fce4526a5d7c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7936aa0d29cd486db3806c500b96768d" id="r_a7936aa0d29cd486db3806c500b96768d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a7936aa0d29cd486db3806c500b96768d">test_minimize_l_bfgs_b</a> (self)</td></tr>
<tr class="separator:a7936aa0d29cd486db3806c500b96768d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d4c63b8999b19d88c90e74ee3cdc5a" id="r_a34d4c63b8999b19d88c90e74ee3cdc5a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a34d4c63b8999b19d88c90e74ee3cdc5a">test_minimize_l_bfgs_b_ftol</a> (self)</td></tr>
<tr class="separator:a34d4c63b8999b19d88c90e74ee3cdc5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae438675877de0d50d3ffa389733739a8" id="r_ae438675877de0d50d3ffa389733739a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#ae438675877de0d50d3ffa389733739a8">test_minimize_l_bfgs_maxls</a> (self)</td></tr>
<tr class="separator:ae438675877de0d50d3ffa389733739a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac52959e86f4a8b0636ac1ed36673dcd9" id="r_ac52959e86f4a8b0636ac1ed36673dcd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#ac52959e86f4a8b0636ac1ed36673dcd9">test_minimize_l_bfgs_b_maxfun_interruption</a> (self)</td></tr>
<tr class="separator:ac52959e86f4a8b0636ac1ed36673dcd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ce3fc596b0c7e84af7a739991e6d843" id="r_a5ce3fc596b0c7e84af7a739991e6d843"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a5ce3fc596b0c7e84af7a739991e6d843">test_custom</a> (self)</td></tr>
<tr class="separator:a5ce3fc596b0c7e84af7a739991e6d843"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80eb766cd7cbb85167883c4133a13bfd" id="r_a80eb766cd7cbb85167883c4133a13bfd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a80eb766cd7cbb85167883c4133a13bfd">test_gh13321</a> (self, capfd)</td></tr>
<tr class="separator:a80eb766cd7cbb85167883c4133a13bfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbeee0cf92dfbc295f15729ad3d0b95" id="r_a5dbeee0cf92dfbc295f15729ad3d0b95"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a5dbeee0cf92dfbc295f15729ad3d0b95">test_gh10771</a> (self)</td></tr>
<tr class="separator:a5dbeee0cf92dfbc295f15729ad3d0b95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5a1bc35c885362d59d64444c84cbbf3" id="r_ad5a1bc35c885362d59d64444c84cbbf3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#ad5a1bc35c885362d59d64444c84cbbf3">test_minimize_tol_parameter</a> (self)</td></tr>
<tr class="separator:ad5a1bc35c885362d59d64444c84cbbf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f345ff974ade21102d6891e676b69a1" id="r_a9f345ff974ade21102d6891e676b69a1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a9f345ff974ade21102d6891e676b69a1">test_minimize_callback_copies_array</a> (self, method)</td></tr>
<tr class="separator:a9f345ff974ade21102d6891e676b69a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24cc3d2152d84ef3b7f50f4859fef7d7" id="r_a24cc3d2152d84ef3b7f50f4859fef7d7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a24cc3d2152d84ef3b7f50f4859fef7d7">test_no_increase</a> (self, method)</td></tr>
<tr class="separator:a24cc3d2152d84ef3b7f50f4859fef7d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14dcf3b37322577955c512706ecbf846" id="r_a14dcf3b37322577955c512706ecbf846"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a14dcf3b37322577955c512706ecbf846">test_slsqp_respect_bounds</a> (self)</td></tr>
<tr class="separator:a14dcf3b37322577955c512706ecbf846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa454ff3b067988959e09eb3dedb6e67e" id="r_aa454ff3b067988959e09eb3dedb6e67e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#aa454ff3b067988959e09eb3dedb6e67e">test_respect_maxiter</a> (self, method)</td></tr>
<tr class="separator:aa454ff3b067988959e09eb3dedb6e67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4c6292947ae20bfadb376b2ee05ac3f" id="r_ac4c6292947ae20bfadb376b2ee05ac3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#ac4c6292947ae20bfadb376b2ee05ac3f">test_runtime_warning</a> (self, method)</td></tr>
<tr class="separator:ac4c6292947ae20bfadb376b2ee05ac3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf474006a92d0181f746003efaca27a7" id="r_adf474006a92d0181f746003efaca27a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#adf474006a92d0181f746003efaca27a7">test_respect_maxiter_trust_constr_ineq_constraints</a> (self)</td></tr>
<tr class="separator:adf474006a92d0181f746003efaca27a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8710e11eba97c4b73b825d697dfb1593" id="r_a8710e11eba97c4b73b825d697dfb1593"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a8710e11eba97c4b73b825d697dfb1593">test_minimize_automethod</a> (self)</td></tr>
<tr class="separator:a8710e11eba97c4b73b825d697dfb1593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0993aff002856bc9b9612a7114e5024" id="r_ab0993aff002856bc9b9612a7114e5024"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#ab0993aff002856bc9b9612a7114e5024">test_minimize_coerce_args_param</a> (self)</td></tr>
<tr class="separator:ab0993aff002856bc9b9612a7114e5024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55e80078b88f25f060e61fdf382e5ade" id="r_a55e80078b88f25f060e61fdf382e5ade"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a55e80078b88f25f060e61fdf382e5ade">test_initial_step_scaling</a> (self)</td></tr>
<tr class="separator:a55e80078b88f25f060e61fdf382e5ade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f2b8e80ffbdc0b912f91fcf7fdfc846" id="r_a2f2b8e80ffbdc0b912f91fcf7fdfc846"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a2f2b8e80ffbdc0b912f91fcf7fdfc846">test_nan_values</a> (self, method)</td></tr>
<tr class="separator:a2f2b8e80ffbdc0b912f91fcf7fdfc846"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a022fee606e76582078ab4005754e54ba" id="r_a022fee606e76582078ab4005754e54ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a022fee606e76582078ab4005754e54ba">test_duplicate_evaluations</a> (self, method)</td></tr>
<tr class="separator:a022fee606e76582078ab4005754e54ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html">scipy.optimize.tests.test_optimize.CheckOptimize</a></td></tr>
<tr class="memitem:aac7ad6868cec3a9ba0de5db811364e96 inherit pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_aac7ad6868cec3a9ba0de5db811364e96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#aac7ad6868cec3a9ba0de5db811364e96">setup_method</a> (self)</td></tr>
<tr class="separator:aac7ad6868cec3a9ba0de5db811364e96 inherit pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a221f4ac8f94d0e7d5bdf6e5b841eeead inherit pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_a221f4ac8f94d0e7d5bdf6e5b841eeead"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#a221f4ac8f94d0e7d5bdf6e5b841eeead">func</a> (self, <a class="el" href="namespacescipy_1_1optimize_1_1__nonlin.html#a9f63beec99dbf869db2b02f71b2dd31e">x</a>)</td></tr>
<tr class="separator:a221f4ac8f94d0e7d5bdf6e5b841eeead inherit pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d17cf025e055254d7abbdbdb3c25ee6 inherit pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_a0d17cf025e055254d7abbdbdb3c25ee6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#a0d17cf025e055254d7abbdbdb3c25ee6">grad</a> (self, <a class="el" href="namespacescipy_1_1optimize_1_1__nonlin.html#a9f63beec99dbf869db2b02f71b2dd31e">x</a>)</td></tr>
<tr class="separator:a0d17cf025e055254d7abbdbdb3c25ee6 inherit pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a270904d92b01c0f588116974e4889ebd inherit pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_a270904d92b01c0f588116974e4889ebd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#a270904d92b01c0f588116974e4889ebd">hess</a> (self, <a class="el" href="namespacescipy_1_1optimize_1_1__nonlin.html#a9f63beec99dbf869db2b02f71b2dd31e">x</a>)</td></tr>
<tr class="separator:a270904d92b01c0f588116974e4889ebd inherit pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7d9ad945ac48ee940492e1c1c78a0c0 inherit pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_ae7d9ad945ac48ee940492e1c1c78a0c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#ae7d9ad945ac48ee940492e1c1c78a0c0">hessp</a> (self, <a class="el" href="namespacescipy_1_1optimize_1_1__nonlin.html#a9f63beec99dbf869db2b02f71b2dd31e">x</a>, p)</td></tr>
<tr class="separator:ae7d9ad945ac48ee940492e1c1c78a0c0 inherit pub_methods_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2169a9a7cf00998af10265fd6672870e" id="r_a2169a9a7cf00998af10265fd6672870e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a2169a9a7cf00998af10265fd6672870e">solution</a></td></tr>
<tr class="separator:a2169a9a7cf00998af10265fd6672870e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6c9bea178a17cc3b643c368ee051e94" id="r_aa6c9bea178a17cc3b643c368ee051e94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#aa6c9bea178a17cc3b643c368ee051e94">func</a></td></tr>
<tr class="separator:aa6c9bea178a17cc3b643c368ee051e94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23391fe5aa47ddc6bdda68645ef46fb9" id="r_a23391fe5aa47ddc6bdda68645ef46fb9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a23391fe5aa47ddc6bdda68645ef46fb9">startparams</a></td></tr>
<tr class="separator:a23391fe5aa47ddc6bdda68645ef46fb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accb1322a470a383f0a27373717d6cd66" id="r_accb1322a470a383f0a27373717d6cd66"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#accb1322a470a383f0a27373717d6cd66">grad</a></td></tr>
<tr class="separator:accb1322a470a383f0a27373717d6cd66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9467c878e88ea9e9fd95e4536107e42" id="r_ae9467c878e88ea9e9fd95e4536107e42"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#ae9467c878e88ea9e9fd95e4536107e42">funccalls</a></td></tr>
<tr class="separator:ae9467c878e88ea9e9fd95e4536107e42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4c1b1e73869f3ca3b659c2776867f32" id="r_af4c1b1e73869f3ca3b659c2776867f32"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#af4c1b1e73869f3ca3b659c2776867f32">gradcalls</a></td></tr>
<tr class="separator:af4c1b1e73869f3ca3b659c2776867f32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c3fe9a279d92d3e5b1fa26d9e0582fe" id="r_a9c3fe9a279d92d3e5b1fa26d9e0582fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a9c3fe9a279d92d3e5b1fa26d9e0582fe">nit</a></td></tr>
<tr class="separator:a9c3fe9a279d92d3e5b1fa26d9e0582fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6998d13c9b04033c08f76bafa027ff43" id="r_a6998d13c9b04033c08f76bafa027ff43"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a6998d13c9b04033c08f76bafa027ff43">fun</a></td></tr>
<tr class="separator:a6998d13c9b04033c08f76bafa027ff43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef7993854a025ce690924f0c70031706" id="r_aef7993854a025ce690924f0c70031706"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#aef7993854a025ce690924f0c70031706">x</a></td></tr>
<tr class="separator:aef7993854a025ce690924f0c70031706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a674d7f54b719a50c6d3c6ac2f2fa7b98" id="r_a674d7f54b719a50c6d3c6ac2f2fa7b98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_test_optimize_simple.html#a674d7f54b719a50c6d3c6ac2f2fa7b98">trace</a></td></tr>
<tr class="separator:a674d7f54b719a50c6d3c6ac2f2fa7b98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html">scipy.optimize.tests.test_optimize.CheckOptimize</a></td></tr>
<tr class="memitem:af87c37d4881022fb697523cf3421cc0f inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_af87c37d4881022fb697523cf3421cc0f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#af87c37d4881022fb697523cf3421cc0f">F</a></td></tr>
<tr class="separator:af87c37d4881022fb697523cf3421cc0f inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4798a0ca0fbbc86a8de84a370e8bc8e0 inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_a4798a0ca0fbbc86a8de84a370e8bc8e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#a4798a0ca0fbbc86a8de84a370e8bc8e0">K</a></td></tr>
<tr class="separator:a4798a0ca0fbbc86a8de84a370e8bc8e0 inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a158f7ccb44f8e3fd6caba48c18fa1e1e inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_a158f7ccb44f8e3fd6caba48c18fa1e1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#a158f7ccb44f8e3fd6caba48c18fa1e1e">startparams</a></td></tr>
<tr class="separator:a158f7ccb44f8e3fd6caba48c18fa1e1e inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab724233fb0397c21d264c2fc29e4abcd inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_ab724233fb0397c21d264c2fc29e4abcd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#ab724233fb0397c21d264c2fc29e4abcd">solution</a></td></tr>
<tr class="separator:ab724233fb0397c21d264c2fc29e4abcd inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae438d88cbd631deea5c87b9cdd98fd54 inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_ae438d88cbd631deea5c87b9cdd98fd54"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#ae438d88cbd631deea5c87b9cdd98fd54">maxiter</a></td></tr>
<tr class="separator:ae438d88cbd631deea5c87b9cdd98fd54 inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85570164421c4f24cf697e58300d9425 inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_a85570164421c4f24cf697e58300d9425"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#a85570164421c4f24cf697e58300d9425">funccalls</a></td></tr>
<tr class="separator:a85570164421c4f24cf697e58300d9425 inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64182156edc36f29a0ca75da5295d6f9 inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_a64182156edc36f29a0ca75da5295d6f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#a64182156edc36f29a0ca75da5295d6f9">gradcalls</a></td></tr>
<tr class="separator:a64182156edc36f29a0ca75da5295d6f9 inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1dc7b1ac3830cee6aee70b612322240 inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize" id="r_ab1dc7b1ac3830cee6aee70b612322240"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize.html#ab1dc7b1ac3830cee6aee70b612322240">trace</a></td></tr>
<tr class="separator:ab1dc7b1ac3830cee6aee70b612322240 inherit pub_attribs_classscipy_1_1optimize_1_1tests_1_1test__optimize_1_1_check_optimize"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aa7f0a3503072848db2e202f5117bac64" name="aa7f0a3503072848db2e202f5117bac64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7f0a3503072848db2e202f5117bac64">&#9670;&#160;</a></span>test_bfgs_double_evaluations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_bfgs_double_evaluations </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  866</span>    <span class="keyword">def </span>test_bfgs_double_evaluations(self):</div>
<div class="line"><span class="lineno">  867</span>        <span class="comment"># check BFGS does not evaluate twice in a row at same point</span></div>
<div class="line"><span class="lineno">  868</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno">  869</span>            xp = x[0]</div>
<div class="line"><span class="lineno">  870</span>            <span class="keyword">assert</span> xp <span class="keywordflow">not</span> <span class="keywordflow">in</span> seen</div>
<div class="line"><span class="lineno">  871</span>            seen.add(xp)</div>
<div class="line"><span class="lineno">  872</span>            <span class="keywordflow">return</span> 10*x**2, 20*x</div>
<div class="line"><span class="lineno">  873</span> </div>
<div class="line"><span class="lineno">  874</span>        seen = set()</div>
<div class="line"><span class="lineno">  875</span>        optimize.minimize(f, -100, method=<span class="stringliteral">&#39;bfgs&#39;</span>, jac=<span class="keyword">True</span>, tol=1e-7)</div>
<div class="line"><span class="lineno">  876</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_af01a903df7bdb7a494f5827e45bf3a2a"><div class="ttname"><a href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a></div><div class="ttdeci">void int int int int npy_complex64 int int npy_complex64 float float npy_complex64 npy_complex64 * f</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:262</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad920e9e9144806f295bfe254b6b2afa4" name="ad920e9e9144806f295bfe254b6b2afa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad920e9e9144806f295bfe254b6b2afa4">&#9670;&#160;</a></span>test_bfgs_gh_2169()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_bfgs_gh_2169 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  857</span>    <span class="keyword">def </span>test_bfgs_gh_2169(self):</div>
<div class="line"><span class="lineno">  858</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno">  859</span>            <span class="keywordflow">if</span> x &lt; 0:</div>
<div class="line"><span class="lineno">  860</span>                <span class="keywordflow">return</span> 1.79769313e+308</div>
<div class="line"><span class="lineno">  861</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  862</span>                <span class="keywordflow">return</span> x + 1./x</div>
<div class="line"><span class="lineno">  863</span>        xs = optimize.fmin_bfgs(f, [10.], disp=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  864</span>        assert_allclose(xs, 1.0, rtol=1e-4, atol=1e-4)</div>
<div class="line"><span class="lineno">  865</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8eeabc3f0dafd23b296d8a4c5c78da25" name="a8eeabc3f0dafd23b296d8a4c5c78da25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8eeabc3f0dafd23b296d8a4c5c78da25">&#9670;&#160;</a></span>test_bfgs_nan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_bfgs_nan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  781</span>    <span class="keyword">def </span>test_bfgs_nan(self):</div>
<div class="line"><span class="lineno">  782</span>        <span class="comment"># Test corner case where nan is fed to optimizer.  See gh-2067.</span></div>
<div class="line"><span class="lineno">  783</span>        func = <span class="keyword">lambda</span> x: x</div>
<div class="line"><span class="lineno">  784</span>        fprime = <span class="keyword">lambda</span> x: np.ones_like(x)</div>
<div class="line"><span class="lineno">  785</span>        x0 = [np.nan]</div>
<div class="line"><span class="lineno">  786</span>        <span class="keyword">with</span> np.errstate(over=<span class="stringliteral">&#39;ignore&#39;</span>, invalid=<span class="stringliteral">&#39;ignore&#39;</span>):</div>
<div class="line"><span class="lineno">  787</span>            x = optimize.fmin_bfgs(func, x0, fprime, disp=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  788</span>            <span class="keyword">assert</span> np.isnan(<a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(x))</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="ttc" id="acallback_2foo_8f_html_a565fe2cc583df102f120752b0011c330"><div class="ttname"><a href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a></div><div class="ttdeci">subroutine func(a)</div><div class="ttdef"><b>Definition</b> foo.f:9</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a747402dc9ad211d9f5cde8956d6efa58" name="a747402dc9ad211d9f5cde8956d6efa58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a747402dc9ad211d9f5cde8956d6efa58">&#9670;&#160;</a></span>test_bfgs_nan_return()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_bfgs_nan_return </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  790</span>    <span class="keyword">def </span>test_bfgs_nan_return(self):</div>
<div class="line"><span class="lineno">  791</span>        <span class="comment"># Test corner cases where fun returns NaN. See gh-4793.</span></div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>        <span class="comment"># First case: NaN from first call.</span></div>
<div class="line"><span class="lineno">  794</span>        func = <span class="keyword">lambda</span> x: np.nan</div>
<div class="line"><span class="lineno">  795</span>        <span class="keyword">with</span> np.errstate(invalid=<span class="stringliteral">&#39;ignore&#39;</span>):</div>
<div class="line"><span class="lineno">  796</span>            result = optimize.minimize(func, 0)</div>
<div class="line"><span class="lineno">  797</span> </div>
<div class="line"><span class="lineno">  798</span>        <span class="keyword">assert</span> np.isnan(result[<span class="stringliteral">&#39;fun&#39;</span>])</div>
<div class="line"><span class="lineno">  799</span>        <span class="keyword">assert</span> result[<span class="stringliteral">&#39;success&#39;</span>] <span class="keywordflow">is</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span>        <span class="comment"># Second case: NaN from second call.</span></div>
<div class="line"><span class="lineno">  802</span>        func = <span class="keyword">lambda</span> x: 0 <span class="keywordflow">if</span> x == 0 <span class="keywordflow">else</span> np.nan</div>
<div class="line"><span class="lineno">  803</span>        fprime = <span class="keyword">lambda</span> x: np.ones_like(x)  <span class="comment"># Steer away from zero.</span></div>
<div class="line"><span class="lineno">  804</span>        <span class="keyword">with</span> np.errstate(invalid=<span class="stringliteral">&#39;ignore&#39;</span>):</div>
<div class="line"><span class="lineno">  805</span>            result = optimize.minimize(func, 0, jac=fprime)</div>
<div class="line"><span class="lineno">  806</span> </div>
<div class="line"><span class="lineno">  807</span>        <span class="keyword">assert</span> np.isnan(result[<span class="stringliteral">&#39;fun&#39;</span>])</div>
<div class="line"><span class="lineno">  808</span>        <span class="keyword">assert</span> result[<span class="stringliteral">&#39;success&#39;</span>] <span class="keywordflow">is</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  809</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a47659fb024e300ef99eb68a07dfa8002" name="a47659fb024e300ef99eb68a07dfa8002"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47659fb024e300ef99eb68a07dfa8002">&#9670;&#160;</a></span>test_bfgs_numerical_jacobian()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_bfgs_numerical_jacobian </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  810</span>    <span class="keyword">def </span>test_bfgs_numerical_jacobian(self):</div>
<div class="line"><span class="lineno">  811</span>        <span class="comment"># BFGS with numerical Jacobian and a vector epsilon parameter.</span></div>
<div class="line"><span class="lineno">  812</span>        <span class="comment"># define the epsilon parameter using a random vector</span></div>
<div class="line"><span class="lineno">  813</span>        epsilon = np.sqrt(np.spacing(1.)) * np.random.rand(len(self.solution))</div>
<div class="line"><span class="lineno">  814</span> </div>
<div class="line"><span class="lineno">  815</span>        params = optimize.fmin_bfgs(self.func, self.startparams,</div>
<div class="line"><span class="lineno">  816</span>                                    epsilon=epsilon, args=(),</div>
<div class="line"><span class="lineno">  817</span>                                    maxiter=self.maxiter, disp=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>        assert_allclose(self.func(params), self.func(self.solution),</div>
<div class="line"><span class="lineno">  820</span>                        atol=1e-6)</div>
<div class="line"><span class="lineno">  821</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ce3fc596b0c7e84af7a739991e6d843" name="a5ce3fc596b0c7e84af7a739991e6d843"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ce3fc596b0c7e84af7a739991e6d843">&#9670;&#160;</a></span>test_custom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_custom </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1028</span>    <span class="keyword">def </span>test_custom(self):</div>
<div class="line"><span class="lineno"> 1029</span>        <span class="comment"># This function comes from the documentation example.</span></div>
<div class="line"><span class="lineno"> 1030</span>        <span class="keyword">def </span>custmin(fun, x0, args=(), maxfev=<span class="keywordtype">None</span>, stepsize=0.1,</div>
<div class="line"><span class="lineno"> 1031</span>                    maxiter=100, callback=<span class="keywordtype">None</span>, **options):</div>
<div class="line"><span class="lineno"> 1032</span>            bestx = x0</div>
<div class="line"><span class="lineno"> 1033</span>            besty = fun(x0)</div>
<div class="line"><span class="lineno"> 1034</span>            funcalls = 1</div>
<div class="line"><span class="lineno"> 1035</span>            niter = 0</div>
<div class="line"><span class="lineno"> 1036</span>            improved = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1037</span>            stop = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1038</span> </div>
<div class="line"><span class="lineno"> 1039</span>            <span class="keywordflow">while</span> improved <span class="keywordflow">and</span> <span class="keywordflow">not</span> stop <span class="keywordflow">and</span> niter &lt; maxiter:</div>
<div class="line"><span class="lineno"> 1040</span>                improved = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1041</span>                niter += 1</div>
<div class="line"><span class="lineno"> 1042</span>                <span class="keywordflow">for</span> dim <span class="keywordflow">in</span> range(np.size(x0)):</div>
<div class="line"><span class="lineno"> 1043</span>                    <span class="keywordflow">for</span> s <span class="keywordflow">in</span> [bestx[dim] - stepsize, bestx[dim] + stepsize]:</div>
<div class="line"><span class="lineno"> 1044</span>                        testx = np.copy(bestx)</div>
<div class="line"><span class="lineno"> 1045</span>                        testx[dim] = s</div>
<div class="line"><span class="lineno"> 1046</span>                        testy = fun(testx, *args)</div>
<div class="line"><span class="lineno"> 1047</span>                        funcalls += 1</div>
<div class="line"><span class="lineno"> 1048</span>                        <span class="keywordflow">if</span> testy &lt; besty:</div>
<div class="line"><span class="lineno"> 1049</span>                            besty = testy</div>
<div class="line"><span class="lineno"> 1050</span>                            bestx = testx</div>
<div class="line"><span class="lineno"> 1051</span>                            improved = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1052</span>                    <span class="keywordflow">if</span> callback <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1053</span>                        callback(bestx)</div>
<div class="line"><span class="lineno"> 1054</span>                    <span class="keywordflow">if</span> maxfev <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> funcalls &gt;= maxfev:</div>
<div class="line"><span class="lineno"> 1055</span>                        stop = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1056</span>                        <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1057</span> </div>
<div class="line"><span class="lineno"> 1058</span>            <span class="keywordflow">return</span> optimize.OptimizeResult(fun=besty, x=bestx, nit=niter,</div>
<div class="line"><span class="lineno"> 1059</span>                                           nfev=funcalls, success=(niter &gt; 1))</div>
<div class="line"><span class="lineno"> 1060</span> </div>
<div class="line"><span class="lineno"> 1061</span>        x0 = [1.35, 0.9, 0.8, 1.1, 1.2]</div>
<div class="line"><span class="lineno"> 1062</span>        res = optimize.minimize(optimize.rosen, x0, method=custmin,</div>
<div class="line"><span class="lineno"> 1063</span>                                options=dict(stepsize=0.05))</div>
<div class="line"><span class="lineno"> 1064</span>        assert_allclose(res.x, 1.0, rtol=1e-4, atol=1e-4)</div>
<div class="line"><span class="lineno"> 1065</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a022fee606e76582078ab4005754e54ba" name="a022fee606e76582078ab4005754e54ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a022fee606e76582078ab4005754e54ba">&#9670;&#160;</a></span>test_duplicate_evaluations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_duplicate_evaluations </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1457</span>    <span class="keyword">def </span>test_duplicate_evaluations(self, method):</div>
<div class="line"><span class="lineno"> 1458</span>        <span class="comment"># check that there are no duplicate evaluations for any methods</span></div>
<div class="line"><span class="lineno"> 1459</span>        jac = hess = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1460</span>        <span class="keywordflow">if</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;newton-cg&#39;</span>, <span class="stringliteral">&#39;trust-krylov&#39;</span>, <span class="stringliteral">&#39;trust-exact&#39;</span>,</div>
<div class="line"><span class="lineno"> 1461</span>                      <span class="stringliteral">&#39;trust-ncg&#39;</span>, <span class="stringliteral">&#39;dogleg&#39;</span>):</div>
<div class="line"><span class="lineno"> 1462</span>            jac = self.grad</div>
<div class="line"><span class="lineno"> 1463</span>        <span class="keywordflow">if</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;trust-krylov&#39;</span>, <span class="stringliteral">&#39;trust-exact&#39;</span>, <span class="stringliteral">&#39;trust-ncg&#39;</span>,</div>
<div class="line"><span class="lineno"> 1464</span>                      <span class="stringliteral">&#39;dogleg&#39;</span>):</div>
<div class="line"><span class="lineno"> 1465</span>            hess = self.hess</div>
<div class="line"><span class="lineno"> 1466</span> </div>
<div class="line"><span class="lineno"> 1467</span>        <span class="keyword">with</span> np.errstate(invalid=<span class="stringliteral">&#39;ignore&#39;</span>), suppress_warnings() <span class="keyword">as</span> sup:</div>
<div class="line"><span class="lineno"> 1468</span>            <span class="comment"># for trust-constr</span></div>
<div class="line"><span class="lineno"> 1469</span>            sup.filter(UserWarning, <span class="stringliteral">&quot;delta_grad == 0.*&quot;</span>)</div>
<div class="line"><span class="lineno"> 1470</span>            optimize.minimize(self.func, self.startparams,</div>
<div class="line"><span class="lineno"> 1471</span>                              method=method, jac=jac, hess=hess)</div>
<div class="line"><span class="lineno"> 1472</span> </div>
<div class="line"><span class="lineno"> 1473</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, len(self.trace)):</div>
<div class="line"><span class="lineno"> 1474</span>            <span class="keywordflow">if</span> np.array_equal(self.trace[i - 1], self.trace[i]):</div>
<div class="line"><span class="lineno"> 1475</span>                <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno"> 1476</span>                    <span class="stringliteral">&quot;Duplicate evaluations made by {}&quot;</span>.format(method))</div>
<div class="line"><span class="lineno"> 1477</span> </div>
<div class="line"><span class="lineno"> 1478</span> </div>
<div class="line"><span class="lineno"> 1479</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
</div><!-- fragment -->
</div>
</div>
<a id="aec76afff370f71b30b583aa46abe9331" name="aec76afff370f71b30b583aa46abe9331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec76afff370f71b30b583aa46abe9331">&#9670;&#160;</a></span>test_finite_differences_hess()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_finite_differences_hess </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  831</span>    <span class="keyword">def </span>test_finite_differences_hess(self):</div>
<div class="line"><span class="lineno">  832</span>        <span class="comment"># test that all the methods that require hess can use finite-difference</span></div>
<div class="line"><span class="lineno">  833</span>        <span class="comment"># For Newton-CG, trust-ncg, trust-krylov the FD estimated hessian is</span></div>
<div class="line"><span class="lineno">  834</span>        <span class="comment"># wrapped in a hessp function</span></div>
<div class="line"><span class="lineno">  835</span>        <span class="comment"># dogleg, trust-exact actually require true hessians at the moment, so</span></div>
<div class="line"><span class="lineno">  836</span>        <span class="comment"># they&#39;re excluded.</span></div>
<div class="line"><span class="lineno">  837</span>        methods = [<span class="stringliteral">&#39;trust-constr&#39;</span>, <span class="stringliteral">&#39;Newton-CG&#39;</span>, <span class="stringliteral">&#39;trust-ncg&#39;</span>, <span class="stringliteral">&#39;trust-krylov&#39;</span>]</div>
<div class="line"><span class="lineno">  838</span>        hesses = FD_METHODS + (optimize.BFGS,)</div>
<div class="line"><span class="lineno">  839</span>        <span class="keywordflow">for</span> method, hess <span class="keywordflow">in</span> itertools.product(methods, hesses):</div>
<div class="line"><span class="lineno">  840</span>            <span class="keywordflow">if</span> hess <span class="keywordflow">is</span> optimize.BFGS:</div>
<div class="line"><span class="lineno">  841</span>                hess = hess()</div>
<div class="line"><span class="lineno">  842</span>            result = optimize.minimize(self.func, self.startparams,</div>
<div class="line"><span class="lineno">  843</span>                                       method=method, jac=self.grad,</div>
<div class="line"><span class="lineno">  844</span>                                       hess=hess)</div>
<div class="line"><span class="lineno">  845</span>            <span class="keyword">assert</span> result.success</div>
<div class="line"><span class="lineno">  846</span> </div>
<div class="line"><span class="lineno">  847</span>        <span class="comment"># check that the methods demand some sort of Hessian specification</span></div>
<div class="line"><span class="lineno">  848</span>        <span class="comment"># Newton-CG creates its own hessp, and trust-constr doesn&#39;t need a hess</span></div>
<div class="line"><span class="lineno">  849</span>        <span class="comment"># specified either</span></div>
<div class="line"><span class="lineno">  850</span>        methods = [<span class="stringliteral">&#39;trust-ncg&#39;</span>, <span class="stringliteral">&#39;trust-krylov&#39;</span>, <span class="stringliteral">&#39;dogleg&#39;</span>, <span class="stringliteral">&#39;trust-exact&#39;</span>]</div>
<div class="line"><span class="lineno">  851</span>        <span class="keywordflow">for</span> method <span class="keywordflow">in</span> methods:</div>
<div class="line"><span class="lineno">  852</span>            <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  853</span>                optimize.minimize(self.func, self.startparams,</div>
<div class="line"><span class="lineno">  854</span>                                  method=method, jac=self.grad,</div>
<div class="line"><span class="lineno">  855</span>                                  hess=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  856</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa26ee6c6b2185b003b871955aaaafd4d" name="aa26ee6c6b2185b003b871955aaaafd4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa26ee6c6b2185b003b871955aaaafd4d">&#9670;&#160;</a></span>test_finite_differences_jac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_finite_differences_jac </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  822</span>    <span class="keyword">def </span>test_finite_differences_jac(self):</div>
<div class="line"><span class="lineno">  823</span>        methods = [<span class="stringliteral">&#39;BFGS&#39;</span>, <span class="stringliteral">&#39;CG&#39;</span>, <span class="stringliteral">&#39;TNC&#39;</span>]</div>
<div class="line"><span class="lineno">  824</span>        jacs = [<span class="stringliteral">&#39;2-point&#39;</span>, <span class="stringliteral">&#39;3-point&#39;</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno">  825</span>        <span class="keywordflow">for</span> method, jac <span class="keywordflow">in</span> itertools.product(methods, jacs):</div>
<div class="line"><span class="lineno">  826</span>            result = optimize.minimize(self.func, self.startparams,</div>
<div class="line"><span class="lineno">  827</span>                                       method=method, jac=jac)</div>
<div class="line"><span class="lineno">  828</span>            assert_allclose(self.func(result.x), self.func(self.solution),</div>
<div class="line"><span class="lineno">  829</span>                            atol=1e-6)</div>
<div class="line"><span class="lineno">  830</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5dbeee0cf92dfbc295f15729ad3d0b95" name="a5dbeee0cf92dfbc295f15729ad3d0b95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5dbeee0cf92dfbc295f15729ad3d0b95">&#9670;&#160;</a></span>test_gh10771()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_gh10771 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1100</span>    <span class="keyword">def </span>test_gh10771(self):</div>
<div class="line"><span class="lineno"> 1101</span>        <span class="comment"># check that minimize passes bounds and constraints to a custom</span></div>
<div class="line"><span class="lineno"> 1102</span>        <span class="comment"># minimizer without altering them.</span></div>
<div class="line"><span class="lineno"> 1103</span>        bounds = [(-2, 2), (0, 3)]</div>
<div class="line"><span class="lineno"> 1104</span>        constraints = <span class="stringliteral">&#39;constraints&#39;</span></div>
<div class="line"><span class="lineno"> 1105</span> </div>
<div class="line"><span class="lineno"> 1106</span>        <span class="keyword">def </span>custmin(fun, x0, **options):</div>
<div class="line"><span class="lineno"> 1107</span>            <span class="keyword">assert</span> options[<span class="stringliteral">&#39;bounds&#39;</span>] <span class="keywordflow">is</span> bounds</div>
<div class="line"><span class="lineno"> 1108</span>            <span class="keyword">assert</span> options[<span class="stringliteral">&#39;constraints&#39;</span>] <span class="keywordflow">is</span> constraints</div>
<div class="line"><span class="lineno"> 1109</span>            <span class="keywordflow">return</span> optimize.OptimizeResult()</div>
<div class="line"><span class="lineno"> 1110</span> </div>
<div class="line"><span class="lineno"> 1111</span>        x0 = [1, 1]</div>
<div class="line"><span class="lineno"> 1112</span>        optimize.minimize(optimize.rosen, x0, method=custmin,</div>
<div class="line"><span class="lineno"> 1113</span>                          bounds=bounds, constraints=constraints)</div>
<div class="line"><span class="lineno"> 1114</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a80eb766cd7cbb85167883c4133a13bfd" name="a80eb766cd7cbb85167883c4133a13bfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80eb766cd7cbb85167883c4133a13bfd">&#9670;&#160;</a></span>test_gh13321()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_gh13321 </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>capfd</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1067</span>    <span class="keyword">def </span>test_gh13321(self, capfd):</div>
<div class="line"><span class="lineno"> 1068</span>        <span class="comment"># gh-13321 reported issues with console output in fmin_l_bfgs_b;</span></div>
<div class="line"><span class="lineno"> 1069</span>        <span class="comment"># check that iprint=0 works.</span></div>
<div class="line"><span class="lineno"> 1070</span>        kwargs = {<span class="stringliteral">&#39;func&#39;</span>: optimize.rosen, <span class="stringliteral">&#39;x0&#39;</span>: [4, 3],</div>
<div class="line"><span class="lineno"> 1071</span>                  <span class="stringliteral">&#39;fprime&#39;</span>: optimize.rosen_der, <span class="stringliteral">&#39;bounds&#39;</span>: ((3, 5), (3, 5))}</div>
<div class="line"><span class="lineno"> 1072</span> </div>
<div class="line"><span class="lineno"> 1073</span>        <span class="comment"># &quot;L-BFGS-B&quot; is always in output; should show when iprint &gt;= 0</span></div>
<div class="line"><span class="lineno"> 1074</span>        <span class="comment"># &quot;At iterate&quot; is iterate info; should show when iprint &gt;= 1</span></div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>        optimize.fmin_l_bfgs_b(**kwargs, iprint=-1)</div>
<div class="line"><span class="lineno"> 1077</span>        out, _ = capfd.readouterr()</div>
<div class="line"><span class="lineno"> 1078</span>        <span class="keyword">assert</span> <span class="stringliteral">&quot;L-BFGS-B&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> out <span class="keywordflow">and</span> <span class="stringliteral">&quot;At iterate&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> out</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>        optimize.fmin_l_bfgs_b(**kwargs, iprint=0)</div>
<div class="line"><span class="lineno"> 1081</span>        out, _ = capfd.readouterr()</div>
<div class="line"><span class="lineno"> 1082</span>        <span class="keyword">assert</span> <span class="stringliteral">&quot;L-BFGS-B&quot;</span> <span class="keywordflow">in</span> out <span class="keywordflow">and</span> <span class="stringliteral">&quot;At iterate&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> out</div>
<div class="line"><span class="lineno"> 1083</span> </div>
<div class="line"><span class="lineno"> 1084</span>        optimize.fmin_l_bfgs_b(**kwargs, iprint=1)</div>
<div class="line"><span class="lineno"> 1085</span>        out, _ = capfd.readouterr()</div>
<div class="line"><span class="lineno"> 1086</span>        <span class="keyword">assert</span> <span class="stringliteral">&quot;L-BFGS-B&quot;</span> <span class="keywordflow">in</span> out <span class="keywordflow">and</span> <span class="stringliteral">&quot;At iterate&quot;</span> <span class="keywordflow">in</span> out</div>
<div class="line"><span class="lineno"> 1087</span> </div>
<div class="line"><span class="lineno"> 1088</span>        <span class="comment"># `disp is not None` overrides `iprint` behavior</span></div>
<div class="line"><span class="lineno"> 1089</span>        <span class="comment"># `disp=0` should suppress all output</span></div>
<div class="line"><span class="lineno"> 1090</span>        <span class="comment"># `disp=1` should be the same as `iprint = 1`</span></div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>        optimize.fmin_l_bfgs_b(**kwargs, iprint=1, disp=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1093</span>        out, _ = capfd.readouterr()</div>
<div class="line"><span class="lineno"> 1094</span>        <span class="keyword">assert</span> <span class="stringliteral">&quot;L-BFGS-B&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> out <span class="keywordflow">and</span> <span class="stringliteral">&quot;At iterate&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> out</div>
<div class="line"><span class="lineno"> 1095</span> </div>
<div class="line"><span class="lineno"> 1096</span>        optimize.fmin_l_bfgs_b(**kwargs, iprint=-1, disp=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1097</span>        out, _ = capfd.readouterr()</div>
<div class="line"><span class="lineno"> 1098</span>        <span class="keyword">assert</span> <span class="stringliteral">&quot;L-BFGS-B&quot;</span> <span class="keywordflow">in</span> out <span class="keywordflow">and</span> <span class="stringliteral">&quot;At iterate&quot;</span> <span class="keywordflow">in</span> out</div>
<div class="line"><span class="lineno"> 1099</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a55e80078b88f25f060e61fdf382e5ade" name="a55e80078b88f25f060e61fdf382e5ade"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55e80078b88f25f060e61fdf382e5ade">&#9670;&#160;</a></span>test_initial_step_scaling()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_initial_step_scaling </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1350</span>    <span class="keyword">def </span>test_initial_step_scaling(self):</div>
<div class="line"><span class="lineno"> 1351</span>        <span class="comment"># Check that optimizer initial step is not huge even if the</span></div>
<div class="line"><span class="lineno"> 1352</span>        <span class="comment"># function and gradients are</span></div>
<div class="line"><span class="lineno"> 1353</span> </div>
<div class="line"><span class="lineno"> 1354</span>        scales = [1e-50, 1, 1e50]</div>
<div class="line"><span class="lineno"> 1355</span>        methods = [<span class="stringliteral">&#39;CG&#39;</span>, <span class="stringliteral">&#39;BFGS&#39;</span>, <span class="stringliteral">&#39;L-BFGS-B&#39;</span>, <span class="stringliteral">&#39;Newton-CG&#39;</span>]</div>
<div class="line"><span class="lineno"> 1356</span> </div>
<div class="line"><span class="lineno"> 1357</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno"> 1358</span>            <span class="keywordflow">if</span> first_step_size[0] <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> x[0] != x0[0]:</div>
<div class="line"><span class="lineno"> 1359</span>                first_step_size[0] = abs(x[0] - x0[0])</div>
<div class="line"><span class="lineno"> 1360</span>            <span class="keywordflow">if</span> abs(x).max() &gt; 1e4:</div>
<div class="line"><span class="lineno"> 1361</span>                <span class="keywordflow">raise</span> AssertionError(<span class="stringliteral">&quot;Optimization stepped far away!&quot;</span>)</div>
<div class="line"><span class="lineno"> 1362</span>            <span class="keywordflow">return</span> scale*(x[0] - 1)**2</div>
<div class="line"><span class="lineno"> 1363</span> </div>
<div class="line"><span class="lineno"> 1364</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#aeb0d2dd2a2609d5775607acf542b2161">g</a>(x):</div>
<div class="line"><span class="lineno"> 1365</span>            <span class="keywordflow">return</span> np.array([scale*(x[0] - 1)])</div>
<div class="line"><span class="lineno"> 1366</span> </div>
<div class="line"><span class="lineno"> 1367</span>        <span class="keywordflow">for</span> scale, method <span class="keywordflow">in</span> itertools.product(scales, methods):</div>
<div class="line"><span class="lineno"> 1368</span>            <span class="keywordflow">if</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;CG&#39;</span>, <span class="stringliteral">&#39;BFGS&#39;</span>):</div>
<div class="line"><span class="lineno"> 1369</span>                options = dict(gtol=scale*1e-8)</div>
<div class="line"><span class="lineno"> 1370</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1371</span>                options = dict()</div>
<div class="line"><span class="lineno"> 1372</span> </div>
<div class="line"><span class="lineno"> 1373</span>            <span class="keywordflow">if</span> scale &lt; 1e-10 <span class="keywordflow">and</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;L-BFGS-B&#39;</span>, <span class="stringliteral">&#39;Newton-CG&#39;</span>):</div>
<div class="line"><span class="lineno"> 1374</span>                <span class="comment"># XXX: return initial point if they see small gradient</span></div>
<div class="line"><span class="lineno"> 1375</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1376</span> </div>
<div class="line"><span class="lineno"> 1377</span>            x0 = [-1.0]</div>
<div class="line"><span class="lineno"> 1378</span>            first_step_size = [<span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno"> 1379</span>            res = optimize.minimize(f, x0, jac=g, method=method,</div>
<div class="line"><span class="lineno"> 1380</span>                                    options=options)</div>
<div class="line"><span class="lineno"> 1381</span> </div>
<div class="line"><span class="lineno"> 1382</span>            err_msg = <span class="stringliteral">&quot;{0} {1}: {2}: {3}&quot;</span>.format(method, scale,</div>
<div class="line"><span class="lineno"> 1383</span>                                                 first_step_size,</div>
<div class="line"><span class="lineno"> 1384</span>                                                 res)</div>
<div class="line"><span class="lineno"> 1385</span> </div>
<div class="line"><span class="lineno"> 1386</span>            <span class="keyword">assert</span> res.success, err_msg</div>
<div class="line"><span class="lineno"> 1387</span>            assert_allclose(res.x, [1.0], err_msg=err_msg)</div>
<div class="line"><span class="lineno"> 1388</span>            <span class="keyword">assert</span> res.nit &lt;= 3, err_msg</div>
<div class="line"><span class="lineno"> 1389</span> </div>
<div class="line"><span class="lineno"> 1390</span>            <span class="keywordflow">if</span> scale &gt; 1e-10:</div>
<div class="line"><span class="lineno"> 1391</span>                <span class="keywordflow">if</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;CG&#39;</span>, <span class="stringliteral">&#39;BFGS&#39;</span>):</div>
<div class="line"><span class="lineno"> 1392</span>                    assert_allclose(first_step_size[0], 1.01, err_msg=err_msg)</div>
<div class="line"><span class="lineno"> 1393</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1394</span>                    <span class="comment"># Newton-CG and L-BFGS-B use different logic for the first</span></div>
<div class="line"><span class="lineno"> 1395</span>                    <span class="comment"># step, but are both scaling invariant with step sizes ~ 1</span></div>
<div class="line"><span class="lineno"> 1396</span>                    <span class="keyword">assert</span> first_step_size[0] &gt; 0.5 <span class="keywordflow">and</span> first_step_size[0] &lt; 3, err_msg</div>
<div class="line"><span class="lineno"> 1397</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1398</span>                <span class="comment"># step size has upper bound of ||grad||, so line</span></div>
<div class="line"><span class="lineno"> 1399</span>                <span class="comment"># search makes many small steps</span></div>
<div class="line"><span class="lineno"> 1400</span>                <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1401</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_aeb0d2dd2a2609d5775607acf542b2161"><div class="ttname"><a href="__lapack__subroutines_8h.html#aeb0d2dd2a2609d5775607acf542b2161">g</a></div><div class="ttdeci">void npy_complex64 * g</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:284</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aad52f7043edba92ca18fe4863a7f77e0" name="aad52f7043edba92ca18fe4863a7f77e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad52f7043edba92ca18fe4863a7f77e0">&#9670;&#160;</a></span>test_l_bfgs_b()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_l_bfgs_b </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  877</span>    <span class="keyword">def </span>test_l_bfgs_b(self):</div>
<div class="line"><span class="lineno">  878</span>        <span class="comment"># limited-memory bound-constrained BFGS algorithm</span></div>
<div class="line"><span class="lineno">  879</span>        retval = optimize.fmin_l_bfgs_b(self.func, self.startparams,</div>
<div class="line"><span class="lineno">  880</span>                                        self.grad, args=(),</div>
<div class="line"><span class="lineno">  881</span>                                        maxiter=self.maxiter)</div>
<div class="line"><span class="lineno">  882</span> </div>
<div class="line"><span class="lineno">  883</span>        (params, fopt, d) = retval</div>
<div class="line"><span class="lineno">  884</span> </div>
<div class="line"><span class="lineno">  885</span>        assert_allclose(self.func(params), self.func(self.solution),</div>
<div class="line"><span class="lineno">  886</span>                        atol=1e-6)</div>
<div class="line"><span class="lineno">  887</span> </div>
<div class="line"><span class="lineno">  888</span>        <span class="comment"># Ensure that function call counts are &#39;known good&#39;; these are from</span></div>
<div class="line"><span class="lineno">  889</span>        <span class="comment"># SciPy 0.7.0. Don&#39;t allow them to increase.</span></div>
<div class="line"><span class="lineno">  890</span>        <span class="keyword">assert</span> self.funccalls == 7, self.funccalls</div>
<div class="line"><span class="lineno">  891</span>        <span class="keyword">assert</span> self.gradcalls == 5, self.gradcalls</div>
<div class="line"><span class="lineno">  892</span> </div>
<div class="line"><span class="lineno">  893</span>        <span class="comment"># Ensure that the function behaves the same; this is from SciPy 0.7.0</span></div>
<div class="line"><span class="lineno">  894</span>        <span class="comment"># test fixed in gh10673</span></div>
<div class="line"><span class="lineno">  895</span>        assert_allclose(self.trace[3:5],</div>
<div class="line"><span class="lineno">  896</span>                        [[8.117083e-16, -5.196198e-01, 4.897617e-01],</div>
<div class="line"><span class="lineno">  897</span>                         [0., -0.52489628, 0.48753042]],</div>
<div class="line"><span class="lineno">  898</span>                        atol=1e-14, rtol=1e-7)</div>
<div class="line"><span class="lineno">  899</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6aca7ca259664c9a4c8f37afe889612d" name="a6aca7ca259664c9a4c8f37afe889612d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aca7ca259664c9a4c8f37afe889612d">&#9670;&#160;</a></span>test_l_bfgs_b_funjac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_l_bfgs_b_funjac </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  911</span>    <span class="keyword">def </span>test_l_bfgs_b_funjac(self):</div>
<div class="line"><span class="lineno">  912</span>        <span class="comment"># L-BFGS-B with combined objective function and Jacobian</span></div>
<div class="line"><span class="lineno">  913</span>        <span class="keyword">def </span>fun(x):</div>
<div class="line"><span class="lineno">  914</span>            <span class="keywordflow">return</span> self.func(x), self.grad(x)</div>
<div class="line"><span class="lineno">  915</span> </div>
<div class="line"><span class="lineno">  916</span>        retval = optimize.fmin_l_bfgs_b(fun, self.startparams,</div>
<div class="line"><span class="lineno">  917</span>                                        maxiter=self.maxiter)</div>
<div class="line"><span class="lineno">  918</span> </div>
<div class="line"><span class="lineno">  919</span>        (params, fopt, d) = retval</div>
<div class="line"><span class="lineno">  920</span> </div>
<div class="line"><span class="lineno">  921</span>        assert_allclose(self.func(params), self.func(self.solution),</div>
<div class="line"><span class="lineno">  922</span>                        atol=1e-6)</div>
<div class="line"><span class="lineno">  923</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a785e6016e7b9424b4c4fce4526a5d7c5" name="a785e6016e7b9424b4c4fce4526a5d7c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a785e6016e7b9424b4c4fce4526a5d7c5">&#9670;&#160;</a></span>test_l_bfgs_b_maxiter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_l_bfgs_b_maxiter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  924</span>    <span class="keyword">def </span>test_l_bfgs_b_maxiter(self):</div>
<div class="line"><span class="lineno">  925</span>        <span class="comment"># gh7854</span></div>
<div class="line"><span class="lineno">  926</span>        <span class="comment"># Ensure that not more than maxiters are ever run.</span></div>
<div class="line"><span class="lineno">  927</span>        <span class="keyword">class </span>Callback:</div>
<div class="line"><span class="lineno">  928</span>            <span class="keyword">def </span>__init__(self):</div>
<div class="line"><span class="lineno">  929</span>                self.nit = 0</div>
<div class="line"><span class="lineno">  930</span>                self.fun = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  931</span>                self.x = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  932</span> </div>
<div class="line"><span class="lineno">  933</span>            <span class="keyword">def </span>__call__(self, x):</div>
<div class="line"><span class="lineno">  934</span>                self.x = x</div>
<div class="line"><span class="lineno">  935</span>                self.fun = optimize.rosen(x)</div>
<div class="line"><span class="lineno">  936</span>                self.nit += 1</div>
<div class="line"><span class="lineno">  937</span> </div>
<div class="line"><span class="lineno">  938</span>        c = Callback()</div>
<div class="line"><span class="lineno">  939</span>        res = optimize.minimize(optimize.rosen, [0., 0.], method=<span class="stringliteral">&#39;l-bfgs-b&#39;</span>,</div>
<div class="line"><span class="lineno">  940</span>                                callback=c, options={<span class="stringliteral">&#39;maxiter&#39;</span>: 5})</div>
<div class="line"><span class="lineno">  941</span> </div>
<div class="line"><span class="lineno">  942</span>        assert_equal(res.nit, 5)</div>
<div class="line"><span class="lineno">  943</span>        assert_almost_equal(res.x, c.x)</div>
<div class="line"><span class="lineno">  944</span>        assert_almost_equal(res.fun, c.fun)</div>
<div class="line"><span class="lineno">  945</span>        assert_equal(res.status, 1)</div>
<div class="line"><span class="lineno">  946</span>        <span class="keyword">assert</span> res.success <span class="keywordflow">is</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  947</span>        assert_equal(res.message,</div>
<div class="line"><span class="lineno">  948</span>                     <span class="stringliteral">&#39;STOP: TOTAL NO. of ITERATIONS REACHED LIMIT&#39;</span>)</div>
<div class="line"><span class="lineno">  949</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa740736fba7cd369c2b51bdb46d733d6" name="aa740736fba7cd369c2b51bdb46d733d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa740736fba7cd369c2b51bdb46d733d6">&#9670;&#160;</a></span>test_l_bfgs_b_numjac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_l_bfgs_b_numjac </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  900</span>    <span class="keyword">def </span>test_l_bfgs_b_numjac(self):</div>
<div class="line"><span class="lineno">  901</span>        <span class="comment"># L-BFGS-B with numerical Jacobian</span></div>
<div class="line"><span class="lineno">  902</span>        retval = optimize.fmin_l_bfgs_b(self.func, self.startparams,</div>
<div class="line"><span class="lineno">  903</span>                                        approx_grad=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  904</span>                                        maxiter=self.maxiter)</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>        (params, fopt, d) = retval</div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span>        assert_allclose(self.func(params), self.func(self.solution),</div>
<div class="line"><span class="lineno">  909</span>                        atol=1e-6)</div>
<div class="line"><span class="lineno">  910</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8710e11eba97c4b73b825d697dfb1593" name="a8710e11eba97c4b73b825d697dfb1593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8710e11eba97c4b73b825d697dfb1593">&#9670;&#160;</a></span>test_minimize_automethod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_minimize_automethod </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1312</span>    <span class="keyword">def </span>test_minimize_automethod(self):</div>
<div class="line"><span class="lineno"> 1313</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno"> 1314</span>            <span class="keywordflow">return</span> x**2</div>
<div class="line"><span class="lineno"> 1315</span> </div>
<div class="line"><span class="lineno"> 1316</span>        <span class="keyword">def </span>cons(x):</div>
<div class="line"><span class="lineno"> 1317</span>            <span class="keywordflow">return</span> x - 2</div>
<div class="line"><span class="lineno"> 1318</span> </div>
<div class="line"><span class="lineno"> 1319</span>        x0 = np.array([10.])</div>
<div class="line"><span class="lineno"> 1320</span>        sol_0 = optimize.minimize(f, x0)</div>
<div class="line"><span class="lineno"> 1321</span>        sol_1 = optimize.minimize(f, x0, constraints=[{<span class="stringliteral">&#39;type&#39;</span>: <span class="stringliteral">&#39;ineq&#39;</span>,</div>
<div class="line"><span class="lineno"> 1322</span>                                                       <span class="stringliteral">&#39;fun&#39;</span>: cons}])</div>
<div class="line"><span class="lineno"> 1323</span>        sol_2 = optimize.minimize(f, x0, bounds=[(5, 10)])</div>
<div class="line"><span class="lineno"> 1324</span>        sol_3 = optimize.minimize(f, x0,</div>
<div class="line"><span class="lineno"> 1325</span>                                  constraints=[{<span class="stringliteral">&#39;type&#39;</span>: <span class="stringliteral">&#39;ineq&#39;</span>, <span class="stringliteral">&#39;fun&#39;</span>: cons}],</div>
<div class="line"><span class="lineno"> 1326</span>                                  bounds=[(5, 10)])</div>
<div class="line"><span class="lineno"> 1327</span>        sol_4 = optimize.minimize(f, x0,</div>
<div class="line"><span class="lineno"> 1328</span>                                  constraints=[{<span class="stringliteral">&#39;type&#39;</span>: <span class="stringliteral">&#39;ineq&#39;</span>, <span class="stringliteral">&#39;fun&#39;</span>: cons}],</div>
<div class="line"><span class="lineno"> 1329</span>                                  bounds=[(1, 10)])</div>
<div class="line"><span class="lineno"> 1330</span>        <span class="keywordflow">for</span> sol <span class="keywordflow">in</span> [sol_0, sol_1, sol_2, sol_3, sol_4]:</div>
<div class="line"><span class="lineno"> 1331</span>            <span class="keyword">assert</span> sol.success</div>
<div class="line"><span class="lineno"> 1332</span>        assert_allclose(sol_0.x, 0, atol=1e-7)</div>
<div class="line"><span class="lineno"> 1333</span>        assert_allclose(sol_1.x, 2, atol=1e-7)</div>
<div class="line"><span class="lineno"> 1334</span>        assert_allclose(sol_2.x, 5, atol=1e-7)</div>
<div class="line"><span class="lineno"> 1335</span>        assert_allclose(sol_3.x, 5, atol=1e-7)</div>
<div class="line"><span class="lineno"> 1336</span>        assert_allclose(sol_4.x, 2, atol=1e-7)</div>
<div class="line"><span class="lineno"> 1337</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f345ff974ade21102d6891e676b69a1" name="a9f345ff974ade21102d6891e676b69a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f345ff974ade21102d6891e676b69a1">&#9670;&#160;</a></span>test_minimize_callback_copies_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_minimize_callback_copies_array </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1143</span>    <span class="keyword">def </span>test_minimize_callback_copies_array(self, method):</div>
<div class="line"><span class="lineno"> 1144</span>        <span class="comment"># Check that arrays passed to callbacks are not modified</span></div>
<div class="line"><span class="lineno"> 1145</span>        <span class="comment"># inplace by the optimizer afterward</span></div>
<div class="line"><span class="lineno"> 1146</span> </div>
<div class="line"><span class="lineno"> 1147</span>        <span class="keywordflow">if</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;fmin_tnc&#39;</span>, <span class="stringliteral">&#39;fmin_l_bfgs_b&#39;</span>):</div>
<div class="line"><span class="lineno"> 1148</span>            func = <span class="keyword">lambda</span> x: (optimize.rosen(x), optimize.rosen_der(x))</div>
<div class="line"><span class="lineno"> 1149</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1150</span>            func = optimize.rosen</div>
<div class="line"><span class="lineno"> 1151</span>            jac = optimize.rosen_der</div>
<div class="line"><span class="lineno"> 1152</span>            hess = optimize.rosen_hess</div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>        x0 = np.zeros(10)</div>
<div class="line"><span class="lineno"> 1155</span> </div>
<div class="line"><span class="lineno"> 1156</span>        <span class="comment"># Set options</span></div>
<div class="line"><span class="lineno"> 1157</span>        kwargs = {}</div>
<div class="line"><span class="lineno"> 1158</span>        <span class="keywordflow">if</span> method.startswith(<span class="stringliteral">&#39;fmin&#39;</span>):</div>
<div class="line"><span class="lineno"> 1159</span>            routine = getattr(optimize, method)</div>
<div class="line"><span class="lineno"> 1160</span>            <span class="keywordflow">if</span> method == <span class="stringliteral">&#39;fmin_slsqp&#39;</span>:</div>
<div class="line"><span class="lineno"> 1161</span>                kwargs[<span class="stringliteral">&#39;iter&#39;</span>] = 5</div>
<div class="line"><span class="lineno"> 1162</span>            <span class="keywordflow">elif</span> method == <span class="stringliteral">&#39;fmin_tnc&#39;</span>:</div>
<div class="line"><span class="lineno"> 1163</span>                kwargs[<span class="stringliteral">&#39;maxfun&#39;</span>] = 100</div>
<div class="line"><span class="lineno"> 1164</span>            <span class="keywordflow">elif</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;fmin&#39;</span>, <span class="stringliteral">&#39;fmin_powell&#39;</span>):</div>
<div class="line"><span class="lineno"> 1165</span>                kwargs[<span class="stringliteral">&#39;maxiter&#39;</span>] = 3500</div>
<div class="line"><span class="lineno"> 1166</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1167</span>                kwargs[<span class="stringliteral">&#39;maxiter&#39;</span>] = 5</div>
<div class="line"><span class="lineno"> 1168</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1169</span>            <span class="keyword">def </span>routine(*a, **kw):</div>
<div class="line"><span class="lineno"> 1170</span>                kw[<span class="stringliteral">&#39;method&#39;</span>] = method</div>
<div class="line"><span class="lineno"> 1171</span>                <span class="keywordflow">return</span> optimize.minimize(*a, **kw)</div>
<div class="line"><span class="lineno"> 1172</span> </div>
<div class="line"><span class="lineno"> 1173</span>            <span class="keywordflow">if</span> method == <span class="stringliteral">&#39;tnc&#39;</span>:</div>
<div class="line"><span class="lineno"> 1174</span>                kwargs[<span class="stringliteral">&#39;options&#39;</span>] = dict(maxfun=100)</div>
<div class="line"><span class="lineno"> 1175</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1176</span>                kwargs[<span class="stringliteral">&#39;options&#39;</span>] = dict(maxiter=5)</div>
<div class="line"><span class="lineno"> 1177</span> </div>
<div class="line"><span class="lineno"> 1178</span>        <span class="keywordflow">if</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;fmin_ncg&#39;</span>,):</div>
<div class="line"><span class="lineno"> 1179</span>            kwargs[<span class="stringliteral">&#39;fprime&#39;</span>] = jac</div>
<div class="line"><span class="lineno"> 1180</span>        <span class="keywordflow">elif</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;newton-cg&#39;</span>,):</div>
<div class="line"><span class="lineno"> 1181</span>            kwargs[<span class="stringliteral">&#39;jac&#39;</span>] = jac</div>
<div class="line"><span class="lineno"> 1182</span>        <span class="keywordflow">elif</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;trust-krylov&#39;</span>, <span class="stringliteral">&#39;trust-exact&#39;</span>, <span class="stringliteral">&#39;trust-ncg&#39;</span>, <span class="stringliteral">&#39;dogleg&#39;</span>,</div>
<div class="line"><span class="lineno"> 1183</span>                        <span class="stringliteral">&#39;trust-constr&#39;</span>):</div>
<div class="line"><span class="lineno"> 1184</span>            kwargs[<span class="stringliteral">&#39;jac&#39;</span>] = jac</div>
<div class="line"><span class="lineno"> 1185</span>            kwargs[<span class="stringliteral">&#39;hess&#39;</span>] = hess</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>        <span class="comment"># Run with callback</span></div>
<div class="line"><span class="lineno"> 1188</span>        results = []</div>
<div class="line"><span class="lineno"> 1189</span> </div>
<div class="line"><span class="lineno"> 1190</span>        <span class="keyword">def </span>callback(x, *args, **kwargs):</div>
<div class="line"><span class="lineno"> 1191</span>            results.append((x, np.copy(x)))</div>
<div class="line"><span class="lineno"> 1192</span> </div>
<div class="line"><span class="lineno"> 1193</span>        routine(func, x0, callback=callback, **kwargs)</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>        <span class="comment"># Check returned arrays coincide with their copies</span></div>
<div class="line"><span class="lineno"> 1196</span>        <span class="comment"># and have no memory overlap</span></div>
<div class="line"><span class="lineno"> 1197</span>        <span class="keyword">assert</span> len(results) &gt; 2</div>
<div class="line"><span class="lineno"> 1198</span>        <span class="keyword">assert</span> all(np.all(x == y) <span class="keywordflow">for</span> x, y <span class="keywordflow">in</span> results)</div>
<div class="line"><span class="lineno"> 1199</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> any(np.may_share_memory(x[0], y[0]) <span class="keywordflow">for</span> x, y <span class="keywordflow">in</span> itertools.combinations(results, 2))</div>
<div class="line"><span class="lineno"> 1200</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0993aff002856bc9b9612a7114e5024" name="ab0993aff002856bc9b9612a7114e5024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0993aff002856bc9b9612a7114e5024">&#9670;&#160;</a></span>test_minimize_coerce_args_param()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_minimize_coerce_args_param </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1338</span>    <span class="keyword">def </span>test_minimize_coerce_args_param(self):</div>
<div class="line"><span class="lineno"> 1339</span>        <span class="comment"># Regression test for gh-3503</span></div>
<div class="line"><span class="lineno"> 1340</span>        <span class="keyword">def </span>Y(x, c):</div>
<div class="line"><span class="lineno"> 1341</span>            <span class="keywordflow">return</span> np.sum((x-c)**2)</div>
<div class="line"><span class="lineno"> 1342</span> </div>
<div class="line"><span class="lineno"> 1343</span>        <span class="keyword">def </span>dY_dx(x, c=None):</div>
<div class="line"><span class="lineno"> 1344</span>            <span class="keywordflow">return</span> 2*(x-c)</div>
<div class="line"><span class="lineno"> 1345</span> </div>
<div class="line"><span class="lineno"> 1346</span>        c = np.array([3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5])</div>
<div class="line"><span class="lineno"> 1347</span>        xinit = np.random.randn(len(c))</div>
<div class="line"><span class="lineno"> 1348</span>        optimize.minimize(Y, xinit, jac=dY_dx, args=(c), method=<span class="stringliteral">&quot;BFGS&quot;</span>)</div>
<div class="line"><span class="lineno"> 1349</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7936aa0d29cd486db3806c500b96768d" name="a7936aa0d29cd486db3806c500b96768d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7936aa0d29cd486db3806c500b96768d">&#9670;&#160;</a></span>test_minimize_l_bfgs_b()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_minimize_l_bfgs_b </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  950</span>    <span class="keyword">def </span>test_minimize_l_bfgs_b(self):</div>
<div class="line"><span class="lineno">  951</span>        <span class="comment"># Minimize with L-BFGS-B method</span></div>
<div class="line"><span class="lineno">  952</span>        opts = {<span class="stringliteral">&#39;disp&#39;</span>: <span class="keyword">False</span>, <span class="stringliteral">&#39;maxiter&#39;</span>: self.maxiter}</div>
<div class="line"><span class="lineno">  953</span>        r = optimize.minimize(self.func, self.startparams,</div>
<div class="line"><span class="lineno">  954</span>                              method=<span class="stringliteral">&#39;L-BFGS-B&#39;</span>, jac=self.grad,</div>
<div class="line"><span class="lineno">  955</span>                              options=opts)</div>
<div class="line"><span class="lineno">  956</span>        assert_allclose(self.func(r.x), self.func(self.solution),</div>
<div class="line"><span class="lineno">  957</span>                        atol=1e-6)</div>
<div class="line"><span class="lineno">  958</span>        <span class="keyword">assert</span> self.gradcalls == r.njev</div>
<div class="line"><span class="lineno">  959</span> </div>
<div class="line"><span class="lineno">  960</span>        self.funccalls = self.gradcalls = 0</div>
<div class="line"><span class="lineno">  961</span>        <span class="comment"># approximate jacobian</span></div>
<div class="line"><span class="lineno">  962</span>        ra = optimize.minimize(self.func, self.startparams,</div>
<div class="line"><span class="lineno">  963</span>                               method=<span class="stringliteral">&#39;L-BFGS-B&#39;</span>, options=opts)</div>
<div class="line"><span class="lineno">  964</span>        <span class="comment"># check that function evaluations in approximate jacobian are counted</span></div>
<div class="line"><span class="lineno">  965</span>        <span class="comment"># assert_(ra.nfev &gt; r.nfev)</span></div>
<div class="line"><span class="lineno">  966</span>        <span class="keyword">assert</span> self.funccalls == ra.nfev</div>
<div class="line"><span class="lineno">  967</span>        assert_allclose(self.func(ra.x), self.func(self.solution),</div>
<div class="line"><span class="lineno">  968</span>                        atol=1e-6)</div>
<div class="line"><span class="lineno">  969</span> </div>
<div class="line"><span class="lineno">  970</span>        self.funccalls = self.gradcalls = 0</div>
<div class="line"><span class="lineno">  971</span>        <span class="comment"># approximate jacobian</span></div>
<div class="line"><span class="lineno">  972</span>        ra = optimize.minimize(self.func, self.startparams, jac=<span class="stringliteral">&#39;3-point&#39;</span>,</div>
<div class="line"><span class="lineno">  973</span>                               method=<span class="stringliteral">&#39;L-BFGS-B&#39;</span>, options=opts)</div>
<div class="line"><span class="lineno">  974</span>        <span class="keyword">assert</span> self.funccalls == ra.nfev</div>
<div class="line"><span class="lineno">  975</span>        assert_allclose(self.func(ra.x), self.func(self.solution),</div>
<div class="line"><span class="lineno">  976</span>                        atol=1e-6)</div>
<div class="line"><span class="lineno">  977</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a34d4c63b8999b19d88c90e74ee3cdc5a" name="a34d4c63b8999b19d88c90e74ee3cdc5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34d4c63b8999b19d88c90e74ee3cdc5a">&#9670;&#160;</a></span>test_minimize_l_bfgs_b_ftol()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_minimize_l_bfgs_b_ftol </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  978</span>    <span class="keyword">def </span>test_minimize_l_bfgs_b_ftol(self):</div>
<div class="line"><span class="lineno">  979</span>        <span class="comment"># Check that the `ftol` parameter in l_bfgs_b works as expected</span></div>
<div class="line"><span class="lineno">  980</span>        v0 = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  981</span>        <span class="keywordflow">for</span> tol <span class="keywordflow">in</span> [1e-1, 1e-4, 1e-7, 1e-10]:</div>
<div class="line"><span class="lineno">  982</span>            opts = {<span class="stringliteral">&#39;disp&#39;</span>: <span class="keyword">False</span>, <span class="stringliteral">&#39;maxiter&#39;</span>: self.maxiter, <span class="stringliteral">&#39;ftol&#39;</span>: tol}</div>
<div class="line"><span class="lineno">  983</span>            sol = optimize.minimize(self.func, self.startparams,</div>
<div class="line"><span class="lineno">  984</span>                                    method=<span class="stringliteral">&#39;L-BFGS-B&#39;</span>, jac=self.grad,</div>
<div class="line"><span class="lineno">  985</span>                                    options=opts)</div>
<div class="line"><span class="lineno">  986</span>            v = self.func(sol.x)</div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span>            <span class="keywordflow">if</span> v0 <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  989</span>                v0 = v</div>
<div class="line"><span class="lineno">  990</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  991</span>                <span class="keyword">assert</span> v &lt; v0</div>
<div class="line"><span class="lineno">  992</span> </div>
<div class="line"><span class="lineno">  993</span>            assert_allclose(v, self.func(self.solution), rtol=tol)</div>
<div class="line"><span class="lineno">  994</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac52959e86f4a8b0636ac1ed36673dcd9" name="ac52959e86f4a8b0636ac1ed36673dcd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac52959e86f4a8b0636ac1ed36673dcd9">&#9670;&#160;</a></span>test_minimize_l_bfgs_b_maxfun_interruption()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_minimize_l_bfgs_b_maxfun_interruption </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1002</span>    <span class="keyword">def </span>test_minimize_l_bfgs_b_maxfun_interruption(self):</div>
<div class="line"><span class="lineno"> 1003</span>        <span class="comment"># gh-6162</span></div>
<div class="line"><span class="lineno"> 1004</span>        f = optimize.rosen</div>
<div class="line"><span class="lineno"> 1005</span>        g = optimize.rosen_der</div>
<div class="line"><span class="lineno"> 1006</span>        values = []</div>
<div class="line"><span class="lineno"> 1007</span>        x0 = np.full(7, 1000)</div>
<div class="line"><span class="lineno"> 1008</span> </div>
<div class="line"><span class="lineno"> 1009</span>        <span class="keyword">def </span>objfun(x):</div>
<div class="line"><span class="lineno"> 1010</span>            value = <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x)</div>
<div class="line"><span class="lineno"> 1011</span>            values.append(value)</div>
<div class="line"><span class="lineno"> 1012</span>            <span class="keywordflow">return</span> value</div>
<div class="line"><span class="lineno"> 1013</span> </div>
<div class="line"><span class="lineno"> 1014</span>        <span class="comment"># Look for an interesting test case.</span></div>
<div class="line"><span class="lineno"> 1015</span>        <span class="comment"># Request a maxfun that stops at a particularly bad function</span></div>
<div class="line"><span class="lineno"> 1016</span>        <span class="comment"># evaluation somewhere between 100 and 300 evaluations.</span></div>
<div class="line"><span class="lineno"> 1017</span>        low, medium, high = 30, 100, 300</div>
<div class="line"><span class="lineno"> 1018</span>        optimize.fmin_l_bfgs_b(objfun, x0, fprime=g, maxfun=high)</div>
<div class="line"><span class="lineno"> 1019</span>        v, k = max((y, i) <span class="keywordflow">for</span> i, y <span class="keywordflow">in</span> enumerate(values[medium:]))</div>
<div class="line"><span class="lineno"> 1020</span>        maxfun = medium + k</div>
<div class="line"><span class="lineno"> 1021</span>        <span class="comment"># If the minimization strategy is reasonable,</span></div>
<div class="line"><span class="lineno"> 1022</span>        <span class="comment"># the minimize() result should not be worse than the best</span></div>
<div class="line"><span class="lineno"> 1023</span>        <span class="comment"># of the first 30 function evaluations.</span></div>
<div class="line"><span class="lineno"> 1024</span>        target = min(values[:low])</div>
<div class="line"><span class="lineno"> 1025</span>        xmin, fmin, d = optimize.fmin_l_bfgs_b(f, x0, fprime=g, maxfun=maxfun)</div>
<div class="line"><span class="lineno"> 1026</span>        assert_array_less(fmin, target)</div>
<div class="line"><span class="lineno"> 1027</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae438675877de0d50d3ffa389733739a8" name="ae438675877de0d50d3ffa389733739a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae438675877de0d50d3ffa389733739a8">&#9670;&#160;</a></span>test_minimize_l_bfgs_maxls()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_minimize_l_bfgs_maxls </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  995</span>    <span class="keyword">def </span>test_minimize_l_bfgs_maxls(self):</div>
<div class="line"><span class="lineno">  996</span>        <span class="comment"># check that the maxls is passed down to the Fortran routine</span></div>
<div class="line"><span class="lineno">  997</span>        sol = optimize.minimize(optimize.rosen, np.array([-1.2, 1.0]),</div>
<div class="line"><span class="lineno">  998</span>                                method=<span class="stringliteral">&#39;L-BFGS-B&#39;</span>, jac=optimize.rosen_der,</div>
<div class="line"><span class="lineno">  999</span>                                options={<span class="stringliteral">&#39;disp&#39;</span>: <span class="keyword">False</span>, <span class="stringliteral">&#39;maxls&#39;</span>: 1})</div>
<div class="line"><span class="lineno"> 1000</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> sol.success</div>
<div class="line"><span class="lineno"> 1001</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5a1bc35c885362d59d64444c84cbbf3" name="ad5a1bc35c885362d59d64444c84cbbf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5a1bc35c885362d59d64444c84cbbf3">&#9670;&#160;</a></span>test_minimize_tol_parameter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_minimize_tol_parameter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1115</span>    <span class="keyword">def </span>test_minimize_tol_parameter(self):</div>
<div class="line"><span class="lineno"> 1116</span>        <span class="comment"># Check that the minimize() tol= argument does something</span></div>
<div class="line"><span class="lineno"> 1117</span>        <span class="keyword">def </span><a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(z):</div>
<div class="line"><span class="lineno"> 1118</span>            x, y = z</div>
<div class="line"><span class="lineno"> 1119</span>            <span class="keywordflow">return</span> x**2*y**2 + x**4 + 1</div>
<div class="line"><span class="lineno"> 1120</span> </div>
<div class="line"><span class="lineno"> 1121</span>        <span class="keyword">def </span>dfunc(z):</div>
<div class="line"><span class="lineno"> 1122</span>            x, y = z</div>
<div class="line"><span class="lineno"> 1123</span>            <span class="keywordflow">return</span> np.array([2*x*y**2 + 4*x**3, 2*x**2*y])</div>
<div class="line"><span class="lineno"> 1124</span> </div>
<div class="line"><span class="lineno"> 1125</span>        <span class="keywordflow">for</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&#39;nelder-mead&#39;</span>, <span class="stringliteral">&#39;powell&#39;</span>, <span class="stringliteral">&#39;cg&#39;</span>, <span class="stringliteral">&#39;bfgs&#39;</span>,</div>
<div class="line"><span class="lineno"> 1126</span>                       <span class="stringliteral">&#39;newton-cg&#39;</span>, <span class="stringliteral">&#39;l-bfgs-b&#39;</span>, <span class="stringliteral">&#39;tnc&#39;</span>,</div>
<div class="line"><span class="lineno"> 1127</span>                       <span class="stringliteral">&#39;cobyla&#39;</span>, <span class="stringliteral">&#39;slsqp&#39;</span>]:</div>
<div class="line"><span class="lineno"> 1128</span>            <span class="keywordflow">if</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;nelder-mead&#39;</span>, <span class="stringliteral">&#39;powell&#39;</span>, <span class="stringliteral">&#39;cobyla&#39;</span>):</div>
<div class="line"><span class="lineno"> 1129</span>                jac = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1130</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1131</span>                jac = dfunc</div>
<div class="line"><span class="lineno"> 1132</span> </div>
<div class="line"><span class="lineno"> 1133</span>            sol1 = optimize.minimize(func, [1, 1], jac=jac, tol=1e-10,</div>
<div class="line"><span class="lineno"> 1134</span>                                     method=method)</div>
<div class="line"><span class="lineno"> 1135</span>            sol2 = optimize.minimize(func, [1, 1], jac=jac, tol=1.0,</div>
<div class="line"><span class="lineno"> 1136</span>                                     method=method)</div>
<div class="line"><span class="lineno"> 1137</span>            <span class="keyword">assert</span> <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(sol1.x) &lt; <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(sol2.x), <span class="stringliteral">&quot;%s: %s vs. %s&quot;</span> % (method, <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(sol1.x), <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(sol2.x))</div>
<div class="line"><span class="lineno"> 1138</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2f2b8e80ffbdc0b912f91fcf7fdfc846" name="a2f2b8e80ffbdc0b912f91fcf7fdfc846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f2b8e80ffbdc0b912f91fcf7fdfc846">&#9670;&#160;</a></span>test_nan_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_nan_values </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1407</span>    <span class="keyword">def </span>test_nan_values(self, method):</div>
<div class="line"><span class="lineno"> 1408</span>        <span class="comment"># Check nan values result to failed exit status</span></div>
<div class="line"><span class="lineno"> 1409</span>        np.random.seed(1234)</div>
<div class="line"><span class="lineno"> 1410</span> </div>
<div class="line"><span class="lineno"> 1411</span>        count = [0]</div>
<div class="line"><span class="lineno"> 1412</span> </div>
<div class="line"><span class="lineno"> 1413</span>        <span class="keyword">def </span><a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(x):</div>
<div class="line"><span class="lineno"> 1414</span>            <span class="keywordflow">return</span> np.nan</div>
<div class="line"><span class="lineno"> 1415</span> </div>
<div class="line"><span class="lineno"> 1416</span>        <span class="keyword">def </span>func2(x):</div>
<div class="line"><span class="lineno"> 1417</span>            count[0] += 1</div>
<div class="line"><span class="lineno"> 1418</span>            <span class="keywordflow">if</span> count[0] &gt; 2:</div>
<div class="line"><span class="lineno"> 1419</span>                <span class="keywordflow">return</span> np.nan</div>
<div class="line"><span class="lineno"> 1420</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1421</span>                <span class="keywordflow">return</span> np.random.rand()</div>
<div class="line"><span class="lineno"> 1422</span> </div>
<div class="line"><span class="lineno"> 1423</span>        <span class="keyword">def </span>grad(x):</div>
<div class="line"><span class="lineno"> 1424</span>            <span class="keywordflow">return</span> np.array([1.0])</div>
<div class="line"><span class="lineno"> 1425</span> </div>
<div class="line"><span class="lineno"> 1426</span>        <span class="keyword">def </span>hess(x):</div>
<div class="line"><span class="lineno"> 1427</span>            <span class="keywordflow">return</span> np.array([[1.0]])</div>
<div class="line"><span class="lineno"> 1428</span> </div>
<div class="line"><span class="lineno"> 1429</span>        x0 = np.array([1.0])</div>
<div class="line"><span class="lineno"> 1430</span> </div>
<div class="line"><span class="lineno"> 1431</span>        needs_grad = method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;newton-cg&#39;</span>, <span class="stringliteral">&#39;trust-krylov&#39;</span>, <span class="stringliteral">&#39;trust-exact&#39;</span>,</div>
<div class="line"><span class="lineno"> 1432</span>                                <span class="stringliteral">&#39;trust-ncg&#39;</span>, <span class="stringliteral">&#39;dogleg&#39;</span>)</div>
<div class="line"><span class="lineno"> 1433</span>        needs_hess = method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;trust-krylov&#39;</span>, <span class="stringliteral">&#39;trust-exact&#39;</span>, <span class="stringliteral">&#39;trust-ncg&#39;</span>,</div>
<div class="line"><span class="lineno"> 1434</span>                                <span class="stringliteral">&#39;dogleg&#39;</span>)</div>
<div class="line"><span class="lineno"> 1435</span> </div>
<div class="line"><span class="lineno"> 1436</span>        funcs = [func, func2]</div>
<div class="line"><span class="lineno"> 1437</span>        grads = [grad] <span class="keywordflow">if</span> needs_grad <span class="keywordflow">else</span> [grad, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno"> 1438</span>        hesss = [hess] <span class="keywordflow">if</span> needs_hess <span class="keywordflow">else</span> [hess, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno"> 1439</span>        options = dict(maxfun=20) <span class="keywordflow">if</span> method == <span class="stringliteral">&#39;tnc&#39;</span> <span class="keywordflow">else</span> dict(maxiter=20)</div>
<div class="line"><span class="lineno"> 1440</span> </div>
<div class="line"><span class="lineno"> 1441</span>        <span class="keyword">with</span> np.errstate(invalid=<span class="stringliteral">&#39;ignore&#39;</span>), suppress_warnings() <span class="keyword">as</span> sup:</div>
<div class="line"><span class="lineno"> 1442</span>            sup.filter(UserWarning, <span class="stringliteral">&quot;delta_grad == 0.*&quot;</span>)</div>
<div class="line"><span class="lineno"> 1443</span>            sup.filter(RuntimeWarning, <span class="stringliteral">&quot;.*does not use Hessian.*&quot;</span>)</div>
<div class="line"><span class="lineno"> 1444</span>            sup.filter(RuntimeWarning, <span class="stringliteral">&quot;.*does not use gradient.*&quot;</span>)</div>
<div class="line"><span class="lineno"> 1445</span> </div>
<div class="line"><span class="lineno"> 1446</span>            <span class="keywordflow">for</span> f, g, h <span class="keywordflow">in</span> itertools.product(funcs, grads, hesss):</div>
<div class="line"><span class="lineno"> 1447</span>                count = [0]</div>
<div class="line"><span class="lineno"> 1448</span>                sol = optimize.minimize(f, x0, jac=g, hess=h, method=method,</div>
<div class="line"><span class="lineno"> 1449</span>                                        options=options)</div>
<div class="line"><span class="lineno"> 1450</span>                assert_equal(sol.success, <span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1451</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a24cc3d2152d84ef3b7f50f4859fef7d7" name="a24cc3d2152d84ef3b7f50f4859fef7d7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24cc3d2152d84ef3b7f50f4859fef7d7">&#9670;&#160;</a></span>test_no_increase()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_no_increase </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1204</span>    <span class="keyword">def </span>test_no_increase(self, method):</div>
<div class="line"><span class="lineno"> 1205</span>        <span class="comment"># Check that the solver doesn&#39;t return a value worse than the</span></div>
<div class="line"><span class="lineno"> 1206</span>        <span class="comment"># initial point.</span></div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>        <span class="keyword">def </span><a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(x):</div>
<div class="line"><span class="lineno"> 1209</span>            <span class="keywordflow">return</span> (x - 1)**2</div>
<div class="line"><span class="lineno"> 1210</span> </div>
<div class="line"><span class="lineno"> 1211</span>        <span class="keyword">def </span>bad_grad(x):</div>
<div class="line"><span class="lineno"> 1212</span>            <span class="comment"># purposefully invalid gradient function, simulates a case</span></div>
<div class="line"><span class="lineno"> 1213</span>            <span class="comment"># where line searches start failing</span></div>
<div class="line"><span class="lineno"> 1214</span>            <span class="keywordflow">return</span> 2*(x - 1) * (-1) - 2</div>
<div class="line"><span class="lineno"> 1215</span> </div>
<div class="line"><span class="lineno"> 1216</span>        x0 = np.array([2.0])</div>
<div class="line"><span class="lineno"> 1217</span>        f0 = <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(x0)</div>
<div class="line"><span class="lineno"> 1218</span>        jac = bad_grad</div>
<div class="line"><span class="lineno"> 1219</span>        options = dict(maxfun=20) <span class="keywordflow">if</span> method == <span class="stringliteral">&#39;tnc&#39;</span> <span class="keywordflow">else</span> dict(maxiter=20)</div>
<div class="line"><span class="lineno"> 1220</span>        <span class="keywordflow">if</span> method <span class="keywordflow">in</span> [<span class="stringliteral">&#39;nelder-mead&#39;</span>, <span class="stringliteral">&#39;powell&#39;</span>, <span class="stringliteral">&#39;cobyla&#39;</span>]:</div>
<div class="line"><span class="lineno"> 1221</span>            jac = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1222</span>        sol = optimize.minimize(func, x0, jac=jac, method=method,</div>
<div class="line"><span class="lineno"> 1223</span>                                options=options)</div>
<div class="line"><span class="lineno"> 1224</span>        assert_equal(<a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(sol.x), sol.fun)</div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>        <span class="keywordflow">if</span> method == <span class="stringliteral">&#39;slsqp&#39;</span>:</div>
<div class="line"><span class="lineno"> 1227</span>            pytest.xfail(<span class="stringliteral">&quot;SLSQP returns slightly worse&quot;</span>)</div>
<div class="line"><span class="lineno"> 1228</span>        <span class="keyword">assert</span> <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(sol.x) &lt;= f0</div>
<div class="line"><span class="lineno"> 1229</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa454ff3b067988959e09eb3dedb6e67e" name="aa454ff3b067988959e09eb3dedb6e67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa454ff3b067988959e09eb3dedb6e67e">&#9670;&#160;</a></span>test_respect_maxiter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_respect_maxiter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1248</span>    <span class="keyword">def </span>test_respect_maxiter(self, method):</div>
<div class="line"><span class="lineno"> 1249</span>        <span class="comment"># Check that the number of iterations equals max_iter, assuming</span></div>
<div class="line"><span class="lineno"> 1250</span>        <span class="comment"># convergence doesn&#39;t establish before</span></div>
<div class="line"><span class="lineno"> 1251</span>        MAXITER = 4</div>
<div class="line"><span class="lineno"> 1252</span> </div>
<div class="line"><span class="lineno"> 1253</span>        x0 = np.zeros(10)</div>
<div class="line"><span class="lineno"> 1254</span> </div>
<div class="line"><span class="lineno"> 1255</span>        sf = ScalarFunction(optimize.rosen, x0, (), optimize.rosen_der,</div>
<div class="line"><span class="lineno"> 1256</span>                            optimize.rosen_hess, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 1257</span> </div>
<div class="line"><span class="lineno"> 1258</span>        <span class="comment"># Set options</span></div>
<div class="line"><span class="lineno"> 1259</span>        kwargs = {<span class="stringliteral">&#39;method&#39;</span>: method, <span class="stringliteral">&#39;options&#39;</span>: dict(maxiter=MAXITER)}</div>
<div class="line"><span class="lineno"> 1260</span> </div>
<div class="line"><span class="lineno"> 1261</span>        <span class="keywordflow">if</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;Newton-CG&#39;</span>,):</div>
<div class="line"><span class="lineno"> 1262</span>            kwargs[<span class="stringliteral">&#39;jac&#39;</span>] = sf.grad</div>
<div class="line"><span class="lineno"> 1263</span>        <span class="keywordflow">elif</span> method <span class="keywordflow">in</span> (<span class="stringliteral">&#39;trust-krylov&#39;</span>, <span class="stringliteral">&#39;trust-exact&#39;</span>, <span class="stringliteral">&#39;trust-ncg&#39;</span>, <span class="stringliteral">&#39;dogleg&#39;</span>,</div>
<div class="line"><span class="lineno"> 1264</span>                        <span class="stringliteral">&#39;trust-constr&#39;</span>):</div>
<div class="line"><span class="lineno"> 1265</span>            kwargs[<span class="stringliteral">&#39;jac&#39;</span>] = sf.grad</div>
<div class="line"><span class="lineno"> 1266</span>            kwargs[<span class="stringliteral">&#39;hess&#39;</span>] = sf.hess</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>        sol = optimize.minimize(sf.fun, x0, **kwargs)</div>
<div class="line"><span class="lineno"> 1269</span>        <span class="keyword">assert</span> sol.nit == MAXITER</div>
<div class="line"><span class="lineno"> 1270</span>        <span class="keyword">assert</span> sol.nfev &gt;= sf.nfev</div>
<div class="line"><span class="lineno"> 1271</span>        <span class="keywordflow">if</span> hasattr(sol, <span class="stringliteral">&#39;njev&#39;</span>):</div>
<div class="line"><span class="lineno"> 1272</span>            <span class="keyword">assert</span> sol.njev &gt;= sf.ngev</div>
<div class="line"><span class="lineno"> 1273</span> </div>
<div class="line"><span class="lineno"> 1274</span>        <span class="comment"># method specific tests</span></div>
<div class="line"><span class="lineno"> 1275</span>        <span class="keywordflow">if</span> method == <span class="stringliteral">&#39;SLSQP&#39;</span>:</div>
<div class="line"><span class="lineno"> 1276</span>            <span class="keyword">assert</span> sol.status == 9  <span class="comment"># Iteration limit reached</span></div>
<div class="line"><span class="lineno"> 1277</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adf474006a92d0181f746003efaca27a7" name="adf474006a92d0181f746003efaca27a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf474006a92d0181f746003efaca27a7">&#9670;&#160;</a></span>test_respect_maxiter_trust_constr_ineq_constraints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_respect_maxiter_trust_constr_ineq_constraints </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1293</span>    <span class="keyword">def </span>test_respect_maxiter_trust_constr_ineq_constraints(self):</div>
<div class="line"><span class="lineno"> 1294</span>        <span class="comment"># special case of minimization with trust-constr and inequality</span></div>
<div class="line"><span class="lineno"> 1295</span>        <span class="comment"># constraints to check maxiter limit is obeyed when using internal</span></div>
<div class="line"><span class="lineno"> 1296</span>        <span class="comment"># method &#39;tr_interior_point&#39;</span></div>
<div class="line"><span class="lineno"> 1297</span>        MAXITER = 4</div>
<div class="line"><span class="lineno"> 1298</span>        f = optimize.rosen</div>
<div class="line"><span class="lineno"> 1299</span>        jac = optimize.rosen_der</div>
<div class="line"><span class="lineno"> 1300</span>        hess = optimize.rosen_hess</div>
<div class="line"><span class="lineno"> 1301</span> </div>
<div class="line"><span class="lineno"> 1302</span>        fun = <span class="keyword">lambda</span> x: np.array([0.2 * x[0] - 0.4 * x[1] - 0.33 * x[2]])</div>
<div class="line"><span class="lineno"> 1303</span>        cons = ({<span class="stringliteral">&#39;type&#39;</span>: <span class="stringliteral">&#39;ineq&#39;</span>,</div>
<div class="line"><span class="lineno"> 1304</span>                 <span class="stringliteral">&#39;fun&#39;</span>: fun},)</div>
<div class="line"><span class="lineno"> 1305</span> </div>
<div class="line"><span class="lineno"> 1306</span>        x0 = np.zeros(10)</div>
<div class="line"><span class="lineno"> 1307</span>        sol = optimize.minimize(f, x0, constraints=cons, jac=jac, hess=hess,</div>
<div class="line"><span class="lineno"> 1308</span>                                method=<span class="stringliteral">&#39;trust-constr&#39;</span>,</div>
<div class="line"><span class="lineno"> 1309</span>                                options=dict(maxiter=MAXITER))</div>
<div class="line"><span class="lineno"> 1310</span>        <span class="keyword">assert</span> sol.nit == MAXITER</div>
<div class="line"><span class="lineno"> 1311</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac4c6292947ae20bfadb376b2ee05ac3f" name="ac4c6292947ae20bfadb376b2ee05ac3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac4c6292947ae20bfadb376b2ee05ac3f">&#9670;&#160;</a></span>test_runtime_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_runtime_warning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1280</span>    <span class="keyword">def </span>test_runtime_warning(self, method):</div>
<div class="line"><span class="lineno"> 1281</span>        x0 = np.zeros(10)</div>
<div class="line"><span class="lineno"> 1282</span>        sf = ScalarFunction(optimize.rosen, x0, (), optimize.rosen_der,</div>
<div class="line"><span class="lineno"> 1283</span>                            optimize.rosen_hess, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 1284</span>        options = {<span class="stringliteral">&quot;maxiter&quot;</span>: 1, <span class="stringliteral">&quot;disp&quot;</span>: <span class="keyword">True</span>}</div>
<div class="line"><span class="lineno"> 1285</span>        <span class="keyword">with</span> pytest.warns(RuntimeWarning,</div>
<div class="line"><span class="lineno"> 1286</span>                          match=<span class="stringliteral">r&#39;Maximum number of iterations&#39;</span>):</div>
<div class="line"><span class="lineno"> 1287</span>            <span class="keywordflow">if</span> method.startswith(<span class="stringliteral">&#39;fmin&#39;</span>):</div>
<div class="line"><span class="lineno"> 1288</span>                routine = getattr(optimize, method)</div>
<div class="line"><span class="lineno"> 1289</span>                routine(sf.fun, x0, **options)</div>
<div class="line"><span class="lineno"> 1290</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1291</span>                optimize.minimize(sf.fun, x0, method=method, options=options)</div>
<div class="line"><span class="lineno"> 1292</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a14dcf3b37322577955c512706ecbf846" name="a14dcf3b37322577955c512706ecbf846"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14dcf3b37322577955c512706ecbf846">&#9670;&#160;</a></span>test_slsqp_respect_bounds()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.test_slsqp_respect_bounds </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1230</span>    <span class="keyword">def </span>test_slsqp_respect_bounds(self):</div>
<div class="line"><span class="lineno"> 1231</span>        <span class="comment"># Regression test for gh-3108</span></div>
<div class="line"><span class="lineno"> 1232</span>        <span class="keyword">def </span><a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(x):</div>
<div class="line"><span class="lineno"> 1233</span>            <span class="keywordflow">return</span> sum((x - np.array([1., 2., 3., 4.]))**2)</div>
<div class="line"><span class="lineno"> 1234</span> </div>
<div class="line"><span class="lineno"> 1235</span>        <span class="keyword">def </span>cons(x):</div>
<div class="line"><span class="lineno"> 1236</span>            a = np.array([[-1, -1, -1, -1], [-3, -3, -2, -1]])</div>
<div class="line"><span class="lineno"> 1237</span>            <span class="keywordflow">return</span> np.concatenate([np.dot(a, x) + np.array([5, 10]), x])</div>
<div class="line"><span class="lineno"> 1238</span> </div>
<div class="line"><span class="lineno"> 1239</span>        x0 = np.array([0.5, 1., 1.5, 2.])</div>
<div class="line"><span class="lineno"> 1240</span>        res = optimize.minimize(f, x0, method=<span class="stringliteral">&#39;slsqp&#39;</span>,</div>
<div class="line"><span class="lineno"> 1241</span>                                constraints={<span class="stringliteral">&#39;type&#39;</span>: <span class="stringliteral">&#39;ineq&#39;</span>, <span class="stringliteral">&#39;fun&#39;</span>: cons})</div>
<div class="line"><span class="lineno"> 1242</span>        assert_allclose(res.x, np.array([0., 2, 5, 8])/3, atol=1e-12)</div>
<div class="line"><span class="lineno"> 1243</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a6998d13c9b04033c08f76bafa027ff43" name="a6998d13c9b04033c08f76bafa027ff43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6998d13c9b04033c08f76bafa027ff43">&#9670;&#160;</a></span>fun</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.fun</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa6c9bea178a17cc3b643c368ee051e94" name="aa6c9bea178a17cc3b643c368ee051e94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6c9bea178a17cc3b643c368ee051e94">&#9670;&#160;</a></span>func</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.func</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae9467c878e88ea9e9fd95e4536107e42" name="ae9467c878e88ea9e9fd95e4536107e42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9467c878e88ea9e9fd95e4536107e42">&#9670;&#160;</a></span>funccalls</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.funccalls</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="accb1322a470a383f0a27373717d6cd66" name="accb1322a470a383f0a27373717d6cd66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accb1322a470a383f0a27373717d6cd66">&#9670;&#160;</a></span>grad</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.grad</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af4c1b1e73869f3ca3b659c2776867f32" name="af4c1b1e73869f3ca3b659c2776867f32"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4c1b1e73869f3ca3b659c2776867f32">&#9670;&#160;</a></span>gradcalls</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.gradcalls</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9c3fe9a279d92d3e5b1fa26d9e0582fe" name="a9c3fe9a279d92d3e5b1fa26d9e0582fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c3fe9a279d92d3e5b1fa26d9e0582fe">&#9670;&#160;</a></span>nit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.nit</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2169a9a7cf00998af10265fd6672870e" name="a2169a9a7cf00998af10265fd6672870e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2169a9a7cf00998af10265fd6672870e">&#9670;&#160;</a></span>solution</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.solution</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a23391fe5aa47ddc6bdda68645ef46fb9" name="a23391fe5aa47ddc6bdda68645ef46fb9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23391fe5aa47ddc6bdda68645ef46fb9">&#9670;&#160;</a></span>startparams</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.startparams</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a674d7f54b719a50c6d3c6ac2f2fa7b98" name="a674d7f54b719a50c6d3c6ac2f2fa7b98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a674d7f54b719a50c6d3c6ac2f2fa7b98">&#9670;&#160;</a></span>trace</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.trace</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aef7993854a025ce690924f0c70031706" name="aef7993854a025ce690924f0c70031706"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef7993854a025ce690924f0c70031706">&#9670;&#160;</a></span>x</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize.tests.test_optimize.TestOptimizeSimple.x</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/scipy/optimize/tests/<a class="el" href="scipy_2optimize_2tests_2test__optimize_8py.html">test_optimize.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
