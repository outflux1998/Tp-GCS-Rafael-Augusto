<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.utils.tests.test_validation Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1utils_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html">test_validation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sklearn.utils.tests.test_validation Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1utils_1_1tests_1_1test__validation_1_1_dummy_memory.html">DummyMemory</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1utils_1_1tests_1_1test__validation_1_1_passthrough_transformer.html">PassthroughTransformer</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1utils_1_1tests_1_1test__validation_1_1_wrong_dummy_memory.html">WrongDummyMemory</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1baf9e4041c28471394c272622c79f0c" id="r_a1baf9e4041c28471394c272622c79f0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a1baf9e4041c28471394c272622c79f0c">test_as_float_array</a> ()</td></tr>
<tr class="separator:a1baf9e4041c28471394c272622c79f0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c60352bf71314daf9d5eef3bab92b1" id="r_ad6c60352bf71314daf9d5eef3bab92b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ad6c60352bf71314daf9d5eef3bab92b1">test_as_float_array_nan</a> (X)</td></tr>
<tr class="separator:ad6c60352bf71314daf9d5eef3bab92b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad747ae3b2d5cdf8218cc8117c5be7d2" id="r_aad747ae3b2d5cdf8218cc8117c5be7d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#aad747ae3b2d5cdf8218cc8117c5be7d2">test_np_matrix</a> ()</td></tr>
<tr class="separator:aad747ae3b2d5cdf8218cc8117c5be7d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3f7b4d4294fb4c95eb5cfcea479e563" id="r_ae3f7b4d4294fb4c95eb5cfcea479e563"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ae3f7b4d4294fb4c95eb5cfcea479e563">test_memmap</a> ()</td></tr>
<tr class="separator:ae3f7b4d4294fb4c95eb5cfcea479e563"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac687d9c20acdd417431f7a8e6b881885" id="r_ac687d9c20acdd417431f7a8e6b881885"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ac687d9c20acdd417431f7a8e6b881885">test_ordering</a> ()</td></tr>
<tr class="separator:ac687d9c20acdd417431f7a8e6b881885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa994202f601c6f634d4e25a45bd938d0" id="r_aa994202f601c6f634d4e25a45bd938d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#aa994202f601c6f634d4e25a45bd938d0">test_check_array_force_all_finite_valid</a> (value, force_all_finite, retype)</td></tr>
<tr class="separator:aa994202f601c6f634d4e25a45bd938d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae96c7a5da68718ce082ca91019f57f6e" id="r_ae96c7a5da68718ce082ca91019f57f6e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ae96c7a5da68718ce082ca91019f57f6e">test_check_array_force_all_finiteinvalid</a> (value, input_name, force_all_finite, match_msg, retype)</td></tr>
<tr class="separator:ae96c7a5da68718ce082ca91019f57f6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03aa18fbdf097e072b2b97e7eb088767" id="r_a03aa18fbdf097e072b2b97e7eb088767"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a03aa18fbdf097e072b2b97e7eb088767">test_check_array_links_to_imputer_doc_only_for_X</a> (input_name, retype)</td></tr>
<tr class="separator:a03aa18fbdf097e072b2b97e7eb088767"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51f46cf83359a3ea88ae141dcf117946" id="r_a51f46cf83359a3ea88ae141dcf117946"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a51f46cf83359a3ea88ae141dcf117946">test_check_array_force_all_finite_object</a> ()</td></tr>
<tr class="separator:a51f46cf83359a3ea88ae141dcf117946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3f31cd55e45a86a9cfddc66c6875501" id="r_aa3f31cd55e45a86a9cfddc66c6875501"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#aa3f31cd55e45a86a9cfddc66c6875501">test_check_array_force_all_finite_object_unsafe_casting</a> (X, err_msg, force_all_finite)</td></tr>
<tr class="separator:aa3f31cd55e45a86a9cfddc66c6875501"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0793e5458634cbf58f315a7ccf4425d" id="r_ad0793e5458634cbf58f315a7ccf4425d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ad0793e5458634cbf58f315a7ccf4425d">test_check_array</a> ()</td></tr>
<tr class="separator:ad0793e5458634cbf58f315a7ccf4425d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89bcf95ddbd84bd9500f54ac740f9c19" id="r_a89bcf95ddbd84bd9500f54ac740f9c19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a89bcf95ddbd84bd9500f54ac740f9c19">test_check_array_numeric_error</a> (X)</td></tr>
<tr class="separator:a89bcf95ddbd84bd9500f54ac740f9c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2aa209aa51ceaa9552dbc687854df490" id="r_a2aa209aa51ceaa9552dbc687854df490"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a2aa209aa51ceaa9552dbc687854df490">test_check_array_pandas_na_support</a> (pd_dtype, dtype, expected_dtype)</td></tr>
<tr class="separator:a2aa209aa51ceaa9552dbc687854df490"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9babe6947e9cbfb01c1b0042ca271067" id="r_a9babe6947e9cbfb01c1b0042ca271067"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a9babe6947e9cbfb01c1b0042ca271067">test_check_array_panadas_na_support_series</a> ()</td></tr>
<tr class="separator:a9babe6947e9cbfb01c1b0042ca271067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1d1314a9a77beda13cb689a103b0eb3" id="r_ad1d1314a9a77beda13cb689a103b0eb3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ad1d1314a9a77beda13cb689a103b0eb3">test_check_array_pandas_dtype_casting</a> ()</td></tr>
<tr class="separator:ad1d1314a9a77beda13cb689a103b0eb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbca4621d2a104cadcbb5dbe65abce46" id="r_adbca4621d2a104cadcbb5dbe65abce46"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#adbca4621d2a104cadcbb5dbe65abce46">test_check_array_on_mock_dataframe</a> ()</td></tr>
<tr class="separator:adbca4621d2a104cadcbb5dbe65abce46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa466647c4172907a85b4c0be6445d2b7" id="r_aa466647c4172907a85b4c0be6445d2b7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#aa466647c4172907a85b4c0be6445d2b7">test_check_array_dtype_stability</a> ()</td></tr>
<tr class="separator:aa466647c4172907a85b4c0be6445d2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ade407271838415e033f21a574658e4ca" id="r_ade407271838415e033f21a574658e4ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ade407271838415e033f21a574658e4ca">test_check_array_dtype_warning</a> ()</td></tr>
<tr class="separator:ade407271838415e033f21a574658e4ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14fd2ae6077652cc105bb6a0330920c1" id="r_a14fd2ae6077652cc105bb6a0330920c1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a14fd2ae6077652cc105bb6a0330920c1">test_check_array_accept_sparse_type_exception</a> ()</td></tr>
<tr class="separator:a14fd2ae6077652cc105bb6a0330920c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a852115c87dbe6b15814d569ac84e5c4e" id="r_a852115c87dbe6b15814d569ac84e5c4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a852115c87dbe6b15814d569ac84e5c4e">test_check_array_accept_sparse_no_exception</a> ()</td></tr>
<tr class="separator:a852115c87dbe6b15814d569ac84e5c4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd8127f85d53cea223a1b840f7328632" id="r_acd8127f85d53cea223a1b840f7328632"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#acd8127f85d53cea223a1b840f7328632">X_64bit</a> (request)</td></tr>
<tr class="separator:acd8127f85d53cea223a1b840f7328632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f0050f0e398c66eedf541d50ff35fbc" id="r_a4f0050f0e398c66eedf541d50ff35fbc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a4f0050f0e398c66eedf541d50ff35fbc">test_check_array_accept_large_sparse_no_exception</a> (<a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#acd8127f85d53cea223a1b840f7328632">X_64bit</a>)</td></tr>
<tr class="separator:a4f0050f0e398c66eedf541d50ff35fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb30c3c75edfc95e8efc4121fc65796" id="r_aebb30c3c75edfc95e8efc4121fc65796"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#aebb30c3c75edfc95e8efc4121fc65796">test_check_array_accept_large_sparse_raise_exception</a> (<a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#acd8127f85d53cea223a1b840f7328632">X_64bit</a>)</td></tr>
<tr class="separator:aebb30c3c75edfc95e8efc4121fc65796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae979b1c1ba31fa6fd070407a112d3c63" id="r_ae979b1c1ba31fa6fd070407a112d3c63"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ae979b1c1ba31fa6fd070407a112d3c63">test_check_array_min_samples_and_features_messages</a> ()</td></tr>
<tr class="separator:ae979b1c1ba31fa6fd070407a112d3c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdbdedadef19d82c481a28149d8aa697" id="r_acdbdedadef19d82c481a28149d8aa697"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#acdbdedadef19d82c481a28149d8aa697">test_check_array_complex_data_error</a> ()</td></tr>
<tr class="separator:acdbdedadef19d82c481a28149d8aa697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e88ceacbde1f206f8c6a3a2d5eda1a7" id="r_a1e88ceacbde1f206f8c6a3a2d5eda1a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a1e88ceacbde1f206f8c6a3a2d5eda1a7">test_has_fit_parameter</a> ()</td></tr>
<tr class="separator:a1e88ceacbde1f206f8c6a3a2d5eda1a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4f60637c8e8ab9735e2eeb14019a13c" id="r_ab4f60637c8e8ab9735e2eeb14019a13c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ab4f60637c8e8ab9735e2eeb14019a13c">test_check_symmetric</a> ()</td></tr>
<tr class="separator:ab4f60637c8e8ab9735e2eeb14019a13c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1d5cfe94b001ac17bd071265f939ef1" id="r_ab1d5cfe94b001ac17bd071265f939ef1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ab1d5cfe94b001ac17bd071265f939ef1">test_check_is_fitted_with_is_fitted</a> ()</td></tr>
<tr class="separator:ab1d5cfe94b001ac17bd071265f939ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee6086f342b73edcb145ef1ae28f229c" id="r_aee6086f342b73edcb145ef1ae28f229c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#aee6086f342b73edcb145ef1ae28f229c">test_check_is_fitted</a> ()</td></tr>
<tr class="separator:aee6086f342b73edcb145ef1ae28f229c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d28da0fa416cdad6df9f69fc661a663" id="r_a1d28da0fa416cdad6df9f69fc661a663"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a1d28da0fa416cdad6df9f69fc661a663">test_check_is_fitted_attributes</a> ()</td></tr>
<tr class="separator:a1d28da0fa416cdad6df9f69fc661a663"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606eec6f5a16c526a17312561c089076" id="r_a606eec6f5a16c526a17312561c089076"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a606eec6f5a16c526a17312561c089076">test_check_is_fitted_with_attributes</a> (wrap)</td></tr>
<tr class="separator:a606eec6f5a16c526a17312561c089076"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acadabba129b9ebf9f66cc6f67ddf67b5" id="r_acadabba129b9ebf9f66cc6f67ddf67b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#acadabba129b9ebf9f66cc6f67ddf67b5">test_check_consistent_length</a> ()</td></tr>
<tr class="separator:acadabba129b9ebf9f66cc6f67ddf67b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a694d196bd570413c7edebb180f277" id="r_ab4a694d196bd570413c7edebb180f277"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ab4a694d196bd570413c7edebb180f277">test_check_dataframe_fit_attribute</a> ()</td></tr>
<tr class="separator:ab4a694d196bd570413c7edebb180f277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36b85d9362e78454cc2fbde133920702" id="r_a36b85d9362e78454cc2fbde133920702"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a36b85d9362e78454cc2fbde133920702">test_suppress_validation</a> ()</td></tr>
<tr class="separator:a36b85d9362e78454cc2fbde133920702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a3b48ab5fc8379e31aa9252d3d764e5" id="r_a7a3b48ab5fc8379e31aa9252d3d764e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a7a3b48ab5fc8379e31aa9252d3d764e5">test_check_array_series</a> ()</td></tr>
<tr class="separator:a7a3b48ab5fc8379e31aa9252d3d764e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d8e9ca4066a6b0d7dbb7ef3d98db629" id="r_a7d8e9ca4066a6b0d7dbb7ef3d98db629"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a7d8e9ca4066a6b0d7dbb7ef3d98db629">test_check_dataframe_mixed_float_dtypes</a> (dtype, bool_dtype)</td></tr>
<tr class="separator:a7d8e9ca4066a6b0d7dbb7ef3d98db629"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b6753ea5b64b352048ed9a4811bf4e5" id="r_a7b6753ea5b64b352048ed9a4811bf4e5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a7b6753ea5b64b352048ed9a4811bf4e5">test_check_dataframe_with_only_bool</a> ()</td></tr>
<tr class="separator:a7b6753ea5b64b352048ed9a4811bf4e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3780de43fe7102691a8e0bdae857dabf" id="r_a3780de43fe7102691a8e0bdae857dabf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a3780de43fe7102691a8e0bdae857dabf">test_check_dataframe_with_only_boolean</a> ()</td></tr>
<tr class="separator:a3780de43fe7102691a8e0bdae857dabf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a585158807bf92c94ff7f7a64b147603c" id="r_a585158807bf92c94ff7f7a64b147603c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a585158807bf92c94ff7f7a64b147603c">test_check_memory</a> ()</td></tr>
<tr class="separator:a585158807bf92c94ff7f7a64b147603c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e1baa185f45b578e1e7b365e8225e8" id="r_aa4e1baa185f45b578e1e7b365e8225e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#aa4e1baa185f45b578e1e7b365e8225e8">test_check_array_memmap</a> (copy)</td></tr>
<tr class="separator:aa4e1baa185f45b578e1e7b365e8225e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee5600d05aa781664a471bf877069275" id="r_aee5600d05aa781664a471bf877069275"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#aee5600d05aa781664a471bf877069275">test_check_non_negative</a> (retype)</td></tr>
<tr class="separator:aee5600d05aa781664a471bf877069275"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02910c1246dac58f327dc075d163dfec" id="r_a02910c1246dac58f327dc075d163dfec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a02910c1246dac58f327dc075d163dfec">test_check_X_y_informative_error</a> ()</td></tr>
<tr class="separator:a02910c1246dac58f327dc075d163dfec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7da57ae6a5cf2e932e8d5c5312fa784" id="r_ad7da57ae6a5cf2e932e8d5c5312fa784"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ad7da57ae6a5cf2e932e8d5c5312fa784">test_retrieve_samples_from_non_standard_shape</a> ()</td></tr>
<tr class="separator:ad7da57ae6a5cf2e932e8d5c5312fa784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad29412ed85a7863cfedba6d048805632" id="r_ad29412ed85a7863cfedba6d048805632"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ad29412ed85a7863cfedba6d048805632">test_check_scalar_valid</a> (x)</td></tr>
<tr class="separator:ad29412ed85a7863cfedba6d048805632"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23ac32f507df7304cac7e0402489ba0f" id="r_a23ac32f507df7304cac7e0402489ba0f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a23ac32f507df7304cac7e0402489ba0f">test_check_scalar_invalid</a> (x, target_name, target_type, min_val, max_val, include_boundaries, err_msg)</td></tr>
<tr class="separator:a23ac32f507df7304cac7e0402489ba0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cd1b07cc17693f313300bf806b112ec" id="r_a8cd1b07cc17693f313300bf806b112ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a8cd1b07cc17693f313300bf806b112ec">test_check_psd_eigenvalues_valid</a> (lambdas, expected_lambdas, w_type, w_msg, enable_warnings)</td></tr>
<tr class="separator:a8cd1b07cc17693f313300bf806b112ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b4280d0bd2cb8b5aabba27b5964483" id="r_ac9b4280d0bd2cb8b5aabba27b5964483"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ac9b4280d0bd2cb8b5aabba27b5964483">test_check_psd_eigenvalues_invalid</a> (lambdas, err_type, err_msg)</td></tr>
<tr class="separator:ac9b4280d0bd2cb8b5aabba27b5964483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02202c655332f1acf8288feb6bdd9234" id="r_a02202c655332f1acf8288feb6bdd9234"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a02202c655332f1acf8288feb6bdd9234">test_check_sample_weight</a> ()</td></tr>
<tr class="separator:a02202c655332f1acf8288feb6bdd9234"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6a3defd1de3058da45be05538a91762" id="r_ae6a3defd1de3058da45be05538a91762"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ae6a3defd1de3058da45be05538a91762">test_allclose_dense_sparse_equals</a> (toarray)</td></tr>
<tr class="separator:ae6a3defd1de3058da45be05538a91762"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4d177d9a340bc32c192e54c9dd0f78d" id="r_ae4d177d9a340bc32c192e54c9dd0f78d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ae4d177d9a340bc32c192e54c9dd0f78d">test_allclose_dense_sparse_not_equals</a> (toarray)</td></tr>
<tr class="separator:ae4d177d9a340bc32c192e54c9dd0f78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bbbcb5318d3bdae5aa6d3ebc043918a" id="r_a0bbbcb5318d3bdae5aa6d3ebc043918a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a0bbbcb5318d3bdae5aa6d3ebc043918a">test_allclose_dense_sparse_raise</a> (toarray)</td></tr>
<tr class="separator:a0bbbcb5318d3bdae5aa6d3ebc043918a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33d57973af0a80ff6d6b292b771b180b" id="r_a33d57973af0a80ff6d6b292b771b180b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a33d57973af0a80ff6d6b292b771b180b">test_deprecate_positional_args_warns_for_function</a> ()</td></tr>
<tr class="separator:a33d57973af0a80ff6d6b292b771b180b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a092c0fffd3bc30966ca8f75e23899cc0" id="r_a092c0fffd3bc30966ca8f75e23899cc0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a092c0fffd3bc30966ca8f75e23899cc0">test_deprecate_positional_args_warns_for_function_version</a> ()</td></tr>
<tr class="separator:a092c0fffd3bc30966ca8f75e23899cc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656d090cd01b8f7d8bb1fb5585befd7d" id="r_a656d090cd01b8f7d8bb1fb5585befd7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a656d090cd01b8f7d8bb1fb5585befd7d">test_deprecate_positional_args_warns_for_class</a> ()</td></tr>
<tr class="separator:a656d090cd01b8f7d8bb1fb5585befd7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4032ba0ebc42da9a469df852b7b367e7" id="r_a4032ba0ebc42da9a469df852b7b367e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a4032ba0ebc42da9a469df852b7b367e7">test_check_fit_params</a> (indices)</td></tr>
<tr class="separator:a4032ba0ebc42da9a469df852b7b367e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3295a79a7ef7fe1d4abc31efd922d6f" id="r_ae3295a79a7ef7fe1d4abc31efd922d6f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ae3295a79a7ef7fe1d4abc31efd922d6f">test_check_sparse_pandas_sp_format</a> (sp_format)</td></tr>
<tr class="separator:ae3295a79a7ef7fe1d4abc31efd922d6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78fce691b72009ac5d51c2c5be3ddbc2" id="r_a78fce691b72009ac5d51c2c5be3ddbc2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a78fce691b72009ac5d51c2c5be3ddbc2">test_check_pandas_sparse_invalid</a> (ntype1, ntype2)</td></tr>
<tr class="separator:a78fce691b72009ac5d51c2c5be3ddbc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca0826db1d4673fb23248711f5e7f53c" id="r_aca0826db1d4673fb23248711f5e7f53c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#aca0826db1d4673fb23248711f5e7f53c">test_check_pandas_sparse_valid</a> (ntype1, ntype2, expected_subtype)</td></tr>
<tr class="separator:aca0826db1d4673fb23248711f5e7f53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f099976e46f8d6ff1d4be0d43cc0b7f" id="r_a6f099976e46f8d6ff1d4be0d43cc0b7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a6f099976e46f8d6ff1d4be0d43cc0b7f">test_num_features</a> (constructor_name)</td></tr>
<tr class="separator:a6f099976e46f8d6ff1d4be0d43cc0b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad8c27ffe5078590e33accb74ad3c76b" id="r_aad8c27ffe5078590e33accb74ad3c76b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#aad8c27ffe5078590e33accb74ad3c76b">test_num_features_errors_1d_containers</a> (X, constructor_name)</td></tr>
<tr class="separator:aad8c27ffe5078590e33accb74ad3c76b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e42f5f57aea22df35e924f3651cfd2" id="r_a97e42f5f57aea22df35e924f3651cfd2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a97e42f5f57aea22df35e924f3651cfd2">test_num_features_errors_scalars</a> (X)</td></tr>
<tr class="separator:a97e42f5f57aea22df35e924f3651cfd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e30e1ca54129dfbd8e2ad13778c8288" id="r_a9e30e1ca54129dfbd8e2ad13778c8288"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a9e30e1ca54129dfbd8e2ad13778c8288">test_get_feature_names_pandas_with_ints_no_warning</a> (names)</td></tr>
<tr class="separator:a9e30e1ca54129dfbd8e2ad13778c8288"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10591a05e999ef6f1cef56abc3f82507" id="r_a10591a05e999ef6f1cef56abc3f82507"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a10591a05e999ef6f1cef56abc3f82507">test_get_feature_names_pandas</a> ()</td></tr>
<tr class="separator:a10591a05e999ef6f1cef56abc3f82507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00cf3b63711984e19d5306f26c44f53a" id="r_a00cf3b63711984e19d5306f26c44f53a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a00cf3b63711984e19d5306f26c44f53a">test_get_feature_names_numpy</a> ()</td></tr>
<tr class="separator:a00cf3b63711984e19d5306f26c44f53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a681a15487b63049e2bbba39ceea2e008" id="r_a681a15487b63049e2bbba39ceea2e008"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a681a15487b63049e2bbba39ceea2e008">test_get_feature_names_invalid_dtypes</a> (names, dtypes)</td></tr>
<tr class="separator:a681a15487b63049e2bbba39ceea2e008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ab3d08cd1db5160e72c71b255c5070c" id="r_a0ab3d08cd1db5160e72c71b255c5070c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a0ab3d08cd1db5160e72c71b255c5070c">test_check_feature_names_in</a> ()</td></tr>
<tr class="separator:a0ab3d08cd1db5160e72c71b255c5070c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c156b1def1b95d229889984dc7ecca3" id="r_a6c156b1def1b95d229889984dc7ecca3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a6c156b1def1b95d229889984dc7ecca3">test_check_feature_names_in_pandas</a> ()</td></tr>
<tr class="separator:a6c156b1def1b95d229889984dc7ecca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac047265dd03c3066cd0064410b4a4f2e" id="r_ac047265dd03c3066cd0064410b4a4f2e"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#ac047265dd03c3066cd0064410b4a4f2e">_psd_cases_valid</a></td></tr>
<tr class="separator:ac047265dd03c3066cd0064410b4a4f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa39ce93ff85eb8e69cb8901ee3172cd1" id="r_aa39ce93ff85eb8e69cb8901ee3172cd1"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#aa39ce93ff85eb8e69cb8901ee3172cd1">_psd_cases_invalid</a></td></tr>
<tr class="separator:aa39ce93ff85eb8e69cb8901ee3172cd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54195c330e7771b3b0ea106d786b54f0" id="r_a54195c330e7771b3b0ea106d786b54f0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#a54195c330e7771b3b0ea106d786b54f0">_is_fitted</a></td></tr>
<tr class="separator:a54195c330e7771b3b0ea106d786b54f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af47d3e1ce814e703c0f7469712a4a37b" id="r_af47d3e1ce814e703c0f7469712a4a37b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1tests_1_1test__validation.html#af47d3e1ce814e703c0f7469712a4a37b">shape</a></td></tr>
<tr class="separator:af47d3e1ce814e703c0f7469712a4a37b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Tests for input validation functions</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="ae6a3defd1de3058da45be05538a91762" name="ae6a3defd1de3058da45be05538a91762"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6a3defd1de3058da45be05538a91762">&#9670;&#160;</a></span>test_allclose_dense_sparse_equals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_allclose_dense_sparse_equals </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>toarray</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1397</span><span class="keyword">def </span>test_allclose_dense_sparse_equals(toarray):</div>
<div class="line"><span class="lineno"> 1398</span>    base = np.arange(9).reshape(3, 3)</div>
<div class="line"><span class="lineno"> 1399</span>    x, y = toarray(base), toarray(base)</div>
<div class="line"><span class="lineno"> 1400</span>    <span class="keyword">assert</span> _allclose_dense_sparse(x, y)</div>
<div class="line"><span class="lineno"> 1401</span> </div>
<div class="line"><span class="lineno"> 1402</span> </div>
<div class="line"><span class="lineno"> 1403</span><span class="preprocessor">@pytest.mark.parametrize(&quot;toarray&quot;, [np.array, sp.csr_matrix, sp.csc_matrix])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae4d177d9a340bc32c192e54c9dd0f78d" name="ae4d177d9a340bc32c192e54c9dd0f78d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4d177d9a340bc32c192e54c9dd0f78d">&#9670;&#160;</a></span>test_allclose_dense_sparse_not_equals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_allclose_dense_sparse_not_equals </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>toarray</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1404</span><span class="keyword">def </span>test_allclose_dense_sparse_not_equals(toarray):</div>
<div class="line"><span class="lineno"> 1405</span>    base = np.arange(9).reshape(3, 3)</div>
<div class="line"><span class="lineno"> 1406</span>    x, y = toarray(base), toarray(base + 1)</div>
<div class="line"><span class="lineno"> 1407</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> _allclose_dense_sparse(x, y)</div>
<div class="line"><span class="lineno"> 1408</span> </div>
<div class="line"><span class="lineno"> 1409</span> </div>
<div class="line"><span class="lineno"> 1410</span><span class="preprocessor">@pytest.mark.parametrize(&quot;toarray&quot;, [sp.csr_matrix, sp.csc_matrix])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0bbbcb5318d3bdae5aa6d3ebc043918a" name="a0bbbcb5318d3bdae5aa6d3ebc043918a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0bbbcb5318d3bdae5aa6d3ebc043918a">&#9670;&#160;</a></span>test_allclose_dense_sparse_raise()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_allclose_dense_sparse_raise </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>toarray</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1411</span><span class="keyword">def </span>test_allclose_dense_sparse_raise(toarray):</div>
<div class="line"><span class="lineno"> 1412</span>    x = np.arange(9).reshape(3, 3)</div>
<div class="line"><span class="lineno"> 1413</span>    y = toarray(x + 1)</div>
<div class="line"><span class="lineno"> 1414</span> </div>
<div class="line"><span class="lineno"> 1415</span>    msg = <span class="stringliteral">&quot;Can only compare two sparse matrices, not a sparse matrix and an array&quot;</span></div>
<div class="line"><span class="lineno"> 1416</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1417</span>        _allclose_dense_sparse(x, y)</div>
<div class="line"><span class="lineno"> 1418</span> </div>
<div class="line"><span class="lineno"> 1419</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1baf9e4041c28471394c272622c79f0c" name="a1baf9e4041c28471394c272622c79f0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1baf9e4041c28471394c272622c79f0c">&#9670;&#160;</a></span>test_as_float_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_as_float_array </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   64</span><span class="keyword">def </span>test_as_float_array():</div>
<div class="line"><span class="lineno">   65</span>    <span class="comment"># Test function for as_float_array</span></div>
<div class="line"><span class="lineno">   66</span>    X = np.ones((3, 10), dtype=np.int32)</div>
<div class="line"><span class="lineno">   67</span>    X = X + np.arange(10, dtype=np.int32)</div>
<div class="line"><span class="lineno">   68</span>    X2 = as_float_array(X, copy=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">   69</span>    <span class="keyword">assert</span> X2.dtype == np.float32</div>
<div class="line"><span class="lineno">   70</span>    <span class="comment"># Another test</span></div>
<div class="line"><span class="lineno">   71</span>    X = X.astype(np.int64)</div>
<div class="line"><span class="lineno">   72</span>    X2 = as_float_array(X, copy=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   73</span>    <span class="comment"># Checking that the array wasn&#39;t overwritten</span></div>
<div class="line"><span class="lineno">   74</span>    <span class="keyword">assert</span> as_float_array(X, copy=<span class="keyword">False</span>) <span class="keywordflow">is</span> <span class="keywordflow">not</span> X</div>
<div class="line"><span class="lineno">   75</span>    <span class="keyword">assert</span> X2.dtype == np.float64</div>
<div class="line"><span class="lineno">   76</span>    <span class="comment"># Test int dtypes &lt;= 32bit</span></div>
<div class="line"><span class="lineno">   77</span>    tested_dtypes = [bool, np.int8, np.int16, np.int32, np.uint8, np.uint16, np.uint32]</div>
<div class="line"><span class="lineno">   78</span>    <span class="keywordflow">for</span> dtype <span class="keywordflow">in</span> tested_dtypes:</div>
<div class="line"><span class="lineno">   79</span>        X = X.astype(dtype)</div>
<div class="line"><span class="lineno">   80</span>        X2 = as_float_array(X)</div>
<div class="line"><span class="lineno">   81</span>        <span class="keyword">assert</span> X2.dtype == np.float32</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    <span class="comment"># Test object dtype</span></div>
<div class="line"><span class="lineno">   84</span>    X = X.astype(object)</div>
<div class="line"><span class="lineno">   85</span>    X2 = as_float_array(X, copy=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   86</span>    <span class="keyword">assert</span> X2.dtype == np.float64</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    <span class="comment"># Here, X is of the right type, it shouldn&#39;t be modified</span></div>
<div class="line"><span class="lineno">   89</span>    X = np.ones((3, 2), dtype=np.float32)</div>
<div class="line"><span class="lineno">   90</span>    <span class="keyword">assert</span> as_float_array(X, copy=<span class="keyword">False</span>) <span class="keywordflow">is</span> X</div>
<div class="line"><span class="lineno">   91</span>    <span class="comment"># Test that if X is fortran ordered it stays</span></div>
<div class="line"><span class="lineno">   92</span>    X = np.asfortranarray(X)</div>
<div class="line"><span class="lineno">   93</span>    <span class="keyword">assert</span> np.isfortran(as_float_array(X, copy=<span class="keyword">True</span>))</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>    <span class="comment"># Test the copy parameter with some matrices</span></div>
<div class="line"><span class="lineno">   96</span>    matrices = [</div>
<div class="line"><span class="lineno">   97</span>        sp.csc_matrix(np.arange(5)).toarray(),</div>
<div class="line"><span class="lineno">   98</span>        _sparse_random_matrix(10, 10, density=0.10).toarray(),</div>
<div class="line"><span class="lineno">   99</span>    ]</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">for</span> M <span class="keywordflow">in</span> matrices:</div>
<div class="line"><span class="lineno">  101</span>        N = as_float_array(M, copy=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  102</span>        N[0, 0] = np.nan</div>
<div class="line"><span class="lineno">  103</span>        <span class="keyword">assert</span> <span class="keywordflow">not</span> np.isnan(M).any()</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span><span class="preprocessor">@pytest.mark.parametrize(&quot;X&quot;, [(np.random.random((10, 2)</span>)), (sp.rand(10, 2).tocsr())])</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad6c60352bf71314daf9d5eef3bab92b1" name="ad6c60352bf71314daf9d5eef3bab92b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6c60352bf71314daf9d5eef3bab92b1">&#9670;&#160;</a></span>test_as_float_array_nan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_as_float_array_nan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  107</span><span class="keyword">def </span>test_as_float_array_nan(X):</div>
<div class="line"><span class="lineno">  108</span>    X[5, 0] = np.nan</div>
<div class="line"><span class="lineno">  109</span>    X[6, 1] = np.nan</div>
<div class="line"><span class="lineno">  110</span>    X_converted = as_float_array(X, force_all_finite=<span class="stringliteral">&quot;allow-nan&quot;</span>)</div>
<div class="line"><span class="lineno">  111</span>    assert_allclose_dense_sparse(X_converted, X)</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad0793e5458634cbf58f315a7ccf4425d" name="ad0793e5458634cbf58f315a7ccf4425d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0793e5458634cbf58f315a7ccf4425d">&#9670;&#160;</a></span>test_check_array()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  286</span><span class="keyword">def </span>test_check_array():</div>
<div class="line"><span class="lineno">  287</span>    <span class="comment"># accept_sparse == False</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="comment"># raise error on sparse inputs</span></div>
<div class="line"><span class="lineno">  289</span>    X = [[1, 2], [3, 4]]</div>
<div class="line"><span class="lineno">  290</span>    X_csr = sp.csr_matrix(X)</div>
<div class="line"><span class="lineno">  291</span>    <span class="keyword">with</span> pytest.raises(TypeError):</div>
<div class="line"><span class="lineno">  292</span>        check_array(X_csr)</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>    <span class="comment"># ensure_2d=False</span></div>
<div class="line"><span class="lineno">  295</span>    X_array = check_array([0, 1, 2], ensure_2d=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  296</span>    <span class="keyword">assert</span> X_array.ndim == 1</div>
<div class="line"><span class="lineno">  297</span>    <span class="comment"># ensure_2d=True with 1d array</span></div>
<div class="line"><span class="lineno">  298</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Expected 2D array, got 1D array instead&quot;</span>):</div>
<div class="line"><span class="lineno">  299</span>        check_array([0, 1, 2], ensure_2d=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  300</span> </div>
<div class="line"><span class="lineno">  301</span>    <span class="comment"># ensure_2d=True with scalar array</span></div>
<div class="line"><span class="lineno">  302</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Expected 2D array, got scalar array instead&quot;</span>):</div>
<div class="line"><span class="lineno">  303</span>        check_array(10, ensure_2d=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>    <span class="comment"># don&#39;t allow ndim &gt; 3</span></div>
<div class="line"><span class="lineno">  306</span>    X_ndim = np.arange(8).reshape(2, 2, 2)</div>
<div class="line"><span class="lineno">  307</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  308</span>        check_array(X_ndim)</div>
<div class="line"><span class="lineno">  309</span>    check_array(X_ndim, allow_nd=<span class="keyword">True</span>)  <span class="comment"># doesn&#39;t raise</span></div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    <span class="comment"># dtype and order enforcement.</span></div>
<div class="line"><span class="lineno">  312</span>    X_C = np.arange(4).reshape(2, 2).copy(<span class="stringliteral">&quot;C&quot;</span>)</div>
<div class="line"><span class="lineno">  313</span>    X_F = X_C.copy(<span class="stringliteral">&quot;F&quot;</span>)</div>
<div class="line"><span class="lineno">  314</span>    X_int = X_C.astype(int)</div>
<div class="line"><span class="lineno">  315</span>    X_float = X_C.astype(float)</div>
<div class="line"><span class="lineno">  316</span>    Xs = [X_C, X_F, X_int, X_float]</div>
<div class="line"><span class="lineno">  317</span>    dtypes = [np.int32, int, float, np.float32, <span class="keywordtype">None</span>, bool, object]</div>
<div class="line"><span class="lineno">  318</span>    orders = [<span class="stringliteral">&quot;C&quot;</span>, <span class="stringliteral">&quot;F&quot;</span>, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno">  319</span>    copys = [<span class="keyword">True</span>, <span class="keyword">False</span>]</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">for</span> X, dtype, order, copy <span class="keywordflow">in</span> product(Xs, dtypes, orders, copys):</div>
<div class="line"><span class="lineno">  322</span>        X_checked = check_array(X, dtype=dtype, order=order, copy=copy)</div>
<div class="line"><span class="lineno">  323</span>        <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  324</span>            <span class="keyword">assert</span> X_checked.dtype == dtype</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  326</span>            <span class="keyword">assert</span> X_checked.dtype == X.dtype</div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">if</span> order == <span class="stringliteral">&quot;C&quot;</span>:</div>
<div class="line"><span class="lineno">  328</span>            <span class="keyword">assert</span> X_checked.flags[<span class="stringliteral">&quot;C_CONTIGUOUS&quot;</span>]</div>
<div class="line"><span class="lineno">  329</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> X_checked.flags[<span class="stringliteral">&quot;F_CONTIGUOUS&quot;</span>]</div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">elif</span> order == <span class="stringliteral">&quot;F&quot;</span>:</div>
<div class="line"><span class="lineno">  331</span>            <span class="keyword">assert</span> X_checked.flags[<span class="stringliteral">&quot;F_CONTIGUOUS&quot;</span>]</div>
<div class="line"><span class="lineno">  332</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> X_checked.flags[<span class="stringliteral">&quot;C_CONTIGUOUS&quot;</span>]</div>
<div class="line"><span class="lineno">  333</span>        <span class="keywordflow">if</span> copy:</div>
<div class="line"><span class="lineno">  334</span>            <span class="keyword">assert</span> X <span class="keywordflow">is</span> <span class="keywordflow">not</span> X_checked</div>
<div class="line"><span class="lineno">  335</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  336</span>            <span class="comment"># doesn&#39;t copy if it was already good</span></div>
<div class="line"><span class="lineno">  337</span>            <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno">  338</span>                X.dtype == X_checked.dtype</div>
<div class="line"><span class="lineno">  339</span>                <span class="keywordflow">and</span> X_checked.flags[<span class="stringliteral">&quot;C_CONTIGUOUS&quot;</span>] == X.flags[<span class="stringliteral">&quot;C_CONTIGUOUS&quot;</span>]</div>
<div class="line"><span class="lineno">  340</span>                <span class="keywordflow">and</span> X_checked.flags[<span class="stringliteral">&quot;F_CONTIGUOUS&quot;</span>] == X.flags[<span class="stringliteral">&quot;F_CONTIGUOUS&quot;</span>]</div>
<div class="line"><span class="lineno">  341</span>            ):</div>
<div class="line"><span class="lineno">  342</span>                <span class="keyword">assert</span> X <span class="keywordflow">is</span> X_checked</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    <span class="comment"># allowed sparse != None</span></div>
<div class="line"><span class="lineno">  345</span>    X_csc = sp.csc_matrix(X_C)</div>
<div class="line"><span class="lineno">  346</span>    X_coo = X_csc.tocoo()</div>
<div class="line"><span class="lineno">  347</span>    X_dok = X_csc.todok()</div>
<div class="line"><span class="lineno">  348</span>    X_int = X_csc.astype(int)</div>
<div class="line"><span class="lineno">  349</span>    X_float = X_csc.astype(float)</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>    Xs = [X_csc, X_coo, X_dok, X_int, X_float]</div>
<div class="line"><span class="lineno">  352</span>    accept_sparses = [[<span class="stringliteral">&quot;csr&quot;</span>, <span class="stringliteral">&quot;coo&quot;</span>], [<span class="stringliteral">&quot;coo&quot;</span>, <span class="stringliteral">&quot;dok&quot;</span>]]</div>
<div class="line"><span class="lineno">  353</span>    <span class="comment"># scipy sparse matrices do not support the object dtype so</span></div>
<div class="line"><span class="lineno">  354</span>    <span class="comment"># this dtype is skipped in this loop</span></div>
<div class="line"><span class="lineno">  355</span>    non_object_dtypes = [dt <span class="keywordflow">for</span> dt <span class="keywordflow">in</span> dtypes <span class="keywordflow">if</span> dt <span class="keywordflow">is</span> <span class="keywordflow">not</span> object]</div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">for</span> X, dtype, accept_sparse, copy <span class="keywordflow">in</span> product(</div>
<div class="line"><span class="lineno">  357</span>        Xs, non_object_dtypes, accept_sparses, copys</div>
<div class="line"><span class="lineno">  358</span>    ):</div>
<div class="line"><span class="lineno">  359</span>        X_checked = check_array(X, dtype=dtype, accept_sparse=accept_sparse, copy=copy)</div>
<div class="line"><span class="lineno">  360</span>        <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  361</span>            <span class="keyword">assert</span> X_checked.dtype == dtype</div>
<div class="line"><span class="lineno">  362</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  363</span>            <span class="keyword">assert</span> X_checked.dtype == X.dtype</div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">if</span> X.format <span class="keywordflow">in</span> accept_sparse:</div>
<div class="line"><span class="lineno">  365</span>            <span class="comment"># no change if allowed</span></div>
<div class="line"><span class="lineno">  366</span>            <span class="keyword">assert</span> X.format == X_checked.format</div>
<div class="line"><span class="lineno">  367</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  368</span>            <span class="comment"># got converted</span></div>
<div class="line"><span class="lineno">  369</span>            <span class="keyword">assert</span> X_checked.format == accept_sparse[0]</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">if</span> copy:</div>
<div class="line"><span class="lineno">  371</span>            <span class="keyword">assert</span> X <span class="keywordflow">is</span> <span class="keywordflow">not</span> X_checked</div>
<div class="line"><span class="lineno">  372</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  373</span>            <span class="comment"># doesn&#39;t copy if it was already good</span></div>
<div class="line"><span class="lineno">  374</span>            <span class="keywordflow">if</span> X.dtype == X_checked.dtype <span class="keywordflow">and</span> X.format == X_checked.format:</div>
<div class="line"><span class="lineno">  375</span>                <span class="keyword">assert</span> X <span class="keywordflow">is</span> X_checked</div>
<div class="line"><span class="lineno">  376</span> </div>
<div class="line"><span class="lineno">  377</span>    <span class="comment"># other input formats</span></div>
<div class="line"><span class="lineno">  378</span>    <span class="comment"># convert lists to arrays</span></div>
<div class="line"><span class="lineno">  379</span>    X_dense = check_array([[1, 2], [3, 4]])</div>
<div class="line"><span class="lineno">  380</span>    <span class="keyword">assert</span> isinstance(X_dense, np.ndarray)</div>
<div class="line"><span class="lineno">  381</span>    <span class="comment"># raise on too deep lists</span></div>
<div class="line"><span class="lineno">  382</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  383</span>        check_array(X_ndim.tolist())</div>
<div class="line"><span class="lineno">  384</span>    check_array(X_ndim.tolist(), allow_nd=<span class="keyword">True</span>)  <span class="comment"># doesn&#39;t raise</span></div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>    <span class="comment"># convert weird stuff to arrays</span></div>
<div class="line"><span class="lineno">  387</span>    X_no_array = _NotAnArray(X_dense)</div>
<div class="line"><span class="lineno">  388</span>    result = check_array(X_no_array)</div>
<div class="line"><span class="lineno">  389</span>    <span class="keyword">assert</span> isinstance(result, np.ndarray)</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span> </div>
<div class="line"><span class="lineno">  392</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  393</span>    <span class="stringliteral">&quot;X&quot;</span>,</div>
<div class="line"><span class="lineno">  394</span>    [</div>
<div class="line"><span class="lineno">  395</span>        [[<span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;2&quot;</span>], [<span class="stringliteral">&quot;3&quot;</span>, <span class="stringliteral">&quot;4&quot;</span>]],</div>
<div class="line"><span class="lineno">  396</span>        np.array([[<span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;2&quot;</span>], [<span class="stringliteral">&quot;3&quot;</span>, <span class="stringliteral">&quot;4&quot;</span>]], dtype=<span class="stringliteral">&quot;U&quot;</span>),</div>
<div class="line"><span class="lineno">  397</span>        np.array([[<span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;2&quot;</span>], [<span class="stringliteral">&quot;3&quot;</span>, <span class="stringliteral">&quot;4&quot;</span>]], dtype=<span class="stringliteral">&quot;S&quot;</span>),</div>
<div class="line"><span class="lineno">  398</span>        [[b<span class="stringliteral">&quot;1&quot;</span>, b<span class="stringliteral">&quot;2&quot;</span>], [b<span class="stringliteral">&quot;3&quot;</span>, b<span class="stringliteral">&quot;4&quot;</span>]],</div>
<div class="line"><span class="lineno">  399</span>        np.array([[b<span class="stringliteral">&quot;1&quot;</span>, b<span class="stringliteral">&quot;2&quot;</span>], [b<span class="stringliteral">&quot;3&quot;</span>, b<span class="stringliteral">&quot;4&quot;</span>]], dtype=<span class="stringliteral">&quot;V1&quot;</span>),</div>
<div class="line"><span class="lineno">  400</span>    ],</div>
<div class="line"><span class="lineno">  401</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4f0050f0e398c66eedf541d50ff35fbc" name="a4f0050f0e398c66eedf541d50ff35fbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f0050f0e398c66eedf541d50ff35fbc">&#9670;&#160;</a></span>test_check_array_accept_large_sparse_no_exception()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_accept_large_sparse_no_exception </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X_64bit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  618</span><span class="keyword">def </span>test_check_array_accept_large_sparse_no_exception(X_64bit):</div>
<div class="line"><span class="lineno">  619</span>    <span class="comment"># When large sparse are allowed</span></div>
<div class="line"><span class="lineno">  620</span>    check_array(X_64bit, accept_large_sparse=<span class="keyword">True</span>, accept_sparse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  621</span> </div>
<div class="line"><span class="lineno">  622</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aebb30c3c75edfc95e8efc4121fc65796" name="aebb30c3c75edfc95e8efc4121fc65796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebb30c3c75edfc95e8efc4121fc65796">&#9670;&#160;</a></span>test_check_array_accept_large_sparse_raise_exception()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_accept_large_sparse_raise_exception </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X_64bit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  623</span><span class="keyword">def </span>test_check_array_accept_large_sparse_raise_exception(X_64bit):</div>
<div class="line"><span class="lineno">  624</span>    <span class="comment"># When large sparse are not allowed</span></div>
<div class="line"><span class="lineno">  625</span>    msg = (</div>
<div class="line"><span class="lineno">  626</span>        <span class="stringliteral">&quot;Only sparse matrices with 32-bit integer indices &quot;</span></div>
<div class="line"><span class="lineno">  627</span>        <span class="stringliteral">&quot;are accepted. Got int64 indices.&quot;</span></div>
<div class="line"><span class="lineno">  628</span>    )</div>
<div class="line"><span class="lineno">  629</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  630</span>        check_array(X_64bit, accept_sparse=<span class="keyword">True</span>, accept_large_sparse=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a852115c87dbe6b15814d569ac84e5c4e" name="a852115c87dbe6b15814d569ac84e5c4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a852115c87dbe6b15814d569ac84e5c4e">&#9670;&#160;</a></span>test_check_array_accept_sparse_no_exception()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_accept_sparse_no_exception </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  599</span><span class="keyword">def </span>test_check_array_accept_sparse_no_exception():</div>
<div class="line"><span class="lineno">  600</span>    X = [[1, 2], [3, 4]]</div>
<div class="line"><span class="lineno">  601</span>    X_csr = sp.csr_matrix(X)</div>
<div class="line"><span class="lineno">  602</span> </div>
<div class="line"><span class="lineno">  603</span>    check_array(X_csr, accept_sparse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  604</span>    check_array(X_csr, accept_sparse=<span class="stringliteral">&quot;csr&quot;</span>)</div>
<div class="line"><span class="lineno">  605</span>    check_array(X_csr, accept_sparse=[<span class="stringliteral">&quot;csr&quot;</span>])</div>
<div class="line"><span class="lineno">  606</span>    check_array(X_csr, accept_sparse=(<span class="stringliteral">&quot;csr&quot;</span>,))</div>
<div class="line"><span class="lineno">  607</span> </div>
<div class="line"><span class="lineno">  608</span> </div>
<div class="line"><span class="lineno">  609</span><span class="preprocessor">@pytest.fixture(params=[&quot;csr&quot;, &quot;csc&quot;, &quot;coo&quot;, &quot;bsr&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a14fd2ae6077652cc105bb6a0330920c1" name="a14fd2ae6077652cc105bb6a0330920c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14fd2ae6077652cc105bb6a0330920c1">&#9670;&#160;</a></span>test_check_array_accept_sparse_type_exception()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_accept_sparse_type_exception </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  568</span><span class="keyword">def </span>test_check_array_accept_sparse_type_exception():</div>
<div class="line"><span class="lineno">  569</span>    X = [[1, 2], [3, 4]]</div>
<div class="line"><span class="lineno">  570</span>    X_csr = sp.csr_matrix(X)</div>
<div class="line"><span class="lineno">  571</span>    invalid_type = SVR()</div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span>    msg = (</div>
<div class="line"><span class="lineno">  574</span>        <span class="stringliteral">&quot;A sparse matrix was passed, but dense data is required. &quot;</span></div>
<div class="line"><span class="lineno">  575</span>        <span class="stringliteral">r&quot;Use X.toarray\&zwj;(\&zwj;) to convert to a dense numpy array.&quot;</span></div>
<div class="line"><span class="lineno">  576</span>    )</div>
<div class="line"><span class="lineno">  577</span>    <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno">  578</span>        check_array(X_csr, accept_sparse=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  579</span> </div>
<div class="line"><span class="lineno">  580</span>    msg = (</div>
<div class="line"><span class="lineno">  581</span>        <span class="stringliteral">&quot;Parameter &#39;accept_sparse&#39; should be a string, &quot;</span></div>
<div class="line"><span class="lineno">  582</span>        <span class="stringliteral">&quot;boolean or list of strings. You provided &#39;accept_sparse=.*&#39;.&quot;</span></div>
<div class="line"><span class="lineno">  583</span>    )</div>
<div class="line"><span class="lineno">  584</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  585</span>        check_array(X_csr, accept_sparse=invalid_type)</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>    msg = (</div>
<div class="line"><span class="lineno">  588</span>        <span class="stringliteral">&quot;When providing &#39;accept_sparse&#39; as a tuple or list, &quot;</span></div>
<div class="line"><span class="lineno">  589</span>        <span class="stringliteral">&quot;it must contain at least one string value.&quot;</span></div>
<div class="line"><span class="lineno">  590</span>    )</div>
<div class="line"><span class="lineno">  591</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  592</span>        check_array(X_csr, accept_sparse=[])</div>
<div class="line"><span class="lineno">  593</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  594</span>        check_array(X_csr, accept_sparse=())</div>
<div class="line"><span class="lineno">  595</span>    <span class="keyword">with</span> pytest.raises(TypeError, match=<span class="stringliteral">&quot;SVR&quot;</span>):</div>
<div class="line"><span class="lineno">  596</span>        check_array(X_csr, accept_sparse=[invalid_type])</div>
<div class="line"><span class="lineno">  597</span> </div>
<div class="line"><span class="lineno">  598</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acdbdedadef19d82c481a28149d8aa697" name="acdbdedadef19d82c481a28149d8aa697"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acdbdedadef19d82c481a28149d8aa697">&#9670;&#160;</a></span>test_check_array_complex_data_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_complex_data_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  691</span><span class="keyword">def </span>test_check_array_complex_data_error():</div>
<div class="line"><span class="lineno">  692</span>    X = np.array([[1 + 2j, 3 + 4j, 5 + 7j], [2 + 3j, 4 + 5j, 6 + 7j]])</div>
<div class="line"><span class="lineno">  693</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Complex data not supported&quot;</span>):</div>
<div class="line"><span class="lineno">  694</span>        check_array(X)</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>    <span class="comment"># list of lists</span></div>
<div class="line"><span class="lineno">  697</span>    X = [[1 + 2j, 3 + 4j, 5 + 7j], [2 + 3j, 4 + 5j, 6 + 7j]]</div>
<div class="line"><span class="lineno">  698</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Complex data not supported&quot;</span>):</div>
<div class="line"><span class="lineno">  699</span>        check_array(X)</div>
<div class="line"><span class="lineno">  700</span> </div>
<div class="line"><span class="lineno">  701</span>    <span class="comment"># tuple of tuples</span></div>
<div class="line"><span class="lineno">  702</span>    X = ((1 + 2j, 3 + 4j, 5 + 7j), (2 + 3j, 4 + 5j, 6 + 7j))</div>
<div class="line"><span class="lineno">  703</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Complex data not supported&quot;</span>):</div>
<div class="line"><span class="lineno">  704</span>        check_array(X)</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>    <span class="comment"># list of np arrays</span></div>
<div class="line"><span class="lineno">  707</span>    X = [np.array([1 + 2j, 3 + 4j, 5 + 7j]), np.array([2 + 3j, 4 + 5j, 6 + 7j])]</div>
<div class="line"><span class="lineno">  708</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Complex data not supported&quot;</span>):</div>
<div class="line"><span class="lineno">  709</span>        check_array(X)</div>
<div class="line"><span class="lineno">  710</span> </div>
<div class="line"><span class="lineno">  711</span>    <span class="comment"># tuple of np arrays</span></div>
<div class="line"><span class="lineno">  712</span>    X = (np.array([1 + 2j, 3 + 4j, 5 + 7j]), np.array([2 + 3j, 4 + 5j, 6 + 7j]))</div>
<div class="line"><span class="lineno">  713</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Complex data not supported&quot;</span>):</div>
<div class="line"><span class="lineno">  714</span>        check_array(X)</div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>    <span class="comment"># dataframe</span></div>
<div class="line"><span class="lineno">  717</span>    X = MockDataFrame(np.array([[1 + 2j, 3 + 4j, 5 + 7j], [2 + 3j, 4 + 5j, 6 + 7j]]))</div>
<div class="line"><span class="lineno">  718</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Complex data not supported&quot;</span>):</div>
<div class="line"><span class="lineno">  719</span>        check_array(X)</div>
<div class="line"><span class="lineno">  720</span> </div>
<div class="line"><span class="lineno">  721</span>    <span class="comment"># sparse matrix</span></div>
<div class="line"><span class="lineno">  722</span>    X = sp.coo_matrix([[0, 1 + 2j], [0, 0]])</div>
<div class="line"><span class="lineno">  723</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Complex data not supported&quot;</span>):</div>
<div class="line"><span class="lineno">  724</span>        check_array(X)</div>
<div class="line"><span class="lineno">  725</span> </div>
<div class="line"><span class="lineno">  726</span>    <span class="comment"># target variable does not always go through check_array but should</span></div>
<div class="line"><span class="lineno">  727</span>    <span class="comment"># never accept complex data either.</span></div>
<div class="line"><span class="lineno">  728</span>    y = np.array([1 + 2j, 3 + 4j, 5 + 7j, 2 + 3j, 4 + 5j, 6 + 7j])</div>
<div class="line"><span class="lineno">  729</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Complex data not supported&quot;</span>):</div>
<div class="line"><span class="lineno">  730</span>        _check_y(y)</div>
<div class="line"><span class="lineno">  731</span> </div>
<div class="line"><span class="lineno">  732</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa466647c4172907a85b4c0be6445d2b7" name="aa466647c4172907a85b4c0be6445d2b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa466647c4172907a85b4c0be6445d2b7">&#9670;&#160;</a></span>test_check_array_dtype_stability()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_dtype_stability </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  517</span><span class="keyword">def </span>test_check_array_dtype_stability():</div>
<div class="line"><span class="lineno">  518</span>    <span class="comment"># test that lists with ints don&#39;t get converted to floats</span></div>
<div class="line"><span class="lineno">  519</span>    X = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]</div>
<div class="line"><span class="lineno">  520</span>    <span class="keyword">assert</span> check_array(X).dtype.kind == <span class="stringliteral">&quot;i&quot;</span></div>
<div class="line"><span class="lineno">  521</span>    <span class="keyword">assert</span> check_array(X, ensure_2d=<span class="keyword">False</span>).dtype.kind == <span class="stringliteral">&quot;i&quot;</span></div>
<div class="line"><span class="lineno">  522</span> </div>
<div class="line"><span class="lineno">  523</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ade407271838415e033f21a574658e4ca" name="ade407271838415e033f21a574658e4ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ade407271838415e033f21a574658e4ca">&#9670;&#160;</a></span>test_check_array_dtype_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_dtype_warning </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  524</span><span class="keyword">def </span>test_check_array_dtype_warning():</div>
<div class="line"><span class="lineno">  525</span>    X_int_list = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]</div>
<div class="line"><span class="lineno">  526</span>    X_float32 = np.asarray(X_int_list, dtype=np.float32)</div>
<div class="line"><span class="lineno">  527</span>    X_int64 = np.asarray(X_int_list, dtype=np.int64)</div>
<div class="line"><span class="lineno">  528</span>    X_csr_float32 = sp.csr_matrix(X_float32)</div>
<div class="line"><span class="lineno">  529</span>    X_csc_float32 = sp.csc_matrix(X_float32)</div>
<div class="line"><span class="lineno">  530</span>    X_csc_int32 = sp.csc_matrix(X_int64, dtype=np.int32)</div>
<div class="line"><span class="lineno">  531</span>    integer_data = [X_int64, X_csc_int32]</div>
<div class="line"><span class="lineno">  532</span>    float32_data = [X_float32, X_csr_float32, X_csc_float32]</div>
<div class="line"><span class="lineno">  533</span>    <span class="keywordflow">for</span> X <span class="keywordflow">in</span> integer_data:</div>
<div class="line"><span class="lineno">  534</span>        X_checked = assert_no_warnings(</div>
<div class="line"><span class="lineno">  535</span>            check_array, X, dtype=np.float64, accept_sparse=<span class="keyword">True</span></div>
<div class="line"><span class="lineno">  536</span>        )</div>
<div class="line"><span class="lineno">  537</span>        <span class="keyword">assert</span> X_checked.dtype == np.float64</div>
<div class="line"><span class="lineno">  538</span> </div>
<div class="line"><span class="lineno">  539</span>    <span class="keywordflow">for</span> X <span class="keywordflow">in</span> float32_data:</div>
<div class="line"><span class="lineno">  540</span>        X_checked = assert_no_warnings(</div>
<div class="line"><span class="lineno">  541</span>            check_array, X, dtype=[np.float64, np.float32], accept_sparse=<span class="keyword">True</span></div>
<div class="line"><span class="lineno">  542</span>        )</div>
<div class="line"><span class="lineno">  543</span>        <span class="keyword">assert</span> X_checked.dtype == np.float32</div>
<div class="line"><span class="lineno">  544</span>        <span class="keyword">assert</span> X_checked <span class="keywordflow">is</span> X</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>        X_checked = assert_no_warnings(</div>
<div class="line"><span class="lineno">  547</span>            check_array,</div>
<div class="line"><span class="lineno">  548</span>            X,</div>
<div class="line"><span class="lineno">  549</span>            dtype=[np.float64, np.float32],</div>
<div class="line"><span class="lineno">  550</span>            accept_sparse=[<span class="stringliteral">&quot;csr&quot;</span>, <span class="stringliteral">&quot;dok&quot;</span>],</div>
<div class="line"><span class="lineno">  551</span>            copy=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  552</span>        )</div>
<div class="line"><span class="lineno">  553</span>        <span class="keyword">assert</span> X_checked.dtype == np.float32</div>
<div class="line"><span class="lineno">  554</span>        <span class="keyword">assert</span> X_checked <span class="keywordflow">is</span> <span class="keywordflow">not</span> X</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>    X_checked = assert_no_warnings(</div>
<div class="line"><span class="lineno">  557</span>        check_array,</div>
<div class="line"><span class="lineno">  558</span>        X_csc_float32,</div>
<div class="line"><span class="lineno">  559</span>        dtype=[np.float64, np.float32],</div>
<div class="line"><span class="lineno">  560</span>        accept_sparse=[<span class="stringliteral">&quot;csr&quot;</span>, <span class="stringliteral">&quot;dok&quot;</span>],</div>
<div class="line"><span class="lineno">  561</span>        copy=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  562</span>    )</div>
<div class="line"><span class="lineno">  563</span>    <span class="keyword">assert</span> X_checked.dtype == np.float32</div>
<div class="line"><span class="lineno">  564</span>    <span class="keyword">assert</span> X_checked <span class="keywordflow">is</span> <span class="keywordflow">not</span> X_csc_float32</div>
<div class="line"><span class="lineno">  565</span>    <span class="keyword">assert</span> X_checked.format == <span class="stringliteral">&quot;csr&quot;</span></div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a51f46cf83359a3ea88ae141dcf117946" name="a51f46cf83359a3ea88ae141dcf117946"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51f46cf83359a3ea88ae141dcf117946">&#9670;&#160;</a></span>test_check_array_force_all_finite_object()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_force_all_finite_object </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  244</span><span class="keyword">def </span>test_check_array_force_all_finite_object():</div>
<div class="line"><span class="lineno">  245</span>    X = np.array([[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, np.nan]], dtype=object).T</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    X_checked = check_array(X, dtype=<span class="keywordtype">None</span>, force_all_finite=<span class="stringliteral">&quot;allow-nan&quot;</span>)</div>
<div class="line"><span class="lineno">  248</span>    <span class="keyword">assert</span> X <span class="keywordflow">is</span> X_checked</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    X_checked = check_array(X, dtype=<span class="keywordtype">None</span>, force_all_finite=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  251</span>    <span class="keyword">assert</span> X <span class="keywordflow">is</span> X_checked</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Input contains NaN&quot;</span>):</div>
<div class="line"><span class="lineno">  254</span>        check_array(X, dtype=<span class="keywordtype">None</span>, force_all_finite=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  258</span>    <span class="stringliteral">&quot;X, err_msg&quot;</span>,</div>
<div class="line"><span class="lineno">  259</span>    [</div>
<div class="line"><span class="lineno">  260</span>        (</div>
<div class="line"><span class="lineno">  261</span>            np.array([[1, np.nan]]),</div>
<div class="line"><span class="lineno">  262</span>            <span class="stringliteral">&quot;Input contains NaN.&quot;</span>,</div>
<div class="line"><span class="lineno">  263</span>        ),</div>
<div class="line"><span class="lineno">  264</span>        (</div>
<div class="line"><span class="lineno">  265</span>            np.array([[1, np.nan]]),</div>
<div class="line"><span class="lineno">  266</span>            <span class="stringliteral">&quot;Input contains NaN.&quot;</span>,</div>
<div class="line"><span class="lineno">  267</span>        ),</div>
<div class="line"><span class="lineno">  268</span>        (</div>
<div class="line"><span class="lineno">  269</span>            np.array([[1, np.inf]]),</div>
<div class="line"><span class="lineno">  270</span>            <span class="stringliteral">&quot;Input contains infinity or a value too large for.*int&quot;</span>,</div>
<div class="line"><span class="lineno">  271</span>        ),</div>
<div class="line"><span class="lineno">  272</span>        (np.array([[1, np.nan]], dtype=object), <span class="stringliteral">&quot;cannot convert float NaN to integer&quot;</span>),</div>
<div class="line"><span class="lineno">  273</span>    ],</div>
<div class="line"><span class="lineno">  274</span>)</div>
<div class="line"><span class="lineno">  275</span><span class="preprocessor">@pytest.mark.parametrize(&quot;force_all_finite&quot;, [True, False])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3f31cd55e45a86a9cfddc66c6875501" name="aa3f31cd55e45a86a9cfddc66c6875501"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3f31cd55e45a86a9cfddc66c6875501">&#9670;&#160;</a></span>test_check_array_force_all_finite_object_unsafe_casting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_force_all_finite_object_unsafe_casting </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>force_all_finite</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  278</span>):</div>
<div class="line"><span class="lineno">  279</span>    <span class="comment"># casting a float array containing NaN or inf to int dtype should</span></div>
<div class="line"><span class="lineno">  280</span>    <span class="comment"># raise an error irrespective of the force_all_finite parameter.</span></div>
<div class="line"><span class="lineno">  281</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno">  282</span>        check_array(X, dtype=int, force_all_finite=force_all_finite)</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span><span class="preprocessor">@ignore_warnings</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa994202f601c6f634d4e25a45bd938d0" name="aa994202f601c6f634d4e25a45bd938d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa994202f601c6f634d4e25a45bd938d0">&#9670;&#160;</a></span>test_check_array_force_all_finite_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_force_all_finite_valid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>force_all_finite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>retype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  161</span><span class="keyword">def </span>test_check_array_force_all_finite_valid(value, force_all_finite, retype):</div>
<div class="line"><span class="lineno">  162</span>    X = retype(np.arange(4).reshape(2, 2).astype(float))</div>
<div class="line"><span class="lineno">  163</span>    X[0, 0] = value</div>
<div class="line"><span class="lineno">  164</span>    X_checked = check_array(X, force_all_finite=force_all_finite, accept_sparse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  165</span>    assert_allclose_dense_sparse(X, X_checked)</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  169</span>    <span class="stringliteral">&quot;value, input_name, force_all_finite, match_msg&quot;</span>,</div>
<div class="line"><span class="lineno">  170</span>    [</div>
<div class="line"><span class="lineno">  171</span>        (np.inf, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">True</span>, <span class="stringliteral">&quot;Input contains infinity&quot;</span>),</div>
<div class="line"><span class="lineno">  172</span>        (np.inf, <span class="stringliteral">&quot;X&quot;</span>, <span class="keyword">True</span>, <span class="stringliteral">&quot;Input X contains infinity&quot;</span>),</div>
<div class="line"><span class="lineno">  173</span>        (np.inf, <span class="stringliteral">&quot;sample_weight&quot;</span>, <span class="keyword">True</span>, <span class="stringliteral">&quot;Input sample_weight contains infinity&quot;</span>),</div>
<div class="line"><span class="lineno">  174</span>        (np.inf, <span class="stringliteral">&quot;X&quot;</span>, <span class="stringliteral">&quot;allow-nan&quot;</span>, <span class="stringliteral">&quot;Input X contains infinity&quot;</span>),</div>
<div class="line"><span class="lineno">  175</span>        (np.nan, <span class="stringliteral">&quot;&quot;</span>, <span class="keyword">True</span>, <span class="stringliteral">&quot;Input contains NaN&quot;</span>),</div>
<div class="line"><span class="lineno">  176</span>        (np.nan, <span class="stringliteral">&quot;X&quot;</span>, <span class="keyword">True</span>, <span class="stringliteral">&quot;Input X contains NaN&quot;</span>),</div>
<div class="line"><span class="lineno">  177</span>        (np.nan, <span class="stringliteral">&quot;y&quot;</span>, <span class="keyword">True</span>, <span class="stringliteral">&quot;Input y contains NaN&quot;</span>),</div>
<div class="line"><span class="lineno">  178</span>        (</div>
<div class="line"><span class="lineno">  179</span>            np.nan,</div>
<div class="line"><span class="lineno">  180</span>            <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">  181</span>            <span class="stringliteral">&quot;allow-inf&quot;</span>,</div>
<div class="line"><span class="lineno">  182</span>            <span class="stringliteral">&#39;force_all_finite should be a bool or &quot;allow-nan&quot;&#39;</span>,</div>
<div class="line"><span class="lineno">  183</span>        ),</div>
<div class="line"><span class="lineno">  184</span>        (np.nan, <span class="stringliteral">&quot;&quot;</span>, 1, <span class="stringliteral">&quot;Input contains NaN&quot;</span>),</div>
<div class="line"><span class="lineno">  185</span>    ],</div>
<div class="line"><span class="lineno">  186</span>)</div>
<div class="line"><span class="lineno">  187</span><span class="preprocessor">@pytest.mark.parametrize(&quot;retype&quot;, [np.asarray, sp.csr_matrix])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae96c7a5da68718ce082ca91019f57f6e" name="ae96c7a5da68718ce082ca91019f57f6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96c7a5da68718ce082ca91019f57f6e">&#9670;&#160;</a></span>test_check_array_force_all_finiteinvalid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_force_all_finiteinvalid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>input_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>force_all_finite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>match_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>retype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  190</span>):</div>
<div class="line"><span class="lineno">  191</span>    X = retype(np.arange(4).reshape(2, 2).astype(np.float64))</div>
<div class="line"><span class="lineno">  192</span>    X[0, 0] = value</div>
<div class="line"><span class="lineno">  193</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=match_msg):</div>
<div class="line"><span class="lineno">  194</span>        check_array(</div>
<div class="line"><span class="lineno">  195</span>            X,</div>
<div class="line"><span class="lineno">  196</span>            input_name=input_name,</div>
<div class="line"><span class="lineno">  197</span>            force_all_finite=force_all_finite,</div>
<div class="line"><span class="lineno">  198</span>            accept_sparse=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  199</span>        )</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span><span class="preprocessor">@pytest.mark.parametrize(&quot;input_name&quot;, [&quot;X&quot;, &quot;y&quot;, &quot;sample_weight&quot;])</span></div>
<div class="line"><span class="lineno">  203</span><span class="preprocessor">@pytest.mark.parametrize(&quot;retype&quot;, [np.asarray, sp.csr_matrix])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a03aa18fbdf097e072b2b97e7eb088767" name="a03aa18fbdf097e072b2b97e7eb088767"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03aa18fbdf097e072b2b97e7eb088767">&#9670;&#160;</a></span>test_check_array_links_to_imputer_doc_only_for_X()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_links_to_imputer_doc_only_for_X </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>input_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>retype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  204</span><span class="keyword">def </span>test_check_array_links_to_imputer_doc_only_for_X(input_name, retype):</div>
<div class="line"><span class="lineno">  205</span>    data = retype(np.arange(4).reshape(2, 2).astype(np.float64))</div>
<div class="line"><span class="lineno">  206</span>    data[0, 0] = np.nan</div>
<div class="line"><span class="lineno">  207</span>    estimator = SVR()</div>
<div class="line"><span class="lineno">  208</span>    extended_msg = (</div>
<div class="line"><span class="lineno">  209</span>        f<span class="stringliteral">&quot;\n{estimator.__class__.__name__} does not accept missing values&quot;</span></div>
<div class="line"><span class="lineno">  210</span>        <span class="stringliteral">&quot; encoded as NaN natively. For supervised learning, you might want&quot;</span></div>
<div class="line"><span class="lineno">  211</span>        <span class="stringliteral">&quot; to consider sklearn.ensemble.HistGradientBoostingClassifier and Regressor&quot;</span></div>
<div class="line"><span class="lineno">  212</span>        <span class="stringliteral">&quot; which accept missing values encoded as NaNs natively.&quot;</span></div>
<div class="line"><span class="lineno">  213</span>        <span class="stringliteral">&quot; Alternatively, it is possible to preprocess the&quot;</span></div>
<div class="line"><span class="lineno">  214</span>        <span class="stringliteral">&quot; data, for instance by using an imputer transformer in a pipeline&quot;</span></div>
<div class="line"><span class="lineno">  215</span>        <span class="stringliteral">&quot; or drop samples with missing values. See&quot;</span></div>
<div class="line"><span class="lineno">  216</span>        <span class="stringliteral">&quot; https://scikit-learn.org/stable/modules/impute.html&quot;</span></div>
<div class="line"><span class="lineno">  217</span>        <span class="stringliteral">&quot; You can find a list of all estimators that handle NaN values&quot;</span></div>
<div class="line"><span class="lineno">  218</span>        <span class="stringliteral">&quot; at the following page:&quot;</span></div>
<div class="line"><span class="lineno">  219</span>        <span class="stringliteral">&quot; https://scikit-learn.org/stable/modules/impute.html&quot;</span></div>
<div class="line"><span class="lineno">  220</span>        <span class="stringliteral">&quot;#estimators-that-handle-nan-values&quot;</span></div>
<div class="line"><span class="lineno">  221</span>    )</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=f<span class="stringliteral">&quot;Input {input_name} contains NaN&quot;</span>) <span class="keyword">as</span> ctx:</div>
<div class="line"><span class="lineno">  224</span>        check_array(</div>
<div class="line"><span class="lineno">  225</span>            data,</div>
<div class="line"><span class="lineno">  226</span>            estimator=estimator,</div>
<div class="line"><span class="lineno">  227</span>            input_name=input_name,</div>
<div class="line"><span class="lineno">  228</span>            accept_sparse=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno">  229</span>        )</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">if</span> input_name == <span class="stringliteral">&quot;X&quot;</span>:</div>
<div class="line"><span class="lineno">  232</span>        <span class="keyword">assert</span> extended_msg <span class="keywordflow">in</span> ctx.value.args[0]</div>
<div class="line"><span class="lineno">  233</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  234</span>        <span class="keyword">assert</span> extended_msg <span class="keywordflow">not</span> <span class="keywordflow">in</span> ctx.value.args[0]</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">if</span> input_name == <span class="stringliteral">&quot;X&quot;</span>:</div>
<div class="line"><span class="lineno">  237</span>        <span class="comment"># Veriy that _validate_data is automatically called with the right argument</span></div>
<div class="line"><span class="lineno">  238</span>        <span class="comment"># to generate the same exception:</span></div>
<div class="line"><span class="lineno">  239</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=f<span class="stringliteral">&quot;Input {input_name} contains NaN&quot;</span>) <span class="keyword">as</span> ctx:</div>
<div class="line"><span class="lineno">  240</span>            SVR().fit(data, np.ones(data.shape[0]))</div>
<div class="line"><span class="lineno">  241</span>        <span class="keyword">assert</span> extended_msg <span class="keywordflow">in</span> ctx.value.args[0]</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4e1baa185f45b578e1e7b365e8225e8" name="aa4e1baa185f45b578e1e7b365e8225e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4e1baa185f45b578e1e7b365e8225e8">&#9670;&#160;</a></span>test_check_array_memmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_memmap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>copy</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1035</span><span class="keyword">def </span>test_check_array_memmap(copy):</div>
<div class="line"><span class="lineno"> 1036</span>    X = np.ones((4, 4))</div>
<div class="line"><span class="lineno"> 1037</span>    <span class="keyword">with</span> TempMemmap(X, mmap_mode=<span class="stringliteral">&quot;r&quot;</span>) <span class="keyword">as</span> X_memmap:</div>
<div class="line"><span class="lineno"> 1038</span>        X_checked = check_array(X_memmap, copy=copy)</div>
<div class="line"><span class="lineno"> 1039</span>        <span class="keyword">assert</span> np.may_share_memory(X_memmap, X_checked) == (<span class="keywordflow">not</span> copy)</div>
<div class="line"><span class="lineno"> 1040</span>        <span class="keyword">assert</span> X_checked.flags[<span class="stringliteral">&quot;WRITEABLE&quot;</span>] == copy</div>
<div class="line"><span class="lineno"> 1041</span> </div>
<div class="line"><span class="lineno"> 1042</span> </div>
<div class="line"><span class="lineno"> 1043</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1044</span>    <span class="stringliteral">&quot;retype&quot;</span>,</div>
<div class="line"><span class="lineno"> 1045</span>    [</div>
<div class="line"><span class="lineno"> 1046</span>        np.asarray,</div>
<div class="line"><span class="lineno"> 1047</span>        sp.csr_matrix,</div>
<div class="line"><span class="lineno"> 1048</span>        sp.csc_matrix,</div>
<div class="line"><span class="lineno"> 1049</span>        sp.coo_matrix,</div>
<div class="line"><span class="lineno"> 1050</span>        sp.lil_matrix,</div>
<div class="line"><span class="lineno"> 1051</span>        sp.bsr_matrix,</div>
<div class="line"><span class="lineno"> 1052</span>        sp.dok_matrix,</div>
<div class="line"><span class="lineno"> 1053</span>        sp.dia_matrix,</div>
<div class="line"><span class="lineno"> 1054</span>    ],</div>
<div class="line"><span class="lineno"> 1055</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae979b1c1ba31fa6fd070407a112d3c63" name="ae979b1c1ba31fa6fd070407a112d3c63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae979b1c1ba31fa6fd070407a112d3c63">&#9670;&#160;</a></span>test_check_array_min_samples_and_features_messages()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_min_samples_and_features_messages </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  633</span><span class="keyword">def </span>test_check_array_min_samples_and_features_messages():</div>
<div class="line"><span class="lineno">  634</span>    <span class="comment"># empty list is considered 2D by default:</span></div>
<div class="line"><span class="lineno">  635</span>    msg = <span class="stringliteral">r&quot;0 feature\&zwj;(s\&zwj;) \&zwj;(shape=\&zwj;(1, 0\&zwj;)\&zwj;) while a minimum of 1 is&quot;</span> <span class="stringliteral">&quot; required.&quot;</span></div>
<div class="line"><span class="lineno">  636</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  637</span>        check_array([[]])</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>    <span class="comment"># If considered a 1D collection when ensure_2d=False, then the minimum</span></div>
<div class="line"><span class="lineno">  640</span>    <span class="comment"># number of samples will break:</span></div>
<div class="line"><span class="lineno">  641</span>    msg = <span class="stringliteral">r&quot;0 sample\&zwj;(s\&zwj;) \&zwj;(shape=\&zwj;(0,\&zwj;)\&zwj;) while a minimum of 1 is required.&quot;</span></div>
<div class="line"><span class="lineno">  642</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  643</span>        check_array([], ensure_2d=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  644</span> </div>
<div class="line"><span class="lineno">  645</span>    <span class="comment"># Invalid edge case when checking the default minimum sample of a scalar</span></div>
<div class="line"><span class="lineno">  646</span>    msg = <span class="stringliteral">r&quot;Singleton array array\&zwj;(42\&zwj;) cannot be considered a valid&quot;</span> <span class="stringliteral">&quot; collection.&quot;</span></div>
<div class="line"><span class="lineno">  647</span>    <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno">  648</span>        check_array(42, ensure_2d=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>    <span class="comment"># Simulate a model that would need at least 2 samples to be well defined</span></div>
<div class="line"><span class="lineno">  651</span>    X = np.ones((1, 10))</div>
<div class="line"><span class="lineno">  652</span>    y = np.ones(1)</div>
<div class="line"><span class="lineno">  653</span>    msg = <span class="stringliteral">r&quot;1 sample\&zwj;(s\&zwj;) \&zwj;(shape=\&zwj;(1, 10\&zwj;)\&zwj;) while a minimum of 2 is&quot;</span> <span class="stringliteral">&quot; required.&quot;</span></div>
<div class="line"><span class="lineno">  654</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  655</span>        check_X_y(X, y, ensure_min_samples=2)</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>    <span class="comment"># The same message is raised if the data has 2 dimensions even if this is</span></div>
<div class="line"><span class="lineno">  658</span>    <span class="comment"># not mandatory</span></div>
<div class="line"><span class="lineno">  659</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  660</span>        check_X_y(X, y, ensure_min_samples=2, ensure_2d=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  661</span> </div>
<div class="line"><span class="lineno">  662</span>    <span class="comment"># Simulate a model that would require at least 3 features (e.g. SelectKBest</span></div>
<div class="line"><span class="lineno">  663</span>    <span class="comment"># with k=3)</span></div>
<div class="line"><span class="lineno">  664</span>    X = np.ones((10, 2))</div>
<div class="line"><span class="lineno">  665</span>    y = np.ones(2)</div>
<div class="line"><span class="lineno">  666</span>    msg = <span class="stringliteral">r&quot;2 feature\&zwj;(s\&zwj;) \&zwj;(shape=\&zwj;(10, 2\&zwj;)\&zwj;) while a minimum of 3 is&quot;</span> <span class="stringliteral">&quot; required.&quot;</span></div>
<div class="line"><span class="lineno">  667</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  668</span>        check_X_y(X, y, ensure_min_features=3)</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>    <span class="comment"># Only the feature check is enabled whenever the number of dimensions is 2</span></div>
<div class="line"><span class="lineno">  671</span>    <span class="comment"># even if allow_nd is enabled:</span></div>
<div class="line"><span class="lineno">  672</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  673</span>        check_X_y(X, y, ensure_min_features=3, allow_nd=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>    <span class="comment"># Simulate a case where a pipeline stage as trimmed all the features of a</span></div>
<div class="line"><span class="lineno">  676</span>    <span class="comment"># 2D dataset.</span></div>
<div class="line"><span class="lineno">  677</span>    X = np.empty(0).reshape(10, 0)</div>
<div class="line"><span class="lineno">  678</span>    y = np.ones(10)</div>
<div class="line"><span class="lineno">  679</span>    msg = <span class="stringliteral">r&quot;0 feature\&zwj;(s\&zwj;) \&zwj;(shape=\&zwj;(10, 0\&zwj;)\&zwj;) while a minimum of 1 is&quot;</span> <span class="stringliteral">&quot; required.&quot;</span></div>
<div class="line"><span class="lineno">  680</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  681</span>        check_X_y(X, y)</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>    <span class="comment"># nd-data is not checked for any minimum number of features by default:</span></div>
<div class="line"><span class="lineno">  684</span>    X = np.ones((10, 0, 28, 28))</div>
<div class="line"><span class="lineno">  685</span>    y = np.ones(10)</div>
<div class="line"><span class="lineno">  686</span>    X_checked, y_checked = check_X_y(X, y, allow_nd=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  687</span>    assert_array_equal(X, X_checked)</div>
<div class="line"><span class="lineno">  688</span>    assert_array_equal(y, y_checked)</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a89bcf95ddbd84bd9500f54ac740f9c19" name="a89bcf95ddbd84bd9500f54ac740f9c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89bcf95ddbd84bd9500f54ac740f9c19">&#9670;&#160;</a></span>test_check_array_numeric_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_numeric_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that check_array errors when it receives an array of bytes/string
while a numeric dtype is required.</pre> <div class="fragment"><div class="line"><span class="lineno">  402</span><span class="keyword">def </span>test_check_array_numeric_error(X):</div>
<div class="line"><span class="lineno">  403</span>    <span class="stringliteral">&quot;&quot;&quot;Test that check_array errors when it receives an array of bytes/string</span></div>
<div class="line"><span class="lineno">  404</span><span class="stringliteral">    while a numeric dtype is required.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  405</span>    expected_msg = <span class="stringliteral">r&quot;dtype=&#39;numeric&#39; is not compatible with arrays of bytes/strings&quot;</span></div>
<div class="line"><span class="lineno">  406</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=expected_msg):</div>
<div class="line"><span class="lineno">  407</span>        check_array(X, dtype=<span class="stringliteral">&quot;numeric&quot;</span>)</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  411</span>    <span class="stringliteral">&quot;pd_dtype&quot;</span>, [<span class="stringliteral">&quot;Int8&quot;</span>, <span class="stringliteral">&quot;Int16&quot;</span>, <span class="stringliteral">&quot;UInt8&quot;</span>, <span class="stringliteral">&quot;UInt16&quot;</span>, <span class="stringliteral">&quot;Float32&quot;</span>, <span class="stringliteral">&quot;Float64&quot;</span>]</div>
<div class="line"><span class="lineno">  412</span>)</div>
<div class="line"><span class="lineno">  413</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  414</span>    <span class="stringliteral">&quot;dtype, expected_dtype&quot;</span>,</div>
<div class="line"><span class="lineno">  415</span>    [</div>
<div class="line"><span class="lineno">  416</span>        ([np.float32, np.float64], np.float32),</div>
<div class="line"><span class="lineno">  417</span>        (np.float64, np.float64),</div>
<div class="line"><span class="lineno">  418</span>        (<span class="stringliteral">&quot;numeric&quot;</span>, np.float64),</div>
<div class="line"><span class="lineno">  419</span>    ],</div>
<div class="line"><span class="lineno">  420</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="adbca4621d2a104cadcbb5dbe65abce46" name="adbca4621d2a104cadcbb5dbe65abce46"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbca4621d2a104cadcbb5dbe65abce46">&#9670;&#160;</a></span>test_check_array_on_mock_dataframe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_on_mock_dataframe </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  508</span><span class="keyword">def </span>test_check_array_on_mock_dataframe():</div>
<div class="line"><span class="lineno">  509</span>    arr = np.array([[0.2, 0.7], [0.6, 0.5], [0.4, 0.1], [0.7, 0.2]])</div>
<div class="line"><span class="lineno">  510</span>    mock_df = MockDataFrame(arr)</div>
<div class="line"><span class="lineno">  511</span>    checked_arr = check_array(mock_df)</div>
<div class="line"><span class="lineno">  512</span>    <span class="keyword">assert</span> checked_arr.dtype == arr.dtype</div>
<div class="line"><span class="lineno">  513</span>    checked_arr = check_array(mock_df, dtype=np.float32)</div>
<div class="line"><span class="lineno">  514</span>    <span class="keyword">assert</span> checked_arr.dtype == np.dtype(np.float32)</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9babe6947e9cbfb01c1b0042ca271067" name="a9babe6947e9cbfb01c1b0042ca271067"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9babe6947e9cbfb01c1b0042ca271067">&#9670;&#160;</a></span>test_check_array_panadas_na_support_series()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_panadas_na_support_series </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check check_array is correct with pd.NA in a series.</pre> <div class="fragment"><div class="line"><span class="lineno">  450</span><span class="keyword">def </span>test_check_array_panadas_na_support_series():</div>
<div class="line"><span class="lineno">  451</span>    <span class="stringliteral">&quot;&quot;&quot;Check check_array is correct with pd.NA in a series.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  452</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>    X_int64 = pd.Series([1, 2, pd.NA], dtype=<span class="stringliteral">&quot;Int64&quot;</span>)</div>
<div class="line"><span class="lineno">  455</span> </div>
<div class="line"><span class="lineno">  456</span>    msg = <span class="stringliteral">&quot;Input contains NaN&quot;</span></div>
<div class="line"><span class="lineno">  457</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  458</span>        check_array(X_int64, force_all_finite=<span class="keyword">True</span>, ensure_2d=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  459</span> </div>
<div class="line"><span class="lineno">  460</span>    X_out = check_array(X_int64, force_all_finite=<span class="keyword">False</span>, ensure_2d=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  461</span>    assert_allclose(X_out, [1, 2, np.nan])</div>
<div class="line"><span class="lineno">  462</span>    <span class="keyword">assert</span> X_out.dtype == np.float64</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>    X_out = check_array(</div>
<div class="line"><span class="lineno">  465</span>        X_int64, force_all_finite=<span class="keyword">False</span>, ensure_2d=<span class="keyword">False</span>, dtype=np.float32</div>
<div class="line"><span class="lineno">  466</span>    )</div>
<div class="line"><span class="lineno">  467</span>    assert_allclose(X_out, [1, 2, np.nan])</div>
<div class="line"><span class="lineno">  468</span>    <span class="keyword">assert</span> X_out.dtype == np.float32</div>
<div class="line"><span class="lineno">  469</span> </div>
<div class="line"><span class="lineno">  470</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1d1314a9a77beda13cb689a103b0eb3" name="ad1d1314a9a77beda13cb689a103b0eb3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1d1314a9a77beda13cb689a103b0eb3">&#9670;&#160;</a></span>test_check_array_pandas_dtype_casting()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_pandas_dtype_casting </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  471</span><span class="keyword">def </span>test_check_array_pandas_dtype_casting():</div>
<div class="line"><span class="lineno">  472</span>    <span class="comment"># test that data-frames with homogeneous dtype are not upcast</span></div>
<div class="line"><span class="lineno">  473</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  474</span>    X = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]], dtype=np.float32)</div>
<div class="line"><span class="lineno">  475</span>    X_df = pd.DataFrame(X)</div>
<div class="line"><span class="lineno">  476</span>    <span class="keyword">assert</span> check_array(X_df).dtype == np.float32</div>
<div class="line"><span class="lineno">  477</span>    <span class="keyword">assert</span> check_array(X_df, dtype=FLOAT_DTYPES).dtype == np.float32</div>
<div class="line"><span class="lineno">  478</span> </div>
<div class="line"><span class="lineno">  479</span>    X_df = X_df.astype({0: np.float16})</div>
<div class="line"><span class="lineno">  480</span>    assert_array_equal(X_df.dtypes, (np.float16, np.float32, np.float32))</div>
<div class="line"><span class="lineno">  481</span>    <span class="keyword">assert</span> check_array(X_df).dtype == np.float32</div>
<div class="line"><span class="lineno">  482</span>    <span class="keyword">assert</span> check_array(X_df, dtype=FLOAT_DTYPES).dtype == np.float32</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>    X_df = X_df.astype({0: np.int16})</div>
<div class="line"><span class="lineno">  485</span>    <span class="comment"># float16, int16, float32 casts to float32</span></div>
<div class="line"><span class="lineno">  486</span>    <span class="keyword">assert</span> check_array(X_df).dtype == np.float32</div>
<div class="line"><span class="lineno">  487</span>    <span class="keyword">assert</span> check_array(X_df, dtype=FLOAT_DTYPES).dtype == np.float32</div>
<div class="line"><span class="lineno">  488</span> </div>
<div class="line"><span class="lineno">  489</span>    X_df = X_df.astype({2: np.float16})</div>
<div class="line"><span class="lineno">  490</span>    <span class="comment"># float16, int16, float16 casts to float32</span></div>
<div class="line"><span class="lineno">  491</span>    <span class="keyword">assert</span> check_array(X_df).dtype == np.float32</div>
<div class="line"><span class="lineno">  492</span>    <span class="keyword">assert</span> check_array(X_df, dtype=FLOAT_DTYPES).dtype == np.float32</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>    X_df = X_df.astype(np.int16)</div>
<div class="line"><span class="lineno">  495</span>    <span class="keyword">assert</span> check_array(X_df).dtype == np.int16</div>
<div class="line"><span class="lineno">  496</span>    <span class="comment"># we&#39;re not using upcasting rules for determining</span></div>
<div class="line"><span class="lineno">  497</span>    <span class="comment"># the target type yet, so we cast to the default of float64</span></div>
<div class="line"><span class="lineno">  498</span>    <span class="keyword">assert</span> check_array(X_df, dtype=FLOAT_DTYPES).dtype == np.float64</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>    <span class="comment"># check that we handle pandas dtypes in a semi-reasonable way</span></div>
<div class="line"><span class="lineno">  501</span>    <span class="comment"># this is actually tricky because we can&#39;t really know that this</span></div>
<div class="line"><span class="lineno">  502</span>    <span class="comment"># should be integer ahead of converting it.</span></div>
<div class="line"><span class="lineno">  503</span>    cat_df = pd.DataFrame({<span class="stringliteral">&quot;cat_col&quot;</span>: pd.Categorical([1, 2, 3])})</div>
<div class="line"><span class="lineno">  504</span>    <span class="keyword">assert</span> check_array(cat_df).dtype == np.int64</div>
<div class="line"><span class="lineno">  505</span>    <span class="keyword">assert</span> check_array(cat_df, dtype=FLOAT_DTYPES).dtype == np.float64</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2aa209aa51ceaa9552dbc687854df490" name="a2aa209aa51ceaa9552dbc687854df490"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2aa209aa51ceaa9552dbc687854df490">&#9670;&#160;</a></span>test_check_array_pandas_na_support()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_pandas_na_support </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pd_dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected_dtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  421</span><span class="keyword">def </span>test_check_array_pandas_na_support(pd_dtype, dtype, expected_dtype):</div>
<div class="line"><span class="lineno">  422</span>    <span class="comment"># Test pandas numerical extension arrays with pd.NA</span></div>
<div class="line"><span class="lineno">  423</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>    <span class="keywordflow">if</span> pd_dtype <span class="keywordflow">in</span> {<span class="stringliteral">&quot;Float32&quot;</span>, <span class="stringliteral">&quot;Float64&quot;</span>}:</div>
<div class="line"><span class="lineno">  426</span>        <span class="comment"># Extension dtypes with Floats was added in 1.2</span></div>
<div class="line"><span class="lineno">  427</span>        pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>, minversion=<span class="stringliteral">&quot;1.2&quot;</span>)</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>    X_np = np.array(</div>
<div class="line"><span class="lineno">  430</span>        [[1, 2, 3, np.nan, np.nan], [np.nan, np.nan, 8, 4, 6], [1, 2, 3, 4, 5]]</div>
<div class="line"><span class="lineno">  431</span>    ).T</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>    <span class="comment"># Creates dataframe with numerical extension arrays with pd.NA</span></div>
<div class="line"><span class="lineno">  434</span>    X = pd.DataFrame(X_np, dtype=pd_dtype, columns=[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>])</div>
<div class="line"><span class="lineno">  435</span>    <span class="comment"># column c has no nans</span></div>
<div class="line"><span class="lineno">  436</span>    X[<span class="stringliteral">&quot;c&quot;</span>] = X[<span class="stringliteral">&quot;c&quot;</span>].astype(<span class="stringliteral">&quot;float&quot;</span>)</div>
<div class="line"><span class="lineno">  437</span>    X_checked = check_array(X, force_all_finite=<span class="stringliteral">&quot;allow-nan&quot;</span>, dtype=dtype)</div>
<div class="line"><span class="lineno">  438</span>    assert_allclose(X_checked, X_np)</div>
<div class="line"><span class="lineno">  439</span>    <span class="keyword">assert</span> X_checked.dtype == expected_dtype</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>    X_checked = check_array(X, force_all_finite=<span class="keyword">False</span>, dtype=dtype)</div>
<div class="line"><span class="lineno">  442</span>    assert_allclose(X_checked, X_np)</div>
<div class="line"><span class="lineno">  443</span>    <span class="keyword">assert</span> X_checked.dtype == expected_dtype</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>    msg = <span class="stringliteral">&quot;Input contains NaN&quot;</span></div>
<div class="line"><span class="lineno">  446</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno">  447</span>        check_array(X, force_all_finite=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  448</span> </div>
<div class="line"><span class="lineno">  449</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a3b48ab5fc8379e31aa9252d3d764e5" name="a7a3b48ab5fc8379e31aa9252d3d764e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a3b48ab5fc8379e31aa9252d3d764e5">&#9670;&#160;</a></span>test_check_array_series()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_array_series </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  924</span><span class="keyword">def </span>test_check_array_series():</div>
<div class="line"><span class="lineno">  925</span>    <span class="comment"># regression test that check_array works on pandas Series</span></div>
<div class="line"><span class="lineno">  926</span>    pd = importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  927</span>    res = check_array(pd.Series([1, 2, 3]), ensure_2d=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  928</span>    assert_array_equal(res, np.array([1, 2, 3]))</div>
<div class="line"><span class="lineno">  929</span> </div>
<div class="line"><span class="lineno">  930</span>    <span class="comment"># with categorical dtype (not a numpy dtype) (GH12699)</span></div>
<div class="line"><span class="lineno">  931</span>    s = pd.Series([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>]).astype(<span class="stringliteral">&quot;category&quot;</span>)</div>
<div class="line"><span class="lineno">  932</span>    res = check_array(s, dtype=<span class="keywordtype">None</span>, ensure_2d=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  933</span>    assert_array_equal(res, np.array([<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>], dtype=object))</div>
<div class="line"><span class="lineno">  934</span> </div>
<div class="line"><span class="lineno">  935</span> </div>
<div class="line"><span class="lineno">  936</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  937</span>    <span class="stringliteral">&quot;dtype&quot;</span>, ((np.float64, np.float32), np.float64, <span class="keywordtype">None</span>, <span class="stringliteral">&quot;numeric&quot;</span>)</div>
<div class="line"><span class="lineno">  938</span>)</div>
<div class="line"><span class="lineno">  939</span><span class="preprocessor">@pytest.mark.parametrize(&quot;bool_dtype&quot;, (&quot;bool&quot;, &quot;boolean&quot;)</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="acadabba129b9ebf9f66cc6f67ddf67b5" name="acadabba129b9ebf9f66cc6f67ddf67b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acadabba129b9ebf9f66cc6f67ddf67b5">&#9670;&#160;</a></span>test_check_consistent_length()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_consistent_length </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  880</span><span class="keyword">def </span>test_check_consistent_length():</div>
<div class="line"><span class="lineno">  881</span>    check_consistent_length([1], [2], [3], [4], [5])</div>
<div class="line"><span class="lineno">  882</span>    check_consistent_length([[1, 2], [[1, 2]]], [1, 2], [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>])</div>
<div class="line"><span class="lineno">  883</span>    check_consistent_length([1], (2,), np.array([3]), sp.csr_matrix((1, 2)))</div>
<div class="line"><span class="lineno">  884</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;inconsistent numbers of samples&quot;</span>):</div>
<div class="line"><span class="lineno">  885</span>        check_consistent_length([1, 2], [1])</div>
<div class="line"><span class="lineno">  886</span>    <span class="keyword">with</span> pytest.raises(TypeError, match=<span class="stringliteral">r&quot;got &lt;\w+ &#39;int&#39;&gt;&quot;</span>):</div>
<div class="line"><span class="lineno">  887</span>        check_consistent_length([1, 2], 1)</div>
<div class="line"><span class="lineno">  888</span>    <span class="keyword">with</span> pytest.raises(TypeError, match=<span class="stringliteral">r&quot;got &lt;\w+ &#39;object&#39;&gt;&quot;</span>):</div>
<div class="line"><span class="lineno">  889</span>        check_consistent_length([1, 2], object())</div>
<div class="line"><span class="lineno">  890</span> </div>
<div class="line"><span class="lineno">  891</span>    <span class="keyword">with</span> pytest.raises(TypeError):</div>
<div class="line"><span class="lineno">  892</span>        check_consistent_length([1, 2], np.array(1))</div>
<div class="line"><span class="lineno">  893</span> </div>
<div class="line"><span class="lineno">  894</span>    <span class="comment"># Despite ensembles having __len__ they must raise TypeError</span></div>
<div class="line"><span class="lineno">  895</span>    <span class="keyword">with</span> pytest.raises(TypeError, match=<span class="stringliteral">&quot;Expected sequence or array-like&quot;</span>):</div>
<div class="line"><span class="lineno">  896</span>        check_consistent_length([1, 2], RandomForestRegressor())</div>
<div class="line"><span class="lineno">  897</span>    <span class="comment"># XXX: We should have a test with a string, but what is correct behaviour?</span></div>
<div class="line"><span class="lineno">  898</span> </div>
<div class="line"><span class="lineno">  899</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4a694d196bd570413c7edebb180f277" name="ab4a694d196bd570413c7edebb180f277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4a694d196bd570413c7edebb180f277">&#9670;&#160;</a></span>test_check_dataframe_fit_attribute()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_dataframe_fit_attribute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  900</span><span class="keyword">def </span>test_check_dataframe_fit_attribute():</div>
<div class="line"><span class="lineno">  901</span>    <span class="comment"># check pandas dataframe with &#39;fit&#39; column does not raise error</span></div>
<div class="line"><span class="lineno">  902</span>    <span class="comment"># https://github.com/scikit-learn/scikit-learn/issues/8415</span></div>
<div class="line"><span class="lineno">  903</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  904</span>        <span class="keyword">import</span> pandas <span class="keyword">as</span> pd</div>
<div class="line"><span class="lineno">  905</span> </div>
<div class="line"><span class="lineno">  906</span>        X = np.array([[1, 2, 3], [4, 5, 6], [7, 8, 9]])</div>
<div class="line"><span class="lineno">  907</span>        X_df = pd.DataFrame(X, columns=[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;fit&quot;</span>])</div>
<div class="line"><span class="lineno">  908</span>        check_consistent_length(X_df)</div>
<div class="line"><span class="lineno">  909</span>    <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno">  910</span>        <span class="keywordflow">raise</span> SkipTest(<span class="stringliteral">&quot;Pandas not found&quot;</span>)</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7d8e9ca4066a6b0d7dbb7ef3d98db629" name="a7d8e9ca4066a6b0d7dbb7ef3d98db629"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d8e9ca4066a6b0d7dbb7ef3d98db629">&#9670;&#160;</a></span>test_check_dataframe_mixed_float_dtypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_dataframe_mixed_float_dtypes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bool_dtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  940</span><span class="keyword">def </span>test_check_dataframe_mixed_float_dtypes(dtype, bool_dtype):</div>
<div class="line"><span class="lineno">  941</span>    <span class="comment"># pandas dataframe will coerce a boolean into a object, this is a mismatch</span></div>
<div class="line"><span class="lineno">  942</span>    <span class="comment"># with np.result_type which will return a float</span></div>
<div class="line"><span class="lineno">  943</span>    <span class="comment"># check_array needs to explicitly check for bool dtype in a dataframe for</span></div>
<div class="line"><span class="lineno">  944</span>    <span class="comment"># this situation</span></div>
<div class="line"><span class="lineno">  945</span>    <span class="comment"># https://github.com/scikit-learn/scikit-learn/issues/15787</span></div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>    <span class="keywordflow">if</span> bool_dtype == <span class="stringliteral">&quot;boolean&quot;</span>:</div>
<div class="line"><span class="lineno">  948</span>        <span class="comment"># boolean extension arrays was introduced in 1.0</span></div>
<div class="line"><span class="lineno">  949</span>        pd = importorskip(<span class="stringliteral">&quot;pandas&quot;</span>, minversion=<span class="stringliteral">&quot;1.0&quot;</span>)</div>
<div class="line"><span class="lineno">  950</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  951</span>        pd = importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  952</span> </div>
<div class="line"><span class="lineno">  953</span>    df = pd.DataFrame(</div>
<div class="line"><span class="lineno">  954</span>        {</div>
<div class="line"><span class="lineno">  955</span>            <span class="stringliteral">&quot;int&quot;</span>: [1, 2, 3],</div>
<div class="line"><span class="lineno">  956</span>            <span class="stringliteral">&quot;float&quot;</span>: [0, 0.1, 2.1],</div>
<div class="line"><span class="lineno">  957</span>            <span class="stringliteral">&quot;bool&quot;</span>: pd.Series([<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>], dtype=bool_dtype),</div>
<div class="line"><span class="lineno">  958</span>        },</div>
<div class="line"><span class="lineno">  959</span>        columns=[<span class="stringliteral">&quot;int&quot;</span>, <span class="stringliteral">&quot;float&quot;</span>, <span class="stringliteral">&quot;bool&quot;</span>],</div>
<div class="line"><span class="lineno">  960</span>    )</div>
<div class="line"><span class="lineno">  961</span> </div>
<div class="line"><span class="lineno">  962</span>    array = check_array(df, dtype=dtype)</div>
<div class="line"><span class="lineno">  963</span>    <span class="keyword">assert</span> array.dtype == np.float64</div>
<div class="line"><span class="lineno">  964</span>    expected_array = np.array(</div>
<div class="line"><span class="lineno">  965</span>        [[1.0, 0.0, 1.0], [2.0, 0.1, 0.0], [3.0, 2.1, 1.0]], dtype=float</div>
<div class="line"><span class="lineno">  966</span>    )</div>
<div class="line"><span class="lineno">  967</span>    assert_allclose_dense_sparse(array, expected_array)</div>
<div class="line"><span class="lineno">  968</span> </div>
<div class="line"><span class="lineno">  969</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7b6753ea5b64b352048ed9a4811bf4e5" name="a7b6753ea5b64b352048ed9a4811bf4e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b6753ea5b64b352048ed9a4811bf4e5">&#9670;&#160;</a></span>test_check_dataframe_with_only_bool()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_dataframe_with_only_bool </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that dataframe with bool return a boolean arrays.</pre> <div class="fragment"><div class="line"><span class="lineno">  970</span><span class="keyword">def </span>test_check_dataframe_with_only_bool():</div>
<div class="line"><span class="lineno">  971</span>    <span class="stringliteral">&quot;&quot;&quot;Check that dataframe with bool return a boolean arrays.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  972</span>    pd = importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  973</span>    df = pd.DataFrame({<span class="stringliteral">&quot;bool&quot;</span>: [<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>]})</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>    array = check_array(df, dtype=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  976</span>    <span class="keyword">assert</span> array.dtype == np.bool_</div>
<div class="line"><span class="lineno">  977</span>    assert_array_equal(array, [[<span class="keyword">True</span>], [<span class="keyword">False</span>], [<span class="keyword">True</span>]])</div>
<div class="line"><span class="lineno">  978</span> </div>
<div class="line"><span class="lineno">  979</span>    <span class="comment"># common dtype is int for bool + int</span></div>
<div class="line"><span class="lineno">  980</span>    df = pd.DataFrame(</div>
<div class="line"><span class="lineno">  981</span>        {<span class="stringliteral">&quot;bool&quot;</span>: [<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>], <span class="stringliteral">&quot;int&quot;</span>: [1, 2, 3]},</div>
<div class="line"><span class="lineno">  982</span>        columns=[<span class="stringliteral">&quot;bool&quot;</span>, <span class="stringliteral">&quot;int&quot;</span>],</div>
<div class="line"><span class="lineno">  983</span>    )</div>
<div class="line"><span class="lineno">  984</span>    array = check_array(df, dtype=<span class="stringliteral">&quot;numeric&quot;</span>)</div>
<div class="line"><span class="lineno">  985</span>    <span class="keyword">assert</span> array.dtype == np.int64</div>
<div class="line"><span class="lineno">  986</span>    assert_array_equal(array, [[1, 1], [0, 2], [1, 3]])</div>
<div class="line"><span class="lineno">  987</span> </div>
<div class="line"><span class="lineno">  988</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3780de43fe7102691a8e0bdae857dabf" name="a3780de43fe7102691a8e0bdae857dabf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3780de43fe7102691a8e0bdae857dabf">&#9670;&#160;</a></span>test_check_dataframe_with_only_boolean()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_dataframe_with_only_boolean </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that dataframe with boolean return a float array with dtype=None</pre> <div class="fragment"><div class="line"><span class="lineno">  989</span><span class="keyword">def </span>test_check_dataframe_with_only_boolean():</div>
<div class="line"><span class="lineno">  990</span>    <span class="stringliteral">&quot;&quot;&quot;Check that dataframe with boolean return a float array with dtype=None&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  991</span>    pd = importorskip(<span class="stringliteral">&quot;pandas&quot;</span>, minversion=<span class="stringliteral">&quot;1.0&quot;</span>)</div>
<div class="line"><span class="lineno">  992</span>    df = pd.DataFrame({<span class="stringliteral">&quot;bool&quot;</span>: pd.Series([<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>], dtype=<span class="stringliteral">&quot;boolean&quot;</span>)})</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>    array = check_array(df, dtype=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  995</span>    <span class="keyword">assert</span> array.dtype == np.float64</div>
<div class="line"><span class="lineno">  996</span>    assert_array_equal(array, [[<span class="keyword">True</span>], [<span class="keyword">False</span>], [<span class="keyword">True</span>]])</div>
<div class="line"><span class="lineno">  997</span> </div>
<div class="line"><span class="lineno">  998</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ab3d08cd1db5160e72c71b255c5070c" name="a0ab3d08cd1db5160e72c71b255c5070c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ab3d08cd1db5160e72c71b255c5070c">&#9670;&#160;</a></span>test_check_feature_names_in()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_feature_names_in </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check behavior of check_feature_names_in for arrays.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1722</span><span class="keyword">def </span>test_check_feature_names_in():</div>
<div class="line"><span class="lineno"> 1723</span>    <span class="stringliteral">&quot;&quot;&quot;Check behavior of check_feature_names_in for arrays.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1724</span>    X = np.array([[0.0, 1.0, 2.0]])</div>
<div class="line"><span class="lineno"> 1725</span>    est = PassthroughTransformer().fit(X)</div>
<div class="line"><span class="lineno"> 1726</span> </div>
<div class="line"><span class="lineno"> 1727</span>    names = est.get_feature_names_out()</div>
<div class="line"><span class="lineno"> 1728</span>    assert_array_equal(names, [<span class="stringliteral">&quot;x0&quot;</span>, <span class="stringliteral">&quot;x1&quot;</span>, <span class="stringliteral">&quot;x2&quot;</span>])</div>
<div class="line"><span class="lineno"> 1729</span> </div>
<div class="line"><span class="lineno"> 1730</span>    incorrect_len_names = [<span class="stringliteral">&quot;x10&quot;</span>, <span class="stringliteral">&quot;x1&quot;</span>]</div>
<div class="line"><span class="lineno"> 1731</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;input_features should have length equal to&quot;</span>):</div>
<div class="line"><span class="lineno"> 1732</span>        est.get_feature_names_out(incorrect_len_names)</div>
<div class="line"><span class="lineno"> 1733</span> </div>
<div class="line"><span class="lineno"> 1734</span>    <span class="comment"># remove n_feature_in_</span></div>
<div class="line"><span class="lineno"> 1735</span>    del est.n_features_in_</div>
<div class="line"><span class="lineno"> 1736</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Unable to generate feature names&quot;</span>):</div>
<div class="line"><span class="lineno"> 1737</span>        est.get_feature_names_out()</div>
<div class="line"><span class="lineno"> 1738</span> </div>
<div class="line"><span class="lineno"> 1739</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c156b1def1b95d229889984dc7ecca3" name="a6c156b1def1b95d229889984dc7ecca3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c156b1def1b95d229889984dc7ecca3">&#9670;&#160;</a></span>test_check_feature_names_in_pandas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_feature_names_in_pandas </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check behavior of check_feature_names_in for pandas dataframes.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1740</span><span class="keyword">def </span>test_check_feature_names_in_pandas():</div>
<div class="line"><span class="lineno"> 1741</span>    <span class="stringliteral">&quot;&quot;&quot;Check behavior of check_feature_names_in for pandas dataframes.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1742</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno"> 1743</span>    names = [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>]</div>
<div class="line"><span class="lineno"> 1744</span>    df = pd.DataFrame([[0.0, 1.0, 2.0]], columns=names)</div>
<div class="line"><span class="lineno"> 1745</span>    est = PassthroughTransformer().fit(df)</div>
<div class="line"><span class="lineno"> 1746</span> </div>
<div class="line"><span class="lineno"> 1747</span>    names = est.get_feature_names_out()</div>
<div class="line"><span class="lineno"> 1748</span>    assert_array_equal(names, [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>])</div>
<div class="line"><span class="lineno"> 1749</span> </div>
<div class="line"><span class="lineno"> 1750</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;input_features is not equal to&quot;</span>):</div>
<div class="line"><span class="lineno"> 1751</span>        est.get_feature_names_out([<span class="stringliteral">&quot;x1&quot;</span>, <span class="stringliteral">&quot;x2&quot;</span>, <span class="stringliteral">&quot;x3&quot;</span>])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4032ba0ebc42da9a469df852b7b367e7" name="a4032ba0ebc42da9a469df852b7b367e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4032ba0ebc42da9a469df852b7b367e7">&#9670;&#160;</a></span>test_check_fit_params()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_fit_params </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indices</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1483</span><span class="keyword">def </span>test_check_fit_params(indices):</div>
<div class="line"><span class="lineno"> 1484</span>    X = np.random.randn(4, 2)</div>
<div class="line"><span class="lineno"> 1485</span>    fit_params = {</div>
<div class="line"><span class="lineno"> 1486</span>        <span class="stringliteral">&quot;list&quot;</span>: [1, 2, 3, 4],</div>
<div class="line"><span class="lineno"> 1487</span>        <span class="stringliteral">&quot;array&quot;</span>: np.array([1, 2, 3, 4]),</div>
<div class="line"><span class="lineno"> 1488</span>        <span class="stringliteral">&quot;sparse-col&quot;</span>: sp.csc_matrix([1, 2, 3, 4]).T,</div>
<div class="line"><span class="lineno"> 1489</span>        <span class="stringliteral">&quot;sparse-row&quot;</span>: sp.csc_matrix([1, 2, 3, 4]),</div>
<div class="line"><span class="lineno"> 1490</span>        <span class="stringliteral">&quot;scalar-int&quot;</span>: 1,</div>
<div class="line"><span class="lineno"> 1491</span>        <span class="stringliteral">&quot;scalar-str&quot;</span>: <span class="stringliteral">&quot;xxx&quot;</span>,</div>
<div class="line"><span class="lineno"> 1492</span>        <span class="stringliteral">&quot;None&quot;</span>: <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1493</span>    }</div>
<div class="line"><span class="lineno"> 1494</span>    result = _check_fit_params(X, fit_params, indices)</div>
<div class="line"><span class="lineno"> 1495</span>    indices_ = indices <span class="keywordflow">if</span> indices <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> list(range(X.shape[0]))</div>
<div class="line"><span class="lineno"> 1496</span> </div>
<div class="line"><span class="lineno"> 1497</span>    <span class="keywordflow">for</span> key <span class="keywordflow">in</span> [<span class="stringliteral">&quot;sparse-row&quot;</span>, <span class="stringliteral">&quot;scalar-int&quot;</span>, <span class="stringliteral">&quot;scalar-str&quot;</span>, <span class="stringliteral">&quot;None&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1498</span>        <span class="keyword">assert</span> result[key] <span class="keywordflow">is</span> fit_params[key]</div>
<div class="line"><span class="lineno"> 1499</span> </div>
<div class="line"><span class="lineno"> 1500</span>    <span class="keyword">assert</span> result[<span class="stringliteral">&quot;list&quot;</span>] == _safe_indexing(fit_params[<span class="stringliteral">&quot;list&quot;</span>], indices_)</div>
<div class="line"><span class="lineno"> 1501</span>    assert_array_equal(result[<span class="stringliteral">&quot;array&quot;</span>], _safe_indexing(fit_params[<span class="stringliteral">&quot;array&quot;</span>], indices_))</div>
<div class="line"><span class="lineno"> 1502</span>    assert_allclose_dense_sparse(</div>
<div class="line"><span class="lineno"> 1503</span>        result[<span class="stringliteral">&quot;sparse-col&quot;</span>], _safe_indexing(fit_params[<span class="stringliteral">&quot;sparse-col&quot;</span>], indices_)</div>
<div class="line"><span class="lineno"> 1504</span>    )</div>
<div class="line"><span class="lineno"> 1505</span> </div>
<div class="line"><span class="lineno"> 1506</span> </div>
<div class="line"><span class="lineno"> 1507</span><span class="preprocessor">@pytest.mark.parametrize(&quot;sp_format&quot;, [True, &quot;csr&quot;, &quot;csc&quot;, &quot;coo&quot;, &quot;bsr&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee6086f342b73edcb145ef1ae28f229c" name="aee6086f342b73edcb145ef1ae28f229c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee6086f342b73edcb145ef1ae28f229c">&#9670;&#160;</a></span>test_check_is_fitted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_is_fitted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  798</span><span class="keyword">def </span>test_check_is_fitted():</div>
<div class="line"><span class="lineno">  799</span>    <span class="comment"># Check is TypeError raised when non estimator instance passed</span></div>
<div class="line"><span class="lineno">  800</span>    <span class="keyword">with</span> pytest.raises(TypeError):</div>
<div class="line"><span class="lineno">  801</span>        check_is_fitted(ARDRegression)</div>
<div class="line"><span class="lineno">  802</span>    <span class="keyword">with</span> pytest.raises(TypeError):</div>
<div class="line"><span class="lineno">  803</span>        check_is_fitted(<span class="stringliteral">&quot;SVR&quot;</span>)</div>
<div class="line"><span class="lineno">  804</span> </div>
<div class="line"><span class="lineno">  805</span>    ard = ARDRegression()</div>
<div class="line"><span class="lineno">  806</span>    svr = SVR()</div>
<div class="line"><span class="lineno">  807</span> </div>
<div class="line"><span class="lineno">  808</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  809</span>        <span class="keyword">with</span> pytest.raises(NotFittedError):</div>
<div class="line"><span class="lineno">  810</span>            check_is_fitted(ard)</div>
<div class="line"><span class="lineno">  811</span>        <span class="keyword">with</span> pytest.raises(NotFittedError):</div>
<div class="line"><span class="lineno">  812</span>            check_is_fitted(svr)</div>
<div class="line"><span class="lineno">  813</span>    <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  814</span>        <span class="keyword">assert</span> <span class="keyword">False</span>, <span class="stringliteral">&quot;check_is_fitted failed with ValueError&quot;</span></div>
<div class="line"><span class="lineno">  815</span> </div>
<div class="line"><span class="lineno">  816</span>    <span class="comment"># NotFittedError is a subclass of both ValueError and AttributeError</span></div>
<div class="line"><span class="lineno">  817</span>    msg = <span class="stringliteral">&quot;Random message %(name)s, %(name)s&quot;</span></div>
<div class="line"><span class="lineno">  818</span>    match = <span class="stringliteral">&quot;Random message ARDRegression, ARDRegression&quot;</span></div>
<div class="line"><span class="lineno">  819</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=match):</div>
<div class="line"><span class="lineno">  820</span>        check_is_fitted(ard, msg=msg)</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span>    msg = <span class="stringliteral">&quot;Another message %(name)s, %(name)s&quot;</span></div>
<div class="line"><span class="lineno">  823</span>    match = <span class="stringliteral">&quot;Another message SVR, SVR&quot;</span></div>
<div class="line"><span class="lineno">  824</span>    <span class="keyword">with</span> pytest.raises(AttributeError, match=match):</div>
<div class="line"><span class="lineno">  825</span>        check_is_fitted(svr, msg=msg)</div>
<div class="line"><span class="lineno">  826</span> </div>
<div class="line"><span class="lineno">  827</span>    ard.fit(*make_blobs())</div>
<div class="line"><span class="lineno">  828</span>    svr.fit(*make_blobs())</div>
<div class="line"><span class="lineno">  829</span> </div>
<div class="line"><span class="lineno">  830</span>    <span class="keyword">assert</span> check_is_fitted(ard) <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  831</span>    <span class="keyword">assert</span> check_is_fitted(svr) <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  832</span> </div>
<div class="line"><span class="lineno">  833</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1d28da0fa416cdad6df9f69fc661a663" name="a1d28da0fa416cdad6df9f69fc661a663"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1d28da0fa416cdad6df9f69fc661a663">&#9670;&#160;</a></span>test_check_is_fitted_attributes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_is_fitted_attributes </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  834</span><span class="keyword">def </span>test_check_is_fitted_attributes():</div>
<div class="line"><span class="lineno">  835</span>    <span class="keyword">class </span>MyEstimator:</div>
<div class="line"><span class="lineno">  836</span>        <span class="keyword">def </span>fit(self, X, y):</div>
<div class="line"><span class="lineno">  837</span>            <span class="keywordflow">return</span> self</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span>    msg = <span class="stringliteral">&quot;not fitted&quot;</span></div>
<div class="line"><span class="lineno">  840</span>    est = MyEstimator()</div>
<div class="line"><span class="lineno">  841</span> </div>
<div class="line"><span class="lineno">  842</span>    <span class="keyword">with</span> pytest.raises(NotFittedError, match=msg):</div>
<div class="line"><span class="lineno">  843</span>        check_is_fitted(est, attributes=[<span class="stringliteral">&quot;a_&quot;</span>, <span class="stringliteral">&quot;b_&quot;</span>])</div>
<div class="line"><span class="lineno">  844</span>    <span class="keyword">with</span> pytest.raises(NotFittedError, match=msg):</div>
<div class="line"><span class="lineno">  845</span>        check_is_fitted(est, attributes=[<span class="stringliteral">&quot;a_&quot;</span>, <span class="stringliteral">&quot;b_&quot;</span>], all_or_any=all)</div>
<div class="line"><span class="lineno">  846</span>    <span class="keyword">with</span> pytest.raises(NotFittedError, match=msg):</div>
<div class="line"><span class="lineno">  847</span>        check_is_fitted(est, attributes=[<span class="stringliteral">&quot;a_&quot;</span>, <span class="stringliteral">&quot;b_&quot;</span>], all_or_any=any)</div>
<div class="line"><span class="lineno">  848</span> </div>
<div class="line"><span class="lineno">  849</span>    est.a_ = <span class="stringliteral">&quot;a&quot;</span></div>
<div class="line"><span class="lineno">  850</span>    <span class="keyword">with</span> pytest.raises(NotFittedError, match=msg):</div>
<div class="line"><span class="lineno">  851</span>        check_is_fitted(est, attributes=[<span class="stringliteral">&quot;a_&quot;</span>, <span class="stringliteral">&quot;b_&quot;</span>])</div>
<div class="line"><span class="lineno">  852</span>    <span class="keyword">with</span> pytest.raises(NotFittedError, match=msg):</div>
<div class="line"><span class="lineno">  853</span>        check_is_fitted(est, attributes=[<span class="stringliteral">&quot;a_&quot;</span>, <span class="stringliteral">&quot;b_&quot;</span>], all_or_any=all)</div>
<div class="line"><span class="lineno">  854</span>    check_is_fitted(est, attributes=[<span class="stringliteral">&quot;a_&quot;</span>, <span class="stringliteral">&quot;b_&quot;</span>], all_or_any=any)</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>    est.b_ = <span class="stringliteral">&quot;b&quot;</span></div>
<div class="line"><span class="lineno">  857</span>    check_is_fitted(est, attributes=[<span class="stringliteral">&quot;a_&quot;</span>, <span class="stringliteral">&quot;b_&quot;</span>])</div>
<div class="line"><span class="lineno">  858</span>    check_is_fitted(est, attributes=[<span class="stringliteral">&quot;a_&quot;</span>, <span class="stringliteral">&quot;b_&quot;</span>], all_or_any=all)</div>
<div class="line"><span class="lineno">  859</span>    check_is_fitted(est, attributes=[<span class="stringliteral">&quot;a_&quot;</span>, <span class="stringliteral">&quot;b_&quot;</span>], all_or_any=any)</div>
<div class="line"><span class="lineno">  860</span> </div>
<div class="line"><span class="lineno">  861</span> </div>
<div class="line"><span class="lineno">  862</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  863</span>    <span class="stringliteral">&quot;wrap&quot;</span>, [itemgetter(0), list, tuple], ids=[<span class="stringliteral">&quot;single&quot;</span>, <span class="stringliteral">&quot;list&quot;</span>, <span class="stringliteral">&quot;tuple&quot;</span>]</div>
<div class="line"><span class="lineno">  864</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a606eec6f5a16c526a17312561c089076" name="a606eec6f5a16c526a17312561c089076"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a606eec6f5a16c526a17312561c089076">&#9670;&#160;</a></span>test_check_is_fitted_with_attributes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_is_fitted_with_attributes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>wrap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  865</span><span class="keyword">def </span>test_check_is_fitted_with_attributes(wrap):</div>
<div class="line"><span class="lineno">  866</span>    ard = ARDRegression()</div>
<div class="line"><span class="lineno">  867</span>    <span class="keyword">with</span> pytest.raises(NotFittedError, match=<span class="stringliteral">&quot;is not fitted yet&quot;</span>):</div>
<div class="line"><span class="lineno">  868</span>        check_is_fitted(ard, wrap([<span class="stringliteral">&quot;coef_&quot;</span>]))</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span>    ard.fit(*make_blobs())</div>
<div class="line"><span class="lineno">  871</span> </div>
<div class="line"><span class="lineno">  872</span>    <span class="comment"># Does not raise</span></div>
<div class="line"><span class="lineno">  873</span>    check_is_fitted(ard, wrap([<span class="stringliteral">&quot;coef_&quot;</span>]))</div>
<div class="line"><span class="lineno">  874</span> </div>
<div class="line"><span class="lineno">  875</span>    <span class="comment"># Raises when using attribute that is not defined</span></div>
<div class="line"><span class="lineno">  876</span>    <span class="keyword">with</span> pytest.raises(NotFittedError, match=<span class="stringliteral">&quot;is not fitted yet&quot;</span>):</div>
<div class="line"><span class="lineno">  877</span>        check_is_fitted(ard, wrap([<span class="stringliteral">&quot;coef_bad_&quot;</span>]))</div>
<div class="line"><span class="lineno">  878</span> </div>
<div class="line"><span class="lineno">  879</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1d5cfe94b001ac17bd071265f939ef1" name="ab1d5cfe94b001ac17bd071265f939ef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1d5cfe94b001ac17bd071265f939ef1">&#9670;&#160;</a></span>test_check_is_fitted_with_is_fitted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_is_fitted_with_is_fitted </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  784</span><span class="keyword">def </span>test_check_is_fitted_with_is_fitted():</div>
<div class="line"><span class="lineno">  785</span>    <span class="keyword">class </span>Estimator(BaseEstimator):</div>
<div class="line"><span class="lineno">  786</span>        <span class="keyword">def </span>fit(self, **kwargs):</div>
<div class="line"><span class="lineno">  787</span>            self._is_fitted = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  788</span>            <span class="keywordflow">return</span> self</div>
<div class="line"><span class="lineno">  789</span> </div>
<div class="line"><span class="lineno">  790</span>        <span class="keyword">def </span>__sklearn_is_fitted__(self):</div>
<div class="line"><span class="lineno">  791</span>            <span class="keywordflow">return</span> hasattr(self, <span class="stringliteral">&quot;_is_fitted&quot;</span>) <span class="keywordflow">and</span> self._is_fitted</div>
<div class="line"><span class="lineno">  792</span> </div>
<div class="line"><span class="lineno">  793</span>    <span class="keyword">with</span> pytest.raises(NotFittedError):</div>
<div class="line"><span class="lineno">  794</span>        check_is_fitted(Estimator())</div>
<div class="line"><span class="lineno">  795</span>    check_is_fitted(Estimator().fit())</div>
<div class="line"><span class="lineno">  796</span> </div>
<div class="line"><span class="lineno">  797</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a585158807bf92c94ff7f7a64b147603c" name="a585158807bf92c94ff7f7a64b147603c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a585158807bf92c94ff7f7a64b147603c">&#9670;&#160;</a></span>test_check_memory()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_memory </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1008</span><span class="keyword">def </span>test_check_memory():</div>
<div class="line"><span class="lineno"> 1009</span>    memory = check_memory(<span class="stringliteral">&quot;cache_directory&quot;</span>)</div>
<div class="line"><span class="lineno"> 1010</span>    <span class="keyword">assert</span> memory.location == <span class="stringliteral">&quot;cache_directory&quot;</span></div>
<div class="line"><span class="lineno"> 1011</span> </div>
<div class="line"><span class="lineno"> 1012</span>    memory = check_memory(<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 1013</span>    <span class="keyword">assert</span> memory.location <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1014</span> </div>
<div class="line"><span class="lineno"> 1015</span>    dummy = DummyMemory()</div>
<div class="line"><span class="lineno"> 1016</span>    memory = check_memory(dummy)</div>
<div class="line"><span class="lineno"> 1017</span>    <span class="keyword">assert</span> memory <span class="keywordflow">is</span> dummy</div>
<div class="line"><span class="lineno"> 1018</span> </div>
<div class="line"><span class="lineno"> 1019</span>    msg = (</div>
<div class="line"><span class="lineno"> 1020</span>        <span class="stringliteral">&quot;&#39;memory&#39; should be None, a string or have the same interface as&quot;</span></div>
<div class="line"><span class="lineno"> 1021</span>        <span class="stringliteral">&quot; joblib.Memory. Got memory=&#39;1&#39; instead.&quot;</span></div>
<div class="line"><span class="lineno"> 1022</span>    )</div>
<div class="line"><span class="lineno"> 1023</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1024</span>        check_memory(1)</div>
<div class="line"><span class="lineno"> 1025</span>    dummy = WrongDummyMemory()</div>
<div class="line"><span class="lineno"> 1026</span>    msg = (</div>
<div class="line"><span class="lineno"> 1027</span>        <span class="stringliteral">&quot;&#39;memory&#39; should be None, a string or have the same interface as&quot;</span></div>
<div class="line"><span class="lineno"> 1028</span>        <span class="stringliteral">&quot; joblib.Memory. Got memory=&#39;{}&#39; instead.&quot;</span>.format(dummy)</div>
<div class="line"><span class="lineno"> 1029</span>    )</div>
<div class="line"><span class="lineno"> 1030</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1031</span>        check_memory(dummy)</div>
<div class="line"><span class="lineno"> 1032</span> </div>
<div class="line"><span class="lineno"> 1033</span> </div>
<div class="line"><span class="lineno"> 1034</span><span class="preprocessor">@pytest.mark.parametrize(&quot;copy&quot;, [True, False])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aee5600d05aa781664a471bf877069275" name="aee5600d05aa781664a471bf877069275"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee5600d05aa781664a471bf877069275">&#9670;&#160;</a></span>test_check_non_negative()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_non_negative </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>retype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1056</span><span class="keyword">def </span>test_check_non_negative(retype):</div>
<div class="line"><span class="lineno"> 1057</span>    A = np.array([[1, 1, 0, 0], [1, 1, 0, 0], [0, 0, 0, 0], [0, 0, 0, 0]])</div>
<div class="line"><span class="lineno"> 1058</span>    X = retype(A)</div>
<div class="line"><span class="lineno"> 1059</span>    check_non_negative(X, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1060</span>    X = retype([[0, 0], [0, 0]])</div>
<div class="line"><span class="lineno"> 1061</span>    check_non_negative(X, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1062</span> </div>
<div class="line"><span class="lineno"> 1063</span>    A[0, 0] = -1</div>
<div class="line"><span class="lineno"> 1064</span>    X = retype(A)</div>
<div class="line"><span class="lineno"> 1065</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Negative &quot;</span>):</div>
<div class="line"><span class="lineno"> 1066</span>        check_non_negative(X, <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a78fce691b72009ac5d51c2c5be3ddbc2" name="a78fce691b72009ac5d51c2c5be3ddbc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78fce691b72009ac5d51c2c5be3ddbc2">&#9670;&#160;</a></span>test_check_pandas_sparse_invalid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_pandas_sparse_invalid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ntype1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ntype2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">check that we raise an error with dataframe having
sparse extension arrays with unsupported mixed dtype
and pandas version below 1.1. pandas versions 1.1 and
above fixed this issue so no error will be raised.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1540</span><span class="keyword">def </span>test_check_pandas_sparse_invalid(ntype1, ntype2):</div>
<div class="line"><span class="lineno"> 1541</span>    <span class="stringliteral">&quot;&quot;&quot;check that we raise an error with dataframe having</span></div>
<div class="line"><span class="lineno"> 1542</span><span class="stringliteral">    sparse extension arrays with unsupported mixed dtype</span></div>
<div class="line"><span class="lineno"> 1543</span><span class="stringliteral">    and pandas version below 1.1. pandas versions 1.1 and</span></div>
<div class="line"><span class="lineno"> 1544</span><span class="stringliteral">    above fixed this issue so no error will be raised.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1545</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno"> 1546</span>    df = pd.DataFrame(</div>
<div class="line"><span class="lineno"> 1547</span>        {</div>
<div class="line"><span class="lineno"> 1548</span>            <span class="stringliteral">&quot;col1&quot;</span>: pd.arrays.SparseArray([0, 1, 0], dtype=ntype1, fill_value=0),</div>
<div class="line"><span class="lineno"> 1549</span>            <span class="stringliteral">&quot;col2&quot;</span>: pd.arrays.SparseArray([1, 0, 1], dtype=ntype2, fill_value=0),</div>
<div class="line"><span class="lineno"> 1550</span>        }</div>
<div class="line"><span class="lineno"> 1551</span>    )</div>
<div class="line"><span class="lineno"> 1552</span> </div>
<div class="line"><span class="lineno"> 1553</span>    <span class="keywordflow">if</span> parse_version(pd.__version__) &lt; parse_version(<span class="stringliteral">&quot;1.1&quot;</span>):</div>
<div class="line"><span class="lineno"> 1554</span>        err_msg = <span class="stringliteral">&quot;Pandas DataFrame with mixed sparse extension arrays&quot;</span></div>
<div class="line"><span class="lineno"> 1555</span>        <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno"> 1556</span>            check_array(df, accept_sparse=[<span class="stringliteral">&quot;csr&quot;</span>, <span class="stringliteral">&quot;csc&quot;</span>])</div>
<div class="line"><span class="lineno"> 1557</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1558</span>        <span class="comment"># pandas fixed this issue at 1.1 so from here on,</span></div>
<div class="line"><span class="lineno"> 1559</span>        <span class="comment"># no error will be raised.</span></div>
<div class="line"><span class="lineno"> 1560</span>        check_array(df, accept_sparse=[<span class="stringliteral">&quot;csr&quot;</span>, <span class="stringliteral">&quot;csc&quot;</span>])</div>
<div class="line"><span class="lineno"> 1561</span> </div>
<div class="line"><span class="lineno"> 1562</span> </div>
<div class="line"><span class="lineno"> 1563</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1564</span>    <span class="stringliteral">&quot;ntype1, ntype2, expected_subtype&quot;</span>,</div>
<div class="line"><span class="lineno"> 1565</span>    [</div>
<div class="line"><span class="lineno"> 1566</span>        (<span class="stringliteral">&quot;longfloat&quot;</span>, <span class="stringliteral">&quot;longdouble&quot;</span>, np.floating),</div>
<div class="line"><span class="lineno"> 1567</span>        (<span class="stringliteral">&quot;float16&quot;</span>, <span class="stringliteral">&quot;half&quot;</span>, np.floating),</div>
<div class="line"><span class="lineno"> 1568</span>        (<span class="stringliteral">&quot;single&quot;</span>, <span class="stringliteral">&quot;float32&quot;</span>, np.floating),</div>
<div class="line"><span class="lineno"> 1569</span>        (<span class="stringliteral">&quot;double&quot;</span>, <span class="stringliteral">&quot;float64&quot;</span>, np.floating),</div>
<div class="line"><span class="lineno"> 1570</span>        (<span class="stringliteral">&quot;int8&quot;</span>, <span class="stringliteral">&quot;byte&quot;</span>, np.integer),</div>
<div class="line"><span class="lineno"> 1571</span>        (<span class="stringliteral">&quot;short&quot;</span>, <span class="stringliteral">&quot;int16&quot;</span>, np.integer),</div>
<div class="line"><span class="lineno"> 1572</span>        (<span class="stringliteral">&quot;intc&quot;</span>, <span class="stringliteral">&quot;int32&quot;</span>, np.integer),</div>
<div class="line"><span class="lineno"> 1573</span>        (<span class="stringliteral">&quot;intp&quot;</span>, <span class="stringliteral">&quot;long&quot;</span>, np.integer),</div>
<div class="line"><span class="lineno"> 1574</span>        (<span class="stringliteral">&quot;int&quot;</span>, <span class="stringliteral">&quot;long&quot;</span>, np.integer),</div>
<div class="line"><span class="lineno"> 1575</span>        (<span class="stringliteral">&quot;int64&quot;</span>, <span class="stringliteral">&quot;longlong&quot;</span>, np.integer),</div>
<div class="line"><span class="lineno"> 1576</span>        (<span class="stringliteral">&quot;int_&quot;</span>, <span class="stringliteral">&quot;intp&quot;</span>, np.integer),</div>
<div class="line"><span class="lineno"> 1577</span>        (<span class="stringliteral">&quot;ubyte&quot;</span>, <span class="stringliteral">&quot;uint8&quot;</span>, np.unsignedinteger),</div>
<div class="line"><span class="lineno"> 1578</span>        (<span class="stringliteral">&quot;uint16&quot;</span>, <span class="stringliteral">&quot;ushort&quot;</span>, np.unsignedinteger),</div>
<div class="line"><span class="lineno"> 1579</span>        (<span class="stringliteral">&quot;uintc&quot;</span>, <span class="stringliteral">&quot;uint32&quot;</span>, np.unsignedinteger),</div>
<div class="line"><span class="lineno"> 1580</span>        (<span class="stringliteral">&quot;uint&quot;</span>, <span class="stringliteral">&quot;uint64&quot;</span>, np.unsignedinteger),</div>
<div class="line"><span class="lineno"> 1581</span>        (<span class="stringliteral">&quot;uintp&quot;</span>, <span class="stringliteral">&quot;ulonglong&quot;</span>, np.unsignedinteger),</div>
<div class="line"><span class="lineno"> 1582</span>    ],</div>
<div class="line"><span class="lineno"> 1583</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="aca0826db1d4673fb23248711f5e7f53c" name="aca0826db1d4673fb23248711f5e7f53c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca0826db1d4673fb23248711f5e7f53c">&#9670;&#160;</a></span>test_check_pandas_sparse_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_pandas_sparse_valid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ntype1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ntype2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected_subtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1584</span><span class="keyword">def </span>test_check_pandas_sparse_valid(ntype1, ntype2, expected_subtype):</div>
<div class="line"><span class="lineno"> 1585</span>    <span class="comment"># check that we support the conversion of sparse dataframe with mixed</span></div>
<div class="line"><span class="lineno"> 1586</span>    <span class="comment"># type which can be converted safely.</span></div>
<div class="line"><span class="lineno"> 1587</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno"> 1588</span>    df = pd.DataFrame(</div>
<div class="line"><span class="lineno"> 1589</span>        {</div>
<div class="line"><span class="lineno"> 1590</span>            <span class="stringliteral">&quot;col1&quot;</span>: pd.arrays.SparseArray([0, 1, 0], dtype=ntype1, fill_value=0),</div>
<div class="line"><span class="lineno"> 1591</span>            <span class="stringliteral">&quot;col2&quot;</span>: pd.arrays.SparseArray([1, 0, 1], dtype=ntype2, fill_value=0),</div>
<div class="line"><span class="lineno"> 1592</span>        }</div>
<div class="line"><span class="lineno"> 1593</span>    )</div>
<div class="line"><span class="lineno"> 1594</span>    arr = check_array(df, accept_sparse=[<span class="stringliteral">&quot;csr&quot;</span>, <span class="stringliteral">&quot;csc&quot;</span>])</div>
<div class="line"><span class="lineno"> 1595</span>    <span class="keyword">assert</span> np.issubdtype(arr.dtype, expected_subtype)</div>
<div class="line"><span class="lineno"> 1596</span> </div>
<div class="line"><span class="lineno"> 1597</span> </div>
<div class="line"><span class="lineno"> 1598</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1599</span>    <span class="stringliteral">&quot;constructor_name&quot;</span>,</div>
<div class="line"><span class="lineno"> 1600</span>    [<span class="stringliteral">&quot;list&quot;</span>, <span class="stringliteral">&quot;tuple&quot;</span>, <span class="stringliteral">&quot;array&quot;</span>, <span class="stringliteral">&quot;dataframe&quot;</span>, <span class="stringliteral">&quot;sparse_csr&quot;</span>, <span class="stringliteral">&quot;sparse_csc&quot;</span>],</div>
<div class="line"><span class="lineno"> 1601</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac9b4280d0bd2cb8b5aabba27b5964483" name="ac9b4280d0bd2cb8b5aabba27b5964483"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9b4280d0bd2cb8b5aabba27b5964483">&#9670;&#160;</a></span>test_check_psd_eigenvalues_invalid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_psd_eigenvalues_invalid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lambdas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1344</span><span class="keyword">def </span>test_check_psd_eigenvalues_invalid(lambdas, err_type, err_msg):</div>
<div class="line"><span class="lineno"> 1345</span>    <span class="comment"># Test that ``_check_psd_eigenvalues`` raises the right error for invalid</span></div>
<div class="line"><span class="lineno"> 1346</span>    <span class="comment"># input</span></div>
<div class="line"><span class="lineno"> 1347</span> </div>
<div class="line"><span class="lineno"> 1348</span>    <span class="keyword">with</span> pytest.raises(err_type, match=err_msg):</div>
<div class="line"><span class="lineno"> 1349</span>        _check_psd_eigenvalues(lambdas)</div>
<div class="line"><span class="lineno"> 1350</span> </div>
<div class="line"><span class="lineno"> 1351</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8cd1b07cc17693f313300bf806b112ec" name="a8cd1b07cc17693f313300bf806b112ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cd1b07cc17693f313300bf806b112ec">&#9670;&#160;</a></span>test_check_psd_eigenvalues_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_psd_eigenvalues_valid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lambdas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected_lambdas</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>w_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>w_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>enable_warnings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1288</span>):</div>
<div class="line"><span class="lineno"> 1289</span>    <span class="comment"># Test that ``_check_psd_eigenvalues`` returns the right output for valid</span></div>
<div class="line"><span class="lineno"> 1290</span>    <span class="comment"># input, possibly raising the right warning</span></div>
<div class="line"><span class="lineno"> 1291</span> </div>
<div class="line"><span class="lineno"> 1292</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> enable_warnings:</div>
<div class="line"><span class="lineno"> 1293</span>        w_type = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1294</span> </div>
<div class="line"><span class="lineno"> 1295</span>    <span class="keywordflow">if</span> w_type <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1296</span>        <span class="keyword">with</span> warnings.catch_warnings():</div>
<div class="line"><span class="lineno"> 1297</span>            warnings.simplefilter(<span class="stringliteral">&quot;error&quot;</span>, PositiveSpectrumWarning)</div>
<div class="line"><span class="lineno"> 1298</span>            lambdas_fixed = _check_psd_eigenvalues(</div>
<div class="line"><span class="lineno"> 1299</span>                lambdas, enable_warnings=enable_warnings</div>
<div class="line"><span class="lineno"> 1300</span>            )</div>
<div class="line"><span class="lineno"> 1301</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1302</span>        <span class="keyword">with</span> pytest.warns(w_type, match=w_msg):</div>
<div class="line"><span class="lineno"> 1303</span>            lambdas_fixed = _check_psd_eigenvalues(</div>
<div class="line"><span class="lineno"> 1304</span>                lambdas, enable_warnings=enable_warnings</div>
<div class="line"><span class="lineno"> 1305</span>            )</div>
<div class="line"><span class="lineno"> 1306</span> </div>
<div class="line"><span class="lineno"> 1307</span>    assert_allclose(expected_lambdas, lambdas_fixed)</div>
<div class="line"><span class="lineno"> 1308</span> </div>
<div class="line"><span class="lineno"> 1309</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a02202c655332f1acf8288feb6bdd9234" name="a02202c655332f1acf8288feb6bdd9234"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02202c655332f1acf8288feb6bdd9234">&#9670;&#160;</a></span>test_check_sample_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_sample_weight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1352</span><span class="keyword">def </span>test_check_sample_weight():</div>
<div class="line"><span class="lineno"> 1353</span>    <span class="comment"># check array order</span></div>
<div class="line"><span class="lineno"> 1354</span>    sample_weight = np.ones(10)[::2]</div>
<div class="line"><span class="lineno"> 1355</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> sample_weight.flags[<span class="stringliteral">&quot;C_CONTIGUOUS&quot;</span>]</div>
<div class="line"><span class="lineno"> 1356</span>    sample_weight = _check_sample_weight(sample_weight, X=np.ones((5, 1)))</div>
<div class="line"><span class="lineno"> 1357</span>    <span class="keyword">assert</span> sample_weight.flags[<span class="stringliteral">&quot;C_CONTIGUOUS&quot;</span>]</div>
<div class="line"><span class="lineno"> 1358</span> </div>
<div class="line"><span class="lineno"> 1359</span>    <span class="comment"># check None input</span></div>
<div class="line"><span class="lineno"> 1360</span>    sample_weight = _check_sample_weight(<span class="keywordtype">None</span>, X=np.ones((5, 2)))</div>
<div class="line"><span class="lineno"> 1361</span>    assert_allclose(sample_weight, np.ones(5))</div>
<div class="line"><span class="lineno"> 1362</span> </div>
<div class="line"><span class="lineno"> 1363</span>    <span class="comment"># check numbers input</span></div>
<div class="line"><span class="lineno"> 1364</span>    sample_weight = _check_sample_weight(2.0, X=np.ones((5, 2)))</div>
<div class="line"><span class="lineno"> 1365</span>    assert_allclose(sample_weight, 2 * np.ones(5))</div>
<div class="line"><span class="lineno"> 1366</span> </div>
<div class="line"><span class="lineno"> 1367</span>    <span class="comment"># check wrong number of dimensions</span></div>
<div class="line"><span class="lineno"> 1368</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;Sample weights must be 1D array or scalar&quot;</span>):</div>
<div class="line"><span class="lineno"> 1369</span>        _check_sample_weight(np.ones((2, 4)), X=np.ones((2, 2)))</div>
<div class="line"><span class="lineno"> 1370</span> </div>
<div class="line"><span class="lineno"> 1371</span>    <span class="comment"># check incorrect n_samples</span></div>
<div class="line"><span class="lineno"> 1372</span>    msg = <span class="stringliteral">r&quot;sample_weight.shape == \&zwj;(4,\&zwj;), expected \&zwj;(2,\&zwj;)!&quot;</span></div>
<div class="line"><span class="lineno"> 1373</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1374</span>        _check_sample_weight(np.ones(4), X=np.ones((2, 2)))</div>
<div class="line"><span class="lineno"> 1375</span> </div>
<div class="line"><span class="lineno"> 1376</span>    <span class="comment"># float32 dtype is preserved</span></div>
<div class="line"><span class="lineno"> 1377</span>    X = np.ones((5, 2))</div>
<div class="line"><span class="lineno"> 1378</span>    sample_weight = np.ones(5, dtype=np.float32)</div>
<div class="line"><span class="lineno"> 1379</span>    sample_weight = _check_sample_weight(sample_weight, X)</div>
<div class="line"><span class="lineno"> 1380</span>    <span class="keyword">assert</span> sample_weight.dtype == np.float32</div>
<div class="line"><span class="lineno"> 1381</span> </div>
<div class="line"><span class="lineno"> 1382</span>    <span class="comment"># int dtype will be converted to float64 instead</span></div>
<div class="line"><span class="lineno"> 1383</span>    X = np.ones((5, 2), dtype=int)</div>
<div class="line"><span class="lineno"> 1384</span>    sample_weight = _check_sample_weight(<span class="keywordtype">None</span>, X, dtype=X.dtype)</div>
<div class="line"><span class="lineno"> 1385</span>    <span class="keyword">assert</span> sample_weight.dtype == np.float64</div>
<div class="line"><span class="lineno"> 1386</span> </div>
<div class="line"><span class="lineno"> 1387</span>    <span class="comment"># check negative weight when only_non_negative=True</span></div>
<div class="line"><span class="lineno"> 1388</span>    X = np.ones((5, 2))</div>
<div class="line"><span class="lineno"> 1389</span>    sample_weight = np.ones(_num_samples(X))</div>
<div class="line"><span class="lineno"> 1390</span>    sample_weight[-1] = -10</div>
<div class="line"><span class="lineno"> 1391</span>    err_msg = <span class="stringliteral">&quot;Negative values in data passed to `sample_weight`&quot;</span></div>
<div class="line"><span class="lineno"> 1392</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno"> 1393</span>        _check_sample_weight(sample_weight, X, only_non_negative=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1394</span> </div>
<div class="line"><span class="lineno"> 1395</span> </div>
<div class="line"><span class="lineno"> 1396</span><span class="preprocessor">@pytest.mark.parametrize(&quot;toarray&quot;, [np.array, sp.csr_matrix, sp.csc_matrix])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a23ac32f507df7304cac7e0402489ba0f" name="a23ac32f507df7304cac7e0402489ba0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23ac32f507df7304cac7e0402489ba0f">&#9670;&#160;</a></span>test_check_scalar_invalid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_scalar_invalid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>include_boundaries</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that check_scalar returns the right error if a wrong input is
given</pre> <div class="fragment"><div class="line"><span class="lineno"> 1233</span>):</div>
<div class="line"><span class="lineno"> 1234</span>    <span class="stringliteral">&quot;&quot;&quot;Test that check_scalar returns the right error if a wrong input is</span></div>
<div class="line"><span class="lineno"> 1235</span><span class="stringliteral">    given&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1236</span>    <span class="keyword">with</span> pytest.raises(Exception) <span class="keyword">as</span> raised_error:</div>
<div class="line"><span class="lineno"> 1237</span>        check_scalar(</div>
<div class="line"><span class="lineno"> 1238</span>            x,</div>
<div class="line"><span class="lineno"> 1239</span>            target_name,</div>
<div class="line"><span class="lineno"> 1240</span>            target_type=target_type,</div>
<div class="line"><span class="lineno"> 1241</span>            min_val=min_val,</div>
<div class="line"><span class="lineno"> 1242</span>            max_val=max_val,</div>
<div class="line"><span class="lineno"> 1243</span>            include_boundaries=include_boundaries,</div>
<div class="line"><span class="lineno"> 1244</span>        )</div>
<div class="line"><span class="lineno"> 1245</span>    <span class="keyword">assert</span> str(raised_error.value) == str(err_msg)</div>
<div class="line"><span class="lineno"> 1246</span>    <span class="keyword">assert</span> type(raised_error.value) == type(err_msg)</div>
<div class="line"><span class="lineno"> 1247</span> </div>
<div class="line"><span class="lineno"> 1248</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad29412ed85a7863cfedba6d048805632" name="ad29412ed85a7863cfedba6d048805632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad29412ed85a7863cfedba6d048805632">&#9670;&#160;</a></span>test_check_scalar_valid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_scalar_valid </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Test that check_scalar returns no error/warning if valid inputs are
provided</pre> <div class="fragment"><div class="line"><span class="lineno"> 1102</span><span class="keyword">def </span>test_check_scalar_valid(x):</div>
<div class="line"><span class="lineno"> 1103</span>    <span class="stringliteral">&quot;&quot;&quot;Test that check_scalar returns no error/warning if valid inputs are</span></div>
<div class="line"><span class="lineno"> 1104</span><span class="stringliteral">    provided&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1105</span>    <span class="keyword">with</span> warnings.catch_warnings():</div>
<div class="line"><span class="lineno"> 1106</span>        warnings.simplefilter(<span class="stringliteral">&quot;error&quot;</span>)</div>
<div class="line"><span class="lineno"> 1107</span>        scalar = check_scalar(</div>
<div class="line"><span class="lineno"> 1108</span>            x,</div>
<div class="line"><span class="lineno"> 1109</span>            <span class="stringliteral">&quot;test_name&quot;</span>,</div>
<div class="line"><span class="lineno"> 1110</span>            target_type=numbers.Real,</div>
<div class="line"><span class="lineno"> 1111</span>            min_val=2,</div>
<div class="line"><span class="lineno"> 1112</span>            max_val=5,</div>
<div class="line"><span class="lineno"> 1113</span>            include_boundaries=<span class="stringliteral">&quot;both&quot;</span>,</div>
<div class="line"><span class="lineno"> 1114</span>        )</div>
<div class="line"><span class="lineno"> 1115</span>    <span class="keyword">assert</span> scalar == x</div>
<div class="line"><span class="lineno"> 1116</span> </div>
<div class="line"><span class="lineno"> 1117</span> </div>
<div class="line"><span class="lineno"> 1118</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1119</span>    <span class="stringliteral">&quot;x, target_name, target_type, min_val, max_val, include_boundaries, err_msg&quot;</span>,</div>
<div class="line"><span class="lineno"> 1120</span>    [</div>
<div class="line"><span class="lineno"> 1121</span>        (</div>
<div class="line"><span class="lineno"> 1122</span>            1,</div>
<div class="line"><span class="lineno"> 1123</span>            <span class="stringliteral">&quot;test_name1&quot;</span>,</div>
<div class="line"><span class="lineno"> 1124</span>            float,</div>
<div class="line"><span class="lineno"> 1125</span>            2,</div>
<div class="line"><span class="lineno"> 1126</span>            4,</div>
<div class="line"><span class="lineno"> 1127</span>            <span class="stringliteral">&quot;neither&quot;</span>,</div>
<div class="line"><span class="lineno"> 1128</span>            TypeError(<span class="stringliteral">&quot;test_name1 must be an instance of float, not int.&quot;</span>),</div>
<div class="line"><span class="lineno"> 1129</span>        ),</div>
<div class="line"><span class="lineno"> 1130</span>        (</div>
<div class="line"><span class="lineno"> 1131</span>            <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1132</span>            <span class="stringliteral">&quot;test_name1&quot;</span>,</div>
<div class="line"><span class="lineno"> 1133</span>            numbers.Real,</div>
<div class="line"><span class="lineno"> 1134</span>            2,</div>
<div class="line"><span class="lineno"> 1135</span>            4,</div>
<div class="line"><span class="lineno"> 1136</span>            <span class="stringliteral">&quot;neither&quot;</span>,</div>
<div class="line"><span class="lineno"> 1137</span>            TypeError(<span class="stringliteral">&quot;test_name1 must be an instance of float, not NoneType.&quot;</span>),</div>
<div class="line"><span class="lineno"> 1138</span>        ),</div>
<div class="line"><span class="lineno"> 1139</span>        (</div>
<div class="line"><span class="lineno"> 1140</span>            <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1141</span>            <span class="stringliteral">&quot;test_name1&quot;</span>,</div>
<div class="line"><span class="lineno"> 1142</span>            numbers.Integral,</div>
<div class="line"><span class="lineno"> 1143</span>            2,</div>
<div class="line"><span class="lineno"> 1144</span>            4,</div>
<div class="line"><span class="lineno"> 1145</span>            <span class="stringliteral">&quot;neither&quot;</span>,</div>
<div class="line"><span class="lineno"> 1146</span>            TypeError(<span class="stringliteral">&quot;test_name1 must be an instance of int, not NoneType.&quot;</span>),</div>
<div class="line"><span class="lineno"> 1147</span>        ),</div>
<div class="line"><span class="lineno"> 1148</span>        (</div>
<div class="line"><span class="lineno"> 1149</span>            1,</div>
<div class="line"><span class="lineno"> 1150</span>            <span class="stringliteral">&quot;test_name1&quot;</span>,</div>
<div class="line"><span class="lineno"> 1151</span>            (float, bool),</div>
<div class="line"><span class="lineno"> 1152</span>            2,</div>
<div class="line"><span class="lineno"> 1153</span>            4,</div>
<div class="line"><span class="lineno"> 1154</span>            <span class="stringliteral">&quot;neither&quot;</span>,</div>
<div class="line"><span class="lineno"> 1155</span>            TypeError(<span class="stringliteral">&quot;test_name1 must be an instance of {float, bool}, not int.&quot;</span>),</div>
<div class="line"><span class="lineno"> 1156</span>        ),</div>
<div class="line"><span class="lineno"> 1157</span>        (</div>
<div class="line"><span class="lineno"> 1158</span>            1,</div>
<div class="line"><span class="lineno"> 1159</span>            <span class="stringliteral">&quot;test_name2&quot;</span>,</div>
<div class="line"><span class="lineno"> 1160</span>            int,</div>
<div class="line"><span class="lineno"> 1161</span>            2,</div>
<div class="line"><span class="lineno"> 1162</span>            4,</div>
<div class="line"><span class="lineno"> 1163</span>            <span class="stringliteral">&quot;neither&quot;</span>,</div>
<div class="line"><span class="lineno"> 1164</span>            ValueError(<span class="stringliteral">&quot;test_name2 == 1, must be &gt; 2.&quot;</span>),</div>
<div class="line"><span class="lineno"> 1165</span>        ),</div>
<div class="line"><span class="lineno"> 1166</span>        (</div>
<div class="line"><span class="lineno"> 1167</span>            5,</div>
<div class="line"><span class="lineno"> 1168</span>            <span class="stringliteral">&quot;test_name3&quot;</span>,</div>
<div class="line"><span class="lineno"> 1169</span>            int,</div>
<div class="line"><span class="lineno"> 1170</span>            2,</div>
<div class="line"><span class="lineno"> 1171</span>            4,</div>
<div class="line"><span class="lineno"> 1172</span>            <span class="stringliteral">&quot;neither&quot;</span>,</div>
<div class="line"><span class="lineno"> 1173</span>            ValueError(<span class="stringliteral">&quot;test_name3 == 5, must be &lt; 4.&quot;</span>),</div>
<div class="line"><span class="lineno"> 1174</span>        ),</div>
<div class="line"><span class="lineno"> 1175</span>        (</div>
<div class="line"><span class="lineno"> 1176</span>            2,</div>
<div class="line"><span class="lineno"> 1177</span>            <span class="stringliteral">&quot;test_name4&quot;</span>,</div>
<div class="line"><span class="lineno"> 1178</span>            int,</div>
<div class="line"><span class="lineno"> 1179</span>            2,</div>
<div class="line"><span class="lineno"> 1180</span>            4,</div>
<div class="line"><span class="lineno"> 1181</span>            <span class="stringliteral">&quot;right&quot;</span>,</div>
<div class="line"><span class="lineno"> 1182</span>            ValueError(<span class="stringliteral">&quot;test_name4 == 2, must be &gt; 2.&quot;</span>),</div>
<div class="line"><span class="lineno"> 1183</span>        ),</div>
<div class="line"><span class="lineno"> 1184</span>        (</div>
<div class="line"><span class="lineno"> 1185</span>            4,</div>
<div class="line"><span class="lineno"> 1186</span>            <span class="stringliteral">&quot;test_name5&quot;</span>,</div>
<div class="line"><span class="lineno"> 1187</span>            int,</div>
<div class="line"><span class="lineno"> 1188</span>            2,</div>
<div class="line"><span class="lineno"> 1189</span>            4,</div>
<div class="line"><span class="lineno"> 1190</span>            <span class="stringliteral">&quot;left&quot;</span>,</div>
<div class="line"><span class="lineno"> 1191</span>            ValueError(<span class="stringliteral">&quot;test_name5 == 4, must be &lt; 4.&quot;</span>),</div>
<div class="line"><span class="lineno"> 1192</span>        ),</div>
<div class="line"><span class="lineno"> 1193</span>        (</div>
<div class="line"><span class="lineno"> 1194</span>            4,</div>
<div class="line"><span class="lineno"> 1195</span>            <span class="stringliteral">&quot;test_name6&quot;</span>,</div>
<div class="line"><span class="lineno"> 1196</span>            int,</div>
<div class="line"><span class="lineno"> 1197</span>            2,</div>
<div class="line"><span class="lineno"> 1198</span>            4,</div>
<div class="line"><span class="lineno"> 1199</span>            <span class="stringliteral">&quot;bad parameter value&quot;</span>,</div>
<div class="line"><span class="lineno"> 1200</span>            ValueError(</div>
<div class="line"><span class="lineno"> 1201</span>                <span class="stringliteral">&quot;Unknown value for `include_boundaries`: &#39;bad parameter value&#39;. &quot;</span></div>
<div class="line"><span class="lineno"> 1202</span>                <span class="stringliteral">&quot;Possible values are: (&#39;left&#39;, &#39;right&#39;, &#39;both&#39;, &#39;neither&#39;).&quot;</span></div>
<div class="line"><span class="lineno"> 1203</span>            ),</div>
<div class="line"><span class="lineno"> 1204</span>        ),</div>
<div class="line"><span class="lineno"> 1205</span>        (</div>
<div class="line"><span class="lineno"> 1206</span>            4,</div>
<div class="line"><span class="lineno"> 1207</span>            <span class="stringliteral">&quot;test_name7&quot;</span>,</div>
<div class="line"><span class="lineno"> 1208</span>            int,</div>
<div class="line"><span class="lineno"> 1209</span>            <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1210</span>            4,</div>
<div class="line"><span class="lineno"> 1211</span>            <span class="stringliteral">&quot;left&quot;</span>,</div>
<div class="line"><span class="lineno"> 1212</span>            ValueError(</div>
<div class="line"><span class="lineno"> 1213</span>                <span class="stringliteral">&quot;`include_boundaries`=&#39;left&#39; without specifying explicitly `min_val` &quot;</span></div>
<div class="line"><span class="lineno"> 1214</span>                <span class="stringliteral">&quot;is inconsistent.&quot;</span></div>
<div class="line"><span class="lineno"> 1215</span>            ),</div>
<div class="line"><span class="lineno"> 1216</span>        ),</div>
<div class="line"><span class="lineno"> 1217</span>        (</div>
<div class="line"><span class="lineno"> 1218</span>            4,</div>
<div class="line"><span class="lineno"> 1219</span>            <span class="stringliteral">&quot;test_name8&quot;</span>,</div>
<div class="line"><span class="lineno"> 1220</span>            int,</div>
<div class="line"><span class="lineno"> 1221</span>            2,</div>
<div class="line"><span class="lineno"> 1222</span>            <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno"> 1223</span>            <span class="stringliteral">&quot;right&quot;</span>,</div>
<div class="line"><span class="lineno"> 1224</span>            ValueError(</div>
<div class="line"><span class="lineno"> 1225</span>                <span class="stringliteral">&quot;`include_boundaries`=&#39;right&#39; without specifying explicitly `max_val` &quot;</span></div>
<div class="line"><span class="lineno"> 1226</span>                <span class="stringliteral">&quot;is inconsistent.&quot;</span></div>
<div class="line"><span class="lineno"> 1227</span>            ),</div>
<div class="line"><span class="lineno"> 1228</span>        ),</div>
<div class="line"><span class="lineno"> 1229</span>    ],</div>
<div class="line"><span class="lineno"> 1230</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3295a79a7ef7fe1d4abc31efd922d6f" name="ae3295a79a7ef7fe1d4abc31efd922d6f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3295a79a7ef7fe1d4abc31efd922d6f">&#9670;&#160;</a></span>test_check_sparse_pandas_sp_format()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_sparse_pandas_sp_format </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sp_format</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1508</span><span class="keyword">def </span>test_check_sparse_pandas_sp_format(sp_format):</div>
<div class="line"><span class="lineno"> 1509</span>    <span class="comment"># check_array converts pandas dataframe with only sparse arrays into</span></div>
<div class="line"><span class="lineno"> 1510</span>    <span class="comment"># sparse matrix</span></div>
<div class="line"><span class="lineno"> 1511</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno"> 1512</span>    sp_mat = _sparse_random_matrix(10, 3)</div>
<div class="line"><span class="lineno"> 1513</span> </div>
<div class="line"><span class="lineno"> 1514</span>    sdf = pd.DataFrame.sparse.from_spmatrix(sp_mat)</div>
<div class="line"><span class="lineno"> 1515</span>    result = check_array(sdf, accept_sparse=sp_format)</div>
<div class="line"><span class="lineno"> 1516</span> </div>
<div class="line"><span class="lineno"> 1517</span>    <span class="keywordflow">if</span> sp_format <span class="keywordflow">is</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno"> 1518</span>        <span class="comment"># by default pandas converts to coo when accept_sparse is True</span></div>
<div class="line"><span class="lineno"> 1519</span>        sp_format = <span class="stringliteral">&quot;coo&quot;</span></div>
<div class="line"><span class="lineno"> 1520</span> </div>
<div class="line"><span class="lineno"> 1521</span>    <span class="keyword">assert</span> sp.issparse(result)</div>
<div class="line"><span class="lineno"> 1522</span>    <span class="keyword">assert</span> result.format == sp_format</div>
<div class="line"><span class="lineno"> 1523</span>    assert_allclose_dense_sparse(sp_mat, result)</div>
<div class="line"><span class="lineno"> 1524</span> </div>
<div class="line"><span class="lineno"> 1525</span> </div>
<div class="line"><span class="lineno"> 1526</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1527</span>    <span class="stringliteral">&quot;ntype1, ntype2&quot;</span>,</div>
<div class="line"><span class="lineno"> 1528</span>    [</div>
<div class="line"><span class="lineno"> 1529</span>        (<span class="stringliteral">&quot;longdouble&quot;</span>, <span class="stringliteral">&quot;float16&quot;</span>),</div>
<div class="line"><span class="lineno"> 1530</span>        (<span class="stringliteral">&quot;float16&quot;</span>, <span class="stringliteral">&quot;float32&quot;</span>),</div>
<div class="line"><span class="lineno"> 1531</span>        (<span class="stringliteral">&quot;float32&quot;</span>, <span class="stringliteral">&quot;double&quot;</span>),</div>
<div class="line"><span class="lineno"> 1532</span>        (<span class="stringliteral">&quot;int16&quot;</span>, <span class="stringliteral">&quot;int32&quot;</span>),</div>
<div class="line"><span class="lineno"> 1533</span>        (<span class="stringliteral">&quot;int32&quot;</span>, <span class="stringliteral">&quot;long&quot;</span>),</div>
<div class="line"><span class="lineno"> 1534</span>        (<span class="stringliteral">&quot;byte&quot;</span>, <span class="stringliteral">&quot;uint16&quot;</span>),</div>
<div class="line"><span class="lineno"> 1535</span>        (<span class="stringliteral">&quot;ushort&quot;</span>, <span class="stringliteral">&quot;uint32&quot;</span>),</div>
<div class="line"><span class="lineno"> 1536</span>        (<span class="stringliteral">&quot;uint32&quot;</span>, <span class="stringliteral">&quot;uint64&quot;</span>),</div>
<div class="line"><span class="lineno"> 1537</span>        (<span class="stringliteral">&quot;uint8&quot;</span>, <span class="stringliteral">&quot;int8&quot;</span>),</div>
<div class="line"><span class="lineno"> 1538</span>    ],</div>
<div class="line"><span class="lineno"> 1539</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab4f60637c8e8ab9735e2eeb14019a13c" name="ab4f60637c8e8ab9735e2eeb14019a13c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4f60637c8e8ab9735e2eeb14019a13c">&#9670;&#160;</a></span>test_check_symmetric()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_symmetric </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  749</span><span class="keyword">def </span>test_check_symmetric():</div>
<div class="line"><span class="lineno">  750</span>    arr_sym = np.array([[0, 1], [1, 2]])</div>
<div class="line"><span class="lineno">  751</span>    arr_bad = np.ones(2)</div>
<div class="line"><span class="lineno">  752</span>    arr_asym = np.array([[0, 2], [0, 2]])</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span>    test_arrays = {</div>
<div class="line"><span class="lineno">  755</span>        <span class="stringliteral">&quot;dense&quot;</span>: arr_asym,</div>
<div class="line"><span class="lineno">  756</span>        <span class="stringliteral">&quot;dok&quot;</span>: sp.dok_matrix(arr_asym),</div>
<div class="line"><span class="lineno">  757</span>        <span class="stringliteral">&quot;csr&quot;</span>: sp.csr_matrix(arr_asym),</div>
<div class="line"><span class="lineno">  758</span>        <span class="stringliteral">&quot;csc&quot;</span>: sp.csc_matrix(arr_asym),</div>
<div class="line"><span class="lineno">  759</span>        <span class="stringliteral">&quot;coo&quot;</span>: sp.coo_matrix(arr_asym),</div>
<div class="line"><span class="lineno">  760</span>        <span class="stringliteral">&quot;lil&quot;</span>: sp.lil_matrix(arr_asym),</div>
<div class="line"><span class="lineno">  761</span>        <span class="stringliteral">&quot;bsr&quot;</span>: sp.bsr_matrix(arr_asym),</div>
<div class="line"><span class="lineno">  762</span>    }</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>    <span class="comment"># check error for bad inputs</span></div>
<div class="line"><span class="lineno">  765</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  766</span>        check_symmetric(arr_bad)</div>
<div class="line"><span class="lineno">  767</span> </div>
<div class="line"><span class="lineno">  768</span>    <span class="comment"># check that asymmetric arrays are properly symmetrized</span></div>
<div class="line"><span class="lineno">  769</span>    <span class="keywordflow">for</span> arr_format, arr <span class="keywordflow">in</span> test_arrays.items():</div>
<div class="line"><span class="lineno">  770</span>        <span class="comment"># Check for warnings and errors</span></div>
<div class="line"><span class="lineno">  771</span>        <span class="keyword">with</span> pytest.warns(UserWarning):</div>
<div class="line"><span class="lineno">  772</span>            check_symmetric(arr)</div>
<div class="line"><span class="lineno">  773</span>        <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  774</span>            check_symmetric(arr, raise_exception=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  775</span> </div>
<div class="line"><span class="lineno">  776</span>        output = check_symmetric(arr, raise_warning=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  777</span>        <span class="keywordflow">if</span> sp.issparse(output):</div>
<div class="line"><span class="lineno">  778</span>            <span class="keyword">assert</span> output.format == arr_format</div>
<div class="line"><span class="lineno">  779</span>            assert_array_equal(output.toarray(), arr_sym)</div>
<div class="line"><span class="lineno">  780</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  781</span>            assert_array_equal(output, arr_sym)</div>
<div class="line"><span class="lineno">  782</span> </div>
<div class="line"><span class="lineno">  783</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a02910c1246dac58f327dc075d163dfec" name="a02910c1246dac58f327dc075d163dfec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02910c1246dac58f327dc075d163dfec">&#9670;&#160;</a></span>test_check_X_y_informative_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_check_X_y_informative_error </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1069</span><span class="keyword">def </span>test_check_X_y_informative_error():</div>
<div class="line"><span class="lineno"> 1070</span>    X = np.ones((2, 2))</div>
<div class="line"><span class="lineno"> 1071</span>    y = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1072</span>    msg = <span class="stringliteral">&quot;estimator requires y to be passed, but the target y is None&quot;</span></div>
<div class="line"><span class="lineno"> 1073</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1074</span>        check_X_y(X, y)</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>    msg = <span class="stringliteral">&quot;RandomForestRegressor requires y to be passed, but the target y is None&quot;</span></div>
<div class="line"><span class="lineno"> 1077</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=msg):</div>
<div class="line"><span class="lineno"> 1078</span>        check_X_y(X, y, estimator=RandomForestRegressor())</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a656d090cd01b8f7d8bb1fb5585befd7d" name="a656d090cd01b8f7d8bb1fb5585befd7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a656d090cd01b8f7d8bb1fb5585befd7d">&#9670;&#160;</a></span>test_deprecate_positional_args_warns_for_class()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_deprecate_positional_args_warns_for_class </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1458</span><span class="keyword">def </span>test_deprecate_positional_args_warns_for_class():</div>
<div class="line"><span class="lineno"> 1459</span>    <span class="keyword">class </span>A1:</div>
<div class="line"><span class="lineno"> 1460</span>        <span class="preprocessor">@_deprecate_positional_args</span></div>
<div class="line"><span class="lineno"> 1461</span>        <span class="keyword">def </span>__init__(self, a, b, *, c=1, d=1):</div>
<div class="line"><span class="lineno"> 1462</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1463</span> </div>
<div class="line"><span class="lineno"> 1464</span>    <span class="keyword">with</span> pytest.warns(FutureWarning, match=<span class="stringliteral">r&quot;Pass c=3 as keyword args&quot;</span>):</div>
<div class="line"><span class="lineno"> 1465</span>        A1(1, 2, 3)</div>
<div class="line"><span class="lineno"> 1466</span> </div>
<div class="line"><span class="lineno"> 1467</span>    <span class="keyword">with</span> pytest.warns(FutureWarning, match=<span class="stringliteral">r&quot;Pass c=3, d=4 as keyword args&quot;</span>):</div>
<div class="line"><span class="lineno"> 1468</span>        A1(1, 2, 3, 4)</div>
<div class="line"><span class="lineno"> 1469</span> </div>
<div class="line"><span class="lineno"> 1470</span>    <span class="keyword">class </span>A2:</div>
<div class="line"><span class="lineno"> 1471</span>        <span class="preprocessor">@_deprecate_positional_args</span></div>
<div class="line"><span class="lineno"> 1472</span>        <span class="keyword">def </span>__init__(self, a=1, b=1, *, c=1, d=1):</div>
<div class="line"><span class="lineno"> 1473</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1474</span> </div>
<div class="line"><span class="lineno"> 1475</span>    <span class="keyword">with</span> pytest.warns(FutureWarning, match=<span class="stringliteral">r&quot;Pass c=3 as keyword args&quot;</span>):</div>
<div class="line"><span class="lineno"> 1476</span>        A2(1, 2, 3)</div>
<div class="line"><span class="lineno"> 1477</span> </div>
<div class="line"><span class="lineno"> 1478</span>    <span class="keyword">with</span> pytest.warns(FutureWarning, match=<span class="stringliteral">r&quot;Pass c=3, d=4 as keyword args&quot;</span>):</div>
<div class="line"><span class="lineno"> 1479</span>        A2(1, 2, 3, 4)</div>
<div class="line"><span class="lineno"> 1480</span> </div>
<div class="line"><span class="lineno"> 1481</span> </div>
<div class="line"><span class="lineno"> 1482</span><span class="preprocessor">@pytest.mark.parametrize(&quot;indices&quot;, [None, [1, 3]])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a33d57973af0a80ff6d6b292b771b180b" name="a33d57973af0a80ff6d6b292b771b180b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33d57973af0a80ff6d6b292b771b180b">&#9670;&#160;</a></span>test_deprecate_positional_args_warns_for_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_deprecate_positional_args_warns_for_function </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1420</span><span class="keyword">def </span>test_deprecate_positional_args_warns_for_function():</div>
<div class="line"><span class="lineno"> 1421</span>    <span class="preprocessor">@_deprecate_positional_args</span></div>
<div class="line"><span class="lineno"> 1422</span>    <span class="keyword">def </span>f1(a, b, *, c=1, d=1):</div>
<div class="line"><span class="lineno"> 1423</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1424</span> </div>
<div class="line"><span class="lineno"> 1425</span>    <span class="keyword">with</span> pytest.warns(FutureWarning, match=<span class="stringliteral">r&quot;Pass c=3 as keyword args&quot;</span>):</div>
<div class="line"><span class="lineno"> 1426</span>        f1(1, 2, 3)</div>
<div class="line"><span class="lineno"> 1427</span> </div>
<div class="line"><span class="lineno"> 1428</span>    <span class="keyword">with</span> pytest.warns(FutureWarning, match=<span class="stringliteral">r&quot;Pass c=3, d=4 as keyword args&quot;</span>):</div>
<div class="line"><span class="lineno"> 1429</span>        f1(1, 2, 3, 4)</div>
<div class="line"><span class="lineno"> 1430</span> </div>
<div class="line"><span class="lineno"> 1431</span>    <span class="preprocessor">@_deprecate_positional_args</span></div>
<div class="line"><span class="lineno"> 1432</span>    <span class="keyword">def </span>f2(a=1, *, b=1, c=1, d=1):</div>
<div class="line"><span class="lineno"> 1433</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1434</span> </div>
<div class="line"><span class="lineno"> 1435</span>    <span class="keyword">with</span> pytest.warns(FutureWarning, match=<span class="stringliteral">r&quot;Pass b=2 as keyword args&quot;</span>):</div>
<div class="line"><span class="lineno"> 1436</span>        f2(1, 2)</div>
<div class="line"><span class="lineno"> 1437</span> </div>
<div class="line"><span class="lineno"> 1438</span>    <span class="comment"># The * is place before a keyword only argument without a default value</span></div>
<div class="line"><span class="lineno"> 1439</span>    <span class="preprocessor">@_deprecate_positional_args</span></div>
<div class="line"><span class="lineno"> 1440</span>    <span class="keyword">def </span>f3(a, *, b, c=1, d=1):</div>
<div class="line"><span class="lineno"> 1441</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1442</span> </div>
<div class="line"><span class="lineno"> 1443</span>    <span class="keyword">with</span> pytest.warns(FutureWarning, match=<span class="stringliteral">r&quot;Pass b=2 as keyword args&quot;</span>):</div>
<div class="line"><span class="lineno"> 1444</span>        f3(1, 2)</div>
<div class="line"><span class="lineno"> 1445</span> </div>
<div class="line"><span class="lineno"> 1446</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a092c0fffd3bc30966ca8f75e23899cc0" name="a092c0fffd3bc30966ca8f75e23899cc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a092c0fffd3bc30966ca8f75e23899cc0">&#9670;&#160;</a></span>test_deprecate_positional_args_warns_for_function_version()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_deprecate_positional_args_warns_for_function_version </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1447</span><span class="keyword">def </span>test_deprecate_positional_args_warns_for_function_version():</div>
<div class="line"><span class="lineno"> 1448</span>    <span class="preprocessor">@_deprecate_positional_args(version=&quot;1.1&quot;)</span></div>
<div class="line"><span class="lineno"> 1449</span>    <span class="keyword">def </span>f1(a, *, b):</div>
<div class="line"><span class="lineno"> 1450</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1451</span> </div>
<div class="line"><span class="lineno"> 1452</span>    <span class="keyword">with</span> pytest.warns(</div>
<div class="line"><span class="lineno"> 1453</span>        FutureWarning, match=<span class="stringliteral">r&quot;From version 1.1 passing these as positional&quot;</span></div>
<div class="line"><span class="lineno"> 1454</span>    ):</div>
<div class="line"><span class="lineno"> 1455</span>        f1(1, 2)</div>
<div class="line"><span class="lineno"> 1456</span> </div>
<div class="line"><span class="lineno"> 1457</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a681a15487b63049e2bbba39ceea2e008" name="a681a15487b63049e2bbba39ceea2e008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a681a15487b63049e2bbba39ceea2e008">&#9670;&#160;</a></span>test_get_feature_names_invalid_dtypes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_get_feature_names_invalid_dtypes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>names</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtypes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get feature names errors when the feature names have mixed dtypes</pre> <div class="fragment"><div class="line"><span class="lineno"> 1693</span><span class="keyword">def </span>test_get_feature_names_invalid_dtypes(names, dtypes):</div>
<div class="line"><span class="lineno"> 1694</span>    <span class="stringliteral">&quot;&quot;&quot;Get feature names errors when the feature names have mixed dtypes&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1695</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno"> 1696</span>    X = pd.DataFrame([[1, 2], [4, 5], [5, 6]], columns=names)</div>
<div class="line"><span class="lineno"> 1697</span> </div>
<div class="line"><span class="lineno"> 1698</span>    msg = re.escape(</div>
<div class="line"><span class="lineno"> 1699</span>        <span class="stringliteral">&quot;Feature names are only supported if all input features have string names, &quot;</span></div>
<div class="line"><span class="lineno"> 1700</span>        f<span class="stringliteral">&quot;but your input has {dtypes} as feature name / column name types. &quot;</span></div>
<div class="line"><span class="lineno"> 1701</span>        <span class="stringliteral">&quot;If you want feature names to be stored and validated, you must convert &quot;</span></div>
<div class="line"><span class="lineno"> 1702</span>        <span class="stringliteral">&quot;them all to strings, by using X.columns = X.columns.astype(str) for &quot;</span></div>
<div class="line"><span class="lineno"> 1703</span>        <span class="stringliteral">&quot;example. Otherwise you can remove feature / column names from your input &quot;</span></div>
<div class="line"><span class="lineno"> 1704</span>        <span class="stringliteral">&quot;data, or convert them all to a non-string data type.&quot;</span></div>
<div class="line"><span class="lineno"> 1705</span>    )</div>
<div class="line"><span class="lineno"> 1706</span>    <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno"> 1707</span>        names = _get_feature_names(X)</div>
<div class="line"><span class="lineno"> 1708</span> </div>
<div class="line"><span class="lineno"> 1709</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a00cf3b63711984e19d5306f26c44f53a" name="a00cf3b63711984e19d5306f26c44f53a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00cf3b63711984e19d5306f26c44f53a">&#9670;&#160;</a></span>test_get_feature_names_numpy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_get_feature_names_numpy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get feature names return None for numpy arrays.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1678</span><span class="keyword">def </span>test_get_feature_names_numpy():</div>
<div class="line"><span class="lineno"> 1679</span>    <span class="stringliteral">&quot;&quot;&quot;Get feature names return None for numpy arrays.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1680</span>    X = np.array([[1, 2, 3], [4, 5, 6]])</div>
<div class="line"><span class="lineno"> 1681</span>    names = _get_feature_names(X)</div>
<div class="line"><span class="lineno"> 1682</span>    <span class="keyword">assert</span> names <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1683</span> </div>
<div class="line"><span class="lineno"> 1684</span> </div>
<div class="line"><span class="lineno"> 1685</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1686</span>    <span class="stringliteral">&quot;names, dtypes&quot;</span>,</div>
<div class="line"><span class="lineno"> 1687</span>    [</div>
<div class="line"><span class="lineno"> 1688</span>        ([<span class="stringliteral">&quot;a&quot;</span>, 1], <span class="stringliteral">&quot;[&#39;int&#39;, &#39;str&#39;]&quot;</span>),</div>
<div class="line"><span class="lineno"> 1689</span>        ([<span class="stringliteral">&quot;pizza&quot;</span>, [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>]], <span class="stringliteral">&quot;[&#39;list&#39;, &#39;str&#39;]&quot;</span>),</div>
<div class="line"><span class="lineno"> 1690</span>    ],</div>
<div class="line"><span class="lineno"> 1691</span>    ids=[<span class="stringliteral">&quot;int-str&quot;</span>, <span class="stringliteral">&quot;list-str&quot;</span>],</div>
<div class="line"><span class="lineno"> 1692</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a10591a05e999ef6f1cef56abc3f82507" name="a10591a05e999ef6f1cef56abc3f82507"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10591a05e999ef6f1cef56abc3f82507">&#9670;&#160;</a></span>test_get_feature_names_pandas()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_get_feature_names_pandas </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get feature names with pandas dataframes.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1668</span><span class="keyword">def </span>test_get_feature_names_pandas():</div>
<div class="line"><span class="lineno"> 1669</span>    <span class="stringliteral">&quot;&quot;&quot;Get feature names with pandas dataframes.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1670</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno"> 1671</span>    columns = [f<span class="stringliteral">&quot;col_{i}&quot;</span> <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3)]</div>
<div class="line"><span class="lineno"> 1672</span>    X = pd.DataFrame([[1, 2, 3], [4, 5, 6]], columns=columns)</div>
<div class="line"><span class="lineno"> 1673</span>    feature_names = _get_feature_names(X)</div>
<div class="line"><span class="lineno"> 1674</span> </div>
<div class="line"><span class="lineno"> 1675</span>    assert_array_equal(feature_names, columns)</div>
<div class="line"><span class="lineno"> 1676</span> </div>
<div class="line"><span class="lineno"> 1677</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e30e1ca54129dfbd8e2ad13778c8288" name="a9e30e1ca54129dfbd8e2ad13778c8288"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e30e1ca54129dfbd8e2ad13778c8288">&#9670;&#160;</a></span>test_get_feature_names_pandas_with_ints_no_warning()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_get_feature_names_pandas_with_ints_no_warning </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>names</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get feature names with pandas dataframes without warning.

Column names with consistent dtypes will not warn, such as int or MultiIndex.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1654</span><span class="keyword">def </span>test_get_feature_names_pandas_with_ints_no_warning(names):</div>
<div class="line"><span class="lineno"> 1655</span>    <span class="stringliteral">&quot;&quot;&quot;Get feature names with pandas dataframes without warning.</span></div>
<div class="line"><span class="lineno"> 1656</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1657</span><span class="stringliteral">    Column names with consistent dtypes will not warn, such as int or MultiIndex.</span></div>
<div class="line"><span class="lineno"> 1658</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1659</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno"> 1660</span>    X = pd.DataFrame([[1, 2], [4, 5], [5, 6]], columns=names)</div>
<div class="line"><span class="lineno"> 1661</span> </div>
<div class="line"><span class="lineno"> 1662</span>    <span class="keyword">with</span> warnings.catch_warnings():</div>
<div class="line"><span class="lineno"> 1663</span>        warnings.simplefilter(<span class="stringliteral">&quot;error&quot;</span>, FutureWarning)</div>
<div class="line"><span class="lineno"> 1664</span>        names = _get_feature_names(X)</div>
<div class="line"><span class="lineno"> 1665</span>    <span class="keyword">assert</span> names <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1666</span> </div>
<div class="line"><span class="lineno"> 1667</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1e88ceacbde1f206f8c6a3a2d5eda1a7" name="a1e88ceacbde1f206f8c6a3a2d5eda1a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e88ceacbde1f206f8c6a3a2d5eda1a7">&#9670;&#160;</a></span>test_has_fit_parameter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_has_fit_parameter </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  733</span><span class="keyword">def </span>test_has_fit_parameter():</div>
<div class="line"><span class="lineno">  734</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> has_fit_parameter(KNeighborsClassifier, <span class="stringliteral">&quot;sample_weight&quot;</span>)</div>
<div class="line"><span class="lineno">  735</span>    <span class="keyword">assert</span> has_fit_parameter(RandomForestRegressor, <span class="stringliteral">&quot;sample_weight&quot;</span>)</div>
<div class="line"><span class="lineno">  736</span>    <span class="keyword">assert</span> has_fit_parameter(SVR, <span class="stringliteral">&quot;sample_weight&quot;</span>)</div>
<div class="line"><span class="lineno">  737</span>    <span class="keyword">assert</span> has_fit_parameter(SVR(), <span class="stringliteral">&quot;sample_weight&quot;</span>)</div>
<div class="line"><span class="lineno">  738</span> </div>
<div class="line"><span class="lineno">  739</span>    <span class="keyword">class </span>TestClassWithDeprecatedFitMethod:</div>
<div class="line"><span class="lineno">  740</span>        <span class="preprocessor">@deprecated(&quot;Deprecated for the purpose of testing has_fit_parameter&quot;)</span></div>
<div class="line"><span class="lineno">  741</span>        <span class="keyword">def </span>fit(self, X, y, sample_weight=None):</div>
<div class="line"><span class="lineno">  742</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>    <span class="keyword">assert</span> has_fit_parameter(</div>
<div class="line"><span class="lineno">  745</span>        TestClassWithDeprecatedFitMethod, <span class="stringliteral">&quot;sample_weight&quot;</span></div>
<div class="line"><span class="lineno">  746</span>    ), <span class="stringliteral">&quot;has_fit_parameter fails for class with deprecated fit method.&quot;</span></div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae3f7b4d4294fb4c95eb5cfcea479e563" name="ae3f7b4d4294fb4c95eb5cfcea479e563"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3f7b4d4294fb4c95eb5cfcea479e563">&#9670;&#160;</a></span>test_memmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_memmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  122</span><span class="keyword">def </span>test_memmap():</div>
<div class="line"><span class="lineno">  123</span>    <span class="comment"># Confirm that input validation code doesn&#39;t copy memory mapped arrays</span></div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>    asflt = <span class="keyword">lambda</span> x: as_float_array(x, copy=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    <span class="keyword">with</span> NamedTemporaryFile(prefix=<span class="stringliteral">&quot;sklearn-test&quot;</span>) <span class="keyword">as</span> tmp:</div>
<div class="line"><span class="lineno">  128</span>        M = np.memmap(tmp, shape=(10, 10), dtype=np.float32)</div>
<div class="line"><span class="lineno">  129</span>        M[:] = 0</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">for</span> f <span class="keywordflow">in</span> (check_array, np.asarray, asflt):</div>
<div class="line"><span class="lineno">  132</span>            X = <a class="code hl_variable" href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a>(M)</div>
<div class="line"><span class="lineno">  133</span>            X[:] = 1</div>
<div class="line"><span class="lineno">  134</span>            assert_array_equal(X.ravel(), M.ravel())</div>
<div class="line"><span class="lineno">  135</span>            X[:] = 0</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_af01a903df7bdb7a494f5827e45bf3a2a"><div class="ttname"><a href="__lapack__subroutines_8h.html#af01a903df7bdb7a494f5827e45bf3a2a">f</a></div><div class="ttdeci">void int int int int npy_complex64 int int npy_complex64 float float npy_complex64 npy_complex64 * f</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:262</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aad747ae3b2d5cdf8218cc8117c5be7d2" name="aad747ae3b2d5cdf8218cc8117c5be7d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad747ae3b2d5cdf8218cc8117c5be7d2">&#9670;&#160;</a></span>test_np_matrix()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_np_matrix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  114</span><span class="keyword">def </span>test_np_matrix():</div>
<div class="line"><span class="lineno">  115</span>    <span class="comment"># Confirm that input validation code does not return np.matrix</span></div>
<div class="line"><span class="lineno">  116</span>    X = np.arange(12).reshape(3, 4)</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> isinstance(as_float_array(X), np.matrix)</div>
<div class="line"><span class="lineno">  119</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> isinstance(as_float_array(sp.csc_matrix(X)), np.matrix)</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6f099976e46f8d6ff1d4be0d43cc0b7f" name="a6f099976e46f8d6ff1d4be0d43cc0b7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f099976e46f8d6ff1d4be0d43cc0b7f">&#9670;&#160;</a></span>test_num_features()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_num_features </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>constructor_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check _num_features for array-likes.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1602</span><span class="keyword">def </span>test_num_features(constructor_name):</div>
<div class="line"><span class="lineno"> 1603</span>    <span class="stringliteral">&quot;&quot;&quot;Check _num_features for array-likes.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1604</span>    X = [[1, 2, 3], [4, 5, 6]]</div>
<div class="line"><span class="lineno"> 1605</span>    X = _convert_container(X, constructor_name)</div>
<div class="line"><span class="lineno"> 1606</span>    <span class="keyword">assert</span> _num_features(X) == 3</div>
<div class="line"><span class="lineno"> 1607</span> </div>
<div class="line"><span class="lineno"> 1608</span> </div>
<div class="line"><span class="lineno"> 1609</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1610</span>    <span class="stringliteral">&quot;X&quot;</span>,</div>
<div class="line"><span class="lineno"> 1611</span>    [</div>
<div class="line"><span class="lineno"> 1612</span>        [1, 2, 3],</div>
<div class="line"><span class="lineno"> 1613</span>        [<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>, <span class="stringliteral">&quot;c&quot;</span>],</div>
<div class="line"><span class="lineno"> 1614</span>        [<span class="keyword">False</span>, <span class="keyword">True</span>, <span class="keyword">False</span>],</div>
<div class="line"><span class="lineno"> 1615</span>        [1.0, 3.4, 4.0],</div>
<div class="line"><span class="lineno"> 1616</span>        [{<span class="stringliteral">&quot;a&quot;</span>: 1}, {<span class="stringliteral">&quot;b&quot;</span>: 2}, {<span class="stringliteral">&quot;c&quot;</span>: 3}],</div>
<div class="line"><span class="lineno"> 1617</span>    ],</div>
<div class="line"><span class="lineno"> 1618</span>    ids=[<span class="stringliteral">&quot;int&quot;</span>, <span class="stringliteral">&quot;str&quot;</span>, <span class="stringliteral">&quot;bool&quot;</span>, <span class="stringliteral">&quot;float&quot;</span>, <span class="stringliteral">&quot;dict&quot;</span>],</div>
<div class="line"><span class="lineno"> 1619</span>)</div>
<div class="line"><span class="lineno"> 1620</span><span class="preprocessor">@pytest.mark.parametrize(&quot;constructor_name&quot;, [&quot;list&quot;, &quot;tuple&quot;, &quot;array&quot;, &quot;series&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aad8c27ffe5078590e33accb74ad3c76b" name="aad8c27ffe5078590e33accb74ad3c76b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad8c27ffe5078590e33accb74ad3c76b">&#9670;&#160;</a></span>test_num_features_errors_1d_containers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_num_features_errors_1d_containers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>constructor_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1621</span><span class="keyword">def </span>test_num_features_errors_1d_containers(X, constructor_name):</div>
<div class="line"><span class="lineno"> 1622</span>    X = _convert_container(X, constructor_name)</div>
<div class="line"><span class="lineno"> 1623</span>    <span class="keywordflow">if</span> constructor_name == <span class="stringliteral">&quot;array&quot;</span>:</div>
<div class="line"><span class="lineno"> 1624</span>        expected_type_name = <span class="stringliteral">&quot;numpy.ndarray&quot;</span></div>
<div class="line"><span class="lineno"> 1625</span>    <span class="keywordflow">elif</span> constructor_name == <span class="stringliteral">&quot;series&quot;</span>:</div>
<div class="line"><span class="lineno"> 1626</span>        expected_type_name = <span class="stringliteral">&quot;pandas.core.series.Series&quot;</span></div>
<div class="line"><span class="lineno"> 1627</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1628</span>        expected_type_name = constructor_name</div>
<div class="line"><span class="lineno"> 1629</span>    message = (</div>
<div class="line"><span class="lineno"> 1630</span>        f<span class="stringliteral">&quot;Unable to find the number of features from X of type {expected_type_name}&quot;</span></div>
<div class="line"><span class="lineno"> 1631</span>    )</div>
<div class="line"><span class="lineno"> 1632</span>    <span class="keywordflow">if</span> hasattr(X, <span class="stringliteral">&quot;shape&quot;</span>):</div>
<div class="line"><span class="lineno"> 1633</span>        message += <span class="stringliteral">&quot; with shape (3,)&quot;</span></div>
<div class="line"><span class="lineno"> 1634</span>    <span class="keywordflow">elif</span> isinstance(X[0], str):</div>
<div class="line"><span class="lineno"> 1635</span>        message += <span class="stringliteral">&quot; where the samples are of type str&quot;</span></div>
<div class="line"><span class="lineno"> 1636</span>    <span class="keywordflow">elif</span> isinstance(X[0], dict):</div>
<div class="line"><span class="lineno"> 1637</span>        message += <span class="stringliteral">&quot; where the samples are of type dict&quot;</span></div>
<div class="line"><span class="lineno"> 1638</span>    <span class="keyword">with</span> pytest.raises(TypeError, match=re.escape(message)):</div>
<div class="line"><span class="lineno"> 1639</span>        _num_features(X)</div>
<div class="line"><span class="lineno"> 1640</span> </div>
<div class="line"><span class="lineno"> 1641</span> </div>
<div class="line"><span class="lineno"> 1642</span><span class="preprocessor">@pytest.mark.parametrize(&quot;X&quot;, [1, &quot;b&quot;, False, 3.0], ids=[&quot;int&quot;, &quot;str&quot;, &quot;bool&quot;, &quot;float&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a97e42f5f57aea22df35e924f3651cfd2" name="a97e42f5f57aea22df35e924f3651cfd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97e42f5f57aea22df35e924f3651cfd2">&#9670;&#160;</a></span>test_num_features_errors_scalars()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_num_features_errors_scalars </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1643</span><span class="keyword">def </span>test_num_features_errors_scalars(X):</div>
<div class="line"><span class="lineno"> 1644</span>    msg = f<span class="stringliteral">&quot;Unable to find the number of features from X of type {type(X).__qualname__}&quot;</span></div>
<div class="line"><span class="lineno"> 1645</span>    <span class="keyword">with</span> pytest.raises(TypeError, match=msg):</div>
<div class="line"><span class="lineno"> 1646</span>        _num_features(X)</div>
<div class="line"><span class="lineno"> 1647</span> </div>
<div class="line"><span class="lineno"> 1648</span> </div>
<div class="line"><span class="lineno"> 1649</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno"> 1650</span>    <span class="stringliteral">&quot;names&quot;</span>,</div>
<div class="line"><span class="lineno"> 1651</span>    [list(range(2)), range(2), <span class="keywordtype">None</span>, [[<span class="stringliteral">&quot;a&quot;</span>, <span class="stringliteral">&quot;b&quot;</span>], [<span class="stringliteral">&quot;c&quot;</span>, <span class="stringliteral">&quot;d&quot;</span>]]],</div>
<div class="line"><span class="lineno"> 1652</span>    ids=[<span class="stringliteral">&quot;list-int&quot;</span>, <span class="stringliteral">&quot;range&quot;</span>, <span class="stringliteral">&quot;default&quot;</span>, <span class="stringliteral">&quot;MultiIndex&quot;</span>],</div>
<div class="line"><span class="lineno"> 1653</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac687d9c20acdd417431f7a8e6b881885" name="ac687d9c20acdd417431f7a8e6b881885"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac687d9c20acdd417431f7a8e6b881885">&#9670;&#160;</a></span>test_ordering()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_ordering </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  138</span><span class="keyword">def </span>test_ordering():</div>
<div class="line"><span class="lineno">  139</span>    <span class="comment"># Check that ordering is enforced correctly by validation utilities.</span></div>
<div class="line"><span class="lineno">  140</span>    <span class="comment"># We need to check each validation utility, because a &#39;copy&#39; without</span></div>
<div class="line"><span class="lineno">  141</span>    <span class="comment"># &#39;order=K&#39; will kill the ordering.</span></div>
<div class="line"><span class="lineno">  142</span>    X = np.ones((10, 5))</div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">for</span> A <span class="keywordflow">in</span> X, X.T:</div>
<div class="line"><span class="lineno">  144</span>        <span class="keywordflow">for</span> copy <span class="keywordflow">in</span> (<span class="keyword">True</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  145</span>            B = check_array(A, order=<span class="stringliteral">&quot;C&quot;</span>, copy=copy)</div>
<div class="line"><span class="lineno">  146</span>            <span class="keyword">assert</span> B.flags[<span class="stringliteral">&quot;C_CONTIGUOUS&quot;</span>]</div>
<div class="line"><span class="lineno">  147</span>            B = check_array(A, order=<span class="stringliteral">&quot;F&quot;</span>, copy=copy)</div>
<div class="line"><span class="lineno">  148</span>            <span class="keyword">assert</span> B.flags[<span class="stringliteral">&quot;F_CONTIGUOUS&quot;</span>]</div>
<div class="line"><span class="lineno">  149</span>            <span class="keywordflow">if</span> copy:</div>
<div class="line"><span class="lineno">  150</span>                <span class="keyword">assert</span> A <span class="keywordflow">is</span> <span class="keywordflow">not</span> B</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    X = sp.csr_matrix(X)</div>
<div class="line"><span class="lineno">  153</span>    X.data = X.data[::-1]</div>
<div class="line"><span class="lineno">  154</span>    <span class="keyword">assert</span> <span class="keywordflow">not</span> X.data.flags[<span class="stringliteral">&quot;C_CONTIGUOUS&quot;</span>]</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  158</span>    <span class="stringliteral">&quot;value, force_all_finite&quot;</span>, [(np.inf, <span class="keyword">False</span>), (np.nan, <span class="stringliteral">&quot;allow-nan&quot;</span>), (np.nan, <span class="keyword">False</span>)]</div>
<div class="line"><span class="lineno">  159</span>)</div>
<div class="line"><span class="lineno">  160</span><span class="preprocessor">@pytest.mark.parametrize(&quot;retype&quot;, [np.asarray, sp.csr_matrix])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7da57ae6a5cf2e932e8d5c5312fa784" name="ad7da57ae6a5cf2e932e8d5c5312fa784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7da57ae6a5cf2e932e8d5c5312fa784">&#9670;&#160;</a></span>test_retrieve_samples_from_non_standard_shape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_retrieve_samples_from_non_standard_shape </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1081</span><span class="keyword">def </span>test_retrieve_samples_from_non_standard_shape():</div>
<div class="line"><span class="lineno"> 1082</span>    <span class="keyword">class </span>TestNonNumericShape:</div>
<div class="line"><span class="lineno"> 1083</span>        <span class="keyword">def </span>__init__(self):</div>
<div class="line"><span class="lineno"> 1084</span>            self.shape = (<span class="stringliteral">&quot;not numeric&quot;</span>,)</div>
<div class="line"><span class="lineno"> 1085</span> </div>
<div class="line"><span class="lineno"> 1086</span>        <span class="keyword">def </span>__len__(self):</div>
<div class="line"><span class="lineno"> 1087</span>            <span class="keywordflow">return</span> len([1, 2, 3])</div>
<div class="line"><span class="lineno"> 1088</span> </div>
<div class="line"><span class="lineno"> 1089</span>    X = TestNonNumericShape()</div>
<div class="line"><span class="lineno"> 1090</span>    <span class="keyword">assert</span> _num_samples(X) == len(X)</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>    <span class="comment"># check that it gives a good error if there&#39;s no __len__</span></div>
<div class="line"><span class="lineno"> 1093</span>    <span class="keyword">class </span>TestNoLenWeirdShape:</div>
<div class="line"><span class="lineno"> 1094</span>        <span class="keyword">def </span>__init__(self):</div>
<div class="line"><span class="lineno"> 1095</span>            self.shape = (<span class="stringliteral">&quot;not numeric&quot;</span>,)</div>
<div class="line"><span class="lineno"> 1096</span> </div>
<div class="line"><span class="lineno"> 1097</span>    <span class="keyword">with</span> pytest.raises(TypeError, match=<span class="stringliteral">&quot;Expected sequence or array-like&quot;</span>):</div>
<div class="line"><span class="lineno"> 1098</span>        _num_samples(TestNoLenWeirdShape())</div>
<div class="line"><span class="lineno"> 1099</span> </div>
<div class="line"><span class="lineno"> 1100</span> </div>
<div class="line"><span class="lineno"> 1101</span><span class="preprocessor">@pytest.mark.parametrize(&quot;x&quot;, [2, 3, 2.5, 5])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a36b85d9362e78454cc2fbde133920702" name="a36b85d9362e78454cc2fbde133920702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36b85d9362e78454cc2fbde133920702">&#9670;&#160;</a></span>test_suppress_validation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.test_suppress_validation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  913</span><span class="keyword">def </span>test_suppress_validation():</div>
<div class="line"><span class="lineno">  914</span>    X = np.array([0, np.inf])</div>
<div class="line"><span class="lineno">  915</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  916</span>        assert_all_finite(X)</div>
<div class="line"><span class="lineno">  917</span>    sklearn.set_config(assume_finite=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  918</span>    assert_all_finite(X)</div>
<div class="line"><span class="lineno">  919</span>    sklearn.set_config(assume_finite=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  920</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno">  921</span>        assert_all_finite(X)</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acd8127f85d53cea223a1b840f7328632" name="acd8127f85d53cea223a1b840f7328632"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd8127f85d53cea223a1b840f7328632">&#9670;&#160;</a></span>X_64bit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.X_64bit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>request</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  610</span><span class="keyword">def </span>X_64bit(request):</div>
<div class="line"><span class="lineno">  611</span>    X = sp.rand(20, 10, format=request.param)</div>
<div class="line"><span class="lineno">  612</span>    <span class="keywordflow">for</span> attr <span class="keywordflow">in</span> [<span class="stringliteral">&quot;indices&quot;</span>, <span class="stringliteral">&quot;indptr&quot;</span>, <span class="stringliteral">&quot;row&quot;</span>, <span class="stringliteral">&quot;col&quot;</span>]:</div>
<div class="line"><span class="lineno">  613</span>        <span class="keywordflow">if</span> hasattr(X, attr):</div>
<div class="line"><span class="lineno">  614</span>            setattr(X, attr, getattr(X, attr).astype(<span class="stringliteral">&quot;int64&quot;</span>))</div>
<div class="line"><span class="lineno">  615</span>    <span class="keywordflow">yield</span> X</div>
<div class="line"><span class="lineno">  616</span> </div>
<div class="line"><span class="lineno">  617</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a54195c330e7771b3b0ea106d786b54f0" name="a54195c330e7771b3b0ea106d786b54f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54195c330e7771b3b0ea106d786b54f0">&#9670;&#160;</a></span>_is_fitted</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation._is_fitted</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa39ce93ff85eb8e69cb8901ee3172cd1" name="aa39ce93ff85eb8e69cb8901ee3172cd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa39ce93ff85eb8e69cb8901ee3172cd1">&#9670;&#160;</a></span>_psd_cases_invalid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict sklearn.utils.tests.test_validation._psd_cases_invalid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  {</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;significant_imag&quot;</span>: (</div>
<div class="line"><span class="lineno">    3</span>        (5, 5j),</div>
<div class="line"><span class="lineno">    4</span>        ValueError,</div>
<div class="line"><span class="lineno">    5</span>        <span class="stringliteral">&quot;There are significant imaginary parts in eigenv&quot;</span>,</div>
<div class="line"><span class="lineno">    6</span>    ),</div>
<div class="line"><span class="lineno">    7</span>    <span class="stringliteral">&quot;all negative&quot;</span>: (</div>
<div class="line"><span class="lineno">    8</span>        (-5, -1),</div>
<div class="line"><span class="lineno">    9</span>        ValueError,</div>
<div class="line"><span class="lineno">   10</span>        <span class="stringliteral">&quot;All eigenvalues are negative \\(maximum is -1&quot;</span>,</div>
<div class="line"><span class="lineno">   11</span>    ),</div>
<div class="line"><span class="lineno">   12</span>    <span class="stringliteral">&quot;significant neg&quot;</span>: (</div>
<div class="line"><span class="lineno">   13</span>        (5, -1),</div>
<div class="line"><span class="lineno">   14</span>        ValueError,</div>
<div class="line"><span class="lineno">   15</span>        <span class="stringliteral">&quot;There are significant negative eigenvalues&quot;</span>,</div>
<div class="line"><span class="lineno">   16</span>    ),</div>
<div class="line"><span class="lineno">   17</span>    <span class="stringliteral">&quot;significant neg float32&quot;</span>: (</div>
<div class="line"><span class="lineno">   18</span>        np.array([3e-4, -2e-6], dtype=np.float32),</div>
<div class="line"><span class="lineno">   19</span>        ValueError,</div>
<div class="line"><span class="lineno">   20</span>        <span class="stringliteral">&quot;There are significant negative eigenvalues&quot;</span>,</div>
<div class="line"><span class="lineno">   21</span>    ),</div>
<div class="line"><span class="lineno">   22</span>    <span class="stringliteral">&quot;significant neg float64&quot;</span>: (</div>
<div class="line"><span class="lineno">   23</span>        np.array([1e-5, -2e-10], dtype=np.float64),</div>
<div class="line"><span class="lineno">   24</span>        ValueError,</div>
<div class="line"><span class="lineno">   25</span>        <span class="stringliteral">&quot;There are significant negative eigenvalues&quot;</span>,</div>
<div class="line"><span class="lineno">   26</span>    ),</div>
<div class="line"><span class="lineno">   27</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac047265dd03c3066cd0064410b4a4f2e" name="ac047265dd03c3066cd0064410b4a4f2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac047265dd03c3066cd0064410b4a4f2e">&#9670;&#160;</a></span>_psd_cases_valid</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict sklearn.utils.tests.test_validation._psd_cases_valid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  {</div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;nominal&quot;</span>: ((1, 2), np.array([1, 2]), <span class="keywordtype">None</span>, <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><span class="lineno">    3</span>    <span class="stringliteral">&quot;nominal_np_array&quot;</span>: (np.array([1, 2]), np.array([1, 2]), <span class="keywordtype">None</span>, <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><span class="lineno">    4</span>    <span class="stringliteral">&quot;insignificant_imag&quot;</span>: (</div>
<div class="line"><span class="lineno">    5</span>        (5, 5e-5j),</div>
<div class="line"><span class="lineno">    6</span>        np.array([5, 0]),</div>
<div class="line"><span class="lineno">    7</span>        PositiveSpectrumWarning,</div>
<div class="line"><span class="lineno">    8</span>        <span class="stringliteral">&quot;There are imaginary parts in eigenvalues \\(1e\\-05 of the maximum real part&quot;</span>,</div>
<div class="line"><span class="lineno">    9</span>    ),</div>
<div class="line"><span class="lineno">   10</span>    <span class="stringliteral">&quot;insignificant neg&quot;</span>: ((5, -5e-5), np.array([5, 0]), PositiveSpectrumWarning, <span class="stringliteral">&quot;&quot;</span>),</div>
<div class="line"><span class="lineno">   11</span>    <span class="stringliteral">&quot;insignificant neg float32&quot;</span>: (</div>
<div class="line"><span class="lineno">   12</span>        np.array([1, -1e-6], dtype=np.float32),</div>
<div class="line"><span class="lineno">   13</span>        np.array([1, 0], dtype=np.float32),</div>
<div class="line"><span class="lineno">   14</span>        PositiveSpectrumWarning,</div>
<div class="line"><span class="lineno">   15</span>        <span class="stringliteral">&quot;There are negative eigenvalues \\(1e\\-06 of the maximum positive&quot;</span>,</div>
<div class="line"><span class="lineno">   16</span>    ),</div>
<div class="line"><span class="lineno">   17</span>    <span class="stringliteral">&quot;insignificant neg float64&quot;</span>: (</div>
<div class="line"><span class="lineno">   18</span>        np.array([1, -1e-10], dtype=np.float64),</div>
<div class="line"><span class="lineno">   19</span>        np.array([1, 0], dtype=np.float64),</div>
<div class="line"><span class="lineno">   20</span>        PositiveSpectrumWarning,</div>
<div class="line"><span class="lineno">   21</span>        <span class="stringliteral">&quot;There are negative eigenvalues \\(1e\\-10 of the maximum positive&quot;</span>,</div>
<div class="line"><span class="lineno">   22</span>    ),</div>
<div class="line"><span class="lineno">   23</span>    <span class="stringliteral">&quot;insignificant pos&quot;</span>: (</div>
<div class="line"><span class="lineno">   24</span>        (5, 4e-12),</div>
<div class="line"><span class="lineno">   25</span>        np.array([5, 0]),</div>
<div class="line"><span class="lineno">   26</span>        PositiveSpectrumWarning,</div>
<div class="line"><span class="lineno">   27</span>        <span class="stringliteral">&quot;the largest eigenvalue is more than 1e\\+12 times the smallest&quot;</span>,</div>
<div class="line"><span class="lineno">   28</span>    ),</div>
<div class="line"><span class="lineno">   29</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af47d3e1ce814e703c0f7469712a4a37b" name="af47d3e1ce814e703c0f7469712a4a37b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af47d3e1ce814e703c0f7469712a4a37b">&#9670;&#160;</a></span>shape</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils.tests.test_validation.shape</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
