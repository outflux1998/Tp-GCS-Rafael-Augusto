<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pip._internal.operations.install.wheel Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepip.html">pip</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__internal.html">_internal</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__internal_1_1operations.html">operations</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install.html">install</a></li><li class="navelem"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html">wheel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">pip._internal.operations.install.wheel Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__internal_1_1operations_1_1install_1_1wheel_1_1_file.html">File</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__internal_1_1operations_1_1install_1_1wheel_1_1_missing_callable_suffix.html">MissingCallableSuffix</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__internal_1_1operations_1_1install_1_1wheel_1_1_pip_script_maker.html">PipScriptMaker</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__internal_1_1operations_1_1install_1_1wheel_1_1_script_file.html">ScriptFile</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpip_1_1__internal_1_1operations_1_1install_1_1wheel_1_1_zip_backed_file.html">ZipBackedFile</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a478b91aed8c1980f16157946dbb6be5e" id="r_a478b91aed8c1980f16157946dbb6be5e"><td class="memItemLeft" align="right" valign="top">Tuple[str, str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a478b91aed8c1980f16157946dbb6be5e">rehash</a> (str path, int blocksize=1&lt;&lt; 20)</td></tr>
<tr class="separator:a478b91aed8c1980f16157946dbb6be5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a763c68f9a0f9d551f44896ba9fdfdfdc" id="r_a763c68f9a0f9d551f44896ba9fdfdfdc"><td class="memItemLeft" align="right" valign="top">Dict[str, Any]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a763c68f9a0f9d551f44896ba9fdfdfdc">csv_io_kwargs</a> (str mode)</td></tr>
<tr class="separator:a763c68f9a0f9d551f44896ba9fdfdfdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a162267d52f24ff2f69a2dc9d7ba23d93" id="r_a162267d52f24ff2f69a2dc9d7ba23d93"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a162267d52f24ff2f69a2dc9d7ba23d93">fix_script</a> (str path)</td></tr>
<tr class="separator:a162267d52f24ff2f69a2dc9d7ba23d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b7362189c5c93f98180d204ac834dc" id="r_a29b7362189c5c93f98180d204ac834dc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a29b7362189c5c93f98180d204ac834dc">wheel_root_is_purelib</a> (Message metadata)</td></tr>
<tr class="separator:a29b7362189c5c93f98180d204ac834dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bce2ed414094aa3b8c601f1e7d24e9b" id="r_a9bce2ed414094aa3b8c601f1e7d24e9b"><td class="memItemLeft" align="right" valign="top">Tuple[Dict[str, str], Dict[str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a9bce2ed414094aa3b8c601f1e7d24e9b">get_entrypoints</a> (<a class="el" href="classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a> dist)</td></tr>
<tr class="separator:a9bce2ed414094aa3b8c601f1e7d24e9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a093087ca804547d24b0b892878e01532" id="r_a093087ca804547d24b0b892878e01532"><td class="memItemLeft" align="right" valign="top">Optional[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a093087ca804547d24b0b892878e01532">message_about_scripts_not_on_PATH</a> (Sequence[str] scripts)</td></tr>
<tr class="separator:a093087ca804547d24b0b892878e01532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9bc6930e2208e3550bfc6f38c34e339" id="r_ad9bc6930e2208e3550bfc6f38c34e339"><td class="memItemLeft" align="right" valign="top">List[Tuple[str, str, str]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#ad9bc6930e2208e3550bfc6f38c34e339">_normalized_outrows</a> (Iterable[<a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#abc61841c3e2aeebdb596030b6f827a62">InstalledCSVRow</a>] outrows)</td></tr>
<tr class="separator:ad9bc6930e2208e3550bfc6f38c34e339"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8889703316f088749dca4346d4d8798" id="r_ad8889703316f088749dca4346d4d8798"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#ad8889703316f088749dca4346d4d8798">_record_to_fs_path</a> (<a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a> record_path, str lib_dir)</td></tr>
<tr class="separator:ad8889703316f088749dca4346d4d8798"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a596e6d7128eebf1c7516faafa3058d31" id="r_a596e6d7128eebf1c7516faafa3058d31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a596e6d7128eebf1c7516faafa3058d31">_fs_to_record_path</a> (str path, str lib_dir)</td></tr>
<tr class="separator:a596e6d7128eebf1c7516faafa3058d31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c7cea95617ac2f2ca12fc52c040a4f" id="r_a91c7cea95617ac2f2ca12fc52c040a4f"><td class="memItemLeft" align="right" valign="top">List[<a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#abc61841c3e2aeebdb596030b6f827a62">InstalledCSVRow</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a91c7cea95617ac2f2ca12fc52c040a4f">get_csv_rows_for_installed</a> (List[List[str]] old_csv_rows, Dict[<a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a>, <a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a>] installed, Set[<a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a>] changed, List[str] generated, str lib_dir)</td></tr>
<tr class="separator:a91c7cea95617ac2f2ca12fc52c040a4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b5343be5f3f3c9b4b708a681647227" id="r_ae5b5343be5f3f3c9b4b708a681647227"><td class="memItemLeft" align="right" valign="top">List[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#ae5b5343be5f3f3c9b4b708a681647227">get_console_script_specs</a> (Dict[str, str] console)</td></tr>
<tr class="separator:ae5b5343be5f3f3c9b4b708a681647227"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5eb8df0f2cba4d318c1c23e2ba49d21" id="r_ab5eb8df0f2cba4d318c1c23e2ba49d21"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#ab5eb8df0f2cba4d318c1c23e2ba49d21">_raise_for_invalid_entrypoint</a> (str specification)</td></tr>
<tr class="separator:ab5eb8df0f2cba4d318c1c23e2ba49d21"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52407186588cf17b322f2c3479986164" id="r_a52407186588cf17b322f2c3479986164"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a52407186588cf17b322f2c3479986164">_install_wheel</a> (str name, ZipFile wheel_zip, str wheel_path, <a class="el" href="classpip_1_1__internal_1_1models_1_1scheme_1_1_scheme.html">Scheme</a> scheme, bool pycompile=True, bool warn_script_location=True, Optional[<a class="el" href="classpip_1_1__internal_1_1models_1_1direct__url_1_1_direct_url.html">DirectUrl</a>] direct_url=None, bool requested=False)</td></tr>
<tr class="separator:a52407186588cf17b322f2c3479986164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c95f6229c87c89e57187766bd63b5f" id="r_a03c95f6229c87c89e57187766bd63b5f"><td class="memItemLeft" align="right" valign="top">Generator[None, None, None]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a03c95f6229c87c89e57187766bd63b5f">req_error_context</a> (str req_description)</td></tr>
<tr class="separator:a03c95f6229c87c89e57187766bd63b5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af9aebeddf288d227a465092696b9c4" id="r_a6af9aebeddf288d227a465092696b9c4"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a6af9aebeddf288d227a465092696b9c4">install_wheel</a> (str name, str wheel_path, <a class="el" href="classpip_1_1__internal_1_1models_1_1scheme_1_1_scheme.html">Scheme</a> scheme, str req_description, bool pycompile=True, bool warn_script_location=True, Optional[<a class="el" href="classpip_1_1__internal_1_1models_1_1direct__url_1_1_direct_url.html">DirectUrl</a>] direct_url=None, bool requested=False)</td></tr>
<tr class="separator:a6af9aebeddf288d227a465092696b9c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a7ea6a5636c15a59204a7f90ab0a5bd3f" id="r_a7ea6a5636c15a59204a7f90ab0a5bd3f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#a7ea6a5636c15a59204a7f90ab0a5bd3f">logger</a> = logging.getLogger(__name__)</td></tr>
<tr class="separator:a7ea6a5636c15a59204a7f90ab0a5bd3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa83c7ecb8dd69b844ed57ed1fa3a7209" id="r_aa83c7ecb8dd69b844ed57ed1fa3a7209"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a> = NewType(&quot;RecordPath&quot;, str)</td></tr>
<tr class="separator:aa83c7ecb8dd69b844ed57ed1fa3a7209"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc61841c3e2aeebdb596030b6f827a62" id="r_abc61841c3e2aeebdb596030b6f827a62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#abc61841c3e2aeebdb596030b6f827a62">InstalledCSVRow</a> = Tuple[<a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a>, str, Union[int, str]]</td></tr>
<tr class="separator:abc61841c3e2aeebdb596030b6f827a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Support for installing and building the "wheel" binary package format.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a596e6d7128eebf1c7516faafa3058d31" name="a596e6d7128eebf1c7516faafa3058d31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a596e6d7128eebf1c7516faafa3058d31">&#9670;&#160;</a></span>_fs_to_record_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a> pip._internal.operations.install.wheel._fs_to_record_path </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>lib_dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  233</span><span class="keyword">def </span>_fs_to_record_path(path: str, lib_dir: str) -&gt; RecordPath:</div>
<div class="line"><span class="lineno">  234</span>    <span class="comment"># On Windows, do not handle relative paths if they belong to different</span></div>
<div class="line"><span class="lineno">  235</span>    <span class="comment"># logical disks</span></div>
<div class="line"><span class="lineno">  236</span>    <span class="keywordflow">if</span> os.path.splitdrive(path)[0].lower() == os.path.splitdrive(lib_dir)[0].lower():</div>
<div class="line"><span class="lineno">  237</span>        path = os.path.relpath(path, lib_dir)</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>    path = path.replace(os.path.sep, <span class="stringliteral">&quot;/&quot;</span>)</div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">return</span> cast(<span class="stringliteral">&quot;RecordPath&quot;</span>, path)</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a52407186588cf17b322f2c3479986164" name="a52407186588cf17b322f2c3479986164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52407186588cf17b322f2c3479986164">&#9670;&#160;</a></span>_install_wheel()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None pip._internal.operations.install.wheel._install_wheel </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ZipFile&#160;</td>
          <td class="paramname"><em>wheel_zip</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>wheel_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpip_1_1__internal_1_1models_1_1scheme_1_1_scheme.html">Scheme</a>&#160;</td>
          <td class="paramname"><em>scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>pycompile</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>warn_script_location</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[<a class="el" href="classpip_1_1__internal_1_1models_1_1direct__url_1_1_direct_url.html">DirectUrl</a>] &#160;</td>
          <td class="paramname"><em>direct_url</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>requested</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Install a wheel.

:param name: Name of the project to install
:param wheel_zip: open ZipFile for wheel being installed
:param scheme: Distutils scheme dictating the install directories
:param req_description: String used in place of the requirement, for
    logging
:param pycompile: Whether to byte-compile installed Python files
:param warn_script_location: Whether to check that scripts are installed
    into a directory on PATH
:raises UnsupportedWheel:
    * when the directory holds an unpacked wheel with incompatible
      Wheel-Version
    * when the .dist-info dir does not match the wheel
</pre> <div class="fragment"><div class="line"><span class="lineno">  441</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  442</span>    <span class="stringliteral">&quot;&quot;&quot;Install a wheel.</span></div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral">    :param name: Name of the project to install</span></div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral">    :param wheel_zip: open ZipFile for wheel being installed</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">    :param scheme: Distutils scheme dictating the install directories</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">    :param req_description: String used in place of the requirement, for</span></div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">        logging</span></div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral">    :param pycompile: Whether to byte-compile installed Python files</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">    :param warn_script_location: Whether to check that scripts are installed</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">        into a directory on PATH</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">    :raises UnsupportedWheel:</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">        * when the directory holds an unpacked wheel with incompatible</span></div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral">          Wheel-Version</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">        * when the .dist-info dir does not match the wheel</span></div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  457</span>    info_dir, metadata = parse_wheel(wheel_zip, name)</div>
<div class="line"><span class="lineno">  458</span> </div>
<div class="line"><span class="lineno">  459</span>    <span class="keywordflow">if</span> wheel_root_is_purelib(metadata):</div>
<div class="line"><span class="lineno">  460</span>        lib_dir = scheme.purelib</div>
<div class="line"><span class="lineno">  461</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  462</span>        lib_dir = scheme.platlib</div>
<div class="line"><span class="lineno">  463</span> </div>
<div class="line"><span class="lineno">  464</span>    <span class="comment"># Record details of the files moved</span></div>
<div class="line"><span class="lineno">  465</span>    <span class="comment">#   installed = files copied from the wheel to the destination</span></div>
<div class="line"><span class="lineno">  466</span>    <span class="comment">#   changed = files changed while installing (scripts #! line typically)</span></div>
<div class="line"><span class="lineno">  467</span>    <span class="comment">#   generated = files newly generated during the install (script wrappers)</span></div>
<div class="line"><span class="lineno">  468</span>    installed: Dict[RecordPath, RecordPath] = {}</div>
<div class="line"><span class="lineno">  469</span>    changed: Set[RecordPath] = set()</div>
<div class="line"><span class="lineno">  470</span>    generated: List[str] = []</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>    <span class="keyword">def </span>record_installed(</div>
<div class="line"><span class="lineno">  473</span>        srcfile: RecordPath, destfile: str, modified: bool = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  474</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  475</span>        <span class="stringliteral">&quot;&quot;&quot;Map archive RECORD paths to installation RECORD paths.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  476</span>        newpath = _fs_to_record_path(destfile, lib_dir)</div>
<div class="line"><span class="lineno">  477</span>        installed[srcfile] = newpath</div>
<div class="line"><span class="lineno">  478</span>        <span class="keywordflow">if</span> modified:</div>
<div class="line"><span class="lineno">  479</span>            changed.add(newpath)</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  481</span>    <span class="keyword">def </span>is_dir_path(path: RecordPath) -&gt; bool:</div>
<div class="line"><span class="lineno">  482</span>        <span class="keywordflow">return</span> path.endswith(<span class="stringliteral">&quot;/&quot;</span>)</div>
<div class="line"><span class="lineno">  483</span> </div>
<div class="line"><span class="lineno">  484</span>    <span class="keyword">def </span>assert_no_path_traversal(dest_dir_path: str, target_path: str) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  485</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> is_within_directory(dest_dir_path, target_path):</div>
<div class="line"><span class="lineno">  486</span>            message = (</div>
<div class="line"><span class="lineno">  487</span>                <span class="stringliteral">&quot;The wheel {!r} has a file {!r} trying to install&quot;</span></div>
<div class="line"><span class="lineno">  488</span>                <span class="stringliteral">&quot; outside the target directory {!r}&quot;</span></div>
<div class="line"><span class="lineno">  489</span>            )</div>
<div class="line"><span class="lineno">  490</span>            <span class="keywordflow">raise</span> InstallationError(</div>
<div class="line"><span class="lineno">  491</span>                message.format(wheel_path, target_path, dest_dir_path)</div>
<div class="line"><span class="lineno">  492</span>            )</div>
<div class="line"><span class="lineno">  493</span> </div>
<div class="line"><span class="lineno">  494</span>    <span class="keyword">def </span>root_scheme_file_maker(</div>
<div class="line"><span class="lineno">  495</span>        zip_file: ZipFile, dest: str</div>
<div class="line"><span class="lineno">  496</span>    ) -&gt; Callable[[RecordPath], <span class="stringliteral">&quot;File&quot;</span>]:</div>
<div class="line"><span class="lineno">  497</span>        <span class="keyword">def </span>make_root_scheme_file(record_path: RecordPath) -&gt; <span class="stringliteral">&quot;File&quot;</span>:</div>
<div class="line"><span class="lineno">  498</span>            normed_path = os.path.normpath(record_path)</div>
<div class="line"><span class="lineno">  499</span>            dest_path = os.path.join(dest, normed_path)</div>
<div class="line"><span class="lineno">  500</span>            assert_no_path_traversal(dest, dest_path)</div>
<div class="line"><span class="lineno">  501</span>            <span class="keywordflow">return</span> ZipBackedFile(record_path, dest_path, zip_file)</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>        <span class="keywordflow">return</span> make_root_scheme_file</div>
<div class="line"><span class="lineno">  504</span> </div>
<div class="line"><span class="lineno">  505</span>    <span class="keyword">def </span>data_scheme_file_maker(</div>
<div class="line"><span class="lineno">  506</span>        zip_file: ZipFile, scheme: Scheme</div>
<div class="line"><span class="lineno">  507</span>    ) -&gt; Callable[[RecordPath], <span class="stringliteral">&quot;File&quot;</span>]:</div>
<div class="line"><span class="lineno">  508</span>        scheme_paths = {key: getattr(scheme, key) <span class="keywordflow">for</span> key <span class="keywordflow">in</span> SCHEME_KEYS}</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>        <span class="keyword">def </span>make_data_scheme_file(record_path: RecordPath) -&gt; <span class="stringliteral">&quot;File&quot;</span>:</div>
<div class="line"><span class="lineno">  511</span>            normed_path = os.path.normpath(record_path)</div>
<div class="line"><span class="lineno">  512</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  513</span>                _, scheme_key, dest_subpath = normed_path.split(os.path.sep, 2)</div>
<div class="line"><span class="lineno">  514</span>            <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno">  515</span>                message = (</div>
<div class="line"><span class="lineno">  516</span>                    <span class="stringliteral">&quot;Unexpected file in {}: {!r}. .data directory contents&quot;</span></div>
<div class="line"><span class="lineno">  517</span>                    <span class="stringliteral">&quot; should be named like: &#39;&lt;scheme key&gt;/&lt;path&gt;&#39;.&quot;</span></div>
<div class="line"><span class="lineno">  518</span>                ).format(wheel_path, record_path)</div>
<div class="line"><span class="lineno">  519</span>                <span class="keywordflow">raise</span> InstallationError(message)</div>
<div class="line"><span class="lineno">  520</span> </div>
<div class="line"><span class="lineno">  521</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  522</span>                scheme_path = scheme_paths[scheme_key]</div>
<div class="line"><span class="lineno">  523</span>            <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><span class="lineno">  524</span>                valid_scheme_keys = <span class="stringliteral">&quot;, &quot;</span>.join(sorted(scheme_paths))</div>
<div class="line"><span class="lineno">  525</span>                message = (</div>
<div class="line"><span class="lineno">  526</span>                    <span class="stringliteral">&quot;Unknown scheme key used in {}: {} (for file {!r}). .data&quot;</span></div>
<div class="line"><span class="lineno">  527</span>                    <span class="stringliteral">&quot; directory contents should be in subdirectories named&quot;</span></div>
<div class="line"><span class="lineno">  528</span>                    <span class="stringliteral">&quot; with a valid scheme key ({})&quot;</span></div>
<div class="line"><span class="lineno">  529</span>                ).format(wheel_path, scheme_key, record_path, valid_scheme_keys)</div>
<div class="line"><span class="lineno">  530</span>                <span class="keywordflow">raise</span> InstallationError(message)</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>            dest_path = os.path.join(scheme_path, dest_subpath)</div>
<div class="line"><span class="lineno">  533</span>            assert_no_path_traversal(scheme_path, dest_path)</div>
<div class="line"><span class="lineno">  534</span>            <span class="keywordflow">return</span> ZipBackedFile(record_path, dest_path, zip_file)</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>        <span class="keywordflow">return</span> make_data_scheme_file</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>    <span class="keyword">def </span>is_data_scheme_path(path: RecordPath) -&gt; bool:</div>
<div class="line"><span class="lineno">  539</span>        <span class="keywordflow">return</span> path.split(<span class="stringliteral">&quot;/&quot;</span>, 1)[0].endswith(<span class="stringliteral">&quot;.data&quot;</span>)</div>
<div class="line"><span class="lineno">  540</span> </div>
<div class="line"><span class="lineno">  541</span>    paths = cast(List[RecordPath], wheel_zip.namelist())</div>
<div class="line"><span class="lineno">  542</span>    file_paths = filterfalse(is_dir_path, paths)</div>
<div class="line"><span class="lineno">  543</span>    root_scheme_paths, data_scheme_paths = partition(is_data_scheme_path, file_paths)</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>    make_root_scheme_file = root_scheme_file_maker(wheel_zip, lib_dir)</div>
<div class="line"><span class="lineno">  546</span>    files: Iterator[File] = map(make_root_scheme_file, root_scheme_paths)</div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span>    <span class="keyword">def </span>is_script_scheme_path(path: RecordPath) -&gt; bool:</div>
<div class="line"><span class="lineno">  549</span>        parts = path.split(<span class="stringliteral">&quot;/&quot;</span>, 2)</div>
<div class="line"><span class="lineno">  550</span>        <span class="keywordflow">return</span> len(parts) &gt; 2 <span class="keywordflow">and</span> parts[0].endswith(<span class="stringliteral">&quot;.data&quot;</span>) <span class="keywordflow">and</span> parts[1] == <span class="stringliteral">&quot;scripts&quot;</span></div>
<div class="line"><span class="lineno">  551</span> </div>
<div class="line"><span class="lineno">  552</span>    other_scheme_paths, script_scheme_paths = partition(</div>
<div class="line"><span class="lineno">  553</span>        is_script_scheme_path, data_scheme_paths</div>
<div class="line"><span class="lineno">  554</span>    )</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>    make_data_scheme_file = data_scheme_file_maker(wheel_zip, scheme)</div>
<div class="line"><span class="lineno">  557</span>    other_scheme_files = map(make_data_scheme_file, other_scheme_paths)</div>
<div class="line"><span class="lineno">  558</span>    files = chain(files, other_scheme_files)</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>    <span class="comment"># Get the defined entry points</span></div>
<div class="line"><span class="lineno">  561</span>    distribution = get_wheel_distribution(</div>
<div class="line"><span class="lineno">  562</span>        FilesystemWheel(wheel_path),</div>
<div class="line"><span class="lineno">  563</span>        canonicalize_name(name),</div>
<div class="line"><span class="lineno">  564</span>    )</div>
<div class="line"><span class="lineno">  565</span>    console, gui = get_entrypoints(distribution)</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>    <span class="keyword">def </span>is_entrypoint_wrapper(file: <span class="stringliteral">&quot;File&quot;</span>) -&gt; bool:</div>
<div class="line"><span class="lineno">  568</span>        <span class="comment"># EP, EP.exe and EP-script.py are scripts generated for</span></div>
<div class="line"><span class="lineno">  569</span>        <span class="comment"># entry point EP by setuptools</span></div>
<div class="line"><span class="lineno">  570</span>        path = file.dest_path</div>
<div class="line"><span class="lineno">  571</span>        name = os.path.basename(path)</div>
<div class="line"><span class="lineno">  572</span>        <span class="keywordflow">if</span> name.lower().endswith(<span class="stringliteral">&quot;.exe&quot;</span>):</div>
<div class="line"><span class="lineno">  573</span>            matchname = name[:-4]</div>
<div class="line"><span class="lineno">  574</span>        <span class="keywordflow">elif</span> name.lower().endswith(<span class="stringliteral">&quot;-script.py&quot;</span>):</div>
<div class="line"><span class="lineno">  575</span>            matchname = name[:-10]</div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">elif</span> name.lower().endswith(<span class="stringliteral">&quot;.pya&quot;</span>):</div>
<div class="line"><span class="lineno">  577</span>            matchname = name[:-4]</div>
<div class="line"><span class="lineno">  578</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  579</span>            matchname = name</div>
<div class="line"><span class="lineno">  580</span>        <span class="comment"># Ignore setuptools-generated scripts</span></div>
<div class="line"><span class="lineno">  581</span>        <span class="keywordflow">return</span> matchname <span class="keywordflow">in</span> console <span class="keywordflow">or</span> matchname <span class="keywordflow">in</span> gui</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>    script_scheme_files: Iterator[File] = map(</div>
<div class="line"><span class="lineno">  584</span>        make_data_scheme_file, script_scheme_paths</div>
<div class="line"><span class="lineno">  585</span>    )</div>
<div class="line"><span class="lineno">  586</span>    script_scheme_files = filterfalse(is_entrypoint_wrapper, script_scheme_files)</div>
<div class="line"><span class="lineno">  587</span>    script_scheme_files = map(ScriptFile, script_scheme_files)</div>
<div class="line"><span class="lineno">  588</span>    files = chain(files, script_scheme_files)</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>    <span class="keywordflow">for</span> file <span class="keywordflow">in</span> files:</div>
<div class="line"><span class="lineno">  591</span>        file.save()</div>
<div class="line"><span class="lineno">  592</span>        record_installed(file.src_record_path, file.dest_path, file.changed)</div>
<div class="line"><span class="lineno">  593</span> </div>
<div class="line"><span class="lineno">  594</span>    <span class="keyword">def </span>pyc_source_file_paths() -&gt; Generator[str, None, None]:</div>
<div class="line"><span class="lineno">  595</span>        <span class="comment"># We de-duplicate installation paths, since there can be overlap (e.g.</span></div>
<div class="line"><span class="lineno">  596</span>        <span class="comment"># file in .data maps to same location as file in wheel root).</span></div>
<div class="line"><span class="lineno">  597</span>        <span class="comment"># Sorting installation paths makes it easier to reproduce and debug</span></div>
<div class="line"><span class="lineno">  598</span>        <span class="comment"># issues related to permissions on existing files.</span></div>
<div class="line"><span class="lineno">  599</span>        <span class="keywordflow">for</span> installed_path <span class="keywordflow">in</span> sorted(set(installed.values())):</div>
<div class="line"><span class="lineno">  600</span>            full_installed_path = os.path.join(lib_dir, installed_path)</div>
<div class="line"><span class="lineno">  601</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.isfile(full_installed_path):</div>
<div class="line"><span class="lineno">  602</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  603</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> full_installed_path.endswith(<span class="stringliteral">&quot;.py&quot;</span>):</div>
<div class="line"><span class="lineno">  604</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  605</span>            <span class="keywordflow">yield</span> full_installed_path</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>    <span class="keyword">def </span>pyc_output_path(path: str) -&gt; str:</div>
<div class="line"><span class="lineno">  608</span>        <span class="stringliteral">&quot;&quot;&quot;Return the path the pyc file would have been written to.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  609</span>        <span class="keywordflow">return</span> importlib.util.cache_from_source(path)</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span>    <span class="comment"># Compile all of the pyc files for the installed files</span></div>
<div class="line"><span class="lineno">  612</span>    <span class="keywordflow">if</span> pycompile:</div>
<div class="line"><span class="lineno">  613</span>        <span class="keyword">with</span> captured_stdout() <span class="keyword">as</span> stdout:</div>
<div class="line"><span class="lineno">  614</span>            <span class="keyword">with</span> warnings.catch_warnings():</div>
<div class="line"><span class="lineno">  615</span>                warnings.filterwarnings(<span class="stringliteral">&quot;ignore&quot;</span>)</div>
<div class="line"><span class="lineno">  616</span>                <span class="keywordflow">for</span> path <span class="keywordflow">in</span> pyc_source_file_paths():</div>
<div class="line"><span class="lineno">  617</span>                    success = compileall.compile_file(path, force=<span class="keyword">True</span>, quiet=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  618</span>                    <span class="keywordflow">if</span> success:</div>
<div class="line"><span class="lineno">  619</span>                        pyc_path = pyc_output_path(path)</div>
<div class="line"><span class="lineno">  620</span>                        <span class="keyword">assert</span> os.path.exists(pyc_path)</div>
<div class="line"><span class="lineno">  621</span>                        pyc_record_path = cast(</div>
<div class="line"><span class="lineno">  622</span>                            <span class="stringliteral">&quot;RecordPath&quot;</span>, pyc_path.replace(os.path.sep, <span class="stringliteral">&quot;/&quot;</span>)</div>
<div class="line"><span class="lineno">  623</span>                        )</div>
<div class="line"><span class="lineno">  624</span>                        record_installed(pyc_record_path, pyc_path)</div>
<div class="line"><span class="lineno">  625</span>        logger.debug(stdout.getvalue())</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>    maker = PipScriptMaker(<span class="keywordtype">None</span>, scheme.scripts)</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>    <span class="comment"># Ensure old scripts are overwritten.</span></div>
<div class="line"><span class="lineno">  630</span>    <span class="comment"># See https://github.com/pypa/pip/issues/1800</span></div>
<div class="line"><span class="lineno">  631</span>    maker.clobber = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span>    <span class="comment"># Ensure we don&#39;t generate any variants for scripts because this is almost</span></div>
<div class="line"><span class="lineno">  634</span>    <span class="comment"># never what somebody wants.</span></div>
<div class="line"><span class="lineno">  635</span>    <span class="comment"># See https://bitbucket.org/pypa/distlib/issue/35/</span></div>
<div class="line"><span class="lineno">  636</span>    maker.variants = {<span class="stringliteral">&quot;&quot;</span>}</div>
<div class="line"><span class="lineno">  637</span> </div>
<div class="line"><span class="lineno">  638</span>    <span class="comment"># This is required because otherwise distlib creates scripts that are not</span></div>
<div class="line"><span class="lineno">  639</span>    <span class="comment"># executable.</span></div>
<div class="line"><span class="lineno">  640</span>    <span class="comment"># See https://bitbucket.org/pypa/distlib/issue/32/</span></div>
<div class="line"><span class="lineno">  641</span>    maker.set_mode = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>    <span class="comment"># Generate the console and GUI entry points specified in the wheel</span></div>
<div class="line"><span class="lineno">  644</span>    scripts_to_generate = get_console_script_specs(console)</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>    gui_scripts_to_generate = list(starmap(<span class="stringliteral">&quot;{} = {}&quot;</span>.format, gui.items()))</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>    generated_console_scripts = maker.make_multiple(scripts_to_generate)</div>
<div class="line"><span class="lineno">  649</span>    generated.extend(generated_console_scripts)</div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>    generated.extend(maker.make_multiple(gui_scripts_to_generate, {<span class="stringliteral">&quot;gui&quot;</span>: <span class="keyword">True</span>}))</div>
<div class="line"><span class="lineno">  652</span> </div>
<div class="line"><span class="lineno">  653</span>    <span class="keywordflow">if</span> warn_script_location:</div>
<div class="line"><span class="lineno">  654</span>        msg = message_about_scripts_not_on_PATH(generated_console_scripts)</div>
<div class="line"><span class="lineno">  655</span>        <span class="keywordflow">if</span> msg <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  656</span>            logger.warning(msg)</div>
<div class="line"><span class="lineno">  657</span> </div>
<div class="line"><span class="lineno">  658</span>    generated_file_mode = 0o666 &amp; ~current_umask()</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>    <span class="preprocessor">@contextlib.contextmanager</span></div>
<div class="line"><span class="lineno">  661</span>    <span class="keyword">def </span>_generate_file(path: str, **kwargs: Any) -&gt; Generator[BinaryIO, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]:</div>
<div class="line"><span class="lineno">  662</span>        <span class="keyword">with</span> adjacent_tmp_file(path, **kwargs) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  663</span>            <span class="keywordflow">yield</span> f</div>
<div class="line"><span class="lineno">  664</span>        os.chmod(f.name, generated_file_mode)</div>
<div class="line"><span class="lineno">  665</span>        replace(f.name, path)</div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>    dest_info_dir = os.path.join(lib_dir, info_dir)</div>
<div class="line"><span class="lineno">  668</span> </div>
<div class="line"><span class="lineno">  669</span>    <span class="comment"># Record pip as the installer</span></div>
<div class="line"><span class="lineno">  670</span>    installer_path = os.path.join(dest_info_dir, <span class="stringliteral">&quot;INSTALLER&quot;</span>)</div>
<div class="line"><span class="lineno">  671</span>    <span class="keyword">with</span> _generate_file(installer_path) <span class="keyword">as</span> installer_file:</div>
<div class="line"><span class="lineno">  672</span>        installer_file.write(b<span class="stringliteral">&quot;pip\n&quot;</span>)</div>
<div class="line"><span class="lineno">  673</span>    generated.append(installer_path)</div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>    <span class="comment"># Record the PEP 610 direct URL reference</span></div>
<div class="line"><span class="lineno">  676</span>    <span class="keywordflow">if</span> direct_url <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  677</span>        direct_url_path = os.path.join(dest_info_dir, DIRECT_URL_METADATA_NAME)</div>
<div class="line"><span class="lineno">  678</span>        <span class="keyword">with</span> _generate_file(direct_url_path) <span class="keyword">as</span> direct_url_file:</div>
<div class="line"><span class="lineno">  679</span>            direct_url_file.write(direct_url.to_json().encode(<span class="stringliteral">&quot;utf-8&quot;</span>))</div>
<div class="line"><span class="lineno">  680</span>        generated.append(direct_url_path)</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>    <span class="comment"># Record the REQUESTED file</span></div>
<div class="line"><span class="lineno">  683</span>    <span class="keywordflow">if</span> requested:</div>
<div class="line"><span class="lineno">  684</span>        requested_path = os.path.join(dest_info_dir, <span class="stringliteral">&quot;REQUESTED&quot;</span>)</div>
<div class="line"><span class="lineno">  685</span>        <span class="keyword">with</span> open(requested_path, <span class="stringliteral">&quot;wb&quot;</span>):</div>
<div class="line"><span class="lineno">  686</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  687</span>        generated.append(requested_path)</div>
<div class="line"><span class="lineno">  688</span> </div>
<div class="line"><span class="lineno">  689</span>    record_text = distribution.read_text(<span class="stringliteral">&quot;RECORD&quot;</span>)</div>
<div class="line"><span class="lineno">  690</span>    record_rows = list(csv.reader(record_text.splitlines()))</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>    rows = get_csv_rows_for_installed(</div>
<div class="line"><span class="lineno">  693</span>        record_rows,</div>
<div class="line"><span class="lineno">  694</span>        installed=installed,</div>
<div class="line"><span class="lineno">  695</span>        changed=changed,</div>
<div class="line"><span class="lineno">  696</span>        generated=generated,</div>
<div class="line"><span class="lineno">  697</span>        lib_dir=lib_dir,</div>
<div class="line"><span class="lineno">  698</span>    )</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>    <span class="comment"># Record details of all files installed</span></div>
<div class="line"><span class="lineno">  701</span>    record_path = os.path.join(dest_info_dir, <span class="stringliteral">&quot;RECORD&quot;</span>)</div>
<div class="line"><span class="lineno">  702</span> </div>
<div class="line"><span class="lineno">  703</span>    <span class="keyword">with</span> _generate_file(record_path, **csv_io_kwargs(<span class="stringliteral">&quot;w&quot;</span>)) <span class="keyword">as</span> record_file:</div>
<div class="line"><span class="lineno">  704</span>        <span class="comment"># Explicitly cast to typing.IO[str] as a workaround for the mypy error:</span></div>
<div class="line"><span class="lineno">  705</span>        <span class="comment"># &quot;writer&quot; has incompatible type &quot;BinaryIO&quot;; expected &quot;_Writer&quot;</span></div>
<div class="line"><span class="lineno">  706</span>        writer = csv.writer(cast(<span class="stringliteral">&quot;IO[str]&quot;</span>, record_file))</div>
<div class="line"><span class="lineno">  707</span>        writer.writerows(_normalized_outrows(rows))</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span> </div>
<div class="line"><span class="lineno">  710</span><span class="preprocessor">@contextlib.contextmanager</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="ad9bc6930e2208e3550bfc6f38c34e339" name="ad9bc6930e2208e3550bfc6f38c34e339"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9bc6930e2208e3550bfc6f38c34e339">&#9670;&#160;</a></span>_normalized_outrows()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> List[Tuple[str, str, str]] pip._internal.operations.install.wheel._normalized_outrows </td>
          <td>(</td>
          <td class="paramtype">Iterable[<a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#abc61841c3e2aeebdb596030b6f827a62">InstalledCSVRow</a>]&#160;</td>
          <td class="paramname"><em>outrows</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Normalize the given rows of a RECORD file.

Items in each row are converted into str. Rows are then sorted to make
the value more predictable for tests.

Each row is a 3-tuple (path, hash, size) and corresponds to a record of
a RECORD file (see PEP 376 and PEP 427 for details).  For the rows
passed to this function, the size can be an integer as an int or string,
or the empty string.
</pre> <div class="fragment"><div class="line"><span class="lineno">  205</span>) -&gt; List[Tuple[str, str, str]]:</div>
<div class="line"><span class="lineno">  206</span>    <span class="stringliteral">&quot;&quot;&quot;Normalize the given rows of a RECORD file.</span></div>
<div class="line"><span class="lineno">  207</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  208</span><span class="stringliteral">    Items in each row are converted into str. Rows are then sorted to make</span></div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral">    the value more predictable for tests.</span></div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral">    Each row is a 3-tuple (path, hash, size) and corresponds to a record of</span></div>
<div class="line"><span class="lineno">  212</span><span class="stringliteral">    a RECORD file (see PEP 376 and PEP 427 for details).  For the rows</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral">    passed to this function, the size can be an integer as an int or string,</span></div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">    or the empty string.</span></div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  216</span>    <span class="comment"># Normally, there should only be one row per path, in which case the</span></div>
<div class="line"><span class="lineno">  217</span>    <span class="comment"># second and third elements don&#39;t come into play when sorting.</span></div>
<div class="line"><span class="lineno">  218</span>    <span class="comment"># However, in cases in the wild where a path might happen to occur twice,</span></div>
<div class="line"><span class="lineno">  219</span>    <span class="comment"># we don&#39;t want the sort operation to trigger an error (but still want</span></div>
<div class="line"><span class="lineno">  220</span>    <span class="comment"># determinism).  Since the third element can be an int or string, we</span></div>
<div class="line"><span class="lineno">  221</span>    <span class="comment"># coerce each element to a string to avoid a TypeError in this case.</span></div>
<div class="line"><span class="lineno">  222</span>    <span class="comment"># For additional background, see--</span></div>
<div class="line"><span class="lineno">  223</span>    <span class="comment"># https://github.com/pypa/pip/issues/5868</span></div>
<div class="line"><span class="lineno">  224</span>    <span class="keywordflow">return</span> sorted(</div>
<div class="line"><span class="lineno">  225</span>        (record_path, hash_, str(size)) <span class="keywordflow">for</span> record_path, hash_, size <span class="keywordflow">in</span> outrows</div>
<div class="line"><span class="lineno">  226</span>    )</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab5eb8df0f2cba4d318c1c23e2ba49d21" name="ab5eb8df0f2cba4d318c1c23e2ba49d21"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5eb8df0f2cba4d318c1c23e2ba49d21">&#9670;&#160;</a></span>_raise_for_invalid_entrypoint()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> None pip._internal.operations.install.wheel._raise_for_invalid_entrypoint </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>specification</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  418</span><span class="keyword">def </span>_raise_for_invalid_entrypoint(specification: str) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  419</span>    entry = get_export_entry(specification)</div>
<div class="line"><span class="lineno">  420</span>    <span class="keywordflow">if</span> entry <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> entry.suffix <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  421</span>        <span class="keywordflow">raise</span> MissingCallableSuffix(str(entry))</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad8889703316f088749dca4346d4d8798" name="ad8889703316f088749dca4346d4d8798"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8889703316f088749dca4346d4d8798">&#9670;&#160;</a></span>_record_to_fs_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> str pip._internal.operations.install.wheel._record_to_fs_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a>&#160;</td>
          <td class="paramname"><em>record_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>lib_dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  229</span><span class="keyword">def </span>_record_to_fs_path(record_path: RecordPath, lib_dir: str) -&gt; str:</div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordflow">return</span> os.path.join(lib_dir, record_path)</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a763c68f9a0f9d551f44896ba9fdfdfdc" name="a763c68f9a0f9d551f44896ba9fdfdfdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a763c68f9a0f9d551f44896ba9fdfdfdc">&#9670;&#160;</a></span>csv_io_kwargs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Dict[str, Any] pip._internal.operations.install.wheel.csv_io_kwargs </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>mode</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return keyword arguments to properly open a CSV file
in the given mode.
</pre> <div class="fragment"><div class="line"><span class="lineno">   87</span><span class="keyword">def </span>csv_io_kwargs(mode: str) -&gt; Dict[str, Any]:</div>
<div class="line"><span class="lineno">   88</span>    <span class="stringliteral">&quot;&quot;&quot;Return keyword arguments to properly open a CSV file</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral">    in the given mode.</span></div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">return</span> {<span class="stringliteral">&quot;mode&quot;</span>: mode, <span class="stringliteral">&quot;newline&quot;</span>: <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;encoding&quot;</span>: <span class="stringliteral">&quot;utf-8&quot;</span>}</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a162267d52f24ff2f69a2dc9d7ba23d93" name="a162267d52f24ff2f69a2dc9d7ba23d93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a162267d52f24ff2f69a2dc9d7ba23d93">&#9670;&#160;</a></span>fix_script()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool pip._internal.operations.install.wheel.fix_script </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Replace #!python with #!/path/to/python
Return True if file was changed.
</pre> <div class="fragment"><div class="line"><span class="lineno">   94</span><span class="keyword">def </span>fix_script(path: str) -&gt; bool:</div>
<div class="line"><span class="lineno">   95</span>    <span class="stringliteral">&quot;&quot;&quot;Replace #!python with #!/path/to/python</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    Return True if file was changed.</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   98</span>    <span class="comment"># XXX RECORD hashes will need to be updated</span></div>
<div class="line"><span class="lineno">   99</span>    <span class="keyword">assert</span> os.path.isfile(path)</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>    <span class="keyword">with</span> open(path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> script:</div>
<div class="line"><span class="lineno">  102</span>        firstline = script.readline()</div>
<div class="line"><span class="lineno">  103</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> firstline.startswith(b<span class="stringliteral">&quot;#!python&quot;</span>):</div>
<div class="line"><span class="lineno">  104</span>            <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  105</span>        exename = sys.executable.encode(sys.getfilesystemencoding())</div>
<div class="line"><span class="lineno">  106</span>        firstline = b<span class="stringliteral">&quot;#!&quot;</span> + exename + os.linesep.encode(<span class="stringliteral">&quot;ascii&quot;</span>)</div>
<div class="line"><span class="lineno">  107</span>        rest = script.read()</div>
<div class="line"><span class="lineno">  108</span>    <span class="keyword">with</span> open(path, <span class="stringliteral">&quot;wb&quot;</span>) <span class="keyword">as</span> script:</div>
<div class="line"><span class="lineno">  109</span>        script.write(firstline)</div>
<div class="line"><span class="lineno">  110</span>        script.write(rest)</div>
<div class="line"><span class="lineno">  111</span>    <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae5b5343be5f3f3c9b4b708a681647227" name="ae5b5343be5f3f3c9b4b708a681647227"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5b5343be5f3f3c9b4b708a681647227">&#9670;&#160;</a></span>get_console_script_specs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List[str] pip._internal.operations.install.wheel.get_console_script_specs </td>
          <td>(</td>
          <td class="paramtype">Dict[str, str]&#160;</td>
          <td class="paramname"><em>console</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Given the mapping from entrypoint name to callable, return the relevant
console script specs.
</pre> <div class="fragment"><div class="line"><span class="lineno">  275</span><span class="keyword">def </span>get_console_script_specs(console: Dict[str, str]) -&gt; List[str]:</div>
<div class="line"><span class="lineno">  276</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  277</span><span class="stringliteral">    Given the mapping from entrypoint name to callable, return the relevant</span></div>
<div class="line"><span class="lineno">  278</span><span class="stringliteral">    console script specs.</span></div>
<div class="line"><span class="lineno">  279</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  280</span>    <span class="comment"># Don&#39;t mutate caller&#39;s version</span></div>
<div class="line"><span class="lineno">  281</span>    console = console.copy()</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    scripts_to_generate = []</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>    <span class="comment"># Special case pip and setuptools to generate versioned wrappers</span></div>
<div class="line"><span class="lineno">  286</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno">  287</span>    <span class="comment"># The issue is that some projects (specifically, pip and setuptools) use</span></div>
<div class="line"><span class="lineno">  288</span>    <span class="comment"># code in setup.py to create &quot;versioned&quot; entry points - pip2.7 on Python</span></div>
<div class="line"><span class="lineno">  289</span>    <span class="comment"># 2.7, pip3.3 on Python 3.3, etc. But these entry points are baked into</span></div>
<div class="line"><span class="lineno">  290</span>    <span class="comment"># the wheel metadata at build time, and so if the wheel is installed with</span></div>
<div class="line"><span class="lineno">  291</span>    <span class="comment"># a *different* version of Python the entry points will be wrong. The</span></div>
<div class="line"><span class="lineno">  292</span>    <span class="comment"># correct fix for this is to enhance the metadata to be able to describe</span></div>
<div class="line"><span class="lineno">  293</span>    <span class="comment"># such versioned entry points, but that won&#39;t happen till Metadata 2.0 is</span></div>
<div class="line"><span class="lineno">  294</span>    <span class="comment"># available.</span></div>
<div class="line"><span class="lineno">  295</span>    <span class="comment"># In the meantime, projects using versioned entry points will either have</span></div>
<div class="line"><span class="lineno">  296</span>    <span class="comment"># incorrect versioned entry points, or they will not be able to distribute</span></div>
<div class="line"><span class="lineno">  297</span>    <span class="comment"># &quot;universal&quot; wheels (i.e., they will need a wheel per Python version).</span></div>
<div class="line"><span class="lineno">  298</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno">  299</span>    <span class="comment"># Because setuptools and pip are bundled with _ensurepip and virtualenv,</span></div>
<div class="line"><span class="lineno">  300</span>    <span class="comment"># we need to use universal wheels. So, as a stopgap until Metadata 2.0, we</span></div>
<div class="line"><span class="lineno">  301</span>    <span class="comment"># override the versioned entry points in the wheel and generate the</span></div>
<div class="line"><span class="lineno">  302</span>    <span class="comment"># correct ones. This code is purely a short-term measure until Metadata 2.0</span></div>
<div class="line"><span class="lineno">  303</span>    <span class="comment"># is available.</span></div>
<div class="line"><span class="lineno">  304</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno">  305</span>    <span class="comment"># To add the level of hack in this section of code, in order to support</span></div>
<div class="line"><span class="lineno">  306</span>    <span class="comment"># ensurepip this code will look for an ``ENSUREPIP_OPTIONS`` environment</span></div>
<div class="line"><span class="lineno">  307</span>    <span class="comment"># variable which will control which version scripts get installed.</span></div>
<div class="line"><span class="lineno">  308</span>    <span class="comment">#</span></div>
<div class="line"><span class="lineno">  309</span>    <span class="comment"># ENSUREPIP_OPTIONS=altinstall</span></div>
<div class="line"><span class="lineno">  310</span>    <span class="comment">#   - Only pipX.Y and easy_install-X.Y will be generated and installed</span></div>
<div class="line"><span class="lineno">  311</span>    <span class="comment"># ENSUREPIP_OPTIONS=install</span></div>
<div class="line"><span class="lineno">  312</span>    <span class="comment">#   - pipX.Y, pipX, easy_install-X.Y will be generated and installed. Note</span></div>
<div class="line"><span class="lineno">  313</span>    <span class="comment">#     that this option is technically if ENSUREPIP_OPTIONS is set and is</span></div>
<div class="line"><span class="lineno">  314</span>    <span class="comment">#     not altinstall</span></div>
<div class="line"><span class="lineno">  315</span>    <span class="comment"># DEFAULT</span></div>
<div class="line"><span class="lineno">  316</span>    <span class="comment">#   - The default behavior is to install pip, pipX, pipX.Y, easy_install</span></div>
<div class="line"><span class="lineno">  317</span>    <span class="comment">#     and easy_install-X.Y.</span></div>
<div class="line"><span class="lineno">  318</span>    pip_script = console.pop(<span class="stringliteral">&quot;pip&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  319</span>    <span class="keywordflow">if</span> pip_script:</div>
<div class="line"><span class="lineno">  320</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;ENSUREPIP_OPTIONS&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> os.environ:</div>
<div class="line"><span class="lineno">  321</span>            scripts_to_generate.append(<span class="stringliteral">&quot;pip = &quot;</span> + pip_script)</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>        <span class="keywordflow">if</span> os.environ.get(<span class="stringliteral">&quot;ENSUREPIP_OPTIONS&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) != <span class="stringliteral">&quot;altinstall&quot;</span>:</div>
<div class="line"><span class="lineno">  324</span>            scripts_to_generate.append(</div>
<div class="line"><span class="lineno">  325</span>                <span class="stringliteral">&quot;pip{} = {}&quot;</span>.format(sys.version_info[0], pip_script)</div>
<div class="line"><span class="lineno">  326</span>            )</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>        scripts_to_generate.append(f<span class="stringliteral">&quot;pip{get_major_minor_version()} = {pip_script}&quot;</span>)</div>
<div class="line"><span class="lineno">  329</span>        <span class="comment"># Delete any other versioned pip entry points</span></div>
<div class="line"><span class="lineno">  330</span>        pip_ep = [k <span class="keywordflow">for</span> k <span class="keywordflow">in</span> console <span class="keywordflow">if</span> re.match(<span class="stringliteral">r&quot;pip(\d+(\.\d+)?)?$&quot;</span>, k)]</div>
<div class="line"><span class="lineno">  331</span>        <span class="keywordflow">for</span> k <span class="keywordflow">in</span> pip_ep:</div>
<div class="line"><span class="lineno">  332</span>            del console[k]</div>
<div class="line"><span class="lineno">  333</span>    easy_install_script = console.pop(<span class="stringliteral">&quot;easy_install&quot;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">if</span> easy_install_script:</div>
<div class="line"><span class="lineno">  335</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;ENSUREPIP_OPTIONS&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> os.environ:</div>
<div class="line"><span class="lineno">  336</span>            scripts_to_generate.append(<span class="stringliteral">&quot;easy_install = &quot;</span> + easy_install_script)</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>        scripts_to_generate.append(</div>
<div class="line"><span class="lineno">  339</span>            <span class="stringliteral">&quot;easy_install-{} = {}&quot;</span>.format(</div>
<div class="line"><span class="lineno">  340</span>                get_major_minor_version(), easy_install_script</div>
<div class="line"><span class="lineno">  341</span>            )</div>
<div class="line"><span class="lineno">  342</span>        )</div>
<div class="line"><span class="lineno">  343</span>        <span class="comment"># Delete any other versioned easy_install entry points</span></div>
<div class="line"><span class="lineno">  344</span>        easy_install_ep = [</div>
<div class="line"><span class="lineno">  345</span>            k <span class="keywordflow">for</span> k <span class="keywordflow">in</span> console <span class="keywordflow">if</span> re.match(<span class="stringliteral">r&quot;easy_install(-\d+\.\d+)?$&quot;</span>, k)</div>
<div class="line"><span class="lineno">  346</span>        ]</div>
<div class="line"><span class="lineno">  347</span>        <span class="keywordflow">for</span> k <span class="keywordflow">in</span> easy_install_ep:</div>
<div class="line"><span class="lineno">  348</span>            del console[k]</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>    <span class="comment"># Generate the console entry points specified in the wheel</span></div>
<div class="line"><span class="lineno">  351</span>    scripts_to_generate.extend(starmap(<span class="stringliteral">&quot;{} = {}&quot;</span>.format, console.items()))</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>    <span class="keywordflow">return</span> scripts_to_generate</div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a91c7cea95617ac2f2ca12fc52c040a4f" name="a91c7cea95617ac2f2ca12fc52c040a4f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c7cea95617ac2f2ca12fc52c040a4f">&#9670;&#160;</a></span>get_csv_rows_for_installed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List[<a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#abc61841c3e2aeebdb596030b6f827a62">InstalledCSVRow</a>] pip._internal.operations.install.wheel.get_csv_rows_for_installed </td>
          <td>(</td>
          <td class="paramtype">List[List[str]]&#160;</td>
          <td class="paramname"><em>old_csv_rows</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Dict[<a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a>, <a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a>]&#160;</td>
          <td class="paramname"><em>installed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Set[<a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a>]&#160;</td>
          <td class="paramname"><em>changed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[str]&#160;</td>
          <td class="paramname"><em>generated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>lib_dir</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">:param installed: A map from archive RECORD path to installation RECORD
    path.
</pre> <div class="fragment"><div class="line"><span class="lineno">  249</span>) -&gt; List[InstalledCSVRow]:</div>
<div class="line"><span class="lineno">  250</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">    :param installed: A map from archive RECORD path to installation RECORD</span></div>
<div class="line"><span class="lineno">  252</span><span class="stringliteral">        path.</span></div>
<div class="line"><span class="lineno">  253</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  254</span>    installed_rows: List[InstalledCSVRow] = []</div>
<div class="line"><span class="lineno">  255</span>    <span class="keywordflow">for</span> row <span class="keywordflow">in</span> old_csv_rows:</div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">if</span> len(row) &gt; 3:</div>
<div class="line"><span class="lineno">  257</span>            logger.warning(<span class="stringliteral">&quot;RECORD line has more than three elements: %s&quot;</span>, row)</div>
<div class="line"><span class="lineno">  258</span>        old_record_path = cast(<span class="stringliteral">&quot;RecordPath&quot;</span>, row[0])</div>
<div class="line"><span class="lineno">  259</span>        new_record_path = installed.pop(old_record_path, old_record_path)</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">if</span> new_record_path <span class="keywordflow">in</span> changed:</div>
<div class="line"><span class="lineno">  261</span>            digest, length = rehash(_record_to_fs_path(new_record_path, lib_dir))</div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  263</span>            digest = row[1] <span class="keywordflow">if</span> len(row) &gt; 1 <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  264</span>            length = row[2] <span class="keywordflow">if</span> len(row) &gt; 2 <span class="keywordflow">else</span> <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  265</span>        installed_rows.append((new_record_path, digest, length))</div>
<div class="line"><span class="lineno">  266</span>    <span class="keywordflow">for</span> f <span class="keywordflow">in</span> generated:</div>
<div class="line"><span class="lineno">  267</span>        path = _fs_to_record_path(f, lib_dir)</div>
<div class="line"><span class="lineno">  268</span>        digest, length = rehash(f)</div>
<div class="line"><span class="lineno">  269</span>        installed_rows.append((path, digest, length))</div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">return</span> installed_rows + [</div>
<div class="line"><span class="lineno">  271</span>        (installed_record_path, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;&quot;</span>) <span class="keywordflow">for</span> installed_record_path <span class="keywordflow">in</span> installed.values()</div>
<div class="line"><span class="lineno">  272</span>    ]</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9bce2ed414094aa3b8c601f1e7d24e9b" name="a9bce2ed414094aa3b8c601f1e7d24e9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bce2ed414094aa3b8c601f1e7d24e9b">&#9670;&#160;</a></span>get_entrypoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Tuple[Dict[str, str], Dict[str, str]] pip._internal.operations.install.wheel.get_entrypoints </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classpip_1_1__internal_1_1metadata_1_1base_1_1_base_distribution.html">BaseDistribution</a>&#160;</td>
          <td class="paramname"><em>dist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  118</span><span class="keyword">def </span>get_entrypoints(dist: BaseDistribution) -&gt; Tuple[Dict[str, str], Dict[str, str]]:</div>
<div class="line"><span class="lineno">  119</span>    console_scripts = {}</div>
<div class="line"><span class="lineno">  120</span>    gui_scripts = {}</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">for</span> entry_point <span class="keywordflow">in</span> dist.iter_entry_points():</div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">if</span> entry_point.group == <span class="stringliteral">&quot;console_scripts&quot;</span>:</div>
<div class="line"><span class="lineno">  123</span>            console_scripts[entry_point.name] = entry_point.value</div>
<div class="line"><span class="lineno">  124</span>        <span class="keywordflow">elif</span> entry_point.group == <span class="stringliteral">&quot;gui_scripts&quot;</span>:</div>
<div class="line"><span class="lineno">  125</span>            gui_scripts[entry_point.name] = entry_point.value</div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">return</span> console_scripts, gui_scripts</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6af9aebeddf288d227a465092696b9c4" name="a6af9aebeddf288d227a465092696b9c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6af9aebeddf288d227a465092696b9c4">&#9670;&#160;</a></span>install_wheel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None pip._internal.operations.install.wheel.install_wheel </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>wheel_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classpip_1_1__internal_1_1models_1_1scheme_1_1_scheme.html">Scheme</a>&#160;</td>
          <td class="paramname"><em>scheme</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>req_description</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>pycompile</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>warn_script_location</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[<a class="el" href="classpip_1_1__internal_1_1models_1_1direct__url_1_1_direct_url.html">DirectUrl</a>] &#160;</td>
          <td class="paramname"><em>direct_url</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>requested</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  728</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  729</span>    <span class="keyword">with</span> ZipFile(wheel_path, allowZip64=<span class="keyword">True</span>) <span class="keyword">as</span> z:</div>
<div class="line"><span class="lineno">  730</span>        <span class="keyword">with</span> req_error_context(req_description):</div>
<div class="line"><span class="lineno">  731</span>            _install_wheel(</div>
<div class="line"><span class="lineno">  732</span>                name=name,</div>
<div class="line"><span class="lineno">  733</span>                wheel_zip=z,</div>
<div class="line"><span class="lineno">  734</span>                wheel_path=wheel_path,</div>
<div class="line"><span class="lineno">  735</span>                scheme=scheme,</div>
<div class="line"><span class="lineno">  736</span>                pycompile=pycompile,</div>
<div class="line"><span class="lineno">  737</span>                warn_script_location=warn_script_location,</div>
<div class="line"><span class="lineno">  738</span>                direct_url=direct_url,</div>
<div class="line"><span class="lineno">  739</span>                requested=requested,</div>
<div class="line"><span class="lineno">  740</span>            )</div>
</div><!-- fragment -->
</div>
</div>
<a id="a093087ca804547d24b0b892878e01532" name="a093087ca804547d24b0b892878e01532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a093087ca804547d24b0b892878e01532">&#9670;&#160;</a></span>message_about_scripts_not_on_PATH()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[str] pip._internal.operations.install.wheel.message_about_scripts_not_on_PATH </td>
          <td>(</td>
          <td class="paramtype">Sequence[str]&#160;</td>
          <td class="paramname"><em>scripts</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Determine if any scripts are not on PATH and format a warning.
Returns a warning message if one or more scripts are not on PATH,
otherwise None.
</pre> <div class="fragment"><div class="line"><span class="lineno">  129</span><span class="keyword">def </span>message_about_scripts_not_on_PATH(scripts: Sequence[str]) -&gt; Optional[str]:</div>
<div class="line"><span class="lineno">  130</span>    <span class="stringliteral">&quot;&quot;&quot;Determine if any scripts are not on PATH and format a warning.</span></div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral">    Returns a warning message if one or more scripts are not on PATH,</span></div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">    otherwise None.</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> scripts:</div>
<div class="line"><span class="lineno">  135</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    <span class="comment"># Group scripts by the path they were installed in</span></div>
<div class="line"><span class="lineno">  138</span>    grouped_by_dir: Dict[str, Set[str]] = collections.defaultdict(set)</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">for</span> destfile <span class="keywordflow">in</span> scripts:</div>
<div class="line"><span class="lineno">  140</span>        parent_dir = os.path.dirname(destfile)</div>
<div class="line"><span class="lineno">  141</span>        script_name = os.path.basename(destfile)</div>
<div class="line"><span class="lineno">  142</span>        grouped_by_dir[parent_dir].add(script_name)</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    <span class="comment"># We don&#39;t want to warn for directories that are on PATH.</span></div>
<div class="line"><span class="lineno">  145</span>    not_warn_dirs = [</div>
<div class="line"><span class="lineno">  146</span>        os.path.normcase(os.path.normpath(i)).rstrip(os.sep)</div>
<div class="line"><span class="lineno">  147</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> os.environ.get(<span class="stringliteral">&quot;PATH&quot;</span>, <span class="stringliteral">&quot;&quot;</span>).split(os.pathsep)</div>
<div class="line"><span class="lineno">  148</span>    ]</div>
<div class="line"><span class="lineno">  149</span>    <span class="comment"># If an executable sits with sys.executable, we don&#39;t warn for it.</span></div>
<div class="line"><span class="lineno">  150</span>    <span class="comment">#     This covers the case of venv invocations without activating the venv.</span></div>
<div class="line"><span class="lineno">  151</span>    not_warn_dirs.append(</div>
<div class="line"><span class="lineno">  152</span>        os.path.normcase(os.path.normpath(os.path.dirname(sys.executable)))</div>
<div class="line"><span class="lineno">  153</span>    )</div>
<div class="line"><span class="lineno">  154</span>    warn_for: Dict[str, Set[str]] = {</div>
<div class="line"><span class="lineno">  155</span>        parent_dir: scripts</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">for</span> parent_dir, scripts <span class="keywordflow">in</span> grouped_by_dir.items()</div>
<div class="line"><span class="lineno">  157</span>        <span class="keywordflow">if</span> os.path.normcase(os.path.normpath(parent_dir)) <span class="keywordflow">not</span> <span class="keywordflow">in</span> not_warn_dirs</div>
<div class="line"><span class="lineno">  158</span>    }</div>
<div class="line"><span class="lineno">  159</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> warn_for:</div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>    <span class="comment"># Format a message</span></div>
<div class="line"><span class="lineno">  163</span>    msg_lines = []</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">for</span> parent_dir, dir_scripts <span class="keywordflow">in</span> warn_for.items():</div>
<div class="line"><span class="lineno">  165</span>        sorted_scripts: List[str] = sorted(dir_scripts)</div>
<div class="line"><span class="lineno">  166</span>        <span class="keywordflow">if</span> len(sorted_scripts) == 1:</div>
<div class="line"><span class="lineno">  167</span>            start_text = <span class="stringliteral">&quot;script {} is&quot;</span>.format(sorted_scripts[0])</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  169</span>            start_text = <span class="stringliteral">&quot;scripts {} are&quot;</span>.format(</div>
<div class="line"><span class="lineno">  170</span>                <span class="stringliteral">&quot;, &quot;</span>.join(sorted_scripts[:-1]) + <span class="stringliteral">&quot; and &quot;</span> + sorted_scripts[-1]</div>
<div class="line"><span class="lineno">  171</span>            )</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>        msg_lines.append(</div>
<div class="line"><span class="lineno">  174</span>            <span class="stringliteral">&quot;The {} installed in &#39;{}&#39; which is not on PATH.&quot;</span>.format(</div>
<div class="line"><span class="lineno">  175</span>                start_text, parent_dir</div>
<div class="line"><span class="lineno">  176</span>            )</div>
<div class="line"><span class="lineno">  177</span>        )</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    last_line_fmt = (</div>
<div class="line"><span class="lineno">  180</span>        <span class="stringliteral">&quot;Consider adding {} to PATH or, if you prefer &quot;</span></div>
<div class="line"><span class="lineno">  181</span>        <span class="stringliteral">&quot;to suppress this warning, use --no-warn-script-location.&quot;</span></div>
<div class="line"><span class="lineno">  182</span>    )</div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">if</span> len(msg_lines) == 1:</div>
<div class="line"><span class="lineno">  184</span>        msg_lines.append(last_line_fmt.format(<span class="stringliteral">&quot;this directory&quot;</span>))</div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  186</span>        msg_lines.append(last_line_fmt.format(<span class="stringliteral">&quot;these directories&quot;</span>))</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <span class="comment"># Add a note if any directory starts with ~</span></div>
<div class="line"><span class="lineno">  189</span>    warn_for_tilde = any(</div>
<div class="line"><span class="lineno">  190</span>        i[0] == <span class="stringliteral">&quot;~&quot;</span> <span class="keywordflow">for</span> i <span class="keywordflow">in</span> os.environ.get(<span class="stringliteral">&quot;PATH&quot;</span>, <span class="stringliteral">&quot;&quot;</span>).split(os.pathsep) <span class="keywordflow">if</span> i</div>
<div class="line"><span class="lineno">  191</span>    )</div>
<div class="line"><span class="lineno">  192</span>    <span class="keywordflow">if</span> warn_for_tilde:</div>
<div class="line"><span class="lineno">  193</span>        tilde_warning_msg = (</div>
<div class="line"><span class="lineno">  194</span>            <span class="stringliteral">&quot;NOTE: The current PATH contains path(s) starting with `~`, &quot;</span></div>
<div class="line"><span class="lineno">  195</span>            <span class="stringliteral">&quot;which may not be expanded by all applications.&quot;</span></div>
<div class="line"><span class="lineno">  196</span>        )</div>
<div class="line"><span class="lineno">  197</span>        msg_lines.append(tilde_warning_msg)</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>    <span class="comment"># Returns the formatted multiline message</span></div>
<div class="line"><span class="lineno">  200</span>    <span class="keywordflow">return</span> <span class="stringliteral">&quot;\n&quot;</span>.join(msg_lines)</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a478b91aed8c1980f16157946dbb6be5e" name="a478b91aed8c1980f16157946dbb6be5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a478b91aed8c1980f16157946dbb6be5e">&#9670;&#160;</a></span>rehash()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Tuple[str, str] pip._internal.operations.install.wheel.rehash </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>blocksize</em> = <code>1&#160;&lt;&lt;&#160;20</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return (encoded_digest, length) for path using hashlib.sha256()</pre> <div class="fragment"><div class="line"><span class="lineno">   80</span><span class="keyword">def </span>rehash(path: str, blocksize: int = 1 &lt;&lt; 20) -&gt; Tuple[str, str]:</div>
<div class="line"><span class="lineno">   81</span>    <span class="stringliteral">&quot;&quot;&quot;Return (encoded_digest, length) for path using hashlib.sha256()&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   82</span>    h, length = hash_file(path, blocksize)</div>
<div class="line"><span class="lineno">   83</span>    digest = <span class="stringliteral">&quot;sha256=&quot;</span> + urlsafe_b64encode(h.digest()).decode(<span class="stringliteral">&quot;latin1&quot;</span>).rstrip(<span class="stringliteral">&quot;=&quot;</span>)</div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordflow">return</span> (digest, str(length))</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a03c95f6229c87c89e57187766bd63b5f" name="a03c95f6229c87c89e57187766bd63b5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03c95f6229c87c89e57187766bd63b5f">&#9670;&#160;</a></span>req_error_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Generator[None, None, None] pip._internal.operations.install.wheel.req_error_context </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>req_description</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  711</span><span class="keyword">def </span>req_error_context(req_description: str) -&gt; Generator[<span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>]:</div>
<div class="line"><span class="lineno">  712</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  713</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno">  714</span>    <span class="keywordflow">except</span> InstallationError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  715</span>        message = <span class="stringliteral">&quot;For req: {}. {}&quot;</span>.format(req_description, e.args[0])</div>
<div class="line"><span class="lineno">  716</span>        <span class="keywordflow">raise</span> InstallationError(message) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a29b7362189c5c93f98180d204ac834dc" name="a29b7362189c5c93f98180d204ac834dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b7362189c5c93f98180d204ac834dc">&#9670;&#160;</a></span>wheel_root_is_purelib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool pip._internal.operations.install.wheel.wheel_root_is_purelib </td>
          <td>(</td>
          <td class="paramtype">Message&#160;</td>
          <td class="paramname"><em>metadata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  114</span><span class="keyword">def </span>wheel_root_is_purelib(metadata: Message) -&gt; bool:</div>
<div class="line"><span class="lineno">  115</span>    <span class="keywordflow">return</span> metadata.get(<span class="stringliteral">&quot;Root-Is-Purelib&quot;</span>, <span class="stringliteral">&quot;&quot;</span>).lower() == <span class="stringliteral">&quot;true&quot;</span></div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="abc61841c3e2aeebdb596030b6f827a62" name="abc61841c3e2aeebdb596030b6f827a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc61841c3e2aeebdb596030b6f827a62">&#9670;&#160;</a></span>InstalledCSVRow</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pip._internal.operations.install.wheel.InstalledCSVRow = Tuple[<a class="el" href="namespacepip_1_1__internal_1_1operations_1_1install_1_1wheel.html#aa83c7ecb8dd69b844ed57ed1fa3a7209">RecordPath</a>, str, Union[int, str]]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7ea6a5636c15a59204a7f90ab0a5bd3f" name="a7ea6a5636c15a59204a7f90ab0a5bd3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ea6a5636c15a59204a7f90ab0a5bd3f">&#9670;&#160;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pip._internal.operations.install.wheel.logger = logging.getLogger(__name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa83c7ecb8dd69b844ed57ed1fa3a7209" name="aa83c7ecb8dd69b844ed57ed1fa3a7209"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa83c7ecb8dd69b844ed57ed1fa3a7209">&#9670;&#160;</a></span>RecordPath</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pip._internal.operations.install.wheel.RecordPath = NewType(&quot;RecordPath&quot;, str)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
