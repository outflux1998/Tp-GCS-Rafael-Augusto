<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: threadpoolctl.ThreadpoolController Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacethreadpoolctl.html">threadpoolctl</a></li><li class="navelem"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html">ThreadpoolController</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classthreadpoolctl_1_1_threadpool_controller-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">threadpoolctl.ThreadpoolController Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a52d85404f41508aa357d9381b31169db" id="r_a52d85404f41508aa357d9381b31169db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#a52d85404f41508aa357d9381b31169db">__init__</a> (self)</td></tr>
<tr class="separator:a52d85404f41508aa357d9381b31169db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc7199aabf6782c70425489f9b41848e" id="r_acc7199aabf6782c70425489f9b41848e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#acc7199aabf6782c70425489f9b41848e">info</a> (self)</td></tr>
<tr class="separator:acc7199aabf6782c70425489f9b41848e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c92add7119c9d9d7abc0d17011e01f" id="r_af9c92add7119c9d9d7abc0d17011e01f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#af9c92add7119c9d9d7abc0d17011e01f">select</a> (self, **kwargs)</td></tr>
<tr class="separator:af9c92add7119c9d9d7abc0d17011e01f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c9ef5897ae80f9de4491f7f4b98e959" id="r_a0c9ef5897ae80f9de4491f7f4b98e959"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#a0c9ef5897ae80f9de4491f7f4b98e959">limit</a> (self, *limits=None, user_api=None)</td></tr>
<tr class="separator:a0c9ef5897ae80f9de4491f7f4b98e959"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d198d09fd761a1c65d92c70928f7cf3" id="r_a6d198d09fd761a1c65d92c70928f7cf3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#a6d198d09fd761a1c65d92c70928f7cf3">wrap</a> (self, *limits=None, user_api=None)</td></tr>
<tr class="separator:a6d198d09fd761a1c65d92c70928f7cf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e5f17e215f3553dacffe58ce5a6228" id="r_ad0e5f17e215f3553dacffe58ce5a6228"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#ad0e5f17e215f3553dacffe58ce5a6228">__len__</a> (self)</td></tr>
<tr class="separator:ad0e5f17e215f3553dacffe58ce5a6228"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad6ccfe0c8d22cc1c3a9cf0dfc95212d9" id="r_ad6ccfe0c8d22cc1c3a9cf0dfc95212d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#ad6ccfe0c8d22cc1c3a9cf0dfc95212d9">lib_controllers</a></td></tr>
<tr class="separator:ad6ccfe0c8d22cc1c3a9cf0dfc95212d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a7a1c9fbd6f5b1de6a3e9e70666097693" id="r_a7a1c9fbd6f5b1de6a3e9e70666097693"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#a7a1c9fbd6f5b1de6a3e9e70666097693">USER_APIS</a> = &quot;, &quot;.join('&quot;{}&quot;'.format(api) for api <a class="el" href="__lapack__subroutines_8h.html#aa83d4778c28341ab79b01b2371f666fe">in</a> <a class="el" href="namespacethreadpoolctl.html#a03b4b77f4a4933c778170fc4cd59609f">_ALL_USER_APIS</a>),</td></tr>
<tr class="separator:a7a1c9fbd6f5b1de6a3e9e70666097693"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdedab0711aa6d7c3b33fc15dcf02692" id="r_abdedab0711aa6d7c3b33fc15dcf02692"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#abdedab0711aa6d7c3b33fc15dcf02692">INTERNAL_APIS</a> = &quot;, &quot;.join('&quot;{}&quot;'.format(api) for api <a class="el" href="__lapack__subroutines_8h.html#aa83d4778c28341ab79b01b2371f666fe">in</a> <a class="el" href="namespacethreadpoolctl.html#a70599ae27f3b793fdc1f9fea70ec3356">_ALL_INTERNAL_APIS</a>),</td></tr>
<tr class="separator:abdedab0711aa6d7c3b33fc15dcf02692"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:af0bb90097756d4d2e8eae99e2af47e44" id="r_af0bb90097756d4d2e8eae99e2af47e44"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#af0bb90097756d4d2e8eae99e2af47e44">_from_controllers</a> (cls, <a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#ad6ccfe0c8d22cc1c3a9cf0dfc95212d9">lib_controllers</a>)</td></tr>
<tr class="separator:af0bb90097756d4d2e8eae99e2af47e44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8cbfb4c3690c9771e26b8bdcdc6cfb1" id="r_af8cbfb4c3690c9771e26b8bdcdc6cfb1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#af8cbfb4c3690c9771e26b8bdcdc6cfb1">_get_params_for_sequential_blas_under_openmp</a> (self)</td></tr>
<tr class="separator:af8cbfb4c3690c9771e26b8bdcdc6cfb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38c273baf99230ea4b5f12798e1ea54c" id="r_a38c273baf99230ea4b5f12798e1ea54c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#a38c273baf99230ea4b5f12798e1ea54c">_load_libraries</a> (self)</td></tr>
<tr class="separator:a38c273baf99230ea4b5f12798e1ea54c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38cadd1cc66d27bb8e98988de2b2f732" id="r_a38cadd1cc66d27bb8e98988de2b2f732"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#a38cadd1cc66d27bb8e98988de2b2f732">_find_libraries_with_dl_iterate_phdr</a> (self)</td></tr>
<tr class="separator:a38cadd1cc66d27bb8e98988de2b2f732"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65df32761cd33e550642aa049db5adfe" id="r_a65df32761cd33e550642aa049db5adfe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#a65df32761cd33e550642aa049db5adfe">_find_libraries_with_dyld</a> (self)</td></tr>
<tr class="separator:a65df32761cd33e550642aa049db5adfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e630dfe662efde1ef67fc41755381f2" id="r_a9e630dfe662efde1ef67fc41755381f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#a9e630dfe662efde1ef67fc41755381f2">_find_libraries_with_enum_process_module_ex</a> (self)</td></tr>
<tr class="separator:a9e630dfe662efde1ef67fc41755381f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47f6dedd0ac0c9ebce922d5cd3d54c02" id="r_a47f6dedd0ac0c9ebce922d5cd3d54c02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#a47f6dedd0ac0c9ebce922d5cd3d54c02">_make_controller_from_path</a> (self, filepath)</td></tr>
<tr class="separator:a47f6dedd0ac0c9ebce922d5cd3d54c02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af313cf6441067ae79042a567c0bc392a" id="r_af313cf6441067ae79042a567c0bc392a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#af313cf6441067ae79042a567c0bc392a">_check_prefix</a> (self, library_basename, filename_prefixes)</td></tr>
<tr class="separator:af313cf6441067ae79042a567c0bc392a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a48ff8fe3c495cdb83e127687817b29" id="r_a9a48ff8fe3c495cdb83e127687817b29"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#a9a48ff8fe3c495cdb83e127687817b29">_warn_if_incompatible_openmp</a> (self)</td></tr>
<tr class="separator:a9a48ff8fe3c495cdb83e127687817b29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae10500a95307616f72b86dbdf2cb1fae" id="r_ae10500a95307616f72b86dbdf2cb1fae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#ae10500a95307616f72b86dbdf2cb1fae">_get_libc</a> (cls)</td></tr>
<tr class="separator:ae10500a95307616f72b86dbdf2cb1fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3abe77e7bd17261b29a077e8c57e416" id="r_ac3abe77e7bd17261b29a077e8c57e416"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#ac3abe77e7bd17261b29a077e8c57e416">_get_windll</a> (cls, dll_name)</td></tr>
<tr class="separator:ac3abe77e7bd17261b29a077e8c57e416"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a12db282e24cc9c9b90595cb486a59b9c" id="r_a12db282e24cc9c9b90595cb486a59b9c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classthreadpoolctl_1_1_threadpool_controller.html#a12db282e24cc9c9b90595cb486a59b9c">_system_libraries</a> = dict()</td></tr>
<tr class="separator:a12db282e24cc9c9b90595cb486a59b9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Collection of LibController objects for all loaded supported libraries

Attributes
----------
lib_controllers : list of `LibController` objects
    The list of library controllers of all loaded supported libraries.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a52d85404f41508aa357d9381b31169db" name="a52d85404f41508aa357d9381b31169db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52d85404f41508aa357d9381b31169db">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  401</span>    <span class="keyword">def </span>__init__(self):</div>
<div class="line"><span class="lineno">  402</span>        self.lib_controllers = []</div>
<div class="line"><span class="lineno">  403</span>        self._load_libraries()</div>
<div class="line"><span class="lineno">  404</span>        self._warn_if_incompatible_openmp()</div>
<div class="line"><span class="lineno">  405</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad0e5f17e215f3553dacffe58ce5a6228" name="ad0e5f17e215f3553dacffe58ce5a6228"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad0e5f17e215f3553dacffe58ce5a6228">&#9670;&#160;</a></span>__len__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController.__len__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  549</span>    <span class="keyword">def </span>__len__(self):</div>
<div class="line"><span class="lineno">  550</span>        <span class="keywordflow">return</span> len(self.lib_controllers)</div>
<div class="line"><span class="lineno">  551</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af313cf6441067ae79042a567c0bc392a" name="af313cf6441067ae79042a567c0bc392a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af313cf6441067ae79042a567c0bc392a">&#9670;&#160;</a></span>_check_prefix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._check_prefix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>library_basename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filename_prefixes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return the prefix library_basename starts with

Return None if none matches.
</pre> <div class="fragment"><div class="line"><span class="lineno">  733</span>    <span class="keyword">def </span>_check_prefix(self, library_basename, filename_prefixes):</div>
<div class="line"><span class="lineno">  734</span>        <span class="stringliteral">&quot;&quot;&quot;Return the prefix library_basename starts with</span></div>
<div class="line"><span class="lineno">  735</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  736</span><span class="stringliteral">        Return None if none matches.</span></div>
<div class="line"><span class="lineno">  737</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  738</span>        <span class="keywordflow">for</span> prefix <span class="keywordflow">in</span> filename_prefixes:</div>
<div class="line"><span class="lineno">  739</span>            <span class="keywordflow">if</span> library_basename.startswith(prefix):</div>
<div class="line"><span class="lineno">  740</span>                <span class="keywordflow">return</span> prefix</div>
<div class="line"><span class="lineno">  741</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  742</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a38cadd1cc66d27bb8e98988de2b2f732" name="a38cadd1cc66d27bb8e98988de2b2f732"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38cadd1cc66d27bb8e98988de2b2f732">&#9670;&#160;</a></span>_find_libraries_with_dl_iterate_phdr()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._find_libraries_with_dl_iterate_phdr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Loop through loaded libraries and return binders on supported ones

This function is expected to work on POSIX system only.
This code is adapted from code by Intel developer @anton-malakhov
available at https://github.com/IntelPython/smp

Copyright (c) 2017, Intel Corporation published under the BSD 3-Clause
license
</pre> <div class="fragment"><div class="line"><span class="lineno">  561</span>    <span class="keyword">def </span>_find_libraries_with_dl_iterate_phdr(self):</div>
<div class="line"><span class="lineno">  562</span>        <span class="stringliteral">&quot;&quot;&quot;Loop through loaded libraries and return binders on supported ones</span></div>
<div class="line"><span class="lineno">  563</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  564</span><span class="stringliteral">        This function is expected to work on POSIX system only.</span></div>
<div class="line"><span class="lineno">  565</span><span class="stringliteral">        This code is adapted from code by Intel developer @anton-malakhov</span></div>
<div class="line"><span class="lineno">  566</span><span class="stringliteral">        available at https://github.com/IntelPython/smp</span></div>
<div class="line"><span class="lineno">  567</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  568</span><span class="stringliteral">        Copyright (c) 2017, Intel Corporation published under the BSD 3-Clause</span></div>
<div class="line"><span class="lineno">  569</span><span class="stringliteral">        license</span></div>
<div class="line"><span class="lineno">  570</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  571</span>        libc = self._get_libc()</div>
<div class="line"><span class="lineno">  572</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(libc, <span class="stringliteral">&quot;dl_iterate_phdr&quot;</span>):  <span class="comment"># pragma: no cover</span></div>
<div class="line"><span class="lineno">  573</span>            <span class="keywordflow">return</span> []</div>
<div class="line"><span class="lineno">  574</span> </div>
<div class="line"><span class="lineno">  575</span>        <span class="comment"># Callback function for `dl_iterate_phdr` which is called for every</span></div>
<div class="line"><span class="lineno">  576</span>        <span class="comment"># library loaded in the current process until it returns 1.</span></div>
<div class="line"><span class="lineno">  577</span>        <span class="keyword">def </span>match_library_callback(info, size, data):</div>
<div class="line"><span class="lineno">  578</span>            <span class="comment"># Get the path of the current library</span></div>
<div class="line"><span class="lineno">  579</span>            filepath = info.contents.dlpi_name</div>
<div class="line"><span class="lineno">  580</span>            <span class="keywordflow">if</span> filepath:</div>
<div class="line"><span class="lineno">  581</span>                filepath = filepath.decode(<span class="stringliteral">&quot;utf-8&quot;</span>)</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span>                <span class="comment"># Store the library controller if it is supported and selected</span></div>
<div class="line"><span class="lineno">  584</span>                self._make_controller_from_path(filepath)</div>
<div class="line"><span class="lineno">  585</span>            <span class="keywordflow">return</span> 0</div>
<div class="line"><span class="lineno">  586</span> </div>
<div class="line"><span class="lineno">  587</span>        c_func_signature = ctypes.CFUNCTYPE(</div>
<div class="line"><span class="lineno">  588</span>            ctypes.c_int,  <span class="comment"># Return type</span></div>
<div class="line"><span class="lineno">  589</span>            ctypes.POINTER(_dl_phdr_info),</div>
<div class="line"><span class="lineno">  590</span>            ctypes.c_size_t,</div>
<div class="line"><span class="lineno">  591</span>            ctypes.c_char_p,</div>
<div class="line"><span class="lineno">  592</span>        )</div>
<div class="line"><span class="lineno">  593</span>        c_match_library_callback = c_func_signature(match_library_callback)</div>
<div class="line"><span class="lineno">  594</span> </div>
<div class="line"><span class="lineno">  595</span>        data = ctypes.c_char_p(b<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  596</span>        libc.dl_iterate_phdr(c_match_library_callback, data)</div>
<div class="line"><span class="lineno">  597</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a65df32761cd33e550642aa049db5adfe" name="a65df32761cd33e550642aa049db5adfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65df32761cd33e550642aa049db5adfe">&#9670;&#160;</a></span>_find_libraries_with_dyld()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._find_libraries_with_dyld </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Loop through loaded libraries and return binders on supported ones

This function is expected to work on OSX system only
</pre> <div class="fragment"><div class="line"><span class="lineno">  598</span>    <span class="keyword">def </span>_find_libraries_with_dyld(self):</div>
<div class="line"><span class="lineno">  599</span>        <span class="stringliteral">&quot;&quot;&quot;Loop through loaded libraries and return binders on supported ones</span></div>
<div class="line"><span class="lineno">  600</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  601</span><span class="stringliteral">        This function is expected to work on OSX system only</span></div>
<div class="line"><span class="lineno">  602</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  603</span>        libc = self._get_libc()</div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(libc, <span class="stringliteral">&quot;_dyld_image_count&quot;</span>):  <span class="comment"># pragma: no cover</span></div>
<div class="line"><span class="lineno">  605</span>            <span class="keywordflow">return</span> []</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>        n_dyld = libc._dyld_image_count()</div>
<div class="line"><span class="lineno">  608</span>        libc._dyld_get_image_name.restype = ctypes.c_char_p</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(n_dyld):</div>
<div class="line"><span class="lineno">  611</span>            filepath = ctypes.string_at(libc._dyld_get_image_name(i))</div>
<div class="line"><span class="lineno">  612</span>            filepath = filepath.decode(<span class="stringliteral">&quot;utf-8&quot;</span>)</div>
<div class="line"><span class="lineno">  613</span> </div>
<div class="line"><span class="lineno">  614</span>            <span class="comment"># Store the library controller if it is supported and selected</span></div>
<div class="line"><span class="lineno">  615</span>            self._make_controller_from_path(filepath)</div>
<div class="line"><span class="lineno">  616</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e630dfe662efde1ef67fc41755381f2" name="a9e630dfe662efde1ef67fc41755381f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e630dfe662efde1ef67fc41755381f2">&#9670;&#160;</a></span>_find_libraries_with_enum_process_module_ex()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._find_libraries_with_enum_process_module_ex </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Loop through loaded libraries and return binders on supported ones

This function is expected to work on windows system only.
This code is adapted from code by Philipp Hagemeister @phihag available
at https://stackoverflow.com/questions/17474574
</pre> <div class="fragment"><div class="line"><span class="lineno">  617</span>    <span class="keyword">def </span>_find_libraries_with_enum_process_module_ex(self):</div>
<div class="line"><span class="lineno">  618</span>        <span class="stringliteral">&quot;&quot;&quot;Loop through loaded libraries and return binders on supported ones</span></div>
<div class="line"><span class="lineno">  619</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  620</span><span class="stringliteral">        This function is expected to work on windows system only.</span></div>
<div class="line"><span class="lineno">  621</span><span class="stringliteral">        This code is adapted from code by Philipp Hagemeister @phihag available</span></div>
<div class="line"><span class="lineno">  622</span><span class="stringliteral">        at https://stackoverflow.com/questions/17474574</span></div>
<div class="line"><span class="lineno">  623</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  624</span>        <span class="keyword">from</span> ctypes.wintypes <span class="keyword">import</span> DWORD, HMODULE, MAX_PATH</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>        PROCESS_QUERY_INFORMATION = 0x0400</div>
<div class="line"><span class="lineno">  627</span>        PROCESS_VM_READ = 0x0010</div>
<div class="line"><span class="lineno">  628</span> </div>
<div class="line"><span class="lineno">  629</span>        LIST_LIBRARIES_ALL = 0x03</div>
<div class="line"><span class="lineno">  630</span> </div>
<div class="line"><span class="lineno">  631</span>        ps_api = self._get_windll(<span class="stringliteral">&quot;Psapi&quot;</span>)</div>
<div class="line"><span class="lineno">  632</span>        kernel_32 = self._get_windll(<span class="stringliteral">&quot;kernel32&quot;</span>)</div>
<div class="line"><span class="lineno">  633</span> </div>
<div class="line"><span class="lineno">  634</span>        h_process = kernel_32.OpenProcess(</div>
<div class="line"><span class="lineno">  635</span>            PROCESS_QUERY_INFORMATION | PROCESS_VM_READ, <span class="keyword">False</span>, os.getpid()</div>
<div class="line"><span class="lineno">  636</span>        )</div>
<div class="line"><span class="lineno">  637</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> h_process:  <span class="comment"># pragma: no cover</span></div>
<div class="line"><span class="lineno">  638</span>            <span class="keywordflow">raise</span> OSError(f<span class="stringliteral">&quot;Could not open PID {os.getpid()}&quot;</span>)</div>
<div class="line"><span class="lineno">  639</span> </div>
<div class="line"><span class="lineno">  640</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  641</span>            buf_count = 256</div>
<div class="line"><span class="lineno">  642</span>            needed = DWORD()</div>
<div class="line"><span class="lineno">  643</span>            <span class="comment"># Grow the buffer until it becomes large enough to hold all the</span></div>
<div class="line"><span class="lineno">  644</span>            <span class="comment"># module headers</span></div>
<div class="line"><span class="lineno">  645</span>            <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  646</span>                buf = (HMODULE * buf_count)()</div>
<div class="line"><span class="lineno">  647</span>                buf_size = ctypes.sizeof(buf)</div>
<div class="line"><span class="lineno">  648</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> ps_api.EnumProcessModulesEx(</div>
<div class="line"><span class="lineno">  649</span>                    h_process,</div>
<div class="line"><span class="lineno">  650</span>                    ctypes.byref(buf),</div>
<div class="line"><span class="lineno">  651</span>                    buf_size,</div>
<div class="line"><span class="lineno">  652</span>                    ctypes.byref(needed),</div>
<div class="line"><span class="lineno">  653</span>                    LIST_LIBRARIES_ALL,</div>
<div class="line"><span class="lineno">  654</span>                ):</div>
<div class="line"><span class="lineno">  655</span>                    <span class="keywordflow">raise</span> OSError(<span class="stringliteral">&quot;EnumProcessModulesEx failed&quot;</span>)</div>
<div class="line"><span class="lineno">  656</span>                <span class="keywordflow">if</span> buf_size &gt;= needed.value:</div>
<div class="line"><span class="lineno">  657</span>                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  658</span>                buf_count = needed.value // (buf_size // buf_count)</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>            count = needed.value // (buf_size // buf_count)</div>
<div class="line"><span class="lineno">  661</span>            h_modules = map(HMODULE, buf[:count])</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>            <span class="comment"># Loop through all the module headers and get the library path</span></div>
<div class="line"><span class="lineno">  664</span>            buf = ctypes.create_unicode_buffer(MAX_PATH)</div>
<div class="line"><span class="lineno">  665</span>            n_size = DWORD()</div>
<div class="line"><span class="lineno">  666</span>            <span class="keywordflow">for</span> h_module <span class="keywordflow">in</span> h_modules:</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>                <span class="comment"># Get the path of the current module</span></div>
<div class="line"><span class="lineno">  669</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> ps_api.GetModuleFileNameExW(</div>
<div class="line"><span class="lineno">  670</span>                    h_process, h_module, ctypes.byref(buf), ctypes.byref(n_size)</div>
<div class="line"><span class="lineno">  671</span>                ):</div>
<div class="line"><span class="lineno">  672</span>                    <span class="keywordflow">raise</span> OSError(<span class="stringliteral">&quot;GetModuleFileNameEx failed&quot;</span>)</div>
<div class="line"><span class="lineno">  673</span>                filepath = buf.value</div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>                <span class="comment"># Store the library controller if it is supported and selected</span></div>
<div class="line"><span class="lineno">  676</span>                self._make_controller_from_path(filepath)</div>
<div class="line"><span class="lineno">  677</span>        <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  678</span>            kernel_32.CloseHandle(h_process)</div>
<div class="line"><span class="lineno">  679</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af0bb90097756d4d2e8eae99e2af47e44" name="af0bb90097756d4d2e8eae99e2af47e44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0bb90097756d4d2e8eae99e2af47e44">&#9670;&#160;</a></span>_from_controllers()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._from_controllers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lib_controllers</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  407</span>    <span class="keyword">def </span>_from_controllers(cls, lib_controllers):</div>
<div class="line"><span class="lineno">  408</span>        new_controller = cls.__new__(cls)</div>
<div class="line"><span class="lineno">  409</span>        new_controller.lib_controllers = lib_controllers</div>
<div class="line"><span class="lineno">  410</span>        <span class="keywordflow">return</span> new_controller</div>
<div class="line"><span class="lineno">  411</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae10500a95307616f72b86dbdf2cb1fae" name="ae10500a95307616f72b86dbdf2cb1fae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae10500a95307616f72b86dbdf2cb1fae">&#9670;&#160;</a></span>_get_libc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._get_libc </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Load the lib-C for unix systems.</pre> <div class="fragment"><div class="line"><span class="lineno">  765</span>    <span class="keyword">def </span>_get_libc(cls):</div>
<div class="line"><span class="lineno">  766</span>        <span class="stringliteral">&quot;&quot;&quot;Load the lib-C for unix systems.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  767</span>        libc = cls._system_libraries.get(<span class="stringliteral">&quot;libc&quot;</span>)</div>
<div class="line"><span class="lineno">  768</span>        <span class="keywordflow">if</span> libc <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  769</span>            libc_name = find_library(<span class="stringliteral">&quot;c&quot;</span>)</div>
<div class="line"><span class="lineno">  770</span>            <span class="keywordflow">if</span> libc_name <span class="keywordflow">is</span> <span class="keywordtype">None</span>:  <span class="comment"># pragma: no cover</span></div>
<div class="line"><span class="lineno">  771</span>                <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  772</span>            libc = ctypes.CDLL(libc_name, mode=_RTLD_NOLOAD)</div>
<div class="line"><span class="lineno">  773</span>            cls._system_libraries[<span class="stringliteral">&quot;libc&quot;</span>] = libc</div>
<div class="line"><span class="lineno">  774</span>        <span class="keywordflow">return</span> libc</div>
<div class="line"><span class="lineno">  775</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af8cbfb4c3690c9771e26b8bdcdc6cfb1" name="af8cbfb4c3690c9771e26b8bdcdc6cfb1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8cbfb4c3690c9771e26b8bdcdc6cfb1">&#9670;&#160;</a></span>_get_params_for_sequential_blas_under_openmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._get_params_for_sequential_blas_under_openmp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return appropriate params to use for a sequential BLAS call in an OpenMP loop

This function takes into account the unexpected behavior of OpenBLAS with the
OpenMP threading layer.
</pre> <div class="fragment"><div class="line"><span class="lineno">  443</span>    <span class="keyword">def </span>_get_params_for_sequential_blas_under_openmp(self):</div>
<div class="line"><span class="lineno">  444</span>        <span class="stringliteral">&quot;&quot;&quot;Return appropriate params to use for a sequential BLAS call in an OpenMP loop</span></div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">        This function takes into account the unexpected behavior of OpenBLAS with the</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">        OpenMP threading layer.</span></div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  449</span>        <span class="keywordflow">if</span> self.select(</div>
<div class="line"><span class="lineno">  450</span>            internal_api=<span class="stringliteral">&quot;openblas&quot;</span>, threading_layer=<span class="stringliteral">&quot;openmp&quot;</span></div>
<div class="line"><span class="lineno">  451</span>        ).lib_controllers:</div>
<div class="line"><span class="lineno">  452</span>            <span class="keywordflow">return</span> {<span class="stringliteral">&quot;limits&quot;</span>: <span class="keywordtype">None</span>, <span class="stringliteral">&quot;user_api&quot;</span>: <span class="keywordtype">None</span>}</div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordflow">return</span> {<span class="stringliteral">&quot;limits&quot;</span>: 1, <span class="stringliteral">&quot;user_api&quot;</span>: <span class="stringliteral">&quot;blas&quot;</span>}</div>
<div class="line"><span class="lineno">  454</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac3abe77e7bd17261b29a077e8c57e416" name="ac3abe77e7bd17261b29a077e8c57e416"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac3abe77e7bd17261b29a077e8c57e416">&#9670;&#160;</a></span>_get_windll()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._get_windll </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dll_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Load a windows DLL</pre> <div class="fragment"><div class="line"><span class="lineno">  777</span>    <span class="keyword">def </span>_get_windll(cls, dll_name):</div>
<div class="line"><span class="lineno">  778</span>        <span class="stringliteral">&quot;&quot;&quot;Load a windows DLL&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  779</span>        dll = cls._system_libraries.get(dll_name)</div>
<div class="line"><span class="lineno">  780</span>        <span class="keywordflow">if</span> dll <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  781</span>            dll = ctypes.WinDLL(f<span class="stringliteral">&quot;{dll_name}.dll&quot;</span>)</div>
<div class="line"><span class="lineno">  782</span>            cls._system_libraries[dll_name] = dll</div>
<div class="line"><span class="lineno">  783</span>        <span class="keywordflow">return</span> dll</div>
<div class="line"><span class="lineno">  784</span> </div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span><span class="preprocessor">@_format_docstring</span>(</div>
</div><!-- fragment -->
</div>
</div>
<a id="a38c273baf99230ea4b5f12798e1ea54c" name="a38c273baf99230ea4b5f12798e1ea54c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38c273baf99230ea4b5f12798e1ea54c">&#9670;&#160;</a></span>_load_libraries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._load_libraries </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Loop through loaded shared libraries and store the supported ones</pre> <div class="fragment"><div class="line"><span class="lineno">  552</span>    <span class="keyword">def </span>_load_libraries(self):</div>
<div class="line"><span class="lineno">  553</span>        <span class="stringliteral">&quot;&quot;&quot;Loop through loaded shared libraries and store the supported ones&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  554</span>        <span class="keywordflow">if</span> sys.platform == <span class="stringliteral">&quot;darwin&quot;</span>:</div>
<div class="line"><span class="lineno">  555</span>            self._find_libraries_with_dyld()</div>
<div class="line"><span class="lineno">  556</span>        <span class="keywordflow">elif</span> sys.platform == <span class="stringliteral">&quot;win32&quot;</span>:</div>
<div class="line"><span class="lineno">  557</span>            self._find_libraries_with_enum_process_module_ex()</div>
<div class="line"><span class="lineno">  558</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  559</span>            self._find_libraries_with_dl_iterate_phdr()</div>
<div class="line"><span class="lineno">  560</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a47f6dedd0ac0c9ebce922d5cd3d54c02" name="a47f6dedd0ac0c9ebce922d5cd3d54c02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47f6dedd0ac0c9ebce922d5cd3d54c02">&#9670;&#160;</a></span>_make_controller_from_path()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._make_controller_from_path </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filepath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Store a library controller if it is supported and selected</pre> <div class="fragment"><div class="line"><span class="lineno">  680</span>    <span class="keyword">def </span>_make_controller_from_path(self, filepath):</div>
<div class="line"><span class="lineno">  681</span>        <span class="stringliteral">&quot;&quot;&quot;Store a library controller if it is supported and selected&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  682</span>        <span class="comment"># Required to resolve symlinks</span></div>
<div class="line"><span class="lineno">  683</span>        filepath = _realpath(filepath)</div>
<div class="line"><span class="lineno">  684</span>        <span class="comment"># `lower` required to take account of OpenMP dll case on Windows</span></div>
<div class="line"><span class="lineno">  685</span>        <span class="comment"># (vcomp, VCOMP, Vcomp, ...)</span></div>
<div class="line"><span class="lineno">  686</span>        filename = os.path.basename(filepath).lower()</div>
<div class="line"><span class="lineno">  687</span> </div>
<div class="line"><span class="lineno">  688</span>        <span class="comment"># Loop through supported libraries to find if this filename corresponds</span></div>
<div class="line"><span class="lineno">  689</span>        <span class="comment"># to a supported one.</span></div>
<div class="line"><span class="lineno">  690</span>        <span class="keywordflow">for</span> controller_class, candidate_lib <span class="keywordflow">in</span> _SUPPORTED_LIBRARIES.items():</div>
<div class="line"><span class="lineno">  691</span>            <span class="comment"># check if filename matches a supported prefix</span></div>
<div class="line"><span class="lineno">  692</span>            prefix = self._check_prefix(filename, candidate_lib[<span class="stringliteral">&quot;filename_prefixes&quot;</span>])</div>
<div class="line"><span class="lineno">  693</span> </div>
<div class="line"><span class="lineno">  694</span>            <span class="comment"># filename does not match any of the prefixes of the candidate</span></div>
<div class="line"><span class="lineno">  695</span>            <span class="comment"># library. move to next library.</span></div>
<div class="line"><span class="lineno">  696</span>            <span class="keywordflow">if</span> prefix <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  697</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span>            <span class="comment"># workaround for BLAS libraries packaged by conda-forge on windows, which</span></div>
<div class="line"><span class="lineno">  700</span>            <span class="comment"># are all renamed &quot;libblas.dll&quot;. We thus have to check to which BLAS</span></div>
<div class="line"><span class="lineno">  701</span>            <span class="comment"># implementation it actually corresponds looking for implementation</span></div>
<div class="line"><span class="lineno">  702</span>            <span class="comment"># specific symbols.</span></div>
<div class="line"><span class="lineno">  703</span>            <span class="keywordflow">if</span> prefix == <span class="stringliteral">&quot;libblas&quot;</span>:</div>
<div class="line"><span class="lineno">  704</span>                <span class="keywordflow">if</span> filename.endswith(<span class="stringliteral">&quot;.dll&quot;</span>):</div>
<div class="line"><span class="lineno">  705</span>                    libblas = ctypes.CDLL(filepath, _RTLD_NOLOAD)</div>
<div class="line"><span class="lineno">  706</span>                    <span class="keywordflow">if</span> <span class="keywordflow">not</span> any(</div>
<div class="line"><span class="lineno">  707</span>                        hasattr(libblas, func)</div>
<div class="line"><span class="lineno">  708</span>                        <span class="keywordflow">for</span> func <span class="keywordflow">in</span> candidate_lib[<span class="stringliteral">&quot;check_symbols&quot;</span>]</div>
<div class="line"><span class="lineno">  709</span>                    ):</div>
<div class="line"><span class="lineno">  710</span>                        <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  711</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  712</span>                    <span class="comment"># We ignore libblas on other platforms than windows because there</span></div>
<div class="line"><span class="lineno">  713</span>                    <span class="comment"># might be a libblas dso comming with openblas for instance that</span></div>
<div class="line"><span class="lineno">  714</span>                    <span class="comment"># can&#39;t be used to instantiate a pertinent LibController (many</span></div>
<div class="line"><span class="lineno">  715</span>                    <span class="comment"># symbols are missing) and would create confusion by making a</span></div>
<div class="line"><span class="lineno">  716</span>                    <span class="comment"># duplicate entry in threadpool_info.</span></div>
<div class="line"><span class="lineno">  717</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>            <span class="comment"># filename matches a prefix. Create and store the library</span></div>
<div class="line"><span class="lineno">  720</span>            <span class="comment"># controller.</span></div>
<div class="line"><span class="lineno">  721</span>            user_api = candidate_lib[<span class="stringliteral">&quot;user_api&quot;</span>]</div>
<div class="line"><span class="lineno">  722</span>            internal_api = candidate_lib[<span class="stringliteral">&quot;internal_api&quot;</span>]</div>
<div class="line"><span class="lineno">  723</span> </div>
<div class="line"><span class="lineno">  724</span>            lib_controller_class = globals()[controller_class]</div>
<div class="line"><span class="lineno">  725</span>            lib_controller = lib_controller_class(</div>
<div class="line"><span class="lineno">  726</span>                filepath=filepath,</div>
<div class="line"><span class="lineno">  727</span>                prefix=prefix,</div>
<div class="line"><span class="lineno">  728</span>                user_api=user_api,</div>
<div class="line"><span class="lineno">  729</span>                internal_api=internal_api,</div>
<div class="line"><span class="lineno">  730</span>            )</div>
<div class="line"><span class="lineno">  731</span>            self.lib_controllers.append(lib_controller)</div>
<div class="line"><span class="lineno">  732</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a48ff8fe3c495cdb83e127687817b29" name="a9a48ff8fe3c495cdb83e127687817b29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a48ff8fe3c495cdb83e127687817b29">&#9670;&#160;</a></span>_warn_if_incompatible_openmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._warn_if_incompatible_openmp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Raise a warning if llvm-OpenMP and intel-OpenMP are both loaded</pre> <div class="fragment"><div class="line"><span class="lineno">  743</span>    <span class="keyword">def </span>_warn_if_incompatible_openmp(self):</div>
<div class="line"><span class="lineno">  744</span>        <span class="stringliteral">&quot;&quot;&quot;Raise a warning if llvm-OpenMP and intel-OpenMP are both loaded&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  745</span>        <span class="keywordflow">if</span> sys.platform != <span class="stringliteral">&quot;linux&quot;</span>:</div>
<div class="line"><span class="lineno">  746</span>            <span class="comment"># Only raise the warning on linux</span></div>
<div class="line"><span class="lineno">  747</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  748</span> </div>
<div class="line"><span class="lineno">  749</span>        prefixes = [lib_controller.prefix <span class="keywordflow">for</span> lib_controller <span class="keywordflow">in</span> self.lib_controllers]</div>
<div class="line"><span class="lineno">  750</span>        msg = textwrap.dedent(</div>
<div class="line"><span class="lineno">  751</span>            <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  752</span><span class="stringliteral">            Found Intel OpenMP (&#39;libiomp&#39;) and LLVM OpenMP (&#39;libomp&#39;) loaded at</span></div>
<div class="line"><span class="lineno">  753</span><span class="stringliteral">            the same time. Both libraries are known to be incompatible and this</span></div>
<div class="line"><span class="lineno">  754</span><span class="stringliteral">            can cause random crashes or deadlocks on Linux when loaded in the</span></div>
<div class="line"><span class="lineno">  755</span><span class="stringliteral">            same Python program.</span></div>
<div class="line"><span class="lineno">  756</span><span class="stringliteral">            Using threadpoolctl may cause crashes or deadlocks. For more</span></div>
<div class="line"><span class="lineno">  757</span><span class="stringliteral">            information and possible workarounds, please see</span></div>
<div class="line"><span class="lineno">  758</span><span class="stringliteral">                https://github.com/joblib/threadpoolctl/blob/master/multiple_openmp.md</span></div>
<div class="line"><span class="lineno">  759</span><span class="stringliteral">            &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  760</span>        )</div>
<div class="line"><span class="lineno">  761</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;libomp&quot;</span> <span class="keywordflow">in</span> prefixes <span class="keywordflow">and</span> <span class="stringliteral">&quot;libiomp&quot;</span> <span class="keywordflow">in</span> prefixes:</div>
<div class="line"><span class="lineno">  762</span>            warnings.warn(msg, RuntimeWarning)</div>
<div class="line"><span class="lineno">  763</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acc7199aabf6782c70425489f9b41848e" name="acc7199aabf6782c70425489f9b41848e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc7199aabf6782c70425489f9b41848e">&#9670;&#160;</a></span>info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController.info </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return lib_controllers info as a list of dicts</pre> <div class="fragment"><div class="line"><span class="lineno">  412</span>    <span class="keyword">def </span>info(self):</div>
<div class="line"><span class="lineno">  413</span>        <span class="stringliteral">&quot;&quot;&quot;Return lib_controllers info as a list of dicts&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  414</span>        <span class="keywordflow">return</span> [lib_controller.info() <span class="keywordflow">for</span> lib_controller <span class="keywordflow">in</span> self.lib_controllers]</div>
<div class="line"><span class="lineno">  415</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c9ef5897ae80f9de4491f7f4b98e959" name="a0c9ef5897ae80f9de4491f7f4b98e959"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c9ef5897ae80f9de4491f7f4b98e959">&#9670;&#160;</a></span>limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController.limit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>limits</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>user_api</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Change the maximal number of threads that can be used in thread pools.

This function returns an object that can be used either as a callable (the
construction of this object limits the number of threads) or as a context
manager, in a `with` block to automatically restore the original state of the
controlled libraries when exiting the block.

Set the maximal number of threads that can be used in thread pools used in
the supported libraries to `limits`. This function works for libraries that
are already loaded in the interpreter and can be changed dynamically.

This effect is global and impacts the whole Python process. There is no thread
level isolation as these libraries do not offer thread-local APIs to configure
the number of threads to use in nested parallel calls.

Parameters
----------
limits : int, dict, 'sequential_blas_under_openmp' or None (default=None)
    The maximal number of threads that can be used in thread pools

    - If int, sets the maximum number of threads to `limits` for each
      library selected by `user_api`.

    - If it is a dictionary `{{key: max_threads}}`, this function sets a
      custom maximum number of threads for each `key` which can be either a
      `user_api` or a `prefix` for a specific library.

    - If 'sequential_blas_under_openmp', it will chose the appropriate `limits`
      and `user_api` parameters for the specific use case of sequential BLAS
      calls within an OpenMP parallel region. The `user_api` parameter is
      ignored.

    - If None, this function does not do anything.

user_api : {USER_APIS} or None (default=None)
    APIs of libraries to limit. Used only if `limits` is an int.

    - If "blas", it will only limit BLAS supported libraries ({BLAS_LIBS}).

    - If "openmp", it will only limit OpenMP supported libraries
      ({OPENMP_LIBS}). Note that it can affect the number of threads used
      by the BLAS libraries if they rely on OpenMP.

    - If None, this function will apply to all supported libraries.
</pre> <div class="fragment"><div class="line"><span class="lineno">  460</span>    <span class="keyword">def </span>limit(self, *, limits=None, user_api=None):</div>
<div class="line"><span class="lineno">  461</span>        <span class="stringliteral">&quot;&quot;&quot;Change the maximal number of threads that can be used in thread pools.</span></div>
<div class="line"><span class="lineno">  462</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  463</span><span class="stringliteral">        This function returns an object that can be used either as a callable (the</span></div>
<div class="line"><span class="lineno">  464</span><span class="stringliteral">        construction of this object limits the number of threads) or as a context</span></div>
<div class="line"><span class="lineno">  465</span><span class="stringliteral">        manager, in a `with` block to automatically restore the original state of the</span></div>
<div class="line"><span class="lineno">  466</span><span class="stringliteral">        controlled libraries when exiting the block.</span></div>
<div class="line"><span class="lineno">  467</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  468</span><span class="stringliteral">        Set the maximal number of threads that can be used in thread pools used in</span></div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral">        the supported libraries to `limits`. This function works for libraries that</span></div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral">        are already loaded in the interpreter and can be changed dynamically.</span></div>
<div class="line"><span class="lineno">  471</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  472</span><span class="stringliteral">        This effect is global and impacts the whole Python process. There is no thread</span></div>
<div class="line"><span class="lineno">  473</span><span class="stringliteral">        level isolation as these libraries do not offer thread-local APIs to configure</span></div>
<div class="line"><span class="lineno">  474</span><span class="stringliteral">        the number of threads to use in nested parallel calls.</span></div>
<div class="line"><span class="lineno">  475</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  476</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  477</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  478</span><span class="stringliteral">        limits : int, dict, &#39;sequential_blas_under_openmp&#39; or None (default=None)</span></div>
<div class="line"><span class="lineno">  479</span><span class="stringliteral">            The maximal number of threads that can be used in thread pools</span></div>
<div class="line"><span class="lineno">  480</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  481</span><span class="stringliteral">            - If int, sets the maximum number of threads to `limits` for each</span></div>
<div class="line"><span class="lineno">  482</span><span class="stringliteral">              library selected by `user_api`.</span></div>
<div class="line"><span class="lineno">  483</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  484</span><span class="stringliteral">            - If it is a dictionary `{{key: max_threads}}`, this function sets a</span></div>
<div class="line"><span class="lineno">  485</span><span class="stringliteral">              custom maximum number of threads for each `key` which can be either a</span></div>
<div class="line"><span class="lineno">  486</span><span class="stringliteral">              `user_api` or a `prefix` for a specific library.</span></div>
<div class="line"><span class="lineno">  487</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  488</span><span class="stringliteral">            - If &#39;sequential_blas_under_openmp&#39;, it will chose the appropriate `limits`</span></div>
<div class="line"><span class="lineno">  489</span><span class="stringliteral">              and `user_api` parameters for the specific use case of sequential BLAS</span></div>
<div class="line"><span class="lineno">  490</span><span class="stringliteral">              calls within an OpenMP parallel region. The `user_api` parameter is</span></div>
<div class="line"><span class="lineno">  491</span><span class="stringliteral">              ignored.</span></div>
<div class="line"><span class="lineno">  492</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  493</span><span class="stringliteral">            - If None, this function does not do anything.</span></div>
<div class="line"><span class="lineno">  494</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  495</span><span class="stringliteral">        user_api : {USER_APIS} or None (default=None)</span></div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral">            APIs of libraries to limit. Used only if `limits` is an int.</span></div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">            - If &quot;blas&quot;, it will only limit BLAS supported libraries ({BLAS_LIBS}).</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral">            - If &quot;openmp&quot;, it will only limit OpenMP supported libraries</span></div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">              ({OPENMP_LIBS}). Note that it can affect the number of threads used</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">              by the BLAS libraries if they rely on OpenMP.</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">            - If None, this function will apply to all supported libraries.</span></div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  506</span>        <span class="keywordflow">return</span> _ThreadpoolLimiter(self, limits=limits, user_api=user_api)</div>
<div class="line"><span class="lineno">  507</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af9c92add7119c9d9d7abc0d17011e01f" name="af9c92add7119c9d9d7abc0d17011e01f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9c92add7119c9d9d7abc0d17011e01f">&#9670;&#160;</a></span>select()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController.select </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a ThreadpoolController containing a subset of its current
library controllers

It will select all libraries matching at least one pair (key, value) from kwargs
where key is an entry of the library info dict (like "user_api", "internal_api",
"prefix", ...) and value is the value or a list of acceptable values for that
entry.

For instance, `ThreadpoolController().select(internal_api=["blis", "openblas"])`
will select all library controllers whose internal_api is either "blis" or
"openblas".
</pre> <div class="fragment"><div class="line"><span class="lineno">  416</span>    <span class="keyword">def </span>select(self, **kwargs):</div>
<div class="line"><span class="lineno">  417</span>        <span class="stringliteral">&quot;&quot;&quot;Return a ThreadpoolController containing a subset of its current</span></div>
<div class="line"><span class="lineno">  418</span><span class="stringliteral">        library controllers</span></div>
<div class="line"><span class="lineno">  419</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  420</span><span class="stringliteral">        It will select all libraries matching at least one pair (key, value) from kwargs</span></div>
<div class="line"><span class="lineno">  421</span><span class="stringliteral">        where key is an entry of the library info dict (like &quot;user_api&quot;, &quot;internal_api&quot;,</span></div>
<div class="line"><span class="lineno">  422</span><span class="stringliteral">        &quot;prefix&quot;, ...) and value is the value or a list of acceptable values for that</span></div>
<div class="line"><span class="lineno">  423</span><span class="stringliteral">        entry.</span></div>
<div class="line"><span class="lineno">  424</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  425</span><span class="stringliteral">        For instance, `ThreadpoolController().select(internal_api=[&quot;blis&quot;, &quot;openblas&quot;])`</span></div>
<div class="line"><span class="lineno">  426</span><span class="stringliteral">        will select all library controllers whose internal_api is either &quot;blis&quot; or</span></div>
<div class="line"><span class="lineno">  427</span><span class="stringliteral">        &quot;openblas&quot;.</span></div>
<div class="line"><span class="lineno">  428</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordflow">for</span> key, vals <span class="keywordflow">in</span> kwargs.items():</div>
<div class="line"><span class="lineno">  430</span>            kwargs[key] = [vals] <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(vals, list) <span class="keywordflow">else</span> vals</div>
<div class="line"><span class="lineno">  431</span> </div>
<div class="line"><span class="lineno">  432</span>        lib_controllers = [</div>
<div class="line"><span class="lineno">  433</span>            lib_controller</div>
<div class="line"><span class="lineno">  434</span>            <span class="keywordflow">for</span> lib_controller <span class="keywordflow">in</span> self.lib_controllers</div>
<div class="line"><span class="lineno">  435</span>            <span class="keywordflow">if</span> any(</div>
<div class="line"><span class="lineno">  436</span>                getattr(lib_controller, key, <span class="keywordtype">None</span>) <span class="keywordflow">in</span> vals</div>
<div class="line"><span class="lineno">  437</span>                <span class="keywordflow">for</span> key, vals <span class="keywordflow">in</span> kwargs.items()</div>
<div class="line"><span class="lineno">  438</span>            )</div>
<div class="line"><span class="lineno">  439</span>        ]</div>
<div class="line"><span class="lineno">  440</span> </div>
<div class="line"><span class="lineno">  441</span>        <span class="keywordflow">return</span> ThreadpoolController._from_controllers(lib_controllers)</div>
<div class="line"><span class="lineno">  442</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d198d09fd761a1c65d92c70928f7cf3" name="a6d198d09fd761a1c65d92c70928f7cf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d198d09fd761a1c65d92c70928f7cf3">&#9670;&#160;</a></span>wrap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController.wrap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>limits</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>user_api</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Change the maximal number of threads that can be used in thread pools.

This function returns an object that can be used as a decorator.

Set the maximal number of threads that can be used in thread pools used in
the supported libraries to `limits`. This function works for libraries that
are already loaded in the interpreter and can be changed dynamically.

Parameters
----------
limits : int, dict or None (default=None)
    The maximal number of threads that can be used in thread pools

    - If int, sets the maximum number of threads to `limits` for each
      library selected by `user_api`.

    - If it is a dictionary `{{key: max_threads}}`, this function sets a
      custom maximum number of threads for each `key` which can be either a
      `user_api` or a `prefix` for a specific library.

    - If None, this function does not do anything.

user_api : {USER_APIS} or None (default=None)
    APIs of libraries to limit. Used only if `limits` is an int.

    - If "blas", it will only limit BLAS supported libraries ({BLAS_LIBS}).

    - If "openmp", it will only limit OpenMP supported libraries
      ({OPENMP_LIBS}). Note that it can affect the number of threads used
      by the BLAS libraries if they rely on OpenMP.

    - If None, this function will apply to all supported libraries.
</pre> <div class="fragment"><div class="line"><span class="lineno">  513</span>    <span class="keyword">def </span>wrap(self, *, limits=None, user_api=None):</div>
<div class="line"><span class="lineno">  514</span>        <span class="stringliteral">&quot;&quot;&quot;Change the maximal number of threads that can be used in thread pools.</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">        This function returns an object that can be used as a decorator.</span></div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  518</span><span class="stringliteral">        Set the maximal number of threads that can be used in thread pools used in</span></div>
<div class="line"><span class="lineno">  519</span><span class="stringliteral">        the supported libraries to `limits`. This function works for libraries that</span></div>
<div class="line"><span class="lineno">  520</span><span class="stringliteral">        are already loaded in the interpreter and can be changed dynamically.</span></div>
<div class="line"><span class="lineno">  521</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  522</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  523</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  524</span><span class="stringliteral">        limits : int, dict or None (default=None)</span></div>
<div class="line"><span class="lineno">  525</span><span class="stringliteral">            The maximal number of threads that can be used in thread pools</span></div>
<div class="line"><span class="lineno">  526</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral">            - If int, sets the maximum number of threads to `limits` for each</span></div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral">              library selected by `user_api`.</span></div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">            - If it is a dictionary `{{key: max_threads}}`, this function sets a</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral">              custom maximum number of threads for each `key` which can be either a</span></div>
<div class="line"><span class="lineno">  532</span><span class="stringliteral">              `user_api` or a `prefix` for a specific library.</span></div>
<div class="line"><span class="lineno">  533</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  534</span><span class="stringliteral">            - If None, this function does not do anything.</span></div>
<div class="line"><span class="lineno">  535</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  536</span><span class="stringliteral">        user_api : {USER_APIS} or None (default=None)</span></div>
<div class="line"><span class="lineno">  537</span><span class="stringliteral">            APIs of libraries to limit. Used only if `limits` is an int.</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  539</span><span class="stringliteral">            - If &quot;blas&quot;, it will only limit BLAS supported libraries ({BLAS_LIBS}).</span></div>
<div class="line"><span class="lineno">  540</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  541</span><span class="stringliteral">            - If &quot;openmp&quot;, it will only limit OpenMP supported libraries</span></div>
<div class="line"><span class="lineno">  542</span><span class="stringliteral">              ({OPENMP_LIBS}). Note that it can affect the number of threads used</span></div>
<div class="line"><span class="lineno">  543</span><span class="stringliteral">              by the BLAS libraries if they rely on OpenMP.</span></div>
<div class="line"><span class="lineno">  544</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  545</span><span class="stringliteral">            - If None, this function will apply to all supported libraries.</span></div>
<div class="line"><span class="lineno">  546</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  547</span>        <span class="keywordflow">return</span> _ThreadpoolLimiter.wrap(self, limits=limits, user_api=user_api)</div>
<div class="line"><span class="lineno">  548</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a12db282e24cc9c9b90595cb486a59b9c" name="a12db282e24cc9c9b90595cb486a59b9c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12db282e24cc9c9b90595cb486a59b9c">&#9670;&#160;</a></span>_system_libraries</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController._system_libraries = dict()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="abdedab0711aa6d7c3b33fc15dcf02692" name="abdedab0711aa6d7c3b33fc15dcf02692"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdedab0711aa6d7c3b33fc15dcf02692">&#9670;&#160;</a></span>INTERNAL_APIS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str threadpoolctl.ThreadpoolController.INTERNAL_APIS = &quot;, &quot;.join('&quot;{}&quot;'.format(api) for api <a class="el" href="__lapack__subroutines_8h.html#aa83d4778c28341ab79b01b2371f666fe">in</a> <a class="el" href="namespacethreadpoolctl.html#a70599ae27f3b793fdc1f9fea70ec3356">_ALL_INTERNAL_APIS</a>),</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad6ccfe0c8d22cc1c3a9cf0dfc95212d9" name="ad6ccfe0c8d22cc1c3a9cf0dfc95212d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6ccfe0c8d22cc1c3a9cf0dfc95212d9">&#9670;&#160;</a></span>lib_controllers</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">threadpoolctl.ThreadpoolController.lib_controllers</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7a1c9fbd6f5b1de6a3e9e70666097693" name="a7a1c9fbd6f5b1de6a3e9e70666097693"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a1c9fbd6f5b1de6a3e9e70666097693">&#9670;&#160;</a></span>USER_APIS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">str threadpoolctl.ThreadpoolController.USER_APIS = &quot;, &quot;.join('&quot;{}&quot;'.format(api) for api <a class="el" href="__lapack__subroutines_8h.html#aa83d4778c28341ab79b01b2371f666fe">in</a> <a class="el" href="namespacethreadpoolctl.html#a03b4b77f4a4933c778170fc4cd59609f">_ALL_USER_APIS</a>),</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/<a class="el" href="threadpoolctl_8py.html">threadpoolctl.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
