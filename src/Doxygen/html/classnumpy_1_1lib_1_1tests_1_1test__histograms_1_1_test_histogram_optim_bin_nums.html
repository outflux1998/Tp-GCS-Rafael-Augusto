<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: numpy.lib.tests.test_histograms.TestHistogramOptimBinNums Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenumpy.html">numpy</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1lib.html">lib</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1lib_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1lib_1_1tests_1_1test__histograms.html">test_histograms</a></li><li class="navelem"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html">TestHistogramOptimBinNums</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae1562c6cedd64cfdf99f5fe22623ee39" id="r_ae1562c6cedd64cfdf99f5fe22623ee39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html#ae1562c6cedd64cfdf99f5fe22623ee39">test_empty</a> (self)</td></tr>
<tr class="separator:ae1562c6cedd64cfdf99f5fe22623ee39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98890687c3cac7eecd881657fb6663b3" id="r_a98890687c3cac7eecd881657fb6663b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html#a98890687c3cac7eecd881657fb6663b3">test_simple</a> (self)</td></tr>
<tr class="separator:a98890687c3cac7eecd881657fb6663b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d4203b4bda67b37552c3c30b91eb121" id="r_a0d4203b4bda67b37552c3c30b91eb121"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html#a0d4203b4bda67b37552c3c30b91eb121">test_small</a> (self)</td></tr>
<tr class="separator:a0d4203b4bda67b37552c3c30b91eb121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac667df964db1d0cb61dfbdcd22322fc0" id="r_ac667df964db1d0cb61dfbdcd22322fc0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html#ac667df964db1d0cb61dfbdcd22322fc0">test_incorrect_methods</a> (self)</td></tr>
<tr class="separator:ac667df964db1d0cb61dfbdcd22322fc0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7c5999bede661fd27ae03c6a47bf05f" id="r_ad7c5999bede661fd27ae03c6a47bf05f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html#ad7c5999bede661fd27ae03c6a47bf05f">test_novariance</a> (self)</td></tr>
<tr class="separator:ad7c5999bede661fd27ae03c6a47bf05f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addd048d72b0c8eedff879f3e435ce66c" id="r_addd048d72b0c8eedff879f3e435ce66c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html#addd048d72b0c8eedff879f3e435ce66c">test_limited_variance</a> (self)</td></tr>
<tr class="separator:addd048d72b0c8eedff879f3e435ce66c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a4a56ff8de974e55879b955ec423079" id="r_a5a4a56ff8de974e55879b955ec423079"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html#a5a4a56ff8de974e55879b955ec423079">test_outlier</a> (self)</td></tr>
<tr class="separator:a5a4a56ff8de974e55879b955ec423079"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6ff54d1d4148aef8142b6edea5194e7" id="r_ae6ff54d1d4148aef8142b6edea5194e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html#ae6ff54d1d4148aef8142b6edea5194e7">test_scott_vs_stone</a> (self)</td></tr>
<tr class="separator:ae6ff54d1d4148aef8142b6edea5194e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f27f7687947f9b5fd8b9deed0663829" id="r_a0f27f7687947f9b5fd8b9deed0663829"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html#a0f27f7687947f9b5fd8b9deed0663829">test_simple_range</a> (self)</td></tr>
<tr class="separator:a0f27f7687947f9b5fd8b9deed0663829"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f7f30ca4ccc8adcd2e56ca5739e0fa6" id="r_a8f7f30ca4ccc8adcd2e56ca5739e0fa6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html#a8f7f30ca4ccc8adcd2e56ca5739e0fa6">test_signed_integer_data</a> (self, bins)</td></tr>
<tr class="separator:a8f7f30ca4ccc8adcd2e56ca5739e0fa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1e1ec1c3f9dc687095a02ed4331eb24" id="r_aa1e1ec1c3f9dc687095a02ed4331eb24"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__histograms_1_1_test_histogram_optim_bin_nums.html#aa1e1ec1c3f9dc687095a02ed4331eb24">test_simple_weighted</a> (self)</td></tr>
<tr class="separator:aa1e1ec1c3f9dc687095a02ed4331eb24"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Provide test coverage when using provided estimators for optimal number of
bins
</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ae1562c6cedd64cfdf99f5fe22623ee39" name="ae1562c6cedd64cfdf99f5fe22623ee39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1562c6cedd64cfdf99f5fe22623ee39">&#9670;&#160;</a></span>test_empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums.test_empty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  418</span>    <span class="keyword">def </span>test_empty(self):</div>
<div class="line"><span class="lineno">  419</span>        estimator_list = [<span class="stringliteral">&#39;fd&#39;</span>, <span class="stringliteral">&#39;scott&#39;</span>, <span class="stringliteral">&#39;rice&#39;</span>, <span class="stringliteral">&#39;sturges&#39;</span>,</div>
<div class="line"><span class="lineno">  420</span>                          <span class="stringliteral">&#39;doane&#39;</span>, <span class="stringliteral">&#39;sqrt&#39;</span>, <span class="stringliteral">&#39;auto&#39;</span>, <span class="stringliteral">&#39;stone&#39;</span>]</div>
<div class="line"><span class="lineno">  421</span>        <span class="comment"># check it can deal with empty data</span></div>
<div class="line"><span class="lineno">  422</span>        <span class="keywordflow">for</span> estimator <span class="keywordflow">in</span> estimator_list:</div>
<div class="line"><span class="lineno">  423</span>            a, b = histogram([], bins=estimator)</div>
<div class="line"><span class="lineno">  424</span>            assert_array_equal(a, np.array([0]))</div>
<div class="line"><span class="lineno">  425</span>            assert_array_equal(b, np.array([0, 1]))</div>
<div class="line"><span class="lineno">  426</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac667df964db1d0cb61dfbdcd22322fc0" name="ac667df964db1d0cb61dfbdcd22322fc0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac667df964db1d0cb61dfbdcd22322fc0">&#9670;&#160;</a></span>test_incorrect_methods()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums.test_incorrect_methods </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check a Value Error is thrown when an unknown string is passed in
</pre> <div class="fragment"><div class="line"><span class="lineno">  473</span>    <span class="keyword">def </span>test_incorrect_methods(self):</div>
<div class="line"><span class="lineno">  474</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  475</span><span class="stringliteral">        Check a Value Error is thrown when an unknown string is passed in</span></div>
<div class="line"><span class="lineno">  476</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  477</span>        check_list = [<span class="stringliteral">&#39;mad&#39;</span>, <span class="stringliteral">&#39;freeman&#39;</span>, <span class="stringliteral">&#39;histograms&#39;</span>, <span class="stringliteral">&#39;IQR&#39;</span>]</div>
<div class="line"><span class="lineno">  478</span>        <span class="keywordflow">for</span> estimator <span class="keywordflow">in</span> check_list:</div>
<div class="line"><span class="lineno">  479</span>            assert_raises(ValueError, histogram, [1, 2, 3], estimator)</div>
<div class="line"><span class="lineno">  480</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="addd048d72b0c8eedff879f3e435ce66c" name="addd048d72b0c8eedff879f3e435ce66c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addd048d72b0c8eedff879f3e435ce66c">&#9670;&#160;</a></span>test_limited_variance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums.test_limited_variance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check when IQR is 0, but variance exists, we return the sturges value
and not the fd value.
</pre> <div class="fragment"><div class="line"><span class="lineno">  495</span>    <span class="keyword">def </span>test_limited_variance(self):</div>
<div class="line"><span class="lineno">  496</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral">        Check when IQR is 0, but variance exists, we return the sturges value</span></div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">        and not the fd value.</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  500</span>        lim_var_data = np.ones(1000)</div>
<div class="line"><span class="lineno">  501</span>        lim_var_data[:3] = 0</div>
<div class="line"><span class="lineno">  502</span>        lim_var_data[-4:] = 100</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span>        edges_auto = histogram_bin_edges(lim_var_data, <span class="stringliteral">&#39;auto&#39;</span>)</div>
<div class="line"><span class="lineno">  505</span>        assert_equal(edges_auto, np.linspace(0, 100, 12))</div>
<div class="line"><span class="lineno">  506</span> </div>
<div class="line"><span class="lineno">  507</span>        edges_fd = histogram_bin_edges(lim_var_data, <span class="stringliteral">&#39;fd&#39;</span>)</div>
<div class="line"><span class="lineno">  508</span>        assert_equal(edges_fd, np.array([0, 100]))</div>
<div class="line"><span class="lineno">  509</span> </div>
<div class="line"><span class="lineno">  510</span>        edges_sturges = histogram_bin_edges(lim_var_data, <span class="stringliteral">&#39;sturges&#39;</span>)</div>
<div class="line"><span class="lineno">  511</span>        assert_equal(edges_sturges, np.linspace(0, 100, 12))</div>
<div class="line"><span class="lineno">  512</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad7c5999bede661fd27ae03c6a47bf05f" name="ad7c5999bede661fd27ae03c6a47bf05f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7c5999bede661fd27ae03c6a47bf05f">&#9670;&#160;</a></span>test_novariance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums.test_novariance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that methods handle no variance in data
Primarily for Scott and FD as the SD and IQR are both 0 in this case
</pre> <div class="fragment"><div class="line"><span class="lineno">  481</span>    <span class="keyword">def </span>test_novariance(self):</div>
<div class="line"><span class="lineno">  482</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  483</span><span class="stringliteral">        Check that methods handle no variance in data</span></div>
<div class="line"><span class="lineno">  484</span><span class="stringliteral">        Primarily for Scott and FD as the SD and IQR are both 0 in this case</span></div>
<div class="line"><span class="lineno">  485</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  486</span>        novar_dataset = np.ones(100)</div>
<div class="line"><span class="lineno">  487</span>        novar_resultdict = {<span class="stringliteral">&#39;fd&#39;</span>: 1, <span class="stringliteral">&#39;scott&#39;</span>: 1, <span class="stringliteral">&#39;rice&#39;</span>: 1, <span class="stringliteral">&#39;sturges&#39;</span>: 1,</div>
<div class="line"><span class="lineno">  488</span>                            <span class="stringliteral">&#39;doane&#39;</span>: 1, <span class="stringliteral">&#39;sqrt&#39;</span>: 1, <span class="stringliteral">&#39;auto&#39;</span>: 1, <span class="stringliteral">&#39;stone&#39;</span>: 1}</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>        <span class="keywordflow">for</span> estimator, numbins <span class="keywordflow">in</span> novar_resultdict.items():</div>
<div class="line"><span class="lineno">  491</span>            a, b = np.histogram(novar_dataset, estimator)</div>
<div class="line"><span class="lineno">  492</span>            assert_equal(len(a), numbins, err_msg=<span class="stringliteral">&quot;{0} estimator, &quot;</span></div>
<div class="line"><span class="lineno">  493</span>                         <span class="stringliteral">&quot;No Variance test&quot;</span>.format(estimator))</div>
<div class="line"><span class="lineno">  494</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a4a56ff8de974e55879b955ec423079" name="a5a4a56ff8de974e55879b955ec423079"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a4a56ff8de974e55879b955ec423079">&#9670;&#160;</a></span>test_outlier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums.test_outlier </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check the FD, Scott and Doane with outliers.

The FD estimates a smaller binwidth since it's less affected by
outliers. Since the range is so (artificially) large, this means more
bins, most of which will be empty, but the data of interest usually is
unaffected. The Scott estimator is more affected and returns fewer bins,
despite most of the variance being in one area of the data. The Doane
estimator lies somewhere between the other two.
</pre> <div class="fragment"><div class="line"><span class="lineno">  513</span>    <span class="keyword">def </span>test_outlier(self):</div>
<div class="line"><span class="lineno">  514</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral">        Check the FD, Scott and Doane with outliers.</span></div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral">        The FD estimates a smaller binwidth since it&#39;s less affected by</span></div>
<div class="line"><span class="lineno">  518</span><span class="stringliteral">        outliers. Since the range is so (artificially) large, this means more</span></div>
<div class="line"><span class="lineno">  519</span><span class="stringliteral">        bins, most of which will be empty, but the data of interest usually is</span></div>
<div class="line"><span class="lineno">  520</span><span class="stringliteral">        unaffected. The Scott estimator is more affected and returns fewer bins,</span></div>
<div class="line"><span class="lineno">  521</span><span class="stringliteral">        despite most of the variance being in one area of the data. The Doane</span></div>
<div class="line"><span class="lineno">  522</span><span class="stringliteral">        estimator lies somewhere between the other two.</span></div>
<div class="line"><span class="lineno">  523</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  524</span>        xcenter = np.linspace(-10, 10, 50)</div>
<div class="line"><span class="lineno">  525</span>        outlier_dataset = np.hstack((np.linspace(-110, -100, 5), xcenter))</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>        outlier_resultdict = {<span class="stringliteral">&#39;fd&#39;</span>: 21, <span class="stringliteral">&#39;scott&#39;</span>: 5, <span class="stringliteral">&#39;doane&#39;</span>: 11, <span class="stringliteral">&#39;stone&#39;</span>: 6}</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>        <span class="keywordflow">for</span> estimator, numbins <span class="keywordflow">in</span> outlier_resultdict.items():</div>
<div class="line"><span class="lineno">  530</span>            a, b = np.histogram(outlier_dataset, estimator)</div>
<div class="line"><span class="lineno">  531</span>            assert_equal(len(a), numbins)</div>
<div class="line"><span class="lineno">  532</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae6ff54d1d4148aef8142b6edea5194e7" name="ae6ff54d1d4148aef8142b6edea5194e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae6ff54d1d4148aef8142b6edea5194e7">&#9670;&#160;</a></span>test_scott_vs_stone()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums.test_scott_vs_stone </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Verify that Scott's rule and Stone's rule converges for normally distributed data</pre> <div class="fragment"><div class="line"><span class="lineno">  533</span>    <span class="keyword">def </span>test_scott_vs_stone(self):</div>
<div class="line"><span class="lineno">  534</span>        <span class="stringliteral">&quot;&quot;&quot;Verify that Scott&#39;s rule and Stone&#39;s rule converges for normally distributed data&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>        <span class="keyword">def </span>nbins_ratio(seed, size):</div>
<div class="line"><span class="lineno">  537</span>            rng = np.random.RandomState(seed)</div>
<div class="line"><span class="lineno">  538</span>            x = rng.normal(loc=0, scale=2, size=size)</div>
<div class="line"><span class="lineno">  539</span>            a, b = len(np.histogram(x, <span class="stringliteral">&#39;stone&#39;</span>)[0]), len(np.histogram(x, <span class="stringliteral">&#39;scott&#39;</span>)[0])</div>
<div class="line"><span class="lineno">  540</span>            <span class="keywordflow">return</span> a / (a + b)</div>
<div class="line"><span class="lineno">  541</span> </div>
<div class="line"><span class="lineno">  542</span>        ll = [[nbins_ratio(seed, size) <span class="keywordflow">for</span> size <span class="keywordflow">in</span> np.geomspace(start=10, stop=100, num=4).round().astype(int)]</div>
<div class="line"><span class="lineno">  543</span>              <span class="keywordflow">for</span> seed <span class="keywordflow">in</span> range(10)]</div>
<div class="line"><span class="lineno">  544</span> </div>
<div class="line"><span class="lineno">  545</span>        <span class="comment"># the average difference between the two methods decreases as the dataset size increases.</span></div>
<div class="line"><span class="lineno">  546</span>        avg = abs(np.mean(ll, axis=0) - 0.5)</div>
<div class="line"><span class="lineno">  547</span>        assert_almost_equal(avg, [0.15, 0.09, 0.08, 0.03], decimal=2)</div>
<div class="line"><span class="lineno">  548</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8f7f30ca4ccc8adcd2e56ca5739e0fa6" name="a8f7f30ca4ccc8adcd2e56ca5739e0fa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f7f30ca4ccc8adcd2e56ca5739e0fa6">&#9670;&#160;</a></span>test_signed_integer_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums.test_signed_integer_data </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bins</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  582</span>    <span class="keyword">def </span>test_signed_integer_data(self, bins):</div>
<div class="line"><span class="lineno">  583</span>        <span class="comment"># Regression test for gh-14379.</span></div>
<div class="line"><span class="lineno">  584</span>        a = np.array([-2, 0, 127], dtype=np.int8)</div>
<div class="line"><span class="lineno">  585</span>        hist, edges = np.histogram(a, bins=bins)</div>
<div class="line"><span class="lineno">  586</span>        hist32, edges32 = np.histogram(a.astype(np.int32), bins=bins)</div>
<div class="line"><span class="lineno">  587</span>        assert_array_equal(hist, hist32)</div>
<div class="line"><span class="lineno">  588</span>        assert_array_equal(edges, edges32)</div>
<div class="line"><span class="lineno">  589</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a98890687c3cac7eecd881657fb6663b3" name="a98890687c3cac7eecd881657fb6663b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98890687c3cac7eecd881657fb6663b3">&#9670;&#160;</a></span>test_simple()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums.test_simple </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Straightforward testing with a mixture of linspace data (for
consistency). All test values have been precomputed and the values
shouldn't change
</pre> <div class="fragment"><div class="line"><span class="lineno">  427</span>    <span class="keyword">def </span>test_simple(self):</div>
<div class="line"><span class="lineno">  428</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  429</span><span class="stringliteral">        Straightforward testing with a mixture of linspace data (for</span></div>
<div class="line"><span class="lineno">  430</span><span class="stringliteral">        consistency). All test values have been precomputed and the values</span></div>
<div class="line"><span class="lineno">  431</span><span class="stringliteral">        shouldn&#39;t change</span></div>
<div class="line"><span class="lineno">  432</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  433</span>        <span class="comment"># Some basic sanity checking, with some fixed data.</span></div>
<div class="line"><span class="lineno">  434</span>        <span class="comment"># Checking for the correct number of bins</span></div>
<div class="line"><span class="lineno">  435</span>        basic_test = {50:   {<span class="stringliteral">&#39;fd&#39;</span>: 4,  <span class="stringliteral">&#39;scott&#39;</span>: 4,  <span class="stringliteral">&#39;rice&#39;</span>: 8,  <span class="stringliteral">&#39;sturges&#39;</span>: 7,</div>
<div class="line"><span class="lineno">  436</span>                             <span class="stringliteral">&#39;doane&#39;</span>: 8, <span class="stringliteral">&#39;sqrt&#39;</span>: 8, <span class="stringliteral">&#39;auto&#39;</span>: 7, <span class="stringliteral">&#39;stone&#39;</span>: 2},</div>
<div class="line"><span class="lineno">  437</span>                      500:  {<span class="stringliteral">&#39;fd&#39;</span>: 8,  <span class="stringliteral">&#39;scott&#39;</span>: 8,  <span class="stringliteral">&#39;rice&#39;</span>: 16, <span class="stringliteral">&#39;sturges&#39;</span>: 10,</div>
<div class="line"><span class="lineno">  438</span>                             <span class="stringliteral">&#39;doane&#39;</span>: 12, <span class="stringliteral">&#39;sqrt&#39;</span>: 23, <span class="stringliteral">&#39;auto&#39;</span>: 10, <span class="stringliteral">&#39;stone&#39;</span>: 9},</div>
<div class="line"><span class="lineno">  439</span>                      5000: {<span class="stringliteral">&#39;fd&#39;</span>: 17, <span class="stringliteral">&#39;scott&#39;</span>: 17, <span class="stringliteral">&#39;rice&#39;</span>: 35, <span class="stringliteral">&#39;sturges&#39;</span>: 14,</div>
<div class="line"><span class="lineno">  440</span>                             <span class="stringliteral">&#39;doane&#39;</span>: 17, <span class="stringliteral">&#39;sqrt&#39;</span>: 71, <span class="stringliteral">&#39;auto&#39;</span>: 17, <span class="stringliteral">&#39;stone&#39;</span>: 20}}</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>        <span class="keywordflow">for</span> testlen, expectedResults <span class="keywordflow">in</span> basic_test.items():</div>
<div class="line"><span class="lineno">  443</span>            <span class="comment"># Create some sort of non uniform data to test with</span></div>
<div class="line"><span class="lineno">  444</span>            <span class="comment"># (2 peak uniform mixture)</span></div>
<div class="line"><span class="lineno">  445</span>            x1 = np.linspace(-10, -1, testlen // 5 * 2)</div>
<div class="line"><span class="lineno">  446</span>            x2 = np.linspace(1, 10, testlen // 5 * 3)</div>
<div class="line"><span class="lineno">  447</span>            x = np.concatenate((x1, x2))</div>
<div class="line"><span class="lineno">  448</span>            <span class="keywordflow">for</span> estimator, numbins <span class="keywordflow">in</span> expectedResults.items():</div>
<div class="line"><span class="lineno">  449</span>                a, b = np.histogram(x, estimator)</div>
<div class="line"><span class="lineno">  450</span>                assert_equal(len(a), numbins, err_msg=<span class="stringliteral">&quot;For the {0} estimator &quot;</span></div>
<div class="line"><span class="lineno">  451</span>                             <span class="stringliteral">&quot;with datasize of {1}&quot;</span>.format(estimator, testlen))</div>
<div class="line"><span class="lineno">  452</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0f27f7687947f9b5fd8b9deed0663829" name="a0f27f7687947f9b5fd8b9deed0663829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f27f7687947f9b5fd8b9deed0663829">&#9670;&#160;</a></span>test_simple_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums.test_simple_range </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Straightforward testing with a mixture of linspace data (for
consistency). Adding in a 3rd mixture that will then be
completely ignored. All test values have been precomputed and
the shouldn't change.
</pre> <div class="fragment"><div class="line"><span class="lineno">  549</span>    <span class="keyword">def </span>test_simple_range(self):</div>
<div class="line"><span class="lineno">  550</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  551</span><span class="stringliteral">        Straightforward testing with a mixture of linspace data (for</span></div>
<div class="line"><span class="lineno">  552</span><span class="stringliteral">        consistency). Adding in a 3rd mixture that will then be</span></div>
<div class="line"><span class="lineno">  553</span><span class="stringliteral">        completely ignored. All test values have been precomputed and</span></div>
<div class="line"><span class="lineno">  554</span><span class="stringliteral">        the shouldn&#39;t change.</span></div>
<div class="line"><span class="lineno">  555</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  556</span>        <span class="comment"># some basic sanity checking, with some fixed data.</span></div>
<div class="line"><span class="lineno">  557</span>        <span class="comment"># Checking for the correct number of bins</span></div>
<div class="line"><span class="lineno">  558</span>        basic_test = {</div>
<div class="line"><span class="lineno">  559</span>                      50:   {<span class="stringliteral">&#39;fd&#39;</span>: 8,  <span class="stringliteral">&#39;scott&#39;</span>: 8,  <span class="stringliteral">&#39;rice&#39;</span>: 15,</div>
<div class="line"><span class="lineno">  560</span>                             <span class="stringliteral">&#39;sturges&#39;</span>: 14, <span class="stringliteral">&#39;auto&#39;</span>: 14, <span class="stringliteral">&#39;stone&#39;</span>: 8},</div>
<div class="line"><span class="lineno">  561</span>                      500:  {<span class="stringliteral">&#39;fd&#39;</span>: 15, <span class="stringliteral">&#39;scott&#39;</span>: 16, <span class="stringliteral">&#39;rice&#39;</span>: 32,</div>
<div class="line"><span class="lineno">  562</span>                             <span class="stringliteral">&#39;sturges&#39;</span>: 20, <span class="stringliteral">&#39;auto&#39;</span>: 20, <span class="stringliteral">&#39;stone&#39;</span>: 80},</div>
<div class="line"><span class="lineno">  563</span>                      5000: {<span class="stringliteral">&#39;fd&#39;</span>: 33, <span class="stringliteral">&#39;scott&#39;</span>: 33, <span class="stringliteral">&#39;rice&#39;</span>: 69,</div>
<div class="line"><span class="lineno">  564</span>                             <span class="stringliteral">&#39;sturges&#39;</span>: 27, <span class="stringliteral">&#39;auto&#39;</span>: 33, <span class="stringliteral">&#39;stone&#39;</span>: 80}</div>
<div class="line"><span class="lineno">  565</span>                     }</div>
<div class="line"><span class="lineno">  566</span> </div>
<div class="line"><span class="lineno">  567</span>        <span class="keywordflow">for</span> testlen, expectedResults <span class="keywordflow">in</span> basic_test.items():</div>
<div class="line"><span class="lineno">  568</span>            <span class="comment"># create some sort of non uniform data to test with</span></div>
<div class="line"><span class="lineno">  569</span>            <span class="comment"># (3 peak uniform mixture)</span></div>
<div class="line"><span class="lineno">  570</span>            x1 = np.linspace(-10, -1, testlen // 5 * 2)</div>
<div class="line"><span class="lineno">  571</span>            x2 = np.linspace(1, 10, testlen // 5 * 3)</div>
<div class="line"><span class="lineno">  572</span>            x3 = np.linspace(-100, -50, testlen)</div>
<div class="line"><span class="lineno">  573</span>            x = np.hstack((x1, x2, x3))</div>
<div class="line"><span class="lineno">  574</span>            <span class="keywordflow">for</span> estimator, numbins <span class="keywordflow">in</span> expectedResults.items():</div>
<div class="line"><span class="lineno">  575</span>                a, b = np.histogram(x, estimator, range = (-20, 20))</div>
<div class="line"><span class="lineno">  576</span>                msg = <span class="stringliteral">&quot;For the {0} estimator&quot;</span>.format(estimator)</div>
<div class="line"><span class="lineno">  577</span>                msg += <span class="stringliteral">&quot; with datasize of {0}&quot;</span>.format(testlen)</div>
<div class="line"><span class="lineno">  578</span>                assert_equal(len(a), numbins, err_msg=msg)</div>
<div class="line"><span class="lineno">  579</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa1e1ec1c3f9dc687095a02ed4331eb24" name="aa1e1ec1c3f9dc687095a02ed4331eb24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1e1ec1c3f9dc687095a02ed4331eb24">&#9670;&#160;</a></span>test_simple_weighted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums.test_simple_weighted </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that weighted data raises a TypeError
</pre> <div class="fragment"><div class="line"><span class="lineno">  590</span>    <span class="keyword">def </span>test_simple_weighted(self):</div>
<div class="line"><span class="lineno">  591</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  592</span><span class="stringliteral">        Check that weighted data raises a TypeError</span></div>
<div class="line"><span class="lineno">  593</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  594</span>        estimator_list = [<span class="stringliteral">&#39;fd&#39;</span>, <span class="stringliteral">&#39;scott&#39;</span>, <span class="stringliteral">&#39;rice&#39;</span>, <span class="stringliteral">&#39;sturges&#39;</span>, <span class="stringliteral">&#39;auto&#39;</span>]</div>
<div class="line"><span class="lineno">  595</span>        <span class="keywordflow">for</span> estimator <span class="keywordflow">in</span> estimator_list:</div>
<div class="line"><span class="lineno">  596</span>            assert_raises(TypeError, histogram, [1, 2, 3],</div>
<div class="line"><span class="lineno">  597</span>                          estimator, weights=[1, 2, 3])</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d4203b4bda67b37552c3c30b91eb121" name="a0d4203b4bda67b37552c3c30b91eb121"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d4203b4bda67b37552c3c30b91eb121">&#9670;&#160;</a></span>test_small()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_histograms.TestHistogramOptimBinNums.test_small </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Smaller datasets have the potential to cause issues with the data
adaptive methods, especially the FD method. All bin numbers have been
precalculated.
</pre> <div class="fragment"><div class="line"><span class="lineno">  453</span>    <span class="keyword">def </span>test_small(self):</div>
<div class="line"><span class="lineno">  454</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">        Smaller datasets have the potential to cause issues with the data</span></div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral">        adaptive methods, especially the FD method. All bin numbers have been</span></div>
<div class="line"><span class="lineno">  457</span><span class="stringliteral">        precalculated.</span></div>
<div class="line"><span class="lineno">  458</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  459</span>        small_dat = {1: {<span class="stringliteral">&#39;fd&#39;</span>: 1, <span class="stringliteral">&#39;scott&#39;</span>: 1, <span class="stringliteral">&#39;rice&#39;</span>: 1, <span class="stringliteral">&#39;sturges&#39;</span>: 1,</div>
<div class="line"><span class="lineno">  460</span>                         <span class="stringliteral">&#39;doane&#39;</span>: 1, <span class="stringliteral">&#39;sqrt&#39;</span>: 1, <span class="stringliteral">&#39;stone&#39;</span>: 1},</div>
<div class="line"><span class="lineno">  461</span>                     2: {<span class="stringliteral">&#39;fd&#39;</span>: 2, <span class="stringliteral">&#39;scott&#39;</span>: 1, <span class="stringliteral">&#39;rice&#39;</span>: 3, <span class="stringliteral">&#39;sturges&#39;</span>: 2,</div>
<div class="line"><span class="lineno">  462</span>                         <span class="stringliteral">&#39;doane&#39;</span>: 1, <span class="stringliteral">&#39;sqrt&#39;</span>: 2, <span class="stringliteral">&#39;stone&#39;</span>: 1},</div>
<div class="line"><span class="lineno">  463</span>                     3: {<span class="stringliteral">&#39;fd&#39;</span>: 2, <span class="stringliteral">&#39;scott&#39;</span>: 2, <span class="stringliteral">&#39;rice&#39;</span>: 3, <span class="stringliteral">&#39;sturges&#39;</span>: 3,</div>
<div class="line"><span class="lineno">  464</span>                         <span class="stringliteral">&#39;doane&#39;</span>: 3, <span class="stringliteral">&#39;sqrt&#39;</span>: 2, <span class="stringliteral">&#39;stone&#39;</span>: 1}}</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>        <span class="keywordflow">for</span> testlen, expectedResults <span class="keywordflow">in</span> small_dat.items():</div>
<div class="line"><span class="lineno">  467</span>            testdat = np.arange(testlen)</div>
<div class="line"><span class="lineno">  468</span>            <span class="keywordflow">for</span> estimator, expbins <span class="keywordflow">in</span> expectedResults.items():</div>
<div class="line"><span class="lineno">  469</span>                a, b = np.histogram(testdat, estimator)</div>
<div class="line"><span class="lineno">  470</span>                assert_equal(len(a), expbins, err_msg=<span class="stringliteral">&quot;For the {0} estimator &quot;</span></div>
<div class="line"><span class="lineno">  471</span>                             <span class="stringliteral">&quot;with datasize of {1}&quot;</span>.format(estimator, testlen))</div>
<div class="line"><span class="lineno">  472</span> </div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/numpy/lib/tests/<a class="el" href="test__histograms_8py.html">test_histograms.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
