<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.inspection.tests.test_partial_dependence Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1inspection.html">inspection</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1inspection_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html">test_partial_dependence</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sklearn.inspection.tests.test_partial_dependence Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1inspection_1_1tests_1_1test__partial__dependence_1_1_no_predict_proba_no_decision_function.html">NoPredictProbaNoDecisionFunction</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a955fd6cb7e79f7b24916b46ade606e28" id="r_a955fd6cb7e79f7b24916b46ade606e28"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a955fd6cb7e79f7b24916b46ade606e28">test_output_shape</a> (Estimator, method, data, grid_resolution, features, kind)</td></tr>
<tr class="separator:a955fd6cb7e79f7b24916b46ade606e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d73ad17390a9d255c72659f821642f" id="r_a34d73ad17390a9d255c72659f821642f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a34d73ad17390a9d255c72659f821642f">test_grid_from_X</a> ()</td></tr>
<tr class="separator:a34d73ad17390a9d255c72659f821642f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8efe19da8b15291974c254a1d168aed3" id="r_a8efe19da8b15291974c254a1d168aed3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a8efe19da8b15291974c254a1d168aed3">test_grid_from_X_with_categorical</a> (grid_resolution)</td></tr>
<tr class="separator:a8efe19da8b15291974c254a1d168aed3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a040b3c20898c1011087e34645f6d4f40" id="r_a040b3c20898c1011087e34645f6d4f40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a040b3c20898c1011087e34645f6d4f40">test_grid_from_X_heterogeneous_type</a> (grid_resolution)</td></tr>
<tr class="separator:a040b3c20898c1011087e34645f6d4f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a7993143ccb603f7d3f33628808e991" id="r_a2a7993143ccb603f7d3f33628808e991"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a2a7993143ccb603f7d3f33628808e991">test_grid_from_X_error</a> (grid_resolution, percentiles, err_msg)</td></tr>
<tr class="separator:a2a7993143ccb603f7d3f33628808e991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411ff18a1065f9341b69a4fdf3bad386" id="r_a411ff18a1065f9341b69a4fdf3bad386"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a411ff18a1065f9341b69a4fdf3bad386">test_partial_dependence_helpers</a> (<a class="el" href="__lapack__subroutines_8h.html#a20cd275d1dea5cba0a51b3e106f3e130">est</a>, method, target_feature)</td></tr>
<tr class="separator:a411ff18a1065f9341b69a4fdf3bad386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e366f2f79ffa7f96f27d36eb9e3be5c" id="r_a0e366f2f79ffa7f96f27d36eb9e3be5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a0e366f2f79ffa7f96f27d36eb9e3be5c">test_recursion_decision_tree_vs_forest_and_gbdt</a> (seed)</td></tr>
<tr class="separator:a0e366f2f79ffa7f96f27d36eb9e3be5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9bc950f25e3dbd5f333f0881e24bf73" id="r_ab9bc950f25e3dbd5f333f0881e24bf73"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#ab9bc950f25e3dbd5f333f0881e24bf73">test_recursion_decision_function</a> (<a class="el" href="__lapack__subroutines_8h.html#a20cd275d1dea5cba0a51b3e106f3e130">est</a>, target_feature)</td></tr>
<tr class="separator:ab9bc950f25e3dbd5f333f0881e24bf73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a268ba9fb2a60f20c773b938346b7c0b3" id="r_a268ba9fb2a60f20c773b938346b7c0b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a268ba9fb2a60f20c773b938346b7c0b3">test_partial_dependence_easy_target</a> (<a class="el" href="__lapack__subroutines_8h.html#a20cd275d1dea5cba0a51b3e106f3e130">est</a>, power)</td></tr>
<tr class="separator:a268ba9fb2a60f20c773b938346b7c0b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b04974f85adab496b8cd746f9143fa" id="r_a58b04974f85adab496b8cd746f9143fa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a58b04974f85adab496b8cd746f9143fa">test_multiclass_multioutput</a> (Estimator)</td></tr>
<tr class="separator:a58b04974f85adab496b8cd746f9143fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b7f9e32539ea93914f9fe6008c52933" id="r_a2b7f9e32539ea93914f9fe6008c52933"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a2b7f9e32539ea93914f9fe6008c52933">test_partial_dependence_error</a> (estimator, params, err_msg)</td></tr>
<tr class="separator:a2b7f9e32539ea93914f9fe6008c52933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfad3885832f1d9d06bfd434b5983b40" id="r_acfad3885832f1d9d06bfd434b5983b40"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#acfad3885832f1d9d06bfd434b5983b40">test_partial_dependence_slice_error</a> (with_dataframe, err_msg)</td></tr>
<tr class="separator:acfad3885832f1d9d06bfd434b5983b40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1284a2e313695bf9f4956c5a0cc6de02" id="r_a1284a2e313695bf9f4956c5a0cc6de02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a1284a2e313695bf9f4956c5a0cc6de02">test_partial_dependence_unknown_feature_indices</a> (estimator, features)</td></tr>
<tr class="separator:a1284a2e313695bf9f4956c5a0cc6de02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22adcb0f200d6d348d0505b6d539505e" id="r_a22adcb0f200d6d348d0505b6d539505e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a22adcb0f200d6d348d0505b6d539505e">test_partial_dependence_unknown_feature_string</a> (estimator)</td></tr>
<tr class="separator:a22adcb0f200d6d348d0505b6d539505e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d601221077d094d76fee003de4ddf5" id="r_af2d601221077d094d76fee003de4ddf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#af2d601221077d094d76fee003de4ddf5">test_partial_dependence_X_list</a> (estimator)</td></tr>
<tr class="separator:af2d601221077d094d76fee003de4ddf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a241a67aad93529cf179aef5c7a40689b" id="r_a241a67aad93529cf179aef5c7a40689b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a241a67aad93529cf179aef5c7a40689b">test_warning_recursion_non_constant_init</a> ()</td></tr>
<tr class="separator:a241a67aad93529cf179aef5c7a40689b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6796e18650a8cb079e6e2f925ab5189d" id="r_a6796e18650a8cb079e6e2f925ab5189d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a6796e18650a8cb079e6e2f925ab5189d">test_partial_dependence_sample_weight</a> ()</td></tr>
<tr class="separator:a6796e18650a8cb079e6e2f925ab5189d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157cc1d86caf1410d7c652156dbd81db" id="r_a157cc1d86caf1410d7c652156dbd81db"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a157cc1d86caf1410d7c652156dbd81db">test_hist_gbdt_sw_not_supported</a> ()</td></tr>
<tr class="separator:a157cc1d86caf1410d7c652156dbd81db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a51f804b89b87285766d52fae88bca6" id="r_a1a51f804b89b87285766d52fae88bca6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a1a51f804b89b87285766d52fae88bca6">test_partial_dependence_pipeline</a> ()</td></tr>
<tr class="separator:a1a51f804b89b87285766d52fae88bca6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0062cd7aa38ff25a7852b8602ed13a95" id="r_a0062cd7aa38ff25a7852b8602ed13a95"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a0062cd7aa38ff25a7852b8602ed13a95">test_partial_dependence_dataframe</a> (estimator, preprocessor, features)</td></tr>
<tr class="separator:a0062cd7aa38ff25a7852b8602ed13a95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a820181a42b369c327628641c305c6cd9" id="r_a820181a42b369c327628641c305c6cd9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a820181a42b369c327628641c305c6cd9">test_partial_dependence_feature_type</a> (features, expected_pd_shape)</td></tr>
<tr class="separator:a820181a42b369c327628641c305c6cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2901b010313d5d19cbdc5e65848a2e" id="r_aae2901b010313d5d19cbdc5e65848a2e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#aae2901b010313d5d19cbdc5e65848a2e">test_partial_dependence_unfitted</a> (estimator)</td></tr>
<tr class="separator:aae2901b010313d5d19cbdc5e65848a2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48619a9d09eb43cf0625472288ddefaf" id="r_a48619a9d09eb43cf0625472288ddefaf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a48619a9d09eb43cf0625472288ddefaf">test_kind_average_and_average_of_individual</a> (Estimator, data)</td></tr>
<tr class="separator:a48619a9d09eb43cf0625472288ddefaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ace327d57fe320f5efef354aca085c9f9" id="r_ace327d57fe320f5efef354aca085c9f9"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#ace327d57fe320f5efef354aca085c9f9">X</a> = [[-2, -1], [-1, -1], [-1, -2], [1, 1], [1, 2], [2, 1]]</td></tr>
<tr class="separator:ace327d57fe320f5efef354aca085c9f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bb4afa88c4e333c8a8df07557dfd9f8" id="r_a9bb4afa88c4e333c8a8df07557dfd9f8"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a9bb4afa88c4e333c8a8df07557dfd9f8">y</a> = [-1, -1, -1, 1, 1, 1]</td></tr>
<tr class="separator:a9bb4afa88c4e333c8a8df07557dfd9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac101d0034c709590710b9931a5a5fb26" id="r_ac101d0034c709590710b9931a5a5fb26"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#ac101d0034c709590710b9931a5a5fb26">binary_classification_data</a> = (make_classification(n_samples=50, random_state=0), 1)</td></tr>
<tr class="separator:ac101d0034c709590710b9931a5a5fb26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83e21364b2bbee7d59e3087f9c29ae0e" id="r_a83e21364b2bbee7d59e3087f9c29ae0e"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a83e21364b2bbee7d59e3087f9c29ae0e">multiclass_classification_data</a></td></tr>
<tr class="separator:a83e21364b2bbee7d59e3087f9c29ae0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8d552adeaee2b3ef0e762044e00402c" id="r_ac8d552adeaee2b3ef0e762044e00402c"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#ac8d552adeaee2b3ef0e762044e00402c">regression_data</a> = (make_regression(n_samples=50, random_state=0), 1)</td></tr>
<tr class="separator:ac8d552adeaee2b3ef0e762044e00402c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672c5fe01a7e2dd350281202461bae16" id="r_a672c5fe01a7e2dd350281202461bae16"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#a672c5fe01a7e2dd350281202461bae16">multioutput_regression_data</a></td></tr>
<tr class="separator:a672c5fe01a7e2dd350281202461bae16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4bfc405578b985eec31a2f848a5d5f3" id="r_af4bfc405578b985eec31a2f848a5d5f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1inspection_1_1tests_1_1test__partial__dependence.html#af4bfc405578b985eec31a2f848a5d5f3">iris</a> = load_iris()</td></tr>
<tr class="separator:af4bfc405578b985eec31a2f848a5d5f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Testing for the partial dependence module.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a34d73ad17390a9d255c72659f821642f" name="a34d73ad17390a9d255c72659f821642f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34d73ad17390a9d255c72659f821642f">&#9670;&#160;</a></span>test_grid_from_X()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_grid_from_X </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  132</span><span class="keyword">def </span>test_grid_from_X():</div>
<div class="line"><span class="lineno">  133</span>    <span class="comment"># tests for _grid_from_X: sanity check for output, and for shapes.</span></div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    <span class="comment"># Make sure that the grid is a cartesian product of the input (it will use</span></div>
<div class="line"><span class="lineno">  136</span>    <span class="comment"># the unique values instead of the percentiles)</span></div>
<div class="line"><span class="lineno">  137</span>    percentiles = (0.05, 0.95)</div>
<div class="line"><span class="lineno">  138</span>    grid_resolution = 100</div>
<div class="line"><span class="lineno">  139</span>    is_categorical = [<span class="keyword">False</span>, <span class="keyword">False</span>]</div>
<div class="line"><span class="lineno">  140</span>    X = np.asarray([[1, 2], [3, 4]])</div>
<div class="line"><span class="lineno">  141</span>    grid, axes = _grid_from_X(X, percentiles, is_categorical, grid_resolution)</div>
<div class="line"><span class="lineno">  142</span>    assert_array_equal(grid, [[1, 2], [1, 4], [3, 2], [3, 4]])</div>
<div class="line"><span class="lineno">  143</span>    assert_array_equal(axes, X.T)</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    <span class="comment"># test shapes of returned objects depending on the number of unique values</span></div>
<div class="line"><span class="lineno">  146</span>    <span class="comment"># for a feature.</span></div>
<div class="line"><span class="lineno">  147</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  148</span>    grid_resolution = 15</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    <span class="comment"># n_unique_values &gt; grid_resolution</span></div>
<div class="line"><span class="lineno">  151</span>    X = rng.normal(size=(20, 2))</div>
<div class="line"><span class="lineno">  152</span>    grid, axes = _grid_from_X(</div>
<div class="line"><span class="lineno">  153</span>        X, percentiles, is_categorical, grid_resolution=grid_resolution</div>
<div class="line"><span class="lineno">  154</span>    )</div>
<div class="line"><span class="lineno">  155</span>    <span class="keyword">assert</span> grid.shape == (grid_resolution * grid_resolution, X.shape[1])</div>
<div class="line"><span class="lineno">  156</span>    <span class="keyword">assert</span> np.asarray(axes).shape == (2, grid_resolution)</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>    <span class="comment"># n_unique_values &lt; grid_resolution, will use actual values</span></div>
<div class="line"><span class="lineno">  159</span>    n_unique_values = 12</div>
<div class="line"><span class="lineno">  160</span>    X[n_unique_values - 1 :, 0] = 12345</div>
<div class="line"><span class="lineno">  161</span>    rng.shuffle(X)  <span class="comment"># just to make sure the order is irrelevant</span></div>
<div class="line"><span class="lineno">  162</span>    grid, axes = _grid_from_X(</div>
<div class="line"><span class="lineno">  163</span>        X, percentiles, is_categorical, grid_resolution=grid_resolution</div>
<div class="line"><span class="lineno">  164</span>    )</div>
<div class="line"><span class="lineno">  165</span>    <span class="keyword">assert</span> grid.shape == (n_unique_values * grid_resolution, X.shape[1])</div>
<div class="line"><span class="lineno">  166</span>    <span class="comment"># axes is a list of arrays of different shapes</span></div>
<div class="line"><span class="lineno">  167</span>    <span class="keyword">assert</span> axes[0].shape == (n_unique_values,)</div>
<div class="line"><span class="lineno">  168</span>    <span class="keyword">assert</span> axes[1].shape == (grid_resolution,)</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  172</span>    <span class="stringliteral">&quot;grid_resolution&quot;</span>,</div>
<div class="line"><span class="lineno">  173</span>    [</div>
<div class="line"><span class="lineno">  174</span>        2,  <span class="comment"># since n_categories &gt; 2, we should not use quantiles resampling</span></div>
<div class="line"><span class="lineno">  175</span>        100,</div>
<div class="line"><span class="lineno">  176</span>    ],</div>
<div class="line"><span class="lineno">  177</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2a7993143ccb603f7d3f33628808e991" name="a2a7993143ccb603f7d3f33628808e991"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2a7993143ccb603f7d3f33628808e991">&#9670;&#160;</a></span>test_grid_from_X_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_grid_from_X_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>grid_resolution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>percentiles</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  234</span><span class="keyword">def </span>test_grid_from_X_error(grid_resolution, percentiles, err_msg):</div>
<div class="line"><span class="lineno">  235</span>    X = np.asarray([[1, 2], [3, 4]])</div>
<div class="line"><span class="lineno">  236</span>    is_categorical = [<span class="keyword">False</span>]</div>
<div class="line"><span class="lineno">  237</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno">  238</span>        _grid_from_X(X, percentiles, is_categorical, grid_resolution)</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span><span class="preprocessor">@pytest.mark.parametrize(&quot;target_feature&quot;, range(5)</span>)</div>
<div class="line"><span class="lineno">  242</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  243</span>    <span class="stringliteral">&quot;est, method&quot;</span>,</div>
<div class="line"><span class="lineno">  244</span>    [</div>
<div class="line"><span class="lineno">  245</span>        (LinearRegression(), <span class="stringliteral">&quot;brute&quot;</span>),</div>
<div class="line"><span class="lineno">  246</span>        (GradientBoostingRegressor(random_state=0), <span class="stringliteral">&quot;brute&quot;</span>),</div>
<div class="line"><span class="lineno">  247</span>        (GradientBoostingRegressor(random_state=0), <span class="stringliteral">&quot;recursion&quot;</span>),</div>
<div class="line"><span class="lineno">  248</span>        (HistGradientBoostingRegressor(random_state=0), <span class="stringliteral">&quot;brute&quot;</span>),</div>
<div class="line"><span class="lineno">  249</span>        (HistGradientBoostingRegressor(random_state=0), <span class="stringliteral">&quot;recursion&quot;</span>),</div>
<div class="line"><span class="lineno">  250</span>    ],</div>
<div class="line"><span class="lineno">  251</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a040b3c20898c1011087e34645f6d4f40" name="a040b3c20898c1011087e34645f6d4f40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a040b3c20898c1011087e34645f6d4f40">&#9670;&#160;</a></span>test_grid_from_X_heterogeneous_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_grid_from_X_heterogeneous_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>grid_resolution</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that `_grid_from_X` always sample from categories and does not
depend from the percentiles.
</pre> <div class="fragment"><div class="line"><span class="lineno">  194</span><span class="keyword">def </span>test_grid_from_X_heterogeneous_type(grid_resolution):</div>
<div class="line"><span class="lineno">  195</span>    <span class="stringliteral">&quot;&quot;&quot;Check that `_grid_from_X` always sample from categories and does not</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">    depend from the percentiles.</span></div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  198</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  199</span>    percentiles = (0.05, 0.95)</div>
<div class="line"><span class="lineno">  200</span>    is_categorical = [<span class="keyword">True</span>, <span class="keyword">False</span>]</div>
<div class="line"><span class="lineno">  201</span>    X = pd.DataFrame(</div>
<div class="line"><span class="lineno">  202</span>        {</div>
<div class="line"><span class="lineno">  203</span>            <span class="stringliteral">&quot;cat&quot;</span>: [<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>, <span class="stringliteral">&quot;C&quot;</span>, <span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>, <span class="stringliteral">&quot;D&quot;</span>, <span class="stringliteral">&quot;E&quot;</span>, <span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>, <span class="stringliteral">&quot;D&quot;</span>],</div>
<div class="line"><span class="lineno">  204</span>            <span class="stringliteral">&quot;num&quot;</span>: [1, 1, 1, 2, 5, 6, 6, 6, 6, 8],</div>
<div class="line"><span class="lineno">  205</span>        }</div>
<div class="line"><span class="lineno">  206</span>    )</div>
<div class="line"><span class="lineno">  207</span>    nunique = X.nunique()</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    grid, axes = _grid_from_X(</div>
<div class="line"><span class="lineno">  210</span>        X, percentiles, is_categorical, grid_resolution=grid_resolution</div>
<div class="line"><span class="lineno">  211</span>    )</div>
<div class="line"><span class="lineno">  212</span>    <span class="keywordflow">if</span> grid_resolution == 3:</div>
<div class="line"><span class="lineno">  213</span>        <span class="keyword">assert</span> grid.shape == (15, 2)</div>
<div class="line"><span class="lineno">  214</span>        <span class="keyword">assert</span> axes[0].shape[0] == nunique[<span class="stringliteral">&quot;num&quot;</span>]</div>
<div class="line"><span class="lineno">  215</span>        <span class="keyword">assert</span> axes[1].shape[0] == grid_resolution</div>
<div class="line"><span class="lineno">  216</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  217</span>        <span class="keyword">assert</span> grid.shape == (25, 2)</div>
<div class="line"><span class="lineno">  218</span>        <span class="keyword">assert</span> axes[0].shape[0] == nunique[<span class="stringliteral">&quot;cat&quot;</span>]</div>
<div class="line"><span class="lineno">  219</span>        <span class="keyword">assert</span> axes[1].shape[0] == nunique[<span class="stringliteral">&quot;cat&quot;</span>]</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  223</span>    <span class="stringliteral">&quot;grid_resolution, percentiles, err_msg&quot;</span>,</div>
<div class="line"><span class="lineno">  224</span>    [</div>
<div class="line"><span class="lineno">  225</span>        (2, (0, 0.0001), <span class="stringliteral">&quot;percentiles are too close&quot;</span>),</div>
<div class="line"><span class="lineno">  226</span>        (100, (1, 2, 3, 4), <span class="stringliteral">&quot;&#39;percentiles&#39; must be a sequence of 2 elements&quot;</span>),</div>
<div class="line"><span class="lineno">  227</span>        (100, 12345, <span class="stringliteral">&quot;&#39;percentiles&#39; must be a sequence of 2 elements&quot;</span>),</div>
<div class="line"><span class="lineno">  228</span>        (100, (-1, 0.95), <span class="stringliteral">r&quot;&#39;percentiles&#39; values must be in \[0, 1\]&quot;</span>),</div>
<div class="line"><span class="lineno">  229</span>        (100, (0.05, 2), <span class="stringliteral">r&quot;&#39;percentiles&#39; values must be in \[0, 1\]&quot;</span>),</div>
<div class="line"><span class="lineno">  230</span>        (100, (0.9, 0.1), <span class="stringliteral">r&quot;percentiles\[0\] must be strictly less than&quot;</span>),</div>
<div class="line"><span class="lineno">  231</span>        (1, (0.05, 0.95), <span class="stringliteral">&quot;&#39;grid_resolution&#39; must be strictly greater than 1&quot;</span>),</div>
<div class="line"><span class="lineno">  232</span>    ],</div>
<div class="line"><span class="lineno">  233</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8efe19da8b15291974c254a1d168aed3" name="a8efe19da8b15291974c254a1d168aed3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8efe19da8b15291974c254a1d168aed3">&#9670;&#160;</a></span>test_grid_from_X_with_categorical()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_grid_from_X_with_categorical </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>grid_resolution</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that `_grid_from_X` always sample from categories and does not
depend from the percentiles.
</pre> <div class="fragment"><div class="line"><span class="lineno">  178</span><span class="keyword">def </span>test_grid_from_X_with_categorical(grid_resolution):</div>
<div class="line"><span class="lineno">  179</span>    <span class="stringliteral">&quot;&quot;&quot;Check that `_grid_from_X` always sample from categories and does not</span></div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">    depend from the percentiles.</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  182</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  183</span>    percentiles = (0.05, 0.95)</div>
<div class="line"><span class="lineno">  184</span>    is_categorical = [<span class="keyword">True</span>]</div>
<div class="line"><span class="lineno">  185</span>    X = pd.DataFrame({<span class="stringliteral">&quot;cat_feature&quot;</span>: [<span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>, <span class="stringliteral">&quot;C&quot;</span>, <span class="stringliteral">&quot;A&quot;</span>, <span class="stringliteral">&quot;B&quot;</span>, <span class="stringliteral">&quot;D&quot;</span>, <span class="stringliteral">&quot;E&quot;</span>]})</div>
<div class="line"><span class="lineno">  186</span>    grid, axes = _grid_from_X(</div>
<div class="line"><span class="lineno">  187</span>        X, percentiles, is_categorical, grid_resolution=grid_resolution</div>
<div class="line"><span class="lineno">  188</span>    )</div>
<div class="line"><span class="lineno">  189</span>    <span class="keyword">assert</span> grid.shape == (5, X.shape[1])</div>
<div class="line"><span class="lineno">  190</span>    <span class="keyword">assert</span> axes[0].shape == (5,)</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span><span class="preprocessor">@pytest.mark.parametrize(&quot;grid_resolution&quot;, [3, 100])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a157cc1d86caf1410d7c652156dbd81db" name="a157cc1d86caf1410d7c652156dbd81db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a157cc1d86caf1410d7c652156dbd81db">&#9670;&#160;</a></span>test_hist_gbdt_sw_not_supported()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_hist_gbdt_sw_not_supported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  660</span><span class="keyword">def </span>test_hist_gbdt_sw_not_supported():</div>
<div class="line"><span class="lineno">  661</span>    <span class="comment"># TODO: remove/fix when PDP supports HGBT with sample weights</span></div>
<div class="line"><span class="lineno">  662</span>    clf = HistGradientBoostingRegressor(random_state=1)</div>
<div class="line"><span class="lineno">  663</span>    clf.fit(X, y, sample_weight=np.ones(len(X)))</div>
<div class="line"><span class="lineno">  664</span> </div>
<div class="line"><span class="lineno">  665</span>    <span class="keyword">with</span> pytest.raises(</div>
<div class="line"><span class="lineno">  666</span>        NotImplementedError, match=<span class="stringliteral">&quot;does not support partial dependence&quot;</span></div>
<div class="line"><span class="lineno">  667</span>    ):</div>
<div class="line"><span class="lineno">  668</span>        partial_dependence(clf, X, features=[1])</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a48619a9d09eb43cf0625472288ddefaf" name="a48619a9d09eb43cf0625472288ddefaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48619a9d09eb43cf0625472288ddefaf">&#9670;&#160;</a></span>test_kind_average_and_average_of_individual()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_kind_average_and_average_of_individual </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  830</span><span class="keyword">def </span>test_kind_average_and_average_of_individual(Estimator, data):</div>
<div class="line"><span class="lineno">  831</span>    est = Estimator()</div>
<div class="line"><span class="lineno">  832</span>    (X, y), n_targets = data</div>
<div class="line"><span class="lineno">  833</span>    est.fit(X, y)</div>
<div class="line"><span class="lineno">  834</span> </div>
<div class="line"><span class="lineno">  835</span>    pdp_avg = partial_dependence(est, X=X, features=[1, 2], kind=<span class="stringliteral">&quot;average&quot;</span>)</div>
<div class="line"><span class="lineno">  836</span>    pdp_ind = partial_dependence(est, X=X, features=[1, 2], kind=<span class="stringliteral">&quot;individual&quot;</span>)</div>
<div class="line"><span class="lineno">  837</span>    avg_ind = np.mean(pdp_ind[<span class="stringliteral">&quot;individual&quot;</span>], axis=1)</div>
<div class="line"><span class="lineno">  838</span>    assert_allclose(avg_ind, pdp_avg[<span class="stringliteral">&quot;average&quot;</span>])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a58b04974f85adab496b8cd746f9143fa" name="a58b04974f85adab496b8cd746f9143fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58b04974f85adab496b8cd746f9143fa">&#9670;&#160;</a></span>test_multiclass_multioutput()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_multiclass_multioutput </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Estimator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  459</span><span class="keyword">def </span>test_multiclass_multioutput(Estimator):</div>
<div class="line"><span class="lineno">  460</span>    <span class="comment"># Make sure error is raised for multiclass-multioutput classifiers</span></div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>    <span class="comment"># make multiclass-multioutput dataset</span></div>
<div class="line"><span class="lineno">  463</span>    X, y = make_classification(n_classes=3, n_clusters_per_class=1, random_state=0)</div>
<div class="line"><span class="lineno">  464</span>    y = np.array([y, y]).T</div>
<div class="line"><span class="lineno">  465</span> </div>
<div class="line"><span class="lineno">  466</span>    est = Estimator()</div>
<div class="line"><span class="lineno">  467</span>    est.fit(X, y)</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>    <span class="keyword">with</span> pytest.raises(</div>
<div class="line"><span class="lineno">  470</span>        ValueError, match=<span class="stringliteral">&quot;Multiclass-multioutput estimators are not supported&quot;</span></div>
<div class="line"><span class="lineno">  471</span>    ):</div>
<div class="line"><span class="lineno">  472</span>        partial_dependence(est, X, [0])</div>
<div class="line"><span class="lineno">  473</span> </div>
<div class="line"><span class="lineno">  474</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a955fd6cb7e79f7b24916b46ade606e28" name="a955fd6cb7e79f7b24916b46ade606e28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a955fd6cb7e79f7b24916b46ade606e28">&#9670;&#160;</a></span>test_output_shape()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_output_shape </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>Estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>grid_resolution</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   87</span><span class="keyword">def </span>test_output_shape(Estimator, method, data, grid_resolution, features, kind):</div>
<div class="line"><span class="lineno">   88</span>    <span class="comment"># Check that partial_dependence has consistent output shape for different</span></div>
<div class="line"><span class="lineno">   89</span>    <span class="comment"># kinds of estimators:</span></div>
<div class="line"><span class="lineno">   90</span>    <span class="comment"># - classifiers with binary and multiclass settings</span></div>
<div class="line"><span class="lineno">   91</span>    <span class="comment"># - regressors</span></div>
<div class="line"><span class="lineno">   92</span>    <span class="comment"># - multi-task regressors</span></div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>    est = Estimator()</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="comment"># n_target corresponds to the number of classes (1 for binary classif) or</span></div>
<div class="line"><span class="lineno">   97</span>    <span class="comment"># the number of tasks / outputs in multi task settings. It&#39;s equal to 1 for</span></div>
<div class="line"><span class="lineno">   98</span>    <span class="comment"># classical regression_data.</span></div>
<div class="line"><span class="lineno">   99</span>    (X, y), n_targets = data</div>
<div class="line"><span class="lineno">  100</span>    n_instances = X.shape[0]</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    est.fit(X, y)</div>
<div class="line"><span class="lineno">  103</span>    result = partial_dependence(</div>
<div class="line"><span class="lineno">  104</span>        est,</div>
<div class="line"><span class="lineno">  105</span>        X=X,</div>
<div class="line"><span class="lineno">  106</span>        features=features,</div>
<div class="line"><span class="lineno">  107</span>        method=method,</div>
<div class="line"><span class="lineno">  108</span>        kind=kind,</div>
<div class="line"><span class="lineno">  109</span>        grid_resolution=grid_resolution,</div>
<div class="line"><span class="lineno">  110</span>    )</div>
<div class="line"><span class="lineno">  111</span>    pdp, axes = result, result[<span class="stringliteral">&quot;values&quot;</span>]</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>    expected_pdp_shape = (n_targets, *[grid_resolution <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(len(features))])</div>
<div class="line"><span class="lineno">  114</span>    expected_ice_shape = (</div>
<div class="line"><span class="lineno">  115</span>        n_targets,</div>
<div class="line"><span class="lineno">  116</span>        n_instances,</div>
<div class="line"><span class="lineno">  117</span>        *[grid_resolution <span class="keywordflow">for</span> _ <span class="keywordflow">in</span> range(len(features))],</div>
<div class="line"><span class="lineno">  118</span>    )</div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">if</span> kind == <span class="stringliteral">&quot;average&quot;</span>:</div>
<div class="line"><span class="lineno">  120</span>        <span class="keyword">assert</span> pdp.average.shape == expected_pdp_shape</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">elif</span> kind == <span class="stringliteral">&quot;individual&quot;</span>:</div>
<div class="line"><span class="lineno">  122</span>        <span class="keyword">assert</span> pdp.individual.shape == expected_ice_shape</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">else</span>:  <span class="comment"># &#39;both&#39;</span></div>
<div class="line"><span class="lineno">  124</span>        <span class="keyword">assert</span> pdp.average.shape == expected_pdp_shape</div>
<div class="line"><span class="lineno">  125</span>        <span class="keyword">assert</span> pdp.individual.shape == expected_ice_shape</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    expected_axes_shape = (len(features), grid_resolution)</div>
<div class="line"><span class="lineno">  128</span>    <span class="keyword">assert</span> axes <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  129</span>    <span class="keyword">assert</span> np.asarray(axes).shape == expected_axes_shape</div>
<div class="line"><span class="lineno">  130</span> </div>
<div class="line"><span class="lineno">  131</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0062cd7aa38ff25a7852b8602ed13a95" name="a0062cd7aa38ff25a7852b8602ed13a95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0062cd7aa38ff25a7852b8602ed13a95">&#9670;&#160;</a></span>test_partial_dependence_dataframe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_dataframe </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>preprocessor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  728</span><span class="keyword">def </span>test_partial_dependence_dataframe(estimator, preprocessor, features):</div>
<div class="line"><span class="lineno">  729</span>    <span class="comment"># check that the partial dependence support dataframe and pipeline</span></div>
<div class="line"><span class="lineno">  730</span>    <span class="comment"># including a column transformer</span></div>
<div class="line"><span class="lineno">  731</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  732</span>    df = pd.DataFrame(scale(iris.data), columns=iris.feature_names)</div>
<div class="line"><span class="lineno">  733</span> </div>
<div class="line"><span class="lineno">  734</span>    pipe = make_pipeline(preprocessor, estimator)</div>
<div class="line"><span class="lineno">  735</span>    pipe.fit(df, iris.target)</div>
<div class="line"><span class="lineno">  736</span>    pdp_pipe = partial_dependence(</div>
<div class="line"><span class="lineno">  737</span>        pipe, df, features=features, grid_resolution=10, kind=<span class="stringliteral">&quot;average&quot;</span></div>
<div class="line"><span class="lineno">  738</span>    )</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>    <span class="comment"># the column transformer will reorder the column when transforming</span></div>
<div class="line"><span class="lineno">  741</span>    <span class="comment"># we mixed the index to be sure that we are computing the partial</span></div>
<div class="line"><span class="lineno">  742</span>    <span class="comment"># dependence of the right columns</span></div>
<div class="line"><span class="lineno">  743</span>    <span class="keywordflow">if</span> preprocessor <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  744</span>        X_proc = clone(preprocessor).fit_transform(df)</div>
<div class="line"><span class="lineno">  745</span>        features_clf = [0, 1]</div>
<div class="line"><span class="lineno">  746</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  747</span>        X_proc = df</div>
<div class="line"><span class="lineno">  748</span>        features_clf = [0, 2]</div>
<div class="line"><span class="lineno">  749</span> </div>
<div class="line"><span class="lineno">  750</span>    clf = clone(estimator).fit(X_proc, iris.target)</div>
<div class="line"><span class="lineno">  751</span>    pdp_clf = partial_dependence(</div>
<div class="line"><span class="lineno">  752</span>        clf,</div>
<div class="line"><span class="lineno">  753</span>        X_proc,</div>
<div class="line"><span class="lineno">  754</span>        features=features_clf,</div>
<div class="line"><span class="lineno">  755</span>        method=<span class="stringliteral">&quot;brute&quot;</span>,</div>
<div class="line"><span class="lineno">  756</span>        grid_resolution=10,</div>
<div class="line"><span class="lineno">  757</span>        kind=<span class="stringliteral">&quot;average&quot;</span>,</div>
<div class="line"><span class="lineno">  758</span>    )</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>    assert_allclose(pdp_pipe[<span class="stringliteral">&quot;average&quot;</span>], pdp_clf[<span class="stringliteral">&quot;average&quot;</span>])</div>
<div class="line"><span class="lineno">  761</span>    <span class="keywordflow">if</span> preprocessor <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  762</span>        scaler = preprocessor.named_transformers_[<span class="stringliteral">&quot;standardscaler&quot;</span>]</div>
<div class="line"><span class="lineno">  763</span>        assert_allclose(</div>
<div class="line"><span class="lineno">  764</span>            pdp_pipe[<span class="stringliteral">&quot;values&quot;</span>][1],</div>
<div class="line"><span class="lineno">  765</span>            pdp_clf[<span class="stringliteral">&quot;values&quot;</span>][1] * scaler.scale_[1] + scaler.mean_[1],</div>
<div class="line"><span class="lineno">  766</span>        )</div>
<div class="line"><span class="lineno">  767</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  768</span>        assert_allclose(pdp_pipe[<span class="stringliteral">&quot;values&quot;</span>][1], pdp_clf[<span class="stringliteral">&quot;values&quot;</span>][1])</div>
<div class="line"><span class="lineno">  769</span> </div>
<div class="line"><span class="lineno">  770</span> </div>
<div class="line"><span class="lineno">  771</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  772</span>    <span class="stringliteral">&quot;features, expected_pd_shape&quot;</span>,</div>
<div class="line"><span class="lineno">  773</span>    [</div>
<div class="line"><span class="lineno">  774</span>        (0, (3, 10)),</div>
<div class="line"><span class="lineno">  775</span>        (iris.feature_names[0], (3, 10)),</div>
<div class="line"><span class="lineno">  776</span>        ([0, 2], (3, 10, 10)),</div>
<div class="line"><span class="lineno">  777</span>        ([iris.feature_names[i] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> (0, 2)], (3, 10, 10)),</div>
<div class="line"><span class="lineno">  778</span>        ([<span class="keyword">True</span>, <span class="keyword">False</span>, <span class="keyword">True</span>, <span class="keyword">False</span>], (3, 10, 10)),</div>
<div class="line"><span class="lineno">  779</span>    ],</div>
<div class="line"><span class="lineno">  780</span>    ids=[<span class="stringliteral">&quot;scalar-int&quot;</span>, <span class="stringliteral">&quot;scalar-str&quot;</span>, <span class="stringliteral">&quot;list-int&quot;</span>, <span class="stringliteral">&quot;list-str&quot;</span>, <span class="stringliteral">&quot;mask&quot;</span>],</div>
<div class="line"><span class="lineno">  781</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a268ba9fb2a60f20c773b938346b7c0b3" name="a268ba9fb2a60f20c773b938346b7c0b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a268ba9fb2a60f20c773b938346b7c0b3">&#9670;&#160;</a></span>test_partial_dependence_easy_target()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_easy_target </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>est</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>power</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  417</span><span class="keyword">def </span>test_partial_dependence_easy_target(est, power):</div>
<div class="line"><span class="lineno">  418</span>    <span class="comment"># If the target y only depends on one feature in an obvious way (linear or</span></div>
<div class="line"><span class="lineno">  419</span>    <span class="comment"># quadratic) then the partial dependence for that feature should reflect</span></div>
<div class="line"><span class="lineno">  420</span>    <span class="comment"># it.</span></div>
<div class="line"><span class="lineno">  421</span>    <span class="comment"># We here fit a linear regression_data model (with polynomial features if</span></div>
<div class="line"><span class="lineno">  422</span>    <span class="comment"># needed) and compute r_squared to check that the partial dependence</span></div>
<div class="line"><span class="lineno">  423</span>    <span class="comment"># correctly reflects the target.</span></div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>    rng = np.random.RandomState(0)</div>
<div class="line"><span class="lineno">  426</span>    n_samples = 200</div>
<div class="line"><span class="lineno">  427</span>    target_variable = 2</div>
<div class="line"><span class="lineno">  428</span>    X = rng.normal(size=(n_samples, 5))</div>
<div class="line"><span class="lineno">  429</span>    y = X[:, target_variable] ** power</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>    est.fit(X, y)</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>    pdp = partial_dependence(</div>
<div class="line"><span class="lineno">  434</span>        est, features=[target_variable], X=X, grid_resolution=1000, kind=<span class="stringliteral">&quot;average&quot;</span></div>
<div class="line"><span class="lineno">  435</span>    )</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>    new_X = pdp[<span class="stringliteral">&quot;values&quot;</span>][0].reshape(-1, 1)</div>
<div class="line"><span class="lineno">  438</span>    new_y = pdp[<span class="stringliteral">&quot;average&quot;</span>][0]</div>
<div class="line"><span class="lineno">  439</span>    <span class="comment"># add polynomial features if needed</span></div>
<div class="line"><span class="lineno">  440</span>    new_X = PolynomialFeatures(degree=power).fit_transform(new_X)</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>    lr = LinearRegression().fit(new_X, new_y)</div>
<div class="line"><span class="lineno">  443</span>    r2 = r2_score(new_y, lr.predict(new_X))</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>    <span class="keyword">assert</span> r2 &gt; 0.99</div>
<div class="line"><span class="lineno">  446</span> </div>
<div class="line"><span class="lineno">  447</span> </div>
<div class="line"><span class="lineno">  448</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  449</span>    <span class="stringliteral">&quot;Estimator&quot;</span>,</div>
<div class="line"><span class="lineno">  450</span>    (</div>
<div class="line"><span class="lineno">  451</span>        <a class="code hl_class" href="classsklearn_1_1tree_1_1__classes_1_1_decision_tree_classifier.html">sklearn.tree.DecisionTreeClassifier</a>,</div>
<div class="line"><span class="lineno">  452</span>        <a class="code hl_class" href="classsklearn_1_1tree_1_1__classes_1_1_extra_tree_classifier.html">sklearn.tree.ExtraTreeClassifier</a>,</div>
<div class="line"><span class="lineno">  453</span>        <a class="code hl_class" href="classsklearn_1_1ensemble_1_1__forest_1_1_extra_trees_classifier.html">sklearn.ensemble.ExtraTreesClassifier</a>,</div>
<div class="line"><span class="lineno">  454</span>        <a class="code hl_class" href="classsklearn_1_1neighbors_1_1__classification_1_1_k_neighbors_classifier.html">sklearn.neighbors.KNeighborsClassifier</a>,</div>
<div class="line"><span class="lineno">  455</span>        <a class="code hl_class" href="classsklearn_1_1neighbors_1_1__classification_1_1_radius_neighbors_classifier.html">sklearn.neighbors.RadiusNeighborsClassifier</a>,</div>
<div class="line"><span class="lineno">  456</span>        <a class="code hl_class" href="classsklearn_1_1ensemble_1_1__forest_1_1_random_forest_classifier.html">sklearn.ensemble.RandomForestClassifier</a>,</div>
<div class="line"><span class="lineno">  457</span>    ),</div>
<div class="line"><span class="lineno">  458</span>)</div>
<div class="ttc" id="aclasssklearn_1_1ensemble_1_1__forest_1_1_extra_trees_classifier_html"><div class="ttname"><a href="classsklearn_1_1ensemble_1_1__forest_1_1_extra_trees_classifier.html">sklearn.ensemble._forest.ExtraTreesClassifier</a></div><div class="ttdef"><b>Definition</b> _forest.py:1779</div></div>
<div class="ttc" id="aclasssklearn_1_1ensemble_1_1__forest_1_1_random_forest_classifier_html"><div class="ttname"><a href="classsklearn_1_1ensemble_1_1__forest_1_1_random_forest_classifier.html">sklearn.ensemble._forest.RandomForestClassifier</a></div><div class="ttdef"><b>Definition</b> _forest.py:1082</div></div>
<div class="ttc" id="aclasssklearn_1_1neighbors_1_1__classification_1_1_k_neighbors_classifier_html"><div class="ttname"><a href="classsklearn_1_1neighbors_1_1__classification_1_1_k_neighbors_classifier.html">sklearn.neighbors._classification.KNeighborsClassifier</a></div><div class="ttdef"><b>Definition</b> _classification.py:24</div></div>
<div class="ttc" id="aclasssklearn_1_1neighbors_1_1__classification_1_1_radius_neighbors_classifier_html"><div class="ttname"><a href="classsklearn_1_1neighbors_1_1__classification_1_1_radius_neighbors_classifier.html">sklearn.neighbors._classification.RadiusNeighborsClassifier</a></div><div class="ttdef"><b>Definition</b> _classification.py:326</div></div>
<div class="ttc" id="aclasssklearn_1_1tree_1_1__classes_1_1_decision_tree_classifier_html"><div class="ttname"><a href="classsklearn_1_1tree_1_1__classes_1_1_decision_tree_classifier.html">sklearn.tree._classes.DecisionTreeClassifier</a></div><div class="ttdef"><b>Definition</b> _classes.py:595</div></div>
<div class="ttc" id="aclasssklearn_1_1tree_1_1__classes_1_1_extra_tree_classifier_html"><div class="ttname"><a href="classsklearn_1_1tree_1_1__classes_1_1_extra_tree_classifier.html">sklearn.tree._classes.ExtraTreeClassifier</a></div><div class="ttdef"><b>Definition</b> _classes.py:1283</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2b7f9e32539ea93914f9fe6008c52933" name="a2b7f9e32539ea93914f9fe6008c52933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b7f9e32539ea93914f9fe6008c52933">&#9670;&#160;</a></span>test_partial_dependence_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  552</span><span class="keyword">def </span>test_partial_dependence_error(estimator, params, err_msg):</div>
<div class="line"><span class="lineno">  553</span>    X, y = make_classification(random_state=0)</div>
<div class="line"><span class="lineno">  554</span>    estimator.fit(X, y)</div>
<div class="line"><span class="lineno">  555</span> </div>
<div class="line"><span class="lineno">  556</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno">  557</span>        partial_dependence(estimator, X, **params)</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  561</span>    <span class="stringliteral">&quot;with_dataframe, err_msg&quot;</span>,</div>
<div class="line"><span class="lineno">  562</span>    [</div>
<div class="line"><span class="lineno">  563</span>        (<span class="keyword">True</span>, <span class="stringliteral">&quot;Only array-like or scalar are supported&quot;</span>),</div>
<div class="line"><span class="lineno">  564</span>        (<span class="keyword">False</span>, <span class="stringliteral">&quot;Only array-like or scalar are supported&quot;</span>),</div>
<div class="line"><span class="lineno">  565</span>    ],</div>
<div class="line"><span class="lineno">  566</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a820181a42b369c327628641c305c6cd9" name="a820181a42b369c327628641c305c6cd9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a820181a42b369c327628641c305c6cd9">&#9670;&#160;</a></span>test_partial_dependence_feature_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_feature_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>features</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expected_pd_shape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  782</span><span class="keyword">def </span>test_partial_dependence_feature_type(features, expected_pd_shape):</div>
<div class="line"><span class="lineno">  783</span>    <span class="comment"># check all possible features type supported in PDP</span></div>
<div class="line"><span class="lineno">  784</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  785</span>    df = pd.DataFrame(iris.data, columns=iris.feature_names)</div>
<div class="line"><span class="lineno">  786</span> </div>
<div class="line"><span class="lineno">  787</span>    preprocessor = make_column_transformer(</div>
<div class="line"><span class="lineno">  788</span>        (StandardScaler(), [iris.feature_names[i] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> (0, 2)]),</div>
<div class="line"><span class="lineno">  789</span>        (RobustScaler(), [iris.feature_names[i] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> (1, 3)]),</div>
<div class="line"><span class="lineno">  790</span>    )</div>
<div class="line"><span class="lineno">  791</span>    pipe = make_pipeline(</div>
<div class="line"><span class="lineno">  792</span>        preprocessor, LogisticRegression(max_iter=1000, random_state=0)</div>
<div class="line"><span class="lineno">  793</span>    )</div>
<div class="line"><span class="lineno">  794</span>    pipe.fit(df, iris.target)</div>
<div class="line"><span class="lineno">  795</span>    pdp_pipe = partial_dependence(</div>
<div class="line"><span class="lineno">  796</span>        pipe, df, features=features, grid_resolution=10, kind=<span class="stringliteral">&quot;average&quot;</span></div>
<div class="line"><span class="lineno">  797</span>    )</div>
<div class="line"><span class="lineno">  798</span>    <span class="keyword">assert</span> pdp_pipe[<span class="stringliteral">&quot;average&quot;</span>].shape == expected_pd_shape</div>
<div class="line"><span class="lineno">  799</span>    <span class="keyword">assert</span> len(pdp_pipe[<span class="stringliteral">&quot;values&quot;</span>]) == len(pdp_pipe[<span class="stringliteral">&quot;average&quot;</span>].shape) - 1</div>
<div class="line"><span class="lineno">  800</span> </div>
<div class="line"><span class="lineno">  801</span> </div>
<div class="line"><span class="lineno">  802</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  803</span>    <span class="stringliteral">&quot;estimator&quot;</span>,</div>
<div class="line"><span class="lineno">  804</span>    [</div>
<div class="line"><span class="lineno">  805</span>        LinearRegression(),</div>
<div class="line"><span class="lineno">  806</span>        LogisticRegression(),</div>
<div class="line"><span class="lineno">  807</span>        GradientBoostingRegressor(),</div>
<div class="line"><span class="lineno">  808</span>        GradientBoostingClassifier(),</div>
<div class="line"><span class="lineno">  809</span>    ],</div>
<div class="line"><span class="lineno">  810</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a411ff18a1065f9341b69a4fdf3bad386" name="a411ff18a1065f9341b69a4fdf3bad386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a411ff18a1065f9341b69a4fdf3bad386">&#9670;&#160;</a></span>test_partial_dependence_helpers()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_helpers </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>est</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target_feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  252</span><span class="keyword">def </span>test_partial_dependence_helpers(est, method, target_feature):</div>
<div class="line"><span class="lineno">  253</span>    <span class="comment"># Check that what is returned by _partial_dependence_brute or</span></div>
<div class="line"><span class="lineno">  254</span>    <span class="comment"># _partial_dependence_recursion is equivalent to manually setting a target</span></div>
<div class="line"><span class="lineno">  255</span>    <span class="comment"># feature to a given value, and computing the average prediction over all</span></div>
<div class="line"><span class="lineno">  256</span>    <span class="comment"># samples.</span></div>
<div class="line"><span class="lineno">  257</span>    <span class="comment"># This also checks that the brute and recursion methods give the same</span></div>
<div class="line"><span class="lineno">  258</span>    <span class="comment"># output.</span></div>
<div class="line"><span class="lineno">  259</span>    <span class="comment"># Note that even on the trainset, the brute and the recursion methods</span></div>
<div class="line"><span class="lineno">  260</span>    <span class="comment"># aren&#39;t always strictly equivalent, in particular when the slow method</span></div>
<div class="line"><span class="lineno">  261</span>    <span class="comment"># generates unrealistic samples that have low mass in the joint</span></div>
<div class="line"><span class="lineno">  262</span>    <span class="comment"># distribution of the input features, and when some of the features are</span></div>
<div class="line"><span class="lineno">  263</span>    <span class="comment"># dependent. Hence the high tolerance on the checks.</span></div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>    X, y = make_regression(random_state=0, n_features=5, n_informative=5)</div>
<div class="line"><span class="lineno">  266</span>    <span class="comment"># The &#39;init&#39; estimator for GBDT (here the average prediction) isn&#39;t taken</span></div>
<div class="line"><span class="lineno">  267</span>    <span class="comment"># into account with the recursion method, for technical reasons. We set</span></div>
<div class="line"><span class="lineno">  268</span>    <span class="comment"># the mean to 0 to that this &#39;bug&#39; doesn&#39;t have any effect.</span></div>
<div class="line"><span class="lineno">  269</span>    y = y - y.mean()</div>
<div class="line"><span class="lineno">  270</span>    est.fit(X, y)</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>    <span class="comment"># target feature will be set to .5 and then to 123</span></div>
<div class="line"><span class="lineno">  273</span>    features = np.array([target_feature], dtype=np.int32)</div>
<div class="line"><span class="lineno">  274</span>    grid = np.array([[0.5], [123]])</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordflow">if</span> method == <span class="stringliteral">&quot;brute&quot;</span>:</div>
<div class="line"><span class="lineno">  277</span>        pdp, predictions = _partial_dependence_brute(</div>
<div class="line"><span class="lineno">  278</span>            est, grid, features, X, response_method=<span class="stringliteral">&quot;auto&quot;</span></div>
<div class="line"><span class="lineno">  279</span>        )</div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  281</span>        pdp = _partial_dependence_recursion(est, grid, features)</div>
<div class="line"><span class="lineno">  282</span> </div>
<div class="line"><span class="lineno">  283</span>    mean_predictions = []</div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">for</span> val <span class="keywordflow">in</span> (0.5, 123):</div>
<div class="line"><span class="lineno">  285</span>        X_ = X.copy()</div>
<div class="line"><span class="lineno">  286</span>        X_[:, target_feature] = val</div>
<div class="line"><span class="lineno">  287</span>        mean_predictions.append(est.predict(X_).mean())</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>    pdp = pdp[0]  <span class="comment"># (shape is (1, 2) so make it (2,))</span></div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>    <span class="comment"># allow for greater margin for error with recursion method</span></div>
<div class="line"><span class="lineno">  292</span>    rtol = 1e-1 <span class="keywordflow">if</span> method == <span class="stringliteral">&quot;recursion&quot;</span> <span class="keywordflow">else</span> 1e-3</div>
<div class="line"><span class="lineno">  293</span>    <span class="keyword">assert</span> np.allclose(pdp, mean_predictions, rtol=rtol)</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span><span class="preprocessor">@pytest.mark.parametrize(&quot;seed&quot;, range(1)</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1a51f804b89b87285766d52fae88bca6" name="a1a51f804b89b87285766d52fae88bca6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a51f804b89b87285766d52fae88bca6">&#9670;&#160;</a></span>test_partial_dependence_pipeline()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_pipeline </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  671</span><span class="keyword">def </span>test_partial_dependence_pipeline():</div>
<div class="line"><span class="lineno">  672</span>    <span class="comment"># check that the partial dependence support pipeline</span></div>
<div class="line"><span class="lineno">  673</span>    iris = load_iris()</div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>    scaler = StandardScaler()</div>
<div class="line"><span class="lineno">  676</span>    clf = DummyClassifier(random_state=42)</div>
<div class="line"><span class="lineno">  677</span>    pipe = make_pipeline(scaler, clf)</div>
<div class="line"><span class="lineno">  678</span> </div>
<div class="line"><span class="lineno">  679</span>    clf.fit(scaler.fit_transform(iris.data), iris.target)</div>
<div class="line"><span class="lineno">  680</span>    pipe.fit(iris.data, iris.target)</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>    features = 0</div>
<div class="line"><span class="lineno">  683</span>    pdp_pipe = partial_dependence(</div>
<div class="line"><span class="lineno">  684</span>        pipe, iris.data, features=[features], grid_resolution=10, kind=<span class="stringliteral">&quot;average&quot;</span></div>
<div class="line"><span class="lineno">  685</span>    )</div>
<div class="line"><span class="lineno">  686</span>    pdp_clf = partial_dependence(</div>
<div class="line"><span class="lineno">  687</span>        clf,</div>
<div class="line"><span class="lineno">  688</span>        scaler.transform(iris.data),</div>
<div class="line"><span class="lineno">  689</span>        features=[features],</div>
<div class="line"><span class="lineno">  690</span>        grid_resolution=10,</div>
<div class="line"><span class="lineno">  691</span>        kind=<span class="stringliteral">&quot;average&quot;</span>,</div>
<div class="line"><span class="lineno">  692</span>    )</div>
<div class="line"><span class="lineno">  693</span>    assert_allclose(pdp_pipe[<span class="stringliteral">&quot;average&quot;</span>], pdp_clf[<span class="stringliteral">&quot;average&quot;</span>])</div>
<div class="line"><span class="lineno">  694</span>    assert_allclose(</div>
<div class="line"><span class="lineno">  695</span>        pdp_pipe[<span class="stringliteral">&quot;values&quot;</span>][0],</div>
<div class="line"><span class="lineno">  696</span>        pdp_clf[<span class="stringliteral">&quot;values&quot;</span>][0] * scaler.scale_[features] + scaler.mean_[features],</div>
<div class="line"><span class="lineno">  697</span>    )</div>
<div class="line"><span class="lineno">  698</span> </div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  701</span>    <span class="stringliteral">&quot;estimator&quot;</span>,</div>
<div class="line"><span class="lineno">  702</span>    [</div>
<div class="line"><span class="lineno">  703</span>        LogisticRegression(max_iter=1000, random_state=0),</div>
<div class="line"><span class="lineno">  704</span>        GradientBoostingClassifier(random_state=0, n_estimators=5),</div>
<div class="line"><span class="lineno">  705</span>    ],</div>
<div class="line"><span class="lineno">  706</span>    ids=[<span class="stringliteral">&quot;estimator-brute&quot;</span>, <span class="stringliteral">&quot;estimator-recursion&quot;</span>],</div>
<div class="line"><span class="lineno">  707</span>)</div>
<div class="line"><span class="lineno">  708</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  709</span>    <span class="stringliteral">&quot;preprocessor&quot;</span>,</div>
<div class="line"><span class="lineno">  710</span>    [</div>
<div class="line"><span class="lineno">  711</span>        <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  712</span>        make_column_transformer(</div>
<div class="line"><span class="lineno">  713</span>            (StandardScaler(), [iris.feature_names[i] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> (0, 2)]),</div>
<div class="line"><span class="lineno">  714</span>            (RobustScaler(), [iris.feature_names[i] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> (1, 3)]),</div>
<div class="line"><span class="lineno">  715</span>        ),</div>
<div class="line"><span class="lineno">  716</span>        make_column_transformer(</div>
<div class="line"><span class="lineno">  717</span>            (StandardScaler(), [iris.feature_names[i] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> (0, 2)]),</div>
<div class="line"><span class="lineno">  718</span>            remainder=<span class="stringliteral">&quot;passthrough&quot;</span>,</div>
<div class="line"><span class="lineno">  719</span>        ),</div>
<div class="line"><span class="lineno">  720</span>    ],</div>
<div class="line"><span class="lineno">  721</span>    ids=[<span class="stringliteral">&quot;None&quot;</span>, <span class="stringliteral">&quot;column-transformer&quot;</span>, <span class="stringliteral">&quot;column-transformer-passthrough&quot;</span>],</div>
<div class="line"><span class="lineno">  722</span>)</div>
<div class="line"><span class="lineno">  723</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  724</span>    <span class="stringliteral">&quot;features&quot;</span>,</div>
<div class="line"><span class="lineno">  725</span>    [[0, 2], [iris.feature_names[i] <span class="keywordflow">for</span> i <span class="keywordflow">in</span> (0, 2)]],</div>
<div class="line"><span class="lineno">  726</span>    ids=[<span class="stringliteral">&quot;features-integer&quot;</span>, <span class="stringliteral">&quot;features-string&quot;</span>],</div>
<div class="line"><span class="lineno">  727</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6796e18650a8cb079e6e2f925ab5189d" name="a6796e18650a8cb079e6e2f925ab5189d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6796e18650a8cb079e6e2f925ab5189d">&#9670;&#160;</a></span>test_partial_dependence_sample_weight()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_sample_weight </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  634</span><span class="keyword">def </span>test_partial_dependence_sample_weight():</div>
<div class="line"><span class="lineno">  635</span>    <span class="comment"># Test near perfect correlation between partial dependence and diagonal</span></div>
<div class="line"><span class="lineno">  636</span>    <span class="comment"># when sample weights emphasize y = x predictions</span></div>
<div class="line"><span class="lineno">  637</span>    <span class="comment"># non-regression test for #13193</span></div>
<div class="line"><span class="lineno">  638</span>    <span class="comment"># TODO: extend to HistGradientBoosting once sample_weight is supported</span></div>
<div class="line"><span class="lineno">  639</span>    N = 1000</div>
<div class="line"><span class="lineno">  640</span>    rng = np.random.RandomState(123456)</div>
<div class="line"><span class="lineno">  641</span>    mask = rng.randint(2, size=N, dtype=bool)</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>    x = rng.rand(N)</div>
<div class="line"><span class="lineno">  644</span>    <span class="comment"># set y = x on mask and y = -x outside</span></div>
<div class="line"><span class="lineno">  645</span>    y = x.copy()</div>
<div class="line"><span class="lineno">  646</span>    y[~mask] = -y[~mask]</div>
<div class="line"><span class="lineno">  647</span>    X = np.c_[mask, x]</div>
<div class="line"><span class="lineno">  648</span>    <span class="comment"># sample weights to emphasize data points where y = x</span></div>
<div class="line"><span class="lineno">  649</span>    sample_weight = np.ones(N)</div>
<div class="line"><span class="lineno">  650</span>    sample_weight[mask] = 1000.0</div>
<div class="line"><span class="lineno">  651</span> </div>
<div class="line"><span class="lineno">  652</span>    clf = GradientBoostingRegressor(n_estimators=10, random_state=1)</div>
<div class="line"><span class="lineno">  653</span>    clf.fit(X, y, sample_weight=sample_weight)</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>    pdp = partial_dependence(clf, X, features=[1], kind=<span class="stringliteral">&quot;average&quot;</span>)</div>
<div class="line"><span class="lineno">  656</span> </div>
<div class="line"><span class="lineno">  657</span>    <span class="keyword">assert</span> np.corrcoef(pdp[<span class="stringliteral">&quot;average&quot;</span>], pdp[<span class="stringliteral">&quot;values&quot;</span>])[0, 1] &gt; 0.99</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acfad3885832f1d9d06bfd434b5983b40" name="acfad3885832f1d9d06bfd434b5983b40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfad3885832f1d9d06bfd434b5983b40">&#9670;&#160;</a></span>test_partial_dependence_slice_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_slice_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>with_dataframe</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  567</span><span class="keyword">def </span>test_partial_dependence_slice_error(with_dataframe, err_msg):</div>
<div class="line"><span class="lineno">  568</span>    X, y = make_classification(random_state=0)</div>
<div class="line"><span class="lineno">  569</span>    <span class="keywordflow">if</span> with_dataframe:</div>
<div class="line"><span class="lineno">  570</span>        pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  571</span>        X = pd.DataFrame(X)</div>
<div class="line"><span class="lineno">  572</span>    estimator = LogisticRegression().fit(X, y)</div>
<div class="line"><span class="lineno">  573</span> </div>
<div class="line"><span class="lineno">  574</span>    <span class="keyword">with</span> pytest.raises(TypeError, match=err_msg):</div>
<div class="line"><span class="lineno">  575</span>        partial_dependence(estimator, X, features=slice(0, 2, 1))</div>
<div class="line"><span class="lineno">  576</span> </div>
<div class="line"><span class="lineno">  577</span> </div>
<div class="line"><span class="lineno">  578</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  579</span>    <span class="stringliteral">&quot;estimator&quot;</span>, [LinearRegression(), GradientBoostingClassifier(random_state=0)]</div>
<div class="line"><span class="lineno">  580</span>)</div>
<div class="line"><span class="lineno">  581</span><span class="preprocessor">@pytest.mark.parametrize(&quot;features&quot;, [-1, 10000])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aae2901b010313d5d19cbdc5e65848a2e" name="aae2901b010313d5d19cbdc5e65848a2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2901b010313d5d19cbdc5e65848a2e">&#9670;&#160;</a></span>test_partial_dependence_unfitted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_unfitted </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>estimator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  811</span><span class="keyword">def </span>test_partial_dependence_unfitted(estimator):</div>
<div class="line"><span class="lineno">  812</span>    X = iris.data</div>
<div class="line"><span class="lineno">  813</span>    preprocessor = make_column_transformer(</div>
<div class="line"><span class="lineno">  814</span>        (StandardScaler(), [0, 2]), (RobustScaler(), [1, 3])</div>
<div class="line"><span class="lineno">  815</span>    )</div>
<div class="line"><span class="lineno">  816</span>    pipe = make_pipeline(preprocessor, estimator)</div>
<div class="line"><span class="lineno">  817</span>    <span class="keyword">with</span> pytest.raises(NotFittedError, match=<span class="stringliteral">&quot;is not fitted yet&quot;</span>):</div>
<div class="line"><span class="lineno">  818</span>        partial_dependence(pipe, X, features=[0, 2], grid_resolution=10)</div>
<div class="line"><span class="lineno">  819</span>    <span class="keyword">with</span> pytest.raises(NotFittedError, match=<span class="stringliteral">&quot;is not fitted yet&quot;</span>):</div>
<div class="line"><span class="lineno">  820</span>        partial_dependence(estimator, X, features=[0, 2], grid_resolution=10)</div>
<div class="line"><span class="lineno">  821</span> </div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  824</span>    <span class="stringliteral">&quot;Estimator, data&quot;</span>,</div>
<div class="line"><span class="lineno">  825</span>    [</div>
<div class="line"><span class="lineno">  826</span>        (LinearRegression, multioutput_regression_data),</div>
<div class="line"><span class="lineno">  827</span>        (LogisticRegression, binary_classification_data),</div>
<div class="line"><span class="lineno">  828</span>    ],</div>
<div class="line"><span class="lineno">  829</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1284a2e313695bf9f4956c5a0cc6de02" name="a1284a2e313695bf9f4956c5a0cc6de02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1284a2e313695bf9f4956c5a0cc6de02">&#9670;&#160;</a></span>test_partial_dependence_unknown_feature_indices()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_unknown_feature_indices </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>features</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  582</span><span class="keyword">def </span>test_partial_dependence_unknown_feature_indices(estimator, features):</div>
<div class="line"><span class="lineno">  583</span>    X, y = make_classification(random_state=0)</div>
<div class="line"><span class="lineno">  584</span>    estimator.fit(X, y)</div>
<div class="line"><span class="lineno">  585</span> </div>
<div class="line"><span class="lineno">  586</span>    err_msg = <span class="stringliteral">&quot;all features must be in&quot;</span></div>
<div class="line"><span class="lineno">  587</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno">  588</span>        partial_dependence(estimator, X, [features])</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  592</span>    <span class="stringliteral">&quot;estimator&quot;</span>, [LinearRegression(), GradientBoostingClassifier(random_state=0)]</div>
<div class="line"><span class="lineno">  593</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a22adcb0f200d6d348d0505b6d539505e" name="a22adcb0f200d6d348d0505b6d539505e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22adcb0f200d6d348d0505b6d539505e">&#9670;&#160;</a></span>test_partial_dependence_unknown_feature_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_unknown_feature_string </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>estimator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  594</span><span class="keyword">def </span>test_partial_dependence_unknown_feature_string(estimator):</div>
<div class="line"><span class="lineno">  595</span>    pd = pytest.importorskip(<span class="stringliteral">&quot;pandas&quot;</span>)</div>
<div class="line"><span class="lineno">  596</span>    X, y = make_classification(random_state=0)</div>
<div class="line"><span class="lineno">  597</span>    df = pd.DataFrame(X)</div>
<div class="line"><span class="lineno">  598</span>    estimator.fit(df, y)</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>    features = [<span class="stringliteral">&quot;random&quot;</span>]</div>
<div class="line"><span class="lineno">  601</span>    err_msg = <span class="stringliteral">&quot;A given column is not a column of the dataframe&quot;</span></div>
<div class="line"><span class="lineno">  602</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=err_msg):</div>
<div class="line"><span class="lineno">  603</span>        partial_dependence(estimator, df, features)</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  607</span>    <span class="stringliteral">&quot;estimator&quot;</span>, [LinearRegression(), GradientBoostingClassifier(random_state=0)]</div>
<div class="line"><span class="lineno">  608</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="af2d601221077d094d76fee003de4ddf5" name="af2d601221077d094d76fee003de4ddf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d601221077d094d76fee003de4ddf5">&#9670;&#160;</a></span>test_partial_dependence_X_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_partial_dependence_X_list </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>estimator</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  609</span><span class="keyword">def </span>test_partial_dependence_X_list(estimator):</div>
<div class="line"><span class="lineno">  610</span>    <span class="comment"># check that array-like objects are accepted</span></div>
<div class="line"><span class="lineno">  611</span>    X, y = make_classification(random_state=0)</div>
<div class="line"><span class="lineno">  612</span>    estimator.fit(X, y)</div>
<div class="line"><span class="lineno">  613</span>    partial_dependence(estimator, list(X), [0], kind=<span class="stringliteral">&quot;average&quot;</span>)</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab9bc950f25e3dbd5f333f0881e24bf73" name="ab9bc950f25e3dbd5f333f0881e24bf73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9bc950f25e3dbd5f333f0881e24bf73">&#9670;&#160;</a></span>test_recursion_decision_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_recursion_decision_function </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>est</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target_feature</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  375</span><span class="keyword">def </span>test_recursion_decision_function(est, target_feature):</div>
<div class="line"><span class="lineno">  376</span>    <span class="comment"># Make sure the recursion method (implicitly uses decision_function) has</span></div>
<div class="line"><span class="lineno">  377</span>    <span class="comment"># the same result as using brute method with</span></div>
<div class="line"><span class="lineno">  378</span>    <span class="comment"># response_method=decision_function</span></div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>    X, y = make_classification(n_classes=2, n_clusters_per_class=1, random_state=1)</div>
<div class="line"><span class="lineno">  381</span>    <span class="keyword">assert</span> np.mean(y) == 0.5  <span class="comment"># make sure the init estimator predicts 0 anyway</span></div>
<div class="line"><span class="lineno">  382</span> </div>
<div class="line"><span class="lineno">  383</span>    est.fit(X, y)</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>    preds_1 = partial_dependence(</div>
<div class="line"><span class="lineno">  386</span>        est,</div>
<div class="line"><span class="lineno">  387</span>        X,</div>
<div class="line"><span class="lineno">  388</span>        [target_feature],</div>
<div class="line"><span class="lineno">  389</span>        response_method=<span class="stringliteral">&quot;decision_function&quot;</span>,</div>
<div class="line"><span class="lineno">  390</span>        method=<span class="stringliteral">&quot;recursion&quot;</span>,</div>
<div class="line"><span class="lineno">  391</span>        kind=<span class="stringliteral">&quot;average&quot;</span>,</div>
<div class="line"><span class="lineno">  392</span>    )</div>
<div class="line"><span class="lineno">  393</span>    preds_2 = partial_dependence(</div>
<div class="line"><span class="lineno">  394</span>        est,</div>
<div class="line"><span class="lineno">  395</span>        X,</div>
<div class="line"><span class="lineno">  396</span>        [target_feature],</div>
<div class="line"><span class="lineno">  397</span>        response_method=<span class="stringliteral">&quot;decision_function&quot;</span>,</div>
<div class="line"><span class="lineno">  398</span>        method=<span class="stringliteral">&quot;brute&quot;</span>,</div>
<div class="line"><span class="lineno">  399</span>        kind=<span class="stringliteral">&quot;average&quot;</span>,</div>
<div class="line"><span class="lineno">  400</span>    )</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>    assert_allclose(preds_1[<span class="stringliteral">&quot;average&quot;</span>], preds_2[<span class="stringliteral">&quot;average&quot;</span>], atol=1e-7)</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  406</span>    <span class="stringliteral">&quot;est&quot;</span>,</div>
<div class="line"><span class="lineno">  407</span>    (</div>
<div class="line"><span class="lineno">  408</span>        LinearRegression(),</div>
<div class="line"><span class="lineno">  409</span>        GradientBoostingRegressor(random_state=0),</div>
<div class="line"><span class="lineno">  410</span>        HistGradientBoostingRegressor(</div>
<div class="line"><span class="lineno">  411</span>            random_state=0, min_samples_leaf=1, max_leaf_nodes=<span class="keywordtype">None</span>, max_iter=1</div>
<div class="line"><span class="lineno">  412</span>        ),</div>
<div class="line"><span class="lineno">  413</span>        DecisionTreeRegressor(random_state=0),</div>
<div class="line"><span class="lineno">  414</span>    ),</div>
<div class="line"><span class="lineno">  415</span>)</div>
<div class="line"><span class="lineno">  416</span><span class="preprocessor">@pytest.mark.parametrize(&quot;power&quot;, (1, 2)</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e366f2f79ffa7f96f27d36eb9e3be5c" name="a0e366f2f79ffa7f96f27d36eb9e3be5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e366f2f79ffa7f96f27d36eb9e3be5c">&#9670;&#160;</a></span>test_recursion_decision_tree_vs_forest_and_gbdt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_recursion_decision_tree_vs_forest_and_gbdt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>seed</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  297</span><span class="keyword">def </span>test_recursion_decision_tree_vs_forest_and_gbdt(seed):</div>
<div class="line"><span class="lineno">  298</span>    <span class="comment"># Make sure that the recursion method gives the same results on a</span></div>
<div class="line"><span class="lineno">  299</span>    <span class="comment"># DecisionTreeRegressor and a GradientBoostingRegressor or a</span></div>
<div class="line"><span class="lineno">  300</span>    <span class="comment"># RandomForestRegressor with 1 tree and equivalent parameters.</span></div>
<div class="line"><span class="lineno">  301</span> </div>
<div class="line"><span class="lineno">  302</span>    rng = np.random.RandomState(seed)</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>    <span class="comment"># Purely random dataset to avoid correlated features</span></div>
<div class="line"><span class="lineno">  305</span>    n_samples = 1000</div>
<div class="line"><span class="lineno">  306</span>    n_features = 5</div>
<div class="line"><span class="lineno">  307</span>    X = rng.randn(n_samples, n_features)</div>
<div class="line"><span class="lineno">  308</span>    y = rng.randn(n_samples) * 10</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>    <span class="comment"># The &#39;init&#39; estimator for GBDT (here the average prediction) isn&#39;t taken</span></div>
<div class="line"><span class="lineno">  311</span>    <span class="comment"># into account with the recursion method, for technical reasons. We set</span></div>
<div class="line"><span class="lineno">  312</span>    <span class="comment"># the mean to 0 to that this &#39;bug&#39; doesn&#39;t have any effect.</span></div>
<div class="line"><span class="lineno">  313</span>    y = y - y.mean()</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>    <span class="comment"># set max_depth not too high to avoid splits with same gain but different</span></div>
<div class="line"><span class="lineno">  316</span>    <span class="comment"># features</span></div>
<div class="line"><span class="lineno">  317</span>    max_depth = 5</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>    tree_seed = 0</div>
<div class="line"><span class="lineno">  320</span>    forest = RandomForestRegressor(</div>
<div class="line"><span class="lineno">  321</span>        n_estimators=1,</div>
<div class="line"><span class="lineno">  322</span>        max_features=<span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  323</span>        bootstrap=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  324</span>        max_depth=max_depth,</div>
<div class="line"><span class="lineno">  325</span>        random_state=tree_seed,</div>
<div class="line"><span class="lineno">  326</span>    )</div>
<div class="line"><span class="lineno">  327</span>    <span class="comment"># The forest will use ensemble.base._set_random_states to set the</span></div>
<div class="line"><span class="lineno">  328</span>    <span class="comment"># random_state of the tree sub-estimator. We simulate this here to have</span></div>
<div class="line"><span class="lineno">  329</span>    <span class="comment"># equivalent estimators.</span></div>
<div class="line"><span class="lineno">  330</span>    equiv_random_state = check_random_state(tree_seed).randint(np.iinfo(np.int32).max)</div>
<div class="line"><span class="lineno">  331</span>    gbdt = GradientBoostingRegressor(</div>
<div class="line"><span class="lineno">  332</span>        n_estimators=1,</div>
<div class="line"><span class="lineno">  333</span>        learning_rate=1,</div>
<div class="line"><span class="lineno">  334</span>        criterion=<span class="stringliteral">&quot;squared_error&quot;</span>,</div>
<div class="line"><span class="lineno">  335</span>        max_depth=max_depth,</div>
<div class="line"><span class="lineno">  336</span>        random_state=equiv_random_state,</div>
<div class="line"><span class="lineno">  337</span>    )</div>
<div class="line"><span class="lineno">  338</span>    tree = DecisionTreeRegressor(max_depth=max_depth, random_state=equiv_random_state)</div>
<div class="line"><span class="lineno">  339</span> </div>
<div class="line"><span class="lineno">  340</span>    forest.fit(X, y)</div>
<div class="line"><span class="lineno">  341</span>    gbdt.fit(X, y)</div>
<div class="line"><span class="lineno">  342</span>    tree.fit(X, y)</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span>    <span class="comment"># sanity check: if the trees aren&#39;t the same, the PD values won&#39;t be equal</span></div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  346</span>        assert_is_subtree(tree.tree_, gbdt[0, 0].tree_)</div>
<div class="line"><span class="lineno">  347</span>        assert_is_subtree(tree.tree_, forest[0].tree_)</div>
<div class="line"><span class="lineno">  348</span>    <span class="keywordflow">except</span> AssertionError:</div>
<div class="line"><span class="lineno">  349</span>        <span class="comment"># For some reason the trees aren&#39;t exactly equal on 32bits, so the PDs</span></div>
<div class="line"><span class="lineno">  350</span>        <span class="comment"># cannot be equal either. See</span></div>
<div class="line"><span class="lineno">  351</span>        <span class="comment"># https://github.com/scikit-learn/scikit-learn/issues/8853</span></div>
<div class="line"><span class="lineno">  352</span>        <span class="keyword">assert</span> _IS_32BIT, <span class="stringliteral">&quot;this should only fail on 32 bit platforms&quot;</span></div>
<div class="line"><span class="lineno">  353</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  354</span> </div>
<div class="line"><span class="lineno">  355</span>    grid = rng.randn(50).reshape(-1, 1)</div>
<div class="line"><span class="lineno">  356</span>    <span class="keywordflow">for</span> f <span class="keywordflow">in</span> range(n_features):</div>
<div class="line"><span class="lineno">  357</span>        features = np.array([f], dtype=np.int32)</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>        pdp_forest = _partial_dependence_recursion(forest, grid, features)</div>
<div class="line"><span class="lineno">  360</span>        pdp_gbdt = _partial_dependence_recursion(gbdt, grid, features)</div>
<div class="line"><span class="lineno">  361</span>        pdp_tree = _partial_dependence_recursion(tree, grid, features)</div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>        np.testing.assert_allclose(pdp_gbdt, pdp_tree)</div>
<div class="line"><span class="lineno">  364</span>        np.testing.assert_allclose(pdp_forest, pdp_tree)</div>
<div class="line"><span class="lineno">  365</span> </div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span><span class="preprocessor">@pytest.mark.parametrize</span>(</div>
<div class="line"><span class="lineno">  368</span>    <span class="stringliteral">&quot;est&quot;</span>,</div>
<div class="line"><span class="lineno">  369</span>    (</div>
<div class="line"><span class="lineno">  370</span>        GradientBoostingClassifier(random_state=0),</div>
<div class="line"><span class="lineno">  371</span>        HistGradientBoostingClassifier(random_state=0),</div>
<div class="line"><span class="lineno">  372</span>    ),</div>
<div class="line"><span class="lineno">  373</span>)</div>
<div class="line"><span class="lineno">  374</span><span class="preprocessor">@pytest.mark.parametrize(&quot;target_feature&quot;, (0, 1, 2, 3, 4, 5)</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a241a67aad93529cf179aef5c7a40689b" name="a241a67aad93529cf179aef5c7a40689b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a241a67aad93529cf179aef5c7a40689b">&#9670;&#160;</a></span>test_warning_recursion_non_constant_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.test_warning_recursion_non_constant_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  616</span><span class="keyword">def </span>test_warning_recursion_non_constant_init():</div>
<div class="line"><span class="lineno">  617</span>    <span class="comment"># make sure that passing a non-constant init parameter to a GBDT and using</span></div>
<div class="line"><span class="lineno">  618</span>    <span class="comment"># recursion method yields a warning.</span></div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>    gbc = GradientBoostingClassifier(init=DummyClassifier(), random_state=0)</div>
<div class="line"><span class="lineno">  621</span>    gbc.fit(X, y)</div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>    <span class="keyword">with</span> pytest.warns(</div>
<div class="line"><span class="lineno">  624</span>        UserWarning, match=<span class="stringliteral">&quot;Using recursion method with a non-constant init predictor&quot;</span></div>
<div class="line"><span class="lineno">  625</span>    ):</div>
<div class="line"><span class="lineno">  626</span>        partial_dependence(gbc, X, [0], method=<span class="stringliteral">&quot;recursion&quot;</span>, kind=<span class="stringliteral">&quot;average&quot;</span>)</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>    <span class="keyword">with</span> pytest.warns(</div>
<div class="line"><span class="lineno">  629</span>        UserWarning, match=<span class="stringliteral">&quot;Using recursion method with a non-constant init predictor&quot;</span></div>
<div class="line"><span class="lineno">  630</span>    ):</div>
<div class="line"><span class="lineno">  631</span>        partial_dependence(gbc, X, [0], method=<span class="stringliteral">&quot;recursion&quot;</span>, kind=<span class="stringliteral">&quot;average&quot;</span>)</div>
<div class="line"><span class="lineno">  632</span> </div>
<div class="line"><span class="lineno">  633</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ac101d0034c709590710b9931a5a5fb26" name="ac101d0034c709590710b9931a5a5fb26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac101d0034c709590710b9931a5a5fb26">&#9670;&#160;</a></span>binary_classification_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple sklearn.inspection.tests.test_partial_dependence.binary_classification_data = (make_classification(n_samples=50, random_state=0), 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af4bfc405578b985eec31a2f848a5d5f3" name="af4bfc405578b985eec31a2f848a5d5f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4bfc405578b985eec31a2f848a5d5f3">&#9670;&#160;</a></span>iris</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.inspection.tests.test_partial_dependence.iris = load_iris()</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a83e21364b2bbee7d59e3087f9c29ae0e" name="a83e21364b2bbee7d59e3087f9c29ae0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83e21364b2bbee7d59e3087f9c29ae0e">&#9670;&#160;</a></span>multiclass_classification_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple sklearn.inspection.tests.test_partial_dependence.multiclass_classification_data</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  (</div>
<div class="line"><span class="lineno">    2</span>    make_classification(</div>
<div class="line"><span class="lineno">    3</span>        n_samples=50, n_classes=3, n_clusters_per_class=1, random_state=0</div>
<div class="line"><span class="lineno">    4</span>    ),</div>
<div class="line"><span class="lineno">    5</span>    3,</div>
<div class="line"><span class="lineno">    6</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a672c5fe01a7e2dd350281202461bae16" name="a672c5fe01a7e2dd350281202461bae16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a672c5fe01a7e2dd350281202461bae16">&#9670;&#160;</a></span>multioutput_regression_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple sklearn.inspection.tests.test_partial_dependence.multioutput_regression_data</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  (</div>
<div class="line"><span class="lineno">    2</span>    make_regression(n_samples=50, n_targets=2, random_state=0),</div>
<div class="line"><span class="lineno">    3</span>    2,</div>
<div class="line"><span class="lineno">    4</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac8d552adeaee2b3ef0e762044e00402c" name="ac8d552adeaee2b3ef0e762044e00402c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8d552adeaee2b3ef0e762044e00402c">&#9670;&#160;</a></span>regression_data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple sklearn.inspection.tests.test_partial_dependence.regression_data = (make_regression(n_samples=50, random_state=0), 1)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ace327d57fe320f5efef354aca085c9f9" name="ace327d57fe320f5efef354aca085c9f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace327d57fe320f5efef354aca085c9f9">&#9670;&#160;</a></span>X</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list sklearn.inspection.tests.test_partial_dependence.X = [[-2, -1], [-1, -1], [-1, -2], [1, 1], [1, 2], [2, 1]]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9bb4afa88c4e333c8a8df07557dfd9f8" name="a9bb4afa88c4e333c8a8df07557dfd9f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bb4afa88c4e333c8a8df07557dfd9f8">&#9670;&#160;</a></span>y</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list sklearn.inspection.tests.test_partial_dependence.y = [-1, -1, -1, 1, 1, 1]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
