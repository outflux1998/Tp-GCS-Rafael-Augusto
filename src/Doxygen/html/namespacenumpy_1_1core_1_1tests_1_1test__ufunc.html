<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: numpy.core.tests.test_ufunc Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenumpy.html">numpy</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1core.html">core</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1core_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html">test_ufunc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">numpy.core.tests.test_ufunc Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1core_1_1tests_1_1test__ufunc_1_1_test_lowlevel_a_p_i_access.html">TestLowlevelAPIAccess</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1core_1_1tests_1_1test__ufunc_1_1_test_ufunc.html">TestUfunc</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1core_1_1tests_1_1test__ufunc_1_1_test_ufunc_generic_loops.html">TestUfuncGenericLoops</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1core_1_1tests_1_1test__ufunc_1_1_test_ufunc_kwargs.html">TestUfuncKwargs</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af5bbfed244173513b762e80ce0eaa604" id="r_af5bbfed244173513b762e80ce0eaa604"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#af5bbfed244173513b762e80ce0eaa604">_pickleable_module_global</a> ()</td></tr>
<tr class="separator:af5bbfed244173513b762e80ce0eaa604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c827a4be504317f047cbd0dbc624d58" id="r_a8c827a4be504317f047cbd0dbc624d58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a8c827a4be504317f047cbd0dbc624d58">test_ufunc_types</a> (<a class="el" href="structufunc.html">ufunc</a>)</td></tr>
<tr class="separator:a8c827a4be504317f047cbd0dbc624d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10be3ad7d8c74d84ff8b3646cd948abc" id="r_a10be3ad7d8c74d84ff8b3646cd948abc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a10be3ad7d8c74d84ff8b3646cd948abc">test_ufunc_noncontiguous</a> (<a class="el" href="structufunc.html">ufunc</a>)</td></tr>
<tr class="separator:a10be3ad7d8c74d84ff8b3646cd948abc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6677836eb1ed59973a4e74d4d655c3dc" id="r_a6677836eb1ed59973a4e74d4d655c3dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a6677836eb1ed59973a4e74d4d655c3dc">test_ufunc_warn_with_nan</a> (<a class="el" href="structufunc.html">ufunc</a>)</td></tr>
<tr class="separator:a6677836eb1ed59973a4e74d4d655c3dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a249e22b85bfa9adf83811880683433f4" id="r_a249e22b85bfa9adf83811880683433f4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a249e22b85bfa9adf83811880683433f4">test_ufunc_out_casterrors</a> ()</td></tr>
<tr class="separator:a249e22b85bfa9adf83811880683433f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7265d2766ad6525fae0b176748622aaf" id="r_a7265d2766ad6525fae0b176748622aaf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a7265d2766ad6525fae0b176748622aaf">test_ufunc_input_casterrors</a> (bad_offset)</td></tr>
<tr class="separator:a7265d2766ad6525fae0b176748622aaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa22d8dfa923e62af2e4d47c3a8879aac" id="r_aa22d8dfa923e62af2e4d47c3a8879aac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#aa22d8dfa923e62af2e4d47c3a8879aac">test_ufunc_input_floatingpoint_error</a> (bad_offset)</td></tr>
<tr class="separator:aa22d8dfa923e62af2e4d47c3a8879aac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16edec094d9e2c4d8425ba48c1a01e3" id="r_aa16edec094d9e2c4d8425ba48c1a01e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#aa16edec094d9e2c4d8425ba48c1a01e3">test_trivial_loop_invalid_cast</a> ()</td></tr>
<tr class="separator:aa16edec094d9e2c4d8425ba48c1a01e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2df2577a6e711d465ddafad1528ad0" id="r_aae2df2577a6e711d465ddafad1528ad0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#aae2df2577a6e711d465ddafad1528ad0">test_reduce_casterrors</a> (<a class="el" href="__lapack__subroutines_8h.html#ac5c1dfc0f77d6570b83bf10cfe850d4e">offset</a>)</td></tr>
<tr class="separator:aae2df2577a6e711d465ddafad1528ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af77267a1f246246bb8dddcaffab5ebea" id="r_af77267a1f246246bb8dddcaffab5ebea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#af77267a1f246246bb8dddcaffab5ebea">test_ufunc_methods_floaterrors</a> (method)</td></tr>
<tr class="separator:af77267a1f246246bb8dddcaffab5ebea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a520c38f75ee8594dfce3104509cdc3ac" id="r_a520c38f75ee8594dfce3104509cdc3ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a520c38f75ee8594dfce3104509cdc3ac">_check_neg_zero</a> (value)</td></tr>
<tr class="separator:a520c38f75ee8594dfce3104509cdc3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cae58aa1e68a9a2f859541fde40eb42" id="r_a8cae58aa1e68a9a2f859541fde40eb42"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a8cae58aa1e68a9a2f859541fde40eb42">test_addition_negative_zero</a> (dtype)</td></tr>
<tr class="separator:a8cae58aa1e68a9a2f859541fde40eb42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fb4420247ffd41074503c86344d9600" id="r_a8fb4420247ffd41074503c86344d9600"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a8fb4420247ffd41074503c86344d9600">test_addition_reduce_negative_zero</a> (dtype, use_initial)</td></tr>
<tr class="separator:a8fb4420247ffd41074503c86344d9600"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a23f25fb12339fa9694422ecd64238d94" id="r_a23f25fb12339fa9694422ecd64238d94"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a23f25fb12339fa9694422ecd64238d94">UNARY_UFUNCS</a></td></tr>
<tr class="separator:a23f25fb12339fa9694422ecd64238d94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2276251edf1bebd5d357c7e2b52c93f5" id="r_a2276251edf1bebd5d357c7e2b52c93f5"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a2276251edf1bebd5d357c7e2b52c93f5">UNARY_OBJECT_UFUNCS</a> = [uf for uf <a class="el" href="__lapack__subroutines_8h.html#aa83d4778c28341ab79b01b2371f666fe">in</a> <a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a23f25fb12339fa9694422ecd64238d94">UNARY_UFUNCS</a> if &quot;O-&gt;O&quot; <a class="el" href="__lapack__subroutines_8h.html#aa83d4778c28341ab79b01b2371f666fe">in</a> uf.types]</td></tr>
<tr class="separator:a2276251edf1bebd5d357c7e2b52c93f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a520c38f75ee8594dfce3104509cdc3ac" name="a520c38f75ee8594dfce3104509cdc3ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a520c38f75ee8594dfce3104509cdc3ac">&#9670;&#160;</a></span>_check_neg_zero()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc._check_neg_zero </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2608</span><span class="keyword">def </span>_check_neg_zero(value):</div>
<div class="line"><span class="lineno"> 2609</span>    <span class="keywordflow">if</span> value != 0.0:</div>
<div class="line"><span class="lineno"> 2610</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2611</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> np.signbit(value.real):</div>
<div class="line"><span class="lineno"> 2612</span>        <span class="keywordflow">return</span> <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2613</span>    <span class="keywordflow">if</span> value.dtype.kind == <span class="stringliteral">&quot;c&quot;</span>:</div>
<div class="line"><span class="lineno"> 2614</span>        <span class="keywordflow">return</span> np.signbit(value.imag)</div>
<div class="line"><span class="lineno"> 2615</span>    <span class="keywordflow">return</span> <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2616</span> </div>
<div class="line"><span class="lineno"> 2617</span><span class="preprocessor">@pytest.mark.parametrize(&quot;dtype&quot;, np.typecodes[&quot;AllFloat&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="af5bbfed244173513b762e80ce0eaa604" name="af5bbfed244173513b762e80ce0eaa604"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5bbfed244173513b762e80ce0eaa604">&#9670;&#160;</a></span>_pickleable_module_global()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc._pickleable_module_global </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  185</span><span class="keyword">def </span>_pickleable_module_global():</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8cae58aa1e68a9a2f859541fde40eb42" name="a8cae58aa1e68a9a2f859541fde40eb42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cae58aa1e68a9a2f859541fde40eb42">&#9670;&#160;</a></span>test_addition_negative_zero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc.test_addition_negative_zero </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2618</span><span class="keyword">def </span>test_addition_negative_zero(dtype):</div>
<div class="line"><span class="lineno"> 2619</span>    dtype = np.dtype(dtype)</div>
<div class="line"><span class="lineno"> 2620</span>    <span class="keywordflow">if</span> dtype.kind == <span class="stringliteral">&quot;c&quot;</span>:</div>
<div class="line"><span class="lineno"> 2621</span>        neg_zero = dtype.type(complex(-0.0, -0.0))</div>
<div class="line"><span class="lineno"> 2622</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2623</span>        neg_zero = dtype.type(-0.0)</div>
<div class="line"><span class="lineno"> 2624</span> </div>
<div class="line"><span class="lineno"> 2625</span>    arr = np.array(neg_zero)</div>
<div class="line"><span class="lineno"> 2626</span>    arr2 = np.array(neg_zero)</div>
<div class="line"><span class="lineno"> 2627</span> </div>
<div class="line"><span class="lineno"> 2628</span>    <span class="keyword">assert</span> _check_neg_zero(arr + arr2)</div>
<div class="line"><span class="lineno"> 2629</span>    <span class="comment"># In-place ops may end up on a different path (reduce path) see gh-21211</span></div>
<div class="line"><span class="lineno"> 2630</span>    arr += arr2</div>
<div class="line"><span class="lineno"> 2631</span>    <span class="keyword">assert</span> _check_neg_zero(arr)</div>
<div class="line"><span class="lineno"> 2632</span> </div>
<div class="line"><span class="lineno"> 2633</span> </div>
<div class="line"><span class="lineno"> 2634</span><span class="preprocessor">@pytest.mark.parametrize(&quot;dtype&quot;, np.typecodes[&quot;AllFloat&quot;])</span></div>
<div class="line"><span class="lineno"> 2635</span><span class="preprocessor">@pytest.mark.parametrize(&quot;use_initial&quot;, [True, False])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a8fb4420247ffd41074503c86344d9600" name="a8fb4420247ffd41074503c86344d9600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fb4420247ffd41074503c86344d9600">&#9670;&#160;</a></span>test_addition_reduce_negative_zero()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc.test_addition_reduce_negative_zero </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_initial</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2636</span><span class="keyword">def </span>test_addition_reduce_negative_zero(dtype, use_initial):</div>
<div class="line"><span class="lineno"> 2637</span>    dtype = np.dtype(dtype)</div>
<div class="line"><span class="lineno"> 2638</span>    <span class="keywordflow">if</span> dtype.kind == <span class="stringliteral">&quot;c&quot;</span>:</div>
<div class="line"><span class="lineno"> 2639</span>        neg_zero = dtype.type(complex(-0.0, -0.0))</div>
<div class="line"><span class="lineno"> 2640</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2641</span>        neg_zero = dtype.type(-0.0)</div>
<div class="line"><span class="lineno"> 2642</span> </div>
<div class="line"><span class="lineno"> 2643</span>    kwargs = {}</div>
<div class="line"><span class="lineno"> 2644</span>    <span class="keywordflow">if</span> use_initial:</div>
<div class="line"><span class="lineno"> 2645</span>        kwargs[<span class="stringliteral">&quot;initial&quot;</span>] = neg_zero</div>
<div class="line"><span class="lineno"> 2646</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2647</span>        pytest.xfail(<span class="stringliteral">&quot;-0. propagation in sum currently requires initial&quot;</span>)</div>
<div class="line"><span class="lineno"> 2648</span> </div>
<div class="line"><span class="lineno"> 2649</span>    <span class="comment"># Test various length, in case SIMD paths or chunking play a role.</span></div>
<div class="line"><span class="lineno"> 2650</span>    <span class="comment"># 150 extends beyond the pairwise blocksize; probably not important.</span></div>
<div class="line"><span class="lineno"> 2651</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(0, 150):</div>
<div class="line"><span class="lineno"> 2652</span>        arr = np.array([neg_zero] * i, dtype=dtype)</div>
<div class="line"><span class="lineno"> 2653</span>        res = np.sum(arr, **kwargs)</div>
<div class="line"><span class="lineno"> 2654</span>        <span class="keywordflow">if</span> i &gt; 0 <span class="keywordflow">or</span> use_initial:</div>
<div class="line"><span class="lineno"> 2655</span>            <span class="keyword">assert</span> _check_neg_zero(res)</div>
<div class="line"><span class="lineno"> 2656</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2657</span>            <span class="comment"># `sum([])` should probably be 0.0 and not -0.0 like `sum([-0.0])`</span></div>
<div class="line"><span class="lineno"> 2658</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> np.signbit(res.real)</div>
<div class="line"><span class="lineno"> 2659</span>            <span class="keyword">assert</span> <span class="keywordflow">not</span> np.signbit(res.imag)</div>
<div class="line"><span class="lineno"> 2660</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aae2df2577a6e711d465ddafad1528ad0" name="aae2df2577a6e711d465ddafad1528ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2df2577a6e711d465ddafad1528ad0">&#9670;&#160;</a></span>test_reduce_casterrors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc.test_reduce_casterrors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2566</span><span class="keyword">def </span>test_reduce_casterrors(offset):</div>
<div class="line"><span class="lineno"> 2567</span>    <span class="comment"># Test reporting of casting errors in reductions, we test various</span></div>
<div class="line"><span class="lineno"> 2568</span>    <span class="comment"># offsets to where the casting error will occur, since these may occur</span></div>
<div class="line"><span class="lineno"> 2569</span>    <span class="comment"># at different places during the reduction procedure. For example</span></div>
<div class="line"><span class="lineno"> 2570</span>    <span class="comment"># the first item may be special.</span></div>
<div class="line"><span class="lineno"> 2571</span>    value = 123  <span class="comment"># relies on python cache (leak-check will still find it)</span></div>
<div class="line"><span class="lineno"> 2572</span>    arr = np.array([value] * offset +</div>
<div class="line"><span class="lineno"> 2573</span>                   [<span class="stringliteral">&quot;string&quot;</span>] +</div>
<div class="line"><span class="lineno"> 2574</span>                   [value] * int(1.5 * np.BUFSIZE), dtype=object)</div>
<div class="line"><span class="lineno"> 2575</span>    out = np.array(-1, dtype=np.intp)</div>
<div class="line"><span class="lineno"> 2576</span> </div>
<div class="line"><span class="lineno"> 2577</span>    count = sys.getrefcount(value)</div>
<div class="line"><span class="lineno"> 2578</span>    <span class="keyword">with</span> pytest.raises(ValueError, match=<span class="stringliteral">&quot;invalid literal&quot;</span>):</div>
<div class="line"><span class="lineno"> 2579</span>        <span class="comment"># This is an unsafe cast, but we currently always allow that.</span></div>
<div class="line"><span class="lineno"> 2580</span>        <span class="comment"># Note that the double loop is picked, but the cast fails.</span></div>
<div class="line"><span class="lineno"> 2581</span>        np.add.reduce(arr, dtype=np.intp, out=out)</div>
<div class="line"><span class="lineno"> 2582</span>    <span class="keyword">assert</span> count == sys.getrefcount(value)</div>
<div class="line"><span class="lineno"> 2583</span>    <span class="comment"># If an error occurred during casting, the operation is done at most until</span></div>
<div class="line"><span class="lineno"> 2584</span>    <span class="comment"># the error occurs (the result of which would be `value * offset`) and -1</span></div>
<div class="line"><span class="lineno"> 2585</span>    <span class="comment"># if the error happened immediately.</span></div>
<div class="line"><span class="lineno"> 2586</span>    <span class="comment"># This does not define behaviour, the output is invalid and thus undefined</span></div>
<div class="line"><span class="lineno"> 2587</span>    <span class="keyword">assert</span> out[()] &lt; value * offset</div>
<div class="line"><span class="lineno"> 2588</span> </div>
<div class="line"><span class="lineno"> 2589</span> </div>
<div class="line"><span class="lineno"> 2590</span><span class="preprocessor">@pytest.mark.skipif(IS_WASM, reason=&quot;fp errors don&#39;t work in wasm&quot;)</span></div>
<div class="line"><span class="lineno"> 2591</span><span class="preprocessor">@pytest.mark.parametrize</span>(<span class="stringliteral">&quot;method&quot;</span>,</div>
<div class="line"><span class="lineno"> 2592</span>        [np.add.accumulate, np.add.reduce,</div>
<div class="line"><span class="lineno"> 2593</span>         pytest.param(<span class="keyword">lambda</span> x: np.add.reduceat(x, [0]), id=<span class="stringliteral">&quot;reduceat&quot;</span>),</div>
<div class="line"><span class="lineno"> 2594</span>         pytest.param(<span class="keyword">lambda</span> x: np.log.at(x, [2]), id=<span class="stringliteral">&quot;at&quot;</span>)])</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa16edec094d9e2c4d8425ba48c1a01e3" name="aa16edec094d9e2c4d8425ba48c1a01e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa16edec094d9e2c4d8425ba48c1a01e3">&#9670;&#160;</a></span>test_trivial_loop_invalid_cast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc.test_trivial_loop_invalid_cast </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2555</span><span class="keyword">def </span>test_trivial_loop_invalid_cast():</div>
<div class="line"><span class="lineno"> 2556</span>    <span class="comment"># This tests the fast-path &quot;invalid cast&quot;, see gh-19904.</span></div>
<div class="line"><span class="lineno"> 2557</span>    <span class="keyword">with</span> pytest.raises(TypeError,</div>
<div class="line"><span class="lineno"> 2558</span>            match=<span class="stringliteral">&quot;cast ufunc &#39;add&#39; input 0&quot;</span>):</div>
<div class="line"><span class="lineno"> 2559</span>        <span class="comment"># the void dtype definitely cannot cast to double:</span></div>
<div class="line"><span class="lineno"> 2560</span>        np.add(np.array(1, <span class="stringliteral">&quot;i,i&quot;</span>), 3, signature=<span class="stringliteral">&quot;dd-&gt;d&quot;</span>)</div>
<div class="line"><span class="lineno"> 2561</span> </div>
<div class="line"><span class="lineno"> 2562</span> </div>
<div class="line"><span class="lineno"> 2563</span><span class="preprocessor">@pytest.mark.skipif(not HAS_REFCOUNT, reason=&quot;Python lacks refcounts&quot;)</span></div>
<div class="line"><span class="lineno"> 2564</span><span class="preprocessor">@pytest.mark.parametrize</span>(<span class="stringliteral">&quot;offset&quot;</span>,</div>
<div class="line"><span class="lineno"> 2565</span>        [0, np.BUFSIZE//2, int(1.5*np.BUFSIZE)])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7265d2766ad6525fae0b176748622aaf" name="a7265d2766ad6525fae0b176748622aaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7265d2766ad6525fae0b176748622aaf">&#9670;&#160;</a></span>test_ufunc_input_casterrors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc.test_ufunc_input_casterrors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bad_offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2533</span><span class="keyword">def </span>test_ufunc_input_casterrors(bad_offset):</div>
<div class="line"><span class="lineno"> 2534</span>    value = 123</div>
<div class="line"><span class="lineno"> 2535</span>    arr = np.array([value] * bad_offset +</div>
<div class="line"><span class="lineno"> 2536</span>                   [<span class="stringliteral">&quot;string&quot;</span>] +</div>
<div class="line"><span class="lineno"> 2537</span>                   [value] * int(1.5 * np.BUFSIZE), dtype=object)</div>
<div class="line"><span class="lineno"> 2538</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 2539</span>        <span class="comment"># Force cast inputs, but the buffered cast of `arr` to intp fails:</span></div>
<div class="line"><span class="lineno"> 2540</span>        np.add(arr, arr, dtype=np.intp, casting=<span class="stringliteral">&quot;unsafe&quot;</span>)</div>
<div class="line"><span class="lineno"> 2541</span> </div>
<div class="line"><span class="lineno"> 2542</span> </div>
<div class="line"><span class="lineno"> 2543</span><span class="preprocessor">@pytest.mark.skipif(IS_WASM, reason=&quot;fp errors don&#39;t work in wasm&quot;)</span></div>
<div class="line"><span class="lineno"> 2544</span><span class="preprocessor">@pytest.mark.parametrize(&quot;bad_offset&quot;, [0, int(np.BUFSIZE * 1.5)</span>])</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa22d8dfa923e62af2e4d47c3a8879aac" name="aa22d8dfa923e62af2e4d47c3a8879aac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa22d8dfa923e62af2e4d47c3a8879aac">&#9670;&#160;</a></span>test_ufunc_input_floatingpoint_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc.test_ufunc_input_floatingpoint_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bad_offset</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2545</span><span class="keyword">def </span>test_ufunc_input_floatingpoint_error(bad_offset):</div>
<div class="line"><span class="lineno"> 2546</span>    value = 123</div>
<div class="line"><span class="lineno"> 2547</span>    arr = np.array([value] * bad_offset +</div>
<div class="line"><span class="lineno"> 2548</span>                   [np.nan] +</div>
<div class="line"><span class="lineno"> 2549</span>                   [value] * int(1.5 * np.BUFSIZE))</div>
<div class="line"><span class="lineno"> 2550</span>    <span class="keyword">with</span> np.errstate(invalid=<span class="stringliteral">&quot;raise&quot;</span>), pytest.raises(FloatingPointError):</div>
<div class="line"><span class="lineno"> 2551</span>        <span class="comment"># Force cast inputs, but the buffered cast of `arr` to intp fails:</span></div>
<div class="line"><span class="lineno"> 2552</span>        np.add(arr, arr, dtype=np.intp, casting=<span class="stringliteral">&quot;unsafe&quot;</span>)</div>
<div class="line"><span class="lineno"> 2553</span> </div>
<div class="line"><span class="lineno"> 2554</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af77267a1f246246bb8dddcaffab5ebea" name="af77267a1f246246bb8dddcaffab5ebea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af77267a1f246246bb8dddcaffab5ebea">&#9670;&#160;</a></span>test_ufunc_methods_floaterrors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc.test_ufunc_methods_floaterrors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2595</span><span class="keyword">def </span>test_ufunc_methods_floaterrors(method):</div>
<div class="line"><span class="lineno"> 2596</span>    <span class="comment"># adding inf and -inf (or log(-inf) creates an invalid float and warns</span></div>
<div class="line"><span class="lineno"> 2597</span>    arr = np.array([np.inf, 0, -np.inf])</div>
<div class="line"><span class="lineno"> 2598</span>    <span class="keyword">with</span> np.errstate(all=<span class="stringliteral">&quot;warn&quot;</span>):</div>
<div class="line"><span class="lineno"> 2599</span>        <span class="keyword">with</span> pytest.warns(RuntimeWarning, match=<span class="stringliteral">&quot;invalid value&quot;</span>):</div>
<div class="line"><span class="lineno"> 2600</span>            method(arr)</div>
<div class="line"><span class="lineno"> 2601</span> </div>
<div class="line"><span class="lineno"> 2602</span>    arr = np.array([np.inf, 0, -np.inf])</div>
<div class="line"><span class="lineno"> 2603</span>    <span class="keyword">with</span> np.errstate(all=<span class="stringliteral">&quot;raise&quot;</span>):</div>
<div class="line"><span class="lineno"> 2604</span>        <span class="keyword">with</span> pytest.raises(FloatingPointError):</div>
<div class="line"><span class="lineno"> 2605</span>            method(arr)</div>
<div class="line"><span class="lineno"> 2606</span> </div>
<div class="line"><span class="lineno"> 2607</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a10be3ad7d8c74d84ff8b3646cd948abc" name="a10be3ad7d8c74d84ff8b3646cd948abc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10be3ad7d8c74d84ff8b3646cd948abc">&#9670;&#160;</a></span>test_ufunc_noncontiguous()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc.test_ufunc_noncontiguous </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ufunc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check that contiguous and non-contiguous calls to ufuncs
have the same results for values in range(9)
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2446</span><span class="keyword">def </span>test_ufunc_noncontiguous(ufunc):</div>
<div class="line"><span class="lineno"> 2447</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 2448</span><span class="stringliteral">    Check that contiguous and non-contiguous calls to ufuncs</span></div>
<div class="line"><span class="lineno"> 2449</span><span class="stringliteral">    have the same results for values in range(9)</span></div>
<div class="line"><span class="lineno"> 2450</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 2451</span>    <span class="keywordflow">for</span> typ <span class="keywordflow">in</span> ufunc.types:</div>
<div class="line"><span class="lineno"> 2452</span>        <span class="comment"># types is a list of strings like ii-&gt;i</span></div>
<div class="line"><span class="lineno"> 2453</span>        <span class="keywordflow">if</span> any(set(<span class="stringliteral">&#39;O?mM&#39;</span>) &amp; set(typ)):</div>
<div class="line"><span class="lineno"> 2454</span>            <span class="comment"># bool, object, datetime are too irregular for this simple test</span></div>
<div class="line"><span class="lineno"> 2455</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2456</span>        inp, out = typ.split(<span class="stringliteral">&#39;-&gt;&#39;</span>)</div>
<div class="line"><span class="lineno"> 2457</span>        args_c = [np.empty(6, t) <span class="keywordflow">for</span> t <span class="keywordflow">in</span> inp]</div>
<div class="line"><span class="lineno"> 2458</span>        args_n = [np.empty(18, t)[::3] <span class="keywordflow">for</span> t <span class="keywordflow">in</span> inp]</div>
<div class="line"><span class="lineno"> 2459</span>        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> args_c:</div>
<div class="line"><span class="lineno"> 2460</span>            a.flat = range(1,7)</div>
<div class="line"><span class="lineno"> 2461</span>        <span class="keywordflow">for</span> a <span class="keywordflow">in</span> args_n:</div>
<div class="line"><span class="lineno"> 2462</span>            a.flat = range(1,7)</div>
<div class="line"><span class="lineno"> 2463</span>        <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno"> 2464</span>            warnings.filterwarnings(<span class="stringliteral">&quot;always&quot;</span>)</div>
<div class="line"><span class="lineno"> 2465</span>            res_c = <a class="code hl_struct" href="structufunc.html">ufunc</a>(*args_c)</div>
<div class="line"><span class="lineno"> 2466</span>            res_n = <a class="code hl_struct" href="structufunc.html">ufunc</a>(*args_n)</div>
<div class="line"><span class="lineno"> 2467</span>        <span class="keywordflow">if</span> len(out) == 1:</div>
<div class="line"><span class="lineno"> 2468</span>            res_c = (res_c,)</div>
<div class="line"><span class="lineno"> 2469</span>            res_n = (res_n,)</div>
<div class="line"><span class="lineno"> 2470</span>        <span class="keywordflow">for</span> c_ar, n_ar <span class="keywordflow">in</span> zip(res_c, res_n):</div>
<div class="line"><span class="lineno"> 2471</span>            dt = c_ar.dtype</div>
<div class="line"><span class="lineno"> 2472</span>            <span class="keywordflow">if</span> np.issubdtype(dt, np.floating):</div>
<div class="line"><span class="lineno"> 2473</span>                <span class="comment"># for floating point results allow a small fuss in comparisons</span></div>
<div class="line"><span class="lineno"> 2474</span>                <span class="comment"># since different algorithms (libm vs. intrinsics) can be used</span></div>
<div class="line"><span class="lineno"> 2475</span>                <span class="comment"># for different input strides</span></div>
<div class="line"><span class="lineno"> 2476</span>                res_eps = np.finfo(dt).eps</div>
<div class="line"><span class="lineno"> 2477</span>                tol = 2*res_eps</div>
<div class="line"><span class="lineno"> 2478</span>                assert_allclose(res_c, res_n, atol=tol, rtol=tol)</div>
<div class="line"><span class="lineno"> 2479</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2480</span>                assert_equal(c_ar, n_ar)</div>
<div class="line"><span class="lineno"> 2481</span> </div>
<div class="line"><span class="lineno"> 2482</span> </div>
<div class="line"><span class="lineno"> 2483</span><span class="preprocessor">@pytest.mark.parametrize(&#39;ufunc&#39;, [np.sign, np.equal])</span></div>
<div class="ttc" id="astructufunc_html"><div class="ttname"><a href="structufunc.html">ufunc</a></div><div class="ttdef"><b>Definition</b> generate_umath_validation_data.cpp:10</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a249e22b85bfa9adf83811880683433f4" name="a249e22b85bfa9adf83811880683433f4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a249e22b85bfa9adf83811880683433f4">&#9670;&#160;</a></span>test_ufunc_out_casterrors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc.test_ufunc_out_casterrors </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2501</span><span class="keyword">def </span>test_ufunc_out_casterrors():</div>
<div class="line"><span class="lineno"> 2502</span>    <span class="comment"># Tests that casting errors are correctly reported and buffers are</span></div>
<div class="line"><span class="lineno"> 2503</span>    <span class="comment"># cleared.</span></div>
<div class="line"><span class="lineno"> 2504</span>    <span class="comment"># The following array can be added to itself as an object array, but</span></div>
<div class="line"><span class="lineno"> 2505</span>    <span class="comment"># the result cannot be cast to an integer output:</span></div>
<div class="line"><span class="lineno"> 2506</span>    value = 123  <span class="comment"># relies on python cache (leak-check will still find it)</span></div>
<div class="line"><span class="lineno"> 2507</span>    arr = np.array([value] * int(np.BUFSIZE * 1.5) +</div>
<div class="line"><span class="lineno"> 2508</span>                   [<span class="stringliteral">&quot;string&quot;</span>] +</div>
<div class="line"><span class="lineno"> 2509</span>                   [value] * int(1.5 * np.BUFSIZE), dtype=object)</div>
<div class="line"><span class="lineno"> 2510</span>    out = np.ones(len(arr), dtype=np.intp)</div>
<div class="line"><span class="lineno"> 2511</span> </div>
<div class="line"><span class="lineno"> 2512</span>    count = sys.getrefcount(value)</div>
<div class="line"><span class="lineno"> 2513</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 2514</span>        <span class="comment"># Output casting failure:</span></div>
<div class="line"><span class="lineno"> 2515</span>        np.add(arr, arr, out=out, casting=<span class="stringliteral">&quot;unsafe&quot;</span>)</div>
<div class="line"><span class="lineno"> 2516</span> </div>
<div class="line"><span class="lineno"> 2517</span>    <span class="keyword">assert</span> count == sys.getrefcount(value)</div>
<div class="line"><span class="lineno"> 2518</span>    <span class="comment"># output is unchanged after the error, this shows that the iteration</span></div>
<div class="line"><span class="lineno"> 2519</span>    <span class="comment"># was aborted (this is not necessarily defined behaviour)</span></div>
<div class="line"><span class="lineno"> 2520</span>    <span class="keyword">assert</span> out[-1] == 1</div>
<div class="line"><span class="lineno"> 2521</span> </div>
<div class="line"><span class="lineno"> 2522</span>    <span class="keyword">with</span> pytest.raises(ValueError):</div>
<div class="line"><span class="lineno"> 2523</span>        <span class="comment"># Input casting failure:</span></div>
<div class="line"><span class="lineno"> 2524</span>        np.add(arr, arr, out=out, dtype=np.intp, casting=<span class="stringliteral">&quot;unsafe&quot;</span>)</div>
<div class="line"><span class="lineno"> 2525</span> </div>
<div class="line"><span class="lineno"> 2526</span>    <span class="keyword">assert</span> count == sys.getrefcount(value)</div>
<div class="line"><span class="lineno"> 2527</span>    <span class="comment"># output is unchanged after the error, this shows that the iteration</span></div>
<div class="line"><span class="lineno"> 2528</span>    <span class="comment"># was aborted (this is not necessarily defined behaviour)</span></div>
<div class="line"><span class="lineno"> 2529</span>    <span class="keyword">assert</span> out[-1] == 1</div>
<div class="line"><span class="lineno"> 2530</span> </div>
<div class="line"><span class="lineno"> 2531</span> </div>
<div class="line"><span class="lineno"> 2532</span><span class="preprocessor">@pytest.mark.parametrize(&quot;bad_offset&quot;, [0, int(np.BUFSIZE * 1.5)</span>])</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8c827a4be504317f047cbd0dbc624d58" name="a8c827a4be504317f047cbd0dbc624d58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c827a4be504317f047cbd0dbc624d58">&#9670;&#160;</a></span>test_ufunc_types()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc.test_ufunc_types </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ufunc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Check all ufuncs that the correct type is returned. Avoid
object and boolean types since many operations are not defined for
for them.

Choose the shape so even dot and matmul will succeed
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2418</span><span class="keyword">def </span>test_ufunc_types(ufunc):</div>
<div class="line"><span class="lineno"> 2419</span>    <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 2420</span><span class="stringliteral">    Check all ufuncs that the correct type is returned. Avoid</span></div>
<div class="line"><span class="lineno"> 2421</span><span class="stringliteral">    object and boolean types since many operations are not defined for</span></div>
<div class="line"><span class="lineno"> 2422</span><span class="stringliteral">    for them.</span></div>
<div class="line"><span class="lineno"> 2423</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2424</span><span class="stringliteral">    Choose the shape so even dot and matmul will succeed</span></div>
<div class="line"><span class="lineno"> 2425</span><span class="stringliteral">    &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno"> 2426</span>    <span class="keywordflow">for</span> typ <span class="keywordflow">in</span> ufunc.types:</div>
<div class="line"><span class="lineno"> 2427</span>        <span class="comment"># types is a list of strings like ii-&gt;i</span></div>
<div class="line"><span class="lineno"> 2428</span>        <span class="keywordflow">if</span> <span class="stringliteral">&#39;O&#39;</span> <span class="keywordflow">in</span> typ <span class="keywordflow">or</span> <span class="stringliteral">&#39;?&#39;</span> <span class="keywordflow">in</span> typ:</div>
<div class="line"><span class="lineno"> 2429</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 2430</span>        inp, out = typ.split(<span class="stringliteral">&#39;-&gt;&#39;</span>)</div>
<div class="line"><span class="lineno"> 2431</span>        args = [np.ones((3, 3), t) <span class="keywordflow">for</span> t <span class="keywordflow">in</span> inp]</div>
<div class="line"><span class="lineno"> 2432</span>        <span class="keyword">with</span> warnings.catch_warnings(record=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno"> 2433</span>            warnings.filterwarnings(<span class="stringliteral">&quot;always&quot;</span>)</div>
<div class="line"><span class="lineno"> 2434</span>            res = <a class="code hl_struct" href="structufunc.html">ufunc</a>(*args)</div>
<div class="line"><span class="lineno"> 2435</span>        <span class="keywordflow">if</span> isinstance(res, tuple):</div>
<div class="line"><span class="lineno"> 2436</span>            outs = tuple(out)</div>
<div class="line"><span class="lineno"> 2437</span>            <span class="keyword">assert</span> len(res) == len(outs)</div>
<div class="line"><span class="lineno"> 2438</span>            <span class="keywordflow">for</span> r, t <span class="keywordflow">in</span> zip(res, outs):</div>
<div class="line"><span class="lineno"> 2439</span>                <span class="keyword">assert</span> r.dtype == np.dtype(t)</div>
<div class="line"><span class="lineno"> 2440</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2441</span>            <span class="keyword">assert</span> res.dtype == np.dtype(out)</div>
<div class="line"><span class="lineno"> 2442</span> </div>
<div class="line"><span class="lineno"> 2443</span><span class="preprocessor">@pytest.mark.parametrize(&#39;ufunc&#39;, [getattr(np, x)</span> <span class="keywordflow">for</span> x <span class="keywordflow">in</span> dir(np)</div>
<div class="line"><span class="lineno"> 2444</span>                                <span class="keywordflow">if</span> isinstance(getattr(np, x), np.ufunc)])</div>
<div class="line"><span class="lineno"> 2445</span><span class="preprocessor">@np._no_nep50_warning()</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6677836eb1ed59973a4e74d4d655c3dc" name="a6677836eb1ed59973a4e74d4d655c3dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6677836eb1ed59973a4e74d4d655c3dc">&#9670;&#160;</a></span>test_ufunc_warn_with_nan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.core.tests.test_ufunc.test_ufunc_warn_with_nan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ufunc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 2484</span><span class="keyword">def </span>test_ufunc_warn_with_nan(ufunc):</div>
<div class="line"><span class="lineno"> 2485</span>    <span class="comment"># issue gh-15127</span></div>
<div class="line"><span class="lineno"> 2486</span>    <span class="comment"># test that calling certain ufuncs with a non-standard `nan` value does not</span></div>
<div class="line"><span class="lineno"> 2487</span>    <span class="comment"># emit a warning</span></div>
<div class="line"><span class="lineno"> 2488</span>    <span class="comment"># `b` holds a 64 bit signaling nan: the most significant bit of the</span></div>
<div class="line"><span class="lineno"> 2489</span>    <span class="comment"># significand is zero.</span></div>
<div class="line"><span class="lineno"> 2490</span>    b = np.array([0x7ff0000000000001], <span class="stringliteral">&#39;i8&#39;</span>).view(<span class="stringliteral">&#39;f8&#39;</span>)</div>
<div class="line"><span class="lineno"> 2491</span>    <span class="keyword">assert</span> np.isnan(b)</div>
<div class="line"><span class="lineno"> 2492</span>    <span class="keywordflow">if</span> ufunc.nin == 1:</div>
<div class="line"><span class="lineno"> 2493</span>        <a class="code hl_struct" href="structufunc.html">ufunc</a>(b)</div>
<div class="line"><span class="lineno"> 2494</span>    <span class="keywordflow">elif</span> ufunc.nin == 2:</div>
<div class="line"><span class="lineno"> 2495</span>        <a class="code hl_struct" href="structufunc.html">ufunc</a>(b, b.copy())</div>
<div class="line"><span class="lineno"> 2496</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2497</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;ufunc with more than 2 inputs&#39;</span>)</div>
<div class="line"><span class="lineno"> 2498</span> </div>
<div class="line"><span class="lineno"> 2499</span> </div>
<div class="line"><span class="lineno"> 2500</span><span class="preprocessor">@pytest.mark.skipif(not HAS_REFCOUNT, reason=&quot;Python lacks refcounts&quot;)</span></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a2276251edf1bebd5d357c7e2b52c93f5" name="a2276251edf1bebd5d357c7e2b52c93f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2276251edf1bebd5d357c7e2b52c93f5">&#9670;&#160;</a></span>UNARY_OBJECT_UFUNCS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list numpy.core.tests.test_ufunc.UNARY_OBJECT_UFUNCS = [uf for uf <a class="el" href="__lapack__subroutines_8h.html#aa83d4778c28341ab79b01b2371f666fe">in</a> <a class="el" href="namespacenumpy_1_1core_1_1tests_1_1test__ufunc.html#a23f25fb12339fa9694422ecd64238d94">UNARY_UFUNCS</a> if &quot;O-&gt;O&quot; <a class="el" href="__lapack__subroutines_8h.html#aa83d4778c28341ab79b01b2371f666fe">in</a> uf.types]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a23f25fb12339fa9694422ecd64238d94" name="a23f25fb12339fa9694422ecd64238d94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23f25fb12339fa9694422ecd64238d94">&#9670;&#160;</a></span>UNARY_UFUNCS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list numpy.core.tests.test_ufunc.UNARY_UFUNCS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  [obj <span class="keywordflow">for</span> obj <span class="keywordflow">in</span> np.core.umath.__dict__.values()</div>
<div class="line"><span class="lineno">    2</span>                    <span class="keywordflow">if</span> isinstance(obj, np.ufunc)]</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
