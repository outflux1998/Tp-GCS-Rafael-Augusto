<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.utils.SaveLoad Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="classgensim_1_1utils_1_1_save_load.html">SaveLoad</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="classgensim_1_1utils_1_1_save_load-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gensim.utils.SaveLoad Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for gensim.utils.SaveLoad:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgensim_1_1utils_1_1_save_load.png" usemap="#gensim.utils.SaveLoad_map" alt=""/>
  <map id="gensim.utils.SaveLoad_map" name="gensim.utils.SaveLoad_map">
<area href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html" alt="gensim.corpora.dictionary.Dictionary" shape="rect" coords="384,112,758,136"/>
<area href="classgensim_1_1corpora_1_1hashdictionary_1_1_hash_dictionary.html" alt="gensim.corpora.hashdictionary.HashDictionary" shape="rect" coords="384,168,758,192"/>
<area href="classgensim_1_1interfaces_1_1_corpus_a_b_c.html" alt="gensim.interfaces.CorpusABC" shape="rect" coords="384,224,758,248"/>
<area href="classgensim_1_1interfaces_1_1_similarity_a_b_c.html" alt="gensim.interfaces.SimilarityABC" shape="rect" coords="384,280,758,304"/>
<area href="classgensim_1_1interfaces_1_1_transformation_a_b_c.html" alt="gensim.interfaces.TransformationABC" shape="rect" coords="384,336,758,360"/>
<area href="classgensim_1_1models_1_1base__any2vec_1_1_base_any2_vec_model.html" alt="gensim.models.base_any2vec.BaseAny2VecModel" shape="rect" coords="384,392,758,416"/>
<area href="classgensim_1_1models_1_1deprecated_1_1keyedvectors_1_1_keyed_vectors_base.html" alt="gensim.models.deprecated.keyedvectors.KeyedVectorsBase" shape="rect" coords="384,448,758,472"/>
<area href="classgensim_1_1models_1_1keyedvectors_1_1_base_keyed_vectors.html" alt="gensim.models.keyedvectors.BaseKeyedVectors" shape="rect" coords="384,504,758,528"/>
<area href="classgensim_1_1models_1_1ldamodel_1_1_lda_state.html" alt="gensim.models.ldamodel.LdaState" shape="rect" coords="384,560,758,584"/>
<area href="classgensim_1_1models_1_1ldaseqmodel_1_1_lda_post.html" alt="gensim.models.ldaseqmodel.LdaPost" shape="rect" coords="384,616,758,640"/>
<area href="classgensim_1_1models_1_1ldaseqmodel_1_1_lda_seq_model.html" alt="gensim.models.ldaseqmodel.LdaSeqModel" shape="rect" coords="384,672,758,696"/>
<area href="classgensim_1_1models_1_1ldaseqmodel_1_1sslm.html" alt="gensim.models.ldaseqmodel.sslm" shape="rect" coords="384,728,758,752"/>
<area href="classgensim_1_1models_1_1lsimodel_1_1_projection.html" alt="gensim.models.lsimodel.Projection" shape="rect" coords="384,784,758,808"/>
<area href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html" alt="gensim.models.poincare.PoincareModel" shape="rect" coords="384,840,758,864"/>
<area href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html" alt="gensim.models.translation_matrix.BackMappingTranslationMatrix" shape="rect" coords="384,896,758,920"/>
<area href="classgensim_1_1models_1_1translation__matrix_1_1_translation_matrix.html" alt="gensim.models.translation_matrix.TranslationMatrix" shape="rect" coords="384,952,758,976"/>
<area href="classgensim_1_1models_1_1word2vec_1_1_word2_vec_trainables.html" alt="gensim.models.word2vec.Word2VecTrainables" shape="rect" coords="384,1008,758,1032"/>
<area href="classgensim_1_1models_1_1word2vec_1_1_word2_vec_vocab.html" alt="gensim.models.word2vec.Word2VecVocab" shape="rect" coords="384,1064,758,1088"/>
<area href="classgensim_1_1models_1_1wrappers_1_1dtmmodel_1_1_dtm_model.html" alt="gensim.models.wrappers.dtmmodel.DtmModel" shape="rect" coords="384,1120,758,1144"/>
<area href="classgensim_1_1models_1_1wrappers_1_1ldamallet_1_1_lda_mallet.html" alt="gensim.models.wrappers.ldamallet.LdaMallet" shape="rect" coords="384,1176,758,1200"/>
<area href="classgensim_1_1models_1_1wrappers_1_1ldavowpalwabbit_1_1_lda_vowpal_wabbit.html" alt="gensim.models.wrappers.ldavowpalwabbit.LdaVowpalWabbit" shape="rect" coords="384,1232,758,1256"/>
<area href="classgensim_1_1similarities_1_1docsim_1_1_shard.html" alt="gensim.similarities.docsim.Shard" shape="rect" coords="384,1288,758,1312"/>
<area href="classgensim_1_1similarities_1_1termsim_1_1_sparse_term_similarity_matrix.html" alt="gensim.similarities.termsim.SparseTermSimilarityMatrix" shape="rect" coords="384,1344,758,1368"/>
<area href="classgensim_1_1similarities_1_1termsim_1_1_term_similarity_index.html" alt="gensim.similarities.termsim.TermSimilarityIndex" shape="rect" coords="384,1400,758,1424"/>
<area href="classgensim_1_1utils_1_1_clipped_corpus.html" alt="gensim.utils.ClippedCorpus" shape="rect" coords="384,1456,758,1480"/>
<area href="classgensim_1_1utils_1_1_repeat_corpus.html" alt="gensim.utils.RepeatCorpus" shape="rect" coords="384,1512,758,1536"/>
<area href="classgensim_1_1utils_1_1_repeat_corpus_n_times.html" alt="gensim.utils.RepeatCorpusNTimes" shape="rect" coords="384,1568,758,1592"/>
<area href="classgensim_1_1utils_1_1_sliced_corpus.html" alt="gensim.utils.SlicedCorpus" shape="rect" coords="384,1624,758,1648"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a70d054bfd9dfd1373fef9e0e691a24b5" id="r_a70d054bfd9dfd1373fef9e0e691a24b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a70d054bfd9dfd1373fef9e0e691a24b5">load</a> (cls, fname, mmap=None)</td></tr>
<tr class="separator:a70d054bfd9dfd1373fef9e0e691a24b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0767537a6eb767dfe4fb8cf6d5fc221c" id="r_a0767537a6eb767dfe4fb8cf6d5fc221c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a0767537a6eb767dfe4fb8cf6d5fc221c">save</a> (self, fname_or_handle, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:a0767537a6eb767dfe4fb8cf6d5fc221c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ace7b79d8870c44c2bab0d590a5aca91e" id="r_ace7b79d8870c44c2bab0d590a5aca91e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#ace7b79d8870c44c2bab0d590a5aca91e">_load_specials</a> (self, fname, mmap, compress, subname)</td></tr>
<tr class="separator:ace7b79d8870c44c2bab0d590a5aca91e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9faa42ba3aae8f0a175418889d425c" id="r_acd9faa42ba3aae8f0a175418889d425c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#acd9faa42ba3aae8f0a175418889d425c">_smart_save</a> (self, fname, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:acd9faa42ba3aae8f0a175418889d425c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bae38a76fa8264d2c8759b9d40a6f5c" id="r_a4bae38a76fa8264d2c8759b9d40a6f5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a4bae38a76fa8264d2c8759b9d40a6f5c">_save_specials</a> (self, fname, separately, sep_limit, ignore, pickle_protocol, compress, subname)</td></tr>
<tr class="separator:a4bae38a76fa8264d2c8759b9d40a6f5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-methods" name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a6cf051b348407267110444260535d143" id="r_a6cf051b348407267110444260535d143"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a6cf051b348407267110444260535d143">_adapt_by_suffix</a> (fname)</td></tr>
<tr class="separator:a6cf051b348407267110444260535d143"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Serialize/deserialize object from disk, by equipping objects with the save()/load() methods.

Warnings
--------
This uses pickle internally (among other techniques), so objects must not contain unpicklable attributes
such as lambda functions etc.</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a6cf051b348407267110444260535d143" name="a6cf051b348407267110444260535d143"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cf051b348407267110444260535d143">&#9670;&#160;</a></span>_adapt_by_suffix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.SaveLoad._adapt_by_suffix </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Get compress setting and filename for numpy file compression.

Parameters
----------
fname : str
    Input filename.

Returns
-------
(bool, function)
    First argument will be True if `fname` compressed.</pre> <div class="fragment"><div class="line"><span class="lineno">  508</span>    <span class="keyword">def </span>_adapt_by_suffix(fname):</div>
<div class="line"><span class="lineno">  509</span>        <span class="stringliteral">&quot;&quot;&quot;Get compress setting and filename for numpy file compression.</span></div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral">        fname : str</span></div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral">            Input filename.</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  518</span><span class="stringliteral">        (bool, function)</span></div>
<div class="line"><span class="lineno">  519</span><span class="stringliteral">            First argument will be True if `fname` compressed.</span></div>
<div class="line"><span class="lineno">  520</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  521</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  522</span>        compress, suffix = (<span class="keyword">True</span>, <span class="stringliteral">&#39;npz&#39;</span>) <span class="keywordflow">if</span> fname.endswith(<span class="stringliteral">&#39;.gz&#39;</span>) <span class="keywordflow">or</span> fname.endswith(<span class="stringliteral">&#39;.bz2&#39;</span>) <span class="keywordflow">else</span> (<span class="keyword">False</span>, <span class="stringliteral">&#39;npy&#39;</span>)</div>
<div class="line"><span class="lineno">  523</span>        <span class="keywordflow">return</span> compress, <span class="keyword">lambda</span> *args: <span class="stringliteral">&#39;.&#39;</span>.join(args + (suffix,))</div>
<div class="line"><span class="lineno">  524</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ace7b79d8870c44c2bab0d590a5aca91e" name="ace7b79d8870c44c2bab0d590a5aca91e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace7b79d8870c44c2bab0d590a5aca91e">&#9670;&#160;</a></span>_load_specials()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.SaveLoad._load_specials </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Load attributes that were stored separately, and give them the same opportunity
to recursively load using the :class:`~gensim.utils.SaveLoad` interface.

Parameters
----------
fname : str
    Input file path.
mmap :  {None, ‘r+’, ‘r’, ‘w+’, ‘c’}
    Memory-map options. See `numpy.load(mmap_mode)
    &lt;https://docs.scipy.org/doc/numpy-1.14.0/reference/generated/numpy.load.html&gt;`_.
compress : bool
    Is the input file compressed?
subname : str
    Attribute name. Set automatically during recursive processing.</pre> <div class="fragment"><div class="line"><span class="lineno">  440</span>    <span class="keyword">def </span>_load_specials(self, fname, mmap, compress, subname):</div>
<div class="line"><span class="lineno">  441</span>        <span class="stringliteral">&quot;&quot;&quot;Load attributes that were stored separately, and give them the same opportunity</span></div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral">        to recursively load using the :class:`~gensim.utils.SaveLoad` interface.</span></div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">        fname : str</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">            Input file path.</span></div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">        mmap :  {None, ‘r+’, ‘r’, ‘w+’, ‘c’}</span></div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral">            Memory-map options. See `numpy.load(mmap_mode)</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">            &lt;https://docs.scipy.org/doc/numpy-1.14.0/reference/generated/numpy.load.html&gt;`_.</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">        compress : bool</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">            Is the input file compressed?</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">        subname : str</span></div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral">            Attribute name. Set automatically during recursive processing.</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  457</span>        <span class="keyword">def </span>mmap_error(obj, filename):</div>
<div class="line"><span class="lineno">  458</span>            <span class="keywordflow">return</span> IOError(</div>
<div class="line"><span class="lineno">  459</span>                <span class="stringliteral">&#39;Cannot mmap compressed object %s in file %s. &#39;</span> % (obj, filename)</div>
<div class="line"><span class="lineno">  460</span>                + <span class="stringliteral">&#39;Use `load(fname, mmap=None)` or uncompress files manually.&#39;</span></div>
<div class="line"><span class="lineno">  461</span>            )</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>        <span class="keywordflow">for</span> attrib <span class="keywordflow">in</span> getattr(self, <span class="stringliteral">&#39;__recursive_saveloads&#39;</span>, []):</div>
<div class="line"><span class="lineno">  464</span>            cfname = <span class="stringliteral">&#39;.&#39;</span>.join((fname, attrib))</div>
<div class="line"><span class="lineno">  465</span>            logger.info(<span class="stringliteral">&quot;loading %s recursively from %s.* with mmap=%s&quot;</span>, attrib, cfname, mmap)</div>
<div class="line"><span class="lineno">  466</span>            <span class="keyword">with</span> ignore_deprecation_warning():</div>
<div class="line"><span class="lineno">  467</span>                getattr(self, attrib)._load_specials(cfname, mmap, compress, subname)</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>        <span class="keywordflow">for</span> attrib <span class="keywordflow">in</span> getattr(self, <span class="stringliteral">&#39;__numpys&#39;</span>, []):</div>
<div class="line"><span class="lineno">  470</span>            logger.info(<span class="stringliteral">&quot;loading %s from %s with mmap=%s&quot;</span>, attrib, subname(fname, attrib), mmap)</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>            <span class="keywordflow">if</span> compress:</div>
<div class="line"><span class="lineno">  473</span>                <span class="keywordflow">if</span> mmap:</div>
<div class="line"><span class="lineno">  474</span>                    <span class="keywordflow">raise</span> mmap_error(attrib, subname(fname, attrib))</div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>                val = np.load(subname(fname, attrib))[<span class="stringliteral">&#39;val&#39;</span>]</div>
<div class="line"><span class="lineno">  477</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  478</span>                val = np.load(subname(fname, attrib), mmap_mode=mmap)</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>            <span class="keyword">with</span> ignore_deprecation_warning():</div>
<div class="line"><span class="lineno">  481</span>                setattr(self, attrib, val)</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>        <span class="keywordflow">for</span> attrib <span class="keywordflow">in</span> getattr(self, <span class="stringliteral">&#39;__scipys&#39;</span>, []):</div>
<div class="line"><span class="lineno">  484</span>            logger.info(<span class="stringliteral">&quot;loading %s from %s with mmap=%s&quot;</span>, attrib, subname(fname, attrib), mmap)</div>
<div class="line"><span class="lineno">  485</span>            sparse = unpickle(subname(fname, attrib))</div>
<div class="line"><span class="lineno">  486</span>            <span class="keywordflow">if</span> compress:</div>
<div class="line"><span class="lineno">  487</span>                <span class="keywordflow">if</span> mmap:</div>
<div class="line"><span class="lineno">  488</span>                    <span class="keywordflow">raise</span> mmap_error(attrib, subname(fname, attrib))</div>
<div class="line"><span class="lineno">  489</span> </div>
<div class="line"><span class="lineno">  490</span>                <span class="keyword">with</span> np.load(subname(fname, attrib, <span class="stringliteral">&#39;sparse&#39;</span>)) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  491</span>                    sparse.data = f[<span class="stringliteral">&#39;data&#39;</span>]</div>
<div class="line"><span class="lineno">  492</span>                    sparse.indptr = f[<span class="stringliteral">&#39;indptr&#39;</span>]</div>
<div class="line"><span class="lineno">  493</span>                    sparse.indices = f[<span class="stringliteral">&#39;indices&#39;</span>]</div>
<div class="line"><span class="lineno">  494</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  495</span>                sparse.data = np.load(subname(fname, attrib, <span class="stringliteral">&#39;data&#39;</span>), mmap_mode=mmap)</div>
<div class="line"><span class="lineno">  496</span>                sparse.indptr = np.load(subname(fname, attrib, <span class="stringliteral">&#39;indptr&#39;</span>), mmap_mode=mmap)</div>
<div class="line"><span class="lineno">  497</span>                sparse.indices = np.load(subname(fname, attrib, <span class="stringliteral">&#39;indices&#39;</span>), mmap_mode=mmap)</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>            <span class="keyword">with</span> ignore_deprecation_warning():</div>
<div class="line"><span class="lineno">  500</span>                setattr(self, attrib, sparse)</div>
<div class="line"><span class="lineno">  501</span> </div>
<div class="line"><span class="lineno">  502</span>        <span class="keywordflow">for</span> attrib <span class="keywordflow">in</span> getattr(self, <span class="stringliteral">&#39;__ignoreds&#39;</span>, []):</div>
<div class="line"><span class="lineno">  503</span>            logger.info(<span class="stringliteral">&quot;setting ignored attribute %s to None&quot;</span>, attrib)</div>
<div class="line"><span class="lineno">  504</span>            <span class="keyword">with</span> ignore_deprecation_warning():</div>
<div class="line"><span class="lineno">  505</span>                setattr(self, attrib, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  506</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4bae38a76fa8264d2c8759b9d40a6f5c" name="a4bae38a76fa8264d2c8759b9d40a6f5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bae38a76fa8264d2c8759b9d40a6f5c">&#9670;&#160;</a></span>_save_specials()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.SaveLoad._save_specials </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>separately</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sep_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ignore</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pickle_protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Save aside any attributes that need to be handled separately, including
by recursion any attributes that are themselves :class:`~gensim.utils.SaveLoad` instances.

Parameters
----------
fname : str
    Output filename.
separately : list or None
    List of attributes to store separately.
sep_limit : int
    Don't store arrays smaller than this separately. In bytes.
ignore : iterable of str
    Attributes that shouldn't be stored at all.
pickle_protocol : int
    Protocol number for pickle.
compress : bool
    If True - compress output with :func:`numpy.savez_compressed`.
subname : function
    Produced by :meth:`~gensim.utils.SaveLoad._adapt_by_suffix`

Returns
-------
list of (obj, {attrib: value, ...})
    Settings that the caller should use to restore each object's attributes that were set aside
    during the default :func:`~gensim.utils.pickle`.</pre> <div class="fragment"><div class="line"><span class="lineno">  567</span>    <span class="keyword">def </span>_save_specials(self, fname, separately, sep_limit, ignore, pickle_protocol, compress, subname):</div>
<div class="line"><span class="lineno">  568</span>        <span class="stringliteral">&quot;&quot;&quot;Save aside any attributes that need to be handled separately, including</span></div>
<div class="line"><span class="lineno">  569</span><span class="stringliteral">        by recursion any attributes that are themselves :class:`~gensim.utils.SaveLoad` instances.</span></div>
<div class="line"><span class="lineno">  570</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  571</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  572</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  573</span><span class="stringliteral">        fname : str</span></div>
<div class="line"><span class="lineno">  574</span><span class="stringliteral">            Output filename.</span></div>
<div class="line"><span class="lineno">  575</span><span class="stringliteral">        separately : list or None</span></div>
<div class="line"><span class="lineno">  576</span><span class="stringliteral">            List of attributes to store separately.</span></div>
<div class="line"><span class="lineno">  577</span><span class="stringliteral">        sep_limit : int</span></div>
<div class="line"><span class="lineno">  578</span><span class="stringliteral">            Don&#39;t store arrays smaller than this separately. In bytes.</span></div>
<div class="line"><span class="lineno">  579</span><span class="stringliteral">        ignore : iterable of str</span></div>
<div class="line"><span class="lineno">  580</span><span class="stringliteral">            Attributes that shouldn&#39;t be stored at all.</span></div>
<div class="line"><span class="lineno">  581</span><span class="stringliteral">        pickle_protocol : int</span></div>
<div class="line"><span class="lineno">  582</span><span class="stringliteral">            Protocol number for pickle.</span></div>
<div class="line"><span class="lineno">  583</span><span class="stringliteral">        compress : bool</span></div>
<div class="line"><span class="lineno">  584</span><span class="stringliteral">            If True - compress output with :func:`numpy.savez_compressed`.</span></div>
<div class="line"><span class="lineno">  585</span><span class="stringliteral">        subname : function</span></div>
<div class="line"><span class="lineno">  586</span><span class="stringliteral">            Produced by :meth:`~gensim.utils.SaveLoad._adapt_by_suffix`</span></div>
<div class="line"><span class="lineno">  587</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  588</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  589</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  590</span><span class="stringliteral">        list of (obj, {attrib: value, ...})</span></div>
<div class="line"><span class="lineno">  591</span><span class="stringliteral">            Settings that the caller should use to restore each object&#39;s attributes that were set aside</span></div>
<div class="line"><span class="lineno">  592</span><span class="stringliteral">            during the default :func:`~gensim.utils.pickle`.</span></div>
<div class="line"><span class="lineno">  593</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  594</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  595</span>        asides = {}</div>
<div class="line"><span class="lineno">  596</span>        sparse_matrices = (<a class="code hl_class" href="classscipy_1_1sparse_1_1__csr_1_1csr__matrix.html">scipy.sparse.csr_matrix</a>, <a class="code hl_class" href="classscipy_1_1sparse_1_1__csc_1_1csc__matrix.html">scipy.sparse.csc_matrix</a>)</div>
<div class="line"><span class="lineno">  597</span>        <span class="keywordflow">if</span> separately <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  598</span>            separately = []</div>
<div class="line"><span class="lineno">  599</span>            <span class="keywordflow">for</span> attrib, val <span class="keywordflow">in</span> iteritems(self.__dict__):</div>
<div class="line"><span class="lineno">  600</span>                <span class="keywordflow">if</span> isinstance(val, np.ndarray) <span class="keywordflow">and</span> val.size &gt;= sep_limit:</div>
<div class="line"><span class="lineno">  601</span>                    separately.append(attrib)</div>
<div class="line"><span class="lineno">  602</span>                <span class="keywordflow">elif</span> isinstance(val, sparse_matrices) <span class="keywordflow">and</span> val.nnz &gt;= sep_limit:</div>
<div class="line"><span class="lineno">  603</span>                    separately.append(attrib)</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>        <span class="keyword">with</span> ignore_deprecation_warning():</div>
<div class="line"><span class="lineno">  606</span>            <span class="comment"># whatever&#39;s in `separately` or `ignore` at this point won&#39;t get pickled</span></div>
<div class="line"><span class="lineno">  607</span>            <span class="keywordflow">for</span> attrib <span class="keywordflow">in</span> separately + list(ignore):</div>
<div class="line"><span class="lineno">  608</span>                <span class="keywordflow">if</span> hasattr(self, attrib):</div>
<div class="line"><span class="lineno">  609</span>                    asides[attrib] = getattr(self, attrib)</div>
<div class="line"><span class="lineno">  610</span>                    delattr(self, attrib)</div>
<div class="line"><span class="lineno">  611</span> </div>
<div class="line"><span class="lineno">  612</span>        recursive_saveloads = []</div>
<div class="line"><span class="lineno">  613</span>        restores = []</div>
<div class="line"><span class="lineno">  614</span>        <span class="keywordflow">for</span> attrib, val <span class="keywordflow">in</span> iteritems(self.__dict__):</div>
<div class="line"><span class="lineno">  615</span>            <span class="keywordflow">if</span> hasattr(val, <span class="stringliteral">&#39;_save_specials&#39;</span>):  <span class="comment"># better than &#39;isinstance(val, SaveLoad)&#39; if IPython reloading</span></div>
<div class="line"><span class="lineno">  616</span>                recursive_saveloads.append(attrib)</div>
<div class="line"><span class="lineno">  617</span>                cfname = <span class="stringliteral">&#39;.&#39;</span>.join((fname, attrib))</div>
<div class="line"><span class="lineno">  618</span>                restores.extend(val._save_specials(cfname, <span class="keywordtype">None</span>, sep_limit, ignore, pickle_protocol, compress, subname))</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  621</span>            numpys, scipys, ignoreds = [], [], []</div>
<div class="line"><span class="lineno">  622</span>            <span class="keywordflow">for</span> attrib, val <span class="keywordflow">in</span> iteritems(asides):</div>
<div class="line"><span class="lineno">  623</span>                <span class="keywordflow">if</span> isinstance(val, np.ndarray) <span class="keywordflow">and</span> attrib <span class="keywordflow">not</span> <span class="keywordflow">in</span> ignore:</div>
<div class="line"><span class="lineno">  624</span>                    numpys.append(attrib)</div>
<div class="line"><span class="lineno">  625</span>                    logger.info(<span class="stringliteral">&quot;storing np array &#39;%s&#39; to %s&quot;</span>, attrib, subname(fname, attrib))</div>
<div class="line"><span class="lineno">  626</span> </div>
<div class="line"><span class="lineno">  627</span>                    <span class="keywordflow">if</span> compress:</div>
<div class="line"><span class="lineno">  628</span>                        np.savez_compressed(subname(fname, attrib), val=np.ascontiguousarray(val))</div>
<div class="line"><span class="lineno">  629</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  630</span>                        np.save(subname(fname, attrib), np.ascontiguousarray(val))</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>                <span class="keywordflow">elif</span> isinstance(val, (<a class="code hl_class" href="classscipy_1_1sparse_1_1__csr_1_1csr__matrix.html">scipy.sparse.csr_matrix</a>, <a class="code hl_class" href="classscipy_1_1sparse_1_1__csc_1_1csc__matrix.html">scipy.sparse.csc_matrix</a>)) <span class="keywordflow">and</span> attrib <span class="keywordflow">not</span> <span class="keywordflow">in</span> ignore:</div>
<div class="line"><span class="lineno">  633</span>                    scipys.append(attrib)</div>
<div class="line"><span class="lineno">  634</span>                    logger.info(<span class="stringliteral">&quot;storing scipy.sparse array &#39;%s&#39; under %s&quot;</span>, attrib, subname(fname, attrib))</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>                    <span class="keywordflow">if</span> compress:</div>
<div class="line"><span class="lineno">  637</span>                        np.savez_compressed(</div>
<div class="line"><span class="lineno">  638</span>                            subname(fname, attrib, <span class="stringliteral">&#39;sparse&#39;</span>),</div>
<div class="line"><span class="lineno">  639</span>                            data=val.data,</div>
<div class="line"><span class="lineno">  640</span>                            indptr=val.indptr,</div>
<div class="line"><span class="lineno">  641</span>                            indices=val.indices</div>
<div class="line"><span class="lineno">  642</span>                        )</div>
<div class="line"><span class="lineno">  643</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  644</span>                        np.save(subname(fname, attrib, <span class="stringliteral">&#39;data&#39;</span>), val.data)</div>
<div class="line"><span class="lineno">  645</span>                        np.save(subname(fname, attrib, <span class="stringliteral">&#39;indptr&#39;</span>), val.indptr)</div>
<div class="line"><span class="lineno">  646</span>                        np.save(subname(fname, attrib, <span class="stringliteral">&#39;indices&#39;</span>), val.indices)</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>                    data, indptr, indices = val.data, val.indptr, val.indices</div>
<div class="line"><span class="lineno">  649</span>                    val.data, val.indptr, val.indices = <span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  650</span> </div>
<div class="line"><span class="lineno">  651</span>                    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  652</span>                        <span class="comment"># store array-less object</span></div>
<div class="line"><span class="lineno">  653</span>                        pickle(val, subname(fname, attrib), protocol=pickle_protocol)</div>
<div class="line"><span class="lineno">  654</span>                    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  655</span>                        val.data, val.indptr, val.indices = data, indptr, indices</div>
<div class="line"><span class="lineno">  656</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  657</span>                    logger.info(<span class="stringliteral">&quot;not storing attribute %s&quot;</span>, attrib)</div>
<div class="line"><span class="lineno">  658</span>                    ignoreds.append(attrib)</div>
<div class="line"><span class="lineno">  659</span> </div>
<div class="line"><span class="lineno">  660</span>            self.__dict__[<span class="stringliteral">&#39;__numpys&#39;</span>] = numpys</div>
<div class="line"><span class="lineno">  661</span>            self.__dict__[<span class="stringliteral">&#39;__scipys&#39;</span>] = scipys</div>
<div class="line"><span class="lineno">  662</span>            self.__dict__[<span class="stringliteral">&#39;__ignoreds&#39;</span>] = ignoreds</div>
<div class="line"><span class="lineno">  663</span>            self.__dict__[<span class="stringliteral">&#39;__recursive_saveloads&#39;</span>] = recursive_saveloads</div>
<div class="line"><span class="lineno">  664</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  665</span>            <span class="comment"># restore the attributes if exception-interrupted</span></div>
<div class="line"><span class="lineno">  666</span>            <span class="keywordflow">for</span> attrib, val <span class="keywordflow">in</span> iteritems(asides):</div>
<div class="line"><span class="lineno">  667</span>                setattr(self, attrib, val)</div>
<div class="line"><span class="lineno">  668</span>            <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  669</span>        <span class="keywordflow">return</span> restores + [(self, asides)]</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="ttc" id="aclassscipy_1_1sparse_1_1__csc_1_1csc__matrix_html"><div class="ttname"><a href="classscipy_1_1sparse_1_1__csc_1_1csc__matrix.html">scipy.sparse._csc.csc_matrix</a></div><div class="ttdef"><b>Definition</b> _csc.py:16</div></div>
<div class="ttc" id="aclassscipy_1_1sparse_1_1__csr_1_1csr__matrix_html"><div class="ttname"><a href="classscipy_1_1sparse_1_1__csr_1_1csr__matrix.html">scipy.sparse._csr.csr_matrix</a></div><div class="ttdef"><b>Definition</b> _csr.py:17</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acd9faa42ba3aae8f0a175418889d425c" name="acd9faa42ba3aae8f0a175418889d425c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd9faa42ba3aae8f0a175418889d425c">&#9670;&#160;</a></span>_smart_save()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.SaveLoad._smart_save </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>separately</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sep_limit</em> = <code>10&#160;*&#160;1024**2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ignore</em> = <code>frozenset()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pickle_protocol</em> = <code>2</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Save the object to a file. Used internally by :meth:`gensim.utils.SaveLoad.save()`.

Parameters
----------
fname : str
    Path to file.
separately : list, optional
    Iterable of attributes than need to store distinctly.
sep_limit : int, optional
    Limit for separation.
ignore : frozenset, optional
    Attributes that shouldn't be store.
pickle_protocol : int, optional
    Protocol number for pickle.

Notes
-----
If `separately` is None, automatically detect large numpy/scipy.sparse arrays in the object being stored,
and store them into separate files. This avoids pickle memory errors and allows mmap'ing large arrays back
on load efficiently.

You can also set `separately` manually, in which case it must be a list of attribute names to be stored
in separate files. The automatic check is not performed in this case.</pre> <div class="fragment"><div class="line"><span class="lineno">  525</span>    <span class="keyword">def </span>_smart_save(self, fname, separately=None, sep_limit=10 * 1024**2, ignore=frozenset(), pickle_protocol=2):</div>
<div class="line"><span class="lineno">  526</span>        <span class="stringliteral">&quot;&quot;&quot;Save the object to a file. Used internally by :meth:`gensim.utils.SaveLoad.save()`.</span></div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">        fname : str</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral">            Path to file.</span></div>
<div class="line"><span class="lineno">  532</span><span class="stringliteral">        separately : list, optional</span></div>
<div class="line"><span class="lineno">  533</span><span class="stringliteral">            Iterable of attributes than need to store distinctly.</span></div>
<div class="line"><span class="lineno">  534</span><span class="stringliteral">        sep_limit : int, optional</span></div>
<div class="line"><span class="lineno">  535</span><span class="stringliteral">            Limit for separation.</span></div>
<div class="line"><span class="lineno">  536</span><span class="stringliteral">        ignore : frozenset, optional</span></div>
<div class="line"><span class="lineno">  537</span><span class="stringliteral">            Attributes that shouldn&#39;t be store.</span></div>
<div class="line"><span class="lineno">  538</span><span class="stringliteral">        pickle_protocol : int, optional</span></div>
<div class="line"><span class="lineno">  539</span><span class="stringliteral">            Protocol number for pickle.</span></div>
<div class="line"><span class="lineno">  540</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  541</span><span class="stringliteral">        Notes</span></div>
<div class="line"><span class="lineno">  542</span><span class="stringliteral">        -----</span></div>
<div class="line"><span class="lineno">  543</span><span class="stringliteral">        If `separately` is None, automatically detect large numpy/scipy.sparse arrays in the object being stored,</span></div>
<div class="line"><span class="lineno">  544</span><span class="stringliteral">        and store them into separate files. This avoids pickle memory errors and allows mmap&#39;ing large arrays back</span></div>
<div class="line"><span class="lineno">  545</span><span class="stringliteral">        on load efficiently.</span></div>
<div class="line"><span class="lineno">  546</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  547</span><span class="stringliteral">        You can also set `separately` manually, in which case it must be a list of attribute names to be stored</span></div>
<div class="line"><span class="lineno">  548</span><span class="stringliteral">        in separate files. The automatic check is not performed in this case.</span></div>
<div class="line"><span class="lineno">  549</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  550</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  551</span>        logger.info(<span class="stringliteral">&quot;saving %s object under %s, separately %s&quot;</span>, self.__class__.__name__, fname, separately)</div>
<div class="line"><span class="lineno">  552</span> </div>
<div class="line"><span class="lineno">  553</span>        compress, subname = SaveLoad._adapt_by_suffix(fname)</div>
<div class="line"><span class="lineno">  554</span> </div>
<div class="line"><span class="lineno">  555</span>        restores = self._save_specials(fname, separately, sep_limit, ignore, pickle_protocol,</div>
<div class="line"><span class="lineno">  556</span>                                       compress, subname)</div>
<div class="line"><span class="lineno">  557</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  558</span>            pickle(self, fname, protocol=pickle_protocol)</div>
<div class="line"><span class="lineno">  559</span>        <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  560</span>            <span class="comment"># restore attribs handled specially</span></div>
<div class="line"><span class="lineno">  561</span>            <span class="keywordflow">for</span> obj, asides <span class="keywordflow">in</span> restores:</div>
<div class="line"><span class="lineno">  562</span>                <span class="keywordflow">for</span> attrib, val <span class="keywordflow">in</span> iteritems(asides):</div>
<div class="line"><span class="lineno">  563</span>                    <span class="keyword">with</span> ignore_deprecation_warning():</div>
<div class="line"><span class="lineno">  564</span>                        setattr(obj, attrib, val)</div>
<div class="line"><span class="lineno">  565</span>        logger.info(<span class="stringliteral">&quot;saved %s&quot;</span>, fname)</div>
<div class="line"><span class="lineno">  566</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a70d054bfd9dfd1373fef9e0e691a24b5" name="a70d054bfd9dfd1373fef9e0e691a24b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70d054bfd9dfd1373fef9e0e691a24b5">&#9670;&#160;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.SaveLoad.load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mmap</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load an object previously saved using :meth:`~gensim.utils.SaveLoad.save` from a file.

Parameters
----------
fname : str
    Path to file that contains needed object.
mmap : str, optional
    Memory-map option.  If the object was saved with large arrays stored separately, you can load these arrays
    via mmap (shared memory) using `mmap='r'.
    If the file being loaded is compressed (either '.gz' or '.bz2'), then `mmap=None` **must be** set.

See Also
--------
:meth:`~gensim.utils.SaveLoad.save`
    Save object to file.

Returns
-------
object
    Object loaded from `fname`.

Raises
------
AttributeError
    When called on an object instance instead of class (this is a class method).</pre> 
<p>Reimplemented in <a class="el" href="classgensim_1_1models_1_1base__any2vec_1_1_base_word_embeddings_model.html#ab49365900af2d860f497162f8f4e622f">gensim.models.base_any2vec.BaseWordEmbeddingsModel</a>, <a class="el" href="classgensim_1_1models_1_1doc2vec_1_1_doc2_vec.html#af0b5e3f60eac86fdf1050a4acbe55de6">gensim.models.doc2vec.Doc2Vec</a>, <a class="el" href="classgensim_1_1models_1_1fasttext_1_1_fast_text.html#a0a9ff7b1204c877102d9a51bc0a9b0cb">gensim.models.fasttext.FastText</a>, <a class="el" href="classgensim_1_1models_1_1phrases_1_1_phrases_transformation.html#af155b1dfdf13b334cc74da0807461c7c">gensim.models.phrases.PhrasesTransformation</a>, <a class="el" href="classgensim_1_1models_1_1phrases_1_1_phrases.html#a729287514693fe3572ffce262a8cc3df">gensim.models.phrases.Phrases</a>, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#a3188139800dbeee4520ee3927bcfe824">gensim.models.poincare.PoincareModel</a>, <a class="el" href="classgensim_1_1models_1_1tfidfmodel_1_1_tfidf_model.html#a85ce5371b12d2ecf4bdedc46dc5c4dbc">gensim.models.tfidfmodel.TfidfModel</a>, <a class="el" href="classgensim_1_1models_1_1word2vec_1_1_word2_vec.html#a2fa09c79252cd54a67ffc80b57e61dfe">gensim.models.word2vec.Word2Vec</a>, <a class="el" href="classgensim_1_1models_1_1wrappers_1_1ldamallet_1_1_lda_mallet.html#a8bc19a60565b5012394c2cb796c5fbb9">gensim.models.wrappers.ldamallet.LdaMallet</a>, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_state.html#a5e64955a8a600ef45e70fdc4e97827a1">gensim.models.ldamodel.LdaState</a>, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#aeb2c0102d7d08304beab89f72406109c">gensim.models.ldamodel.LdaModel</a>, <a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_lsi_model.html#a3ec01b7471d1196b6629f8fb5a959c9a">gensim.models.lsimodel.LsiModel</a>, <a class="el" href="classgensim_1_1models_1_1wrappers_1_1ldavowpalwabbit_1_1_lda_vowpal_wabbit.html#ad4a3b0be83ebd6b42c3ada3fa9e72509">gensim.models.wrappers.ldavowpalwabbit.LdaVowpalWabbit</a>, <a class="el" href="classgensim_1_1corpora_1_1sharded__corpus_1_1_sharded_corpus.html#a282ef9536238e0de25d7d6d449560f0c">gensim.corpora.sharded_corpus.ShardedCorpus</a>, <a class="el" href="classgensim_1_1models_1_1base__any2vec_1_1_base_any2_vec_model.html#a4d1556ecdd504e0ed708c8e0ab13bc03">gensim.models.base_any2vec.BaseAny2VecModel</a>, <a class="el" href="classgensim_1_1models_1_1keyedvectors_1_1_base_keyed_vectors.html#a9f65d506a3472449c80ff239dae67de3">gensim.models.keyedvectors.BaseKeyedVectors</a>, <a class="el" href="classgensim_1_1models_1_1keyedvectors_1_1_word2_vec_keyed_vectors.html#a99d405f1e1bbb6986d365926244a356f">gensim.models.keyedvectors.Word2VecKeyedVectors</a>, and <a class="el" href="classgensim_1_1models_1_1keyedvectors_1_1_fast_text_keyed_vectors.html#abc7a381e09c94c595f7da00a7591ce45">gensim.models.keyedvectors.FastTextKeyedVectors</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  403</span>    <span class="keyword">def </span>load(cls, fname, mmap=None):</div>
<div class="line"><span class="lineno">  404</span>        <span class="stringliteral">&quot;&quot;&quot;Load an object previously saved using :meth:`~gensim.utils.SaveLoad.save` from a file.</span></div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral">        fname : str</span></div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">            Path to file that contains needed object.</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">        mmap : str, optional</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral">            Memory-map option.  If the object was saved with large arrays stored separately, you can load these arrays</span></div>
<div class="line"><span class="lineno">  412</span><span class="stringliteral">            via mmap (shared memory) using `mmap=&#39;r&#39;.</span></div>
<div class="line"><span class="lineno">  413</span><span class="stringliteral">            If the file being loaded is compressed (either &#39;.gz&#39; or &#39;.bz2&#39;), then `mmap=None` **must be** set.</span></div>
<div class="line"><span class="lineno">  414</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  415</span><span class="stringliteral">        See Also</span></div>
<div class="line"><span class="lineno">  416</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  417</span><span class="stringliteral">        :meth:`~gensim.utils.SaveLoad.save`</span></div>
<div class="line"><span class="lineno">  418</span><span class="stringliteral">            Save object to file.</span></div>
<div class="line"><span class="lineno">  419</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  420</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  421</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  422</span><span class="stringliteral">        object</span></div>
<div class="line"><span class="lineno">  423</span><span class="stringliteral">            Object loaded from `fname`.</span></div>
<div class="line"><span class="lineno">  424</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  425</span><span class="stringliteral">        Raises</span></div>
<div class="line"><span class="lineno">  426</span><span class="stringliteral">        ------</span></div>
<div class="line"><span class="lineno">  427</span><span class="stringliteral">        AttributeError</span></div>
<div class="line"><span class="lineno">  428</span><span class="stringliteral">            When called on an object instance instead of class (this is a class method).</span></div>
<div class="line"><span class="lineno">  429</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  430</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  431</span>        logger.info(<span class="stringliteral">&quot;loading %s object from %s&quot;</span>, cls.__name__, fname)</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>        compress, subname = SaveLoad._adapt_by_suffix(fname)</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>        obj = unpickle(fname)</div>
<div class="line"><span class="lineno">  436</span>        obj._load_specials(fname, mmap, compress, subname)</div>
<div class="line"><span class="lineno">  437</span>        logger.info(<span class="stringliteral">&quot;loaded %s&quot;</span>, fname)</div>
<div class="line"><span class="lineno">  438</span>        <span class="keywordflow">return</span> obj</div>
<div class="line"><span class="lineno">  439</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0767537a6eb767dfe4fb8cf6d5fc221c" name="a0767537a6eb767dfe4fb8cf6d5fc221c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0767537a6eb767dfe4fb8cf6d5fc221c">&#9670;&#160;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.utils.SaveLoad.save </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname_or_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>separately</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sep_limit</em> = <code>10&#160;*&#160;1024**2</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ignore</em> = <code>frozenset()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pickle_protocol</em> = <code>2</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save the object to a file.

Parameters
----------
fname_or_handle : str or file-like
    Path to output file or already opened file-like object. If the object is a file handle,
    no special array handling will be performed, all attributes will be saved to the same file.
separately : list of str or None, optional
    If None, automatically detect large numpy/scipy.sparse arrays in the object being stored, and store
    them into separate files. This prevent memory errors for large objects, and also allows
    `memory-mapping &lt;https://en.wikipedia.org/wiki/Mmap&gt;`_ the large arrays for efficient
    loading and sharing the large arrays in RAM between multiple processes.

    If list of str: store these attributes into separate files. The automated size check
    is not performed in this case.
sep_limit : int, optional
    Don't store arrays smaller than this separately. In bytes.
ignore : frozenset of str, optional
    Attributes that shouldn't be stored at all.
pickle_protocol : int, optional
    Protocol number for pickle.

See Also
--------
:meth:`~gensim.utils.SaveLoad.load`
    Load object from file.</pre> 
<p>Reimplemented in <a class="el" href="classgensim_1_1corpora_1_1sharded__corpus_1_1_sharded_corpus.html#aeba96bf724465bfaa6b4cd7af205144e">gensim.corpora.sharded_corpus.ShardedCorpus</a>, <a class="el" href="classgensim_1_1interfaces_1_1_corpus_a_b_c.html#ab64bdb03fe8138bc17beb2f8fc3a134c">gensim.interfaces.CorpusABC</a>, <a class="el" href="classgensim_1_1models_1_1deprecated_1_1keyedvectors_1_1_euclidean_keyed_vectors.html#af00fff025d874d1ec1c4a383e7355265">gensim.models.deprecated.keyedvectors.EuclideanKeyedVectors</a>, <a class="el" href="classgensim_1_1models_1_1fasttext_1_1_fast_text.html#a53c61a6b943b99f28370ac021bda7e46">gensim.models.fasttext.FastText</a>, <a class="el" href="classgensim_1_1models_1_1keyedvectors_1_1_word_embeddings_keyed_vectors.html#adbb98824bcdd5ea4cebea513726fa185">gensim.models.keyedvectors.WordEmbeddingsKeyedVectors</a>, <a class="el" href="classgensim_1_1models_1_1keyedvectors_1_1_doc2_vec_keyed_vectors.html#abfadb7952affefa9cc7f23710fca98fc">gensim.models.keyedvectors.Doc2VecKeyedVectors</a>, <a class="el" href="classgensim_1_1models_1_1keyedvectors_1_1_fast_text_keyed_vectors.html#a73c6c949dd914cde987032c249d3341d">gensim.models.keyedvectors.FastTextKeyedVectors</a>, <a class="el" href="classgensim_1_1models_1_1poincare_1_1_poincare_model.html#ae4b0b02acfec7d465ffcca685e8e0140">gensim.models.poincare.PoincareModel</a>, <a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_translation_matrix.html#a4e39d56f01f156774cd9394b74ddbfd1">gensim.models.translation_matrix.TranslationMatrix</a>, <a class="el" href="classgensim_1_1models_1_1word2vec_1_1_word2_vec.html#ad77cee4ec895484e53a4405830d272aa">gensim.models.word2vec.Word2Vec</a>, <a class="el" href="classgensim_1_1models_1_1lsimodel_1_1_lsi_model.html#ad247e1db11bc2b33bb2b1a0039c6beed">gensim.models.lsimodel.LsiModel</a>, <a class="el" href="classgensim_1_1models_1_1wrappers_1_1ldavowpalwabbit_1_1_lda_vowpal_wabbit.html#abba1ae98181de16295f78bece228c857">gensim.models.wrappers.ldavowpalwabbit.LdaVowpalWabbit</a>, <a class="el" href="classgensim_1_1models_1_1ldamodel_1_1_lda_model.html#a4afe326af84974dede9ed3bc99e5c44e">gensim.models.ldamodel.LdaModel</a>, <a class="el" href="classgensim_1_1similarities_1_1docsim_1_1_similarity.html#abcabaad6bb1d16a01d79cdc86f653a3d">gensim.similarities.docsim.Similarity</a>, <a class="el" href="classgensim_1_1models_1_1base__any2vec_1_1_base_any2_vec_model.html#a548d65fb2c855c406414207a78c27d93">gensim.models.base_any2vec.BaseAny2VecModel</a>, and <a class="el" href="classgensim_1_1models_1_1keyedvectors_1_1_base_keyed_vectors.html#ae62d5015e2e1d6ecde71878f025ece0d">gensim.models.keyedvectors.BaseKeyedVectors</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  671</span>    <span class="keyword">def </span>save(self, fname_or_handle, separately=None, sep_limit=10 * 1024**2, ignore=frozenset(), pickle_protocol=2):</div>
<div class="line"><span class="lineno">  672</span>        <span class="stringliteral">&quot;&quot;&quot;Save the object to a file.</span></div>
<div class="line"><span class="lineno">  673</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  674</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  675</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  676</span><span class="stringliteral">        fname_or_handle : str or file-like</span></div>
<div class="line"><span class="lineno">  677</span><span class="stringliteral">            Path to output file or already opened file-like object. If the object is a file handle,</span></div>
<div class="line"><span class="lineno">  678</span><span class="stringliteral">            no special array handling will be performed, all attributes will be saved to the same file.</span></div>
<div class="line"><span class="lineno">  679</span><span class="stringliteral">        separately : list of str or None, optional</span></div>
<div class="line"><span class="lineno">  680</span><span class="stringliteral">            If None, automatically detect large numpy/scipy.sparse arrays in the object being stored, and store</span></div>
<div class="line"><span class="lineno">  681</span><span class="stringliteral">            them into separate files. This prevent memory errors for large objects, and also allows</span></div>
<div class="line"><span class="lineno">  682</span><span class="stringliteral">            `memory-mapping &lt;https://en.wikipedia.org/wiki/Mmap&gt;`_ the large arrays for efficient</span></div>
<div class="line"><span class="lineno">  683</span><span class="stringliteral">            loading and sharing the large arrays in RAM between multiple processes.</span></div>
<div class="line"><span class="lineno">  684</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  685</span><span class="stringliteral">            If list of str: store these attributes into separate files. The automated size check</span></div>
<div class="line"><span class="lineno">  686</span><span class="stringliteral">            is not performed in this case.</span></div>
<div class="line"><span class="lineno">  687</span><span class="stringliteral">        sep_limit : int, optional</span></div>
<div class="line"><span class="lineno">  688</span><span class="stringliteral">            Don&#39;t store arrays smaller than this separately. In bytes.</span></div>
<div class="line"><span class="lineno">  689</span><span class="stringliteral">        ignore : frozenset of str, optional</span></div>
<div class="line"><span class="lineno">  690</span><span class="stringliteral">            Attributes that shouldn&#39;t be stored at all.</span></div>
<div class="line"><span class="lineno">  691</span><span class="stringliteral">        pickle_protocol : int, optional</span></div>
<div class="line"><span class="lineno">  692</span><span class="stringliteral">            Protocol number for pickle.</span></div>
<div class="line"><span class="lineno">  693</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  694</span><span class="stringliteral">        See Also</span></div>
<div class="line"><span class="lineno">  695</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  696</span><span class="stringliteral">        :meth:`~gensim.utils.SaveLoad.load`</span></div>
<div class="line"><span class="lineno">  697</span><span class="stringliteral">            Load object from file.</span></div>
<div class="line"><span class="lineno">  698</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  699</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  700</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  701</span>            _pickle.dump(self, fname_or_handle, protocol=pickle_protocol)</div>
<div class="line"><span class="lineno">  702</span>            logger.info(<span class="stringliteral">&quot;saved %s object&quot;</span>, self.__class__.__name__)</div>
<div class="line"><span class="lineno">  703</span>        <span class="keywordflow">except</span> TypeError:  <span class="comment"># `fname_or_handle` does not have write attribute</span></div>
<div class="line"><span class="lineno">  704</span>            self._smart_save(fname_or_handle, separately, sep_limit, ignore, pickle_protocol=pickle_protocol)</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span> </div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/gensim/<a class="el" href="gensim_2utils_8py.html">utils.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
