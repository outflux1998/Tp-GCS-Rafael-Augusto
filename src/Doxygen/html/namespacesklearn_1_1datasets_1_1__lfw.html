<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.datasets._lfw Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1datasets.html">datasets</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1datasets_1_1__lfw.html">_lfw</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">sklearn.datasets._lfw Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab5e9b78950ce0e587918c190d0cb13fc" id="r_ab5e9b78950ce0e587918c190d0cb13fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1datasets_1_1__lfw.html#ab5e9b78950ce0e587918c190d0cb13fc">_check_fetch_lfw</a> (data_home=None, funneled=True, download_if_missing=True)</td></tr>
<tr class="separator:ab5e9b78950ce0e587918c190d0cb13fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc34432605f80056dd02c692dee13f8a" id="r_afc34432605f80056dd02c692dee13f8a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1datasets_1_1__lfw.html#afc34432605f80056dd02c692dee13f8a">_load_imgs</a> (file_paths, slice_, color, resize)</td></tr>
<tr class="separator:afc34432605f80056dd02c692dee13f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ce7349598132aa64f593ef2f885fb97" id="r_a8ce7349598132aa64f593ef2f885fb97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1datasets_1_1__lfw.html#a8ce7349598132aa64f593ef2f885fb97">_fetch_lfw_people</a> (data_folder_path, slice_=None, color=False, resize=None, min_faces_per_person=0)</td></tr>
<tr class="separator:a8ce7349598132aa64f593ef2f885fb97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81a7ee85f9807a408e51a9c699065e53" id="r_a81a7ee85f9807a408e51a9c699065e53"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1datasets_1_1__lfw.html#a81a7ee85f9807a408e51a9c699065e53">fetch_lfw_people</a> (*data_home=None, funneled=True, resize=0.5, min_faces_per_person=0, color=False, slice_=(slice(70, 195), slice(78, 172)), download_if_missing=True, return_X_y=False)</td></tr>
<tr class="separator:a81a7ee85f9807a408e51a9c699065e53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ea68529ed510c30133ae2d770abe15b" id="r_a8ea68529ed510c30133ae2d770abe15b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1datasets_1_1__lfw.html#a8ea68529ed510c30133ae2d770abe15b">_fetch_lfw_pairs</a> (index_file_path, data_folder_path, slice_=None, color=False, resize=None)</td></tr>
<tr class="separator:a8ea68529ed510c30133ae2d770abe15b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f49d7d7730c2aecd4a3a7de5be52ba8" id="r_a9f49d7d7730c2aecd4a3a7de5be52ba8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1datasets_1_1__lfw.html#a9f49d7d7730c2aecd4a3a7de5be52ba8">fetch_lfw_pairs</a> (*subset=&quot;train&quot;, data_home=None, funneled=True, resize=0.5, color=False, slice_=(slice(70, 195), slice(78, 172)), download_if_missing=True)</td></tr>
<tr class="separator:a9f49d7d7730c2aecd4a3a7de5be52ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:af1731ed2aeffc0999c57b23547f31f36" id="r_af1731ed2aeffc0999c57b23547f31f36"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1datasets_1_1__lfw.html#af1731ed2aeffc0999c57b23547f31f36">logger</a> = logging.getLogger(__name__)</td></tr>
<tr class="separator:af1731ed2aeffc0999c57b23547f31f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed7ce2a54e808cd94a3780b9dd26416d" id="r_aed7ce2a54e808cd94a3780b9dd26416d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1datasets_1_1__lfw.html#aed7ce2a54e808cd94a3780b9dd26416d">ARCHIVE</a></td></tr>
<tr class="separator:aed7ce2a54e808cd94a3780b9dd26416d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11d96a4411ecc8940d1574c9fe10e19f" id="r_a11d96a4411ecc8940d1574c9fe10e19f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1datasets_1_1__lfw.html#a11d96a4411ecc8940d1574c9fe10e19f">FUNNELED_ARCHIVE</a></td></tr>
<tr class="separator:a11d96a4411ecc8940d1574c9fe10e19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68059b81c1852fbc2f6e000b739c84cd" id="r_a68059b81c1852fbc2f6e000b739c84cd"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1datasets_1_1__lfw.html#a68059b81c1852fbc2f6e000b739c84cd">TARGETS</a></td></tr>
<tr class="separator:a68059b81c1852fbc2f6e000b739c84cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Labeled Faces in the Wild (LFW) dataset

This dataset is a collection of JPEG pictures of famous people collected
over the internet, all details are available on the official website:

    http://vis-www.cs.umass.edu/lfw/
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="ab5e9b78950ce0e587918c190d0cb13fc" name="ab5e9b78950ce0e587918c190d0cb13fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5e9b78950ce0e587918c190d0cb13fc">&#9670;&#160;</a></span>_check_fetch_lfw()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.datasets._lfw._check_fetch_lfw </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data_home</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>funneled</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>download_if_missing</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper function to download any missing LFW data</pre> <div class="fragment"><div class="line"><span class="lineno">   74</span><span class="keyword">def </span>_check_fetch_lfw(data_home=None, funneled=True, download_if_missing=True):</div>
<div class="line"><span class="lineno">   75</span>    <span class="stringliteral">&quot;&quot;&quot;Helper function to download any missing LFW data&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>    data_home = get_data_home(data_home=data_home)</div>
<div class="line"><span class="lineno">   78</span>    lfw_home = join(data_home, <span class="stringliteral">&quot;lfw_home&quot;</span>)</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> exists(lfw_home):</div>
<div class="line"><span class="lineno">   81</span>        makedirs(lfw_home)</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">for</span> target <span class="keywordflow">in</span> TARGETS:</div>
<div class="line"><span class="lineno">   84</span>        target_filepath = join(lfw_home, target.filename)</div>
<div class="line"><span class="lineno">   85</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> exists(target_filepath):</div>
<div class="line"><span class="lineno">   86</span>            <span class="keywordflow">if</span> download_if_missing:</div>
<div class="line"><span class="lineno">   87</span>                logger.info(<span class="stringliteral">&quot;Downloading LFW metadata: %s&quot;</span>, target.url)</div>
<div class="line"><span class="lineno">   88</span>                _fetch_remote(target, dirname=lfw_home)</div>
<div class="line"><span class="lineno">   89</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   90</span>                <span class="keywordflow">raise</span> IOError(<span class="stringliteral">&quot;%s is missing&quot;</span> % target_filepath)</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">if</span> funneled:</div>
<div class="line"><span class="lineno">   93</span>        data_folder_path = join(lfw_home, <span class="stringliteral">&quot;lfw_funneled&quot;</span>)</div>
<div class="line"><span class="lineno">   94</span>        archive = FUNNELED_ARCHIVE</div>
<div class="line"><span class="lineno">   95</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   96</span>        data_folder_path = join(lfw_home, <span class="stringliteral">&quot;lfw&quot;</span>)</div>
<div class="line"><span class="lineno">   97</span>        archive = ARCHIVE</div>
<div class="line"><span class="lineno">   98</span> </div>
<div class="line"><span class="lineno">   99</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> exists(data_folder_path):</div>
<div class="line"><span class="lineno">  100</span>        archive_path = join(lfw_home, archive.filename)</div>
<div class="line"><span class="lineno">  101</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> exists(archive_path):</div>
<div class="line"><span class="lineno">  102</span>            <span class="keywordflow">if</span> download_if_missing:</div>
<div class="line"><span class="lineno">  103</span>                logger.info(<span class="stringliteral">&quot;Downloading LFW data (~200MB): %s&quot;</span>, archive.url)</div>
<div class="line"><span class="lineno">  104</span>                _fetch_remote(archive, dirname=lfw_home)</div>
<div class="line"><span class="lineno">  105</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  106</span>                <span class="keywordflow">raise</span> IOError(<span class="stringliteral">&quot;%s is missing&quot;</span> % archive_path)</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>        <span class="keyword">import</span> tarfile</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>        logger.debug(<span class="stringliteral">&quot;Decompressing the data archive to %s&quot;</span>, data_folder_path)</div>
<div class="line"><span class="lineno">  111</span>        tarfile.open(archive_path, <span class="stringliteral">&quot;r:gz&quot;</span>).extractall(path=lfw_home)</div>
<div class="line"><span class="lineno">  112</span>        remove(archive_path)</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">return</span> lfw_home, data_folder_path</div>
<div class="line"><span class="lineno">  115</span> </div>
<div class="line"><span class="lineno">  116</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ea68529ed510c30133ae2d770abe15b" name="a8ea68529ed510c30133ae2d770abe15b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ea68529ed510c30133ae2d770abe15b">&#9670;&#160;</a></span>_fetch_lfw_pairs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.datasets._lfw._fetch_lfw_pairs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index_file_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data_folder_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>slice_</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>color</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resize</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Perform the actual data loading for the LFW pairs dataset

This operation is meant to be cached by a joblib wrapper.
</pre> <div class="fragment"><div class="line"><span class="lineno">  367</span>):</div>
<div class="line"><span class="lineno">  368</span>    <span class="stringliteral">&quot;&quot;&quot;Perform the actual data loading for the LFW pairs dataset</span></div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  370</span><span class="stringliteral">    This operation is meant to be cached by a joblib wrapper.</span></div>
<div class="line"><span class="lineno">  371</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  372</span>    <span class="comment"># parse the index file to find the number of pairs to be able to allocate</span></div>
<div class="line"><span class="lineno">  373</span>    <span class="comment"># the right amount of memory before starting to decode the jpeg files</span></div>
<div class="line"><span class="lineno">  374</span>    <span class="keyword">with</span> open(index_file_path, <span class="stringliteral">&quot;rb&quot;</span>) <span class="keyword">as</span> index_file:</div>
<div class="line"><span class="lineno">  375</span>        split_lines = [ln.decode().strip().split(<span class="stringliteral">&quot;\t&quot;</span>) <span class="keywordflow">for</span> ln <span class="keywordflow">in</span> index_file]</div>
<div class="line"><span class="lineno">  376</span>    pair_specs = [sl <span class="keywordflow">for</span> sl <span class="keywordflow">in</span> split_lines <span class="keywordflow">if</span> len(sl) &gt; 2]</div>
<div class="line"><span class="lineno">  377</span>    n_pairs = len(pair_specs)</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    <span class="comment"># iterating over the metadata lines for each pair to find the filename to</span></div>
<div class="line"><span class="lineno">  380</span>    <span class="comment"># decode and load in memory</span></div>
<div class="line"><span class="lineno">  381</span>    target = np.zeros(n_pairs, dtype=int)</div>
<div class="line"><span class="lineno">  382</span>    file_paths = list()</div>
<div class="line"><span class="lineno">  383</span>    <span class="keywordflow">for</span> i, components <span class="keywordflow">in</span> enumerate(pair_specs):</div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">if</span> len(components) == 3:</div>
<div class="line"><span class="lineno">  385</span>            target[i] = 1</div>
<div class="line"><span class="lineno">  386</span>            pair = (</div>
<div class="line"><span class="lineno">  387</span>                (components[0], int(components[1]) - 1),</div>
<div class="line"><span class="lineno">  388</span>                (components[0], int(components[2]) - 1),</div>
<div class="line"><span class="lineno">  389</span>            )</div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordflow">elif</span> len(components) == 4:</div>
<div class="line"><span class="lineno">  391</span>            target[i] = 0</div>
<div class="line"><span class="lineno">  392</span>            pair = (</div>
<div class="line"><span class="lineno">  393</span>                (components[0], int(components[1]) - 1),</div>
<div class="line"><span class="lineno">  394</span>                (components[2], int(components[3]) - 1),</div>
<div class="line"><span class="lineno">  395</span>            )</div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  397</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;invalid line %d: %r&quot;</span> % (i + 1, components))</div>
<div class="line"><span class="lineno">  398</span>        <span class="keywordflow">for</span> j, (name, idx) <span class="keywordflow">in</span> enumerate(pair):</div>
<div class="line"><span class="lineno">  399</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  400</span>                person_folder = join(data_folder_path, name)</div>
<div class="line"><span class="lineno">  401</span>            <span class="keywordflow">except</span> TypeError:</div>
<div class="line"><span class="lineno">  402</span>                person_folder = join(data_folder_path, str(name, <span class="stringliteral">&quot;UTF-8&quot;</span>))</div>
<div class="line"><span class="lineno">  403</span>            filenames = list(sorted(listdir(person_folder)))</div>
<div class="line"><span class="lineno">  404</span>            file_path = join(person_folder, filenames[idx])</div>
<div class="line"><span class="lineno">  405</span>            file_paths.append(file_path)</div>
<div class="line"><span class="lineno">  406</span> </div>
<div class="line"><span class="lineno">  407</span>    pairs = _load_imgs(file_paths, slice_, color, resize)</div>
<div class="line"><span class="lineno">  408</span>    shape = list(pairs.shape)</div>
<div class="line"><span class="lineno">  409</span>    n_faces = shape.pop(0)</div>
<div class="line"><span class="lineno">  410</span>    shape.insert(0, 2)</div>
<div class="line"><span class="lineno">  411</span>    shape.insert(0, n_faces // 2)</div>
<div class="line"><span class="lineno">  412</span>    pairs.shape = shape</div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>    <span class="keywordflow">return</span> pairs, target, np.array([<span class="stringliteral">&quot;Different persons&quot;</span>, <span class="stringliteral">&quot;Same person&quot;</span>])</div>
<div class="line"><span class="lineno">  415</span> </div>
<div class="line"><span class="lineno">  416</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ce7349598132aa64f593ef2f885fb97" name="a8ce7349598132aa64f593ef2f885fb97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ce7349598132aa64f593ef2f885fb97">&#9670;&#160;</a></span>_fetch_lfw_people()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.datasets._lfw._fetch_lfw_people </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data_folder_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>slice_</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>color</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resize</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_faces_per_person</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Perform the actual data loading for the lfw people dataset

This operation is meant to be cached by a joblib wrapper.
</pre> <div class="fragment"><div class="line"><span class="lineno">  193</span>):</div>
<div class="line"><span class="lineno">  194</span>    <span class="stringliteral">&quot;&quot;&quot;Perform the actual data loading for the lfw people dataset</span></div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">    This operation is meant to be cached by a joblib wrapper.</span></div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  198</span>    <span class="comment"># scan the data folder content to retain people with more that</span></div>
<div class="line"><span class="lineno">  199</span>    <span class="comment"># `min_faces_per_person` face pictures</span></div>
<div class="line"><span class="lineno">  200</span>    person_names, file_paths = [], []</div>
<div class="line"><span class="lineno">  201</span>    <span class="keywordflow">for</span> person_name <span class="keywordflow">in</span> sorted(listdir(data_folder_path)):</div>
<div class="line"><span class="lineno">  202</span>        folder_path = join(data_folder_path, person_name)</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isdir(folder_path):</div>
<div class="line"><span class="lineno">  204</span>            <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  205</span>        paths = [join(folder_path, f) <span class="keywordflow">for</span> f <span class="keywordflow">in</span> sorted(listdir(folder_path))]</div>
<div class="line"><span class="lineno">  206</span>        n_pictures = len(paths)</div>
<div class="line"><span class="lineno">  207</span>        <span class="keywordflow">if</span> n_pictures &gt;= min_faces_per_person:</div>
<div class="line"><span class="lineno">  208</span>            person_name = person_name.replace(<span class="stringliteral">&quot;_&quot;</span>, <span class="stringliteral">&quot; &quot;</span>)</div>
<div class="line"><span class="lineno">  209</span>            person_names.extend([person_name] * n_pictures)</div>
<div class="line"><span class="lineno">  210</span>            file_paths.extend(paths)</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>    n_faces = len(file_paths)</div>
<div class="line"><span class="lineno">  213</span>    <span class="keywordflow">if</span> n_faces == 0:</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  215</span>            <span class="stringliteral">&quot;min_faces_per_person=%d is too restrictive&quot;</span> % min_faces_per_person</div>
<div class="line"><span class="lineno">  216</span>        )</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>    target_names = np.unique(person_names)</div>
<div class="line"><span class="lineno">  219</span>    target = np.searchsorted(target_names, person_names)</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>    faces = _load_imgs(file_paths, slice_, color, resize)</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    <span class="comment"># shuffle the faces with a deterministic RNG scheme to avoid having</span></div>
<div class="line"><span class="lineno">  224</span>    <span class="comment"># all faces of the same person in a row, as it would break some</span></div>
<div class="line"><span class="lineno">  225</span>    <span class="comment"># cross validation and learning algorithms such as SGD and online</span></div>
<div class="line"><span class="lineno">  226</span>    <span class="comment"># k-means that make an IID assumption</span></div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>    indices = np.arange(n_faces)</div>
<div class="line"><span class="lineno">  229</span>    np.random.RandomState(42).shuffle(indices)</div>
<div class="line"><span class="lineno">  230</span>    faces, target = faces[indices], target[indices]</div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">return</span> faces, target, target_names</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afc34432605f80056dd02c692dee13f8a" name="afc34432605f80056dd02c692dee13f8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc34432605f80056dd02c692dee13f8a">&#9670;&#160;</a></span>_load_imgs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.datasets._lfw._load_imgs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_paths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>slice_</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>color</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Internally used to load images</pre> <div class="fragment"><div class="line"><span class="lineno">  117</span><span class="keyword">def </span>_load_imgs(file_paths, slice_, color, resize):</div>
<div class="line"><span class="lineno">  118</span>    <span class="stringliteral">&quot;&quot;&quot;Internally used to load images&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  120</span>        <span class="keyword">from</span> PIL <span class="keyword">import</span> Image</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">raise</span> ImportError(</div>
<div class="line"><span class="lineno">  123</span>            <span class="stringliteral">&quot;The Python Imaging Library (PIL) is required to load data &quot;</span></div>
<div class="line"><span class="lineno">  124</span>            <span class="stringliteral">&quot;from jpeg files. Please refer to &quot;</span></div>
<div class="line"><span class="lineno">  125</span>            <span class="stringliteral">&quot;https://pillow.readthedocs.io/en/stable/installation.html &quot;</span></div>
<div class="line"><span class="lineno">  126</span>            <span class="stringliteral">&quot;for installing PIL.&quot;</span></div>
<div class="line"><span class="lineno">  127</span>        )</div>
<div class="line"><span class="lineno">  128</span> </div>
<div class="line"><span class="lineno">  129</span>    <span class="comment"># compute the portion of the images to load to respect the slice_ parameter</span></div>
<div class="line"><span class="lineno">  130</span>    <span class="comment"># given by the caller</span></div>
<div class="line"><span class="lineno">  131</span>    default_slice = (slice(0, 250), slice(0, 250))</div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">if</span> slice_ <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  133</span>        slice_ = default_slice</div>
<div class="line"><span class="lineno">  134</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  135</span>        slice_ = tuple(s <span class="keywordflow">or</span> ds <span class="keywordflow">for</span> s, ds <span class="keywordflow">in</span> zip(slice_, default_slice))</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    h_slice, w_slice = slice_</div>
<div class="line"><span class="lineno">  138</span>    h = (h_slice.stop - h_slice.start) // (h_slice.step <span class="keywordflow">or</span> 1)</div>
<div class="line"><span class="lineno">  139</span>    w = (w_slice.stop - w_slice.start) // (w_slice.step <span class="keywordflow">or</span> 1)</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>    <span class="keywordflow">if</span> resize <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  142</span>        resize = float(resize)</div>
<div class="line"><span class="lineno">  143</span>        h = int(resize * h)</div>
<div class="line"><span class="lineno">  144</span>        w = int(resize * w)</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>    <span class="comment"># allocate some contiguous memory to host the decoded image slices</span></div>
<div class="line"><span class="lineno">  147</span>    n_faces = len(file_paths)</div>
<div class="line"><span class="lineno">  148</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> color:</div>
<div class="line"><span class="lineno">  149</span>        faces = np.zeros((n_faces, h, w), dtype=np.float32)</div>
<div class="line"><span class="lineno">  150</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  151</span>        faces = np.zeros((n_faces, h, w, 3), dtype=np.float32)</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>    <span class="comment"># iterate over the collected file path to load the jpeg files as numpy</span></div>
<div class="line"><span class="lineno">  154</span>    <span class="comment"># arrays</span></div>
<div class="line"><span class="lineno">  155</span>    <span class="keywordflow">for</span> i, file_path <span class="keywordflow">in</span> enumerate(file_paths):</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">if</span> i % 1000 == 0:</div>
<div class="line"><span class="lineno">  157</span>            logger.debug(<span class="stringliteral">&quot;Loading face #%05d / %05d&quot;</span>, i + 1, n_faces)</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>        <span class="comment"># Checks if jpeg reading worked. Refer to issue #3594 for more</span></div>
<div class="line"><span class="lineno">  160</span>        <span class="comment"># details.</span></div>
<div class="line"><span class="lineno">  161</span>        pil_img = Image.open(file_path)</div>
<div class="line"><span class="lineno">  162</span>        pil_img = pil_img.crop(</div>
<div class="line"><span class="lineno">  163</span>            (w_slice.start, h_slice.start, w_slice.stop, h_slice.stop)</div>
<div class="line"><span class="lineno">  164</span>        )</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">if</span> resize <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  166</span>            pil_img = pil_img.resize((w, h))</div>
<div class="line"><span class="lineno">  167</span>        face = np.asarray(pil_img, dtype=np.float32)</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>        <span class="keywordflow">if</span> face.ndim == 0:</div>
<div class="line"><span class="lineno">  170</span>            <span class="keywordflow">raise</span> RuntimeError(</div>
<div class="line"><span class="lineno">  171</span>                <span class="stringliteral">&quot;Failed to read the image file %s, &quot;</span></div>
<div class="line"><span class="lineno">  172</span>                <span class="stringliteral">&quot;Please make sure that libjpeg is installed&quot;</span> % file_path</div>
<div class="line"><span class="lineno">  173</span>            )</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>        face /= 255.0  <span class="comment"># scale uint8 coded colors to the [0.0, 1.0] floats</span></div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> color:</div>
<div class="line"><span class="lineno">  177</span>            <span class="comment"># average the color channels to compute a gray levels</span></div>
<div class="line"><span class="lineno">  178</span>            <span class="comment"># representation</span></div>
<div class="line"><span class="lineno">  179</span>            face = face.mean(axis=2)</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>        faces[i, ...] = face</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">return</span> faces</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span><span class="comment">#</span></div>
<div class="line"><span class="lineno">  187</span><span class="comment"># Task #1:  Face Identification on picture with names</span></div>
<div class="line"><span class="lineno">  188</span><span class="comment">#</span></div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f49d7d7730c2aecd4a3a7de5be52ba8" name="a9f49d7d7730c2aecd4a3a7de5be52ba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f49d7d7730c2aecd4a3a7de5be52ba8">&#9670;&#160;</a></span>fetch_lfw_pairs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.datasets._lfw.fetch_lfw_pairs </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>subset</em> = <code>&quot;train&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data_home</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>funneled</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resize</em> = <code>0.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>color</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>slice_</em> = <code>(slice(70,&#160;195),&#160;slice(78,&#160;172))</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>download_if_missing</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load the Labeled Faces in the Wild (LFW) pairs dataset (classification).

Download it if necessary.

=================   =======================
Classes                                   2
Samples total                         13233
Dimensionality                         5828
Features            real, between 0 and 255
=================   =======================

In the official `README.txt`_ this task is described as the
"Restricted" task.  As I am not sure as to implement the
"Unrestricted" variant correctly, I left it as unsupported for now.

  .. _`README.txt`: http://vis-www.cs.umass.edu/lfw/README.txt

The original images are 250 x 250 pixels, but the default slice and resize
arguments reduce them to 62 x 47.

Read more in the :ref:`User Guide &lt;labeled_faces_in_the_wild_dataset&gt;`.

Parameters
----------
subset : {'train', 'test', '10_folds'}, default='train'
    Select the dataset to load: 'train' for the development training
    set, 'test' for the development test set, and '10_folds' for the
    official evaluation set that is meant to be used with a 10-folds
    cross validation.

data_home : str, default=None
    Specify another download and cache folder for the datasets. By
    default all scikit-learn data is stored in '~/scikit_learn_data'
    subfolders.

funneled : bool, default=True
    Download and use the funneled variant of the dataset.

resize : float, default=0.5
    Ratio used to resize the each face picture.

color : bool, default=False
    Keep the 3 RGB channels instead of averaging them to a single
    gray level channel. If color is True the shape of the data has
    one more dimension than the shape with color = False.

slice_ : tuple of slice, default=(slice(70, 195), slice(78, 172))
    Provide a custom 2D slice (height, width) to extract the
    'interesting' part of the jpeg files and avoid use statistical
    correlation from the background.

download_if_missing : bool, default=True
    If False, raise a IOError if the data is not locally available
    instead of trying to download the data from the source site.

Returns
-------
data : :class:`~sklearn.utils.Bunch`
    Dictionary-like object, with the following attributes.

    data : ndarray of shape (2200, 5828). Shape depends on ``subset``.
        Each row corresponds to 2 ravel'd face images
        of original size 62 x 47 pixels.
        Changing the ``slice_``, ``resize`` or ``subset`` parameters
        will change the shape of the output.
    pairs : ndarray of shape (2200, 2, 62, 47). Shape depends on ``subset``
        Each row has 2 face images corresponding
        to same or different person from the dataset
        containing 5749 people. Changing the ``slice_``,
        ``resize`` or ``subset`` parameters will change the shape of the
        output.
    target : numpy array of shape (2200,). Shape depends on ``subset``.
        Labels associated to each pair of images.
        The two label values being different persons or the same person.
    target_names : numpy array of shape (2,)
        Explains the target values of the target array.
        0 corresponds to "Different person", 1 corresponds to "same person".
    DESCR : str
        Description of the Labeled Faces in the Wild (LFW) dataset.
</pre> <div class="fragment"><div class="line"><span class="lineno">  426</span>):</div>
<div class="line"><span class="lineno">  427</span>    <span class="stringliteral">&quot;&quot;&quot;Load the Labeled Faces in the Wild (LFW) pairs dataset (classification).</span></div>
<div class="line"><span class="lineno">  428</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  429</span><span class="stringliteral">    Download it if necessary.</span></div>
<div class="line"><span class="lineno">  430</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  431</span><span class="stringliteral">    =================   =======================</span></div>
<div class="line"><span class="lineno">  432</span><span class="stringliteral">    Classes                                   2</span></div>
<div class="line"><span class="lineno">  433</span><span class="stringliteral">    Samples total                         13233</span></div>
<div class="line"><span class="lineno">  434</span><span class="stringliteral">    Dimensionality                         5828</span></div>
<div class="line"><span class="lineno">  435</span><span class="stringliteral">    Features            real, between 0 and 255</span></div>
<div class="line"><span class="lineno">  436</span><span class="stringliteral">    =================   =======================</span></div>
<div class="line"><span class="lineno">  437</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  438</span><span class="stringliteral">    In the official `README.txt`_ this task is described as the</span></div>
<div class="line"><span class="lineno">  439</span><span class="stringliteral">    &quot;Restricted&quot; task.  As I am not sure as to implement the</span></div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral">    &quot;Unrestricted&quot; variant correctly, I left it as unsupported for now.</span></div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral">      .. _`README.txt`: http://vis-www.cs.umass.edu/lfw/README.txt</span></div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral">    The original images are 250 x 250 pixels, but the default slice and resize</span></div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral">    arguments reduce them to 62 x 47.</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">    Read more in the :ref:`User Guide &lt;labeled_faces_in_the_wild_dataset&gt;`.</span></div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">    subset : {&#39;train&#39;, &#39;test&#39;, &#39;10_folds&#39;}, default=&#39;train&#39;</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">        Select the dataset to load: &#39;train&#39; for the development training</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">        set, &#39;test&#39; for the development test set, and &#39;10_folds&#39; for the</span></div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral">        official evaluation set that is meant to be used with a 10-folds</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">        cross validation.</span></div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  457</span><span class="stringliteral">    data_home : str, default=None</span></div>
<div class="line"><span class="lineno">  458</span><span class="stringliteral">        Specify another download and cache folder for the datasets. By</span></div>
<div class="line"><span class="lineno">  459</span><span class="stringliteral">        default all scikit-learn data is stored in &#39;~/scikit_learn_data&#39;</span></div>
<div class="line"><span class="lineno">  460</span><span class="stringliteral">        subfolders.</span></div>
<div class="line"><span class="lineno">  461</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  462</span><span class="stringliteral">    funneled : bool, default=True</span></div>
<div class="line"><span class="lineno">  463</span><span class="stringliteral">        Download and use the funneled variant of the dataset.</span></div>
<div class="line"><span class="lineno">  464</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  465</span><span class="stringliteral">    resize : float, default=0.5</span></div>
<div class="line"><span class="lineno">  466</span><span class="stringliteral">        Ratio used to resize the each face picture.</span></div>
<div class="line"><span class="lineno">  467</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  468</span><span class="stringliteral">    color : bool, default=False</span></div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral">        Keep the 3 RGB channels instead of averaging them to a single</span></div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral">        gray level channel. If color is True the shape of the data has</span></div>
<div class="line"><span class="lineno">  471</span><span class="stringliteral">        one more dimension than the shape with color = False.</span></div>
<div class="line"><span class="lineno">  472</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  473</span><span class="stringliteral">    slice_ : tuple of slice, default=(slice(70, 195), slice(78, 172))</span></div>
<div class="line"><span class="lineno">  474</span><span class="stringliteral">        Provide a custom 2D slice (height, width) to extract the</span></div>
<div class="line"><span class="lineno">  475</span><span class="stringliteral">        &#39;interesting&#39; part of the jpeg files and avoid use statistical</span></div>
<div class="line"><span class="lineno">  476</span><span class="stringliteral">        correlation from the background.</span></div>
<div class="line"><span class="lineno">  477</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  478</span><span class="stringliteral">    download_if_missing : bool, default=True</span></div>
<div class="line"><span class="lineno">  479</span><span class="stringliteral">        If False, raise a IOError if the data is not locally available</span></div>
<div class="line"><span class="lineno">  480</span><span class="stringliteral">        instead of trying to download the data from the source site.</span></div>
<div class="line"><span class="lineno">  481</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  482</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  483</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  484</span><span class="stringliteral">    data : :class:`~sklearn.utils.Bunch`</span></div>
<div class="line"><span class="lineno">  485</span><span class="stringliteral">        Dictionary-like object, with the following attributes.</span></div>
<div class="line"><span class="lineno">  486</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  487</span><span class="stringliteral">        data : ndarray of shape (2200, 5828). Shape depends on ``subset``.</span></div>
<div class="line"><span class="lineno">  488</span><span class="stringliteral">            Each row corresponds to 2 ravel&#39;d face images</span></div>
<div class="line"><span class="lineno">  489</span><span class="stringliteral">            of original size 62 x 47 pixels.</span></div>
<div class="line"><span class="lineno">  490</span><span class="stringliteral">            Changing the ``slice_``, ``resize`` or ``subset`` parameters</span></div>
<div class="line"><span class="lineno">  491</span><span class="stringliteral">            will change the shape of the output.</span></div>
<div class="line"><span class="lineno">  492</span><span class="stringliteral">        pairs : ndarray of shape (2200, 2, 62, 47). Shape depends on ``subset``</span></div>
<div class="line"><span class="lineno">  493</span><span class="stringliteral">            Each row has 2 face images corresponding</span></div>
<div class="line"><span class="lineno">  494</span><span class="stringliteral">            to same or different person from the dataset</span></div>
<div class="line"><span class="lineno">  495</span><span class="stringliteral">            containing 5749 people. Changing the ``slice_``,</span></div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral">            ``resize`` or ``subset`` parameters will change the shape of the</span></div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral">            output.</span></div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">        target : numpy array of shape (2200,). Shape depends on ``subset``.</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral">            Labels associated to each pair of images.</span></div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral">            The two label values being different persons or the same person.</span></div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">        target_names : numpy array of shape (2,)</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">            Explains the target values of the target array.</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">            0 corresponds to &quot;Different person&quot;, 1 corresponds to &quot;same person&quot;.</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">        DESCR : str</span></div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral">            Description of the Labeled Faces in the Wild (LFW) dataset.</span></div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  507</span>    lfw_home, data_folder_path = _check_fetch_lfw(</div>
<div class="line"><span class="lineno">  508</span>        data_home=data_home, funneled=funneled, download_if_missing=download_if_missing</div>
<div class="line"><span class="lineno">  509</span>    )</div>
<div class="line"><span class="lineno">  510</span>    logger.debug(<span class="stringliteral">&quot;Loading %s LFW pairs from %s&quot;</span>, subset, lfw_home)</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>    <span class="comment"># wrap the loader in a memoizing function that will return memmaped data</span></div>
<div class="line"><span class="lineno">  513</span>    <span class="comment"># arrays for optimal memory usage</span></div>
<div class="line"><span class="lineno">  514</span>    m = Memory(location=lfw_home, compress=6, verbose=0)</div>
<div class="line"><span class="lineno">  515</span>    load_func = m.cache(_fetch_lfw_pairs)</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>    <span class="comment"># select the right metadata file according to the requested subset</span></div>
<div class="line"><span class="lineno">  518</span>    label_filenames = {</div>
<div class="line"><span class="lineno">  519</span>        <span class="stringliteral">&quot;train&quot;</span>: <span class="stringliteral">&quot;pairsDevTrain.txt&quot;</span>,</div>
<div class="line"><span class="lineno">  520</span>        <span class="stringliteral">&quot;test&quot;</span>: <span class="stringliteral">&quot;pairsDevTest.txt&quot;</span>,</div>
<div class="line"><span class="lineno">  521</span>        <span class="stringliteral">&quot;10_folds&quot;</span>: <span class="stringliteral">&quot;pairs.txt&quot;</span>,</div>
<div class="line"><span class="lineno">  522</span>    }</div>
<div class="line"><span class="lineno">  523</span>    <span class="keywordflow">if</span> subset <span class="keywordflow">not</span> <span class="keywordflow">in</span> label_filenames:</div>
<div class="line"><span class="lineno">  524</span>        <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno">  525</span>            <span class="stringliteral">&quot;subset=&#39;%s&#39; is invalid: should be one of %r&quot;</span></div>
<div class="line"><span class="lineno">  526</span>            % (subset, list(sorted(label_filenames.keys())))</div>
<div class="line"><span class="lineno">  527</span>        )</div>
<div class="line"><span class="lineno">  528</span>    index_file_path = join(lfw_home, label_filenames[subset])</div>
<div class="line"><span class="lineno">  529</span> </div>
<div class="line"><span class="lineno">  530</span>    <span class="comment"># load and memoize the pairs as np arrays</span></div>
<div class="line"><span class="lineno">  531</span>    pairs, target, target_names = load_func(</div>
<div class="line"><span class="lineno">  532</span>        index_file_path, data_folder_path, resize=resize, color=color, slice_=slice_</div>
<div class="line"><span class="lineno">  533</span>    )</div>
<div class="line"><span class="lineno">  534</span> </div>
<div class="line"><span class="lineno">  535</span>    fdescr = load_descr(<span class="stringliteral">&quot;lfw.rst&quot;</span>)</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>    <span class="comment"># pack the results as a Bunch instance</span></div>
<div class="line"><span class="lineno">  538</span>    <span class="keywordflow">return</span> Bunch(</div>
<div class="line"><span class="lineno">  539</span>        data=pairs.reshape(len(pairs), -1),</div>
<div class="line"><span class="lineno">  540</span>        pairs=pairs,</div>
<div class="line"><span class="lineno">  541</span>        target=target,</div>
<div class="line"><span class="lineno">  542</span>        target_names=target_names,</div>
<div class="line"><span class="lineno">  543</span>        DESCR=fdescr,</div>
<div class="line"><span class="lineno">  544</span>    )</div>
</div><!-- fragment -->
</div>
</div>
<a id="a81a7ee85f9807a408e51a9c699065e53" name="a81a7ee85f9807a408e51a9c699065e53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81a7ee85f9807a408e51a9c699065e53">&#9670;&#160;</a></span>fetch_lfw_people()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.datasets._lfw.fetch_lfw_people </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>data_home</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>funneled</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resize</em> = <code>0.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_faces_per_person</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>color</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>slice_</em> = <code>(slice(70,&#160;195),&#160;slice(78,&#160;172))</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>download_if_missing</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>return_X_y</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Load the Labeled Faces in the Wild (LFW) people dataset \
(classification).

Download it if necessary.

=================   =======================
Classes                                5749
Samples total                         13233
Dimensionality                         5828
Features            real, between 0 and 255
=================   =======================

Read more in the :ref:`User Guide &lt;labeled_faces_in_the_wild_dataset&gt;`.

Parameters
----------
data_home : str, default=None
    Specify another download and cache folder for the datasets. By default
    all scikit-learn data is stored in '~/scikit_learn_data' subfolders.

funneled : bool, default=True
    Download and use the funneled variant of the dataset.

resize : float or None, default=0.5
    Ratio used to resize the each face picture. If `None`, no resizing is
    performed.

min_faces_per_person : int, default=None
    The extracted dataset will only retain pictures of people that have at
    least `min_faces_per_person` different pictures.

color : bool, default=False
    Keep the 3 RGB channels instead of averaging them to a single
    gray level channel. If color is True the shape of the data has
    one more dimension than the shape with color = False.

slice_ : tuple of slice, default=(slice(70, 195), slice(78, 172))
    Provide a custom 2D slice (height, width) to extract the
    'interesting' part of the jpeg files and avoid use statistical
    correlation from the background.

download_if_missing : bool, default=True
    If False, raise a IOError if the data is not locally available
    instead of trying to download the data from the source site.

return_X_y : bool, default=False
    If True, returns ``(dataset.data, dataset.target)`` instead of a Bunch
    object. See below for more information about the `dataset.data` and
    `dataset.target` object.

    .. versionadded:: 0.20

Returns
-------
dataset : :class:`~sklearn.utils.Bunch`
    Dictionary-like object, with the following attributes.

    data : numpy array of shape (13233, 2914)
        Each row corresponds to a ravelled face image
        of original size 62 x 47 pixels.
        Changing the ``slice_`` or resize parameters will change the
        shape of the output.
    images : numpy array of shape (13233, 62, 47)
        Each row is a face image corresponding to one of the 5749 people in
        the dataset. Changing the ``slice_``
        or resize parameters will change the shape of the output.
    target : numpy array of shape (13233,)
        Labels associated to each face image.
        Those labels range from 0-5748 and correspond to the person IDs.
    target_names : numpy array of shape (5749,)
        Names of all persons in the dataset.
        Position in array corresponds to the person ID in the target array.
    DESCR : str
        Description of the Labeled Faces in the Wild (LFW) dataset.

(data, target) : tuple if ``return_X_y`` is True
    A tuple of two ndarray. The first containing a 2D array of
    shape (n_samples, n_features) with each row representing one
    sample and each column representing the features. The second
    ndarray of shape (n_samples,) containing the target samples.

    .. versionadded:: 0.20
</pre> <div class="fragment"><div class="line"><span class="lineno">  244</span>):</div>
<div class="line"><span class="lineno">  245</span>    <span class="stringliteral">&quot;&quot;&quot;Load the Labeled Faces in the Wild (LFW) people dataset \</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral">(classification).</span></div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">    Download it if necessary.</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral">    =================   =======================</span></div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">    Classes                                5749</span></div>
<div class="line"><span class="lineno">  252</span><span class="stringliteral">    Samples total                         13233</span></div>
<div class="line"><span class="lineno">  253</span><span class="stringliteral">    Dimensionality                         5828</span></div>
<div class="line"><span class="lineno">  254</span><span class="stringliteral">    Features            real, between 0 and 255</span></div>
<div class="line"><span class="lineno">  255</span><span class="stringliteral">    =================   =======================</span></div>
<div class="line"><span class="lineno">  256</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  257</span><span class="stringliteral">    Read more in the :ref:`User Guide &lt;labeled_faces_in_the_wild_dataset&gt;`.</span></div>
<div class="line"><span class="lineno">  258</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  259</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  260</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  261</span><span class="stringliteral">    data_home : str, default=None</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral">        Specify another download and cache folder for the datasets. By default</span></div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">        all scikit-learn data is stored in &#39;~/scikit_learn_data&#39; subfolders.</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">    funneled : bool, default=True</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral">        Download and use the funneled variant of the dataset.</span></div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral">    resize : float or None, default=0.5</span></div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral">        Ratio used to resize the each face picture. If `None`, no resizing is</span></div>
<div class="line"><span class="lineno">  270</span><span class="stringliteral">        performed.</span></div>
<div class="line"><span class="lineno">  271</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  272</span><span class="stringliteral">    min_faces_per_person : int, default=None</span></div>
<div class="line"><span class="lineno">  273</span><span class="stringliteral">        The extracted dataset will only retain pictures of people that have at</span></div>
<div class="line"><span class="lineno">  274</span><span class="stringliteral">        least `min_faces_per_person` different pictures.</span></div>
<div class="line"><span class="lineno">  275</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  276</span><span class="stringliteral">    color : bool, default=False</span></div>
<div class="line"><span class="lineno">  277</span><span class="stringliteral">        Keep the 3 RGB channels instead of averaging them to a single</span></div>
<div class="line"><span class="lineno">  278</span><span class="stringliteral">        gray level channel. If color is True the shape of the data has</span></div>
<div class="line"><span class="lineno">  279</span><span class="stringliteral">        one more dimension than the shape with color = False.</span></div>
<div class="line"><span class="lineno">  280</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  281</span><span class="stringliteral">    slice_ : tuple of slice, default=(slice(70, 195), slice(78, 172))</span></div>
<div class="line"><span class="lineno">  282</span><span class="stringliteral">        Provide a custom 2D slice (height, width) to extract the</span></div>
<div class="line"><span class="lineno">  283</span><span class="stringliteral">        &#39;interesting&#39; part of the jpeg files and avoid use statistical</span></div>
<div class="line"><span class="lineno">  284</span><span class="stringliteral">        correlation from the background.</span></div>
<div class="line"><span class="lineno">  285</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  286</span><span class="stringliteral">    download_if_missing : bool, default=True</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">        If False, raise a IOError if the data is not locally available</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral">        instead of trying to download the data from the source site.</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral">    return_X_y : bool, default=False</span></div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">        If True, returns ``(dataset.data, dataset.target)`` instead of a Bunch</span></div>
<div class="line"><span class="lineno">  292</span><span class="stringliteral">        object. See below for more information about the `dataset.data` and</span></div>
<div class="line"><span class="lineno">  293</span><span class="stringliteral">        `dataset.target` object.</span></div>
<div class="line"><span class="lineno">  294</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral">        .. versionadded:: 0.20</span></div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral">    dataset : :class:`~sklearn.utils.Bunch`</span></div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">        Dictionary-like object, with the following attributes.</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  302</span><span class="stringliteral">        data : numpy array of shape (13233, 2914)</span></div>
<div class="line"><span class="lineno">  303</span><span class="stringliteral">            Each row corresponds to a ravelled face image</span></div>
<div class="line"><span class="lineno">  304</span><span class="stringliteral">            of original size 62 x 47 pixels.</span></div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">            Changing the ``slice_`` or resize parameters will change the</span></div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral">            shape of the output.</span></div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral">        images : numpy array of shape (13233, 62, 47)</span></div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">            Each row is a face image corresponding to one of the 5749 people in</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral">            the dataset. Changing the ``slice_``</span></div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">            or resize parameters will change the shape of the output.</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral">        target : numpy array of shape (13233,)</span></div>
<div class="line"><span class="lineno">  312</span><span class="stringliteral">            Labels associated to each face image.</span></div>
<div class="line"><span class="lineno">  313</span><span class="stringliteral">            Those labels range from 0-5748 and correspond to the person IDs.</span></div>
<div class="line"><span class="lineno">  314</span><span class="stringliteral">        target_names : numpy array of shape (5749,)</span></div>
<div class="line"><span class="lineno">  315</span><span class="stringliteral">            Names of all persons in the dataset.</span></div>
<div class="line"><span class="lineno">  316</span><span class="stringliteral">            Position in array corresponds to the person ID in the target array.</span></div>
<div class="line"><span class="lineno">  317</span><span class="stringliteral">        DESCR : str</span></div>
<div class="line"><span class="lineno">  318</span><span class="stringliteral">            Description of the Labeled Faces in the Wild (LFW) dataset.</span></div>
<div class="line"><span class="lineno">  319</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  320</span><span class="stringliteral">    (data, target) : tuple if ``return_X_y`` is True</span></div>
<div class="line"><span class="lineno">  321</span><span class="stringliteral">        A tuple of two ndarray. The first containing a 2D array of</span></div>
<div class="line"><span class="lineno">  322</span><span class="stringliteral">        shape (n_samples, n_features) with each row representing one</span></div>
<div class="line"><span class="lineno">  323</span><span class="stringliteral">        sample and each column representing the features. The second</span></div>
<div class="line"><span class="lineno">  324</span><span class="stringliteral">        ndarray of shape (n_samples,) containing the target samples.</span></div>
<div class="line"><span class="lineno">  325</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  326</span><span class="stringliteral">        .. versionadded:: 0.20</span></div>
<div class="line"><span class="lineno">  327</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  328</span>    lfw_home, data_folder_path = _check_fetch_lfw(</div>
<div class="line"><span class="lineno">  329</span>        data_home=data_home, funneled=funneled, download_if_missing=download_if_missing</div>
<div class="line"><span class="lineno">  330</span>    )</div>
<div class="line"><span class="lineno">  331</span>    logger.debug(<span class="stringliteral">&quot;Loading LFW people faces from %s&quot;</span>, lfw_home)</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>    <span class="comment"># wrap the loader in a memoizing function that will return memmaped data</span></div>
<div class="line"><span class="lineno">  334</span>    <span class="comment"># arrays for optimal memory usage</span></div>
<div class="line"><span class="lineno">  335</span>    m = Memory(location=lfw_home, compress=6, verbose=0)</div>
<div class="line"><span class="lineno">  336</span>    load_func = m.cache(_fetch_lfw_people)</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>    <span class="comment"># load and memoize the pairs as np arrays</span></div>
<div class="line"><span class="lineno">  339</span>    faces, target, target_names = load_func(</div>
<div class="line"><span class="lineno">  340</span>        data_folder_path,</div>
<div class="line"><span class="lineno">  341</span>        resize=resize,</div>
<div class="line"><span class="lineno">  342</span>        min_faces_per_person=min_faces_per_person,</div>
<div class="line"><span class="lineno">  343</span>        color=color,</div>
<div class="line"><span class="lineno">  344</span>        slice_=slice_,</div>
<div class="line"><span class="lineno">  345</span>    )</div>
<div class="line"><span class="lineno">  346</span> </div>
<div class="line"><span class="lineno">  347</span>    X = faces.reshape(len(faces), -1)</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>    fdescr = load_descr(<span class="stringliteral">&quot;lfw.rst&quot;</span>)</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordflow">if</span> return_X_y:</div>
<div class="line"><span class="lineno">  352</span>        <span class="keywordflow">return</span> X, target</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>    <span class="comment"># pack the results as a Bunch instance</span></div>
<div class="line"><span class="lineno">  355</span>    <span class="keywordflow">return</span> Bunch(</div>
<div class="line"><span class="lineno">  356</span>        data=X, images=faces, target=target, target_names=target_names, DESCR=fdescr</div>
<div class="line"><span class="lineno">  357</span>    )</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span><span class="comment">#</span></div>
<div class="line"><span class="lineno">  361</span><span class="comment"># Task #2:  Face Verification on pairs of face pictures</span></div>
<div class="line"><span class="lineno">  362</span><span class="comment">#</span></div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="aed7ce2a54e808cd94a3780b9dd26416d" name="aed7ce2a54e808cd94a3780b9dd26416d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed7ce2a54e808cd94a3780b9dd26416d">&#9670;&#160;</a></span>ARCHIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.datasets._lfw.ARCHIVE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  RemoteFileMetadata(</div>
<div class="line"><span class="lineno">    2</span>    filename=<span class="stringliteral">&quot;lfw.tgz&quot;</span>,</div>
<div class="line"><span class="lineno">    3</span>    url=<span class="stringliteral">&quot;https://ndownloader.figshare.com/files/5976018&quot;</span>,</div>
<div class="line"><span class="lineno">    4</span>    checksum=<span class="stringliteral">&quot;055f7d9c632d7370e6fb4afc7468d40f970c34a80d4c6f50ffec63f5a8d536c0&quot;</span>,</div>
<div class="line"><span class="lineno">    5</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a11d96a4411ecc8940d1574c9fe10e19f" name="a11d96a4411ecc8940d1574c9fe10e19f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11d96a4411ecc8940d1574c9fe10e19f">&#9670;&#160;</a></span>FUNNELED_ARCHIVE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.datasets._lfw.FUNNELED_ARCHIVE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  RemoteFileMetadata(</div>
<div class="line"><span class="lineno">    2</span>    filename=<span class="stringliteral">&quot;lfw-funneled.tgz&quot;</span>,</div>
<div class="line"><span class="lineno">    3</span>    url=<span class="stringliteral">&quot;https://ndownloader.figshare.com/files/5976015&quot;</span>,</div>
<div class="line"><span class="lineno">    4</span>    checksum=<span class="stringliteral">&quot;b47c8422c8cded889dc5a13418c4bc2abbda121092b3533a83306f90d900100a&quot;</span>,</div>
<div class="line"><span class="lineno">    5</span>)</div>
</div><!-- fragment -->
</div>
</div>
<a id="af1731ed2aeffc0999c57b23547f31f36" name="af1731ed2aeffc0999c57b23547f31f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1731ed2aeffc0999c57b23547f31f36">&#9670;&#160;</a></span>logger</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.datasets._lfw.logger = logging.getLogger(__name__)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a68059b81c1852fbc2f6e000b739c84cd" name="a68059b81c1852fbc2f6e000b739c84cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68059b81c1852fbc2f6e000b739c84cd">&#9670;&#160;</a></span>TARGETS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple sklearn.datasets._lfw.TARGETS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  (</div>
<div class="line"><span class="lineno">    2</span>    RemoteFileMetadata(</div>
<div class="line"><span class="lineno">    3</span>        filename=<span class="stringliteral">&quot;pairsDevTrain.txt&quot;</span>,</div>
<div class="line"><span class="lineno">    4</span>        url=<span class="stringliteral">&quot;https://ndownloader.figshare.com/files/5976012&quot;</span>,</div>
<div class="line"><span class="lineno">    5</span>        checksum=<span class="stringliteral">&quot;1d454dada7dfeca0e7eab6f65dc4e97a6312d44cf142207be28d688be92aabfa&quot;</span>,</div>
<div class="line"><span class="lineno">    6</span>    ),</div>
<div class="line"><span class="lineno">    7</span>    RemoteFileMetadata(</div>
<div class="line"><span class="lineno">    8</span>        filename=<span class="stringliteral">&quot;pairsDevTest.txt&quot;</span>,</div>
<div class="line"><span class="lineno">    9</span>        url=<span class="stringliteral">&quot;https://ndownloader.figshare.com/files/5976009&quot;</span>,</div>
<div class="line"><span class="lineno">   10</span>        checksum=<span class="stringliteral">&quot;7cb06600ea8b2814ac26e946201cdb304296262aad67d046a16a7ec85d0ff87c&quot;</span>,</div>
<div class="line"><span class="lineno">   11</span>    ),</div>
<div class="line"><span class="lineno">   12</span>    RemoteFileMetadata(</div>
<div class="line"><span class="lineno">   13</span>        filename=<span class="stringliteral">&quot;pairs.txt&quot;</span>,</div>
<div class="line"><span class="lineno">   14</span>        url=<span class="stringliteral">&quot;https://ndownloader.figshare.com/files/5976006&quot;</span>,</div>
<div class="line"><span class="lineno">   15</span>        checksum=<span class="stringliteral">&quot;ea42330c62c92989f9d7c03237ed5d591365e89b3e649747777b70e692dc1592&quot;</span>,</div>
<div class="line"><span class="lineno">   16</span>    ),</div>
<div class="line"><span class="lineno">   17</span>)</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
