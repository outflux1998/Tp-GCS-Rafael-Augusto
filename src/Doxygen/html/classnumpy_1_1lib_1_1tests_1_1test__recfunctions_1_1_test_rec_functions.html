<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: numpy.lib.tests.test_recfunctions.TestRecFunctions Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenumpy.html">numpy</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1lib.html">lib</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1lib_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1lib_1_1tests_1_1test__recfunctions.html">test_recfunctions</a></li><li class="navelem"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html">TestRecFunctions</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">numpy.lib.tests.test_recfunctions.TestRecFunctions Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3cbd459f62f98b109e80dec619b6bce0" id="r_a3cbd459f62f98b109e80dec619b6bce0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#a3cbd459f62f98b109e80dec619b6bce0">setup_method</a> (self)</td></tr>
<tr class="separator:a3cbd459f62f98b109e80dec619b6bce0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a316a4de0bd4a77e953f8f5f4f730d173" id="r_a316a4de0bd4a77e953f8f5f4f730d173"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#a316a4de0bd4a77e953f8f5f4f730d173">test_zip_descr</a> (self)</td></tr>
<tr class="separator:a316a4de0bd4a77e953f8f5f4f730d173"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71b800212c0c89a74f0d22b75862908c" id="r_a71b800212c0c89a74f0d22b75862908c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#a71b800212c0c89a74f0d22b75862908c">test_drop_fields</a> (self)</td></tr>
<tr class="separator:a71b800212c0c89a74f0d22b75862908c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e2869c8a3cbac9f3d21acf18e6b6905" id="r_a3e2869c8a3cbac9f3d21acf18e6b6905"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#a3e2869c8a3cbac9f3d21acf18e6b6905">test_rename_fields</a> (self)</td></tr>
<tr class="separator:a3e2869c8a3cbac9f3d21acf18e6b6905"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf36edcac05d9316eb8d688e143eb4f3" id="r_abf36edcac05d9316eb8d688e143eb4f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#abf36edcac05d9316eb8d688e143eb4f3">test_get_names</a> (self)</td></tr>
<tr class="separator:abf36edcac05d9316eb8d688e143eb4f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6f6a2893ced94aa45eaaacd629e00ef" id="r_af6f6a2893ced94aa45eaaacd629e00ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#af6f6a2893ced94aa45eaaacd629e00ef">test_get_names_flat</a> (self)</td></tr>
<tr class="separator:af6f6a2893ced94aa45eaaacd629e00ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1bf6d3f0f766bae86d8548da44194f9" id="r_ab1bf6d3f0f766bae86d8548da44194f9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#ab1bf6d3f0f766bae86d8548da44194f9">test_get_fieldstructure</a> (self)</td></tr>
<tr class="separator:ab1bf6d3f0f766bae86d8548da44194f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae88122b262a15167df186e8caebc5b58" id="r_ae88122b262a15167df186e8caebc5b58"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#ae88122b262a15167df186e8caebc5b58">test_find_duplicates</a> (self)</td></tr>
<tr class="separator:ae88122b262a15167df186e8caebc5b58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5545f6b6d1e9dc24e1bc08db81b73203" id="r_a5545f6b6d1e9dc24e1bc08db81b73203"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#a5545f6b6d1e9dc24e1bc08db81b73203">test_find_duplicates_ignoremask</a> (self)</td></tr>
<tr class="separator:a5545f6b6d1e9dc24e1bc08db81b73203"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa52a6571ee38d4beb90d49165a7b509" id="r_aaa52a6571ee38d4beb90d49165a7b509"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#aaa52a6571ee38d4beb90d49165a7b509">test_repack_fields</a> (self)</td></tr>
<tr class="separator:aaa52a6571ee38d4beb90d49165a7b509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc1fb93db8a994dcf9d5a4e7e6a24a12" id="r_adc1fb93db8a994dcf9d5a4e7e6a24a12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#adc1fb93db8a994dcf9d5a4e7e6a24a12">test_structured_to_unstructured</a> (self)</td></tr>
<tr class="separator:adc1fb93db8a994dcf9d5a4e7e6a24a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5ac19617cc53530ef70383a6829e2b3" id="r_ad5ac19617cc53530ef70383a6829e2b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#ad5ac19617cc53530ef70383a6829e2b3">test_unstructured_to_structured</a> (self)</td></tr>
<tr class="separator:ad5ac19617cc53530ef70383a6829e2b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6190bd17d5909920b82b158f5112aec1" id="r_a6190bd17d5909920b82b158f5112aec1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#a6190bd17d5909920b82b158f5112aec1">test_field_assignment_by_name</a> (self)</td></tr>
<tr class="separator:a6190bd17d5909920b82b158f5112aec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aa66f1bd2a6349b83b0bf6d54ab5cd714" id="r_aa66f1bd2a6349b83b0bf6d54ab5cd714"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1lib_1_1tests_1_1test__recfunctions_1_1_test_rec_functions.html#aa66f1bd2a6349b83b0bf6d54ab5cd714">data</a></td></tr>
<tr class="separator:aa66f1bd2a6349b83b0bf6d54ab5cd714"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3cbd459f62f98b109e80dec619b6bce0" name="a3cbd459f62f98b109e80dec619b6bce0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cbd459f62f98b109e80dec619b6bce0">&#9670;&#160;</a></span>setup_method()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.setup_method </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   23</span>    <span class="keyword">def </span>setup_method(self):</div>
<div class="line"><span class="lineno">   24</span>        x = np.array([1, 2, ])</div>
<div class="line"><span class="lineno">   25</span>        y = np.array([10, 20, 30])</div>
<div class="line"><span class="lineno">   26</span>        z = np.array([(<span class="stringliteral">&#39;A&#39;</span>, 1.), (<span class="stringliteral">&#39;B&#39;</span>, 2.)],</div>
<div class="line"><span class="lineno">   27</span>                     dtype=[(<span class="stringliteral">&#39;A&#39;</span>, <span class="stringliteral">&#39;|S3&#39;</span>), (<span class="stringliteral">&#39;B&#39;</span>, float)])</div>
<div class="line"><span class="lineno">   28</span>        w = np.array([(1, (2, 3.0)), (4, (5, 6.0))],</div>
<div class="line"><span class="lineno">   29</span>                     dtype=[(<span class="stringliteral">&#39;a&#39;</span>, int), (<span class="stringliteral">&#39;b&#39;</span>, [(<span class="stringliteral">&#39;ba&#39;</span>, float), (<span class="stringliteral">&#39;bb&#39;</span>, int)])])</div>
<div class="line"><span class="lineno">   30</span>        self.data = (w, x, y, z)</div>
<div class="line"><span class="lineno">   31</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a71b800212c0c89a74f0d22b75862908c" name="a71b800212c0c89a74f0d22b75862908c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71b800212c0c89a74f0d22b75862908c">&#9670;&#160;</a></span>test_drop_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_drop_fields </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   65</span>    <span class="keyword">def </span>test_drop_fields(self):</div>
<div class="line"><span class="lineno">   66</span>        <span class="comment"># Test drop_fields</span></div>
<div class="line"><span class="lineno">   67</span>        a = np.array([(1, (2, 3.0)), (4, (5, 6.0))],</div>
<div class="line"><span class="lineno">   68</span>                     dtype=[(<span class="stringliteral">&#39;a&#39;</span>, int), (<span class="stringliteral">&#39;b&#39;</span>, [(<span class="stringliteral">&#39;ba&#39;</span>, float), (<span class="stringliteral">&#39;bb&#39;</span>, int)])])</div>
<div class="line"><span class="lineno">   69</span> </div>
<div class="line"><span class="lineno">   70</span>        <span class="comment"># A basic field</span></div>
<div class="line"><span class="lineno">   71</span>        test = drop_fields(a, <span class="stringliteral">&#39;a&#39;</span>)</div>
<div class="line"><span class="lineno">   72</span>        control = np.array([((2, 3.0),), ((5, 6.0),)],</div>
<div class="line"><span class="lineno">   73</span>                           dtype=[(<span class="stringliteral">&#39;b&#39;</span>, [(<span class="stringliteral">&#39;ba&#39;</span>, float), (<span class="stringliteral">&#39;bb&#39;</span>, int)])])</div>
<div class="line"><span class="lineno">   74</span>        assert_equal(test, control)</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span>        <span class="comment"># Another basic field (but nesting two fields)</span></div>
<div class="line"><span class="lineno">   77</span>        test = drop_fields(a, <span class="stringliteral">&#39;b&#39;</span>)</div>
<div class="line"><span class="lineno">   78</span>        control = np.array([(1,), (4,)], dtype=[(<span class="stringliteral">&#39;a&#39;</span>, int)])</div>
<div class="line"><span class="lineno">   79</span>        assert_equal(test, control)</div>
<div class="line"><span class="lineno">   80</span> </div>
<div class="line"><span class="lineno">   81</span>        <span class="comment"># A nested sub-field</span></div>
<div class="line"><span class="lineno">   82</span>        test = drop_fields(a, [<span class="stringliteral">&#39;ba&#39;</span>, ])</div>
<div class="line"><span class="lineno">   83</span>        control = np.array([(1, (3.0,)), (4, (6.0,))],</div>
<div class="line"><span class="lineno">   84</span>                           dtype=[(<span class="stringliteral">&#39;a&#39;</span>, int), (<span class="stringliteral">&#39;b&#39;</span>, [(<span class="stringliteral">&#39;bb&#39;</span>, int)])])</div>
<div class="line"><span class="lineno">   85</span>        assert_equal(test, control)</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>        <span class="comment"># All the nested sub-field from a field: zap that field</span></div>
<div class="line"><span class="lineno">   88</span>        test = drop_fields(a, [<span class="stringliteral">&#39;ba&#39;</span>, <span class="stringliteral">&#39;bb&#39;</span>])</div>
<div class="line"><span class="lineno">   89</span>        control = np.array([(1,), (4,)], dtype=[(<span class="stringliteral">&#39;a&#39;</span>, int)])</div>
<div class="line"><span class="lineno">   90</span>        assert_equal(test, control)</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>        <span class="comment"># dropping all fields results in an array with no fields</span></div>
<div class="line"><span class="lineno">   93</span>        test = drop_fields(a, [<span class="stringliteral">&#39;a&#39;</span>, <span class="stringliteral">&#39;b&#39;</span>])</div>
<div class="line"><span class="lineno">   94</span>        control = np.array([(), ()], dtype=[])</div>
<div class="line"><span class="lineno">   95</span>        assert_equal(test, control)</div>
<div class="line"><span class="lineno">   96</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6190bd17d5909920b82b158f5112aec1" name="a6190bd17d5909920b82b158f5112aec1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6190bd17d5909920b82b158f5112aec1">&#9670;&#160;</a></span>test_field_assignment_by_name()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_field_assignment_by_name </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  330</span>    <span class="keyword">def </span>test_field_assignment_by_name(self):</div>
<div class="line"><span class="lineno">  331</span>        a = np.ones(2, dtype=[(<span class="stringliteral">&#39;a&#39;</span>, <span class="stringliteral">&#39;i4&#39;</span>), (<span class="stringliteral">&#39;b&#39;</span>, <span class="stringliteral">&#39;f8&#39;</span>), (<span class="stringliteral">&#39;c&#39;</span>, <span class="stringliteral">&#39;u1&#39;</span>)])</div>
<div class="line"><span class="lineno">  332</span>        newdt = [(<span class="stringliteral">&#39;b&#39;</span>, <span class="stringliteral">&#39;f4&#39;</span>), (<span class="stringliteral">&#39;c&#39;</span>, <span class="stringliteral">&#39;u1&#39;</span>)]</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>        assert_equal(require_fields(a, newdt), np.ones(2, newdt))</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>        b = np.array([(1,2), (3,4)], dtype=newdt)</div>
<div class="line"><span class="lineno">  337</span>        assign_fields_by_name(a, b, zero_unassigned=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  338</span>        assert_equal(a, np.array([(1,1,2),(1,3,4)], dtype=a.dtype))</div>
<div class="line"><span class="lineno">  339</span>        assign_fields_by_name(a, b)</div>
<div class="line"><span class="lineno">  340</span>        assert_equal(a, np.array([(0,1,2),(0,3,4)], dtype=a.dtype))</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>        <span class="comment"># test nested fields</span></div>
<div class="line"><span class="lineno">  343</span>        a = np.ones(2, dtype=[(<span class="stringliteral">&#39;a&#39;</span>, [(<span class="stringliteral">&#39;b&#39;</span>, <span class="stringliteral">&#39;f8&#39;</span>), (<span class="stringliteral">&#39;c&#39;</span>, <span class="stringliteral">&#39;u1&#39;</span>)])])</div>
<div class="line"><span class="lineno">  344</span>        newdt = [(<span class="stringliteral">&#39;a&#39;</span>, [(<span class="stringliteral">&#39;c&#39;</span>, <span class="stringliteral">&#39;u1&#39;</span>)])]</div>
<div class="line"><span class="lineno">  345</span>        assert_equal(require_fields(a, newdt), np.ones(2, newdt))</div>
<div class="line"><span class="lineno">  346</span>        b = np.array([((2,),), ((3,),)], dtype=newdt)</div>
<div class="line"><span class="lineno">  347</span>        assign_fields_by_name(a, b, zero_unassigned=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  348</span>        assert_equal(a, np.array([((1,2),), ((1,3),)], dtype=a.dtype))</div>
<div class="line"><span class="lineno">  349</span>        assign_fields_by_name(a, b)</div>
<div class="line"><span class="lineno">  350</span>        assert_equal(a, np.array([((0,2),), ((0,3),)], dtype=a.dtype))</div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>        <span class="comment"># test unstructured code path for 0d arrays</span></div>
<div class="line"><span class="lineno">  353</span>        a, b = np.array(3), np.array(0)</div>
<div class="line"><span class="lineno">  354</span>        assign_fields_by_name(b, a)</div>
<div class="line"><span class="lineno">  355</span>        assert_equal(b[()], 3)</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae88122b262a15167df186e8caebc5b58" name="ae88122b262a15167df186e8caebc5b58"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae88122b262a15167df186e8caebc5b58">&#9670;&#160;</a></span>test_find_duplicates()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_find_duplicates </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  171</span>    <span class="keyword">def </span>test_find_duplicates(self):</div>
<div class="line"><span class="lineno">  172</span>        <span class="comment"># Test find_duplicates</span></div>
<div class="line"><span class="lineno">  173</span>        a = ma.array([(2, (2., <span class="stringliteral">&#39;B&#39;</span>)), (1, (2., <span class="stringliteral">&#39;B&#39;</span>)), (2, (2., <span class="stringliteral">&#39;B&#39;</span>)),</div>
<div class="line"><span class="lineno">  174</span>                      (1, (1., <span class="stringliteral">&#39;B&#39;</span>)), (2, (2., <span class="stringliteral">&#39;B&#39;</span>)), (2, (2., <span class="stringliteral">&#39;C&#39;</span>))],</div>
<div class="line"><span class="lineno">  175</span>                     mask=[(0, (0, 0)), (0, (0, 0)), (0, (0, 0)),</div>
<div class="line"><span class="lineno">  176</span>                           (0, (0, 0)), (1, (0, 0)), (0, (1, 0))],</div>
<div class="line"><span class="lineno">  177</span>                     dtype=[(<span class="stringliteral">&#39;A&#39;</span>, int), (<span class="stringliteral">&#39;B&#39;</span>, [(<span class="stringliteral">&#39;BA&#39;</span>, float), (<span class="stringliteral">&#39;BB&#39;</span>, <span class="stringliteral">&#39;|S1&#39;</span>)])])</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>        test = find_duplicates(a, ignoremask=<span class="keyword">False</span>, return_index=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  180</span>        control = [0, 2]</div>
<div class="line"><span class="lineno">  181</span>        assert_equal(sorted(test[-1]), control)</div>
<div class="line"><span class="lineno">  182</span>        assert_equal(test[0], a[test[-1]])</div>
<div class="line"><span class="lineno">  183</span> </div>
<div class="line"><span class="lineno">  184</span>        test = find_duplicates(a, key=<span class="stringliteral">&#39;A&#39;</span>, return_index=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  185</span>        control = [0, 1, 2, 3, 5]</div>
<div class="line"><span class="lineno">  186</span>        assert_equal(sorted(test[-1]), control)</div>
<div class="line"><span class="lineno">  187</span>        assert_equal(test[0], a[test[-1]])</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span>        test = find_duplicates(a, key=<span class="stringliteral">&#39;B&#39;</span>, return_index=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  190</span>        control = [0, 1, 2, 4]</div>
<div class="line"><span class="lineno">  191</span>        assert_equal(sorted(test[-1]), control)</div>
<div class="line"><span class="lineno">  192</span>        assert_equal(test[0], a[test[-1]])</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>        test = find_duplicates(a, key=<span class="stringliteral">&#39;BA&#39;</span>, return_index=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  195</span>        control = [0, 1, 2, 4]</div>
<div class="line"><span class="lineno">  196</span>        assert_equal(sorted(test[-1]), control)</div>
<div class="line"><span class="lineno">  197</span>        assert_equal(test[0], a[test[-1]])</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>        test = find_duplicates(a, key=<span class="stringliteral">&#39;BB&#39;</span>, return_index=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  200</span>        control = [0, 1, 2, 3, 4]</div>
<div class="line"><span class="lineno">  201</span>        assert_equal(sorted(test[-1]), control)</div>
<div class="line"><span class="lineno">  202</span>        assert_equal(test[0], a[test[-1]])</div>
<div class="line"><span class="lineno">  203</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5545f6b6d1e9dc24e1bc08db81b73203" name="a5545f6b6d1e9dc24e1bc08db81b73203"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5545f6b6d1e9dc24e1bc08db81b73203">&#9670;&#160;</a></span>test_find_duplicates_ignoremask()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_find_duplicates_ignoremask </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  204</span>    <span class="keyword">def </span>test_find_duplicates_ignoremask(self):</div>
<div class="line"><span class="lineno">  205</span>        <span class="comment"># Test the ignoremask option of find_duplicates</span></div>
<div class="line"><span class="lineno">  206</span>        ndtype = [(<span class="stringliteral">&#39;a&#39;</span>, int)]</div>
<div class="line"><span class="lineno">  207</span>        a = ma.array([1, 1, 1, 2, 2, 3, 3],</div>
<div class="line"><span class="lineno">  208</span>                     mask=[0, 0, 1, 0, 0, 0, 1]).view(ndtype)</div>
<div class="line"><span class="lineno">  209</span>        test = find_duplicates(a, ignoremask=<span class="keyword">True</span>, return_index=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  210</span>        control = [0, 1, 3, 4]</div>
<div class="line"><span class="lineno">  211</span>        assert_equal(sorted(test[-1]), control)</div>
<div class="line"><span class="lineno">  212</span>        assert_equal(test[0], a[test[-1]])</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        test = find_duplicates(a, ignoremask=<span class="keyword">False</span>, return_index=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  215</span>        control = [0, 1, 2, 3, 4, 6]</div>
<div class="line"><span class="lineno">  216</span>        assert_equal(sorted(test[-1]), control)</div>
<div class="line"><span class="lineno">  217</span>        assert_equal(test[0], a[test[-1]])</div>
<div class="line"><span class="lineno">  218</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab1bf6d3f0f766bae86d8548da44194f9" name="ab1bf6d3f0f766bae86d8548da44194f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1bf6d3f0f766bae86d8548da44194f9">&#9670;&#160;</a></span>test_get_fieldstructure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_get_fieldstructure </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  144</span>    <span class="keyword">def </span>test_get_fieldstructure(self):</div>
<div class="line"><span class="lineno">  145</span>        <span class="comment"># Test get_fieldstructure</span></div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span>        <span class="comment"># No nested fields</span></div>
<div class="line"><span class="lineno">  148</span>        ndtype = np.dtype([(<span class="stringliteral">&#39;A&#39;</span>, <span class="stringliteral">&#39;|S3&#39;</span>), (<span class="stringliteral">&#39;B&#39;</span>, float)])</div>
<div class="line"><span class="lineno">  149</span>        test = get_fieldstructure(ndtype)</div>
<div class="line"><span class="lineno">  150</span>        assert_equal(test, {<span class="stringliteral">&#39;A&#39;</span>: [], <span class="stringliteral">&#39;B&#39;</span>: []})</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>        <span class="comment"># One 1-nested field</span></div>
<div class="line"><span class="lineno">  153</span>        ndtype = np.dtype([(<span class="stringliteral">&#39;A&#39;</span>, int), (<span class="stringliteral">&#39;B&#39;</span>, [(<span class="stringliteral">&#39;BA&#39;</span>, float), (<span class="stringliteral">&#39;BB&#39;</span>, <span class="stringliteral">&#39;|S1&#39;</span>)])])</div>
<div class="line"><span class="lineno">  154</span>        test = get_fieldstructure(ndtype)</div>
<div class="line"><span class="lineno">  155</span>        assert_equal(test, {<span class="stringliteral">&#39;A&#39;</span>: [], <span class="stringliteral">&#39;B&#39;</span>: [], <span class="stringliteral">&#39;BA&#39;</span>: [<span class="stringliteral">&#39;B&#39;</span>, ], <span class="stringliteral">&#39;BB&#39;</span>: [<span class="stringliteral">&#39;B&#39;</span>]})</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>        <span class="comment"># One 2-nested fields</span></div>
<div class="line"><span class="lineno">  158</span>        ndtype = np.dtype([(<span class="stringliteral">&#39;A&#39;</span>, int),</div>
<div class="line"><span class="lineno">  159</span>                           (<span class="stringliteral">&#39;B&#39;</span>, [(<span class="stringliteral">&#39;BA&#39;</span>, int),</div>
<div class="line"><span class="lineno">  160</span>                                  (<span class="stringliteral">&#39;BB&#39;</span>, [(<span class="stringliteral">&#39;BBA&#39;</span>, int), (<span class="stringliteral">&#39;BBB&#39;</span>, int)])])])</div>
<div class="line"><span class="lineno">  161</span>        test = get_fieldstructure(ndtype)</div>
<div class="line"><span class="lineno">  162</span>        control = {<span class="stringliteral">&#39;A&#39;</span>: [], <span class="stringliteral">&#39;B&#39;</span>: [], <span class="stringliteral">&#39;BA&#39;</span>: [<span class="stringliteral">&#39;B&#39;</span>], <span class="stringliteral">&#39;BB&#39;</span>: [<span class="stringliteral">&#39;B&#39;</span>],</div>
<div class="line"><span class="lineno">  163</span>                   <span class="stringliteral">&#39;BBA&#39;</span>: [<span class="stringliteral">&#39;B&#39;</span>, <span class="stringliteral">&#39;BB&#39;</span>], <span class="stringliteral">&#39;BBB&#39;</span>: [<span class="stringliteral">&#39;B&#39;</span>, <span class="stringliteral">&#39;BB&#39;</span>]}</div>
<div class="line"><span class="lineno">  164</span>        assert_equal(test, control)</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>        <span class="comment"># 0 fields</span></div>
<div class="line"><span class="lineno">  167</span>        ndtype = np.dtype([])</div>
<div class="line"><span class="lineno">  168</span>        test = get_fieldstructure(ndtype)</div>
<div class="line"><span class="lineno">  169</span>        assert_equal(test, {})</div>
<div class="line"><span class="lineno">  170</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abf36edcac05d9316eb8d688e143eb4f3" name="abf36edcac05d9316eb8d688e143eb4f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf36edcac05d9316eb8d688e143eb4f3">&#9670;&#160;</a></span>test_get_names()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_get_names </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  108</span>    <span class="keyword">def </span>test_get_names(self):</div>
<div class="line"><span class="lineno">  109</span>        <span class="comment"># Test get_names</span></div>
<div class="line"><span class="lineno">  110</span>        ndtype = np.dtype([(<span class="stringliteral">&#39;A&#39;</span>, <span class="stringliteral">&#39;|S3&#39;</span>), (<span class="stringliteral">&#39;B&#39;</span>, float)])</div>
<div class="line"><span class="lineno">  111</span>        test = get_names(ndtype)</div>
<div class="line"><span class="lineno">  112</span>        assert_equal(test, (<span class="stringliteral">&#39;A&#39;</span>, <span class="stringliteral">&#39;B&#39;</span>))</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span>        ndtype = np.dtype([(<span class="stringliteral">&#39;a&#39;</span>, int), (<span class="stringliteral">&#39;b&#39;</span>, [(<span class="stringliteral">&#39;ba&#39;</span>, float), (<span class="stringliteral">&#39;bb&#39;</span>, int)])])</div>
<div class="line"><span class="lineno">  115</span>        test = get_names(ndtype)</div>
<div class="line"><span class="lineno">  116</span>        assert_equal(test, (<span class="stringliteral">&#39;a&#39;</span>, (<span class="stringliteral">&#39;b&#39;</span>, (<span class="stringliteral">&#39;ba&#39;</span>, <span class="stringliteral">&#39;bb&#39;</span>))))</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>        ndtype = np.dtype([(<span class="stringliteral">&#39;a&#39;</span>, int), (<span class="stringliteral">&#39;b&#39;</span>, [])])</div>
<div class="line"><span class="lineno">  119</span>        test = get_names(ndtype)</div>
<div class="line"><span class="lineno">  120</span>        assert_equal(test, (<span class="stringliteral">&#39;a&#39;</span>, (<span class="stringliteral">&#39;b&#39;</span>, ())))</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>        ndtype = np.dtype([])</div>
<div class="line"><span class="lineno">  123</span>        test = get_names(ndtype)</div>
<div class="line"><span class="lineno">  124</span>        assert_equal(test, ())</div>
<div class="line"><span class="lineno">  125</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af6f6a2893ced94aa45eaaacd629e00ef" name="af6f6a2893ced94aa45eaaacd629e00ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6f6a2893ced94aa45eaaacd629e00ef">&#9670;&#160;</a></span>test_get_names_flat()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_get_names_flat </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  126</span>    <span class="keyword">def </span>test_get_names_flat(self):</div>
<div class="line"><span class="lineno">  127</span>        <span class="comment"># Test get_names_flat</span></div>
<div class="line"><span class="lineno">  128</span>        ndtype = np.dtype([(<span class="stringliteral">&#39;A&#39;</span>, <span class="stringliteral">&#39;|S3&#39;</span>), (<span class="stringliteral">&#39;B&#39;</span>, float)])</div>
<div class="line"><span class="lineno">  129</span>        test = get_names_flat(ndtype)</div>
<div class="line"><span class="lineno">  130</span>        assert_equal(test, (<span class="stringliteral">&#39;A&#39;</span>, <span class="stringliteral">&#39;B&#39;</span>))</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>        ndtype = np.dtype([(<span class="stringliteral">&#39;a&#39;</span>, int), (<span class="stringliteral">&#39;b&#39;</span>, [(<span class="stringliteral">&#39;ba&#39;</span>, float), (<span class="stringliteral">&#39;bb&#39;</span>, int)])])</div>
<div class="line"><span class="lineno">  133</span>        test = get_names_flat(ndtype)</div>
<div class="line"><span class="lineno">  134</span>        assert_equal(test, (<span class="stringliteral">&#39;a&#39;</span>, <span class="stringliteral">&#39;b&#39;</span>, <span class="stringliteral">&#39;ba&#39;</span>, <span class="stringliteral">&#39;bb&#39;</span>))</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>        ndtype = np.dtype([(<span class="stringliteral">&#39;a&#39;</span>, int), (<span class="stringliteral">&#39;b&#39;</span>, [])])</div>
<div class="line"><span class="lineno">  137</span>        test = get_names_flat(ndtype)</div>
<div class="line"><span class="lineno">  138</span>        assert_equal(test, (<span class="stringliteral">&#39;a&#39;</span>, <span class="stringliteral">&#39;b&#39;</span>))</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>        ndtype = np.dtype([])</div>
<div class="line"><span class="lineno">  141</span>        test = get_names_flat(ndtype)</div>
<div class="line"><span class="lineno">  142</span>        assert_equal(test, ())</div>
<div class="line"><span class="lineno">  143</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3e2869c8a3cbac9f3d21acf18e6b6905" name="a3e2869c8a3cbac9f3d21acf18e6b6905"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e2869c8a3cbac9f3d21acf18e6b6905">&#9670;&#160;</a></span>test_rename_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_rename_fields </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   97</span>    <span class="keyword">def </span>test_rename_fields(self):</div>
<div class="line"><span class="lineno">   98</span>        <span class="comment"># Test rename fields</span></div>
<div class="line"><span class="lineno">   99</span>        a = np.array([(1, (2, [3.0, 30.])), (4, (5, [6.0, 60.]))],</div>
<div class="line"><span class="lineno">  100</span>                     dtype=[(<span class="stringliteral">&#39;a&#39;</span>, int),</div>
<div class="line"><span class="lineno">  101</span>                            (<span class="stringliteral">&#39;b&#39;</span>, [(<span class="stringliteral">&#39;ba&#39;</span>, float), (<span class="stringliteral">&#39;bb&#39;</span>, (float, 2))])])</div>
<div class="line"><span class="lineno">  102</span>        test = rename_fields(a, {<span class="stringliteral">&#39;a&#39;</span>: <span class="stringliteral">&#39;A&#39;</span>, <span class="stringliteral">&#39;bb&#39;</span>: <span class="stringliteral">&#39;BB&#39;</span>})</div>
<div class="line"><span class="lineno">  103</span>        newdtype = [(<span class="stringliteral">&#39;A&#39;</span>, int), (<span class="stringliteral">&#39;b&#39;</span>, [(<span class="stringliteral">&#39;ba&#39;</span>, float), (<span class="stringliteral">&#39;BB&#39;</span>, (float, 2))])]</div>
<div class="line"><span class="lineno">  104</span>        control = a.view(newdtype)</div>
<div class="line"><span class="lineno">  105</span>        assert_equal(test.dtype, newdtype)</div>
<div class="line"><span class="lineno">  106</span>        assert_equal(test, control)</div>
<div class="line"><span class="lineno">  107</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa52a6571ee38d4beb90d49165a7b509" name="aaa52a6571ee38d4beb90d49165a7b509"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa52a6571ee38d4beb90d49165a7b509">&#9670;&#160;</a></span>test_repack_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_repack_fields </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  219</span>    <span class="keyword">def </span>test_repack_fields(self):</div>
<div class="line"><span class="lineno">  220</span>        dt = np.dtype(<span class="stringliteral">&#39;u1,f4,i8&#39;</span>, align=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  221</span>        a = np.zeros(2, dtype=dt)</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>        assert_equal(repack_fields(dt), np.dtype(<span class="stringliteral">&#39;u1,f4,i8&#39;</span>))</div>
<div class="line"><span class="lineno">  224</span>        assert_equal(repack_fields(a).itemsize, 13)</div>
<div class="line"><span class="lineno">  225</span>        assert_equal(repack_fields(repack_fields(dt), align=<span class="keyword">True</span>), dt)</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>        <span class="comment"># make sure type is preserved</span></div>
<div class="line"><span class="lineno">  228</span>        dt = np.dtype((np.record, dt))</div>
<div class="line"><span class="lineno">  229</span>        assert_(repack_fields(dt).type <span class="keywordflow">is</span> np.record)</div>
<div class="line"><span class="lineno">  230</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adc1fb93db8a994dcf9d5a4e7e6a24a12" name="adc1fb93db8a994dcf9d5a4e7e6a24a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc1fb93db8a994dcf9d5a4e7e6a24a12">&#9670;&#160;</a></span>test_structured_to_unstructured()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_structured_to_unstructured </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  231</span>    <span class="keyword">def </span>test_structured_to_unstructured(self):</div>
<div class="line"><span class="lineno">  232</span>        a = np.zeros(4, dtype=[(<span class="stringliteral">&#39;a&#39;</span>, <span class="stringliteral">&#39;i4&#39;</span>), (<span class="stringliteral">&#39;b&#39;</span>, <span class="stringliteral">&#39;f4,u2&#39;</span>), (<span class="stringliteral">&#39;c&#39;</span>, <span class="stringliteral">&#39;f4&#39;</span>, 2)])</div>
<div class="line"><span class="lineno">  233</span>        out = structured_to_unstructured(a)</div>
<div class="line"><span class="lineno">  234</span>        assert_equal(out, np.zeros((4,5), dtype=<span class="stringliteral">&#39;f8&#39;</span>))</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>        b = np.array([(1, 2, 5), (4, 5, 7), (7, 8 ,11), (10, 11, 12)],</div>
<div class="line"><span class="lineno">  237</span>                     dtype=[(<span class="stringliteral">&#39;x&#39;</span>, <span class="stringliteral">&#39;i4&#39;</span>), (<span class="stringliteral">&#39;y&#39;</span>, <span class="stringliteral">&#39;f4&#39;</span>), (<span class="stringliteral">&#39;z&#39;</span>, <span class="stringliteral">&#39;f8&#39;</span>)])</div>
<div class="line"><span class="lineno">  238</span>        out = np.mean(structured_to_unstructured(b[[<span class="stringliteral">&#39;x&#39;</span>, <span class="stringliteral">&#39;z&#39;</span>]]), axis=-1)</div>
<div class="line"><span class="lineno">  239</span>        assert_equal(out, np.array([ 3. ,  5.5,  9. , 11. ]))</div>
<div class="line"><span class="lineno">  240</span>        out = np.mean(structured_to_unstructured(b[[<span class="stringliteral">&#39;x&#39;</span>]]), axis=-1)</div>
<div class="line"><span class="lineno">  241</span>        assert_equal(out, np.array([ 1. ,  4. ,  7. , 10. ]))</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>        c = np.arange(20).reshape((4,5))</div>
<div class="line"><span class="lineno">  244</span>        out = unstructured_to_structured(c, a.dtype)</div>
<div class="line"><span class="lineno">  245</span>        want = np.array([( 0, ( 1.,  2), [ 3.,  4.]),</div>
<div class="line"><span class="lineno">  246</span>                         ( 5, ( 6.,  7), [ 8.,  9.]),</div>
<div class="line"><span class="lineno">  247</span>                         (10, (11., 12), [13., 14.]),</div>
<div class="line"><span class="lineno">  248</span>                         (15, (16., 17), [18., 19.])],</div>
<div class="line"><span class="lineno">  249</span>                     dtype=[(<span class="stringliteral">&#39;a&#39;</span>, <span class="stringliteral">&#39;i4&#39;</span>),</div>
<div class="line"><span class="lineno">  250</span>                            (<span class="stringliteral">&#39;b&#39;</span>, [(<span class="stringliteral">&#39;f0&#39;</span>, <span class="stringliteral">&#39;f4&#39;</span>), (<span class="stringliteral">&#39;f1&#39;</span>, <span class="stringliteral">&#39;u2&#39;</span>)]),</div>
<div class="line"><span class="lineno">  251</span>                            (<span class="stringliteral">&#39;c&#39;</span>, <span class="stringliteral">&#39;f4&#39;</span>, (2,))])</div>
<div class="line"><span class="lineno">  252</span>        assert_equal(out, want)</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>        d = np.array([(1, 2, 5), (4, 5, 7), (7, 8 ,11), (10, 11, 12)],</div>
<div class="line"><span class="lineno">  255</span>                     dtype=[(<span class="stringliteral">&#39;x&#39;</span>, <span class="stringliteral">&#39;i4&#39;</span>), (<span class="stringliteral">&#39;y&#39;</span>, <span class="stringliteral">&#39;f4&#39;</span>), (<span class="stringliteral">&#39;z&#39;</span>, <span class="stringliteral">&#39;f8&#39;</span>)])</div>
<div class="line"><span class="lineno">  256</span>        assert_equal(apply_along_fields(np.mean, d),</div>
<div class="line"><span class="lineno">  257</span>                     np.array([ 8.0/3,  16.0/3,  26.0/3, 11. ]))</div>
<div class="line"><span class="lineno">  258</span>        assert_equal(apply_along_fields(np.mean, d[[<span class="stringliteral">&#39;x&#39;</span>, <span class="stringliteral">&#39;z&#39;</span>]]),</div>
<div class="line"><span class="lineno">  259</span>                     np.array([ 3. ,  5.5,  9. , 11. ]))</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>        <span class="comment"># check that for uniform field dtypes we get a view, not a copy:</span></div>
<div class="line"><span class="lineno">  262</span>        d = np.array([(1, 2, 5), (4, 5, 7), (7, 8 ,11), (10, 11, 12)],</div>
<div class="line"><span class="lineno">  263</span>                     dtype=[(<span class="stringliteral">&#39;x&#39;</span>, <span class="stringliteral">&#39;i4&#39;</span>), (<span class="stringliteral">&#39;y&#39;</span>, <span class="stringliteral">&#39;i4&#39;</span>), (<span class="stringliteral">&#39;z&#39;</span>, <span class="stringliteral">&#39;i4&#39;</span>)])</div>
<div class="line"><span class="lineno">  264</span>        dd = structured_to_unstructured(d)</div>
<div class="line"><span class="lineno">  265</span>        ddd = unstructured_to_structured(dd, d.dtype)</div>
<div class="line"><span class="lineno">  266</span>        assert_(dd.base <span class="keywordflow">is</span> d)</div>
<div class="line"><span class="lineno">  267</span>        assert_(ddd.base <span class="keywordflow">is</span> d)</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>        <span class="comment"># including uniform fields with subarrays unpacked</span></div>
<div class="line"><span class="lineno">  270</span>        d = np.array([(1, [2,  3], [[ 4,  5], [ 6,  7]]),</div>
<div class="line"><span class="lineno">  271</span>                      (8, [9, 10], [[11, 12], [13, 14]])],</div>
<div class="line"><span class="lineno">  272</span>                     dtype=[(<span class="stringliteral">&#39;x0&#39;</span>, <span class="stringliteral">&#39;i4&#39;</span>), (<span class="stringliteral">&#39;x1&#39;</span>, (<span class="stringliteral">&#39;i4&#39;</span>, 2)),</div>
<div class="line"><span class="lineno">  273</span>                            (<span class="stringliteral">&#39;x2&#39;</span>, (<span class="stringliteral">&#39;i4&#39;</span>, (2, 2)))])</div>
<div class="line"><span class="lineno">  274</span>        dd = structured_to_unstructured(d)</div>
<div class="line"><span class="lineno">  275</span>        ddd = unstructured_to_structured(dd, d.dtype)</div>
<div class="line"><span class="lineno">  276</span>        assert_(dd.base <span class="keywordflow">is</span> d)</div>
<div class="line"><span class="lineno">  277</span>        assert_(ddd.base <span class="keywordflow">is</span> d)</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>        <span class="comment"># test that nested fields with identical names don&#39;t break anything</span></div>
<div class="line"><span class="lineno">  280</span>        point = np.dtype([(<span class="stringliteral">&#39;x&#39;</span>, int), (<span class="stringliteral">&#39;y&#39;</span>, int)])</div>
<div class="line"><span class="lineno">  281</span>        triangle = np.dtype([(<span class="stringliteral">&#39;a&#39;</span>, point), (<span class="stringliteral">&#39;b&#39;</span>, point), (<span class="stringliteral">&#39;c&#39;</span>, point)])</div>
<div class="line"><span class="lineno">  282</span>        arr = np.zeros(10, triangle)</div>
<div class="line"><span class="lineno">  283</span>        res = structured_to_unstructured(arr, dtype=int)</div>
<div class="line"><span class="lineno">  284</span>        assert_equal(res, np.zeros((10, 6), dtype=int))</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>        <span class="comment"># test nested combinations of subarrays and structured arrays, gh-13333</span></div>
<div class="line"><span class="lineno">  288</span>        <span class="keyword">def </span>subarray(dt, shape):</div>
<div class="line"><span class="lineno">  289</span>            <span class="keywordflow">return</span> np.dtype((dt, shape))</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>        <span class="keyword">def </span>structured(*dts):</div>
<div class="line"><span class="lineno">  292</span>            <span class="keywordflow">return</span> np.dtype([(<span class="stringliteral">&#39;x{}&#39;</span>.format(i), dt) <span class="keywordflow">for</span> i, dt <span class="keywordflow">in</span> enumerate(dts)])</div>
<div class="line"><span class="lineno">  293</span> </div>
<div class="line"><span class="lineno">  294</span>        <span class="keyword">def </span>inspect(dt, dtype=None):</div>
<div class="line"><span class="lineno">  295</span>            arr = np.zeros((), dt)</div>
<div class="line"><span class="lineno">  296</span>            ret = structured_to_unstructured(arr, dtype=dtype)</div>
<div class="line"><span class="lineno">  297</span>            backarr = unstructured_to_structured(ret, dt)</div>
<div class="line"><span class="lineno">  298</span>            <span class="keywordflow">return</span> ret.shape, ret.dtype, backarr.dtype</div>
<div class="line"><span class="lineno">  299</span> </div>
<div class="line"><span class="lineno">  300</span>        dt = structured(subarray(structured(np.int32, np.int32), 3))</div>
<div class="line"><span class="lineno">  301</span>        assert_equal(inspect(dt), ((6,), np.int32, dt))</div>
<div class="line"><span class="lineno">  302</span> </div>
<div class="line"><span class="lineno">  303</span>        dt = structured(subarray(subarray(np.int32, 2), 2))</div>
<div class="line"><span class="lineno">  304</span>        assert_equal(inspect(dt), ((4,), np.int32, dt))</div>
<div class="line"><span class="lineno">  305</span> </div>
<div class="line"><span class="lineno">  306</span>        dt = structured(np.int32)</div>
<div class="line"><span class="lineno">  307</span>        assert_equal(inspect(dt), ((1,), np.int32, dt))</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>        dt = structured(np.int32, subarray(subarray(np.int32, 2), 2))</div>
<div class="line"><span class="lineno">  310</span>        assert_equal(inspect(dt), ((5,), np.int32, dt))</div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>        dt = structured()</div>
<div class="line"><span class="lineno">  313</span>        assert_raises(ValueError, structured_to_unstructured, np.zeros(3, dt))</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>        <span class="comment"># these currently don&#39;t work, but we may make it work in the future</span></div>
<div class="line"><span class="lineno">  316</span>        assert_raises(NotImplementedError, structured_to_unstructured,</div>
<div class="line"><span class="lineno">  317</span>                                           np.zeros(3, dt), dtype=np.int32)</div>
<div class="line"><span class="lineno">  318</span>        assert_raises(NotImplementedError, unstructured_to_structured,</div>
<div class="line"><span class="lineno">  319</span>                                           np.zeros((3,0), dtype=np.int32))</div>
<div class="line"><span class="lineno">  320</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad5ac19617cc53530ef70383a6829e2b3" name="ad5ac19617cc53530ef70383a6829e2b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5ac19617cc53530ef70383a6829e2b3">&#9670;&#160;</a></span>test_unstructured_to_structured()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_unstructured_to_structured </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  321</span>    <span class="keyword">def </span>test_unstructured_to_structured(self):</div>
<div class="line"><span class="lineno">  322</span>        <span class="comment"># test if dtype is the args of np.dtype</span></div>
<div class="line"><span class="lineno">  323</span>        a = np.zeros((20, 2))</div>
<div class="line"><span class="lineno">  324</span>        test_dtype_args = [(<span class="stringliteral">&#39;x&#39;</span>, float), (<span class="stringliteral">&#39;y&#39;</span>, float)]</div>
<div class="line"><span class="lineno">  325</span>        test_dtype = np.dtype(test_dtype_args)</div>
<div class="line"><span class="lineno">  326</span>        field1 = unstructured_to_structured(a, dtype=test_dtype_args)  <span class="comment"># now</span></div>
<div class="line"><span class="lineno">  327</span>        field2 = unstructured_to_structured(a, dtype=test_dtype)  <span class="comment"># before</span></div>
<div class="line"><span class="lineno">  328</span>        assert_equal(field1, field2)</div>
<div class="line"><span class="lineno">  329</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a316a4de0bd4a77e953f8f5f4f730d173" name="a316a4de0bd4a77e953f8f5f4f730d173"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a316a4de0bd4a77e953f8f5f4f730d173">&#9670;&#160;</a></span>test_zip_descr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.test_zip_descr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   32</span>    <span class="keyword">def </span>test_zip_descr(self):</div>
<div class="line"><span class="lineno">   33</span>        <span class="comment"># Test zip_descr</span></div>
<div class="line"><span class="lineno">   34</span>        (w, x, y, z) = self.data</div>
<div class="line"><span class="lineno">   35</span> </div>
<div class="line"><span class="lineno">   36</span>        <span class="comment"># Std array</span></div>
<div class="line"><span class="lineno">   37</span>        test = zip_descr((x, x), flatten=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   38</span>        assert_equal(test,</div>
<div class="line"><span class="lineno">   39</span>                     np.dtype([(<span class="stringliteral">&#39;&#39;</span>, int), (<span class="stringliteral">&#39;&#39;</span>, int)]))</div>
<div class="line"><span class="lineno">   40</span>        test = zip_descr((x, x), flatten=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">   41</span>        assert_equal(test,</div>
<div class="line"><span class="lineno">   42</span>                     np.dtype([(<span class="stringliteral">&#39;&#39;</span>, int), (<span class="stringliteral">&#39;&#39;</span>, int)]))</div>
<div class="line"><span class="lineno">   43</span> </div>
<div class="line"><span class="lineno">   44</span>        <span class="comment"># Std &amp; flexible-dtype</span></div>
<div class="line"><span class="lineno">   45</span>        test = zip_descr((x, z), flatten=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   46</span>        assert_equal(test,</div>
<div class="line"><span class="lineno">   47</span>                     np.dtype([(<span class="stringliteral">&#39;&#39;</span>, int), (<span class="stringliteral">&#39;A&#39;</span>, <span class="stringliteral">&#39;|S3&#39;</span>), (<span class="stringliteral">&#39;B&#39;</span>, float)]))</div>
<div class="line"><span class="lineno">   48</span>        test = zip_descr((x, z), flatten=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">   49</span>        assert_equal(test,</div>
<div class="line"><span class="lineno">   50</span>                     np.dtype([(<span class="stringliteral">&#39;&#39;</span>, int),</div>
<div class="line"><span class="lineno">   51</span>                               (<span class="stringliteral">&#39;&#39;</span>, [(<span class="stringliteral">&#39;A&#39;</span>, <span class="stringliteral">&#39;|S3&#39;</span>), (<span class="stringliteral">&#39;B&#39;</span>, float)])]))</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>        <span class="comment"># Standard &amp; nested dtype</span></div>
<div class="line"><span class="lineno">   54</span>        test = zip_descr((x, w), flatten=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">   55</span>        assert_equal(test,</div>
<div class="line"><span class="lineno">   56</span>                     np.dtype([(<span class="stringliteral">&#39;&#39;</span>, int),</div>
<div class="line"><span class="lineno">   57</span>                               (<span class="stringliteral">&#39;a&#39;</span>, int),</div>
<div class="line"><span class="lineno">   58</span>                               (<span class="stringliteral">&#39;ba&#39;</span>, float), (<span class="stringliteral">&#39;bb&#39;</span>, int)]))</div>
<div class="line"><span class="lineno">   59</span>        test = zip_descr((x, w), flatten=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">   60</span>        assert_equal(test,</div>
<div class="line"><span class="lineno">   61</span>                     np.dtype([(<span class="stringliteral">&#39;&#39;</span>, int),</div>
<div class="line"><span class="lineno">   62</span>                               (<span class="stringliteral">&#39;&#39;</span>, [(<span class="stringliteral">&#39;a&#39;</span>, int),</div>
<div class="line"><span class="lineno">   63</span>                                     (<span class="stringliteral">&#39;b&#39;</span>, [(<span class="stringliteral">&#39;ba&#39;</span>, float), (<span class="stringliteral">&#39;bb&#39;</span>, int)])])]))</div>
<div class="line"><span class="lineno">   64</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aa66f1bd2a6349b83b0bf6d54ab5cd714" name="aa66f1bd2a6349b83b0bf6d54ab5cd714"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa66f1bd2a6349b83b0bf6d54ab5cd714">&#9670;&#160;</a></span>data</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.lib.tests.test_recfunctions.TestRecFunctions.data</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/numpy/lib/tests/<a class="el" href="test__recfunctions_8py.html">test_recfunctions.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
