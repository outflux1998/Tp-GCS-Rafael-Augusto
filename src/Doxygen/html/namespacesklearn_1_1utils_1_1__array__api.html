<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.utils._array_api Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1utils_1_1__array__api.html">_array_api</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sklearn.utils._array_api Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1utils_1_1__array__api_1_1___array_a_p_i_wrapper.html">_ArrayAPIWrapper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1utils_1_1__array__api_1_1___num_py_api_wrapper.html">_NumPyApiWrapper</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adaf31cd00dbfe793e3ae817e431a79b4" id="r_adaf31cd00dbfe793e3ae817e431a79b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__array__api.html#adaf31cd00dbfe793e3ae817e431a79b4">get_namespace</a> (*arrays)</td></tr>
<tr class="separator:adaf31cd00dbfe793e3ae817e431a79b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84728d350eeea752cb2bfa5e326be934" id="r_a84728d350eeea752cb2bfa5e326be934"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__array__api.html#a84728d350eeea752cb2bfa5e326be934">_expit</a> (X)</td></tr>
<tr class="separator:a84728d350eeea752cb2bfa5e326be934"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd998bed5876715e3699a7ffcda59917" id="r_acd998bed5876715e3699a7ffcda59917"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__array__api.html#acd998bed5876715e3699a7ffcda59917">_asarray_with_order</a> (array, dtype=None, <a class="el" href="__lapack__subroutines_8h.html#a9993259f1ab17738593f079acd0507d9">order</a>=None, copy=None, xp=None)</td></tr>
<tr class="separator:acd998bed5876715e3699a7ffcda59917"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c17cbdb0b8c398032b3570c780358a0" id="r_a0c17cbdb0b8c398032b3570c780358a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__array__api.html#a0c17cbdb0b8c398032b3570c780358a0">_convert_to_numpy</a> (array, xp)</td></tr>
<tr class="separator:a0c17cbdb0b8c398032b3570c780358a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a858d95e07c16bee8d542d0e61db6b46c" id="r_a858d95e07c16bee8d542d0e61db6b46c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesklearn_1_1utils_1_1__array__api.html#a858d95e07c16bee8d542d0e61db6b46c">_estimator_with_converted_arrays</a> (estimator, converter)</td></tr>
<tr class="separator:a858d95e07c16bee8d542d0e61db6b46c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Tools to support array_api.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="acd998bed5876715e3699a7ffcda59917" name="acd998bed5876715e3699a7ffcda59917"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd998bed5876715e3699a7ffcda59917">&#9670;&#160;</a></span>_asarray_with_order()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._array_api._asarray_with_order </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>order</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>copy</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>xp</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper to support the order kwarg only for NumPy-backed arrays

Memory layout parameter `order` is not exposed in the Array API standard,
however some input validation code in scikit-learn needs to work both
for classes and functions that will leverage Array API only operations
and for code that inherently relies on NumPy backed data containers with
specific memory layout constraints (e.g. our own Cython code). The
purpose of this helper is to make it possible to share code for data
container validation without memory copies for both downstream use cases:
the `order` parameter is only enforced if the input array implementation
is NumPy based, otherwise `order` is just silently ignored.
</pre> <div class="fragment"><div class="line"><span class="lineno">  168</span><span class="keyword">def </span>_asarray_with_order(array, dtype=None, order=None, copy=None, xp=None):</div>
<div class="line"><span class="lineno">  169</span>    <span class="stringliteral">&quot;&quot;&quot;Helper to support the order kwarg only for NumPy-backed arrays</span></div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">    Memory layout parameter `order` is not exposed in the Array API standard,</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">    however some input validation code in scikit-learn needs to work both</span></div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">    for classes and functions that will leverage Array API only operations</span></div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral">    and for code that inherently relies on NumPy backed data containers with</span></div>
<div class="line"><span class="lineno">  175</span><span class="stringliteral">    specific memory layout constraints (e.g. our own Cython code). The</span></div>
<div class="line"><span class="lineno">  176</span><span class="stringliteral">    purpose of this helper is to make it possible to share code for data</span></div>
<div class="line"><span class="lineno">  177</span><span class="stringliteral">    container validation without memory copies for both downstream use cases:</span></div>
<div class="line"><span class="lineno">  178</span><span class="stringliteral">    the `order` parameter is only enforced if the input array implementation</span></div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral">    is NumPy based, otherwise `order` is just silently ignored.</span></div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  181</span>    <span class="keywordflow">if</span> xp <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  182</span>        xp, _ = get_namespace(array)</div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">if</span> xp.__name__ <span class="keywordflow">in</span> {<span class="stringliteral">&quot;numpy&quot;</span>, <span class="stringliteral">&quot;numpy.array_api&quot;</span>}:</div>
<div class="line"><span class="lineno">  184</span>        <span class="comment"># Use NumPy API to support order</span></div>
<div class="line"><span class="lineno">  185</span>        array = numpy.asarray(array, order=order, dtype=dtype)</div>
<div class="line"><span class="lineno">  186</span>        <span class="keywordflow">return</span> xp.asarray(array, copy=copy)</div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  188</span>        <span class="keywordflow">return</span> xp.asarray(array, dtype=dtype, copy=copy)</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0c17cbdb0b8c398032b3570c780358a0" name="a0c17cbdb0b8c398032b3570c780358a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c17cbdb0b8c398032b3570c780358a0">&#9670;&#160;</a></span>_convert_to_numpy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._array_api._convert_to_numpy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>xp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Convert X into a NumPy ndarray.

Only works on cupy.array_api and numpy.array_api and is used for testing.
</pre> <div class="fragment"><div class="line"><span class="lineno">  191</span><span class="keyword">def </span>_convert_to_numpy(array, xp):</div>
<div class="line"><span class="lineno">  192</span>    <span class="stringliteral">&quot;&quot;&quot;Convert X into a NumPy ndarray.</span></div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral">    Only works on cupy.array_api and numpy.array_api and is used for testing.</span></div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  196</span>    supported_array_api = [<span class="stringliteral">&quot;numpy.array_api&quot;</span>, <span class="stringliteral">&quot;cupy.array_api&quot;</span>]</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">if</span> xp.__name__ <span class="keywordflow">not</span> <span class="keywordflow">in</span> supported_array_api:</div>
<div class="line"><span class="lineno">  198</span>        support_array_api_str = <span class="stringliteral">&quot;, &quot;</span>.join(supported_array_api)</div>
<div class="line"><span class="lineno">  199</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Supported namespaces are: {support_array_api_str}&quot;</span>)</div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span>    <span class="keywordflow">if</span> xp.__name__ == <span class="stringliteral">&quot;cupy.array_api&quot;</span>:</div>
<div class="line"><span class="lineno">  202</span>        <span class="keywordflow">return</span> array._array.get()</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">return</span> numpy.asarray(array)</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a858d95e07c16bee8d542d0e61db6b46c" name="a858d95e07c16bee8d542d0e61db6b46c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a858d95e07c16bee8d542d0e61db6b46c">&#9670;&#160;</a></span>_estimator_with_converted_arrays()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._array_api._estimator_with_converted_arrays </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>estimator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>converter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Create new estimator which converting all attributes that are arrays.

Parameters
----------
estimator : Estimator
    Estimator to convert

converter : callable
    Callable that takes an array attribute and returns the converted array.

Returns
-------
new_estimator : Estimator
    Convert estimator
</pre> <div class="fragment"><div class="line"><span class="lineno">  207</span><span class="keyword">def </span>_estimator_with_converted_arrays(estimator, converter):</div>
<div class="line"><span class="lineno">  208</span>    <span class="stringliteral">&quot;&quot;&quot;Create new estimator which converting all attributes that are arrays.</span></div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  212</span><span class="stringliteral">    estimator : Estimator</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral">        Estimator to convert</span></div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral">    converter : callable</span></div>
<div class="line"><span class="lineno">  216</span><span class="stringliteral">        Callable that takes an array attribute and returns the converted array.</span></div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  218</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  219</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral">    new_estimator : Estimator</span></div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">        Convert estimator</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  223</span>    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacesklearn_1_1base.html">sklearn.base</a> <span class="keyword">import</span> clone</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>    new_estimator = clone(estimator)</div>
<div class="line"><span class="lineno">  226</span>    <span class="keywordflow">for</span> key, attribute <span class="keywordflow">in</span> vars(estimator).items():</div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">if</span> hasattr(attribute, <span class="stringliteral">&quot;__array_namespace__&quot;</span>) <span class="keywordflow">or</span> isinstance(</div>
<div class="line"><span class="lineno">  228</span>            attribute, numpy.ndarray</div>
<div class="line"><span class="lineno">  229</span>        ):</div>
<div class="line"><span class="lineno">  230</span>            attribute = converter(attribute)</div>
<div class="line"><span class="lineno">  231</span>        setattr(new_estimator, key, attribute)</div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">return</span> new_estimator</div>
<div class="ttc" id="anamespacesklearn_1_1base_html"><div class="ttname"><a href="namespacesklearn_1_1base.html">sklearn.base</a></div><div class="ttdef"><b>Definition</b> base.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a84728d350eeea752cb2bfa5e326be934" name="a84728d350eeea752cb2bfa5e326be934"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84728d350eeea752cb2bfa5e326be934">&#9670;&#160;</a></span>_expit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._array_api._expit </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  160</span><span class="keyword">def </span>_expit(X):</div>
<div class="line"><span class="lineno">  161</span>    xp, _ = get_namespace(X)</div>
<div class="line"><span class="lineno">  162</span>    <span class="keywordflow">if</span> xp.__name__ <span class="keywordflow">in</span> {<span class="stringliteral">&quot;numpy&quot;</span>, <span class="stringliteral">&quot;numpy.array_api&quot;</span>}:</div>
<div class="line"><span class="lineno">  163</span>        <span class="keywordflow">return</span> xp.asarray(special.expit(numpy.asarray(X)))</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    <span class="keywordflow">return</span> 1.0 / (1.0 + xp.exp(-X))</div>
<div class="line"><span class="lineno">  166</span> </div>
<div class="line"><span class="lineno">  167</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adaf31cd00dbfe793e3ae817e431a79b4" name="adaf31cd00dbfe793e3ae817e431a79b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adaf31cd00dbfe793e3ae817e431a79b4">&#9670;&#160;</a></span>get_namespace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.utils._array_api.get_namespace </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>arrays</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get namespace of arrays.

Introspect `arrays` arguments and return their common Array API
compatible namespace object, if any. NumPy 1.22 and later can
construct such containers using the `numpy.array_api` namespace
for instance.

See: https://numpy.org/neps/nep-0047-array-api-standard.html

If `arrays` are regular numpy arrays, an instance of the
`_NumPyApiWrapper` compatibility wrapper is returned instead.

Namespace support is not enabled by default. To enabled it
call:

  sklearn.set_config(array_api_dispatch=True)

or:

  with sklearn.config_context(array_api_dispatch=True):
      # your code here

Otherwise an instance of the `_NumPyApiWrapper`
compatibility wrapper is always returned irrespective of
the fact that arrays implement the `__array_namespace__`
protocol or not.

Parameters
----------
*arrays : array objects
    Array objects.

Returns
-------
namespace : module
    Namespace shared by array objects.

is_array_api : bool
    True of the arrays are containers that implement the Array API spec.
</pre> <div class="fragment"><div class="line"><span class="lineno">   90</span><span class="keyword">def </span>get_namespace(*arrays):</div>
<div class="line"><span class="lineno">   91</span>    <span class="stringliteral">&quot;&quot;&quot;Get namespace of arrays.</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">    Introspect `arrays` arguments and return their common Array API</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">    compatible namespace object, if any. NumPy 1.22 and later can</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral">    construct such containers using the `numpy.array_api` namespace</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">    for instance.</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">    See: https://numpy.org/neps/nep-0047-array-api-standard.html</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">    If `arrays` are regular numpy arrays, an instance of the</span></div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">    `_NumPyApiWrapper` compatibility wrapper is returned instead.</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">    Namespace support is not enabled by default. To enabled it</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">    call:</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">      sklearn.set_config(array_api_dispatch=True)</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">    or:</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral">      with sklearn.config_context(array_api_dispatch=True):</span></div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral">          # your code here</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  113</span><span class="stringliteral">    Otherwise an instance of the `_NumPyApiWrapper`</span></div>
<div class="line"><span class="lineno">  114</span><span class="stringliteral">    compatibility wrapper is always returned irrespective of</span></div>
<div class="line"><span class="lineno">  115</span><span class="stringliteral">    the fact that arrays implement the `__array_namespace__`</span></div>
<div class="line"><span class="lineno">  116</span><span class="stringliteral">    protocol or not.</span></div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  119</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  120</span><span class="stringliteral">    *arrays : array objects</span></div>
<div class="line"><span class="lineno">  121</span><span class="stringliteral">        Array objects.</span></div>
<div class="line"><span class="lineno">  122</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  123</span><span class="stringliteral">    Returns</span></div>
<div class="line"><span class="lineno">  124</span><span class="stringliteral">    -------</span></div>
<div class="line"><span class="lineno">  125</span><span class="stringliteral">    namespace : module</span></div>
<div class="line"><span class="lineno">  126</span><span class="stringliteral">        Namespace shared by array objects.</span></div>
<div class="line"><span class="lineno">  127</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">    is_array_api : bool</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">        True of the arrays are containers that implement the Array API spec.</span></div>
<div class="line"><span class="lineno">  130</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  131</span>    <span class="comment"># `arrays` contains one or more arrays, or possibly Python scalars (accepting</span></div>
<div class="line"><span class="lineno">  132</span>    <span class="comment"># those is a matter of taste, but doesn&#39;t seem unreasonable).</span></div>
<div class="line"><span class="lineno">  133</span>    <span class="comment"># Returns a tuple: (array_namespace, is_array_api)</span></div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> get_config()[<span class="stringliteral">&quot;array_api_dispatch&quot;</span>]:</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">return</span> _NumPyApiWrapper(), <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>    namespaces = {</div>
<div class="line"><span class="lineno">  139</span>        x.__array_namespace__() <span class="keywordflow">if</span> hasattr(x, <span class="stringliteral">&quot;__array_namespace__&quot;</span>) <span class="keywordflow">else</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  140</span>        <span class="keywordflow">for</span> x <span class="keywordflow">in</span> arrays</div>
<div class="line"><span class="lineno">  141</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(x, (bool, int, float, complex))</div>
<div class="line"><span class="lineno">  142</span>    }</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> namespaces:</div>
<div class="line"><span class="lineno">  145</span>        <span class="comment"># one could special-case np.ndarray above or use np.asarray here if</span></div>
<div class="line"><span class="lineno">  146</span>        <span class="comment"># older numpy versions need to be supported.</span></div>
<div class="line"><span class="lineno">  147</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;Unrecognized array input&quot;</span>)</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span> len(namespaces) != 1:</div>
<div class="line"><span class="lineno">  150</span>        <span class="keywordflow">raise</span> ValueError(f<span class="stringliteral">&quot;Multiple namespaces for array inputs: {namespaces}&quot;</span>)</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    (xp,) = namespaces</div>
<div class="line"><span class="lineno">  153</span>    <span class="keywordflow">if</span> xp <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  154</span>        <span class="comment"># Use numpy as default</span></div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">return</span> _NumPyApiWrapper(), <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">return</span> _ArrayAPIWrapper(xp), <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span> </div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
