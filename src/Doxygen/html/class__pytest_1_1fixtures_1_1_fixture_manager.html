<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: _pytest.fixtures.FixtureManager Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace__pytest.html">_pytest</a></li><li class="navelem"><a class="el" href="namespace__pytest_1_1fixtures.html">fixtures</a></li><li class="navelem"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html">FixtureManager</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="class__pytest_1_1fixtures_1_1_fixture_manager-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">_pytest.fixtures.FixtureManager Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a42d9c348087c2f1ab784be301b1a148e" id="r_a42d9c348087c2f1ab784be301b1a148e"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#a42d9c348087c2f1ab784be301b1a148e">__init__</a> (self, &quot;Session&quot; <a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#a80b11e3ef5e3e5f6c78aefd4ced98bb6">session</a>)</td></tr>
<tr class="separator:a42d9c348087c2f1ab784be301b1a148e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ba8aabf85564a41ce92cea856c8dc27" id="r_a5ba8aabf85564a41ce92cea856c8dc27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class__pytest_1_1fixtures_1_1_func_fixture_info.html">FuncFixtureInfo</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#a5ba8aabf85564a41ce92cea856c8dc27">getfixtureinfo</a> (self, <a class="el" href="class__pytest_1_1nodes_1_1_node.html">nodes.Node</a> node, <a class="el" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>, cls, bool funcargs=True)</td></tr>
<tr class="separator:a5ba8aabf85564a41ce92cea856c8dc27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8812602c295039d39d0de88fa2f1bd2" id="r_ab8812602c295039d39d0de88fa2f1bd2"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#ab8812602c295039d39d0de88fa2f1bd2">pytest_plugin_registered</a> (self, _PluggyPlugin plugin)</td></tr>
<tr class="separator:ab8812602c295039d39d0de88fa2f1bd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dac55bd205a9eb62ea612159b53dab6" id="r_a8dac55bd205a9eb62ea612159b53dab6"><td class="memItemLeft" align="right" valign="top">Tuple[Tuple[str,...], List[str], Dict[str, Sequence[<a class="el" href="class__pytest_1_1fixtures_1_1_fixture_def.html">FixtureDef</a>[Any]]]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#a8dac55bd205a9eb62ea612159b53dab6">getfixtureclosure</a> (self, Tuple[str,...] fixturenames, <a class="el" href="class__pytest_1_1nodes_1_1_node.html">nodes.Node</a> parentnode, Sequence[str] ignore_args=())</td></tr>
<tr class="separator:a8dac55bd205a9eb62ea612159b53dab6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d72e75b602f6a1c3f7819fb82514d84" id="r_a5d72e75b602f6a1c3f7819fb82514d84"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#a5d72e75b602f6a1c3f7819fb82514d84">pytest_generate_tests</a> (self, &quot;Metafunc&quot; metafunc)</td></tr>
<tr class="separator:a5d72e75b602f6a1c3f7819fb82514d84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acfa478f27b76d642d2cbd553617514bf" id="r_acfa478f27b76d642d2cbd553617514bf"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#acfa478f27b76d642d2cbd553617514bf">pytest_collection_modifyitems</a> (self, List[<a class="el" href="class__pytest_1_1nodes_1_1_item.html">nodes.Item</a>] items)</td></tr>
<tr class="separator:acfa478f27b76d642d2cbd553617514bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee7193e11868f9fa886d08d1bf1cc823" id="r_aee7193e11868f9fa886d08d1bf1cc823"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#aee7193e11868f9fa886d08d1bf1cc823">parsefactories</a> (self, node_or_obj, nodeid=NOTSET, bool unittest=False)</td></tr>
<tr class="separator:aee7193e11868f9fa886d08d1bf1cc823"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ad9768ebdb7f18ea4310a84e82433c3" id="r_a8ad9768ebdb7f18ea4310a84e82433c3"><td class="memItemLeft" align="right" valign="top">Optional[Sequence[<a class="el" href="class__pytest_1_1fixtures_1_1_fixture_def.html">FixtureDef</a>[Any]]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#a8ad9768ebdb7f18ea4310a84e82433c3">getfixturedefs</a> (self, str argname, str nodeid)</td></tr>
<tr class="separator:a8ad9768ebdb7f18ea4310a84e82433c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a80b11e3ef5e3e5f6c78aefd4ced98bb6" id="r_a80b11e3ef5e3e5f6c78aefd4ced98bb6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#a80b11e3ef5e3e5f6c78aefd4ced98bb6">session</a></td></tr>
<tr class="separator:a80b11e3ef5e3e5f6c78aefd4ced98bb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a4e11d94e67e0d5c284f6e8a604960af8" id="r_a4e11d94e67e0d5c284f6e8a604960af8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#a4e11d94e67e0d5c284f6e8a604960af8">FixtureLookupError</a> = <a class="el" href="class__pytest_1_1fixtures_1_1_fixture_lookup_error.html">FixtureLookupError</a></td></tr>
<tr class="separator:a4e11d94e67e0d5c284f6e8a604960af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d6bbe5abd4525efdf6b2b1d4d15f908" id="r_a2d6bbe5abd4525efdf6b2b1d4d15f908"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#a2d6bbe5abd4525efdf6b2b1d4d15f908">FixtureLookupErrorRepr</a> = <a class="el" href="class__pytest_1_1fixtures_1_1_fixture_lookup_error_repr.html">FixtureLookupErrorRepr</a></td></tr>
<tr class="separator:a2d6bbe5abd4525efdf6b2b1d4d15f908"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aae32da7251196c4cec572d0bf352ad9a" id="r_aae32da7251196c4cec572d0bf352ad9a"><td class="memItemLeft" align="right" valign="top">List[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#aae32da7251196c4cec572d0bf352ad9a">_get_direct_parametrize_args</a> (self, <a class="el" href="class__pytest_1_1nodes_1_1_node.html">nodes.Node</a> node)</td></tr>
<tr class="separator:aae32da7251196c4cec572d0bf352ad9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae09e495b83687c48b61e4b72c953edbc" id="r_ae09e495b83687c48b61e4b72c953edbc"><td class="memItemLeft" align="right" valign="top">Iterator[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#ae09e495b83687c48b61e4b72c953edbc">_getautousenames</a> (self, str nodeid)</td></tr>
<tr class="separator:ae09e495b83687c48b61e4b72c953edbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14a766a9249fc6c56ed40cdb991aee89" id="r_a14a766a9249fc6c56ed40cdb991aee89"><td class="memItemLeft" align="right" valign="top">Iterator[<a class="el" href="class__pytest_1_1fixtures_1_1_fixture_def.html">FixtureDef</a>[Any]]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1fixtures_1_1_fixture_manager.html#a14a766a9249fc6c56ed40cdb991aee89">_matchfactories</a> (self, Iterable[<a class="el" href="class__pytest_1_1fixtures_1_1_fixture_def.html">FixtureDef</a>[Any]] fixturedefs, str nodeid)</td></tr>
<tr class="separator:a14a766a9249fc6c56ed40cdb991aee89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">pytest fixture definitions and information is stored and managed
from this class.

During collection fm.parsefactories() is called multiple times to parse
fixture function definitions into FixtureDef objects and internal
data structures.

During collection of test functions, metafunc-mechanics instantiate
a FuncFixtureInfo object which is cached per node/func-name.
This FuncFixtureInfo object is later retrieved by Function nodes
which themselves offer a fixturenames attribute.

The FuncFixtureInfo object holds information about fixtures and FixtureDefs
relevant for a particular function. An initial list of fixtures is
assembled like this:

- ini-defined usefixtures
- autouse-marked fixtures along the collection chain up from the function
- usefixtures markers at module/class/function level
- test function funcargs

Subsequently the funcfixtureinfo.fixturenames attribute is computed
as the closure of the fixtures needed to setup the initial fixtures,
i.e. fixtures needed by fixture functions themselves are appended
to the fixturenames list.

Upon the test-setup phases all fixturenames are instantiated, retrieved
by a lookup of their FuncFixtureInfo.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a42d9c348087c2f1ab784be301b1a148e" name="a42d9c348087c2f1ab784be301b1a148e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42d9c348087c2f1ab784be301b1a148e">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.fixtures.FixtureManager.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Session&quot;&#160;</td>
          <td class="paramname"><em>session</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1408</span>    <span class="keyword">def </span>__init__(self, session: <span class="stringliteral">&quot;Session&quot;</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1409</span>        self.session = session</div>
<div class="line"><span class="lineno"> 1410</span>        self.config: Config = session.config</div>
<div class="line"><span class="lineno"> 1411</span>        self._arg2fixturedefs: Dict[str, List[FixtureDef[Any]]] = {}</div>
<div class="line"><span class="lineno"> 1412</span>        self._holderobjseen: Set[object] = set()</div>
<div class="line"><span class="lineno"> 1413</span>        <span class="comment"># A mapping from a nodeid to a list of autouse fixtures it defines.</span></div>
<div class="line"><span class="lineno"> 1414</span>        self._nodeid_autousenames: Dict[str, List[str]] = {</div>
<div class="line"><span class="lineno"> 1415</span>            <span class="stringliteral">&quot;&quot;</span>: self.config.getini(<span class="stringliteral">&quot;usefixtures&quot;</span>),</div>
<div class="line"><span class="lineno"> 1416</span>        }</div>
<div class="line"><span class="lineno"> 1417</span>        session.config.pluginmanager.register(self, <span class="stringliteral">&quot;funcmanage&quot;</span>)</div>
<div class="line"><span class="lineno"> 1418</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aae32da7251196c4cec572d0bf352ad9a" name="aae32da7251196c4cec572d0bf352ad9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae32da7251196c4cec572d0bf352ad9a">&#9670;&#160;</a></span>_get_direct_parametrize_args()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> List[str] _pytest.fixtures.FixtureManager._get_direct_parametrize_args </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class__pytest_1_1nodes_1_1_node.html">nodes.Node</a>&#160;</td>
          <td class="paramname"><em>node</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return all direct parametrization arguments of a node, so we don't
mistake them for fixtures.

Check https://github.com/pytest-dev/pytest/issues/5036.

These things are done later as well when dealing with parametrization
so this could be improved.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1419</span>    <span class="keyword">def </span>_get_direct_parametrize_args(self, node: nodes.Node) -&gt; List[str]:</div>
<div class="line"><span class="lineno"> 1420</span>        <span class="stringliteral">&quot;&quot;&quot;Return all direct parametrization arguments of a node, so we don&#39;t</span></div>
<div class="line"><span class="lineno"> 1421</span><span class="stringliteral">        mistake them for fixtures.</span></div>
<div class="line"><span class="lineno"> 1422</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1423</span><span class="stringliteral">        Check https://github.com/pytest-dev/pytest/issues/5036.</span></div>
<div class="line"><span class="lineno"> 1424</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1425</span><span class="stringliteral">        These things are done later as well when dealing with parametrization</span></div>
<div class="line"><span class="lineno"> 1426</span><span class="stringliteral">        so this could be improved.</span></div>
<div class="line"><span class="lineno"> 1427</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1428</span>        parametrize_argnames: List[str] = []</div>
<div class="line"><span class="lineno"> 1429</span>        <span class="keywordflow">for</span> marker <span class="keywordflow">in</span> node.iter_markers(name=<span class="stringliteral">&quot;parametrize&quot;</span>):</div>
<div class="line"><span class="lineno"> 1430</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> marker.kwargs.get(<span class="stringliteral">&quot;indirect&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno"> 1431</span>                p_argnames, _ = ParameterSet._parse_parametrize_args(</div>
<div class="line"><span class="lineno"> 1432</span>                    *marker.args, **marker.kwargs</div>
<div class="line"><span class="lineno"> 1433</span>                )</div>
<div class="line"><span class="lineno"> 1434</span>                parametrize_argnames.extend(p_argnames)</div>
<div class="line"><span class="lineno"> 1435</span> </div>
<div class="line"><span class="lineno"> 1436</span>        <span class="keywordflow">return</span> parametrize_argnames</div>
<div class="line"><span class="lineno"> 1437</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae09e495b83687c48b61e4b72c953edbc" name="ae09e495b83687c48b61e4b72c953edbc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae09e495b83687c48b61e4b72c953edbc">&#9670;&#160;</a></span>_getautousenames()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> Iterator[str] _pytest.fixtures.FixtureManager._getautousenames </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>nodeid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return the names of autouse fixtures applicable to nodeid.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1478</span>    <span class="keyword">def </span>_getautousenames(self, nodeid: str) -&gt; Iterator[str]:</div>
<div class="line"><span class="lineno"> 1479</span>        <span class="stringliteral">&quot;&quot;&quot;Return the names of autouse fixtures applicable to nodeid.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1480</span>        <span class="keywordflow">for</span> parentnodeid <span class="keywordflow">in</span> nodes.iterparentnodeids(nodeid):</div>
<div class="line"><span class="lineno"> 1481</span>            basenames = self._nodeid_autousenames.get(parentnodeid)</div>
<div class="line"><span class="lineno"> 1482</span>            <span class="keywordflow">if</span> basenames:</div>
<div class="line"><span class="lineno"> 1483</span>                <span class="keywordflow">yield</span> <span class="keyword">from</span> basenames</div>
<div class="line"><span class="lineno"> 1484</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a14a766a9249fc6c56ed40cdb991aee89" name="a14a766a9249fc6c56ed40cdb991aee89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14a766a9249fc6c56ed40cdb991aee89">&#9670;&#160;</a></span>_matchfactories()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"> Iterator[<a class="el" href="class__pytest_1_1fixtures_1_1_fixture_def.html">FixtureDef</a>[Any]] _pytest.fixtures.FixtureManager._matchfactories </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Iterable[<a class="el" href="class__pytest_1_1fixtures_1_1_fixture_def.html">FixtureDef</a>[Any]]&#160;</td>
          <td class="paramname"><em>fixturedefs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str
    &#160;</td>
          <td class="paramname"><em>nodeid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1668</span>    ) -&gt; Iterator[FixtureDef[Any]]:</div>
<div class="line"><span class="lineno"> 1669</span>        parentnodeids = set(nodes.iterparentnodeids(nodeid))</div>
<div class="line"><span class="lineno"> 1670</span>        <span class="keywordflow">for</span> fixturedef <span class="keywordflow">in</span> fixturedefs:</div>
<div class="line"><span class="lineno"> 1671</span>            <span class="keywordflow">if</span> fixturedef.baseid <span class="keywordflow">in</span> parentnodeids:</div>
<div class="line"><span class="lineno"> 1672</span>                <span class="keywordflow">yield</span> fixturedef</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dac55bd205a9eb62ea612159b53dab6" name="a8dac55bd205a9eb62ea612159b53dab6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dac55bd205a9eb62ea612159b53dab6">&#9670;&#160;</a></span>getfixtureclosure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Tuple[Tuple[str, ...], List[str], Dict[str, Sequence[<a class="el" href="class__pytest_1_1fixtures_1_1_fixture_def.html">FixtureDef</a>[Any]]]] _pytest.fixtures.FixtureManager.getfixtureclosure </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Tuple[str, ...]&#160;</td>
          <td class="paramname"><em>fixturenames</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class__pytest_1_1nodes_1_1_node.html">nodes.Node</a>&#160;</td>
          <td class="paramname"><em>parentnode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Sequence[str] &#160;</td>
          <td class="paramname"><em>ignore_args</em> = <code>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1490</span>    ) -&gt; Tuple[Tuple[str, ...], List[str], Dict[str, Sequence[FixtureDef[Any]]]]:</div>
<div class="line"><span class="lineno"> 1491</span>        <span class="comment"># Collect the closure of all fixtures, starting with the given</span></div>
<div class="line"><span class="lineno"> 1492</span>        <span class="comment"># fixturenames as the initial set.  As we have to visit all</span></div>
<div class="line"><span class="lineno"> 1493</span>        <span class="comment"># factory definitions anyway, we also return an arg2fixturedefs</span></div>
<div class="line"><span class="lineno"> 1494</span>        <span class="comment"># mapping so that the caller can reuse it and does not have</span></div>
<div class="line"><span class="lineno"> 1495</span>        <span class="comment"># to re-discover fixturedefs again for each fixturename</span></div>
<div class="line"><span class="lineno"> 1496</span>        <span class="comment"># (discovering matching fixtures for a given name/node is expensive).</span></div>
<div class="line"><span class="lineno"> 1497</span> </div>
<div class="line"><span class="lineno"> 1498</span>        parentid = parentnode.nodeid</div>
<div class="line"><span class="lineno"> 1499</span>        fixturenames_closure = list(self._getautousenames(parentid))</div>
<div class="line"><span class="lineno"> 1500</span> </div>
<div class="line"><span class="lineno"> 1501</span>        <span class="keyword">def </span>merge(otherlist: Iterable[str]) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1502</span>            <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> otherlist:</div>
<div class="line"><span class="lineno"> 1503</span>                <span class="keywordflow">if</span> arg <span class="keywordflow">not</span> <span class="keywordflow">in</span> fixturenames_closure:</div>
<div class="line"><span class="lineno"> 1504</span>                    fixturenames_closure.append(arg)</div>
<div class="line"><span class="lineno"> 1505</span> </div>
<div class="line"><span class="lineno"> 1506</span>        merge(fixturenames)</div>
<div class="line"><span class="lineno"> 1507</span> </div>
<div class="line"><span class="lineno"> 1508</span>        <span class="comment"># At this point, fixturenames_closure contains what we call &quot;initialnames&quot;,</span></div>
<div class="line"><span class="lineno"> 1509</span>        <span class="comment"># which is a set of fixturenames the function immediately requests. We</span></div>
<div class="line"><span class="lineno"> 1510</span>        <span class="comment"># need to return it as well, so save this.</span></div>
<div class="line"><span class="lineno"> 1511</span>        initialnames = tuple(fixturenames_closure)</div>
<div class="line"><span class="lineno"> 1512</span> </div>
<div class="line"><span class="lineno"> 1513</span>        arg2fixturedefs: Dict[str, Sequence[FixtureDef[Any]]] = {}</div>
<div class="line"><span class="lineno"> 1514</span>        lastlen = -1</div>
<div class="line"><span class="lineno"> 1515</span>        <span class="keywordflow">while</span> lastlen != len(fixturenames_closure):</div>
<div class="line"><span class="lineno"> 1516</span>            lastlen = len(fixturenames_closure)</div>
<div class="line"><span class="lineno"> 1517</span>            <span class="keywordflow">for</span> argname <span class="keywordflow">in</span> fixturenames_closure:</div>
<div class="line"><span class="lineno"> 1518</span>                <span class="keywordflow">if</span> argname <span class="keywordflow">in</span> ignore_args:</div>
<div class="line"><span class="lineno"> 1519</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1520</span>                <span class="keywordflow">if</span> argname <span class="keywordflow">in</span> arg2fixturedefs:</div>
<div class="line"><span class="lineno"> 1521</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1522</span>                fixturedefs = self.getfixturedefs(argname, parentid)</div>
<div class="line"><span class="lineno"> 1523</span>                <span class="keywordflow">if</span> fixturedefs:</div>
<div class="line"><span class="lineno"> 1524</span>                    arg2fixturedefs[argname] = fixturedefs</div>
<div class="line"><span class="lineno"> 1525</span>                    merge(fixturedefs[-1].argnames)</div>
<div class="line"><span class="lineno"> 1526</span> </div>
<div class="line"><span class="lineno"> 1527</span>        <span class="keyword">def </span>sort_by_scope(arg_name: str) -&gt; Scope:</div>
<div class="line"><span class="lineno"> 1528</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1529</span>                fixturedefs = arg2fixturedefs[arg_name]</div>
<div class="line"><span class="lineno"> 1530</span>            <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><span class="lineno"> 1531</span>                <span class="keywordflow">return</span> Scope.Function</div>
<div class="line"><span class="lineno"> 1532</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1533</span>                <span class="keywordflow">return</span> fixturedefs[-1]._scope</div>
<div class="line"><span class="lineno"> 1534</span> </div>
<div class="line"><span class="lineno"> 1535</span>        fixturenames_closure.sort(key=sort_by_scope, reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno"> 1536</span>        <span class="keywordflow">return</span> initialnames, fixturenames_closure, arg2fixturedefs</div>
<div class="line"><span class="lineno"> 1537</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ad9768ebdb7f18ea4310a84e82433c3" name="a8ad9768ebdb7f18ea4310a84e82433c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ad9768ebdb7f18ea4310a84e82433c3">&#9670;&#160;</a></span>getfixturedefs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Optional[Sequence[<a class="el" href="class__pytest_1_1fixtures_1_1_fixture_def.html">FixtureDef</a>[Any]]] _pytest.fixtures.FixtureManager.getfixturedefs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>argname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str
    &#160;</td>
          <td class="paramname"><em>nodeid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get a list of fixtures which are applicable to the given node id.

:param str argname: Name of the fixture to search for.
:param str nodeid: Full node id of the requesting test.
:rtype: Sequence[FixtureDef]
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1653</span>    ) -&gt; Optional[Sequence[FixtureDef[Any]]]:</div>
<div class="line"><span class="lineno"> 1654</span>        <span class="stringliteral">&quot;&quot;&quot;Get a list of fixtures which are applicable to the given node id.</span></div>
<div class="line"><span class="lineno"> 1655</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1656</span><span class="stringliteral">        :param str argname: Name of the fixture to search for.</span></div>
<div class="line"><span class="lineno"> 1657</span><span class="stringliteral">        :param str nodeid: Full node id of the requesting test.</span></div>
<div class="line"><span class="lineno"> 1658</span><span class="stringliteral">        :rtype: Sequence[FixtureDef]</span></div>
<div class="line"><span class="lineno"> 1659</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1660</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1661</span>            fixturedefs = self._arg2fixturedefs[argname]</div>
<div class="line"><span class="lineno"> 1662</span>        <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><span class="lineno"> 1663</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1664</span>        <span class="keywordflow">return</span> tuple(self._matchfactories(fixturedefs, nodeid))</div>
<div class="line"><span class="lineno"> 1665</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ba8aabf85564a41ce92cea856c8dc27" name="a5ba8aabf85564a41ce92cea856c8dc27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ba8aabf85564a41ce92cea856c8dc27">&#9670;&#160;</a></span>getfixtureinfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="class__pytest_1_1fixtures_1_1_func_fixture_info.html">FuncFixtureInfo</a> _pytest.fixtures.FixtureManager.getfixtureinfo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class__pytest_1_1nodes_1_1_node.html">nodes.Node</a>&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>funcargs</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1440</span>    ) -&gt; FuncFixtureInfo:</div>
<div class="line"><span class="lineno"> 1441</span>        <span class="keywordflow">if</span> funcargs <span class="keywordflow">and</span> <span class="keywordflow">not</span> getattr(node, <span class="stringliteral">&quot;nofuncargs&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno"> 1442</span>            argnames = getfuncargnames(func, name=node.name, cls=cls)</div>
<div class="line"><span class="lineno"> 1443</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1444</span>            argnames = ()</div>
<div class="line"><span class="lineno"> 1445</span> </div>
<div class="line"><span class="lineno"> 1446</span>        usefixtures = tuple(</div>
<div class="line"><span class="lineno"> 1447</span>            arg <span class="keywordflow">for</span> mark <span class="keywordflow">in</span> node.iter_markers(name=<span class="stringliteral">&quot;usefixtures&quot;</span>) <span class="keywordflow">for</span> arg <span class="keywordflow">in</span> mark.args</div>
<div class="line"><span class="lineno"> 1448</span>        )</div>
<div class="line"><span class="lineno"> 1449</span>        initialnames = usefixtures + argnames</div>
<div class="line"><span class="lineno"> 1450</span>        fm = node.session._fixturemanager</div>
<div class="line"><span class="lineno"> 1451</span>        initialnames, names_closure, arg2fixturedefs = fm.getfixtureclosure(</div>
<div class="line"><span class="lineno"> 1452</span>            initialnames, node, ignore_args=self._get_direct_parametrize_args(node)</div>
<div class="line"><span class="lineno"> 1453</span>        )</div>
<div class="line"><span class="lineno"> 1454</span>        <span class="keywordflow">return</span> FuncFixtureInfo(argnames, initialnames, names_closure, arg2fixturedefs)</div>
<div class="line"><span class="lineno"> 1455</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aee7193e11868f9fa886d08d1bf1cc823" name="aee7193e11868f9fa886d08d1bf1cc823"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aee7193e11868f9fa886d08d1bf1cc823">&#9670;&#160;</a></span>parsefactories()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.fixtures.FixtureManager.parsefactories </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>node_or_obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>nodeid</em> = <code>NOTSET</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>unittest</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1589</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1590</span>        <span class="keywordflow">if</span> nodeid <span class="keywordflow">is</span> <span class="keywordflow">not</span> NOTSET:</div>
<div class="line"><span class="lineno"> 1591</span>            holderobj = node_or_obj</div>
<div class="line"><span class="lineno"> 1592</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1593</span>            holderobj = node_or_obj.obj</div>
<div class="line"><span class="lineno"> 1594</span>            nodeid = node_or_obj.nodeid</div>
<div class="line"><span class="lineno"> 1595</span>        <span class="keywordflow">if</span> holderobj <span class="keywordflow">in</span> self._holderobjseen:</div>
<div class="line"><span class="lineno"> 1596</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 1597</span> </div>
<div class="line"><span class="lineno"> 1598</span>        self._holderobjseen.add(holderobj)</div>
<div class="line"><span class="lineno"> 1599</span>        autousenames = []</div>
<div class="line"><span class="lineno"> 1600</span>        <span class="keywordflow">for</span> name <span class="keywordflow">in</span> dir(holderobj):</div>
<div class="line"><span class="lineno"> 1601</span>            <span class="comment"># ugly workaround for one of the fspath deprecated property of node</span></div>
<div class="line"><span class="lineno"> 1602</span>            <span class="comment"># todo: safely generalize</span></div>
<div class="line"><span class="lineno"> 1603</span>            <span class="keywordflow">if</span> isinstance(holderobj, nodes.Node) <span class="keywordflow">and</span> name == <span class="stringliteral">&quot;fspath&quot;</span>:</div>
<div class="line"><span class="lineno"> 1604</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1605</span> </div>
<div class="line"><span class="lineno"> 1606</span>            <span class="comment"># The attribute can be an arbitrary descriptor, so the attribute</span></div>
<div class="line"><span class="lineno"> 1607</span>            <span class="comment"># access below can raise. safe_getatt() ignores such exceptions.</span></div>
<div class="line"><span class="lineno"> 1608</span>            obj = safe_getattr(holderobj, name, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno"> 1609</span>            marker = getfixturemarker(obj)</div>
<div class="line"><span class="lineno"> 1610</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(marker, FixtureFunctionMarker):</div>
<div class="line"><span class="lineno"> 1611</span>                <span class="comment"># Magic globals  with __getattr__ might have got us a wrong</span></div>
<div class="line"><span class="lineno"> 1612</span>                <span class="comment"># fixture attribute.</span></div>
<div class="line"><span class="lineno"> 1613</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1614</span> </div>
<div class="line"><span class="lineno"> 1615</span>            <span class="keywordflow">if</span> marker.name:</div>
<div class="line"><span class="lineno"> 1616</span>                name = marker.name</div>
<div class="line"><span class="lineno"> 1617</span> </div>
<div class="line"><span class="lineno"> 1618</span>            <span class="comment"># During fixture definition we wrap the original fixture function</span></div>
<div class="line"><span class="lineno"> 1619</span>            <span class="comment"># to issue a warning if called directly, so here we unwrap it in</span></div>
<div class="line"><span class="lineno"> 1620</span>            <span class="comment"># order to not emit the warning when pytest itself calls the</span></div>
<div class="line"><span class="lineno"> 1621</span>            <span class="comment"># fixture function.</span></div>
<div class="line"><span class="lineno"> 1622</span>            obj = get_real_method(obj, holderobj)</div>
<div class="line"><span class="lineno"> 1623</span> </div>
<div class="line"><span class="lineno"> 1624</span>            fixture_def = FixtureDef(</div>
<div class="line"><span class="lineno"> 1625</span>                fixturemanager=self,</div>
<div class="line"><span class="lineno"> 1626</span>                baseid=nodeid,</div>
<div class="line"><span class="lineno"> 1627</span>                argname=name,</div>
<div class="line"><span class="lineno"> 1628</span>                func=obj,</div>
<div class="line"><span class="lineno"> 1629</span>                scope=marker.scope,</div>
<div class="line"><span class="lineno"> 1630</span>                params=marker.params,</div>
<div class="line"><span class="lineno"> 1631</span>                unittest=unittest,</div>
<div class="line"><span class="lineno"> 1632</span>                ids=marker.ids,</div>
<div class="line"><span class="lineno"> 1633</span>            )</div>
<div class="line"><span class="lineno"> 1634</span> </div>
<div class="line"><span class="lineno"> 1635</span>            faclist = self._arg2fixturedefs.setdefault(name, [])</div>
<div class="line"><span class="lineno"> 1636</span>            <span class="keywordflow">if</span> fixture_def.has_location:</div>
<div class="line"><span class="lineno"> 1637</span>                faclist.append(fixture_def)</div>
<div class="line"><span class="lineno"> 1638</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1639</span>                <span class="comment"># fixturedefs with no location are at the front</span></div>
<div class="line"><span class="lineno"> 1640</span>                <span class="comment"># so this inserts the current fixturedef after the</span></div>
<div class="line"><span class="lineno"> 1641</span>                <span class="comment"># existing fixturedefs from external plugins but</span></div>
<div class="line"><span class="lineno"> 1642</span>                <span class="comment"># before the fixturedefs provided in conftests.</span></div>
<div class="line"><span class="lineno"> 1643</span>                i = len([f <span class="keywordflow">for</span> f <span class="keywordflow">in</span> faclist <span class="keywordflow">if</span> <span class="keywordflow">not</span> f.has_location])</div>
<div class="line"><span class="lineno"> 1644</span>                faclist.insert(i, fixture_def)</div>
<div class="line"><span class="lineno"> 1645</span>            <span class="keywordflow">if</span> marker.autouse:</div>
<div class="line"><span class="lineno"> 1646</span>                autousenames.append(name)</div>
<div class="line"><span class="lineno"> 1647</span> </div>
<div class="line"><span class="lineno"> 1648</span>        <span class="keywordflow">if</span> autousenames:</div>
<div class="line"><span class="lineno"> 1649</span>            self._nodeid_autousenames.setdefault(nodeid <span class="keywordflow">or</span> <span class="stringliteral">&quot;&quot;</span>, []).extend(autousenames)</div>
<div class="line"><span class="lineno"> 1650</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acfa478f27b76d642d2cbd553617514bf" name="acfa478f27b76d642d2cbd553617514bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acfa478f27b76d642d2cbd553617514bf">&#9670;&#160;</a></span>pytest_collection_modifyitems()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.fixtures.FixtureManager.pytest_collection_modifyitems </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[<a class="el" href="class__pytest_1_1nodes_1_1_item.html">nodes.Item</a>]&#160;</td>
          <td class="paramname"><em>items</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1583</span>    <span class="keyword">def </span>pytest_collection_modifyitems(self, items: List[nodes.Item]) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1584</span>        <span class="comment"># Separate parametrized setups.</span></div>
<div class="line"><span class="lineno"> 1585</span>        items[:] = reorder_items(items)</div>
<div class="line"><span class="lineno"> 1586</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5d72e75b602f6a1c3f7819fb82514d84" name="a5d72e75b602f6a1c3f7819fb82514d84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d72e75b602f6a1c3f7819fb82514d84">&#9670;&#160;</a></span>pytest_generate_tests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.fixtures.FixtureManager.pytest_generate_tests </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&quot;Metafunc&quot;&#160;</td>
          <td class="paramname"><em>metafunc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Generate new tests based on parametrized fixtures used by the given metafunc</pre> <div class="fragment"><div class="line"><span class="lineno"> 1538</span>    <span class="keyword">def </span>pytest_generate_tests(self, metafunc: <span class="stringliteral">&quot;Metafunc&quot;</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1539</span>        <span class="stringliteral">&quot;&quot;&quot;Generate new tests based on parametrized fixtures used by the given metafunc&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1540</span> </div>
<div class="line"><span class="lineno"> 1541</span>        <span class="keyword">def </span>get_parametrize_mark_argnames(mark: Mark) -&gt; Sequence[str]:</div>
<div class="line"><span class="lineno"> 1542</span>            args, _ = ParameterSet._parse_parametrize_args(*mark.args, **mark.kwargs)</div>
<div class="line"><span class="lineno"> 1543</span>            <span class="keywordflow">return</span> args</div>
<div class="line"><span class="lineno"> 1544</span> </div>
<div class="line"><span class="lineno"> 1545</span>        <span class="keywordflow">for</span> argname <span class="keywordflow">in</span> metafunc.fixturenames:</div>
<div class="line"><span class="lineno"> 1546</span>            <span class="comment"># Get the FixtureDefs for the argname.</span></div>
<div class="line"><span class="lineno"> 1547</span>            fixture_defs = metafunc._arg2fixturedefs.get(argname)</div>
<div class="line"><span class="lineno"> 1548</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> fixture_defs:</div>
<div class="line"><span class="lineno"> 1549</span>                <span class="comment"># Will raise FixtureLookupError at setup time if not parametrized somewhere</span></div>
<div class="line"><span class="lineno"> 1550</span>                <span class="comment"># else (e.g @pytest.mark.parametrize)</span></div>
<div class="line"><span class="lineno"> 1551</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1552</span> </div>
<div class="line"><span class="lineno"> 1553</span>            <span class="comment"># If the test itself parametrizes using this argname, give it</span></div>
<div class="line"><span class="lineno"> 1554</span>            <span class="comment"># precedence.</span></div>
<div class="line"><span class="lineno"> 1555</span>            <span class="keywordflow">if</span> any(</div>
<div class="line"><span class="lineno"> 1556</span>                argname <span class="keywordflow">in</span> get_parametrize_mark_argnames(mark)</div>
<div class="line"><span class="lineno"> 1557</span>                <span class="keywordflow">for</span> mark <span class="keywordflow">in</span> metafunc.definition.iter_markers(<span class="stringliteral">&quot;parametrize&quot;</span>)</div>
<div class="line"><span class="lineno"> 1558</span>            ):</div>
<div class="line"><span class="lineno"> 1559</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno"> 1560</span> </div>
<div class="line"><span class="lineno"> 1561</span>            <span class="comment"># In the common case we only look at the fixture def with the</span></div>
<div class="line"><span class="lineno"> 1562</span>            <span class="comment"># closest scope (last in the list). But if the fixture overrides</span></div>
<div class="line"><span class="lineno"> 1563</span>            <span class="comment"># another fixture, while requesting the super fixture, keep going</span></div>
<div class="line"><span class="lineno"> 1564</span>            <span class="comment"># in case the super fixture is parametrized (#1953).</span></div>
<div class="line"><span class="lineno"> 1565</span>            <span class="keywordflow">for</span> fixturedef <span class="keywordflow">in</span> reversed(fixture_defs):</div>
<div class="line"><span class="lineno"> 1566</span>                <span class="comment"># Fixture is parametrized, apply it and stop.</span></div>
<div class="line"><span class="lineno"> 1567</span>                <span class="keywordflow">if</span> fixturedef.params <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1568</span>                    metafunc.parametrize(</div>
<div class="line"><span class="lineno"> 1569</span>                        argname,</div>
<div class="line"><span class="lineno"> 1570</span>                        fixturedef.params,</div>
<div class="line"><span class="lineno"> 1571</span>                        indirect=<span class="keyword">True</span>,</div>
<div class="line"><span class="lineno"> 1572</span>                        scope=fixturedef.scope,</div>
<div class="line"><span class="lineno"> 1573</span>                        ids=fixturedef.ids,</div>
<div class="line"><span class="lineno"> 1574</span>                    )</div>
<div class="line"><span class="lineno"> 1575</span>                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1576</span> </div>
<div class="line"><span class="lineno"> 1577</span>                <span class="comment"># Not requesting the overridden super fixture, stop.</span></div>
<div class="line"><span class="lineno"> 1578</span>                <span class="keywordflow">if</span> argname <span class="keywordflow">not</span> <span class="keywordflow">in</span> fixturedef.argnames:</div>
<div class="line"><span class="lineno"> 1579</span>                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno"> 1580</span> </div>
<div class="line"><span class="lineno"> 1581</span>                <span class="comment"># Try next super fixture, if any.</span></div>
<div class="line"><span class="lineno"> 1582</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab8812602c295039d39d0de88fa2f1bd2" name="ab8812602c295039d39d0de88fa2f1bd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8812602c295039d39d0de88fa2f1bd2">&#9670;&#160;</a></span>pytest_plugin_registered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.fixtures.FixtureManager.pytest_plugin_registered </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">_PluggyPlugin&#160;</td>
          <td class="paramname"><em>plugin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1456</span>    <span class="keyword">def </span>pytest_plugin_registered(self, plugin: _PluggyPlugin) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1457</span>        nodeid = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1458</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1459</span>            p = absolutepath(plugin.__file__)  <span class="comment"># type: ignore[attr-defined]</span></div>
<div class="line"><span class="lineno"> 1460</span>        <span class="keywordflow">except</span> AttributeError:</div>
<div class="line"><span class="lineno"> 1461</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1462</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1463</span>            <span class="comment"># Construct the base nodeid which is later used to check</span></div>
<div class="line"><span class="lineno"> 1464</span>            <span class="comment"># what fixtures are visible for particular tests (as denoted</span></div>
<div class="line"><span class="lineno"> 1465</span>            <span class="comment"># by their test id).</span></div>
<div class="line"><span class="lineno"> 1466</span>            <span class="keywordflow">if</span> p.name.startswith(<span class="stringliteral">&quot;conftest.py&quot;</span>):</div>
<div class="line"><span class="lineno"> 1467</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1468</span>                    nodeid = str(p.parent.relative_to(self.config.rootpath))</div>
<div class="line"><span class="lineno"> 1469</span>                <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno"> 1470</span>                    nodeid = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1471</span>                <span class="keywordflow">if</span> nodeid == <span class="stringliteral">&quot;.&quot;</span>:</div>
<div class="line"><span class="lineno"> 1472</span>                    nodeid = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1473</span>                <span class="keywordflow">if</span> os.sep != nodes.SEP:</div>
<div class="line"><span class="lineno"> 1474</span>                    nodeid = nodeid.replace(os.sep, nodes.SEP)</div>
<div class="line"><span class="lineno"> 1475</span> </div>
<div class="line"><span class="lineno"> 1476</span>        self.parsefactories(plugin, nodeid)</div>
<div class="line"><span class="lineno"> 1477</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4e11d94e67e0d5c284f6e8a604960af8" name="a4e11d94e67e0d5c284f6e8a604960af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e11d94e67e0d5c284f6e8a604960af8">&#9670;&#160;</a></span>FixtureLookupError</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_pytest.fixtures.FixtureManager.FixtureLookupError = <a class="el" href="class__pytest_1_1fixtures_1_1_fixture_lookup_error.html">FixtureLookupError</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2d6bbe5abd4525efdf6b2b1d4d15f908" name="a2d6bbe5abd4525efdf6b2b1d4d15f908"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d6bbe5abd4525efdf6b2b1d4d15f908">&#9670;&#160;</a></span>FixtureLookupErrorRepr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_pytest.fixtures.FixtureManager.FixtureLookupErrorRepr = <a class="el" href="class__pytest_1_1fixtures_1_1_fixture_lookup_error_repr.html">FixtureLookupErrorRepr</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a80b11e3ef5e3e5f6c78aefd4ced98bb6" name="a80b11e3ef5e3e5f6c78aefd4ced98bb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80b11e3ef5e3e5f6c78aefd4ced98bb6">&#9670;&#160;</a></span>session</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">_pytest.fixtures.FixtureManager.session</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/_pytest/<a class="el" href="fixtures_8py.html">fixtures.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
