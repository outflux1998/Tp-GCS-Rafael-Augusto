<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: pandas.tests.groupby.test_libgroupby Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepandas.html">pandas</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests.html">tests</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1groupby.html">groupby</a></li><li class="navelem"><a class="el" href="namespacepandas_1_1tests_1_1groupby_1_1test__libgroupby.html">test_libgroupby</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">pandas.tests.groupby.test_libgroupby Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1groupby_1_1test__libgroupby_1_1_group_var_test_mixin.html">GroupVarTestMixin</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1groupby_1_1test__libgroupby_1_1_test_group_var_float32.html">TestGroupVarFloat32</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpandas_1_1tests_1_1groupby_1_1test__libgroupby_1_1_test_group_var_float64.html">TestGroupVarFloat64</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a50a618279c7476434e662e8f31e71bfe" id="r_a50a618279c7476434e662e8f31e71bfe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1groupby_1_1test__libgroupby.html#a50a618279c7476434e662e8f31e71bfe">test_group_ohlc</a> (dtype)</td></tr>
<tr class="separator:a50a618279c7476434e662e8f31e71bfe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a322a1d88c3486b5f276c55a192772192" id="r_a322a1d88c3486b5f276c55a192772192"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1groupby_1_1test__libgroupby.html#a322a1d88c3486b5f276c55a192772192">_check_cython_group_transform_cumulative</a> (pd_op, np_op, dtype)</td></tr>
<tr class="separator:a322a1d88c3486b5f276c55a192772192"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec6546d08359b822f102c9b42f0a39bd" id="r_aec6546d08359b822f102c9b42f0a39bd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1groupby_1_1test__libgroupby.html#aec6546d08359b822f102c9b42f0a39bd">test_cython_group_transform_cumsum</a> (np_dtype)</td></tr>
<tr class="separator:aec6546d08359b822f102c9b42f0a39bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2580e7a504f850968a471efa265b2f50" id="r_a2580e7a504f850968a471efa265b2f50"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1groupby_1_1test__libgroupby.html#a2580e7a504f850968a471efa265b2f50">test_cython_group_transform_cumprod</a> ()</td></tr>
<tr class="separator:a2580e7a504f850968a471efa265b2f50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b9ebf15b0b867b39491f0e932323c3e" id="r_a3b9ebf15b0b867b39491f0e932323c3e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1groupby_1_1test__libgroupby.html#a3b9ebf15b0b867b39491f0e932323c3e">test_cython_group_transform_algos</a> ()</td></tr>
<tr class="separator:a3b9ebf15b0b867b39491f0e932323c3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cd73d280109d7cd4d934b2e46f234a5" id="r_a4cd73d280109d7cd4d934b2e46f234a5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1groupby_1_1test__libgroupby.html#a4cd73d280109d7cd4d934b2e46f234a5">test_cython_group_mean_datetimelike</a> ()</td></tr>
<tr class="separator:a4cd73d280109d7cd4d934b2e46f234a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a746ae16e0407538e810d08387c5f9feb" id="r_a746ae16e0407538e810d08387c5f9feb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1groupby_1_1test__libgroupby.html#a746ae16e0407538e810d08387c5f9feb">test_cython_group_mean_wrong_min_count</a> ()</td></tr>
<tr class="separator:a746ae16e0407538e810d08387c5f9feb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af372c0f18385102d2672c844efcc0883" id="r_af372c0f18385102d2672c844efcc0883"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacepandas_1_1tests_1_1groupby_1_1test__libgroupby.html#af372c0f18385102d2672c844efcc0883">test_cython_group_mean_not_datetimelike_but_has_NaT_values</a> ()</td></tr>
<tr class="separator:af372c0f18385102d2672c844efcc0883"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a322a1d88c3486b5f276c55a192772192" name="a322a1d88c3486b5f276c55a192772192"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a322a1d88c3486b5f276c55a192772192">&#9670;&#160;</a></span>_check_cython_group_transform_cumulative()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.groupby.test_libgroupby._check_cython_group_transform_cumulative </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pd_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>np_op</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Check a group transform that executes a cumulative function.

Parameters
----------
pd_op : callable
    The pandas cumulative function.
np_op : callable
    The analogous one in NumPy.
dtype : type
    The specified dtype of the data.
</pre> <div class="fragment"><div class="line"><span class="lineno">  161</span><span class="keyword">def </span>_check_cython_group_transform_cumulative(pd_op, np_op, dtype):</div>
<div class="line"><span class="lineno">  162</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral">    Check a group transform that executes a cumulative function.</span></div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  166</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  167</span><span class="stringliteral">    pd_op : callable</span></div>
<div class="line"><span class="lineno">  168</span><span class="stringliteral">        The pandas cumulative function.</span></div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral">    np_op : callable</span></div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral">        The analogous one in NumPy.</span></div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">    dtype : type</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">        The specified dtype of the data.</span></div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  174</span>    is_datetimelike = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>    data = np.array([[1], [2], [3], [4]], dtype=dtype)</div>
<div class="line"><span class="lineno">  177</span>    answer = np.zeros_like(data)</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>    labels = np.array([0, 0, 0, 0], dtype=np.intp)</div>
<div class="line"><span class="lineno">  180</span>    ngroups = 1</div>
<div class="line"><span class="lineno">  181</span>    pd_op(answer, data, labels, ngroups, is_datetimelike)</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>    tm.assert_numpy_array_equal(np_op(data), answer[:, 0], check_dtype=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span><span class="preprocessor">@pytest.mark.parametrize(&quot;np_dtype&quot;, [&quot;int64&quot;, &quot;uint64&quot;, &quot;float32&quot;, &quot;float64&quot;])</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4cd73d280109d7cd4d934b2e46f234a5" name="a4cd73d280109d7cd4d934b2e46f234a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cd73d280109d7cd4d934b2e46f234a5">&#9670;&#160;</a></span>test_cython_group_mean_datetimelike()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.groupby.test_libgroupby.test_cython_group_mean_datetimelike </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  239</span><span class="keyword">def </span>test_cython_group_mean_datetimelike():</div>
<div class="line"><span class="lineno">  240</span>    actual = np.zeros(shape=(1, 1), dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno">  241</span>    counts = np.array([0], dtype=<span class="stringliteral">&quot;int64&quot;</span>)</div>
<div class="line"><span class="lineno">  242</span>    data = (</div>
<div class="line"><span class="lineno">  243</span>        np.array(</div>
<div class="line"><span class="lineno">  244</span>            [np.timedelta64(2, <span class="stringliteral">&quot;ns&quot;</span>), np.timedelta64(4, <span class="stringliteral">&quot;ns&quot;</span>), np.timedelta64(<span class="stringliteral">&quot;NaT&quot;</span>)],</div>
<div class="line"><span class="lineno">  245</span>            dtype=<span class="stringliteral">&quot;m8[ns]&quot;</span>,</div>
<div class="line"><span class="lineno">  246</span>        )[:, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno">  247</span>        .view(<span class="stringliteral">&quot;int64&quot;</span>)</div>
<div class="line"><span class="lineno">  248</span>        .astype(<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno">  249</span>    )</div>
<div class="line"><span class="lineno">  250</span>    labels = np.zeros(len(data), dtype=np.intp)</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    group_mean(actual, counts, data, labels, is_datetimelike=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    tm.assert_numpy_array_equal(actual[:, 0], np.array([3], dtype=<span class="stringliteral">&quot;float64&quot;</span>))</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af372c0f18385102d2672c844efcc0883" name="af372c0f18385102d2672c844efcc0883"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af372c0f18385102d2672c844efcc0883">&#9670;&#160;</a></span>test_cython_group_mean_not_datetimelike_but_has_NaT_values()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.groupby.test_libgroupby.test_cython_group_mean_not_datetimelike_but_has_NaT_values </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  267</span><span class="keyword">def </span>test_cython_group_mean_not_datetimelike_but_has_NaT_values():</div>
<div class="line"><span class="lineno">  268</span>    actual = np.zeros(shape=(1, 1), dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno">  269</span>    counts = np.array([0], dtype=<span class="stringliteral">&quot;int64&quot;</span>)</div>
<div class="line"><span class="lineno">  270</span>    data = (</div>
<div class="line"><span class="lineno">  271</span>        np.array(</div>
<div class="line"><span class="lineno">  272</span>            [np.timedelta64(<span class="stringliteral">&quot;NaT&quot;</span>), np.timedelta64(<span class="stringliteral">&quot;NaT&quot;</span>)],</div>
<div class="line"><span class="lineno">  273</span>            dtype=<span class="stringliteral">&quot;m8[ns]&quot;</span>,</div>
<div class="line"><span class="lineno">  274</span>        )[:, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno">  275</span>        .view(<span class="stringliteral">&quot;int64&quot;</span>)</div>
<div class="line"><span class="lineno">  276</span>        .astype(<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno">  277</span>    )</div>
<div class="line"><span class="lineno">  278</span>    labels = np.zeros(len(data), dtype=np.intp)</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>    group_mean(actual, counts, data, labels, is_datetimelike=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    tm.assert_numpy_array_equal(</div>
<div class="line"><span class="lineno">  283</span>        actual[:, 0], np.array(np.divide(np.add(data[0], data[1]), 2), dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno">  284</span>    )</div>
</div><!-- fragment -->
</div>
</div>
<a id="a746ae16e0407538e810d08387c5f9feb" name="a746ae16e0407538e810d08387c5f9feb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a746ae16e0407538e810d08387c5f9feb">&#9670;&#160;</a></span>test_cython_group_mean_wrong_min_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.groupby.test_libgroupby.test_cython_group_mean_wrong_min_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  257</span><span class="keyword">def </span>test_cython_group_mean_wrong_min_count():</div>
<div class="line"><span class="lineno">  258</span>    actual = np.zeros(shape=(1, 1), dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno">  259</span>    counts = np.zeros(1, dtype=<span class="stringliteral">&quot;int64&quot;</span>)</div>
<div class="line"><span class="lineno">  260</span>    data = np.zeros(1, dtype=<span class="stringliteral">&quot;float64&quot;</span>)[:, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno">  261</span>    labels = np.zeros(1, dtype=np.intp)</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>    <span class="keyword">with</span> pytest.raises(AssertionError, match=<span class="stringliteral">&quot;min_count&quot;</span>):</div>
<div class="line"><span class="lineno">  264</span>        group_mean(actual, counts, data, labels, is_datetimelike=<span class="keyword">True</span>, min_count=0)</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b9ebf15b0b867b39491f0e932323c3e" name="a3b9ebf15b0b867b39491f0e932323c3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b9ebf15b0b867b39491f0e932323c3e">&#9670;&#160;</a></span>test_cython_group_transform_algos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.groupby.test_libgroupby.test_cython_group_transform_algos </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  201</span><span class="keyword">def </span>test_cython_group_transform_algos():</div>
<div class="line"><span class="lineno">  202</span>    <span class="comment"># see gh-4095</span></div>
<div class="line"><span class="lineno">  203</span>    is_datetimelike = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>    <span class="comment"># with nans</span></div>
<div class="line"><span class="lineno">  206</span>    labels = np.array([0, 0, 0, 0, 0], dtype=np.intp)</div>
<div class="line"><span class="lineno">  207</span>    ngroups = 1</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>    data = np.array([[1], [2], [3], [np.nan], [4]], dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno">  210</span>    actual = np.zeros_like(data)</div>
<div class="line"><span class="lineno">  211</span>    actual.fill(np.nan)</div>
<div class="line"><span class="lineno">  212</span>    group_cumprod_float64(actual, data, labels, ngroups, is_datetimelike)</div>
<div class="line"><span class="lineno">  213</span>    expected = np.array([1, 2, 6, np.nan, 24], dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno">  214</span>    tm.assert_numpy_array_equal(actual[:, 0], expected)</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>    actual = np.zeros_like(data)</div>
<div class="line"><span class="lineno">  217</span>    actual.fill(np.nan)</div>
<div class="line"><span class="lineno">  218</span>    group_cumsum(actual, data, labels, ngroups, is_datetimelike)</div>
<div class="line"><span class="lineno">  219</span>    expected = np.array([1, 3, 6, np.nan, 10], dtype=<span class="stringliteral">&quot;float64&quot;</span>)</div>
<div class="line"><span class="lineno">  220</span>    tm.assert_numpy_array_equal(actual[:, 0], expected)</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>    <span class="comment"># timedelta</span></div>
<div class="line"><span class="lineno">  223</span>    is_datetimelike = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  224</span>    data = np.array([np.timedelta64(1, <span class="stringliteral">&quot;ns&quot;</span>)] * 5, dtype=<span class="stringliteral">&quot;m8[ns]&quot;</span>)[:, <span class="keywordtype">None</span>]</div>
<div class="line"><span class="lineno">  225</span>    actual = np.zeros_like(data, dtype=<span class="stringliteral">&quot;int64&quot;</span>)</div>
<div class="line"><span class="lineno">  226</span>    group_cumsum(actual, data.view(<span class="stringliteral">&quot;int64&quot;</span>), labels, ngroups, is_datetimelike)</div>
<div class="line"><span class="lineno">  227</span>    expected = np.array(</div>
<div class="line"><span class="lineno">  228</span>        [</div>
<div class="line"><span class="lineno">  229</span>            np.timedelta64(1, <span class="stringliteral">&quot;ns&quot;</span>),</div>
<div class="line"><span class="lineno">  230</span>            np.timedelta64(2, <span class="stringliteral">&quot;ns&quot;</span>),</div>
<div class="line"><span class="lineno">  231</span>            np.timedelta64(3, <span class="stringliteral">&quot;ns&quot;</span>),</div>
<div class="line"><span class="lineno">  232</span>            np.timedelta64(4, <span class="stringliteral">&quot;ns&quot;</span>),</div>
<div class="line"><span class="lineno">  233</span>            np.timedelta64(5, <span class="stringliteral">&quot;ns&quot;</span>),</div>
<div class="line"><span class="lineno">  234</span>        ]</div>
<div class="line"><span class="lineno">  235</span>    )</div>
<div class="line"><span class="lineno">  236</span>    tm.assert_numpy_array_equal(actual[:, 0].view(<span class="stringliteral">&quot;m8[ns]&quot;</span>), expected)</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2580e7a504f850968a471efa265b2f50" name="a2580e7a504f850968a471efa265b2f50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2580e7a504f850968a471efa265b2f50">&#9670;&#160;</a></span>test_cython_group_transform_cumprod()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.groupby.test_libgroupby.test_cython_group_transform_cumprod </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  194</span><span class="keyword">def </span>test_cython_group_transform_cumprod():</div>
<div class="line"><span class="lineno">  195</span>    <span class="comment"># see gh-4095</span></div>
<div class="line"><span class="lineno">  196</span>    dtype = np.float64</div>
<div class="line"><span class="lineno">  197</span>    pd_op, np_op = group_cumprod_float64, np.cumproduct</div>
<div class="line"><span class="lineno">  198</span>    _check_cython_group_transform_cumulative(pd_op, np_op, dtype)</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aec6546d08359b822f102c9b42f0a39bd" name="aec6546d08359b822f102c9b42f0a39bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec6546d08359b822f102c9b42f0a39bd">&#9670;&#160;</a></span>test_cython_group_transform_cumsum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.groupby.test_libgroupby.test_cython_group_transform_cumsum </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>np_dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  187</span><span class="keyword">def </span>test_cython_group_transform_cumsum(np_dtype):</div>
<div class="line"><span class="lineno">  188</span>    <span class="comment"># see gh-4095</span></div>
<div class="line"><span class="lineno">  189</span>    dtype = np.dtype(np_dtype).type</div>
<div class="line"><span class="lineno">  190</span>    pd_op, np_op = group_cumsum, np.cumsum</div>
<div class="line"><span class="lineno">  191</span>    _check_cython_group_transform_cumulative(pd_op, np_op, dtype)</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a50a618279c7476434e662e8f31e71bfe" name="a50a618279c7476434e662e8f31e71bfe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50a618279c7476434e662e8f31e71bfe">&#9670;&#160;</a></span>test_group_ohlc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pandas.tests.groupby.test_libgroupby.test_group_ohlc </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  134</span><span class="keyword">def </span>test_group_ohlc(dtype):</div>
<div class="line"><span class="lineno">  135</span>    obj = np.array(np.random.randn(20), dtype=dtype)</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>    bins = np.array([6, 12, 20])</div>
<div class="line"><span class="lineno">  138</span>    out = np.zeros((3, 4), dtype)</div>
<div class="line"><span class="lineno">  139</span>    counts = np.zeros(len(out), dtype=np.int64)</div>
<div class="line"><span class="lineno">  140</span>    labels = ensure_platform_int(np.repeat(np.arange(3), np.diff(np.r_[0, bins])))</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    func = libgroupby.group_ohlc</div>
<div class="line"><span class="lineno">  143</span>    <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(out, counts, obj[:, <span class="keywordtype">None</span>], labels)</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>    <span class="keyword">def </span>_ohlc(group):</div>
<div class="line"><span class="lineno">  146</span>        <span class="keywordflow">if</span> isna(group).all():</div>
<div class="line"><span class="lineno">  147</span>            <span class="keywordflow">return</span> np.repeat(np.nan, 4)</div>
<div class="line"><span class="lineno">  148</span>        <span class="keywordflow">return</span> [group[0], group.max(), group.min(), group[-1]]</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>    expected = np.array([_ohlc(obj[:6]), _ohlc(obj[6:12]), _ohlc(obj[12:])])</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>    tm.assert_almost_equal(out, expected)</div>
<div class="line"><span class="lineno">  153</span>    tm.assert_numpy_array_equal(counts, np.array([6, 6, 8], dtype=np.int64))</div>
<div class="line"><span class="lineno">  154</span> </div>
<div class="line"><span class="lineno">  155</span>    obj[:6] = np.nan</div>
<div class="line"><span class="lineno">  156</span>    <a class="code hl_function" href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a>(out, counts, obj[:, <span class="keywordtype">None</span>], labels)</div>
<div class="line"><span class="lineno">  157</span>    expected[0] = np.nan</div>
<div class="line"><span class="lineno">  158</span>    tm.assert_almost_equal(out, expected)</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="ttc" id="acallback_2foo_8f_html_a565fe2cc583df102f120752b0011c330"><div class="ttname"><a href="callback_2foo_8f.html#a565fe2cc583df102f120752b0011c330">func</a></div><div class="ttdeci">subroutine func(a)</div><div class="ttdef"><b>Definition</b> foo.f:9</div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
