<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: joblib.externals.loky.process_executor Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacejoblib.html">joblib</a></li><li class="navelem"><a class="el" href="namespacejoblib_1_1externals.html">externals</a></li><li class="navelem"><a class="el" href="namespacejoblib_1_1externals_1_1loky.html">loky</a></li><li class="navelem"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html">process_executor</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">joblib.externals.loky.process_executor Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1___call_item.html">_CallItem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1___exception_with_traceback.html">_ExceptionWithTraceback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1___executor_flags.html">_ExecutorFlags</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1___executor_manager_thread.html">_ExecutorManagerThread</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1___remote_traceback.html">_RemoteTraceback</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1___result_item.html">_ResultItem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1___safe_queue.html">_SafeQueue</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1___thread_wakeup.html">_ThreadWakeup</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1___work_item.html">_WorkItem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1_broken_process_pool.html">BrokenProcessPool</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1_loky_recursion_error.html">LokyRecursionError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1_process_pool_executor.html">ProcessPoolExecutor</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1_shutdown_executor_error.html">ShutdownExecutorError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1_terminated_worker_error.html">TerminatedWorkerError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a441861a2e01c7635f5e1421b5aff1365" id="r_a441861a2e01c7635f5e1421b5aff1365"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a441861a2e01c7635f5e1421b5aff1365">_get_memory_usage</a> (pid, force_gc=False)</td></tr>
<tr class="separator:a441861a2e01c7635f5e1421b5aff1365"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485de6abbaf8b5d6386ca469f906c729" id="r_a485de6abbaf8b5d6386ca469f906c729"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a485de6abbaf8b5d6386ca469f906c729">_python_exit</a> ()</td></tr>
<tr class="separator:a485de6abbaf8b5d6386ca469f906c729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad1047f4753537f08ab9b4ca18db5cf1" id="r_aad1047f4753537f08ab9b4ca18db5cf1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#aad1047f4753537f08ab9b4ca18db5cf1">_rebuild_exc</a> (exc, tb)</td></tr>
<tr class="separator:aad1047f4753537f08ab9b4ca18db5cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afadb05b16b356dcb22e9cc693525b6d8" id="r_afadb05b16b356dcb22e9cc693525b6d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#afadb05b16b356dcb22e9cc693525b6d8">_get_chunks</a> (chunksize, *iterables)</td></tr>
<tr class="separator:afadb05b16b356dcb22e9cc693525b6d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a653d821e6953023920406d1bb81b30e8" id="r_a653d821e6953023920406d1bb81b30e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a653d821e6953023920406d1bb81b30e8">_process_chunk</a> (fn, chunk)</td></tr>
<tr class="separator:a653d821e6953023920406d1bb81b30e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c57475a95b0aabee3d8d6fa4e434a6" id="r_aa7c57475a95b0aabee3d8d6fa4e434a6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#aa7c57475a95b0aabee3d8d6fa4e434a6">_sendback_result</a> (result_queue, work_id, result=None, exception=None)</td></tr>
<tr class="separator:aa7c57475a95b0aabee3d8d6fa4e434a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6224ed2b8342d74216cae3016d086f06" id="r_a6224ed2b8342d74216cae3016d086f06"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a6224ed2b8342d74216cae3016d086f06">_process_worker</a> (call_queue, result_queue, initializer, initargs, processes_management_lock, timeout, worker_exit_lock, current_depth)</td></tr>
<tr class="separator:a6224ed2b8342d74216cae3016d086f06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d71450cc41e82631cb6b21201dd39aa" id="r_a0d71450cc41e82631cb6b21201dd39aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a0d71450cc41e82631cb6b21201dd39aa">_check_system_limits</a> ()</td></tr>
<tr class="separator:a0d71450cc41e82631cb6b21201dd39aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a305a317c13a97b473f6e663c5ed36a62" id="r_a305a317c13a97b473f6e663c5ed36a62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a305a317c13a97b473f6e663c5ed36a62">_chain_from_iterable_of_lists</a> (iterable)</td></tr>
<tr class="separator:a305a317c13a97b473f6e663c5ed36a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa96c3257ae98633ac41c46f096d3e919" id="r_aa96c3257ae98633ac41c46f096d3e919"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#aa96c3257ae98633ac41c46f096d3e919">_check_max_depth</a> (context)</td></tr>
<tr class="separator:aa96c3257ae98633ac41c46f096d3e919"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aedbc0bab28f38eaf86758ec4a3f63944" id="r_aedbc0bab28f38eaf86758ec4a3f63944"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#aedbc0bab28f38eaf86758ec4a3f63944">MAX_DEPTH</a> = int(os.environ.get(&quot;LOKY_MAX_DEPTH&quot;, 10))</td></tr>
<tr class="separator:aedbc0bab28f38eaf86758ec4a3f63944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3666e78fc54abd229b1ecccee07a2d1b" id="r_a3666e78fc54abd229b1ecccee07a2d1b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a3666e78fc54abd229b1ecccee07a2d1b">_CURRENT_DEPTH</a> = 0</td></tr>
<tr class="separator:a3666e78fc54abd229b1ecccee07a2d1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab12b41d4933ab576959b4ef0c056c6c5" id="r_ab12b41d4933ab576959b4ef0c056c6c5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#ab12b41d4933ab576959b4ef0c056c6c5">_MEMORY_LEAK_CHECK_DELAY</a> = 1.</td></tr>
<tr class="separator:ab12b41d4933ab576959b4ef0c056c6c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3aa1b9130862e383cce6426ebc0e21d" id="r_ae3aa1b9130862e383cce6426ebc0e21d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#ae3aa1b9130862e383cce6426ebc0e21d">_MAX_MEMORY_LEAK_SIZE</a> = int(3e8)</td></tr>
<tr class="separator:ae3aa1b9130862e383cce6426ebc0e21d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fe1f9f55add01922f1a1ad2254f5460" id="r_a0fe1f9f55add01922f1a1ad2254f5460"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a0fe1f9f55add01922f1a1ad2254f5460">_USE_PSUTIL</a> = True</td></tr>
<tr class="separator:a0fe1f9f55add01922f1a1ad2254f5460"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02293c40c1a3fa5e8467abb6c493acfa" id="r_a02293c40c1a3fa5e8467abb6c493acfa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a02293c40c1a3fa5e8467abb6c493acfa">_threads_wakeups</a> = weakref.WeakKeyDictionary()</td></tr>
<tr class="separator:a02293c40c1a3fa5e8467abb6c493acfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5b1cd7245376cf801dbd96a28513e19" id="r_ae5b1cd7245376cf801dbd96a28513e19"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#ae5b1cd7245376cf801dbd96a28513e19">_global_shutdown</a> = False</td></tr>
<tr class="separator:ae5b1cd7245376cf801dbd96a28513e19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab81d48c004a5e76495fff9c215c9fcf5" id="r_ab81d48c004a5e76495fff9c215c9fcf5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#ab81d48c004a5e76495fff9c215c9fcf5">process_pool_executor_at_exit</a> = None</td></tr>
<tr class="separator:ab81d48c004a5e76495fff9c215c9fcf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c820a38f32dba612bb2aa03b903f8de" id="r_a9c820a38f32dba612bb2aa03b903f8de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a9c820a38f32dba612bb2aa03b903f8de">EXTRA_QUEUED_CALLS</a> = 1</td></tr>
<tr class="separator:a9c820a38f32dba612bb2aa03b903f8de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6d7dcb1b77454d7af7c91137e8a23fd" id="r_af6d7dcb1b77454d7af7c91137e8a23fd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#af6d7dcb1b77454d7af7c91137e8a23fd">_system_limits_checked</a> = False</td></tr>
<tr class="separator:af6d7dcb1b77454d7af7c91137e8a23fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45e3468d6b53436ff5b9a82fbcde31fe" id="r_a45e3468d6b53436ff5b9a82fbcde31fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a45e3468d6b53436ff5b9a82fbcde31fe">_system_limited</a> = None</td></tr>
<tr class="separator:a45e3468d6b53436ff5b9a82fbcde31fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b173ee8a4e6099c510a2aed5f8cd73c" id="r_a0b173ee8a4e6099c510a2aed5f8cd73c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacejoblib_1_1externals_1_1loky_1_1process__executor.html#a0b173ee8a4e6099c510a2aed5f8cd73c">BrokenExecutor</a> = <a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1_broken_process_pool.html">BrokenProcessPool</a></td></tr>
<tr class="separator:a0b173ee8a4e6099c510a2aed5f8cd73c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a305a317c13a97b473f6e663c5ed36a62" name="a305a317c13a97b473f6e663c5ed36a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a305a317c13a97b473f6e663c5ed36a62">&#9670;&#160;</a></span>_chain_from_iterable_of_lists()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._chain_from_iterable_of_lists </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iterable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Specialized implementation of itertools.chain.from_iterable.
Each item in *iterable* should be a list.  This function is
careful not to keep references to yielded objects.
</pre> <div class="fragment"><div class="line"><span class="lineno">  897</span><span class="keyword">def </span>_chain_from_iterable_of_lists(iterable):</div>
<div class="line"><span class="lineno">  898</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  899</span><span class="stringliteral">    Specialized implementation of itertools.chain.from_iterable.</span></div>
<div class="line"><span class="lineno">  900</span><span class="stringliteral">    Each item in *iterable* should be a list.  This function is</span></div>
<div class="line"><span class="lineno">  901</span><span class="stringliteral">    careful not to keep references to yielded objects.</span></div>
<div class="line"><span class="lineno">  902</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  903</span>    <span class="keywordflow">for</span> element <span class="keywordflow">in</span> iterable:</div>
<div class="line"><span class="lineno">  904</span>        element.reverse()</div>
<div class="line"><span class="lineno">  905</span>        <span class="keywordflow">while</span> element:</div>
<div class="line"><span class="lineno">  906</span>            <span class="keywordflow">yield</span> element.pop()</div>
<div class="line"><span class="lineno">  907</span> </div>
<div class="line"><span class="lineno">  908</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa96c3257ae98633ac41c46f096d3e919" name="aa96c3257ae98633ac41c46f096d3e919"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa96c3257ae98633ac41c46f096d3e919">&#9670;&#160;</a></span>_check_max_depth()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._check_max_depth </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>context</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  909</span><span class="keyword">def </span>_check_max_depth(context):</div>
<div class="line"><span class="lineno">  910</span>    <span class="comment"># Limit the maxmal recursion level</span></div>
<div class="line"><span class="lineno">  911</span>    <span class="keyword">global</span> _CURRENT_DEPTH</div>
<div class="line"><span class="lineno">  912</span>    <span class="keywordflow">if</span> context.get_start_method() == <span class="stringliteral">&quot;fork&quot;</span> <span class="keywordflow">and</span> _CURRENT_DEPTH &gt; 0:</div>
<div class="line"><span class="lineno">  913</span>        <span class="keywordflow">raise</span> LokyRecursionError(</div>
<div class="line"><span class="lineno">  914</span>            <span class="stringliteral">&quot;Could not spawn extra nested processes at depth superior to &quot;</span></div>
<div class="line"><span class="lineno">  915</span>            <span class="stringliteral">&quot;MAX_DEPTH=1. It is not possible to increase this limit when &quot;</span></div>
<div class="line"><span class="lineno">  916</span>            <span class="stringliteral">&quot;using the &#39;fork&#39; start method.&quot;</span>)</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>    <span class="keywordflow">if</span> 0 &lt; MAX_DEPTH <span class="keywordflow">and</span> _CURRENT_DEPTH + 1 &gt; MAX_DEPTH:</div>
<div class="line"><span class="lineno">  919</span>        <span class="keywordflow">raise</span> LokyRecursionError(</div>
<div class="line"><span class="lineno">  920</span>            <span class="stringliteral">&quot;Could not spawn extra nested processes at depth superior to &quot;</span></div>
<div class="line"><span class="lineno">  921</span>            f<span class="stringliteral">&quot;MAX_DEPTH={MAX_DEPTH}. If this is intendend, you can change &quot;</span></div>
<div class="line"><span class="lineno">  922</span>            <span class="stringliteral">&quot;this limit with the LOKY_MAX_DEPTH environment variable.&quot;</span>)</div>
<div class="line"><span class="lineno">  923</span> </div>
<div class="line"><span class="lineno">  924</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0d71450cc41e82631cb6b21201dd39aa" name="a0d71450cc41e82631cb6b21201dd39aa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d71450cc41e82631cb6b21201dd39aa">&#9670;&#160;</a></span>_check_system_limits()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._check_system_limits </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  872</span><span class="keyword">def </span>_check_system_limits():</div>
<div class="line"><span class="lineno">  873</span>    <span class="keyword">global</span> _system_limits_checked, _system_limited</div>
<div class="line"><span class="lineno">  874</span>    <span class="keywordflow">if</span> _system_limits_checked <span class="keywordflow">and</span> _system_limited:</div>
<div class="line"><span class="lineno">  875</span>        <span class="keywordflow">raise</span> NotImplementedError(_system_limited)</div>
<div class="line"><span class="lineno">  876</span>    _system_limits_checked = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  877</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  878</span>        nsems_max = os.sysconf(<span class="stringliteral">&quot;SC_SEM_NSEMS_MAX&quot;</span>)</div>
<div class="line"><span class="lineno">  879</span>    <span class="keywordflow">except</span> (AttributeError, ValueError):</div>
<div class="line"><span class="lineno">  880</span>        <span class="comment"># sysconf not available or setting not available</span></div>
<div class="line"><span class="lineno">  881</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  882</span>    <span class="keywordflow">if</span> nsems_max == -1:</div>
<div class="line"><span class="lineno">  883</span>        <span class="comment"># undetermined limit, assume that limit is determined</span></div>
<div class="line"><span class="lineno">  884</span>        <span class="comment"># by available memory only</span></div>
<div class="line"><span class="lineno">  885</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  886</span>    <span class="keywordflow">if</span> nsems_max &gt;= 256:</div>
<div class="line"><span class="lineno">  887</span>        <span class="comment"># minimum number of semaphores available</span></div>
<div class="line"><span class="lineno">  888</span>        <span class="comment"># according to POSIX</span></div>
<div class="line"><span class="lineno">  889</span>        <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  890</span>    _system_limited = (</div>
<div class="line"><span class="lineno">  891</span>        f<span class="stringliteral">&quot;system provides too few semaphores ({nsems_max} available, &quot;</span></div>
<div class="line"><span class="lineno">  892</span>        <span class="stringliteral">&quot;256 necessary)&quot;</span></div>
<div class="line"><span class="lineno">  893</span>    )</div>
<div class="line"><span class="lineno">  894</span>    <span class="keywordflow">raise</span> NotImplementedError(_system_limited)</div>
<div class="line"><span class="lineno">  895</span> </div>
<div class="line"><span class="lineno">  896</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afadb05b16b356dcb22e9cc693525b6d8" name="afadb05b16b356dcb22e9cc693525b6d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afadb05b16b356dcb22e9cc693525b6d8">&#9670;&#160;</a></span>_get_chunks()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._get_chunks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunksize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>iterables</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Iterates over zip()ed iterables in chunks. </pre> <div class="fragment"><div class="line"><span class="lineno">  318</span><span class="keyword">def </span>_get_chunks(chunksize, *iterables):</div>
<div class="line"><span class="lineno">  319</span>    <span class="stringliteral">&quot;&quot;&quot;Iterates over zip()ed iterables in chunks. &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  320</span>    it = zip(*iterables)</div>
<div class="line"><span class="lineno">  321</span>    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  322</span>        chunk = tuple(itertools.islice(it, chunksize))</div>
<div class="line"><span class="lineno">  323</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> chunk:</div>
<div class="line"><span class="lineno">  324</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">yield</span> chunk</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a441861a2e01c7635f5e1421b5aff1365" name="a441861a2e01c7635f5e1421b5aff1365"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a441861a2e01c7635f5e1421b5aff1365">&#9670;&#160;</a></span>_get_memory_usage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._get_memory_usage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>force_gc</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  106</span>    <span class="keyword">def </span>_get_memory_usage(pid, force_gc=False):</div>
<div class="line"><span class="lineno">  107</span>        <span class="keywordflow">if</span> force_gc:</div>
<div class="line"><span class="lineno">  108</span>            gc.collect()</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>        mem_size = Process(pid).memory_info().rss</div>
<div class="line"><span class="lineno">  111</span>        mp.util.debug(f<span class="stringliteral">&#39;psutil return memory size: {mem_size}&#39;</span>)</div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordflow">return</span> mem_size</div>
<div class="line"><span class="lineno">  113</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a653d821e6953023920406d1bb81b30e8" name="a653d821e6953023920406d1bb81b30e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a653d821e6953023920406d1bb81b30e8">&#9670;&#160;</a></span>_process_chunk()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._process_chunk </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Processes a chunk of an iterable passed to map.

Runs the function passed to map() on a chunk of the
iterable passed to map.

This function is run in a separate process.</pre> <div class="fragment"><div class="line"><span class="lineno">  328</span><span class="keyword">def </span>_process_chunk(fn, chunk):</div>
<div class="line"><span class="lineno">  329</span>    <span class="stringliteral">&quot;&quot;&quot;Processes a chunk of an iterable passed to map.</span></div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral">    Runs the function passed to map() on a chunk of the</span></div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral">    iterable passed to map.</span></div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">    This function is run in a separate process.</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  337</span>    <span class="keywordflow">return</span> [fn(*args) <span class="keywordflow">for</span> args <span class="keywordflow">in</span> chunk]</div>
<div class="line"><span class="lineno">  338</span> </div>
<div class="line"><span class="lineno">  339</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6224ed2b8342d74216cae3016d086f06" name="a6224ed2b8342d74216cae3016d086f06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6224ed2b8342d74216cae3016d086f06">&#9670;&#160;</a></span>_process_worker()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._process_worker </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>call_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>result_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>initializer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>initargs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>processes_management_lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timeout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>worker_exit_lock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>current_depth</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Evaluates calls from call_queue and places the results in result_queue.

This worker is run in a separate process.

Args:
    call_queue: A ctx.Queue of _CallItems that will be read and
        evaluated by the worker.
    result_queue: A ctx.Queue of _ResultItems that will written
        to by the worker.
    initializer: A callable initializer, or None
    initargs: A tuple of args for the initializer
    processes_management_lock: A ctx.Lock avoiding worker timeout while
        some workers are being spawned.
    timeout: maximum time to wait for a new item in the call_queue. If that
        time is expired, the worker will shutdown.
    worker_exit_lock: Lock to avoid flagging the executor as broken on
        workers timeout.
    current_depth: Nested parallelism level, to avoid infinite spawning.
</pre> <div class="fragment"><div class="line"><span class="lineno">  352</span>                    current_depth):</div>
<div class="line"><span class="lineno">  353</span>    <span class="stringliteral">&quot;&quot;&quot;Evaluates calls from call_queue and places the results in result_queue.</span></div>
<div class="line"><span class="lineno">  354</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  355</span><span class="stringliteral">    This worker is run in a separate process.</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">    Args:</span></div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral">        call_queue: A ctx.Queue of _CallItems that will be read and</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral">            evaluated by the worker.</span></div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">        result_queue: A ctx.Queue of _ResultItems that will written</span></div>
<div class="line"><span class="lineno">  361</span><span class="stringliteral">            to by the worker.</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">        initializer: A callable initializer, or None</span></div>
<div class="line"><span class="lineno">  363</span><span class="stringliteral">        initargs: A tuple of args for the initializer</span></div>
<div class="line"><span class="lineno">  364</span><span class="stringliteral">        processes_management_lock: A ctx.Lock avoiding worker timeout while</span></div>
<div class="line"><span class="lineno">  365</span><span class="stringliteral">            some workers are being spawned.</span></div>
<div class="line"><span class="lineno">  366</span><span class="stringliteral">        timeout: maximum time to wait for a new item in the call_queue. If that</span></div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">            time is expired, the worker will shutdown.</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral">        worker_exit_lock: Lock to avoid flagging the executor as broken on</span></div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral">            workers timeout.</span></div>
<div class="line"><span class="lineno">  370</span><span class="stringliteral">        current_depth: Nested parallelism level, to avoid infinite spawning.</span></div>
<div class="line"><span class="lineno">  371</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  372</span>    <span class="keywordflow">if</span> initializer <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  374</span>            initializer(*initargs)</div>
<div class="line"><span class="lineno">  375</span>        <span class="keywordflow">except</span> BaseException:</div>
<div class="line"><span class="lineno">  376</span>            LOGGER.critical(<span class="stringliteral">&#39;Exception in initializer:&#39;</span>, exc_info=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  377</span>            <span class="comment"># The parent will notice that the process stopped and</span></div>
<div class="line"><span class="lineno">  378</span>            <span class="comment"># mark the pool broken</span></div>
<div class="line"><span class="lineno">  379</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>    <span class="comment"># set the global _CURRENT_DEPTH mechanism to limit recursive call</span></div>
<div class="line"><span class="lineno">  382</span>    <span class="keyword">global</span> _CURRENT_DEPTH</div>
<div class="line"><span class="lineno">  383</span>    _CURRENT_DEPTH = current_depth</div>
<div class="line"><span class="lineno">  384</span>    _process_reference_size = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  385</span>    _last_memory_leak_check = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  386</span>    pid = os.getpid()</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>    mp.util.debug(f<span class="stringliteral">&#39;Worker started with timeout={timeout}&#39;</span>)</div>
<div class="line"><span class="lineno">  389</span>    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  391</span>            call_item = call_queue.get(block=<span class="keyword">True</span>, timeout=timeout)</div>
<div class="line"><span class="lineno">  392</span>            <span class="keywordflow">if</span> call_item <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  393</span>                mp.util.info(<span class="stringliteral">&quot;Shutting down worker on sentinel&quot;</span>)</div>
<div class="line"><span class="lineno">  394</span>        <span class="keywordflow">except</span> queue.Empty:</div>
<div class="line"><span class="lineno">  395</span>            mp.util.info(f<span class="stringliteral">&quot;Shutting down worker after timeout {timeout:0.3f}s&quot;</span>)</div>
<div class="line"><span class="lineno">  396</span>            <span class="keywordflow">if</span> processes_management_lock.acquire(block=<span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  397</span>                processes_management_lock.release()</div>
<div class="line"><span class="lineno">  398</span>                call_item = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  399</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  400</span>                mp.util.info(<span class="stringliteral">&quot;Could not acquire processes_management_lock&quot;</span>)</div>
<div class="line"><span class="lineno">  401</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordflow">except</span> BaseException:</div>
<div class="line"><span class="lineno">  403</span>            previous_tb = traceback.format_exc()</div>
<div class="line"><span class="lineno">  404</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  405</span>                result_queue.put(_RemoteTraceback(previous_tb))</div>
<div class="line"><span class="lineno">  406</span>            <span class="keywordflow">except</span> BaseException:</div>
<div class="line"><span class="lineno">  407</span>                <span class="comment"># If we cannot format correctly the exception, at least print</span></div>
<div class="line"><span class="lineno">  408</span>                <span class="comment"># the traceback.</span></div>
<div class="line"><span class="lineno">  409</span>                print(previous_tb)</div>
<div class="line"><span class="lineno">  410</span>            mp.util.debug(<span class="stringliteral">&#39;Exiting with code 1&#39;</span>)</div>
<div class="line"><span class="lineno">  411</span>            sys.exit(1)</div>
<div class="line"><span class="lineno">  412</span>        <span class="keywordflow">if</span> call_item <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  413</span>            <span class="comment"># Notify queue management thread about worker shutdown</span></div>
<div class="line"><span class="lineno">  414</span>            result_queue.put(pid)</div>
<div class="line"><span class="lineno">  415</span>            is_clean = worker_exit_lock.acquire(<span class="keyword">True</span>, timeout=30)</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>            <span class="comment"># Early notify any loky executor running in this worker process</span></div>
<div class="line"><span class="lineno">  418</span>            <span class="comment"># (nested parallelism) that this process is about to shutdown to</span></div>
<div class="line"><span class="lineno">  419</span>            <span class="comment"># avoid a deadlock waiting undifinitely for the worker to finish.</span></div>
<div class="line"><span class="lineno">  420</span>            _python_exit()</div>
<div class="line"><span class="lineno">  421</span> </div>
<div class="line"><span class="lineno">  422</span>            <span class="keywordflow">if</span> is_clean:</div>
<div class="line"><span class="lineno">  423</span>                mp.util.debug(<span class="stringliteral">&#39;Exited cleanly&#39;</span>)</div>
<div class="line"><span class="lineno">  424</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  425</span>                mp.util.info(<span class="stringliteral">&#39;Main process did not release worker_exit&#39;</span>)</div>
<div class="line"><span class="lineno">  426</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  427</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  428</span>            r = call_item()</div>
<div class="line"><span class="lineno">  429</span>        <span class="keywordflow">except</span> BaseException <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  430</span>            exc = _ExceptionWithTraceback(e)</div>
<div class="line"><span class="lineno">  431</span>            result_queue.put(_ResultItem(call_item.work_id, exception=exc))</div>
<div class="line"><span class="lineno">  432</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  433</span>            _sendback_result(result_queue, call_item.work_id, result=r)</div>
<div class="line"><span class="lineno">  434</span>            del r</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>        <span class="comment"># Free the resource as soon as possible, to avoid holding onto</span></div>
<div class="line"><span class="lineno">  437</span>        <span class="comment"># open files or shared memory that is not needed anymore</span></div>
<div class="line"><span class="lineno">  438</span>        del call_item</div>
<div class="line"><span class="lineno">  439</span> </div>
<div class="line"><span class="lineno">  440</span>        <span class="keywordflow">if</span> _USE_PSUTIL:</div>
<div class="line"><span class="lineno">  441</span>            <span class="keywordflow">if</span> _process_reference_size <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  442</span>                <span class="comment"># Make reference measurement after the first call</span></div>
<div class="line"><span class="lineno">  443</span>                _process_reference_size = _get_memory_usage(pid, force_gc=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  444</span>                _last_memory_leak_check = time()</div>
<div class="line"><span class="lineno">  445</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  446</span>            <span class="keywordflow">if</span> time() - _last_memory_leak_check &gt; _MEMORY_LEAK_CHECK_DELAY:</div>
<div class="line"><span class="lineno">  447</span>                mem_usage = _get_memory_usage(pid)</div>
<div class="line"><span class="lineno">  448</span>                _last_memory_leak_check = time()</div>
<div class="line"><span class="lineno">  449</span>                <span class="keywordflow">if</span> mem_usage - _process_reference_size &lt; _MAX_MEMORY_LEAK_SIZE:</div>
<div class="line"><span class="lineno">  450</span>                    <span class="comment"># Memory usage stays within bounds: everything is fine.</span></div>
<div class="line"><span class="lineno">  451</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>                <span class="comment"># Check again memory usage; this time take the measurement</span></div>
<div class="line"><span class="lineno">  454</span>                <span class="comment"># after a forced garbage collection to break any reference</span></div>
<div class="line"><span class="lineno">  455</span>                <span class="comment"># cycles.</span></div>
<div class="line"><span class="lineno">  456</span>                mem_usage = _get_memory_usage(pid, force_gc=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  457</span>                _last_memory_leak_check = time()</div>
<div class="line"><span class="lineno">  458</span>                <span class="keywordflow">if</span> mem_usage - _process_reference_size &lt; _MAX_MEMORY_LEAK_SIZE:</div>
<div class="line"><span class="lineno">  459</span>                    <span class="comment"># The GC managed to free the memory: everything is fine.</span></div>
<div class="line"><span class="lineno">  460</span>                    <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  461</span> </div>
<div class="line"><span class="lineno">  462</span>                <span class="comment"># The process is leaking memory: let the master process</span></div>
<div class="line"><span class="lineno">  463</span>                <span class="comment"># know that we need to start a new worker.</span></div>
<div class="line"><span class="lineno">  464</span>                mp.util.info(<span class="stringliteral">&quot;Memory leak detected: shutting down worker&quot;</span>)</div>
<div class="line"><span class="lineno">  465</span>                result_queue.put(pid)</div>
<div class="line"><span class="lineno">  466</span>                <span class="keyword">with</span> worker_exit_lock:</div>
<div class="line"><span class="lineno">  467</span>                    mp.util.debug(<span class="stringliteral">&#39;Exit due to memory leak&#39;</span>)</div>
<div class="line"><span class="lineno">  468</span>                    <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">  469</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  470</span>            <span class="comment"># if psutil is not installed, trigger gc.collect events</span></div>
<div class="line"><span class="lineno">  471</span>            <span class="comment"># regularly to limit potential memory leaks due to reference cycles</span></div>
<div class="line"><span class="lineno">  472</span>            <span class="keywordflow">if</span> (_last_memory_leak_check <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span></div>
<div class="line"><span class="lineno">  473</span>                    (time() - _last_memory_leak_check &gt;</div>
<div class="line"><span class="lineno">  474</span>                     _MEMORY_LEAK_CHECK_DELAY)):</div>
<div class="line"><span class="lineno">  475</span>                gc.collect()</div>
<div class="line"><span class="lineno">  476</span>                _last_memory_leak_check = time()</div>
<div class="line"><span class="lineno">  477</span> </div>
<div class="line"><span class="lineno">  478</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a485de6abbaf8b5d6386ca469f906c729" name="a485de6abbaf8b5d6386ca469f906c729"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485de6abbaf8b5d6386ca469f906c729">&#9670;&#160;</a></span>_python_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._python_exit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  183</span><span class="keyword">def </span>_python_exit():</div>
<div class="line"><span class="lineno">  184</span>    <span class="keyword">global</span> _global_shutdown</div>
<div class="line"><span class="lineno">  185</span>    _global_shutdown = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  186</span>    items = list(_threads_wakeups.items())</div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordflow">if</span> len(items) &gt; 0:</div>
<div class="line"><span class="lineno">  188</span>        mp.util.debug(<span class="stringliteral">&quot;Interpreter shutting down. Waking up &quot;</span></div>
<div class="line"><span class="lineno">  189</span>                      f<span class="stringliteral">&quot;executor_manager_thread {items}&quot;</span>)</div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">for</span> _, (shutdown_lock, thread_wakeup) <span class="keywordflow">in</span> items:</div>
<div class="line"><span class="lineno">  191</span>        <span class="keyword">with</span> shutdown_lock:</div>
<div class="line"><span class="lineno">  192</span>            thread_wakeup.wakeup()</div>
<div class="line"><span class="lineno">  193</span>    <span class="keywordflow">for</span> thread, _ <span class="keywordflow">in</span> items:</div>
<div class="line"><span class="lineno">  194</span>        thread.join()</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span><span class="comment"># With the fork context, _thread_wakeups is propagated to children.</span></div>
<div class="line"><span class="lineno">  198</span><span class="comment"># Clear it after fork to avoid some situation that can cause some</span></div>
<div class="line"><span class="lineno">  199</span><span class="comment"># freeze when joining the workers.</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="aad1047f4753537f08ab9b4ca18db5cf1" name="aad1047f4753537f08ab9b4ca18db5cf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad1047f4753537f08ab9b4ca18db5cf1">&#9670;&#160;</a></span>_rebuild_exc()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._rebuild_exc </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>exc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  238</span><span class="keyword">def </span>_rebuild_exc(exc, tb):</div>
<div class="line"><span class="lineno">  239</span>    exc.__cause__ = _RemoteTraceback(tb)</div>
<div class="line"><span class="lineno">  240</span>    <span class="keywordflow">return</span> exc</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa7c57475a95b0aabee3d8d6fa4e434a6" name="aa7c57475a95b0aabee3d8d6fa4e434a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa7c57475a95b0aabee3d8d6fa4e434a6">&#9670;&#160;</a></span>_sendback_result()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._sendback_result </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>result_queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>work_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>result</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>exception</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Safely send back the given result or exception</pre> <div class="fragment"><div class="line"><span class="lineno">  340</span><span class="keyword">def </span>_sendback_result(result_queue, work_id, result=None, exception=None):</div>
<div class="line"><span class="lineno">  341</span>    <span class="stringliteral">&quot;&quot;&quot;Safely send back the given result or exception&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  342</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  343</span>        result_queue.put(_ResultItem(work_id, result=result,</div>
<div class="line"><span class="lineno">  344</span>                                     exception=exception))</div>
<div class="line"><span class="lineno">  345</span>    <span class="keywordflow">except</span> BaseException <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  346</span>        exc = _ExceptionWithTraceback(e)</div>
<div class="line"><span class="lineno">  347</span>        result_queue.put(_ResultItem(work_id, exception=exc))</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a3666e78fc54abd229b1ecccee07a2d1b" name="a3666e78fc54abd229b1ecccee07a2d1b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3666e78fc54abd229b1ecccee07a2d1b">&#9670;&#160;</a></span>_CURRENT_DEPTH</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int joblib.externals.loky.process_executor._CURRENT_DEPTH = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae5b1cd7245376cf801dbd96a28513e19" name="ae5b1cd7245376cf801dbd96a28513e19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5b1cd7245376cf801dbd96a28513e19">&#9670;&#160;</a></span>_global_shutdown</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool joblib.externals.loky.process_executor._global_shutdown = False</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ae3aa1b9130862e383cce6426ebc0e21d" name="ae3aa1b9130862e383cce6426ebc0e21d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae3aa1b9130862e383cce6426ebc0e21d">&#9670;&#160;</a></span>_MAX_MEMORY_LEAK_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._MAX_MEMORY_LEAK_SIZE = int(3e8)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ab12b41d4933ab576959b4ef0c056c6c5" name="ab12b41d4933ab576959b4ef0c056c6c5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab12b41d4933ab576959b4ef0c056c6c5">&#9670;&#160;</a></span>_MEMORY_LEAK_CHECK_DELAY</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int joblib.externals.loky.process_executor._MEMORY_LEAK_CHECK_DELAY = 1.</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a45e3468d6b53436ff5b9a82fbcde31fe" name="a45e3468d6b53436ff5b9a82fbcde31fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45e3468d6b53436ff5b9a82fbcde31fe">&#9670;&#160;</a></span>_system_limited</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._system_limited = None</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af6d7dcb1b77454d7af7c91137e8a23fd" name="af6d7dcb1b77454d7af7c91137e8a23fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af6d7dcb1b77454d7af7c91137e8a23fd">&#9670;&#160;</a></span>_system_limits_checked</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool joblib.externals.loky.process_executor._system_limits_checked = False</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a02293c40c1a3fa5e8467abb6c493acfa" name="a02293c40c1a3fa5e8467abb6c493acfa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02293c40c1a3fa5e8467abb6c493acfa">&#9670;&#160;</a></span>_threads_wakeups</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor._threads_wakeups = weakref.WeakKeyDictionary()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0fe1f9f55add01922f1a1ad2254f5460" name="a0fe1f9f55add01922f1a1ad2254f5460"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fe1f9f55add01922f1a1ad2254f5460">&#9670;&#160;</a></span>_USE_PSUTIL</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool joblib.externals.loky.process_executor._USE_PSUTIL = True</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0b173ee8a4e6099c510a2aed5f8cd73c" name="a0b173ee8a4e6099c510a2aed5f8cd73c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b173ee8a4e6099c510a2aed5f8cd73c">&#9670;&#160;</a></span>BrokenExecutor</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor.BrokenExecutor = <a class="el" href="classjoblib_1_1externals_1_1loky_1_1process__executor_1_1_broken_process_pool.html">BrokenProcessPool</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9c820a38f32dba612bb2aa03b903f8de" name="a9c820a38f32dba612bb2aa03b903f8de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c820a38f32dba612bb2aa03b903f8de">&#9670;&#160;</a></span>EXTRA_QUEUED_CALLS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int joblib.externals.loky.process_executor.EXTRA_QUEUED_CALLS = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aedbc0bab28f38eaf86758ec4a3f63944" name="aedbc0bab28f38eaf86758ec4a3f63944"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aedbc0bab28f38eaf86758ec4a3f63944">&#9670;&#160;</a></span>MAX_DEPTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor.MAX_DEPTH = int(os.environ.get(&quot;LOKY_MAX_DEPTH&quot;, 10))</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab81d48c004a5e76495fff9c215c9fcf5" name="ab81d48c004a5e76495fff9c215c9fcf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab81d48c004a5e76495fff9c215c9fcf5">&#9670;&#160;</a></span>process_pool_executor_at_exit</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">joblib.externals.loky.process_executor.process_pool_executor_at_exit = None</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
