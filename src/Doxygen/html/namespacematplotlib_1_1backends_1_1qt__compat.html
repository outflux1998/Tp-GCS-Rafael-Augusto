<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: matplotlib.backends.qt_compat Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacematplotlib.html">matplotlib</a></li><li class="navelem"><a class="el" href="namespacematplotlib_1_1backends.html">backends</a></li><li class="navelem"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html">qt_compat</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">matplotlib.backends.qt_compat Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a56736ee28616372612b7fe11e98b95ae" id="r_a56736ee28616372612b7fe11e98b95ae"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#a56736ee28616372612b7fe11e98b95ae">_setup_pyqt5plus</a> ()</td></tr>
<tr class="separator:a56736ee28616372612b7fe11e98b95ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97ba029fff12c785c9faabcd2caa41f3" id="r_a97ba029fff12c785c9faabcd2caa41f3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#a97ba029fff12c785c9faabcd2caa41f3">_enum</a> (name)</td></tr>
<tr class="separator:a97ba029fff12c785c9faabcd2caa41f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a468954080c48c776f410785eec9fc4a4" id="r_a468954080c48c776f410785eec9fc4a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#a468954080c48c776f410785eec9fc4a4">_exec</a> (obj)</td></tr>
<tr class="separator:a468954080c48c776f410785eec9fc4a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af638db141bc54a0adc5f2b3db6e20a02" id="r_af638db141bc54a0adc5f2b3db6e20a02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#af638db141bc54a0adc5f2b3db6e20a02">_devicePixelRatioF</a> (obj)</td></tr>
<tr class="separator:af638db141bc54a0adc5f2b3db6e20a02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c17c180965dfd93ede6abf5ed3db5b0" id="r_a6c17c180965dfd93ede6abf5ed3db5b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#a6c17c180965dfd93ede6abf5ed3db5b0">_setDevicePixelRatio</a> (obj, val)</td></tr>
<tr class="separator:a6c17c180965dfd93ede6abf5ed3db5b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7cf005b16d46b3cb6335e8c00fbc8ee" id="r_ae7cf005b16d46b3cb6335e8c00fbc8ee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#ae7cf005b16d46b3cb6335e8c00fbc8ee">_maybe_allow_interrupt</a> (qapp)</td></tr>
<tr class="separator:ae7cf005b16d46b3cb6335e8c00fbc8ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae46c0f084102095cf1d76fbc67440545" id="r_ae46c0f084102095cf1d76fbc67440545"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#ae46c0f084102095cf1d76fbc67440545">QT_API_PYQT6</a> = &quot;PyQt6&quot;</td></tr>
<tr class="separator:ae46c0f084102095cf1d76fbc67440545"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32eaac6cbdd09a759bc5d157b3d56f03" id="r_a32eaac6cbdd09a759bc5d157b3d56f03"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#a32eaac6cbdd09a759bc5d157b3d56f03">QT_API_PYSIDE6</a> = &quot;PySide6&quot;</td></tr>
<tr class="separator:a32eaac6cbdd09a759bc5d157b3d56f03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add4995fba97af4897679ba3597ae7a15" id="r_add4995fba97af4897679ba3597ae7a15"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#add4995fba97af4897679ba3597ae7a15">QT_API_PYQT5</a> = &quot;PyQt5&quot;</td></tr>
<tr class="separator:add4995fba97af4897679ba3597ae7a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91c9fb33ecce3c0482e52dd05e01892c" id="r_a91c9fb33ecce3c0482e52dd05e01892c"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#a91c9fb33ecce3c0482e52dd05e01892c">QT_API_PYSIDE2</a> = &quot;PySide2&quot;</td></tr>
<tr class="separator:a91c9fb33ecce3c0482e52dd05e01892c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c7b70aff9f5191860f343b043d8ab5" id="r_af9c7b70aff9f5191860f343b043d8ab5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#af9c7b70aff9f5191860f343b043d8ab5">QT_API_ENV</a> = os.environ.get(&quot;QT_API&quot;)</td></tr>
<tr class="separator:af9c7b70aff9f5191860f343b043d8ab5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d9c50e1d4846ae20acbb859615cbec7" id="r_a6d9c50e1d4846ae20acbb859615cbec7"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#a6d9c50e1d4846ae20acbb859615cbec7">_ETS</a></td></tr>
<tr class="separator:a6d9c50e1d4846ae20acbb859615cbec7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaafcbf9d824c37502da43574c927d368" id="r_aaafcbf9d824c37502da43574c927d368"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#aaafcbf9d824c37502da43574c927d368">QT_API</a> = <a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#ae46c0f084102095cf1d76fbc67440545">QT_API_PYQT6</a></td></tr>
<tr class="separator:aaafcbf9d824c37502da43574c927d368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a213d4c91e76058a875d016a440f94346" id="r_a213d4c91e76058a875d016a440f94346"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#a213d4c91e76058a875d016a440f94346">_QT_FORCE_QT5_BINDING</a> = True</td></tr>
<tr class="separator:a213d4c91e76058a875d016a440f94346"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b368d4cb5c6e8e3830ce53f797796f0" id="r_a7b368d4cb5c6e8e3830ce53f797796f0"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#a7b368d4cb5c6e8e3830ce53f797796f0">_candidates</a></td></tr>
<tr class="separator:a7b368d4cb5c6e8e3830ce53f797796f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Qt binding and backend selector.

The selection logic is as follows:
- if any of PyQt6, PySide6, PyQt5, or PySide2 have already been
  imported (checked in that order), use it;
- otherwise, if the QT_API environment variable (used by Enthought) is set, use
  it to determine which binding to use;
- otherwise, use whatever the rcParams indicate.
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="af638db141bc54a0adc5f2b3db6e20a02" name="af638db141bc54a0adc5f2b3db6e20a02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af638db141bc54a0adc5f2b3db6e20a02">&#9670;&#160;</a></span>_devicePixelRatioF()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.backends.qt_compat._devicePixelRatioF </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return obj.devicePixelRatioF() with graceful fallback for older Qt.

This can be replaced by the direct call when we require Qt&gt;=5.6.
</pre> <div class="fragment"><div class="line"><span class="lineno">  171</span><span class="keyword">def </span>_devicePixelRatioF(obj):</div>
<div class="line"><span class="lineno">  172</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">    Return obj.devicePixelRatioF() with graceful fallback for older Qt.</span></div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  175</span><span class="stringliteral">    This can be replaced by the direct call when we require Qt&gt;=5.6.</span></div>
<div class="line"><span class="lineno">  176</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  177</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  178</span>        <span class="comment"># Not available on Qt&lt;5.6</span></div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">return</span> obj.devicePixelRatioF() <span class="keywordflow">or</span> 1</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">except</span> AttributeError:</div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  183</span>        <span class="comment"># Not available on older Qt5.</span></div>
<div class="line"><span class="lineno">  184</span>        <span class="comment"># self.devicePixelRatio() returns 0 in rare cases</span></div>
<div class="line"><span class="lineno">  185</span>        <span class="keywordflow">return</span> obj.devicePixelRatio() <span class="keywordflow">or</span> 1</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">except</span> AttributeError:</div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">return</span> 1</div>
<div class="line"><span class="lineno">  188</span> </div>
<div class="line"><span class="lineno">  189</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a97ba029fff12c785c9faabcd2caa41f3" name="a97ba029fff12c785c9faabcd2caa41f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97ba029fff12c785c9faabcd2caa41f3">&#9670;&#160;</a></span>_enum()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.backends.qt_compat._enum </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  156</span><span class="keyword">def </span>_enum(name):</div>
<div class="line"><span class="lineno">  157</span>    <span class="comment"># foo.bar.Enum.Entry (PyQt6) &lt;=&gt; foo.bar.Entry (non-PyQt6).</span></div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">return</span> operator.attrgetter(</div>
<div class="line"><span class="lineno">  159</span>        name <span class="keywordflow">if</span> QT_API == <span class="stringliteral">&#39;PyQt6&#39;</span> <span class="keywordflow">else</span> name.rpartition(<span class="stringliteral">&quot;.&quot;</span>)[0]</div>
<div class="line"><span class="lineno">  160</span>    )(sys.modules[QtCore.__package__])</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span><span class="comment"># Backports.</span></div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a468954080c48c776f410785eec9fc4a4" name="a468954080c48c776f410785eec9fc4a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a468954080c48c776f410785eec9fc4a4">&#9670;&#160;</a></span>_exec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.backends.qt_compat._exec </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  166</span><span class="keyword">def </span>_exec(obj):</div>
<div class="line"><span class="lineno">  167</span>    <span class="comment"># exec on PyQt6, exec_ elsewhere.</span></div>
<div class="line"><span class="lineno">  168</span>    obj.exec() <span class="keywordflow">if</span> hasattr(obj, <span class="stringliteral">&quot;exec&quot;</span>) <span class="keywordflow">else</span> obj.exec_()</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7cf005b16d46b3cb6335e8c00fbc8ee" name="ae7cf005b16d46b3cb6335e8c00fbc8ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7cf005b16d46b3cb6335e8c00fbc8ee">&#9670;&#160;</a></span>_maybe_allow_interrupt()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.backends.qt_compat._maybe_allow_interrupt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>qapp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">This manager allows to terminate a plot by sending a SIGINT. It is
necessary because the running Qt backend prevents Python interpreter to
run and process signals (i.e., to raise KeyboardInterrupt exception). To
solve this one needs to somehow wake up the interpreter and make it close
the plot window. We do this by using the signal.set_wakeup_fd() function
which organizes a write of the signal number into a socketpair connected
to the QSocketNotifier (since it is part of the Qt backend, it can react
to that write event). Afterwards, the Qt handler empties the socketpair
by a recv() command to re-arm it (we need this if a signal different from
SIGINT was caught by set_wakeup_fd() and we shall continue waiting). If
the SIGINT was caught indeed, after exiting the on_signal() function the
interpreter reacts to the SIGINT according to the handle() function which
had been set up by a signal.signal() call: it causes the qt_object to
exit by calling its quit() method. Finally, we call the old SIGINT
handler with the same arguments that were given to our custom handle()
handler.

We do this only if the old handler for SIGINT was not None, which means
that a non-python handler was installed, i.e. in Julia, and not SIG_IGN
which means we should ignore the interrupts.
</pre> <div class="fragment"><div class="line"><span class="lineno">  202</span><span class="keyword">def </span>_maybe_allow_interrupt(qapp):</div>
<div class="line"><span class="lineno">  203</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  204</span><span class="stringliteral">    This manager allows to terminate a plot by sending a SIGINT. It is</span></div>
<div class="line"><span class="lineno">  205</span><span class="stringliteral">    necessary because the running Qt backend prevents Python interpreter to</span></div>
<div class="line"><span class="lineno">  206</span><span class="stringliteral">    run and process signals (i.e., to raise KeyboardInterrupt exception). To</span></div>
<div class="line"><span class="lineno">  207</span><span class="stringliteral">    solve this one needs to somehow wake up the interpreter and make it close</span></div>
<div class="line"><span class="lineno">  208</span><span class="stringliteral">    the plot window. We do this by using the signal.set_wakeup_fd() function</span></div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral">    which organizes a write of the signal number into a socketpair connected</span></div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral">    to the QSocketNotifier (since it is part of the Qt backend, it can react</span></div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral">    to that write event). Afterwards, the Qt handler empties the socketpair</span></div>
<div class="line"><span class="lineno">  212</span><span class="stringliteral">    by a recv() command to re-arm it (we need this if a signal different from</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral">    SIGINT was caught by set_wakeup_fd() and we shall continue waiting). If</span></div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">    the SIGINT was caught indeed, after exiting the on_signal() function the</span></div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral">    interpreter reacts to the SIGINT according to the handle() function which</span></div>
<div class="line"><span class="lineno">  216</span><span class="stringliteral">    had been set up by a signal.signal() call: it causes the qt_object to</span></div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral">    exit by calling its quit() method. Finally, we call the old SIGINT</span></div>
<div class="line"><span class="lineno">  218</span><span class="stringliteral">    handler with the same arguments that were given to our custom handle()</span></div>
<div class="line"><span class="lineno">  219</span><span class="stringliteral">    handler.</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">    We do this only if the old handler for SIGINT was not None, which means</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral">    that a non-python handler was installed, i.e. in Julia, and not SIG_IGN</span></div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">    which means we should ignore the interrupts.</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  225</span>    old_sigint_handler = signal.getsignal(signal.SIGINT)</div>
<div class="line"><span class="lineno">  226</span>    handler_args = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  227</span>    skip = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  228</span>    <span class="keywordflow">if</span> old_sigint_handler <span class="keywordflow">in</span> (<span class="keywordtype">None</span>, signal.SIG_IGN, signal.SIG_DFL):</div>
<div class="line"><span class="lineno">  229</span>        skip = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  230</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  231</span>        wsock, rsock = socket.socketpair()</div>
<div class="line"><span class="lineno">  232</span>        wsock.setblocking(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  233</span>        old_wakeup_fd = signal.set_wakeup_fd(wsock.fileno())</div>
<div class="line"><span class="lineno">  234</span>        sn = QtCore.QSocketNotifier(</div>
<div class="line"><span class="lineno">  235</span>            rsock.fileno(), _enum(<span class="stringliteral">&#39;QtCore.QSocketNotifier.Type&#39;</span>).Read</div>
<div class="line"><span class="lineno">  236</span>        )</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>        <span class="comment"># We do not actually care about this value other than running some</span></div>
<div class="line"><span class="lineno">  239</span>        <span class="comment"># Python code to ensure that the interpreter has a chance to handle the</span></div>
<div class="line"><span class="lineno">  240</span>        <span class="comment"># signal in Python land.  We also need to drain the socket because it</span></div>
<div class="line"><span class="lineno">  241</span>        <span class="comment"># will be written to as part of the wakeup!  There are some cases where</span></div>
<div class="line"><span class="lineno">  242</span>        <span class="comment"># this may fire too soon / more than once on Windows so we should be</span></div>
<div class="line"><span class="lineno">  243</span>        <span class="comment"># forgiving about reading an empty socket.</span></div>
<div class="line"><span class="lineno">  244</span>        rsock.setblocking(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  245</span>        <span class="comment"># Clear the socket to re-arm the notifier.</span></div>
<div class="line"><span class="lineno">  246</span>        <span class="preprocessor">@sn.activated.connect</span></div>
<div class="line"><span class="lineno">  247</span>        <span class="keyword">def </span>_may_clear_sock(*args):</div>
<div class="line"><span class="lineno">  248</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  249</span>                rsock.recv(1)</div>
<div class="line"><span class="lineno">  250</span>            <span class="keywordflow">except</span> BlockingIOError:</div>
<div class="line"><span class="lineno">  251</span>                <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>        <span class="keyword">def </span>handle(*args):</div>
<div class="line"><span class="lineno">  254</span>            nonlocal handler_args</div>
<div class="line"><span class="lineno">  255</span>            handler_args = args</div>
<div class="line"><span class="lineno">  256</span>            qapp.quit()</div>
<div class="line"><span class="lineno">  257</span> </div>
<div class="line"><span class="lineno">  258</span>        signal.signal(signal.SIGINT, handle)</div>
<div class="line"><span class="lineno">  259</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">yield</span></div>
<div class="line"><span class="lineno">  261</span>    <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> skip:</div>
<div class="line"><span class="lineno">  263</span>            wsock.close()</div>
<div class="line"><span class="lineno">  264</span>            rsock.close()</div>
<div class="line"><span class="lineno">  265</span>            sn.setEnabled(<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  266</span>            signal.set_wakeup_fd(old_wakeup_fd)</div>
<div class="line"><span class="lineno">  267</span>            signal.signal(signal.SIGINT, old_sigint_handler)</div>
<div class="line"><span class="lineno">  268</span>            <span class="keywordflow">if</span> handler_args <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  269</span>                old_sigint_handler(*handler_args)</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span><span class="preprocessor">@_api.caching_module_getattr</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6c17c180965dfd93ede6abf5ed3db5b0" name="a6c17c180965dfd93ede6abf5ed3db5b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c17c180965dfd93ede6abf5ed3db5b0">&#9670;&#160;</a></span>_setDevicePixelRatio()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.backends.qt_compat._setDevicePixelRatio </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>obj</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Call obj.setDevicePixelRatio(val) with graceful fallback for older Qt.

This can be replaced by the direct call when we require Qt&gt;=5.6.
</pre> <div class="fragment"><div class="line"><span class="lineno">  190</span><span class="keyword">def </span>_setDevicePixelRatio(obj, val):</div>
<div class="line"><span class="lineno">  191</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  192</span><span class="stringliteral">    Call obj.setDevicePixelRatio(val) with graceful fallback for older Qt.</span></div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral">    This can be replaced by the direct call when we require Qt&gt;=5.6.</span></div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  196</span>    <span class="keywordflow">if</span> hasattr(obj, <span class="stringliteral">&#39;setDevicePixelRatio&#39;</span>):</div>
<div class="line"><span class="lineno">  197</span>        <span class="comment"># Not available on older Qt5.</span></div>
<div class="line"><span class="lineno">  198</span>        obj.setDevicePixelRatio(val)</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span> </div>
<div class="line"><span class="lineno">  201</span><span class="preprocessor">@contextlib.contextmanager</span></div>
</div><!-- fragment -->
</div>
</div>
<a id="a56736ee28616372612b7fe11e98b95ae" name="a56736ee28616372612b7fe11e98b95ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56736ee28616372612b7fe11e98b95ae">&#9670;&#160;</a></span>_setup_pyqt5plus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.backends.qt_compat._setup_pyqt5plus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   71</span><span class="keyword">def </span>_setup_pyqt5plus():</div>
<div class="line"><span class="lineno">   72</span>    <span class="keyword">global</span> QtCore, QtGui, QtWidgets, __version__</div>
<div class="line"><span class="lineno">   73</span>    <span class="keyword">global</span> _getSaveFileName, _isdeleted, _to_int</div>
<div class="line"><span class="lineno">   74</span> </div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">if</span> QT_API == QT_API_PYQT6:</div>
<div class="line"><span class="lineno">   76</span>        <span class="keyword">from</span> PyQt6 <span class="keyword">import</span> QtCore, QtGui, QtWidgets, sip</div>
<div class="line"><span class="lineno">   77</span>        __version__ = QtCore.PYQT_VERSION_STR</div>
<div class="line"><span class="lineno">   78</span>        QtCore.Signal = QtCore.pyqtSignal</div>
<div class="line"><span class="lineno">   79</span>        QtCore.Slot = QtCore.pyqtSlot</div>
<div class="line"><span class="lineno">   80</span>        QtCore.Property = QtCore.pyqtProperty</div>
<div class="line"><span class="lineno">   81</span>        _isdeleted = sip.isdeleted</div>
<div class="line"><span class="lineno">   82</span>        _to_int = operator.attrgetter(<span class="stringliteral">&#39;value&#39;</span>)</div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">elif</span> QT_API == QT_API_PYSIDE6:</div>
<div class="line"><span class="lineno">   84</span>        <span class="keyword">from</span> PySide6 <span class="keyword">import</span> QtCore, QtGui, QtWidgets, __version__</div>
<div class="line"><span class="lineno">   85</span>        <span class="keyword">import</span> shiboken6</div>
<div class="line"><span class="lineno">   86</span>        <span class="keyword">def </span>_isdeleted(obj): <span class="keywordflow">return</span> <span class="keywordflow">not</span> shiboken6.isValid(obj)</div>
<div class="line"><span class="lineno">   87</span>        <span class="keywordflow">if</span> parse_version(__version__) &gt;= parse_version(<span class="stringliteral">&#39;6.4&#39;</span>):</div>
<div class="line"><span class="lineno">   88</span>            _to_int = operator.attrgetter(<span class="stringliteral">&#39;value&#39;</span>)</div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   90</span>            _to_int = int</div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">elif</span> QT_API == QT_API_PYQT5:</div>
<div class="line"><span class="lineno">   92</span>        <span class="keyword">from</span> PyQt5 <span class="keyword">import</span> QtCore, QtGui, QtWidgets</div>
<div class="line"><span class="lineno">   93</span>        <span class="keyword">import</span> sip</div>
<div class="line"><span class="lineno">   94</span>        __version__ = QtCore.PYQT_VERSION_STR</div>
<div class="line"><span class="lineno">   95</span>        QtCore.Signal = QtCore.pyqtSignal</div>
<div class="line"><span class="lineno">   96</span>        QtCore.Slot = QtCore.pyqtSlot</div>
<div class="line"><span class="lineno">   97</span>        QtCore.Property = QtCore.pyqtProperty</div>
<div class="line"><span class="lineno">   98</span>        _isdeleted = sip.isdeleted</div>
<div class="line"><span class="lineno">   99</span>        _to_int = int</div>
<div class="line"><span class="lineno">  100</span>    <span class="keywordflow">elif</span> QT_API == QT_API_PYSIDE2:</div>
<div class="line"><span class="lineno">  101</span>        <span class="keyword">from</span> PySide2 <span class="keyword">import</span> QtCore, QtGui, QtWidgets, __version__</div>
<div class="line"><span class="lineno">  102</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  103</span>            <span class="keyword">from</span> PySide2 <span class="keyword">import</span> shiboken2</div>
<div class="line"><span class="lineno">  104</span>        <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno">  105</span>            <span class="keyword">import</span> shiboken2</div>
<div class="line"><span class="lineno">  106</span>        <span class="keyword">def </span>_isdeleted(obj):</div>
<div class="line"><span class="lineno">  107</span>            <span class="keywordflow">return</span> <span class="keywordflow">not</span> shiboken2.isValid(obj)</div>
<div class="line"><span class="lineno">  108</span>        _to_int = int</div>
<div class="line"><span class="lineno">  109</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">raise</span> AssertionError(f<span class="stringliteral">&quot;Unexpected QT_API: {QT_API}&quot;</span>)</div>
<div class="line"><span class="lineno">  111</span>    _getSaveFileName = QtWidgets.QFileDialog.getSaveFileName</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a7b368d4cb5c6e8e3830ce53f797796f0" name="a7b368d4cb5c6e8e3830ce53f797796f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b368d4cb5c6e8e3830ce53f797796f0">&#9670;&#160;</a></span>_candidates</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list matplotlib.backends.qt_compat._candidates</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  [</div>
<div class="line"><span class="lineno">    2</span>            (_setup_pyqt5plus, QT_API_PYQT5),</div>
<div class="line"><span class="lineno">    3</span>            (_setup_pyqt5plus, QT_API_PYSIDE2),</div>
<div class="line"><span class="lineno">    4</span>        ]</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6d9c50e1d4846ae20acbb859615cbec7" name="a6d9c50e1d4846ae20acbb859615cbec7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d9c50e1d4846ae20acbb859615cbec7">&#9670;&#160;</a></span>_ETS</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dict matplotlib.backends.qt_compat._ETS</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  {  <span class="comment"># Mapping of QT_API_ENV to requested binding.</span></div>
<div class="line"><span class="lineno">    2</span>    <span class="stringliteral">&quot;pyqt6&quot;</span>: QT_API_PYQT6, <span class="stringliteral">&quot;pyside6&quot;</span>: QT_API_PYSIDE6,</div>
<div class="line"><span class="lineno">    3</span>    <span class="stringliteral">&quot;pyqt5&quot;</span>: QT_API_PYQT5, <span class="stringliteral">&quot;pyside2&quot;</span>: QT_API_PYSIDE2,</div>
<div class="line"><span class="lineno">    4</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a213d4c91e76058a875d016a440f94346" name="a213d4c91e76058a875d016a440f94346"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a213d4c91e76058a875d016a440f94346">&#9670;&#160;</a></span>_QT_FORCE_QT5_BINDING</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool matplotlib.backends.qt_compat._QT_FORCE_QT5_BINDING = True</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aaafcbf9d824c37502da43574c927d368" name="aaafcbf9d824c37502da43574c927d368"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaafcbf9d824c37502da43574c927d368">&#9670;&#160;</a></span>QT_API</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict matplotlib.backends.qt_compat.QT_API = <a class="el" href="namespacematplotlib_1_1backends_1_1qt__compat.html#ae46c0f084102095cf1d76fbc67440545">QT_API_PYQT6</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af9c7b70aff9f5191860f343b043d8ab5" name="af9c7b70aff9f5191860f343b043d8ab5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9c7b70aff9f5191860f343b043d8ab5">&#9670;&#160;</a></span>QT_API_ENV</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.backends.qt_compat.QT_API_ENV = os.environ.get(&quot;QT_API&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="add4995fba97af4897679ba3597ae7a15" name="add4995fba97af4897679ba3597ae7a15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#add4995fba97af4897679ba3597ae7a15">&#9670;&#160;</a></span>QT_API_PYQT5</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str matplotlib.backends.qt_compat.QT_API_PYQT5 = &quot;PyQt5&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ae46c0f084102095cf1d76fbc67440545" name="ae46c0f084102095cf1d76fbc67440545"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae46c0f084102095cf1d76fbc67440545">&#9670;&#160;</a></span>QT_API_PYQT6</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str matplotlib.backends.qt_compat.QT_API_PYQT6 = &quot;PyQt6&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a91c9fb33ecce3c0482e52dd05e01892c" name="a91c9fb33ecce3c0482e52dd05e01892c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a91c9fb33ecce3c0482e52dd05e01892c">&#9670;&#160;</a></span>QT_API_PYSIDE2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str matplotlib.backends.qt_compat.QT_API_PYSIDE2 = &quot;PySide2&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a32eaac6cbdd09a759bc5d157b3d56f03" name="a32eaac6cbdd09a759bc5d157b3d56f03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32eaac6cbdd09a759bc5d157b3d56f03">&#9670;&#160;</a></span>QT_API_PYSIDE6</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str matplotlib.backends.qt_compat.QT_API_PYSIDE6 = &quot;PySide6&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
