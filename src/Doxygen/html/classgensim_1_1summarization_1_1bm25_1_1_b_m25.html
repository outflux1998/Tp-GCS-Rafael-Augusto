<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.summarization.bm25.BM25 Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1summarization.html">summarization</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html">bm25</a></li><li class="navelem"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html">BM25</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classgensim_1_1summarization_1_1bm25_1_1_b_m25-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gensim.summarization.bm25.BM25 Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for gensim.summarization.bm25.BM25:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgensim_1_1summarization_1_1bm25_1_1_b_m25.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a37c01b04a4010c4a1d3879cdb42d8503" id="r_a37c01b04a4010c4a1d3879cdb42d8503"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a37c01b04a4010c4a1d3879cdb42d8503">__init__</a> (self, corpus, <a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a2722ce14e8c8dd1d523a9136792cb9d9">k1</a>=<a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a637658c750449c1285525ecc3abab576">PARAM_K1</a>, <a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a4c24b3105842acbe1e57366377319c1f">b</a>=<a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a0f73f114578b2feff700041e8e226f79">PARAM_B</a>, <a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#af227c5aca6b85250f9b593f14dfbee02">epsilon</a>=<a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a5602561d68f9be436b6bb8902ed2c030">EPSILON</a>)</td></tr>
<tr class="separator:a37c01b04a4010c4a1d3879cdb42d8503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70f7a5b1ec65ea1e065afca628df1dec" id="r_a70f7a5b1ec65ea1e065afca628df1dec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a70f7a5b1ec65ea1e065afca628df1dec">get_score</a> (self, document, index)</td></tr>
<tr class="separator:a70f7a5b1ec65ea1e065afca628df1dec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac19eb1bb8588bbeaeb0c3c8abbfa625e" id="r_ac19eb1bb8588bbeaeb0c3c8abbfa625e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#ac19eb1bb8588bbeaeb0c3c8abbfa625e">get_scores</a> (self, document)</td></tr>
<tr class="separator:ac19eb1bb8588bbeaeb0c3c8abbfa625e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d048ec67055bca3688e682a82cac2ab" id="r_a4d048ec67055bca3688e682a82cac2ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a4d048ec67055bca3688e682a82cac2ab">get_scores_bow</a> (self, document)</td></tr>
<tr class="separator:a4d048ec67055bca3688e682a82cac2ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2722ce14e8c8dd1d523a9136792cb9d9" id="r_a2722ce14e8c8dd1d523a9136792cb9d9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a2722ce14e8c8dd1d523a9136792cb9d9">k1</a></td></tr>
<tr class="separator:a2722ce14e8c8dd1d523a9136792cb9d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c24b3105842acbe1e57366377319c1f" id="r_a4c24b3105842acbe1e57366377319c1f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a4c24b3105842acbe1e57366377319c1f">b</a></td></tr>
<tr class="separator:a4c24b3105842acbe1e57366377319c1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af227c5aca6b85250f9b593f14dfbee02" id="r_af227c5aca6b85250f9b593f14dfbee02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#af227c5aca6b85250f9b593f14dfbee02">epsilon</a></td></tr>
<tr class="separator:af227c5aca6b85250f9b593f14dfbee02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78742ed6117e93a4eae92489dbc979e4" id="r_a78742ed6117e93a4eae92489dbc979e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a78742ed6117e93a4eae92489dbc979e4">corpus_size</a></td></tr>
<tr class="separator:a78742ed6117e93a4eae92489dbc979e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8969216fa1f8fbfbb549e319543ccbbd" id="r_a8969216fa1f8fbfbb549e319543ccbbd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a8969216fa1f8fbfbb549e319543ccbbd">avgdl</a></td></tr>
<tr class="separator:a8969216fa1f8fbfbb549e319543ccbbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab840adfcca2b32c77d420c8303f7ae3a" id="r_ab840adfcca2b32c77d420c8303f7ae3a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#ab840adfcca2b32c77d420c8303f7ae3a">doc_freqs</a></td></tr>
<tr class="separator:ab840adfcca2b32c77d420c8303f7ae3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcd30ef957ca2b0267609c9595cd526a" id="r_abcd30ef957ca2b0267609c9595cd526a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#abcd30ef957ca2b0267609c9595cd526a">idf</a></td></tr>
<tr class="separator:abcd30ef957ca2b0267609c9595cd526a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d33c024b4bd96387e2721e4163b8956" id="r_a8d33c024b4bd96387e2721e4163b8956"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a8d33c024b4bd96387e2721e4163b8956">doc_len</a></td></tr>
<tr class="separator:a8d33c024b4bd96387e2721e4163b8956"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b47a04ed8b4d3965330dd4900ac7c09" id="r_a0b47a04ed8b4d3965330dd4900ac7c09"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a0b47a04ed8b4d3965330dd4900ac7c09">average_idf</a></td></tr>
<tr class="separator:a0b47a04ed8b4d3965330dd4900ac7c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a678a4c73507c47392c263fa9c33a6fd6" id="r_a678a4c73507c47392c263fa9c33a6fd6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1summarization_1_1bm25_1_1_b_m25.html#a678a4c73507c47392c263fa9c33a6fd6">_initialize</a> (self, corpus)</td></tr>
<tr class="separator:a678a4c73507c47392c263fa9c33a6fd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Implementation of Best Matching 25 ranking function.

Attributes
----------
corpus_size : int
    Size of corpus (number of documents).
avgdl : float
    Average length of document in `corpus`.
doc_freqs : list of dicts of int
    Dictionary with terms frequencies for each document in `corpus`. Words used as keys and frequencies as values.
idf : dict
    Dictionary with inversed documents frequencies for whole `corpus`. Words used as keys and frequencies as values.
doc_len : list of int
    List of document lengths.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a37c01b04a4010c4a1d3879cdb42d8503" name="a37c01b04a4010c4a1d3879cdb42d8503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37c01b04a4010c4a1d3879cdb42d8503">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>k1</em> = <code><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a637658c750449c1285525ecc3abab576">PARAM_K1</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>b</em> = <code><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a0f73f114578b2feff700041e8e226f79">PARAM_B</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>epsilon</em> = <code><a class="el" href="namespacegensim_1_1summarization_1_1bm25.html#a5602561d68f9be436b6bb8902ed2c030">EPSILON</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parameters
----------
corpus : list of list of str
    Given corpus.
k1 : float
    Constant used for influencing the term frequency saturation. After saturation is reached, additional
    presence for the term adds a significantly less additional score. According to [1]_, experiments suggest
    that 1.2 &lt; k1 &lt; 2 yields reasonably good results, although the optimal value depends on factors such as
    the type of documents or queries.
b : float
    Constant used for influencing the effects of different document lengths relative to average document length.
    When b is bigger, lengthier documents (compared to average) have more impact on its effect. According to
    [1]_, experiments suggest that 0.5 &lt; b &lt; 0.8 yields reasonably good results, although the optimal value
    depends on factors such as the type of documents or queries.
epsilon : float
    Constant used as floor value for idf of a document in the corpus. When epsilon is positive, it restricts
    negative idf values. Negative idf implies that adding a very common term to a document penalize the overall
    score (with 'very common' meaning that it is present in more than half of the documents). That can be
    undesirable as it means that an identical document would score less than an almost identical one (by
    removing the referred term). Increasing epsilon above 0 raises the sense of how rare a word has to be (among
    different documents) to receive an extra score.</pre> <div class="fragment"><div class="line"><span class="lineno">   72</span>    <span class="keyword">def </span>__init__(self, corpus, k1=PARAM_K1, b=PARAM_B, epsilon=EPSILON):</div>
<div class="line"><span class="lineno">   73</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">        corpus : list of list of str</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">            Given corpus.</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral">        k1 : float</span></div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral">            Constant used for influencing the term frequency saturation. After saturation is reached, additional</span></div>
<div class="line"><span class="lineno">   80</span><span class="stringliteral">            presence for the term adds a significantly less additional score. According to [1]_, experiments suggest</span></div>
<div class="line"><span class="lineno">   81</span><span class="stringliteral">            that 1.2 &lt; k1 &lt; 2 yields reasonably good results, although the optimal value depends on factors such as</span></div>
<div class="line"><span class="lineno">   82</span><span class="stringliteral">            the type of documents or queries.</span></div>
<div class="line"><span class="lineno">   83</span><span class="stringliteral">        b : float</span></div>
<div class="line"><span class="lineno">   84</span><span class="stringliteral">            Constant used for influencing the effects of different document lengths relative to average document length.</span></div>
<div class="line"><span class="lineno">   85</span><span class="stringliteral">            When b is bigger, lengthier documents (compared to average) have more impact on its effect. According to</span></div>
<div class="line"><span class="lineno">   86</span><span class="stringliteral">            [1]_, experiments suggest that 0.5 &lt; b &lt; 0.8 yields reasonably good results, although the optimal value</span></div>
<div class="line"><span class="lineno">   87</span><span class="stringliteral">            depends on factors such as the type of documents or queries.</span></div>
<div class="line"><span class="lineno">   88</span><span class="stringliteral">        epsilon : float</span></div>
<div class="line"><span class="lineno">   89</span><span class="stringliteral">            Constant used as floor value for idf of a document in the corpus. When epsilon is positive, it restricts</span></div>
<div class="line"><span class="lineno">   90</span><span class="stringliteral">            negative idf values. Negative idf implies that adding a very common term to a document penalize the overall</span></div>
<div class="line"><span class="lineno">   91</span><span class="stringliteral">            score (with &#39;very common&#39; meaning that it is present in more than half of the documents). That can be</span></div>
<div class="line"><span class="lineno">   92</span><span class="stringliteral">            undesirable as it means that an identical document would score less than an almost identical one (by</span></div>
<div class="line"><span class="lineno">   93</span><span class="stringliteral">            removing the referred term). Increasing epsilon above 0 raises the sense of how rare a word has to be (among</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">            different documents) to receive an extra score.</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>        self.k1 = k1</div>
<div class="line"><span class="lineno">   99</span>        self.b = b</div>
<div class="line"><span class="lineno">  100</span>        self.epsilon = epsilon</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>        self.corpus_size = 0</div>
<div class="line"><span class="lineno">  103</span>        self.avgdl = 0</div>
<div class="line"><span class="lineno">  104</span>        self.doc_freqs = []</div>
<div class="line"><span class="lineno">  105</span>        self.idf = {}</div>
<div class="line"><span class="lineno">  106</span>        self.doc_len = []</div>
<div class="line"><span class="lineno">  107</span>        self._initialize(corpus)</div>
<div class="line"><span class="lineno">  108</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a678a4c73507c47392c263fa9c33a6fd6" name="a678a4c73507c47392c263fa9c33a6fd6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a678a4c73507c47392c263fa9c33a6fd6">&#9670;&#160;</a></span>_initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25._initialize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Calculates frequencies of terms in documents and in corpus. Also computes inverse document frequencies.</pre> <div class="fragment"><div class="line"><span class="lineno">  109</span>    <span class="keyword">def </span>_initialize(self, corpus):</div>
<div class="line"><span class="lineno">  110</span>        <span class="stringliteral">&quot;&quot;&quot;Calculates frequencies of terms in documents and in corpus. Also computes inverse document frequencies.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  111</span>        nd = {}  <span class="comment"># word -&gt; number of documents with word</span></div>
<div class="line"><span class="lineno">  112</span>        num_doc = 0</div>
<div class="line"><span class="lineno">  113</span>        <span class="keywordflow">for</span> document <span class="keywordflow">in</span> corpus:</div>
<div class="line"><span class="lineno">  114</span>            self.corpus_size += 1</div>
<div class="line"><span class="lineno">  115</span>            self.doc_len.append(len(document))</div>
<div class="line"><span class="lineno">  116</span>            num_doc += len(document)</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>            frequencies = {}</div>
<div class="line"><span class="lineno">  119</span>            <span class="keywordflow">for</span> word <span class="keywordflow">in</span> document:</div>
<div class="line"><span class="lineno">  120</span>                <span class="keywordflow">if</span> word <span class="keywordflow">not</span> <span class="keywordflow">in</span> frequencies:</div>
<div class="line"><span class="lineno">  121</span>                    frequencies[word] = 0</div>
<div class="line"><span class="lineno">  122</span>                frequencies[word] += 1</div>
<div class="line"><span class="lineno">  123</span>            self.doc_freqs.append(frequencies)</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>            <span class="keywordflow">for</span> word, freq <span class="keywordflow">in</span> iteritems(frequencies):</div>
<div class="line"><span class="lineno">  126</span>                <span class="keywordflow">if</span> word <span class="keywordflow">not</span> <span class="keywordflow">in</span> nd:</div>
<div class="line"><span class="lineno">  127</span>                    nd[word] = 0</div>
<div class="line"><span class="lineno">  128</span>                nd[word] += 1</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>        self.avgdl = float(num_doc) / self.corpus_size</div>
<div class="line"><span class="lineno">  131</span>        <span class="comment"># collect idf sum to calculate an average idf for epsilon value</span></div>
<div class="line"><span class="lineno">  132</span>        idf_sum = 0</div>
<div class="line"><span class="lineno">  133</span>        <span class="comment"># collect words with negative idf to set them a special epsilon value.</span></div>
<div class="line"><span class="lineno">  134</span>        <span class="comment"># idf can be negative if word is contained in more than half of documents</span></div>
<div class="line"><span class="lineno">  135</span>        negative_idfs = []</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">for</span> word, freq <span class="keywordflow">in</span> iteritems(nd):</div>
<div class="line"><span class="lineno">  137</span>            idf = math.log(self.corpus_size - freq + 0.5) - math.log(freq + 0.5)</div>
<div class="line"><span class="lineno">  138</span>            self.idf[word] = idf</div>
<div class="line"><span class="lineno">  139</span>            idf_sum += idf</div>
<div class="line"><span class="lineno">  140</span>            <span class="keywordflow">if</span> idf &lt; 0:</div>
<div class="line"><span class="lineno">  141</span>                negative_idfs.append(word)</div>
<div class="line"><span class="lineno">  142</span>        self.average_idf = float(idf_sum) / len(self.idf)</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>        <span class="keywordflow">if</span> self.average_idf &lt; 0:</div>
<div class="line"><span class="lineno">  145</span>            logger.warning(</div>
<div class="line"><span class="lineno">  146</span>                <span class="stringliteral">&#39;Average inverse document frequency is less than zero. Your corpus of {} documents&#39;</span></div>
<div class="line"><span class="lineno">  147</span>                <span class="stringliteral">&#39; is either too small or it does not originate from natural text. BM25 may produce&#39;</span></div>
<div class="line"><span class="lineno">  148</span>                <span class="stringliteral">&#39; unintuitive results.&#39;</span>.format(self.corpus_size)</div>
<div class="line"><span class="lineno">  149</span>            )</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>        eps = self.epsilon * self.average_idf</div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordflow">for</span> word <span class="keywordflow">in</span> negative_idfs:</div>
<div class="line"><span class="lineno">  153</span>            self.idf[word] = eps</div>
<div class="line"><span class="lineno">  154</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a70f7a5b1ec65ea1e065afca628df1dec" name="a70f7a5b1ec65ea1e065afca628df1dec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70f7a5b1ec65ea1e065afca628df1dec">&#9670;&#160;</a></span>get_score()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.get_score </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>document</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>index</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Computes BM25 score of given `document` in relation to item of corpus selected by `index`.

Parameters
----------
document : list of str
    Document to be scored.
index : int
    Index of document in corpus selected to score with `document`.

Returns
-------
float
    BM25 score.</pre> <div class="fragment"><div class="line"><span class="lineno">  155</span>    <span class="keyword">def </span>get_score(self, document, index):</div>
<div class="line"><span class="lineno">  156</span>        <span class="stringliteral">&quot;&quot;&quot;Computes BM25 score of given `document` in relation to item of corpus selected by `index`.</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  158</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  159</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  160</span><span class="stringliteral">        document : list of str</span></div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral">            Document to be scored.</span></div>
<div class="line"><span class="lineno">  162</span><span class="stringliteral">        index : int</span></div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral">            Index of document in corpus selected to score with `document`.</span></div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  166</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  167</span><span class="stringliteral">        float</span></div>
<div class="line"><span class="lineno">  168</span><span class="stringliteral">            BM25 score.</span></div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  171</span>        score = 0.0</div>
<div class="line"><span class="lineno">  172</span>        doc_freqs = self.doc_freqs[index]</div>
<div class="line"><span class="lineno">  173</span>        numerator_constant = self.k1 + 1</div>
<div class="line"><span class="lineno">  174</span>        denominator_constant = self.k1 * (1 - self.b + self.b * self.doc_len[index] / self.avgdl)</div>
<div class="line"><span class="lineno">  175</span>        <span class="keywordflow">for</span> word <span class="keywordflow">in</span> document:</div>
<div class="line"><span class="lineno">  176</span>            <span class="keywordflow">if</span> word <span class="keywordflow">in</span> doc_freqs:</div>
<div class="line"><span class="lineno">  177</span>                df = self.doc_freqs[index][word]</div>
<div class="line"><span class="lineno">  178</span>                idf = self.idf[word]</div>
<div class="line"><span class="lineno">  179</span>                score += (idf * df * numerator_constant) / (df + denominator_constant)</div>
<div class="line"><span class="lineno">  180</span>        <span class="keywordflow">return</span> score</div>
<div class="line"><span class="lineno">  181</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac19eb1bb8588bbeaeb0c3c8abbfa625e" name="ac19eb1bb8588bbeaeb0c3c8abbfa625e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac19eb1bb8588bbeaeb0c3c8abbfa625e">&#9670;&#160;</a></span>get_scores()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.get_scores </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>document</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Computes and returns BM25 scores of given `document` in relation to
every item in corpus.

Parameters
----------
document : list of str
    Document to be scored.

Returns
-------
list of float
    BM25 scores.</pre> <div class="fragment"><div class="line"><span class="lineno">  182</span>    <span class="keyword">def </span>get_scores(self, document):</div>
<div class="line"><span class="lineno">  183</span>        <span class="stringliteral">&quot;&quot;&quot;Computes and returns BM25 scores of given `document` in relation to</span></div>
<div class="line"><span class="lineno">  184</span><span class="stringliteral">        every item in corpus.</span></div>
<div class="line"><span class="lineno">  185</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral">        document : list of str</span></div>
<div class="line"><span class="lineno">  189</span><span class="stringliteral">            Document to be scored.</span></div>
<div class="line"><span class="lineno">  190</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  191</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  192</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral">        list of float</span></div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral">            BM25 scores.</span></div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  197</span>        scores = [self.get_score(document, index) <span class="keywordflow">for</span> index <span class="keywordflow">in</span> range(self.corpus_size)]</div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">return</span> scores</div>
<div class="line"><span class="lineno">  199</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4d048ec67055bca3688e682a82cac2ab" name="a4d048ec67055bca3688e682a82cac2ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d048ec67055bca3688e682a82cac2ab">&#9670;&#160;</a></span>get_scores_bow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.get_scores_bow </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>document</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Computes and returns BM25 scores of given `document` in relation to
every item in corpus.

Parameters
----------
document : list of str
    Document to be scored.

Returns
-------
list of float
    BM25 scores.</pre> <div class="fragment"><div class="line"><span class="lineno">  200</span>    <span class="keyword">def </span>get_scores_bow(self, document):</div>
<div class="line"><span class="lineno">  201</span>        <span class="stringliteral">&quot;&quot;&quot;Computes and returns BM25 scores of given `document` in relation to</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral">        every item in corpus.</span></div>
<div class="line"><span class="lineno">  203</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  204</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  205</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  206</span><span class="stringliteral">        document : list of str</span></div>
<div class="line"><span class="lineno">  207</span><span class="stringliteral">            Document to be scored.</span></div>
<div class="line"><span class="lineno">  208</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral">        list of float</span></div>
<div class="line"><span class="lineno">  212</span><span class="stringliteral">            BM25 scores.</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  215</span>        scores = []</div>
<div class="line"><span class="lineno">  216</span>        <span class="keywordflow">for</span> index <span class="keywordflow">in</span> range(self.corpus_size):</div>
<div class="line"><span class="lineno">  217</span>            score = self.get_score(document, index)</div>
<div class="line"><span class="lineno">  218</span>            <span class="keywordflow">if</span> score &gt; 0:</div>
<div class="line"><span class="lineno">  219</span>                scores.append((index, score))</div>
<div class="line"><span class="lineno">  220</span>        <span class="keywordflow">return</span> scores</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a0b47a04ed8b4d3965330dd4900ac7c09" name="a0b47a04ed8b4d3965330dd4900ac7c09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b47a04ed8b4d3965330dd4900ac7c09">&#9670;&#160;</a></span>average_idf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.average_idf</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8969216fa1f8fbfbb549e319543ccbbd" name="a8969216fa1f8fbfbb549e319543ccbbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8969216fa1f8fbfbb549e319543ccbbd">&#9670;&#160;</a></span>avgdl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.avgdl</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4c24b3105842acbe1e57366377319c1f" name="a4c24b3105842acbe1e57366377319c1f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c24b3105842acbe1e57366377319c1f">&#9670;&#160;</a></span>b</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.b</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a78742ed6117e93a4eae92489dbc979e4" name="a78742ed6117e93a4eae92489dbc979e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78742ed6117e93a4eae92489dbc979e4">&#9670;&#160;</a></span>corpus_size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.corpus_size</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab840adfcca2b32c77d420c8303f7ae3a" name="ab840adfcca2b32c77d420c8303f7ae3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab840adfcca2b32c77d420c8303f7ae3a">&#9670;&#160;</a></span>doc_freqs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.doc_freqs</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8d33c024b4bd96387e2721e4163b8956" name="a8d33c024b4bd96387e2721e4163b8956"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d33c024b4bd96387e2721e4163b8956">&#9670;&#160;</a></span>doc_len</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.doc_len</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af227c5aca6b85250f9b593f14dfbee02" name="af227c5aca6b85250f9b593f14dfbee02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af227c5aca6b85250f9b593f14dfbee02">&#9670;&#160;</a></span>epsilon</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.epsilon</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="abcd30ef957ca2b0267609c9595cd526a" name="abcd30ef957ca2b0267609c9595cd526a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcd30ef957ca2b0267609c9595cd526a">&#9670;&#160;</a></span>idf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.idf</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2722ce14e8c8dd1d523a9136792cb9d9" name="a2722ce14e8c8dd1d523a9136792cb9d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2722ce14e8c8dd1d523a9136792cb9d9">&#9670;&#160;</a></span>k1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.summarization.bm25.BM25.k1</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/gensim/summarization/<a class="el" href="bm25_8py.html">bm25.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
