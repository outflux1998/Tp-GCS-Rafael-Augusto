<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.corpora.dictionary.Dictionary Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1corpora.html">corpora</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1corpora_1_1dictionary.html">dictionary</a></li><li class="navelem"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html">Dictionary</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gensim.corpora.dictionary.Dictionary Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for gensim.corpora.dictionary.Dictionary:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.png" usemap="#gensim.corpora.dictionary.Dictionary_map" alt=""/>
  <map id="gensim.corpora.dictionary.Dictionary_map" name="gensim.corpora.dictionary.Dictionary_map">
<area href="classgensim_1_1utils_1_1_save_load.html" alt="gensim.utils.SaveLoad" shape="rect" coords="0,56,222,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8a4546a48f3ef03c7d58213ad69ade13" id="r_a8a4546a48f3ef03c7d58213ad69ade13"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a8a4546a48f3ef03c7d58213ad69ade13">__init__</a> (self, documents=None, prune_at=2000000)</td></tr>
<tr class="separator:a8a4546a48f3ef03c7d58213ad69ade13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a405f6a1c8d652d0e536e8c67fe890f85" id="r_a405f6a1c8d652d0e536e8c67fe890f85"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a405f6a1c8d652d0e536e8c67fe890f85">__getitem__</a> (self, tokenid)</td></tr>
<tr class="separator:a405f6a1c8d652d0e536e8c67fe890f85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc208db439144d8788f6a7ea8b5c8faf" id="r_adc208db439144d8788f6a7ea8b5c8faf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#adc208db439144d8788f6a7ea8b5c8faf">__iter__</a> (self)</td></tr>
<tr class="separator:adc208db439144d8788f6a7ea8b5c8faf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f3a1e1118ba7cc152258e07c3e4244d" id="r_a4f3a1e1118ba7cc152258e07c3e4244d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a4f3a1e1118ba7cc152258e07c3e4244d">iteritems</a> (self)</td></tr>
<tr class="separator:a4f3a1e1118ba7cc152258e07c3e4244d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68bd4170e85a2dd8dc3fe0f5dfdce74e" id="r_a68bd4170e85a2dd8dc3fe0f5dfdce74e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a68bd4170e85a2dd8dc3fe0f5dfdce74e">itervalues</a> (self)</td></tr>
<tr class="separator:a68bd4170e85a2dd8dc3fe0f5dfdce74e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0245e0a98cc835429e4ad5c975f5a8df" id="r_a0245e0a98cc835429e4ad5c975f5a8df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a0245e0a98cc835429e4ad5c975f5a8df">keys</a> (self)</td></tr>
<tr class="separator:a0245e0a98cc835429e4ad5c975f5a8df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a6690683d5b984388337acf2659631f" id="r_a6a6690683d5b984388337acf2659631f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a6a6690683d5b984388337acf2659631f">__len__</a> (self)</td></tr>
<tr class="separator:a6a6690683d5b984388337acf2659631f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e0261213ceb495d6c175227d75669cc" id="r_a4e0261213ceb495d6c175227d75669cc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a4e0261213ceb495d6c175227d75669cc">__str__</a> (self)</td></tr>
<tr class="separator:a4e0261213ceb495d6c175227d75669cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db6c85a5582220e4a6d15b103716e3d" id="r_a2db6c85a5582220e4a6d15b103716e3d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a2db6c85a5582220e4a6d15b103716e3d">add_documents</a> (self, documents, prune_at=2000000)</td></tr>
<tr class="separator:a2db6c85a5582220e4a6d15b103716e3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ad5b53fadeccb8aa4fffda01f6e5f87" id="r_a9ad5b53fadeccb8aa4fffda01f6e5f87"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a9ad5b53fadeccb8aa4fffda01f6e5f87">doc2bow</a> (self, document, allow_update=False, return_missing=False)</td></tr>
<tr class="separator:a9ad5b53fadeccb8aa4fffda01f6e5f87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb009532d10c5a019335c466beaf441f" id="r_adb009532d10c5a019335c466beaf441f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#adb009532d10c5a019335c466beaf441f">doc2idx</a> (self, document, unknown_word_index=-1)</td></tr>
<tr class="separator:adb009532d10c5a019335c466beaf441f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59eebbd46329b628b87db8175314eac5" id="r_a59eebbd46329b628b87db8175314eac5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a59eebbd46329b628b87db8175314eac5">filter_extremes</a> (self, no_below=5, no_above=0.5, keep_n=100000, keep_tokens=None)</td></tr>
<tr class="separator:a59eebbd46329b628b87db8175314eac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e9469bcd627daea2fb2767cdd383d2" id="r_aa4e9469bcd627daea2fb2767cdd383d2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#aa4e9469bcd627daea2fb2767cdd383d2">filter_n_most_frequent</a> (self, remove_n)</td></tr>
<tr class="separator:aa4e9469bcd627daea2fb2767cdd383d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab630e207104b53c66a821429ef8c9b0d" id="r_ab630e207104b53c66a821429ef8c9b0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#ab630e207104b53c66a821429ef8c9b0d">filter_tokens</a> (self, bad_ids=None, good_ids=None)</td></tr>
<tr class="separator:ab630e207104b53c66a821429ef8c9b0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a859f913fd8327f0a76a7b2f747334019" id="r_a859f913fd8327f0a76a7b2f747334019"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a859f913fd8327f0a76a7b2f747334019">compactify</a> (self)</td></tr>
<tr class="separator:a859f913fd8327f0a76a7b2f747334019"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeff77f72d0f0d8a352540866cd05cc39" id="r_aeff77f72d0f0d8a352540866cd05cc39"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#aeff77f72d0f0d8a352540866cd05cc39">save_as_text</a> (self, fname, sort_by_word=True)</td></tr>
<tr class="separator:aeff77f72d0f0d8a352540866cd05cc39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a013567596b835244224120581c3f383a" id="r_a013567596b835244224120581c3f383a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a013567596b835244224120581c3f383a">merge_with</a> (self, other)</td></tr>
<tr class="separator:a013567596b835244224120581c3f383a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf1b2fc8b1730be338feea9785a32527" id="r_abf1b2fc8b1730be338feea9785a32527"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#abf1b2fc8b1730be338feea9785a32527">patch_with_special_tokens</a> (self, special_token_dict)</td></tr>
<tr class="separator:abf1b2fc8b1730be338feea9785a32527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:a70d054bfd9dfd1373fef9e0e691a24b5 inherit pub_methods_classgensim_1_1utils_1_1_save_load" id="r_a70d054bfd9dfd1373fef9e0e691a24b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a70d054bfd9dfd1373fef9e0e691a24b5">load</a> (cls, fname, mmap=None)</td></tr>
<tr class="separator:a70d054bfd9dfd1373fef9e0e691a24b5 inherit pub_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0767537a6eb767dfe4fb8cf6d5fc221c inherit pub_methods_classgensim_1_1utils_1_1_save_load" id="r_a0767537a6eb767dfe4fb8cf6d5fc221c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a0767537a6eb767dfe4fb8cf6d5fc221c">save</a> (self, fname_or_handle, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:a0767537a6eb767dfe4fb8cf6d5fc221c inherit pub_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aea85b1a54fc58f480845aaf2837fd7ec" id="r_aea85b1a54fc58f480845aaf2837fd7ec"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#aea85b1a54fc58f480845aaf2837fd7ec">from_documents</a> (documents)</td></tr>
<tr class="separator:aea85b1a54fc58f480845aaf2837fd7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e5fa83fcd5cba081245bc09f5e887e" id="r_a95e5fa83fcd5cba081245bc09f5e887e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a95e5fa83fcd5cba081245bc09f5e887e">load_from_text</a> (fname)</td></tr>
<tr class="separator:a95e5fa83fcd5cba081245bc09f5e887e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a948c36fe431292101d4a81e6ae9cb80b" id="r_a948c36fe431292101d4a81e6ae9cb80b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a948c36fe431292101d4a81e6ae9cb80b">from_corpus</a> (corpus, id2word=None)</td></tr>
<tr class="separator:a948c36fe431292101d4a81e6ae9cb80b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a31aed04d647c53c1b6e4c60d2b86cab1" id="r_a31aed04d647c53c1b6e4c60d2b86cab1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a31aed04d647c53c1b6e4c60d2b86cab1">token2id</a></td></tr>
<tr class="separator:a31aed04d647c53c1b6e4c60d2b86cab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f96f669ab3ec3940dcef74391303fcc" id="r_a2f96f669ab3ec3940dcef74391303fcc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a2f96f669ab3ec3940dcef74391303fcc">id2token</a></td></tr>
<tr class="separator:a2f96f669ab3ec3940dcef74391303fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed6bc1460cb179323c2760802534bd26" id="r_aed6bc1460cb179323c2760802534bd26"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#aed6bc1460cb179323c2760802534bd26">cfs</a></td></tr>
<tr class="separator:aed6bc1460cb179323c2760802534bd26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4380a4f3c05efbbd1d1f0ccb32fc7704" id="r_a4380a4f3c05efbbd1d1f0ccb32fc7704"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a4380a4f3c05efbbd1d1f0ccb32fc7704">dfs</a></td></tr>
<tr class="separator:a4380a4f3c05efbbd1d1f0ccb32fc7704"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a341aadb0676170196cf454dc962c0794" id="r_a341aadb0676170196cf454dc962c0794"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a341aadb0676170196cf454dc962c0794">num_docs</a></td></tr>
<tr class="separator:a341aadb0676170196cf454dc962c0794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cc51ba937bfeeac672cac7387277110" id="r_a9cc51ba937bfeeac672cac7387277110"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a9cc51ba937bfeeac672cac7387277110">num_pos</a></td></tr>
<tr class="separator:a9cc51ba937bfeeac672cac7387277110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ccbe0aafa9b2fd8a3c608a6f1fdb898" id="r_a5ccbe0aafa9b2fd8a3c608a6f1fdb898"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#a5ccbe0aafa9b2fd8a3c608a6f1fdb898">num_nnz</a></td></tr>
<tr class="separator:a5ccbe0aafa9b2fd8a3c608a6f1fdb898"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ad4d55c2b335dc15aa866203f3d38fe02" id="r_ad4d55c2b335dc15aa866203f3d38fe02"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#ad4d55c2b335dc15aa866203f3d38fe02">iterkeys</a> = <a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#adc208db439144d8788f6a7ea8b5c8faf">__iter__</a></td></tr>
<tr class="separator:ad4d55c2b335dc15aa866203f3d38fe02"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_ace7b79d8870c44c2bab0d590a5aca91e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#ace7b79d8870c44c2bab0d590a5aca91e">_load_specials</a> (self, fname, mmap, compress, subname)</td></tr>
<tr class="separator:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_acd9faa42ba3aae8f0a175418889d425c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#acd9faa42ba3aae8f0a175418889d425c">_smart_save</a> (self, fname, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_a4bae38a76fa8264d2c8759b9d40a6f5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a4bae38a76fa8264d2c8759b9d40a6f5c">_save_specials</a> (self, fname, separately, sep_limit, ignore, pickle_protocol, compress, subname)</td></tr>
<tr class="separator:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load" id="r_a6cf051b348407267110444260535d143"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a6cf051b348407267110444260535d143">_adapt_by_suffix</a> (fname)</td></tr>
<tr class="separator:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Dictionary encapsulates the mapping between normalized words and their integer ids.

Notable instance attributes:

Attributes
----------
token2id : dict of (str, int)
    token -&gt; tokenId.
id2token : dict of (int, str)
    Reverse mapping for token2id, initialized in a lazy manner to save memory (not created until needed).
cfs : dict of (int, int)
    Collection frequencies: token_id -&gt; how many instances of this token are contained in the documents.
dfs : dict of (int, int)
    Document frequencies: token_id -&gt; how many documents contain this token.
num_docs : int
    Number of documents processed.
num_pos : int
    Total number of corpus positions (number of processed words).
num_nnz : int
    Total number of non-zeroes in the BOW matrix (sum of the number of unique
    words per document over the entire corpus).</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8a4546a48f3ef03c7d58213ad69ade13" name="a8a4546a48f3ef03c7d58213ad69ade13"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a4546a48f3ef03c7d58213ad69ade13">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>documents</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prune_at</em> = <code>2000000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parameters
----------
documents : iterable of iterable of str, optional
    Documents to be used to initialize the mapping and collect corpus statistics.
prune_at : int, optional
    Dictionary will try to keep no more than `prune_at` words in its mapping, to limit its RAM
    footprint, the correctness is not guaranteed.
    Use :meth:`~gensim.corpora.dictionary.Dictionary.filter_extremes` to perform proper filtering.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt;
    &gt;&gt;&gt; texts = [['human', 'interface', 'computer']]
    &gt;&gt;&gt; dct = Dictionary(texts)  # initialize a Dictionary
    &gt;&gt;&gt; dct.add_documents([["cat", "say", "meow"], ["dog"]])  # add more document (extend the vocabulary)
    &gt;&gt;&gt; dct.doc2bow(["dog", "computer", "non_existent_word"])
    [(0, 1), (6, 1)]</pre> <div class="fragment"><div class="line"><span class="lineno">   56</span>    <span class="keyword">def </span>__init__(self, documents=None, prune_at=2000000):</div>
<div class="line"><span class="lineno">   57</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   58</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   59</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">   61</span><span class="stringliteral">        documents : iterable of iterable of str, optional</span></div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral">            Documents to be used to initialize the mapping and collect corpus statistics.</span></div>
<div class="line"><span class="lineno">   63</span><span class="stringliteral">        prune_at : int, optional</span></div>
<div class="line"><span class="lineno">   64</span><span class="stringliteral">            Dictionary will try to keep no more than `prune_at` words in its mapping, to limit its RAM</span></div>
<div class="line"><span class="lineno">   65</span><span class="stringliteral">            footprint, the correctness is not guaranteed.</span></div>
<div class="line"><span class="lineno">   66</span><span class="stringliteral">            Use :meth:`~gensim.corpora.dictionary.Dictionary.filter_extremes` to perform proper filtering.</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">            &gt;&gt;&gt; texts = [[&#39;human&#39;, &#39;interface&#39;, &#39;computer&#39;]]</span></div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">            &gt;&gt;&gt; dct = Dictionary(texts)  # initialize a Dictionary</span></div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">            &gt;&gt;&gt; dct.add_documents([[&quot;cat&quot;, &quot;say&quot;, &quot;meow&quot;], [&quot;dog&quot;]])  # add more document (extend the vocabulary)</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">            &gt;&gt;&gt; dct.doc2bow([&quot;dog&quot;, &quot;computer&quot;, &quot;non_existent_word&quot;])</span></div>
<div class="line"><span class="lineno">   78</span><span class="stringliteral">            [(0, 1), (6, 1)]</span></div>
<div class="line"><span class="lineno">   79</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   80</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   81</span>        self.token2id = {}</div>
<div class="line"><span class="lineno">   82</span>        self.id2token = {}</div>
<div class="line"><span class="lineno">   83</span>        self.cfs = {}</div>
<div class="line"><span class="lineno">   84</span>        self.dfs = {}</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>        self.num_docs = 0</div>
<div class="line"><span class="lineno">   87</span>        self.num_pos = 0</div>
<div class="line"><span class="lineno">   88</span>        self.num_nnz = 0</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">if</span> documents <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   91</span>            self.add_documents(documents, prune_at=prune_at)</div>
<div class="line"><span class="lineno">   92</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a405f6a1c8d652d0e536e8c67fe890f85" name="a405f6a1c8d652d0e536e8c67fe890f85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a405f6a1c8d652d0e536e8c67fe890f85">&#9670;&#160;</a></span>__getitem__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.__getitem__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tokenid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the string token that corresponds to `tokenid`.

Parameters
----------
tokenid : int
    Id of token.

Returns
-------
str
    Token corresponding to `tokenid`.

Raises
------
KeyError
    If this Dictionary doesn't contain such `tokenid`.</pre> <div class="fragment"><div class="line"><span class="lineno">   93</span>    <span class="keyword">def </span>__getitem__(self, tokenid):</div>
<div class="line"><span class="lineno">   94</span>        <span class="stringliteral">&quot;&quot;&quot;Get the string token that corresponds to `tokenid`.</span></div>
<div class="line"><span class="lineno">   95</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">        tokenid : int</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">            Id of token.</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  102</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">        str</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">            Token corresponding to `tokenid`.</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  106</span><span class="stringliteral">        Raises</span></div>
<div class="line"><span class="lineno">  107</span><span class="stringliteral">        ------</span></div>
<div class="line"><span class="lineno">  108</span><span class="stringliteral">        KeyError</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">            If this Dictionary doesn&#39;t contain such `tokenid`.</span></div>
<div class="line"><span class="lineno">  110</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  111</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordflow">if</span> len(self.id2token) != len(self.token2id):</div>
<div class="line"><span class="lineno">  113</span>            <span class="comment"># the word-&gt;id mapping has changed (presumably via add_documents);</span></div>
<div class="line"><span class="lineno">  114</span>            <span class="comment"># recompute id-&gt;word accordingly</span></div>
<div class="line"><span class="lineno">  115</span>            self.id2token = utils.revdict(self.token2id)</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">return</span> self.id2token[tokenid]  <span class="comment"># will throw for non-existent ids</span></div>
<div class="line"><span class="lineno">  117</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adc208db439144d8788f6a7ea8b5c8faf" name="adc208db439144d8788f6a7ea8b5c8faf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adc208db439144d8788f6a7ea8b5c8faf">&#9670;&#160;</a></span>__iter__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.__iter__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Iterate over all tokens.</pre> <div class="fragment"><div class="line"><span class="lineno">  118</span>    <span class="keyword">def </span>__iter__(self):</div>
<div class="line"><span class="lineno">  119</span>        <span class="stringliteral">&quot;&quot;&quot;Iterate over all tokens.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  120</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a>(self.keys())</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="ttc" id="a__lapack__subroutines_8h_html_a60590d91febfcb54d88443940cd5f23e"><div class="ttname"><a href="__lapack__subroutines_8h.html#a60590d91febfcb54d88443940cd5f23e">iter</a></div><div class="ttdeci">void int double int double double double double int int * iter</div><div class="ttdef"><b>Definition</b> _lapack_subroutines.h:623</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6a6690683d5b984388337acf2659631f" name="a6a6690683d5b984388337acf2659631f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a6690683d5b984388337acf2659631f">&#9670;&#160;</a></span>__len__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.__len__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get number of stored tokens.

Returns
-------
int
    Number of stored tokens.</pre> <div class="fragment"><div class="line"><span class="lineno">  143</span>    <span class="keyword">def </span>__len__(self):</div>
<div class="line"><span class="lineno">  144</span>        <span class="stringliteral">&quot;&quot;&quot;Get number of stored tokens.</span></div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral">        int</span></div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">            Number of stored tokens.</span></div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordflow">return</span> len(self.token2id)</div>
<div class="line"><span class="lineno">  153</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e0261213ceb495d6c175227d75669cc" name="a4e0261213ceb495d6c175227d75669cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e0261213ceb495d6c175227d75669cc">&#9670;&#160;</a></span>__str__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.__str__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  154</span>    <span class="keyword">def </span>__str__(self):</div>
<div class="line"><span class="lineno">  155</span>        some_keys = list(itertools.islice(iterkeys(self.token2id), 5))</div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;Dictionary(%i unique tokens: %s%s)&quot;</span> % (len(self), some_keys, <span class="stringliteral">&#39;...&#39;</span> <span class="keywordflow">if</span> len(self) &gt; 5 <span class="keywordflow">else</span> <span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line"><span class="lineno">  157</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2db6c85a5582220e4a6d15b103716e3d" name="a2db6c85a5582220e4a6d15b103716e3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2db6c85a5582220e4a6d15b103716e3d">&#9670;&#160;</a></span>add_documents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.add_documents </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>documents</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prune_at</em> = <code>2000000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Update dictionary from a collection of `documents`.

Parameters
----------
documents : iterable of iterable of str
    Input corpus. All tokens should be already **tokenized and normalized**.
prune_at : int, optional
    Dictionary will try to keep no more than `prune_at` words in its mapping, to limit its RAM
    footprint, the correctness is not guaranteed.
    Use :meth:`~gensim.corpora.dictionary.Dictionary.filter_extremes` to perform proper filtering.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt;
    &gt;&gt;&gt; corpus = ["máma mele maso".split(), "ema má máma".split()]
    &gt;&gt;&gt; dct = Dictionary(corpus)
    &gt;&gt;&gt; len(dct)
    5
    &gt;&gt;&gt; dct.add_documents([["this", "is", "sparta"], ["just", "joking"]])
    &gt;&gt;&gt; len(dct)
    10</pre> <div class="fragment"><div class="line"><span class="lineno">  177</span>    <span class="keyword">def </span>add_documents(self, documents, prune_at=2000000):</div>
<div class="line"><span class="lineno">  178</span>        <span class="stringliteral">&quot;&quot;&quot;Update dictionary from a collection of `documents`.</span></div>
<div class="line"><span class="lineno">  179</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  180</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  181</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  182</span><span class="stringliteral">        documents : iterable of iterable of str</span></div>
<div class="line"><span class="lineno">  183</span><span class="stringliteral">            Input corpus. All tokens should be already **tokenized and normalized**.</span></div>
<div class="line"><span class="lineno">  184</span><span class="stringliteral">        prune_at : int, optional</span></div>
<div class="line"><span class="lineno">  185</span><span class="stringliteral">            Dictionary will try to keep no more than `prune_at` words in its mapping, to limit its RAM</span></div>
<div class="line"><span class="lineno">  186</span><span class="stringliteral">            footprint, the correctness is not guaranteed.</span></div>
<div class="line"><span class="lineno">  187</span><span class="stringliteral">            Use :meth:`~gensim.corpora.dictionary.Dictionary.filter_extremes` to perform proper filtering.</span></div>
<div class="line"><span class="lineno">  188</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  189</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  190</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  191</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  192</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral">            &gt;&gt;&gt; corpus = [&quot;máma mele maso&quot;.split(), &quot;ema má máma&quot;.split()]</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">            &gt;&gt;&gt; dct = Dictionary(corpus)</span></div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral">            &gt;&gt;&gt; len(dct)</span></div>
<div class="line"><span class="lineno">  198</span><span class="stringliteral">            5</span></div>
<div class="line"><span class="lineno">  199</span><span class="stringliteral">            &gt;&gt;&gt; dct.add_documents([[&quot;this&quot;, &quot;is&quot;, &quot;sparta&quot;], [&quot;just&quot;, &quot;joking&quot;]])</span></div>
<div class="line"><span class="lineno">  200</span><span class="stringliteral">            &gt;&gt;&gt; len(dct)</span></div>
<div class="line"><span class="lineno">  201</span><span class="stringliteral">            10</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  203</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  204</span>        <span class="keywordflow">for</span> docno, document <span class="keywordflow">in</span> enumerate(documents):</div>
<div class="line"><span class="lineno">  205</span>            <span class="comment"># log progress &amp; run a regular check for pruning, once every 10k docs</span></div>
<div class="line"><span class="lineno">  206</span>            <span class="keywordflow">if</span> docno % 10000 == 0:</div>
<div class="line"><span class="lineno">  207</span>                <span class="keywordflow">if</span> prune_at <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> len(self) &gt; prune_at:</div>
<div class="line"><span class="lineno">  208</span>                    self.filter_extremes(no_below=0, no_above=1.0, keep_n=prune_at)</div>
<div class="line"><span class="lineno">  209</span>                logger.info(<span class="stringliteral">&quot;adding document #%i to %s&quot;</span>, docno, self)</div>
<div class="line"><span class="lineno">  210</span> </div>
<div class="line"><span class="lineno">  211</span>            <span class="comment"># update Dictionary with the document</span></div>
<div class="line"><span class="lineno">  212</span>            self.doc2bow(document, allow_update=<span class="keyword">True</span>)  <span class="comment"># ignore the result, here we only care about updating token ids</span></div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>        logger.info(</div>
<div class="line"><span class="lineno">  215</span>            <span class="stringliteral">&quot;built %s from %i documents (total %i corpus positions)&quot;</span>,</div>
<div class="line"><span class="lineno">  216</span>            self, self.num_docs, self.num_pos</div>
<div class="line"><span class="lineno">  217</span>        )</div>
<div class="line"><span class="lineno">  218</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a859f913fd8327f0a76a7b2f747334019" name="a859f913fd8327f0a76a7b2f747334019"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a859f913fd8327f0a76a7b2f747334019">&#9670;&#160;</a></span>compactify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.compactify </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Assign new word ids to all words, shrinking any gaps.</pre> <div class="fragment"><div class="line"><span class="lineno">  468</span>    <span class="keyword">def </span>compactify(self):</div>
<div class="line"><span class="lineno">  469</span>        <span class="stringliteral">&quot;&quot;&quot;Assign new word ids to all words, shrinking any gaps.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  470</span>        logger.debug(<span class="stringliteral">&quot;rebuilding dictionary, shrinking gaps&quot;</span>)</div>
<div class="line"><span class="lineno">  471</span> </div>
<div class="line"><span class="lineno">  472</span>        <span class="comment"># build mapping from old id -&gt; new id</span></div>
<div class="line"><span class="lineno">  473</span>        idmap = dict(zip(sorted(itervalues(self.token2id)), range(len(self.token2id))))</div>
<div class="line"><span class="lineno">  474</span> </div>
<div class="line"><span class="lineno">  475</span>        <span class="comment"># reassign mappings to new ids</span></div>
<div class="line"><span class="lineno">  476</span>        self.token2id = {token: idmap[tokenid] <span class="keywordflow">for</span> token, tokenid <span class="keywordflow">in</span> iteritems(self.token2id)}</div>
<div class="line"><span class="lineno">  477</span>        self.id2token = {}</div>
<div class="line"><span class="lineno">  478</span>        self.dfs = {idmap[tokenid]: freq <span class="keywordflow">for</span> tokenid, freq <span class="keywordflow">in</span> iteritems(self.dfs)}</div>
<div class="line"><span class="lineno">  479</span>        self.cfs = {idmap[tokenid]: freq <span class="keywordflow">for</span> tokenid, freq <span class="keywordflow">in</span> iteritems(self.cfs)}</div>
<div class="line"><span class="lineno">  480</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ad5b53fadeccb8aa4fffda01f6e5f87" name="a9ad5b53fadeccb8aa4fffda01f6e5f87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ad5b53fadeccb8aa4fffda01f6e5f87">&#9670;&#160;</a></span>doc2bow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.doc2bow </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>document</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>allow_update</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>return_missing</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert `document` into the bag-of-words (BoW) format = list of `(token_id, token_count)` tuples.

Parameters
----------
document : list of str
    Input document.
allow_update : bool, optional
    Update self, by adding new tokens from `document` and updating internal corpus statistics.
return_missing : bool, optional
    Return missing tokens (tokens present in `document` but not in self) with frequencies?

Return
------
list of (int, int)
    BoW representation of `document`.
list of (int, int), dict of (str, int)
    If `return_missing` is True, return BoW representation of `document` + dictionary with missing
    tokens and their frequencies.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt; dct = Dictionary(["máma mele maso".split(), "ema má máma".split()])
    &gt;&gt;&gt; dct.doc2bow(["this", "is", "máma"])
    [(2, 1)]
    &gt;&gt;&gt; dct.doc2bow(["this", "is", "máma"], return_missing=True)
    ([(2, 1)], {u'this': 1, u'is': 1})</pre> <div class="fragment"><div class="line"><span class="lineno">  219</span>    <span class="keyword">def </span>doc2bow(self, document, allow_update=False, return_missing=False):</div>
<div class="line"><span class="lineno">  220</span>        <span class="stringliteral">&quot;&quot;&quot;Convert `document` into the bag-of-words (BoW) format = list of `(token_id, token_count)` tuples.</span></div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral">        document : list of str</span></div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral">            Input document.</span></div>
<div class="line"><span class="lineno">  226</span><span class="stringliteral">        allow_update : bool, optional</span></div>
<div class="line"><span class="lineno">  227</span><span class="stringliteral">            Update self, by adding new tokens from `document` and updating internal corpus statistics.</span></div>
<div class="line"><span class="lineno">  228</span><span class="stringliteral">        return_missing : bool, optional</span></div>
<div class="line"><span class="lineno">  229</span><span class="stringliteral">            Return missing tokens (tokens present in `document` but not in self) with frequencies?</span></div>
<div class="line"><span class="lineno">  230</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  231</span><span class="stringliteral">        Return</span></div>
<div class="line"><span class="lineno">  232</span><span class="stringliteral">        ------</span></div>
<div class="line"><span class="lineno">  233</span><span class="stringliteral">        list of (int, int)</span></div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral">            BoW representation of `document`.</span></div>
<div class="line"><span class="lineno">  235</span><span class="stringliteral">        list of (int, int), dict of (str, int)</span></div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral">            If `return_missing` is True, return BoW representation of `document` + dictionary with missing</span></div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">            tokens and their frequencies.</span></div>
<div class="line"><span class="lineno">  238</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  239</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  240</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  241</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  242</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  243</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">  244</span><span class="stringliteral">            &gt;&gt;&gt; dct = Dictionary([&quot;máma mele maso&quot;.split(), &quot;ema má máma&quot;.split()])</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral">            &gt;&gt;&gt; dct.doc2bow([&quot;this&quot;, &quot;is&quot;, &quot;máma&quot;])</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral">            [(2, 1)]</span></div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral">            &gt;&gt;&gt; dct.doc2bow([&quot;this&quot;, &quot;is&quot;, &quot;máma&quot;], return_missing=True)</span></div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">            ([(2, 1)], {u&#39;this&#39;: 1, u&#39;is&#39;: 1})</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  250</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  251</span>        <span class="keywordflow">if</span> isinstance(document, string_types):</div>
<div class="line"><span class="lineno">  252</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;doc2bow expects an array of unicode tokens on input, not a single string&quot;</span>)</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>        <span class="comment"># Construct (word, frequency) mapping.</span></div>
<div class="line"><span class="lineno">  255</span>        counter = defaultdict(int)</div>
<div class="line"><span class="lineno">  256</span>        <span class="keywordflow">for</span> w <span class="keywordflow">in</span> document:</div>
<div class="line"><span class="lineno">  257</span>            counter[w <span class="keywordflow">if</span> isinstance(w, unicode) <span class="keywordflow">else</span> unicode(w, <span class="stringliteral">&#39;utf-8&#39;</span>)] += 1</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>        token2id = self.token2id</div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">if</span> allow_update <span class="keywordflow">or</span> return_missing:</div>
<div class="line"><span class="lineno">  261</span>            missing = sorted(x <span class="keywordflow">for</span> x <span class="keywordflow">in</span> iteritems(counter) <span class="keywordflow">if</span> x[0] <span class="keywordflow">not</span> <span class="keywordflow">in</span> token2id)</div>
<div class="line"><span class="lineno">  262</span>            <span class="keywordflow">if</span> allow_update:</div>
<div class="line"><span class="lineno">  263</span>                <span class="keywordflow">for</span> w, _ <span class="keywordflow">in</span> missing:</div>
<div class="line"><span class="lineno">  264</span>                    <span class="comment"># new id = number of ids made so far;</span></div>
<div class="line"><span class="lineno">  265</span>                    <span class="comment"># NOTE this assumes there are no gaps in the id sequence!</span></div>
<div class="line"><span class="lineno">  266</span>                    token2id[w] = len(token2id)</div>
<div class="line"><span class="lineno">  267</span>        result = {token2id[w]: freq <span class="keywordflow">for</span> w, freq <span class="keywordflow">in</span> iteritems(counter) <span class="keywordflow">if</span> w <span class="keywordflow">in</span> token2id}</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>        <span class="keywordflow">if</span> allow_update:</div>
<div class="line"><span class="lineno">  270</span>            self.num_docs += 1</div>
<div class="line"><span class="lineno">  271</span>            self.num_pos += sum(itervalues(counter))</div>
<div class="line"><span class="lineno">  272</span>            self.num_nnz += len(result)</div>
<div class="line"><span class="lineno">  273</span>            <span class="comment"># keep track of document and collection frequencies</span></div>
<div class="line"><span class="lineno">  274</span>            <span class="keywordflow">for</span> tokenid, freq <span class="keywordflow">in</span> iteritems(result):</div>
<div class="line"><span class="lineno">  275</span>                self.cfs[tokenid] = self.cfs.get(tokenid, 0) + freq</div>
<div class="line"><span class="lineno">  276</span>                self.dfs[tokenid] = self.dfs.get(tokenid, 0) + 1</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>        <span class="comment"># return tokenids, in ascending id order</span></div>
<div class="line"><span class="lineno">  279</span>        result = sorted(iteritems(result))</div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">if</span> return_missing:</div>
<div class="line"><span class="lineno">  281</span>            <span class="keywordflow">return</span> result, dict(missing)</div>
<div class="line"><span class="lineno">  282</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  283</span>            <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  284</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adb009532d10c5a019335c466beaf441f" name="adb009532d10c5a019335c466beaf441f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb009532d10c5a019335c466beaf441f">&#9670;&#160;</a></span>doc2idx()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.doc2idx </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>document</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>unknown_word_index</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert `document` (a list of words) into a list of indexes = list of `token_id`.
Replace all unknown words i.e, words not in the dictionary with the index as set via `unknown_word_index`.

Parameters
----------
document : list of str
    Input document
unknown_word_index : int, optional
    Index to use for words not in the dictionary.

Returns
-------
list of int
    Token ids for tokens in `document`, in the same order.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt;
    &gt;&gt;&gt; corpus = [["a", "a", "b"], ["a", "c"]]
    &gt;&gt;&gt; dct = Dictionary(corpus)
    &gt;&gt;&gt; dct.doc2idx(["a", "a", "c", "not_in_dictionary", "c"])
    [0, 0, 2, -1, 2]</pre> <div class="fragment"><div class="line"><span class="lineno">  285</span>    <span class="keyword">def </span>doc2idx(self, document, unknown_word_index=-1):</div>
<div class="line"><span class="lineno">  286</span>        <span class="stringliteral">&quot;&quot;&quot;Convert `document` (a list of words) into a list of indexes = list of `token_id`.</span></div>
<div class="line"><span class="lineno">  287</span><span class="stringliteral">        Replace all unknown words i.e, words not in the dictionary with the index as set via `unknown_word_index`.</span></div>
<div class="line"><span class="lineno">  288</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  291</span><span class="stringliteral">        document : list of str</span></div>
<div class="line"><span class="lineno">  292</span><span class="stringliteral">            Input document</span></div>
<div class="line"><span class="lineno">  293</span><span class="stringliteral">        unknown_word_index : int, optional</span></div>
<div class="line"><span class="lineno">  294</span><span class="stringliteral">            Index to use for words not in the dictionary.</span></div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  297</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  298</span><span class="stringliteral">        list of int</span></div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral">            Token ids for tokens in `document`, in the same order.</span></div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  302</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  303</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  304</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral">            &gt;&gt;&gt; corpus = [[&quot;a&quot;, &quot;a&quot;, &quot;b&quot;], [&quot;a&quot;, &quot;c&quot;]]</span></div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">            &gt;&gt;&gt; dct = Dictionary(corpus)</span></div>
<div class="line"><span class="lineno">  309</span><span class="stringliteral">            &gt;&gt;&gt; dct.doc2idx([&quot;a&quot;, &quot;a&quot;, &quot;c&quot;, &quot;not_in_dictionary&quot;, &quot;c&quot;])</span></div>
<div class="line"><span class="lineno">  310</span><span class="stringliteral">            [0, 0, 2, -1, 2]</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  312</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">if</span> isinstance(document, string_types):</div>
<div class="line"><span class="lineno">  314</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;doc2idx expects an array of unicode tokens on input, not a single string&quot;</span>)</div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>        document = [word <span class="keywordflow">if</span> isinstance(word, unicode) <span class="keywordflow">else</span> unicode(word, <span class="stringliteral">&#39;utf-8&#39;</span>) <span class="keywordflow">for</span> word <span class="keywordflow">in</span> document]</div>
<div class="line"><span class="lineno">  317</span>        <span class="keywordflow">return</span> [self.token2id.get(word, unknown_word_index) <span class="keywordflow">for</span> word <span class="keywordflow">in</span> document]</div>
<div class="line"><span class="lineno">  318</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a59eebbd46329b628b87db8175314eac5" name="a59eebbd46329b628b87db8175314eac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59eebbd46329b628b87db8175314eac5">&#9670;&#160;</a></span>filter_extremes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.filter_extremes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>no_below</em> = <code>5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>no_above</em> = <code>0.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keep_n</em> = <code>100000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keep_tokens</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Filter out tokens in the dictionary by their frequency.

Parameters
----------
no_below : int, optional
    Keep tokens which are contained in at least `no_below` documents.
no_above : float, optional
    Keep tokens which are contained in no more than `no_above` documents
    (fraction of total corpus size, not an absolute number).
keep_n : int, optional
    Keep only the first `keep_n` most frequent tokens.
keep_tokens : iterable of str
    Iterable of tokens that **must** stay in dictionary after filtering.

Notes
-----
This removes all tokens in the dictionary that are:

#. Less frequent than `no_below` documents (absolute number, e.g. `5`) or \n
#. More frequent than `no_above` documents (fraction of the total corpus size, e.g. `0.3`).
#. After (1) and (2), keep only the first `keep_n` most frequent tokens (or keep all if `keep_n=None`).

After the pruning, resulting gaps in word ids are shrunk.
Due to this gap shrinking, **the same word may have a different word id before and after the call
to this function!**

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt;
    &gt;&gt;&gt; corpus = [["máma", "mele", "maso"], ["ema", "má", "máma"]]
    &gt;&gt;&gt; dct = Dictionary(corpus)
    &gt;&gt;&gt; len(dct)
    5
    &gt;&gt;&gt; dct.filter_extremes(no_below=1, no_above=0.5, keep_n=1)
    &gt;&gt;&gt; len(dct)
    1</pre> <div class="fragment"><div class="line"><span class="lineno">  319</span>    <span class="keyword">def </span>filter_extremes(self, no_below=5, no_above=0.5, keep_n=100000, keep_tokens=None):</div>
<div class="line"><span class="lineno">  320</span>        <span class="stringliteral">&quot;&quot;&quot;Filter out tokens in the dictionary by their frequency.</span></div>
<div class="line"><span class="lineno">  321</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  322</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  323</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  324</span><span class="stringliteral">        no_below : int, optional</span></div>
<div class="line"><span class="lineno">  325</span><span class="stringliteral">            Keep tokens which are contained in at least `no_below` documents.</span></div>
<div class="line"><span class="lineno">  326</span><span class="stringliteral">        no_above : float, optional</span></div>
<div class="line"><span class="lineno">  327</span><span class="stringliteral">            Keep tokens which are contained in no more than `no_above` documents</span></div>
<div class="line"><span class="lineno">  328</span><span class="stringliteral">            (fraction of total corpus size, not an absolute number).</span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral">        keep_n : int, optional</span></div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">            Keep only the first `keep_n` most frequent tokens.</span></div>
<div class="line"><span class="lineno">  331</span><span class="stringliteral">        keep_tokens : iterable of str</span></div>
<div class="line"><span class="lineno">  332</span><span class="stringliteral">            Iterable of tokens that **must** stay in dictionary after filtering.</span></div>
<div class="line"><span class="lineno">  333</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  334</span><span class="stringliteral">        Notes</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral">        -----</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">        This removes all tokens in the dictionary that are:</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral">        #. Less frequent than `no_below` documents (absolute number, e.g. `5`) or \n</span></div>
<div class="line"><span class="lineno">  339</span><span class="stringliteral">        #. More frequent than `no_above` documents (fraction of the total corpus size, e.g. `0.3`).</span></div>
<div class="line"><span class="lineno">  340</span><span class="stringliteral">        #. After (1) and (2), keep only the first `keep_n` most frequent tokens (or keep all if `keep_n=None`).</span></div>
<div class="line"><span class="lineno">  341</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  342</span><span class="stringliteral">        After the pruning, resulting gaps in word ids are shrunk.</span></div>
<div class="line"><span class="lineno">  343</span><span class="stringliteral">        Due to this gap shrinking, **the same word may have a different word id before and after the call</span></div>
<div class="line"><span class="lineno">  344</span><span class="stringliteral">        to this function!**</span></div>
<div class="line"><span class="lineno">  345</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  346</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  347</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  348</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  349</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  350</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">  351</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  352</span><span class="stringliteral">            &gt;&gt;&gt; corpus = [[&quot;máma&quot;, &quot;mele&quot;, &quot;maso&quot;], [&quot;ema&quot;, &quot;má&quot;, &quot;máma&quot;]]</span></div>
<div class="line"><span class="lineno">  353</span><span class="stringliteral">            &gt;&gt;&gt; dct = Dictionary(corpus)</span></div>
<div class="line"><span class="lineno">  354</span><span class="stringliteral">            &gt;&gt;&gt; len(dct)</span></div>
<div class="line"><span class="lineno">  355</span><span class="stringliteral">            5</span></div>
<div class="line"><span class="lineno">  356</span><span class="stringliteral">            &gt;&gt;&gt; dct.filter_extremes(no_below=1, no_above=0.5, keep_n=1)</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">            &gt;&gt;&gt; len(dct)</span></div>
<div class="line"><span class="lineno">  358</span><span class="stringliteral">            1</span></div>
<div class="line"><span class="lineno">  359</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  360</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  361</span>        no_above_abs = int(no_above * self.num_docs)  <span class="comment"># convert fractional threshold to absolute threshold</span></div>
<div class="line"><span class="lineno">  362</span> </div>
<div class="line"><span class="lineno">  363</span>        <span class="comment"># determine which tokens to keep</span></div>
<div class="line"><span class="lineno">  364</span>        <span class="keywordflow">if</span> keep_tokens:</div>
<div class="line"><span class="lineno">  365</span>            keep_ids = {self.token2id[v] <span class="keywordflow">for</span> v <span class="keywordflow">in</span> keep_tokens <span class="keywordflow">if</span> v <span class="keywordflow">in</span> self.token2id}</div>
<div class="line"><span class="lineno">  366</span>            good_ids = [</div>
<div class="line"><span class="lineno">  367</span>                v <span class="keywordflow">for</span> v <span class="keywordflow">in</span> itervalues(self.token2id)</div>
<div class="line"><span class="lineno">  368</span>                <span class="keywordflow">if</span> no_below &lt;= self.dfs.get(v, 0) &lt;= no_above_abs <span class="keywordflow">or</span> v <span class="keywordflow">in</span> keep_ids</div>
<div class="line"><span class="lineno">  369</span>            ]</div>
<div class="line"><span class="lineno">  370</span>            good_ids.sort(key=<span class="keyword">lambda</span> x: self.num_docs <span class="keywordflow">if</span> x <span class="keywordflow">in</span> keep_ids <span class="keywordflow">else</span> self.dfs.get(x, 0), reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  371</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  372</span>            good_ids = [</div>
<div class="line"><span class="lineno">  373</span>                v <span class="keywordflow">for</span> v <span class="keywordflow">in</span> itervalues(self.token2id)</div>
<div class="line"><span class="lineno">  374</span>                <span class="keywordflow">if</span> no_below &lt;= self.dfs.get(v, 0) &lt;= no_above_abs</div>
<div class="line"><span class="lineno">  375</span>            ]</div>
<div class="line"><span class="lineno">  376</span>            good_ids.sort(key=self.dfs.get, reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  377</span>        <span class="keywordflow">if</span> keep_n <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  378</span>            good_ids = good_ids[:keep_n]</div>
<div class="line"><span class="lineno">  379</span>        bad_words = [(self[idx], self.dfs.get(idx, 0)) <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> set(self).difference(good_ids)]</div>
<div class="line"><span class="lineno">  380</span>        logger.info(<span class="stringliteral">&quot;discarding %i tokens: %s...&quot;</span>, len(self) - len(good_ids), bad_words[:10])</div>
<div class="line"><span class="lineno">  381</span>        logger.info(</div>
<div class="line"><span class="lineno">  382</span>            <span class="stringliteral">&quot;keeping %i tokens which were in no less than %i and no more than %i (=%.1f%%) documents&quot;</span>,</div>
<div class="line"><span class="lineno">  383</span>            len(good_ids), no_below, no_above_abs, 100.0 * no_above</div>
<div class="line"><span class="lineno">  384</span>        )</div>
<div class="line"><span class="lineno">  385</span> </div>
<div class="line"><span class="lineno">  386</span>        <span class="comment"># do the actual filtering, then rebuild dictionary to remove gaps in ids</span></div>
<div class="line"><span class="lineno">  387</span>        self.filter_tokens(good_ids=good_ids)</div>
<div class="line"><span class="lineno">  388</span>        logger.info(<span class="stringliteral">&quot;resulting dictionary: %s&quot;</span>, self)</div>
<div class="line"><span class="lineno">  389</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa4e9469bcd627daea2fb2767cdd383d2" name="aa4e9469bcd627daea2fb2767cdd383d2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4e9469bcd627daea2fb2767cdd383d2">&#9670;&#160;</a></span>filter_n_most_frequent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.filter_n_most_frequent </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>remove_n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Filter out the 'remove_n' most frequent tokens that appear in the documents.

Parameters
----------
remove_n : int
    Number of the most frequent tokens that will be removed.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt;
    &gt;&gt;&gt; corpus = [["máma", "mele", "maso"], ["ema", "má", "máma"]]
    &gt;&gt;&gt; dct = Dictionary(corpus)
    &gt;&gt;&gt; len(dct)
    5
    &gt;&gt;&gt; dct.filter_n_most_frequent(2)
    &gt;&gt;&gt; len(dct)
    3</pre> <div class="fragment"><div class="line"><span class="lineno">  390</span>    <span class="keyword">def </span>filter_n_most_frequent(self, remove_n):</div>
<div class="line"><span class="lineno">  391</span>        <span class="stringliteral">&quot;&quot;&quot;Filter out the &#39;remove_n&#39; most frequent tokens that appear in the documents.</span></div>
<div class="line"><span class="lineno">  392</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  393</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  394</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  395</span><span class="stringliteral">        remove_n : int</span></div>
<div class="line"><span class="lineno">  396</span><span class="stringliteral">            Number of the most frequent tokens that will be removed.</span></div>
<div class="line"><span class="lineno">  397</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  398</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  399</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  400</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  401</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  402</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">  403</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  404</span><span class="stringliteral">            &gt;&gt;&gt; corpus = [[&quot;máma&quot;, &quot;mele&quot;, &quot;maso&quot;], [&quot;ema&quot;, &quot;má&quot;, &quot;máma&quot;]]</span></div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral">            &gt;&gt;&gt; dct = Dictionary(corpus)</span></div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral">            &gt;&gt;&gt; len(dct)</span></div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral">            5</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral">            &gt;&gt;&gt; dct.filter_n_most_frequent(2)</span></div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">            &gt;&gt;&gt; len(dct)</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">            3</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  412</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  413</span>        <span class="comment"># determine which tokens to keep</span></div>
<div class="line"><span class="lineno">  414</span>        most_frequent_ids = (v <span class="keywordflow">for</span> v <span class="keywordflow">in</span> itervalues(self.token2id))</div>
<div class="line"><span class="lineno">  415</span>        most_frequent_ids = sorted(most_frequent_ids, key=self.dfs.get, reverse=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  416</span>        most_frequent_ids = most_frequent_ids[:remove_n]</div>
<div class="line"><span class="lineno">  417</span>        <span class="comment"># do the actual filtering, then rebuild dictionary to remove gaps in ids</span></div>
<div class="line"><span class="lineno">  418</span>        most_frequent_words = [(self[idx], self.dfs.get(idx, 0)) <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> most_frequent_ids]</div>
<div class="line"><span class="lineno">  419</span>        logger.info(<span class="stringliteral">&quot;discarding %i tokens: %s...&quot;</span>, len(most_frequent_ids), most_frequent_words[:10])</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>        self.filter_tokens(bad_ids=most_frequent_ids)</div>
<div class="line"><span class="lineno">  422</span>        logger.info(<span class="stringliteral">&quot;resulting dictionary: %s&quot;</span>, self)</div>
<div class="line"><span class="lineno">  423</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab630e207104b53c66a821429ef8c9b0d" name="ab630e207104b53c66a821429ef8c9b0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab630e207104b53c66a821429ef8c9b0d">&#9670;&#160;</a></span>filter_tokens()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.filter_tokens </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bad_ids</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>good_ids</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Remove the selected `bad_ids` tokens from :class:`~gensim.corpora.dictionary.Dictionary`.

Alternatively, keep selected `good_ids` in :class:`~gensim.corpora.dictionary.Dictionary` and remove the rest.

Parameters
----------
bad_ids : iterable of int, optional
    Collection of word ids to be removed.
good_ids : collection of int, optional
    Keep selected collection of word ids and remove the rest.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt;
    &gt;&gt;&gt; corpus = [["máma", "mele", "maso"], ["ema", "má", "máma"]]
    &gt;&gt;&gt; dct = Dictionary(corpus)
    &gt;&gt;&gt; 'ema' in dct.token2id
    True
    &gt;&gt;&gt; dct.filter_tokens(bad_ids=[dct.token2id['ema']])
    &gt;&gt;&gt; 'ema' in dct.token2id
    False
    &gt;&gt;&gt; len(dct)
    4
    &gt;&gt;&gt; dct.filter_tokens(good_ids=[dct.token2id['maso']])
    &gt;&gt;&gt; len(dct)
    1</pre> <div class="fragment"><div class="line"><span class="lineno">  424</span>    <span class="keyword">def </span>filter_tokens(self, bad_ids=None, good_ids=None):</div>
<div class="line"><span class="lineno">  425</span>        <span class="stringliteral">&quot;&quot;&quot;Remove the selected `bad_ids` tokens from :class:`~gensim.corpora.dictionary.Dictionary`.</span></div>
<div class="line"><span class="lineno">  426</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  427</span><span class="stringliteral">        Alternatively, keep selected `good_ids` in :class:`~gensim.corpora.dictionary.Dictionary` and remove the rest.</span></div>
<div class="line"><span class="lineno">  428</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  429</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  430</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  431</span><span class="stringliteral">        bad_ids : iterable of int, optional</span></div>
<div class="line"><span class="lineno">  432</span><span class="stringliteral">            Collection of word ids to be removed.</span></div>
<div class="line"><span class="lineno">  433</span><span class="stringliteral">        good_ids : collection of int, optional</span></div>
<div class="line"><span class="lineno">  434</span><span class="stringliteral">            Keep selected collection of word ids and remove the rest.</span></div>
<div class="line"><span class="lineno">  435</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  436</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  437</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  438</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  439</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  442</span><span class="stringliteral">            &gt;&gt;&gt; corpus = [[&quot;máma&quot;, &quot;mele&quot;, &quot;maso&quot;], [&quot;ema&quot;, &quot;má&quot;, &quot;máma&quot;]]</span></div>
<div class="line"><span class="lineno">  443</span><span class="stringliteral">            &gt;&gt;&gt; dct = Dictionary(corpus)</span></div>
<div class="line"><span class="lineno">  444</span><span class="stringliteral">            &gt;&gt;&gt; &#39;ema&#39; in dct.token2id</span></div>
<div class="line"><span class="lineno">  445</span><span class="stringliteral">            True</span></div>
<div class="line"><span class="lineno">  446</span><span class="stringliteral">            &gt;&gt;&gt; dct.filter_tokens(bad_ids=[dct.token2id[&#39;ema&#39;]])</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral">            &gt;&gt;&gt; &#39;ema&#39; in dct.token2id</span></div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">            False</span></div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral">            &gt;&gt;&gt; len(dct)</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">            4</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">            &gt;&gt;&gt; dct.filter_tokens(good_ids=[dct.token2id[&#39;maso&#39;]])</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">            &gt;&gt;&gt; len(dct)</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">            1</span></div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  456</span>        <span class="keywordflow">if</span> bad_ids <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  457</span>            bad_ids = set(bad_ids)</div>
<div class="line"><span class="lineno">  458</span>            self.token2id = {token: tokenid <span class="keywordflow">for</span> token, tokenid <span class="keywordflow">in</span> iteritems(self.token2id) <span class="keywordflow">if</span> tokenid <span class="keywordflow">not</span> <span class="keywordflow">in</span> bad_ids}</div>
<div class="line"><span class="lineno">  459</span>            self.cfs = {tokenid: freq <span class="keywordflow">for</span> tokenid, freq <span class="keywordflow">in</span> iteritems(self.cfs) <span class="keywordflow">if</span> tokenid <span class="keywordflow">not</span> <span class="keywordflow">in</span> bad_ids}</div>
<div class="line"><span class="lineno">  460</span>            self.dfs = {tokenid: freq <span class="keywordflow">for</span> tokenid, freq <span class="keywordflow">in</span> iteritems(self.dfs) <span class="keywordflow">if</span> tokenid <span class="keywordflow">not</span> <span class="keywordflow">in</span> bad_ids}</div>
<div class="line"><span class="lineno">  461</span>        <span class="keywordflow">if</span> good_ids <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  462</span>            good_ids = set(good_ids)</div>
<div class="line"><span class="lineno">  463</span>            self.token2id = {token: tokenid <span class="keywordflow">for</span> token, tokenid <span class="keywordflow">in</span> iteritems(self.token2id) <span class="keywordflow">if</span> tokenid <span class="keywordflow">in</span> good_ids}</div>
<div class="line"><span class="lineno">  464</span>            self.cfs = {tokenid: freq <span class="keywordflow">for</span> tokenid, freq <span class="keywordflow">in</span> iteritems(self.cfs) <span class="keywordflow">if</span> tokenid <span class="keywordflow">in</span> good_ids}</div>
<div class="line"><span class="lineno">  465</span>            self.dfs = {tokenid: freq <span class="keywordflow">for</span> tokenid, freq <span class="keywordflow">in</span> iteritems(self.dfs) <span class="keywordflow">if</span> tokenid <span class="keywordflow">in</span> good_ids}</div>
<div class="line"><span class="lineno">  466</span>        self.compactify()</div>
<div class="line"><span class="lineno">  467</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a948c36fe431292101d4a81e6ae9cb80b" name="a948c36fe431292101d4a81e6ae9cb80b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a948c36fe431292101d4a81e6ae9cb80b">&#9670;&#160;</a></span>from_corpus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.from_corpus </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>corpus</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>id2word</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Create :class:`~gensim.corpora.dictionary.Dictionary` from an existing corpus.

Parameters
----------
corpus : iterable of iterable of (int, number)
    Corpus in BoW format.
id2word : dict of (int, object)
    Mapping id -&gt; word. If None, the mapping `id2word[word_id] = str(word_id)` will be used.

Notes
-----
This can be useful if you only have a term-document BOW matrix (represented by `corpus`), but not the original
text corpus. This method will scan the term-document count matrix for all word ids that appear in it,
then construct :class:`~gensim.corpora.dictionary.Dictionary` which maps each `word_id -&gt; id2word[word_id]`.
`id2word` is an optional dictionary that maps the `word_id` to a token.
In case `id2word` isn't specified the mapping `id2word[word_id] = str(word_id)` will be used.

Returns
-------
:class:`~gensim.corpora.dictionary.Dictionary`
    Inferred dictionary from corpus.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt;
    &gt;&gt;&gt; corpus = [[(1, 1.0)], [], [(0, 5.0), (2, 1.0)], []]
    &gt;&gt;&gt; dct = Dictionary.from_corpus(corpus)
    &gt;&gt;&gt; len(dct)
    3</pre> <div class="fragment"><div class="line"><span class="lineno">  705</span>    <span class="keyword">def </span>from_corpus(corpus, id2word=None):</div>
<div class="line"><span class="lineno">  706</span>        <span class="stringliteral">&quot;&quot;&quot;Create :class:`~gensim.corpora.dictionary.Dictionary` from an existing corpus.</span></div>
<div class="line"><span class="lineno">  707</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  708</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  709</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  710</span><span class="stringliteral">        corpus : iterable of iterable of (int, number)</span></div>
<div class="line"><span class="lineno">  711</span><span class="stringliteral">            Corpus in BoW format.</span></div>
<div class="line"><span class="lineno">  712</span><span class="stringliteral">        id2word : dict of (int, object)</span></div>
<div class="line"><span class="lineno">  713</span><span class="stringliteral">            Mapping id -&gt; word. If None, the mapping `id2word[word_id] = str(word_id)` will be used.</span></div>
<div class="line"><span class="lineno">  714</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  715</span><span class="stringliteral">        Notes</span></div>
<div class="line"><span class="lineno">  716</span><span class="stringliteral">        -----</span></div>
<div class="line"><span class="lineno">  717</span><span class="stringliteral">        This can be useful if you only have a term-document BOW matrix (represented by `corpus`), but not the original</span></div>
<div class="line"><span class="lineno">  718</span><span class="stringliteral">        text corpus. This method will scan the term-document count matrix for all word ids that appear in it,</span></div>
<div class="line"><span class="lineno">  719</span><span class="stringliteral">        then construct :class:`~gensim.corpora.dictionary.Dictionary` which maps each `word_id -&gt; id2word[word_id]`.</span></div>
<div class="line"><span class="lineno">  720</span><span class="stringliteral">        `id2word` is an optional dictionary that maps the `word_id` to a token.</span></div>
<div class="line"><span class="lineno">  721</span><span class="stringliteral">        In case `id2word` isn&#39;t specified the mapping `id2word[word_id] = str(word_id)` will be used.</span></div>
<div class="line"><span class="lineno">  722</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  723</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  724</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  725</span><span class="stringliteral">        :class:`~gensim.corpora.dictionary.Dictionary`</span></div>
<div class="line"><span class="lineno">  726</span><span class="stringliteral">            Inferred dictionary from corpus.</span></div>
<div class="line"><span class="lineno">  727</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  728</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  729</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  730</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  731</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  732</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">  733</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  734</span><span class="stringliteral">            &gt;&gt;&gt; corpus = [[(1, 1.0)], [], [(0, 5.0), (2, 1.0)], []]</span></div>
<div class="line"><span class="lineno">  735</span><span class="stringliteral">            &gt;&gt;&gt; dct = Dictionary.from_corpus(corpus)</span></div>
<div class="line"><span class="lineno">  736</span><span class="stringliteral">            &gt;&gt;&gt; len(dct)</span></div>
<div class="line"><span class="lineno">  737</span><span class="stringliteral">            3</span></div>
<div class="line"><span class="lineno">  738</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  739</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  740</span>        result = Dictionary()</div>
<div class="line"><span class="lineno">  741</span>        max_id = -1</div>
<div class="line"><span class="lineno">  742</span>        <span class="keywordflow">for</span> docno, document <span class="keywordflow">in</span> enumerate(corpus):</div>
<div class="line"><span class="lineno">  743</span>            <span class="keywordflow">if</span> docno % 10000 == 0:</div>
<div class="line"><span class="lineno">  744</span>                logger.info(<span class="stringliteral">&quot;adding document #%i to %s&quot;</span>, docno, result)</div>
<div class="line"><span class="lineno">  745</span>            result.num_docs += 1</div>
<div class="line"><span class="lineno">  746</span>            result.num_nnz += len(document)</div>
<div class="line"><span class="lineno">  747</span>            <span class="keywordflow">for</span> wordid, word_freq <span class="keywordflow">in</span> document:</div>
<div class="line"><span class="lineno">  748</span>                max_id = max(wordid, max_id)</div>
<div class="line"><span class="lineno">  749</span>                result.num_pos += word_freq</div>
<div class="line"><span class="lineno">  750</span>                result.dfs[wordid] = result.dfs.get(wordid, 0) + 1</div>
<div class="line"><span class="lineno">  751</span> </div>
<div class="line"><span class="lineno">  752</span>        <span class="keywordflow">if</span> id2word <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  753</span>            <span class="comment"># make sure length(result) == get_max_id(corpus) + 1</span></div>
<div class="line"><span class="lineno">  754</span>            result.token2id = {unicode(i): i <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(max_id + 1)}</div>
<div class="line"><span class="lineno">  755</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  756</span>            <span class="comment"># id=&gt;word mapping given: simply copy it</span></div>
<div class="line"><span class="lineno">  757</span>            result.token2id = {utils.to_unicode(token): idx <span class="keywordflow">for</span> idx, token <span class="keywordflow">in</span> iteritems(id2word)}</div>
<div class="line"><span class="lineno">  758</span>        <span class="keywordflow">for</span> idx <span class="keywordflow">in</span> itervalues(result.token2id):</div>
<div class="line"><span class="lineno">  759</span>            <span class="comment"># make sure all token ids have a valid `dfs` entry</span></div>
<div class="line"><span class="lineno">  760</span>            result.dfs[idx] = result.dfs.get(idx, 0)</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span>        logger.info(</div>
<div class="line"><span class="lineno">  763</span>            <span class="stringliteral">&quot;built %s from %i documents (total %i corpus positions)&quot;</span>,</div>
<div class="line"><span class="lineno">  764</span>            result, result.num_docs, result.num_pos</div>
<div class="line"><span class="lineno">  765</span>        )</div>
<div class="line"><span class="lineno">  766</span>        <span class="keywordflow">return</span> result</div>
</div><!-- fragment -->
</div>
</div>
<a id="aea85b1a54fc58f480845aaf2837fd7ec" name="aea85b1a54fc58f480845aaf2837fd7ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea85b1a54fc58f480845aaf2837fd7ec">&#9670;&#160;</a></span>from_documents()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.from_documents </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>documents</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Create :class:`~gensim.corpora.dictionary.Dictionary` from `documents`.

Equivalent to `Dictionary(documents=documents)`.

Parameters
----------
documents : iterable of iterable of str
    Input corpus.

Returns
-------
:class:`~gensim.corpora.dictionary.Dictionary`
    Dictionary initialized from `documents`.</pre> <div class="fragment"><div class="line"><span class="lineno">  159</span>    <span class="keyword">def </span>from_documents(documents):</div>
<div class="line"><span class="lineno">  160</span>        <span class="stringliteral">&quot;&quot;&quot;Create :class:`~gensim.corpora.dictionary.Dictionary` from `documents`.</span></div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  162</span><span class="stringliteral">        Equivalent to `Dictionary(documents=documents)`.</span></div>
<div class="line"><span class="lineno">  163</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  166</span><span class="stringliteral">        documents : iterable of iterable of str</span></div>
<div class="line"><span class="lineno">  167</span><span class="stringliteral">            Input corpus.</span></div>
<div class="line"><span class="lineno">  168</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">        :class:`~gensim.corpora.dictionary.Dictionary`</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">            Dictionary initialized from `documents`.</span></div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  175</span>        <span class="keywordflow">return</span> Dictionary(documents=documents)</div>
<div class="line"><span class="lineno">  176</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4f3a1e1118ba7cc152258e07c3e4244d" name="a4f3a1e1118ba7cc152258e07c3e4244d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f3a1e1118ba7cc152258e07c3e4244d">&#9670;&#160;</a></span>iteritems()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.iteritems </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  126</span>        <span class="keyword">def </span>iteritems(self):</div>
<div class="line"><span class="lineno">  127</span>            <span class="keywordflow">return</span> self.items()</div>
<div class="line"><span class="lineno">  128</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a68bd4170e85a2dd8dc3fe0f5dfdce74e" name="a68bd4170e85a2dd8dc3fe0f5dfdce74e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68bd4170e85a2dd8dc3fe0f5dfdce74e">&#9670;&#160;</a></span>itervalues()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.itervalues </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  129</span>        <span class="keyword">def </span>itervalues(self):</div>
<div class="line"><span class="lineno">  130</span>            <span class="keywordflow">return</span> self.values()</div>
<div class="line"><span class="lineno">  131</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0245e0a98cc835429e4ad5c975f5a8df" name="a0245e0a98cc835429e4ad5c975f5a8df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0245e0a98cc835429e4ad5c975f5a8df">&#9670;&#160;</a></span>keys()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.keys </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get all stored ids.

Returns
-------
list of int
    List of all token ids.</pre> <div class="fragment"><div class="line"><span class="lineno">  132</span>    <span class="keyword">def </span>keys(self):</div>
<div class="line"><span class="lineno">  133</span>        <span class="stringliteral">&quot;&quot;&quot;Get all stored ids.</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  136</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  137</span><span class="stringliteral">        list of int</span></div>
<div class="line"><span class="lineno">  138</span><span class="stringliteral">            List of all token ids.</span></div>
<div class="line"><span class="lineno">  139</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  141</span>        <span class="keywordflow">return</span> list(self.token2id.values())</div>
<div class="line"><span class="lineno">  142</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a95e5fa83fcd5cba081245bc09f5e887e" name="a95e5fa83fcd5cba081245bc09f5e887e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95e5fa83fcd5cba081245bc09f5e887e">&#9670;&#160;</a></span>load_from_text()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.load_from_text </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Load a previously stored :class:`~gensim.corpora.dictionary.Dictionary` from a text file.

Mirror function to :meth:`~gensim.corpora.dictionary.Dictionary.save_as_text`.

Parameters
----------
fname: str
    Path to a file produced by :meth:`~gensim.corpora.dictionary.Dictionary.save_as_text`.

See Also
--------
:meth:`~gensim.corpora.dictionary.Dictionary.save_as_text`
    Save :class:`~gensim.corpora.dictionary.Dictionary` to text file.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt; from gensim.test.utils import get_tmpfile
    &gt;&gt;&gt;
    &gt;&gt;&gt; tmp_fname = get_tmpfile("dictionary")
    &gt;&gt;&gt; corpus = [["máma", "mele", "maso"], ["ema", "má", "máma"]]
    &gt;&gt;&gt;
    &gt;&gt;&gt; dct = Dictionary(corpus)
    &gt;&gt;&gt; dct.save_as_text(tmp_fname)
    &gt;&gt;&gt;
    &gt;&gt;&gt; loaded_dct = Dictionary.load_from_text(tmp_fname)
    &gt;&gt;&gt; assert dct.token2id == loaded_dct.token2id</pre> <div class="fragment"><div class="line"><span class="lineno">  649</span>    <span class="keyword">def </span>load_from_text(fname):</div>
<div class="line"><span class="lineno">  650</span>        <span class="stringliteral">&quot;&quot;&quot;Load a previously stored :class:`~gensim.corpora.dictionary.Dictionary` from a text file.</span></div>
<div class="line"><span class="lineno">  651</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  652</span><span class="stringliteral">        Mirror function to :meth:`~gensim.corpora.dictionary.Dictionary.save_as_text`.</span></div>
<div class="line"><span class="lineno">  653</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  654</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  655</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  656</span><span class="stringliteral">        fname: str</span></div>
<div class="line"><span class="lineno">  657</span><span class="stringliteral">            Path to a file produced by :meth:`~gensim.corpora.dictionary.Dictionary.save_as_text`.</span></div>
<div class="line"><span class="lineno">  658</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  659</span><span class="stringliteral">        See Also</span></div>
<div class="line"><span class="lineno">  660</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  661</span><span class="stringliteral">        :meth:`~gensim.corpora.dictionary.Dictionary.save_as_text`</span></div>
<div class="line"><span class="lineno">  662</span><span class="stringliteral">            Save :class:`~gensim.corpora.dictionary.Dictionary` to text file.</span></div>
<div class="line"><span class="lineno">  663</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  664</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  665</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  666</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  667</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  668</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">  669</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.test.utils import get_tmpfile</span></div>
<div class="line"><span class="lineno">  670</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  671</span><span class="stringliteral">            &gt;&gt;&gt; tmp_fname = get_tmpfile(&quot;dictionary&quot;)</span></div>
<div class="line"><span class="lineno">  672</span><span class="stringliteral">            &gt;&gt;&gt; corpus = [[&quot;máma&quot;, &quot;mele&quot;, &quot;maso&quot;], [&quot;ema&quot;, &quot;má&quot;, &quot;máma&quot;]]</span></div>
<div class="line"><span class="lineno">  673</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  674</span><span class="stringliteral">            &gt;&gt;&gt; dct = Dictionary(corpus)</span></div>
<div class="line"><span class="lineno">  675</span><span class="stringliteral">            &gt;&gt;&gt; dct.save_as_text(tmp_fname)</span></div>
<div class="line"><span class="lineno">  676</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  677</span><span class="stringliteral">            &gt;&gt;&gt; loaded_dct = Dictionary.load_from_text(tmp_fname)</span></div>
<div class="line"><span class="lineno">  678</span><span class="stringliteral">            &gt;&gt;&gt; assert dct.token2id == loaded_dct.token2id</span></div>
<div class="line"><span class="lineno">  679</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  680</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  681</span>        result = Dictionary()</div>
<div class="line"><span class="lineno">  682</span>        <span class="keyword">with</span> utils.open(fname, <span class="stringliteral">&#39;rb&#39;</span>) <span class="keyword">as</span> f:</div>
<div class="line"><span class="lineno">  683</span>            <span class="keywordflow">for</span> lineno, line <span class="keywordflow">in</span> enumerate(f):</div>
<div class="line"><span class="lineno">  684</span>                line = utils.to_unicode(line)</div>
<div class="line"><span class="lineno">  685</span>                <span class="keywordflow">if</span> lineno == 0:</div>
<div class="line"><span class="lineno">  686</span>                    <span class="keywordflow">if</span> line.strip().isdigit():</div>
<div class="line"><span class="lineno">  687</span>                        <span class="comment"># Older versions of save_as_text may not write num_docs on first line.</span></div>
<div class="line"><span class="lineno">  688</span>                        result.num_docs = int(line.strip())</div>
<div class="line"><span class="lineno">  689</span>                        <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  690</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  691</span>                        logging.warning(<span class="stringliteral">&quot;Text does not contain num_docs on the first line.&quot;</span>)</div>
<div class="line"><span class="lineno">  692</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  693</span>                    wordid, word, docfreq = line[:-1].split(<span class="stringliteral">&#39;\t&#39;</span>)</div>
<div class="line"><span class="lineno">  694</span>                <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  695</span>                    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;invalid line in dictionary file %s: %s&quot;</span></div>
<div class="line"><span class="lineno">  696</span>                                     % (fname, line.strip()))</div>
<div class="line"><span class="lineno">  697</span>                wordid = int(wordid)</div>
<div class="line"><span class="lineno">  698</span>                <span class="keywordflow">if</span> word <span class="keywordflow">in</span> result.token2id:</div>
<div class="line"><span class="lineno">  699</span>                    <span class="keywordflow">raise</span> KeyError(<span class="stringliteral">&#39;token %s is defined as ID %d and as ID %d&#39;</span> % (word, wordid, result.token2id[word]))</div>
<div class="line"><span class="lineno">  700</span>                result.token2id[word] = wordid</div>
<div class="line"><span class="lineno">  701</span>                result.dfs[wordid] = int(docfreq)</div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  703</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a013567596b835244224120581c3f383a" name="a013567596b835244224120581c3f383a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a013567596b835244224120581c3f383a">&#9670;&#160;</a></span>merge_with()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.merge_with </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Merge another dictionary into this dictionary, mapping the same tokens to the same ids
and new tokens to new ids.

Notes
-----
The purpose is to merge two corpora created using two different dictionaries: `self` and `other`.
`other` can be any id=&gt;word mapping (a dict, a Dictionary object, ...).

Return a transformation object which, when accessed as `result[doc_from_other_corpus]`, will convert documents
from a corpus built using the `other` dictionary into a document using the new, merged dictionary.

Parameters
----------
other : {dict, :class:`~gensim.corpora.dictionary.Dictionary`}
    Other dictionary.

Return
------
:class:`gensim.models.VocabTransform`
    Transformation object.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt;
    &gt;&gt;&gt; corpus_1, corpus_2 = [["a", "b", "c"]], [["a", "f", "f"]]
    &gt;&gt;&gt; dct_1, dct_2 = Dictionary(corpus_1), Dictionary(corpus_2)
    &gt;&gt;&gt; dct_1.doc2bow(corpus_2[0])
    [(0, 1)]
    &gt;&gt;&gt; transformer = dct_1.merge_with(dct_2)
    &gt;&gt;&gt; dct_1.doc2bow(corpus_2[0])
    [(0, 1), (3, 2)]</pre> <div class="fragment"><div class="line"><span class="lineno">  541</span>    <span class="keyword">def </span>merge_with(self, other):</div>
<div class="line"><span class="lineno">  542</span>        <span class="stringliteral">&quot;&quot;&quot;Merge another dictionary into this dictionary, mapping the same tokens to the same ids</span></div>
<div class="line"><span class="lineno">  543</span><span class="stringliteral">        and new tokens to new ids.</span></div>
<div class="line"><span class="lineno">  544</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  545</span><span class="stringliteral">        Notes</span></div>
<div class="line"><span class="lineno">  546</span><span class="stringliteral">        -----</span></div>
<div class="line"><span class="lineno">  547</span><span class="stringliteral">        The purpose is to merge two corpora created using two different dictionaries: `self` and `other`.</span></div>
<div class="line"><span class="lineno">  548</span><span class="stringliteral">        `other` can be any id=&gt;word mapping (a dict, a Dictionary object, ...).</span></div>
<div class="line"><span class="lineno">  549</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  550</span><span class="stringliteral">        Return a transformation object which, when accessed as `result[doc_from_other_corpus]`, will convert documents</span></div>
<div class="line"><span class="lineno">  551</span><span class="stringliteral">        from a corpus built using the `other` dictionary into a document using the new, merged dictionary.</span></div>
<div class="line"><span class="lineno">  552</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  553</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  554</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  555</span><span class="stringliteral">        other : {dict, :class:`~gensim.corpora.dictionary.Dictionary`}</span></div>
<div class="line"><span class="lineno">  556</span><span class="stringliteral">            Other dictionary.</span></div>
<div class="line"><span class="lineno">  557</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  558</span><span class="stringliteral">        Return</span></div>
<div class="line"><span class="lineno">  559</span><span class="stringliteral">        ------</span></div>
<div class="line"><span class="lineno">  560</span><span class="stringliteral">        :class:`gensim.models.VocabTransform`</span></div>
<div class="line"><span class="lineno">  561</span><span class="stringliteral">            Transformation object.</span></div>
<div class="line"><span class="lineno">  562</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  563</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  564</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  565</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  566</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  567</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">  568</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  569</span><span class="stringliteral">            &gt;&gt;&gt; corpus_1, corpus_2 = [[&quot;a&quot;, &quot;b&quot;, &quot;c&quot;]], [[&quot;a&quot;, &quot;f&quot;, &quot;f&quot;]]</span></div>
<div class="line"><span class="lineno">  570</span><span class="stringliteral">            &gt;&gt;&gt; dct_1, dct_2 = Dictionary(corpus_1), Dictionary(corpus_2)</span></div>
<div class="line"><span class="lineno">  571</span><span class="stringliteral">            &gt;&gt;&gt; dct_1.doc2bow(corpus_2[0])</span></div>
<div class="line"><span class="lineno">  572</span><span class="stringliteral">            [(0, 1)]</span></div>
<div class="line"><span class="lineno">  573</span><span class="stringliteral">            &gt;&gt;&gt; transformer = dct_1.merge_with(dct_2)</span></div>
<div class="line"><span class="lineno">  574</span><span class="stringliteral">            &gt;&gt;&gt; dct_1.doc2bow(corpus_2[0])</span></div>
<div class="line"><span class="lineno">  575</span><span class="stringliteral">            [(0, 1), (3, 2)]</span></div>
<div class="line"><span class="lineno">  576</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  577</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  578</span>        old2new = {}</div>
<div class="line"><span class="lineno">  579</span>        <span class="keywordflow">for</span> other_id, other_token <span class="keywordflow">in</span> iteritems(other):</div>
<div class="line"><span class="lineno">  580</span>            <span class="keywordflow">if</span> other_token <span class="keywordflow">in</span> self.token2id:</div>
<div class="line"><span class="lineno">  581</span>                new_id = self.token2id[other_token]</div>
<div class="line"><span class="lineno">  582</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  583</span>                new_id = len(self.token2id)</div>
<div class="line"><span class="lineno">  584</span>                self.token2id[other_token] = new_id</div>
<div class="line"><span class="lineno">  585</span>                self.dfs[new_id] = 0</div>
<div class="line"><span class="lineno">  586</span>            old2new[other_id] = new_id</div>
<div class="line"><span class="lineno">  587</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  588</span>                self.dfs[new_id] += other.dfs[other_id]</div>
<div class="line"><span class="lineno">  589</span>            <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  590</span>                <span class="comment"># `other` isn&#39;t a Dictionary (probably just a dict) =&gt; ignore dfs, keep going</span></div>
<div class="line"><span class="lineno">  591</span>                <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  592</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  593</span>            self.num_docs += other.num_docs</div>
<div class="line"><span class="lineno">  594</span>            self.num_nnz += other.num_nnz</div>
<div class="line"><span class="lineno">  595</span>            self.num_pos += other.num_pos</div>
<div class="line"><span class="lineno">  596</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  597</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>        <span class="keyword">import</span> <a class="code hl_namespace" href="namespacegensim_1_1models.html">gensim.models</a></div>
<div class="line"><span class="lineno">  600</span>        <span class="keywordflow">return</span> <a class="code hl_class" href="classgensim_1_1models_1_1_vocab_transform.html">gensim.models.VocabTransform</a>(old2new)</div>
<div class="line"><span class="lineno">  601</span> </div>
<div class="ttc" id="aclassgensim_1_1models_1_1_vocab_transform_html"><div class="ttname"><a href="classgensim_1_1models_1_1_vocab_transform.html">gensim.models.VocabTransform</a></div><div class="ttdef"><b>Definition</b> __init__.py:31</div></div>
<div class="ttc" id="anamespacegensim_1_1models_html"><div class="ttname"><a href="namespacegensim_1_1models.html">gensim.models</a></div><div class="ttdef"><b>Definition</b> __init__.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abf1b2fc8b1730be338feea9785a32527" name="abf1b2fc8b1730be338feea9785a32527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf1b2fc8b1730be338feea9785a32527">&#9670;&#160;</a></span>patch_with_special_tokens()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.patch_with_special_tokens </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>special_token_dict</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Patch token2id and id2token using a dictionary of special tokens.


**Usecase:** when doing sequence modeling (e.g. named entity recognition), one may  want to specify
special tokens that behave differently than others.
One example is the "unknown" token, and another is the padding token.
It is usual to set the padding token to have index `0`, and patching the dictionary with `{'&lt;PAD&gt;': 0}`
would be one way to specify this.

Parameters
----------
special_token_dict : dict of (str, int)
    dict containing the special tokens as keys and their wanted indices as values.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt;
    &gt;&gt;&gt; corpus = [["máma", "mele", "maso"], ["ema", "má", "máma"]]
    &gt;&gt;&gt; dct = Dictionary(corpus)
    &gt;&gt;&gt;
    &gt;&gt;&gt; special_tokens = {'pad': 0, 'space': 1}
    &gt;&gt;&gt; print(dct.token2id)
    {'maso': 0, 'mele': 1, 'máma': 2, 'ema': 3, 'má': 4}
    &gt;&gt;&gt;
    &gt;&gt;&gt; dct.patch_with_special_tokens(special_tokens)
    &gt;&gt;&gt; print(dct.token2id)
    {'maso': 6, 'mele': 7, 'máma': 2, 'ema': 3, 'má': 4, 'pad': 0, 'space': 1}</pre> <div class="fragment"><div class="line"><span class="lineno">  602</span>    <span class="keyword">def </span>patch_with_special_tokens(self, special_token_dict):</div>
<div class="line"><span class="lineno">  603</span>        <span class="stringliteral">&quot;&quot;&quot;Patch token2id and id2token using a dictionary of special tokens.</span></div>
<div class="line"><span class="lineno">  604</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  605</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  606</span><span class="stringliteral">        **Usecase:** when doing sequence modeling (e.g. named entity recognition), one may  want to specify</span></div>
<div class="line"><span class="lineno">  607</span><span class="stringliteral">        special tokens that behave differently than others.</span></div>
<div class="line"><span class="lineno">  608</span><span class="stringliteral">        One example is the &quot;unknown&quot; token, and another is the padding token.</span></div>
<div class="line"><span class="lineno">  609</span><span class="stringliteral">        It is usual to set the padding token to have index `0`, and patching the dictionary with `{&#39;&lt;PAD&gt;&#39;: 0}`</span></div>
<div class="line"><span class="lineno">  610</span><span class="stringliteral">        would be one way to specify this.</span></div>
<div class="line"><span class="lineno">  611</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  612</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  613</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  614</span><span class="stringliteral">        special_token_dict : dict of (str, int)</span></div>
<div class="line"><span class="lineno">  615</span><span class="stringliteral">            dict containing the special tokens as keys and their wanted indices as values.</span></div>
<div class="line"><span class="lineno">  616</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  617</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  618</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  619</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  620</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  621</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">  622</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  623</span><span class="stringliteral">            &gt;&gt;&gt; corpus = [[&quot;máma&quot;, &quot;mele&quot;, &quot;maso&quot;], [&quot;ema&quot;, &quot;má&quot;, &quot;máma&quot;]]</span></div>
<div class="line"><span class="lineno">  624</span><span class="stringliteral">            &gt;&gt;&gt; dct = Dictionary(corpus)</span></div>
<div class="line"><span class="lineno">  625</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  626</span><span class="stringliteral">            &gt;&gt;&gt; special_tokens = {&#39;pad&#39;: 0, &#39;space&#39;: 1}</span></div>
<div class="line"><span class="lineno">  627</span><span class="stringliteral">            &gt;&gt;&gt; print(dct.token2id)</span></div>
<div class="line"><span class="lineno">  628</span><span class="stringliteral">            {&#39;maso&#39;: 0, &#39;mele&#39;: 1, &#39;máma&#39;: 2, &#39;ema&#39;: 3, &#39;má&#39;: 4}</span></div>
<div class="line"><span class="lineno">  629</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  630</span><span class="stringliteral">            &gt;&gt;&gt; dct.patch_with_special_tokens(special_tokens)</span></div>
<div class="line"><span class="lineno">  631</span><span class="stringliteral">            &gt;&gt;&gt; print(dct.token2id)</span></div>
<div class="line"><span class="lineno">  632</span><span class="stringliteral">            {&#39;maso&#39;: 6, &#39;mele&#39;: 7, &#39;máma&#39;: 2, &#39;ema&#39;: 3, &#39;má&#39;: 4, &#39;pad&#39;: 0, &#39;space&#39;: 1}</span></div>
<div class="line"><span class="lineno">  633</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  634</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  635</span>        possible_ids = []</div>
<div class="line"><span class="lineno">  636</span>        <span class="keywordflow">for</span> token, idx <span class="keywordflow">in</span> special_token_dict.items():</div>
<div class="line"><span class="lineno">  637</span>            <span class="keywordflow">if</span> token <span class="keywordflow">in</span> self.token2id <span class="keywordflow">and</span> self.token2id[token] == idx:</div>
<div class="line"><span class="lineno">  638</span>                <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  639</span>            <span class="keywordflow">if</span> token <span class="keywordflow">in</span> self.token2id <span class="keywordflow">and</span> self.token2id[token] != idx:</div>
<div class="line"><span class="lineno">  640</span>                possible_ids.append(self.token2id[token])</div>
<div class="line"><span class="lineno">  641</span>                del self.token2id[token]</div>
<div class="line"><span class="lineno">  642</span>            old_token = self[idx]</div>
<div class="line"><span class="lineno">  643</span>            self.token2id[token] = idx</div>
<div class="line"><span class="lineno">  644</span>            self.token2id[old_token] = possible_ids.pop() <span class="keywordflow">if</span> \</div>
<div class="line"><span class="lineno">  645</span>                                       len(possible_ids) &gt; 0 <span class="keywordflow">else</span> len(self.token2id) - 1</div>
<div class="line"><span class="lineno">  646</span>        self.id2token = {}  <span class="comment"># Make sure that id2token is updated according to special tokens.</span></div>
<div class="line"><span class="lineno">  647</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aeff77f72d0f0d8a352540866cd05cc39" name="aeff77f72d0f0d8a352540866cd05cc39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeff77f72d0f0d8a352540866cd05cc39">&#9670;&#160;</a></span>save_as_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.save_as_text </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sort_by_word</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Save :class:`~gensim.corpora.dictionary.Dictionary` to a text file.

Parameters
----------
fname : str
    Path to output file.
sort_by_word : bool, optional
    Sort words in lexicographical order before writing them out?

Notes
-----
Format::

    num_docs
    id_1[TAB]word_1[TAB]document_frequency_1[NEWLINE]
    id_2[TAB]word_2[TAB]document_frequency_2[NEWLINE]
    ....
    id_k[TAB]word_k[TAB]document_frequency_k[NEWLINE]

This text format is great for corpus inspection and debugging. As plaintext, it's also easily portable
to other tools and frameworks. For better performance and to store the entire object state,
including collected corpus statistics, use :meth:`~gensim.corpora.dictionary.Dictionary.save` and
:meth:`~gensim.corpora.dictionary.Dictionary.load` instead.

See Also
--------
:meth:`~gensim.corpora.dictionary.Dictionary.load_from_text`
    Load :class:`~gensim.corpora.dictionary.Dictionary` from text file.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.corpora import Dictionary
    &gt;&gt;&gt; from gensim.test.utils import get_tmpfile
    &gt;&gt;&gt;
    &gt;&gt;&gt; tmp_fname = get_tmpfile("dictionary")
    &gt;&gt;&gt; corpus = [["máma", "mele", "maso"], ["ema", "má", "máma"]]
    &gt;&gt;&gt;
    &gt;&gt;&gt; dct = Dictionary(corpus)
    &gt;&gt;&gt; dct.save_as_text(tmp_fname)
    &gt;&gt;&gt;
    &gt;&gt;&gt; loaded_dct = Dictionary.load_from_text(tmp_fname)
    &gt;&gt;&gt; assert dct.token2id == loaded_dct.token2id</pre> <div class="fragment"><div class="line"><span class="lineno">  481</span>    <span class="keyword">def </span>save_as_text(self, fname, sort_by_word=True):</div>
<div class="line"><span class="lineno">  482</span>        <span class="stringliteral">&quot;&quot;&quot;Save :class:`~gensim.corpora.dictionary.Dictionary` to a text file.</span></div>
<div class="line"><span class="lineno">  483</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  484</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  485</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  486</span><span class="stringliteral">        fname : str</span></div>
<div class="line"><span class="lineno">  487</span><span class="stringliteral">            Path to output file.</span></div>
<div class="line"><span class="lineno">  488</span><span class="stringliteral">        sort_by_word : bool, optional</span></div>
<div class="line"><span class="lineno">  489</span><span class="stringliteral">            Sort words in lexicographical order before writing them out?</span></div>
<div class="line"><span class="lineno">  490</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  491</span><span class="stringliteral">        Notes</span></div>
<div class="line"><span class="lineno">  492</span><span class="stringliteral">        -----</span></div>
<div class="line"><span class="lineno">  493</span><span class="stringliteral">        Format::</span></div>
<div class="line"><span class="lineno">  494</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  495</span><span class="stringliteral">            num_docs</span></div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral">            id_1[TAB]word_1[TAB]document_frequency_1[NEWLINE]</span></div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral">            id_2[TAB]word_2[TAB]document_frequency_2[NEWLINE]</span></div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">            ....</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral">            id_k[TAB]word_k[TAB]document_frequency_k[NEWLINE]</span></div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">        This text format is great for corpus inspection and debugging. As plaintext, it&#39;s also easily portable</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">        to other tools and frameworks. For better performance and to store the entire object state,</span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">        including collected corpus statistics, use :meth:`~gensim.corpora.dictionary.Dictionary.save` and</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">        :meth:`~gensim.corpora.dictionary.Dictionary.load` instead.</span></div>
<div class="line"><span class="lineno">  505</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  506</span><span class="stringliteral">        See Also</span></div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral">        :meth:`~gensim.corpora.dictionary.Dictionary.load_from_text`</span></div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral">            Load :class:`~gensim.corpora.dictionary.Dictionary` from text file.</span></div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral">        .. sourcecode:: pycon</span></div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.corpora import Dictionary</span></div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">            &gt;&gt;&gt; from gensim.test.utils import get_tmpfile</span></div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  518</span><span class="stringliteral">            &gt;&gt;&gt; tmp_fname = get_tmpfile(&quot;dictionary&quot;)</span></div>
<div class="line"><span class="lineno">  519</span><span class="stringliteral">            &gt;&gt;&gt; corpus = [[&quot;máma&quot;, &quot;mele&quot;, &quot;maso&quot;], [&quot;ema&quot;, &quot;má&quot;, &quot;máma&quot;]]</span></div>
<div class="line"><span class="lineno">  520</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  521</span><span class="stringliteral">            &gt;&gt;&gt; dct = Dictionary(corpus)</span></div>
<div class="line"><span class="lineno">  522</span><span class="stringliteral">            &gt;&gt;&gt; dct.save_as_text(tmp_fname)</span></div>
<div class="line"><span class="lineno">  523</span><span class="stringliteral">            &gt;&gt;&gt;</span></div>
<div class="line"><span class="lineno">  524</span><span class="stringliteral">            &gt;&gt;&gt; loaded_dct = Dictionary.load_from_text(tmp_fname)</span></div>
<div class="line"><span class="lineno">  525</span><span class="stringliteral">            &gt;&gt;&gt; assert dct.token2id == loaded_dct.token2id</span></div>
<div class="line"><span class="lineno">  526</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  528</span>        logger.info(<span class="stringliteral">&quot;saving dictionary mapping to %s&quot;</span>, fname)</div>
<div class="line"><span class="lineno">  529</span>        <span class="keyword">with</span> utils.open(fname, <span class="stringliteral">&#39;wb&#39;</span>) <span class="keyword">as</span> fout:</div>
<div class="line"><span class="lineno">  530</span>            numdocs_line = <span class="stringliteral">&quot;%d\n&quot;</span> % self.num_docs</div>
<div class="line"><span class="lineno">  531</span>            fout.write(utils.to_utf8(numdocs_line))</div>
<div class="line"><span class="lineno">  532</span>            <span class="keywordflow">if</span> sort_by_word:</div>
<div class="line"><span class="lineno">  533</span>                <span class="keywordflow">for</span> token, tokenid <span class="keywordflow">in</span> sorted(iteritems(self.token2id)):</div>
<div class="line"><span class="lineno">  534</span>                    line = <span class="stringliteral">&quot;%i\t%s\t%i\n&quot;</span> % (tokenid, token, self.dfs.get(tokenid, 0))</div>
<div class="line"><span class="lineno">  535</span>                    fout.write(utils.to_utf8(line))</div>
<div class="line"><span class="lineno">  536</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  537</span>                <span class="keywordflow">for</span> tokenid, freq <span class="keywordflow">in</span> sorted(iteritems(self.dfs), key=<span class="keyword">lambda</span> item: -item[1]):</div>
<div class="line"><span class="lineno">  538</span>                    line = <span class="stringliteral">&quot;%i\t%s\t%i\n&quot;</span> % (tokenid, self[tokenid], freq)</div>
<div class="line"><span class="lineno">  539</span>                    fout.write(utils.to_utf8(line))</div>
<div class="line"><span class="lineno">  540</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aed6bc1460cb179323c2760802534bd26" name="aed6bc1460cb179323c2760802534bd26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed6bc1460cb179323c2760802534bd26">&#9670;&#160;</a></span>cfs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.cfs</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4380a4f3c05efbbd1d1f0ccb32fc7704" name="a4380a4f3c05efbbd1d1f0ccb32fc7704"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4380a4f3c05efbbd1d1f0ccb32fc7704">&#9670;&#160;</a></span>dfs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.dfs</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2f96f669ab3ec3940dcef74391303fcc" name="a2f96f669ab3ec3940dcef74391303fcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f96f669ab3ec3940dcef74391303fcc">&#9670;&#160;</a></span>id2token</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.id2token</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad4d55c2b335dc15aa866203f3d38fe02" name="ad4d55c2b335dc15aa866203f3d38fe02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4d55c2b335dc15aa866203f3d38fe02">&#9670;&#160;</a></span>iterkeys</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.iterkeys = <a class="el" href="classgensim_1_1corpora_1_1dictionary_1_1_dictionary.html#adc208db439144d8788f6a7ea8b5c8faf">__iter__</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a341aadb0676170196cf454dc962c0794" name="a341aadb0676170196cf454dc962c0794"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a341aadb0676170196cf454dc962c0794">&#9670;&#160;</a></span>num_docs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.num_docs</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5ccbe0aafa9b2fd8a3c608a6f1fdb898" name="a5ccbe0aafa9b2fd8a3c608a6f1fdb898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ccbe0aafa9b2fd8a3c608a6f1fdb898">&#9670;&#160;</a></span>num_nnz</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.num_nnz</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9cc51ba937bfeeac672cac7387277110" name="a9cc51ba937bfeeac672cac7387277110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9cc51ba937bfeeac672cac7387277110">&#9670;&#160;</a></span>num_pos</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.num_pos</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a31aed04d647c53c1b6e4c60d2b86cab1" name="a31aed04d647c53c1b6e4c60d2b86cab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31aed04d647c53c1b6e4c60d2b86cab1">&#9670;&#160;</a></span>token2id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.corpora.dictionary.Dictionary.token2id</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/gensim/corpora/<a class="el" href="dictionary_8py.html">dictionary.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
