<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: gensim.models.translation_matrix.BackMappingTranslationMatrix Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacegensim.html">gensim</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models.html">models</a></li><li class="navelem"><a class="el" href="namespacegensim_1_1models_1_1translation__matrix.html">translation_matrix</a></li><li class="navelem"><a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html">BackMappingTranslationMatrix</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">gensim.models.translation_matrix.BackMappingTranslationMatrix Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for gensim.models.translation_matrix.BackMappingTranslationMatrix:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.png" usemap="#gensim.models.translation_5Fmatrix.BackMappingTranslationMatrix_map" alt=""/>
  <map id="gensim.models.translation_5Fmatrix.BackMappingTranslationMatrix_map" name="gensim.models.translation_5Fmatrix.BackMappingTranslationMatrix_map">
<area href="classgensim_1_1utils_1_1_save_load.html" alt="gensim.utils.SaveLoad" shape="rect" coords="0,56,374,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a35c2a4f6df74b4644217598beb37536d" id="r_a35c2a4f6df74b4644217598beb37536d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a35c2a4f6df74b4644217598beb37536d">__init__</a> (self, <a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a5d4c5cee44d5698e6f70b5f4155e3cc6">source_lang_vec</a>, <a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a1abd2a74ff9572171bd97b82cec56187">target_lang_vec</a>, <a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a02f30fc4bf411901652a543e92f9a2fb">tagged_docs</a>=None, <a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a8f6606ba1872389432cee5976bdd3503">random_state</a>=None)</td></tr>
<tr class="separator:a35c2a4f6df74b4644217598beb37536d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a153e2688fcdad42e5db54f8596d0df19" id="r_a153e2688fcdad42e5db54f8596d0df19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a153e2688fcdad42e5db54f8596d0df19">train</a> (self, <a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a02f30fc4bf411901652a543e92f9a2fb">tagged_docs</a>)</td></tr>
<tr class="separator:a153e2688fcdad42e5db54f8596d0df19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b609dec8a196bfe8d0bb1f4057ceaa6" id="r_a2b609dec8a196bfe8d0bb1f4057ceaa6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a2b609dec8a196bfe8d0bb1f4057ceaa6">infer_vector</a> (self, target_doc_vec)</td></tr>
<tr class="separator:a2b609dec8a196bfe8d0bb1f4057ceaa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:a70d054bfd9dfd1373fef9e0e691a24b5 inherit pub_methods_classgensim_1_1utils_1_1_save_load" id="r_a70d054bfd9dfd1373fef9e0e691a24b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a70d054bfd9dfd1373fef9e0e691a24b5">load</a> (cls, fname, mmap=None)</td></tr>
<tr class="separator:a70d054bfd9dfd1373fef9e0e691a24b5 inherit pub_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0767537a6eb767dfe4fb8cf6d5fc221c inherit pub_methods_classgensim_1_1utils_1_1_save_load" id="r_a0767537a6eb767dfe4fb8cf6d5fc221c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a0767537a6eb767dfe4fb8cf6d5fc221c">save</a> (self, fname_or_handle, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:a0767537a6eb767dfe4fb8cf6d5fc221c inherit pub_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a02f30fc4bf411901652a543e92f9a2fb" id="r_a02f30fc4bf411901652a543e92f9a2fb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a02f30fc4bf411901652a543e92f9a2fb">tagged_docs</a></td></tr>
<tr class="separator:a02f30fc4bf411901652a543e92f9a2fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d4c5cee44d5698e6f70b5f4155e3cc6" id="r_a5d4c5cee44d5698e6f70b5f4155e3cc6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a5d4c5cee44d5698e6f70b5f4155e3cc6">source_lang_vec</a></td></tr>
<tr class="separator:a5d4c5cee44d5698e6f70b5f4155e3cc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1abd2a74ff9572171bd97b82cec56187" id="r_a1abd2a74ff9572171bd97b82cec56187"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a1abd2a74ff9572171bd97b82cec56187">target_lang_vec</a></td></tr>
<tr class="separator:a1abd2a74ff9572171bd97b82cec56187"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f6606ba1872389432cee5976bdd3503" id="r_a8f6606ba1872389432cee5976bdd3503"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a8f6606ba1872389432cee5976bdd3503">random_state</a></td></tr>
<tr class="separator:a8f6606ba1872389432cee5976bdd3503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b5191af72840372b72707f6c87e6439" id="r_a5b5191af72840372b72707f6c87e6439"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1models_1_1translation__matrix_1_1_back_mapping_translation_matrix.html#a5b5191af72840372b72707f6c87e6439">translation_matrix</a></td></tr>
<tr class="separator:a5b5191af72840372b72707f6c87e6439"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_ace7b79d8870c44c2bab0d590a5aca91e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#ace7b79d8870c44c2bab0d590a5aca91e">_load_specials</a> (self, fname, mmap, compress, subname)</td></tr>
<tr class="separator:ace7b79d8870c44c2bab0d590a5aca91e inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_acd9faa42ba3aae8f0a175418889d425c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#acd9faa42ba3aae8f0a175418889d425c">_smart_save</a> (self, fname, separately=None, sep_limit=10 *1024 **2, ignore=frozenset(), pickle_protocol=2)</td></tr>
<tr class="separator:acd9faa42ba3aae8f0a175418889d425c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load" id="r_a4bae38a76fa8264d2c8759b9d40a6f5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a4bae38a76fa8264d2c8759b9d40a6f5c">_save_specials</a> (self, fname, separately, sep_limit, ignore, pickle_protocol, compress, subname)</td></tr>
<tr class="separator:a4bae38a76fa8264d2c8759b9d40a6f5c inherit pro_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_methods_classgensim_1_1utils_1_1_save_load"><td colspan="2" onclick="javascript:toggleInherit('pro_static_methods_classgensim_1_1utils_1_1_save_load')"><img src="closed.png" alt="-"/>&#160;Static Protected Member Functions inherited from <a class="el" href="classgensim_1_1utils_1_1_save_load.html">gensim.utils.SaveLoad</a></td></tr>
<tr class="memitem:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load" id="r_a6cf051b348407267110444260535d143"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgensim_1_1utils_1_1_save_load.html#a6cf051b348407267110444260535d143">_adapt_by_suffix</a> (fname)</td></tr>
<tr class="separator:a6cf051b348407267110444260535d143 inherit pro_static_methods_classgensim_1_1utils_1_1_save_load"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Realize the BackMapping translation matrix which map the source model's document vector
to the target model's document vector(old model).

BackMapping translation matrix is used to learn a mapping for two document vector space which we
specify as source document vector and target document vector. The target document vector are trained
on superset corpus of source document vector, we can incrementally increase the vector in
the old model through the BackMapping translation matrix.

the details use seen the notebook [3]_.

Examples
--------
.. sourcecode:: pycon

    &gt;&gt;&gt; from gensim.test.utils import datapath
    &gt;&gt;&gt; from gensim.test.test_translation_matrix import read_sentiment_docs
    &gt;&gt;&gt; from gensim.models import Doc2Vec, BackMappingTranslationMatrix
    &gt;&gt;&gt;
    &gt;&gt;&gt; data = read_sentiment_docs(datapath("alldata-id-10.txt"))[:5]
    &gt;&gt;&gt; src_model = Doc2Vec.load(datapath("small_tag_doc_5_iter50"))
    &gt;&gt;&gt; dst_model = Doc2Vec.load(datapath("large_tag_doc_10_iter50"))
    &gt;&gt;&gt;
    &gt;&gt;&gt; model_trans = BackMappingTranslationMatrix(src_model, dst_model)
    &gt;&gt;&gt; trans_matrix = model_trans.train(data)
    &gt;&gt;&gt;
    &gt;&gt;&gt; result = model_trans.infer_vector(dst_model.docvecs[data[3].tags])</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a35c2a4f6df74b4644217598beb37536d" name="a35c2a4f6df74b4644217598beb37536d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35c2a4f6df74b4644217598beb37536d">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.translation_matrix.BackMappingTranslationMatrix.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source_lang_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target_lang_vec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tagged_docs</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>random_state</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Parameters
----------
source_lang_vec : :class:`~gensim.models.doc2vec.Doc2Vec`
    Source Doc2Vec model.
target_lang_vec : :class:`~gensim.models.doc2vec.Doc2Vec`
    Target Doc2Vec model.
tagged_docs : list of :class:`~gensim.models.doc2vec.TaggedDocument`, optional.
    Documents that will be used for training, both the source language document vector and
    target language document vector trained on those tagged documents.
random_state : {None, int, array_like}, optional
    Seed for random state.</pre> <div class="fragment"><div class="line"><span class="lineno">  398</span>    <span class="keyword">def </span>__init__(self, source_lang_vec, target_lang_vec, tagged_docs=None, random_state=None):</div>
<div class="line"><span class="lineno">  399</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  400</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  401</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  402</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  403</span><span class="stringliteral">        source_lang_vec : :class:`~gensim.models.doc2vec.Doc2Vec`</span></div>
<div class="line"><span class="lineno">  404</span><span class="stringliteral">            Source Doc2Vec model.</span></div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral">        target_lang_vec : :class:`~gensim.models.doc2vec.Doc2Vec`</span></div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral">            Target Doc2Vec model.</span></div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral">        tagged_docs : list of :class:`~gensim.models.doc2vec.TaggedDocument`, optional.</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral">            Documents that will be used for training, both the source language document vector and</span></div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">            target language document vector trained on those tagged documents.</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">        random_state : {None, int, array_like}, optional</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral">            Seed for random state.</span></div>
<div class="line"><span class="lineno">  412</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  413</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  414</span>        self.tagged_docs = tagged_docs</div>
<div class="line"><span class="lineno">  415</span>        self.source_lang_vec = source_lang_vec</div>
<div class="line"><span class="lineno">  416</span>        self.target_lang_vec = target_lang_vec</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>        self.random_state = utils.get_random_state(random_state)</div>
<div class="line"><span class="lineno">  419</span>        self.translation_matrix = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>        <span class="keywordflow">if</span> tagged_docs <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  422</span>            self.train(tagged_docs)</div>
<div class="line"><span class="lineno">  423</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2b609dec8a196bfe8d0bb1f4057ceaa6" name="a2b609dec8a196bfe8d0bb1f4057ceaa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2b609dec8a196bfe8d0bb1f4057ceaa6">&#9670;&#160;</a></span>infer_vector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.translation_matrix.BackMappingTranslationMatrix.infer_vector </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>target_doc_vec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Translate the target model's document vector to the source model's document vector

Parameters
----------
target_doc_vec : numpy.ndarray
    Document vector from the target document, whose document are not in the source model.

Returns
-------
numpy.ndarray
    Vector `target_doc_vec` in the source model.</pre> <div class="fragment"><div class="line"><span class="lineno">  445</span>    <span class="keyword">def </span>infer_vector(self, target_doc_vec):</div>
<div class="line"><span class="lineno">  446</span>        <span class="stringliteral">&quot;&quot;&quot;Translate the target model&#39;s document vector to the source model&#39;s document vector</span></div>
<div class="line"><span class="lineno">  447</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  448</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">        target_doc_vec : numpy.ndarray</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">            Document vector from the target document, whose document are not in the source model.</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">        numpy.ndarray</span></div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral">            Vector `target_doc_vec` in the source model.</span></div>
<div class="line"><span class="lineno">  457</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  458</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  459</span>        <span class="keywordflow">return</span> np.dot(target_doc_vec, self.translation_matrix)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a153e2688fcdad42e5db54f8596d0df19" name="a153e2688fcdad42e5db54f8596d0df19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a153e2688fcdad42e5db54f8596d0df19">&#9670;&#160;</a></span>train()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.translation_matrix.BackMappingTranslationMatrix.train </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tagged_docs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Build the translation matrix that mapping from the source model's vector to target model's vector

Parameters
----------
tagged_docs : list of :class:`~gensim.models.doc2vec.TaggedDocument`, Documents
    that will be used for training, both the source language document vector and
    target language document vector trained on those tagged documents.

Returns
-------
numpy.ndarray
    Translation matrix that mapping from the source model's vector to target model's vector.</pre> <div class="fragment"><div class="line"><span class="lineno">  424</span>    <span class="keyword">def </span>train(self, tagged_docs):</div>
<div class="line"><span class="lineno">  425</span>        <span class="stringliteral">&quot;&quot;&quot;Build the translation matrix that mapping from the source model&#39;s vector to target model&#39;s vector</span></div>
<div class="line"><span class="lineno">  426</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  427</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno">  428</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno">  429</span><span class="stringliteral">        tagged_docs : list of :class:`~gensim.models.doc2vec.TaggedDocument`, Documents</span></div>
<div class="line"><span class="lineno">  430</span><span class="stringliteral">            that will be used for training, both the source language document vector and</span></div>
<div class="line"><span class="lineno">  431</span><span class="stringliteral">            target language document vector trained on those tagged documents.</span></div>
<div class="line"><span class="lineno">  432</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  433</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno">  434</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno">  435</span><span class="stringliteral">        numpy.ndarray</span></div>
<div class="line"><span class="lineno">  436</span><span class="stringliteral">            Translation matrix that mapping from the source model&#39;s vector to target model&#39;s vector.</span></div>
<div class="line"><span class="lineno">  437</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  438</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  439</span>        m1 = [self.source_lang_vec.docvecs[item.tags].flatten() <span class="keywordflow">for</span> item <span class="keywordflow">in</span> tagged_docs]</div>
<div class="line"><span class="lineno">  440</span>        m2 = [self.target_lang_vec.docvecs[item.tags].flatten() <span class="keywordflow">for</span> item <span class="keywordflow">in</span> tagged_docs]</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>        self.translation_matrix = np.linalg.lstsq(m2, m1, -1)[0]</div>
<div class="line"><span class="lineno">  443</span>        <span class="keywordflow">return</span> self.translation_matrix</div>
<div class="line"><span class="lineno">  444</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8f6606ba1872389432cee5976bdd3503" name="a8f6606ba1872389432cee5976bdd3503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f6606ba1872389432cee5976bdd3503">&#9670;&#160;</a></span>random_state</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.translation_matrix.BackMappingTranslationMatrix.random_state</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5d4c5cee44d5698e6f70b5f4155e3cc6" name="a5d4c5cee44d5698e6f70b5f4155e3cc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d4c5cee44d5698e6f70b5f4155e3cc6">&#9670;&#160;</a></span>source_lang_vec</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.translation_matrix.BackMappingTranslationMatrix.source_lang_vec</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a02f30fc4bf411901652a543e92f9a2fb" name="a02f30fc4bf411901652a543e92f9a2fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02f30fc4bf411901652a543e92f9a2fb">&#9670;&#160;</a></span>tagged_docs</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.translation_matrix.BackMappingTranslationMatrix.tagged_docs</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a1abd2a74ff9572171bd97b82cec56187" name="a1abd2a74ff9572171bd97b82cec56187"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1abd2a74ff9572171bd97b82cec56187">&#9670;&#160;</a></span>target_lang_vec</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.translation_matrix.BackMappingTranslationMatrix.target_lang_vec</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5b5191af72840372b72707f6c87e6439" name="a5b5191af72840372b72707f6c87e6439"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b5191af72840372b72707f6c87e6439">&#9670;&#160;</a></span>translation_matrix</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gensim.models.translation_matrix.BackMappingTranslationMatrix.translation_matrix</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/gensim/models/<a class="el" href="translation__matrix_8py.html">translation_matrix.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
