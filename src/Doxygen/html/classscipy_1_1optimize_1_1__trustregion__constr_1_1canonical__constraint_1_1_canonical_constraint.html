<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacescipy.html">scipy</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1optimize.html">optimize</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1optimize_1_1__trustregion__constr.html">_trustregion_constr</a></li><li class="navelem"><a class="el" href="namespacescipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint.html">canonical_constraint</a></li><li class="navelem"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html">CanonicalConstraint</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a65d556b53c950ffe2a44ab318cd3f737" id="r_a65d556b53c950ffe2a44ab318cd3f737"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#a65d556b53c950ffe2a44ab318cd3f737">__init__</a> (self, <a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#a46802a420d798de7ad8db685c8b52cdc">n_eq</a>, <a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#ad2a0c14e8d8b5595f51c51ca2bcdb5b2">n_ineq</a>, <a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#afabc7c4eb35b25b50157fcc4ffbbbeee">fun</a>, <a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#a4f718d66c5eb878864aa17fd4c38bbf9">jac</a>, <a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#a3bde9d9fd812063c6abc74b2161a5812">hess</a>, <a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#af79fc73ba3b39a89103a5bb311f50aee">keep_feasible</a>)</td></tr>
<tr class="separator:a65d556b53c950ffe2a44ab318cd3f737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae817c2d7ce5101710aaf2e0687402c29" id="r_ae817c2d7ce5101710aaf2e0687402c29"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#ae817c2d7ce5101710aaf2e0687402c29">from_PreparedConstraint</a> (cls, constraint)</td></tr>
<tr class="separator:ae817c2d7ce5101710aaf2e0687402c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35b3e107d30fbdd33f799afa329fc090" id="r_a35b3e107d30fbdd33f799afa329fc090"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#a35b3e107d30fbdd33f799afa329fc090">empty</a> (cls, <a class="el" href="__blas__subroutines_8h.html#a25eafceb38c8e75bc60701fea6623f71">n</a>)</td></tr>
<tr class="separator:a35b3e107d30fbdd33f799afa329fc090"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7104e3a946054f2abd996c9dc25d719" id="r_ae7104e3a946054f2abd996c9dc25d719"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#ae7104e3a946054f2abd996c9dc25d719">concatenate</a> (cls, canonical_constraints, sparse_jacobian)</td></tr>
<tr class="separator:ae7104e3a946054f2abd996c9dc25d719"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a46802a420d798de7ad8db685c8b52cdc" id="r_a46802a420d798de7ad8db685c8b52cdc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#a46802a420d798de7ad8db685c8b52cdc">n_eq</a></td></tr>
<tr class="separator:a46802a420d798de7ad8db685c8b52cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a0c14e8d8b5595f51c51ca2bcdb5b2" id="r_ad2a0c14e8d8b5595f51c51ca2bcdb5b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#ad2a0c14e8d8b5595f51c51ca2bcdb5b2">n_ineq</a></td></tr>
<tr class="separator:ad2a0c14e8d8b5595f51c51ca2bcdb5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afabc7c4eb35b25b50157fcc4ffbbbeee" id="r_afabc7c4eb35b25b50157fcc4ffbbbeee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#afabc7c4eb35b25b50157fcc4ffbbbeee">fun</a></td></tr>
<tr class="separator:afabc7c4eb35b25b50157fcc4ffbbbeee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f718d66c5eb878864aa17fd4c38bbf9" id="r_a4f718d66c5eb878864aa17fd4c38bbf9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#a4f718d66c5eb878864aa17fd4c38bbf9">jac</a></td></tr>
<tr class="separator:a4f718d66c5eb878864aa17fd4c38bbf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bde9d9fd812063c6abc74b2161a5812" id="r_a3bde9d9fd812063c6abc74b2161a5812"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#a3bde9d9fd812063c6abc74b2161a5812">hess</a></td></tr>
<tr class="separator:a3bde9d9fd812063c6abc74b2161a5812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af79fc73ba3b39a89103a5bb311f50aee" id="r_af79fc73ba3b39a89103a5bb311f50aee"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#af79fc73ba3b39a89103a5bb311f50aee">keep_feasible</a></td></tr>
<tr class="separator:af79fc73ba3b39a89103a5bb311f50aee"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:adb287596646a3347934cc42a8542f028" id="r_adb287596646a3347934cc42a8542f028"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#adb287596646a3347934cc42a8542f028">_equal_to_canonical</a> (cls, cfun, value)</td></tr>
<tr class="separator:adb287596646a3347934cc42a8542f028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f50f421ab4affa8d399ae21088bab3c" id="r_a9f50f421ab4affa8d399ae21088bab3c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#a9f50f421ab4affa8d399ae21088bab3c">_less_to_canonical</a> (cls, cfun, ub, <a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#af79fc73ba3b39a89103a5bb311f50aee">keep_feasible</a>)</td></tr>
<tr class="separator:a9f50f421ab4affa8d399ae21088bab3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66c4e059061c8ad4f82075da1b542b81" id="r_a66c4e059061c8ad4f82075da1b542b81"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#a66c4e059061c8ad4f82075da1b542b81">_greater_to_canonical</a> (cls, cfun, lb, <a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#af79fc73ba3b39a89103a5bb311f50aee">keep_feasible</a>)</td></tr>
<tr class="separator:a66c4e059061c8ad4f82075da1b542b81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a628e41babdef3952683305a385b0ea87" id="r_a628e41babdef3952683305a385b0ea87"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#a628e41babdef3952683305a385b0ea87">_interval_to_canonical</a> (cls, cfun, lb, ub, <a class="el" href="classscipy_1_1optimize_1_1__trustregion__constr_1_1canonical__constraint_1_1_canonical_constraint.html#af79fc73ba3b39a89103a5bb311f50aee">keep_feasible</a>)</td></tr>
<tr class="separator:a628e41babdef3952683305a385b0ea87"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Canonical constraint to use with trust-constr algorithm.

It represents the set of constraints of the form::

    f_eq(x) = 0
    f_ineq(x) &lt;= 0

where ``f_eq`` and ``f_ineq`` are evaluated by a single function, see
below.

The class is supposed to be instantiated by factory methods, which
should prepare the parameters listed below.

Parameters
----------
n_eq, n_ineq : int
    Number of equality and inequality constraints respectively.
fun : callable
    Function defining the constraints. The signature is
    ``fun(x) -&gt; c_eq, c_ineq``, where ``c_eq`` is ndarray with `n_eq`
    components and ``c_ineq`` is ndarray with `n_ineq` components.
jac : callable
    Function to evaluate the Jacobian of the constraint. The signature
    is ``jac(x) -&gt; J_eq, J_ineq``, where ``J_eq`` and ``J_ineq`` are
    either ndarray of csr_matrix of shapes (n_eq, n) and (n_ineq, n),
    respectively.
hess : callable
    Function to evaluate the Hessian of the constraints multiplied
    by Lagrange multipliers, that is
    ``dot(f_eq, v_eq) + dot(f_ineq, v_ineq)``. The signature is
    ``hess(x, v_eq, v_ineq) -&gt; H``, where ``H`` has an implied
    shape (n, n) and provide a matrix-vector product operation
    ``H.dot(p)``.
keep_feasible : ndarray, shape (n_ineq,)
    Mask indicating which inequality constraints should be kept feasible.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a65d556b53c950ffe2a44ab318cd3f737" name="a65d556b53c950ffe2a44ab318cd3f737"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65d556b53c950ffe2a44ab318cd3f737">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_eq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n_ineq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>jac</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hess</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keep_feasible</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   42</span>    <span class="keyword">def </span>__init__(self, n_eq, n_ineq, fun, jac, hess, keep_feasible):</div>
<div class="line"><span class="lineno">   43</span>        self.n_eq = n_eq</div>
<div class="line"><span class="lineno">   44</span>        self.n_ineq = n_ineq</div>
<div class="line"><span class="lineno">   45</span>        self.fun = fun</div>
<div class="line"><span class="lineno">   46</span>        self.jac = jac</div>
<div class="line"><span class="lineno">   47</span>        self.hess = hess</div>
<div class="line"><span class="lineno">   48</span>        self.keep_feasible = keep_feasible</div>
<div class="line"><span class="lineno">   49</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="adb287596646a3347934cc42a8542f028" name="adb287596646a3347934cc42a8542f028"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb287596646a3347934cc42a8542f028">&#9670;&#160;</a></span>_equal_to_canonical()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint._equal_to_canonical </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cfun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  152</span>    <span class="keyword">def </span>_equal_to_canonical(cls, cfun, value):</div>
<div class="line"><span class="lineno">  153</span>        empty_fun = np.empty(0)</div>
<div class="line"><span class="lineno">  154</span>        n = cfun.n</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>        n_eq = value.shape[0]</div>
<div class="line"><span class="lineno">  157</span>        n_ineq = 0</div>
<div class="line"><span class="lineno">  158</span>        keep_feasible = np.empty(0, dtype=bool)</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">if</span> cfun.sparse_jacobian:</div>
<div class="line"><span class="lineno">  161</span>            empty_jac = sps.csr_matrix((0, n))</div>
<div class="line"><span class="lineno">  162</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  163</span>            empty_jac = np.empty((0, n))</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>        <span class="keyword">def </span>fun(x):</div>
<div class="line"><span class="lineno">  166</span>            <span class="keywordflow">return</span> cfun.fun(x) - value, empty_fun</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>        <span class="keyword">def </span>jac(x):</div>
<div class="line"><span class="lineno">  169</span>            <span class="keywordflow">return</span> cfun.jac(x), empty_jac</div>
<div class="line"><span class="lineno">  170</span> </div>
<div class="line"><span class="lineno">  171</span>        <span class="keyword">def </span>hess(x, v_eq, v_ineq):</div>
<div class="line"><span class="lineno">  172</span>            <span class="keywordflow">return</span> cfun.hess(x, v_eq)</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>        empty_fun = np.empty(0)</div>
<div class="line"><span class="lineno">  175</span>        n = cfun.n</div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">if</span> cfun.sparse_jacobian:</div>
<div class="line"><span class="lineno">  177</span>            empty_jac = sps.csr_matrix((0, n))</div>
<div class="line"><span class="lineno">  178</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  179</span>            empty_jac = np.empty((0, n))</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>        <span class="keywordflow">return</span> cls(n_eq, n_ineq, fun, jac, hess, keep_feasible)</div>
<div class="line"><span class="lineno">  182</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a66c4e059061c8ad4f82075da1b542b81" name="a66c4e059061c8ad4f82075da1b542b81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66c4e059061c8ad4f82075da1b542b81">&#9670;&#160;</a></span>_greater_to_canonical()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint._greater_to_canonical </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cfun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keep_feasible</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  224</span>    <span class="keyword">def </span>_greater_to_canonical(cls, cfun, lb, keep_feasible):</div>
<div class="line"><span class="lineno">  225</span>        empty_fun = np.empty(0)</div>
<div class="line"><span class="lineno">  226</span>        n = cfun.n</div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">if</span> cfun.sparse_jacobian:</div>
<div class="line"><span class="lineno">  228</span>            empty_jac = sps.csr_matrix((0, n))</div>
<div class="line"><span class="lineno">  229</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  230</span>            empty_jac = np.empty((0, n))</div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>        finite_lb = lb &gt; -np.inf</div>
<div class="line"><span class="lineno">  233</span>        n_eq = 0</div>
<div class="line"><span class="lineno">  234</span>        n_ineq = np.sum(finite_lb)</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">if</span> np.all(finite_lb):</div>
<div class="line"><span class="lineno">  237</span>            <span class="keyword">def </span>fun(x):</div>
<div class="line"><span class="lineno">  238</span>                <span class="keywordflow">return</span> empty_fun, lb - cfun.fun(x)</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>            <span class="keyword">def </span>jac(x):</div>
<div class="line"><span class="lineno">  241</span>                <span class="keywordflow">return</span> empty_jac, -cfun.jac(x)</div>
<div class="line"><span class="lineno">  242</span> </div>
<div class="line"><span class="lineno">  243</span>            <span class="keyword">def </span>hess(x, v_eq, v_ineq):</div>
<div class="line"><span class="lineno">  244</span>                <span class="keywordflow">return</span> cfun.hess(x, -v_ineq)</div>
<div class="line"><span class="lineno">  245</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  246</span>            finite_lb = np.nonzero(finite_lb)[0]</div>
<div class="line"><span class="lineno">  247</span>            keep_feasible = keep_feasible[finite_lb]</div>
<div class="line"><span class="lineno">  248</span>            lb = lb[finite_lb]</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>            <span class="keyword">def </span>fun(x):</div>
<div class="line"><span class="lineno">  251</span>                <span class="keywordflow">return</span> empty_fun, lb - cfun.fun(x)[finite_lb]</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>            <span class="keyword">def </span>jac(x):</div>
<div class="line"><span class="lineno">  254</span>                <span class="keywordflow">return</span> empty_jac, -cfun.jac(x)[finite_lb]</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>            <span class="keyword">def </span>hess(x, v_eq, v_ineq):</div>
<div class="line"><span class="lineno">  257</span>                v = np.zeros(cfun.m)</div>
<div class="line"><span class="lineno">  258</span>                v[finite_lb] = -v_ineq</div>
<div class="line"><span class="lineno">  259</span>                <span class="keywordflow">return</span> cfun.hess(x, v)</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">return</span> cls(n_eq, n_ineq, fun, jac, hess, keep_feasible)</div>
<div class="line"><span class="lineno">  262</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a628e41babdef3952683305a385b0ea87" name="a628e41babdef3952683305a385b0ea87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a628e41babdef3952683305a385b0ea87">&#9670;&#160;</a></span>_interval_to_canonical()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint._interval_to_canonical </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cfun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keep_feasible</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  264</span>    <span class="keyword">def </span>_interval_to_canonical(cls, cfun, lb, ub, keep_feasible):</div>
<div class="line"><span class="lineno">  265</span>        lb_inf = lb == -np.inf</div>
<div class="line"><span class="lineno">  266</span>        ub_inf = ub == np.inf</div>
<div class="line"><span class="lineno">  267</span>        equal = lb == ub</div>
<div class="line"><span class="lineno">  268</span>        less = lb_inf &amp; ~ub_inf</div>
<div class="line"><span class="lineno">  269</span>        greater = ub_inf &amp; ~lb_inf</div>
<div class="line"><span class="lineno">  270</span>        interval = ~equal &amp; ~lb_inf &amp; ~ub_inf</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>        equal = np.nonzero(equal)[0]</div>
<div class="line"><span class="lineno">  273</span>        less = np.nonzero(less)[0]</div>
<div class="line"><span class="lineno">  274</span>        greater = np.nonzero(greater)[0]</div>
<div class="line"><span class="lineno">  275</span>        interval = np.nonzero(interval)[0]</div>
<div class="line"><span class="lineno">  276</span>        n_less = less.shape[0]</div>
<div class="line"><span class="lineno">  277</span>        n_greater = greater.shape[0]</div>
<div class="line"><span class="lineno">  278</span>        n_interval = interval.shape[0]</div>
<div class="line"><span class="lineno">  279</span>        n_ineq = n_less + n_greater + 2 * n_interval</div>
<div class="line"><span class="lineno">  280</span>        n_eq = equal.shape[0]</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>        keep_feasible = np.hstack((keep_feasible[less],</div>
<div class="line"><span class="lineno">  283</span>                                   keep_feasible[greater],</div>
<div class="line"><span class="lineno">  284</span>                                   keep_feasible[interval],</div>
<div class="line"><span class="lineno">  285</span>                                   keep_feasible[interval]))</div>
<div class="line"><span class="lineno">  286</span> </div>
<div class="line"><span class="lineno">  287</span>        <span class="keyword">def </span>fun(x):</div>
<div class="line"><span class="lineno">  288</span>            f = cfun.fun(x)</div>
<div class="line"><span class="lineno">  289</span>            eq = f[equal] - lb[equal]</div>
<div class="line"><span class="lineno">  290</span>            le = f[less] - ub[less]</div>
<div class="line"><span class="lineno">  291</span>            ge = lb[greater] - f[greater]</div>
<div class="line"><span class="lineno">  292</span>            il = f[interval] - ub[interval]</div>
<div class="line"><span class="lineno">  293</span>            ig = lb[interval] - f[interval]</div>
<div class="line"><span class="lineno">  294</span>            <span class="keywordflow">return</span> eq, np.hstack((le, ge, il, ig))</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>        <span class="keyword">def </span>jac(x):</div>
<div class="line"><span class="lineno">  297</span>            J = cfun.jac(x)</div>
<div class="line"><span class="lineno">  298</span>            eq = J[equal]</div>
<div class="line"><span class="lineno">  299</span>            le = J[less]</div>
<div class="line"><span class="lineno">  300</span>            ge = -J[greater]</div>
<div class="line"><span class="lineno">  301</span>            il = J[interval]</div>
<div class="line"><span class="lineno">  302</span>            ig = -il</div>
<div class="line"><span class="lineno">  303</span>            <span class="keywordflow">if</span> sps.issparse(J):</div>
<div class="line"><span class="lineno">  304</span>                ineq = sps.vstack((le, ge, il, ig))</div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  306</span>                ineq = np.vstack((le, ge, il, ig))</div>
<div class="line"><span class="lineno">  307</span>            <span class="keywordflow">return</span> eq, ineq</div>
<div class="line"><span class="lineno">  308</span> </div>
<div class="line"><span class="lineno">  309</span>        <span class="keyword">def </span>hess(x, v_eq, v_ineq):</div>
<div class="line"><span class="lineno">  310</span>            n_start = 0</div>
<div class="line"><span class="lineno">  311</span>            v_l = v_ineq[n_start:n_start + n_less]</div>
<div class="line"><span class="lineno">  312</span>            n_start += n_less</div>
<div class="line"><span class="lineno">  313</span>            v_g = v_ineq[n_start:n_start + n_greater]</div>
<div class="line"><span class="lineno">  314</span>            n_start += n_greater</div>
<div class="line"><span class="lineno">  315</span>            v_il = v_ineq[n_start:n_start + n_interval]</div>
<div class="line"><span class="lineno">  316</span>            n_start += n_interval</div>
<div class="line"><span class="lineno">  317</span>            v_ig = v_ineq[n_start:n_start + n_interval]</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>            v = np.zeros_like(lb)</div>
<div class="line"><span class="lineno">  320</span>            v[equal] = v_eq</div>
<div class="line"><span class="lineno">  321</span>            v[less] = v_l</div>
<div class="line"><span class="lineno">  322</span>            v[greater] = -v_g</div>
<div class="line"><span class="lineno">  323</span>            v[interval] = v_il - v_ig</div>
<div class="line"><span class="lineno">  324</span> </div>
<div class="line"><span class="lineno">  325</span>            <span class="keywordflow">return</span> cfun.hess(x, v)</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span>        <span class="keywordflow">return</span> cls(n_eq, n_ineq, fun, jac, hess, keep_feasible)</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9f50f421ab4affa8d399ae21088bab3c" name="a9f50f421ab4affa8d399ae21088bab3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f50f421ab4affa8d399ae21088bab3c">&#9670;&#160;</a></span>_less_to_canonical()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint._less_to_canonical </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cfun</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ub</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>keep_feasible</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  184</span>    <span class="keyword">def </span>_less_to_canonical(cls, cfun, ub, keep_feasible):</div>
<div class="line"><span class="lineno">  185</span>        empty_fun = np.empty(0)</div>
<div class="line"><span class="lineno">  186</span>        n = cfun.n</div>
<div class="line"><span class="lineno">  187</span>        <span class="keywordflow">if</span> cfun.sparse_jacobian:</div>
<div class="line"><span class="lineno">  188</span>            empty_jac = sps.csr_matrix((0, n))</div>
<div class="line"><span class="lineno">  189</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  190</span>            empty_jac = np.empty((0, n))</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>        finite_ub = ub &lt; np.inf</div>
<div class="line"><span class="lineno">  193</span>        n_eq = 0</div>
<div class="line"><span class="lineno">  194</span>        n_ineq = np.sum(finite_ub)</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>        <span class="keywordflow">if</span> np.all(finite_ub):</div>
<div class="line"><span class="lineno">  197</span>            <span class="keyword">def </span>fun(x):</div>
<div class="line"><span class="lineno">  198</span>                <span class="keywordflow">return</span> empty_fun, cfun.fun(x) - ub</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>            <span class="keyword">def </span>jac(x):</div>
<div class="line"><span class="lineno">  201</span>                <span class="keywordflow">return</span> empty_jac, cfun.jac(x)</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>            <span class="keyword">def </span>hess(x, v_eq, v_ineq):</div>
<div class="line"><span class="lineno">  204</span>                <span class="keywordflow">return</span> cfun.hess(x, v_ineq)</div>
<div class="line"><span class="lineno">  205</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  206</span>            finite_ub = np.nonzero(finite_ub)[0]</div>
<div class="line"><span class="lineno">  207</span>            keep_feasible = keep_feasible[finite_ub]</div>
<div class="line"><span class="lineno">  208</span>            ub = ub[finite_ub]</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>            <span class="keyword">def </span>fun(x):</div>
<div class="line"><span class="lineno">  211</span>                <span class="keywordflow">return</span> empty_fun, cfun.fun(x)[finite_ub] - ub</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>            <span class="keyword">def </span>jac(x):</div>
<div class="line"><span class="lineno">  214</span>                <span class="keywordflow">return</span> empty_jac, cfun.jac(x)[finite_ub]</div>
<div class="line"><span class="lineno">  215</span> </div>
<div class="line"><span class="lineno">  216</span>            <span class="keyword">def </span>hess(x, v_eq, v_ineq):</div>
<div class="line"><span class="lineno">  217</span>                v = np.zeros(cfun.m)</div>
<div class="line"><span class="lineno">  218</span>                v[finite_ub] = v_ineq</div>
<div class="line"><span class="lineno">  219</span>                <span class="keywordflow">return</span> cfun.hess(x, v)</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>        <span class="keywordflow">return</span> cls(n_eq, n_ineq, fun, jac, hess, keep_feasible)</div>
<div class="line"><span class="lineno">  222</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7104e3a946054f2abd996c9dc25d719" name="ae7104e3a946054f2abd996c9dc25d719"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7104e3a946054f2abd996c9dc25d719">&#9670;&#160;</a></span>concatenate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint.concatenate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>canonical_constraints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sparse_jacobian</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Concatenate multiple `CanonicalConstraint` into one.

`sparse_jacobian` (bool) determines the Jacobian format of the
concatenated constraint. Note that items in `canonical_constraints`
must have their Jacobians in the same format.
</pre> <div class="fragment"><div class="line"><span class="lineno">   94</span>    <span class="keyword">def </span>concatenate(cls, canonical_constraints, sparse_jacobian):</div>
<div class="line"><span class="lineno">   95</span>        <span class="stringliteral">&quot;&quot;&quot;Concatenate multiple `CanonicalConstraint` into one.</span></div>
<div class="line"><span class="lineno">   96</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   97</span><span class="stringliteral">        `sparse_jacobian` (bool) determines the Jacobian format of the</span></div>
<div class="line"><span class="lineno">   98</span><span class="stringliteral">        concatenated constraint. Note that items in `canonical_constraints`</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">        must have their Jacobians in the same format.</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  101</span>        <span class="keyword">def </span>fun(x):</div>
<div class="line"><span class="lineno">  102</span>            <span class="keywordflow">if</span> canonical_constraints:</div>
<div class="line"><span class="lineno">  103</span>                eq_all, ineq_all = zip(</div>
<div class="line"><span class="lineno">  104</span>                        *[c.fun(x) <span class="keywordflow">for</span> c <span class="keywordflow">in</span> canonical_constraints])</div>
<div class="line"><span class="lineno">  105</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  106</span>                eq_all, ineq_all = [], []</div>
<div class="line"><span class="lineno">  107</span> </div>
<div class="line"><span class="lineno">  108</span>            <span class="keywordflow">return</span> np.hstack(eq_all), np.hstack(ineq_all)</div>
<div class="line"><span class="lineno">  109</span> </div>
<div class="line"><span class="lineno">  110</span>        <span class="keywordflow">if</span> sparse_jacobian:</div>
<div class="line"><span class="lineno">  111</span>            vstack = sps.vstack</div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  113</span>            vstack = np.vstack</div>
<div class="line"><span class="lineno">  114</span> </div>
<div class="line"><span class="lineno">  115</span>        <span class="keyword">def </span>jac(x):</div>
<div class="line"><span class="lineno">  116</span>            <span class="keywordflow">if</span> canonical_constraints:</div>
<div class="line"><span class="lineno">  117</span>                eq_all, ineq_all = zip(</div>
<div class="line"><span class="lineno">  118</span>                        *[c.jac(x) <span class="keywordflow">for</span> c <span class="keywordflow">in</span> canonical_constraints])</div>
<div class="line"><span class="lineno">  119</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  120</span>                eq_all, ineq_all = [], []</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>            <span class="keywordflow">return</span> vstack(eq_all), vstack(ineq_all)</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>        <span class="keyword">def </span>hess(x, v_eq, v_ineq):</div>
<div class="line"><span class="lineno">  125</span>            hess_all = []</div>
<div class="line"><span class="lineno">  126</span>            index_eq = 0</div>
<div class="line"><span class="lineno">  127</span>            index_ineq = 0</div>
<div class="line"><span class="lineno">  128</span>            <span class="keywordflow">for</span> c <span class="keywordflow">in</span> canonical_constraints:</div>
<div class="line"><span class="lineno">  129</span>                vc_eq = v_eq[index_eq:index_eq + c.n_eq]</div>
<div class="line"><span class="lineno">  130</span>                vc_ineq = v_ineq[index_ineq:index_ineq + c.n_ineq]</div>
<div class="line"><span class="lineno">  131</span>                hess_all.append(c.hess(x, vc_eq, vc_ineq))</div>
<div class="line"><span class="lineno">  132</span>                index_eq += c.n_eq</div>
<div class="line"><span class="lineno">  133</span>                index_ineq += c.n_ineq</div>
<div class="line"><span class="lineno">  134</span> </div>
<div class="line"><span class="lineno">  135</span>            <span class="keyword">def </span>matvec(p):</div>
<div class="line"><span class="lineno">  136</span>                result = np.zeros_like(p)</div>
<div class="line"><span class="lineno">  137</span>                <span class="keywordflow">for</span> h <span class="keywordflow">in</span> hess_all:</div>
<div class="line"><span class="lineno">  138</span>                    result += h.dot(p)</div>
<div class="line"><span class="lineno">  139</span>                <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>            n = x.shape[0]</div>
<div class="line"><span class="lineno">  142</span>            <span class="keywordflow">return</span> sps.linalg.LinearOperator((n, n), matvec, dtype=float)</div>
<div class="line"><span class="lineno">  143</span> </div>
<div class="line"><span class="lineno">  144</span>        n_eq = sum(c.n_eq <span class="keywordflow">for</span> c <span class="keywordflow">in</span> canonical_constraints)</div>
<div class="line"><span class="lineno">  145</span>        n_ineq = sum(c.n_ineq <span class="keywordflow">for</span> c <span class="keywordflow">in</span> canonical_constraints)</div>
<div class="line"><span class="lineno">  146</span>        keep_feasible = np.hstack([c.keep_feasible <span class="keywordflow">for</span> c <span class="keywordflow">in</span></div>
<div class="line"><span class="lineno">  147</span>                                   canonical_constraints])</div>
<div class="line"><span class="lineno">  148</span> </div>
<div class="line"><span class="lineno">  149</span>        <span class="keywordflow">return</span> cls(n_eq, n_ineq, fun, jac, hess, keep_feasible)</div>
<div class="line"><span class="lineno">  150</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a35b3e107d30fbdd33f799afa329fc090" name="a35b3e107d30fbdd33f799afa329fc090"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35b3e107d30fbdd33f799afa329fc090">&#9670;&#160;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint.empty </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>n</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create an "empty" instance.

This "empty" instance is required to allow working with unconstrained
problems as if they have some constraints.
</pre> <div class="fragment"><div class="line"><span class="lineno">   72</span>    <span class="keyword">def </span>empty(cls, n):</div>
<div class="line"><span class="lineno">   73</span>        <span class="stringliteral">&quot;&quot;&quot;Create an &quot;empty&quot; instance.</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   75</span><span class="stringliteral">        This &quot;empty&quot; instance is required to allow working with unconstrained</span></div>
<div class="line"><span class="lineno">   76</span><span class="stringliteral">        problems as if they have some constraints.</span></div>
<div class="line"><span class="lineno">   77</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   78</span>        empty_fun = np.empty(0)</div>
<div class="line"><span class="lineno">   79</span>        empty_jac = np.empty((0, n))</div>
<div class="line"><span class="lineno">   80</span>        empty_hess = sps.csr_matrix((n, n))</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span>        <span class="keyword">def </span>fun(x):</div>
<div class="line"><span class="lineno">   83</span>            <span class="keywordflow">return</span> empty_fun, empty_fun</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>        <span class="keyword">def </span>jac(x):</div>
<div class="line"><span class="lineno">   86</span>            <span class="keywordflow">return</span> empty_jac, empty_jac</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>        <span class="keyword">def </span>hess(x, v_eq, v_ineq):</div>
<div class="line"><span class="lineno">   89</span>            <span class="keywordflow">return</span> empty_hess</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>        <span class="keywordflow">return</span> cls(0, 0, fun, jac, hess, np.empty(0, dtype=np.bool_))</div>
<div class="line"><span class="lineno">   92</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae817c2d7ce5101710aaf2e0687402c29" name="ae817c2d7ce5101710aaf2e0687402c29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae817c2d7ce5101710aaf2e0687402c29">&#9670;&#160;</a></span>from_PreparedConstraint()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint.from_PreparedConstraint </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>constraint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create an instance from `PreparedConstrained` object.</pre> <div class="fragment"><div class="line"><span class="lineno">   51</span>    <span class="keyword">def </span>from_PreparedConstraint(cls, constraint):</div>
<div class="line"><span class="lineno">   52</span>        <span class="stringliteral">&quot;&quot;&quot;Create an instance from `PreparedConstrained` object.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   53</span>        lb, ub = constraint.bounds</div>
<div class="line"><span class="lineno">   54</span>        cfun = constraint.fun</div>
<div class="line"><span class="lineno">   55</span>        keep_feasible = constraint.keep_feasible</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordflow">if</span> np.all(lb == -np.inf) <span class="keywordflow">and</span> np.all(ub == np.inf):</div>
<div class="line"><span class="lineno">   58</span>            <span class="keywordflow">return</span> cls.empty(cfun.n)</div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordflow">if</span> np.all(lb == -np.inf) <span class="keywordflow">and</span> np.all(ub == np.inf):</div>
<div class="line"><span class="lineno">   61</span>            <span class="keywordflow">return</span> cls.empty(cfun.n)</div>
<div class="line"><span class="lineno">   62</span>        <span class="keywordflow">elif</span> np.all(lb == ub):</div>
<div class="line"><span class="lineno">   63</span>            <span class="keywordflow">return</span> cls._equal_to_canonical(cfun, lb)</div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">elif</span> np.all(lb == -np.inf):</div>
<div class="line"><span class="lineno">   65</span>            <span class="keywordflow">return</span> cls._less_to_canonical(cfun, ub, keep_feasible)</div>
<div class="line"><span class="lineno">   66</span>        <span class="keywordflow">elif</span> np.all(ub == np.inf):</div>
<div class="line"><span class="lineno">   67</span>            <span class="keywordflow">return</span> cls._greater_to_canonical(cfun, lb, keep_feasible)</div>
<div class="line"><span class="lineno">   68</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   69</span>            <span class="keywordflow">return</span> cls._interval_to_canonical(cfun, lb, ub, keep_feasible)</div>
<div class="line"><span class="lineno">   70</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="afabc7c4eb35b25b50157fcc4ffbbbeee" name="afabc7c4eb35b25b50157fcc4ffbbbeee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afabc7c4eb35b25b50157fcc4ffbbbeee">&#9670;&#160;</a></span>fun</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint.fun</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3bde9d9fd812063c6abc74b2161a5812" name="a3bde9d9fd812063c6abc74b2161a5812"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bde9d9fd812063c6abc74b2161a5812">&#9670;&#160;</a></span>hess</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint.hess</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4f718d66c5eb878864aa17fd4c38bbf9" name="a4f718d66c5eb878864aa17fd4c38bbf9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f718d66c5eb878864aa17fd4c38bbf9">&#9670;&#160;</a></span>jac</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint.jac</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af79fc73ba3b39a89103a5bb311f50aee" name="af79fc73ba3b39a89103a5bb311f50aee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af79fc73ba3b39a89103a5bb311f50aee">&#9670;&#160;</a></span>keep_feasible</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint.keep_feasible</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a46802a420d798de7ad8db685c8b52cdc" name="a46802a420d798de7ad8db685c8b52cdc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a46802a420d798de7ad8db685c8b52cdc">&#9670;&#160;</a></span>n_eq</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint.n_eq</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad2a0c14e8d8b5595f51c51ca2bcdb5b2" name="ad2a0c14e8d8b5595f51c51ca2bcdb5b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2a0c14e8d8b5595f51c51ca2bcdb5b2">&#9670;&#160;</a></span>n_ineq</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">scipy.optimize._trustregion_constr.canonical_constraint.CanonicalConstraint.n_ineq</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/scipy/optimize/_trustregion_constr/<a class="el" href="canonical__constraint_8py.html">canonical_constraint.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
