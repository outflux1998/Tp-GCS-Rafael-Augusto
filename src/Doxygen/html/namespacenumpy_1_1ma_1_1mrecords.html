<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: numpy.ma.mrecords Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacenumpy.html">numpy</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1ma.html">ma</a></li><li class="navelem"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html">mrecords</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">numpy.ma.mrecords Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnumpy_1_1ma_1_1mrecords_1_1_masked_records.html">MaskedRecords</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a68e13ae5aaa382bd25d4a5a464429278" id="r_a68e13ae5aaa382bd25d4a5a464429278"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#a68e13ae5aaa382bd25d4a5a464429278">_checknames</a> (descr, names=None)</td></tr>
<tr class="separator:a68e13ae5aaa382bd25d4a5a464429278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2719cbcc7aa1b843e5be339a6d77a05a" id="r_a2719cbcc7aa1b843e5be339a6d77a05a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#a2719cbcc7aa1b843e5be339a6d77a05a">_get_fieldmask</a> (self)</td></tr>
<tr class="separator:a2719cbcc7aa1b843e5be339a6d77a05a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abf3c61009f5ebae0e15b6203af47040a" id="r_abf3c61009f5ebae0e15b6203af47040a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#abf3c61009f5ebae0e15b6203af47040a">_mrreconstruct</a> (subtype, baseclass, baseshape, basetype)</td></tr>
<tr class="separator:abf3c61009f5ebae0e15b6203af47040a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab43d191ac82715000ccf366314aae85f" id="r_ab43d191ac82715000ccf366314aae85f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#ab43d191ac82715000ccf366314aae85f">fromarrays</a> (arraylist, dtype=None, <a class="el" href="namespacenumpy_1_1ma_1_1core.html#a63d4f6a70c6dd38ef30778526006bd8d">shape</a>=None, formats=None, names=None, titles=None, aligned=False, byteorder=None, fill_value=None)</td></tr>
<tr class="memdesc:ab43d191ac82715000ccf366314aae85f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructors #.  <br /></td></tr>
<tr class="separator:ab43d191ac82715000ccf366314aae85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7679539c6cbd33be844de86aaf20c59" id="r_ac7679539c6cbd33be844de86aaf20c59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#ac7679539c6cbd33be844de86aaf20c59">fromrecords</a> (reclist, dtype=None, <a class="el" href="namespacenumpy_1_1ma_1_1core.html#a63d4f6a70c6dd38ef30778526006bd8d">shape</a>=None, formats=None, names=None, titles=None, aligned=False, byteorder=None, fill_value=None, mask=nomask)</td></tr>
<tr class="separator:ac7679539c6cbd33be844de86aaf20c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92d74f417cb061c8401460ac6ff5e39c" id="r_a92d74f417cb061c8401460ac6ff5e39c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#a92d74f417cb061c8401460ac6ff5e39c">_guessvartypes</a> (arr)</td></tr>
<tr class="separator:a92d74f417cb061c8401460ac6ff5e39c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22873edcee19db441943bb08a5bd835a" id="r_a22873edcee19db441943bb08a5bd835a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#a22873edcee19db441943bb08a5bd835a">openfile</a> (fname)</td></tr>
<tr class="separator:a22873edcee19db441943bb08a5bd835a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d9da83254e36e3a75ad5ba0575939ef" id="r_a3d9da83254e36e3a75ad5ba0575939ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#a3d9da83254e36e3a75ad5ba0575939ef">fromtextfile</a> (fname, delimiter=None, commentchar='#', missingchar='', varnames=None, vartypes=None, *delimitor=np._NoValue)</td></tr>
<tr class="separator:a3d9da83254e36e3a75ad5ba0575939ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e597e56b466573582f685d159ad17df" id="r_a9e597e56b466573582f685d159ad17df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#a9e597e56b466573582f685d159ad17df">addfield</a> (mrecord, newfield, newfieldname=None)</td></tr>
<tr class="separator:a9e597e56b466573582f685d159ad17df"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a115deb8111b11bc6b05885f797871d6a" id="r_a115deb8111b11bc6b05885f797871d6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#a115deb8111b11bc6b05885f797871d6a">_byteorderconv</a> = np.core.records._byteorderconv</td></tr>
<tr class="separator:a115deb8111b11bc6b05885f797871d6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589665a6d3666dd4963eb3a4ae019309" id="r_a589665a6d3666dd4963eb3a4ae019309"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#a589665a6d3666dd4963eb3a4ae019309">_check_fill_value</a> = ma.core._check_fill_value</td></tr>
<tr class="separator:a589665a6d3666dd4963eb3a4ae019309"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0a8e652e3538ad61d3d990d72e6c226" id="r_ab0a8e652e3538ad61d3d990d72e6c226"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#ab0a8e652e3538ad61d3d990d72e6c226">reserved_fields</a> = ['_data', '_mask', '_fieldmask', 'dtype']</td></tr>
<tr class="separator:ab0a8e652e3538ad61d3d990d72e6c226"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a208e716532e0db541eb2398f5ab12135" id="r_a208e716532e0db541eb2398f5ab12135"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacenumpy_1_1ma_1_1mrecords.html#a208e716532e0db541eb2398f5ab12135">mrecarray</a> = <a class="el" href="classnumpy_1_1ma_1_1mrecords_1_1_masked_records.html">MaskedRecords</a></td></tr>
<tr class="separator:a208e716532e0db541eb2398f5ab12135"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">:mod:`numpy.ma..mrecords`

Defines the equivalent of :class:`numpy.recarrays` for masked arrays,
where fields can be accessed as attributes.
Note that :class:`numpy.ma.MaskedArray` already supports structured datatypes
and the masking of individual fields.

.. moduleauthor:: Pierre Gerard-Marchant</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a68e13ae5aaa382bd25d4a5a464429278" name="a68e13ae5aaa382bd25d4a5a464429278"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68e13ae5aaa382bd25d4a5a464429278">&#9670;&#160;</a></span>_checknames()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords._checknames </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>descr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>names</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Checks that field names ``descr`` are not reserved keywords.

If this is the case, a default 'f%i' is substituted.  If the argument
`names` is not None, updates the field names to valid names.</pre> <div class="fragment"><div class="line"><span class="lineno">   45</span><span class="keyword">def </span>_checknames(descr, names=None):</div>
<div class="line"><span class="lineno">   46</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   47</span><span class="stringliteral">    Checks that field names ``descr`` are not reserved keywords.</span></div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral">    If this is the case, a default &#39;f%i&#39; is substituted.  If the argument</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">    `names` is not None, updates the field names to valid names.</span></div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   52</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   53</span>    ndescr = len(descr)</div>
<div class="line"><span class="lineno">   54</span>    default_names = [<span class="stringliteral">&#39;f%i&#39;</span> % i <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(ndescr)]</div>
<div class="line"><span class="lineno">   55</span>    <span class="keywordflow">if</span> names <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   56</span>        new_names = default_names</div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordflow">if</span> isinstance(names, (tuple, list)):</div>
<div class="line"><span class="lineno">   59</span>            new_names = names</div>
<div class="line"><span class="lineno">   60</span>        <span class="keywordflow">elif</span> isinstance(names, str):</div>
<div class="line"><span class="lineno">   61</span>            new_names = names.split(<span class="stringliteral">&#39;,&#39;</span>)</div>
<div class="line"><span class="lineno">   62</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   63</span>            <span class="keywordflow">raise</span> NameError(f<span class="stringliteral">&#39;illegal input names {names!r}&#39;</span>)</div>
<div class="line"><span class="lineno">   64</span>        nnames = len(new_names)</div>
<div class="line"><span class="lineno">   65</span>        <span class="keywordflow">if</span> nnames &lt; ndescr:</div>
<div class="line"><span class="lineno">   66</span>            new_names += default_names[nnames:]</div>
<div class="line"><span class="lineno">   67</span>    ndescr = []</div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">for</span> (n, d, t) <span class="keywordflow">in</span> zip(new_names, default_names, descr.descr):</div>
<div class="line"><span class="lineno">   69</span>        <span class="keywordflow">if</span> n <span class="keywordflow">in</span> reserved_fields:</div>
<div class="line"><span class="lineno">   70</span>            <span class="keywordflow">if</span> t[0] <span class="keywordflow">in</span> reserved_fields:</div>
<div class="line"><span class="lineno">   71</span>                ndescr.append((d, t[1]))</div>
<div class="line"><span class="lineno">   72</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   73</span>                ndescr.append(t)</div>
<div class="line"><span class="lineno">   74</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   75</span>            ndescr.append((n, t[1]))</div>
<div class="line"><span class="lineno">   76</span>    <span class="keywordflow">return</span> np.dtype(ndescr)</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2719cbcc7aa1b843e5be339a6d77a05a" name="a2719cbcc7aa1b843e5be339a6d77a05a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2719cbcc7aa1b843e5be339a6d77a05a">&#9670;&#160;</a></span>_get_fieldmask()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords._get_fieldmask </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   79</span><span class="keyword">def </span>_get_fieldmask(self):</div>
<div class="line"><span class="lineno">   80</span>    mdescr = [(n, <span class="stringliteral">&#39;|b1&#39;</span>) <span class="keywordflow">for</span> n <span class="keywordflow">in</span> self.dtype.names]</div>
<div class="line"><span class="lineno">   81</span>    fdmask = np.empty(self.shape, dtype=mdescr)</div>
<div class="line"><span class="lineno">   82</span>    fdmask.flat = tuple([<span class="keyword">False</span>] * len(mdescr))</div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">return</span> fdmask</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a92d74f417cb061c8401460ac6ff5e39c" name="a92d74f417cb061c8401460ac6ff5e39c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d74f417cb061c8401460ac6ff5e39c">&#9670;&#160;</a></span>_guessvartypes()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords._guessvartypes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Tries to guess the dtypes of the str_ ndarray `arr`.

Guesses by testing element-wise conversion. Returns a list of dtypes.
The array is first converted to ndarray. If the array is 2D, the test
is performed on the first line. An exception is raised if the file is
3D or more.</pre> <div class="fragment"><div class="line"><span class="lineno">  612</span><span class="keyword">def </span>_guessvartypes(arr):</div>
<div class="line"><span class="lineno">  613</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  614</span><span class="stringliteral">    Tries to guess the dtypes of the str_ ndarray `arr`.</span></div>
<div class="line"><span class="lineno">  615</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  616</span><span class="stringliteral">    Guesses by testing element-wise conversion. Returns a list of dtypes.</span></div>
<div class="line"><span class="lineno">  617</span><span class="stringliteral">    The array is first converted to ndarray. If the array is 2D, the test</span></div>
<div class="line"><span class="lineno">  618</span><span class="stringliteral">    is performed on the first line. An exception is raised if the file is</span></div>
<div class="line"><span class="lineno">  619</span><span class="stringliteral">    3D or more.</span></div>
<div class="line"><span class="lineno">  620</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  621</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  622</span>    vartypes = []</div>
<div class="line"><span class="lineno">  623</span>    arr = np.asarray(arr)</div>
<div class="line"><span class="lineno">  624</span>    <span class="keywordflow">if</span> arr.ndim == 2:</div>
<div class="line"><span class="lineno">  625</span>        arr = arr[0]</div>
<div class="line"><span class="lineno">  626</span>    <span class="keywordflow">elif</span> arr.ndim &gt; 2:</div>
<div class="line"><span class="lineno">  627</span>        <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;The array should be 2D at most!&quot;</span>)</div>
<div class="line"><span class="lineno">  628</span>    <span class="comment"># Start the conversion loop.</span></div>
<div class="line"><span class="lineno">  629</span>    <span class="keywordflow">for</span> f <span class="keywordflow">in</span> arr:</div>
<div class="line"><span class="lineno">  630</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  631</span>            int(f)</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">except</span> (ValueError, TypeError):</div>
<div class="line"><span class="lineno">  633</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  634</span>                float(f)</div>
<div class="line"><span class="lineno">  635</span>            <span class="keywordflow">except</span> (ValueError, TypeError):</div>
<div class="line"><span class="lineno">  636</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  637</span>                    complex(f)</div>
<div class="line"><span class="lineno">  638</span>                <span class="keywordflow">except</span> (ValueError, TypeError):</div>
<div class="line"><span class="lineno">  639</span>                    vartypes.append(arr.dtype)</div>
<div class="line"><span class="lineno">  640</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  641</span>                    vartypes.append(np.dtype(complex))</div>
<div class="line"><span class="lineno">  642</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  643</span>                vartypes.append(np.dtype(float))</div>
<div class="line"><span class="lineno">  644</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  645</span>            vartypes.append(np.dtype(int))</div>
<div class="line"><span class="lineno">  646</span>    <span class="keywordflow">return</span> vartypes</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abf3c61009f5ebae0e15b6203af47040a" name="abf3c61009f5ebae0e15b6203af47040a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf3c61009f5ebae0e15b6203af47040a">&#9670;&#160;</a></span>_mrreconstruct()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords._mrreconstruct </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>baseclass</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>baseshape</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>basetype</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Build a new MaskedArray from the information stored in a pickle.</pre> <div class="fragment"><div class="line"><span class="lineno">  487</span><span class="keyword">def </span>_mrreconstruct(subtype, baseclass, baseshape, basetype,):</div>
<div class="line"><span class="lineno">  488</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  489</span><span class="stringliteral">    Build a new MaskedArray from the information stored in a pickle.</span></div>
<div class="line"><span class="lineno">  490</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  491</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  492</span>    _data = ndarray.__new__(baseclass, baseshape, basetype).view(subtype)</div>
<div class="line"><span class="lineno">  493</span>    _mask = ndarray.__new__(ndarray, baseshape, <span class="stringliteral">&#39;b1&#39;</span>)</div>
<div class="line"><span class="lineno">  494</span>    <span class="keywordflow">return</span> subtype.__new__(subtype, _data, mask=_mask, dtype=basetype,)</div>
<div class="line"><span class="lineno">  495</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e597e56b466573582f685d159ad17df" name="a9e597e56b466573582f685d159ad17df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e597e56b466573582f685d159ad17df">&#9670;&#160;</a></span>addfield()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords.addfield </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mrecord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>newfield</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>newfieldname</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Adds a new field to the masked record array

Uses `newfield` as data and `newfieldname` as name. If `newfieldname`
is None, the new field name is set to 'fi', where `i` is the number of
existing fields.</pre> <div class="fragment"><div class="line"><span class="lineno">  749</span><span class="keyword">def </span>addfield(mrecord, newfield, newfieldname=None):</div>
<div class="line"><span class="lineno">  750</span>    <span class="stringliteral">&quot;&quot;&quot;Adds a new field to the masked record array</span></div>
<div class="line"><span class="lineno">  751</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  752</span><span class="stringliteral">    Uses `newfield` as data and `newfieldname` as name. If `newfieldname`</span></div>
<div class="line"><span class="lineno">  753</span><span class="stringliteral">    is None, the new field name is set to &#39;fi&#39;, where `i` is the number of</span></div>
<div class="line"><span class="lineno">  754</span><span class="stringliteral">    existing fields.</span></div>
<div class="line"><span class="lineno">  755</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  756</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  757</span>    _data = mrecord._data</div>
<div class="line"><span class="lineno">  758</span>    _mask = mrecord._mask</div>
<div class="line"><span class="lineno">  759</span>    <span class="keywordflow">if</span> newfieldname <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> newfieldname <span class="keywordflow">in</span> reserved_fields:</div>
<div class="line"><span class="lineno">  760</span>        newfieldname = <span class="stringliteral">&#39;f%i&#39;</span> % len(_data.dtype)</div>
<div class="line"><span class="lineno">  761</span>    newfield = ma.array(newfield)</div>
<div class="line"><span class="lineno">  762</span>    <span class="comment"># Get the new data.</span></div>
<div class="line"><span class="lineno">  763</span>    <span class="comment"># Create a new empty recarray</span></div>
<div class="line"><span class="lineno">  764</span>    newdtype = np.dtype(_data.dtype.descr + [(newfieldname, newfield.dtype)])</div>
<div class="line"><span class="lineno">  765</span>    newdata = recarray(_data.shape, newdtype)</div>
<div class="line"><span class="lineno">  766</span>    <span class="comment"># Add the existing field</span></div>
<div class="line"><span class="lineno">  767</span>    [newdata.setfield(_data.getfield(*f), *f)</div>
<div class="line"><span class="lineno">  768</span>     <span class="keywordflow">for</span> f <span class="keywordflow">in</span> _data.dtype.fields.values()]</div>
<div class="line"><span class="lineno">  769</span>    <span class="comment"># Add the new field</span></div>
<div class="line"><span class="lineno">  770</span>    newdata.setfield(newfield._data, *newdata.dtype.fields[newfieldname])</div>
<div class="line"><span class="lineno">  771</span>    newdata = newdata.view(MaskedRecords)</div>
<div class="line"><span class="lineno">  772</span>    <span class="comment"># Get the new mask</span></div>
<div class="line"><span class="lineno">  773</span>    <span class="comment"># Create a new empty recarray</span></div>
<div class="line"><span class="lineno">  774</span>    newmdtype = np.dtype([(n, bool_) <span class="keywordflow">for</span> n <span class="keywordflow">in</span> newdtype.names])</div>
<div class="line"><span class="lineno">  775</span>    newmask = recarray(_data.shape, newmdtype)</div>
<div class="line"><span class="lineno">  776</span>    <span class="comment"># Add the old masks</span></div>
<div class="line"><span class="lineno">  777</span>    [newmask.setfield(_mask.getfield(*f), *f)</div>
<div class="line"><span class="lineno">  778</span>     <span class="keywordflow">for</span> f <span class="keywordflow">in</span> _mask.dtype.fields.values()]</div>
<div class="line"><span class="lineno">  779</span>    <span class="comment"># Add the mask of the new field</span></div>
<div class="line"><span class="lineno">  780</span>    newmask.setfield(getmaskarray(newfield),</div>
<div class="line"><span class="lineno">  781</span>                     *newmask.dtype.fields[newfieldname])</div>
<div class="line"><span class="lineno">  782</span>    newdata._mask = newmask</div>
<div class="line"><span class="lineno">  783</span>    <span class="keywordflow">return</span> newdata</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab43d191ac82715000ccf366314aae85f" name="ab43d191ac82715000ccf366314aae85f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab43d191ac82715000ccf366314aae85f">&#9670;&#160;</a></span>fromarrays()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords.fromarrays </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>arraylist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shape</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>formats</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>names</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>titles</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aligned</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>byteorder</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fill_value</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructors #. </p>
<pre class="fragment">Creates a mrecarray from a (flat) list of masked arrays.

Parameters
----------
arraylist : sequence
    A list of (masked) arrays. Each element of the sequence is first converted
    to a masked array if needed. If a 2D array is passed as argument, it is
    processed line by line
dtype : {None, dtype}, optional
    Data type descriptor.
shape : {None, integer}, optional
    Number of records. If None, shape is defined from the shape of the
    first array in the list.
formats : {None, sequence}, optional
    Sequence of formats for each individual field. If None, the formats will
    be autodetected by inspecting the fields and selecting the highest dtype
    possible.
names : {None, sequence}, optional
    Sequence of the names of each field.
fill_value : {None, sequence}, optional
    Sequence of data to be used as filling values.

Notes
-----
Lists of tuples should be preferred over lists of lists for faster processing.</pre> <div class="fragment"><div class="line"><span class="lineno">  506</span>               fill_value=<span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno">  507</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral">    Creates a mrecarray from a (flat) list of masked arrays.</span></div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  512</span><span class="stringliteral">    arraylist : sequence</span></div>
<div class="line"><span class="lineno">  513</span><span class="stringliteral">        A list of (masked) arrays. Each element of the sequence is first converted</span></div>
<div class="line"><span class="lineno">  514</span><span class="stringliteral">        to a masked array if needed. If a 2D array is passed as argument, it is</span></div>
<div class="line"><span class="lineno">  515</span><span class="stringliteral">        processed line by line</span></div>
<div class="line"><span class="lineno">  516</span><span class="stringliteral">    dtype : {None, dtype}, optional</span></div>
<div class="line"><span class="lineno">  517</span><span class="stringliteral">        Data type descriptor.</span></div>
<div class="line"><span class="lineno">  518</span><span class="stringliteral">    shape : {None, integer}, optional</span></div>
<div class="line"><span class="lineno">  519</span><span class="stringliteral">        Number of records. If None, shape is defined from the shape of the</span></div>
<div class="line"><span class="lineno">  520</span><span class="stringliteral">        first array in the list.</span></div>
<div class="line"><span class="lineno">  521</span><span class="stringliteral">    formats : {None, sequence}, optional</span></div>
<div class="line"><span class="lineno">  522</span><span class="stringliteral">        Sequence of formats for each individual field. If None, the formats will</span></div>
<div class="line"><span class="lineno">  523</span><span class="stringliteral">        be autodetected by inspecting the fields and selecting the highest dtype</span></div>
<div class="line"><span class="lineno">  524</span><span class="stringliteral">        possible.</span></div>
<div class="line"><span class="lineno">  525</span><span class="stringliteral">    names : {None, sequence}, optional</span></div>
<div class="line"><span class="lineno">  526</span><span class="stringliteral">        Sequence of the names of each field.</span></div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral">    fill_value : {None, sequence}, optional</span></div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral">        Sequence of data to be used as filling values.</span></div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  531</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  532</span><span class="stringliteral">    Lists of tuples should be preferred over lists of lists for faster processing.</span></div>
<div class="line"><span class="lineno">  533</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  534</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  535</span>    datalist = [getdata(x) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> arraylist]</div>
<div class="line"><span class="lineno">  536</span>    masklist = [np.atleast_1d(getmaskarray(x)) <span class="keywordflow">for</span> x <span class="keywordflow">in</span> arraylist]</div>
<div class="line"><span class="lineno">  537</span>    _array = recfromarrays(datalist,</div>
<div class="line"><span class="lineno">  538</span>                           dtype=dtype, shape=shape, formats=formats,</div>
<div class="line"><span class="lineno">  539</span>                           names=names, titles=titles, aligned=aligned,</div>
<div class="line"><span class="lineno">  540</span>                           byteorder=byteorder).view(mrecarray)</div>
<div class="line"><span class="lineno">  541</span>    _array._mask.flat = list(zip(*masklist))</div>
<div class="line"><span class="lineno">  542</span>    <span class="keywordflow">if</span> fill_value <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  543</span>        _array.fill_value = fill_value</div>
<div class="line"><span class="lineno">  544</span>    <span class="keywordflow">return</span> _array</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac7679539c6cbd33be844de86aaf20c59" name="ac7679539c6cbd33be844de86aaf20c59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7679539c6cbd33be844de86aaf20c59">&#9670;&#160;</a></span>fromrecords()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords.fromrecords </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reclist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dtype</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shape</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>formats</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>names</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>titles</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aligned</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>byteorder</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fill_value</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mask</em> = <code>nomask</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates a MaskedRecords from a list of records.

Parameters
----------
reclist : sequence
    A list of records. Each element of the sequence is first converted
    to a masked array if needed. If a 2D array is passed as argument, it is
    processed line by line
dtype : {None, dtype}, optional
    Data type descriptor.
shape : {None,int}, optional
    Number of records. If None, ``shape`` is defined from the shape of the
    first array in the list.
formats : {None, sequence}, optional
    Sequence of formats for each individual field. If None, the formats will
    be autodetected by inspecting the fields and selecting the highest dtype
    possible.
names : {None, sequence}, optional
    Sequence of the names of each field.
fill_value : {None, sequence}, optional
    Sequence of data to be used as filling values.
mask : {nomask, sequence}, optional.
    External mask to apply on the data.

Notes
-----
Lists of tuples should be preferred over lists of lists for faster processing.</pre> <div class="fragment"><div class="line"><span class="lineno">  549</span>                fill_value=<span class="keywordtype">None</span>, mask=nomask):</div>
<div class="line"><span class="lineno">  550</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  551</span><span class="stringliteral">    Creates a MaskedRecords from a list of records.</span></div>
<div class="line"><span class="lineno">  552</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  553</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  554</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  555</span><span class="stringliteral">    reclist : sequence</span></div>
<div class="line"><span class="lineno">  556</span><span class="stringliteral">        A list of records. Each element of the sequence is first converted</span></div>
<div class="line"><span class="lineno">  557</span><span class="stringliteral">        to a masked array if needed. If a 2D array is passed as argument, it is</span></div>
<div class="line"><span class="lineno">  558</span><span class="stringliteral">        processed line by line</span></div>
<div class="line"><span class="lineno">  559</span><span class="stringliteral">    dtype : {None, dtype}, optional</span></div>
<div class="line"><span class="lineno">  560</span><span class="stringliteral">        Data type descriptor.</span></div>
<div class="line"><span class="lineno">  561</span><span class="stringliteral">    shape : {None,int}, optional</span></div>
<div class="line"><span class="lineno">  562</span><span class="stringliteral">        Number of records. If None, ``shape`` is defined from the shape of the</span></div>
<div class="line"><span class="lineno">  563</span><span class="stringliteral">        first array in the list.</span></div>
<div class="line"><span class="lineno">  564</span><span class="stringliteral">    formats : {None, sequence}, optional</span></div>
<div class="line"><span class="lineno">  565</span><span class="stringliteral">        Sequence of formats for each individual field. If None, the formats will</span></div>
<div class="line"><span class="lineno">  566</span><span class="stringliteral">        be autodetected by inspecting the fields and selecting the highest dtype</span></div>
<div class="line"><span class="lineno">  567</span><span class="stringliteral">        possible.</span></div>
<div class="line"><span class="lineno">  568</span><span class="stringliteral">    names : {None, sequence}, optional</span></div>
<div class="line"><span class="lineno">  569</span><span class="stringliteral">        Sequence of the names of each field.</span></div>
<div class="line"><span class="lineno">  570</span><span class="stringliteral">    fill_value : {None, sequence}, optional</span></div>
<div class="line"><span class="lineno">  571</span><span class="stringliteral">        Sequence of data to be used as filling values.</span></div>
<div class="line"><span class="lineno">  572</span><span class="stringliteral">    mask : {nomask, sequence}, optional.</span></div>
<div class="line"><span class="lineno">  573</span><span class="stringliteral">        External mask to apply on the data.</span></div>
<div class="line"><span class="lineno">  574</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  575</span><span class="stringliteral">    Notes</span></div>
<div class="line"><span class="lineno">  576</span><span class="stringliteral">    -----</span></div>
<div class="line"><span class="lineno">  577</span><span class="stringliteral">    Lists of tuples should be preferred over lists of lists for faster processing.</span></div>
<div class="line"><span class="lineno">  578</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  579</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  580</span>    <span class="comment"># Grab the initial _fieldmask, if needed:</span></div>
<div class="line"><span class="lineno">  581</span>    _mask = getattr(reclist, <span class="stringliteral">&#39;_mask&#39;</span>, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  582</span>    <span class="comment"># Get the list of records.</span></div>
<div class="line"><span class="lineno">  583</span>    <span class="keywordflow">if</span> isinstance(reclist, ndarray):</div>
<div class="line"><span class="lineno">  584</span>        <span class="comment"># Make sure we don&#39;t have some hidden mask</span></div>
<div class="line"><span class="lineno">  585</span>        <span class="keywordflow">if</span> isinstance(reclist, MaskedArray):</div>
<div class="line"><span class="lineno">  586</span>            reclist = reclist.filled().view(ndarray)</div>
<div class="line"><span class="lineno">  587</span>        <span class="comment"># Grab the initial dtype, just in case</span></div>
<div class="line"><span class="lineno">  588</span>        <span class="keywordflow">if</span> dtype <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  589</span>            dtype = reclist.dtype</div>
<div class="line"><span class="lineno">  590</span>        reclist = reclist.tolist()</div>
<div class="line"><span class="lineno">  591</span>    mrec = recfromrecords(reclist, dtype=dtype, shape=shape, formats=formats,</div>
<div class="line"><span class="lineno">  592</span>                          names=names, titles=titles,</div>
<div class="line"><span class="lineno">  593</span>                          aligned=aligned, byteorder=byteorder).view(mrecarray)</div>
<div class="line"><span class="lineno">  594</span>    <span class="comment"># Set the fill_value if needed</span></div>
<div class="line"><span class="lineno">  595</span>    <span class="keywordflow">if</span> fill_value <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  596</span>        mrec.fill_value = fill_value</div>
<div class="line"><span class="lineno">  597</span>    <span class="comment"># Now, let&#39;s deal w/ the mask</span></div>
<div class="line"><span class="lineno">  598</span>    <span class="keywordflow">if</span> mask <span class="keywordflow">is</span> <span class="keywordflow">not</span> nomask:</div>
<div class="line"><span class="lineno">  599</span>        mask = np.array(mask, copy=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  600</span>        maskrecordlength = len(mask.dtype)</div>
<div class="line"><span class="lineno">  601</span>        <span class="keywordflow">if</span> maskrecordlength:</div>
<div class="line"><span class="lineno">  602</span>            mrec._mask.flat = mask</div>
<div class="line"><span class="lineno">  603</span>        <span class="keywordflow">elif</span> mask.ndim == 2:</div>
<div class="line"><span class="lineno">  604</span>            mrec._mask.flat = [tuple(m) <span class="keywordflow">for</span> m <span class="keywordflow">in</span> mask]</div>
<div class="line"><span class="lineno">  605</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  606</span>            mrec.__setmask__(mask)</div>
<div class="line"><span class="lineno">  607</span>    <span class="keywordflow">if</span> _mask <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  608</span>        mrec._mask[:] = _mask</div>
<div class="line"><span class="lineno">  609</span>    <span class="keywordflow">return</span> mrec</div>
<div class="line"><span class="lineno">  610</span> </div>
<div class="line"><span class="lineno">  611</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d9da83254e36e3a75ad5ba0575939ef" name="a3d9da83254e36e3a75ad5ba0575939ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d9da83254e36e3a75ad5ba0575939ef">&#9670;&#160;</a></span>fromtextfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords.fromtextfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>delimiter</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>commentchar</em> = <code>'#'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>missingchar</em> = <code>''</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>varnames</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vartypes</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>delimitor</em> = <code>np._NoValue</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates a mrecarray from data stored in the file `filename`.

Parameters
----------
fname : {file name/handle}
    Handle of an opened file.
delimiter : {None, string}, optional
    Alphanumeric character used to separate columns in the file.
    If None, any (group of) white spacestring(s) will be used.
commentchar : {'#', string}, optional
    Alphanumeric character used to mark the start of a comment.
missingchar : {'', string}, optional
    String indicating missing data, and used to create the masks.
varnames : {None, sequence}, optional
    Sequence of the variable names. If None, a list will be created from
    the first non empty line of the file.
vartypes : {None, sequence}, optional
    Sequence of the variables dtypes. If None, it will be estimated from
    the first non-commented line.


Ultra simple: the varnames are in the header, one line</pre> <div class="fragment"><div class="line"><span class="lineno">  671</span>                 *, delimitor=np._NoValue):  <span class="comment"># backwards compatibility</span></div>
<div class="line"><span class="lineno">  672</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  673</span><span class="stringliteral">    Creates a mrecarray from data stored in the file `filename`.</span></div>
<div class="line"><span class="lineno">  674</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  675</span><span class="stringliteral">    Parameters</span></div>
<div class="line"><span class="lineno">  676</span><span class="stringliteral">    ----------</span></div>
<div class="line"><span class="lineno">  677</span><span class="stringliteral">    fname : {file name/handle}</span></div>
<div class="line"><span class="lineno">  678</span><span class="stringliteral">        Handle of an opened file.</span></div>
<div class="line"><span class="lineno">  679</span><span class="stringliteral">    delimiter : {None, string}, optional</span></div>
<div class="line"><span class="lineno">  680</span><span class="stringliteral">        Alphanumeric character used to separate columns in the file.</span></div>
<div class="line"><span class="lineno">  681</span><span class="stringliteral">        If None, any (group of) white spacestring(s) will be used.</span></div>
<div class="line"><span class="lineno">  682</span><span class="stringliteral">    commentchar : {&#39;#&#39;, string}, optional</span></div>
<div class="line"><span class="lineno">  683</span><span class="stringliteral">        Alphanumeric character used to mark the start of a comment.</span></div>
<div class="line"><span class="lineno">  684</span><span class="stringliteral">    missingchar : {&#39;&#39;, string}, optional</span></div>
<div class="line"><span class="lineno">  685</span><span class="stringliteral">        String indicating missing data, and used to create the masks.</span></div>
<div class="line"><span class="lineno">  686</span><span class="stringliteral">    varnames : {None, sequence}, optional</span></div>
<div class="line"><span class="lineno">  687</span><span class="stringliteral">        Sequence of the variable names. If None, a list will be created from</span></div>
<div class="line"><span class="lineno">  688</span><span class="stringliteral">        the first non empty line of the file.</span></div>
<div class="line"><span class="lineno">  689</span><span class="stringliteral">    vartypes : {None, sequence}, optional</span></div>
<div class="line"><span class="lineno">  690</span><span class="stringliteral">        Sequence of the variables dtypes. If None, it will be estimated from</span></div>
<div class="line"><span class="lineno">  691</span><span class="stringliteral">        the first non-commented line.</span></div>
<div class="line"><span class="lineno">  692</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  693</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  694</span><span class="stringliteral">    Ultra simple: the varnames are in the header, one line&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  695</span>    <span class="keywordflow">if</span> delimitor <span class="keywordflow">is</span> <span class="keywordflow">not</span> np._NoValue:</div>
<div class="line"><span class="lineno">  696</span>        <span class="keywordflow">if</span> delimiter <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  697</span>            <span class="keywordflow">raise</span> TypeError(<span class="stringliteral">&quot;fromtextfile() got multiple values for argument &quot;</span></div>
<div class="line"><span class="lineno">  698</span>                            <span class="stringliteral">&quot;&#39;delimiter&#39;&quot;</span>)</div>
<div class="line"><span class="lineno">  699</span>        <span class="comment"># NumPy 1.22.0, 2021-09-23</span></div>
<div class="line"><span class="lineno">  700</span>        warnings.warn(<span class="stringliteral">&quot;The &#39;delimitor&#39; keyword argument of &quot;</span></div>
<div class="line"><span class="lineno">  701</span>                      <span class="stringliteral">&quot;numpy.ma.mrecords.fromtextfile() is deprecated &quot;</span></div>
<div class="line"><span class="lineno">  702</span>                      <span class="stringliteral">&quot;since NumPy 1.22.0, use &#39;delimiter&#39; instead.&quot;</span>,</div>
<div class="line"><span class="lineno">  703</span>                      DeprecationWarning, stacklevel=2)</div>
<div class="line"><span class="lineno">  704</span>        delimiter = delimitor</div>
<div class="line"><span class="lineno">  705</span> </div>
<div class="line"><span class="lineno">  706</span>    <span class="comment"># Try to open the file.</span></div>
<div class="line"><span class="lineno">  707</span>    ftext = openfile(fname)</div>
<div class="line"><span class="lineno">  708</span> </div>
<div class="line"><span class="lineno">  709</span>    <span class="comment"># Get the first non-empty line as the varnames</span></div>
<div class="line"><span class="lineno">  710</span>    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  711</span>        line = ftext.readline()</div>
<div class="line"><span class="lineno">  712</span>        firstline = line[:line.find(commentchar)].strip()</div>
<div class="line"><span class="lineno">  713</span>        _varnames = firstline.split(delimiter)</div>
<div class="line"><span class="lineno">  714</span>        <span class="keywordflow">if</span> len(_varnames) &gt; 1:</div>
<div class="line"><span class="lineno">  715</span>            <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  716</span>    <span class="keywordflow">if</span> varnames <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  717</span>        varnames = _varnames</div>
<div class="line"><span class="lineno">  718</span> </div>
<div class="line"><span class="lineno">  719</span>    <span class="comment"># Get the data.</span></div>
<div class="line"><span class="lineno">  720</span>    _variables = masked_array([line.strip().split(delimiter) <span class="keywordflow">for</span> line <span class="keywordflow">in</span> ftext</div>
<div class="line"><span class="lineno">  721</span>                               <span class="keywordflow">if</span> line[0] != commentchar <span class="keywordflow">and</span> len(line) &gt; 1])</div>
<div class="line"><span class="lineno">  722</span>    (_, nfields) = _variables.shape</div>
<div class="line"><span class="lineno">  723</span>    ftext.close()</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>    <span class="comment"># Try to guess the dtype.</span></div>
<div class="line"><span class="lineno">  726</span>    <span class="keywordflow">if</span> vartypes <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  727</span>        vartypes = _guessvartypes(_variables[0])</div>
<div class="line"><span class="lineno">  728</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  729</span>        vartypes = [np.dtype(v) <span class="keywordflow">for</span> v <span class="keywordflow">in</span> vartypes]</div>
<div class="line"><span class="lineno">  730</span>        <span class="keywordflow">if</span> len(vartypes) != nfields:</div>
<div class="line"><span class="lineno">  731</span>            msg = <span class="stringliteral">&quot;Attempting to %i dtypes for %i fields!&quot;</span></div>
<div class="line"><span class="lineno">  732</span>            msg += <span class="stringliteral">&quot; Reverting to default.&quot;</span></div>
<div class="line"><span class="lineno">  733</span>            warnings.warn(msg % (len(vartypes), nfields), stacklevel=2)</div>
<div class="line"><span class="lineno">  734</span>            vartypes = _guessvartypes(_variables[0])</div>
<div class="line"><span class="lineno">  735</span> </div>
<div class="line"><span class="lineno">  736</span>    <span class="comment"># Construct the descriptor.</span></div>
<div class="line"><span class="lineno">  737</span>    mdescr = [(n, f) <span class="keywordflow">for</span> (n, f) <span class="keywordflow">in</span> zip(varnames, vartypes)]</div>
<div class="line"><span class="lineno">  738</span>    mfillv = [ma.default_fill_value(f) <span class="keywordflow">for</span> f <span class="keywordflow">in</span> vartypes]</div>
<div class="line"><span class="lineno">  739</span> </div>
<div class="line"><span class="lineno">  740</span>    <span class="comment"># Get the data and the mask.</span></div>
<div class="line"><span class="lineno">  741</span>    <span class="comment"># We just need a list of masked_arrays. It&#39;s easier to create it like that:</span></div>
<div class="line"><span class="lineno">  742</span>    _mask = (_variables.T == missingchar)</div>
<div class="line"><span class="lineno">  743</span>    _datalist = [masked_array(a, mask=m, dtype=t, fill_value=f)</div>
<div class="line"><span class="lineno">  744</span>                 <span class="keywordflow">for</span> (a, m, t, f) <span class="keywordflow">in</span> zip(_variables.T, _mask, vartypes, mfillv)]</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span>    <span class="keywordflow">return</span> fromarrays(_datalist, dtype=mdescr)</div>
<div class="line"><span class="lineno">  747</span> </div>
<div class="line"><span class="lineno">  748</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a22873edcee19db441943bb08a5bd835a" name="a22873edcee19db441943bb08a5bd835a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22873edcee19db441943bb08a5bd835a">&#9670;&#160;</a></span>openfile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords.openfile </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Opens the file handle of file `fname`.</pre> <div class="fragment"><div class="line"><span class="lineno">  649</span><span class="keyword">def </span>openfile(fname):</div>
<div class="line"><span class="lineno">  650</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  651</span><span class="stringliteral">    Opens the file handle of file `fname`.</span></div>
<div class="line"><span class="lineno">  652</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  653</span><span class="stringliteral">    &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  654</span>    <span class="comment"># A file handle</span></div>
<div class="line"><span class="lineno">  655</span>    <span class="keywordflow">if</span> hasattr(fname, <span class="stringliteral">&#39;readline&#39;</span>):</div>
<div class="line"><span class="lineno">  656</span>        <span class="keywordflow">return</span> fname</div>
<div class="line"><span class="lineno">  657</span>    <span class="comment"># Try to open the file and guess its type</span></div>
<div class="line"><span class="lineno">  658</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  659</span>        f = open(fname)</div>
<div class="line"><span class="lineno">  660</span>    <span class="keywordflow">except</span> FileNotFoundError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  661</span>        <span class="keywordflow">raise</span> FileNotFoundError(f<span class="stringliteral">&quot;No such file: &#39;{fname}&#39;&quot;</span>) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno">  662</span>    <span class="keywordflow">if</span> f.readline()[:2] != <span class="stringliteral">&quot;\\x&quot;</span>:</div>
<div class="line"><span class="lineno">  663</span>        f.seek(0, 0)</div>
<div class="line"><span class="lineno">  664</span>        <span class="keywordflow">return</span> f</div>
<div class="line"><span class="lineno">  665</span>    f.close()</div>
<div class="line"><span class="lineno">  666</span>    <span class="keywordflow">raise</span> NotImplementedError(<span class="stringliteral">&quot;Wow, binary file&quot;</span>)</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a115deb8111b11bc6b05885f797871d6a" name="a115deb8111b11bc6b05885f797871d6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a115deb8111b11bc6b05885f797871d6a">&#9670;&#160;</a></span>_byteorderconv</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords._byteorderconv = np.core.records._byteorderconv</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a589665a6d3666dd4963eb3a4ae019309" name="a589665a6d3666dd4963eb3a4ae019309"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a589665a6d3666dd4963eb3a4ae019309">&#9670;&#160;</a></span>_check_fill_value</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords._check_fill_value = ma.core._check_fill_value</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a208e716532e0db541eb2398f5ab12135" name="a208e716532e0db541eb2398f5ab12135"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a208e716532e0db541eb2398f5ab12135">&#9670;&#160;</a></span>mrecarray</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">numpy.ma.mrecords.mrecarray = <a class="el" href="classnumpy_1_1ma_1_1mrecords_1_1_masked_records.html">MaskedRecords</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab0a8e652e3538ad61d3d990d72e6c226" name="ab0a8e652e3538ad61d3d990d72e6c226"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0a8e652e3538ad61d3d990d72e6c226">&#9670;&#160;</a></span>reserved_fields</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">list numpy.ma.mrecords.reserved_fields = ['_data', '_mask', '_fieldmask', 'dtype']</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
