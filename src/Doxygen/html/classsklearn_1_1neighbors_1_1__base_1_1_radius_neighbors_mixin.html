<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: sklearn.neighbors._base.RadiusNeighborsMixin Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesklearn.html">sklearn</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1neighbors.html">neighbors</a></li><li class="navelem"><a class="el" href="namespacesklearn_1_1neighbors_1_1__base.html">_base</a></li><li class="navelem"><a class="el" href="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin.html">RadiusNeighborsMixin</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">sklearn.neighbors._base.RadiusNeighborsMixin Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for sklearn.neighbors._base.RadiusNeighborsMixin:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin.png" usemap="#sklearn.neighbors._5Fbase.RadiusNeighborsMixin_map" alt=""/>
  <map id="sklearn.neighbors._5Fbase.RadiusNeighborsMixin_map" name="sklearn.neighbors._5Fbase.RadiusNeighborsMixin_map">
<area href="classsklearn_1_1neighbors_1_1__classification_1_1_radius_neighbors_classifier.html" alt="sklearn.neighbors._classification.RadiusNeighborsClassifier" shape="rect" coords="0,56,350,80"/>
<area href="classsklearn_1_1neighbors_1_1__graph_1_1_radius_neighbors_transformer.html" alt="sklearn.neighbors._graph.RadiusNeighborsTransformer" shape="rect" coords="360,56,710,80"/>
<area href="classsklearn_1_1neighbors_1_1__regression_1_1_radius_neighbors_regressor.html" alt="sklearn.neighbors._regression.RadiusNeighborsRegressor" shape="rect" coords="720,56,1070,80"/>
<area href="classsklearn_1_1neighbors_1_1__unsupervised_1_1_nearest_neighbors.html" alt="sklearn.neighbors._unsupervised.NearestNeighbors" shape="rect" coords="1080,56,1430,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aef84d3fce4b8aa570836f9c57c24d949" id="r_aef84d3fce4b8aa570836f9c57c24d949"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin.html#aef84d3fce4b8aa570836f9c57c24d949">radius_neighbors</a> (self, X=None, radius=None, return_distance=True, sort_results=False)</td></tr>
<tr class="separator:aef84d3fce4b8aa570836f9c57c24d949"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdc65e88d2b3304eaa25807ae87befa6" id="r_abdc65e88d2b3304eaa25807ae87befa6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin.html#abdc65e88d2b3304eaa25807ae87befa6">radius_neighbors_graph</a> (self, X=None, radius=None, mode=&quot;connectivity&quot;, sort_results=False)</td></tr>
<tr class="separator:abdc65e88d2b3304eaa25807ae87befa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:aab89d6655196bcb45f1270b02997bb35" id="r_aab89d6655196bcb45f1270b02997bb35"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin.html#aab89d6655196bcb45f1270b02997bb35">effective_metric_</a></td></tr>
<tr class="separator:aab89d6655196bcb45f1270b02997bb35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c2488063ce88997c6aa83c33362a034" id="r_a0c2488063ce88997c6aa83c33362a034"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin.html#a0c2488063ce88997c6aa83c33362a034">metric</a></td></tr>
<tr class="separator:a0c2488063ce88997c6aa83c33362a034"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aeeea5b36ce8fb472aff6626791ead581" id="r_aeeea5b36ce8fb472aff6626791ead581"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin.html#aeeea5b36ce8fb472aff6626791ead581">_radius_neighbors_reduce_func</a> (self, dist, start, radius, return_distance)</td></tr>
<tr class="separator:aeeea5b36ce8fb472aff6626791ead581"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a179a8aa61f59e2fd23416ef82fe777b1" id="r_a179a8aa61f59e2fd23416ef82fe777b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin.html#a179a8aa61f59e2fd23416ef82fe777b1">_fit_method</a></td></tr>
<tr class="separator:a179a8aa61f59e2fd23416ef82fe777b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b30d0c3cc4b832e8cd65f04c731380" id="r_af7b30d0c3cc4b832e8cd65f04c731380"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin.html#af7b30d0c3cc4b832e8cd65f04c731380">_fit_X</a></td></tr>
<tr class="separator:af7b30d0c3cc4b832e8cd65f04c731380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7474d9c6ba44d184f69b07399476b4df" id="r_a7474d9c6ba44d184f69b07399476b4df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin.html#a7474d9c6ba44d184f69b07399476b4df">_radius_neighbors_reduce_func</a></td></tr>
<tr class="separator:a7474d9c6ba44d184f69b07399476b4df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e760d40595b20511c5aedb8baab4a75" id="r_a6e760d40595b20511c5aedb8baab4a75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsklearn_1_1neighbors_1_1__base_1_1_radius_neighbors_mixin.html#a6e760d40595b20511c5aedb8baab4a75">_tree</a></td></tr>
<tr class="separator:a6e760d40595b20511c5aedb8baab4a75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Mixin for radius-based neighbors searches.</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="aeeea5b36ce8fb472aff6626791ead581" name="aeeea5b36ce8fb472aff6626791ead581"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeeea5b36ce8fb472aff6626791ead581">&#9670;&#160;</a></span>_radius_neighbors_reduce_func()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.neighbors._base.RadiusNeighborsMixin._radius_neighbors_reduce_func </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dist</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>return_distance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Reduce a chunk of distances to the nearest neighbors.

Callback to :func:`sklearn.metrics.pairwise.pairwise_distances_chunked`

Parameters
----------
dist : ndarray of shape (n_samples_chunk, n_samples)
    The distance matrix.

start : int
    The index in X which the first row of dist corresponds to.

radius : float
    The radius considered when making the nearest neighbors search.

return_distance : bool
    Whether or not to return the distances.

Returns
-------
dist : list of ndarray of shape (n_samples_chunk,)
    Returned only if `return_distance=True`.

neigh : list of ndarray of shape (n_samples_chunk,)
    The neighbors indices.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1021</span>    <span class="keyword">def </span>_radius_neighbors_reduce_func(self, dist, start, radius, return_distance):</div>
<div class="line"><span class="lineno"> 1022</span>        <span class="stringliteral">&quot;&quot;&quot;Reduce a chunk of distances to the nearest neighbors.</span></div>
<div class="line"><span class="lineno"> 1023</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1024</span><span class="stringliteral">        Callback to :func:`sklearn.metrics.pairwise.pairwise_distances_chunked`</span></div>
<div class="line"><span class="lineno"> 1025</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1026</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1027</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1028</span><span class="stringliteral">        dist : ndarray of shape (n_samples_chunk, n_samples)</span></div>
<div class="line"><span class="lineno"> 1029</span><span class="stringliteral">            The distance matrix.</span></div>
<div class="line"><span class="lineno"> 1030</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1031</span><span class="stringliteral">        start : int</span></div>
<div class="line"><span class="lineno"> 1032</span><span class="stringliteral">            The index in X which the first row of dist corresponds to.</span></div>
<div class="line"><span class="lineno"> 1033</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1034</span><span class="stringliteral">        radius : float</span></div>
<div class="line"><span class="lineno"> 1035</span><span class="stringliteral">            The radius considered when making the nearest neighbors search.</span></div>
<div class="line"><span class="lineno"> 1036</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1037</span><span class="stringliteral">        return_distance : bool</span></div>
<div class="line"><span class="lineno"> 1038</span><span class="stringliteral">            Whether or not to return the distances.</span></div>
<div class="line"><span class="lineno"> 1039</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1040</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1041</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1042</span><span class="stringliteral">        dist : list of ndarray of shape (n_samples_chunk,)</span></div>
<div class="line"><span class="lineno"> 1043</span><span class="stringliteral">            Returned only if `return_distance=True`.</span></div>
<div class="line"><span class="lineno"> 1044</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1045</span><span class="stringliteral">        neigh : list of ndarray of shape (n_samples_chunk,)</span></div>
<div class="line"><span class="lineno"> 1046</span><span class="stringliteral">            The neighbors indices.</span></div>
<div class="line"><span class="lineno"> 1047</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1048</span>        neigh_ind = [np.where(d &lt;= radius)[0] <span class="keywordflow">for</span> d <span class="keywordflow">in</span> dist]</div>
<div class="line"><span class="lineno"> 1049</span> </div>
<div class="line"><span class="lineno"> 1050</span>        <span class="keywordflow">if</span> return_distance:</div>
<div class="line"><span class="lineno"> 1051</span>            <span class="keywordflow">if</span> self.effective_metric_ == <span class="stringliteral">&quot;euclidean&quot;</span>:</div>
<div class="line"><span class="lineno"> 1052</span>                dist = [np.sqrt(d[neigh_ind[i]]) <span class="keywordflow">for</span> i, d <span class="keywordflow">in</span> enumerate(dist)]</div>
<div class="line"><span class="lineno"> 1053</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1054</span>                dist = [d[neigh_ind[i]] <span class="keywordflow">for</span> i, d <span class="keywordflow">in</span> enumerate(dist)]</div>
<div class="line"><span class="lineno"> 1055</span>            results = dist, neigh_ind</div>
<div class="line"><span class="lineno"> 1056</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1057</span>            results = neigh_ind</div>
<div class="line"><span class="lineno"> 1058</span>        <span class="keywordflow">return</span> results</div>
<div class="line"><span class="lineno"> 1059</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aef84d3fce4b8aa570836f9c57c24d949" name="aef84d3fce4b8aa570836f9c57c24d949"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef84d3fce4b8aa570836f9c57c24d949">&#9670;&#160;</a></span>radius_neighbors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.neighbors._base.RadiusNeighborsMixin.radius_neighbors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>radius</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>return_distance</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sort_results</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Find the neighbors within a given radius of a point or points.

Return the indices and distances of each point from the dataset
lying in a ball with size ``radius`` around the points of the query
array. Points lying on the boundary are included in the results.

The result points are *not* necessarily sorted by distance to their
query point.

Parameters
----------
X : {array-like, sparse matrix} of (n_samples, n_features), default=None
    The query point or points.
    If not provided, neighbors of each indexed point are returned.
    In this case, the query point is not considered its own neighbor.

radius : float, default=None
    Limiting distance of neighbors to return. The default is the value
    passed to the constructor.

return_distance : bool, default=True
    Whether or not to return the distances.

sort_results : bool, default=False
    If True, the distances and indices will be sorted by increasing
    distances before being returned. If False, the results may not
    be sorted. If `return_distance=False`, setting `sort_results=True`
    will result in an error.

    .. versionadded:: 0.22

Returns
-------
neigh_dist : ndarray of shape (n_samples,) of arrays
    Array representing the distances to each point, only present if
    `return_distance=True`. The distance values are computed according
    to the ``metric`` constructor parameter.

neigh_ind : ndarray of shape (n_samples,) of arrays
    An array of arrays of indices of the approximate nearest points
    from the population matrix that lie within a ball of size
    ``radius`` around the query points.

Notes
-----
Because the number of neighbors of each point is not necessarily
equal, the results for multiple query points cannot be fit in a
standard data array.
For efficiency, `radius_neighbors` returns arrays of objects, where
each object is a 1D array of indices or distances.

Examples
--------
In the following example, we construct a NeighborsClassifier
class from an array representing our data set and ask who's
the closest point to [1, 1, 1]:

&gt;&gt;&gt; import numpy as np
&gt;&gt;&gt; samples = [[0., 0., 0.], [0., .5, 0.], [1., 1., .5]]
&gt;&gt;&gt; from sklearn.neighbors import NearestNeighbors
&gt;&gt;&gt; neigh = NearestNeighbors(radius=1.6)
&gt;&gt;&gt; neigh.fit(samples)
NearestNeighbors(radius=1.6)
&gt;&gt;&gt; rng = neigh.radius_neighbors([[1., 1., 1.]])
&gt;&gt;&gt; print(np.asarray(rng[0][0]))
[1.5 0.5]
&gt;&gt;&gt; print(np.asarray(rng[1][0]))
[1 2]

The first array returned contains the distances to all points which
are closer than 1.6, while the second array returned contains their
indices.  In general, multiple points can be queried at the same time.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1062</span>    ):</div>
<div class="line"><span class="lineno"> 1063</span>        <span class="stringliteral">&quot;&quot;&quot;Find the neighbors within a given radius of a point or points.</span></div>
<div class="line"><span class="lineno"> 1064</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1065</span><span class="stringliteral">        Return the indices and distances of each point from the dataset</span></div>
<div class="line"><span class="lineno"> 1066</span><span class="stringliteral">        lying in a ball with size ``radius`` around the points of the query</span></div>
<div class="line"><span class="lineno"> 1067</span><span class="stringliteral">        array. Points lying on the boundary are included in the results.</span></div>
<div class="line"><span class="lineno"> 1068</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1069</span><span class="stringliteral">        The result points are *not* necessarily sorted by distance to their</span></div>
<div class="line"><span class="lineno"> 1070</span><span class="stringliteral">        query point.</span></div>
<div class="line"><span class="lineno"> 1071</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1072</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1073</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1074</span><span class="stringliteral">        X : {array-like, sparse matrix} of (n_samples, n_features), default=None</span></div>
<div class="line"><span class="lineno"> 1075</span><span class="stringliteral">            The query point or points.</span></div>
<div class="line"><span class="lineno"> 1076</span><span class="stringliteral">            If not provided, neighbors of each indexed point are returned.</span></div>
<div class="line"><span class="lineno"> 1077</span><span class="stringliteral">            In this case, the query point is not considered its own neighbor.</span></div>
<div class="line"><span class="lineno"> 1078</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1079</span><span class="stringliteral">        radius : float, default=None</span></div>
<div class="line"><span class="lineno"> 1080</span><span class="stringliteral">            Limiting distance of neighbors to return. The default is the value</span></div>
<div class="line"><span class="lineno"> 1081</span><span class="stringliteral">            passed to the constructor.</span></div>
<div class="line"><span class="lineno"> 1082</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1083</span><span class="stringliteral">        return_distance : bool, default=True</span></div>
<div class="line"><span class="lineno"> 1084</span><span class="stringliteral">            Whether or not to return the distances.</span></div>
<div class="line"><span class="lineno"> 1085</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1086</span><span class="stringliteral">        sort_results : bool, default=False</span></div>
<div class="line"><span class="lineno"> 1087</span><span class="stringliteral">            If True, the distances and indices will be sorted by increasing</span></div>
<div class="line"><span class="lineno"> 1088</span><span class="stringliteral">            distances before being returned. If False, the results may not</span></div>
<div class="line"><span class="lineno"> 1089</span><span class="stringliteral">            be sorted. If `return_distance=False`, setting `sort_results=True`</span></div>
<div class="line"><span class="lineno"> 1090</span><span class="stringliteral">            will result in an error.</span></div>
<div class="line"><span class="lineno"> 1091</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1092</span><span class="stringliteral">            .. versionadded:: 0.22</span></div>
<div class="line"><span class="lineno"> 1093</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1094</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1095</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1096</span><span class="stringliteral">        neigh_dist : ndarray of shape (n_samples,) of arrays</span></div>
<div class="line"><span class="lineno"> 1097</span><span class="stringliteral">            Array representing the distances to each point, only present if</span></div>
<div class="line"><span class="lineno"> 1098</span><span class="stringliteral">            `return_distance=True`. The distance values are computed according</span></div>
<div class="line"><span class="lineno"> 1099</span><span class="stringliteral">            to the ``metric`` constructor parameter.</span></div>
<div class="line"><span class="lineno"> 1100</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1101</span><span class="stringliteral">        neigh_ind : ndarray of shape (n_samples,) of arrays</span></div>
<div class="line"><span class="lineno"> 1102</span><span class="stringliteral">            An array of arrays of indices of the approximate nearest points</span></div>
<div class="line"><span class="lineno"> 1103</span><span class="stringliteral">            from the population matrix that lie within a ball of size</span></div>
<div class="line"><span class="lineno"> 1104</span><span class="stringliteral">            ``radius`` around the query points.</span></div>
<div class="line"><span class="lineno"> 1105</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1106</span><span class="stringliteral">        Notes</span></div>
<div class="line"><span class="lineno"> 1107</span><span class="stringliteral">        -----</span></div>
<div class="line"><span class="lineno"> 1108</span><span class="stringliteral">        Because the number of neighbors of each point is not necessarily</span></div>
<div class="line"><span class="lineno"> 1109</span><span class="stringliteral">        equal, the results for multiple query points cannot be fit in a</span></div>
<div class="line"><span class="lineno"> 1110</span><span class="stringliteral">        standard data array.</span></div>
<div class="line"><span class="lineno"> 1111</span><span class="stringliteral">        For efficiency, `radius_neighbors` returns arrays of objects, where</span></div>
<div class="line"><span class="lineno"> 1112</span><span class="stringliteral">        each object is a 1D array of indices or distances.</span></div>
<div class="line"><span class="lineno"> 1113</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1114</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno"> 1115</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno"> 1116</span><span class="stringliteral">        In the following example, we construct a NeighborsClassifier</span></div>
<div class="line"><span class="lineno"> 1117</span><span class="stringliteral">        class from an array representing our data set and ask who&#39;s</span></div>
<div class="line"><span class="lineno"> 1118</span><span class="stringliteral">        the closest point to [1, 1, 1]:</span></div>
<div class="line"><span class="lineno"> 1119</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1120</span><span class="stringliteral">        &gt;&gt;&gt; import numpy as np</span></div>
<div class="line"><span class="lineno"> 1121</span><span class="stringliteral">        &gt;&gt;&gt; samples = [[0., 0., 0.], [0., .5, 0.], [1., 1., .5]]</span></div>
<div class="line"><span class="lineno"> 1122</span><span class="stringliteral">        &gt;&gt;&gt; from sklearn.neighbors import NearestNeighbors</span></div>
<div class="line"><span class="lineno"> 1123</span><span class="stringliteral">        &gt;&gt;&gt; neigh = NearestNeighbors(radius=1.6)</span></div>
<div class="line"><span class="lineno"> 1124</span><span class="stringliteral">        &gt;&gt;&gt; neigh.fit(samples)</span></div>
<div class="line"><span class="lineno"> 1125</span><span class="stringliteral">        NearestNeighbors(radius=1.6)</span></div>
<div class="line"><span class="lineno"> 1126</span><span class="stringliteral">        &gt;&gt;&gt; rng = neigh.radius_neighbors([[1., 1., 1.]])</span></div>
<div class="line"><span class="lineno"> 1127</span><span class="stringliteral">        &gt;&gt;&gt; print(np.asarray(rng[0][0]))</span></div>
<div class="line"><span class="lineno"> 1128</span><span class="stringliteral">        [1.5 0.5]</span></div>
<div class="line"><span class="lineno"> 1129</span><span class="stringliteral">        &gt;&gt;&gt; print(np.asarray(rng[1][0]))</span></div>
<div class="line"><span class="lineno"> 1130</span><span class="stringliteral">        [1 2]</span></div>
<div class="line"><span class="lineno"> 1131</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1132</span><span class="stringliteral">        The first array returned contains the distances to all points which</span></div>
<div class="line"><span class="lineno"> 1133</span><span class="stringliteral">        are closer than 1.6, while the second array returned contains their</span></div>
<div class="line"><span class="lineno"> 1134</span><span class="stringliteral">        indices.  In general, multiple points can be queried at the same time.</span></div>
<div class="line"><span class="lineno"> 1135</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1136</span>        check_is_fitted(self)</div>
<div class="line"><span class="lineno"> 1137</span> </div>
<div class="line"><span class="lineno"> 1138</span>        <span class="keywordflow">if</span> sort_results <span class="keywordflow">and</span> <span class="keywordflow">not</span> return_distance:</div>
<div class="line"><span class="lineno"> 1139</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;return_distance must be True if sort_results is True.&quot;</span>)</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>        query_is_train = X <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1142</span>        <span class="keywordflow">if</span> query_is_train:</div>
<div class="line"><span class="lineno"> 1143</span>            X = self._fit_X</div>
<div class="line"><span class="lineno"> 1144</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1145</span>            <span class="keywordflow">if</span> self.metric == <span class="stringliteral">&quot;precomputed&quot;</span>:</div>
<div class="line"><span class="lineno"> 1146</span>                X = _check_precomputed(X)</div>
<div class="line"><span class="lineno"> 1147</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1148</span>                X = self._validate_data(X, accept_sparse=<span class="stringliteral">&quot;csr&quot;</span>, reset=<span class="keyword">False</span>, order=<span class="stringliteral">&quot;C&quot;</span>)</div>
<div class="line"><span class="lineno"> 1149</span> </div>
<div class="line"><span class="lineno"> 1150</span>        <span class="keywordflow">if</span> radius <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1151</span>            radius = self.radius</div>
<div class="line"><span class="lineno"> 1152</span> </div>
<div class="line"><span class="lineno"> 1153</span>        use_pairwise_distances_reductions = (</div>
<div class="line"><span class="lineno"> 1154</span>            self._fit_method == <span class="stringliteral">&quot;brute&quot;</span></div>
<div class="line"><span class="lineno"> 1155</span>            <span class="keywordflow">and</span> RadiusNeighbors.is_usable_for(</div>
<div class="line"><span class="lineno"> 1156</span>                X <span class="keywordflow">if</span> X <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">else</span> self._fit_X, self._fit_X, self.effective_metric_</div>
<div class="line"><span class="lineno"> 1157</span>            )</div>
<div class="line"><span class="lineno"> 1158</span>        )</div>
<div class="line"><span class="lineno"> 1159</span> </div>
<div class="line"><span class="lineno"> 1160</span>        <span class="keywordflow">if</span> use_pairwise_distances_reductions:</div>
<div class="line"><span class="lineno"> 1161</span>            results = RadiusNeighbors.compute(</div>
<div class="line"><span class="lineno"> 1162</span>                X=X,</div>
<div class="line"><span class="lineno"> 1163</span>                Y=self._fit_X,</div>
<div class="line"><span class="lineno"> 1164</span>                radius=radius,</div>
<div class="line"><span class="lineno"> 1165</span>                metric=self.effective_metric_,</div>
<div class="line"><span class="lineno"> 1166</span>                metric_kwargs=self.effective_metric_params_,</div>
<div class="line"><span class="lineno"> 1167</span>                strategy=<span class="stringliteral">&quot;auto&quot;</span>,</div>
<div class="line"><span class="lineno"> 1168</span>                return_distance=return_distance,</div>
<div class="line"><span class="lineno"> 1169</span>                sort_results=sort_results,</div>
<div class="line"><span class="lineno"> 1170</span>            )</div>
<div class="line"><span class="lineno"> 1171</span> </div>
<div class="line"><span class="lineno"> 1172</span>        <span class="keywordflow">elif</span> (</div>
<div class="line"><span class="lineno"> 1173</span>            self._fit_method == <span class="stringliteral">&quot;brute&quot;</span> <span class="keywordflow">and</span> self.metric == <span class="stringliteral">&quot;precomputed&quot;</span> <span class="keywordflow">and</span> issparse(X)</div>
<div class="line"><span class="lineno"> 1174</span>        ):</div>
<div class="line"><span class="lineno"> 1175</span>            results = _radius_neighbors_from_graph(</div>
<div class="line"><span class="lineno"> 1176</span>                X, radius=radius, return_distance=return_distance</div>
<div class="line"><span class="lineno"> 1177</span>            )</div>
<div class="line"><span class="lineno"> 1178</span> </div>
<div class="line"><span class="lineno"> 1179</span>        <span class="keywordflow">elif</span> self._fit_method == <span class="stringliteral">&quot;brute&quot;</span>:</div>
<div class="line"><span class="lineno"> 1180</span>            <span class="comment"># Joblib-based backend, which is used when user-defined callable</span></div>
<div class="line"><span class="lineno"> 1181</span>            <span class="comment"># are passed for metric.</span></div>
<div class="line"><span class="lineno"> 1182</span> </div>
<div class="line"><span class="lineno"> 1183</span>            <span class="comment"># This won&#39;t be used in the future once PairwiseDistancesReductions</span></div>
<div class="line"><span class="lineno"> 1184</span>            <span class="comment"># support:</span></div>
<div class="line"><span class="lineno"> 1185</span>            <span class="comment">#   - DistanceMetrics which work on supposedly binary data</span></div>
<div class="line"><span class="lineno"> 1186</span>            <span class="comment">#   - CSR-dense and dense-CSR case if &#39;euclidean&#39; in metric.</span></div>
<div class="line"><span class="lineno"> 1187</span> </div>
<div class="line"><span class="lineno"> 1188</span>            <span class="comment"># for efficiency, use squared euclidean distances</span></div>
<div class="line"><span class="lineno"> 1189</span>            <span class="keywordflow">if</span> self.effective_metric_ == <span class="stringliteral">&quot;euclidean&quot;</span>:</div>
<div class="line"><span class="lineno"> 1190</span>                radius *= radius</div>
<div class="line"><span class="lineno"> 1191</span>                kwds = {<span class="stringliteral">&quot;squared&quot;</span>: <span class="keyword">True</span>}</div>
<div class="line"><span class="lineno"> 1192</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1193</span>                kwds = self.effective_metric_params_</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>            reduce_func = partial(</div>
<div class="line"><span class="lineno"> 1196</span>                self._radius_neighbors_reduce_func,</div>
<div class="line"><span class="lineno"> 1197</span>                radius=radius,</div>
<div class="line"><span class="lineno"> 1198</span>                return_distance=return_distance,</div>
<div class="line"><span class="lineno"> 1199</span>            )</div>
<div class="line"><span class="lineno"> 1200</span> </div>
<div class="line"><span class="lineno"> 1201</span>            chunked_results = pairwise_distances_chunked(</div>
<div class="line"><span class="lineno"> 1202</span>                X,</div>
<div class="line"><span class="lineno"> 1203</span>                self._fit_X,</div>
<div class="line"><span class="lineno"> 1204</span>                reduce_func=reduce_func,</div>
<div class="line"><span class="lineno"> 1205</span>                metric=self.effective_metric_,</div>
<div class="line"><span class="lineno"> 1206</span>                n_jobs=self.n_jobs,</div>
<div class="line"><span class="lineno"> 1207</span>                **kwds,</div>
<div class="line"><span class="lineno"> 1208</span>            )</div>
<div class="line"><span class="lineno"> 1209</span>            <span class="keywordflow">if</span> return_distance:</div>
<div class="line"><span class="lineno"> 1210</span>                neigh_dist_chunks, neigh_ind_chunks = zip(*chunked_results)</div>
<div class="line"><span class="lineno"> 1211</span>                neigh_dist_list = sum(neigh_dist_chunks, [])</div>
<div class="line"><span class="lineno"> 1212</span>                neigh_ind_list = sum(neigh_ind_chunks, [])</div>
<div class="line"><span class="lineno"> 1213</span>                neigh_dist = _to_object_array(neigh_dist_list)</div>
<div class="line"><span class="lineno"> 1214</span>                neigh_ind = _to_object_array(neigh_ind_list)</div>
<div class="line"><span class="lineno"> 1215</span>                results = neigh_dist, neigh_ind</div>
<div class="line"><span class="lineno"> 1216</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1217</span>                neigh_ind_list = sum(chunked_results, [])</div>
<div class="line"><span class="lineno"> 1218</span>                results = _to_object_array(neigh_ind_list)</div>
<div class="line"><span class="lineno"> 1219</span> </div>
<div class="line"><span class="lineno"> 1220</span>            <span class="keywordflow">if</span> sort_results:</div>
<div class="line"><span class="lineno"> 1221</span>                <span class="keywordflow">for</span> ii <span class="keywordflow">in</span> range(len(neigh_dist)):</div>
<div class="line"><span class="lineno"> 1222</span>                    order = np.argsort(neigh_dist[ii], kind=<span class="stringliteral">&quot;mergesort&quot;</span>)</div>
<div class="line"><span class="lineno"> 1223</span>                    neigh_ind[ii] = neigh_ind[ii][order]</div>
<div class="line"><span class="lineno"> 1224</span>                    neigh_dist[ii] = neigh_dist[ii][order]</div>
<div class="line"><span class="lineno"> 1225</span>                results = neigh_dist, neigh_ind</div>
<div class="line"><span class="lineno"> 1226</span> </div>
<div class="line"><span class="lineno"> 1227</span>        <span class="keywordflow">elif</span> self._fit_method <span class="keywordflow">in</span> [<span class="stringliteral">&quot;ball_tree&quot;</span>, <span class="stringliteral">&quot;kd_tree&quot;</span>]:</div>
<div class="line"><span class="lineno"> 1228</span>            <span class="keywordflow">if</span> issparse(X):</div>
<div class="line"><span class="lineno"> 1229</span>                <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno"> 1230</span>                    <span class="stringliteral">&quot;%s does not work with sparse matrices. Densify the data, &quot;</span></div>
<div class="line"><span class="lineno"> 1231</span>                    <span class="stringliteral">&quot;or set algorithm=&#39;brute&#39;&quot;</span></div>
<div class="line"><span class="lineno"> 1232</span>                    % self._fit_method</div>
<div class="line"><span class="lineno"> 1233</span>                )</div>
<div class="line"><span class="lineno"> 1234</span> </div>
<div class="line"><span class="lineno"> 1235</span>            n_jobs = effective_n_jobs(self.n_jobs)</div>
<div class="line"><span class="lineno"> 1236</span>            delayed_query = delayed(_tree_query_radius_parallel_helper)</div>
<div class="line"><span class="lineno"> 1237</span>            chunked_results = Parallel(n_jobs, prefer=<span class="stringliteral">&quot;threads&quot;</span>)(</div>
<div class="line"><span class="lineno"> 1238</span>                delayed_query(</div>
<div class="line"><span class="lineno"> 1239</span>                    self._tree, X[s], radius, return_distance, sort_results=sort_results</div>
<div class="line"><span class="lineno"> 1240</span>                )</div>
<div class="line"><span class="lineno"> 1241</span>                <span class="keywordflow">for</span> s <span class="keywordflow">in</span> gen_even_slices(X.shape[0], n_jobs)</div>
<div class="line"><span class="lineno"> 1242</span>            )</div>
<div class="line"><span class="lineno"> 1243</span>            <span class="keywordflow">if</span> return_distance:</div>
<div class="line"><span class="lineno"> 1244</span>                neigh_ind, neigh_dist = tuple(zip(*chunked_results))</div>
<div class="line"><span class="lineno"> 1245</span>                results = np.hstack(neigh_dist), np.hstack(neigh_ind)</div>
<div class="line"><span class="lineno"> 1246</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1247</span>                results = np.hstack(chunked_results)</div>
<div class="line"><span class="lineno"> 1248</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1249</span>            <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&quot;internal: _fit_method not recognized&quot;</span>)</div>
<div class="line"><span class="lineno"> 1250</span> </div>
<div class="line"><span class="lineno"> 1251</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> query_is_train:</div>
<div class="line"><span class="lineno"> 1252</span>            <span class="keywordflow">return</span> results</div>
<div class="line"><span class="lineno"> 1253</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1254</span>            <span class="comment"># If the query data is the same as the indexed data, we would like</span></div>
<div class="line"><span class="lineno"> 1255</span>            <span class="comment"># to ignore the first nearest neighbor of every sample, i.e</span></div>
<div class="line"><span class="lineno"> 1256</span>            <span class="comment"># the sample itself.</span></div>
<div class="line"><span class="lineno"> 1257</span>            <span class="keywordflow">if</span> return_distance:</div>
<div class="line"><span class="lineno"> 1258</span>                neigh_dist, neigh_ind = results</div>
<div class="line"><span class="lineno"> 1259</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1260</span>                neigh_ind = results</div>
<div class="line"><span class="lineno"> 1261</span> </div>
<div class="line"><span class="lineno"> 1262</span>            <span class="keywordflow">for</span> ind, ind_neighbor <span class="keywordflow">in</span> enumerate(neigh_ind):</div>
<div class="line"><span class="lineno"> 1263</span>                mask = ind_neighbor != ind</div>
<div class="line"><span class="lineno"> 1264</span> </div>
<div class="line"><span class="lineno"> 1265</span>                neigh_ind[ind] = ind_neighbor[mask]</div>
<div class="line"><span class="lineno"> 1266</span>                <span class="keywordflow">if</span> return_distance:</div>
<div class="line"><span class="lineno"> 1267</span>                    neigh_dist[ind] = neigh_dist[ind][mask]</div>
<div class="line"><span class="lineno"> 1268</span> </div>
<div class="line"><span class="lineno"> 1269</span>            <span class="keywordflow">if</span> return_distance:</div>
<div class="line"><span class="lineno"> 1270</span>                <span class="keywordflow">return</span> neigh_dist, neigh_ind</div>
<div class="line"><span class="lineno"> 1271</span>            <span class="keywordflow">return</span> neigh_ind</div>
<div class="line"><span class="lineno"> 1272</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abdc65e88d2b3304eaa25807ae87befa6" name="abdc65e88d2b3304eaa25807ae87befa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdc65e88d2b3304eaa25807ae87befa6">&#9670;&#160;</a></span>radius_neighbors_graph()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.neighbors._base.RadiusNeighborsMixin.radius_neighbors_graph </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>X</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>radius</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em> = <code>&quot;connectivity&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sort_results</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compute the (weighted) graph of Neighbors for points in X.

Neighborhoods are restricted the points at a distance lower than
radius.

Parameters
----------
X : {array-like, sparse matrix} of shape (n_samples, n_features), default=None
    The query point or points.
    If not provided, neighbors of each indexed point are returned.
    In this case, the query point is not considered its own neighbor.

radius : float, default=None
    Radius of neighborhoods. The default is the value passed to the
    constructor.

mode : {'connectivity', 'distance'}, default='connectivity'
    Type of returned matrix: 'connectivity' will return the
    connectivity matrix with ones and zeros, in 'distance' the
    edges are distances between points, type of distance
    depends on the selected metric parameter in
    NearestNeighbors class.

sort_results : bool, default=False
    If True, in each row of the result, the non-zero entries will be
    sorted by increasing distances. If False, the non-zero entries may
    not be sorted. Only used with mode='distance'.

    .. versionadded:: 0.22

Returns
-------
A : sparse-matrix of shape (n_queries, n_samples_fit)
    `n_samples_fit` is the number of samples in the fitted data.
    `A[i, j]` gives the weight of the edge connecting `i` to `j`.
    The matrix is of CSR format.

See Also
--------
kneighbors_graph : Compute the (weighted) graph of k-Neighbors for
    points in X.

Examples
--------
&gt;&gt;&gt; X = [[0], [3], [1]]
&gt;&gt;&gt; from sklearn.neighbors import NearestNeighbors
&gt;&gt;&gt; neigh = NearestNeighbors(radius=1.5)
&gt;&gt;&gt; neigh.fit(X)
NearestNeighbors(radius=1.5)
&gt;&gt;&gt; A = neigh.radius_neighbors_graph(X)
&gt;&gt;&gt; A.toarray()
array([[1., 0., 1.],
       [0., 1., 0.],
       [1., 0., 1.]])
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1275</span>    ):</div>
<div class="line"><span class="lineno"> 1276</span>        <span class="stringliteral">&quot;&quot;&quot;Compute the (weighted) graph of Neighbors for points in X.</span></div>
<div class="line"><span class="lineno"> 1277</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1278</span><span class="stringliteral">        Neighborhoods are restricted the points at a distance lower than</span></div>
<div class="line"><span class="lineno"> 1279</span><span class="stringliteral">        radius.</span></div>
<div class="line"><span class="lineno"> 1280</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1281</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 1282</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 1283</span><span class="stringliteral">        X : {array-like, sparse matrix} of shape (n_samples, n_features), default=None</span></div>
<div class="line"><span class="lineno"> 1284</span><span class="stringliteral">            The query point or points.</span></div>
<div class="line"><span class="lineno"> 1285</span><span class="stringliteral">            If not provided, neighbors of each indexed point are returned.</span></div>
<div class="line"><span class="lineno"> 1286</span><span class="stringliteral">            In this case, the query point is not considered its own neighbor.</span></div>
<div class="line"><span class="lineno"> 1287</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1288</span><span class="stringliteral">        radius : float, default=None</span></div>
<div class="line"><span class="lineno"> 1289</span><span class="stringliteral">            Radius of neighborhoods. The default is the value passed to the</span></div>
<div class="line"><span class="lineno"> 1290</span><span class="stringliteral">            constructor.</span></div>
<div class="line"><span class="lineno"> 1291</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1292</span><span class="stringliteral">        mode : {&#39;connectivity&#39;, &#39;distance&#39;}, default=&#39;connectivity&#39;</span></div>
<div class="line"><span class="lineno"> 1293</span><span class="stringliteral">            Type of returned matrix: &#39;connectivity&#39; will return the</span></div>
<div class="line"><span class="lineno"> 1294</span><span class="stringliteral">            connectivity matrix with ones and zeros, in &#39;distance&#39; the</span></div>
<div class="line"><span class="lineno"> 1295</span><span class="stringliteral">            edges are distances between points, type of distance</span></div>
<div class="line"><span class="lineno"> 1296</span><span class="stringliteral">            depends on the selected metric parameter in</span></div>
<div class="line"><span class="lineno"> 1297</span><span class="stringliteral">            NearestNeighbors class.</span></div>
<div class="line"><span class="lineno"> 1298</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1299</span><span class="stringliteral">        sort_results : bool, default=False</span></div>
<div class="line"><span class="lineno"> 1300</span><span class="stringliteral">            If True, in each row of the result, the non-zero entries will be</span></div>
<div class="line"><span class="lineno"> 1301</span><span class="stringliteral">            sorted by increasing distances. If False, the non-zero entries may</span></div>
<div class="line"><span class="lineno"> 1302</span><span class="stringliteral">            not be sorted. Only used with mode=&#39;distance&#39;.</span></div>
<div class="line"><span class="lineno"> 1303</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1304</span><span class="stringliteral">            .. versionadded:: 0.22</span></div>
<div class="line"><span class="lineno"> 1305</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1306</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 1307</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 1308</span><span class="stringliteral">        A : sparse-matrix of shape (n_queries, n_samples_fit)</span></div>
<div class="line"><span class="lineno"> 1309</span><span class="stringliteral">            `n_samples_fit` is the number of samples in the fitted data.</span></div>
<div class="line"><span class="lineno"> 1310</span><span class="stringliteral">            `A[i, j]` gives the weight of the edge connecting `i` to `j`.</span></div>
<div class="line"><span class="lineno"> 1311</span><span class="stringliteral">            The matrix is of CSR format.</span></div>
<div class="line"><span class="lineno"> 1312</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1313</span><span class="stringliteral">        See Also</span></div>
<div class="line"><span class="lineno"> 1314</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno"> 1315</span><span class="stringliteral">        kneighbors_graph : Compute the (weighted) graph of k-Neighbors for</span></div>
<div class="line"><span class="lineno"> 1316</span><span class="stringliteral">            points in X.</span></div>
<div class="line"><span class="lineno"> 1317</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1318</span><span class="stringliteral">        Examples</span></div>
<div class="line"><span class="lineno"> 1319</span><span class="stringliteral">        --------</span></div>
<div class="line"><span class="lineno"> 1320</span><span class="stringliteral">        &gt;&gt;&gt; X = [[0], [3], [1]]</span></div>
<div class="line"><span class="lineno"> 1321</span><span class="stringliteral">        &gt;&gt;&gt; from sklearn.neighbors import NearestNeighbors</span></div>
<div class="line"><span class="lineno"> 1322</span><span class="stringliteral">        &gt;&gt;&gt; neigh = NearestNeighbors(radius=1.5)</span></div>
<div class="line"><span class="lineno"> 1323</span><span class="stringliteral">        &gt;&gt;&gt; neigh.fit(X)</span></div>
<div class="line"><span class="lineno"> 1324</span><span class="stringliteral">        NearestNeighbors(radius=1.5)</span></div>
<div class="line"><span class="lineno"> 1325</span><span class="stringliteral">        &gt;&gt;&gt; A = neigh.radius_neighbors_graph(X)</span></div>
<div class="line"><span class="lineno"> 1326</span><span class="stringliteral">        &gt;&gt;&gt; A.toarray()</span></div>
<div class="line"><span class="lineno"> 1327</span><span class="stringliteral">        array([[1., 0., 1.],</span></div>
<div class="line"><span class="lineno"> 1328</span><span class="stringliteral">               [0., 1., 0.],</span></div>
<div class="line"><span class="lineno"> 1329</span><span class="stringliteral">               [1., 0., 1.]])</span></div>
<div class="line"><span class="lineno"> 1330</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1331</span>        check_is_fitted(self)</div>
<div class="line"><span class="lineno"> 1332</span> </div>
<div class="line"><span class="lineno"> 1333</span>        <span class="comment"># check the input only in self.radius_neighbors</span></div>
<div class="line"><span class="lineno"> 1334</span> </div>
<div class="line"><span class="lineno"> 1335</span>        <span class="keywordflow">if</span> radius <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1336</span>            radius = self.radius</div>
<div class="line"><span class="lineno"> 1337</span> </div>
<div class="line"><span class="lineno"> 1338</span>        <span class="comment"># construct CSR matrix representation of the NN graph</span></div>
<div class="line"><span class="lineno"> 1339</span>        <span class="keywordflow">if</span> mode == <span class="stringliteral">&quot;connectivity&quot;</span>:</div>
<div class="line"><span class="lineno"> 1340</span>            A_ind = self.radius_neighbors(X, radius, return_distance=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 1341</span>            A_data = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1342</span>        <span class="keywordflow">elif</span> mode == <span class="stringliteral">&quot;distance&quot;</span>:</div>
<div class="line"><span class="lineno"> 1343</span>            dist, A_ind = self.radius_neighbors(</div>
<div class="line"><span class="lineno"> 1344</span>                X, radius, return_distance=<span class="keyword">True</span>, sort_results=sort_results</div>
<div class="line"><span class="lineno"> 1345</span>            )</div>
<div class="line"><span class="lineno"> 1346</span>            A_data = np.concatenate(list(dist))</div>
<div class="line"><span class="lineno"> 1347</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1348</span>            <span class="keywordflow">raise</span> ValueError(</div>
<div class="line"><span class="lineno"> 1349</span>                <span class="stringliteral">&#39;Unsupported mode, must be one of &quot;connectivity&quot;, &#39;</span></div>
<div class="line"><span class="lineno"> 1350</span>                f<span class="stringliteral">&#39;or &quot;distance&quot; but got &quot;{mode}&quot; instead&#39;</span></div>
<div class="line"><span class="lineno"> 1351</span>            )</div>
<div class="line"><span class="lineno"> 1352</span> </div>
<div class="line"><span class="lineno"> 1353</span>        n_queries = A_ind.shape[0]</div>
<div class="line"><span class="lineno"> 1354</span>        n_samples_fit = self.n_samples_fit_</div>
<div class="line"><span class="lineno"> 1355</span>        n_neighbors = np.array([len(a) <span class="keywordflow">for</span> a <span class="keywordflow">in</span> A_ind])</div>
<div class="line"><span class="lineno"> 1356</span>        A_ind = np.concatenate(list(A_ind))</div>
<div class="line"><span class="lineno"> 1357</span>        <span class="keywordflow">if</span> A_data <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1358</span>            A_data = np.ones(len(A_ind))</div>
<div class="line"><span class="lineno"> 1359</span>        A_indptr = np.concatenate((np.zeros(1, dtype=int), np.cumsum(n_neighbors)))</div>
<div class="line"><span class="lineno"> 1360</span> </div>
<div class="line"><span class="lineno"> 1361</span>        <span class="keywordflow">return</span> csr_matrix((A_data, A_ind, A_indptr), shape=(n_queries, n_samples_fit))</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a179a8aa61f59e2fd23416ef82fe777b1" name="a179a8aa61f59e2fd23416ef82fe777b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a179a8aa61f59e2fd23416ef82fe777b1">&#9670;&#160;</a></span>_fit_method</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.neighbors._base.RadiusNeighborsMixin._fit_method</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af7b30d0c3cc4b832e8cd65f04c731380" name="af7b30d0c3cc4b832e8cd65f04c731380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b30d0c3cc4b832e8cd65f04c731380">&#9670;&#160;</a></span>_fit_X</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.neighbors._base.RadiusNeighborsMixin._fit_X</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7474d9c6ba44d184f69b07399476b4df" name="a7474d9c6ba44d184f69b07399476b4df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7474d9c6ba44d184f69b07399476b4df">&#9670;&#160;</a></span>_radius_neighbors_reduce_func</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.neighbors._base.RadiusNeighborsMixin._radius_neighbors_reduce_func</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a6e760d40595b20511c5aedb8baab4a75" name="a6e760d40595b20511c5aedb8baab4a75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6e760d40595b20511c5aedb8baab4a75">&#9670;&#160;</a></span>_tree</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.neighbors._base.RadiusNeighborsMixin._tree</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aab89d6655196bcb45f1270b02997bb35" name="aab89d6655196bcb45f1270b02997bb35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab89d6655196bcb45f1270b02997bb35">&#9670;&#160;</a></span>effective_metric_</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.neighbors._base.RadiusNeighborsMixin.effective_metric_</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0c2488063ce88997c6aa83c33362a034" name="a0c2488063ce88997c6aa83c33362a034"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c2488063ce88997c6aa83c33362a034">&#9670;&#160;</a></span>metric</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sklearn.neighbors._base.RadiusNeighborsMixin.metric</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/sklearn/neighbors/<a class="el" href="sklearn_2neighbors_2__base_8py.html">_base.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
