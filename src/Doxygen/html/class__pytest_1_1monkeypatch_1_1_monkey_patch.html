<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: _pytest.monkeypatch.MonkeyPatch Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace__pytest.html">_pytest</a></li><li class="navelem"><a class="el" href="namespace__pytest_1_1monkeypatch.html">monkeypatch</a></li><li class="navelem"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html">MonkeyPatch</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="class__pytest_1_1monkeypatch_1_1_monkey_patch-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">_pytest.monkeypatch.MonkeyPatch Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa856248e951b33466a3e56ccd3b1d910" id="r_aa856248e951b33466a3e56ccd3b1d910"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#aa856248e951b33466a3e56ccd3b1d910">__init__</a> (self)</td></tr>
<tr class="separator:aa856248e951b33466a3e56ccd3b1d910"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbab97bc6c8aeb827e43d0f3a942f626" id="r_abbab97bc6c8aeb827e43d0f3a942f626"><td class="memItemLeft" align="right" valign="top">Generator[&quot;MonkeyPatch&quot;, None, None]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#abbab97bc6c8aeb827e43d0f3a942f626">context</a> (cls)</td></tr>
<tr class="separator:abbab97bc6c8aeb827e43d0f3a942f626"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c90e0f1eecb6ab4948437eb1a921b44" id="r_a3c90e0f1eecb6ab4948437eb1a921b44"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#a3c90e0f1eecb6ab4948437eb1a921b44">setattr</a> (self, str target, object name, <a class="el" href="class__pytest_1_1monkeypatch_1_1_notset.html">Notset</a> value=..., bool raising=...)</td></tr>
<tr class="separator:a3c90e0f1eecb6ab4948437eb1a921b44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa62fd9e986ea77065ef0aae8926384e0" id="r_aa62fd9e986ea77065ef0aae8926384e0"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#aa62fd9e986ea77065ef0aae8926384e0">setattr</a> (self, object target, str name, object value, bool raising=...)</td></tr>
<tr class="separator:aa62fd9e986ea77065ef0aae8926384e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a185e02c3f74c9043a947d91944576804" id="r_a185e02c3f74c9043a947d91944576804"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#a185e02c3f74c9043a947d91944576804">setattr</a> (self, Union[str, object] target, Union[object, str] name, object value=<a class="el" href="namespace__pytest_1_1monkeypatch.html#a509b82e5508ffff5f228c76b385e1b44">notset</a>, bool raising=True)</td></tr>
<tr class="separator:a185e02c3f74c9043a947d91944576804"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8865a3ad7de61420750e3cf69f3c538e" id="r_a8865a3ad7de61420750e3cf69f3c538e"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#a8865a3ad7de61420750e3cf69f3c538e">delattr</a> (self, Union[object, str] target, Union[str, <a class="el" href="class__pytest_1_1monkeypatch_1_1_notset.html">Notset</a>] name=<a class="el" href="namespace__pytest_1_1monkeypatch.html#a509b82e5508ffff5f228c76b385e1b44">notset</a>, bool raising=True)</td></tr>
<tr class="separator:a8865a3ad7de61420750e3cf69f3c538e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada9e31896a8856b4c32e92ede2884854" id="r_ada9e31896a8856b4c32e92ede2884854"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#ada9e31896a8856b4c32e92ede2884854">setitem</a> (self, MutableMapping[<a class="el" href="namespace__pytest_1_1monkeypatch.html#af4ca6ec8a03311cc72310275d968dc02">K</a>, <a class="el" href="namespace__pytest_1_1monkeypatch.html#a74df17db1849fdaabd227eaf6cef867f">V</a>] dic, <a class="el" href="namespace__pytest_1_1monkeypatch.html#af4ca6ec8a03311cc72310275d968dc02">K</a> name, <a class="el" href="namespace__pytest_1_1monkeypatch.html#a74df17db1849fdaabd227eaf6cef867f">V</a> value)</td></tr>
<tr class="separator:ada9e31896a8856b4c32e92ede2884854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55d5b0a279d0f2560ba97a4b0d6f9252" id="r_a55d5b0a279d0f2560ba97a4b0d6f9252"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#a55d5b0a279d0f2560ba97a4b0d6f9252">delitem</a> (self, MutableMapping[<a class="el" href="namespace__pytest_1_1monkeypatch.html#af4ca6ec8a03311cc72310275d968dc02">K</a>, <a class="el" href="namespace__pytest_1_1monkeypatch.html#a74df17db1849fdaabd227eaf6cef867f">V</a>] dic, <a class="el" href="namespace__pytest_1_1monkeypatch.html#af4ca6ec8a03311cc72310275d968dc02">K</a> name, bool raising=True)</td></tr>
<tr class="separator:a55d5b0a279d0f2560ba97a4b0d6f9252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64e2e17c5b5083b515273222fb0bcf47" id="r_a64e2e17c5b5083b515273222fb0bcf47"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#a64e2e17c5b5083b515273222fb0bcf47">setenv</a> (self, str name, str value, Optional[str] prepend=None)</td></tr>
<tr class="separator:a64e2e17c5b5083b515273222fb0bcf47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a246f441b37366132569514222cdb2a05" id="r_a246f441b37366132569514222cdb2a05"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#a246f441b37366132569514222cdb2a05">delenv</a> (self, str name, bool raising=True)</td></tr>
<tr class="separator:a246f441b37366132569514222cdb2a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae68942b3b7352e279aae9285628c208c" id="r_ae68942b3b7352e279aae9285628c208c"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#ae68942b3b7352e279aae9285628c208c">syspath_prepend</a> (self, path)</td></tr>
<tr class="separator:ae68942b3b7352e279aae9285628c208c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abab3eb6b2d2bba0cc984dc0a6c51547c" id="r_abab3eb6b2d2bba0cc984dc0a6c51547c"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#abab3eb6b2d2bba0cc984dc0a6c51547c">chdir</a> (self, Union[str, &quot;os.PathLike[str]&quot;] path)</td></tr>
<tr class="separator:abab3eb6b2d2bba0cc984dc0a6c51547c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e854d466ae318eb6c3d30a131bfb195" id="r_a4e854d466ae318eb6c3d30a131bfb195"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#a4e854d466ae318eb6c3d30a131bfb195">undo</a> (self)</td></tr>
<tr class="separator:a4e854d466ae318eb6c3d30a131bfb195"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9e5b0082cec10333a69fe82cfc4fc8bb" id="r_a9e5b0082cec10333a69fe82cfc4fc8bb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#a9e5b0082cec10333a69fe82cfc4fc8bb">_savesyspath</a></td></tr>
<tr class="separator:a9e5b0082cec10333a69fe82cfc4fc8bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ebb9e9e16e464e058ae369d3e188646" id="r_a5ebb9e9e16e464e058ae369d3e188646"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#a5ebb9e9e16e464e058ae369d3e188646">_cwd</a></td></tr>
<tr class="separator:a5ebb9e9e16e464e058ae369d3e188646"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5898eaa99dba24f13b1ccc9f7ba1e80" id="r_aa5898eaa99dba24f13b1ccc9f7ba1e80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#aa5898eaa99dba24f13b1ccc9f7ba1e80">_setattr</a></td></tr>
<tr class="separator:aa5898eaa99dba24f13b1ccc9f7ba1e80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a445bd817b71c9932b75fafea175aaf2c" id="r_a445bd817b71c9932b75fafea175aaf2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class__pytest_1_1monkeypatch_1_1_monkey_patch.html#a445bd817b71c9932b75fafea175aaf2c">_setitem</a></td></tr>
<tr class="separator:a445bd817b71c9932b75fafea175aaf2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Helper to conveniently monkeypatch attributes/items/environment
variables/syspath.

Returned by the :fixture:`monkeypatch` fixture.

.. versionchanged:: 6.2
    Can now also be used directly as `pytest.MonkeyPatch()`, for when
    the fixture is not available. In this case, use
    :meth:`with MonkeyPatch.context() as mp: &lt;context&gt;` or remember to call
    :meth:`undo` explicitly.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aa856248e951b33466a3e56ccd3b1d910" name="aa856248e951b33466a3e56ccd3b1d910"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa856248e951b33466a3e56ccd3b1d910">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  130</span>    <span class="keyword">def </span>__init__(self) -&gt; None:</div>
<div class="line"><span class="lineno">  131</span>        self._setattr: List[Tuple[object, str, object]] = []</div>
<div class="line"><span class="lineno">  132</span>        self._setitem: List[Tuple[MutableMapping[Any, Any], object, object]] = []</div>
<div class="line"><span class="lineno">  133</span>        self._cwd: Optional[str] = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  134</span>        self._savesyspath: Optional[List[str]] = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  135</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="abab3eb6b2d2bba0cc984dc0a6c51547c" name="abab3eb6b2d2bba0cc984dc0a6c51547c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abab3eb6b2d2bba0cc984dc0a6c51547c">&#9670;&#160;</a></span>chdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.chdir </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[str, &quot;os.PathLike[str]&quot;]&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Change the current working directory to the specified path.

:param path:
    The path to change into.
</pre> <div class="fragment"><div class="line"><span class="lineno">  367</span>    <span class="keyword">def </span>chdir(self, path: Union[str, <span class="stringliteral">&quot;os.PathLike[str]&quot;</span>]) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  368</span>        <span class="stringliteral">&quot;&quot;&quot;Change the current working directory to the specified path.</span></div>
<div class="line"><span class="lineno">  369</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  370</span><span class="stringliteral">        :param path:</span></div>
<div class="line"><span class="lineno">  371</span><span class="stringliteral">            The path to change into.</span></div>
<div class="line"><span class="lineno">  372</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordflow">if</span> self._cwd <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  374</span>            self._cwd = os.getcwd()</div>
<div class="line"><span class="lineno">  375</span>        os.chdir(path)</div>
<div class="line"><span class="lineno">  376</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abbab97bc6c8aeb827e43d0f3a942f626" name="abbab97bc6c8aeb827e43d0f3a942f626"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abbab97bc6c8aeb827e43d0f3a942f626">&#9670;&#160;</a></span>context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Generator[&quot;MonkeyPatch&quot;, None, None] _pytest.monkeypatch.MonkeyPatch.context </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Context manager that returns a new :class:`MonkeyPatch` object
which undoes any patching done inside the ``with`` block upon exit.

Example:

.. code-block:: python

    import functools


    def test_partial(monkeypatch):
        with monkeypatch.context() as m:
            m.setattr(functools, "partial", 3)

Useful in situations where it is desired to undo some patches before the test ends,
such as mocking ``stdlib`` functions that might break pytest itself if mocked (for examples
of this see :issue:`3290`).
</pre> <div class="fragment"><div class="line"><span class="lineno">  138</span>    <span class="keyword">def </span>context(cls) -&gt; Generator[&quot;MonkeyPatch&quot;, None, None]:</div>
<div class="line"><span class="lineno">  139</span>        <span class="stringliteral">&quot;&quot;&quot;Context manager that returns a new :class:`MonkeyPatch` object</span></div>
<div class="line"><span class="lineno">  140</span><span class="stringliteral">        which undoes any patching done inside the ``with`` block upon exit.</span></div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  142</span><span class="stringliteral">        Example:</span></div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">        .. code-block:: python</span></div>
<div class="line"><span class="lineno">  145</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  146</span><span class="stringliteral">            import functools</span></div>
<div class="line"><span class="lineno">  147</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  148</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">            def test_partial(monkeypatch):</span></div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">                with monkeypatch.context() as m:</span></div>
<div class="line"><span class="lineno">  151</span><span class="stringliteral">                    m.setattr(functools, &quot;partial&quot;, 3)</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">        Useful in situations where it is desired to undo some patches before the test ends,</span></div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">        such as mocking ``stdlib`` functions that might break pytest itself if mocked (for examples</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral">        of this see :issue:`3290`).</span></div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  157</span>        m = cls()</div>
<div class="line"><span class="lineno">  158</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  159</span>            <span class="keywordflow">yield</span> m</div>
<div class="line"><span class="lineno">  160</span>        <span class="keywordflow">finally</span>:</div>
<div class="line"><span class="lineno">  161</span>            m.undo()</div>
<div class="line"><span class="lineno">  162</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a8865a3ad7de61420750e3cf69f3c538e" name="a8865a3ad7de61420750e3cf69f3c538e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8865a3ad7de61420750e3cf69f3c538e">&#9670;&#160;</a></span>delattr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.delattr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[object, str]&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[str, <a class="el" href="class__pytest_1_1monkeypatch_1_1_notset.html">Notset</a>] &#160;</td>
          <td class="paramname"><em>name</em> = <code><a class="el" href="namespace__pytest_1_1monkeypatch.html#a509b82e5508ffff5f228c76b385e1b44">notset</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>raising</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Delete attribute ``name`` from ``target``.

If no ``name`` is specified and ``target`` is a string
it will be interpreted as a dotted import path with the
last part being the attribute name.

Raises AttributeError it the attribute does not exist, unless
``raising`` is set to False.
</pre> <div class="fragment"><div class="line"><span class="lineno">  260</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  261</span>        <span class="stringliteral">&quot;&quot;&quot;Delete attribute ``name`` from ``target``.</span></div>
<div class="line"><span class="lineno">  262</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  263</span><span class="stringliteral">        If no ``name`` is specified and ``target`` is a string</span></div>
<div class="line"><span class="lineno">  264</span><span class="stringliteral">        it will be interpreted as a dotted import path with the</span></div>
<div class="line"><span class="lineno">  265</span><span class="stringliteral">        last part being the attribute name.</span></div>
<div class="line"><span class="lineno">  266</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  267</span><span class="stringliteral">        Raises AttributeError it the attribute does not exist, unless</span></div>
<div class="line"><span class="lineno">  268</span><span class="stringliteral">        ``raising`` is set to False.</span></div>
<div class="line"><span class="lineno">  269</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  270</span>        __tracebackhide__ = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  271</span>        <span class="keyword">import</span> inspect</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordflow">if</span> isinstance(name, Notset):</div>
<div class="line"><span class="lineno">  274</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(target, str):</div>
<div class="line"><span class="lineno">  275</span>                <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">  276</span>                    <span class="stringliteral">&quot;use delattr(target, name) or &quot;</span></div>
<div class="line"><span class="lineno">  277</span>                    <span class="stringliteral">&quot;delattr(target) with target being a dotted &quot;</span></div>
<div class="line"><span class="lineno">  278</span>                    <span class="stringliteral">&quot;import string&quot;</span></div>
<div class="line"><span class="lineno">  279</span>                )</div>
<div class="line"><span class="lineno">  280</span>            name, target = derive_importpath(target, raising)</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(target, name):</div>
<div class="line"><span class="lineno">  283</span>            <span class="keywordflow">if</span> raising:</div>
<div class="line"><span class="lineno">  284</span>                <span class="keywordflow">raise</span> AttributeError(name)</div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  286</span>            oldval = getattr(target, name, notset)</div>
<div class="line"><span class="lineno">  287</span>            <span class="comment"># Avoid class descriptors like staticmethod/classmethod.</span></div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">if</span> inspect.isclass(target):</div>
<div class="line"><span class="lineno">  289</span>                oldval = target.__dict__.get(name, notset)</div>
<div class="line"><span class="lineno">  290</span>            self._setattr.append((target, name, oldval))</div>
<div class="line"><span class="lineno">  291</span>            delattr(target, name)</div>
<div class="line"><span class="lineno">  292</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a246f441b37366132569514222cdb2a05" name="a246f441b37366132569514222cdb2a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a246f441b37366132569514222cdb2a05">&#9670;&#160;</a></span>delenv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.delenv </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>raising</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Delete ``name`` from the environment.

Raises ``KeyError`` if it does not exist, unless ``raising`` is set to
False.
</pre> <div class="fragment"><div class="line"><span class="lineno">  333</span>    <span class="keyword">def </span>delenv(self, name: str, raising: bool = <span class="keyword">True</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  334</span>        <span class="stringliteral">&quot;&quot;&quot;Delete ``name`` from the environment.</span></div>
<div class="line"><span class="lineno">  335</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">        Raises ``KeyError`` if it does not exist, unless ``raising`` is set to</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">        False.</span></div>
<div class="line"><span class="lineno">  338</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  339</span>        environ: MutableMapping[str, str] = os.environ</div>
<div class="line"><span class="lineno">  340</span>        self.delitem(environ, name, raising=raising)</div>
<div class="line"><span class="lineno">  341</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a55d5b0a279d0f2560ba97a4b0d6f9252" name="a55d5b0a279d0f2560ba97a4b0d6f9252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55d5b0a279d0f2560ba97a4b0d6f9252">&#9670;&#160;</a></span>delitem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.delitem </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MutableMapping[<a class="el" href="namespace__pytest_1_1monkeypatch.html#af4ca6ec8a03311cc72310275d968dc02">K</a>, <a class="el" href="namespace__pytest_1_1monkeypatch.html#a74df17db1849fdaabd227eaf6cef867f">V</a>]&#160;</td>
          <td class="paramname"><em>dic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace__pytest_1_1monkeypatch.html#af4ca6ec8a03311cc72310275d968dc02">K</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>raising</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Delete ``name`` from dict.

Raises ``KeyError`` if it doesn't exist, unless ``raising`` is set to
False.
</pre> <div class="fragment"><div class="line"><span class="lineno">  298</span>    <span class="keyword">def </span>delitem(self, dic: MutableMapping[K, V], name: K, raising: bool = <span class="keyword">True</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  299</span>        <span class="stringliteral">&quot;&quot;&quot;Delete ``name`` from dict.</span></div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">        Raises ``KeyError`` if it doesn&#39;t exist, unless ``raising`` is set to</span></div>
<div class="line"><span class="lineno">  302</span><span class="stringliteral">        False.</span></div>
<div class="line"><span class="lineno">  303</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">if</span> name <span class="keywordflow">not</span> <span class="keywordflow">in</span> dic:</div>
<div class="line"><span class="lineno">  305</span>            <span class="keywordflow">if</span> raising:</div>
<div class="line"><span class="lineno">  306</span>                <span class="keywordflow">raise</span> KeyError(name)</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  308</span>            self._setitem.append((dic, name, dic.get(name, notset)))</div>
<div class="line"><span class="lineno">  309</span>            del dic[name]</div>
<div class="line"><span class="lineno">  310</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa62fd9e986ea77065ef0aae8926384e0" name="aa62fd9e986ea77065ef0aae8926384e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa62fd9e986ea77065ef0aae8926384e0">&#9670;&#160;</a></span>setattr() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.setattr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>raising</em> = <code>...</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  180</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  181</span>        ...</div>
<div class="line"><span class="lineno">  182</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3c90e0f1eecb6ab4948437eb1a921b44" name="a3c90e0f1eecb6ab4948437eb1a921b44"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c90e0f1eecb6ab4948437eb1a921b44">&#9670;&#160;</a></span>setattr() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.setattr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class__pytest_1_1monkeypatch_1_1_notset.html">Notset</a> &#160;</td>
          <td class="paramname"><em>value</em> = <code>...</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>raising</em> = <code>...</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  170</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  171</span>        ...</div>
<div class="line"><span class="lineno">  172</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a185e02c3f74c9043a947d91944576804" name="a185e02c3f74c9043a947d91944576804"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a185e02c3f74c9043a947d91944576804">&#9670;&#160;</a></span>setattr() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.setattr </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[str, object]&#160;</td>
          <td class="paramname"><em>target</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[object, str]&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">object &#160;</td>
          <td class="paramname"><em>value</em> = <code><a class="el" href="namespace__pytest_1_1monkeypatch.html#a509b82e5508ffff5f228c76b385e1b44">notset</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>raising</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set attribute value on target, memorizing the old value.

For example:

.. code-block:: python

    import os

    monkeypatch.setattr(os, "getcwd", lambda: "/")

The code above replaces the :func:`os.getcwd` function by a ``lambda`` which
always returns ``"/"``.

For convenience, you can specify a string as ``target`` which
will be interpreted as a dotted import path, with the last part
being the attribute name:

.. code-block:: python

    monkeypatch.setattr("os.getcwd", lambda: "/")

Raises :class:`AttributeError` if the attribute does not exist, unless
``raising`` is set to False.

**Where to patch**

``monkeypatch.setattr`` works by (temporarily) changing the object that a name points to with another one.
There can be many names pointing to any individual object, so for patching to work you must ensure
that you patch the name used by the system under test.

See the section :ref:`Where to patch &lt;python:where-to-patch&gt;` in the :mod:`unittest.mock`
docs for a complete explanation, which is meant for :func:`unittest.mock.patch` but
applies to ``monkeypatch.setattr`` as well.
</pre> <div class="fragment"><div class="line"><span class="lineno">  189</span>    ) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  190</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  191</span><span class="stringliteral">        Set attribute value on target, memorizing the old value.</span></div>
<div class="line"><span class="lineno">  192</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  193</span><span class="stringliteral">        For example:</span></div>
<div class="line"><span class="lineno">  194</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  195</span><span class="stringliteral">        .. code-block:: python</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral">            import os</span></div>
<div class="line"><span class="lineno">  198</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  199</span><span class="stringliteral">            monkeypatch.setattr(os, &quot;getcwd&quot;, lambda: &quot;/&quot;)</span></div>
<div class="line"><span class="lineno">  200</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  201</span><span class="stringliteral">        The code above replaces the :func:`os.getcwd` function by a ``lambda`` which</span></div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral">        always returns ``&quot;/&quot;``.</span></div>
<div class="line"><span class="lineno">  203</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  204</span><span class="stringliteral">        For convenience, you can specify a string as ``target`` which</span></div>
<div class="line"><span class="lineno">  205</span><span class="stringliteral">        will be interpreted as a dotted import path, with the last part</span></div>
<div class="line"><span class="lineno">  206</span><span class="stringliteral">        being the attribute name:</span></div>
<div class="line"><span class="lineno">  207</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  208</span><span class="stringliteral">        .. code-block:: python</span></div>
<div class="line"><span class="lineno">  209</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral">            monkeypatch.setattr(&quot;os.getcwd&quot;, lambda: &quot;/&quot;)</span></div>
<div class="line"><span class="lineno">  211</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  212</span><span class="stringliteral">        Raises :class:`AttributeError` if the attribute does not exist, unless</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral">        ``raising`` is set to False.</span></div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral">        **Where to patch**</span></div>
<div class="line"><span class="lineno">  216</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral">        ``monkeypatch.setattr`` works by (temporarily) changing the object that a name points to with another one.</span></div>
<div class="line"><span class="lineno">  218</span><span class="stringliteral">        There can be many names pointing to any individual object, so for patching to work you must ensure</span></div>
<div class="line"><span class="lineno">  219</span><span class="stringliteral">        that you patch the name used by the system under test.</span></div>
<div class="line"><span class="lineno">  220</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  221</span><span class="stringliteral">        See the section :ref:`Where to patch &lt;python:where-to-patch&gt;` in the :mod:`unittest.mock`</span></div>
<div class="line"><span class="lineno">  222</span><span class="stringliteral">        docs for a complete explanation, which is meant for :func:`unittest.mock.patch` but</span></div>
<div class="line"><span class="lineno">  223</span><span class="stringliteral">        applies to ``monkeypatch.setattr`` as well.</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  225</span>        __tracebackhide__ = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  226</span>        <span class="keyword">import</span> inspect</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>        <span class="keywordflow">if</span> isinstance(value, Notset):</div>
<div class="line"><span class="lineno">  229</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(target, str):</div>
<div class="line"><span class="lineno">  230</span>                <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">  231</span>                    <span class="stringliteral">&quot;use setattr(target, name, value) or &quot;</span></div>
<div class="line"><span class="lineno">  232</span>                    <span class="stringliteral">&quot;setattr(target, value) with target being a dotted &quot;</span></div>
<div class="line"><span class="lineno">  233</span>                    <span class="stringliteral">&quot;import string&quot;</span></div>
<div class="line"><span class="lineno">  234</span>                )</div>
<div class="line"><span class="lineno">  235</span>            value = name</div>
<div class="line"><span class="lineno">  236</span>            name, target = derive_importpath(target, raising)</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  238</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(name, str):</div>
<div class="line"><span class="lineno">  239</span>                <span class="keywordflow">raise</span> TypeError(</div>
<div class="line"><span class="lineno">  240</span>                    <span class="stringliteral">&quot;use setattr(target, name, value) with name being a string or &quot;</span></div>
<div class="line"><span class="lineno">  241</span>                    <span class="stringliteral">&quot;setattr(target, value) with target being a dotted &quot;</span></div>
<div class="line"><span class="lineno">  242</span>                    <span class="stringliteral">&quot;import string&quot;</span></div>
<div class="line"><span class="lineno">  243</span>                )</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>        oldval = getattr(target, name, notset)</div>
<div class="line"><span class="lineno">  246</span>        <span class="keywordflow">if</span> raising <span class="keywordflow">and</span> oldval <span class="keywordflow">is</span> notset:</div>
<div class="line"><span class="lineno">  247</span>            <span class="keywordflow">raise</span> AttributeError(f<span class="stringliteral">&quot;{target!r} has no attribute {name!r}&quot;</span>)</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>        <span class="comment"># avoid class descriptors like staticmethod/classmethod</span></div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">if</span> inspect.isclass(target):</div>
<div class="line"><span class="lineno">  251</span>            oldval = target.__dict__.get(name, notset)</div>
<div class="line"><span class="lineno">  252</span>        self._setattr.append((target, name, oldval))</div>
<div class="line"><span class="lineno">  253</span>        setattr(target, name, value)</div>
<div class="line"><span class="lineno">  254</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a64e2e17c5b5083b515273222fb0bcf47" name="a64e2e17c5b5083b515273222fb0bcf47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64e2e17c5b5083b515273222fb0bcf47">&#9670;&#160;</a></span>setenv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.setenv </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>prepend</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set environment variable ``name`` to ``value``.

If ``prepend`` is a character, read the current environment variable
value and prepend the ``value`` adjoined with the ``prepend``
character.
</pre> <div class="fragment"><div class="line"><span class="lineno">  311</span>    <span class="keyword">def </span>setenv(self, name: str, value: str, prepend: Optional[str] = <span class="keywordtype">None</span>) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  312</span>        <span class="stringliteral">&quot;&quot;&quot;Set environment variable ``name`` to ``value``.</span></div>
<div class="line"><span class="lineno">  313</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  314</span><span class="stringliteral">        If ``prepend`` is a character, read the current environment variable</span></div>
<div class="line"><span class="lineno">  315</span><span class="stringliteral">        value and prepend the ``value`` adjoined with the ``prepend``</span></div>
<div class="line"><span class="lineno">  316</span><span class="stringliteral">        character.</span></div>
<div class="line"><span class="lineno">  317</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(value, str):</div>
<div class="line"><span class="lineno">  319</span>            warnings.warn(  <span class="comment"># type: ignore[unreachable]</span></div>
<div class="line"><span class="lineno">  320</span>                PytestWarning(</div>
<div class="line"><span class="lineno">  321</span>                    <span class="stringliteral">&quot;Value of environment variable {name} type should be str, but got &quot;</span></div>
<div class="line"><span class="lineno">  322</span>                    <span class="stringliteral">&quot;{value!r} (type: {type}); converted to str implicitly&quot;</span>.format(</div>
<div class="line"><span class="lineno">  323</span>                        name=name, value=value, type=type(value).__name__</div>
<div class="line"><span class="lineno">  324</span>                    )</div>
<div class="line"><span class="lineno">  325</span>                ),</div>
<div class="line"><span class="lineno">  326</span>                stacklevel=2,</div>
<div class="line"><span class="lineno">  327</span>            )</div>
<div class="line"><span class="lineno">  328</span>            value = str(value)</div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">if</span> prepend <span class="keywordflow">and</span> name <span class="keywordflow">in</span> os.environ:</div>
<div class="line"><span class="lineno">  330</span>            value = value + prepend + os.environ[name]</div>
<div class="line"><span class="lineno">  331</span>        self.setitem(os.environ, name, value)</div>
<div class="line"><span class="lineno">  332</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ada9e31896a8856b4c32e92ede2884854" name="ada9e31896a8856b4c32e92ede2884854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada9e31896a8856b4c32e92ede2884854">&#9670;&#160;</a></span>setitem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.setitem </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">MutableMapping[<a class="el" href="namespace__pytest_1_1monkeypatch.html#af4ca6ec8a03311cc72310275d968dc02">K</a>, <a class="el" href="namespace__pytest_1_1monkeypatch.html#a74df17db1849fdaabd227eaf6cef867f">V</a>]&#160;</td>
          <td class="paramname"><em>dic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace__pytest_1_1monkeypatch.html#af4ca6ec8a03311cc72310275d968dc02">K</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespace__pytest_1_1monkeypatch.html#a74df17db1849fdaabd227eaf6cef867f">V</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Set dictionary entry ``name`` to value.</pre> <div class="fragment"><div class="line"><span class="lineno">  293</span>    <span class="keyword">def </span>setitem(self, dic: MutableMapping[K, V], name: K, value: V) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  294</span>        <span class="stringliteral">&quot;&quot;&quot;Set dictionary entry ``name`` to value.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  295</span>        self._setitem.append((dic, name, dic.get(name, notset)))</div>
<div class="line"><span class="lineno">  296</span>        dic[name] = value</div>
<div class="line"><span class="lineno">  297</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae68942b3b7352e279aae9285628c208c" name="ae68942b3b7352e279aae9285628c208c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae68942b3b7352e279aae9285628c208c">&#9670;&#160;</a></span>syspath_prepend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.syspath_prepend </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Prepend ``path`` to ``sys.path`` list of import locations.</pre> <div class="fragment"><div class="line"><span class="lineno">  342</span>    <span class="keyword">def </span>syspath_prepend(self, path) -&gt; None:</div>
<div class="line"><span class="lineno">  343</span>        <span class="stringliteral">&quot;&quot;&quot;Prepend ``path`` to ``sys.path`` list of import locations.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>        <span class="keywordflow">if</span> self._savesyspath <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  346</span>            self._savesyspath = sys.path[:]</div>
<div class="line"><span class="lineno">  347</span>        sys.path.insert(0, str(path))</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>        <span class="comment"># https://github.com/pypa/setuptools/blob/d8b901bc/docs/pkg_resources.txt#L162-L171</span></div>
<div class="line"><span class="lineno">  350</span>        <span class="comment"># this is only needed when pkg_resources was already loaded by the namespace package</span></div>
<div class="line"><span class="lineno">  351</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;pkg_resources&quot;</span> <span class="keywordflow">in</span> sys.modules:</div>
<div class="line"><span class="lineno">  352</span>            <span class="keyword">from</span> pkg_resources <span class="keyword">import</span> fixup_namespace_packages</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>            fixup_namespace_packages(str(path))</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>        <span class="comment"># A call to syspathinsert() usually means that the caller wants to</span></div>
<div class="line"><span class="lineno">  357</span>        <span class="comment"># import some dynamically created files, thus with python3 we</span></div>
<div class="line"><span class="lineno">  358</span>        <span class="comment"># invalidate its import caches.</span></div>
<div class="line"><span class="lineno">  359</span>        <span class="comment"># This is especially important when any namespace package is in use,</span></div>
<div class="line"><span class="lineno">  360</span>        <span class="comment"># since then the mtime based FileFinder cache (that gets created in</span></div>
<div class="line"><span class="lineno">  361</span>        <span class="comment"># this case already) gets not invalidated when writing the new files</span></div>
<div class="line"><span class="lineno">  362</span>        <span class="comment"># quickly afterwards.</span></div>
<div class="line"><span class="lineno">  363</span>        <span class="keyword">from</span> importlib <span class="keyword">import</span> invalidate_caches</div>
<div class="line"><span class="lineno">  364</span> </div>
<div class="line"><span class="lineno">  365</span>        invalidate_caches()</div>
<div class="line"><span class="lineno">  366</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4e854d466ae318eb6c3d30a131bfb195" name="a4e854d466ae318eb6c3d30a131bfb195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e854d466ae318eb6c3d30a131bfb195">&#9670;&#160;</a></span>undo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None _pytest.monkeypatch.MonkeyPatch.undo </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Undo previous changes.

This call consumes the undo stack. Calling it a second time has no
effect unless you do more monkeypatching after the undo call.

There is generally no need to call `undo()`, since it is
called automatically during tear-down.

.. note::
    The same `monkeypatch` fixture is used across a
    single test function invocation. If `monkeypatch` is used both by
    the test function itself and one of the test fixtures,
    calling `undo()` will undo all of the changes made in
    both functions.

    Prefer to use :meth:`context() &lt;pytest.MonkeyPatch.context&gt;` instead.
</pre> <div class="fragment"><div class="line"><span class="lineno">  377</span>    <span class="keyword">def </span>undo(self) -&gt; None:</div>
<div class="line"><span class="lineno">  378</span>        <span class="stringliteral">&quot;&quot;&quot;Undo previous changes.</span></div>
<div class="line"><span class="lineno">  379</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  380</span><span class="stringliteral">        This call consumes the undo stack. Calling it a second time has no</span></div>
<div class="line"><span class="lineno">  381</span><span class="stringliteral">        effect unless you do more monkeypatching after the undo call.</span></div>
<div class="line"><span class="lineno">  382</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  383</span><span class="stringliteral">        There is generally no need to call `undo()`, since it is</span></div>
<div class="line"><span class="lineno">  384</span><span class="stringliteral">        called automatically during tear-down.</span></div>
<div class="line"><span class="lineno">  385</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  386</span><span class="stringliteral">        .. note::</span></div>
<div class="line"><span class="lineno">  387</span><span class="stringliteral">            The same `monkeypatch` fixture is used across a</span></div>
<div class="line"><span class="lineno">  388</span><span class="stringliteral">            single test function invocation. If `monkeypatch` is used both by</span></div>
<div class="line"><span class="lineno">  389</span><span class="stringliteral">            the test function itself and one of the test fixtures,</span></div>
<div class="line"><span class="lineno">  390</span><span class="stringliteral">            calling `undo()` will undo all of the changes made in</span></div>
<div class="line"><span class="lineno">  391</span><span class="stringliteral">            both functions.</span></div>
<div class="line"><span class="lineno">  392</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  393</span><span class="stringliteral">            Prefer to use :meth:`context() &lt;pytest.MonkeyPatch.context&gt;` instead.</span></div>
<div class="line"><span class="lineno">  394</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  395</span>        <span class="keywordflow">for</span> obj, name, value <span class="keywordflow">in</span> reversed(self._setattr):</div>
<div class="line"><span class="lineno">  396</span>            <span class="keywordflow">if</span> value <span class="keywordflow">is</span> <span class="keywordflow">not</span> notset:</div>
<div class="line"><span class="lineno">  397</span>                setattr(obj, name, value)</div>
<div class="line"><span class="lineno">  398</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  399</span>                delattr(obj, name)</div>
<div class="line"><span class="lineno">  400</span>        self._setattr[:] = []</div>
<div class="line"><span class="lineno">  401</span>        <span class="keywordflow">for</span> dictionary, key, value <span class="keywordflow">in</span> reversed(self._setitem):</div>
<div class="line"><span class="lineno">  402</span>            <span class="keywordflow">if</span> value <span class="keywordflow">is</span> notset:</div>
<div class="line"><span class="lineno">  403</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  404</span>                    del dictionary[key]</div>
<div class="line"><span class="lineno">  405</span>                <span class="keywordflow">except</span> KeyError:</div>
<div class="line"><span class="lineno">  406</span>                    <span class="keywordflow">pass</span>  <span class="comment"># Was already deleted, so we have the desired state.</span></div>
<div class="line"><span class="lineno">  407</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  408</span>                dictionary[key] = value</div>
<div class="line"><span class="lineno">  409</span>        self._setitem[:] = []</div>
<div class="line"><span class="lineno">  410</span>        <span class="keywordflow">if</span> self._savesyspath <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  411</span>            sys.path[:] = self._savesyspath</div>
<div class="line"><span class="lineno">  412</span>            self._savesyspath = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  413</span> </div>
<div class="line"><span class="lineno">  414</span>        <span class="keywordflow">if</span> self._cwd <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  415</span>            os.chdir(self._cwd)</div>
<div class="line"><span class="lineno">  416</span>            self._cwd = <span class="keywordtype">None</span></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5ebb9e9e16e464e058ae369d3e188646" name="a5ebb9e9e16e464e058ae369d3e188646"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ebb9e9e16e464e058ae369d3e188646">&#9670;&#160;</a></span>_cwd</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_pytest.monkeypatch.MonkeyPatch._cwd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9e5b0082cec10333a69fe82cfc4fc8bb" name="a9e5b0082cec10333a69fe82cfc4fc8bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e5b0082cec10333a69fe82cfc4fc8bb">&#9670;&#160;</a></span>_savesyspath</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_pytest.monkeypatch.MonkeyPatch._savesyspath</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aa5898eaa99dba24f13b1ccc9f7ba1e80" name="aa5898eaa99dba24f13b1ccc9f7ba1e80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5898eaa99dba24f13b1ccc9f7ba1e80">&#9670;&#160;</a></span>_setattr</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_pytest.monkeypatch.MonkeyPatch._setattr</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a445bd817b71c9932b75fafea175aaf2c" name="a445bd817b71c9932b75fafea175aaf2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a445bd817b71c9932b75fafea175aaf2c">&#9670;&#160;</a></span>_setitem</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">_pytest.monkeypatch.MonkeyPatch._setitem</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/_pytest/<a class="el" href="monkeypatch_8py.html">monkeypatch.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
