<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: PIL.Image.Image Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespace_p_i_l.html">PIL</a></li><li class="navelem"><a class="el" href="namespace_p_i_l_1_1_image.html">Image</a></li><li class="navelem"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html">Image</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="class_p_i_l_1_1_image_1_1_image-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">PIL.Image.Image Class Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for PIL.Image.Image:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_p_i_l_1_1_image_1_1_image.png" usemap="#PIL.Image.Image_map" alt=""/>
  <map id="PIL.Image.Image_map" name="PIL.Image.Image_map">
<area href="class_p_i_l_1_1_image_file_1_1_image_file.html" alt="PIL.ImageFile.ImageFile" shape="rect" coords="0,56,270,80"/>
<area href="class_p_i_l_1_1_blp_image_plugin_1_1_blp_image_file.html" alt="PIL.BlpImagePlugin.BlpImageFile" shape="rect" coords="280,112,550,136"/>
<area href="class_p_i_l_1_1_bmp_image_plugin_1_1_bmp_image_file.html" alt="PIL.BmpImagePlugin.BmpImageFile" shape="rect" coords="280,168,550,192"/>
<area href="class_p_i_l_1_1_dds_image_plugin_1_1_dds_image_file.html" alt="PIL.DdsImagePlugin.DdsImageFile" shape="rect" coords="280,224,550,248"/>
<area href="class_p_i_l_1_1_eps_image_plugin_1_1_eps_image_file.html" title="Image plugin for Encapsulated PostScript." alt="PIL.EpsImagePlugin.EpsImageFile" shape="rect" coords="280,280,550,304"/>
<area href="class_p_i_l_1_1_fits_image_plugin_1_1_fits_image_file.html" alt="PIL.FitsImagePlugin.FitsImageFile" shape="rect" coords="280,336,550,360"/>
<area href="class_p_i_l_1_1_fli_image_plugin_1_1_fli_image_file.html" title="Image plugin for the FLI/FLC animation format." alt="PIL.FliImagePlugin.FliImageFile" shape="rect" coords="280,392,550,416"/>
<area href="class_p_i_l_1_1_fpx_image_plugin_1_1_fpx_image_file.html" title="Image plugin for the FlashPix images." alt="PIL.FpxImagePlugin.FpxImageFile" shape="rect" coords="280,448,550,472"/>
<area href="class_p_i_l_1_1_ftex_image_plugin_1_1_ftex_image_file.html" alt="PIL.FtexImagePlugin.FtexImageFile" shape="rect" coords="280,504,550,528"/>
<area href="class_p_i_l_1_1_gbr_image_plugin_1_1_gbr_image_file.html" title="Image plugin for the GIMP brush format." alt="PIL.GbrImagePlugin.GbrImageFile" shape="rect" coords="280,560,550,584"/>
<area href="class_p_i_l_1_1_gd_image_file_1_1_gd_image_file.html" alt="PIL.GdImageFile.GdImageFile" shape="rect" coords="280,616,550,640"/>
<area href="class_p_i_l_1_1_gif_image_plugin_1_1_gif_image_file.html" title="Image plugin for GIF images." alt="PIL.GifImagePlugin.GifImageFile" shape="rect" coords="280,672,550,696"/>
<area href="class_p_i_l_1_1_icns_image_plugin_1_1_icns_image_file.html" title="Image plugin for Mac OS icons." alt="PIL.IcnsImagePlugin.IcnsImageFile" shape="rect" coords="280,728,550,752"/>
<area href="class_p_i_l_1_1_ico_image_plugin_1_1_ico_image_file.html" title="Image plugin for Windows Icon files." alt="PIL.IcoImagePlugin.IcoImageFile" shape="rect" coords="280,784,550,808"/>
<area href="class_p_i_l_1_1_im_image_plugin_1_1_im_image_file.html" title="Image plugin for the IFUNC IM file format." alt="PIL.ImImagePlugin.ImImageFile" shape="rect" coords="280,840,550,864"/>
<area href="class_p_i_l_1_1_image_file_1_1_stub_image_file.html" alt="PIL.ImageFile.StubImageFile" shape="rect" coords="280,896,550,920"/>
<area href="class_p_i_l_1_1_imt_image_plugin_1_1_imt_image_file.html" title="Image plugin for IM Tools images." alt="PIL.ImtImagePlugin.ImtImageFile" shape="rect" coords="280,952,550,976"/>
<area href="class_p_i_l_1_1_iptc_image_plugin_1_1_iptc_image_file.html" title="Image plugin for IPTC/NAA datastreams." alt="PIL.IptcImagePlugin.IptcImageFile" shape="rect" coords="280,1008,550,1032"/>
<area href="class_p_i_l_1_1_jpeg2_k_image_plugin_1_1_jpeg2_k_image_file.html" title="Image plugin for JPEG2000 images." alt="PIL.Jpeg2KImagePlugin.Jpeg2KImageFile" shape="rect" coords="280,1064,550,1088"/>
<area href="class_p_i_l_1_1_jpeg_image_plugin_1_1_jpeg_image_file.html" title="Image plugin for JPEG and JFIF images." alt="PIL.JpegImagePlugin.JpegImageFile" shape="rect" coords="280,1120,550,1144"/>
<area href="class_p_i_l_1_1_mc_idas_image_plugin_1_1_mc_idas_image_file.html" title="Image plugin for McIdas area images." alt="PIL.McIdasImagePlugin.McIdasImageFile" shape="rect" coords="280,1176,550,1200"/>
<area href="class_p_i_l_1_1_mpeg_image_plugin_1_1_mpeg_image_file.html" title="Image plugin for MPEG streams." alt="PIL.MpegImagePlugin.MpegImageFile" shape="rect" coords="280,1232,550,1256"/>
<area href="class_p_i_l_1_1_msp_image_plugin_1_1_msp_image_file.html" title="Image plugin for Windows MSP images." alt="PIL.MspImagePlugin.MspImageFile" shape="rect" coords="280,1288,550,1312"/>
<area href="class_p_i_l_1_1_pcd_image_plugin_1_1_pcd_image_file.html" title="Image plugin for PhotoCD images." alt="PIL.PcdImagePlugin.PcdImageFile" shape="rect" coords="280,1344,550,1368"/>
<area href="class_p_i_l_1_1_pcx_image_plugin_1_1_pcx_image_file.html" title="Image plugin for Paintbrush images." alt="PIL.PcxImagePlugin.PcxImageFile" shape="rect" coords="280,1400,550,1424"/>
<area href="class_p_i_l_1_1_pixar_image_plugin_1_1_pixar_image_file.html" title="Image plugin for PIXAR raster images." alt="PIL.PixarImagePlugin.PixarImageFile" shape="rect" coords="280,1456,550,1480"/>
<area href="class_p_i_l_1_1_png_image_plugin_1_1_png_image_file.html" title="Image plugin for PNG images." alt="PIL.PngImagePlugin.PngImageFile" shape="rect" coords="280,1512,550,1536"/>
<area href="class_p_i_l_1_1_ppm_image_plugin_1_1_ppm_image_file.html" title="Image plugin for PBM, PGM, and PPM images." alt="PIL.PpmImagePlugin.PpmImageFile" shape="rect" coords="280,1568,550,1592"/>
<area href="class_p_i_l_1_1_psd_image_plugin_1_1_psd_image_file.html" title="Image plugin for Photoshop images." alt="PIL.PsdImagePlugin.PsdImageFile" shape="rect" coords="280,1624,550,1648"/>
<area href="class_p_i_l_1_1_sgi_image_plugin_1_1_sgi_image_file.html" title="Image plugin for SGI images." alt="PIL.SgiImagePlugin.SgiImageFile" shape="rect" coords="280,1680,550,1704"/>
<area href="class_p_i_l_1_1_spider_image_plugin_1_1_spider_image_file.html" alt="PIL.SpiderImagePlugin.SpiderImageFile" shape="rect" coords="280,1736,550,1760"/>
<area href="class_p_i_l_1_1_sun_image_plugin_1_1_sun_image_file.html" title="Image plugin for Sun raster files." alt="PIL.SunImagePlugin.SunImageFile" shape="rect" coords="280,1792,550,1816"/>
<area href="class_p_i_l_1_1_tga_image_plugin_1_1_tga_image_file.html" title="Image plugin for Targa files." alt="PIL.TgaImagePlugin.TgaImageFile" shape="rect" coords="280,1848,550,1872"/>
<area href="class_p_i_l_1_1_tiff_image_plugin_1_1_tiff_image_file.html" title="Image plugin for TIFF files." alt="PIL.TiffImagePlugin.TiffImageFile" shape="rect" coords="280,1904,550,1928"/>
<area href="class_p_i_l_1_1_wal_image_file_1_1_wal_image_file.html" alt="PIL.WalImageFile.WalImageFile" shape="rect" coords="280,1960,550,1984"/>
<area href="class_p_i_l_1_1_web_p_image_plugin_1_1_web_p_image_file.html" alt="PIL.WebPImagePlugin.WebPImageFile" shape="rect" coords="280,2016,550,2040"/>
<area href="class_p_i_l_1_1_x_v_thumb_image_plugin_1_1_x_v_thumb_image_file.html" title="Image plugin for XV thumbnail images." alt="PIL.XVThumbImagePlugin.XVThumbImageFile" shape="rect" coords="280,2072,550,2096"/>
<area href="class_p_i_l_1_1_xbm_image_plugin_1_1_xbm_image_file.html" title="Image plugin for X11 bitmaps." alt="PIL.XbmImagePlugin.XbmImageFile" shape="rect" coords="280,2128,550,2152"/>
<area href="class_p_i_l_1_1_xpm_image_plugin_1_1_xpm_image_file.html" title="Image plugin for X11 pixel maps." alt="PIL.XpmImagePlugin.XpmImageFile" shape="rect" coords="280,2184,550,2208"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3e19e5e92d3de6fd210520bb2a9c719e" id="r_a3e19e5e92d3de6fd210520bb2a9c719e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a3e19e5e92d3de6fd210520bb2a9c719e">__init__</a> (self)</td></tr>
<tr class="separator:a3e19e5e92d3de6fd210520bb2a9c719e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9864cc3a9c72bd883618c9e48e118252" id="r_a9864cc3a9c72bd883618c9e48e118252"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a9864cc3a9c72bd883618c9e48e118252">__getattr__</a> (self, name)</td></tr>
<tr class="separator:a9864cc3a9c72bd883618c9e48e118252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a615e8ce2c92f549419a1f34451675758" id="r_a615e8ce2c92f549419a1f34451675758"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a615e8ce2c92f549419a1f34451675758">width</a> (self)</td></tr>
<tr class="separator:a615e8ce2c92f549419a1f34451675758"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc72942197587cbf3aa9a597b8a26796" id="r_abc72942197587cbf3aa9a597b8a26796"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#abc72942197587cbf3aa9a597b8a26796">height</a> (self)</td></tr>
<tr class="separator:abc72942197587cbf3aa9a597b8a26796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea1512bcd113e8677a280fe9179c7d0c" id="r_aea1512bcd113e8677a280fe9179c7d0c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#aea1512bcd113e8677a280fe9179c7d0c">size</a> (self)</td></tr>
<tr class="separator:aea1512bcd113e8677a280fe9179c7d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68baba4b6248865c41401d5d01f32d71" id="r_a68baba4b6248865c41401d5d01f32d71"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a68baba4b6248865c41401d5d01f32d71">__enter__</a> (self)</td></tr>
<tr class="separator:a68baba4b6248865c41401d5d01f32d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40510675c49cd529f5de050da057f0f5" id="r_a40510675c49cd529f5de050da057f0f5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a40510675c49cd529f5de050da057f0f5">__exit__</a> (self, *args)</td></tr>
<tr class="separator:a40510675c49cd529f5de050da057f0f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa11e4331fc2cffcf740fa8bcec4e914" id="r_aaa11e4331fc2cffcf740fa8bcec4e914"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#aaa11e4331fc2cffcf740fa8bcec4e914">close</a> (self)</td></tr>
<tr class="separator:aaa11e4331fc2cffcf740fa8bcec4e914"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c0d43adbd9fcf90a702fd079e3ee2d8" id="r_a2c0d43adbd9fcf90a702fd079e3ee2d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a2c0d43adbd9fcf90a702fd079e3ee2d8">__eq__</a> (self, other)</td></tr>
<tr class="separator:a2c0d43adbd9fcf90a702fd079e3ee2d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a967c5de396c014ffacee19f7f37ac800" id="r_a967c5de396c014ffacee19f7f37ac800"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a967c5de396c014ffacee19f7f37ac800">__repr__</a> (self)</td></tr>
<tr class="separator:a967c5de396c014ffacee19f7f37ac800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf6ee40c380053256c2c032c03daf1e" id="r_acbf6ee40c380053256c2c032c03daf1e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#acbf6ee40c380053256c2c032c03daf1e">__array_interface__</a> (self)</td></tr>
<tr class="separator:acbf6ee40c380053256c2c032c03daf1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ef02c9b313e4cdca59176dc775f09de" id="r_a2ef02c9b313e4cdca59176dc775f09de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a2ef02c9b313e4cdca59176dc775f09de">__getstate__</a> (self)</td></tr>
<tr class="separator:a2ef02c9b313e4cdca59176dc775f09de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0995ad5addb9aa7bb7a15bb6e5d926e9" id="r_a0995ad5addb9aa7bb7a15bb6e5d926e9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a0995ad5addb9aa7bb7a15bb6e5d926e9">__setstate__</a> (self, state)</td></tr>
<tr class="separator:a0995ad5addb9aa7bb7a15bb6e5d926e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae0fcdb937aff8556fb04490a81e5a9b" id="r_aae0fcdb937aff8556fb04490a81e5a9b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#aae0fcdb937aff8556fb04490a81e5a9b">tobytes</a> (self, encoder_name=&quot;raw&quot;, *args)</td></tr>
<tr class="separator:aae0fcdb937aff8556fb04490a81e5a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72838cb23186a9af46766caa1478c84a" id="r_a72838cb23186a9af46766caa1478c84a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a72838cb23186a9af46766caa1478c84a">tobitmap</a> (self, name=&quot;image&quot;)</td></tr>
<tr class="separator:a72838cb23186a9af46766caa1478c84a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a3d5c754b84e20bdafa3f2bfd35714f" id="r_a0a3d5c754b84e20bdafa3f2bfd35714f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a0a3d5c754b84e20bdafa3f2bfd35714f">frombytes</a> (self, data, decoder_name=&quot;raw&quot;, *args)</td></tr>
<tr class="separator:a0a3d5c754b84e20bdafa3f2bfd35714f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98026b9915afd793e4ff7c1c16a48417" id="r_a98026b9915afd793e4ff7c1c16a48417"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a98026b9915afd793e4ff7c1c16a48417">load</a> (self)</td></tr>
<tr class="separator:a98026b9915afd793e4ff7c1c16a48417"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3547a6d944ce77fe6e91507f4db0f8b8" id="r_a3547a6d944ce77fe6e91507f4db0f8b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a3547a6d944ce77fe6e91507f4db0f8b8">verify</a> (self)</td></tr>
<tr class="separator:a3547a6d944ce77fe6e91507f4db0f8b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a6e7065b90d4a77925d402aae243b19" id="r_a5a6e7065b90d4a77925d402aae243b19"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a5a6e7065b90d4a77925d402aae243b19">convert</a> (self, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a7d372be82681ec344af8a7ba8dc84d5d">mode</a>=None, matrix=None, dither=None, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#aed56de66e3c835733d852bb93673c1ab">palette</a>=<a class="el" href="class_p_i_l_1_1_image_1_1_palette.html#aa6e4f52a2312473bd8bb9f45cc553aaf">Palette.WEB</a>, colors=256)</td></tr>
<tr class="separator:a5a6e7065b90d4a77925d402aae243b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a4c5571459eb434543c91129a58aa5e" id="r_a7a4c5571459eb434543c91129a58aa5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a7a4c5571459eb434543c91129a58aa5e">quantize</a> (self, colors=256, method=None, kmeans=0, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#aed56de66e3c835733d852bb93673c1ab">palette</a>=None, dither=<a class="el" href="class_p_i_l_1_1_image_1_1_dither.html#a703c6d74a8e635cd97285e1336800e88">Dither.FLOYDSTEINBERG</a>)</td></tr>
<tr class="separator:a7a4c5571459eb434543c91129a58aa5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac96aacd79c77ea597b3d410041c30aa7" id="r_ac96aacd79c77ea597b3d410041c30aa7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ac96aacd79c77ea597b3d410041c30aa7">copy</a> (self)</td></tr>
<tr class="separator:ac96aacd79c77ea597b3d410041c30aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e052f0f11a229beec670960d7617bc" id="r_a03e052f0f11a229beec670960d7617bc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a03e052f0f11a229beec670960d7617bc">crop</a> (self, box=None)</td></tr>
<tr class="separator:a03e052f0f11a229beec670960d7617bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa246a8297565bbbbd9f0ccfcf73f6edb" id="r_aa246a8297565bbbbd9f0ccfcf73f6edb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#aa246a8297565bbbbd9f0ccfcf73f6edb">draft</a> (self, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a7d372be82681ec344af8a7ba8dc84d5d">mode</a>, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ae9939a80d0ea9392d8db8556353b2585">size</a>)</td></tr>
<tr class="separator:aa246a8297565bbbbd9f0ccfcf73f6edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22933e34f2de04965ca6b7769bb69b67" id="r_a22933e34f2de04965ca6b7769bb69b67"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a22933e34f2de04965ca6b7769bb69b67">filter</a> (self, filter)</td></tr>
<tr class="separator:a22933e34f2de04965ca6b7769bb69b67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb16d4f736e2f5f380f9988cef1bbdf6" id="r_abb16d4f736e2f5f380f9988cef1bbdf6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#abb16d4f736e2f5f380f9988cef1bbdf6">getbands</a> (self)</td></tr>
<tr class="separator:abb16d4f736e2f5f380f9988cef1bbdf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a594cfbab186db838a23034c17470fbff" id="r_a594cfbab186db838a23034c17470fbff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a594cfbab186db838a23034c17470fbff">getbbox</a> (self)</td></tr>
<tr class="separator:a594cfbab186db838a23034c17470fbff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a761159169d3e0084cb8528ad5a40b9c8" id="r_a761159169d3e0084cb8528ad5a40b9c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a761159169d3e0084cb8528ad5a40b9c8">getcolors</a> (self, maxcolors=256)</td></tr>
<tr class="separator:a761159169d3e0084cb8528ad5a40b9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaefda2fcb72961cdfee9ab712e20bea2" id="r_aaefda2fcb72961cdfee9ab712e20bea2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#aaefda2fcb72961cdfee9ab712e20bea2">getdata</a> (self, band=None)</td></tr>
<tr class="separator:aaefda2fcb72961cdfee9ab712e20bea2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2e7170ba3a656df7125527f0142e361" id="r_ab2e7170ba3a656df7125527f0142e361"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ab2e7170ba3a656df7125527f0142e361">getextrema</a> (self)</td></tr>
<tr class="separator:ab2e7170ba3a656df7125527f0142e361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba05c72d19b50e8397eed95cb11ef2b" id="r_aaba05c72d19b50e8397eed95cb11ef2b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#aaba05c72d19b50e8397eed95cb11ef2b">getexif</a> (self)</td></tr>
<tr class="separator:aaba05c72d19b50e8397eed95cb11ef2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abddef994e1b9e7c8ec2e7f230755d820" id="r_abddef994e1b9e7c8ec2e7f230755d820"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#abddef994e1b9e7c8ec2e7f230755d820">get_child_images</a> (self)</td></tr>
<tr class="separator:abddef994e1b9e7c8ec2e7f230755d820"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ce23ced0310af9b0be432c335701656" id="r_a0ce23ced0310af9b0be432c335701656"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a0ce23ced0310af9b0be432c335701656">getim</a> (self)</td></tr>
<tr class="separator:a0ce23ced0310af9b0be432c335701656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a198ebd899d4100c3192da53884114671" id="r_a198ebd899d4100c3192da53884114671"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a198ebd899d4100c3192da53884114671">getpalette</a> (self, rawmode=&quot;RGB&quot;)</td></tr>
<tr class="separator:a198ebd899d4100c3192da53884114671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ecdc56c0268aab7f5c23d468d6cae8c" id="r_a9ecdc56c0268aab7f5c23d468d6cae8c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a9ecdc56c0268aab7f5c23d468d6cae8c">apply_transparency</a> (self)</td></tr>
<tr class="separator:a9ecdc56c0268aab7f5c23d468d6cae8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0ca6cdaf62a62379a2358422caf6cd5" id="r_ab0ca6cdaf62a62379a2358422caf6cd5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ab0ca6cdaf62a62379a2358422caf6cd5">getpixel</a> (self, xy)</td></tr>
<tr class="separator:ab0ca6cdaf62a62379a2358422caf6cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a5d4b6fa386f8a6668476d4ebafc796" id="r_a0a5d4b6fa386f8a6668476d4ebafc796"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a0a5d4b6fa386f8a6668476d4ebafc796">getprojection</a> (self)</td></tr>
<tr class="separator:a0a5d4b6fa386f8a6668476d4ebafc796"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04c7dafc8e571d172c6092d73e9da30a" id="r_a04c7dafc8e571d172c6092d73e9da30a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a04c7dafc8e571d172c6092d73e9da30a">histogram</a> (self, mask=None, extrema=None)</td></tr>
<tr class="separator:a04c7dafc8e571d172c6092d73e9da30a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f29b04c6fdf444bfd2476673ca64841" id="r_a1f29b04c6fdf444bfd2476673ca64841"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a1f29b04c6fdf444bfd2476673ca64841">entropy</a> (self, mask=None, extrema=None)</td></tr>
<tr class="separator:a1f29b04c6fdf444bfd2476673ca64841"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2471f62da7ebb1703f17e0138abb3177" id="r_a2471f62da7ebb1703f17e0138abb3177"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a2471f62da7ebb1703f17e0138abb3177">paste</a> (self, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ad64d536d671d37d388fc8896f9d493b8">im</a>, box=None, mask=None)</td></tr>
<tr class="separator:a2471f62da7ebb1703f17e0138abb3177"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76179a604b11acf25f02ffe1841de872" id="r_a76179a604b11acf25f02ffe1841de872"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a76179a604b11acf25f02ffe1841de872">alpha_composite</a> (self, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ad64d536d671d37d388fc8896f9d493b8">im</a>, dest=(0, 0), source=(0, 0))</td></tr>
<tr class="separator:a76179a604b11acf25f02ffe1841de872"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0afdeb28c5bd4c570c6ab35501adbe2" id="r_af0afdeb28c5bd4c570c6ab35501adbe2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#af0afdeb28c5bd4c570c6ab35501adbe2">point</a> (self, lut, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a7d372be82681ec344af8a7ba8dc84d5d">mode</a>=None)</td></tr>
<tr class="separator:af0afdeb28c5bd4c570c6ab35501adbe2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60ab43bd8a91567cbf96266a9ed1428" id="r_ad60ab43bd8a91567cbf96266a9ed1428"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ad60ab43bd8a91567cbf96266a9ed1428">putalpha</a> (self, <a class="el" href="__blas__subroutines_8h.html#a29dda7d0819a860e921db821deb590c9">alpha</a>)</td></tr>
<tr class="separator:ad60ab43bd8a91567cbf96266a9ed1428"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af535ee1f54d0be94f96c1fd0cb608dc3" id="r_af535ee1f54d0be94f96c1fd0cb608dc3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#af535ee1f54d0be94f96c1fd0cb608dc3">putdata</a> (self, data, scale=1.0, <a class="el" href="__lapack__subroutines_8h.html#ac5c1dfc0f77d6570b83bf10cfe850d4e">offset</a>=0.0)</td></tr>
<tr class="separator:af535ee1f54d0be94f96c1fd0cb608dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65e8acba930f849d72c2058aeebf06e0" id="r_a65e8acba930f849d72c2058aeebf06e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a65e8acba930f849d72c2058aeebf06e0">putpalette</a> (self, data, rawmode=&quot;RGB&quot;)</td></tr>
<tr class="separator:a65e8acba930f849d72c2058aeebf06e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4700cea087f43ff9f6e021060891ba9e" id="r_a4700cea087f43ff9f6e021060891ba9e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a4700cea087f43ff9f6e021060891ba9e">putpixel</a> (self, xy, value)</td></tr>
<tr class="separator:a4700cea087f43ff9f6e021060891ba9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac408181a8a339ba3de2416833ff11b8c" id="r_ac408181a8a339ba3de2416833ff11b8c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ac408181a8a339ba3de2416833ff11b8c">remap_palette</a> (self, dest_map, source_palette=None)</td></tr>
<tr class="separator:ac408181a8a339ba3de2416833ff11b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12276452e549e5529dd7c83df841baf4" id="r_a12276452e549e5529dd7c83df841baf4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a12276452e549e5529dd7c83df841baf4">resize</a> (self, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ae9939a80d0ea9392d8db8556353b2585">size</a>, resample=None, box=None, reducing_gap=None)</td></tr>
<tr class="separator:a12276452e549e5529dd7c83df841baf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68583206a8b156929afd5364139aee1c" id="r_a68583206a8b156929afd5364139aee1c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a68583206a8b156929afd5364139aee1c">reduce</a> (self, factor, box=None)</td></tr>
<tr class="separator:a68583206a8b156929afd5364139aee1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbd6f33ca75ce0d22bbe10d2ffbc84a8" id="r_adbd6f33ca75ce0d22bbe10d2ffbc84a8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#adbd6f33ca75ce0d22bbe10d2ffbc84a8">rotate</a> (self, angle, resample=<a class="el" href="class_p_i_l_1_1_image_1_1_resampling.html#a11ea60e2485f0e8a35fc5561bca9b390">Resampling.NEAREST</a>, expand=0, center=None, translate=None, fillcolor=None)</td></tr>
<tr class="separator:adbd6f33ca75ce0d22bbe10d2ffbc84a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad9bda9e7c591e790ff3ebb3d50bd967" id="r_aad9bda9e7c591e790ff3ebb3d50bd967"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#aad9bda9e7c591e790ff3ebb3d50bd967">save</a> (self, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a96deddd6e1e06bf4c25e974ea9f390fe">fp</a>, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a0b96af3d05c50bcbc01278bc87b84d0e">format</a>=None, **params)</td></tr>
<tr class="separator:aad9bda9e7c591e790ff3ebb3d50bd967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2ff769835339526c7e5742ceea53503" id="r_aa2ff769835339526c7e5742ceea53503"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#aa2ff769835339526c7e5742ceea53503">seek</a> (self, frame)</td></tr>
<tr class="separator:aa2ff769835339526c7e5742ceea53503"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe70a5f8f2d2a14ef985788a6aa2ba2a" id="r_abe70a5f8f2d2a14ef985788a6aa2ba2a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#abe70a5f8f2d2a14ef985788a6aa2ba2a">show</a> (self, title=None)</td></tr>
<tr class="separator:abe70a5f8f2d2a14ef985788a6aa2ba2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc234079607691cf277a655a4f4f4301" id="r_acc234079607691cf277a655a4f4f4301"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#acc234079607691cf277a655a4f4f4301">split</a> (self)</td></tr>
<tr class="separator:acc234079607691cf277a655a4f4f4301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae76fe7d00149af0434c6dbf54bbfe2dc" id="r_ae76fe7d00149af0434c6dbf54bbfe2dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ae76fe7d00149af0434c6dbf54bbfe2dc">getchannel</a> (self, channel)</td></tr>
<tr class="separator:ae76fe7d00149af0434c6dbf54bbfe2dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb5796e78c8e653a5e124d210612ee81" id="r_afb5796e78c8e653a5e124d210612ee81"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#afb5796e78c8e653a5e124d210612ee81">tell</a> (self)</td></tr>
<tr class="separator:afb5796e78c8e653a5e124d210612ee81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b5dd2a79afe96bc1393c44f73743d5e" id="r_a3b5dd2a79afe96bc1393c44f73743d5e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a3b5dd2a79afe96bc1393c44f73743d5e">thumbnail</a> (self, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ae9939a80d0ea9392d8db8556353b2585">size</a>, resample=<a class="el" href="class_p_i_l_1_1_image_1_1_resampling.html#a5c5419ce07472b391157b395a20a3c68">Resampling.BICUBIC</a>, reducing_gap=2.0)</td></tr>
<tr class="separator:a3b5dd2a79afe96bc1393c44f73743d5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:addb867c14f739d8028161a46d42ca1ef" id="r_addb867c14f739d8028161a46d42ca1ef"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#addb867c14f739d8028161a46d42ca1ef">transform</a> (self, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ae9939a80d0ea9392d8db8556353b2585">size</a>, method, data=None, resample=<a class="el" href="class_p_i_l_1_1_image_1_1_resampling.html#a11ea60e2485f0e8a35fc5561bca9b390">Resampling.NEAREST</a>, fill=1, fillcolor=None)</td></tr>
<tr class="separator:addb867c14f739d8028161a46d42ca1ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dab83124239a229087437541234c1d6" id="r_a7dab83124239a229087437541234c1d6"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a7dab83124239a229087437541234c1d6">transpose</a> (self, method)</td></tr>
<tr class="separator:a7dab83124239a229087437541234c1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67bb79a408c016d8a99f6e273fce615c" id="r_a67bb79a408c016d8a99f6e273fce615c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a67bb79a408c016d8a99f6e273fce615c">effect_spread</a> (self, distance)</td></tr>
<tr class="separator:a67bb79a408c016d8a99f6e273fce615c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a045d52aeabcff4b5a1d6f20f0d54d6fc" id="r_a045d52aeabcff4b5a1d6f20f0d54d6fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a045d52aeabcff4b5a1d6f20f0d54d6fc">toqimage</a> (self)</td></tr>
<tr class="separator:a045d52aeabcff4b5a1d6f20f0d54d6fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bfbad990e4bcc36d66f84bd49778ce4" id="r_a4bfbad990e4bcc36d66f84bd49778ce4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a4bfbad990e4bcc36d66f84bd49778ce4">toqpixmap</a> (self)</td></tr>
<tr class="separator:a4bfbad990e4bcc36d66f84bd49778ce4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad64d536d671d37d388fc8896f9d493b8" id="r_ad64d536d671d37d388fc8896f9d493b8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ad64d536d671d37d388fc8896f9d493b8">im</a></td></tr>
<tr class="separator:ad64d536d671d37d388fc8896f9d493b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d372be82681ec344af8a7ba8dc84d5d" id="r_a7d372be82681ec344af8a7ba8dc84d5d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a7d372be82681ec344af8a7ba8dc84d5d">mode</a></td></tr>
<tr class="separator:a7d372be82681ec344af8a7ba8dc84d5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed56de66e3c835733d852bb93673c1ab" id="r_aed56de66e3c835733d852bb93673c1ab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#aed56de66e3c835733d852bb93673c1ab">palette</a></td></tr>
<tr class="separator:aed56de66e3c835733d852bb93673c1ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5cae44b3e263b47aeca3056bea811fd" id="r_ab5cae44b3e263b47aeca3056bea811fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ab5cae44b3e263b47aeca3056bea811fd">info</a></td></tr>
<tr class="separator:ab5cae44b3e263b47aeca3056bea811fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a408d4cf4edafa5efa2a5fe873419c58e" id="r_a408d4cf4edafa5efa2a5fe873419c58e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a408d4cf4edafa5efa2a5fe873419c58e">readonly</a></td></tr>
<tr class="separator:a408d4cf4edafa5efa2a5fe873419c58e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81f5d7b179f7065f4014efa5bef97ce8" id="r_a81f5d7b179f7065f4014efa5bef97ce8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a81f5d7b179f7065f4014efa5bef97ce8">pyaccess</a></td></tr>
<tr class="separator:a81f5d7b179f7065f4014efa5bef97ce8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96deddd6e1e06bf4c25e974ea9f390fe" id="r_a96deddd6e1e06bf4c25e974ea9f390fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a96deddd6e1e06bf4c25e974ea9f390fe">fp</a></td></tr>
<tr class="separator:a96deddd6e1e06bf4c25e974ea9f390fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62074962537fcdb8b80562732a928d80" id="r_a62074962537fcdb8b80562732a928d80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a62074962537fcdb8b80562732a928d80">map</a></td></tr>
<tr class="separator:a62074962537fcdb8b80562732a928d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9939a80d0ea9392d8db8556353b2585" id="r_ae9939a80d0ea9392d8db8556353b2585"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ae9939a80d0ea9392d8db8556353b2585">size</a></td></tr>
<tr class="separator:ae9939a80d0ea9392d8db8556353b2585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7adb074d78ab05fb3efe53b673ad5de" id="r_ac7adb074d78ab05fb3efe53b673ad5de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ac7adb074d78ab05fb3efe53b673ad5de">width</a></td></tr>
<tr class="separator:ac7adb074d78ab05fb3efe53b673ad5de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57dcb2dbb3e31f7dd29c53a04c90003b" id="r_a57dcb2dbb3e31f7dd29c53a04c90003b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a57dcb2dbb3e31f7dd29c53a04c90003b">reduce</a></td></tr>
<tr class="separator:a57dcb2dbb3e31f7dd29c53a04c90003b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad408d66e67a29a056f75e2ed1fb89ead" id="r_ad408d66e67a29a056f75e2ed1fb89ead"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ad408d66e67a29a056f75e2ed1fb89ead">encoderinfo</a></td></tr>
<tr class="separator:ad408d66e67a29a056f75e2ed1fb89ead"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e9b1c63991a12d921a3bc801293b2da" id="r_a8e9b1c63991a12d921a3bc801293b2da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a8e9b1c63991a12d921a3bc801293b2da">encoderconfig</a></td></tr>
<tr class="separator:a8e9b1c63991a12d921a3bc801293b2da"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a0b96af3d05c50bcbc01278bc87b84d0e" id="r_a0b96af3d05c50bcbc01278bc87b84d0e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a0b96af3d05c50bcbc01278bc87b84d0e">format</a> = None</td></tr>
<tr class="separator:a0b96af3d05c50bcbc01278bc87b84d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61aa8bd7ade87bff59fa1026f1adaae1" id="r_a61aa8bd7ade87bff59fa1026f1adaae1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a61aa8bd7ade87bff59fa1026f1adaae1">format_description</a> = None</td></tr>
<tr class="separator:a61aa8bd7ade87bff59fa1026f1adaae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae7c65a5aa7931108851c5ece41a531b5" id="r_ae7c65a5aa7931108851c5ece41a531b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ae7c65a5aa7931108851c5ece41a531b5">_new</a> (self, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ad64d536d671d37d388fc8896f9d493b8">im</a>)</td></tr>
<tr class="separator:ae7c65a5aa7931108851c5ece41a531b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a9b0bfe9919052ee1b98924e842cfd" id="r_a21a9b0bfe9919052ee1b98924e842cfd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a21a9b0bfe9919052ee1b98924e842cfd">_copy</a> (self)</td></tr>
<tr class="separator:a21a9b0bfe9919052ee1b98924e842cfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4318a06f9825740e86b8d9d87adb5680" id="r_a4318a06f9825740e86b8d9d87adb5680"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a4318a06f9825740e86b8d9d87adb5680">_ensure_mutable</a> (self)</td></tr>
<tr class="separator:a4318a06f9825740e86b8d9d87adb5680"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e9bab2b3dece0cbf5d72e7b72fdfaf" id="r_a28e9bab2b3dece0cbf5d72e7b72fdfaf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a28e9bab2b3dece0cbf5d72e7b72fdfaf">_dump</a> (self, file=None, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a0b96af3d05c50bcbc01278bc87b84d0e">format</a>=None, **options)</td></tr>
<tr class="separator:a28e9bab2b3dece0cbf5d72e7b72fdfaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63792c3a221e9997851338afd760fa48" id="r_a63792c3a221e9997851338afd760fa48"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a63792c3a221e9997851338afd760fa48">_repr_pretty_</a> (self, p, cycle)</td></tr>
<tr class="separator:a63792c3a221e9997851338afd760fa48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c9db2c5ed8421fab0bfae38d6767924" id="r_a4c9db2c5ed8421fab0bfae38d6767924"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a4c9db2c5ed8421fab0bfae38d6767924">_repr_png_</a> (self)</td></tr>
<tr class="separator:a4c9db2c5ed8421fab0bfae38d6767924"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3380f4462122a550bfd052066905b867" id="r_a3380f4462122a550bfd052066905b867"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a3380f4462122a550bfd052066905b867">_crop</a> (self, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ad64d536d671d37d388fc8896f9d493b8">im</a>, box)</td></tr>
<tr class="separator:a3380f4462122a550bfd052066905b867"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a454a4bcad2b105d3ff2e4be625c9b101" id="r_a454a4bcad2b105d3ff2e4be625c9b101"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a454a4bcad2b105d3ff2e4be625c9b101">_expand</a> (self, xmargin, ymargin=None)</td></tr>
<tr class="separator:a454a4bcad2b105d3ff2e4be625c9b101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3146e6aa2daecec0f4140d1ed22d3d0" id="r_ad3146e6aa2daecec0f4140d1ed22d3d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ad3146e6aa2daecec0f4140d1ed22d3d0">_getxmp</a> (self, xmp_tags)</td></tr>
<tr class="separator:ad3146e6aa2daecec0f4140d1ed22d3d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d1ff8e5946b09865174d0e9f90460b2" id="r_a2d1ff8e5946b09865174d0e9f90460b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a2d1ff8e5946b09865174d0e9f90460b2">_reload_exif</a> (self)</td></tr>
<tr class="separator:a2d1ff8e5946b09865174d0e9f90460b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6671aded64a31e9f77b5e1d784303442" id="r_a6671aded64a31e9f77b5e1d784303442"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a6671aded64a31e9f77b5e1d784303442">_get_safe_box</a> (self, <a class="el" href="class_p_i_l_1_1_image_1_1_image.html#ae9939a80d0ea9392d8db8556353b2585">size</a>, resample, box)</td></tr>
<tr class="separator:a6671aded64a31e9f77b5e1d784303442"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a9619ff58209fa938168af1d5a2018e72" id="r_a9619ff58209fa938168af1d5a2018e72"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a9619ff58209fa938168af1d5a2018e72">_size</a></td></tr>
<tr class="separator:a9619ff58209fa938168af1d5a2018e72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a606987a72ce26115050e61e41ff87f78" id="r_a606987a72ce26115050e61e41ff87f78"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a606987a72ce26115050e61e41ff87f78">_category</a></td></tr>
<tr class="separator:a606987a72ce26115050e61e41ff87f78"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798b494fa5ab8eba76fee26d21e736ed" id="r_a798b494fa5ab8eba76fee26d21e736ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a798b494fa5ab8eba76fee26d21e736ed">_exif</a></td></tr>
<tr class="separator:a798b494fa5ab8eba76fee26d21e736ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447384d54d6d8de1339bafbc8b66d378" id="r_a447384d54d6d8de1339bafbc8b66d378"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a447384d54d6d8de1339bafbc8b66d378">_fp</a></td></tr>
<tr class="separator:a447384d54d6d8de1339bafbc8b66d378"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a945a973d044a966705c036229aec6ab1" id="r_a945a973d044a966705c036229aec6ab1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_p_i_l_1_1_image_1_1_image.html#a945a973d044a966705c036229aec6ab1">_close_exclusive_fp_after_loading</a> = True</td></tr>
<tr class="separator:a945a973d044a966705c036229aec6ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">This class represents an image object.  To create
:py:class:`~PIL.Image.Image` objects, use the appropriate factory
functions.  There's hardly ever any reason to call the Image constructor
directly.

* :py:func:`~PIL.Image.open`
* :py:func:`~PIL.Image.new`
* :py:func:`~PIL.Image.frombytes`
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3e19e5e92d3de6fd210520bb2a9c719e" name="a3e19e5e92d3de6fd210520bb2a9c719e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e19e5e92d3de6fd210520bb2a9c719e">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_image_file_1_1_image_file.html#a580ab9f2ac039a0c6aef7f87517f65b5">PIL.ImageFile.ImageFile</a>, and <a class="el" href="class_p_i_l_1_1_tiff_image_plugin_1_1_tiff_image_file.html#aa9cc396da3affea1fe9a9dccbe12d79c">PIL.TiffImagePlugin.TiffImageFile</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  512</span>    <span class="keyword">def </span>__init__(self):</div>
<div class="line"><span class="lineno">  513</span>        <span class="comment"># FIXME: take &quot;new&quot; parameters / other image?</span></div>
<div class="line"><span class="lineno">  514</span>        <span class="comment"># FIXME: turn mode and size into delegating properties?</span></div>
<div class="line"><span class="lineno">  515</span>        self.im = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  516</span>        self.mode = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  517</span>        self._size = (0, 0)</div>
<div class="line"><span class="lineno">  518</span>        self.palette = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  519</span>        self.info = {}</div>
<div class="line"><span class="lineno">  520</span>        self._category = 0</div>
<div class="line"><span class="lineno">  521</span>        self.readonly = 0</div>
<div class="line"><span class="lineno">  522</span>        self.pyaccess = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  523</span>        self._exif = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  524</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="acbf6ee40c380053256c2c032c03daf1e" name="acbf6ee40c380053256c2c032c03daf1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf6ee40c380053256c2c032c03daf1e">&#9670;&#160;</a></span>__array_interface__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.__array_interface__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  688</span>    <span class="keyword">def </span>__array_interface__(self):</div>
<div class="line"><span class="lineno">  689</span>        <span class="comment"># numpy array interface support</span></div>
<div class="line"><span class="lineno">  690</span>        new = {}</div>
<div class="line"><span class="lineno">  691</span>        shape, typestr = _conv_type_shape(self)</div>
<div class="line"><span class="lineno">  692</span>        new[<span class="stringliteral">&quot;shape&quot;</span>] = shape</div>
<div class="line"><span class="lineno">  693</span>        new[<span class="stringliteral">&quot;typestr&quot;</span>] = typestr</div>
<div class="line"><span class="lineno">  694</span>        new[<span class="stringliteral">&quot;version&quot;</span>] = 3</div>
<div class="line"><span class="lineno">  695</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  696</span>            <span class="keywordflow">if</span> self.mode == <span class="stringliteral">&quot;1&quot;</span>:</div>
<div class="line"><span class="lineno">  697</span>                <span class="comment"># Binary images need to be extended from bits to bytes</span></div>
<div class="line"><span class="lineno">  698</span>                <span class="comment"># See: https://github.com/python-pillow/Pillow/issues/350</span></div>
<div class="line"><span class="lineno">  699</span>                new[<span class="stringliteral">&quot;data&quot;</span>] = self.tobytes(<span class="stringliteral">&quot;raw&quot;</span>, <span class="stringliteral">&quot;L&quot;</span>)</div>
<div class="line"><span class="lineno">  700</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  701</span>                new[<span class="stringliteral">&quot;data&quot;</span>] = self.tobytes()</div>
<div class="line"><span class="lineno">  702</span>        <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  703</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(e, (MemoryError, RecursionError)):</div>
<div class="line"><span class="lineno">  704</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  705</span>                    <span class="keyword">import</span> numpy</div>
<div class="line"><span class="lineno">  706</span>                    <span class="keyword">from</span> <a class="code hl_namespace" href="namespacepackaging_1_1version.html">packaging.version</a> <span class="keyword">import</span> parse <span class="keyword">as</span> parse_version</div>
<div class="line"><span class="lineno">  707</span>                <span class="keywordflow">except</span> ImportError:</div>
<div class="line"><span class="lineno">  708</span>                    <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  709</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  710</span>                    <span class="keywordflow">if</span> parse_version(numpy.__version__) &lt; parse_version(<span class="stringliteral">&quot;1.23&quot;</span>):</div>
<div class="line"><span class="lineno">  711</span>                        warnings.warn(e)</div>
<div class="line"><span class="lineno">  712</span>            <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno">  713</span>        <span class="keywordflow">return</span> new</div>
<div class="line"><span class="lineno">  714</span> </div>
<div class="ttc" id="anamespacepackaging_1_1version_html"><div class="ttname"><a href="namespacepackaging_1_1version.html">packaging.version</a></div><div class="ttdef"><b>Definition</b> version.py:1</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a68baba4b6248865c41401d5d01f32d71" name="a68baba4b6248865c41401d5d01f32d71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68baba4b6248865c41401d5d01f32d71">&#9670;&#160;</a></span>__enter__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.__enter__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  559</span>    <span class="keyword">def </span>__enter__(self):</div>
<div class="line"><span class="lineno">  560</span>        <span class="keywordflow">return</span> self</div>
<div class="line"><span class="lineno">  561</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c0d43adbd9fcf90a702fd079e3ee2d8" name="a2c0d43adbd9fcf90a702fd079e3ee2d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c0d43adbd9fcf90a702fd079e3ee2d8">&#9670;&#160;</a></span>__eq__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.__eq__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>other</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  637</span>    <span class="keyword">def </span>__eq__(self, other):</div>
<div class="line"><span class="lineno">  638</span>        <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno">  639</span>            self.__class__ <span class="keywordflow">is</span> other.__class__</div>
<div class="line"><span class="lineno">  640</span>            <span class="keywordflow">and</span> self.mode == other.mode</div>
<div class="line"><span class="lineno">  641</span>            <span class="keywordflow">and</span> self.size == other.size</div>
<div class="line"><span class="lineno">  642</span>            <span class="keywordflow">and</span> self.info == other.info</div>
<div class="line"><span class="lineno">  643</span>            <span class="keywordflow">and</span> self._category == other._category</div>
<div class="line"><span class="lineno">  644</span>            <span class="keywordflow">and</span> self.getpalette() == other.getpalette()</div>
<div class="line"><span class="lineno">  645</span>            <span class="keywordflow">and</span> self.tobytes() == other.tobytes()</div>
<div class="line"><span class="lineno">  646</span>        )</div>
<div class="line"><span class="lineno">  647</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a40510675c49cd529f5de050da057f0f5" name="a40510675c49cd529f5de050da057f0f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40510675c49cd529f5de050da057f0f5">&#9670;&#160;</a></span>__exit__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.__exit__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  562</span>    <span class="keyword">def </span>__exit__(self, *args):</div>
<div class="line"><span class="lineno">  563</span>        <span class="keywordflow">if</span> hasattr(self, <span class="stringliteral">&quot;fp&quot;</span>) <span class="keywordflow">and</span> getattr(self, <span class="stringliteral">&quot;_exclusive_fp&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  564</span>            <span class="keywordflow">if</span> getattr(self, <span class="stringliteral">&quot;_fp&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  565</span>                <span class="keywordflow">if</span> self._fp != self.fp:</div>
<div class="line"><span class="lineno">  566</span>                    self._fp.close()</div>
<div class="line"><span class="lineno">  567</span>                self._fp = DeferredError(ValueError(<span class="stringliteral">&quot;Operation on closed image&quot;</span>))</div>
<div class="line"><span class="lineno">  568</span>            <span class="keywordflow">if</span> self.fp:</div>
<div class="line"><span class="lineno">  569</span>                self.fp.close()</div>
<div class="line"><span class="lineno">  570</span>        self.fp = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  571</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9864cc3a9c72bd883618c9e48e118252" name="a9864cc3a9c72bd883618c9e48e118252"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9864cc3a9c72bd883618c9e48e118252">&#9670;&#160;</a></span>__getattr__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.__getattr__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  525</span>    <span class="keyword">def </span>__getattr__(self, name):</div>
<div class="line"><span class="lineno">  526</span>        <span class="keywordflow">if</span> name == <span class="stringliteral">&quot;category&quot;</span>:</div>
<div class="line"><span class="lineno">  527</span>            deprecate(<span class="stringliteral">&quot;Image categories&quot;</span>, 10, <span class="stringliteral">&quot;is_animated&quot;</span>, plural=<span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  528</span>            <span class="keywordflow">return</span> self._category</div>
<div class="line"><span class="lineno">  529</span>        <span class="keywordflow">raise</span> AttributeError(name)</div>
<div class="line"><span class="lineno">  530</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ef02c9b313e4cdca59176dc775f09de" name="a2ef02c9b313e4cdca59176dc775f09de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ef02c9b313e4cdca59176dc775f09de">&#9670;&#160;</a></span>__getstate__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.__getstate__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  715</span>    <span class="keyword">def </span>__getstate__(self):</div>
<div class="line"><span class="lineno">  716</span>        <span class="keywordflow">return</span> [self.info, self.mode, self.size, self.getpalette(), self.tobytes()]</div>
<div class="line"><span class="lineno">  717</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a967c5de396c014ffacee19f7f37ac800" name="a967c5de396c014ffacee19f7f37ac800"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a967c5de396c014ffacee19f7f37ac800">&#9670;&#160;</a></span>__repr__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.__repr__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  648</span>    <span class="keyword">def </span>__repr__(self):</div>
<div class="line"><span class="lineno">  649</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;&lt;%s.%s image mode=%s size=%dx%d at 0x%X&gt;&quot;</span> % (</div>
<div class="line"><span class="lineno">  650</span>            self.__class__.__module__,</div>
<div class="line"><span class="lineno">  651</span>            self.__class__.__name__,</div>
<div class="line"><span class="lineno">  652</span>            self.mode,</div>
<div class="line"><span class="lineno">  653</span>            self.size[0],</div>
<div class="line"><span class="lineno">  654</span>            self.size[1],</div>
<div class="line"><span class="lineno">  655</span>            id(self),</div>
<div class="line"><span class="lineno">  656</span>        )</div>
<div class="line"><span class="lineno">  657</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0995ad5addb9aa7bb7a15bb6e5d926e9" name="a0995ad5addb9aa7bb7a15bb6e5d926e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0995ad5addb9aa7bb7a15bb6e5d926e9">&#9670;&#160;</a></span>__setstate__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.__setstate__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_image_file_1_1_image_file.html#a164e26456173063915512a4e821d1720">PIL.ImageFile.ImageFile</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  718</span>    <span class="keyword">def </span>__setstate__(self, state):</div>
<div class="line"><span class="lineno">  719</span>        Image.__init__(self)</div>
<div class="line"><span class="lineno">  720</span>        info, mode, size, palette, data = state</div>
<div class="line"><span class="lineno">  721</span>        self.info = info</div>
<div class="line"><span class="lineno">  722</span>        self.mode = mode</div>
<div class="line"><span class="lineno">  723</span>        self._size = size</div>
<div class="line"><span class="lineno">  724</span>        self.im = core.new(mode, size)</div>
<div class="line"><span class="lineno">  725</span>        <span class="keywordflow">if</span> mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;P&quot;</span>, <span class="stringliteral">&quot;PA&quot;</span>) <span class="keywordflow">and</span> palette:</div>
<div class="line"><span class="lineno">  726</span>            self.putpalette(palette)</div>
<div class="line"><span class="lineno">  727</span>        self.frombytes(data)</div>
<div class="line"><span class="lineno">  728</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a21a9b0bfe9919052ee1b98924e842cfd" name="a21a9b0bfe9919052ee1b98924e842cfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21a9b0bfe9919052ee1b98924e842cfd">&#9670;&#160;</a></span>_copy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._copy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  603</span>    <span class="keyword">def </span>_copy(self):</div>
<div class="line"><span class="lineno">  604</span>        self.load()</div>
<div class="line"><span class="lineno">  605</span>        self.im = self.im.copy()</div>
<div class="line"><span class="lineno">  606</span>        self.pyaccess = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  607</span>        self.readonly = 0</div>
<div class="line"><span class="lineno">  608</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3380f4462122a550bfd052066905b867" name="a3380f4462122a550bfd052066905b867"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3380f4462122a550bfd052066905b867">&#9670;&#160;</a></span>_crop()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._crop </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Returns a rectangular region from the core image object im.

This is equivalent to calling im.crop((x0, y0, x1, y1)), but
includes additional sanity checks.

:param im: a core image object
:param box: The crop rectangle, as a (left, upper, right, lower)-tuple.
:returns: A core image object.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1236</span>    <span class="keyword">def </span>_crop(self, im, box):</div>
<div class="line"><span class="lineno"> 1237</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1238</span><span class="stringliteral">        Returns a rectangular region from the core image object im.</span></div>
<div class="line"><span class="lineno"> 1239</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1240</span><span class="stringliteral">        This is equivalent to calling im.crop((x0, y0, x1, y1)), but</span></div>
<div class="line"><span class="lineno"> 1241</span><span class="stringliteral">        includes additional sanity checks.</span></div>
<div class="line"><span class="lineno"> 1242</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1243</span><span class="stringliteral">        :param im: a core image object</span></div>
<div class="line"><span class="lineno"> 1244</span><span class="stringliteral">        :param box: The crop rectangle, as a (left, upper, right, lower)-tuple.</span></div>
<div class="line"><span class="lineno"> 1245</span><span class="stringliteral">        :returns: A core image object.</span></div>
<div class="line"><span class="lineno"> 1246</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1247</span> </div>
<div class="line"><span class="lineno"> 1248</span>        x0, y0, x1, y1 = map(int, map(round, box))</div>
<div class="line"><span class="lineno"> 1249</span> </div>
<div class="line"><span class="lineno"> 1250</span>        absolute_values = (abs(x1 - x0), abs(y1 - y0))</div>
<div class="line"><span class="lineno"> 1251</span> </div>
<div class="line"><span class="lineno"> 1252</span>        _decompression_bomb_check(absolute_values)</div>
<div class="line"><span class="lineno"> 1253</span> </div>
<div class="line"><span class="lineno"> 1254</span>        <span class="keywordflow">return</span> im.crop((x0, y0, x1, y1))</div>
<div class="line"><span class="lineno"> 1255</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a28e9bab2b3dece0cbf5d72e7b72fdfaf" name="a28e9bab2b3dece0cbf5d72e7b72fdfaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28e9bab2b3dece0cbf5d72e7b72fdfaf">&#9670;&#160;</a></span>_dump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._dump </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>format</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>options</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  615</span>    <span class="keyword">def </span>_dump(self, file=None, format=None, **options):</div>
<div class="line"><span class="lineno">  616</span>        suffix = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  617</span>        <span class="keywordflow">if</span> format:</div>
<div class="line"><span class="lineno">  618</span>            suffix = <span class="stringliteral">&quot;.&quot;</span> + format</div>
<div class="line"><span class="lineno">  619</span> </div>
<div class="line"><span class="lineno">  620</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> file:</div>
<div class="line"><span class="lineno">  621</span>            f, filename = tempfile.mkstemp(suffix)</div>
<div class="line"><span class="lineno">  622</span>            os.close(f)</div>
<div class="line"><span class="lineno">  623</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  624</span>            filename = file</div>
<div class="line"><span class="lineno">  625</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> filename.endswith(suffix):</div>
<div class="line"><span class="lineno">  626</span>                filename = filename + suffix</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>        self.load()</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> format <span class="keywordflow">or</span> format == <span class="stringliteral">&quot;PPM&quot;</span>:</div>
<div class="line"><span class="lineno">  631</span>            self.im.save_ppm(filename)</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  633</span>            self.save(filename, format, **options)</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span>        <span class="keywordflow">return</span> filename</div>
<div class="line"><span class="lineno">  636</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4318a06f9825740e86b8d9d87adb5680" name="a4318a06f9825740e86b8d9d87adb5680"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4318a06f9825740e86b8d9d87adb5680">&#9670;&#160;</a></span>_ensure_mutable()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._ensure_mutable </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  609</span>    <span class="keyword">def </span>_ensure_mutable(self):</div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">if</span> self.readonly:</div>
<div class="line"><span class="lineno">  611</span>            self._copy()</div>
<div class="line"><span class="lineno">  612</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  613</span>            self.load()</div>
<div class="line"><span class="lineno">  614</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a454a4bcad2b105d3ff2e4be625c9b101" name="a454a4bcad2b105d3ff2e4be625c9b101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a454a4bcad2b105d3ff2e4be625c9b101">&#9670;&#160;</a></span>_expand()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._expand </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>xmargin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ymargin</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1279</span>    <span class="keyword">def </span>_expand(self, xmargin, ymargin=None):</div>
<div class="line"><span class="lineno"> 1280</span>        <span class="keywordflow">if</span> ymargin <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1281</span>            ymargin = xmargin</div>
<div class="line"><span class="lineno"> 1282</span>        self.load()</div>
<div class="line"><span class="lineno"> 1283</span>        <span class="keywordflow">return</span> self._new(self.im.expand(xmargin, ymargin, 0))</div>
<div class="line"><span class="lineno"> 1284</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a6671aded64a31e9f77b5e1d784303442" name="a6671aded64a31e9f77b5e1d784303442"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6671aded64a31e9f77b5e1d784303442">&#9670;&#160;</a></span>_get_safe_box()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._get_safe_box </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resample</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Expands the box so it includes adjacent pixels
that may be used by resampling with the given resampling filter.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2072</span>    <span class="keyword">def </span>_get_safe_box(self, size, resample, box):</div>
<div class="line"><span class="lineno"> 2073</span>        <span class="stringliteral">&quot;&quot;&quot;Expands the box so it includes adjacent pixels</span></div>
<div class="line"><span class="lineno"> 2074</span><span class="stringliteral">        that may be used by resampling with the given resampling filter.</span></div>
<div class="line"><span class="lineno"> 2075</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2076</span>        filter_support = _filters_support[resample] - 0.5</div>
<div class="line"><span class="lineno"> 2077</span>        scale_x = (box[2] - box[0]) / size[0]</div>
<div class="line"><span class="lineno"> 2078</span>        scale_y = (box[3] - box[1]) / size[1]</div>
<div class="line"><span class="lineno"> 2079</span>        support_x = filter_support * scale_x</div>
<div class="line"><span class="lineno"> 2080</span>        support_y = filter_support * scale_y</div>
<div class="line"><span class="lineno"> 2081</span> </div>
<div class="line"><span class="lineno"> 2082</span>        <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno"> 2083</span>            max(0, int(box[0] - support_x)),</div>
<div class="line"><span class="lineno"> 2084</span>            max(0, int(box[1] - support_y)),</div>
<div class="line"><span class="lineno"> 2085</span>            min(self.size[0], math.ceil(box[2] + support_x)),</div>
<div class="line"><span class="lineno"> 2086</span>            min(self.size[1], math.ceil(box[3] + support_y)),</div>
<div class="line"><span class="lineno"> 2087</span>        )</div>
<div class="line"><span class="lineno"> 2088</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad3146e6aa2daecec0f4140d1ed22d3d0" name="ad3146e6aa2daecec0f4140d1ed22d3d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad3146e6aa2daecec0f4140d1ed22d3d0">&#9670;&#160;</a></span>_getxmp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._getxmp </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>xmp_tags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1404</span>    <span class="keyword">def </span>_getxmp(self, xmp_tags):</div>
<div class="line"><span class="lineno"> 1405</span>        <span class="keyword">def </span>get_name(tag):</div>
<div class="line"><span class="lineno"> 1406</span>            <span class="keywordflow">return</span> tag.split(<span class="stringliteral">&quot;}&quot;</span>)[1]</div>
<div class="line"><span class="lineno"> 1407</span> </div>
<div class="line"><span class="lineno"> 1408</span>        <span class="keyword">def </span>get_value(element):</div>
<div class="line"><span class="lineno"> 1409</span>            value = {get_name(k): v <span class="keywordflow">for</span> k, v <span class="keywordflow">in</span> element.attrib.items()}</div>
<div class="line"><span class="lineno"> 1410</span>            children = list(element)</div>
<div class="line"><span class="lineno"> 1411</span>            <span class="keywordflow">if</span> children:</div>
<div class="line"><span class="lineno"> 1412</span>                <span class="keywordflow">for</span> child <span class="keywordflow">in</span> children:</div>
<div class="line"><span class="lineno"> 1413</span>                    name = get_name(child.tag)</div>
<div class="line"><span class="lineno"> 1414</span>                    child_value = get_value(child)</div>
<div class="line"><span class="lineno"> 1415</span>                    <span class="keywordflow">if</span> name <span class="keywordflow">in</span> value:</div>
<div class="line"><span class="lineno"> 1416</span>                        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(value[name], list):</div>
<div class="line"><span class="lineno"> 1417</span>                            value[name] = [value[name]]</div>
<div class="line"><span class="lineno"> 1418</span>                        value[name].append(child_value)</div>
<div class="line"><span class="lineno"> 1419</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1420</span>                        value[name] = child_value</div>
<div class="line"><span class="lineno"> 1421</span>            <span class="keywordflow">elif</span> value:</div>
<div class="line"><span class="lineno"> 1422</span>                <span class="keywordflow">if</span> element.text:</div>
<div class="line"><span class="lineno"> 1423</span>                    value[<span class="stringliteral">&quot;text&quot;</span>] = element.text</div>
<div class="line"><span class="lineno"> 1424</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1425</span>                <span class="keywordflow">return</span> element.text</div>
<div class="line"><span class="lineno"> 1426</span>            <span class="keywordflow">return</span> value</div>
<div class="line"><span class="lineno"> 1427</span> </div>
<div class="line"><span class="lineno"> 1428</span>        <span class="keywordflow">if</span> ElementTree <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1429</span>            warnings.warn(<span class="stringliteral">&quot;XMP data cannot be read without defusedxml dependency&quot;</span>)</div>
<div class="line"><span class="lineno"> 1430</span>            <span class="keywordflow">return</span> {}</div>
<div class="line"><span class="lineno"> 1431</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1432</span>            root = ElementTree.fromstring(xmp_tags)</div>
<div class="line"><span class="lineno"> 1433</span>            <span class="keywordflow">return</span> {get_name(root.tag): get_value(root)}</div>
<div class="line"><span class="lineno"> 1434</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae7c65a5aa7931108851c5ece41a531b5" name="ae7c65a5aa7931108851c5ece41a531b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7c65a5aa7931108851c5ece41a531b5">&#9670;&#160;</a></span>_new()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._new </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>im</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  543</span>    <span class="keyword">def </span>_new(self, im):</div>
<div class="line"><span class="lineno">  544</span>        new = Image()</div>
<div class="line"><span class="lineno">  545</span>        new.im = im</div>
<div class="line"><span class="lineno">  546</span>        new.mode = im.mode</div>
<div class="line"><span class="lineno">  547</span>        new._size = im.size</div>
<div class="line"><span class="lineno">  548</span>        <span class="keywordflow">if</span> im.mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;P&quot;</span>, <span class="stringliteral">&quot;PA&quot;</span>):</div>
<div class="line"><span class="lineno">  549</span>            <span class="keywordflow">if</span> self.palette:</div>
<div class="line"><span class="lineno">  550</span>                new.palette = self.palette.copy()</div>
<div class="line"><span class="lineno">  551</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  552</span>                <span class="keyword">from</span> . <span class="keyword">import</span> ImagePalette</div>
<div class="line"><span class="lineno">  553</span> </div>
<div class="line"><span class="lineno">  554</span>                new.palette = ImagePalette.ImagePalette()</div>
<div class="line"><span class="lineno">  555</span>        new.info = self.info.copy()</div>
<div class="line"><span class="lineno">  556</span>        <span class="keywordflow">return</span> new</div>
<div class="line"><span class="lineno">  557</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d1ff8e5946b09865174d0e9f90460b2" name="a2d1ff8e5946b09865174d0e9f90460b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d1ff8e5946b09865174d0e9f90460b2">&#9670;&#160;</a></span>_reload_exif()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._reload_exif </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1466</span>    <span class="keyword">def </span>_reload_exif(self):</div>
<div class="line"><span class="lineno"> 1467</span>        <span class="keywordflow">if</span> self._exif <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">or</span> <span class="keywordflow">not</span> self._exif._loaded:</div>
<div class="line"><span class="lineno"> 1468</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 1469</span>        self._exif._loaded = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1470</span>        self.getexif()</div>
<div class="line"><span class="lineno"> 1471</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c9db2c5ed8421fab0bfae38d6767924" name="a4c9db2c5ed8421fab0bfae38d6767924"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c9db2c5ed8421fab0bfae38d6767924">&#9670;&#160;</a></span>_repr_png_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._repr_png_ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">iPython display hook support

:returns: png version of the image as bytes
</pre> <div class="fragment"><div class="line"><span class="lineno">  674</span>    <span class="keyword">def </span>_repr_png_(self):</div>
<div class="line"><span class="lineno">  675</span>        <span class="stringliteral">&quot;&quot;&quot;iPython display hook support</span></div>
<div class="line"><span class="lineno">  676</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  677</span><span class="stringliteral">        :returns: png version of the image as bytes</span></div>
<div class="line"><span class="lineno">  678</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  679</span>        b = io.BytesIO()</div>
<div class="line"><span class="lineno">  680</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  681</span>            self.save(b, <span class="stringliteral">&quot;PNG&quot;</span>)</div>
<div class="line"><span class="lineno">  682</span>        <span class="keywordflow">except</span> Exception <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">  683</span>            msg = <span class="stringliteral">&quot;Could not save to PNG for display&quot;</span></div>
<div class="line"><span class="lineno">  684</span>            <span class="keywordflow">raise</span> ValueError(msg) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno">  685</span>        <span class="keywordflow">return</span> b.getvalue()</div>
<div class="line"><span class="lineno">  686</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a63792c3a221e9997851338afd760fa48" name="a63792c3a221e9997851338afd760fa48"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63792c3a221e9997851338afd760fa48">&#9670;&#160;</a></span>_repr_pretty_()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._repr_pretty_ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cycle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">IPython plain text display support</pre> <div class="fragment"><div class="line"><span class="lineno">  658</span>    <span class="keyword">def </span>_repr_pretty_(self, p, cycle):</div>
<div class="line"><span class="lineno">  659</span>        <span class="stringliteral">&quot;&quot;&quot;IPython plain text display support&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>        <span class="comment"># Same as __repr__ but without unpredictable id(self),</span></div>
<div class="line"><span class="lineno">  662</span>        <span class="comment"># to keep Jupyter notebook `text/plain` output stable.</span></div>
<div class="line"><span class="lineno">  663</span>        p.text(</div>
<div class="line"><span class="lineno">  664</span>            <span class="stringliteral">&quot;&lt;%s.%s image mode=%s size=%dx%d&gt;&quot;</span></div>
<div class="line"><span class="lineno">  665</span>            % (</div>
<div class="line"><span class="lineno">  666</span>                self.__class__.__module__,</div>
<div class="line"><span class="lineno">  667</span>                self.__class__.__name__,</div>
<div class="line"><span class="lineno">  668</span>                self.mode,</div>
<div class="line"><span class="lineno">  669</span>                self.size[0],</div>
<div class="line"><span class="lineno">  670</span>                self.size[1],</div>
<div class="line"><span class="lineno">  671</span>            )</div>
<div class="line"><span class="lineno">  672</span>        )</div>
<div class="line"><span class="lineno">  673</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a76179a604b11acf25f02ffe1841de872" name="a76179a604b11acf25f02ffe1841de872"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a76179a604b11acf25f02ffe1841de872">&#9670;&#160;</a></span>alpha_composite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.alpha_composite </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dest</em> = <code>(0,&#160;0)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source</em> = <code>(0,&#160;0)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">'In-place' analog of Image.alpha_composite. Composites an image
onto this image.

:param im: image to composite over this one
:param dest: Optional 2 tuple (left, top) specifying the upper
  left corner in this (destination) image.
:param source: Optional 2 (left, top) tuple for the upper left
  corner in the overlay source image, or 4 tuple (left, top, right,
  bottom) for the bounds of the source rectangle

Performance Note: Not currently implemented in-place in the core layer.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1735</span>    <span class="keyword">def </span>alpha_composite(self, im, dest=(0, 0), source=(0, 0)):</div>
<div class="line"><span class="lineno"> 1736</span>        <span class="stringliteral">&quot;&quot;&quot;&#39;In-place&#39; analog of Image.alpha_composite. Composites an image</span></div>
<div class="line"><span class="lineno"> 1737</span><span class="stringliteral">        onto this image.</span></div>
<div class="line"><span class="lineno"> 1738</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1739</span><span class="stringliteral">        :param im: image to composite over this one</span></div>
<div class="line"><span class="lineno"> 1740</span><span class="stringliteral">        :param dest: Optional 2 tuple (left, top) specifying the upper</span></div>
<div class="line"><span class="lineno"> 1741</span><span class="stringliteral">          left corner in this (destination) image.</span></div>
<div class="line"><span class="lineno"> 1742</span><span class="stringliteral">        :param source: Optional 2 (left, top) tuple for the upper left</span></div>
<div class="line"><span class="lineno"> 1743</span><span class="stringliteral">          corner in the overlay source image, or 4 tuple (left, top, right,</span></div>
<div class="line"><span class="lineno"> 1744</span><span class="stringliteral">          bottom) for the bounds of the source rectangle</span></div>
<div class="line"><span class="lineno"> 1745</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1746</span><span class="stringliteral">        Performance Note: Not currently implemented in-place in the core layer.</span></div>
<div class="line"><span class="lineno"> 1747</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1748</span> </div>
<div class="line"><span class="lineno"> 1749</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(source, (list, tuple)):</div>
<div class="line"><span class="lineno"> 1750</span>            msg = <span class="stringliteral">&quot;Source must be a tuple&quot;</span></div>
<div class="line"><span class="lineno"> 1751</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1752</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(dest, (list, tuple)):</div>
<div class="line"><span class="lineno"> 1753</span>            msg = <span class="stringliteral">&quot;Destination must be a tuple&quot;</span></div>
<div class="line"><span class="lineno"> 1754</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1755</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> len(source) <span class="keywordflow">in</span> (2, 4):</div>
<div class="line"><span class="lineno"> 1756</span>            msg = <span class="stringliteral">&quot;Source must be a 2 or 4-tuple&quot;</span></div>
<div class="line"><span class="lineno"> 1757</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1758</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> len(dest) == 2:</div>
<div class="line"><span class="lineno"> 1759</span>            msg = <span class="stringliteral">&quot;Destination must be a 2-tuple&quot;</span></div>
<div class="line"><span class="lineno"> 1760</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1761</span>        <span class="keywordflow">if</span> min(source) &lt; 0:</div>
<div class="line"><span class="lineno"> 1762</span>            msg = <span class="stringliteral">&quot;Source must be non-negative&quot;</span></div>
<div class="line"><span class="lineno"> 1763</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1764</span> </div>
<div class="line"><span class="lineno"> 1765</span>        <span class="keywordflow">if</span> len(source) == 2:</div>
<div class="line"><span class="lineno"> 1766</span>            source = source + im.size</div>
<div class="line"><span class="lineno"> 1767</span> </div>
<div class="line"><span class="lineno"> 1768</span>        <span class="comment"># over image, crop if it&#39;s not the whole thing.</span></div>
<div class="line"><span class="lineno"> 1769</span>        <span class="keywordflow">if</span> source == (0, 0) + im.size:</div>
<div class="line"><span class="lineno"> 1770</span>            overlay = im</div>
<div class="line"><span class="lineno"> 1771</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1772</span>            overlay = im.crop(source)</div>
<div class="line"><span class="lineno"> 1773</span> </div>
<div class="line"><span class="lineno"> 1774</span>        <span class="comment"># target for the paste</span></div>
<div class="line"><span class="lineno"> 1775</span>        box = dest + (dest[0] + overlay.width, dest[1] + overlay.height)</div>
<div class="line"><span class="lineno"> 1776</span> </div>
<div class="line"><span class="lineno"> 1777</span>        <span class="comment"># destination image. don&#39;t copy if we&#39;re using the whole image.</span></div>
<div class="line"><span class="lineno"> 1778</span>        <span class="keywordflow">if</span> box == (0, 0) + self.size:</div>
<div class="line"><span class="lineno"> 1779</span>            background = self</div>
<div class="line"><span class="lineno"> 1780</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1781</span>            background = self.crop(box)</div>
<div class="line"><span class="lineno"> 1782</span> </div>
<div class="line"><span class="lineno"> 1783</span>        result = alpha_composite(background, overlay)</div>
<div class="line"><span class="lineno"> 1784</span>        self.paste(result, box)</div>
<div class="line"><span class="lineno"> 1785</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ecdc56c0268aab7f5c23d468d6cae8c" name="a9ecdc56c0268aab7f5c23d468d6cae8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ecdc56c0268aab7f5c23d468d6cae8c">&#9670;&#160;</a></span>apply_transparency()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.apply_transparency </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">If a P mode image has a "transparency" key in the info dictionary,
remove the key and instead apply the transparency to the palette.
Otherwise, the image is unchanged.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1547</span>    <span class="keyword">def </span>apply_transparency(self):</div>
<div class="line"><span class="lineno"> 1548</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1549</span><span class="stringliteral">        If a P mode image has a &quot;transparency&quot; key in the info dictionary,</span></div>
<div class="line"><span class="lineno"> 1550</span><span class="stringliteral">        remove the key and instead apply the transparency to the palette.</span></div>
<div class="line"><span class="lineno"> 1551</span><span class="stringliteral">        Otherwise, the image is unchanged.</span></div>
<div class="line"><span class="lineno"> 1552</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1553</span>        <span class="keywordflow">if</span> self.mode != <span class="stringliteral">&quot;P&quot;</span> <span class="keywordflow">or</span> <span class="stringliteral">&quot;transparency&quot;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.info:</div>
<div class="line"><span class="lineno"> 1554</span>            <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 1555</span> </div>
<div class="line"><span class="lineno"> 1556</span>        <span class="keyword">from</span> . <span class="keyword">import</span> ImagePalette</div>
<div class="line"><span class="lineno"> 1557</span> </div>
<div class="line"><span class="lineno"> 1558</span>        palette = self.getpalette(<span class="stringliteral">&quot;RGBA&quot;</span>)</div>
<div class="line"><span class="lineno"> 1559</span>        transparency = self.info[<span class="stringliteral">&quot;transparency&quot;</span>]</div>
<div class="line"><span class="lineno"> 1560</span>        <span class="keywordflow">if</span> isinstance(transparency, bytes):</div>
<div class="line"><span class="lineno"> 1561</span>            <span class="keywordflow">for</span> i, alpha <span class="keywordflow">in</span> enumerate(transparency):</div>
<div class="line"><span class="lineno"> 1562</span>                palette[i * 4 + 3] = alpha</div>
<div class="line"><span class="lineno"> 1563</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1564</span>            palette[transparency * 4 + 3] = 0</div>
<div class="line"><span class="lineno"> 1565</span>        self.palette = ImagePalette.ImagePalette(<span class="stringliteral">&quot;RGBA&quot;</span>, bytes(palette))</div>
<div class="line"><span class="lineno"> 1566</span>        self.palette.dirty = 1</div>
<div class="line"><span class="lineno"> 1567</span> </div>
<div class="line"><span class="lineno"> 1568</span>        del self.info[<span class="stringliteral">&quot;transparency&quot;</span>]</div>
<div class="line"><span class="lineno"> 1569</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa11e4331fc2cffcf740fa8bcec4e914" name="aaa11e4331fc2cffcf740fa8bcec4e914"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa11e4331fc2cffcf740fa8bcec4e914">&#9670;&#160;</a></span>close()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.close </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Closes the file pointer, if possible.

This operation will destroy the image core and release its memory.
The image data will be unusable afterward.

This function is required to close images that have multiple frames or
have not had their file read and closed by the
:py:meth:`~PIL.Image.Image.load` method. See :ref:`file-handling` for
more information.
</pre> <div class="fragment"><div class="line"><span class="lineno">  572</span>    <span class="keyword">def </span>close(self):</div>
<div class="line"><span class="lineno">  573</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  574</span><span class="stringliteral">        Closes the file pointer, if possible.</span></div>
<div class="line"><span class="lineno">  575</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  576</span><span class="stringliteral">        This operation will destroy the image core and release its memory.</span></div>
<div class="line"><span class="lineno">  577</span><span class="stringliteral">        The image data will be unusable afterward.</span></div>
<div class="line"><span class="lineno">  578</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  579</span><span class="stringliteral">        This function is required to close images that have multiple frames or</span></div>
<div class="line"><span class="lineno">  580</span><span class="stringliteral">        have not had their file read and closed by the</span></div>
<div class="line"><span class="lineno">  581</span><span class="stringliteral">        :py:meth:`~PIL.Image.Image.load` method. See :ref:`file-handling` for</span></div>
<div class="line"><span class="lineno">  582</span><span class="stringliteral">        more information.</span></div>
<div class="line"><span class="lineno">  583</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  584</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  585</span>            <span class="keywordflow">if</span> getattr(self, <span class="stringliteral">&quot;_fp&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  586</span>                <span class="keywordflow">if</span> self._fp != self.fp:</div>
<div class="line"><span class="lineno">  587</span>                    self._fp.close()</div>
<div class="line"><span class="lineno">  588</span>                self._fp = DeferredError(ValueError(<span class="stringliteral">&quot;Operation on closed image&quot;</span>))</div>
<div class="line"><span class="lineno">  589</span>            <span class="keywordflow">if</span> self.fp:</div>
<div class="line"><span class="lineno">  590</span>                self.fp.close()</div>
<div class="line"><span class="lineno">  591</span>            self.fp = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  592</span>        <span class="keywordflow">except</span> Exception <span class="keyword">as</span> msg:</div>
<div class="line"><span class="lineno">  593</span>            logger.debug(<span class="stringliteral">&quot;Error closing: %s&quot;</span>, msg)</div>
<div class="line"><span class="lineno">  594</span> </div>
<div class="line"><span class="lineno">  595</span>        <span class="keywordflow">if</span> getattr(self, <span class="stringliteral">&quot;map&quot;</span>, <span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno">  596</span>            self.map = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  597</span> </div>
<div class="line"><span class="lineno">  598</span>        <span class="comment"># Instead of simply setting to None, we&#39;re setting up a</span></div>
<div class="line"><span class="lineno">  599</span>        <span class="comment"># deferred error that will better explain that the core image</span></div>
<div class="line"><span class="lineno">  600</span>        <span class="comment"># object is gone.</span></div>
<div class="line"><span class="lineno">  601</span>        self.im = DeferredError(ValueError(<span class="stringliteral">&quot;Operation on closed image&quot;</span>))</div>
<div class="line"><span class="lineno">  602</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5a6e7065b90d4a77925d402aae243b19" name="a5a6e7065b90d4a77925d402aae243b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a6e7065b90d4a77925d402aae243b19">&#9670;&#160;</a></span>convert()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.convert </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>matrix</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dither</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>palette</em> = <code><a class="el" href="class_p_i_l_1_1_image_1_1_palette.html#aa6e4f52a2312473bd8bb9f45cc553aaf">Palette.WEB</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>colors</em> = <code>256</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a converted copy of this image. For the "P" mode, this
method translates pixels through the palette.  If mode is
omitted, a mode is chosen so that all information in the image
and the palette can be represented without a palette.

The current version supports all possible conversions between
"L", "RGB" and "CMYK". The ``matrix`` argument only supports "L"
and "RGB".

When translating a color image to greyscale (mode "L"),
the library uses the ITU-R 601-2 luma transform::

    L = R * 299/1000 + G * 587/1000 + B * 114/1000

The default method of converting a greyscale ("L") or "RGB"
image into a bilevel (mode "1") image uses Floyd-Steinberg
dither to approximate the original image luminosity levels. If
dither is ``None``, all values larger than 127 are set to 255 (white),
all other values to 0 (black). To use other thresholds, use the
:py:meth:`~PIL.Image.Image.point` method.

When converting from "RGBA" to "P" without a ``matrix`` argument,
this passes the operation to :py:meth:`~PIL.Image.Image.quantize`,
and ``dither`` and ``palette`` are ignored.

When converting from "PA", if an "RGBA" palette is present, the alpha
channel from the image will be used instead of the values from the palette.

:param mode: The requested mode. See: :ref:`concept-modes`.
:param matrix: An optional conversion matrix.  If given, this
   should be 4- or 12-tuple containing floating point values.
:param dither: Dithering method, used when converting from
   mode "RGB" to "P" or from "RGB" or "L" to "1".
   Available methods are :data:`Dither.NONE` or :data:`Dither.FLOYDSTEINBERG`
   (default). Note that this is not used when ``matrix`` is supplied.
:param palette: Palette to use when converting from mode "RGB"
   to "P".  Available palettes are :data:`Palette.WEB` or
   :data:`Palette.ADAPTIVE`.
:param colors: Number of colors to use for the :data:`Palette.ADAPTIVE`
   palette. Defaults to 256.
:rtype: :py:class:`~PIL.Image.Image`
:returns: An :py:class:`~PIL.Image.Image` object.
</pre> <div class="fragment"><div class="line"><span class="lineno">  891</span>    ):</div>
<div class="line"><span class="lineno">  892</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  893</span><span class="stringliteral">        Returns a converted copy of this image. For the &quot;P&quot; mode, this</span></div>
<div class="line"><span class="lineno">  894</span><span class="stringliteral">        method translates pixels through the palette.  If mode is</span></div>
<div class="line"><span class="lineno">  895</span><span class="stringliteral">        omitted, a mode is chosen so that all information in the image</span></div>
<div class="line"><span class="lineno">  896</span><span class="stringliteral">        and the palette can be represented without a palette.</span></div>
<div class="line"><span class="lineno">  897</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  898</span><span class="stringliteral">        The current version supports all possible conversions between</span></div>
<div class="line"><span class="lineno">  899</span><span class="stringliteral">        &quot;L&quot;, &quot;RGB&quot; and &quot;CMYK&quot;. The ``matrix`` argument only supports &quot;L&quot;</span></div>
<div class="line"><span class="lineno">  900</span><span class="stringliteral">        and &quot;RGB&quot;.</span></div>
<div class="line"><span class="lineno">  901</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  902</span><span class="stringliteral">        When translating a color image to greyscale (mode &quot;L&quot;),</span></div>
<div class="line"><span class="lineno">  903</span><span class="stringliteral">        the library uses the ITU-R 601-2 luma transform::</span></div>
<div class="line"><span class="lineno">  904</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  905</span><span class="stringliteral">            L = R * 299/1000 + G * 587/1000 + B * 114/1000</span></div>
<div class="line"><span class="lineno">  906</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  907</span><span class="stringliteral">        The default method of converting a greyscale (&quot;L&quot;) or &quot;RGB&quot;</span></div>
<div class="line"><span class="lineno">  908</span><span class="stringliteral">        image into a bilevel (mode &quot;1&quot;) image uses Floyd-Steinberg</span></div>
<div class="line"><span class="lineno">  909</span><span class="stringliteral">        dither to approximate the original image luminosity levels. If</span></div>
<div class="line"><span class="lineno">  910</span><span class="stringliteral">        dither is ``None``, all values larger than 127 are set to 255 (white),</span></div>
<div class="line"><span class="lineno">  911</span><span class="stringliteral">        all other values to 0 (black). To use other thresholds, use the</span></div>
<div class="line"><span class="lineno">  912</span><span class="stringliteral">        :py:meth:`~PIL.Image.Image.point` method.</span></div>
<div class="line"><span class="lineno">  913</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  914</span><span class="stringliteral">        When converting from &quot;RGBA&quot; to &quot;P&quot; without a ``matrix`` argument,</span></div>
<div class="line"><span class="lineno">  915</span><span class="stringliteral">        this passes the operation to :py:meth:`~PIL.Image.Image.quantize`,</span></div>
<div class="line"><span class="lineno">  916</span><span class="stringliteral">        and ``dither`` and ``palette`` are ignored.</span></div>
<div class="line"><span class="lineno">  917</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  918</span><span class="stringliteral">        When converting from &quot;PA&quot;, if an &quot;RGBA&quot; palette is present, the alpha</span></div>
<div class="line"><span class="lineno">  919</span><span class="stringliteral">        channel from the image will be used instead of the values from the palette.</span></div>
<div class="line"><span class="lineno">  920</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  921</span><span class="stringliteral">        :param mode: The requested mode. See: :ref:`concept-modes`.</span></div>
<div class="line"><span class="lineno">  922</span><span class="stringliteral">        :param matrix: An optional conversion matrix.  If given, this</span></div>
<div class="line"><span class="lineno">  923</span><span class="stringliteral">           should be 4- or 12-tuple containing floating point values.</span></div>
<div class="line"><span class="lineno">  924</span><span class="stringliteral">        :param dither: Dithering method, used when converting from</span></div>
<div class="line"><span class="lineno">  925</span><span class="stringliteral">           mode &quot;RGB&quot; to &quot;P&quot; or from &quot;RGB&quot; or &quot;L&quot; to &quot;1&quot;.</span></div>
<div class="line"><span class="lineno">  926</span><span class="stringliteral">           Available methods are :data:`Dither.NONE` or :data:`Dither.FLOYDSTEINBERG`</span></div>
<div class="line"><span class="lineno">  927</span><span class="stringliteral">           (default). Note that this is not used when ``matrix`` is supplied.</span></div>
<div class="line"><span class="lineno">  928</span><span class="stringliteral">        :param palette: Palette to use when converting from mode &quot;RGB&quot;</span></div>
<div class="line"><span class="lineno">  929</span><span class="stringliteral">           to &quot;P&quot;.  Available palettes are :data:`Palette.WEB` or</span></div>
<div class="line"><span class="lineno">  930</span><span class="stringliteral">           :data:`Palette.ADAPTIVE`.</span></div>
<div class="line"><span class="lineno">  931</span><span class="stringliteral">        :param colors: Number of colors to use for the :data:`Palette.ADAPTIVE`</span></div>
<div class="line"><span class="lineno">  932</span><span class="stringliteral">           palette. Defaults to 256.</span></div>
<div class="line"><span class="lineno">  933</span><span class="stringliteral">        :rtype: :py:class:`~PIL.Image.Image`</span></div>
<div class="line"><span class="lineno">  934</span><span class="stringliteral">        :returns: An :py:class:`~PIL.Image.Image` object.</span></div>
<div class="line"><span class="lineno">  935</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>        self.load()</div>
<div class="line"><span class="lineno">  938</span> </div>
<div class="line"><span class="lineno">  939</span>        has_transparency = self.info.get(<span class="stringliteral">&quot;transparency&quot;</span>) <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  940</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> mode <span class="keywordflow">and</span> self.mode == <span class="stringliteral">&quot;P&quot;</span>:</div>
<div class="line"><span class="lineno">  941</span>            <span class="comment"># determine default mode</span></div>
<div class="line"><span class="lineno">  942</span>            <span class="keywordflow">if</span> self.palette:</div>
<div class="line"><span class="lineno">  943</span>                mode = self.palette.mode</div>
<div class="line"><span class="lineno">  944</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  945</span>                mode = <span class="stringliteral">&quot;RGB&quot;</span></div>
<div class="line"><span class="lineno">  946</span>            <span class="keywordflow">if</span> mode == <span class="stringliteral">&quot;RGB&quot;</span> <span class="keywordflow">and</span> has_transparency:</div>
<div class="line"><span class="lineno">  947</span>                mode = <span class="stringliteral">&quot;RGBA&quot;</span></div>
<div class="line"><span class="lineno">  948</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> mode <span class="keywordflow">or</span> (mode == self.mode <span class="keywordflow">and</span> <span class="keywordflow">not</span> matrix):</div>
<div class="line"><span class="lineno">  949</span>            <span class="keywordflow">return</span> self.copy()</div>
<div class="line"><span class="lineno">  950</span> </div>
<div class="line"><span class="lineno">  951</span>        <span class="keywordflow">if</span> matrix:</div>
<div class="line"><span class="lineno">  952</span>            <span class="comment"># matrix conversion</span></div>
<div class="line"><span class="lineno">  953</span>            <span class="keywordflow">if</span> mode <span class="keywordflow">not</span> <span class="keywordflow">in</span> (<span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;RGB&quot;</span>):</div>
<div class="line"><span class="lineno">  954</span>                msg = <span class="stringliteral">&quot;illegal conversion&quot;</span></div>
<div class="line"><span class="lineno">  955</span>                <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno">  956</span>            im = self.im.convert_matrix(mode, matrix)</div>
<div class="line"><span class="lineno">  957</span>            new = self._new(im)</div>
<div class="line"><span class="lineno">  958</span>            <span class="keywordflow">if</span> has_transparency <span class="keywordflow">and</span> self.im.bands == 3:</div>
<div class="line"><span class="lineno">  959</span>                transparency = new.info[<span class="stringliteral">&quot;transparency&quot;</span>]</div>
<div class="line"><span class="lineno">  960</span> </div>
<div class="line"><span class="lineno">  961</span>                <span class="keyword">def </span>convert_transparency(m, v):</div>
<div class="line"><span class="lineno">  962</span>                    v = m[0] * v[0] + m[1] * v[1] + m[2] * v[2] + m[3] * 0.5</div>
<div class="line"><span class="lineno">  963</span>                    <span class="keywordflow">return</span> max(0, min(255, int(v)))</div>
<div class="line"><span class="lineno">  964</span> </div>
<div class="line"><span class="lineno">  965</span>                <span class="keywordflow">if</span> mode == <span class="stringliteral">&quot;L&quot;</span>:</div>
<div class="line"><span class="lineno">  966</span>                    transparency = convert_transparency(matrix, transparency)</div>
<div class="line"><span class="lineno">  967</span>                <span class="keywordflow">elif</span> len(mode) == 3:</div>
<div class="line"><span class="lineno">  968</span>                    transparency = tuple(</div>
<div class="line"><span class="lineno">  969</span>                        convert_transparency(matrix[i * 4 : i * 4 + 4], transparency)</div>
<div class="line"><span class="lineno">  970</span>                        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(0, len(transparency))</div>
<div class="line"><span class="lineno">  971</span>                    )</div>
<div class="line"><span class="lineno">  972</span>                new.info[<span class="stringliteral">&quot;transparency&quot;</span>] = transparency</div>
<div class="line"><span class="lineno">  973</span>            <span class="keywordflow">return</span> new</div>
<div class="line"><span class="lineno">  974</span> </div>
<div class="line"><span class="lineno">  975</span>        <span class="keywordflow">if</span> mode == <span class="stringliteral">&quot;P&quot;</span> <span class="keywordflow">and</span> self.mode == <span class="stringliteral">&quot;RGBA&quot;</span>:</div>
<div class="line"><span class="lineno">  976</span>            <span class="keywordflow">return</span> self.quantize(colors)</div>
<div class="line"><span class="lineno">  977</span> </div>
<div class="line"><span class="lineno">  978</span>        trns = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  979</span>        delete_trns = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  980</span>        <span class="comment"># transparency handling</span></div>
<div class="line"><span class="lineno">  981</span>        <span class="keywordflow">if</span> has_transparency:</div>
<div class="line"><span class="lineno">  982</span>            <span class="keywordflow">if</span> (self.mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;I&quot;</span>) <span class="keywordflow">and</span> mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>)) <span class="keywordflow">or</span> (</div>
<div class="line"><span class="lineno">  983</span>                self.mode == <span class="stringliteral">&quot;RGB&quot;</span> <span class="keywordflow">and</span> mode == <span class="stringliteral">&quot;RGBA&quot;</span></div>
<div class="line"><span class="lineno">  984</span>            ):</div>
<div class="line"><span class="lineno">  985</span>                <span class="comment"># Use transparent conversion to promote from transparent</span></div>
<div class="line"><span class="lineno">  986</span>                <span class="comment"># color to an alpha channel.</span></div>
<div class="line"><span class="lineno">  987</span>                new_im = self._new(</div>
<div class="line"><span class="lineno">  988</span>                    self.im.convert_transparent(mode, self.info[<span class="stringliteral">&quot;transparency&quot;</span>])</div>
<div class="line"><span class="lineno">  989</span>                )</div>
<div class="line"><span class="lineno">  990</span>                del new_im.info[<span class="stringliteral">&quot;transparency&quot;</span>]</div>
<div class="line"><span class="lineno">  991</span>                <span class="keywordflow">return</span> new_im</div>
<div class="line"><span class="lineno">  992</span>            <span class="keywordflow">elif</span> self.mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;RGB&quot;</span>, <span class="stringliteral">&quot;P&quot;</span>) <span class="keywordflow">and</span> mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;RGB&quot;</span>, <span class="stringliteral">&quot;P&quot;</span>):</div>
<div class="line"><span class="lineno">  993</span>                t = self.info[<span class="stringliteral">&quot;transparency&quot;</span>]</div>
<div class="line"><span class="lineno">  994</span>                <span class="keywordflow">if</span> isinstance(t, bytes):</div>
<div class="line"><span class="lineno">  995</span>                    <span class="comment"># Dragons. This can&#39;t be represented by a single color</span></div>
<div class="line"><span class="lineno">  996</span>                    warnings.warn(</div>
<div class="line"><span class="lineno">  997</span>                        <span class="stringliteral">&quot;Palette images with Transparency expressed in bytes should be &quot;</span></div>
<div class="line"><span class="lineno">  998</span>                        <span class="stringliteral">&quot;converted to RGBA images&quot;</span></div>
<div class="line"><span class="lineno">  999</span>                    )</div>
<div class="line"><span class="lineno"> 1000</span>                    delete_trns = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1001</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1002</span>                    <span class="comment"># get the new transparency color.</span></div>
<div class="line"><span class="lineno"> 1003</span>                    <span class="comment"># use existing conversions</span></div>
<div class="line"><span class="lineno"> 1004</span>                    trns_im = Image()._new(core.new(self.mode, (1, 1)))</div>
<div class="line"><span class="lineno"> 1005</span>                    <span class="keywordflow">if</span> self.mode == <span class="stringliteral">&quot;P&quot;</span>:</div>
<div class="line"><span class="lineno"> 1006</span>                        trns_im.putpalette(self.palette)</div>
<div class="line"><span class="lineno"> 1007</span>                        <span class="keywordflow">if</span> isinstance(t, tuple):</div>
<div class="line"><span class="lineno"> 1008</span>                            err = <span class="stringliteral">&quot;Couldn&#39;t allocate a palette color for transparency&quot;</span></div>
<div class="line"><span class="lineno"> 1009</span>                            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1010</span>                                t = trns_im.palette.getcolor(t, self)</div>
<div class="line"><span class="lineno"> 1011</span>                            <span class="keywordflow">except</span> ValueError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno"> 1012</span>                                <span class="keywordflow">if</span> str(e) == <span class="stringliteral">&quot;cannot allocate more than 256 colors&quot;</span>:</div>
<div class="line"><span class="lineno"> 1013</span>                                    <span class="comment"># If all 256 colors are in use,</span></div>
<div class="line"><span class="lineno"> 1014</span>                                    <span class="comment"># then there is no need for transparency</span></div>
<div class="line"><span class="lineno"> 1015</span>                                    t = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1016</span>                                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1017</span>                                    <span class="keywordflow">raise</span> ValueError(err) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno"> 1018</span>                    <span class="keywordflow">if</span> t <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1019</span>                        trns = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1020</span>                    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1021</span>                        trns_im.putpixel((0, 0), t)</div>
<div class="line"><span class="lineno"> 1022</span> </div>
<div class="line"><span class="lineno"> 1023</span>                        <span class="keywordflow">if</span> mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;RGB&quot;</span>):</div>
<div class="line"><span class="lineno"> 1024</span>                            trns_im = trns_im.convert(mode)</div>
<div class="line"><span class="lineno"> 1025</span>                        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1026</span>                            <span class="comment"># can&#39;t just retrieve the palette number, got to do it</span></div>
<div class="line"><span class="lineno"> 1027</span>                            <span class="comment"># after quantization.</span></div>
<div class="line"><span class="lineno"> 1028</span>                            trns_im = trns_im.convert(<span class="stringliteral">&quot;RGB&quot;</span>)</div>
<div class="line"><span class="lineno"> 1029</span>                        trns = trns_im.getpixel((0, 0))</div>
<div class="line"><span class="lineno"> 1030</span> </div>
<div class="line"><span class="lineno"> 1031</span>            <span class="keywordflow">elif</span> self.mode == <span class="stringliteral">&quot;P&quot;</span> <span class="keywordflow">and</span> mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;PA&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>):</div>
<div class="line"><span class="lineno"> 1032</span>                t = self.info[<span class="stringliteral">&quot;transparency&quot;</span>]</div>
<div class="line"><span class="lineno"> 1033</span>                delete_trns = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1034</span> </div>
<div class="line"><span class="lineno"> 1035</span>                <span class="keywordflow">if</span> isinstance(t, bytes):</div>
<div class="line"><span class="lineno"> 1036</span>                    self.im.putpalettealphas(t)</div>
<div class="line"><span class="lineno"> 1037</span>                <span class="keywordflow">elif</span> isinstance(t, int):</div>
<div class="line"><span class="lineno"> 1038</span>                    self.im.putpalettealpha(t, 0)</div>
<div class="line"><span class="lineno"> 1039</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1040</span>                    msg = <span class="stringliteral">&quot;Transparency for P mode should be bytes or int&quot;</span></div>
<div class="line"><span class="lineno"> 1041</span>                    <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1042</span> </div>
<div class="line"><span class="lineno"> 1043</span>        <span class="keywordflow">if</span> mode == <span class="stringliteral">&quot;P&quot;</span> <span class="keywordflow">and</span> palette == Palette.ADAPTIVE:</div>
<div class="line"><span class="lineno"> 1044</span>            im = self.im.quantize(colors)</div>
<div class="line"><span class="lineno"> 1045</span>            new = self._new(im)</div>
<div class="line"><span class="lineno"> 1046</span>            <span class="keyword">from</span> . <span class="keyword">import</span> ImagePalette</div>
<div class="line"><span class="lineno"> 1047</span> </div>
<div class="line"><span class="lineno"> 1048</span>            new.palette = ImagePalette.ImagePalette(<span class="stringliteral">&quot;RGB&quot;</span>, new.im.getpalette(<span class="stringliteral">&quot;RGB&quot;</span>))</div>
<div class="line"><span class="lineno"> 1049</span>            <span class="keywordflow">if</span> delete_trns:</div>
<div class="line"><span class="lineno"> 1050</span>                <span class="comment"># This could possibly happen if we requantize to fewer colors.</span></div>
<div class="line"><span class="lineno"> 1051</span>                <span class="comment"># The transparency would be totally off in that case.</span></div>
<div class="line"><span class="lineno"> 1052</span>                del new.info[<span class="stringliteral">&quot;transparency&quot;</span>]</div>
<div class="line"><span class="lineno"> 1053</span>            <span class="keywordflow">if</span> trns <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1054</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1055</span>                    new.info[<span class="stringliteral">&quot;transparency&quot;</span>] = new.palette.getcolor(trns, new)</div>
<div class="line"><span class="lineno"> 1056</span>                <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno"> 1057</span>                    <span class="comment"># if we can&#39;t make a transparent color, don&#39;t leave the old</span></div>
<div class="line"><span class="lineno"> 1058</span>                    <span class="comment"># transparency hanging around to mess us up.</span></div>
<div class="line"><span class="lineno"> 1059</span>                    del new.info[<span class="stringliteral">&quot;transparency&quot;</span>]</div>
<div class="line"><span class="lineno"> 1060</span>                    warnings.warn(<span class="stringliteral">&quot;Couldn&#39;t allocate palette entry for transparency&quot;</span>)</div>
<div class="line"><span class="lineno"> 1061</span>            <span class="keywordflow">return</span> new</div>
<div class="line"><span class="lineno"> 1062</span> </div>
<div class="line"><span class="lineno"> 1063</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;LAB&quot;</span> <span class="keywordflow">in</span> (self.mode, mode):</div>
<div class="line"><span class="lineno"> 1064</span>            other_mode = mode <span class="keywordflow">if</span> self.mode == <span class="stringliteral">&quot;LAB&quot;</span> <span class="keywordflow">else</span> self.mode</div>
<div class="line"><span class="lineno"> 1065</span>            <span class="keywordflow">if</span> other_mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;RGB&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>, <span class="stringliteral">&quot;RGBX&quot;</span>):</div>
<div class="line"><span class="lineno"> 1066</span>                <span class="keyword">from</span> . <span class="keyword">import</span> ImageCms</div>
<div class="line"><span class="lineno"> 1067</span> </div>
<div class="line"><span class="lineno"> 1068</span>                srgb = ImageCms.createProfile(<span class="stringliteral">&quot;sRGB&quot;</span>)</div>
<div class="line"><span class="lineno"> 1069</span>                lab = ImageCms.createProfile(<span class="stringliteral">&quot;LAB&quot;</span>)</div>
<div class="line"><span class="lineno"> 1070</span>                profiles = [lab, srgb] <span class="keywordflow">if</span> self.mode == <span class="stringliteral">&quot;LAB&quot;</span> <span class="keywordflow">else</span> [srgb, lab]</div>
<div class="line"><span class="lineno"> 1071</span>                transform = ImageCms.buildTransform(</div>
<div class="line"><span class="lineno"> 1072</span>                    profiles[0], profiles[1], self.mode, mode</div>
<div class="line"><span class="lineno"> 1073</span>                )</div>
<div class="line"><span class="lineno"> 1074</span>                <span class="keywordflow">return</span> transform.apply(self)</div>
<div class="line"><span class="lineno"> 1075</span> </div>
<div class="line"><span class="lineno"> 1076</span>        <span class="comment"># colorspace conversion</span></div>
<div class="line"><span class="lineno"> 1077</span>        <span class="keywordflow">if</span> dither <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1078</span>            dither = Dither.FLOYDSTEINBERG</div>
<div class="line"><span class="lineno"> 1079</span> </div>
<div class="line"><span class="lineno"> 1080</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1081</span>            im = self.im.convert(mode, dither)</div>
<div class="line"><span class="lineno"> 1082</span>        <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno"> 1083</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1084</span>                <span class="comment"># normalize source image and try again</span></div>
<div class="line"><span class="lineno"> 1085</span>                modebase = getmodebase(self.mode)</div>
<div class="line"><span class="lineno"> 1086</span>                <span class="keywordflow">if</span> modebase == self.mode:</div>
<div class="line"><span class="lineno"> 1087</span>                    <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno"> 1088</span>                im = self.im.convert(modebase)</div>
<div class="line"><span class="lineno"> 1089</span>                im = im.convert(mode, dither)</div>
<div class="line"><span class="lineno"> 1090</span>            <span class="keywordflow">except</span> KeyError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno"> 1091</span>                msg = <span class="stringliteral">&quot;illegal conversion&quot;</span></div>
<div class="line"><span class="lineno"> 1092</span>                <span class="keywordflow">raise</span> ValueError(msg) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno"> 1093</span> </div>
<div class="line"><span class="lineno"> 1094</span>        new_im = self._new(im)</div>
<div class="line"><span class="lineno"> 1095</span>        <span class="keywordflow">if</span> mode == <span class="stringliteral">&quot;P&quot;</span> <span class="keywordflow">and</span> palette != Palette.ADAPTIVE:</div>
<div class="line"><span class="lineno"> 1096</span>            <span class="keyword">from</span> . <span class="keyword">import</span> ImagePalette</div>
<div class="line"><span class="lineno"> 1097</span> </div>
<div class="line"><span class="lineno"> 1098</span>            new_im.palette = ImagePalette.ImagePalette(<span class="stringliteral">&quot;RGB&quot;</span>, list(range(256)) * 3)</div>
<div class="line"><span class="lineno"> 1099</span>        <span class="keywordflow">if</span> delete_trns:</div>
<div class="line"><span class="lineno"> 1100</span>            <span class="comment"># crash fail if we leave a bytes transparency in an rgb/l mode.</span></div>
<div class="line"><span class="lineno"> 1101</span>            del new_im.info[<span class="stringliteral">&quot;transparency&quot;</span>]</div>
<div class="line"><span class="lineno"> 1102</span>        <span class="keywordflow">if</span> trns <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1103</span>            <span class="keywordflow">if</span> new_im.mode == <span class="stringliteral">&quot;P&quot;</span>:</div>
<div class="line"><span class="lineno"> 1104</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1105</span>                    new_im.info[<span class="stringliteral">&quot;transparency&quot;</span>] = new_im.palette.getcolor(trns, new_im)</div>
<div class="line"><span class="lineno"> 1106</span>                <span class="keywordflow">except</span> ValueError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno"> 1107</span>                    del new_im.info[<span class="stringliteral">&quot;transparency&quot;</span>]</div>
<div class="line"><span class="lineno"> 1108</span>                    <span class="keywordflow">if</span> str(e) != <span class="stringliteral">&quot;cannot allocate more than 256 colors&quot;</span>:</div>
<div class="line"><span class="lineno"> 1109</span>                        <span class="comment"># If all 256 colors are in use,</span></div>
<div class="line"><span class="lineno"> 1110</span>                        <span class="comment"># then there is no need for transparency</span></div>
<div class="line"><span class="lineno"> 1111</span>                        warnings.warn(</div>
<div class="line"><span class="lineno"> 1112</span>                            <span class="stringliteral">&quot;Couldn&#39;t allocate palette entry for transparency&quot;</span></div>
<div class="line"><span class="lineno"> 1113</span>                        )</div>
<div class="line"><span class="lineno"> 1114</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1115</span>                new_im.info[<span class="stringliteral">&quot;transparency&quot;</span>] = trns</div>
<div class="line"><span class="lineno"> 1116</span>        <span class="keywordflow">return</span> new_im</div>
<div class="line"><span class="lineno"> 1117</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac96aacd79c77ea597b3d410041c30aa7" name="ac96aacd79c77ea597b3d410041c30aa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac96aacd79c77ea597b3d410041c30aa7">&#9670;&#160;</a></span>copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.copy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Copies this image. Use this method if you wish to paste things
into an image, but still retain the original.

:rtype: :py:class:`~PIL.Image.Image`
:returns: An :py:class:`~PIL.Image.Image` object.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1197</span>    <span class="keyword">def </span>copy(self):</div>
<div class="line"><span class="lineno"> 1198</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1199</span><span class="stringliteral">        Copies this image. Use this method if you wish to paste things</span></div>
<div class="line"><span class="lineno"> 1200</span><span class="stringliteral">        into an image, but still retain the original.</span></div>
<div class="line"><span class="lineno"> 1201</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1202</span><span class="stringliteral">        :rtype: :py:class:`~PIL.Image.Image`</span></div>
<div class="line"><span class="lineno"> 1203</span><span class="stringliteral">        :returns: An :py:class:`~PIL.Image.Image` object.</span></div>
<div class="line"><span class="lineno"> 1204</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1205</span>        self.load()</div>
<div class="line"><span class="lineno"> 1206</span>        <span class="keywordflow">return</span> self._new(self.im.copy())</div>
<div class="line"><span class="lineno"> 1207</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a03e052f0f11a229beec670960d7617bc" name="a03e052f0f11a229beec670960d7617bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03e052f0f11a229beec670960d7617bc">&#9670;&#160;</a></span>crop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.crop </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a rectangular region from this image. The box is a
4-tuple defining the left, upper, right, and lower pixel
coordinate. See :ref:`coordinate-system`.

Note: Prior to Pillow 3.4.0, this was a lazy operation.

:param box: The crop rectangle, as a (left, upper, right, lower)-tuple.
:rtype: :py:class:`~PIL.Image.Image`
:returns: An :py:class:`~PIL.Image.Image` object.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1210</span>    <span class="keyword">def </span>crop(self, box=None):</div>
<div class="line"><span class="lineno"> 1211</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1212</span><span class="stringliteral">        Returns a rectangular region from this image. The box is a</span></div>
<div class="line"><span class="lineno"> 1213</span><span class="stringliteral">        4-tuple defining the left, upper, right, and lower pixel</span></div>
<div class="line"><span class="lineno"> 1214</span><span class="stringliteral">        coordinate. See :ref:`coordinate-system`.</span></div>
<div class="line"><span class="lineno"> 1215</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1216</span><span class="stringliteral">        Note: Prior to Pillow 3.4.0, this was a lazy operation.</span></div>
<div class="line"><span class="lineno"> 1217</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1218</span><span class="stringliteral">        :param box: The crop rectangle, as a (left, upper, right, lower)-tuple.</span></div>
<div class="line"><span class="lineno"> 1219</span><span class="stringliteral">        :rtype: :py:class:`~PIL.Image.Image`</span></div>
<div class="line"><span class="lineno"> 1220</span><span class="stringliteral">        :returns: An :py:class:`~PIL.Image.Image` object.</span></div>
<div class="line"><span class="lineno"> 1221</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1222</span> </div>
<div class="line"><span class="lineno"> 1223</span>        <span class="keywordflow">if</span> box <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1224</span>            <span class="keywordflow">return</span> self.copy()</div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>        <span class="keywordflow">if</span> box[2] &lt; box[0]:</div>
<div class="line"><span class="lineno"> 1227</span>            msg = <span class="stringliteral">&quot;Coordinate &#39;right&#39; is less than &#39;left&#39;&quot;</span></div>
<div class="line"><span class="lineno"> 1228</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1229</span>        <span class="keywordflow">elif</span> box[3] &lt; box[1]:</div>
<div class="line"><span class="lineno"> 1230</span>            msg = <span class="stringliteral">&quot;Coordinate &#39;lower&#39; is less than &#39;upper&#39;&quot;</span></div>
<div class="line"><span class="lineno"> 1231</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1232</span> </div>
<div class="line"><span class="lineno"> 1233</span>        self.load()</div>
<div class="line"><span class="lineno"> 1234</span>        <span class="keywordflow">return</span> self._new(self._crop(self.im, box))</div>
<div class="line"><span class="lineno"> 1235</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa246a8297565bbbbd9f0ccfcf73f6edb" name="aa246a8297565bbbbd9f0ccfcf73f6edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa246a8297565bbbbd9f0ccfcf73f6edb">&#9670;&#160;</a></span>draft()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.draft </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Configures the image file loader so it returns a version of the
image that as closely as possible matches the given mode and
size. For example, you can use this method to convert a color
JPEG to greyscale while loading it.

If any changes are made, returns a tuple with the chosen ``mode`` and
``box`` with coordinates of the original image within the altered one.

Note that this method modifies the :py:class:`~PIL.Image.Image` object
in place. If the image has already been loaded, this method has no
effect.

Note: This method is not implemented for most images. It is
currently implemented only for JPEG and MPO images.

:param mode: The requested mode.
:param size: The requested size in pixels, as a 2-tuple:
   (width, height).
</pre> 
<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_jpeg_image_plugin_1_1_jpeg_image_file.html#af52974220a235a765ec5e651cdafab74">PIL.JpegImagePlugin.JpegImageFile</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1256</span>    <span class="keyword">def </span>draft(self, mode, size):</div>
<div class="line"><span class="lineno"> 1257</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1258</span><span class="stringliteral">        Configures the image file loader so it returns a version of the</span></div>
<div class="line"><span class="lineno"> 1259</span><span class="stringliteral">        image that as closely as possible matches the given mode and</span></div>
<div class="line"><span class="lineno"> 1260</span><span class="stringliteral">        size. For example, you can use this method to convert a color</span></div>
<div class="line"><span class="lineno"> 1261</span><span class="stringliteral">        JPEG to greyscale while loading it.</span></div>
<div class="line"><span class="lineno"> 1262</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1263</span><span class="stringliteral">        If any changes are made, returns a tuple with the chosen ``mode`` and</span></div>
<div class="line"><span class="lineno"> 1264</span><span class="stringliteral">        ``box`` with coordinates of the original image within the altered one.</span></div>
<div class="line"><span class="lineno"> 1265</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1266</span><span class="stringliteral">        Note that this method modifies the :py:class:`~PIL.Image.Image` object</span></div>
<div class="line"><span class="lineno"> 1267</span><span class="stringliteral">        in place. If the image has already been loaded, this method has no</span></div>
<div class="line"><span class="lineno"> 1268</span><span class="stringliteral">        effect.</span></div>
<div class="line"><span class="lineno"> 1269</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1270</span><span class="stringliteral">        Note: This method is not implemented for most images. It is</span></div>
<div class="line"><span class="lineno"> 1271</span><span class="stringliteral">        currently implemented only for JPEG and MPO images.</span></div>
<div class="line"><span class="lineno"> 1272</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1273</span><span class="stringliteral">        :param mode: The requested mode.</span></div>
<div class="line"><span class="lineno"> 1274</span><span class="stringliteral">        :param size: The requested size in pixels, as a 2-tuple:</span></div>
<div class="line"><span class="lineno"> 1275</span><span class="stringliteral">           (width, height).</span></div>
<div class="line"><span class="lineno"> 1276</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1277</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1278</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a67bb79a408c016d8a99f6e273fce615c" name="a67bb79a408c016d8a99f6e273fce615c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67bb79a408c016d8a99f6e273fce615c">&#9670;&#160;</a></span>effect_spread()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.effect_spread </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>distance</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Randomly spread pixels in an image.

:param distance: Distance to spread pixels.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2812</span>    <span class="keyword">def </span>effect_spread(self, distance):</div>
<div class="line"><span class="lineno"> 2813</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2814</span><span class="stringliteral">        Randomly spread pixels in an image.</span></div>
<div class="line"><span class="lineno"> 2815</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2816</span><span class="stringliteral">        :param distance: Distance to spread pixels.</span></div>
<div class="line"><span class="lineno"> 2817</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2818</span>        self.load()</div>
<div class="line"><span class="lineno"> 2819</span>        <span class="keywordflow">return</span> self._new(self.im.effect_spread(distance))</div>
<div class="line"><span class="lineno"> 2820</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1f29b04c6fdf444bfd2476673ca64841" name="a1f29b04c6fdf444bfd2476673ca64841"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f29b04c6fdf444bfd2476673ca64841">&#9670;&#160;</a></span>entropy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.entropy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mask</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extrema</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculates and returns the entropy for the image.

A bilevel image (mode "1") is treated as a greyscale ("L")
image by this method.

If a mask is provided, the method employs the histogram for
those parts of the image where the mask image is non-zero.
The mask image must have the same size as the image, and be
either a bi-level image (mode "1") or a greyscale image ("L").

:param mask: An optional mask.
:param extrema: An optional tuple of manually-specified extrema.
:returns: A float value representing the image entropy
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1628</span>    <span class="keyword">def </span>entropy(self, mask=None, extrema=None):</div>
<div class="line"><span class="lineno"> 1629</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1630</span><span class="stringliteral">        Calculates and returns the entropy for the image.</span></div>
<div class="line"><span class="lineno"> 1631</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1632</span><span class="stringliteral">        A bilevel image (mode &quot;1&quot;) is treated as a greyscale (&quot;L&quot;)</span></div>
<div class="line"><span class="lineno"> 1633</span><span class="stringliteral">        image by this method.</span></div>
<div class="line"><span class="lineno"> 1634</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1635</span><span class="stringliteral">        If a mask is provided, the method employs the histogram for</span></div>
<div class="line"><span class="lineno"> 1636</span><span class="stringliteral">        those parts of the image where the mask image is non-zero.</span></div>
<div class="line"><span class="lineno"> 1637</span><span class="stringliteral">        The mask image must have the same size as the image, and be</span></div>
<div class="line"><span class="lineno"> 1638</span><span class="stringliteral">        either a bi-level image (mode &quot;1&quot;) or a greyscale image (&quot;L&quot;).</span></div>
<div class="line"><span class="lineno"> 1639</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1640</span><span class="stringliteral">        :param mask: An optional mask.</span></div>
<div class="line"><span class="lineno"> 1641</span><span class="stringliteral">        :param extrema: An optional tuple of manually-specified extrema.</span></div>
<div class="line"><span class="lineno"> 1642</span><span class="stringliteral">        :returns: A float value representing the image entropy</span></div>
<div class="line"><span class="lineno"> 1643</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1644</span>        self.load()</div>
<div class="line"><span class="lineno"> 1645</span>        <span class="keywordflow">if</span> mask:</div>
<div class="line"><span class="lineno"> 1646</span>            mask.load()</div>
<div class="line"><span class="lineno"> 1647</span>            <span class="keywordflow">return</span> self.im.entropy((0, 0), mask.im)</div>
<div class="line"><span class="lineno"> 1648</span>        <span class="keywordflow">if</span> self.mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;I&quot;</span>, <span class="stringliteral">&quot;F&quot;</span>):</div>
<div class="line"><span class="lineno"> 1649</span>            <span class="keywordflow">if</span> extrema <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1650</span>                extrema = self.getextrema()</div>
<div class="line"><span class="lineno"> 1651</span>            <span class="keywordflow">return</span> self.im.entropy(extrema)</div>
<div class="line"><span class="lineno"> 1652</span>        <span class="keywordflow">return</span> self.im.entropy()</div>
<div class="line"><span class="lineno"> 1653</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a22933e34f2de04965ca6b7769bb69b67" name="a22933e34f2de04965ca6b7769bb69b67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22933e34f2de04965ca6b7769bb69b67">&#9670;&#160;</a></span>filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.filter </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>filter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Filters this image using the given filter.  For a list of
available filters, see the :py:mod:`~PIL.ImageFilter` module.

:param filter: Filter kernel.
:returns: An :py:class:`~PIL.Image.Image` object.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1285</span>    <span class="keyword">def </span>filter(self, filter):</div>
<div class="line"><span class="lineno"> 1286</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1287</span><span class="stringliteral">        Filters this image using the given filter.  For a list of</span></div>
<div class="line"><span class="lineno"> 1288</span><span class="stringliteral">        available filters, see the :py:mod:`~PIL.ImageFilter` module.</span></div>
<div class="line"><span class="lineno"> 1289</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1290</span><span class="stringliteral">        :param filter: Filter kernel.</span></div>
<div class="line"><span class="lineno"> 1291</span><span class="stringliteral">        :returns: An :py:class:`~PIL.Image.Image` object.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1292</span> </div>
<div class="line"><span class="lineno"> 1293</span>        <span class="keyword">from</span> . <span class="keyword">import</span> ImageFilter</div>
<div class="line"><span class="lineno"> 1294</span> </div>
<div class="line"><span class="lineno"> 1295</span>        self.load()</div>
<div class="line"><span class="lineno"> 1296</span> </div>
<div class="line"><span class="lineno"> 1297</span>        <span class="keywordflow">if</span> isinstance(filter, Callable):</div>
<div class="line"><span class="lineno"> 1298</span>            filter = filter()</div>
<div class="line"><span class="lineno"> 1299</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> hasattr(filter, <span class="stringliteral">&quot;filter&quot;</span>):</div>
<div class="line"><span class="lineno"> 1300</span>            msg = <span class="stringliteral">&quot;filter argument should be ImageFilter.Filter instance or class&quot;</span></div>
<div class="line"><span class="lineno"> 1301</span>            <span class="keywordflow">raise</span> TypeError(msg)</div>
<div class="line"><span class="lineno"> 1302</span> </div>
<div class="line"><span class="lineno"> 1303</span>        multiband = isinstance(filter, ImageFilter.MultibandFilter)</div>
<div class="line"><span class="lineno"> 1304</span>        <span class="keywordflow">if</span> self.im.bands == 1 <span class="keywordflow">or</span> multiband:</div>
<div class="line"><span class="lineno"> 1305</span>            <span class="keywordflow">return</span> self._new(filter.filter(self.im))</div>
<div class="line"><span class="lineno"> 1306</span> </div>
<div class="line"><span class="lineno"> 1307</span>        ims = []</div>
<div class="line"><span class="lineno"> 1308</span>        <span class="keywordflow">for</span> c <span class="keywordflow">in</span> range(self.im.bands):</div>
<div class="line"><span class="lineno"> 1309</span>            ims.append(self._new(filter.filter(self.im.getband(c))))</div>
<div class="line"><span class="lineno"> 1310</span>        <span class="keywordflow">return</span> merge(self.mode, ims)</div>
<div class="line"><span class="lineno"> 1311</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a3d5c754b84e20bdafa3f2bfd35714f" name="a0a3d5c754b84e20bdafa3f2bfd35714f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a3d5c754b84e20bdafa3f2bfd35714f">&#9670;&#160;</a></span>frombytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.frombytes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>decoder_name</em> = <code>&quot;raw&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Loads this image with pixel data from a bytes object.

This method is similar to the :py:func:`~PIL.Image.frombytes` function,
but loads data into this image instead of creating a new image object.
</pre> <div class="fragment"><div class="line"><span class="lineno">  807</span>    <span class="keyword">def </span>frombytes(self, data, decoder_name=&quot;raw&quot;, *args):</div>
<div class="line"><span class="lineno">  808</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  809</span><span class="stringliteral">        Loads this image with pixel data from a bytes object.</span></div>
<div class="line"><span class="lineno">  810</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  811</span><span class="stringliteral">        This method is similar to the :py:func:`~PIL.Image.frombytes` function,</span></div>
<div class="line"><span class="lineno">  812</span><span class="stringliteral">        but loads data into this image instead of creating a new image object.</span></div>
<div class="line"><span class="lineno">  813</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  814</span> </div>
<div class="line"><span class="lineno">  815</span>        <span class="comment"># may pass tuple instead of argument list</span></div>
<div class="line"><span class="lineno">  816</span>        <span class="keywordflow">if</span> len(args) == 1 <span class="keywordflow">and</span> isinstance(args[0], tuple):</div>
<div class="line"><span class="lineno">  817</span>            args = args[0]</div>
<div class="line"><span class="lineno">  818</span> </div>
<div class="line"><span class="lineno">  819</span>        <span class="comment"># default format</span></div>
<div class="line"><span class="lineno">  820</span>        <span class="keywordflow">if</span> decoder_name == <span class="stringliteral">&quot;raw&quot;</span> <span class="keywordflow">and</span> args == ():</div>
<div class="line"><span class="lineno">  821</span>            args = self.mode</div>
<div class="line"><span class="lineno">  822</span> </div>
<div class="line"><span class="lineno">  823</span>        <span class="comment"># unpack data</span></div>
<div class="line"><span class="lineno">  824</span>        d = _getdecoder(self.mode, decoder_name, args)</div>
<div class="line"><span class="lineno">  825</span>        d.setimage(self.im)</div>
<div class="line"><span class="lineno">  826</span>        s = d.decode(data)</div>
<div class="line"><span class="lineno">  827</span> </div>
<div class="line"><span class="lineno">  828</span>        <span class="keywordflow">if</span> s[0] &gt;= 0:</div>
<div class="line"><span class="lineno">  829</span>            msg = <span class="stringliteral">&quot;not enough image data&quot;</span></div>
<div class="line"><span class="lineno">  830</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno">  831</span>        <span class="keywordflow">if</span> s[1] != 0:</div>
<div class="line"><span class="lineno">  832</span>            msg = <span class="stringliteral">&quot;cannot decode image data&quot;</span></div>
<div class="line"><span class="lineno">  833</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno">  834</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abddef994e1b9e7c8ec2e7f230755d820" name="abddef994e1b9e7c8ec2e7f230755d820"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abddef994e1b9e7c8ec2e7f230755d820">&#9670;&#160;</a></span>get_child_images()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.get_child_images </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno"> 1472</span>    <span class="keyword">def </span>get_child_images(self):</div>
<div class="line"><span class="lineno"> 1473</span>        child_images = []</div>
<div class="line"><span class="lineno"> 1474</span>        exif = self.getexif()</div>
<div class="line"><span class="lineno"> 1475</span>        ifds = []</div>
<div class="line"><span class="lineno"> 1476</span>        <span class="keywordflow">if</span> ExifTags.Base.SubIFDs <span class="keywordflow">in</span> exif:</div>
<div class="line"><span class="lineno"> 1477</span>            subifd_offsets = exif[ExifTags.Base.SubIFDs]</div>
<div class="line"><span class="lineno"> 1478</span>            <span class="keywordflow">if</span> subifd_offsets:</div>
<div class="line"><span class="lineno"> 1479</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(subifd_offsets, tuple):</div>
<div class="line"><span class="lineno"> 1480</span>                    subifd_offsets = (subifd_offsets,)</div>
<div class="line"><span class="lineno"> 1481</span>                <span class="keywordflow">for</span> subifd_offset <span class="keywordflow">in</span> subifd_offsets:</div>
<div class="line"><span class="lineno"> 1482</span>                    ifds.append((exif._get_ifd_dict(subifd_offset), subifd_offset))</div>
<div class="line"><span class="lineno"> 1483</span>        ifd1 = exif.get_ifd(ExifTags.IFD.IFD1)</div>
<div class="line"><span class="lineno"> 1484</span>        <span class="keywordflow">if</span> ifd1 <span class="keywordflow">and</span> ifd1.get(513):</div>
<div class="line"><span class="lineno"> 1485</span>            ifds.append((ifd1, exif._info.next))</div>
<div class="line"><span class="lineno"> 1486</span> </div>
<div class="line"><span class="lineno"> 1487</span>        offset = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1488</span>        <span class="keywordflow">for</span> ifd, ifd_offset <span class="keywordflow">in</span> ifds:</div>
<div class="line"><span class="lineno"> 1489</span>            current_offset = self.fp.tell()</div>
<div class="line"><span class="lineno"> 1490</span>            <span class="keywordflow">if</span> offset <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1491</span>                offset = current_offset</div>
<div class="line"><span class="lineno"> 1492</span> </div>
<div class="line"><span class="lineno"> 1493</span>            fp = self.fp</div>
<div class="line"><span class="lineno"> 1494</span>            thumbnail_offset = ifd.get(513)</div>
<div class="line"><span class="lineno"> 1495</span>            <span class="keywordflow">if</span> thumbnail_offset <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1496</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1497</span>                    thumbnail_offset += self._exif_offset</div>
<div class="line"><span class="lineno"> 1498</span>                <span class="keywordflow">except</span> AttributeError:</div>
<div class="line"><span class="lineno"> 1499</span>                    <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 1500</span>                self.fp.seek(thumbnail_offset)</div>
<div class="line"><span class="lineno"> 1501</span>                data = self.fp.read(ifd.get(514))</div>
<div class="line"><span class="lineno"> 1502</span>                fp = io.BytesIO(data)</div>
<div class="line"><span class="lineno"> 1503</span> </div>
<div class="line"><span class="lineno"> 1504</span>            <span class="keyword">with</span> open(fp) <span class="keyword">as</span> im:</div>
<div class="line"><span class="lineno"> 1505</span>                <span class="keywordflow">if</span> thumbnail_offset <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1506</span>                    im._frame_pos = [ifd_offset]</div>
<div class="line"><span class="lineno"> 1507</span>                    im._seek(0)</div>
<div class="line"><span class="lineno"> 1508</span>                im.load()</div>
<div class="line"><span class="lineno"> 1509</span>                child_images.append(im)</div>
<div class="line"><span class="lineno"> 1510</span> </div>
<div class="line"><span class="lineno"> 1511</span>        <span class="keywordflow">if</span> offset <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1512</span>            self.fp.seek(offset)</div>
<div class="line"><span class="lineno"> 1513</span>        <span class="keywordflow">return</span> child_images</div>
<div class="line"><span class="lineno"> 1514</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abb16d4f736e2f5f380f9988cef1bbdf6" name="abb16d4f736e2f5f380f9988cef1bbdf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb16d4f736e2f5f380f9988cef1bbdf6">&#9670;&#160;</a></span>getbands()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.getbands </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a tuple containing the name of each band in this image.
For example, ``getbands`` on an RGB image returns ("R", "G", "B").

:returns: A tuple containing band names.
:rtype: tuple
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1312</span>    <span class="keyword">def </span>getbands(self):</div>
<div class="line"><span class="lineno"> 1313</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1314</span><span class="stringliteral">        Returns a tuple containing the name of each band in this image.</span></div>
<div class="line"><span class="lineno"> 1315</span><span class="stringliteral">        For example, ``getbands`` on an RGB image returns (&quot;R&quot;, &quot;G&quot;, &quot;B&quot;).</span></div>
<div class="line"><span class="lineno"> 1316</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1317</span><span class="stringliteral">        :returns: A tuple containing band names.</span></div>
<div class="line"><span class="lineno"> 1318</span><span class="stringliteral">        :rtype: tuple</span></div>
<div class="line"><span class="lineno"> 1319</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1320</span>        <span class="keywordflow">return</span> ImageMode.getmode(self.mode).bands</div>
<div class="line"><span class="lineno"> 1321</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a594cfbab186db838a23034c17470fbff" name="a594cfbab186db838a23034c17470fbff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a594cfbab186db838a23034c17470fbff">&#9670;&#160;</a></span>getbbox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.getbbox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculates the bounding box of the non-zero regions in the
image.

:returns: The bounding box is returned as a 4-tuple defining the
   left, upper, right, and lower pixel coordinate. See
   :ref:`coordinate-system`. If the image is completely empty, this
   method returns None.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1322</span>    <span class="keyword">def </span>getbbox(self):</div>
<div class="line"><span class="lineno"> 1323</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1324</span><span class="stringliteral">        Calculates the bounding box of the non-zero regions in the</span></div>
<div class="line"><span class="lineno"> 1325</span><span class="stringliteral">        image.</span></div>
<div class="line"><span class="lineno"> 1326</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1327</span><span class="stringliteral">        :returns: The bounding box is returned as a 4-tuple defining the</span></div>
<div class="line"><span class="lineno"> 1328</span><span class="stringliteral">           left, upper, right, and lower pixel coordinate. See</span></div>
<div class="line"><span class="lineno"> 1329</span><span class="stringliteral">           :ref:`coordinate-system`. If the image is completely empty, this</span></div>
<div class="line"><span class="lineno"> 1330</span><span class="stringliteral">           method returns None.</span></div>
<div class="line"><span class="lineno"> 1331</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1332</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1333</span> </div>
<div class="line"><span class="lineno"> 1334</span>        self.load()</div>
<div class="line"><span class="lineno"> 1335</span>        <span class="keywordflow">return</span> self.im.getbbox()</div>
<div class="line"><span class="lineno"> 1336</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae76fe7d00149af0434c6dbf54bbfe2dc" name="ae76fe7d00149af0434c6dbf54bbfe2dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae76fe7d00149af0434c6dbf54bbfe2dc">&#9670;&#160;</a></span>getchannel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.getchannel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns an image containing a single channel of the source image.

:param channel: What channel to return. Could be index
  (0 for "R" channel of "RGB") or channel name
  ("A" for alpha channel of "RGBA").
:returns: An image in "L" mode.

.. versionadded:: 4.3.0
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2508</span>    <span class="keyword">def </span>getchannel(self, channel):</div>
<div class="line"><span class="lineno"> 2509</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2510</span><span class="stringliteral">        Returns an image containing a single channel of the source image.</span></div>
<div class="line"><span class="lineno"> 2511</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2512</span><span class="stringliteral">        :param channel: What channel to return. Could be index</span></div>
<div class="line"><span class="lineno"> 2513</span><span class="stringliteral">          (0 for &quot;R&quot; channel of &quot;RGB&quot;) or channel name</span></div>
<div class="line"><span class="lineno"> 2514</span><span class="stringliteral">          (&quot;A&quot; for alpha channel of &quot;RGBA&quot;).</span></div>
<div class="line"><span class="lineno"> 2515</span><span class="stringliteral">        :returns: An image in &quot;L&quot; mode.</span></div>
<div class="line"><span class="lineno"> 2516</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2517</span><span class="stringliteral">        .. versionadded:: 4.3.0</span></div>
<div class="line"><span class="lineno"> 2518</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2519</span>        self.load()</div>
<div class="line"><span class="lineno"> 2520</span> </div>
<div class="line"><span class="lineno"> 2521</span>        <span class="keywordflow">if</span> isinstance(channel, str):</div>
<div class="line"><span class="lineno"> 2522</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2523</span>                channel = self.getbands().index(channel)</div>
<div class="line"><span class="lineno"> 2524</span>            <span class="keywordflow">except</span> ValueError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno"> 2525</span>                msg = f<span class="stringliteral">&#39;The image has no channel &quot;{channel}&quot;&#39;</span></div>
<div class="line"><span class="lineno"> 2526</span>                <span class="keywordflow">raise</span> ValueError(msg) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno"> 2527</span> </div>
<div class="line"><span class="lineno"> 2528</span>        <span class="keywordflow">return</span> self._new(self.im.getband(channel))</div>
<div class="line"><span class="lineno"> 2529</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a761159169d3e0084cb8528ad5a40b9c8" name="a761159169d3e0084cb8528ad5a40b9c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a761159169d3e0084cb8528ad5a40b9c8">&#9670;&#160;</a></span>getcolors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.getcolors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>maxcolors</em> = <code>256</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a list of colors used in this image.

The colors will be in the image's mode. For example, an RGB image will
return a tuple of (red, green, blue) color values, and a P image will
return the index of the color in the palette.

:param maxcolors: Maximum number of colors.  If this number is
   exceeded, this method returns None.  The default limit is
   256 colors.
:returns: An unsorted list of (count, pixel) values.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1337</span>    <span class="keyword">def </span>getcolors(self, maxcolors=256):</div>
<div class="line"><span class="lineno"> 1338</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1339</span><span class="stringliteral">        Returns a list of colors used in this image.</span></div>
<div class="line"><span class="lineno"> 1340</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1341</span><span class="stringliteral">        The colors will be in the image&#39;s mode. For example, an RGB image will</span></div>
<div class="line"><span class="lineno"> 1342</span><span class="stringliteral">        return a tuple of (red, green, blue) color values, and a P image will</span></div>
<div class="line"><span class="lineno"> 1343</span><span class="stringliteral">        return the index of the color in the palette.</span></div>
<div class="line"><span class="lineno"> 1344</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1345</span><span class="stringliteral">        :param maxcolors: Maximum number of colors.  If this number is</span></div>
<div class="line"><span class="lineno"> 1346</span><span class="stringliteral">           exceeded, this method returns None.  The default limit is</span></div>
<div class="line"><span class="lineno"> 1347</span><span class="stringliteral">           256 colors.</span></div>
<div class="line"><span class="lineno"> 1348</span><span class="stringliteral">        :returns: An unsorted list of (count, pixel) values.</span></div>
<div class="line"><span class="lineno"> 1349</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1350</span> </div>
<div class="line"><span class="lineno"> 1351</span>        self.load()</div>
<div class="line"><span class="lineno"> 1352</span>        <span class="keywordflow">if</span> self.mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;P&quot;</span>):</div>
<div class="line"><span class="lineno"> 1353</span>            h = self.im.histogram()</div>
<div class="line"><span class="lineno"> 1354</span>            out = []</div>
<div class="line"><span class="lineno"> 1355</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(256):</div>
<div class="line"><span class="lineno"> 1356</span>                <span class="keywordflow">if</span> h[i]:</div>
<div class="line"><span class="lineno"> 1357</span>                    out.append((h[i], i))</div>
<div class="line"><span class="lineno"> 1358</span>            <span class="keywordflow">if</span> len(out) &gt; maxcolors:</div>
<div class="line"><span class="lineno"> 1359</span>                <span class="keywordflow">return</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1360</span>            <span class="keywordflow">return</span> out</div>
<div class="line"><span class="lineno"> 1361</span>        <span class="keywordflow">return</span> self.im.getcolors(maxcolors)</div>
<div class="line"><span class="lineno"> 1362</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaefda2fcb72961cdfee9ab712e20bea2" name="aaefda2fcb72961cdfee9ab712e20bea2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaefda2fcb72961cdfee9ab712e20bea2">&#9670;&#160;</a></span>getdata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.getdata </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>band</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the contents of this image as a sequence object
containing pixel values.  The sequence object is flattened, so
that values for line one follow directly after the values of
line zero, and so on.

Note that the sequence object returned by this method is an
internal PIL data type, which only supports certain sequence
operations.  To convert it to an ordinary sequence (e.g. for
printing), use ``list(im.getdata())``.

:param band: What band to return.  The default is to return
   all bands.  To return a single band, pass in the index
   value (e.g. 0 to get the "R" band from an "RGB" image).
:returns: A sequence-like object.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1363</span>    <span class="keyword">def </span>getdata(self, band=None):</div>
<div class="line"><span class="lineno"> 1364</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1365</span><span class="stringliteral">        Returns the contents of this image as a sequence object</span></div>
<div class="line"><span class="lineno"> 1366</span><span class="stringliteral">        containing pixel values.  The sequence object is flattened, so</span></div>
<div class="line"><span class="lineno"> 1367</span><span class="stringliteral">        that values for line one follow directly after the values of</span></div>
<div class="line"><span class="lineno"> 1368</span><span class="stringliteral">        line zero, and so on.</span></div>
<div class="line"><span class="lineno"> 1369</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1370</span><span class="stringliteral">        Note that the sequence object returned by this method is an</span></div>
<div class="line"><span class="lineno"> 1371</span><span class="stringliteral">        internal PIL data type, which only supports certain sequence</span></div>
<div class="line"><span class="lineno"> 1372</span><span class="stringliteral">        operations.  To convert it to an ordinary sequence (e.g. for</span></div>
<div class="line"><span class="lineno"> 1373</span><span class="stringliteral">        printing), use ``list(im.getdata())``.</span></div>
<div class="line"><span class="lineno"> 1374</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1375</span><span class="stringliteral">        :param band: What band to return.  The default is to return</span></div>
<div class="line"><span class="lineno"> 1376</span><span class="stringliteral">           all bands.  To return a single band, pass in the index</span></div>
<div class="line"><span class="lineno"> 1377</span><span class="stringliteral">           value (e.g. 0 to get the &quot;R&quot; band from an &quot;RGB&quot; image).</span></div>
<div class="line"><span class="lineno"> 1378</span><span class="stringliteral">        :returns: A sequence-like object.</span></div>
<div class="line"><span class="lineno"> 1379</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1380</span> </div>
<div class="line"><span class="lineno"> 1381</span>        self.load()</div>
<div class="line"><span class="lineno"> 1382</span>        <span class="keywordflow">if</span> band <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1383</span>            <span class="keywordflow">return</span> self.im.getband(band)</div>
<div class="line"><span class="lineno"> 1384</span>        <span class="keywordflow">return</span> self.im  <span class="comment"># could be abused</span></div>
<div class="line"><span class="lineno"> 1385</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaba05c72d19b50e8397eed95cb11ef2b" name="aaba05c72d19b50e8397eed95cb11ef2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba05c72d19b50e8397eed95cb11ef2b">&#9670;&#160;</a></span>getexif()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.getexif </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_png_image_plugin_1_1_png_image_file.html#aaa7a1556c1f1892c50281351769b0baa">PIL.PngImagePlugin.PngImageFile</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1435</span>    <span class="keyword">def </span>getexif(self):</div>
<div class="line"><span class="lineno"> 1436</span>        <span class="keywordflow">if</span> self._exif <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1437</span>            self._exif = Exif()</div>
<div class="line"><span class="lineno"> 1438</span>            self._exif._loaded = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 1439</span>        <span class="keywordflow">elif</span> self._exif._loaded:</div>
<div class="line"><span class="lineno"> 1440</span>            <span class="keywordflow">return</span> self._exif</div>
<div class="line"><span class="lineno"> 1441</span>        self._exif._loaded = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 1442</span> </div>
<div class="line"><span class="lineno"> 1443</span>        exif_info = self.info.get(<span class="stringliteral">&quot;exif&quot;</span>)</div>
<div class="line"><span class="lineno"> 1444</span>        <span class="keywordflow">if</span> exif_info <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1445</span>            <span class="keywordflow">if</span> <span class="stringliteral">&quot;Raw profile type exif&quot;</span> <span class="keywordflow">in</span> self.info:</div>
<div class="line"><span class="lineno"> 1446</span>                exif_info = bytes.fromhex(</div>
<div class="line"><span class="lineno"> 1447</span>                    <span class="stringliteral">&quot;&quot;</span>.join(self.info[<span class="stringliteral">&quot;Raw profile type exif&quot;</span>].split(<span class="stringliteral">&quot;\n&quot;</span>)[3:])</div>
<div class="line"><span class="lineno"> 1448</span>                )</div>
<div class="line"><span class="lineno"> 1449</span>            <span class="keywordflow">elif</span> hasattr(self, <span class="stringliteral">&quot;tag_v2&quot;</span>):</div>
<div class="line"><span class="lineno"> 1450</span>                self._exif.bigtiff = self.tag_v2._bigtiff</div>
<div class="line"><span class="lineno"> 1451</span>                self._exif.endian = self.tag_v2._endian</div>
<div class="line"><span class="lineno"> 1452</span>                self._exif.load_from_fp(self.fp, self.tag_v2._offset)</div>
<div class="line"><span class="lineno"> 1453</span>        <span class="keywordflow">if</span> exif_info <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1454</span>            self._exif.load(exif_info)</div>
<div class="line"><span class="lineno"> 1455</span> </div>
<div class="line"><span class="lineno"> 1456</span>        <span class="comment"># XMP tags</span></div>
<div class="line"><span class="lineno"> 1457</span>        <span class="keywordflow">if</span> 0x0112 <span class="keywordflow">not</span> <span class="keywordflow">in</span> self._exif:</div>
<div class="line"><span class="lineno"> 1458</span>            xmp_tags = self.info.get(<span class="stringliteral">&quot;XML:com.adobe.xmp&quot;</span>)</div>
<div class="line"><span class="lineno"> 1459</span>            <span class="keywordflow">if</span> xmp_tags:</div>
<div class="line"><span class="lineno"> 1460</span>                match = re.search(<span class="stringliteral">r&#39;tiff:Orientation(=&quot;|&gt;)([0-9])&#39;</span>, xmp_tags)</div>
<div class="line"><span class="lineno"> 1461</span>                <span class="keywordflow">if</span> match:</div>
<div class="line"><span class="lineno"> 1462</span>                    self._exif[0x0112] = int(match[2])</div>
<div class="line"><span class="lineno"> 1463</span> </div>
<div class="line"><span class="lineno"> 1464</span>        <span class="keywordflow">return</span> self._exif</div>
<div class="line"><span class="lineno"> 1465</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab2e7170ba3a656df7125527f0142e361" name="ab2e7170ba3a656df7125527f0142e361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2e7170ba3a656df7125527f0142e361">&#9670;&#160;</a></span>getextrema()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.getextrema </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Gets the minimum and maximum pixel values for each band in
the image.

:returns: For a single-band image, a 2-tuple containing the
   minimum and maximum pixel value.  For a multi-band image,
   a tuple containing one 2-tuple for each band.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1386</span>    <span class="keyword">def </span>getextrema(self):</div>
<div class="line"><span class="lineno"> 1387</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1388</span><span class="stringliteral">        Gets the minimum and maximum pixel values for each band in</span></div>
<div class="line"><span class="lineno"> 1389</span><span class="stringliteral">        the image.</span></div>
<div class="line"><span class="lineno"> 1390</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1391</span><span class="stringliteral">        :returns: For a single-band image, a 2-tuple containing the</span></div>
<div class="line"><span class="lineno"> 1392</span><span class="stringliteral">           minimum and maximum pixel value.  For a multi-band image,</span></div>
<div class="line"><span class="lineno"> 1393</span><span class="stringliteral">           a tuple containing one 2-tuple for each band.</span></div>
<div class="line"><span class="lineno"> 1394</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1395</span> </div>
<div class="line"><span class="lineno"> 1396</span>        self.load()</div>
<div class="line"><span class="lineno"> 1397</span>        <span class="keywordflow">if</span> self.im.bands &gt; 1:</div>
<div class="line"><span class="lineno"> 1398</span>            extrema = []</div>
<div class="line"><span class="lineno"> 1399</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(self.im.bands):</div>
<div class="line"><span class="lineno"> 1400</span>                extrema.append(self.im.getband(i).getextrema())</div>
<div class="line"><span class="lineno"> 1401</span>            <span class="keywordflow">return</span> tuple(extrema)</div>
<div class="line"><span class="lineno"> 1402</span>        <span class="keywordflow">return</span> self.im.getextrema()</div>
<div class="line"><span class="lineno"> 1403</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0ce23ced0310af9b0be432c335701656" name="a0ce23ced0310af9b0be432c335701656"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ce23ced0310af9b0be432c335701656">&#9670;&#160;</a></span>getim()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.getim </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a capsule that points to the internal image memory.

:returns: A capsule object.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1515</span>    <span class="keyword">def </span>getim(self):</div>
<div class="line"><span class="lineno"> 1516</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1517</span><span class="stringliteral">        Returns a capsule that points to the internal image memory.</span></div>
<div class="line"><span class="lineno"> 1518</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1519</span><span class="stringliteral">        :returns: A capsule object.</span></div>
<div class="line"><span class="lineno"> 1520</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1521</span> </div>
<div class="line"><span class="lineno"> 1522</span>        self.load()</div>
<div class="line"><span class="lineno"> 1523</span>        <span class="keywordflow">return</span> self.im.ptr</div>
<div class="line"><span class="lineno"> 1524</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a198ebd899d4100c3192da53884114671" name="a198ebd899d4100c3192da53884114671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a198ebd899d4100c3192da53884114671">&#9670;&#160;</a></span>getpalette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.getpalette </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rawmode</em> = <code>&quot;RGB&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the image palette as a list.

:param rawmode: The mode in which to return the palette. ``None`` will
   return the palette in its current mode.

   .. versionadded:: 9.1.0

:returns: A list of color values [r, g, b, ...], or None if the
   image has no palette.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1525</span>    <span class="keyword">def </span>getpalette(self, rawmode=&quot;RGB&quot;):</div>
<div class="line"><span class="lineno"> 1526</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1527</span><span class="stringliteral">        Returns the image palette as a list.</span></div>
<div class="line"><span class="lineno"> 1528</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1529</span><span class="stringliteral">        :param rawmode: The mode in which to return the palette. ``None`` will</span></div>
<div class="line"><span class="lineno"> 1530</span><span class="stringliteral">           return the palette in its current mode.</span></div>
<div class="line"><span class="lineno"> 1531</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1532</span><span class="stringliteral">           .. versionadded:: 9.1.0</span></div>
<div class="line"><span class="lineno"> 1533</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1534</span><span class="stringliteral">        :returns: A list of color values [r, g, b, ...], or None if the</span></div>
<div class="line"><span class="lineno"> 1535</span><span class="stringliteral">           image has no palette.</span></div>
<div class="line"><span class="lineno"> 1536</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1537</span> </div>
<div class="line"><span class="lineno"> 1538</span>        self.load()</div>
<div class="line"><span class="lineno"> 1539</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1540</span>            mode = self.im.getpalettemode()</div>
<div class="line"><span class="lineno"> 1541</span>        <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno"> 1542</span>            <span class="keywordflow">return</span> <span class="keywordtype">None</span>  <span class="comment"># no palette</span></div>
<div class="line"><span class="lineno"> 1543</span>        <span class="keywordflow">if</span> rawmode <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1544</span>            rawmode = mode</div>
<div class="line"><span class="lineno"> 1545</span>        <span class="keywordflow">return</span> list(self.im.getpalette(mode, rawmode))</div>
<div class="line"><span class="lineno"> 1546</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0ca6cdaf62a62379a2358422caf6cd5" name="ab0ca6cdaf62a62379a2358422caf6cd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0ca6cdaf62a62379a2358422caf6cd5">&#9670;&#160;</a></span>getpixel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.getpixel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>xy</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the pixel value at a given position.

:param xy: The coordinate, given as (x, y). See
   :ref:`coordinate-system`.
:returns: The pixel value.  If the image is a multi-layer image,
   this method returns a tuple.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1570</span>    <span class="keyword">def </span>getpixel(self, xy):</div>
<div class="line"><span class="lineno"> 1571</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1572</span><span class="stringliteral">        Returns the pixel value at a given position.</span></div>
<div class="line"><span class="lineno"> 1573</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1574</span><span class="stringliteral">        :param xy: The coordinate, given as (x, y). See</span></div>
<div class="line"><span class="lineno"> 1575</span><span class="stringliteral">           :ref:`coordinate-system`.</span></div>
<div class="line"><span class="lineno"> 1576</span><span class="stringliteral">        :returns: The pixel value.  If the image is a multi-layer image,</span></div>
<div class="line"><span class="lineno"> 1577</span><span class="stringliteral">           this method returns a tuple.</span></div>
<div class="line"><span class="lineno"> 1578</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1579</span> </div>
<div class="line"><span class="lineno"> 1580</span>        self.load()</div>
<div class="line"><span class="lineno"> 1581</span>        <span class="keywordflow">if</span> self.pyaccess:</div>
<div class="line"><span class="lineno"> 1582</span>            <span class="keywordflow">return</span> self.pyaccess.getpixel(xy)</div>
<div class="line"><span class="lineno"> 1583</span>        <span class="keywordflow">return</span> self.im.getpixel(xy)</div>
<div class="line"><span class="lineno"> 1584</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a0a5d4b6fa386f8a6668476d4ebafc796" name="a0a5d4b6fa386f8a6668476d4ebafc796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a5d4b6fa386f8a6668476d4ebafc796">&#9670;&#160;</a></span>getprojection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.getprojection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get projection to x and y axes

:returns: Two sequences, indicating where there are non-zero
    pixels along the X-axis and the Y-axis, respectively.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1585</span>    <span class="keyword">def </span>getprojection(self):</div>
<div class="line"><span class="lineno"> 1586</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1587</span><span class="stringliteral">        Get projection to x and y axes</span></div>
<div class="line"><span class="lineno"> 1588</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1589</span><span class="stringliteral">        :returns: Two sequences, indicating where there are non-zero</span></div>
<div class="line"><span class="lineno"> 1590</span><span class="stringliteral">            pixels along the X-axis and the Y-axis, respectively.</span></div>
<div class="line"><span class="lineno"> 1591</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1592</span> </div>
<div class="line"><span class="lineno"> 1593</span>        self.load()</div>
<div class="line"><span class="lineno"> 1594</span>        x, y = self.im.getprojection()</div>
<div class="line"><span class="lineno"> 1595</span>        <span class="keywordflow">return</span> list(x), list(y)</div>
<div class="line"><span class="lineno"> 1596</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abc72942197587cbf3aa9a597b8a26796" name="abc72942197587cbf3aa9a597b8a26796"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc72942197587cbf3aa9a597b8a26796">&#9670;&#160;</a></span>height()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.height </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  536</span>    <span class="keyword">def </span>height(self):</div>
<div class="line"><span class="lineno">  537</span>        <span class="keywordflow">return</span> self.size[1]</div>
<div class="line"><span class="lineno">  538</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a04c7dafc8e571d172c6092d73e9da30a" name="a04c7dafc8e571d172c6092d73e9da30a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04c7dafc8e571d172c6092d73e9da30a">&#9670;&#160;</a></span>histogram()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.histogram </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mask</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>extrema</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a histogram for the image. The histogram is returned as a
list of pixel counts, one for each pixel value in the source
image. Counts are grouped into 256 bins for each band, even if
the image has more than 8 bits per band. If the image has more
than one band, the histograms for all bands are concatenated (for
example, the histogram for an "RGB" image contains 768 values).

A bilevel image (mode "1") is treated as a greyscale ("L") image
by this method.

If a mask is provided, the method returns a histogram for those
parts of the image where the mask image is non-zero. The mask
image must have the same size as the image, and be either a
bi-level image (mode "1") or a greyscale image ("L").

:param mask: An optional mask.
:param extrema: An optional tuple of manually-specified extrema.
:returns: A list containing pixel counts.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1597</span>    <span class="keyword">def </span>histogram(self, mask=None, extrema=None):</div>
<div class="line"><span class="lineno"> 1598</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1599</span><span class="stringliteral">        Returns a histogram for the image. The histogram is returned as a</span></div>
<div class="line"><span class="lineno"> 1600</span><span class="stringliteral">        list of pixel counts, one for each pixel value in the source</span></div>
<div class="line"><span class="lineno"> 1601</span><span class="stringliteral">        image. Counts are grouped into 256 bins for each band, even if</span></div>
<div class="line"><span class="lineno"> 1602</span><span class="stringliteral">        the image has more than 8 bits per band. If the image has more</span></div>
<div class="line"><span class="lineno"> 1603</span><span class="stringliteral">        than one band, the histograms for all bands are concatenated (for</span></div>
<div class="line"><span class="lineno"> 1604</span><span class="stringliteral">        example, the histogram for an &quot;RGB&quot; image contains 768 values).</span></div>
<div class="line"><span class="lineno"> 1605</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1606</span><span class="stringliteral">        A bilevel image (mode &quot;1&quot;) is treated as a greyscale (&quot;L&quot;) image</span></div>
<div class="line"><span class="lineno"> 1607</span><span class="stringliteral">        by this method.</span></div>
<div class="line"><span class="lineno"> 1608</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1609</span><span class="stringliteral">        If a mask is provided, the method returns a histogram for those</span></div>
<div class="line"><span class="lineno"> 1610</span><span class="stringliteral">        parts of the image where the mask image is non-zero. The mask</span></div>
<div class="line"><span class="lineno"> 1611</span><span class="stringliteral">        image must have the same size as the image, and be either a</span></div>
<div class="line"><span class="lineno"> 1612</span><span class="stringliteral">        bi-level image (mode &quot;1&quot;) or a greyscale image (&quot;L&quot;).</span></div>
<div class="line"><span class="lineno"> 1613</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1614</span><span class="stringliteral">        :param mask: An optional mask.</span></div>
<div class="line"><span class="lineno"> 1615</span><span class="stringliteral">        :param extrema: An optional tuple of manually-specified extrema.</span></div>
<div class="line"><span class="lineno"> 1616</span><span class="stringliteral">        :returns: A list containing pixel counts.</span></div>
<div class="line"><span class="lineno"> 1617</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1618</span>        self.load()</div>
<div class="line"><span class="lineno"> 1619</span>        <span class="keywordflow">if</span> mask:</div>
<div class="line"><span class="lineno"> 1620</span>            mask.load()</div>
<div class="line"><span class="lineno"> 1621</span>            <span class="keywordflow">return</span> self.im.histogram((0, 0), mask.im)</div>
<div class="line"><span class="lineno"> 1622</span>        <span class="keywordflow">if</span> self.mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;I&quot;</span>, <span class="stringliteral">&quot;F&quot;</span>):</div>
<div class="line"><span class="lineno"> 1623</span>            <span class="keywordflow">if</span> extrema <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1624</span>                extrema = self.getextrema()</div>
<div class="line"><span class="lineno"> 1625</span>            <span class="keywordflow">return</span> self.im.histogram(extrema)</div>
<div class="line"><span class="lineno"> 1626</span>        <span class="keywordflow">return</span> self.im.histogram()</div>
<div class="line"><span class="lineno"> 1627</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a98026b9915afd793e4ff7c1c16a48417" name="a98026b9915afd793e4ff7c1c16a48417"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98026b9915afd793e4ff7c1c16a48417">&#9670;&#160;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.load </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Allocates storage for the image and loads the pixel data.  In
normal cases, you don't need to call this method, since the
Image class automatically loads an opened image when it is
accessed for the first time.

If the file associated with the image was opened by Pillow, then this
method will close it. The exception to this is if the image has
multiple frames, in which case the file will be left open for seek
operations. See :ref:`file-handling` for more information.

:returns: An image access object.
:rtype: :ref:`PixelAccess` or :py:class:`PIL.PyAccess`
</pre> 
<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_fpx_image_plugin_1_1_fpx_image_file.html#a123f99218c0ad2c43ae6887c5066510a">PIL.FpxImagePlugin.FpxImageFile</a>, <a class="el" href="class_p_i_l_1_1_gbr_image_plugin_1_1_gbr_image_file.html#aef689552996e6c1afcc15b2929aff4fa">PIL.GbrImagePlugin.GbrImageFile</a>, <a class="el" href="class_p_i_l_1_1_icns_image_plugin_1_1_icns_image_file.html#a5a6a7ca94adb747b069d389617f94d90">PIL.IcnsImagePlugin.IcnsImageFile</a>, <a class="el" href="class_p_i_l_1_1_ico_image_plugin_1_1_ico_image_file.html#aebb1ce1d9f21aa37c9ed3fc1cbe2c084">PIL.IcoImagePlugin.IcoImageFile</a>, <a class="el" href="class_p_i_l_1_1_image_file_1_1_image_file.html#ae3eb6b64366d00d428091b725482701b">PIL.ImageFile.ImageFile</a>, <a class="el" href="class_p_i_l_1_1_image_file_1_1_stub_image_file.html#a72e4bc5ddc77ce8710e3e8008e5c1890">PIL.ImageFile.StubImageFile</a>, <a class="el" href="class_p_i_l_1_1_iptc_image_plugin_1_1_iptc_image_file.html#a1c5e57b03858c993068ee0ccf8f3bd72">PIL.IptcImagePlugin.IptcImageFile</a>, <a class="el" href="class_p_i_l_1_1_jpeg2_k_image_plugin_1_1_jpeg2_k_image_file.html#a4b5135266af175569d36b2a8c8c72bd4">PIL.Jpeg2KImagePlugin.Jpeg2KImageFile</a>, <a class="el" href="class_p_i_l_1_1_tiff_image_plugin_1_1_tiff_image_file.html#a847e75590deeb41a724cce095fdf5311">PIL.TiffImagePlugin.TiffImageFile</a>, <a class="el" href="class_p_i_l_1_1_wal_image_file_1_1_wal_image_file.html#ae7f6d7633b9a7ba38d082eea5a375fba">PIL.WalImageFile.WalImageFile</a>, <a class="el" href="class_p_i_l_1_1_web_p_image_plugin_1_1_web_p_image_file.html#adbd5ef30da99481e88eeac5eb7bda281">PIL.WebPImagePlugin.WebPImageFile</a>, <a class="el" href="class_p_i_l_1_1_wmf_image_plugin_1_1_wmf_stub_image_file.html#a08c1b150db15f7afca4cfd27a67078ef">PIL.WmfImagePlugin.WmfStubImageFile</a>, and <a class="el" href="class_p_i_l_1_1_eps_image_plugin_1_1_eps_image_file.html#a3b1f0e910801c46fa0b1881a9717afea">PIL.EpsImagePlugin.EpsImageFile</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  835</span>    <span class="keyword">def </span>load(self):</div>
<div class="line"><span class="lineno">  836</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  837</span><span class="stringliteral">        Allocates storage for the image and loads the pixel data.  In</span></div>
<div class="line"><span class="lineno">  838</span><span class="stringliteral">        normal cases, you don&#39;t need to call this method, since the</span></div>
<div class="line"><span class="lineno">  839</span><span class="stringliteral">        Image class automatically loads an opened image when it is</span></div>
<div class="line"><span class="lineno">  840</span><span class="stringliteral">        accessed for the first time.</span></div>
<div class="line"><span class="lineno">  841</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  842</span><span class="stringliteral">        If the file associated with the image was opened by Pillow, then this</span></div>
<div class="line"><span class="lineno">  843</span><span class="stringliteral">        method will close it. The exception to this is if the image has</span></div>
<div class="line"><span class="lineno">  844</span><span class="stringliteral">        multiple frames, in which case the file will be left open for seek</span></div>
<div class="line"><span class="lineno">  845</span><span class="stringliteral">        operations. See :ref:`file-handling` for more information.</span></div>
<div class="line"><span class="lineno">  846</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  847</span><span class="stringliteral">        :returns: An image access object.</span></div>
<div class="line"><span class="lineno">  848</span><span class="stringliteral">        :rtype: :ref:`PixelAccess` or :py:class:`PIL.PyAccess`</span></div>
<div class="line"><span class="lineno">  849</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  850</span>        <span class="keywordflow">if</span> self.im <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> self.palette <span class="keywordflow">and</span> self.palette.dirty:</div>
<div class="line"><span class="lineno">  851</span>            <span class="comment"># realize palette</span></div>
<div class="line"><span class="lineno">  852</span>            mode, arr = self.palette.getdata()</div>
<div class="line"><span class="lineno">  853</span>            self.im.putpalette(mode, arr)</div>
<div class="line"><span class="lineno">  854</span>            self.palette.dirty = 0</div>
<div class="line"><span class="lineno">  855</span>            self.palette.rawmode = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  856</span>            <span class="keywordflow">if</span> <span class="stringliteral">&quot;transparency&quot;</span> <span class="keywordflow">in</span> self.info <span class="keywordflow">and</span> mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;PA&quot;</span>):</div>
<div class="line"><span class="lineno">  857</span>                <span class="keywordflow">if</span> isinstance(self.info[<span class="stringliteral">&quot;transparency&quot;</span>], int):</div>
<div class="line"><span class="lineno">  858</span>                    self.im.putpalettealpha(self.info[<span class="stringliteral">&quot;transparency&quot;</span>], 0)</div>
<div class="line"><span class="lineno">  859</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  860</span>                    self.im.putpalettealphas(self.info[<span class="stringliteral">&quot;transparency&quot;</span>])</div>
<div class="line"><span class="lineno">  861</span>                self.palette.mode = <span class="stringliteral">&quot;RGBA&quot;</span></div>
<div class="line"><span class="lineno">  862</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  863</span>                palette_mode = <span class="stringliteral">&quot;RGBA&quot;</span> <span class="keywordflow">if</span> mode.startswith(<span class="stringliteral">&quot;RGBA&quot;</span>) <span class="keywordflow">else</span> <span class="stringliteral">&quot;RGB&quot;</span></div>
<div class="line"><span class="lineno">  864</span>                self.palette.mode = palette_mode</div>
<div class="line"><span class="lineno">  865</span>                self.palette.palette = self.im.getpalette(palette_mode, palette_mode)</div>
<div class="line"><span class="lineno">  866</span> </div>
<div class="line"><span class="lineno">  867</span>        <span class="keywordflow">if</span> self.im <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  868</span>            <span class="keywordflow">if</span> cffi <span class="keywordflow">and</span> USE_CFFI_ACCESS:</div>
<div class="line"><span class="lineno">  869</span>                <span class="keywordflow">if</span> self.pyaccess:</div>
<div class="line"><span class="lineno">  870</span>                    <span class="keywordflow">return</span> self.pyaccess</div>
<div class="line"><span class="lineno">  871</span>                <span class="keyword">from</span> . <span class="keyword">import</span> PyAccess</div>
<div class="line"><span class="lineno">  872</span> </div>
<div class="line"><span class="lineno">  873</span>                self.pyaccess = PyAccess.new(self, self.readonly)</div>
<div class="line"><span class="lineno">  874</span>                <span class="keywordflow">if</span> self.pyaccess:</div>
<div class="line"><span class="lineno">  875</span>                    <span class="keywordflow">return</span> self.pyaccess</div>
<div class="line"><span class="lineno">  876</span>            <span class="keywordflow">return</span> self.im.pixel_access(self.readonly)</div>
<div class="line"><span class="lineno">  877</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2471f62da7ebb1703f17e0138abb3177" name="a2471f62da7ebb1703f17e0138abb3177"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2471f62da7ebb1703f17e0138abb3177">&#9670;&#160;</a></span>paste()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.paste </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>im</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mask</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Pastes another image into this image. The box argument is either
a 2-tuple giving the upper left corner, a 4-tuple defining the
left, upper, right, and lower pixel coordinate, or None (same as
(0, 0)). See :ref:`coordinate-system`. If a 4-tuple is given, the size
of the pasted image must match the size of the region.

If the modes don't match, the pasted image is converted to the mode of
this image (see the :py:meth:`~PIL.Image.Image.convert` method for
details).

Instead of an image, the source can be a integer or tuple
containing pixel values.  The method then fills the region
with the given color.  When creating RGB images, you can
also use color strings as supported by the ImageColor module.

If a mask is given, this method updates only the regions
indicated by the mask. You can use either "1", "L", "LA", "RGBA"
or "RGBa" images (if present, the alpha band is used as mask).
Where the mask is 255, the given image is copied as is.  Where
the mask is 0, the current value is preserved.  Intermediate
values will mix the two images together, including their alpha
channels if they have them.

See :py:meth:`~PIL.Image.Image.alpha_composite` if you want to
combine images with respect to their alpha channels.

:param im: Source image or pixel value (integer or tuple).
:param box: An optional 4-tuple giving the region to paste into.
   If a 2-tuple is used instead, it's treated as the upper left
   corner.  If omitted or None, the source is pasted into the
   upper left corner.

   If an image is given as the second argument and there is no
   third, the box defaults to (0, 0), and the second argument
   is interpreted as a mask image.
:param mask: An optional mask image.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1654</span>    <span class="keyword">def </span>paste(self, im, box=None, mask=None):</div>
<div class="line"><span class="lineno"> 1655</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1656</span><span class="stringliteral">        Pastes another image into this image. The box argument is either</span></div>
<div class="line"><span class="lineno"> 1657</span><span class="stringliteral">        a 2-tuple giving the upper left corner, a 4-tuple defining the</span></div>
<div class="line"><span class="lineno"> 1658</span><span class="stringliteral">        left, upper, right, and lower pixel coordinate, or None (same as</span></div>
<div class="line"><span class="lineno"> 1659</span><span class="stringliteral">        (0, 0)). See :ref:`coordinate-system`. If a 4-tuple is given, the size</span></div>
<div class="line"><span class="lineno"> 1660</span><span class="stringliteral">        of the pasted image must match the size of the region.</span></div>
<div class="line"><span class="lineno"> 1661</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1662</span><span class="stringliteral">        If the modes don&#39;t match, the pasted image is converted to the mode of</span></div>
<div class="line"><span class="lineno"> 1663</span><span class="stringliteral">        this image (see the :py:meth:`~PIL.Image.Image.convert` method for</span></div>
<div class="line"><span class="lineno"> 1664</span><span class="stringliteral">        details).</span></div>
<div class="line"><span class="lineno"> 1665</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1666</span><span class="stringliteral">        Instead of an image, the source can be a integer or tuple</span></div>
<div class="line"><span class="lineno"> 1667</span><span class="stringliteral">        containing pixel values.  The method then fills the region</span></div>
<div class="line"><span class="lineno"> 1668</span><span class="stringliteral">        with the given color.  When creating RGB images, you can</span></div>
<div class="line"><span class="lineno"> 1669</span><span class="stringliteral">        also use color strings as supported by the ImageColor module.</span></div>
<div class="line"><span class="lineno"> 1670</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1671</span><span class="stringliteral">        If a mask is given, this method updates only the regions</span></div>
<div class="line"><span class="lineno"> 1672</span><span class="stringliteral">        indicated by the mask. You can use either &quot;1&quot;, &quot;L&quot;, &quot;LA&quot;, &quot;RGBA&quot;</span></div>
<div class="line"><span class="lineno"> 1673</span><span class="stringliteral">        or &quot;RGBa&quot; images (if present, the alpha band is used as mask).</span></div>
<div class="line"><span class="lineno"> 1674</span><span class="stringliteral">        Where the mask is 255, the given image is copied as is.  Where</span></div>
<div class="line"><span class="lineno"> 1675</span><span class="stringliteral">        the mask is 0, the current value is preserved.  Intermediate</span></div>
<div class="line"><span class="lineno"> 1676</span><span class="stringliteral">        values will mix the two images together, including their alpha</span></div>
<div class="line"><span class="lineno"> 1677</span><span class="stringliteral">        channels if they have them.</span></div>
<div class="line"><span class="lineno"> 1678</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1679</span><span class="stringliteral">        See :py:meth:`~PIL.Image.Image.alpha_composite` if you want to</span></div>
<div class="line"><span class="lineno"> 1680</span><span class="stringliteral">        combine images with respect to their alpha channels.</span></div>
<div class="line"><span class="lineno"> 1681</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1682</span><span class="stringliteral">        :param im: Source image or pixel value (integer or tuple).</span></div>
<div class="line"><span class="lineno"> 1683</span><span class="stringliteral">        :param box: An optional 4-tuple giving the region to paste into.</span></div>
<div class="line"><span class="lineno"> 1684</span><span class="stringliteral">           If a 2-tuple is used instead, it&#39;s treated as the upper left</span></div>
<div class="line"><span class="lineno"> 1685</span><span class="stringliteral">           corner.  If omitted or None, the source is pasted into the</span></div>
<div class="line"><span class="lineno"> 1686</span><span class="stringliteral">           upper left corner.</span></div>
<div class="line"><span class="lineno"> 1687</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1688</span><span class="stringliteral">           If an image is given as the second argument and there is no</span></div>
<div class="line"><span class="lineno"> 1689</span><span class="stringliteral">           third, the box defaults to (0, 0), and the second argument</span></div>
<div class="line"><span class="lineno"> 1690</span><span class="stringliteral">           is interpreted as a mask image.</span></div>
<div class="line"><span class="lineno"> 1691</span><span class="stringliteral">        :param mask: An optional mask image.</span></div>
<div class="line"><span class="lineno"> 1692</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1693</span> </div>
<div class="line"><span class="lineno"> 1694</span>        <span class="keywordflow">if</span> isImageType(box) <span class="keywordflow">and</span> mask <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1695</span>            <span class="comment"># abbreviated paste(im, mask) syntax</span></div>
<div class="line"><span class="lineno"> 1696</span>            mask = box</div>
<div class="line"><span class="lineno"> 1697</span>            box = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1698</span> </div>
<div class="line"><span class="lineno"> 1699</span>        <span class="keywordflow">if</span> box <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1700</span>            box = (0, 0)</div>
<div class="line"><span class="lineno"> 1701</span> </div>
<div class="line"><span class="lineno"> 1702</span>        <span class="keywordflow">if</span> len(box) == 2:</div>
<div class="line"><span class="lineno"> 1703</span>            <span class="comment"># upper left corner given; get size from image or mask</span></div>
<div class="line"><span class="lineno"> 1704</span>            <span class="keywordflow">if</span> isImageType(im):</div>
<div class="line"><span class="lineno"> 1705</span>                size = im.size</div>
<div class="line"><span class="lineno"> 1706</span>            <span class="keywordflow">elif</span> isImageType(mask):</div>
<div class="line"><span class="lineno"> 1707</span>                size = mask.size</div>
<div class="line"><span class="lineno"> 1708</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1709</span>                <span class="comment"># FIXME: use self.size here?</span></div>
<div class="line"><span class="lineno"> 1710</span>                msg = <span class="stringliteral">&quot;cannot determine region size; use 4-item box&quot;</span></div>
<div class="line"><span class="lineno"> 1711</span>                <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1712</span>            box += (box[0] + size[0], box[1] + size[1])</div>
<div class="line"><span class="lineno"> 1713</span> </div>
<div class="line"><span class="lineno"> 1714</span>        <span class="keywordflow">if</span> isinstance(im, str):</div>
<div class="line"><span class="lineno"> 1715</span>            <span class="keyword">from</span> . <span class="keyword">import</span> ImageColor</div>
<div class="line"><span class="lineno"> 1716</span> </div>
<div class="line"><span class="lineno"> 1717</span>            im = ImageColor.getcolor(im, self.mode)</div>
<div class="line"><span class="lineno"> 1718</span> </div>
<div class="line"><span class="lineno"> 1719</span>        <span class="keywordflow">elif</span> isImageType(im):</div>
<div class="line"><span class="lineno"> 1720</span>            im.load()</div>
<div class="line"><span class="lineno"> 1721</span>            <span class="keywordflow">if</span> self.mode != im.mode:</div>
<div class="line"><span class="lineno"> 1722</span>                <span class="keywordflow">if</span> self.mode != <span class="stringliteral">&quot;RGB&quot;</span> <span class="keywordflow">or</span> im.mode <span class="keywordflow">not</span> <span class="keywordflow">in</span> (<span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>, <span class="stringliteral">&quot;RGBa&quot;</span>):</div>
<div class="line"><span class="lineno"> 1723</span>                    <span class="comment"># should use an adapter for this!</span></div>
<div class="line"><span class="lineno"> 1724</span>                    im = im.convert(self.mode)</div>
<div class="line"><span class="lineno"> 1725</span>            im = im.im</div>
<div class="line"><span class="lineno"> 1726</span> </div>
<div class="line"><span class="lineno"> 1727</span>        self._ensure_mutable()</div>
<div class="line"><span class="lineno"> 1728</span> </div>
<div class="line"><span class="lineno"> 1729</span>        <span class="keywordflow">if</span> mask:</div>
<div class="line"><span class="lineno"> 1730</span>            mask.load()</div>
<div class="line"><span class="lineno"> 1731</span>            self.im.paste(im, box, mask.im)</div>
<div class="line"><span class="lineno"> 1732</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1733</span>            self.im.paste(im, box)</div>
<div class="line"><span class="lineno"> 1734</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af0afdeb28c5bd4c570c6ab35501adbe2" name="af0afdeb28c5bd4c570c6ab35501adbe2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0afdeb28c5bd4c570c6ab35501adbe2">&#9670;&#160;</a></span>point()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.point </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>lut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>mode</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Maps this image through a lookup table or function.

:param lut: A lookup table, containing 256 (or 65536 if
   self.mode=="I" and mode == "L") values per band in the
   image.  A function can be used instead, it should take a
   single argument. The function is called once for each
   possible pixel value, and the resulting table is applied to
   all bands of the image.

   It may also be an :py:class:`~PIL.Image.ImagePointHandler`
   object::

       class Example(Image.ImagePointHandler):
         def point(self, data):
           # Return result
:param mode: Output mode (default is same as input).  In the
   current version, this can only be used if the source image
   has mode "L" or "P", and the output has mode "1" or the
   source image mode is "I" and the output mode is "L".
:returns: An :py:class:`~PIL.Image.Image` object.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1786</span>    <span class="keyword">def </span>point(self, lut, mode=None):</div>
<div class="line"><span class="lineno"> 1787</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1788</span><span class="stringliteral">        Maps this image through a lookup table or function.</span></div>
<div class="line"><span class="lineno"> 1789</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1790</span><span class="stringliteral">        :param lut: A lookup table, containing 256 (or 65536 if</span></div>
<div class="line"><span class="lineno"> 1791</span><span class="stringliteral">           self.mode==&quot;I&quot; and mode == &quot;L&quot;) values per band in the</span></div>
<div class="line"><span class="lineno"> 1792</span><span class="stringliteral">           image.  A function can be used instead, it should take a</span></div>
<div class="line"><span class="lineno"> 1793</span><span class="stringliteral">           single argument. The function is called once for each</span></div>
<div class="line"><span class="lineno"> 1794</span><span class="stringliteral">           possible pixel value, and the resulting table is applied to</span></div>
<div class="line"><span class="lineno"> 1795</span><span class="stringliteral">           all bands of the image.</span></div>
<div class="line"><span class="lineno"> 1796</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1797</span><span class="stringliteral">           It may also be an :py:class:`~PIL.Image.ImagePointHandler`</span></div>
<div class="line"><span class="lineno"> 1798</span><span class="stringliteral">           object::</span></div>
<div class="line"><span class="lineno"> 1799</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1800</span><span class="stringliteral">               class Example(Image.ImagePointHandler):</span></div>
<div class="line"><span class="lineno"> 1801</span><span class="stringliteral">                 def point(self, data):</span></div>
<div class="line"><span class="lineno"> 1802</span><span class="stringliteral">                   # Return result</span></div>
<div class="line"><span class="lineno"> 1803</span><span class="stringliteral">        :param mode: Output mode (default is same as input).  In the</span></div>
<div class="line"><span class="lineno"> 1804</span><span class="stringliteral">           current version, this can only be used if the source image</span></div>
<div class="line"><span class="lineno"> 1805</span><span class="stringliteral">           has mode &quot;L&quot; or &quot;P&quot;, and the output has mode &quot;1&quot; or the</span></div>
<div class="line"><span class="lineno"> 1806</span><span class="stringliteral">           source image mode is &quot;I&quot; and the output mode is &quot;L&quot;.</span></div>
<div class="line"><span class="lineno"> 1807</span><span class="stringliteral">        :returns: An :py:class:`~PIL.Image.Image` object.</span></div>
<div class="line"><span class="lineno"> 1808</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1809</span> </div>
<div class="line"><span class="lineno"> 1810</span>        self.load()</div>
<div class="line"><span class="lineno"> 1811</span> </div>
<div class="line"><span class="lineno"> 1812</span>        <span class="keywordflow">if</span> isinstance(lut, ImagePointHandler):</div>
<div class="line"><span class="lineno"> 1813</span>            <span class="keywordflow">return</span> lut.point(self)</div>
<div class="line"><span class="lineno"> 1814</span> </div>
<div class="line"><span class="lineno"> 1815</span>        <span class="keywordflow">if</span> callable(lut):</div>
<div class="line"><span class="lineno"> 1816</span>            <span class="comment"># if it isn&#39;t a list, it should be a function</span></div>
<div class="line"><span class="lineno"> 1817</span>            <span class="keywordflow">if</span> self.mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;I&quot;</span>, <span class="stringliteral">&quot;I;16&quot;</span>, <span class="stringliteral">&quot;F&quot;</span>):</div>
<div class="line"><span class="lineno"> 1818</span>                <span class="comment"># check if the function can be used with point_transform</span></div>
<div class="line"><span class="lineno"> 1819</span>                <span class="comment"># UNDONE wiredfool -- I think this prevents us from ever doing</span></div>
<div class="line"><span class="lineno"> 1820</span>                <span class="comment"># a gamma function point transform on &gt; 8bit images.</span></div>
<div class="line"><span class="lineno"> 1821</span>                scale, offset = _getscaleoffset(lut)</div>
<div class="line"><span class="lineno"> 1822</span>                <span class="keywordflow">return</span> self._new(self.im.point_transform(scale, offset))</div>
<div class="line"><span class="lineno"> 1823</span>            <span class="comment"># for other modes, convert the function to a table</span></div>
<div class="line"><span class="lineno"> 1824</span>            lut = [lut(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(256)] * self.im.bands</div>
<div class="line"><span class="lineno"> 1825</span> </div>
<div class="line"><span class="lineno"> 1826</span>        <span class="keywordflow">if</span> self.mode == <span class="stringliteral">&quot;F&quot;</span>:</div>
<div class="line"><span class="lineno"> 1827</span>            <span class="comment"># FIXME: _imaging returns a confusing error message for this case</span></div>
<div class="line"><span class="lineno"> 1828</span>            msg = <span class="stringliteral">&quot;point operation not supported for this mode&quot;</span></div>
<div class="line"><span class="lineno"> 1829</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1830</span> </div>
<div class="line"><span class="lineno"> 1831</span>        <span class="keywordflow">if</span> mode != <span class="stringliteral">&quot;F&quot;</span>:</div>
<div class="line"><span class="lineno"> 1832</span>            lut = [round(i) <span class="keywordflow">for</span> i <span class="keywordflow">in</span> lut]</div>
<div class="line"><span class="lineno"> 1833</span>        <span class="keywordflow">return</span> self._new(self.im.point(lut, mode))</div>
<div class="line"><span class="lineno"> 1834</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad60ab43bd8a91567cbf96266a9ed1428" name="ad60ab43bd8a91567cbf96266a9ed1428"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60ab43bd8a91567cbf96266a9ed1428">&#9670;&#160;</a></span>putalpha()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.putalpha </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>alpha</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Adds or replaces the alpha layer in this image.  If the image
does not have an alpha layer, it's converted to "LA" or "RGBA".
The new layer must be either "L" or "1".

:param alpha: The new alpha layer.  This can either be an "L" or "1"
   image having the same size as this image, or an integer or
   other color value.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1835</span>    <span class="keyword">def </span>putalpha(self, alpha):</div>
<div class="line"><span class="lineno"> 1836</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1837</span><span class="stringliteral">        Adds or replaces the alpha layer in this image.  If the image</span></div>
<div class="line"><span class="lineno"> 1838</span><span class="stringliteral">        does not have an alpha layer, it&#39;s converted to &quot;LA&quot; or &quot;RGBA&quot;.</span></div>
<div class="line"><span class="lineno"> 1839</span><span class="stringliteral">        The new layer must be either &quot;L&quot; or &quot;1&quot;.</span></div>
<div class="line"><span class="lineno"> 1840</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1841</span><span class="stringliteral">        :param alpha: The new alpha layer.  This can either be an &quot;L&quot; or &quot;1&quot;</span></div>
<div class="line"><span class="lineno"> 1842</span><span class="stringliteral">           image having the same size as this image, or an integer or</span></div>
<div class="line"><span class="lineno"> 1843</span><span class="stringliteral">           other color value.</span></div>
<div class="line"><span class="lineno"> 1844</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1845</span> </div>
<div class="line"><span class="lineno"> 1846</span>        self._ensure_mutable()</div>
<div class="line"><span class="lineno"> 1847</span> </div>
<div class="line"><span class="lineno"> 1848</span>        <span class="keywordflow">if</span> self.mode <span class="keywordflow">not</span> <span class="keywordflow">in</span> (<span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;PA&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>):</div>
<div class="line"><span class="lineno"> 1849</span>            <span class="comment"># attempt to promote self to a matching alpha mode</span></div>
<div class="line"><span class="lineno"> 1850</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1851</span>                mode = getmodebase(self.mode) + <span class="stringliteral">&quot;A&quot;</span></div>
<div class="line"><span class="lineno"> 1852</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1853</span>                    self.im.setmode(mode)</div>
<div class="line"><span class="lineno"> 1854</span>                <span class="keywordflow">except</span> (AttributeError, ValueError) <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno"> 1855</span>                    <span class="comment"># do things the hard way</span></div>
<div class="line"><span class="lineno"> 1856</span>                    im = self.im.convert(mode)</div>
<div class="line"><span class="lineno"> 1857</span>                    <span class="keywordflow">if</span> im.mode <span class="keywordflow">not</span> <span class="keywordflow">in</span> (<span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;PA&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>):</div>
<div class="line"><span class="lineno"> 1858</span>                        <span class="keywordflow">raise</span> ValueError <span class="keyword">from</span> e  <span class="comment"># sanity check</span></div>
<div class="line"><span class="lineno"> 1859</span>                    self.im = im</div>
<div class="line"><span class="lineno"> 1860</span>                self.pyaccess = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1861</span>                self.mode = self.im.mode</div>
<div class="line"><span class="lineno"> 1862</span>            <span class="keywordflow">except</span> KeyError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno"> 1863</span>                msg = <span class="stringliteral">&quot;illegal image mode&quot;</span></div>
<div class="line"><span class="lineno"> 1864</span>                <span class="keywordflow">raise</span> ValueError(msg) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno"> 1865</span> </div>
<div class="line"><span class="lineno"> 1866</span>        <span class="keywordflow">if</span> self.mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;PA&quot;</span>):</div>
<div class="line"><span class="lineno"> 1867</span>            band = 1</div>
<div class="line"><span class="lineno"> 1868</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1869</span>            band = 3</div>
<div class="line"><span class="lineno"> 1870</span> </div>
<div class="line"><span class="lineno"> 1871</span>        <span class="keywordflow">if</span> isImageType(alpha):</div>
<div class="line"><span class="lineno"> 1872</span>            <span class="comment"># alpha layer</span></div>
<div class="line"><span class="lineno"> 1873</span>            <span class="keywordflow">if</span> alpha.mode <span class="keywordflow">not</span> <span class="keywordflow">in</span> (<span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;L&quot;</span>):</div>
<div class="line"><span class="lineno"> 1874</span>                msg = <span class="stringliteral">&quot;illegal image mode&quot;</span></div>
<div class="line"><span class="lineno"> 1875</span>                <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1876</span>            alpha.load()</div>
<div class="line"><span class="lineno"> 1877</span>            <span class="keywordflow">if</span> alpha.mode == <span class="stringliteral">&quot;1&quot;</span>:</div>
<div class="line"><span class="lineno"> 1878</span>                alpha = alpha.convert(<span class="stringliteral">&quot;L&quot;</span>)</div>
<div class="line"><span class="lineno"> 1879</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1880</span>            <span class="comment"># constant alpha</span></div>
<div class="line"><span class="lineno"> 1881</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 1882</span>                self.im.fillband(band, alpha)</div>
<div class="line"><span class="lineno"> 1883</span>            <span class="keywordflow">except</span> (AttributeError, ValueError):</div>
<div class="line"><span class="lineno"> 1884</span>                <span class="comment"># do things the hard way</span></div>
<div class="line"><span class="lineno"> 1885</span>                alpha = new(<span class="stringliteral">&quot;L&quot;</span>, self.size, alpha)</div>
<div class="line"><span class="lineno"> 1886</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1887</span>                <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 1888</span> </div>
<div class="line"><span class="lineno"> 1889</span>        self.im.putband(alpha.im, band)</div>
<div class="line"><span class="lineno"> 1890</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af535ee1f54d0be94f96c1fd0cb608dc3" name="af535ee1f54d0be94f96c1fd0cb608dc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af535ee1f54d0be94f96c1fd0cb608dc3">&#9670;&#160;</a></span>putdata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.putdata </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>scale</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>offset</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Copies pixel data from a flattened sequence object into the image. The
values should start at the upper left corner (0, 0), continue to the
end of the line, followed directly by the first value of the second
line, and so on. Data will be read until either the image or the
sequence ends. The scale and offset values are used to adjust the
sequence values: **pixel = value*scale + offset**.

:param data: A flattened sequence object.
:param scale: An optional scale value.  The default is 1.0.
:param offset: An optional offset value.  The default is 0.0.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1891</span>    <span class="keyword">def </span>putdata(self, data, scale=1.0, offset=0.0):</div>
<div class="line"><span class="lineno"> 1892</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1893</span><span class="stringliteral">        Copies pixel data from a flattened sequence object into the image. The</span></div>
<div class="line"><span class="lineno"> 1894</span><span class="stringliteral">        values should start at the upper left corner (0, 0), continue to the</span></div>
<div class="line"><span class="lineno"> 1895</span><span class="stringliteral">        end of the line, followed directly by the first value of the second</span></div>
<div class="line"><span class="lineno"> 1896</span><span class="stringliteral">        line, and so on. Data will be read until either the image or the</span></div>
<div class="line"><span class="lineno"> 1897</span><span class="stringliteral">        sequence ends. The scale and offset values are used to adjust the</span></div>
<div class="line"><span class="lineno"> 1898</span><span class="stringliteral">        sequence values: **pixel = value*scale + offset**.</span></div>
<div class="line"><span class="lineno"> 1899</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1900</span><span class="stringliteral">        :param data: A flattened sequence object.</span></div>
<div class="line"><span class="lineno"> 1901</span><span class="stringliteral">        :param scale: An optional scale value.  The default is 1.0.</span></div>
<div class="line"><span class="lineno"> 1902</span><span class="stringliteral">        :param offset: An optional offset value.  The default is 0.0.</span></div>
<div class="line"><span class="lineno"> 1903</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1904</span> </div>
<div class="line"><span class="lineno"> 1905</span>        self._ensure_mutable()</div>
<div class="line"><span class="lineno"> 1906</span> </div>
<div class="line"><span class="lineno"> 1907</span>        self.im.putdata(data, scale, offset)</div>
<div class="line"><span class="lineno"> 1908</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a65e8acba930f849d72c2058aeebf06e0" name="a65e8acba930f849d72c2058aeebf06e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65e8acba930f849d72c2058aeebf06e0">&#9670;&#160;</a></span>putpalette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.putpalette </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rawmode</em> = <code>&quot;RGB&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Attaches a palette to this image.  The image must be a "P", "PA", "L"
or "LA" image.

The palette sequence must contain at most 256 colors, made up of one
integer value for each channel in the raw mode.
For example, if the raw mode is "RGB", then it can contain at most 768
values, made up of red, green and blue values for the corresponding pixel
index in the 256 colors.
If the raw mode is "RGBA", then it can contain at most 1024 values,
containing red, green, blue and alpha values.

Alternatively, an 8-bit string may be used instead of an integer sequence.

:param data: A palette sequence (either a list or a string).
:param rawmode: The raw mode of the palette. Either "RGB", "RGBA", or a mode
   that can be transformed to "RGB" or "RGBA" (e.g. "R", "BGR;15", "RGBA;L").
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1909</span>    <span class="keyword">def </span>putpalette(self, data, rawmode=&quot;RGB&quot;):</div>
<div class="line"><span class="lineno"> 1910</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1911</span><span class="stringliteral">        Attaches a palette to this image.  The image must be a &quot;P&quot;, &quot;PA&quot;, &quot;L&quot;</span></div>
<div class="line"><span class="lineno"> 1912</span><span class="stringliteral">        or &quot;LA&quot; image.</span></div>
<div class="line"><span class="lineno"> 1913</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1914</span><span class="stringliteral">        The palette sequence must contain at most 256 colors, made up of one</span></div>
<div class="line"><span class="lineno"> 1915</span><span class="stringliteral">        integer value for each channel in the raw mode.</span></div>
<div class="line"><span class="lineno"> 1916</span><span class="stringliteral">        For example, if the raw mode is &quot;RGB&quot;, then it can contain at most 768</span></div>
<div class="line"><span class="lineno"> 1917</span><span class="stringliteral">        values, made up of red, green and blue values for the corresponding pixel</span></div>
<div class="line"><span class="lineno"> 1918</span><span class="stringliteral">        index in the 256 colors.</span></div>
<div class="line"><span class="lineno"> 1919</span><span class="stringliteral">        If the raw mode is &quot;RGBA&quot;, then it can contain at most 1024 values,</span></div>
<div class="line"><span class="lineno"> 1920</span><span class="stringliteral">        containing red, green, blue and alpha values.</span></div>
<div class="line"><span class="lineno"> 1921</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1922</span><span class="stringliteral">        Alternatively, an 8-bit string may be used instead of an integer sequence.</span></div>
<div class="line"><span class="lineno"> 1923</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1924</span><span class="stringliteral">        :param data: A palette sequence (either a list or a string).</span></div>
<div class="line"><span class="lineno"> 1925</span><span class="stringliteral">        :param rawmode: The raw mode of the palette. Either &quot;RGB&quot;, &quot;RGBA&quot;, or a mode</span></div>
<div class="line"><span class="lineno"> 1926</span><span class="stringliteral">           that can be transformed to &quot;RGB&quot; or &quot;RGBA&quot; (e.g. &quot;R&quot;, &quot;BGR;15&quot;, &quot;RGBA;L&quot;).</span></div>
<div class="line"><span class="lineno"> 1927</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1928</span>        <span class="keyword">from</span> . <span class="keyword">import</span> ImagePalette</div>
<div class="line"><span class="lineno"> 1929</span> </div>
<div class="line"><span class="lineno"> 1930</span>        <span class="keywordflow">if</span> self.mode <span class="keywordflow">not</span> <span class="keywordflow">in</span> (<span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;P&quot;</span>, <span class="stringliteral">&quot;PA&quot;</span>):</div>
<div class="line"><span class="lineno"> 1931</span>            msg = <span class="stringliteral">&quot;illegal image mode&quot;</span></div>
<div class="line"><span class="lineno"> 1932</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1933</span>        <span class="keywordflow">if</span> isinstance(data, ImagePalette.ImagePalette):</div>
<div class="line"><span class="lineno"> 1934</span>            palette = ImagePalette.raw(data.rawmode, data.palette)</div>
<div class="line"><span class="lineno"> 1935</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1936</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(data, bytes):</div>
<div class="line"><span class="lineno"> 1937</span>                data = bytes(data)</div>
<div class="line"><span class="lineno"> 1938</span>            palette = ImagePalette.raw(rawmode, data)</div>
<div class="line"><span class="lineno"> 1939</span>        self.mode = <span class="stringliteral">&quot;PA&quot;</span> <span class="keywordflow">if</span> <span class="stringliteral">&quot;A&quot;</span> <span class="keywordflow">in</span> self.mode <span class="keywordflow">else</span> <span class="stringliteral">&quot;P&quot;</span></div>
<div class="line"><span class="lineno"> 1940</span>        self.palette = palette</div>
<div class="line"><span class="lineno"> 1941</span>        self.palette.mode = <span class="stringliteral">&quot;RGB&quot;</span></div>
<div class="line"><span class="lineno"> 1942</span>        self.load()  <span class="comment"># install new palette</span></div>
<div class="line"><span class="lineno"> 1943</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4700cea087f43ff9f6e021060891ba9e" name="a4700cea087f43ff9f6e021060891ba9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4700cea087f43ff9f6e021060891ba9e">&#9670;&#160;</a></span>putpixel()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.putpixel </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>xy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Modifies the pixel at the given position. The color is given as
a single numerical value for single-band images, and a tuple for
multi-band images. In addition to this, RGB and RGBA tuples are
accepted for P and PA images.

Note that this method is relatively slow.  For more extensive changes,
use :py:meth:`~PIL.Image.Image.paste` or the :py:mod:`~PIL.ImageDraw`
module instead.

See:

* :py:meth:`~PIL.Image.Image.paste`
* :py:meth:`~PIL.Image.Image.putdata`
* :py:mod:`~PIL.ImageDraw`

:param xy: The pixel coordinate, given as (x, y). See
   :ref:`coordinate-system`.
:param value: The pixel value.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 1944</span>    <span class="keyword">def </span>putpixel(self, xy, value):</div>
<div class="line"><span class="lineno"> 1945</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1946</span><span class="stringliteral">        Modifies the pixel at the given position. The color is given as</span></div>
<div class="line"><span class="lineno"> 1947</span><span class="stringliteral">        a single numerical value for single-band images, and a tuple for</span></div>
<div class="line"><span class="lineno"> 1948</span><span class="stringliteral">        multi-band images. In addition to this, RGB and RGBA tuples are</span></div>
<div class="line"><span class="lineno"> 1949</span><span class="stringliteral">        accepted for P and PA images.</span></div>
<div class="line"><span class="lineno"> 1950</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1951</span><span class="stringliteral">        Note that this method is relatively slow.  For more extensive changes,</span></div>
<div class="line"><span class="lineno"> 1952</span><span class="stringliteral">        use :py:meth:`~PIL.Image.Image.paste` or the :py:mod:`~PIL.ImageDraw`</span></div>
<div class="line"><span class="lineno"> 1953</span><span class="stringliteral">        module instead.</span></div>
<div class="line"><span class="lineno"> 1954</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1955</span><span class="stringliteral">        See:</span></div>
<div class="line"><span class="lineno"> 1956</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1957</span><span class="stringliteral">        * :py:meth:`~PIL.Image.Image.paste`</span></div>
<div class="line"><span class="lineno"> 1958</span><span class="stringliteral">        * :py:meth:`~PIL.Image.Image.putdata`</span></div>
<div class="line"><span class="lineno"> 1959</span><span class="stringliteral">        * :py:mod:`~PIL.ImageDraw`</span></div>
<div class="line"><span class="lineno"> 1960</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1961</span><span class="stringliteral">        :param xy: The pixel coordinate, given as (x, y). See</span></div>
<div class="line"><span class="lineno"> 1962</span><span class="stringliteral">           :ref:`coordinate-system`.</span></div>
<div class="line"><span class="lineno"> 1963</span><span class="stringliteral">        :param value: The pixel value.</span></div>
<div class="line"><span class="lineno"> 1964</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1965</span> </div>
<div class="line"><span class="lineno"> 1966</span>        <span class="keywordflow">if</span> self.readonly:</div>
<div class="line"><span class="lineno"> 1967</span>            self._copy()</div>
<div class="line"><span class="lineno"> 1968</span>        self.load()</div>
<div class="line"><span class="lineno"> 1969</span> </div>
<div class="line"><span class="lineno"> 1970</span>        <span class="keywordflow">if</span> self.pyaccess:</div>
<div class="line"><span class="lineno"> 1971</span>            <span class="keywordflow">return</span> self.pyaccess.putpixel(xy, value)</div>
<div class="line"><span class="lineno"> 1972</span> </div>
<div class="line"><span class="lineno"> 1973</span>        <span class="keywordflow">if</span> (</div>
<div class="line"><span class="lineno"> 1974</span>            self.mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;P&quot;</span>, <span class="stringliteral">&quot;PA&quot;</span>)</div>
<div class="line"><span class="lineno"> 1975</span>            <span class="keywordflow">and</span> isinstance(value, (list, tuple))</div>
<div class="line"><span class="lineno"> 1976</span>            <span class="keywordflow">and</span> len(value) <span class="keywordflow">in</span> [3, 4]</div>
<div class="line"><span class="lineno"> 1977</span>        ):</div>
<div class="line"><span class="lineno"> 1978</span>            <span class="comment"># RGB or RGBA value for a P or PA image</span></div>
<div class="line"><span class="lineno"> 1979</span>            <span class="keywordflow">if</span> self.mode == <span class="stringliteral">&quot;PA&quot;</span>:</div>
<div class="line"><span class="lineno"> 1980</span>                alpha = value[3] <span class="keywordflow">if</span> len(value) == 4 <span class="keywordflow">else</span> 255</div>
<div class="line"><span class="lineno"> 1981</span>                value = value[:3]</div>
<div class="line"><span class="lineno"> 1982</span>            value = self.palette.getcolor(value, self)</div>
<div class="line"><span class="lineno"> 1983</span>            <span class="keywordflow">if</span> self.mode == <span class="stringliteral">&quot;PA&quot;</span>:</div>
<div class="line"><span class="lineno"> 1984</span>                value = (value, alpha)</div>
<div class="line"><span class="lineno"> 1985</span>        <span class="keywordflow">return</span> self.im.putpixel(xy, value)</div>
<div class="line"><span class="lineno"> 1986</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7a4c5571459eb434543c91129a58aa5e" name="a7a4c5571459eb434543c91129a58aa5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7a4c5571459eb434543c91129a58aa5e">&#9670;&#160;</a></span>quantize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.quantize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>colors</em> = <code>256</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>kmeans</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>palette</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dither</em> = <code><a class="el" href="class_p_i_l_1_1_image_1_1_dither.html#a703c6d74a8e635cd97285e1336800e88">Dither.FLOYDSTEINBERG</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert the image to 'P' mode with the specified number
of colors.

:param colors: The desired number of colors, &lt;= 256
:param method: :data:`Quantize.MEDIANCUT` (median cut),
               :data:`Quantize.MAXCOVERAGE` (maximum coverage),
               :data:`Quantize.FASTOCTREE` (fast octree),
               :data:`Quantize.LIBIMAGEQUANT` (libimagequant; check support
               using :py:func:`PIL.features.check_feature` with
               ``feature="libimagequant"``).

               By default, :data:`Quantize.MEDIANCUT` will be used.

               The exception to this is RGBA images. :data:`Quantize.MEDIANCUT`
               and :data:`Quantize.MAXCOVERAGE` do not support RGBA images, so
               :data:`Quantize.FASTOCTREE` is used by default instead.
:param kmeans: Integer
:param palette: Quantize to the palette of given
                :py:class:`PIL.Image.Image`.
:param dither: Dithering method, used when converting from
   mode "RGB" to "P" or from "RGB" or "L" to "1".
   Available methods are :data:`Dither.NONE` or :data:`Dither.FLOYDSTEINBERG`
   (default).
:returns: A new image</pre> <div class="fragment"><div class="line"><span class="lineno"> 1125</span>    ):</div>
<div class="line"><span class="lineno"> 1126</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1127</span><span class="stringliteral">        Convert the image to &#39;P&#39; mode with the specified number</span></div>
<div class="line"><span class="lineno"> 1128</span><span class="stringliteral">        of colors.</span></div>
<div class="line"><span class="lineno"> 1129</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1130</span><span class="stringliteral">        :param colors: The desired number of colors, &lt;= 256</span></div>
<div class="line"><span class="lineno"> 1131</span><span class="stringliteral">        :param method: :data:`Quantize.MEDIANCUT` (median cut),</span></div>
<div class="line"><span class="lineno"> 1132</span><span class="stringliteral">                       :data:`Quantize.MAXCOVERAGE` (maximum coverage),</span></div>
<div class="line"><span class="lineno"> 1133</span><span class="stringliteral">                       :data:`Quantize.FASTOCTREE` (fast octree),</span></div>
<div class="line"><span class="lineno"> 1134</span><span class="stringliteral">                       :data:`Quantize.LIBIMAGEQUANT` (libimagequant; check support</span></div>
<div class="line"><span class="lineno"> 1135</span><span class="stringliteral">                       using :py:func:`PIL.features.check_feature` with</span></div>
<div class="line"><span class="lineno"> 1136</span><span class="stringliteral">                       ``feature=&quot;libimagequant&quot;``).</span></div>
<div class="line"><span class="lineno"> 1137</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1138</span><span class="stringliteral">                       By default, :data:`Quantize.MEDIANCUT` will be used.</span></div>
<div class="line"><span class="lineno"> 1139</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1140</span><span class="stringliteral">                       The exception to this is RGBA images. :data:`Quantize.MEDIANCUT`</span></div>
<div class="line"><span class="lineno"> 1141</span><span class="stringliteral">                       and :data:`Quantize.MAXCOVERAGE` do not support RGBA images, so</span></div>
<div class="line"><span class="lineno"> 1142</span><span class="stringliteral">                       :data:`Quantize.FASTOCTREE` is used by default instead.</span></div>
<div class="line"><span class="lineno"> 1143</span><span class="stringliteral">        :param kmeans: Integer</span></div>
<div class="line"><span class="lineno"> 1144</span><span class="stringliteral">        :param palette: Quantize to the palette of given</span></div>
<div class="line"><span class="lineno"> 1145</span><span class="stringliteral">                        :py:class:`PIL.Image.Image`.</span></div>
<div class="line"><span class="lineno"> 1146</span><span class="stringliteral">        :param dither: Dithering method, used when converting from</span></div>
<div class="line"><span class="lineno"> 1147</span><span class="stringliteral">           mode &quot;RGB&quot; to &quot;P&quot; or from &quot;RGB&quot; or &quot;L&quot; to &quot;1&quot;.</span></div>
<div class="line"><span class="lineno"> 1148</span><span class="stringliteral">           Available methods are :data:`Dither.NONE` or :data:`Dither.FLOYDSTEINBERG`</span></div>
<div class="line"><span class="lineno"> 1149</span><span class="stringliteral">           (default).</span></div>
<div class="line"><span class="lineno"> 1150</span><span class="stringliteral">        :returns: A new image</span></div>
<div class="line"><span class="lineno"> 1151</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1152</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1153</span> </div>
<div class="line"><span class="lineno"> 1154</span>        self.load()</div>
<div class="line"><span class="lineno"> 1155</span> </div>
<div class="line"><span class="lineno"> 1156</span>        <span class="keywordflow">if</span> method <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 1157</span>            <span class="comment"># defaults:</span></div>
<div class="line"><span class="lineno"> 1158</span>            method = Quantize.MEDIANCUT</div>
<div class="line"><span class="lineno"> 1159</span>            <span class="keywordflow">if</span> self.mode == <span class="stringliteral">&quot;RGBA&quot;</span>:</div>
<div class="line"><span class="lineno"> 1160</span>                method = Quantize.FASTOCTREE</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>        <span class="keywordflow">if</span> self.mode == <span class="stringliteral">&quot;RGBA&quot;</span> <span class="keywordflow">and</span> method <span class="keywordflow">not</span> <span class="keywordflow">in</span> (</div>
<div class="line"><span class="lineno"> 1163</span>            Quantize.FASTOCTREE,</div>
<div class="line"><span class="lineno"> 1164</span>            Quantize.LIBIMAGEQUANT,</div>
<div class="line"><span class="lineno"> 1165</span>        ):</div>
<div class="line"><span class="lineno"> 1166</span>            <span class="comment"># Caller specified an invalid mode.</span></div>
<div class="line"><span class="lineno"> 1167</span>            msg = (</div>
<div class="line"><span class="lineno"> 1168</span>                <span class="stringliteral">&quot;Fast Octree (method == 2) and libimagequant (method == 3) &quot;</span></div>
<div class="line"><span class="lineno"> 1169</span>                <span class="stringliteral">&quot;are the only valid methods for quantizing RGBA images&quot;</span></div>
<div class="line"><span class="lineno"> 1170</span>            )</div>
<div class="line"><span class="lineno"> 1171</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1172</span> </div>
<div class="line"><span class="lineno"> 1173</span>        <span class="keywordflow">if</span> palette:</div>
<div class="line"><span class="lineno"> 1174</span>            <span class="comment"># use palette from reference image</span></div>
<div class="line"><span class="lineno"> 1175</span>            palette.load()</div>
<div class="line"><span class="lineno"> 1176</span>            <span class="keywordflow">if</span> palette.mode != <span class="stringliteral">&quot;P&quot;</span>:</div>
<div class="line"><span class="lineno"> 1177</span>                msg = <span class="stringliteral">&quot;bad mode for palette image&quot;</span></div>
<div class="line"><span class="lineno"> 1178</span>                <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1179</span>            <span class="keywordflow">if</span> self.mode != <span class="stringliteral">&quot;RGB&quot;</span> <span class="keywordflow">and</span> self.mode != <span class="stringliteral">&quot;L&quot;</span>:</div>
<div class="line"><span class="lineno"> 1180</span>                msg = <span class="stringliteral">&quot;only RGB or L mode images can be quantized to a palette&quot;</span></div>
<div class="line"><span class="lineno"> 1181</span>                <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 1182</span>            im = self.im.convert(<span class="stringliteral">&quot;P&quot;</span>, dither, palette.im)</div>
<div class="line"><span class="lineno"> 1183</span>            new_im = self._new(im)</div>
<div class="line"><span class="lineno"> 1184</span>            new_im.palette = palette.palette.copy()</div>
<div class="line"><span class="lineno"> 1185</span>            <span class="keywordflow">return</span> new_im</div>
<div class="line"><span class="lineno"> 1186</span> </div>
<div class="line"><span class="lineno"> 1187</span>        im = self._new(self.im.quantize(colors, method, kmeans))</div>
<div class="line"><span class="lineno"> 1188</span> </div>
<div class="line"><span class="lineno"> 1189</span>        <span class="keyword">from</span> . <span class="keyword">import</span> ImagePalette</div>
<div class="line"><span class="lineno"> 1190</span> </div>
<div class="line"><span class="lineno"> 1191</span>        mode = im.im.getpalettemode()</div>
<div class="line"><span class="lineno"> 1192</span>        palette = im.im.getpalette(mode, mode)[: colors * len(mode)]</div>
<div class="line"><span class="lineno"> 1193</span>        im.palette = ImagePalette.ImagePalette(mode, palette)</div>
<div class="line"><span class="lineno"> 1194</span> </div>
<div class="line"><span class="lineno"> 1195</span>        <span class="keywordflow">return</span> im</div>
<div class="line"><span class="lineno"> 1196</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a68583206a8b156929afd5364139aee1c" name="a68583206a8b156929afd5364139aee1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68583206a8b156929afd5364139aee1c">&#9670;&#160;</a></span>reduce()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.reduce </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>factor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a copy of the image reduced ``factor`` times.
If the size of the image is not dividable by ``factor``,
the resulting size will be rounded up.

:param factor: A greater than 0 integer or tuple of two integers
   for width and height separately.
:param box: An optional 4-tuple of ints providing
   the source image region to be reduced.
   The values must be within ``(0, 0, width, height)`` rectangle.
   If omitted or ``None``, the entire source is used.
</pre> 
<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_jpeg2_k_image_plugin_1_1_jpeg2_k_image_file.html#a03c9a6390f3d8bfb953c1ad6da1785e8">PIL.Jpeg2KImagePlugin.Jpeg2KImageFile</a>, and <a class="el" href="class_p_i_l_1_1_jpeg2_k_image_plugin_1_1_jpeg2_k_image_file.html#afb81a45614ac659586dae26bebfb6985">PIL.Jpeg2KImagePlugin.Jpeg2KImageFile</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2194</span>    <span class="keyword">def </span>reduce(self, factor, box=None):</div>
<div class="line"><span class="lineno"> 2195</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2196</span><span class="stringliteral">        Returns a copy of the image reduced ``factor`` times.</span></div>
<div class="line"><span class="lineno"> 2197</span><span class="stringliteral">        If the size of the image is not dividable by ``factor``,</span></div>
<div class="line"><span class="lineno"> 2198</span><span class="stringliteral">        the resulting size will be rounded up.</span></div>
<div class="line"><span class="lineno"> 2199</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2200</span><span class="stringliteral">        :param factor: A greater than 0 integer or tuple of two integers</span></div>
<div class="line"><span class="lineno"> 2201</span><span class="stringliteral">           for width and height separately.</span></div>
<div class="line"><span class="lineno"> 2202</span><span class="stringliteral">        :param box: An optional 4-tuple of ints providing</span></div>
<div class="line"><span class="lineno"> 2203</span><span class="stringliteral">           the source image region to be reduced.</span></div>
<div class="line"><span class="lineno"> 2204</span><span class="stringliteral">           The values must be within ``(0, 0, width, height)`` rectangle.</span></div>
<div class="line"><span class="lineno"> 2205</span><span class="stringliteral">           If omitted or ``None``, the entire source is used.</span></div>
<div class="line"><span class="lineno"> 2206</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2207</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(factor, (list, tuple)):</div>
<div class="line"><span class="lineno"> 2208</span>            factor = (factor, factor)</div>
<div class="line"><span class="lineno"> 2209</span> </div>
<div class="line"><span class="lineno"> 2210</span>        <span class="keywordflow">if</span> box <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2211</span>            box = (0, 0) + self.size</div>
<div class="line"><span class="lineno"> 2212</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2213</span>            box = tuple(box)</div>
<div class="line"><span class="lineno"> 2214</span> </div>
<div class="line"><span class="lineno"> 2215</span>        <span class="keywordflow">if</span> factor == (1, 1) <span class="keywordflow">and</span> box == (0, 0) + self.size:</div>
<div class="line"><span class="lineno"> 2216</span>            <span class="keywordflow">return</span> self.copy()</div>
<div class="line"><span class="lineno"> 2217</span> </div>
<div class="line"><span class="lineno"> 2218</span>        <span class="keywordflow">if</span> self.mode <span class="keywordflow">in</span> [<span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>]:</div>
<div class="line"><span class="lineno"> 2219</span>            im = self.convert({<span class="stringliteral">&quot;LA&quot;</span>: <span class="stringliteral">&quot;La&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>: <span class="stringliteral">&quot;RGBa&quot;</span>}[self.mode])</div>
<div class="line"><span class="lineno"> 2220</span>            im = im.reduce(factor, box)</div>
<div class="line"><span class="lineno"> 2221</span>            <span class="keywordflow">return</span> im.convert(self.mode)</div>
<div class="line"><span class="lineno"> 2222</span> </div>
<div class="line"><span class="lineno"> 2223</span>        self.load()</div>
<div class="line"><span class="lineno"> 2224</span> </div>
<div class="line"><span class="lineno"> 2225</span>        <span class="keywordflow">return</span> self._new(self.im.reduce(factor, box))</div>
<div class="line"><span class="lineno"> 2226</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac408181a8a339ba3de2416833ff11b8c" name="ac408181a8a339ba3de2416833ff11b8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac408181a8a339ba3de2416833ff11b8c">&#9670;&#160;</a></span>remap_palette()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.remap_palette </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dest_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>source_palette</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Rewrites the image to reorder the palette.

:param dest_map: A list of indexes into the original palette.
   e.g. ``[1,0]`` would swap a two item palette, and ``list(range(256))``
   is the identity transform.
:param source_palette: Bytes or None.
:returns:  An :py:class:`~PIL.Image.Image` object.</pre> <div class="fragment"><div class="line"><span class="lineno"> 1987</span>    <span class="keyword">def </span>remap_palette(self, dest_map, source_palette=None):</div>
<div class="line"><span class="lineno"> 1988</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1989</span><span class="stringliteral">        Rewrites the image to reorder the palette.</span></div>
<div class="line"><span class="lineno"> 1990</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1991</span><span class="stringliteral">        :param dest_map: A list of indexes into the original palette.</span></div>
<div class="line"><span class="lineno"> 1992</span><span class="stringliteral">           e.g. ``[1,0]`` would swap a two item palette, and ``list(range(256))``</span></div>
<div class="line"><span class="lineno"> 1993</span><span class="stringliteral">           is the identity transform.</span></div>
<div class="line"><span class="lineno"> 1994</span><span class="stringliteral">        :param source_palette: Bytes or None.</span></div>
<div class="line"><span class="lineno"> 1995</span><span class="stringliteral">        :returns:  An :py:class:`~PIL.Image.Image` object.</span></div>
<div class="line"><span class="lineno"> 1996</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1997</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1998</span>        <span class="keyword">from</span> . <span class="keyword">import</span> ImagePalette</div>
<div class="line"><span class="lineno"> 1999</span> </div>
<div class="line"><span class="lineno"> 2000</span>        <span class="keywordflow">if</span> self.mode <span class="keywordflow">not</span> <span class="keywordflow">in</span> (<span class="stringliteral">&quot;L&quot;</span>, <span class="stringliteral">&quot;P&quot;</span>):</div>
<div class="line"><span class="lineno"> 2001</span>            msg = <span class="stringliteral">&quot;illegal image mode&quot;</span></div>
<div class="line"><span class="lineno"> 2002</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 2003</span> </div>
<div class="line"><span class="lineno"> 2004</span>        bands = 3</div>
<div class="line"><span class="lineno"> 2005</span>        palette_mode = <span class="stringliteral">&quot;RGB&quot;</span></div>
<div class="line"><span class="lineno"> 2006</span>        <span class="keywordflow">if</span> source_palette <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2007</span>            <span class="keywordflow">if</span> self.mode == <span class="stringliteral">&quot;P&quot;</span>:</div>
<div class="line"><span class="lineno"> 2008</span>                self.load()</div>
<div class="line"><span class="lineno"> 2009</span>                palette_mode = self.im.getpalettemode()</div>
<div class="line"><span class="lineno"> 2010</span>                <span class="keywordflow">if</span> palette_mode == <span class="stringliteral">&quot;RGBA&quot;</span>:</div>
<div class="line"><span class="lineno"> 2011</span>                    bands = 4</div>
<div class="line"><span class="lineno"> 2012</span>                source_palette = self.im.getpalette(palette_mode, palette_mode)</div>
<div class="line"><span class="lineno"> 2013</span>            <span class="keywordflow">else</span>:  <span class="comment"># L-mode</span></div>
<div class="line"><span class="lineno"> 2014</span>                source_palette = bytearray(i // 3 <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(768))</div>
<div class="line"><span class="lineno"> 2015</span> </div>
<div class="line"><span class="lineno"> 2016</span>        palette_bytes = b<span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2017</span>        new_positions = [0] * 256</div>
<div class="line"><span class="lineno"> 2018</span> </div>
<div class="line"><span class="lineno"> 2019</span>        <span class="comment"># pick only the used colors from the palette</span></div>
<div class="line"><span class="lineno"> 2020</span>        <span class="keywordflow">for</span> i, oldPosition <span class="keywordflow">in</span> enumerate(dest_map):</div>
<div class="line"><span class="lineno"> 2021</span>            palette_bytes += source_palette[</div>
<div class="line"><span class="lineno"> 2022</span>                oldPosition * bands : oldPosition * bands + bands</div>
<div class="line"><span class="lineno"> 2023</span>            ]</div>
<div class="line"><span class="lineno"> 2024</span>            new_positions[oldPosition] = i</div>
<div class="line"><span class="lineno"> 2025</span> </div>
<div class="line"><span class="lineno"> 2026</span>        <span class="comment"># replace the palette color id of all pixel with the new id</span></div>
<div class="line"><span class="lineno"> 2027</span> </div>
<div class="line"><span class="lineno"> 2028</span>        <span class="comment"># Palette images are [0..255], mapped through a 1 or 3</span></div>
<div class="line"><span class="lineno"> 2029</span>        <span class="comment"># byte/color map.  We need to remap the whole image</span></div>
<div class="line"><span class="lineno"> 2030</span>        <span class="comment"># from palette 1 to palette 2. New_positions is</span></div>
<div class="line"><span class="lineno"> 2031</span>        <span class="comment"># an array of indexes into palette 1.  Palette 2 is</span></div>
<div class="line"><span class="lineno"> 2032</span>        <span class="comment"># palette 1 with any holes removed.</span></div>
<div class="line"><span class="lineno"> 2033</span> </div>
<div class="line"><span class="lineno"> 2034</span>        <span class="comment"># We&#39;re going to leverage the convert mechanism to use the</span></div>
<div class="line"><span class="lineno"> 2035</span>        <span class="comment"># C code to remap the image from palette 1 to palette 2,</span></div>
<div class="line"><span class="lineno"> 2036</span>        <span class="comment"># by forcing the source image into &#39;L&#39; mode and adding a</span></div>
<div class="line"><span class="lineno"> 2037</span>        <span class="comment"># mapping &#39;L&#39; mode palette, then converting back to &#39;L&#39;</span></div>
<div class="line"><span class="lineno"> 2038</span>        <span class="comment"># sans palette thus converting the image bytes, then</span></div>
<div class="line"><span class="lineno"> 2039</span>        <span class="comment"># assigning the optimized RGB palette.</span></div>
<div class="line"><span class="lineno"> 2040</span> </div>
<div class="line"><span class="lineno"> 2041</span>        <span class="comment"># perf reference, 9500x4000 gif, w/~135 colors</span></div>
<div class="line"><span class="lineno"> 2042</span>        <span class="comment"># 14 sec prepatch, 1 sec postpatch with optimization forced.</span></div>
<div class="line"><span class="lineno"> 2043</span> </div>
<div class="line"><span class="lineno"> 2044</span>        mapping_palette = bytearray(new_positions)</div>
<div class="line"><span class="lineno"> 2045</span> </div>
<div class="line"><span class="lineno"> 2046</span>        m_im = self.copy()</div>
<div class="line"><span class="lineno"> 2047</span>        m_im.mode = <span class="stringliteral">&quot;P&quot;</span></div>
<div class="line"><span class="lineno"> 2048</span> </div>
<div class="line"><span class="lineno"> 2049</span>        m_im.palette = ImagePalette.ImagePalette(</div>
<div class="line"><span class="lineno"> 2050</span>            palette_mode, palette=mapping_palette * bands</div>
<div class="line"><span class="lineno"> 2051</span>        )</div>
<div class="line"><span class="lineno"> 2052</span>        <span class="comment"># possibly set palette dirty, then</span></div>
<div class="line"><span class="lineno"> 2053</span>        <span class="comment"># m_im.putpalette(mapping_palette, &#39;L&#39;)  # converts to &#39;P&#39;</span></div>
<div class="line"><span class="lineno"> 2054</span>        <span class="comment"># or just force it.</span></div>
<div class="line"><span class="lineno"> 2055</span>        <span class="comment"># UNDONE -- this is part of the general issue with palettes</span></div>
<div class="line"><span class="lineno"> 2056</span>        m_im.im.putpalette(palette_mode + <span class="stringliteral">&quot;;L&quot;</span>, m_im.palette.tobytes())</div>
<div class="line"><span class="lineno"> 2057</span> </div>
<div class="line"><span class="lineno"> 2058</span>        m_im = m_im.convert(<span class="stringliteral">&quot;L&quot;</span>)</div>
<div class="line"><span class="lineno"> 2059</span> </div>
<div class="line"><span class="lineno"> 2060</span>        m_im.putpalette(palette_bytes, palette_mode)</div>
<div class="line"><span class="lineno"> 2061</span>        m_im.palette = ImagePalette.ImagePalette(palette_mode, palette=palette_bytes)</div>
<div class="line"><span class="lineno"> 2062</span> </div>
<div class="line"><span class="lineno"> 2063</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;transparency&quot;</span> <span class="keywordflow">in</span> self.info:</div>
<div class="line"><span class="lineno"> 2064</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2065</span>                m_im.info[<span class="stringliteral">&quot;transparency&quot;</span>] = dest_map.index(self.info[<span class="stringliteral">&quot;transparency&quot;</span>])</div>
<div class="line"><span class="lineno"> 2066</span>            <span class="keywordflow">except</span> ValueError:</div>
<div class="line"><span class="lineno"> 2067</span>                <span class="keywordflow">if</span> <span class="stringliteral">&quot;transparency&quot;</span> <span class="keywordflow">in</span> m_im.info:</div>
<div class="line"><span class="lineno"> 2068</span>                    del m_im.info[<span class="stringliteral">&quot;transparency&quot;</span>]</div>
<div class="line"><span class="lineno"> 2069</span> </div>
<div class="line"><span class="lineno"> 2070</span>        <span class="keywordflow">return</span> m_im</div>
<div class="line"><span class="lineno"> 2071</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a12276452e549e5529dd7c83df841baf4" name="a12276452e549e5529dd7c83df841baf4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12276452e549e5529dd7c83df841baf4">&#9670;&#160;</a></span>resize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.resize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resample</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reducing_gap</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a resized copy of this image.

:param size: The requested size in pixels, as a 2-tuple:
   (width, height).
:param resample: An optional resampling filter.  This can be
   one of :py:data:`Resampling.NEAREST`, :py:data:`Resampling.BOX`,
   :py:data:`Resampling.BILINEAR`, :py:data:`Resampling.HAMMING`,
   :py:data:`Resampling.BICUBIC` or :py:data:`Resampling.LANCZOS`.
   If the image has mode "1" or "P", it is always set to
   :py:data:`Resampling.NEAREST`. If the image mode specifies a number
   of bits, such as "I;16", then the default filter is
   :py:data:`Resampling.NEAREST`. Otherwise, the default filter is
   :py:data:`Resampling.BICUBIC`. See: :ref:`concept-filters`.
:param box: An optional 4-tuple of floats providing
   the source image region to be scaled.
   The values must be within (0, 0, width, height) rectangle.
   If omitted or None, the entire source is used.
:param reducing_gap: Apply optimization by resizing the image
   in two steps. First, reducing the image by integer times
   using :py:meth:`~PIL.Image.Image.reduce`.
   Second, resizing using regular resampling. The last step
   changes size no less than by ``reducing_gap`` times.
   ``reducing_gap`` may be None (no first step is performed)
   or should be greater than 1.0. The bigger ``reducing_gap``,
   the closer the result to the fair resampling.
   The smaller ``reducing_gap``, the faster resizing.
   With ``reducing_gap`` greater or equal to 3.0, the result is
   indistinguishable from fair resampling in most cases.
   The default value is None (no optimization).
:returns: An :py:class:`~PIL.Image.Image` object.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2089</span>    <span class="keyword">def </span>resize(self, size, resample=None, box=None, reducing_gap=None):</div>
<div class="line"><span class="lineno"> 2090</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2091</span><span class="stringliteral">        Returns a resized copy of this image.</span></div>
<div class="line"><span class="lineno"> 2092</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2093</span><span class="stringliteral">        :param size: The requested size in pixels, as a 2-tuple:</span></div>
<div class="line"><span class="lineno"> 2094</span><span class="stringliteral">           (width, height).</span></div>
<div class="line"><span class="lineno"> 2095</span><span class="stringliteral">        :param resample: An optional resampling filter.  This can be</span></div>
<div class="line"><span class="lineno"> 2096</span><span class="stringliteral">           one of :py:data:`Resampling.NEAREST`, :py:data:`Resampling.BOX`,</span></div>
<div class="line"><span class="lineno"> 2097</span><span class="stringliteral">           :py:data:`Resampling.BILINEAR`, :py:data:`Resampling.HAMMING`,</span></div>
<div class="line"><span class="lineno"> 2098</span><span class="stringliteral">           :py:data:`Resampling.BICUBIC` or :py:data:`Resampling.LANCZOS`.</span></div>
<div class="line"><span class="lineno"> 2099</span><span class="stringliteral">           If the image has mode &quot;1&quot; or &quot;P&quot;, it is always set to</span></div>
<div class="line"><span class="lineno"> 2100</span><span class="stringliteral">           :py:data:`Resampling.NEAREST`. If the image mode specifies a number</span></div>
<div class="line"><span class="lineno"> 2101</span><span class="stringliteral">           of bits, such as &quot;I;16&quot;, then the default filter is</span></div>
<div class="line"><span class="lineno"> 2102</span><span class="stringliteral">           :py:data:`Resampling.NEAREST`. Otherwise, the default filter is</span></div>
<div class="line"><span class="lineno"> 2103</span><span class="stringliteral">           :py:data:`Resampling.BICUBIC`. See: :ref:`concept-filters`.</span></div>
<div class="line"><span class="lineno"> 2104</span><span class="stringliteral">        :param box: An optional 4-tuple of floats providing</span></div>
<div class="line"><span class="lineno"> 2105</span><span class="stringliteral">           the source image region to be scaled.</span></div>
<div class="line"><span class="lineno"> 2106</span><span class="stringliteral">           The values must be within (0, 0, width, height) rectangle.</span></div>
<div class="line"><span class="lineno"> 2107</span><span class="stringliteral">           If omitted or None, the entire source is used.</span></div>
<div class="line"><span class="lineno"> 2108</span><span class="stringliteral">        :param reducing_gap: Apply optimization by resizing the image</span></div>
<div class="line"><span class="lineno"> 2109</span><span class="stringliteral">           in two steps. First, reducing the image by integer times</span></div>
<div class="line"><span class="lineno"> 2110</span><span class="stringliteral">           using :py:meth:`~PIL.Image.Image.reduce`.</span></div>
<div class="line"><span class="lineno"> 2111</span><span class="stringliteral">           Second, resizing using regular resampling. The last step</span></div>
<div class="line"><span class="lineno"> 2112</span><span class="stringliteral">           changes size no less than by ``reducing_gap`` times.</span></div>
<div class="line"><span class="lineno"> 2113</span><span class="stringliteral">           ``reducing_gap`` may be None (no first step is performed)</span></div>
<div class="line"><span class="lineno"> 2114</span><span class="stringliteral">           or should be greater than 1.0. The bigger ``reducing_gap``,</span></div>
<div class="line"><span class="lineno"> 2115</span><span class="stringliteral">           the closer the result to the fair resampling.</span></div>
<div class="line"><span class="lineno"> 2116</span><span class="stringliteral">           The smaller ``reducing_gap``, the faster resizing.</span></div>
<div class="line"><span class="lineno"> 2117</span><span class="stringliteral">           With ``reducing_gap`` greater or equal to 3.0, the result is</span></div>
<div class="line"><span class="lineno"> 2118</span><span class="stringliteral">           indistinguishable from fair resampling in most cases.</span></div>
<div class="line"><span class="lineno"> 2119</span><span class="stringliteral">           The default value is None (no optimization).</span></div>
<div class="line"><span class="lineno"> 2120</span><span class="stringliteral">        :returns: An :py:class:`~PIL.Image.Image` object.</span></div>
<div class="line"><span class="lineno"> 2121</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2122</span> </div>
<div class="line"><span class="lineno"> 2123</span>        <span class="keywordflow">if</span> resample <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2124</span>            type_special = <span class="stringliteral">&quot;;&quot;</span> <span class="keywordflow">in</span> self.mode</div>
<div class="line"><span class="lineno"> 2125</span>            resample = Resampling.NEAREST <span class="keywordflow">if</span> type_special <span class="keywordflow">else</span> Resampling.BICUBIC</div>
<div class="line"><span class="lineno"> 2126</span>        <span class="keywordflow">elif</span> resample <span class="keywordflow">not</span> <span class="keywordflow">in</span> (</div>
<div class="line"><span class="lineno"> 2127</span>            Resampling.NEAREST,</div>
<div class="line"><span class="lineno"> 2128</span>            Resampling.BILINEAR,</div>
<div class="line"><span class="lineno"> 2129</span>            Resampling.BICUBIC,</div>
<div class="line"><span class="lineno"> 2130</span>            Resampling.LANCZOS,</div>
<div class="line"><span class="lineno"> 2131</span>            Resampling.BOX,</div>
<div class="line"><span class="lineno"> 2132</span>            Resampling.HAMMING,</div>
<div class="line"><span class="lineno"> 2133</span>        ):</div>
<div class="line"><span class="lineno"> 2134</span>            msg = f<span class="stringliteral">&quot;Unknown resampling filter ({resample}).&quot;</span></div>
<div class="line"><span class="lineno"> 2135</span> </div>
<div class="line"><span class="lineno"> 2136</span>            filters = [</div>
<div class="line"><span class="lineno"> 2137</span>                f<span class="stringliteral">&quot;{filter[1]} ({filter[0]})&quot;</span></div>
<div class="line"><span class="lineno"> 2138</span>                <span class="keywordflow">for</span> filter <span class="keywordflow">in</span> (</div>
<div class="line"><span class="lineno"> 2139</span>                    (Resampling.NEAREST, <span class="stringliteral">&quot;Image.Resampling.NEAREST&quot;</span>),</div>
<div class="line"><span class="lineno"> 2140</span>                    (Resampling.LANCZOS, <span class="stringliteral">&quot;Image.Resampling.LANCZOS&quot;</span>),</div>
<div class="line"><span class="lineno"> 2141</span>                    (Resampling.BILINEAR, <span class="stringliteral">&quot;Image.Resampling.BILINEAR&quot;</span>),</div>
<div class="line"><span class="lineno"> 2142</span>                    (Resampling.BICUBIC, <span class="stringliteral">&quot;Image.Resampling.BICUBIC&quot;</span>),</div>
<div class="line"><span class="lineno"> 2143</span>                    (Resampling.BOX, <span class="stringliteral">&quot;Image.Resampling.BOX&quot;</span>),</div>
<div class="line"><span class="lineno"> 2144</span>                    (Resampling.HAMMING, <span class="stringliteral">&quot;Image.Resampling.HAMMING&quot;</span>),</div>
<div class="line"><span class="lineno"> 2145</span>                )</div>
<div class="line"><span class="lineno"> 2146</span>            ]</div>
<div class="line"><span class="lineno"> 2147</span>            msg += <span class="stringliteral">&quot; Use &quot;</span> + <span class="stringliteral">&quot;, &quot;</span>.join(filters[:-1]) + <span class="stringliteral">&quot; or &quot;</span> + filters[-1]</div>
<div class="line"><span class="lineno"> 2148</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 2149</span> </div>
<div class="line"><span class="lineno"> 2150</span>        <span class="keywordflow">if</span> reducing_gap <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> reducing_gap &lt; 1.0:</div>
<div class="line"><span class="lineno"> 2151</span>            msg = <span class="stringliteral">&quot;reducing_gap must be 1.0 or greater&quot;</span></div>
<div class="line"><span class="lineno"> 2152</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 2153</span> </div>
<div class="line"><span class="lineno"> 2154</span>        size = tuple(size)</div>
<div class="line"><span class="lineno"> 2155</span> </div>
<div class="line"><span class="lineno"> 2156</span>        self.load()</div>
<div class="line"><span class="lineno"> 2157</span>        <span class="keywordflow">if</span> box <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2158</span>            box = (0, 0) + self.size</div>
<div class="line"><span class="lineno"> 2159</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2160</span>            box = tuple(box)</div>
<div class="line"><span class="lineno"> 2161</span> </div>
<div class="line"><span class="lineno"> 2162</span>        <span class="keywordflow">if</span> self.size == size <span class="keywordflow">and</span> box == (0, 0) + self.size:</div>
<div class="line"><span class="lineno"> 2163</span>            <span class="keywordflow">return</span> self.copy()</div>
<div class="line"><span class="lineno"> 2164</span> </div>
<div class="line"><span class="lineno"> 2165</span>        <span class="keywordflow">if</span> self.mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;1&quot;</span>, <span class="stringliteral">&quot;P&quot;</span>):</div>
<div class="line"><span class="lineno"> 2166</span>            resample = Resampling.NEAREST</div>
<div class="line"><span class="lineno"> 2167</span> </div>
<div class="line"><span class="lineno"> 2168</span>        <span class="keywordflow">if</span> self.mode <span class="keywordflow">in</span> [<span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>] <span class="keywordflow">and</span> resample != Resampling.NEAREST:</div>
<div class="line"><span class="lineno"> 2169</span>            im = self.convert({<span class="stringliteral">&quot;LA&quot;</span>: <span class="stringliteral">&quot;La&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>: <span class="stringliteral">&quot;RGBa&quot;</span>}[self.mode])</div>
<div class="line"><span class="lineno"> 2170</span>            im = im.resize(size, resample, box)</div>
<div class="line"><span class="lineno"> 2171</span>            <span class="keywordflow">return</span> im.convert(self.mode)</div>
<div class="line"><span class="lineno"> 2172</span> </div>
<div class="line"><span class="lineno"> 2173</span>        self.load()</div>
<div class="line"><span class="lineno"> 2174</span> </div>
<div class="line"><span class="lineno"> 2175</span>        <span class="keywordflow">if</span> reducing_gap <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> resample != Resampling.NEAREST:</div>
<div class="line"><span class="lineno"> 2176</span>            factor_x = int((box[2] - box[0]) / size[0] / reducing_gap) <span class="keywordflow">or</span> 1</div>
<div class="line"><span class="lineno"> 2177</span>            factor_y = int((box[3] - box[1]) / size[1] / reducing_gap) <span class="keywordflow">or</span> 1</div>
<div class="line"><span class="lineno"> 2178</span>            <span class="keywordflow">if</span> factor_x &gt; 1 <span class="keywordflow">or</span> factor_y &gt; 1:</div>
<div class="line"><span class="lineno"> 2179</span>                reduce_box = self._get_safe_box(size, resample, box)</div>
<div class="line"><span class="lineno"> 2180</span>                factor = (factor_x, factor_y)</div>
<div class="line"><span class="lineno"> 2181</span>                <span class="keywordflow">if</span> callable(self.reduce):</div>
<div class="line"><span class="lineno"> 2182</span>                    self = self.reduce(factor, box=reduce_box)</div>
<div class="line"><span class="lineno"> 2183</span>                <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2184</span>                    self = Image.reduce(self, factor, box=reduce_box)</div>
<div class="line"><span class="lineno"> 2185</span>                box = (</div>
<div class="line"><span class="lineno"> 2186</span>                    (box[0] - reduce_box[0]) / factor_x,</div>
<div class="line"><span class="lineno"> 2187</span>                    (box[1] - reduce_box[1]) / factor_y,</div>
<div class="line"><span class="lineno"> 2188</span>                    (box[2] - reduce_box[0]) / factor_x,</div>
<div class="line"><span class="lineno"> 2189</span>                    (box[3] - reduce_box[1]) / factor_y,</div>
<div class="line"><span class="lineno"> 2190</span>                )</div>
<div class="line"><span class="lineno"> 2191</span> </div>
<div class="line"><span class="lineno"> 2192</span>        <span class="keywordflow">return</span> self._new(self.im.resize(size, resample, box))</div>
<div class="line"><span class="lineno"> 2193</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="adbd6f33ca75ce0d22bbe10d2ffbc84a8" name="adbd6f33ca75ce0d22bbe10d2ffbc84a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbd6f33ca75ce0d22bbe10d2ffbc84a8">&#9670;&#160;</a></span>rotate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.rotate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>angle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resample</em> = <code><a class="el" href="class_p_i_l_1_1_image_1_1_resampling.html#a11ea60e2485f0e8a35fc5561bca9b390">Resampling.NEAREST</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>expand</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>center</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>translate</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fillcolor</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a rotated copy of this image.  This method returns a
copy of this image, rotated the given number of degrees counter
clockwise around its centre.

:param angle: In degrees counter clockwise.
:param resample: An optional resampling filter.  This can be
   one of :py:data:`Resampling.NEAREST` (use nearest neighbour),
   :py:data:`Resampling.BILINEAR` (linear interpolation in a 2x2
   environment), or :py:data:`Resampling.BICUBIC` (cubic spline
   interpolation in a 4x4 environment). If omitted, or if the image has
   mode "1" or "P", it is set to :py:data:`Resampling.NEAREST`.
   See :ref:`concept-filters`.
:param expand: Optional expansion flag.  If true, expands the output
   image to make it large enough to hold the entire rotated image.
   If false or omitted, make the output image the same size as the
   input image.  Note that the expand flag assumes rotation around
   the center and no translation.
:param center: Optional center of rotation (a 2-tuple).  Origin is
   the upper left corner.  Default is the center of the image.
:param translate: An optional post-rotate translation (a 2-tuple).
:param fillcolor: An optional color for area outside the rotated image.
:returns: An :py:class:`~PIL.Image.Image` object.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2235</span>    ):</div>
<div class="line"><span class="lineno"> 2236</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2237</span><span class="stringliteral">        Returns a rotated copy of this image.  This method returns a</span></div>
<div class="line"><span class="lineno"> 2238</span><span class="stringliteral">        copy of this image, rotated the given number of degrees counter</span></div>
<div class="line"><span class="lineno"> 2239</span><span class="stringliteral">        clockwise around its centre.</span></div>
<div class="line"><span class="lineno"> 2240</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2241</span><span class="stringliteral">        :param angle: In degrees counter clockwise.</span></div>
<div class="line"><span class="lineno"> 2242</span><span class="stringliteral">        :param resample: An optional resampling filter.  This can be</span></div>
<div class="line"><span class="lineno"> 2243</span><span class="stringliteral">           one of :py:data:`Resampling.NEAREST` (use nearest neighbour),</span></div>
<div class="line"><span class="lineno"> 2244</span><span class="stringliteral">           :py:data:`Resampling.BILINEAR` (linear interpolation in a 2x2</span></div>
<div class="line"><span class="lineno"> 2245</span><span class="stringliteral">           environment), or :py:data:`Resampling.BICUBIC` (cubic spline</span></div>
<div class="line"><span class="lineno"> 2246</span><span class="stringliteral">           interpolation in a 4x4 environment). If omitted, or if the image has</span></div>
<div class="line"><span class="lineno"> 2247</span><span class="stringliteral">           mode &quot;1&quot; or &quot;P&quot;, it is set to :py:data:`Resampling.NEAREST`.</span></div>
<div class="line"><span class="lineno"> 2248</span><span class="stringliteral">           See :ref:`concept-filters`.</span></div>
<div class="line"><span class="lineno"> 2249</span><span class="stringliteral">        :param expand: Optional expansion flag.  If true, expands the output</span></div>
<div class="line"><span class="lineno"> 2250</span><span class="stringliteral">           image to make it large enough to hold the entire rotated image.</span></div>
<div class="line"><span class="lineno"> 2251</span><span class="stringliteral">           If false or omitted, make the output image the same size as the</span></div>
<div class="line"><span class="lineno"> 2252</span><span class="stringliteral">           input image.  Note that the expand flag assumes rotation around</span></div>
<div class="line"><span class="lineno"> 2253</span><span class="stringliteral">           the center and no translation.</span></div>
<div class="line"><span class="lineno"> 2254</span><span class="stringliteral">        :param center: Optional center of rotation (a 2-tuple).  Origin is</span></div>
<div class="line"><span class="lineno"> 2255</span><span class="stringliteral">           the upper left corner.  Default is the center of the image.</span></div>
<div class="line"><span class="lineno"> 2256</span><span class="stringliteral">        :param translate: An optional post-rotate translation (a 2-tuple).</span></div>
<div class="line"><span class="lineno"> 2257</span><span class="stringliteral">        :param fillcolor: An optional color for area outside the rotated image.</span></div>
<div class="line"><span class="lineno"> 2258</span><span class="stringliteral">        :returns: An :py:class:`~PIL.Image.Image` object.</span></div>
<div class="line"><span class="lineno"> 2259</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2260</span> </div>
<div class="line"><span class="lineno"> 2261</span>        angle = angle % 360.0</div>
<div class="line"><span class="lineno"> 2262</span> </div>
<div class="line"><span class="lineno"> 2263</span>        <span class="comment"># Fast paths regardless of filter, as long as we&#39;re not</span></div>
<div class="line"><span class="lineno"> 2264</span>        <span class="comment"># translating or changing the center.</span></div>
<div class="line"><span class="lineno"> 2265</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> (center <span class="keywordflow">or</span> translate):</div>
<div class="line"><span class="lineno"> 2266</span>            <span class="keywordflow">if</span> angle == 0:</div>
<div class="line"><span class="lineno"> 2267</span>                <span class="keywordflow">return</span> self.copy()</div>
<div class="line"><span class="lineno"> 2268</span>            <span class="keywordflow">if</span> angle == 180:</div>
<div class="line"><span class="lineno"> 2269</span>                <span class="keywordflow">return</span> self.transpose(Transpose.ROTATE_180)</div>
<div class="line"><span class="lineno"> 2270</span>            <span class="keywordflow">if</span> angle <span class="keywordflow">in</span> (90, 270) <span class="keywordflow">and</span> (expand <span class="keywordflow">or</span> self.width == self.height):</div>
<div class="line"><span class="lineno"> 2271</span>                <span class="keywordflow">return</span> self.transpose(</div>
<div class="line"><span class="lineno"> 2272</span>                    Transpose.ROTATE_90 <span class="keywordflow">if</span> angle == 90 <span class="keywordflow">else</span> Transpose.ROTATE_270</div>
<div class="line"><span class="lineno"> 2273</span>                )</div>
<div class="line"><span class="lineno"> 2274</span> </div>
<div class="line"><span class="lineno"> 2275</span>        <span class="comment"># Calculate the affine matrix.  Note that this is the reverse</span></div>
<div class="line"><span class="lineno"> 2276</span>        <span class="comment"># transformation (from destination image to source) because we</span></div>
<div class="line"><span class="lineno"> 2277</span>        <span class="comment"># want to interpolate the (discrete) destination pixel from</span></div>
<div class="line"><span class="lineno"> 2278</span>        <span class="comment"># the local area around the (floating) source pixel.</span></div>
<div class="line"><span class="lineno"> 2279</span> </div>
<div class="line"><span class="lineno"> 2280</span>        <span class="comment"># The matrix we actually want (note that it operates from the right):</span></div>
<div class="line"><span class="lineno"> 2281</span>        <span class="comment"># (1, 0, tx)   (1, 0, cx)   ( cos a, sin a, 0)   (1, 0, -cx)</span></div>
<div class="line"><span class="lineno"> 2282</span>        <span class="comment"># (0, 1, ty) * (0, 1, cy) * (-sin a, cos a, 0) * (0, 1, -cy)</span></div>
<div class="line"><span class="lineno"> 2283</span>        <span class="comment"># (0, 0,  1)   (0, 0,  1)   (     0,     0, 1)   (0, 0,   1)</span></div>
<div class="line"><span class="lineno"> 2284</span> </div>
<div class="line"><span class="lineno"> 2285</span>        <span class="comment"># The reverse matrix is thus:</span></div>
<div class="line"><span class="lineno"> 2286</span>        <span class="comment"># (1, 0, cx)   ( cos -a, sin -a, 0)   (1, 0, -cx)   (1, 0, -tx)</span></div>
<div class="line"><span class="lineno"> 2287</span>        <span class="comment"># (0, 1, cy) * (-sin -a, cos -a, 0) * (0, 1, -cy) * (0, 1, -ty)</span></div>
<div class="line"><span class="lineno"> 2288</span>        <span class="comment"># (0, 0,  1)   (      0,      0, 1)   (0, 0,   1)   (0, 0,   1)</span></div>
<div class="line"><span class="lineno"> 2289</span> </div>
<div class="line"><span class="lineno"> 2290</span>        <span class="comment"># In any case, the final translation may be updated at the end to</span></div>
<div class="line"><span class="lineno"> 2291</span>        <span class="comment"># compensate for the expand flag.</span></div>
<div class="line"><span class="lineno"> 2292</span> </div>
<div class="line"><span class="lineno"> 2293</span>        w, h = self.size</div>
<div class="line"><span class="lineno"> 2294</span> </div>
<div class="line"><span class="lineno"> 2295</span>        <span class="keywordflow">if</span> translate <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2296</span>            post_trans = (0, 0)</div>
<div class="line"><span class="lineno"> 2297</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2298</span>            post_trans = translate</div>
<div class="line"><span class="lineno"> 2299</span>        <span class="keywordflow">if</span> center <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2300</span>            <span class="comment"># FIXME These should be rounded to ints?</span></div>
<div class="line"><span class="lineno"> 2301</span>            rotn_center = (w / 2.0, h / 2.0)</div>
<div class="line"><span class="lineno"> 2302</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2303</span>            rotn_center = center</div>
<div class="line"><span class="lineno"> 2304</span> </div>
<div class="line"><span class="lineno"> 2305</span>        angle = -math.radians(angle)</div>
<div class="line"><span class="lineno"> 2306</span>        matrix = [</div>
<div class="line"><span class="lineno"> 2307</span>            round(math.cos(angle), 15),</div>
<div class="line"><span class="lineno"> 2308</span>            round(math.sin(angle), 15),</div>
<div class="line"><span class="lineno"> 2309</span>            0.0,</div>
<div class="line"><span class="lineno"> 2310</span>            round(-math.sin(angle), 15),</div>
<div class="line"><span class="lineno"> 2311</span>            round(math.cos(angle), 15),</div>
<div class="line"><span class="lineno"> 2312</span>            0.0,</div>
<div class="line"><span class="lineno"> 2313</span>        ]</div>
<div class="line"><span class="lineno"> 2314</span> </div>
<div class="line"><span class="lineno"> 2315</span>        <span class="keyword">def </span>transform(x, y, matrix):</div>
<div class="line"><span class="lineno"> 2316</span>            (a, b, c, d, e, f) = matrix</div>
<div class="line"><span class="lineno"> 2317</span>            <span class="keywordflow">return</span> a * x + b * y + c, d * x + e * y + f</div>
<div class="line"><span class="lineno"> 2318</span> </div>
<div class="line"><span class="lineno"> 2319</span>        matrix[2], matrix[5] = transform(</div>
<div class="line"><span class="lineno"> 2320</span>            -rotn_center[0] - post_trans[0], -rotn_center[1] - post_trans[1], matrix</div>
<div class="line"><span class="lineno"> 2321</span>        )</div>
<div class="line"><span class="lineno"> 2322</span>        matrix[2] += rotn_center[0]</div>
<div class="line"><span class="lineno"> 2323</span>        matrix[5] += rotn_center[1]</div>
<div class="line"><span class="lineno"> 2324</span> </div>
<div class="line"><span class="lineno"> 2325</span>        <span class="keywordflow">if</span> expand:</div>
<div class="line"><span class="lineno"> 2326</span>            <span class="comment"># calculate output size</span></div>
<div class="line"><span class="lineno"> 2327</span>            xx = []</div>
<div class="line"><span class="lineno"> 2328</span>            yy = []</div>
<div class="line"><span class="lineno"> 2329</span>            <span class="keywordflow">for</span> x, y <span class="keywordflow">in</span> ((0, 0), (w, 0), (w, h), (0, h)):</div>
<div class="line"><span class="lineno"> 2330</span>                x, y = transform(x, y, matrix)</div>
<div class="line"><span class="lineno"> 2331</span>                xx.append(x)</div>
<div class="line"><span class="lineno"> 2332</span>                yy.append(y)</div>
<div class="line"><span class="lineno"> 2333</span>            nw = math.ceil(max(xx)) - math.floor(min(xx))</div>
<div class="line"><span class="lineno"> 2334</span>            nh = math.ceil(max(yy)) - math.floor(min(yy))</div>
<div class="line"><span class="lineno"> 2335</span> </div>
<div class="line"><span class="lineno"> 2336</span>            <span class="comment"># We multiply a translation matrix from the right.  Because of its</span></div>
<div class="line"><span class="lineno"> 2337</span>            <span class="comment"># special form, this is the same as taking the image of the</span></div>
<div class="line"><span class="lineno"> 2338</span>            <span class="comment"># translation vector as new translation vector.</span></div>
<div class="line"><span class="lineno"> 2339</span>            matrix[2], matrix[5] = transform(-(nw - w) / 2.0, -(nh - h) / 2.0, matrix)</div>
<div class="line"><span class="lineno"> 2340</span>            w, h = nw, nh</div>
<div class="line"><span class="lineno"> 2341</span> </div>
<div class="line"><span class="lineno"> 2342</span>        <span class="keywordflow">return</span> self.transform(</div>
<div class="line"><span class="lineno"> 2343</span>            (w, h), Transform.AFFINE, matrix, resample, fillcolor=fillcolor</div>
<div class="line"><span class="lineno"> 2344</span>        )</div>
<div class="line"><span class="lineno"> 2345</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aad9bda9e7c591e790ff3ebb3d50bd967" name="aad9bda9e7c591e790ff3ebb3d50bd967"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad9bda9e7c591e790ff3ebb3d50bd967">&#9670;&#160;</a></span>save()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.save </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>format</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Saves this image under the given filename.  If no format is
specified, the format to use is determined from the filename
extension, if possible.

Keyword options can be used to provide additional instructions
to the writer. If a writer doesn't recognise an option, it is
silently ignored. The available options are described in the
:doc:`image format documentation
&lt;../handbook/image-file-formats&gt;` for each writer.

You can use a file object instead of a filename. In this case,
you must always specify the format. The file object must
implement the ``seek``, ``tell``, and ``write``
methods, and be opened in binary mode.

:param fp: A filename (string), pathlib.Path object or file object.
:param format: Optional format override.  If omitted, the
   format to use is determined from the filename extension.
   If a file object was used instead of a filename, this
   parameter should always be used.
:param params: Extra parameters to the image writer.
:returns: None
:exception ValueError: If the output format could not be determined
   from the file name.  Use the format option to solve this.
:exception OSError: If the file could not be written.  The file
   may have been created, and may contain partial data.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2346</span>    <span class="keyword">def </span>save(self, fp, format=None, **params):</div>
<div class="line"><span class="lineno"> 2347</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2348</span><span class="stringliteral">        Saves this image under the given filename.  If no format is</span></div>
<div class="line"><span class="lineno"> 2349</span><span class="stringliteral">        specified, the format to use is determined from the filename</span></div>
<div class="line"><span class="lineno"> 2350</span><span class="stringliteral">        extension, if possible.</span></div>
<div class="line"><span class="lineno"> 2351</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2352</span><span class="stringliteral">        Keyword options can be used to provide additional instructions</span></div>
<div class="line"><span class="lineno"> 2353</span><span class="stringliteral">        to the writer. If a writer doesn&#39;t recognise an option, it is</span></div>
<div class="line"><span class="lineno"> 2354</span><span class="stringliteral">        silently ignored. The available options are described in the</span></div>
<div class="line"><span class="lineno"> 2355</span><span class="stringliteral">        :doc:`image format documentation</span></div>
<div class="line"><span class="lineno"> 2356</span><span class="stringliteral">        &lt;../handbook/image-file-formats&gt;` for each writer.</span></div>
<div class="line"><span class="lineno"> 2357</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2358</span><span class="stringliteral">        You can use a file object instead of a filename. In this case,</span></div>
<div class="line"><span class="lineno"> 2359</span><span class="stringliteral">        you must always specify the format. The file object must</span></div>
<div class="line"><span class="lineno"> 2360</span><span class="stringliteral">        implement the ``seek``, ``tell``, and ``write``</span></div>
<div class="line"><span class="lineno"> 2361</span><span class="stringliteral">        methods, and be opened in binary mode.</span></div>
<div class="line"><span class="lineno"> 2362</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2363</span><span class="stringliteral">        :param fp: A filename (string), pathlib.Path object or file object.</span></div>
<div class="line"><span class="lineno"> 2364</span><span class="stringliteral">        :param format: Optional format override.  If omitted, the</span></div>
<div class="line"><span class="lineno"> 2365</span><span class="stringliteral">           format to use is determined from the filename extension.</span></div>
<div class="line"><span class="lineno"> 2366</span><span class="stringliteral">           If a file object was used instead of a filename, this</span></div>
<div class="line"><span class="lineno"> 2367</span><span class="stringliteral">           parameter should always be used.</span></div>
<div class="line"><span class="lineno"> 2368</span><span class="stringliteral">        :param params: Extra parameters to the image writer.</span></div>
<div class="line"><span class="lineno"> 2369</span><span class="stringliteral">        :returns: None</span></div>
<div class="line"><span class="lineno"> 2370</span><span class="stringliteral">        :exception ValueError: If the output format could not be determined</span></div>
<div class="line"><span class="lineno"> 2371</span><span class="stringliteral">           from the file name.  Use the format option to solve this.</span></div>
<div class="line"><span class="lineno"> 2372</span><span class="stringliteral">        :exception OSError: If the file could not be written.  The file</span></div>
<div class="line"><span class="lineno"> 2373</span><span class="stringliteral">           may have been created, and may contain partial data.</span></div>
<div class="line"><span class="lineno"> 2374</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2375</span> </div>
<div class="line"><span class="lineno"> 2376</span>        filename = <span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2377</span>        open_fp = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2378</span>        <span class="keywordflow">if</span> isinstance(fp, Path):</div>
<div class="line"><span class="lineno"> 2379</span>            filename = str(fp)</div>
<div class="line"><span class="lineno"> 2380</span>            open_fp = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2381</span>        <span class="keywordflow">elif</span> is_path(fp):</div>
<div class="line"><span class="lineno"> 2382</span>            filename = fp</div>
<div class="line"><span class="lineno"> 2383</span>            open_fp = <span class="keyword">True</span></div>
<div class="line"><span class="lineno"> 2384</span>        <span class="keywordflow">elif</span> fp == sys.stdout:</div>
<div class="line"><span class="lineno"> 2385</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2386</span>                fp = sys.stdout.buffer</div>
<div class="line"><span class="lineno"> 2387</span>            <span class="keywordflow">except</span> AttributeError:</div>
<div class="line"><span class="lineno"> 2388</span>                <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 2389</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> filename <span class="keywordflow">and</span> hasattr(fp, <span class="stringliteral">&quot;name&quot;</span>) <span class="keywordflow">and</span> is_path(fp.name):</div>
<div class="line"><span class="lineno"> 2390</span>            <span class="comment"># only set the name for metadata purposes</span></div>
<div class="line"><span class="lineno"> 2391</span>            filename = fp.name</div>
<div class="line"><span class="lineno"> 2392</span> </div>
<div class="line"><span class="lineno"> 2393</span>        <span class="comment"># may mutate self!</span></div>
<div class="line"><span class="lineno"> 2394</span>        self._ensure_mutable()</div>
<div class="line"><span class="lineno"> 2395</span> </div>
<div class="line"><span class="lineno"> 2396</span>        save_all = params.pop(<span class="stringliteral">&quot;save_all&quot;</span>, <span class="keyword">False</span>)</div>
<div class="line"><span class="lineno"> 2397</span>        self.encoderinfo = params</div>
<div class="line"><span class="lineno"> 2398</span>        self.encoderconfig = ()</div>
<div class="line"><span class="lineno"> 2399</span> </div>
<div class="line"><span class="lineno"> 2400</span>        preinit()</div>
<div class="line"><span class="lineno"> 2401</span> </div>
<div class="line"><span class="lineno"> 2402</span>        ext = os.path.splitext(filename)[1].lower()</div>
<div class="line"><span class="lineno"> 2403</span> </div>
<div class="line"><span class="lineno"> 2404</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> format:</div>
<div class="line"><span class="lineno"> 2405</span>            <span class="keywordflow">if</span> ext <span class="keywordflow">not</span> <span class="keywordflow">in</span> EXTENSION:</div>
<div class="line"><span class="lineno"> 2406</span>                init()</div>
<div class="line"><span class="lineno"> 2407</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2408</span>                format = EXTENSION[ext]</div>
<div class="line"><span class="lineno"> 2409</span>            <span class="keywordflow">except</span> KeyError <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno"> 2410</span>                msg = f<span class="stringliteral">&quot;unknown file extension: {ext}&quot;</span></div>
<div class="line"><span class="lineno"> 2411</span>                <span class="keywordflow">raise</span> ValueError(msg) <span class="keyword">from</span> e</div>
<div class="line"><span class="lineno"> 2412</span> </div>
<div class="line"><span class="lineno"> 2413</span>        <span class="keywordflow">if</span> format.upper() <span class="keywordflow">not</span> <span class="keywordflow">in</span> SAVE:</div>
<div class="line"><span class="lineno"> 2414</span>            init()</div>
<div class="line"><span class="lineno"> 2415</span>        <span class="keywordflow">if</span> save_all:</div>
<div class="line"><span class="lineno"> 2416</span>            save_handler = SAVE_ALL[format.upper()]</div>
<div class="line"><span class="lineno"> 2417</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2418</span>            save_handler = SAVE[format.upper()]</div>
<div class="line"><span class="lineno"> 2419</span> </div>
<div class="line"><span class="lineno"> 2420</span>        created = <span class="keyword">False</span></div>
<div class="line"><span class="lineno"> 2421</span>        <span class="keywordflow">if</span> open_fp:</div>
<div class="line"><span class="lineno"> 2422</span>            created = <span class="keywordflow">not</span> os.path.exists(filename)</div>
<div class="line"><span class="lineno"> 2423</span>            <span class="keywordflow">if</span> params.get(<span class="stringliteral">&quot;append&quot;</span>, <span class="keyword">False</span>):</div>
<div class="line"><span class="lineno"> 2424</span>                <span class="comment"># Open also for reading (&quot;+&quot;), because TIFF save_all</span></div>
<div class="line"><span class="lineno"> 2425</span>                <span class="comment"># writer needs to go back and edit the written data.</span></div>
<div class="line"><span class="lineno"> 2426</span>                fp = builtins.open(filename, <span class="stringliteral">&quot;r+b&quot;</span>)</div>
<div class="line"><span class="lineno"> 2427</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2428</span>                fp = builtins.open(filename, <span class="stringliteral">&quot;w+b&quot;</span>)</div>
<div class="line"><span class="lineno"> 2429</span> </div>
<div class="line"><span class="lineno"> 2430</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2431</span>            save_handler(self, fp, filename)</div>
<div class="line"><span class="lineno"> 2432</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno"> 2433</span>            <span class="keywordflow">if</span> open_fp:</div>
<div class="line"><span class="lineno"> 2434</span>                fp.close()</div>
<div class="line"><span class="lineno"> 2435</span>            <span class="keywordflow">if</span> created:</div>
<div class="line"><span class="lineno"> 2436</span>                <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2437</span>                    os.remove(filename)</div>
<div class="line"><span class="lineno"> 2438</span>                <span class="keywordflow">except</span> PermissionError:</div>
<div class="line"><span class="lineno"> 2439</span>                    <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno"> 2440</span>            <span class="keywordflow">raise</span></div>
<div class="line"><span class="lineno"> 2441</span>        <span class="keywordflow">if</span> open_fp:</div>
<div class="line"><span class="lineno"> 2442</span>            fp.close()</div>
<div class="line"><span class="lineno"> 2443</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2ff769835339526c7e5742ceea53503" name="aa2ff769835339526c7e5742ceea53503"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2ff769835339526c7e5742ceea53503">&#9670;&#160;</a></span>seek()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.seek </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Seeks to the given frame in this sequence file. If you seek
beyond the end of the sequence, the method raises an
``EOFError`` exception. When a sequence file is opened, the
library automatically seeks to frame 0.

See :py:meth:`~PIL.Image.Image.tell`.

If defined, :attr:`~PIL.Image.Image.n_frames` refers to the
number of available frames.

:param frame: Frame number, starting at 0.
:exception EOFError: If the call attempts to seek beyond the end
    of the sequence.
</pre> 
<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_dcx_image_plugin_1_1_dcx_image_file.html#a06924b7cae07074d107275a7fd09735b">PIL.DcxImagePlugin.DcxImageFile</a>, <a class="el" href="class_p_i_l_1_1_fli_image_plugin_1_1_fli_image_file.html#a8f33e10b236bb42e37999e0d66a74c90">PIL.FliImagePlugin.FliImageFile</a>, <a class="el" href="class_p_i_l_1_1_gif_image_plugin_1_1_gif_image_file.html#ad42441e59575a88cd019e8199546be28">PIL.GifImagePlugin.GifImageFile</a>, <a class="el" href="class_p_i_l_1_1_im_image_plugin_1_1_im_image_file.html#a6bcbf21152b7f8c02747a99e15781730">PIL.ImImagePlugin.ImImageFile</a>, <a class="el" href="class_p_i_l_1_1_mic_image_plugin_1_1_mic_image_file.html#ad47d48249a50de1b1c1b6fc551601414">PIL.MicImagePlugin.MicImageFile</a>, <a class="el" href="class_p_i_l_1_1_mpo_image_plugin_1_1_mpo_image_file.html#aa193919245744806912d028c454788fd">PIL.MpoImagePlugin.MpoImageFile</a>, <a class="el" href="class_p_i_l_1_1_png_image_plugin_1_1_png_image_file.html#aac41b22a4624644efb5b28c381ace57c">PIL.PngImagePlugin.PngImageFile</a>, <a class="el" href="class_p_i_l_1_1_spider_image_plugin_1_1_spider_image_file.html#af67f10926ea02762c739883384ae1e8e">PIL.SpiderImagePlugin.SpiderImageFile</a>, <a class="el" href="class_p_i_l_1_1_tiff_image_plugin_1_1_tiff_image_file.html#a3aec3367675efac5fb3fd2e32a653b75">PIL.TiffImagePlugin.TiffImageFile</a>, <a class="el" href="class_p_i_l_1_1_web_p_image_plugin_1_1_web_p_image_file.html#a1df49310ff52b5872a21c78e206b54bf">PIL.WebPImagePlugin.WebPImageFile</a>, and <a class="el" href="class_p_i_l_1_1_psd_image_plugin_1_1_psd_image_file.html#a3777695c62930def3d70eb5f1e3e22a9">PIL.PsdImagePlugin.PsdImageFile</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2444</span>    <span class="keyword">def </span>seek(self, frame):</div>
<div class="line"><span class="lineno"> 2445</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2446</span><span class="stringliteral">        Seeks to the given frame in this sequence file. If you seek</span></div>
<div class="line"><span class="lineno"> 2447</span><span class="stringliteral">        beyond the end of the sequence, the method raises an</span></div>
<div class="line"><span class="lineno"> 2448</span><span class="stringliteral">        ``EOFError`` exception. When a sequence file is opened, the</span></div>
<div class="line"><span class="lineno"> 2449</span><span class="stringliteral">        library automatically seeks to frame 0.</span></div>
<div class="line"><span class="lineno"> 2450</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2451</span><span class="stringliteral">        See :py:meth:`~PIL.Image.Image.tell`.</span></div>
<div class="line"><span class="lineno"> 2452</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2453</span><span class="stringliteral">        If defined, :attr:`~PIL.Image.Image.n_frames` refers to the</span></div>
<div class="line"><span class="lineno"> 2454</span><span class="stringliteral">        number of available frames.</span></div>
<div class="line"><span class="lineno"> 2455</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2456</span><span class="stringliteral">        :param frame: Frame number, starting at 0.</span></div>
<div class="line"><span class="lineno"> 2457</span><span class="stringliteral">        :exception EOFError: If the call attempts to seek beyond the end</span></div>
<div class="line"><span class="lineno"> 2458</span><span class="stringliteral">            of the sequence.</span></div>
<div class="line"><span class="lineno"> 2459</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2460</span> </div>
<div class="line"><span class="lineno"> 2461</span>        <span class="comment"># overridden by file handlers</span></div>
<div class="line"><span class="lineno"> 2462</span>        <span class="keywordflow">if</span> frame != 0:</div>
<div class="line"><span class="lineno"> 2463</span>            <span class="keywordflow">raise</span> EOFError</div>
<div class="line"><span class="lineno"> 2464</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="abe70a5f8f2d2a14ef985788a6aa2ba2a" name="abe70a5f8f2d2a14ef985788a6aa2ba2a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abe70a5f8f2d2a14ef985788a6aa2ba2a">&#9670;&#160;</a></span>show()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.show </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>title</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Displays this image. This method is mainly intended for debugging purposes.

This method calls :py:func:`PIL.ImageShow.show` internally. You can use
:py:func:`PIL.ImageShow.register` to override its default behaviour.

The image is first saved to a temporary file. By default, it will be in
PNG format.

On Unix, the image is then opened using the **display**, **eog** or
**xv** utility, depending on which one can be found.

On macOS, the image is opened with the native Preview application.

On Windows, the image is opened with the standard PNG display utility.

:param title: Optional title to use for the image window, where possible.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2465</span>    <span class="keyword">def </span>show(self, title=None):</div>
<div class="line"><span class="lineno"> 2466</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2467</span><span class="stringliteral">        Displays this image. This method is mainly intended for debugging purposes.</span></div>
<div class="line"><span class="lineno"> 2468</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2469</span><span class="stringliteral">        This method calls :py:func:`PIL.ImageShow.show` internally. You can use</span></div>
<div class="line"><span class="lineno"> 2470</span><span class="stringliteral">        :py:func:`PIL.ImageShow.register` to override its default behaviour.</span></div>
<div class="line"><span class="lineno"> 2471</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2472</span><span class="stringliteral">        The image is first saved to a temporary file. By default, it will be in</span></div>
<div class="line"><span class="lineno"> 2473</span><span class="stringliteral">        PNG format.</span></div>
<div class="line"><span class="lineno"> 2474</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2475</span><span class="stringliteral">        On Unix, the image is then opened using the **display**, **eog** or</span></div>
<div class="line"><span class="lineno"> 2476</span><span class="stringliteral">        **xv** utility, depending on which one can be found.</span></div>
<div class="line"><span class="lineno"> 2477</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2478</span><span class="stringliteral">        On macOS, the image is opened with the native Preview application.</span></div>
<div class="line"><span class="lineno"> 2479</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2480</span><span class="stringliteral">        On Windows, the image is opened with the standard PNG display utility.</span></div>
<div class="line"><span class="lineno"> 2481</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2482</span><span class="stringliteral">        :param title: Optional title to use for the image window, where possible.</span></div>
<div class="line"><span class="lineno"> 2483</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2484</span> </div>
<div class="line"><span class="lineno"> 2485</span>        _show(self, title=title)</div>
<div class="line"><span class="lineno"> 2486</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aea1512bcd113e8677a280fe9179c7d0c" name="aea1512bcd113e8677a280fe9179c7d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea1512bcd113e8677a280fe9179c7d0c">&#9670;&#160;</a></span>size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.size </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_icns_image_plugin_1_1_icns_image_file.html#a732791a86a832a98880c7bc38b603ab0">PIL.IcnsImagePlugin.IcnsImageFile</a>, <a class="el" href="class_p_i_l_1_1_ico_image_plugin_1_1_ico_image_file.html#a00dd8eace7f9ba84d415f19f92e27601">PIL.IcoImagePlugin.IcoImageFile</a>, <a class="el" href="class_p_i_l_1_1_icns_image_plugin_1_1_icns_image_file.html#a6fd40e73b36746f632ca0903ec20d7d0">PIL.IcnsImagePlugin.IcnsImageFile</a>, and <a class="el" href="class_p_i_l_1_1_ico_image_plugin_1_1_ico_image_file.html#a37f9bb9fed603b5ac85323baec651263">PIL.IcoImagePlugin.IcoImageFile</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  540</span>    <span class="keyword">def </span>size(self):</div>
<div class="line"><span class="lineno">  541</span>        <span class="keywordflow">return</span> self._size</div>
<div class="line"><span class="lineno">  542</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="acc234079607691cf277a655a4f4f4301" name="acc234079607691cf277a655a4f4f4301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc234079607691cf277a655a4f4f4301">&#9670;&#160;</a></span>split()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.split </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Split this image into individual bands. This method returns a
tuple of individual image bands from an image. For example,
splitting an "RGB" image creates three new images each
containing a copy of one of the original bands (red, green,
blue).

If you need only one band, :py:meth:`~PIL.Image.Image.getchannel`
method can be more convenient and faster.

:returns: A tuple containing bands.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2487</span>    <span class="keyword">def </span>split(self):</div>
<div class="line"><span class="lineno"> 2488</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2489</span><span class="stringliteral">        Split this image into individual bands. This method returns a</span></div>
<div class="line"><span class="lineno"> 2490</span><span class="stringliteral">        tuple of individual image bands from an image. For example,</span></div>
<div class="line"><span class="lineno"> 2491</span><span class="stringliteral">        splitting an &quot;RGB&quot; image creates three new images each</span></div>
<div class="line"><span class="lineno"> 2492</span><span class="stringliteral">        containing a copy of one of the original bands (red, green,</span></div>
<div class="line"><span class="lineno"> 2493</span><span class="stringliteral">        blue).</span></div>
<div class="line"><span class="lineno"> 2494</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2495</span><span class="stringliteral">        If you need only one band, :py:meth:`~PIL.Image.Image.getchannel`</span></div>
<div class="line"><span class="lineno"> 2496</span><span class="stringliteral">        method can be more convenient and faster.</span></div>
<div class="line"><span class="lineno"> 2497</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2498</span><span class="stringliteral">        :returns: A tuple containing bands.</span></div>
<div class="line"><span class="lineno"> 2499</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2500</span> </div>
<div class="line"><span class="lineno"> 2501</span>        self.load()</div>
<div class="line"><span class="lineno"> 2502</span>        <span class="keywordflow">if</span> self.im.bands == 1:</div>
<div class="line"><span class="lineno"> 2503</span>            ims = [self.copy()]</div>
<div class="line"><span class="lineno"> 2504</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2505</span>            ims = map(self._new, self.im.split())</div>
<div class="line"><span class="lineno"> 2506</span>        <span class="keywordflow">return</span> tuple(ims)</div>
<div class="line"><span class="lineno"> 2507</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afb5796e78c8e653a5e124d210612ee81" name="afb5796e78c8e653a5e124d210612ee81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb5796e78c8e653a5e124d210612ee81">&#9670;&#160;</a></span>tell()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.tell </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the current frame number. See :py:meth:`~PIL.Image.Image.seek`.

If defined, :attr:`~PIL.Image.Image.n_frames` refers to the
number of available frames.

:returns: Frame number, starting with 0.
</pre> 
<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_dcx_image_plugin_1_1_dcx_image_file.html#a6a501ad89e93886a61da01a750380e5d">PIL.DcxImagePlugin.DcxImageFile</a>, <a class="el" href="class_p_i_l_1_1_fli_image_plugin_1_1_fli_image_file.html#a4bc3d227c532e0f380e9f8e9d252b74e">PIL.FliImagePlugin.FliImageFile</a>, <a class="el" href="class_p_i_l_1_1_gif_image_plugin_1_1_gif_image_file.html#aba086af7bf42db90c65791fbba24efd9">PIL.GifImagePlugin.GifImageFile</a>, <a class="el" href="class_p_i_l_1_1_im_image_plugin_1_1_im_image_file.html#ad5dad3b03e3338e201421f142b78b66d">PIL.ImImagePlugin.ImImageFile</a>, <a class="el" href="class_p_i_l_1_1_mic_image_plugin_1_1_mic_image_file.html#a94cf93d064997918cb383ed5d349ee70">PIL.MicImagePlugin.MicImageFile</a>, <a class="el" href="class_p_i_l_1_1_mpo_image_plugin_1_1_mpo_image_file.html#a59e9020732cf9de6cc82d9e834e485ef">PIL.MpoImagePlugin.MpoImageFile</a>, <a class="el" href="class_p_i_l_1_1_png_image_plugin_1_1_png_image_file.html#a3d8d38e353922b4af3c29a10dbc5d440">PIL.PngImagePlugin.PngImageFile</a>, <a class="el" href="class_p_i_l_1_1_psd_image_plugin_1_1_psd_image_file.html#aedfe3cf6d4229f29c4bd0ca14faaead4">PIL.PsdImagePlugin.PsdImageFile</a>, <a class="el" href="class_p_i_l_1_1_spider_image_plugin_1_1_spider_image_file.html#a288d0aa267c8cc4fa535cb2b1f597137">PIL.SpiderImagePlugin.SpiderImageFile</a>, <a class="el" href="class_p_i_l_1_1_tiff_image_plugin_1_1_tiff_image_file.html#a988c6bc4780324cc39b4f8519106a0c5">PIL.TiffImagePlugin.TiffImageFile</a>, and <a class="el" href="class_p_i_l_1_1_web_p_image_plugin_1_1_web_p_image_file.html#a0ce1ba10aa9100325a9bc5de007d5608">PIL.WebPImagePlugin.WebPImageFile</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 2530</span>    <span class="keyword">def </span>tell(self):</div>
<div class="line"><span class="lineno"> 2531</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2532</span><span class="stringliteral">        Returns the current frame number. See :py:meth:`~PIL.Image.Image.seek`.</span></div>
<div class="line"><span class="lineno"> 2533</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2534</span><span class="stringliteral">        If defined, :attr:`~PIL.Image.Image.n_frames` refers to the</span></div>
<div class="line"><span class="lineno"> 2535</span><span class="stringliteral">        number of available frames.</span></div>
<div class="line"><span class="lineno"> 2536</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2537</span><span class="stringliteral">        :returns: Frame number, starting with 0.</span></div>
<div class="line"><span class="lineno"> 2538</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2539</span>        <span class="keywordflow">return</span> 0</div>
<div class="line"><span class="lineno"> 2540</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b5dd2a79afe96bc1393c44f73743d5e" name="a3b5dd2a79afe96bc1393c44f73743d5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b5dd2a79afe96bc1393c44f73743d5e">&#9670;&#160;</a></span>thumbnail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.thumbnail </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resample</em> = <code><a class="el" href="class_p_i_l_1_1_image_1_1_resampling.html#a5c5419ce07472b391157b395a20a3c68">Resampling.BICUBIC</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reducing_gap</em> = <code>2.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Make this image into a thumbnail.  This method modifies the
image to contain a thumbnail version of itself, no larger than
the given size.  This method calculates an appropriate thumbnail
size to preserve the aspect of the image, calls the
:py:meth:`~PIL.Image.Image.draft` method to configure the file reader
(where applicable), and finally resizes the image.

Note that this function modifies the :py:class:`~PIL.Image.Image`
object in place.  If you need to use the full resolution image as well,
apply this method to a :py:meth:`~PIL.Image.Image.copy` of the original
image.

:param size: The requested size in pixels, as a 2-tuple:
   (width, height).
:param resample: Optional resampling filter.  This can be one
   of :py:data:`Resampling.NEAREST`, :py:data:`Resampling.BOX`,
   :py:data:`Resampling.BILINEAR`, :py:data:`Resampling.HAMMING`,
   :py:data:`Resampling.BICUBIC` or :py:data:`Resampling.LANCZOS`.
   If omitted, it defaults to :py:data:`Resampling.BICUBIC`.
   (was :py:data:`Resampling.NEAREST` prior to version 2.5.0).
   See: :ref:`concept-filters`.
:param reducing_gap: Apply optimization by resizing the image
   in two steps. First, reducing the image by integer times
   using :py:meth:`~PIL.Image.Image.reduce` or
   :py:meth:`~PIL.Image.Image.draft` for JPEG images.
   Second, resizing using regular resampling. The last step
   changes size no less than by ``reducing_gap`` times.
   ``reducing_gap`` may be None (no first step is performed)
   or should be greater than 1.0. The bigger ``reducing_gap``,
   the closer the result to the fair resampling.
   The smaller ``reducing_gap``, the faster resizing.
   With ``reducing_gap`` greater or equal to 3.0, the result is
   indistinguishable from fair resampling in most cases.
   The default value is 2.0 (very close to fair resampling
   while still being faster in many cases).
:returns: None
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2541</span>    <span class="keyword">def </span>thumbnail(self, size, resample=Resampling.BICUBIC, reducing_gap=2.0):</div>
<div class="line"><span class="lineno"> 2542</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2543</span><span class="stringliteral">        Make this image into a thumbnail.  This method modifies the</span></div>
<div class="line"><span class="lineno"> 2544</span><span class="stringliteral">        image to contain a thumbnail version of itself, no larger than</span></div>
<div class="line"><span class="lineno"> 2545</span><span class="stringliteral">        the given size.  This method calculates an appropriate thumbnail</span></div>
<div class="line"><span class="lineno"> 2546</span><span class="stringliteral">        size to preserve the aspect of the image, calls the</span></div>
<div class="line"><span class="lineno"> 2547</span><span class="stringliteral">        :py:meth:`~PIL.Image.Image.draft` method to configure the file reader</span></div>
<div class="line"><span class="lineno"> 2548</span><span class="stringliteral">        (where applicable), and finally resizes the image.</span></div>
<div class="line"><span class="lineno"> 2549</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2550</span><span class="stringliteral">        Note that this function modifies the :py:class:`~PIL.Image.Image`</span></div>
<div class="line"><span class="lineno"> 2551</span><span class="stringliteral">        object in place.  If you need to use the full resolution image as well,</span></div>
<div class="line"><span class="lineno"> 2552</span><span class="stringliteral">        apply this method to a :py:meth:`~PIL.Image.Image.copy` of the original</span></div>
<div class="line"><span class="lineno"> 2553</span><span class="stringliteral">        image.</span></div>
<div class="line"><span class="lineno"> 2554</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2555</span><span class="stringliteral">        :param size: The requested size in pixels, as a 2-tuple:</span></div>
<div class="line"><span class="lineno"> 2556</span><span class="stringliteral">           (width, height).</span></div>
<div class="line"><span class="lineno"> 2557</span><span class="stringliteral">        :param resample: Optional resampling filter.  This can be one</span></div>
<div class="line"><span class="lineno"> 2558</span><span class="stringliteral">           of :py:data:`Resampling.NEAREST`, :py:data:`Resampling.BOX`,</span></div>
<div class="line"><span class="lineno"> 2559</span><span class="stringliteral">           :py:data:`Resampling.BILINEAR`, :py:data:`Resampling.HAMMING`,</span></div>
<div class="line"><span class="lineno"> 2560</span><span class="stringliteral">           :py:data:`Resampling.BICUBIC` or :py:data:`Resampling.LANCZOS`.</span></div>
<div class="line"><span class="lineno"> 2561</span><span class="stringliteral">           If omitted, it defaults to :py:data:`Resampling.BICUBIC`.</span></div>
<div class="line"><span class="lineno"> 2562</span><span class="stringliteral">           (was :py:data:`Resampling.NEAREST` prior to version 2.5.0).</span></div>
<div class="line"><span class="lineno"> 2563</span><span class="stringliteral">           See: :ref:`concept-filters`.</span></div>
<div class="line"><span class="lineno"> 2564</span><span class="stringliteral">        :param reducing_gap: Apply optimization by resizing the image</span></div>
<div class="line"><span class="lineno"> 2565</span><span class="stringliteral">           in two steps. First, reducing the image by integer times</span></div>
<div class="line"><span class="lineno"> 2566</span><span class="stringliteral">           using :py:meth:`~PIL.Image.Image.reduce` or</span></div>
<div class="line"><span class="lineno"> 2567</span><span class="stringliteral">           :py:meth:`~PIL.Image.Image.draft` for JPEG images.</span></div>
<div class="line"><span class="lineno"> 2568</span><span class="stringliteral">           Second, resizing using regular resampling. The last step</span></div>
<div class="line"><span class="lineno"> 2569</span><span class="stringliteral">           changes size no less than by ``reducing_gap`` times.</span></div>
<div class="line"><span class="lineno"> 2570</span><span class="stringliteral">           ``reducing_gap`` may be None (no first step is performed)</span></div>
<div class="line"><span class="lineno"> 2571</span><span class="stringliteral">           or should be greater than 1.0. The bigger ``reducing_gap``,</span></div>
<div class="line"><span class="lineno"> 2572</span><span class="stringliteral">           the closer the result to the fair resampling.</span></div>
<div class="line"><span class="lineno"> 2573</span><span class="stringliteral">           The smaller ``reducing_gap``, the faster resizing.</span></div>
<div class="line"><span class="lineno"> 2574</span><span class="stringliteral">           With ``reducing_gap`` greater or equal to 3.0, the result is</span></div>
<div class="line"><span class="lineno"> 2575</span><span class="stringliteral">           indistinguishable from fair resampling in most cases.</span></div>
<div class="line"><span class="lineno"> 2576</span><span class="stringliteral">           The default value is 2.0 (very close to fair resampling</span></div>
<div class="line"><span class="lineno"> 2577</span><span class="stringliteral">           while still being faster in many cases).</span></div>
<div class="line"><span class="lineno"> 2578</span><span class="stringliteral">        :returns: None</span></div>
<div class="line"><span class="lineno"> 2579</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2580</span> </div>
<div class="line"><span class="lineno"> 2581</span>        provided_size = tuple(map(math.floor, size))</div>
<div class="line"><span class="lineno"> 2582</span> </div>
<div class="line"><span class="lineno"> 2583</span>        <span class="keyword">def </span>preserve_aspect_ratio():</div>
<div class="line"><span class="lineno"> 2584</span>            <span class="keyword">def </span>round_aspect(number, key):</div>
<div class="line"><span class="lineno"> 2585</span>                <span class="keywordflow">return</span> max(min(math.floor(number), math.ceil(number), key=key), 1)</div>
<div class="line"><span class="lineno"> 2586</span> </div>
<div class="line"><span class="lineno"> 2587</span>            x, y = provided_size</div>
<div class="line"><span class="lineno"> 2588</span>            <span class="keywordflow">if</span> x &gt;= self.width <span class="keywordflow">and</span> y &gt;= self.height:</div>
<div class="line"><span class="lineno"> 2589</span>                <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 2590</span> </div>
<div class="line"><span class="lineno"> 2591</span>            aspect = self.width / self.height</div>
<div class="line"><span class="lineno"> 2592</span>            <span class="keywordflow">if</span> x / y &gt;= aspect:</div>
<div class="line"><span class="lineno"> 2593</span>                x = round_aspect(y * aspect, key=<span class="keyword">lambda</span> n: abs(aspect - n / y))</div>
<div class="line"><span class="lineno"> 2594</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2595</span>                y = round_aspect(</div>
<div class="line"><span class="lineno"> 2596</span>                    x / aspect, key=<span class="keyword">lambda</span> n: 0 <span class="keywordflow">if</span> n == 0 <span class="keywordflow">else</span> abs(aspect - x / n)</div>
<div class="line"><span class="lineno"> 2597</span>                )</div>
<div class="line"><span class="lineno"> 2598</span>            <span class="keywordflow">return</span> x, y</div>
<div class="line"><span class="lineno"> 2599</span> </div>
<div class="line"><span class="lineno"> 2600</span>        box = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2601</span>        <span class="keywordflow">if</span> reducing_gap <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2602</span>            size = preserve_aspect_ratio()</div>
<div class="line"><span class="lineno"> 2603</span>            <span class="keywordflow">if</span> size <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2604</span>                <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 2605</span> </div>
<div class="line"><span class="lineno"> 2606</span>            res = self.draft(<span class="keywordtype">None</span>, (size[0] * reducing_gap, size[1] * reducing_gap))</div>
<div class="line"><span class="lineno"> 2607</span>            <span class="keywordflow">if</span> res <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2608</span>                box = res[1]</div>
<div class="line"><span class="lineno"> 2609</span>        <span class="keywordflow">if</span> box <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2610</span>            self.load()</div>
<div class="line"><span class="lineno"> 2611</span> </div>
<div class="line"><span class="lineno"> 2612</span>            <span class="comment"># load() may have changed the size of the image</span></div>
<div class="line"><span class="lineno"> 2613</span>            size = preserve_aspect_ratio()</div>
<div class="line"><span class="lineno"> 2614</span>            <span class="keywordflow">if</span> size <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2615</span>                <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno"> 2616</span> </div>
<div class="line"><span class="lineno"> 2617</span>        <span class="keywordflow">if</span> self.size != size:</div>
<div class="line"><span class="lineno"> 2618</span>            im = self.resize(size, resample, box=box, reducing_gap=reducing_gap)</div>
<div class="line"><span class="lineno"> 2619</span> </div>
<div class="line"><span class="lineno"> 2620</span>            self.im = im.im</div>
<div class="line"><span class="lineno"> 2621</span>            self._size = size</div>
<div class="line"><span class="lineno"> 2622</span>            self.mode = self.im.mode</div>
<div class="line"><span class="lineno"> 2623</span> </div>
<div class="line"><span class="lineno"> 2624</span>        self.readonly = 0</div>
<div class="line"><span class="lineno"> 2625</span>        self.pyaccess = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2626</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a72838cb23186a9af46766caa1478c84a" name="a72838cb23186a9af46766caa1478c84a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72838cb23186a9af46766caa1478c84a">&#9670;&#160;</a></span>tobitmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.tobitmap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;image&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the image converted to an X11 bitmap.

.. note:: This method only works for mode "1" images.

:param name: The name prefix to use for the bitmap variables.
:returns: A string containing an X11 bitmap.
:raises ValueError: If the mode is not "1"
</pre> <div class="fragment"><div class="line"><span class="lineno">  781</span>    <span class="keyword">def </span>tobitmap(self, name=&quot;image&quot;):</div>
<div class="line"><span class="lineno">  782</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  783</span><span class="stringliteral">        Returns the image converted to an X11 bitmap.</span></div>
<div class="line"><span class="lineno">  784</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  785</span><span class="stringliteral">        .. note:: This method only works for mode &quot;1&quot; images.</span></div>
<div class="line"><span class="lineno">  786</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  787</span><span class="stringliteral">        :param name: The name prefix to use for the bitmap variables.</span></div>
<div class="line"><span class="lineno">  788</span><span class="stringliteral">        :returns: A string containing an X11 bitmap.</span></div>
<div class="line"><span class="lineno">  789</span><span class="stringliteral">        :raises ValueError: If the mode is not &quot;1&quot;</span></div>
<div class="line"><span class="lineno">  790</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  791</span> </div>
<div class="line"><span class="lineno">  792</span>        self.load()</div>
<div class="line"><span class="lineno">  793</span>        <span class="keywordflow">if</span> self.mode != <span class="stringliteral">&quot;1&quot;</span>:</div>
<div class="line"><span class="lineno">  794</span>            msg = <span class="stringliteral">&quot;not a bitmap&quot;</span></div>
<div class="line"><span class="lineno">  795</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno">  796</span>        data = self.tobytes(<span class="stringliteral">&quot;xbm&quot;</span>)</div>
<div class="line"><span class="lineno">  797</span>        <span class="keywordflow">return</span> b<span class="stringliteral">&quot;&quot;</span>.join(</div>
<div class="line"><span class="lineno">  798</span>            [</div>
<div class="line"><span class="lineno">  799</span>                f<span class="stringliteral">&quot;#define {name}_width {self.size[0]}\n&quot;</span>.encode(<span class="stringliteral">&quot;ascii&quot;</span>),</div>
<div class="line"><span class="lineno">  800</span>                f<span class="stringliteral">&quot;#define {name}_height {self.size[1]}\n&quot;</span>.encode(<span class="stringliteral">&quot;ascii&quot;</span>),</div>
<div class="line"><span class="lineno">  801</span>                f<span class="stringliteral">&quot;static char {name}_bits[] = {{\n&quot;</span>.encode(<span class="stringliteral">&quot;ascii&quot;</span>),</div>
<div class="line"><span class="lineno">  802</span>                data,</div>
<div class="line"><span class="lineno">  803</span>                b<span class="stringliteral">&quot;};&quot;</span>,</div>
<div class="line"><span class="lineno">  804</span>            ]</div>
<div class="line"><span class="lineno">  805</span>        )</div>
<div class="line"><span class="lineno">  806</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aae0fcdb937aff8556fb04490a81e5a9b" name="aae0fcdb937aff8556fb04490a81e5a9b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae0fcdb937aff8556fb04490a81e5a9b">&#9670;&#160;</a></span>tobytes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.tobytes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>encoder_name</em> = <code>&quot;raw&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return image as a bytes object.

.. warning::

    This method returns the raw image data from the internal
    storage.  For compressed image data (e.g. PNG, JPEG) use
    :meth:`~.save`, with a BytesIO parameter for in-memory
    data.

:param encoder_name: What encoder to use.  The default is to
                     use the standard "raw" encoder.

                     A list of C encoders can be seen under
                     codecs section of the function array in
                     :file:`_imaging.c`. Python encoders are
                     registered within the relevant plugins.
:param args: Extra arguments to the encoder.
:returns: A :py:class:`bytes` object.
</pre> <div class="fragment"><div class="line"><span class="lineno">  729</span>    <span class="keyword">def </span>tobytes(self, encoder_name=&quot;raw&quot;, *args):</div>
<div class="line"><span class="lineno">  730</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  731</span><span class="stringliteral">        Return image as a bytes object.</span></div>
<div class="line"><span class="lineno">  732</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  733</span><span class="stringliteral">        .. warning::</span></div>
<div class="line"><span class="lineno">  734</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  735</span><span class="stringliteral">            This method returns the raw image data from the internal</span></div>
<div class="line"><span class="lineno">  736</span><span class="stringliteral">            storage.  For compressed image data (e.g. PNG, JPEG) use</span></div>
<div class="line"><span class="lineno">  737</span><span class="stringliteral">            :meth:`~.save`, with a BytesIO parameter for in-memory</span></div>
<div class="line"><span class="lineno">  738</span><span class="stringliteral">            data.</span></div>
<div class="line"><span class="lineno">  739</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  740</span><span class="stringliteral">        :param encoder_name: What encoder to use.  The default is to</span></div>
<div class="line"><span class="lineno">  741</span><span class="stringliteral">                             use the standard &quot;raw&quot; encoder.</span></div>
<div class="line"><span class="lineno">  742</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  743</span><span class="stringliteral">                             A list of C encoders can be seen under</span></div>
<div class="line"><span class="lineno">  744</span><span class="stringliteral">                             codecs section of the function array in</span></div>
<div class="line"><span class="lineno">  745</span><span class="stringliteral">                             :file:`_imaging.c`. Python encoders are</span></div>
<div class="line"><span class="lineno">  746</span><span class="stringliteral">                             registered within the relevant plugins.</span></div>
<div class="line"><span class="lineno">  747</span><span class="stringliteral">        :param args: Extra arguments to the encoder.</span></div>
<div class="line"><span class="lineno">  748</span><span class="stringliteral">        :returns: A :py:class:`bytes` object.</span></div>
<div class="line"><span class="lineno">  749</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  750</span> </div>
<div class="line"><span class="lineno">  751</span>        <span class="comment"># may pass tuple instead of argument list</span></div>
<div class="line"><span class="lineno">  752</span>        <span class="keywordflow">if</span> len(args) == 1 <span class="keywordflow">and</span> isinstance(args[0], tuple):</div>
<div class="line"><span class="lineno">  753</span>            args = args[0]</div>
<div class="line"><span class="lineno">  754</span> </div>
<div class="line"><span class="lineno">  755</span>        <span class="keywordflow">if</span> encoder_name == <span class="stringliteral">&quot;raw&quot;</span> <span class="keywordflow">and</span> args == ():</div>
<div class="line"><span class="lineno">  756</span>            args = self.mode</div>
<div class="line"><span class="lineno">  757</span> </div>
<div class="line"><span class="lineno">  758</span>        self.load()</div>
<div class="line"><span class="lineno">  759</span> </div>
<div class="line"><span class="lineno">  760</span>        <span class="keywordflow">if</span> self.width == 0 <span class="keywordflow">or</span> self.height == 0:</div>
<div class="line"><span class="lineno">  761</span>            <span class="keywordflow">return</span> b<span class="stringliteral">&quot;&quot;</span></div>
<div class="line"><span class="lineno">  762</span> </div>
<div class="line"><span class="lineno">  763</span>        <span class="comment"># unpack data</span></div>
<div class="line"><span class="lineno">  764</span>        e = _getencoder(self.mode, encoder_name, args)</div>
<div class="line"><span class="lineno">  765</span>        e.setimage(self.im)</div>
<div class="line"><span class="lineno">  766</span> </div>
<div class="line"><span class="lineno">  767</span>        bufsize = max(65536, self.size[0] * 4)  <span class="comment"># see RawEncode.c</span></div>
<div class="line"><span class="lineno">  768</span> </div>
<div class="line"><span class="lineno">  769</span>        data = []</div>
<div class="line"><span class="lineno">  770</span>        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  771</span>            l, s, d = e.encode(bufsize)</div>
<div class="line"><span class="lineno">  772</span>            data.append(d)</div>
<div class="line"><span class="lineno">  773</span>            <span class="keywordflow">if</span> s:</div>
<div class="line"><span class="lineno">  774</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  775</span>        <span class="keywordflow">if</span> s &lt; 0:</div>
<div class="line"><span class="lineno">  776</span>            msg = f<span class="stringliteral">&quot;encoder error {s} in tobytes&quot;</span></div>
<div class="line"><span class="lineno">  777</span>            <span class="keywordflow">raise</span> RuntimeError(msg)</div>
<div class="line"><span class="lineno">  778</span> </div>
<div class="line"><span class="lineno">  779</span>        <span class="keywordflow">return</span> b<span class="stringliteral">&quot;&quot;</span>.join(data)</div>
<div class="line"><span class="lineno">  780</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a045d52aeabcff4b5a1d6f20f0d54d6fc" name="a045d52aeabcff4b5a1d6f20f0d54d6fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a045d52aeabcff4b5a1d6f20f0d54d6fc">&#9670;&#160;</a></span>toqimage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.toqimage </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a QImage copy of this image</pre> <div class="fragment"><div class="line"><span class="lineno"> 2821</span>    <span class="keyword">def </span>toqimage(self):</div>
<div class="line"><span class="lineno"> 2822</span>        <span class="stringliteral">&quot;&quot;&quot;Returns a QImage copy of this image&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2823</span>        <span class="keyword">from</span> . <span class="keyword">import</span> ImageQt</div>
<div class="line"><span class="lineno"> 2824</span> </div>
<div class="line"><span class="lineno"> 2825</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> ImageQt.qt_is_installed:</div>
<div class="line"><span class="lineno"> 2826</span>            msg = <span class="stringliteral">&quot;Qt bindings are not installed&quot;</span></div>
<div class="line"><span class="lineno"> 2827</span>            <span class="keywordflow">raise</span> ImportError(msg)</div>
<div class="line"><span class="lineno"> 2828</span>        <span class="keywordflow">return</span> ImageQt.toqimage(self)</div>
<div class="line"><span class="lineno"> 2829</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4bfbad990e4bcc36d66f84bd49778ce4" name="a4bfbad990e4bcc36d66f84bd49778ce4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bfbad990e4bcc36d66f84bd49778ce4">&#9670;&#160;</a></span>toqpixmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.toqpixmap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a QPixmap copy of this image</pre> <div class="fragment"><div class="line"><span class="lineno"> 2830</span>    <span class="keyword">def </span>toqpixmap(self):</div>
<div class="line"><span class="lineno"> 2831</span>        <span class="stringliteral">&quot;&quot;&quot;Returns a QPixmap copy of this image&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2832</span>        <span class="keyword">from</span> . <span class="keyword">import</span> ImageQt</div>
<div class="line"><span class="lineno"> 2833</span> </div>
<div class="line"><span class="lineno"> 2834</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> ImageQt.qt_is_installed:</div>
<div class="line"><span class="lineno"> 2835</span>            msg = <span class="stringliteral">&quot;Qt bindings are not installed&quot;</span></div>
<div class="line"><span class="lineno"> 2836</span>            <span class="keywordflow">raise</span> ImportError(msg)</div>
<div class="line"><span class="lineno"> 2837</span>        <span class="keywordflow">return</span> ImageQt.toqpixmap(self)</div>
<div class="line"><span class="lineno"> 2838</span> </div>
<div class="line"><span class="lineno"> 2839</span> </div>
<div class="line"><span class="lineno"> 2840</span><span class="comment"># --------------------------------------------------------------------</span></div>
<div class="line"><span class="lineno"> 2841</span><span class="comment"># Abstract handlers.</span></div>
<div class="line"><span class="lineno"> 2842</span> </div>
<div class="line"><span class="lineno"> 2843</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="addb867c14f739d8028161a46d42ca1ef" name="addb867c14f739d8028161a46d42ca1ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#addb867c14f739d8028161a46d42ca1ef">&#9670;&#160;</a></span>transform()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.transform </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>resample</em> = <code><a class="el" href="class_p_i_l_1_1_image_1_1_resampling.html#a11ea60e2485f0e8a35fc5561bca9b390">Resampling.NEAREST</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fill</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fillcolor</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Transforms this image.  This method creates a new image with the
given size, and the same mode as the original, and copies data
to the new image using the given transform.

:param size: The output size in pixels, as a 2-tuple:
   (width, height).
:param method: The transformation method.  This is one of
  :py:data:`Transform.EXTENT` (cut out a rectangular subregion),
  :py:data:`Transform.AFFINE` (affine transform),
  :py:data:`Transform.PERSPECTIVE` (perspective transform),
  :py:data:`Transform.QUAD` (map a quadrilateral to a rectangle), or
  :py:data:`Transform.MESH` (map a number of source quadrilaterals
  in one operation).

  It may also be an :py:class:`~PIL.Image.ImageTransformHandler`
  object::

    class Example(Image.ImageTransformHandler):
        def transform(self, size, data, resample, fill=1):
            # Return result

  It may also be an object with a ``method.getdata`` method
  that returns a tuple supplying new ``method`` and ``data`` values::

    class Example:
        def getdata(self):
            method = Image.Transform.EXTENT
            data = (0, 0, 100, 100)
            return method, data
:param data: Extra data to the transformation method.
:param resample: Optional resampling filter.  It can be one of
   :py:data:`Resampling.NEAREST` (use nearest neighbour),
   :py:data:`Resampling.BILINEAR` (linear interpolation in a 2x2
   environment), or :py:data:`Resampling.BICUBIC` (cubic spline
   interpolation in a 4x4 environment). If omitted, or if the image
   has mode "1" or "P", it is set to :py:data:`Resampling.NEAREST`.
   See: :ref:`concept-filters`.
:param fill: If ``method`` is an
  :py:class:`~PIL.Image.ImageTransformHandler` object, this is one of
  the arguments passed to it. Otherwise, it is unused.
:param fillcolor: Optional fill color for the area outside the
   transform in the output image.
:returns: An :py:class:`~PIL.Image.Image` object.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2637</span>    ):</div>
<div class="line"><span class="lineno"> 2638</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2639</span><span class="stringliteral">        Transforms this image.  This method creates a new image with the</span></div>
<div class="line"><span class="lineno"> 2640</span><span class="stringliteral">        given size, and the same mode as the original, and copies data</span></div>
<div class="line"><span class="lineno"> 2641</span><span class="stringliteral">        to the new image using the given transform.</span></div>
<div class="line"><span class="lineno"> 2642</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2643</span><span class="stringliteral">        :param size: The output size in pixels, as a 2-tuple:</span></div>
<div class="line"><span class="lineno"> 2644</span><span class="stringliteral">           (width, height).</span></div>
<div class="line"><span class="lineno"> 2645</span><span class="stringliteral">        :param method: The transformation method.  This is one of</span></div>
<div class="line"><span class="lineno"> 2646</span><span class="stringliteral">          :py:data:`Transform.EXTENT` (cut out a rectangular subregion),</span></div>
<div class="line"><span class="lineno"> 2647</span><span class="stringliteral">          :py:data:`Transform.AFFINE` (affine transform),</span></div>
<div class="line"><span class="lineno"> 2648</span><span class="stringliteral">          :py:data:`Transform.PERSPECTIVE` (perspective transform),</span></div>
<div class="line"><span class="lineno"> 2649</span><span class="stringliteral">          :py:data:`Transform.QUAD` (map a quadrilateral to a rectangle), or</span></div>
<div class="line"><span class="lineno"> 2650</span><span class="stringliteral">          :py:data:`Transform.MESH` (map a number of source quadrilaterals</span></div>
<div class="line"><span class="lineno"> 2651</span><span class="stringliteral">          in one operation).</span></div>
<div class="line"><span class="lineno"> 2652</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2653</span><span class="stringliteral">          It may also be an :py:class:`~PIL.Image.ImageTransformHandler`</span></div>
<div class="line"><span class="lineno"> 2654</span><span class="stringliteral">          object::</span></div>
<div class="line"><span class="lineno"> 2655</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2656</span><span class="stringliteral">            class Example(Image.ImageTransformHandler):</span></div>
<div class="line"><span class="lineno"> 2657</span><span class="stringliteral">                def transform(self, size, data, resample, fill=1):</span></div>
<div class="line"><span class="lineno"> 2658</span><span class="stringliteral">                    # Return result</span></div>
<div class="line"><span class="lineno"> 2659</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2660</span><span class="stringliteral">          It may also be an object with a ``method.getdata`` method</span></div>
<div class="line"><span class="lineno"> 2661</span><span class="stringliteral">          that returns a tuple supplying new ``method`` and ``data`` values::</span></div>
<div class="line"><span class="lineno"> 2662</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2663</span><span class="stringliteral">            class Example:</span></div>
<div class="line"><span class="lineno"> 2664</span><span class="stringliteral">                def getdata(self):</span></div>
<div class="line"><span class="lineno"> 2665</span><span class="stringliteral">                    method = Image.Transform.EXTENT</span></div>
<div class="line"><span class="lineno"> 2666</span><span class="stringliteral">                    data = (0, 0, 100, 100)</span></div>
<div class="line"><span class="lineno"> 2667</span><span class="stringliteral">                    return method, data</span></div>
<div class="line"><span class="lineno"> 2668</span><span class="stringliteral">        :param data: Extra data to the transformation method.</span></div>
<div class="line"><span class="lineno"> 2669</span><span class="stringliteral">        :param resample: Optional resampling filter.  It can be one of</span></div>
<div class="line"><span class="lineno"> 2670</span><span class="stringliteral">           :py:data:`Resampling.NEAREST` (use nearest neighbour),</span></div>
<div class="line"><span class="lineno"> 2671</span><span class="stringliteral">           :py:data:`Resampling.BILINEAR` (linear interpolation in a 2x2</span></div>
<div class="line"><span class="lineno"> 2672</span><span class="stringliteral">           environment), or :py:data:`Resampling.BICUBIC` (cubic spline</span></div>
<div class="line"><span class="lineno"> 2673</span><span class="stringliteral">           interpolation in a 4x4 environment). If omitted, or if the image</span></div>
<div class="line"><span class="lineno"> 2674</span><span class="stringliteral">           has mode &quot;1&quot; or &quot;P&quot;, it is set to :py:data:`Resampling.NEAREST`.</span></div>
<div class="line"><span class="lineno"> 2675</span><span class="stringliteral">           See: :ref:`concept-filters`.</span></div>
<div class="line"><span class="lineno"> 2676</span><span class="stringliteral">        :param fill: If ``method`` is an</span></div>
<div class="line"><span class="lineno"> 2677</span><span class="stringliteral">          :py:class:`~PIL.Image.ImageTransformHandler` object, this is one of</span></div>
<div class="line"><span class="lineno"> 2678</span><span class="stringliteral">          the arguments passed to it. Otherwise, it is unused.</span></div>
<div class="line"><span class="lineno"> 2679</span><span class="stringliteral">        :param fillcolor: Optional fill color for the area outside the</span></div>
<div class="line"><span class="lineno"> 2680</span><span class="stringliteral">           transform in the output image.</span></div>
<div class="line"><span class="lineno"> 2681</span><span class="stringliteral">        :returns: An :py:class:`~PIL.Image.Image` object.</span></div>
<div class="line"><span class="lineno"> 2682</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2683</span> </div>
<div class="line"><span class="lineno"> 2684</span>        <span class="keywordflow">if</span> self.mode <span class="keywordflow">in</span> (<span class="stringliteral">&quot;LA&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>) <span class="keywordflow">and</span> resample != Resampling.NEAREST:</div>
<div class="line"><span class="lineno"> 2685</span>            <span class="keywordflow">return</span> (</div>
<div class="line"><span class="lineno"> 2686</span>                self.convert({<span class="stringliteral">&quot;LA&quot;</span>: <span class="stringliteral">&quot;La&quot;</span>, <span class="stringliteral">&quot;RGBA&quot;</span>: <span class="stringliteral">&quot;RGBa&quot;</span>}[self.mode])</div>
<div class="line"><span class="lineno"> 2687</span>                .transform(size, method, data, resample, fill, fillcolor)</div>
<div class="line"><span class="lineno"> 2688</span>                .convert(self.mode)</div>
<div class="line"><span class="lineno"> 2689</span>            )</div>
<div class="line"><span class="lineno"> 2690</span> </div>
<div class="line"><span class="lineno"> 2691</span>        <span class="keywordflow">if</span> isinstance(method, ImageTransformHandler):</div>
<div class="line"><span class="lineno"> 2692</span>            <span class="keywordflow">return</span> method.transform(size, self, resample=resample, fill=fill)</div>
<div class="line"><span class="lineno"> 2693</span> </div>
<div class="line"><span class="lineno"> 2694</span>        <span class="keywordflow">if</span> hasattr(method, <span class="stringliteral">&quot;getdata&quot;</span>):</div>
<div class="line"><span class="lineno"> 2695</span>            <span class="comment"># compatibility w. old-style transform objects</span></div>
<div class="line"><span class="lineno"> 2696</span>            method, data = method.getdata()</div>
<div class="line"><span class="lineno"> 2697</span> </div>
<div class="line"><span class="lineno"> 2698</span>        <span class="keywordflow">if</span> data <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2699</span>            msg = <span class="stringliteral">&quot;missing method data&quot;</span></div>
<div class="line"><span class="lineno"> 2700</span>            <span class="keywordflow">raise</span> ValueError(msg)</div>
<div class="line"><span class="lineno"> 2701</span> </div>
<div class="line"><span class="lineno"> 2702</span>        im = new(self.mode, size, fillcolor)</div>
<div class="line"><span class="lineno"> 2703</span>        <span class="keywordflow">if</span> self.mode == <span class="stringliteral">&quot;P&quot;</span> <span class="keywordflow">and</span> self.palette:</div>
<div class="line"><span class="lineno"> 2704</span>            im.palette = self.palette.copy()</div>
<div class="line"><span class="lineno"> 2705</span>        im.info = self.info.copy()</div>
<div class="line"><span class="lineno"> 2706</span>        <span class="keywordflow">if</span> method == Transform.MESH:</div>
<div class="line"><span class="lineno"> 2707</span>            <span class="comment"># list of quads</span></div>
<div class="line"><span class="lineno"> 2708</span>            <span class="keywordflow">for</span> box, quad <span class="keywordflow">in</span> data:</div>
<div class="line"><span class="lineno"> 2709</span>                im.__transformer(</div>
<div class="line"><span class="lineno"> 2710</span>                    box, self, Transform.QUAD, quad, resample, fillcolor <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2711</span>                )</div>
<div class="line"><span class="lineno"> 2712</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2713</span>            im.__transformer(</div>
<div class="line"><span class="lineno"> 2714</span>                (0, 0) + size, self, method, data, resample, fillcolor <span class="keywordflow">is</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 2715</span>            )</div>
<div class="line"><span class="lineno"> 2716</span> </div>
<div class="line"><span class="lineno"> 2717</span>        <span class="keywordflow">return</span> im</div>
<div class="line"><span class="lineno"> 2718</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7dab83124239a229087437541234c1d6" name="a7dab83124239a229087437541234c1d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7dab83124239a229087437541234c1d6">&#9670;&#160;</a></span>transpose()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.transpose </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Transpose image (flip or rotate in 90 degree steps)

:param method: One of :py:data:`Transpose.FLIP_LEFT_RIGHT`,
  :py:data:`Transpose.FLIP_TOP_BOTTOM`, :py:data:`Transpose.ROTATE_90`,
  :py:data:`Transpose.ROTATE_180`, :py:data:`Transpose.ROTATE_270`,
  :py:data:`Transpose.TRANSPOSE` or :py:data:`Transpose.TRANSVERSE`.
:returns: Returns a flipped or rotated copy of this image.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2798</span>    <span class="keyword">def </span>transpose(self, method):</div>
<div class="line"><span class="lineno"> 2799</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2800</span><span class="stringliteral">        Transpose image (flip or rotate in 90 degree steps)</span></div>
<div class="line"><span class="lineno"> 2801</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2802</span><span class="stringliteral">        :param method: One of :py:data:`Transpose.FLIP_LEFT_RIGHT`,</span></div>
<div class="line"><span class="lineno"> 2803</span><span class="stringliteral">          :py:data:`Transpose.FLIP_TOP_BOTTOM`, :py:data:`Transpose.ROTATE_90`,</span></div>
<div class="line"><span class="lineno"> 2804</span><span class="stringliteral">          :py:data:`Transpose.ROTATE_180`, :py:data:`Transpose.ROTATE_270`,</span></div>
<div class="line"><span class="lineno"> 2805</span><span class="stringliteral">          :py:data:`Transpose.TRANSPOSE` or :py:data:`Transpose.TRANSVERSE`.</span></div>
<div class="line"><span class="lineno"> 2806</span><span class="stringliteral">        :returns: Returns a flipped or rotated copy of this image.</span></div>
<div class="line"><span class="lineno"> 2807</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2808</span> </div>
<div class="line"><span class="lineno"> 2809</span>        self.load()</div>
<div class="line"><span class="lineno"> 2810</span>        <span class="keywordflow">return</span> self._new(self.im.transpose(method))</div>
<div class="line"><span class="lineno"> 2811</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3547a6d944ce77fe6e91507f4db0f8b8" name="a3547a6d944ce77fe6e91507f4db0f8b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3547a6d944ce77fe6e91507f4db0f8b8">&#9670;&#160;</a></span>verify()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.verify </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Verifies the contents of a file. For data read from a file, this
method attempts to determine if the file is broken, without
actually decoding the image data.  If this method finds any
problems, it raises suitable exceptions.  If you need to load
the image after using this method, you must reopen the image
file.
</pre> 
<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_image_file_1_1_image_file.html#a841799aaafb41d736799529f5063868e">PIL.ImageFile.ImageFile</a>, and <a class="el" href="class_p_i_l_1_1_png_image_plugin_1_1_png_image_file.html#a0dd85a358211a946b74beae8929e3194">PIL.PngImagePlugin.PngImageFile</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  878</span>    <span class="keyword">def </span>verify(self):</div>
<div class="line"><span class="lineno">  879</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  880</span><span class="stringliteral">        Verifies the contents of a file. For data read from a file, this</span></div>
<div class="line"><span class="lineno">  881</span><span class="stringliteral">        method attempts to determine if the file is broken, without</span></div>
<div class="line"><span class="lineno">  882</span><span class="stringliteral">        actually decoding the image data.  If this method finds any</span></div>
<div class="line"><span class="lineno">  883</span><span class="stringliteral">        problems, it raises suitable exceptions.  If you need to load</span></div>
<div class="line"><span class="lineno">  884</span><span class="stringliteral">        the image after using this method, you must reopen the image</span></div>
<div class="line"><span class="lineno">  885</span><span class="stringliteral">        file.</span></div>
<div class="line"><span class="lineno">  886</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  887</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  888</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a615e8ce2c92f549419a1f34451675758" name="a615e8ce2c92f549419a1f34451675758"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a615e8ce2c92f549419a1f34451675758">&#9670;&#160;</a></span>width()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.width </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  532</span>    <span class="keyword">def </span>width(self):</div>
<div class="line"><span class="lineno">  533</span>        <span class="keywordflow">return</span> self.size[0]</div>
<div class="line"><span class="lineno">  534</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a606987a72ce26115050e61e41ff87f78" name="a606987a72ce26115050e61e41ff87f78"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a606987a72ce26115050e61e41ff87f78">&#9670;&#160;</a></span>_category</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._category</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a945a973d044a966705c036229aec6ab1" name="a945a973d044a966705c036229aec6ab1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a945a973d044a966705c036229aec6ab1">&#9670;&#160;</a></span>_close_exclusive_fp_after_loading</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool PIL.Image.Image._close_exclusive_fp_after_loading = True</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a798b494fa5ab8eba76fee26d21e736ed" name="a798b494fa5ab8eba76fee26d21e736ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798b494fa5ab8eba76fee26d21e736ed">&#9670;&#160;</a></span>_exif</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._exif</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a447384d54d6d8de1339bafbc8b66d378" name="a447384d54d6d8de1339bafbc8b66d378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a447384d54d6d8de1339bafbc8b66d378">&#9670;&#160;</a></span>_fp</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._fp</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9619ff58209fa938168af1d5a2018e72" name="a9619ff58209fa938168af1d5a2018e72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9619ff58209fa938168af1d5a2018e72">&#9670;&#160;</a></span>_size</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image._size</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8e9b1c63991a12d921a3bc801293b2da" name="a8e9b1c63991a12d921a3bc801293b2da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e9b1c63991a12d921a3bc801293b2da">&#9670;&#160;</a></span>encoderconfig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.encoderconfig</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad408d66e67a29a056f75e2ed1fb89ead" name="ad408d66e67a29a056f75e2ed1fb89ead"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad408d66e67a29a056f75e2ed1fb89ead">&#9670;&#160;</a></span>encoderinfo</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.encoderinfo</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0b96af3d05c50bcbc01278bc87b84d0e" name="a0b96af3d05c50bcbc01278bc87b84d0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b96af3d05c50bcbc01278bc87b84d0e">&#9670;&#160;</a></span>format</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.format = None</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a61aa8bd7ade87bff59fa1026f1adaae1" name="a61aa8bd7ade87bff59fa1026f1adaae1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61aa8bd7ade87bff59fa1026f1adaae1">&#9670;&#160;</a></span>format_description</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.format_description = None</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a96deddd6e1e06bf4c25e974ea9f390fe" name="a96deddd6e1e06bf4c25e974ea9f390fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96deddd6e1e06bf4c25e974ea9f390fe">&#9670;&#160;</a></span>fp</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.fp</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ad64d536d671d37d388fc8896f9d493b8" name="ad64d536d671d37d388fc8896f9d493b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad64d536d671d37d388fc8896f9d493b8">&#9670;&#160;</a></span>im</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.im</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ab5cae44b3e263b47aeca3056bea811fd" name="ab5cae44b3e263b47aeca3056bea811fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5cae44b3e263b47aeca3056bea811fd">&#9670;&#160;</a></span>info</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.info</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a62074962537fcdb8b80562732a928d80" name="a62074962537fcdb8b80562732a928d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62074962537fcdb8b80562732a928d80">&#9670;&#160;</a></span>map</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.map</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a7d372be82681ec344af8a7ba8dc84d5d" name="a7d372be82681ec344af8a7ba8dc84d5d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d372be82681ec344af8a7ba8dc84d5d">&#9670;&#160;</a></span>mode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.mode</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aed56de66e3c835733d852bb93673c1ab" name="aed56de66e3c835733d852bb93673c1ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed56de66e3c835733d852bb93673c1ab">&#9670;&#160;</a></span>palette</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.palette</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a81f5d7b179f7065f4014efa5bef97ce8" name="a81f5d7b179f7065f4014efa5bef97ce8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81f5d7b179f7065f4014efa5bef97ce8">&#9670;&#160;</a></span>pyaccess</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.pyaccess</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a408d4cf4edafa5efa2a5fe873419c58e" name="a408d4cf4edafa5efa2a5fe873419c58e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a408d4cf4edafa5efa2a5fe873419c58e">&#9670;&#160;</a></span>readonly</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.readonly</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a57dcb2dbb3e31f7dd29c53a04c90003b" name="a57dcb2dbb3e31f7dd29c53a04c90003b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a57dcb2dbb3e31f7dd29c53a04c90003b">&#9670;&#160;</a></span>reduce</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.reduce</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_jpeg2_k_image_plugin_1_1_jpeg2_k_image_file.html#a03c9a6390f3d8bfb953c1ad6da1785e8">PIL.Jpeg2KImagePlugin.Jpeg2KImageFile</a>, and <a class="el" href="class_p_i_l_1_1_jpeg2_k_image_plugin_1_1_jpeg2_k_image_file.html#afb81a45614ac659586dae26bebfb6985">PIL.Jpeg2KImagePlugin.Jpeg2KImageFile</a>.</p>

</div>
</div>
<a id="ae9939a80d0ea9392d8db8556353b2585" name="ae9939a80d0ea9392d8db8556353b2585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9939a80d0ea9392d8db8556353b2585">&#9670;&#160;</a></span>size</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.size</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reimplemented in <a class="el" href="class_p_i_l_1_1_icns_image_plugin_1_1_icns_image_file.html#a732791a86a832a98880c7bc38b603ab0">PIL.IcnsImagePlugin.IcnsImageFile</a>, <a class="el" href="class_p_i_l_1_1_ico_image_plugin_1_1_ico_image_file.html#a00dd8eace7f9ba84d415f19f92e27601">PIL.IcoImagePlugin.IcoImageFile</a>, <a class="el" href="class_p_i_l_1_1_icns_image_plugin_1_1_icns_image_file.html#a6fd40e73b36746f632ca0903ec20d7d0">PIL.IcnsImagePlugin.IcnsImageFile</a>, and <a class="el" href="class_p_i_l_1_1_ico_image_plugin_1_1_ico_image_file.html#a37f9bb9fed603b5ac85323baec651263">PIL.IcoImagePlugin.IcoImageFile</a>.</p>

</div>
</div>
<a id="ac7adb074d78ab05fb3efe53b673ad5de" name="ac7adb074d78ab05fb3efe53b673ad5de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7adb074d78ab05fb3efe53b673ad5de">&#9670;&#160;</a></span>width</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">PIL.Image.Image.width</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/PIL/<a class="el" href="_p_i_l_2_image_8py.html">Image.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
