<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Tp_Gcs: matplotlib.colors.LightSource Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Tp_Gcs<span id="projectnumber">&#160;1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacematplotlib.html">matplotlib</a></li><li class="navelem"><a class="el" href="namespacematplotlib_1_1colors.html">colors</a></li><li class="navelem"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html">LightSource</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classmatplotlib_1_1colors_1_1_light_source-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">matplotlib.colors.LightSource Class Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5b11d1ccdb00ba94e779fec8ca7dafbb" id="r_a5b11d1ccdb00ba94e779fec8ca7dafbb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a5b11d1ccdb00ba94e779fec8ca7dafbb">__init__</a> (self, <a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a882cb0069579a96b1cbee030da7e6dcf">azdeg</a>=315, <a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a2777dfac6339c6a79f36de3caa2f81de">altdeg</a>=45, <a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#aa1fa26d6651f24ebd79c5faa0ab204b0">hsv_min_val</a>=0, <a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a5471de9515029d4224f86972aa459e81">hsv_max_val</a>=1, <a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#af935fb94e31a3e49d91816818fcc078f">hsv_min_sat</a>=1, <a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#af495af78687fda8abd0c4a94b9ebb7ac">hsv_max_sat</a>=0)</td></tr>
<tr class="separator:a5b11d1ccdb00ba94e779fec8ca7dafbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5477d875a765968f7d97473cfa1df357" id="r_a5477d875a765968f7d97473cfa1df357"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a5477d875a765968f7d97473cfa1df357">direction</a> (self)</td></tr>
<tr class="separator:a5477d875a765968f7d97473cfa1df357"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a409fa9e2d7ccbf23f025640a921ed0b3" id="r_a409fa9e2d7ccbf23f025640a921ed0b3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a409fa9e2d7ccbf23f025640a921ed0b3">hillshade</a> (self, elevation, vert_exag=1, <a class="el" href="__blas__subroutines_8h.html#a6b1e36c081feb196285c9fc4062b28ed">dx</a>=1, <a class="el" href="__blas__subroutines_8h.html#a4a2b3b2b516fb809de151aa9dfb5cd78">dy</a>=1, fraction=1.)</td></tr>
<tr class="separator:a409fa9e2d7ccbf23f025640a921ed0b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a797b225bcf49dc8bb3ea640d8b09d049" id="r_a797b225bcf49dc8bb3ea640d8b09d049"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a797b225bcf49dc8bb3ea640d8b09d049">shade_normals</a> (self, normals, fraction=1.)</td></tr>
<tr class="separator:a797b225bcf49dc8bb3ea640d8b09d049"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ab6a9c7456464c3f64eef13cbcc8206" id="r_a7ab6a9c7456464c3f64eef13cbcc8206"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a7ab6a9c7456464c3f64eef13cbcc8206">shade</a> (self, data, cmap, norm=None, blend_mode='overlay', <a class="el" href="namespacematplotlib_1_1colors.html#a64fab219e2255adac7821722f85263bf">vmin</a>=None, vmax=None, vert_exag=1, <a class="el" href="__blas__subroutines_8h.html#a6b1e36c081feb196285c9fc4062b28ed">dx</a>=1, <a class="el" href="__blas__subroutines_8h.html#a4a2b3b2b516fb809de151aa9dfb5cd78">dy</a>=1, fraction=1, **kwargs)</td></tr>
<tr class="separator:a7ab6a9c7456464c3f64eef13cbcc8206"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c133ae931a6b45991348658d7e6f64c" id="r_a4c133ae931a6b45991348658d7e6f64c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a4c133ae931a6b45991348658d7e6f64c">shade_rgb</a> (self, rgb, elevation, fraction=1., blend_mode='hsv', vert_exag=1, <a class="el" href="__blas__subroutines_8h.html#a6b1e36c081feb196285c9fc4062b28ed">dx</a>=1, <a class="el" href="__blas__subroutines_8h.html#a4a2b3b2b516fb809de151aa9dfb5cd78">dy</a>=1, **kwargs)</td></tr>
<tr class="separator:a4c133ae931a6b45991348658d7e6f64c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae738c1b3aea0c01fe78129be0649b7b9" id="r_ae738c1b3aea0c01fe78129be0649b7b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#ae738c1b3aea0c01fe78129be0649b7b9">blend_hsv</a> (self, rgb, intensity, <a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#af495af78687fda8abd0c4a94b9ebb7ac">hsv_max_sat</a>=None, <a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a5471de9515029d4224f86972aa459e81">hsv_max_val</a>=None, <a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#aa1fa26d6651f24ebd79c5faa0ab204b0">hsv_min_val</a>=None, <a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#af935fb94e31a3e49d91816818fcc078f">hsv_min_sat</a>=None)</td></tr>
<tr class="separator:ae738c1b3aea0c01fe78129be0649b7b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bffa42ef519ee9397b6517feab9536a" id="r_a4bffa42ef519ee9397b6517feab9536a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a4bffa42ef519ee9397b6517feab9536a">blend_soft_light</a> (self, rgb, intensity)</td></tr>
<tr class="separator:a4bffa42ef519ee9397b6517feab9536a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6d079dcdd092cdf73e4e9c40cfba6d3" id="r_ad6d079dcdd092cdf73e4e9c40cfba6d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#ad6d079dcdd092cdf73e4e9c40cfba6d3">blend_overlay</a> (self, rgb, intensity)</td></tr>
<tr class="separator:ad6d079dcdd092cdf73e4e9c40cfba6d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a882cb0069579a96b1cbee030da7e6dcf" id="r_a882cb0069579a96b1cbee030da7e6dcf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a882cb0069579a96b1cbee030da7e6dcf">azdeg</a></td></tr>
<tr class="separator:a882cb0069579a96b1cbee030da7e6dcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2777dfac6339c6a79f36de3caa2f81de" id="r_a2777dfac6339c6a79f36de3caa2f81de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a2777dfac6339c6a79f36de3caa2f81de">altdeg</a></td></tr>
<tr class="separator:a2777dfac6339c6a79f36de3caa2f81de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1fa26d6651f24ebd79c5faa0ab204b0" id="r_aa1fa26d6651f24ebd79c5faa0ab204b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#aa1fa26d6651f24ebd79c5faa0ab204b0">hsv_min_val</a></td></tr>
<tr class="separator:aa1fa26d6651f24ebd79c5faa0ab204b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5471de9515029d4224f86972aa459e81" id="r_a5471de9515029d4224f86972aa459e81"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a5471de9515029d4224f86972aa459e81">hsv_max_val</a></td></tr>
<tr class="separator:a5471de9515029d4224f86972aa459e81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af935fb94e31a3e49d91816818fcc078f" id="r_af935fb94e31a3e49d91816818fcc078f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#af935fb94e31a3e49d91816818fcc078f">hsv_min_sat</a></td></tr>
<tr class="separator:af935fb94e31a3e49d91816818fcc078f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af495af78687fda8abd0c4a94b9ebb7ac" id="r_af495af78687fda8abd0c4a94b9ebb7ac"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#af495af78687fda8abd0c4a94b9ebb7ac">hsv_max_sat</a></td></tr>
<tr class="separator:af495af78687fda8abd0c4a94b9ebb7ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd265465f563398a0a73ce3d0325840" id="r_a2fd265465f563398a0a73ce3d0325840"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a2fd265465f563398a0a73ce3d0325840">blend_hsv</a></td></tr>
<tr class="separator:a2fd265465f563398a0a73ce3d0325840"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af472423c204452167c3e6f5606ed4ff3" id="r_af472423c204452167c3e6f5606ed4ff3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#af472423c204452167c3e6f5606ed4ff3">blend_soft_light</a></td></tr>
<tr class="separator:af472423c204452167c3e6f5606ed4ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3058ec8f0d31cf5476efa895b9fe17" id="r_a9a3058ec8f0d31cf5476efa895b9fe17"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmatplotlib_1_1colors_1_1_light_source.html#a9a3058ec8f0d31cf5476efa895b9fe17">blend_overlay</a></td></tr>
<tr class="separator:a9a3058ec8f0d31cf5476efa895b9fe17"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Create a light source coming from the specified azimuth and elevation.
Angles are in degrees, with the azimuth measured
clockwise from north and elevation up from the zero plane of the surface.

`shade` is used to produce "shaded" rgb values for a data array.
`shade_rgb` can be used to combine an rgb image with an elevation map.
`hillshade` produces an illumination map of a surface.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5b11d1ccdb00ba94e779fec8ca7dafbb" name="a5b11d1ccdb00ba94e779fec8ca7dafbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b11d1ccdb00ba94e779fec8ca7dafbb">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>azdeg</em> = <code>315</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>altdeg</em> = <code>45</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hsv_min_val</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hsv_max_val</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hsv_min_sat</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hsv_max_sat</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Specify the azimuth (measured clockwise from south) and altitude
(measured up from the plane of the surface) of the light source
in degrees.

Parameters
----------
azdeg : float, default: 315 degrees (from the northwest)
    The azimuth (0-360, degrees clockwise from North) of the light
    source.
altdeg : float, default: 45 degrees
    The altitude (0-90, degrees up from horizontal) of the light
    source.

Notes
-----
For backwards compatibility, the parameters *hsv_min_val*,
*hsv_max_val*, *hsv_min_sat*, and *hsv_max_sat* may be supplied at
initialization as well.  However, these parameters will only be used if
"blend_mode='hsv'" is passed into `shade` or `shade_rgb`.
See the documentation for `blend_hsv` for more details.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2207</span>                 hsv_min_sat=1, hsv_max_sat=0):</div>
<div class="line"><span class="lineno"> 2208</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2209</span><span class="stringliteral">        Specify the azimuth (measured clockwise from south) and altitude</span></div>
<div class="line"><span class="lineno"> 2210</span><span class="stringliteral">        (measured up from the plane of the surface) of the light source</span></div>
<div class="line"><span class="lineno"> 2211</span><span class="stringliteral">        in degrees.</span></div>
<div class="line"><span class="lineno"> 2212</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2213</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 2214</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 2215</span><span class="stringliteral">        azdeg : float, default: 315 degrees (from the northwest)</span></div>
<div class="line"><span class="lineno"> 2216</span><span class="stringliteral">            The azimuth (0-360, degrees clockwise from North) of the light</span></div>
<div class="line"><span class="lineno"> 2217</span><span class="stringliteral">            source.</span></div>
<div class="line"><span class="lineno"> 2218</span><span class="stringliteral">        altdeg : float, default: 45 degrees</span></div>
<div class="line"><span class="lineno"> 2219</span><span class="stringliteral">            The altitude (0-90, degrees up from horizontal) of the light</span></div>
<div class="line"><span class="lineno"> 2220</span><span class="stringliteral">            source.</span></div>
<div class="line"><span class="lineno"> 2221</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2222</span><span class="stringliteral">        Notes</span></div>
<div class="line"><span class="lineno"> 2223</span><span class="stringliteral">        -----</span></div>
<div class="line"><span class="lineno"> 2224</span><span class="stringliteral">        For backwards compatibility, the parameters *hsv_min_val*,</span></div>
<div class="line"><span class="lineno"> 2225</span><span class="stringliteral">        *hsv_max_val*, *hsv_min_sat*, and *hsv_max_sat* may be supplied at</span></div>
<div class="line"><span class="lineno"> 2226</span><span class="stringliteral">        initialization as well.  However, these parameters will only be used if</span></div>
<div class="line"><span class="lineno"> 2227</span><span class="stringliteral">        &quot;blend_mode=&#39;hsv&#39;&quot; is passed into `shade` or `shade_rgb`.</span></div>
<div class="line"><span class="lineno"> 2228</span><span class="stringliteral">        See the documentation for `blend_hsv` for more details.</span></div>
<div class="line"><span class="lineno"> 2229</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2230</span>        self.azdeg = azdeg</div>
<div class="line"><span class="lineno"> 2231</span>        self.altdeg = altdeg</div>
<div class="line"><span class="lineno"> 2232</span>        self.hsv_min_val = hsv_min_val</div>
<div class="line"><span class="lineno"> 2233</span>        self.hsv_max_val = hsv_max_val</div>
<div class="line"><span class="lineno"> 2234</span>        self.hsv_min_sat = hsv_min_sat</div>
<div class="line"><span class="lineno"> 2235</span>        self.hsv_max_sat = hsv_max_sat</div>
<div class="line"><span class="lineno"> 2236</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae738c1b3aea0c01fe78129be0649b7b9" name="ae738c1b3aea0c01fe78129be0649b7b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae738c1b3aea0c01fe78129be0649b7b9">&#9670;&#160;</a></span>blend_hsv()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.blend_hsv </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rgb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>intensity</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hsv_max_sat</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hsv_max_val</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hsv_min_val</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hsv_min_sat</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Take the input data array, convert to HSV values in the given colormap,
then adjust those color values to give the impression of a shaded
relief map with a specified light source.  RGBA values are returned,
which can then be used to plot the shaded image with imshow.

The color of the resulting image will be darkened by moving the (s, v)
values (in hsv colorspace) toward (hsv_min_sat, hsv_min_val) in the
shaded regions, or lightened by sliding (s, v) toward (hsv_max_sat,
hsv_max_val) in regions that are illuminated.  The default extremes are
chose so that completely shaded points are nearly black (s = 1, v = 0)
and completely illuminated points are nearly white (s = 0, v = 1).

Parameters
----------
rgb : ndarray
    An MxNx3 RGB array of floats ranging from 0 to 1 (color image).
intensity : ndarray
    An MxNx1 array of floats ranging from 0 to 1 (grayscale image).
hsv_max_sat : number, default: 1
    The maximum saturation value that the *intensity* map can shift the
    output image to.
hsv_min_sat : number, optional
    The minimum saturation value that the *intensity* map can shift the
    output image to. Defaults to 0.
hsv_max_val : number, optional
    The maximum value ("v" in "hsv") that the *intensity* map can shift
    the output image to. Defaults to 1.
hsv_min_val : number, optional
    The minimum value ("v" in "hsv") that the *intensity* map can shift
    the output image to. Defaults to 0.

Returns
-------
ndarray
    An MxNx3 RGB array representing the combined images.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2498</span>                  hsv_min_val=<span class="keywordtype">None</span>, hsv_min_sat=<span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno"> 2499</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2500</span><span class="stringliteral">        Take the input data array, convert to HSV values in the given colormap,</span></div>
<div class="line"><span class="lineno"> 2501</span><span class="stringliteral">        then adjust those color values to give the impression of a shaded</span></div>
<div class="line"><span class="lineno"> 2502</span><span class="stringliteral">        relief map with a specified light source.  RGBA values are returned,</span></div>
<div class="line"><span class="lineno"> 2503</span><span class="stringliteral">        which can then be used to plot the shaded image with imshow.</span></div>
<div class="line"><span class="lineno"> 2504</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2505</span><span class="stringliteral">        The color of the resulting image will be darkened by moving the (s, v)</span></div>
<div class="line"><span class="lineno"> 2506</span><span class="stringliteral">        values (in hsv colorspace) toward (hsv_min_sat, hsv_min_val) in the</span></div>
<div class="line"><span class="lineno"> 2507</span><span class="stringliteral">        shaded regions, or lightened by sliding (s, v) toward (hsv_max_sat,</span></div>
<div class="line"><span class="lineno"> 2508</span><span class="stringliteral">        hsv_max_val) in regions that are illuminated.  The default extremes are</span></div>
<div class="line"><span class="lineno"> 2509</span><span class="stringliteral">        chose so that completely shaded points are nearly black (s = 1, v = 0)</span></div>
<div class="line"><span class="lineno"> 2510</span><span class="stringliteral">        and completely illuminated points are nearly white (s = 0, v = 1).</span></div>
<div class="line"><span class="lineno"> 2511</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2512</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 2513</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 2514</span><span class="stringliteral">        rgb : ndarray</span></div>
<div class="line"><span class="lineno"> 2515</span><span class="stringliteral">            An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</span></div>
<div class="line"><span class="lineno"> 2516</span><span class="stringliteral">        intensity : ndarray</span></div>
<div class="line"><span class="lineno"> 2517</span><span class="stringliteral">            An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</span></div>
<div class="line"><span class="lineno"> 2518</span><span class="stringliteral">        hsv_max_sat : number, default: 1</span></div>
<div class="line"><span class="lineno"> 2519</span><span class="stringliteral">            The maximum saturation value that the *intensity* map can shift the</span></div>
<div class="line"><span class="lineno"> 2520</span><span class="stringliteral">            output image to.</span></div>
<div class="line"><span class="lineno"> 2521</span><span class="stringliteral">        hsv_min_sat : number, optional</span></div>
<div class="line"><span class="lineno"> 2522</span><span class="stringliteral">            The minimum saturation value that the *intensity* map can shift the</span></div>
<div class="line"><span class="lineno"> 2523</span><span class="stringliteral">            output image to. Defaults to 0.</span></div>
<div class="line"><span class="lineno"> 2524</span><span class="stringliteral">        hsv_max_val : number, optional</span></div>
<div class="line"><span class="lineno"> 2525</span><span class="stringliteral">            The maximum value (&quot;v&quot; in &quot;hsv&quot;) that the *intensity* map can shift</span></div>
<div class="line"><span class="lineno"> 2526</span><span class="stringliteral">            the output image to. Defaults to 1.</span></div>
<div class="line"><span class="lineno"> 2527</span><span class="stringliteral">        hsv_min_val : number, optional</span></div>
<div class="line"><span class="lineno"> 2528</span><span class="stringliteral">            The minimum value (&quot;v&quot; in &quot;hsv&quot;) that the *intensity* map can shift</span></div>
<div class="line"><span class="lineno"> 2529</span><span class="stringliteral">            the output image to. Defaults to 0.</span></div>
<div class="line"><span class="lineno"> 2530</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2531</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 2532</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 2533</span><span class="stringliteral">        ndarray</span></div>
<div class="line"><span class="lineno"> 2534</span><span class="stringliteral">            An MxNx3 RGB array representing the combined images.</span></div>
<div class="line"><span class="lineno"> 2535</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2536</span>        <span class="comment"># Backward compatibility...</span></div>
<div class="line"><span class="lineno"> 2537</span>        <span class="keywordflow">if</span> hsv_max_sat <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2538</span>            hsv_max_sat = self.hsv_max_sat</div>
<div class="line"><span class="lineno"> 2539</span>        <span class="keywordflow">if</span> hsv_max_val <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2540</span>            hsv_max_val = self.hsv_max_val</div>
<div class="line"><span class="lineno"> 2541</span>        <span class="keywordflow">if</span> hsv_min_sat <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2542</span>            hsv_min_sat = self.hsv_min_sat</div>
<div class="line"><span class="lineno"> 2543</span>        <span class="keywordflow">if</span> hsv_min_val <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2544</span>            hsv_min_val = self.hsv_min_val</div>
<div class="line"><span class="lineno"> 2545</span> </div>
<div class="line"><span class="lineno"> 2546</span>        <span class="comment"># Expects a 2D intensity array scaled between -1 to 1...</span></div>
<div class="line"><span class="lineno"> 2547</span>        intensity = intensity[..., 0]</div>
<div class="line"><span class="lineno"> 2548</span>        intensity = 2 * intensity - 1</div>
<div class="line"><span class="lineno"> 2549</span> </div>
<div class="line"><span class="lineno"> 2550</span>        <span class="comment"># Convert to rgb, then rgb to hsv</span></div>
<div class="line"><span class="lineno"> 2551</span>        hsv = rgb_to_hsv(rgb[:, :, 0:3])</div>
<div class="line"><span class="lineno"> 2552</span>        hue, sat, val = np.moveaxis(hsv, -1, 0)</div>
<div class="line"><span class="lineno"> 2553</span> </div>
<div class="line"><span class="lineno"> 2554</span>        <span class="comment"># Modify hsv values (in place) to simulate illumination.</span></div>
<div class="line"><span class="lineno"> 2555</span>        <span class="comment"># putmask(A, mask, B) &lt;=&gt; A[mask] = B[mask]</span></div>
<div class="line"><span class="lineno"> 2556</span>        np.putmask(sat, (np.abs(sat) &gt; 1.e-10) &amp; (intensity &gt; 0),</div>
<div class="line"><span class="lineno"> 2557</span>                   (1 - intensity) * sat + intensity * hsv_max_sat)</div>
<div class="line"><span class="lineno"> 2558</span>        np.putmask(sat, (np.abs(sat) &gt; 1.e-10) &amp; (intensity &lt; 0),</div>
<div class="line"><span class="lineno"> 2559</span>                   (1 + intensity) * sat - intensity * hsv_min_sat)</div>
<div class="line"><span class="lineno"> 2560</span>        np.putmask(val, intensity &gt; 0,</div>
<div class="line"><span class="lineno"> 2561</span>                   (1 - intensity) * val + intensity * hsv_max_val)</div>
<div class="line"><span class="lineno"> 2562</span>        np.putmask(val, intensity &lt; 0,</div>
<div class="line"><span class="lineno"> 2563</span>                   (1 + intensity) * val - intensity * hsv_min_val)</div>
<div class="line"><span class="lineno"> 2564</span>        np.clip(hsv[:, :, 1:], 0, 1, out=hsv[:, :, 1:])</div>
<div class="line"><span class="lineno"> 2565</span> </div>
<div class="line"><span class="lineno"> 2566</span>        <span class="comment"># Convert modified hsv back to rgb.</span></div>
<div class="line"><span class="lineno"> 2567</span>        <span class="keywordflow">return</span> hsv_to_rgb(hsv)</div>
<div class="line"><span class="lineno"> 2568</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad6d079dcdd092cdf73e4e9c40cfba6d3" name="ad6d079dcdd092cdf73e4e9c40cfba6d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6d079dcdd092cdf73e4e9c40cfba6d3">&#9670;&#160;</a></span>blend_overlay()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.blend_overlay </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rgb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>intensity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Combine an rgb image with an intensity map using "overlay" blending.

Parameters
----------
rgb : ndarray
    An MxNx3 RGB array of floats ranging from 0 to 1 (color image).
intensity : ndarray
    An MxNx1 array of floats ranging from 0 to 1 (grayscale image).

Returns
-------
ndarray
    An MxNx3 RGB array representing the combined images.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2588</span>    <span class="keyword">def </span>blend_overlay(self, rgb, intensity):</div>
<div class="line"><span class="lineno"> 2589</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2590</span><span class="stringliteral">        Combine an rgb image with an intensity map using &quot;overlay&quot; blending.</span></div>
<div class="line"><span class="lineno"> 2591</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2592</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 2593</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 2594</span><span class="stringliteral">        rgb : ndarray</span></div>
<div class="line"><span class="lineno"> 2595</span><span class="stringliteral">            An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</span></div>
<div class="line"><span class="lineno"> 2596</span><span class="stringliteral">        intensity : ndarray</span></div>
<div class="line"><span class="lineno"> 2597</span><span class="stringliteral">            An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</span></div>
<div class="line"><span class="lineno"> 2598</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2599</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 2600</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 2601</span><span class="stringliteral">        ndarray</span></div>
<div class="line"><span class="lineno"> 2602</span><span class="stringliteral">            An MxNx3 RGB array representing the combined images.</span></div>
<div class="line"><span class="lineno"> 2603</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2604</span>        low = 2 * intensity * rgb</div>
<div class="line"><span class="lineno"> 2605</span>        high = 1 - 2 * (1 - intensity) * (1 - rgb)</div>
<div class="line"><span class="lineno"> 2606</span>        <span class="keywordflow">return</span> np.where(rgb &lt;= 0.5, low, high)</div>
<div class="line"><span class="lineno"> 2607</span> </div>
<div class="line"><span class="lineno"> 2608</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4bffa42ef519ee9397b6517feab9536a" name="a4bffa42ef519ee9397b6517feab9536a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bffa42ef519ee9397b6517feab9536a">&#9670;&#160;</a></span>blend_soft_light()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.blend_soft_light </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rgb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>intensity</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Combine an rgb image with an intensity map using "soft light" blending,
using the "pegtop" formula.

Parameters
----------
rgb : ndarray
    An MxNx3 RGB array of floats ranging from 0 to 1 (color image).
intensity : ndarray
    An MxNx1 array of floats ranging from 0 to 1 (grayscale image).

Returns
-------
ndarray
    An MxNx3 RGB array representing the combined images.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2569</span>    <span class="keyword">def </span>blend_soft_light(self, rgb, intensity):</div>
<div class="line"><span class="lineno"> 2570</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2571</span><span class="stringliteral">        Combine an rgb image with an intensity map using &quot;soft light&quot; blending,</span></div>
<div class="line"><span class="lineno"> 2572</span><span class="stringliteral">        using the &quot;pegtop&quot; formula.</span></div>
<div class="line"><span class="lineno"> 2573</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2574</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 2575</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 2576</span><span class="stringliteral">        rgb : ndarray</span></div>
<div class="line"><span class="lineno"> 2577</span><span class="stringliteral">            An MxNx3 RGB array of floats ranging from 0 to 1 (color image).</span></div>
<div class="line"><span class="lineno"> 2578</span><span class="stringliteral">        intensity : ndarray</span></div>
<div class="line"><span class="lineno"> 2579</span><span class="stringliteral">            An MxNx1 array of floats ranging from 0 to 1 (grayscale image).</span></div>
<div class="line"><span class="lineno"> 2580</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2581</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 2582</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 2583</span><span class="stringliteral">        ndarray</span></div>
<div class="line"><span class="lineno"> 2584</span><span class="stringliteral">            An MxNx3 RGB array representing the combined images.</span></div>
<div class="line"><span class="lineno"> 2585</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2586</span>        <span class="keywordflow">return</span> 2 * intensity * rgb + (1 - 2 * intensity) * rgb**2</div>
<div class="line"><span class="lineno"> 2587</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5477d875a765968f7d97473cfa1df357" name="a5477d875a765968f7d97473cfa1df357"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5477d875a765968f7d97473cfa1df357">&#9670;&#160;</a></span>direction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.direction </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The unit vector direction towards the light source.</pre> <div class="fragment"><div class="line"><span class="lineno"> 2238</span>    <span class="keyword">def </span>direction(self):</div>
<div class="line"><span class="lineno"> 2239</span>        <span class="stringliteral">&quot;&quot;&quot;The unit vector direction towards the light source.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2240</span>        <span class="comment"># Azimuth is in degrees clockwise from North. Convert to radians</span></div>
<div class="line"><span class="lineno"> 2241</span>        <span class="comment"># counterclockwise from East (mathematical notation).</span></div>
<div class="line"><span class="lineno"> 2242</span>        az = np.radians(90 - self.azdeg)</div>
<div class="line"><span class="lineno"> 2243</span>        alt = np.radians(self.altdeg)</div>
<div class="line"><span class="lineno"> 2244</span>        <span class="keywordflow">return</span> np.array([</div>
<div class="line"><span class="lineno"> 2245</span>            np.cos(az) * np.cos(alt),</div>
<div class="line"><span class="lineno"> 2246</span>            np.sin(az) * np.cos(alt),</div>
<div class="line"><span class="lineno"> 2247</span>            np.sin(alt)</div>
<div class="line"><span class="lineno"> 2248</span>        ])</div>
<div class="line"><span class="lineno"> 2249</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a409fa9e2d7ccbf23f025640a921ed0b3" name="a409fa9e2d7ccbf23f025640a921ed0b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a409fa9e2d7ccbf23f025640a921ed0b3">&#9670;&#160;</a></span>hillshade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.hillshade </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>elevation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vert_exag</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dx</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dy</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fraction</em> = <code>1.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculate the illumination intensity for a surface using the defined
azimuth and elevation for the light source.

This computes the normal vectors for the surface, and then passes them
on to `shade_normals`

Parameters
----------
elevation : 2D array-like
    The height values used to generate an illumination map
vert_exag : number, optional
    The amount to exaggerate the elevation values by when calculating
    illumination. This can be used either to correct for differences in
    units between the x-y coordinate system and the elevation
    coordinate system (e.g. decimal degrees vs. meters) or to
    exaggerate or de-emphasize topographic effects.
dx : number, optional
    The x-spacing (columns) of the input *elevation* grid.
dy : number, optional
    The y-spacing (rows) of the input *elevation* grid.
fraction : number, optional
    Increases or decreases the contrast of the hillshade.  Values
    greater than one will cause intermediate values to move closer to
    full illumination or shadow (and clipping any values that move
    beyond 0 or 1). Note that this is not visually or mathematically
    the same as vertical exaggeration.

Returns
-------
ndarray
    A 2D array of illumination values between 0-1, where 0 is
    completely in shadow and 1 is completely illuminated.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2250</span>    <span class="keyword">def </span>hillshade(self, elevation, vert_exag=1, dx=1, dy=1, fraction=1.):</div>
<div class="line"><span class="lineno"> 2251</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2252</span><span class="stringliteral">        Calculate the illumination intensity for a surface using the defined</span></div>
<div class="line"><span class="lineno"> 2253</span><span class="stringliteral">        azimuth and elevation for the light source.</span></div>
<div class="line"><span class="lineno"> 2254</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2255</span><span class="stringliteral">        This computes the normal vectors for the surface, and then passes them</span></div>
<div class="line"><span class="lineno"> 2256</span><span class="stringliteral">        on to `shade_normals`</span></div>
<div class="line"><span class="lineno"> 2257</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2258</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 2259</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 2260</span><span class="stringliteral">        elevation : 2D array-like</span></div>
<div class="line"><span class="lineno"> 2261</span><span class="stringliteral">            The height values used to generate an illumination map</span></div>
<div class="line"><span class="lineno"> 2262</span><span class="stringliteral">        vert_exag : number, optional</span></div>
<div class="line"><span class="lineno"> 2263</span><span class="stringliteral">            The amount to exaggerate the elevation values by when calculating</span></div>
<div class="line"><span class="lineno"> 2264</span><span class="stringliteral">            illumination. This can be used either to correct for differences in</span></div>
<div class="line"><span class="lineno"> 2265</span><span class="stringliteral">            units between the x-y coordinate system and the elevation</span></div>
<div class="line"><span class="lineno"> 2266</span><span class="stringliteral">            coordinate system (e.g. decimal degrees vs. meters) or to</span></div>
<div class="line"><span class="lineno"> 2267</span><span class="stringliteral">            exaggerate or de-emphasize topographic effects.</span></div>
<div class="line"><span class="lineno"> 2268</span><span class="stringliteral">        dx : number, optional</span></div>
<div class="line"><span class="lineno"> 2269</span><span class="stringliteral">            The x-spacing (columns) of the input *elevation* grid.</span></div>
<div class="line"><span class="lineno"> 2270</span><span class="stringliteral">        dy : number, optional</span></div>
<div class="line"><span class="lineno"> 2271</span><span class="stringliteral">            The y-spacing (rows) of the input *elevation* grid.</span></div>
<div class="line"><span class="lineno"> 2272</span><span class="stringliteral">        fraction : number, optional</span></div>
<div class="line"><span class="lineno"> 2273</span><span class="stringliteral">            Increases or decreases the contrast of the hillshade.  Values</span></div>
<div class="line"><span class="lineno"> 2274</span><span class="stringliteral">            greater than one will cause intermediate values to move closer to</span></div>
<div class="line"><span class="lineno"> 2275</span><span class="stringliteral">            full illumination or shadow (and clipping any values that move</span></div>
<div class="line"><span class="lineno"> 2276</span><span class="stringliteral">            beyond 0 or 1). Note that this is not visually or mathematically</span></div>
<div class="line"><span class="lineno"> 2277</span><span class="stringliteral">            the same as vertical exaggeration.</span></div>
<div class="line"><span class="lineno"> 2278</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2279</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 2280</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 2281</span><span class="stringliteral">        ndarray</span></div>
<div class="line"><span class="lineno"> 2282</span><span class="stringliteral">            A 2D array of illumination values between 0-1, where 0 is</span></div>
<div class="line"><span class="lineno"> 2283</span><span class="stringliteral">            completely in shadow and 1 is completely illuminated.</span></div>
<div class="line"><span class="lineno"> 2284</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2285</span> </div>
<div class="line"><span class="lineno"> 2286</span>        <span class="comment"># Because most image and raster GIS data has the first row in the array</span></div>
<div class="line"><span class="lineno"> 2287</span>        <span class="comment"># as the &quot;top&quot; of the image, dy is implicitly negative.  This is</span></div>
<div class="line"><span class="lineno"> 2288</span>        <span class="comment"># consistent to what `imshow` assumes, as well.</span></div>
<div class="line"><span class="lineno"> 2289</span>        dy = -dy</div>
<div class="line"><span class="lineno"> 2290</span> </div>
<div class="line"><span class="lineno"> 2291</span>        <span class="comment"># compute the normal vectors from the partial derivatives</span></div>
<div class="line"><span class="lineno"> 2292</span>        e_dy, e_dx = np.gradient(vert_exag * elevation, dy, dx)</div>
<div class="line"><span class="lineno"> 2293</span> </div>
<div class="line"><span class="lineno"> 2294</span>        <span class="comment"># .view is to keep subclasses</span></div>
<div class="line"><span class="lineno"> 2295</span>        normal = np.empty(elevation.shape + (3,)).view(type(elevation))</div>
<div class="line"><span class="lineno"> 2296</span>        normal[..., 0] = -e_dx</div>
<div class="line"><span class="lineno"> 2297</span>        normal[..., 1] = -e_dy</div>
<div class="line"><span class="lineno"> 2298</span>        normal[..., 2] = 1</div>
<div class="line"><span class="lineno"> 2299</span>        normal /= _vector_magnitude(normal)</div>
<div class="line"><span class="lineno"> 2300</span> </div>
<div class="line"><span class="lineno"> 2301</span>        <span class="keywordflow">return</span> self.shade_normals(normal, fraction)</div>
<div class="line"><span class="lineno"> 2302</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ab6a9c7456464c3f64eef13cbcc8206" name="a7ab6a9c7456464c3f64eef13cbcc8206"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ab6a9c7456464c3f64eef13cbcc8206">&#9670;&#160;</a></span>shade()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.shade </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cmap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>norm</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>blend_mode</em> = <code>'overlay'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vmin</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vmax</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vert_exag</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dx</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dy</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fraction</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Combine colormapped data values with an illumination intensity map
(a.k.a.  "hillshade") of the values.

Parameters
----------
data : 2D array-like
    The height values used to generate a shaded map.
cmap : `~matplotlib.colors.Colormap`
    The colormap used to color the *data* array. Note that this must be
    a `~matplotlib.colors.Colormap` instance.  For example, rather than
    passing in ``cmap='gist_earth'``, use
    ``cmap=plt.get_cmap('gist_earth')`` instead.
norm : `~matplotlib.colors.Normalize` instance, optional
    The normalization used to scale values before colormapping. If
    None, the input will be linearly scaled between its min and max.
blend_mode : {'hsv', 'overlay', 'soft'} or callable, optional
    The type of blending used to combine the colormapped data
    values with the illumination intensity.  Default is
    "overlay".  Note that for most topographic surfaces,
    "overlay" or "soft" appear more visually realistic. If a
    user-defined function is supplied, it is expected to
    combine an MxNx3 RGB array of floats (ranging 0 to 1) with
    an MxNx1 hillshade array (also 0 to 1).  (Call signature
    ``func(rgb, illum, **kwargs)``) Additional kwargs supplied
    to this function will be passed on to the *blend_mode*
    function.
vmin : float or None, optional
    The minimum value used in colormapping *data*. If *None* the
    minimum value in *data* is used. If *norm* is specified, then this
    argument will be ignored.
vmax : float or None, optional
    The maximum value used in colormapping *data*. If *None* the
    maximum value in *data* is used. If *norm* is specified, then this
    argument will be ignored.
vert_exag : number, optional
    The amount to exaggerate the elevation values by when calculating
    illumination. This can be used either to correct for differences in
    units between the x-y coordinate system and the elevation
    coordinate system (e.g. decimal degrees vs. meters) or to
    exaggerate or de-emphasize topography.
dx : number, optional
    The x-spacing (columns) of the input *elevation* grid.
dy : number, optional
    The y-spacing (rows) of the input *elevation* grid.
fraction : number, optional
    Increases or decreases the contrast of the hillshade.  Values
    greater than one will cause intermediate values to move closer to
    full illumination or shadow (and clipping any values that move
    beyond 0 or 1). Note that this is not visually or mathematically
    the same as vertical exaggeration.
Additional kwargs are passed on to the *blend_mode* function.

Returns
-------
ndarray
    An MxNx4 array of floats ranging between 0-1.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2350</span>              vmax=<span class="keywordtype">None</span>, vert_exag=1, dx=1, dy=1, fraction=1, **kwargs):</div>
<div class="line"><span class="lineno"> 2351</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2352</span><span class="stringliteral">        Combine colormapped data values with an illumination intensity map</span></div>
<div class="line"><span class="lineno"> 2353</span><span class="stringliteral">        (a.k.a.  &quot;hillshade&quot;) of the values.</span></div>
<div class="line"><span class="lineno"> 2354</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2355</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 2356</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 2357</span><span class="stringliteral">        data : 2D array-like</span></div>
<div class="line"><span class="lineno"> 2358</span><span class="stringliteral">            The height values used to generate a shaded map.</span></div>
<div class="line"><span class="lineno"> 2359</span><span class="stringliteral">        cmap : `~matplotlib.colors.Colormap`</span></div>
<div class="line"><span class="lineno"> 2360</span><span class="stringliteral">            The colormap used to color the *data* array. Note that this must be</span></div>
<div class="line"><span class="lineno"> 2361</span><span class="stringliteral">            a `~matplotlib.colors.Colormap` instance.  For example, rather than</span></div>
<div class="line"><span class="lineno"> 2362</span><span class="stringliteral">            passing in ``cmap=&#39;gist_earth&#39;``, use</span></div>
<div class="line"><span class="lineno"> 2363</span><span class="stringliteral">            ``cmap=plt.get_cmap(&#39;gist_earth&#39;)`` instead.</span></div>
<div class="line"><span class="lineno"> 2364</span><span class="stringliteral">        norm : `~matplotlib.colors.Normalize` instance, optional</span></div>
<div class="line"><span class="lineno"> 2365</span><span class="stringliteral">            The normalization used to scale values before colormapping. If</span></div>
<div class="line"><span class="lineno"> 2366</span><span class="stringliteral">            None, the input will be linearly scaled between its min and max.</span></div>
<div class="line"><span class="lineno"> 2367</span><span class="stringliteral">        blend_mode : {&#39;hsv&#39;, &#39;overlay&#39;, &#39;soft&#39;} or callable, optional</span></div>
<div class="line"><span class="lineno"> 2368</span><span class="stringliteral">            The type of blending used to combine the colormapped data</span></div>
<div class="line"><span class="lineno"> 2369</span><span class="stringliteral">            values with the illumination intensity.  Default is</span></div>
<div class="line"><span class="lineno"> 2370</span><span class="stringliteral">            &quot;overlay&quot;.  Note that for most topographic surfaces,</span></div>
<div class="line"><span class="lineno"> 2371</span><span class="stringliteral">            &quot;overlay&quot; or &quot;soft&quot; appear more visually realistic. If a</span></div>
<div class="line"><span class="lineno"> 2372</span><span class="stringliteral">            user-defined function is supplied, it is expected to</span></div>
<div class="line"><span class="lineno"> 2373</span><span class="stringliteral">            combine an MxNx3 RGB array of floats (ranging 0 to 1) with</span></div>
<div class="line"><span class="lineno"> 2374</span><span class="stringliteral">            an MxNx1 hillshade array (also 0 to 1).  (Call signature</span></div>
<div class="line"><span class="lineno"> 2375</span><span class="stringliteral">            ``func(rgb, illum, **kwargs)``) Additional kwargs supplied</span></div>
<div class="line"><span class="lineno"> 2376</span><span class="stringliteral">            to this function will be passed on to the *blend_mode*</span></div>
<div class="line"><span class="lineno"> 2377</span><span class="stringliteral">            function.</span></div>
<div class="line"><span class="lineno"> 2378</span><span class="stringliteral">        vmin : float or None, optional</span></div>
<div class="line"><span class="lineno"> 2379</span><span class="stringliteral">            The minimum value used in colormapping *data*. If *None* the</span></div>
<div class="line"><span class="lineno"> 2380</span><span class="stringliteral">            minimum value in *data* is used. If *norm* is specified, then this</span></div>
<div class="line"><span class="lineno"> 2381</span><span class="stringliteral">            argument will be ignored.</span></div>
<div class="line"><span class="lineno"> 2382</span><span class="stringliteral">        vmax : float or None, optional</span></div>
<div class="line"><span class="lineno"> 2383</span><span class="stringliteral">            The maximum value used in colormapping *data*. If *None* the</span></div>
<div class="line"><span class="lineno"> 2384</span><span class="stringliteral">            maximum value in *data* is used. If *norm* is specified, then this</span></div>
<div class="line"><span class="lineno"> 2385</span><span class="stringliteral">            argument will be ignored.</span></div>
<div class="line"><span class="lineno"> 2386</span><span class="stringliteral">        vert_exag : number, optional</span></div>
<div class="line"><span class="lineno"> 2387</span><span class="stringliteral">            The amount to exaggerate the elevation values by when calculating</span></div>
<div class="line"><span class="lineno"> 2388</span><span class="stringliteral">            illumination. This can be used either to correct for differences in</span></div>
<div class="line"><span class="lineno"> 2389</span><span class="stringliteral">            units between the x-y coordinate system and the elevation</span></div>
<div class="line"><span class="lineno"> 2390</span><span class="stringliteral">            coordinate system (e.g. decimal degrees vs. meters) or to</span></div>
<div class="line"><span class="lineno"> 2391</span><span class="stringliteral">            exaggerate or de-emphasize topography.</span></div>
<div class="line"><span class="lineno"> 2392</span><span class="stringliteral">        dx : number, optional</span></div>
<div class="line"><span class="lineno"> 2393</span><span class="stringliteral">            The x-spacing (columns) of the input *elevation* grid.</span></div>
<div class="line"><span class="lineno"> 2394</span><span class="stringliteral">        dy : number, optional</span></div>
<div class="line"><span class="lineno"> 2395</span><span class="stringliteral">            The y-spacing (rows) of the input *elevation* grid.</span></div>
<div class="line"><span class="lineno"> 2396</span><span class="stringliteral">        fraction : number, optional</span></div>
<div class="line"><span class="lineno"> 2397</span><span class="stringliteral">            Increases or decreases the contrast of the hillshade.  Values</span></div>
<div class="line"><span class="lineno"> 2398</span><span class="stringliteral">            greater than one will cause intermediate values to move closer to</span></div>
<div class="line"><span class="lineno"> 2399</span><span class="stringliteral">            full illumination or shadow (and clipping any values that move</span></div>
<div class="line"><span class="lineno"> 2400</span><span class="stringliteral">            beyond 0 or 1). Note that this is not visually or mathematically</span></div>
<div class="line"><span class="lineno"> 2401</span><span class="stringliteral">            the same as vertical exaggeration.</span></div>
<div class="line"><span class="lineno"> 2402</span><span class="stringliteral">        Additional kwargs are passed on to the *blend_mode* function.</span></div>
<div class="line"><span class="lineno"> 2403</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2404</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 2405</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 2406</span><span class="stringliteral">        ndarray</span></div>
<div class="line"><span class="lineno"> 2407</span><span class="stringliteral">            An MxNx4 array of floats ranging between 0-1.</span></div>
<div class="line"><span class="lineno"> 2408</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2409</span>        <span class="keywordflow">if</span> vmin <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2410</span>            vmin = data.min()</div>
<div class="line"><span class="lineno"> 2411</span>        <span class="keywordflow">if</span> vmax <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2412</span>            vmax = data.max()</div>
<div class="line"><span class="lineno"> 2413</span>        <span class="keywordflow">if</span> norm <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno"> 2414</span>            norm = Normalize(vmin=vmin, vmax=vmax)</div>
<div class="line"><span class="lineno"> 2415</span> </div>
<div class="line"><span class="lineno"> 2416</span>        rgb0 = cmap(norm(data))</div>
<div class="line"><span class="lineno"> 2417</span>        rgb1 = self.shade_rgb(rgb0, elevation=data, blend_mode=blend_mode,</div>
<div class="line"><span class="lineno"> 2418</span>                              vert_exag=vert_exag, dx=dx, dy=dy,</div>
<div class="line"><span class="lineno"> 2419</span>                              fraction=fraction, **kwargs)</div>
<div class="line"><span class="lineno"> 2420</span>        <span class="comment"># Don&#39;t overwrite the alpha channel, if present.</span></div>
<div class="line"><span class="lineno"> 2421</span>        rgb0[..., :3] = rgb1[..., :3]</div>
<div class="line"><span class="lineno"> 2422</span>        <span class="keywordflow">return</span> rgb0</div>
<div class="line"><span class="lineno"> 2423</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a797b225bcf49dc8bb3ea640d8b09d049" name="a797b225bcf49dc8bb3ea640d8b09d049"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a797b225bcf49dc8bb3ea640d8b09d049">&#9670;&#160;</a></span>shade_normals()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.shade_normals </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>normals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fraction</em> = <code>1.</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Calculate the illumination intensity for the normal vectors of a
surface using the defined azimuth and elevation for the light source.

Imagine an artificial sun placed at infinity in some azimuth and
elevation position illuminating our surface. The parts of the surface
that slope toward the sun should brighten while those sides facing away
should become darker.

Parameters
----------
fraction : number, optional
    Increases or decreases the contrast of the hillshade.  Values
    greater than one will cause intermediate values to move closer to
    full illumination or shadow (and clipping any values that move
    beyond 0 or 1). Note that this is not visually or mathematically
    the same as vertical exaggeration.

Returns
-------
ndarray
    A 2D array of illumination values between 0-1, where 0 is
    completely in shadow and 1 is completely illuminated.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2303</span>    <span class="keyword">def </span>shade_normals(self, normals, fraction=1.):</div>
<div class="line"><span class="lineno"> 2304</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2305</span><span class="stringliteral">        Calculate the illumination intensity for the normal vectors of a</span></div>
<div class="line"><span class="lineno"> 2306</span><span class="stringliteral">        surface using the defined azimuth and elevation for the light source.</span></div>
<div class="line"><span class="lineno"> 2307</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2308</span><span class="stringliteral">        Imagine an artificial sun placed at infinity in some azimuth and</span></div>
<div class="line"><span class="lineno"> 2309</span><span class="stringliteral">        elevation position illuminating our surface. The parts of the surface</span></div>
<div class="line"><span class="lineno"> 2310</span><span class="stringliteral">        that slope toward the sun should brighten while those sides facing away</span></div>
<div class="line"><span class="lineno"> 2311</span><span class="stringliteral">        should become darker.</span></div>
<div class="line"><span class="lineno"> 2312</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2313</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 2314</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 2315</span><span class="stringliteral">        fraction : number, optional</span></div>
<div class="line"><span class="lineno"> 2316</span><span class="stringliteral">            Increases or decreases the contrast of the hillshade.  Values</span></div>
<div class="line"><span class="lineno"> 2317</span><span class="stringliteral">            greater than one will cause intermediate values to move closer to</span></div>
<div class="line"><span class="lineno"> 2318</span><span class="stringliteral">            full illumination or shadow (and clipping any values that move</span></div>
<div class="line"><span class="lineno"> 2319</span><span class="stringliteral">            beyond 0 or 1). Note that this is not visually or mathematically</span></div>
<div class="line"><span class="lineno"> 2320</span><span class="stringliteral">            the same as vertical exaggeration.</span></div>
<div class="line"><span class="lineno"> 2321</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2322</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 2323</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 2324</span><span class="stringliteral">        ndarray</span></div>
<div class="line"><span class="lineno"> 2325</span><span class="stringliteral">            A 2D array of illumination values between 0-1, where 0 is</span></div>
<div class="line"><span class="lineno"> 2326</span><span class="stringliteral">            completely in shadow and 1 is completely illuminated.</span></div>
<div class="line"><span class="lineno"> 2327</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2328</span> </div>
<div class="line"><span class="lineno"> 2329</span>        intensity = normals.dot(self.direction)</div>
<div class="line"><span class="lineno"> 2330</span> </div>
<div class="line"><span class="lineno"> 2331</span>        <span class="comment"># Apply contrast stretch</span></div>
<div class="line"><span class="lineno"> 2332</span>        imin, imax = intensity.min(), intensity.max()</div>
<div class="line"><span class="lineno"> 2333</span>        intensity *= fraction</div>
<div class="line"><span class="lineno"> 2334</span> </div>
<div class="line"><span class="lineno"> 2335</span>        <span class="comment"># Rescale to 0-1, keeping range before contrast stretch</span></div>
<div class="line"><span class="lineno"> 2336</span>        <span class="comment"># If constant slope, keep relative scaling (i.e. flat should be 0.5,</span></div>
<div class="line"><span class="lineno"> 2337</span>        <span class="comment"># fully occluded 0, etc.)</span></div>
<div class="line"><span class="lineno"> 2338</span>        <span class="keywordflow">if</span> (imax - imin) &gt; 1e-6:</div>
<div class="line"><span class="lineno"> 2339</span>            <span class="comment"># Strictly speaking, this is incorrect. Negative values should be</span></div>
<div class="line"><span class="lineno"> 2340</span>            <span class="comment"># clipped to 0 because they&#39;re fully occluded. However, rescaling</span></div>
<div class="line"><span class="lineno"> 2341</span>            <span class="comment"># in this manner is consistent with the previous implementation and</span></div>
<div class="line"><span class="lineno"> 2342</span>            <span class="comment"># visually appears better than a &quot;hard&quot; clip.</span></div>
<div class="line"><span class="lineno"> 2343</span>            intensity -= imin</div>
<div class="line"><span class="lineno"> 2344</span>            intensity /= (imax - imin)</div>
<div class="line"><span class="lineno"> 2345</span>        intensity = np.clip(intensity, 0, 1)</div>
<div class="line"><span class="lineno"> 2346</span> </div>
<div class="line"><span class="lineno"> 2347</span>        <span class="keywordflow">return</span> intensity</div>
<div class="line"><span class="lineno"> 2348</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a4c133ae931a6b45991348658d7e6f64c" name="a4c133ae931a6b45991348658d7e6f64c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c133ae931a6b45991348658d7e6f64c">&#9670;&#160;</a></span>shade_rgb()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.shade_rgb </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rgb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>elevation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fraction</em> = <code>1.</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>blend_mode</em> = <code>'hsv'</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>vert_exag</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dx</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dy</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Use this light source to adjust the colors of the *rgb* input array to
give the impression of a shaded relief map with the given *elevation*.

Parameters
----------
rgb : array-like
    An (M, N, 3) RGB array, assumed to be in the range of 0 to 1.
elevation : array-like
    An (M, N) array of the height values used to generate a shaded map.
fraction : number
    Increases or decreases the contrast of the hillshade.  Values
    greater than one will cause intermediate values to move closer to
    full illumination or shadow (and clipping any values that move
    beyond 0 or 1). Note that this is not visually or mathematically
    the same as vertical exaggeration.
blend_mode : {'hsv', 'overlay', 'soft'} or callable, optional
    The type of blending used to combine the colormapped data values
    with the illumination intensity.  For backwards compatibility, this
    defaults to "hsv". Note that for most topographic surfaces,
    "overlay" or "soft" appear more visually realistic. If a
    user-defined function is supplied, it is expected to combine an
    MxNx3 RGB array of floats (ranging 0 to 1) with an MxNx1 hillshade
    array (also 0 to 1).  (Call signature
    ``func(rgb, illum, **kwargs)``)
    Additional kwargs supplied to this function will be passed on to
    the *blend_mode* function.
vert_exag : number, optional
    The amount to exaggerate the elevation values by when calculating
    illumination. This can be used either to correct for differences in
    units between the x-y coordinate system and the elevation
    coordinate system (e.g. decimal degrees vs. meters) or to
    exaggerate or de-emphasize topography.
dx : number, optional
    The x-spacing (columns) of the input *elevation* grid.
dy : number, optional
    The y-spacing (rows) of the input *elevation* grid.
Additional kwargs are passed on to the *blend_mode* function.

Returns
-------
ndarray
    An (m, n, 3) array of floats ranging between 0-1.
</pre> <div class="fragment"><div class="line"><span class="lineno"> 2425</span>                  vert_exag=1, dx=1, dy=1, **kwargs):</div>
<div class="line"><span class="lineno"> 2426</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2427</span><span class="stringliteral">        Use this light source to adjust the colors of the *rgb* input array to</span></div>
<div class="line"><span class="lineno"> 2428</span><span class="stringliteral">        give the impression of a shaded relief map with the given *elevation*.</span></div>
<div class="line"><span class="lineno"> 2429</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2430</span><span class="stringliteral">        Parameters</span></div>
<div class="line"><span class="lineno"> 2431</span><span class="stringliteral">        ----------</span></div>
<div class="line"><span class="lineno"> 2432</span><span class="stringliteral">        rgb : array-like</span></div>
<div class="line"><span class="lineno"> 2433</span><span class="stringliteral">            An (M, N, 3) RGB array, assumed to be in the range of 0 to 1.</span></div>
<div class="line"><span class="lineno"> 2434</span><span class="stringliteral">        elevation : array-like</span></div>
<div class="line"><span class="lineno"> 2435</span><span class="stringliteral">            An (M, N) array of the height values used to generate a shaded map.</span></div>
<div class="line"><span class="lineno"> 2436</span><span class="stringliteral">        fraction : number</span></div>
<div class="line"><span class="lineno"> 2437</span><span class="stringliteral">            Increases or decreases the contrast of the hillshade.  Values</span></div>
<div class="line"><span class="lineno"> 2438</span><span class="stringliteral">            greater than one will cause intermediate values to move closer to</span></div>
<div class="line"><span class="lineno"> 2439</span><span class="stringliteral">            full illumination or shadow (and clipping any values that move</span></div>
<div class="line"><span class="lineno"> 2440</span><span class="stringliteral">            beyond 0 or 1). Note that this is not visually or mathematically</span></div>
<div class="line"><span class="lineno"> 2441</span><span class="stringliteral">            the same as vertical exaggeration.</span></div>
<div class="line"><span class="lineno"> 2442</span><span class="stringliteral">        blend_mode : {&#39;hsv&#39;, &#39;overlay&#39;, &#39;soft&#39;} or callable, optional</span></div>
<div class="line"><span class="lineno"> 2443</span><span class="stringliteral">            The type of blending used to combine the colormapped data values</span></div>
<div class="line"><span class="lineno"> 2444</span><span class="stringliteral">            with the illumination intensity.  For backwards compatibility, this</span></div>
<div class="line"><span class="lineno"> 2445</span><span class="stringliteral">            defaults to &quot;hsv&quot;. Note that for most topographic surfaces,</span></div>
<div class="line"><span class="lineno"> 2446</span><span class="stringliteral">            &quot;overlay&quot; or &quot;soft&quot; appear more visually realistic. If a</span></div>
<div class="line"><span class="lineno"> 2447</span><span class="stringliteral">            user-defined function is supplied, it is expected to combine an</span></div>
<div class="line"><span class="lineno"> 2448</span><span class="stringliteral">            MxNx3 RGB array of floats (ranging 0 to 1) with an MxNx1 hillshade</span></div>
<div class="line"><span class="lineno"> 2449</span><span class="stringliteral">            array (also 0 to 1).  (Call signature</span></div>
<div class="line"><span class="lineno"> 2450</span><span class="stringliteral">            ``func(rgb, illum, **kwargs)``)</span></div>
<div class="line"><span class="lineno"> 2451</span><span class="stringliteral">            Additional kwargs supplied to this function will be passed on to</span></div>
<div class="line"><span class="lineno"> 2452</span><span class="stringliteral">            the *blend_mode* function.</span></div>
<div class="line"><span class="lineno"> 2453</span><span class="stringliteral">        vert_exag : number, optional</span></div>
<div class="line"><span class="lineno"> 2454</span><span class="stringliteral">            The amount to exaggerate the elevation values by when calculating</span></div>
<div class="line"><span class="lineno"> 2455</span><span class="stringliteral">            illumination. This can be used either to correct for differences in</span></div>
<div class="line"><span class="lineno"> 2456</span><span class="stringliteral">            units between the x-y coordinate system and the elevation</span></div>
<div class="line"><span class="lineno"> 2457</span><span class="stringliteral">            coordinate system (e.g. decimal degrees vs. meters) or to</span></div>
<div class="line"><span class="lineno"> 2458</span><span class="stringliteral">            exaggerate or de-emphasize topography.</span></div>
<div class="line"><span class="lineno"> 2459</span><span class="stringliteral">        dx : number, optional</span></div>
<div class="line"><span class="lineno"> 2460</span><span class="stringliteral">            The x-spacing (columns) of the input *elevation* grid.</span></div>
<div class="line"><span class="lineno"> 2461</span><span class="stringliteral">        dy : number, optional</span></div>
<div class="line"><span class="lineno"> 2462</span><span class="stringliteral">            The y-spacing (rows) of the input *elevation* grid.</span></div>
<div class="line"><span class="lineno"> 2463</span><span class="stringliteral">        Additional kwargs are passed on to the *blend_mode* function.</span></div>
<div class="line"><span class="lineno"> 2464</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 2465</span><span class="stringliteral">        Returns</span></div>
<div class="line"><span class="lineno"> 2466</span><span class="stringliteral">        -------</span></div>
<div class="line"><span class="lineno"> 2467</span><span class="stringliteral">        ndarray</span></div>
<div class="line"><span class="lineno"> 2468</span><span class="stringliteral">            An (m, n, 3) array of floats ranging between 0-1.</span></div>
<div class="line"><span class="lineno"> 2469</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 2470</span>        <span class="comment"># Calculate the &quot;hillshade&quot; intensity.</span></div>
<div class="line"><span class="lineno"> 2471</span>        intensity = self.hillshade(elevation, vert_exag, dx, dy, fraction)</div>
<div class="line"><span class="lineno"> 2472</span>        intensity = intensity[..., np.newaxis]</div>
<div class="line"><span class="lineno"> 2473</span> </div>
<div class="line"><span class="lineno"> 2474</span>        <span class="comment"># Blend the hillshade and rgb data using the specified mode</span></div>
<div class="line"><span class="lineno"> 2475</span>        lookup = {</div>
<div class="line"><span class="lineno"> 2476</span>                <span class="stringliteral">&#39;hsv&#39;</span>: self.blend_hsv,</div>
<div class="line"><span class="lineno"> 2477</span>                <span class="stringliteral">&#39;soft&#39;</span>: self.blend_soft_light,</div>
<div class="line"><span class="lineno"> 2478</span>                <span class="stringliteral">&#39;overlay&#39;</span>: self.blend_overlay,</div>
<div class="line"><span class="lineno"> 2479</span>                }</div>
<div class="line"><span class="lineno"> 2480</span>        <span class="keywordflow">if</span> blend_mode <span class="keywordflow">in</span> lookup:</div>
<div class="line"><span class="lineno"> 2481</span>            blend = lookup[blend_mode](rgb, intensity, **kwargs)</div>
<div class="line"><span class="lineno"> 2482</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 2483</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno"> 2484</span>                blend = blend_mode(rgb, intensity, **kwargs)</div>
<div class="line"><span class="lineno"> 2485</span>            <span class="keywordflow">except</span> TypeError <span class="keyword">as</span> err:</div>
<div class="line"><span class="lineno"> 2486</span>                <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;&quot;blend_mode&quot; must be callable or one of {}&#39;</span></div>
<div class="line"><span class="lineno"> 2487</span>                                 .format(lookup.keys)) <span class="keyword">from</span> err</div>
<div class="line"><span class="lineno"> 2488</span> </div>
<div class="line"><span class="lineno"> 2489</span>        <span class="comment"># Only apply result where hillshade intensity isn&#39;t masked</span></div>
<div class="line"><span class="lineno"> 2490</span>        <span class="keywordflow">if</span> np.ma.is_masked(intensity):</div>
<div class="line"><span class="lineno"> 2491</span>            mask = intensity.mask[..., 0]</div>
<div class="line"><span class="lineno"> 2492</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(3):</div>
<div class="line"><span class="lineno"> 2493</span>                blend[..., i][mask] = rgb[..., i][mask]</div>
<div class="line"><span class="lineno"> 2494</span> </div>
<div class="line"><span class="lineno"> 2495</span>        <span class="keywordflow">return</span> blend</div>
<div class="line"><span class="lineno"> 2496</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2777dfac6339c6a79f36de3caa2f81de" name="a2777dfac6339c6a79f36de3caa2f81de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2777dfac6339c6a79f36de3caa2f81de">&#9670;&#160;</a></span>altdeg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.altdeg</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a882cb0069579a96b1cbee030da7e6dcf" name="a882cb0069579a96b1cbee030da7e6dcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a882cb0069579a96b1cbee030da7e6dcf">&#9670;&#160;</a></span>azdeg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.azdeg</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2fd265465f563398a0a73ce3d0325840" name="a2fd265465f563398a0a73ce3d0325840"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd265465f563398a0a73ce3d0325840">&#9670;&#160;</a></span>blend_hsv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.blend_hsv</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a3058ec8f0d31cf5476efa895b9fe17" name="a9a3058ec8f0d31cf5476efa895b9fe17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a3058ec8f0d31cf5476efa895b9fe17">&#9670;&#160;</a></span>blend_overlay</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.blend_overlay</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af472423c204452167c3e6f5606ed4ff3" name="af472423c204452167c3e6f5606ed4ff3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af472423c204452167c3e6f5606ed4ff3">&#9670;&#160;</a></span>blend_soft_light</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.blend_soft_light</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af495af78687fda8abd0c4a94b9ebb7ac" name="af495af78687fda8abd0c4a94b9ebb7ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af495af78687fda8abd0c4a94b9ebb7ac">&#9670;&#160;</a></span>hsv_max_sat</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.hsv_max_sat</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a5471de9515029d4224f86972aa459e81" name="a5471de9515029d4224f86972aa459e81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5471de9515029d4224f86972aa459e81">&#9670;&#160;</a></span>hsv_max_val</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.hsv_max_val</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af935fb94e31a3e49d91816818fcc078f" name="af935fb94e31a3e49d91816818fcc078f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af935fb94e31a3e49d91816818fcc078f">&#9670;&#160;</a></span>hsv_min_sat</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.hsv_min_sat</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa1fa26d6651f24ebd79c5faa0ab204b0" name="aa1fa26d6651f24ebd79c5faa0ab204b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1fa26d6651f24ebd79c5faa0ab204b0">&#9670;&#160;</a></span>hsv_min_val</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">matplotlib.colors.LightSource.hsv_min_val</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/rafael/Documents/GitHub/PUC-GCES-PY/Tp-GCS-Rafael-Augusto/venv/lib/python3.9/site-packages/matplotlib/<a class="el" href="colors_8py.html">colors.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
